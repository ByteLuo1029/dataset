Requested labels: ubuntu-latest
Job defined at: TryGhost/Ghost/.github/workflows/ci.yml@refs/pull/22881/merge
Waiting for a runner to pick up this job...
Job is waiting for a hosted runner to come online.
Job is about to start running on the hosted runner: GitHub Actions 6 (hosted)
Current runner version: '2.323.0'
##[group]Operating System
Ubuntu
24.04.2
LTS
##[endgroup]
##[group]Runner Image
Image: ubuntu-24.04
Version: 20250406.1.0
Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250406.1/images/ubuntu/Ubuntu2404-Readme.md
Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250406.1
##[endgroup]
##[group]Runner Image Provisioner
2.0.422.1
##[endgroup]
##[group]GITHUB_TOKEN Permissions
Actions: write
Attestations: <:*:>
Checks: <:*:>
Contents: <:*:>
Deployments: <:*:>
Discussions: <:*:>
Issues: <:*:>
Metadata: read
Models: read
Packages: <:*:>
Pages: <:*:>
PullRequests: <:*:>
RepositoryProjects: <:*:>
SecurityEvents: <:*:>
Statuses: <:*:>
##[endgroup]
Secret source: <:*:>
Prepare workflow directory
Prepare all required actions
Getting action download info
##[group]Download immutable action package <:*:>
Version: 4.2.2
Digest: sha256:<:SEQ:>
Source commit SHA: <:SEQ:>
##[endgroup]
##[group]Download immutable action package <:*:>
Version: 4.4.0
Digest: sha256:<:SEQ:>
Source commit SHA: <:SEQ:>
##[endgroup]
Download action repository <:*:> (SHA:<:SEQ:>)
##[group]Download immutable action package <:*:>
Version: 4.6.2
Digest: sha256:<:SEQ:>
Source commit SHA: <:SEQ:>
##[endgroup]
Download action repository <:*:> (SHA:<:SEQ:>)
Complete job name: Unit tests (Node 20.11.1)
##[group]Run <:*:>
with:
fetch-depth: <:NUM:>
repository: <:*:>
token: ***
ssh-strict: true
ssh-user: git
persist-credentials: <:*:>
clean: true
sparse-checkout-cone-mode: true
fetch-tags: false
show-progress: true
lfs: false
submodules: <:*:>
set-safe-directory: true
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
##[endgroup]
Syncing repository: <:*:>
##[group]Getting Git version info
Working directory is <:*:>
[command]/usr/bin/git version
git version <:NUM:>.<:NUM:>.<:NUM:>
##[endgroup]
Temporarily overriding HOME='/home/runner/work/_temp/a596011d-62e2-4cfc-85b0-40b597a1acc3' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
[command]/usr/bin/git config --global --add safe.directory /home/runner/work/Ghost/Ghost
Deleting the contents of <:*:>
##[group]Initializing the repository
[command]/usr/bin/git init <:*:>
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: git config --global init.defaultBranch <name>
hint:
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint:
hint: git branch -m <name>
Initialized empty Git repository in <:*:>
[command]/usr/bin/git remote add origin <:*:>
##[endgroup]
##[group]Disabling automatic garbage collection
[command]/usr/bin/git config --local gc.auto 0
##[endgroup]
##[group]Setting up auth
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
[command]/usr/bin/git config <:*:> http.https://github.com/.extraheader AUTHORIZATION: basic ***
##[endgroup]
##[group]Fetching the repository
[command]/usr/bin/git -c protocol.version=<:NUM:> fetch <:*:> <:*:> <:*:> <:*:> <:*:> <:*:>
From <:*:>
* [new ref] <:SEQ:>-> <:*:>
##[endgroup]
##[group]Determining the checkout info
##[endgroup]
[command]/usr/bin/git sparse-checkout disable
[command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
##[group]Checking out the ref
[command]/usr/bin/git checkout --progress --force refs/remotes/pull/<:NUM:>/merge
Note: switching to 'refs/remotes/pull/<:NUM:>/merge'.
2025-04-15T04:30:32.1409714Z
You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by switching back to a branch.
2025-04-15T04:30:32.1412092Z
If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:
2025-04-15T04:30:32.1413015Z
git switch -c <new-branch-name>
2025-04-15T04:30:32.1413300Z
Or undo this operation with:
2025-04-15T04:30:32.1413569Z
git switch -
2025-04-15T04:30:32.1413814Z
Turn off this advice by setting config variable advice.detachedHead to false
2025-04-15T04:30:32.1414758Z
HEAD is now at <:*:> Merge <:SEQ:> into <:SEQ:>
##[endgroup]
[command]/usr/bin/git log <:NUM:> <:*:>
<:SEQ:>
##[group]Run <:*:>
with:
node-version: 20.11.1
always-auth: false
check-latest: false
token: ***
env:
FORCE_COLOR: 0
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
##[endgroup]
Attempting to download 20.11.1...
Acquiring 20.11.1 - x64 from https://github.com/actions/node-versions/releases/download/20.11.1-7910924545/node-20.11.1-linux-x64.tar.gz
Extracting ...
[command]/usr/bin/tar xz --strip 1 --warning=no-unknown-keyword --overwrite -C /home/runner/work/_temp/13c4523b-9c63-432f-baa7-70a38e60c4f7 -f /home/runner/work/_temp/9aa539f3-1527-4cae-8a41-f2fcee249d63
Adding to the cache ...
##[group]Environment details
node: v20.11.1
npm: 10.2.4
yarn: 1.22.22
##[endgroup]
Prepare all required actions
Getting action download info
##[group]Download immutable action package <:*:>
Version: 4.2.3
Digest: sha256:<:SEQ:>
Source commit SHA: <:SEQ:>
##[endgroup]
##[group]Download immutable action package <:*:>
Version: 6.4.1
Digest: sha256:<:SEQ:>
Source commit SHA: <:SEQ:>
##[endgroup]
##[group]Run <:*:>
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
DEPENDENCY_CACHE_KEY: dep-cache-46d3612baa49315b21e584047a36e462ad8fb4a9efc89c11fd35d8c48fd71c98-c8f42f52035033f81069a80122b5fe3ea07b7639
##[endgroup]
##[group]Run <:*:>
with:
path: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
key: dep-cache-46d3612baa49315b21e584047a36e462ad8fb4a9efc89c11fd35d8c48fd71c98-c8f42f52035033f81069a80122b5fe3ea07b7639
enableCrossOsArchive: false
fail-on-cache-miss: false
lookup-only: false
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
DEPENDENCY_CACHE_KEY: dep-cache-46d3612baa49315b21e584047a36e462ad8fb4a9efc89c11fd35d8c48fd71c98-c8f42f52035033f81069a80122b5fe3ea07b7639
##[endgroup]
Cache hit for: dep-cache-46d3612baa49315b21e584047a36e462ad8fb4a9efc89c11fd35d8c48fd71c98-c8f42f52035033f81069a80122b5fe3ea07b7639
Received 4194304 of 247028079 (1.7%), 4.0 MBs/sec
Received 134217728 of 247028079 (54.3%), 64.0 MBs/sec
Received 247028079 of 247028079 (100.0%), 85.2 MBs/sec
Cache Size: ~236 MB (247028079 B)
[command]/usr/bin/tar -xf /home/runner/work/_temp/0a342240-fd51-49c2-beb9-2abdc0744775/cache.tzst -P -C /home/runner/work/Ghost/Ghost --use-compress-program unzstd
Cache restored successfully
Cache restored from key: dep-cache-46d3612baa49315b21e584047a36e462ad8fb4a9efc89c11fd35d8c48fd71c98-c8f42f52035033f81069a80122b5fe3ea07b7639
##[group]Run <:*:>
with:
path: <:*:>
key: c8f42f52035033f81069a80122b5fe3ea07b7639
enableCrossOsArchive: false
fail-on-cache-miss: false
lookup-only: false
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
DEPENDENCY_CACHE_KEY: dep-cache-46d3612baa49315b21e584047a36e462ad8fb4a9efc89c11fd35d8c48fd71c98-c8f42f52035033f81069a80122b5fe3ea07b7639
##[endgroup]
Cache hit for: c8f42f52035033f81069a80122b5fe3ea07b7639
Received 60480 of 60480 (100.0%), 0.3 MBs/sec
Cache Size: ~0 MB (60480 B)
[command]/usr/bin/tar -xf /home/runner/work/_temp/9294d7f5-6a58-49cb-8455-5565633a4845/cache.tzst -P -C /home/runner/work/Ghost/Ghost --use-compress-program unzstd
Cache restored successfully
Cache restored from key: c8f42f52035033f81069a80122b5fe3ea07b7639
##[group]Run <:*:>
with:
timezoneLinux: America/New_York
timezoneMacos: GMT
timezoneWindows: UTC
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
##[endgroup]
Configuring for platform linux
##[group]Run yarn nx run-many -t build --exclude=ghost-admin
[36;1myarn nx run-many -t build --exclude=ghost-admin[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
##[endgroup]
[2K[1G[1myarn run v1.22.22[22m
[2K[1G[2m$ /home/runner/work/Ghost/Ghost/node_modules/.bin/nx run-many -t build --exclude=ghost-admin[22m
2025-04-15T04:30:50.5456995Z
NX   Running target build for 19 projects:
2025-04-15T04:30:50.5459405Z
- @tryghost/admin-x-design-system
- @tryghost/admin-x-activitypub
- @tryghost/prometheus-metrics
- @tryghost/admin-x-framework
- @tryghost/admin-x-settings
- @tryghost/announcement-bar
- @tryghost/email-addresses
- @tryghost/post-revisions
- @tryghost/custom-fonts
- @tryghost/admin-x-demo
- @tryghost/post-events
- @tryghost/comments-ui
- @tryghost/signup-form
- @tryghost/sodo-search
- @tryghost/donations
- @tryghost/portal
- @tryghost/posts
- @tryghost/shade
- @tryghost/stats
2025-04-15T04:30:50.5474068Z
2025-04-15T04:30:50.5474078Z
2025-04-15T04:30:54.3185334Z
##[group]âœ… > nx run @tryghost/post-events:build
2025-04-15T04:30:54.3194889Z
[2K[1G[2m$ yarn build:ts[22m
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/donations:build
2025-04-15T04:30:58.6024492Z
[2K[1G[2m$ yarn build:ts[22m
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/post-revisions:build
2025-04-15T04:31:02.6667703Z
[2K[1G[2m$ yarn build:ts[22m
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/shade:build
2025-04-15T04:31:06.3764118Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
src/components/ui/sheet.tsx (1:0) Error when using sourcemap for reporting an error: Can't resolve original location of error.
[32mâœ“[39m 140 modules transformed.
rendering chunks...
[2mes/[22m[36mcomponents/layout/page.js        [39m[1m[2m  0.54 kB[22m[1m[22m[2m â”‚ map:   0.87 kB[22m
[2mes/[22m[36mhooks/use-mobile.js              [39m[1m[2m  0.61 kB[22m[1m[22m[2m â”‚ map:   1.12 kB[22m
[2mes/[22m[36mShadeApp.js                      [39m[1m[2m  0.61 kB[22m[1m[22m[2m â”‚ map:   1.12 kB[22m
[2mes/[22m[36mcomponents/layout/error-page.js  [39m[1m[2m  0.63 kB[22m[1m[22m[2m â”‚ map:   1.01 kB[22m
[2mes/[22m[36mcomponents/ui/separator.js       [39m[1m[2m  0.78 kB[22m[1m[22m[2m â”‚ map:   1.30 kB[22m
[2mes/[22m[36mcomponents/ui/input.js           [39m[1m[2m  0.90 kB[22m[1m[22m[2m â”‚ map:   1.24 kB[22m
[2mes/[22m[36mcomponents/ui/badge.js           [39m[1m[2m  1.07 kB[22m[1m[22m[2m â”‚ map:   1.77 kB[22m
[2mes/[22m[36mcomponents/ui/avatar.js          [39m[1m[2m  1.27 kB[22m[1m[22m[2m â”‚ map:   2.29 kB[22m
[2mes/[22m[36mproviders/ShadeProvider.js       [39m[1m[2m  1.28 kB[22m[1m[22m[2m â”‚ map:   2.48 kB[22m
[2mes/[22m[36mcomponents/ui/right-sidebar.js   [39m[1m[2m  1.29 kB[22m[1m[22m[2m â”‚ map:   2.15 kB[22m
[2mes/[22m[36mcomponents/ui/tooltip.js         [39m[1m[2m  1.30 kB[22m[1m[22m[2m â”‚ map:   1.90 kB[22m
[2mes/[22m[36mcomponents/ui/popover.js         [39m[1m[2m  1.32 kB[22m[1m[22m[2m â”‚ map:   1.83 kB[22m
[2mes/[22m[36mhooks/use-global-dirty-state.js  [39m[1m[2m  1.37 kB[22m[1m[22m[2m â”‚ map:   2.84 kB[22m
[2mes/[22m[36mcomponents/layout/heading.js     [39m[1m[2m  1.40 kB[22m[1m[22m[2m â”‚ map:   2.56 kB[22m
[2mes/[22m[36mcomponents/ui/skeleton.js        [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   2.82 kB[22m
[2mes/[22m[36mcomponents/ui/button.js          [39m[1m[2m  1.85 kB[22m[1m[22m[2m â”‚ map:   2.86 kB[22m
[2mes/[22m[36mcomponents/ui/breadcrumb.js      [39m[1m[2m  2.71 kB[22m[1m[22m[2m â”‚ map:   4.69 kB[22m
[2mes/[22m[36mcomponents/ui/table.js           [39m[1m[2m  2.82 kB[22m[1m[22m[2m â”‚ map:   5.05 kB[22m
[2mes/[22m[36mlib/utils.js                     [39m[1m[2m  2.85 kB[22m[1m[22m[2m â”‚ map:   6.63 kB[22m
[2mes/[22m[36mcomponents/ui/dialog.js          [39m[1m[2m  3.16 kB[22m[1m[22m[2m â”‚ map:   5.39 kB[22m
[2mes/[22m[36mcomponents/ui/card.js            [39m[1m[2m  3.18 kB[22m[1m[22m[2m â”‚ map:   6.18 kB[22m
[2mes/[22m[36mcomponents/ui/tabs.js            [39m[1m[2m  3.79 kB[22m[1m[22m[2m â”‚ map:   6.59 kB[22m
[2mes/[22m[36mcomponents/ui/sheet.js           [39m[1m[2m  3.98 kB[22m[1m[22m[2m â”‚ map:   6.56 kB[22m
[2mes/[22m[36mcomponents/ui/alert-dialog.js    [39m[1m[2m  4.13 kB[22m[1m[22m[2m â”‚ map:   7.00 kB[22m
[2mes/[22m[36mcomponents/ui/select.js          [39m[1m[2m  5.26 kB[22m[1m[22m[2m â”‚ map:   8.82 kB[22m
[2mes/[22m[36mcomponents/ui/dropdown-menu.js   [39m[1m[2m  6.64 kB[22m[1m[22m[2m â”‚ map:  11.03 kB[22m
[2mes/[22m[36mcomponents/ui/chart.js           [39m[1m[2m  9.55 kB[22m[1m[22m[2m â”‚ map:  18.12 kB[22m
[2mes/[22m[36mindex.js                         [39m[1m[2m 12.48 kB[22m[1m[22m[2m â”‚ map:   7.83 kB[22m
[2mes/[22m[36mcomponents/ui/sidebar.js         [39m[1m[2m 21.77 kB[22m[1m[22m[2m â”‚ map:  37.43 kB[22m
[2mes/[22m[36mcomponents/ui/icon.js            [39m[1m[2m245.67 kB[22m[1m[22m[2m â”‚ map: 163.97 kB[22m
[32mâœ“ built in 4.66s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-design-system:build
2025-04-15T04:31:07.4848710Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 197 modules transformed.
rendering chunks...
[2mes/[22m[36mglobal/Icon.js                        [39m[1m[2m  0.20 kB[22m[1m[22m[2m â”‚ map:   0.09 kB[22m
[2mes/[22m[36mBoilerplate.js                        [39m[1m[2m  0.23 kB[22m[1m[22m[2m â”‚ map:   0.45 kB[22m
[2mes/[22m[36mglobal/chrome/DesktopChrome.js        [39m[1m[2m  0.40 kB[22m[1m[22m[2m â”‚ map:   0.81 kB[22m
[2mes/[22m[36mglobal/Separator.js                   [39m[1m[2m  0.45 kB[22m[1m[22m[2m â”‚ map:   0.81 kB[22m
[2mes/[22m[36mglobal/form/CodeEditor.js             [39m[1m[2m  0.45 kB[22m[1m[22m[2m â”‚ map:   1.05 kB[22m
[2mes/[22m[36mglobal/chrome/MobileChrome.js         [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   0.88 kB[22m
[2mes/[22m[36mutils/debounce.js                     [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   1.13 kB[22m
[2mes/[22m[36mglobal/Link.js                        [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   1.14 kB[22m
[2mes/[22m[36mglobal/layout/GlobalActions.js        [39m[1m[2m  0.49 kB[22m[1m[22m[2m â”‚ map:   0.57 kB[22m
[2mes/[22m[36mglobal/IconLabel.js                   [39m[1m[2m  0.50 kB[22m[1m[22m[2m â”‚ map:   0.79 kB[22m
[2mes/[22m[36mglobal/layout/AppMenu.js              [39m[1m[2m  0.50 kB[22m[1m[22m[2m â”‚ map:   0.61 kB[22m
[2mes/[22m[36mglobal/form/ToggleGroup.js            [39m[1m[2m  0.55 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36msettings/SettingSectionHeader.js      [39m[1m[2m  0.56 kB[22m[1m[22m[2m â”‚ map:   0.94 kB[22m
[2mes/[22m[36mglobal/modal/ModalPage.js             [39m[1m[2m  0.56 kB[22m[1m[22m[2m â”‚ map:   0.93 kB[22m
[2mes/[22m[36mglobal/modal/Modal.js                 [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.10 kB[22m
[2mes/[22m[36mglobal/NoValueLabel.js                [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.90 kB[22m
[2mes/[22m[36mutils/modals.js                       [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.11 kB[22m
[2mes/[22m[36mglobal/modal/ConfirmationModal.js     [39m[1m[2m  0.58 kB[22m[1m[22m[2m â”‚ map:   0.12 kB[22m
[2mes/[22m[36msettings/SettingSection.js            [39m[1m[2m  0.63 kB[22m[1m[22m[2m â”‚ map:   1.19 kB[22m
[2mes/[22m[36mglobal/Hint.js                        [39m[1m[2m  0.65 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36mDesignSystemApp.js                    [39m[1m[2m  0.68 kB[22m[1m[22m[2m â”‚ map:   1.19 kB[22m
[2mes/[22m[36mglobal/TableCell.js                   [39m[1m[2m  0.69 kB[22m[1m[22m[2m â”‚ map:   1.46 kB[22m
[2mes/[22m[36mglobal/TableHead.js                   [39m[1m[2m  0.71 kB[22m[1m[22m[2m â”‚ map:   1.21 kB[22m
[2mes/[22m[36mglobal/InfiniteScrollListener.js      [39m[1m[2m  0.72 kB[22m[1m[22m[2m â”‚ map:   1.67 kB[22m
[2mes/[22m[36msettings/SettingGroupContent.js       [39m[1m[2m  0.78 kB[22m[1m[22m[2m â”‚ map:   1.45 kB[22m
[2mes/[22m[36msettings/SettingValue.js              [39m[1m[2m  0.82 kB[22m[1m[22m[2m â”‚ map:   1.33 kB[22m
[2mes/[22m[36mglobal/Banner.js                      [39m[1m[2m  0.89 kB[22m[1m[22m[2m â”‚ map:   1.61 kB[22m
[2mes/[22m[36mglobal/form/CheckboxGroup.js          [39m[1m[2m  0.96 kB[22m[1m[22m[2m â”‚ map:   1.49 kB[22m
[2mes/[22m[36mhooks/usePagination.js                [39m[1m[2m  0.96 kB[22m[1m[22m[2m â”‚ map:   2.35 kB[22m
[2mes/[22m[36mglobal/ListHeading.js                 [39m[1m[2m  1.03 kB[22m[1m[22m[2m â”‚ map:   1.80 kB[22m
[2mes/[22m[36mglobal/ButtonGroup.js                 [39m[1m[2m  1.05 kB[22m[1m[22m[2m â”‚ map:   1.86 kB[22m
[2mes/[22m[36msettings/SettingGroupHeader.js        [39m[1m[2m  1.08 kB[22m[1m[22m[2m â”‚ map:   1.60 kB[22m
[2mes/[22m[36mglobal/modal/LimitModal.js            [39m[1m[2m  1.10 kB[22m[1m[22m[2m â”‚ map:   1.40 kB[22m
[2mes/[22m[36mglobal/Tooltip.js                     [39m[1m[2m  1.10 kB[22m[1m[22m[2m â”‚ map:   2.10 kB[22m
[2mes/[22m[36msettings/SettingNavItem.js            [39m[1m[2m  1.13 kB[22m[1m[22m[2m â”‚ map:   1.94 kB[22m
[2mes/[22m[36mglobal/Menu.js                        [39m[1m[2m  1.17 kB[22m[1m[22m[2m â”‚ map:   2.22 kB[22m
[2mes/[22m[36mglobal/List.js                        [39m[1m[2m  1.29 kB[22m[1m[22m[2m â”‚ map:   2.65 kB[22m
[2mes/[22m[36mglobal/Popover.js                     [39m[1m[2m  1.35 kB[22m[1m[22m[2m â”‚ map:   2.55 kB[22m
[2mes/[22m[36mhooks/useGlobalDirtyState.js          [39m[1m[2m  1.36 kB[22m[1m[22m[2m â”‚ map:   2.84 kB[22m
[2mes/[22m[36mproviders/DesignSystemProvider.js     [39m[1m[2m  1.38 kB[22m[1m[22m[2m â”‚ map:   2.68 kB[22m
[2mes/[22m[36mglobal/form/CurrencyField.js          [39m[1m[2m  1.40 kB[22m[1m[22m[2m â”‚ map:   2.52 kB[22m
[2mes/[22m[36mglobal/form/Form.js                   [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   3.07 kB[22m
[2mes/[22m[36mglobal/layout/PageHeader.js           [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   3.21 kB[22m
[2mes/[22m[36mglobal/Pagination.js                  [39m[1m[2m  1.59 kB[22m[1m[22m[2m â”‚ map:   2.58 kB[22m
[2mes/[22m[36mglobal/ErrorBoundary.js               [39m[1m[2m  1.60 kB[22m[1m[22m[2m â”‚ map:   2.60 kB[22m
[2mes/[22m[36mglobal/LoadingIndicator.js            [39m[1m[2m  1.66 kB[22m[1m[22m[2m â”‚ map:   2.88 kB[22m
[2mes/[22m[36mglobal/Heading.js                     [39m[1m[2m  1.67 kB[22m[1m[22m[2m â”‚ map:   3.79 kB[22m
[2mes/[22m[36mglobal/Avatar.js                      [39m[1m[2m  1.67 kB[22m[1m[22m[2m â”‚ map:   2.90 kB[22m
[2mes/[22m[36mglobal/TableRow.js                    [39m[1m[2m  1.70 kB[22m[1m[22m[2m â”‚ map:   2.97 kB[22m
[2mes/[22m[36mglobal/Breadcrumbs.js                 [39m[1m[2m  1.74 kB[22m[1m[22m[2m â”‚ map:   3.20 kB[22m
[2mes/[22m[36mglobal/form/HtmlField.js              [39m[1m[2m  1.78 kB[22m[1m[22m[2m â”‚ map:   2.71 kB[22m
[2mes/[22m[36mglobal/ListItem.js                    [39m[1m[2m  1.93 kB[22m[1m[22m[2m â”‚ map:   3.60 kB[22m
[2mes/[22m[36mglobal/StickyFooter.js                [39m[1m[2m  1.93 kB[22m[1m[22m[2m â”‚ map:   3.19 kB[22m
[2mes/[22m[36mglobal/chrome/DesktopChromeHeader.js  [39m[1m[2m  1.99 kB[22m[1m[22m[2m â”‚ map:   3.63 kB[22m
[2mes/[22m[36mglobal/form/FileUpload.js             [39m[1m[2m  2.00 kB[22m[1m[22m[2m â”‚ map:   3.89 kB[22m
[2mes/[22m[36msingle-user-fill-d746056e.js          [39m[1m[2m  2.00 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36mutils/formatUrl.js                    [39m[1m[2m  2.07 kB[22m[1m[22m[2m â”‚ map:   4.80 kB[22m
[2mes/[22m[36mglobal/form/URLTextField.js           [39m[1m[2m  2.19 kB[22m[1m[22m[2m â”‚ map:   4.44 kB[22m
[2mes/[22m[36mglobal/form/Checkbox.js               [39m[1m[2m  2.21 kB[22m[1m[22m[2m â”‚ map:   3.56 kB[22m
[2mes/[22m[36mhooks/useSortableIndexedList.js       [39m[1m[2m  2.24 kB[22m[1m[22m[2m â”‚ map:   5.03 kB[22m
[2mes/[22m[36mglobal/form/Radio.js                  [39m[1m[2m  2.27 kB[22m[1m[22m[2m â”‚ map:   3.53 kB[22m
[2mes/[22m[36msettings/SettingNavSection.js         [39m[1m[2m  2.53 kB[22m[1m[22m[2m â”‚ map:   1.36 kB[22m
[2mes/[22m[36mglobal/form/TextArea.js               [39m[1m[2m  2.66 kB[22m[1m[22m[2m â”‚ map:   4.86 kB[22m
[2mes/[22m[36mglobal/layout/Page.js                 [39m[1m[2m  2.88 kB[22m[1m[22m[2m â”‚ map:   6.06 kB[22m
[2mes/[22m[36mglobal/Toast.js                       [39m[1m[2m  3.17 kB[22m[1m[22m[2m â”‚ map:   5.50 kB[22m
[2mes/[22m[36mglobal/form/ColorIndicator.js         [39m[1m[2m  3.27 kB[22m[1m[22m[2m â”‚ map:   5.88 kB[22m
[2mes/[22m[36mglobal/form/Toggle.js                 [39m[1m[2m  3.38 kB[22m[1m[22m[2m â”‚ map:   6.04 kB[22m
[2mes/[22m[36mglobal/form/CodeEditorView.js         [39m[1m[2m  3.56 kB[22m[1m[22m[2m â”‚ map:   5.99 kB[22m
[2mes/[22m[36msettings/StripeButton.js              [39m[1m[2m  3.61 kB[22m[1m[22m[2m â”‚ map:   4.09 kB[22m
[2mes/[22m[36mglobal/TabView.js                     [39m[1m[2m  3.68 kB[22m[1m[22m[2m â”‚ map:   7.61 kB[22m
[2mes/[22m[36mglobal/form/ColorPickerField.js       [39m[1m[2m  3.79 kB[22m[1m[22m[2m â”‚ map:   6.84 kB[22m
[2mes/[22m[36mglobal/form/TextField.js              [39m[1m[2m  3.97 kB[22m[1m[22m[2m â”‚ map:   6.93 kB[22m
[2mes/[22m[36msettings/SettingGroup.js              [39m[1m[2m  4.10 kB[22m[1m[22m[2m â”‚ map:   7.97 kB[22m
[2mes/[22m[36mglobal/form/HtmlEditor.js             [39m[1m[2m  4.12 kB[22m[1m[22m[2m â”‚ map:   8.17 kB[22m
[2mes/[22m[36mglobal/SortableList.js                [39m[1m[2m  4.12 kB[22m[1m[22m[2m â”‚ map:   8.50 kB[22m
[2mes/[22m[36mglobal/form/ColorPicker.js            [39m[1m[2m  4.37 kB[22m[1m[22m[2m â”‚ map:   7.28 kB[22m
[2mes/[22m[36mglobal/Table.js                       [39m[1m[2m  4.63 kB[22m[1m[22m[2m â”‚ map:   9.00 kB[22m
[2mes/[22m[36mglobal/SortMenu.js                    [39m[1m[2m  4.71 kB[22m[1m[22m[2m â”‚ map:   5.52 kB[22m
[2mes/[22m[36mglobal/form/MultiSelect.js            [39m[1m[2m  4.71 kB[22m[1m[22m[2m â”‚ map:   9.04 kB[22m
[2mes/[22m[36mglobal/Button.js                      [39m[1m[2m  5.08 kB[22m[1m[22m[2m â”‚ map:   8.76 kB[22m
[2mes/[22m[36mglobal/form/ImageUpload.js            [39m[1m[2m  5.17 kB[22m[1m[22m[2m â”‚ map:   9.57 kB[22m
[2mes/[22m[36mglobal/layout/ViewContainer.js        [39m[1m[2m  6.85 kB[22m[1m[22m[2m â”‚ map:  11.40 kB[22m
[2mes/[22m[36mglobal/form/Select.js                 [39m[1m[2m  7.06 kB[22m[1m[22m[2m â”‚ map:  13.25 kB[22m
[2mes/[22m[36mglobal/table/DynamicTable.js          [39m[1m[2m  7.96 kB[22m[1m[22m[2m â”‚ map:  12.66 kB[22m
[2mes/[22m[36mglobal/modal/PreviewModal.js          [39m[1m[2m  8.62 kB[22m[1m[22m[2m â”‚ map:  14.69 kB[22m
[2mes/[22m[36mConfirmationModal-612fbc65.js         [39m[1m[2m 12.12 kB[22m[1m[22m[2m â”‚ map:  23.58 kB[22m
[2mes/[22m[36mindex.js                              [39m[1m[2m 14.08 kB[22m[1m[22m[2m â”‚ map:   7.88 kB[22m
[2mes/[22m[36mIcon-04e7d014.js                      [39m[1m[2m247.02 kB[22m[1m[22m[2m â”‚ map: 163.64 kB[22m
[32mâœ“ built in 5.87s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/custom-fonts:build
2025-04-15T04:31:07.8038395Z
[2K[1G[2m$ yarn build:cjs && yarn build:esm && yarn build:types[22m
[2K[1G[2m$ tsc -p tsconfig.json --outDir ./build/cjs --module CommonJS[22m
[2K[1G[2m$ tsc -p tsconfig.esm.json --outDir ./build/esm --module ES2020[22m
[2K[1G[2m$ tsc -p tsconfig.json --emitDeclarationOnly --declaration --declarationDir ./build/types[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/prometheus-metrics:build
2025-04-15T04:31:07.8582206Z
[2K[1G[2m$ yarn build:ts[22m
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/email-addresses:build
2025-04-15T04:31:10.1276409Z
[2K[1G[2m$ yarn build:ts[22m
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/sodo-search:build
2025-04-15T04:31:18.7304508Z
[2K[1G[2m$ vite build && yarn tailwind:base[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 104 modules transformed.
rendering chunks...
[2mumd/[22m[36msodo-search.min.js  [39m[1m[2m268.99 kB[22m[1m[22m[2m â”‚ map: 736.84 kB[22m
[32mâœ“ built in 5.17s[39m
[2K[1G[2m$ npx tailwindcss -i ./src/index.css -o ./umd/main.css --minify[22m
2025-04-15T04:31:18.7313433Z
Rebuilding...
2025-04-15T04:31:18.7314218Z
Done in 2018ms.
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-framework:build
2025-04-15T04:31:19.8473544Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 72 modules transformed.
rendering chunks...
[2mdist/[22m[36mhelpers.js                            [39m[1m[2m 0.19 kB[22m[1m[22m[2m â”‚ map:  0.09 kB[22m
[2mdist/[22m[36mrouting.js                            [39m[1m[2m 0.42 kB[22m[1m[22m[2m â”‚ map:  0.10 kB[22m
[2mdist/[22m[36mutils/queryClient.js                  [39m[1m[2m 0.58 kB[22m[1m[22m[2m â”‚ map:  1.08 kB[22m
[2mdist/[22m[36merrors.js                             [39m[1m[2m 0.63 kB[22m[1m[22m[2m â”‚ map:  0.09 kB[22m
[2mdist/[22m[36mapi/labels.js                         [39m[1m[2m 0.71 kB[22m[1m[22m[2m â”‚ map:  0.63 kB[22m
[2mdist/[22m[36mapi/members.js                        [39m[1m[2m 0.72 kB[22m[1m[22m[2m â”‚ map:  0.55 kB[22m
[2mdist/[22m[36mapi/referrers.js                      [39m[1m[2m 0.74 kB[22m[1m[22m[2m â”‚ map:  0.67 kB[22m
[2mdist/[22m[36mapi/roles.js                          [39m[1m[2m 0.75 kB[22m[1m[22m[2m â”‚ map:  0.83 kB[22m
[2mdist/[22m[36mhooks.js                              [39m[1m[2m 0.80 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mapi/posts.js                          [39m[1m[2m 0.81 kB[22m[1m[22m[2m â”‚ map:  0.75 kB[22m
[2mdist/[22m[36mhooks/usePermissions.js               [39m[1m[2m 0.85 kB[22m[1m[22m[2m â”‚ map:  0.79 kB[22m
[2mdist/[22m[36mapi/staffToken.js                     [39m[1m[2m 0.85 kB[22m[1m[22m[2m â”‚ map:  1.04 kB[22m
[2mdist/[22m[36mutils/helpers.js                      [39m[1m[2m 0.88 kB[22m[1m[22m[2m â”‚ map:  1.70 kB[22m
[2mdist/[22m[36mapi/files.js                          [39m[1m[2m 0.88 kB[22m[1m[22m[2m â”‚ map:  0.88 kB[22m
[2mdist/[22m[36mapi/images.js                         [39m[1m[2m 0.93 kB[22m[1m[22m[2m â”‚ map:  0.96 kB[22m
[2mdist/[22m[36mapi/routes.js                         [39m[1m[2m 0.95 kB[22m[1m[22m[2m â”‚ map:  0.80 kB[22m
[2mdist/[22m[36mapi/emailVerification.js              [39m[1m[2m 0.96 kB[22m[1m[22m[2m â”‚ map:  1.06 kB[22m
[2mdist/[22m[36mapi/redirects.js                      [39m[1m[2m 0.96 kB[22m[1m[22m[2m â”‚ map:  0.81 kB[22m
[2mdist/[22m[36mindex.js                              [39m[1m[2m 0.97 kB[22m[1m[22m[2m â”‚ map:  0.10 kB[22m
[2mdist/[22m[36mproviders/FrameworkProvider.js        [39m[1m[2m 1.01 kB[22m[1m[22m[2m â”‚ map:  2.55 kB[22m
[2mdist/[22m[36mapi/db.js                             [39m[1m[2m 1.04 kB[22m[1m[22m[2m â”‚ map:  0.95 kB[22m
[2mdist/[22m[36mapi/currentUser.js                    [39m[1m[2m 1.23 kB[22m[1m[22m[2m â”‚ map:  1.61 kB[22m
[2mdist/[22m[36mapi/customThemeSettings.js            [39m[1m[2m 1.25 kB[22m[1m[22m[2m â”‚ map:  2.04 kB[22m
[2mdist/[22m[36mapi/apiKeys.js                        [39m[1m[2m 1.30 kB[22m[1m[22m[2m â”‚ map:  1.89 kB[22m
[2mdist/[22m[36mapi/offers.js                         [39m[1m[2m 1.49 kB[22m[1m[22m[2m â”‚ map:  2.73 kB[22m
[2mdist/[22m[36mapi/config.js                         [39m[1m[2m 1.49 kB[22m[1m[22m[2m â”‚ map:  2.97 kB[22m
[2mdist/[22m[36mapi/site.js                           [39m[1m[2m 1.53 kB[22m[1m[22m[2m â”‚ map:  2.16 kB[22m
[2mdist/[22m[36mapi/activitypub.js                    [39m[1m[2m 1.62 kB[22m[1m[22m[2m â”‚ map:  4.30 kB[22m
[2mdist/[22m[36mapi/invites.js                        [39m[1m[2m 1.67 kB[22m[1m[22m[2m â”‚ map:  2.71 kB[22m
[2mdist/[22m[36mhooks/useHandleError.js               [39m[1m[2m 1.68 kB[22m[1m[22m[2m â”‚ map:  3.52 kB[22m
[2mdist/[22m[36mtest/render-shade.js                  [39m[1m[2m 1.71 kB[22m[1m[22m[2m â”‚ map:  3.11 kB[22m
[2mdist/[22m[36mtest/render.js                        [39m[1m[2m 1.73 kB[22m[1m[22m[2m â”‚ map:  3.16 kB[22m
[2mdist/[22m[36mplaywright.js                         [39m[1m[2m 1.91 kB[22m[1m[22m[2m â”‚ map:  3.30 kB[22m
[2mdist/[22m[36mhooks/useFilterableApi.js             [39m[1m[2m 2.08 kB[22m[1m[22m[2m â”‚ map:  3.66 kB[22m
[2mdist/[22m[36mapi/tiers.js                          [39m[1m[2m 2.27 kB[22m[1m[22m[2m â”‚ map:  3.74 kB[22m
[2mdist/[22m[36mutils/api/updateQueries.js            [39m[1m[2m 2.33 kB[22m[1m[22m[2m â”‚ map:  5.32 kB[22m
[2mdist/[22m[36mapi/integrations.js                   [39m[1m[2m 2.34 kB[22m[1m[22m[2m â”‚ map:  3.99 kB[22m
[2mdist/[22m[36mutils/api/handleResponse.js           [39m[1m[2m 2.38 kB[22m[1m[22m[2m â”‚ map:  3.47 kB[22m
[2mdist/[22m[36mvite.js                               [39m[1m[2m 2.45 kB[22m[1m[22m[2m â”‚ map:  4.81 kB[22m
[2mdist/[22m[36mproviders/NavigationStackProvider.js  [39m[1m[2m 2.47 kB[22m[1m[22m[2m â”‚ map:  5.14 kB[22m
[2mdist/[22m[36mapi/webhooks.js                       [39m[1m[2m 2.50 kB[22m[1m[22m[2m â”‚ map:  4.23 kB[22m
[2mdist/[22m[36mapi/recommendations.js                [39m[1m[2m 2.66 kB[22m[1m[22m[2m â”‚ map:  5.34 kB[22m
[2mdist/[22m[36mapi/newsletters.js                    [39m[1m[2m 2.80 kB[22m[1m[22m[2m â”‚ map:  5.49 kB[22m
[2mdist/[22m[36mhooks/useForm.js                      [39m[1m[2m 2.82 kB[22m[1m[22m[2m â”‚ map:  7.27 kB[22m
[2mdist/[22m[36mutils/errors.js                       [39m[1m[2m 3.01 kB[22m[1m[22m[2m â”‚ map:  5.56 kB[22m
[2mdist/[22m[36mapi/settings.js                       [39m[1m[2m 3.02 kB[22m[1m[22m[2m â”‚ map:  4.89 kB[22m
[2mdist/[22m[36mutils/api/fetchApi.js                 [39m[1m[2m 3.33 kB[22m[1m[22m[2m â”‚ map:  6.80 kB[22m
[2mdist/[22m[36mapi/themes.js                         [39m[1m[2m 3.40 kB[22m[1m[22m[2m â”‚ map:  6.44 kB[22m
[2mdist/[22m[36mapi/users.js                          [39m[1m[2m 3.57 kB[22m[1m[22m[2m â”‚ map:  7.03 kB[22m
[2mdist/[22m[36mproviders/RouterProvider.js           [39m[1m[2m 3.61 kB[22m[1m[22m[2m â”‚ map:  7.98 kB[22m
[2mdist/[22m[36mproviders/RoutingProvider.js          [39m[1m[2m 4.67 kB[22m[1m[22m[2m â”‚ map: 10.12 kB[22m
[2mdist/[22m[36mapi/actions.js                        [39m[1m[2m 5.19 kB[22m[1m[22m[2m â”‚ map:  9.58 kB[22m
[2mdist/[22m[36mutils/api/hooks.js                    [39m[1m[2m 6.53 kB[22m[1m[22m[2m â”‚ map: 12.87 kB[22m
[2mdist/[22m[36mtest/acceptance.js                    [39m[1m[2m48.62 kB[22m[1m[22m[2m â”‚ map: 18.05 kB[22m
[2mdist/[22m[36mhelpers.cjs                            [39m[1m[2m 0.35 kB[22m[1m[22m[2m â”‚ map:  0.10 kB[22m
[2mdist/[22m[36mutils/queryClient.cjs                  [39m[1m[2m 0.59 kB[22m[1m[22m[2m â”‚ map:  1.10 kB[22m
[2mdist/[22m[36mrouting.cjs                            [39m[1m[2m 0.64 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mapi/labels.cjs                         [39m[1m[2m 0.87 kB[22m[1m[22m[2m â”‚ map:  0.65 kB[22m
[2mdist/[22m[36mapi/members.cjs                        [39m[1m[2m 0.88 kB[22m[1m[22m[2m â”‚ map:  0.58 kB[22m
[2mdist/[22m[36mapi/referrers.cjs                      [39m[1m[2m 0.90 kB[22m[1m[22m[2m â”‚ map:  0.70 kB[22m
[2mdist/[22m[36mapi/roles.cjs                          [39m[1m[2m 0.91 kB[22m[1m[22m[2m â”‚ map:  0.86 kB[22m
[2mdist/[22m[36mhooks/usePermissions.cjs               [39m[1m[2m 1.00 kB[22m[1m[22m[2m â”‚ map:  0.82 kB[22m
[2mdist/[22m[36merrors.cjs                             [39m[1m[2m 1.00 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mapi/posts.cjs                          [39m[1m[2m 1.01 kB[22m[1m[22m[2m â”‚ map:  0.79 kB[22m
[2mdist/[22m[36mhooks.cjs                              [39m[1m[2m 1.01 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mutils/helpers.cjs                      [39m[1m[2m 1.03 kB[22m[1m[22m[2m â”‚ map:  1.70 kB[22m
[2mdist/[22m[36mapi/staffToken.cjs                     [39m[1m[2m 1.03 kB[22m[1m[22m[2m â”‚ map:  1.09 kB[22m
[2mdist/[22m[36mapi/files.cjs                          [39m[1m[2m 1.06 kB[22m[1m[22m[2m â”‚ map:  0.91 kB[22m
[2mdist/[22m[36mapi/images.cjs                         [39m[1m[2m 1.11 kB[22m[1m[22m[2m â”‚ map:  0.99 kB[22m
[2mdist/[22m[36mapi/emailVerification.cjs              [39m[1m[2m 1.12 kB[22m[1m[22m[2m â”‚ map:  1.09 kB[22m
[2mdist/[22m[36mapi/routes.cjs                         [39m[1m[2m 1.14 kB[22m[1m[22m[2m â”‚ map:  0.86 kB[22m
[2mdist/[22m[36mapi/redirects.cjs                      [39m[1m[2m 1.16 kB[22m[1m[22m[2m â”‚ map:  0.87 kB[22m
[2mdist/[22m[36mproviders/FrameworkProvider.cjs        [39m[1m[2m 1.19 kB[22m[1m[22m[2m â”‚ map:  2.67 kB[22m
[2mdist/[22m[36mapi/db.cjs                             [39m[1m[2m 1.27 kB[22m[1m[22m[2m â”‚ map:  1.02 kB[22m
[2mdist/[22m[36mapi/currentUser.cjs                    [39m[1m[2m 1.44 kB[22m[1m[22m[2m â”‚ map:  1.72 kB[22m
[2mdist/[22m[36mapi/apiKeys.cjs                        [39m[1m[2m 1.48 kB[22m[1m[22m[2m â”‚ map:  1.95 kB[22m
[2mdist/[22m[36mapi/customThemeSettings.cjs            [39m[1m[2m 1.54 kB[22m[1m[22m[2m â”‚ map:  2.10 kB[22m
[2mdist/[22m[36mapi/config.cjs                         [39m[1m[2m 1.75 kB[22m[1m[22m[2m â”‚ map:  3.00 kB[22m
[2mdist/[22m[36mapi/site.cjs                           [39m[1m[2m 1.75 kB[22m[1m[22m[2m â”‚ map:  2.26 kB[22m
[2mdist/[22m[36mtest/render-shade.cjs                  [39m[1m[2m 1.76 kB[22m[1m[22m[2m â”‚ map:  3.13 kB[22m
[2mdist/[22m[36mapi/offers.cjs                         [39m[1m[2m 1.77 kB[22m[1m[22m[2m â”‚ map:  2.86 kB[22m
[2mdist/[22m[36mtest/render.cjs                        [39m[1m[2m 1.78 kB[22m[1m[22m[2m â”‚ map:  3.18 kB[22m
[2mdist/[22m[36mapi/invites.cjs                        [39m[1m[2m 1.90 kB[22m[1m[22m[2m â”‚ map:  2.77 kB[22m
[2mdist/[22m[36mapi/activitypub.cjs                    [39m[1m[2m 1.93 kB[22m[1m[22m[2m â”‚ map:  4.39 kB[22m
[2mdist/[22m[36mplaywright.cjs                         [39m[1m[2m 2.04 kB[22m[1m[22m[2m â”‚ map:  3.33 kB[22m
[2mdist/[22m[36mhooks/useFilterableApi.cjs             [39m[1m[2m 2.17 kB[22m[1m[22m[2m â”‚ map:  3.72 kB[22m
[2mdist/[22m[36mindex.cjs                              [39m[1m[2m 2.30 kB[22m[1m[22m[2m â”‚ map:  0.15 kB[22m
[2mdist/[22m[36mutils/api/handleResponse.cjs           [39m[1m[2m 2.36 kB[22m[1m[22m[2m â”‚ map:  3.76 kB[22m
[2mdist/[22m[36mhooks/useHandleError.cjs               [39m[1m[2m 2.37 kB[22m[1m[22m[2m â”‚ map:  3.66 kB[22m
[2mdist/[22m[36mvite.cjs                               [39m[1m[2m 2.48 kB[22m[1m[22m[2m â”‚ map:  4.86 kB[22m
[2mdist/[22m[36mutils/api/updateQueries.cjs            [39m[1m[2m 2.49 kB[22m[1m[22m[2m â”‚ map:  5.32 kB[22m
[2mdist/[22m[36mapi/tiers.cjs                          [39m[1m[2m 2.59 kB[22m[1m[22m[2m â”‚ map:  3.83 kB[22m
[2mdist/[22m[36mproviders/NavigationStackProvider.cjs  [39m[1m[2m 2.63 kB[22m[1m[22m[2m â”‚ map:  5.30 kB[22m
[2mdist/[22m[36mapi/integrations.cjs                   [39m[1m[2m 2.66 kB[22m[1m[22m[2m â”‚ map:  4.06 kB[22m
[2mdist/[22m[36mapi/webhooks.cjs                       [39m[1m[2m 2.79 kB[22m[1m[22m[2m â”‚ map:  4.32 kB[22m
[2mdist/[22m[36mhooks/useForm.cjs                      [39m[1m[2m 2.84 kB[22m[1m[22m[2m â”‚ map:  7.34 kB[22m
[2mdist/[22m[36mapi/recommendations.cjs                [39m[1m[2m 3.05 kB[22m[1m[22m[2m â”‚ map:  5.43 kB[22m
[2mdist/[22m[36mapi/newsletters.cjs                    [39m[1m[2m 3.17 kB[22m[1m[22m[2m â”‚ map:  5.61 kB[22m
[2mdist/[22m[36mapi/settings.cjs                       [39m[1m[2m 3.43 kB[22m[1m[22m[2m â”‚ map:  4.97 kB[22m
[2mdist/[22m[36mutils/errors.cjs                       [39m[1m[2m 3.45 kB[22m[1m[22m[2m â”‚ map:  5.57 kB[22m
[2mdist/[22m[36mapi/themes.cjs                         [39m[1m[2m 3.89 kB[22m[1m[22m[2m â”‚ map:  6.57 kB[22m
[2mdist/[22m[36mproviders/RouterProvider.cjs           [39m[1m[2m 3.97 kB[22m[1m[22m[2m â”‚ map:  8.27 kB[22m
[2mdist/[22m[36mutils/api/fetchApi.cjs                 [39m[1m[2m 4.06 kB[22m[1m[22m[2m â”‚ map:  7.00 kB[22m
[2mdist/[22m[36mapi/users.cjs                          [39m[1m[2m 4.12 kB[22m[1m[22m[2m â”‚ map:  7.19 kB[22m
[2mdist/[22m[36mproviders/RoutingProvider.cjs          [39m[1m[2m 4.92 kB[22m[1m[22m[2m â”‚ map: 10.29 kB[22m
[2mdist/[22m[36mapi/actions.cjs                        [39m[1m[2m 5.47 kB[22m[1m[22m[2m â”‚ map:  9.62 kB[22m
[2mdist/[22m[36mutils/api/hooks.cjs                    [39m[1m[2m 7.08 kB[22m[1m[22m[2m â”‚ map: 13.24 kB[22m
[2mdist/[22m[36mtest/acceptance.cjs                    [39m[1m[2m49.01 kB[22m[1m[22m[2m â”‚ map: 18.09 kB[22m
[32mâœ“ built in 1.62s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/portal:build
2025-04-15T04:31:20.2245761Z
[2K[1G[2m$ vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 418 modules transformed.
rendering chunks...
[2mumd/[22m[36mportal.min.js  [39m[1m[33m1,601.90 kB[39m[22m[2m â”‚ map: 1,798.10 kB[22m
[32mâœ“ built in 10.94s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/comments-ui:build
2025-04-15T04:31:22.1471177Z
[2K[1G[2m$ vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 315 modules transformed.
rendering chunks...
[2mumd/[22m[36mcomments-ui.min.js  [39m[1m[33m735.48 kB[39m[22m[2m â”‚ map: 2,119.41 kB[22m
[32mâœ“ built in 10.36s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/announcement-bar:build
2025-04-15T04:31:23.1891320Z
[2K[1G[2m$ vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 33 modules transformed.
rendering chunks...
[2mumd/[22m[36mannouncement-bar.min.js  [39m[1m[2m136.45 kB[22m[1m[22m[2m â”‚ map: 331.73 kB[22m
[32mâœ“ built in 2.68s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/signup-form:build
2025-04-15T04:31:34.0756279Z
[2K[1G[2m$ concurrently "tsc" "vite build"[22m
[0m[1][0m [36mvite v4.5.3 [32mbuilding for production...[36m[39m
[0m[1][0m transforming...
[0m[1][0m [32mâœ“[39m 112 modules transformed.
[0m[1][0m rendering chunks...
[0m[1][0m [2mumd/[22m[36msignup-form.min.js  [39m[1m[2m251.37 kB[22m[1m[22m[2m â”‚ map: 550.52 kB[22m
[0m[1][0m [32mâœ“ built in 6.20s[39m
[0m[1][0m [0mvite build exited with code 0[0m
[0m[0][0m [0mtsc exited with code 0[0m
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-demo:build
2025-04-15T04:31:52.9021317Z
[2K[1G[2m$ tsc && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 3706 modules transformed.
rendering chunks...
[2mdist/[22m[36mmodals-1a9ae8b7.mjs  [39m[1m[2m 11.16 kB[22m[1m[22m[2m â”‚ map:    27.48 kB[22m
[2mdist/[22m[36madmin-x-demo.js      [39m[1m[2m 76.21 kB[22m[1m[22m[2m â”‚ map:     0.10 kB[22m
[2mdist/[22m[36mindex-09325f38.mjs   [39m[1m[33m559.31 kB[39m[22m[2m â”‚ map: 1,600.96 kB[22m
[32mâœ“ built in 22.69s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-activitypub:build
2025-04-15T04:32:04.3810244Z
[2K[1G[2m$ tsc && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 3806 modules transformed.
rendering chunks...
[2mdist/[22m[36madmin-x-activitypub.js  [39m[1m[33m4,174.87 kB[39m[22m[2m â”‚ map: 6,408.45 kB[22m
[32mâœ“ built in 25.35s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/stats:build
2025-04-15T04:32:07.9969375Z
[2K[1G[2m$ tsc && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 4318 modules transformed.
rendering chunks...
[2mdist/[22m[36mstats.js  [39m[1m[33m2,957.94 kB[39m[22m[2m â”‚ map: 10,210.51 kB[22m
[32mâœ“ built in 38.83s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/posts:build
2025-04-15T04:32:14.3132863Z
[2K[1G[2m$ tsc && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 2835 modules transformed.
rendering chunks...
[2mdist/[22m[36mposts.js  [39m[1m[33m1,195.20 kB[39m[22m[2m â”‚ map: 3,758.77 kB[22m
[32mâœ“ built in 12.77s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-settings:build
2025-04-15T04:32:17.5491125Z
[2K[1G[2m$ tsc && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 4799 modules transformed.
rendering chunks...
[2mdist/[22m[36mCodeEditorView-3bc05d1b.mjs  [39m[1m[2m   84.44 kB[22m[1m[22m[2m â”‚ map:   285.59 kB[22m
[2mdist/[22m[36madmin-x-settings.js          [39m[1m[2m  120.36 kB[22m[1m[22m[2m â”‚ map:     0.10 kB[22m
[2mdist/[22m[36mindex-93cc8853.mjs           [39m[1m[2m  183.89 kB[22m[1m[22m[2m â”‚ map:   345.19 kB[22m
[2mdist/[22m[36mindex-c5623145.mjs           [39m[1m[2m  406.80 kB[22m[1m[22m[2m â”‚ map: 1,138.88 kB[22m
[2mdist/[22m[36mindex-9cc1df42.mjs           [39m[1m[2m  482.75 kB[22m[1m[22m[2m â”‚ map: 1,372.82 kB[22m
[2mdist/[22m[36mmodals-fd7bc70c.mjs          [39m[1m[33m1,413.55 kB[39m[22m[2m â”‚ map: 3,099.74 kB[22m
[2mdist/[22m[36mindex-b2cdc747.mjs           [39m[1m[33m1,547.66 kB[39m[22m[2m â”‚ map: 3,557.64 kB[22m
[32mâœ“ built in 26.34s[39m
##[endgroup]
2025-04-15T04:32:17.5623540Z
2025-04-15T04:32:17.5623551Z
NX   Successfully ran target build for 19 projects
2025-04-15T04:32:17.5625025Z
2025-04-15T04:32:17.5625035Z
[2K[1GDone in 88.69s.
##[group]Run yarn nx affected -t test:unit --base=278359e55964a738e10416255060ef16a6b419fd
[36;1myarn nx affected -t test:unit --base=278359e55964a738e10416255060ef16a6b419fd[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
FORCE_COLOR: 1
HEAD_COMMIT: c8f42f52035033f81069a80122b5fe3ea07b7639
CACHED_DEPENDENCY_PATHS: /home/runner/work/Ghost/Ghost/node_modules
/home/runner/work/Ghost/Ghost/apps/*/node_modules
/home/runner/work/Ghost/Ghost/ghost/*/node_modules
~/.cache/ms-playwright/
CACHED_BUILD_PATHS: /home/runner/work/Ghost/Ghost/ghost/*/build
NX_REJECT_UNKNOWN_LOCAL_CACHE: 0
NODE_VERSION: 20.11.1
##[endgroup]
[2K[1G[1myarn run v1.22.22[22m
[2K[1G[2m$ /home/runner/work/Ghost/Ghost/node_modules/.bin/nx affected -t test:unit --base=278359e55964a738e10416255060ef16a6b419fd[22m
2025-04-15T04:32:19.0384501Z
NX   Running target test:unit for 43 projects and 9 tasks they depend on:
2025-04-15T04:32:19.0387037Z
- ghost
- @tryghost/custom-theme-settings-service
- @tryghost/email-suppression-list
- @tryghost/admin-x-design-system
- @tryghost/admin-x-activitypub
- @tryghost/admin-x-framework
- @tryghost/admin-x-settings
- @tryghost/admin-x-demo
- @tryghost/posts
- @tryghost/stats
- @tryghost/member-attribution
- @tryghost/members-api
- @tryghost/prometheus-metrics
- @tryghost/html-to-plaintext
- @tryghost/email-service
- @tryghost/mw-error-handler
- @tryghost/announcement-bar
- @tryghost/email-addresses
- @tryghost/post-revisions
- @tryghost/api-framework
- @tryghost/domain-events
- @tryghost/members-offers
- @tryghost/link-replacer
- @tryghost/member-events
- @tryghost/posts-service
- @tryghost/custom-fonts
- @tryghost/job-manager
- @tryghost/members-csv
- ghost-admin
- @tryghost/post-events
- @tryghost/webmentions
- @tryghost/comments-ui
- @tryghost/magic-link
- @tryghost/milestones
- @tryghost/signup-form
- @tryghost/sodo-search
- @tryghost/constants
- @tryghost/donations
- @tryghost/mw-vhost
- @tryghost/security
- @tryghost/portal
- @tryghost/tiers
- @tryghost/shade
2025-04-15T04:32:19.0405201Z
2025-04-15T04:32:19.0405207Z
2025-04-15T04:32:19.1584837Z
##[group]ðŸ” > nx run @tryghost/shade:build  [local cache]
2025-04-15T04:32:19.1588618Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
src/components/ui/sheet.tsx (1:0) Error when using sourcemap for reporting an error: Can't resolve original location of error.
[32mâœ“[39m 140 modules transformed.
rendering chunks...
[2mes/[22m[36mcomponents/layout/page.js        [39m[1m[2m  0.54 kB[22m[1m[22m[2m â”‚ map:   0.87 kB[22m
[2mes/[22m[36mhooks/use-mobile.js              [39m[1m[2m  0.61 kB[22m[1m[22m[2m â”‚ map:   1.12 kB[22m
[2mes/[22m[36mShadeApp.js                      [39m[1m[2m  0.61 kB[22m[1m[22m[2m â”‚ map:   1.12 kB[22m
[2mes/[22m[36mcomponents/layout/error-page.js  [39m[1m[2m  0.63 kB[22m[1m[22m[2m â”‚ map:   1.01 kB[22m
[2mes/[22m[36mcomponents/ui/separator.js       [39m[1m[2m  0.78 kB[22m[1m[22m[2m â”‚ map:   1.30 kB[22m
[2mes/[22m[36mcomponents/ui/input.js           [39m[1m[2m  0.90 kB[22m[1m[22m[2m â”‚ map:   1.24 kB[22m
[2mes/[22m[36mcomponents/ui/badge.js           [39m[1m[2m  1.07 kB[22m[1m[22m[2m â”‚ map:   1.77 kB[22m
[2mes/[22m[36mcomponents/ui/avatar.js          [39m[1m[2m  1.27 kB[22m[1m[22m[2m â”‚ map:   2.29 kB[22m
[2mes/[22m[36mproviders/ShadeProvider.js       [39m[1m[2m  1.28 kB[22m[1m[22m[2m â”‚ map:   2.48 kB[22m
[2mes/[22m[36mcomponents/ui/right-sidebar.js   [39m[1m[2m  1.29 kB[22m[1m[22m[2m â”‚ map:   2.15 kB[22m
[2mes/[22m[36mcomponents/ui/tooltip.js         [39m[1m[2m  1.30 kB[22m[1m[22m[2m â”‚ map:   1.90 kB[22m
[2mes/[22m[36mcomponents/ui/popover.js         [39m[1m[2m  1.32 kB[22m[1m[22m[2m â”‚ map:   1.83 kB[22m
[2mes/[22m[36mhooks/use-global-dirty-state.js  [39m[1m[2m  1.37 kB[22m[1m[22m[2m â”‚ map:   2.84 kB[22m
[2mes/[22m[36mcomponents/layout/heading.js     [39m[1m[2m  1.40 kB[22m[1m[22m[2m â”‚ map:   2.56 kB[22m
[2mes/[22m[36mcomponents/ui/skeleton.js        [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   2.82 kB[22m
[2mes/[22m[36mcomponents/ui/button.js          [39m[1m[2m  1.85 kB[22m[1m[22m[2m â”‚ map:   2.86 kB[22m
[2mes/[22m[36mcomponents/ui/breadcrumb.js      [39m[1m[2m  2.71 kB[22m[1m[22m[2m â”‚ map:   4.69 kB[22m
[2mes/[22m[36mcomponents/ui/table.js           [39m[1m[2m  2.82 kB[22m[1m[22m[2m â”‚ map:   5.05 kB[22m
[2mes/[22m[36mlib/utils.js                     [39m[1m[2m  2.85 kB[22m[1m[22m[2m â”‚ map:   6.63 kB[22m
[2mes/[22m[36mcomponents/ui/dialog.js          [39m[1m[2m  3.16 kB[22m[1m[22m[2m â”‚ map:   5.39 kB[22m
[2mes/[22m[36mcomponents/ui/card.js            [39m[1m[2m  3.18 kB[22m[1m[22m[2m â”‚ map:   6.18 kB[22m
[2mes/[22m[36mcomponents/ui/tabs.js            [39m[1m[2m  3.79 kB[22m[1m[22m[2m â”‚ map:   6.59 kB[22m
[2mes/[22m[36mcomponents/ui/sheet.js           [39m[1m[2m  3.98 kB[22m[1m[22m[2m â”‚ map:   6.56 kB[22m
[2mes/[22m[36mcomponents/ui/alert-dialog.js    [39m[1m[2m  4.13 kB[22m[1m[22m[2m â”‚ map:   7.00 kB[22m
[2mes/[22m[36mcomponents/ui/select.js          [39m[1m[2m  5.26 kB[22m[1m[22m[2m â”‚ map:   8.82 kB[22m
[2mes/[22m[36mcomponents/ui/dropdown-menu.js   [39m[1m[2m  6.64 kB[22m[1m[22m[2m â”‚ map:  11.03 kB[22m
[2mes/[22m[36mcomponents/ui/chart.js           [39m[1m[2m  9.55 kB[22m[1m[22m[2m â”‚ map:  18.12 kB[22m
[2mes/[22m[36mindex.js                         [39m[1m[2m 12.48 kB[22m[1m[22m[2m â”‚ map:   7.83 kB[22m
[2mes/[22m[36mcomponents/ui/sidebar.js         [39m[1m[2m 21.77 kB[22m[1m[22m[2m â”‚ map:  37.43 kB[22m
[2mes/[22m[36mcomponents/ui/icon.js            [39m[1m[2m245.67 kB[22m[1m[22m[2m â”‚ map: 163.97 kB[22m
[32mâœ“ built in 4.66s[39m
##[endgroup]
##[group]ðŸ” > nx run @tryghost/admin-x-design-system:build  [local cache]
2025-04-15T04:32:19.2214108Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 197 modules transformed.
rendering chunks...
[2mes/[22m[36mglobal/Icon.js                        [39m[1m[2m  0.20 kB[22m[1m[22m[2m â”‚ map:   0.09 kB[22m
[2mes/[22m[36mBoilerplate.js                        [39m[1m[2m  0.23 kB[22m[1m[22m[2m â”‚ map:   0.45 kB[22m
[2mes/[22m[36mglobal/chrome/DesktopChrome.js        [39m[1m[2m  0.40 kB[22m[1m[22m[2m â”‚ map:   0.81 kB[22m
[2mes/[22m[36mglobal/Separator.js                   [39m[1m[2m  0.45 kB[22m[1m[22m[2m â”‚ map:   0.81 kB[22m
[2mes/[22m[36mglobal/form/CodeEditor.js             [39m[1m[2m  0.45 kB[22m[1m[22m[2m â”‚ map:   1.05 kB[22m
[2mes/[22m[36mglobal/chrome/MobileChrome.js         [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   0.88 kB[22m
[2mes/[22m[36mutils/debounce.js                     [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   1.13 kB[22m
[2mes/[22m[36mglobal/Link.js                        [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   1.14 kB[22m
[2mes/[22m[36mglobal/layout/GlobalActions.js        [39m[1m[2m  0.49 kB[22m[1m[22m[2m â”‚ map:   0.57 kB[22m
[2mes/[22m[36mglobal/IconLabel.js                   [39m[1m[2m  0.50 kB[22m[1m[22m[2m â”‚ map:   0.79 kB[22m
[2mes/[22m[36mglobal/layout/AppMenu.js              [39m[1m[2m  0.50 kB[22m[1m[22m[2m â”‚ map:   0.61 kB[22m
[2mes/[22m[36mglobal/form/ToggleGroup.js            [39m[1m[2m  0.55 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36msettings/SettingSectionHeader.js      [39m[1m[2m  0.56 kB[22m[1m[22m[2m â”‚ map:   0.94 kB[22m
[2mes/[22m[36mglobal/modal/ModalPage.js             [39m[1m[2m  0.56 kB[22m[1m[22m[2m â”‚ map:   0.93 kB[22m
[2mes/[22m[36mglobal/modal/Modal.js                 [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.10 kB[22m
[2mes/[22m[36mglobal/NoValueLabel.js                [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.90 kB[22m
[2mes/[22m[36mutils/modals.js                       [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.11 kB[22m
[2mes/[22m[36mglobal/modal/ConfirmationModal.js     [39m[1m[2m  0.58 kB[22m[1m[22m[2m â”‚ map:   0.12 kB[22m
[2mes/[22m[36msettings/SettingSection.js            [39m[1m[2m  0.63 kB[22m[1m[22m[2m â”‚ map:   1.19 kB[22m
[2mes/[22m[36mglobal/Hint.js                        [39m[1m[2m  0.65 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36mDesignSystemApp.js                    [39m[1m[2m  0.68 kB[22m[1m[22m[2m â”‚ map:   1.19 kB[22m
[2mes/[22m[36mglobal/TableCell.js                   [39m[1m[2m  0.69 kB[22m[1m[22m[2m â”‚ map:   1.46 kB[22m
[2mes/[22m[36mglobal/TableHead.js                   [39m[1m[2m  0.71 kB[22m[1m[22m[2m â”‚ map:   1.21 kB[22m
[2mes/[22m[36mglobal/InfiniteScrollListener.js      [39m[1m[2m  0.72 kB[22m[1m[22m[2m â”‚ map:   1.67 kB[22m
[2mes/[22m[36msettings/SettingGroupContent.js       [39m[1m[2m  0.78 kB[22m[1m[22m[2m â”‚ map:   1.45 kB[22m
[2mes/[22m[36msettings/SettingValue.js              [39m[1m[2m  0.82 kB[22m[1m[22m[2m â”‚ map:   1.33 kB[22m
[2mes/[22m[36mglobal/Banner.js                      [39m[1m[2m  0.89 kB[22m[1m[22m[2m â”‚ map:   1.61 kB[22m
[2mes/[22m[36mglobal/form/CheckboxGroup.js          [39m[1m[2m  0.96 kB[22m[1m[22m[2m â”‚ map:   1.49 kB[22m
[2mes/[22m[36mhooks/usePagination.js                [39m[1m[2m  0.96 kB[22m[1m[22m[2m â”‚ map:   2.35 kB[22m
[2mes/[22m[36mglobal/ListHeading.js                 [39m[1m[2m  1.03 kB[22m[1m[22m[2m â”‚ map:   1.80 kB[22m
[2mes/[22m[36mglobal/ButtonGroup.js                 [39m[1m[2m  1.05 kB[22m[1m[22m[2m â”‚ map:   1.86 kB[22m
[2mes/[22m[36msettings/SettingGroupHeader.js        [39m[1m[2m  1.08 kB[22m[1m[22m[2m â”‚ map:   1.60 kB[22m
[2mes/[22m[36mglobal/modal/LimitModal.js            [39m[1m[2m  1.10 kB[22m[1m[22m[2m â”‚ map:   1.40 kB[22m
[2mes/[22m[36mglobal/Tooltip.js                     [39m[1m[2m  1.10 kB[22m[1m[22m[2m â”‚ map:   2.10 kB[22m
[2mes/[22m[36msettings/SettingNavItem.js            [39m[1m[2m  1.13 kB[22m[1m[22m[2m â”‚ map:   1.94 kB[22m
[2mes/[22m[36mglobal/Menu.js                        [39m[1m[2m  1.17 kB[22m[1m[22m[2m â”‚ map:   2.22 kB[22m
[2mes/[22m[36mglobal/List.js                        [39m[1m[2m  1.29 kB[22m[1m[22m[2m â”‚ map:   2.65 kB[22m
[2mes/[22m[36mglobal/Popover.js                     [39m[1m[2m  1.35 kB[22m[1m[22m[2m â”‚ map:   2.55 kB[22m
[2mes/[22m[36mhooks/useGlobalDirtyState.js          [39m[1m[2m  1.36 kB[22m[1m[22m[2m â”‚ map:   2.84 kB[22m
[2mes/[22m[36mproviders/DesignSystemProvider.js     [39m[1m[2m  1.38 kB[22m[1m[22m[2m â”‚ map:   2.68 kB[22m
[2mes/[22m[36mglobal/form/CurrencyField.js          [39m[1m[2m  1.40 kB[22m[1m[22m[2m â”‚ map:   2.52 kB[22m
[2mes/[22m[36mglobal/form/Form.js                   [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   3.07 kB[22m
[2mes/[22m[36mglobal/layout/PageHeader.js           [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   3.21 kB[22m
[2mes/[22m[36mglobal/Pagination.js                  [39m[1m[2m  1.59 kB[22m[1m[22m[2m â”‚ map:   2.58 kB[22m
[2mes/[22m[36mglobal/ErrorBoundary.js               [39m[1m[2m  1.60 kB[22m[1m[22m[2m â”‚ map:   2.60 kB[22m
[2mes/[22m[36mglobal/LoadingIndicator.js            [39m[1m[2m  1.66 kB[22m[1m[22m[2m â”‚ map:   2.88 kB[22m
[2mes/[22m[36mglobal/Heading.js                     [39m[1m[2m  1.67 kB[22m[1m[22m[2m â”‚ map:   3.79 kB[22m
[2mes/[22m[36mglobal/Avatar.js                      [39m[1m[2m  1.67 kB[22m[1m[22m[2m â”‚ map:   2.90 kB[22m
[2mes/[22m[36mglobal/TableRow.js                    [39m[1m[2m  1.70 kB[22m[1m[22m[2m â”‚ map:   2.97 kB[22m
[2mes/[22m[36mglobal/Breadcrumbs.js                 [39m[1m[2m  1.74 kB[22m[1m[22m[2m â”‚ map:   3.20 kB[22m
[2mes/[22m[36mglobal/form/HtmlField.js              [39m[1m[2m  1.78 kB[22m[1m[22m[2m â”‚ map:   2.71 kB[22m
[2mes/[22m[36mglobal/ListItem.js                    [39m[1m[2m  1.93 kB[22m[1m[22m[2m â”‚ map:   3.60 kB[22m
[2mes/[22m[36mglobal/StickyFooter.js                [39m[1m[2m  1.93 kB[22m[1m[22m[2m â”‚ map:   3.19 kB[22m
[2mes/[22m[36mglobal/chrome/DesktopChromeHeader.js  [39m[1m[2m  1.99 kB[22m[1m[22m[2m â”‚ map:   3.63 kB[22m
[2mes/[22m[36mglobal/form/FileUpload.js             [39m[1m[2m  2.00 kB[22m[1m[22m[2m â”‚ map:   3.89 kB[22m
[2mes/[22m[36msingle-user-fill-d746056e.js          [39m[1m[2m  2.00 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36mutils/formatUrl.js                    [39m[1m[2m  2.07 kB[22m[1m[22m[2m â”‚ map:   4.80 kB[22m
[2mes/[22m[36mglobal/form/URLTextField.js           [39m[1m[2m  2.19 kB[22m[1m[22m[2m â”‚ map:   4.44 kB[22m
[2mes/[22m[36mglobal/form/Checkbox.js               [39m[1m[2m  2.21 kB[22m[1m[22m[2m â”‚ map:   3.56 kB[22m
[2mes/[22m[36mhooks/useSortableIndexedList.js       [39m[1m[2m  2.24 kB[22m[1m[22m[2m â”‚ map:   5.03 kB[22m
[2mes/[22m[36mglobal/form/Radio.js                  [39m[1m[2m  2.27 kB[22m[1m[22m[2m â”‚ map:   3.53 kB[22m
[2mes/[22m[36msettings/SettingNavSection.js         [39m[1m[2m  2.53 kB[22m[1m[22m[2m â”‚ map:   1.36 kB[22m
[2mes/[22m[36mglobal/form/TextArea.js               [39m[1m[2m  2.66 kB[22m[1m[22m[2m â”‚ map:   4.86 kB[22m
[2mes/[22m[36mglobal/layout/Page.js                 [39m[1m[2m  2.88 kB[22m[1m[22m[2m â”‚ map:   6.06 kB[22m
[2mes/[22m[36mglobal/Toast.js                       [39m[1m[2m  3.17 kB[22m[1m[22m[2m â”‚ map:   5.50 kB[22m
[2mes/[22m[36mglobal/form/ColorIndicator.js         [39m[1m[2m  3.27 kB[22m[1m[22m[2m â”‚ map:   5.88 kB[22m
[2mes/[22m[36mglobal/form/Toggle.js                 [39m[1m[2m  3.38 kB[22m[1m[22m[2m â”‚ map:   6.04 kB[22m
[2mes/[22m[36mglobal/form/CodeEditorView.js         [39m[1m[2m  3.56 kB[22m[1m[22m[2m â”‚ map:   5.99 kB[22m
[2mes/[22m[36msettings/StripeButton.js              [39m[1m[2m  3.61 kB[22m[1m[22m[2m â”‚ map:   4.09 kB[22m
[2mes/[22m[36mglobal/TabView.js                     [39m[1m[2m  3.68 kB[22m[1m[22m[2m â”‚ map:   7.61 kB[22m
[2mes/[22m[36mglobal/form/ColorPickerField.js       [39m[1m[2m  3.79 kB[22m[1m[22m[2m â”‚ map:   6.84 kB[22m
[2mes/[22m[36mglobal/form/TextField.js              [39m[1m[2m  3.97 kB[22m[1m[22m[2m â”‚ map:   6.93 kB[22m
[2mes/[22m[36msettings/SettingGroup.js              [39m[1m[2m  4.10 kB[22m[1m[22m[2m â”‚ map:   7.97 kB[22m
[2mes/[22m[36mglobal/form/HtmlEditor.js             [39m[1m[2m  4.12 kB[22m[1m[22m[2m â”‚ map:   8.17 kB[22m
[2mes/[22m[36mglobal/SortableList.js                [39m[1m[2m  4.12 kB[22m[1m[22m[2m â”‚ map:   8.50 kB[22m
[2mes/[22m[36mglobal/form/ColorPicker.js            [39m[1m[2m  4.37 kB[22m[1m[22m[2m â”‚ map:   7.28 kB[22m
[2mes/[22m[36mglobal/Table.js                       [39m[1m[2m  4.63 kB[22m[1m[22m[2m â”‚ map:   9.00 kB[22m
[2mes/[22m[36mglobal/SortMenu.js                    [39m[1m[2m  4.71 kB[22m[1m[22m[2m â”‚ map:   5.52 kB[22m
[2mes/[22m[36mglobal/form/MultiSelect.js            [39m[1m[2m  4.71 kB[22m[1m[22m[2m â”‚ map:   9.04 kB[22m
[2mes/[22m[36mglobal/Button.js                      [39m[1m[2m  5.08 kB[22m[1m[22m[2m â”‚ map:   8.76 kB[22m
[2mes/[22m[36mglobal/form/ImageUpload.js            [39m[1m[2m  5.17 kB[22m[1m[22m[2m â”‚ map:   9.57 kB[22m
[2mes/[22m[36mglobal/layout/ViewContainer.js        [39m[1m[2m  6.85 kB[22m[1m[22m[2m â”‚ map:  11.40 kB[22m
[2mes/[22m[36mglobal/form/Select.js                 [39m[1m[2m  7.06 kB[22m[1m[22m[2m â”‚ map:  13.25 kB[22m
[2mes/[22m[36mglobal/table/DynamicTable.js          [39m[1m[2m  7.96 kB[22m[1m[22m[2m â”‚ map:  12.66 kB[22m
[2mes/[22m[36mglobal/modal/PreviewModal.js          [39m[1m[2m  8.62 kB[22m[1m[22m[2m â”‚ map:  14.69 kB[22m
[2mes/[22m[36mConfirmationModal-612fbc65.js         [39m[1m[2m 12.12 kB[22m[1m[22m[2m â”‚ map:  23.58 kB[22m
[2mes/[22m[36mindex.js                              [39m[1m[2m 14.08 kB[22m[1m[22m[2m â”‚ map:   7.88 kB[22m
[2mes/[22m[36mIcon-04e7d014.js                      [39m[1m[2m247.02 kB[22m[1m[22m[2m â”‚ map: 163.64 kB[22m
[32mâœ“ built in 5.87s[39m
##[endgroup]
##[group]ðŸ” > nx run @tryghost/admin-x-framework:build  [local cache]
2025-04-15T04:32:19.2672161Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 72 modules transformed.
rendering chunks...
[2mdist/[22m[36mhelpers.js                            [39m[1m[2m 0.19 kB[22m[1m[22m[2m â”‚ map:  0.09 kB[22m
[2mdist/[22m[36mrouting.js                            [39m[1m[2m 0.42 kB[22m[1m[22m[2m â”‚ map:  0.10 kB[22m
[2mdist/[22m[36mutils/queryClient.js                  [39m[1m[2m 0.58 kB[22m[1m[22m[2m â”‚ map:  1.08 kB[22m
[2mdist/[22m[36merrors.js                             [39m[1m[2m 0.63 kB[22m[1m[22m[2m â”‚ map:  0.09 kB[22m
[2mdist/[22m[36mapi/labels.js                         [39m[1m[2m 0.71 kB[22m[1m[22m[2m â”‚ map:  0.63 kB[22m
[2mdist/[22m[36mapi/members.js                        [39m[1m[2m 0.72 kB[22m[1m[22m[2m â”‚ map:  0.55 kB[22m
[2mdist/[22m[36mapi/referrers.js                      [39m[1m[2m 0.74 kB[22m[1m[22m[2m â”‚ map:  0.67 kB[22m
[2mdist/[22m[36mapi/roles.js                          [39m[1m[2m 0.75 kB[22m[1m[22m[2m â”‚ map:  0.83 kB[22m
[2mdist/[22m[36mhooks.js                              [39m[1m[2m 0.80 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mapi/posts.js                          [39m[1m[2m 0.81 kB[22m[1m[22m[2m â”‚ map:  0.75 kB[22m
[2mdist/[22m[36mhooks/usePermissions.js               [39m[1m[2m 0.85 kB[22m[1m[22m[2m â”‚ map:  0.79 kB[22m
[2mdist/[22m[36mapi/staffToken.js                     [39m[1m[2m 0.85 kB[22m[1m[22m[2m â”‚ map:  1.04 kB[22m
[2mdist/[22m[36mutils/helpers.js                      [39m[1m[2m 0.88 kB[22m[1m[22m[2m â”‚ map:  1.70 kB[22m
[2mdist/[22m[36mapi/files.js                          [39m[1m[2m 0.88 kB[22m[1m[22m[2m â”‚ map:  0.88 kB[22m
[2mdist/[22m[36mapi/images.js                         [39m[1m[2m 0.93 kB[22m[1m[22m[2m â”‚ map:  0.96 kB[22m
[2mdist/[22m[36mapi/routes.js                         [39m[1m[2m 0.95 kB[22m[1m[22m[2m â”‚ map:  0.80 kB[22m
[2mdist/[22m[36mapi/emailVerification.js              [39m[1m[2m 0.96 kB[22m[1m[22m[2m â”‚ map:  1.06 kB[22m
[2mdist/[22m[36mapi/redirects.js                      [39m[1m[2m 0.96 kB[22m[1m[22m[2m â”‚ map:  0.81 kB[22m
[2mdist/[22m[36mindex.js                              [39m[1m[2m 0.97 kB[22m[1m[22m[2m â”‚ map:  0.10 kB[22m
[2mdist/[22m[36mproviders/FrameworkProvider.js        [39m[1m[2m 1.01 kB[22m[1m[22m[2m â”‚ map:  2.55 kB[22m
[2mdist/[22m[36mapi/db.js                             [39m[1m[2m 1.04 kB[22m[1m[22m[2m â”‚ map:  0.95 kB[22m
[2mdist/[22m[36mapi/currentUser.js                    [39m[1m[2m 1.23 kB[22m[1m[22m[2m â”‚ map:  1.61 kB[22m
[2mdist/[22m[36mapi/customThemeSettings.js            [39m[1m[2m 1.25 kB[22m[1m[22m[2m â”‚ map:  2.04 kB[22m
[2mdist/[22m[36mapi/apiKeys.js                        [39m[1m[2m 1.30 kB[22m[1m[22m[2m â”‚ map:  1.89 kB[22m
[2mdist/[22m[36mapi/offers.js                         [39m[1m[2m 1.49 kB[22m[1m[22m[2m â”‚ map:  2.73 kB[22m
[2mdist/[22m[36mapi/config.js                         [39m[1m[2m 1.49 kB[22m[1m[22m[2m â”‚ map:  2.97 kB[22m
[2mdist/[22m[36mapi/site.js                           [39m[1m[2m 1.53 kB[22m[1m[22m[2m â”‚ map:  2.16 kB[22m
[2mdist/[22m[36mapi/activitypub.js                    [39m[1m[2m 1.62 kB[22m[1m[22m[2m â”‚ map:  4.30 kB[22m
[2mdist/[22m[36mapi/invites.js                        [39m[1m[2m 1.67 kB[22m[1m[22m[2m â”‚ map:  2.71 kB[22m
[2mdist/[22m[36mhooks/useHandleError.js               [39m[1m[2m 1.68 kB[22m[1m[22m[2m â”‚ map:  3.52 kB[22m
[2mdist/[22m[36mtest/render-shade.js                  [39m[1m[2m 1.71 kB[22m[1m[22m[2m â”‚ map:  3.11 kB[22m
[2mdist/[22m[36mtest/render.js                        [39m[1m[2m 1.73 kB[22m[1m[22m[2m â”‚ map:  3.16 kB[22m
[2mdist/[22m[36mplaywright.js                         [39m[1m[2m 1.91 kB[22m[1m[22m[2m â”‚ map:  3.30 kB[22m
[2mdist/[22m[36mhooks/useFilterableApi.js             [39m[1m[2m 2.08 kB[22m[1m[22m[2m â”‚ map:  3.66 kB[22m
[2mdist/[22m[36mapi/tiers.js                          [39m[1m[2m 2.27 kB[22m[1m[22m[2m â”‚ map:  3.74 kB[22m
[2mdist/[22m[36mutils/api/updateQueries.js            [39m[1m[2m 2.33 kB[22m[1m[22m[2m â”‚ map:  5.32 kB[22m
[2mdist/[22m[36mapi/integrations.js                   [39m[1m[2m 2.34 kB[22m[1m[22m[2m â”‚ map:  3.99 kB[22m
[2mdist/[22m[36mutils/api/handleResponse.js           [39m[1m[2m 2.38 kB[22m[1m[22m[2m â”‚ map:  3.47 kB[22m
[2mdist/[22m[36mvite.js                               [39m[1m[2m 2.45 kB[22m[1m[22m[2m â”‚ map:  4.81 kB[22m
[2mdist/[22m[36mproviders/NavigationStackProvider.js  [39m[1m[2m 2.47 kB[22m[1m[22m[2m â”‚ map:  5.14 kB[22m
[2mdist/[22m[36mapi/webhooks.js                       [39m[1m[2m 2.50 kB[22m[1m[22m[2m â”‚ map:  4.23 kB[22m
[2mdist/[22m[36mapi/recommendations.js                [39m[1m[2m 2.66 kB[22m[1m[22m[2m â”‚ map:  5.34 kB[22m
[2mdist/[22m[36mapi/newsletters.js                    [39m[1m[2m 2.80 kB[22m[1m[22m[2m â”‚ map:  5.49 kB[22m
[2mdist/[22m[36mhooks/useForm.js                      [39m[1m[2m 2.82 kB[22m[1m[22m[2m â”‚ map:  7.27 kB[22m
[2mdist/[22m[36mutils/errors.js                       [39m[1m[2m 3.01 kB[22m[1m[22m[2m â”‚ map:  5.56 kB[22m
[2mdist/[22m[36mapi/settings.js                       [39m[1m[2m 3.02 kB[22m[1m[22m[2m â”‚ map:  4.89 kB[22m
[2mdist/[22m[36mutils/api/fetchApi.js                 [39m[1m[2m 3.33 kB[22m[1m[22m[2m â”‚ map:  6.80 kB[22m
[2mdist/[22m[36mapi/themes.js                         [39m[1m[2m 3.40 kB[22m[1m[22m[2m â”‚ map:  6.44 kB[22m
[2mdist/[22m[36mapi/users.js                          [39m[1m[2m 3.57 kB[22m[1m[22m[2m â”‚ map:  7.03 kB[22m
[2mdist/[22m[36mproviders/RouterProvider.js           [39m[1m[2m 3.61 kB[22m[1m[22m[2m â”‚ map:  7.98 kB[22m
[2mdist/[22m[36mproviders/RoutingProvider.js          [39m[1m[2m 4.67 kB[22m[1m[22m[2m â”‚ map: 10.12 kB[22m
[2mdist/[22m[36mapi/actions.js                        [39m[1m[2m 5.19 kB[22m[1m[22m[2m â”‚ map:  9.58 kB[22m
[2mdist/[22m[36mutils/api/hooks.js                    [39m[1m[2m 6.53 kB[22m[1m[22m[2m â”‚ map: 12.87 kB[22m
[2mdist/[22m[36mtest/acceptance.js                    [39m[1m[2m48.62 kB[22m[1m[22m[2m â”‚ map: 18.05 kB[22m
[2mdist/[22m[36mhelpers.cjs                            [39m[1m[2m 0.35 kB[22m[1m[22m[2m â”‚ map:  0.10 kB[22m
[2mdist/[22m[36mutils/queryClient.cjs                  [39m[1m[2m 0.59 kB[22m[1m[22m[2m â”‚ map:  1.10 kB[22m
[2mdist/[22m[36mrouting.cjs                            [39m[1m[2m 0.64 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mapi/labels.cjs                         [39m[1m[2m 0.87 kB[22m[1m[22m[2m â”‚ map:  0.65 kB[22m
[2mdist/[22m[36mapi/members.cjs                        [39m[1m[2m 0.88 kB[22m[1m[22m[2m â”‚ map:  0.58 kB[22m
[2mdist/[22m[36mapi/referrers.cjs                      [39m[1m[2m 0.90 kB[22m[1m[22m[2m â”‚ map:  0.70 kB[22m
[2mdist/[22m[36mapi/roles.cjs                          [39m[1m[2m 0.91 kB[22m[1m[22m[2m â”‚ map:  0.86 kB[22m
[2mdist/[22m[36mhooks/usePermissions.cjs               [39m[1m[2m 1.00 kB[22m[1m[22m[2m â”‚ map:  0.82 kB[22m
[2mdist/[22m[36merrors.cjs                             [39m[1m[2m 1.00 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mapi/posts.cjs                          [39m[1m[2m 1.01 kB[22m[1m[22m[2m â”‚ map:  0.79 kB[22m
[2mdist/[22m[36mhooks.cjs                              [39m[1m[2m 1.01 kB[22m[1m[22m[2m â”‚ map:  0.11 kB[22m
[2mdist/[22m[36mutils/helpers.cjs                      [39m[1m[2m 1.03 kB[22m[1m[22m[2m â”‚ map:  1.70 kB[22m
[2mdist/[22m[36mapi/staffToken.cjs                     [39m[1m[2m 1.03 kB[22m[1m[22m[2m â”‚ map:  1.09 kB[22m
[2mdist/[22m[36mapi/files.cjs                          [39m[1m[2m 1.06 kB[22m[1m[22m[2m â”‚ map:  0.91 kB[22m
[2mdist/[22m[36mapi/images.cjs                         [39m[1m[2m 1.11 kB[22m[1m[22m[2m â”‚ map:  0.99 kB[22m
[2mdist/[22m[36mapi/emailVerification.cjs              [39m[1m[2m 1.12 kB[22m[1m[22m[2m â”‚ map:  1.09 kB[22m
[2mdist/[22m[36mapi/routes.cjs                         [39m[1m[2m 1.14 kB[22m[1m[22m[2m â”‚ map:  0.86 kB[22m
[2mdist/[22m[36mapi/redirects.cjs                      [39m[1m[2m 1.16 kB[22m[1m[22m[2m â”‚ map:  0.87 kB[22m
[2mdist/[22m[36mproviders/FrameworkProvider.cjs        [39m[1m[2m 1.19 kB[22m[1m[22m[2m â”‚ map:  2.67 kB[22m
[2mdist/[22m[36mapi/db.cjs                             [39m[1m[2m 1.27 kB[22m[1m[22m[2m â”‚ map:  1.02 kB[22m
[2mdist/[22m[36mapi/currentUser.cjs                    [39m[1m[2m 1.44 kB[22m[1m[22m[2m â”‚ map:  1.72 kB[22m
[2mdist/[22m[36mapi/apiKeys.cjs                        [39m[1m[2m 1.48 kB[22m[1m[22m[2m â”‚ map:  1.95 kB[22m
[2mdist/[22m[36mapi/customThemeSettings.cjs            [39m[1m[2m 1.54 kB[22m[1m[22m[2m â”‚ map:  2.10 kB[22m
[2mdist/[22m[36mapi/config.cjs                         [39m[1m[2m 1.75 kB[22m[1m[22m[2m â”‚ map:  3.00 kB[22m
[2mdist/[22m[36mapi/site.cjs                           [39m[1m[2m 1.75 kB[22m[1m[22m[2m â”‚ map:  2.26 kB[22m
[2mdist/[22m[36mtest/render-shade.cjs                  [39m[1m[2m 1.76 kB[22m[1m[22m[2m â”‚ map:  3.13 kB[22m
[2mdist/[22m[36mapi/offers.cjs                         [39m[1m[2m 1.77 kB[22m[1m[22m[2m â”‚ map:  2.86 kB[22m
[2mdist/[22m[36mtest/render.cjs                        [39m[1m[2m 1.78 kB[22m[1m[22m[2m â”‚ map:  3.18 kB[22m
[2mdist/[22m[36mapi/invites.cjs                        [39m[1m[2m 1.90 kB[22m[1m[22m[2m â”‚ map:  2.77 kB[22m
[2mdist/[22m[36mapi/activitypub.cjs                    [39m[1m[2m 1.93 kB[22m[1m[22m[2m â”‚ map:  4.39 kB[22m
[2mdist/[22m[36mplaywright.cjs                         [39m[1m[2m 2.04 kB[22m[1m[22m[2m â”‚ map:  3.33 kB[22m
[2mdist/[22m[36mhooks/useFilterableApi.cjs             [39m[1m[2m 2.17 kB[22m[1m[22m[2m â”‚ map:  3.72 kB[22m
[2mdist/[22m[36mindex.cjs                              [39m[1m[2m 2.30 kB[22m[1m[22m[2m â”‚ map:  0.15 kB[22m
[2mdist/[22m[36mutils/api/handleResponse.cjs           [39m[1m[2m 2.36 kB[22m[1m[22m[2m â”‚ map:  3.76 kB[22m
[2mdist/[22m[36mhooks/useHandleError.cjs               [39m[1m[2m 2.37 kB[22m[1m[22m[2m â”‚ map:  3.66 kB[22m
[2mdist/[22m[36mvite.cjs                               [39m[1m[2m 2.48 kB[22m[1m[22m[2m â”‚ map:  4.86 kB[22m
[2mdist/[22m[36mutils/api/updateQueries.cjs            [39m[1m[2m 2.49 kB[22m[1m[22m[2m â”‚ map:  5.32 kB[22m
[2mdist/[22m[36mapi/tiers.cjs                          [39m[1m[2m 2.59 kB[22m[1m[22m[2m â”‚ map:  3.83 kB[22m
[2mdist/[22m[36mproviders/NavigationStackProvider.cjs  [39m[1m[2m 2.63 kB[22m[1m[22m[2m â”‚ map:  5.30 kB[22m
[2mdist/[22m[36mapi/integrations.cjs                   [39m[1m[2m 2.66 kB[22m[1m[22m[2m â”‚ map:  4.06 kB[22m
[2mdist/[22m[36mapi/webhooks.cjs                       [39m[1m[2m 2.79 kB[22m[1m[22m[2m â”‚ map:  4.32 kB[22m
[2mdist/[22m[36mhooks/useForm.cjs                      [39m[1m[2m 2.84 kB[22m[1m[22m[2m â”‚ map:  7.34 kB[22m
[2mdist/[22m[36mapi/recommendations.cjs                [39m[1m[2m 3.05 kB[22m[1m[22m[2m â”‚ map:  5.43 kB[22m
[2mdist/[22m[36mapi/newsletters.cjs                    [39m[1m[2m 3.17 kB[22m[1m[22m[2m â”‚ map:  5.61 kB[22m
[2mdist/[22m[36mapi/settings.cjs                       [39m[1m[2m 3.43 kB[22m[1m[22m[2m â”‚ map:  4.97 kB[22m
[2mdist/[22m[36mutils/errors.cjs                       [39m[1m[2m 3.45 kB[22m[1m[22m[2m â”‚ map:  5.57 kB[22m
[2mdist/[22m[36mapi/themes.cjs                         [39m[1m[2m 3.89 kB[22m[1m[22m[2m â”‚ map:  6.57 kB[22m
[2mdist/[22m[36mproviders/RouterProvider.cjs           [39m[1m[2m 3.97 kB[22m[1m[22m[2m â”‚ map:  8.27 kB[22m
[2mdist/[22m[36mutils/api/fetchApi.cjs                 [39m[1m[2m 4.06 kB[22m[1m[22m[2m â”‚ map:  7.00 kB[22m
[2mdist/[22m[36mapi/users.cjs                          [39m[1m[2m 4.12 kB[22m[1m[22m[2m â”‚ map:  7.19 kB[22m
[2mdist/[22m[36mproviders/RoutingProvider.cjs          [39m[1m[2m 4.92 kB[22m[1m[22m[2m â”‚ map: 10.29 kB[22m
[2mdist/[22m[36mapi/actions.cjs                        [39m[1m[2m 5.47 kB[22m[1m[22m[2m â”‚ map:  9.62 kB[22m
[2mdist/[22m[36mutils/api/hooks.cjs                    [39m[1m[2m 7.08 kB[22m[1m[22m[2m â”‚ map: 13.24 kB[22m
[2mdist/[22m[36mtest/acceptance.cjs                    [39m[1m[2m49.01 kB[22m[1m[22m[2m â”‚ map: 18.09 kB[22m
[32mâœ“ built in 1.62s[39m
##[endgroup]
##[group]âœ… > nx run @tryghost/post-events:"build:ts"
2025-04-15T04:32:22.0549093Z
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/email-addresses:"build:ts"
2025-04-15T04:32:22.3313981Z
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/post-revisions:"build:ts"
2025-04-15T04:32:25.7402784Z
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/prometheus-metrics:"build:ts"
2025-04-15T04:32:25.7829432Z
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/donations:"build:ts"
2025-04-15T04:32:29.3957750Z
[2K[1G[2m$ tsc[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/domain-events:"test:unit"
2025-04-15T04:32:31.8575966Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura --check-coverage --100 -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:31.8585937Z
2025-04-15T04:32:31.8589462Z
[90m.[0m[90m.[0m[90m.[0m[33m.[0m
2025-04-15T04:32:31.8597443Z
[92m [0m[32m 4 passing[0m[90m (73ms)[0m
2025-04-15T04:32:31.8606386Z
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|-------------------
[32;1mAll files         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m domain-events    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m domain-events/lib[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  DomainEvents.js [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
-------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/member-events:"test:unit"
2025-04-15T04:32:33.6828568Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:33.6833251Z
2025-04-15T04:32:33.6834795Z
[90m.[0m
2025-04-15T04:32:33.6842650Z
[92m [0m[32m 1 passing[0m[90m (13ms)[0m
2025-04-15T04:32:33.6857323Z
---------------------------------|---------|----------|---------|---------|-------------------
File                             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------------------------|---------|----------|---------|---------|-------------------
[31;1mAll files                       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m
[31;1m member-events                  [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m
[31;1m  index.js                      [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-16             [0m
[31;1m member-events/lib              [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m
[31;1m  MemberCommentEvent.js         [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-28             [0m
[31;1m  MemberCreatedEvent.js         [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-26             [0m
[31;1m  MemberEntryViewEvent.js       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-26             [0m
[31;1m  MemberLinkClickEvent.js       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-28             [0m
[31;1m  MemberPageViewEvent.js        [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-28             [0m
[31;1m  MemberPaidCancellationEvent.js[0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-27             [0m
[31;1m  MemberPaidConversionEvent.js  [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-27             [0m
[31;1m  MemberSignupEvent.js          [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-25             [0m
[31;1m  MemberSubscribeEvent.js       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-24             [0m
[31;1m  MemberUnsubscribeEvent.js     [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-26             [0m
[31;1m  OfferRedemptionEvent.js       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-28             [0m
[31;1m  SubscriptionActivatedEvent.js [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-31             [0m
[31;1m  SubscriptionCancelledEvent.js [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-29             [0m
[31;1m  SubscriptionCreatedEvent.js   [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-31             [0m
---------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/custom-fonts:"build:ts"
2025-04-15T04:32:35.0357888Z
[2K[1G[2m$ yarn build[22m
[2K[1G[2m$ yarn build:cjs && yarn build:esm && yarn build:types[22m
[2K[1G[2m$ tsc -p tsconfig.json --outDir ./build/cjs --module CommonJS[22m
[2K[1G[2m$ tsc -p tsconfig.esm.json --outDir ./build/esm --module ES2020[22m
[2K[1G[2m$ tsc -p tsconfig.json --emitDeclarationOnly --declaration --declarationDir ./build/types[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/magic-link:"test:unit"
2025-04-15T04:32:36.1295482Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:36.1300693Z
2025-04-15T04:32:36.1301796Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:36.1305031Z
[92m [0m[32m 4 passing[0m[90m (25ms)[0m
2025-04-15T04:32:36.1308543Z
----------------------|---------|----------|---------|---------|------------------------------------
File                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------|---------|----------|---------|---------|------------------------------------
[32;1mAll files            [0m | [32;1m  87.79[0m | [33;1m   71.42[0m | [33;1m     70[0m | [32;1m  87.79[0m | [31;1m                                  [0m
[32;1m magic-link          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                                  [0m
[32;1m  index.js           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                                  [0m
[32;1m magic-link/lib      [0m | [32;1m  87.73[0m | [33;1m      70[0m | [33;1m     70[0m | [32;1m  87.73[0m | [31;1m                                  [0m
[32;1m  JWTTokenProvider.js[0m | [32;1m  94.23[0m | [32;1m      80[0m | [32;1m    100[0m | [32;1m  94.23[0m | [31;1m46-48                             [0m
[32;1m  MagicLink.js       [0m | [32;1m  85.62[0m | [33;1m   66.66[0m | [33;1m  57.14[0m | [32;1m  85.62[0m | [31;1m...,96-100,122-128,138-144,154-155[0m
----------------------|---------|----------|---------|---------|------------------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/html-to-plaintext:"test:unit"
2025-04-15T04:32:36.9970662Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:36.9982207Z
2025-04-15T04:32:36.9982541Z
[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:37.0018510Z
[92m [0m[32m 11 passing[0m[90m (230ms)[0m
2025-04-15T04:32:37.0027057Z
-----------------------|---------|----------|---------|---------|-------------------
File                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-----------------------|---------|----------|---------|---------|-------------------
[32;1mAll files             [0m | [32;1m  97.52[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m  97.52[0m | [31;1m                 [0m
[32;1m html-to-plaintext    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m html-to-plaintext/lib[0m | [32;1m   97.5[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m   97.5[0m | [31;1m                 [0m
[32;1m  html-to-plaintext.js[0m | [32;1m   97.5[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m   97.5[0m | [31;1m109-111          [0m
-----------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/member-attribution:"test:unit"
2025-04-15T04:32:38.0775850Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:38.0785663Z
2025-04-15T04:32:38.0788805Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:38.0804261Z
[92m [0m[32m 100 passing[0m[90m (82ms)[0m
2025-04-15T04:32:38.0809289Z
------------------------------|---------|----------|---------|---------|--------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
------------------------------|---------|----------|---------|---------|--------------------------
[32;1mAll files                    [0m | [32;1m  97.63[0m | [32;1m   90.32[0m | [32;1m    100[0m | [32;1m  97.63[0m | [31;1m                        [0m
[32;1m member-attribution          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[32;1m  index.js                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[32;1m member-attribution/lib      [0m | [32;1m  97.61[0m | [32;1m   90.27[0m | [32;1m    100[0m | [32;1m  97.61[0m | [31;1m                        [0m
[32;1m  AttributionBuilder.js      [0m | [32;1m  95.12[0m | [32;1m   97.05[0m | [32;1m    100[0m | [32;1m  95.12[0m | [31;1m53-62                   [0m
[32;1m  MemberAttributionService.js[0m | [32;1m   96.8[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m   96.8[0m | [31;1m63-64,68,135,206,212-213[0m
[32;1m  OutboundLinkTagger.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[32;1m  ReferrerTranslator.js      [0m | [32;1m  96.74[0m | [33;1m   76.19[0m | [32;1m    100[0m | [32;1m  96.74[0m | [31;1m44-46,157-158,161-162   [0m
[32;1m  UrlHistory.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[32;1m  UrlTranslator.js           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
------------------------------|---------|----------|---------|---------|--------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/members-csv:"test:unit"
2025-04-15T04:32:39.9484696Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:39.9486897Z
2025-04-15T04:32:39.9486909Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:39.9488657Z
[92m [0m[32m 20 passing[0m[90m (52ms)[0m
2025-04-15T04:32:39.9489473Z
-----------------|---------|----------|---------|---------|----------------------------
File             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-----------------|---------|----------|---------|---------|----------------------------
[32;1mAll files       [0m | [32;1m  93.08[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  93.08[0m | [31;1m                          [0m
[32;1m members-csv    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m
[32;1m  index.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m
[32;1m members-csv/lib[0m | [32;1m  92.99[0m | [32;1m   87.23[0m | [32;1m    100[0m | [32;1m  92.99[0m | [31;1m                          [0m
[32;1m  parse.js      [0m | [32;1m   87.5[0m | [32;1m   82.75[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m26-29,36-37,44-45,62-63,80[0m
[32;1m  unparse.js    [0m | [32;1m    100[0m | [32;1m   94.44[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m51                        [0m
-----------------|---------|----------|---------|---------|----------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-design-system:"test:unit"
2025-04-15T04:32:40.5929392Z
[2K[1G[2m$ yarn test:types && yarn nx build && vitest run[22m
[2K[1G[2m$ tsc --noEmit[22m
[2K[1G[2m$ /home/runner/work/Ghost/Ghost/node_modules/.bin/nx build[22m
2025-04-15T04:32:40.5932250Z
##[group]ðŸ” > nx run @tryghost/admin-x-design-system:build  [local cache]
2025-04-15T04:32:40.5933407Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 197 modules transformed.
rendering chunks...
[2mes/[22m[36mglobal/Icon.js                        [39m[1m[2m  0.20 kB[22m[1m[22m[2m â”‚ map:   0.09 kB[22m
[2mes/[22m[36mBoilerplate.js                        [39m[1m[2m  0.23 kB[22m[1m[22m[2m â”‚ map:   0.45 kB[22m
[2mes/[22m[36mglobal/chrome/DesktopChrome.js        [39m[1m[2m  0.40 kB[22m[1m[22m[2m â”‚ map:   0.81 kB[22m
[2mes/[22m[36mglobal/Separator.js                   [39m[1m[2m  0.45 kB[22m[1m[22m[2m â”‚ map:   0.81 kB[22m
[2mes/[22m[36mglobal/form/CodeEditor.js             [39m[1m[2m  0.45 kB[22m[1m[22m[2m â”‚ map:   1.05 kB[22m
[2mes/[22m[36mglobal/chrome/MobileChrome.js         [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   0.88 kB[22m
[2mes/[22m[36mutils/debounce.js                     [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   1.13 kB[22m
[2mes/[22m[36mglobal/Link.js                        [39m[1m[2m  0.48 kB[22m[1m[22m[2m â”‚ map:   1.14 kB[22m
[2mes/[22m[36mglobal/layout/GlobalActions.js        [39m[1m[2m  0.49 kB[22m[1m[22m[2m â”‚ map:   0.57 kB[22m
[2mes/[22m[36mglobal/IconLabel.js                   [39m[1m[2m  0.50 kB[22m[1m[22m[2m â”‚ map:   0.79 kB[22m
[2mes/[22m[36mglobal/layout/AppMenu.js              [39m[1m[2m  0.50 kB[22m[1m[22m[2m â”‚ map:   0.61 kB[22m
[2mes/[22m[36mglobal/form/ToggleGroup.js            [39m[1m[2m  0.55 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36msettings/SettingSectionHeader.js      [39m[1m[2m  0.56 kB[22m[1m[22m[2m â”‚ map:   0.94 kB[22m
[2mes/[22m[36mglobal/modal/ModalPage.js             [39m[1m[2m  0.56 kB[22m[1m[22m[2m â”‚ map:   0.93 kB[22m
[2mes/[22m[36mglobal/modal/Modal.js                 [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.10 kB[22m
[2mes/[22m[36mglobal/NoValueLabel.js                [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.90 kB[22m
[2mes/[22m[36mutils/modals.js                       [39m[1m[2m  0.57 kB[22m[1m[22m[2m â”‚ map:   0.11 kB[22m
[2mes/[22m[36mglobal/modal/ConfirmationModal.js     [39m[1m[2m  0.58 kB[22m[1m[22m[2m â”‚ map:   0.12 kB[22m
[2mes/[22m[36msettings/SettingSection.js            [39m[1m[2m  0.63 kB[22m[1m[22m[2m â”‚ map:   1.19 kB[22m
[2mes/[22m[36mglobal/Hint.js                        [39m[1m[2m  0.65 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36mDesignSystemApp.js                    [39m[1m[2m  0.68 kB[22m[1m[22m[2m â”‚ map:   1.19 kB[22m
[2mes/[22m[36mglobal/TableCell.js                   [39m[1m[2m  0.69 kB[22m[1m[22m[2m â”‚ map:   1.46 kB[22m
[2mes/[22m[36mglobal/TableHead.js                   [39m[1m[2m  0.71 kB[22m[1m[22m[2m â”‚ map:   1.21 kB[22m
[2mes/[22m[36mglobal/InfiniteScrollListener.js      [39m[1m[2m  0.72 kB[22m[1m[22m[2m â”‚ map:   1.67 kB[22m
[2mes/[22m[36msettings/SettingGroupContent.js       [39m[1m[2m  0.78 kB[22m[1m[22m[2m â”‚ map:   1.45 kB[22m
[2mes/[22m[36msettings/SettingValue.js              [39m[1m[2m  0.82 kB[22m[1m[22m[2m â”‚ map:   1.33 kB[22m
[2mes/[22m[36mglobal/Banner.js                      [39m[1m[2m  0.89 kB[22m[1m[22m[2m â”‚ map:   1.61 kB[22m
[2mes/[22m[36mglobal/form/CheckboxGroup.js          [39m[1m[2m  0.96 kB[22m[1m[22m[2m â”‚ map:   1.49 kB[22m
[2mes/[22m[36mhooks/usePagination.js                [39m[1m[2m  0.96 kB[22m[1m[22m[2m â”‚ map:   2.35 kB[22m
[2mes/[22m[36mglobal/ListHeading.js                 [39m[1m[2m  1.03 kB[22m[1m[22m[2m â”‚ map:   1.80 kB[22m
[2mes/[22m[36mglobal/ButtonGroup.js                 [39m[1m[2m  1.05 kB[22m[1m[22m[2m â”‚ map:   1.86 kB[22m
[2mes/[22m[36msettings/SettingGroupHeader.js        [39m[1m[2m  1.08 kB[22m[1m[22m[2m â”‚ map:   1.60 kB[22m
[2mes/[22m[36mglobal/modal/LimitModal.js            [39m[1m[2m  1.10 kB[22m[1m[22m[2m â”‚ map:   1.40 kB[22m
[2mes/[22m[36mglobal/Tooltip.js                     [39m[1m[2m  1.10 kB[22m[1m[22m[2m â”‚ map:   2.10 kB[22m
[2mes/[22m[36msettings/SettingNavItem.js            [39m[1m[2m  1.13 kB[22m[1m[22m[2m â”‚ map:   1.94 kB[22m
[2mes/[22m[36mglobal/Menu.js                        [39m[1m[2m  1.17 kB[22m[1m[22m[2m â”‚ map:   2.22 kB[22m
[2mes/[22m[36mglobal/List.js                        [39m[1m[2m  1.29 kB[22m[1m[22m[2m â”‚ map:   2.65 kB[22m
[2mes/[22m[36mglobal/Popover.js                     [39m[1m[2m  1.35 kB[22m[1m[22m[2m â”‚ map:   2.55 kB[22m
[2mes/[22m[36mhooks/useGlobalDirtyState.js          [39m[1m[2m  1.36 kB[22m[1m[22m[2m â”‚ map:   2.84 kB[22m
[2mes/[22m[36mproviders/DesignSystemProvider.js     [39m[1m[2m  1.38 kB[22m[1m[22m[2m â”‚ map:   2.68 kB[22m
[2mes/[22m[36mglobal/form/CurrencyField.js          [39m[1m[2m  1.40 kB[22m[1m[22m[2m â”‚ map:   2.52 kB[22m
[2mes/[22m[36mglobal/form/Form.js                   [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   3.07 kB[22m
[2mes/[22m[36mglobal/layout/PageHeader.js           [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   3.21 kB[22m
[2mes/[22m[36mglobal/Pagination.js                  [39m[1m[2m  1.59 kB[22m[1m[22m[2m â”‚ map:   2.58 kB[22m
[2mes/[22m[36mglobal/ErrorBoundary.js               [39m[1m[2m  1.60 kB[22m[1m[22m[2m â”‚ map:   2.60 kB[22m
[2mes/[22m[36mglobal/LoadingIndicator.js            [39m[1m[2m  1.66 kB[22m[1m[22m[2m â”‚ map:   2.88 kB[22m
[2mes/[22m[36mglobal/Heading.js                     [39m[1m[2m  1.67 kB[22m[1m[22m[2m â”‚ map:   3.79 kB[22m
[2mes/[22m[36mglobal/Avatar.js                      [39m[1m[2m  1.67 kB[22m[1m[22m[2m â”‚ map:   2.90 kB[22m
[2mes/[22m[36mglobal/TableRow.js                    [39m[1m[2m  1.70 kB[22m[1m[22m[2m â”‚ map:   2.97 kB[22m
[2mes/[22m[36mglobal/Breadcrumbs.js                 [39m[1m[2m  1.74 kB[22m[1m[22m[2m â”‚ map:   3.20 kB[22m
[2mes/[22m[36mglobal/form/HtmlField.js              [39m[1m[2m  1.78 kB[22m[1m[22m[2m â”‚ map:   2.71 kB[22m
[2mes/[22m[36mglobal/ListItem.js                    [39m[1m[2m  1.93 kB[22m[1m[22m[2m â”‚ map:   3.60 kB[22m
[2mes/[22m[36mglobal/StickyFooter.js                [39m[1m[2m  1.93 kB[22m[1m[22m[2m â”‚ map:   3.19 kB[22m
[2mes/[22m[36mglobal/chrome/DesktopChromeHeader.js  [39m[1m[2m  1.99 kB[22m[1m[22m[2m â”‚ map:   3.63 kB[22m
[2mes/[22m[36mglobal/form/FileUpload.js             [39m[1m[2m  2.00 kB[22m[1m[22m[2m â”‚ map:   3.89 kB[22m
[2mes/[22m[36msingle-user-fill-d746056e.js          [39m[1m[2m  2.00 kB[22m[1m[22m[2m â”‚ map:   1.27 kB[22m
[2mes/[22m[36mutils/formatUrl.js                    [39m[1m[2m  2.07 kB[22m[1m[22m[2m â”‚ map:   4.80 kB[22m
[2mes/[22m[36mglobal/form/URLTextField.js           [39m[1m[2m  2.19 kB[22m[1m[22m[2m â”‚ map:   4.44 kB[22m
[2mes/[22m[36mglobal/form/Checkbox.js               [39m[1m[2m  2.21 kB[22m[1m[22m[2m â”‚ map:   3.56 kB[22m
[2mes/[22m[36mhooks/useSortableIndexedList.js       [39m[1m[2m  2.24 kB[22m[1m[22m[2m â”‚ map:   5.03 kB[22m
[2mes/[22m[36mglobal/form/Radio.js                  [39m[1m[2m  2.27 kB[22m[1m[22m[2m â”‚ map:   3.53 kB[22m
[2mes/[22m[36msettings/SettingNavSection.js         [39m[1m[2m  2.53 kB[22m[1m[22m[2m â”‚ map:   1.36 kB[22m
[2mes/[22m[36mglobal/form/TextArea.js               [39m[1m[2m  2.66 kB[22m[1m[22m[2m â”‚ map:   4.86 kB[22m
[2mes/[22m[36mglobal/layout/Page.js                 [39m[1m[2m  2.88 kB[22m[1m[22m[2m â”‚ map:   6.06 kB[22m
[2mes/[22m[36mglobal/Toast.js                       [39m[1m[2m  3.17 kB[22m[1m[22m[2m â”‚ map:   5.50 kB[22m
[2mes/[22m[36mglobal/form/ColorIndicator.js         [39m[1m[2m  3.27 kB[22m[1m[22m[2m â”‚ map:   5.88 kB[22m
[2mes/[22m[36mglobal/form/Toggle.js                 [39m[1m[2m  3.38 kB[22m[1m[22m[2m â”‚ map:   6.04 kB[22m
[2mes/[22m[36mglobal/form/CodeEditorView.js         [39m[1m[2m  3.56 kB[22m[1m[22m[2m â”‚ map:   5.99 kB[22m
[2mes/[22m[36msettings/StripeButton.js              [39m[1m[2m  3.61 kB[22m[1m[22m[2m â”‚ map:   4.09 kB[22m
[2mes/[22m[36mglobal/TabView.js                     [39m[1m[2m  3.68 kB[22m[1m[22m[2m â”‚ map:   7.61 kB[22m
[2mes/[22m[36mglobal/form/ColorPickerField.js       [39m[1m[2m  3.79 kB[22m[1m[22m[2m â”‚ map:   6.84 kB[22m
[2mes/[22m[36mglobal/form/TextField.js              [39m[1m[2m  3.97 kB[22m[1m[22m[2m â”‚ map:   6.93 kB[22m
[2mes/[22m[36msettings/SettingGroup.js              [39m[1m[2m  4.10 kB[22m[1m[22m[2m â”‚ map:   7.97 kB[22m
[2mes/[22m[36mglobal/form/HtmlEditor.js             [39m[1m[2m  4.12 kB[22m[1m[22m[2m â”‚ map:   8.17 kB[22m
[2mes/[22m[36mglobal/SortableList.js                [39m[1m[2m  4.12 kB[22m[1m[22m[2m â”‚ map:   8.50 kB[22m
[2mes/[22m[36mglobal/form/ColorPicker.js            [39m[1m[2m  4.37 kB[22m[1m[22m[2m â”‚ map:   7.28 kB[22m
[2mes/[22m[36mglobal/Table.js                       [39m[1m[2m  4.63 kB[22m[1m[22m[2m â”‚ map:   9.00 kB[22m
[2mes/[22m[36mglobal/SortMenu.js                    [39m[1m[2m  4.71 kB[22m[1m[22m[2m â”‚ map:   5.52 kB[22m
[2mes/[22m[36mglobal/form/MultiSelect.js            [39m[1m[2m  4.71 kB[22m[1m[22m[2m â”‚ map:   9.04 kB[22m
[2mes/[22m[36mglobal/Button.js                      [39m[1m[2m  5.08 kB[22m[1m[22m[2m â”‚ map:   8.76 kB[22m
[2mes/[22m[36mglobal/form/ImageUpload.js            [39m[1m[2m  5.17 kB[22m[1m[22m[2m â”‚ map:   9.57 kB[22m
[2mes/[22m[36mglobal/layout/ViewContainer.js        [39m[1m[2m  6.85 kB[22m[1m[22m[2m â”‚ map:  11.40 kB[22m
[2mes/[22m[36mglobal/form/Select.js                 [39m[1m[2m  7.06 kB[22m[1m[22m[2m â”‚ map:  13.25 kB[22m
[2mes/[22m[36mglobal/table/DynamicTable.js          [39m[1m[2m  7.96 kB[22m[1m[22m[2m â”‚ map:  12.66 kB[22m
[2mes/[22m[36mglobal/modal/PreviewModal.js          [39m[1m[2m  8.62 kB[22m[1m[22m[2m â”‚ map:  14.69 kB[22m
[2mes/[22m[36mConfirmationModal-612fbc65.js         [39m[1m[2m 12.12 kB[22m[1m[22m[2m â”‚ map:  23.58 kB[22m
[2mes/[22m[36mindex.js                              [39m[1m[2m 14.08 kB[22m[1m[22m[2m â”‚ map:   7.88 kB[22m
[2mes/[22m[36mIcon-04e7d014.js                      [39m[1m[2m247.02 kB[22m[1m[22m[2m â”‚ map: 163.64 kB[22m
[32mâœ“ built in 5.87s[39m
##[endgroup]
2025-04-15T04:32:40.6139228Z
2025-04-15T04:32:40.6139238Z
NX   Successfully ran target build for project @tryghost/admin-x-design-system
2025-04-15T04:32:40.6140262Z
Nx read the output from the cache instead of running the command for 1 out of 1 tasks.
2025-04-15T04:32:40.6141418Z
2025-04-15T04:32:40.6141427Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/admin-x-design-system[39m
2025-04-15T04:32:40.6143238Z
[32mâœ“[39m test/unit/utils/formatUrl.test.ts [2m ([22m[2m13 tests[22m[2m)[22m[90m 20[2mms[22m[39m
[90mstderr[2m | test/unit/hooks/useSortableIndexedList.test.ts[2m > [22m[2museSortableIndexedList[2m > [22m[2mshould initialize with the given items[22m[39m
Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
Warning: unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6155447Z
[90mstderr[2m | test/unit/hooks/useSortableIndexedList.test.ts[2m > [22m[2museSortableIndexedList[2m > [22m[2mshould add a new item[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6160637Z
[90mstderr[2m | test/unit/hooks/useSortableIndexedList.test.ts[2m > [22m[2museSortableIndexedList[2m > [22m[2mshould update an item[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6166196Z
[90mstderr[2m | test/unit/hooks/useSortableIndexedList.test.ts[2m > [22m[2museSortableIndexedList[2m > [22m[2mshould remove an item[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6176803Z
[90mstderr[2m | test/unit/hooks/useSortableIndexedList.test.ts[2m > [22m[2museSortableIndexedList[2m > [22m[2mshould move an item[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6181870Z
[90mstderr[2m | test/unit/hooks/useSortableIndexedList.test.ts[2m > [22m[2museSortableIndexedList[2m > [22m[2mshould not setItems for deeply equal items regardless of property order[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6190504Z
[32mâœ“[39m test/unit/hooks/useSortableIndexedList.test.ts [2m ([22m[2m6 tests[22m[2m)[22m[90m 72[2mms[22m[39m
[32mâœ“[39m test/unit/hooks/usePagination.test.ts [2m ([22m[2m4 tests[22m[2m)[22m[90m 44[2mms[22m[39m
[90mstderr[2m | test/unit/hooks/usePagination.test.ts[2m > [22m[2musePagination[2m > [22m[2mshould initialize with the given meta and page[22m[39m
Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
Warning: unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6205207Z
[90mstderr[2m | test/unit/hooks/usePagination.test.ts[2m > [22m[2musePagination[2m > [22m[2mshould update page correctly when nextPage and prevPage are called[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6210668Z
[90mstderr[2m | test/unit/hooks/usePagination.test.ts[2m > [22m[2musePagination[2m > [22m[2mshould update page correctly when setPage is called[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6215884Z
[90mstderr[2m | test/unit/hooks/usePagination.test.ts[2m > [22m[2musePagination[2m > [22m[2mshould handle edge cases where meta.pages < page when setting meta[22m[39m
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
2025-04-15T04:32:40.6223738Z
[32mâœ“[39m test/unit/hello.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T04:32:40.6274796Z
[2m Test Files [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m      Tests [22m [1m[32m24 passed[39m[22m[90m (24)[39m
[2m   Start at [22m 00:32:36
[2m   Duration [22m 4.19s[2m (transform 271ms, setup 0ms, collect 1.19s, tests 139ms, environment 3.03s, prepare 777ms)[22m
2025-04-15T04:32:40.6303182Z
##[endgroup]
##[group]âœ… > nx run @tryghost/shade:"test:unit"
2025-04-15T04:32:42.5415728Z
[2K[1G[2m$ yarn test:types && yarn nx build && vitest run[22m
[2K[1G[2m$ tsc --noEmit[22m
[2K[1G[2m$ /home/runner/work/Ghost/Ghost/node_modules/.bin/nx build[22m
2025-04-15T04:32:42.5428312Z
##[group]ðŸ” > nx run @tryghost/shade:build  [local cache]
2025-04-15T04:32:42.5433553Z
[2K[1G[2m$ tsc -p tsconfig.declaration.json && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
src/components/ui/sheet.tsx (1:0) Error when using sourcemap for reporting an error: Can't resolve original location of error.
[32mâœ“[39m 140 modules transformed.
rendering chunks...
[2mes/[22m[36mcomponents/layout/page.js        [39m[1m[2m  0.54 kB[22m[1m[22m[2m â”‚ map:   0.87 kB[22m
[2mes/[22m[36mhooks/use-mobile.js              [39m[1m[2m  0.61 kB[22m[1m[22m[2m â”‚ map:   1.12 kB[22m
[2mes/[22m[36mShadeApp.js                      [39m[1m[2m  0.61 kB[22m[1m[22m[2m â”‚ map:   1.12 kB[22m
[2mes/[22m[36mcomponents/layout/error-page.js  [39m[1m[2m  0.63 kB[22m[1m[22m[2m â”‚ map:   1.01 kB[22m
[2mes/[22m[36mcomponents/ui/separator.js       [39m[1m[2m  0.78 kB[22m[1m[22m[2m â”‚ map:   1.30 kB[22m
[2mes/[22m[36mcomponents/ui/input.js           [39m[1m[2m  0.90 kB[22m[1m[22m[2m â”‚ map:   1.24 kB[22m
[2mes/[22m[36mcomponents/ui/badge.js           [39m[1m[2m  1.07 kB[22m[1m[22m[2m â”‚ map:   1.77 kB[22m
[2mes/[22m[36mcomponents/ui/avatar.js          [39m[1m[2m  1.27 kB[22m[1m[22m[2m â”‚ map:   2.29 kB[22m
[2mes/[22m[36mproviders/ShadeProvider.js       [39m[1m[2m  1.28 kB[22m[1m[22m[2m â”‚ map:   2.48 kB[22m
[2mes/[22m[36mcomponents/ui/right-sidebar.js   [39m[1m[2m  1.29 kB[22m[1m[22m[2m â”‚ map:   2.15 kB[22m
[2mes/[22m[36mcomponents/ui/tooltip.js         [39m[1m[2m  1.30 kB[22m[1m[22m[2m â”‚ map:   1.90 kB[22m
[2mes/[22m[36mcomponents/ui/popover.js         [39m[1m[2m  1.32 kB[22m[1m[22m[2m â”‚ map:   1.83 kB[22m
[2mes/[22m[36mhooks/use-global-dirty-state.js  [39m[1m[2m  1.37 kB[22m[1m[22m[2m â”‚ map:   2.84 kB[22m
[2mes/[22m[36mcomponents/layout/heading.js     [39m[1m[2m  1.40 kB[22m[1m[22m[2m â”‚ map:   2.56 kB[22m
[2mes/[22m[36mcomponents/ui/skeleton.js        [39m[1m[2m  1.52 kB[22m[1m[22m[2m â”‚ map:   2.82 kB[22m
[2mes/[22m[36mcomponents/ui/button.js          [39m[1m[2m  1.85 kB[22m[1m[22m[2m â”‚ map:   2.86 kB[22m
[2mes/[22m[36mcomponents/ui/breadcrumb.js      [39m[1m[2m  2.71 kB[22m[1m[22m[2m â”‚ map:   4.69 kB[22m
[2mes/[22m[36mcomponents/ui/table.js           [39m[1m[2m  2.82 kB[22m[1m[22m[2m â”‚ map:   5.05 kB[22m
[2mes/[22m[36mlib/utils.js                     [39m[1m[2m  2.85 kB[22m[1m[22m[2m â”‚ map:   6.63 kB[22m
[2mes/[22m[36mcomponents/ui/dialog.js          [39m[1m[2m  3.16 kB[22m[1m[22m[2m â”‚ map:   5.39 kB[22m
[2mes/[22m[36mcomponents/ui/card.js            [39m[1m[2m  3.18 kB[22m[1m[22m[2m â”‚ map:   6.18 kB[22m
[2mes/[22m[36mcomponents/ui/tabs.js            [39m[1m[2m  3.79 kB[22m[1m[22m[2m â”‚ map:   6.59 kB[22m
[2mes/[22m[36mcomponents/ui/sheet.js           [39m[1m[2m  3.98 kB[22m[1m[22m[2m â”‚ map:   6.56 kB[22m
[2mes/[22m[36mcomponents/ui/alert-dialog.js    [39m[1m[2m  4.13 kB[22m[1m[22m[2m â”‚ map:   7.00 kB[22m
[2mes/[22m[36mcomponents/ui/select.js          [39m[1m[2m  5.26 kB[22m[1m[22m[2m â”‚ map:   8.82 kB[22m
[2mes/[22m[36mcomponents/ui/dropdown-menu.js   [39m[1m[2m  6.64 kB[22m[1m[22m[2m â”‚ map:  11.03 kB[22m
[2mes/[22m[36mcomponents/ui/chart.js           [39m[1m[2m  9.55 kB[22m[1m[22m[2m â”‚ map:  18.12 kB[22m
[2mes/[22m[36mindex.js                         [39m[1m[2m 12.48 kB[22m[1m[22m[2m â”‚ map:   7.83 kB[22m
[2mes/[22m[36mcomponents/ui/sidebar.js         [39m[1m[2m 21.77 kB[22m[1m[22m[2m â”‚ map:  37.43 kB[22m
[2mes/[22m[36mcomponents/ui/icon.js            [39m[1m[2m245.67 kB[22m[1m[22m[2m â”‚ map: 163.97 kB[22m
[32mâœ“ built in 4.66s[39m
##[endgroup]
2025-04-15T04:32:42.5562914Z
2025-04-15T04:32:42.5562926Z
NX   Successfully ran target build for project @tryghost/shade
2025-04-15T04:32:42.5563766Z
Nx read the output from the cache instead of running the command for 1 out of 1 tasks.
2025-04-15T04:32:42.5565122Z
2025-04-15T04:32:42.5565131Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/shade[39m
2025-04-15T04:32:42.5566478Z
[32mâœ“[39m test/unit/hello.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 31[2mms[22m[39m
[32mâœ“[39m test/unit/utils/formatUrl.test.ts [2m ([22m[2m13 tests[22m[2m)[22m[90m 15[2mms[22m[39m
2025-04-15T04:32:42.5568962Z
[2m Test Files [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m14 passed[39m[22m[90m (14)[39m
[2m   Start at [22m 00:32:40
[2m   Duration [22m 1.75s[2m (transform 259ms, setup 0ms, collect 275ms, tests 46ms, environment 1.45s, prepare 653ms)[22m
2025-04-15T04:32:42.5573167Z
##[endgroup]
##[group]âœ… > nx run @tryghost/tiers:"test:unit"
2025-04-15T04:32:44.8275318Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:44.8280337Z
2025-04-15T04:32:44.8281573Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:44.8286660Z
[92m [0m[32m 21 passing[0m[90m (20ms)[0m
2025-04-15T04:32:44.8312221Z
----------------------------|---------|----------|---------|---------|-------------------
File                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                  [0m | [32;1m  99.23[0m | [32;1m   98.02[0m | [32;1m    100[0m | [32;1m  99.23[0m | [31;1m                 [0m
[32;1m tiers                     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m tiers/lib                 [0m | [32;1m  99.21[0m | [32;1m   98.01[0m | [32;1m    100[0m | [32;1m  99.21[0m | [31;1m                 [0m
[32;1m  InMemoryTierRepository.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  Tier.js                  [0m | [32;1m   99.4[0m | [32;1m   98.07[0m | [32;1m    100[0m | [32;1m   99.4[0m | [31;1m128-130          [0m
[32;1m  TierActivatedEvent.js    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  TierArchivedEvent.js     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  TierCreatedEvent.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  TierNameChangeEvent.js   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  TierPriceChangeEvent.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  TiersAPI.js              [0m | [32;1m  97.66[0m | [32;1m   92.85[0m | [32;1m    100[0m | [32;1m  97.66[0m | [31;1m51-54            [0m
----------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/post-events:"test:unit"
2025-04-15T04:32:45.9046715Z
[2K[1G[2m$ NODE_ENV=testing c8 --src src --all --check-coverage --100 --reporter text --reporter cobertura -- mocha --reporter dot -r ts-node/register './test/**/*.test.ts'[22m
2025-04-15T04:32:45.9068897Z
2025-04-15T04:32:45.9072391Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:45.9081338Z
[92m [0m[32m 7 passing[0m[90m (8ms)[0m
2025-04-15T04:32:45.9090118Z
------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostDeletedEvent.ts         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostsBulkAddTagsEvent.ts    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostsBulkDestroyedEvent.ts  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostsBulkFeaturedEvent.ts   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostsBulkUnfeaturedEvent.ts [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostsBulkUnpublishedEvent.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostsBulkUnscheduledEvent.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m index.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/security:"test:unit"
2025-04-15T04:32:46.9255554Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:46.9265331Z
2025-04-15T04:32:46.9269327Z
[33m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:46.9286433Z
[92m [0m[32m 31 passing[0m[90m (216ms)[0m
2025-04-15T04:32:46.9287290Z
----------------|---------|----------|---------|---------|--------------------------
File            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------|---------|----------|---------|---------|--------------------------
[33;1mAll files      [0m | [33;1m  78.29[0m | [32;1m   84.61[0m | [33;1m  77.77[0m | [33;1m  78.29[0m | [31;1m                        [0m
[32;1m security      [0m | [32;1m     96[0m | [32;1m     100[0m | [32;1m  83.33[0m | [32;1m     96[0m | [31;1m                        [0m
[32;1m  index.js     [0m | [32;1m     96[0m | [32;1m     100[0m | [32;1m  83.33[0m | [32;1m     96[0m | [31;1m15                      [0m
[33;1m security/lib  [0m | [33;1m  76.39[0m | [32;1m   81.81[0m | [33;1m     75[0m | [33;1m  76.39[0m | [31;1m                        [0m
[31;1m  identifier.js[0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-25                    [0m
[32;1m  password.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[32;1m  secret.js    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[32;1m  string.js    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
[33;1m  tokens.js    [0m | [33;1m  76.74[0m | [33;1m   72.22[0m | [33;1m     60[0m | [33;1m  76.74[0m | [31;1m4-14,18-32,67-68,112-113[0m
[32;1m  url.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                        [0m
----------------|---------|----------|---------|---------|--------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/custom-fonts:"test:unit"
2025-04-15T04:32:48.2767483Z
[2K[1G[2m$ NODE_ENV=testing c8 --src src --all --check-coverage --100 --reporter text --reporter cobertura mocha -r ts-node/register './test/**/*.test.ts'[22m
2025-04-15T04:32:48.2769744Z
[0m[0m
[0m  Custom Fonts[0m
[0m    getCustomFonts[0m
[32m  [32mâœ”[39m[0m[90m returns the correct custom fonts[0m
[0m    getCSSFriendlyFontClassName[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class name for a font[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class name for a font with a space[0m
[32m  [32mâœ”[39m[0m[90m returns empty string for an invalid font[0m
[0m    getCustomFontClassName[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class name for a valid heading font[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class name for a valid body font[0m
[32m  [32mâœ”[39m[0m[90m returns empty string for an invalid font[0m
[0m    isValidCustomFont[0m
[32m  [32mâœ”[39m[0m[90m returns true for valid body fonts[0m
[32m  [32mâœ”[39m[0m[90m returns false for invalid fonts[0m
[0m    isValidCustomHeadingFont[0m
[32m  [32mâœ”[39m[0m[90m returns true for valid heading fonts[0m
[32m  [32mâœ”[39m[0m[90m returns false for invalid heading fonts[0m
[0m    generateCustomFontCss[0m
[32m  [32mâœ”[39m[0m[90m returns correct CSS for single font[0m
[32m  [32mâœ”[39m[0m[90m returns correct CSS for different heading and body fonts[0m
[32m  [32mâœ”[39m[0m[90m returns correct CSS with only one import for equal heading and body fonts[0m
[32m  [32mâœ”[39m[0m[90m generates CSS when only body font is provided[0m
[32m  [32mâœ”[39m[0m[90m generates CSS when only heading font is provided[0m
[0m    generateCustomFontBodyClass[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class for a single font[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class for different heading and body fonts[0m
[32m  [32mâœ”[39m[0m[90m returns the correct class with only a heading font[0m
[32m  [32mâœ”[39m[0m[90m returns empty string with no fonts[0m
2025-04-15T04:32:48.2832340Z
2025-04-15T04:32:48.2832351Z
[92m [0m[32m 20 passing[0m[90m (29ms)[0m
2025-04-15T04:32:48.2833146Z
----------|---------|----------|---------|---------|-------------------
File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------|---------|----------|---------|---------|-------------------
[32;1mAll files[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m index.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
----------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/milestones:"test:unit"
2025-04-15T04:32:49.1929806Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --100  --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:49.1932019Z
2025-04-15T04:32:49.1932030Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:49.1934229Z
[92m [0m[32m 27 passing[0m[90m (38ms)[0m
2025-04-15T04:32:49.1935294Z
---------------------------------|---------|----------|---------|---------|-------------------
File                             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m milestones                     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js                      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m milestones/lib                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  InMemoryMilestoneRepository.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  Milestone.js                  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MilestoneCreatedEvent.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MilestonesService.js          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  milestones.js                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
---------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/link-replacer:"test:unit"
2025-04-15T04:32:50.1660742Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --100 --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:50.1662844Z
2025-04-15T04:32:50.1662854Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:50.1664855Z
[92m [0m[32m 12 passing[0m[90m (25ms)[0m
2025-04-15T04:32:50.1666042Z
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|-------------------
[32;1mAll files         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m link-replacer    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m link-replacer/lib[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  link-replacer.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
-------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/donations:"test:unit"
2025-04-15T04:32:51.1892225Z
[2K[1G[2m$ NODE_ENV=testing c8 --src src --all --reporter text --reporter cobertura -- mocha --reporter dot -r ts-node/register './test/**/*.test.ts'[22m
2025-04-15T04:32:51.1900979Z
2025-04-15T04:32:51.1901337Z
[90m.[0m
2025-04-15T04:32:51.1906417Z
[92m [0m[32m 1 passing[0m[90m (6ms)[0m
2025-04-15T04:32:51.1908998Z
--------------------------------|---------|----------|---------|---------|-------------------
File                            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------------------------|---------|----------|---------|---------|-------------------
[31;1mAll files                      [0m | [31;1m  33.33[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m  33.33[0m | [31;1m                 [0m
[33;1m DonationBookshelfRepository.ts[0m | [33;1m     50[0m | [31;1m       0[0m | [31;1m      0[0m | [33;1m     50[0m | [31;1m26-50            [0m
[31;1m DonationPaymentEvent.ts       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-41             [0m
[32;1m DonationRepository.ts         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m index.ts                      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
--------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-framework:"test:unit"
2025-04-15T04:32:52.2206207Z
[2K[1G[2m$ vitest run --coverage[22m
2025-04-15T04:32:52.2275083Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/admin-x-framework[39m
[2m      Coverage enabled with [22m[33mv8[39m
2025-04-15T04:32:52.2288602Z
[32mâœ“[39m test/unit/utils/api/updateQueries.test.ts [2m ([22m[2m6 tests[22m[2m)[22m[90m 18[2mms[22m[39m
[32mâœ“[39m test/unit/hooks/useForm.test.ts [2m ([22m[2m5 tests[22m[2m)[22m[90m 132[2mms[22m[39m
[32mâœ“[39m test/unit/utils/api/hooks.test.tsx [2m ([22m[2m17 tests[22m[2m)[22m[33m 946[2mms[22m[39m
[32mâœ“[39m test/unit/utils/api/settings.test.tsx [2m ([22m[2m7 tests[22m[2m)[22m[90m 14[2mms[22m[39m
[32mâœ“[39m test/unit/utils/api/fetchApi.test.tsx [2m ([22m[2m1 test[22m[2m)[22m[90m 53[2mms[22m[39m
2025-04-15T04:32:52.2298800Z
[2m Test Files [22m [1m[32m5 passed[39m[22m[90m (5)[39m
[2m      Tests [22m [1m[32m36 passed[39m[22m[90m (36)[39m
[2m   Start at [22m 00:32:42
[2m   Duration [22m 9.09s[2m (transform 846ms, setup 0ms, collect 7.46s, tests 1.16s, environment 4.35s, prepare 950ms)[22m
2025-04-15T04:32:52.2304513Z
[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|-------------------
[33;1mAll files         [0m | [33;1m  75.93[0m | [33;1m   72.97[0m | [31;1m  46.66[0m | [33;1m  75.93[0m | [31;1m                 [0m
[33;1m api              [0m | [33;1m  68.61[0m | [32;1m    92.3[0m | [31;1m  27.27[0m | [33;1m  68.61[0m | [31;1m                 [0m
[31;1m  currentUser.ts  [0m | [31;1m  31.25[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  31.25[0m | [31;1m11-32            [0m
[32;1m  settings.ts     [0m | [32;1m     80[0m | [32;1m    92.3[0m | [31;1m     30[0m | [32;1m     80[0m | [31;1m...8,66-72,95-105[0m
[33;1m hooks            [0m | [33;1m  70.85[0m | [33;1m   66.66[0m | [33;1m     50[0m | [33;1m  70.85[0m | [31;1m                 [0m
[32;1m  useForm.ts      [0m | [32;1m  84.02[0m | [33;1m   65.38[0m | [33;1m     50[0m | [32;1m  84.02[0m | [31;1m...55-157,161-162[0m
[31;1m  ...andleError.ts[0m | [31;1m  43.28[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m  43.28[0m | [31;1m24-61            [0m
[31;1m  ...ermissions.ts[0m | [31;1m  36.36[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  36.36[0m | [31;1m5-11             [0m
[32;1m providers        [0m | [32;1m    100[0m | [32;1m     100[0m | [31;1m  33.33[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  ...kProvider.tsx[0m | [32;1m    100[0m | [32;1m     100[0m | [31;1m  33.33[0m | [32;1m    100[0m | [33;1m                 [0m
[33;1m utils            [0m | [33;1m     69[0m | [32;1m     100[0m | [31;1m   6.25[0m | [33;1m     69[0m | [31;1m                 [0m
[33;1m  errors.ts       [0m | [33;1m  63.96[0m | [32;1m     100[0m | [31;1m      0[0m | [33;1m  63.96[0m | [31;1m...99-100,109-110[0m
[33;1m  helpers.ts      [0m | [33;1m  61.76[0m | [32;1m     100[0m | [31;1m  33.33[0m | [33;1m  61.76[0m | [31;1m20-30,33-34      [0m
[32;1m  queryClient.ts  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m utils/api        [0m | [32;1m  80.43[0m | [33;1m   71.42[0m | [32;1m  90.47[0m | [32;1m  80.43[0m | [31;1m                 [0m
[33;1m  fetchApi.ts     [0m | [33;1m  64.46[0m | [31;1m   44.44[0m | [33;1m  66.66[0m | [33;1m  64.46[0m | [31;1m...79-103,106-110[0m
[31;1m  ...leResponse.ts[0m | [31;1m   37.2[0m | [31;1m   11.11[0m | [32;1m    100[0m | [31;1m   37.2[0m | [31;1m...11,13-33,35,37[0m
[32;1m  hooks.ts        [0m | [32;1m  93.33[0m | [33;1m   79.36[0m | [32;1m  91.66[0m | [32;1m  93.33[0m | [31;1m...70,195,197-202[0m
[32;1m  updateQueries.ts[0m | [32;1m  93.02[0m | [32;1m   83.33[0m | [32;1m    100[0m | [32;1m  93.02[0m | [31;1m6-7,33-34,65-66  [0m
-------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/email-suppression-list:"test:unit"
2025-04-15T04:32:54.0078568Z
[2K[1G[2m$ yarn test[22m
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:54.0091711Z
2025-04-15T04:32:54.0093201Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:54.0098429Z
[92m [0m[32m 4 passing[0m[90m (5ms)[0m
2025-04-15T04:32:54.0102142Z
----------------------------|---------|----------|---------|---------|-------------------
File                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                  [0m | [32;1m   95.2[0m | [32;1m   88.88[0m | [33;1m   62.5[0m | [32;1m   95.2[0m | [31;1m                 [0m
[32;1m email-suppression-list    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m email-suppression-list/lib[0m | [32;1m  95.16[0m | [32;1m    87.5[0m | [33;1m   62.5[0m | [32;1m  95.16[0m | [31;1m                 [0m
[32;1m  email-suppression-list.js[0m | [32;1m  95.16[0m | [32;1m    87.5[0m | [33;1m   62.5[0m | [32;1m  95.16[0m | [31;1m67-68,75-76,83-84[0m
----------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/post-revisions:"test:unit"
2025-04-15T04:32:54.5698215Z
[2K[1G[2m$ NODE_ENV=testing c8 --src src --all --check-coverage --100  --reporter text --reporter cobertura -- mocha --reporter dot -r ts-node/register './test/**/*.test.ts'[22m
2025-04-15T04:32:54.5706253Z
2025-04-15T04:32:54.5709727Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:54.5713587Z
[92m [0m[32m 16 passing[0m[90m (13ms)[0m
2025-04-15T04:32:54.5715893Z
------------------|---------|----------|---------|---------|-------------------
File              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
------------------|---------|----------|---------|---------|-------------------
[32;1mAll files        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PostRevisions.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m index.ts        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/custom-theme-settings-service:"test:unit"
2025-04-15T04:32:56.2078315Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura --check-coverage -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:56.2081065Z
2025-04-15T04:32:56.2081159Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:56.2083560Z
[92m [0m[32m 29 passing[0m[90m (122ms)[0m
2025-04-15T04:32:56.2084615Z
-------------------------------------|---------|----------|---------|---------|-------------------
File                                 | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m custom-theme-settings-service      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js                          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m custom-theme-settings-service/lib  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  CustomThemeSettingsBREADService.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  CustomThemeSettingsCache.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  CustomThemeSettingsService.js     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
-------------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/members-api:"test:unit"
2025-04-15T04:32:58.1771489Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:58.1774066Z
2025-04-15T04:32:58.1774485Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m [RouterController._getSubscriptionCheckoutData] Expected offerId or tierId, received none
[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m [RouterController._getSubscriptionCheckoutData] Expected offerId or tierId, received both
[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m [RouterController._getSubscriptionCheckoutData] Expected cadence to be "month" or "year", received  undefined
[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m [RouterController._getSubscriptionCheckoutData] Expected cadence to be "month" or "year", received  day
[90m.[0m[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m undefined
[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m Fail to fetch tier
[31m
[31mFail to fetch tier[39m
2025-04-15T04:32:58.1787133Z
[90m----------------------------------------[39m
2025-04-15T04:32:58.1787864Z
[90mError: Fail to fetch tier
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/members-api/test/unit/lib/controllers/router.test.js:232:52)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:57] [35mWARN[39m Donation personal note is too long, ignoring: aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
[90m.[0m[2025-04-15 04:32:57] [35mWARN[39m Donation personal note is not a string, ignoring
[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m Cannot subscribe to invalid newsletters abc123
[31m
[31mCannot subscribe to invalid newsletters abc123[39m
2025-04-15T04:32:58.1860029Z
[1m[37mError ID:[39m[22m
[90mb48259c0-19b2-11f0-ba96-f14496b0dec5[39m
2025-04-15T04:32:58.1861458Z
[90m----------------------------------------[39m
2025-04-15T04:32:58.1862143Z
[90mBadRequestError: Cannot subscribe to invalid newsletters abc123
at RouterController._validateNewsletters (/home/runner/work/Ghost/Ghost/ghost/members-api/lib/controllers/RouterController.js:628:23)
at async RouterController._handleSignup (/home/runner/work/Ghost/Ghost/ghost/members-api/lib/controllers/RouterController.js:590:26)
at async RouterController.sendMagicLink (/home/runner/work/Ghost/Ghost/ghost/members-api/lib/controllers/RouterController.js:543:17)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/members-api/test/unit/lib/controllers/router.test.js:599:17)[39m
[39m
[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m Cannot subscribe to archived newsletters Newsletter 2
[31m
[31mCannot subscribe to archived newsletters Newsletter 2[39m
2025-04-15T04:32:58.1873070Z
[1m[37mError ID:[39m[22m
[90mb4831d10-19b2-11f0-ba96-f14496b0dec5[39m
2025-04-15T04:32:58.1874151Z
[90m----------------------------------------[39m
2025-04-15T04:32:58.1874975Z
[90mBadRequestError: Cannot subscribe to archived newsletters Newsletter 2
at RouterController._validateNewsletters (/home/runner/work/Ghost/Ghost/ghost/members-api/lib/controllers/RouterController.js:639:23)
at async RouterController._handleSignup (/home/runner/work/Ghost/Ghost/ghost/members-api/lib/controllers/RouterController.js:590:26)
at async RouterController.sendMagicLink (/home/runner/work/Ghost/Ghost/ghost/members-api/lib/controllers/RouterController.js:543:17)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/members-api/test/unit/lib/controllers/router.test.js:639:17)[39m
[39m
[90m.[0m[90m.[0m[2025-04-15 04:32:57] [35mWARN[39m Honeypot field filled, this is likely a bot
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m(node:5137) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 OfferRedemptionEvent listeners added to [EventEmitter]. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:57] [31mERROR[39m Failed to lookup Stripe Price price_1
[2025-04-15 04:32:57] [31mERROR[39m Price does not exist
[31m
[31mPrice does not exist[39m
2025-04-15T04:32:58.1895240Z
[90m----------------------------------------[39m
2025-04-15T04:32:58.1895952Z
[90mError: Price does not exist
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/members-api/test/unit/lib/services/payments.test.js:98:46)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m
[90m.[0m[90m.[0m
2025-04-15T04:32:58.1922885Z
[92m [0m[32m 58 passing[0m[90m (444ms)[0m
2025-04-15T04:32:58.1923546Z
------------------------------|---------|----------|---------|---------|----------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
------------------------------|---------|----------|---------|---------|----------------------------
[31;1mAll files                    [0m | [31;1m  39.77[0m | [33;1m   54.06[0m | [31;1m  43.85[0m | [31;1m  39.77[0m | [31;1m                          [0m
[31;1m members-api                 [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                          [0m
[31;1m  index.js                   [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1                         [0m
[31;1m members-api/lib             [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                          [0m
[31;1m  members-api.js             [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-404                     [0m
[33;1m members-api/lib/controllers [0m | [33;1m  61.38[0m | [33;1m   66.94[0m | [33;1m  70.58[0m | [33;1m  61.38[0m | [31;1m                          [0m
[33;1m  MemberController.js        [0m | [33;1m  63.08[0m | [33;1m   64.28[0m | [33;1m  66.66[0m | [33;1m  63.08[0m | [31;1m...149-151,160-167,208-212[0m
[33;1m  RouterController.js        [0m | [33;1m  65.06[0m | [33;1m   68.47[0m | [33;1m  76.92[0m | [33;1m  65.06[0m | [31;1m...565-574,579-582,598-610[0m
[31;1m  WellKnownController.js     [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-46                      [0m
[31;1m members-api/lib/repositories[0m | [31;1m  33.97[0m | [31;1m    37.5[0m | [31;1m  33.33[0m | [31;1m  33.97[0m | [31;1m                          [0m
[31;1m  EventRepository.js         [0m | [31;1m  29.47[0m | [32;1m   94.73[0m | [31;1m  29.16[0m | [31;1m  29.47[0m | [31;1m...914-925,928-956,959-983[0m
[31;1m  MemberRepository.js        [0m | [31;1m  41.69[0m | [31;1m   28.26[0m | [31;1m   38.7[0m | [31;1m  41.69[0m | [31;1m...592,1608-1699,1710-1738[0m
[31;1m  ProductRepository.js       [0m | [31;1m  20.39[0m | [32;1m     100[0m | [31;1m     25[0m | [31;1m  20.39[0m | [31;1m...341-644,654-655,658-659[0m
[33;1m members-api/lib/services    [0m | [33;1m  54.84[0m | [33;1m   70.27[0m | [33;1m  53.12[0m | [33;1m  54.84[0m | [31;1m                          [0m
[32;1m  GeolocationService.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m
[33;1m  MemberBREADService.js      [0m | [33;1m  53.82[0m | [33;1m   77.14[0m | [33;1m     60[0m | [33;1m  53.82[0m | [31;1m...329-372,375-376,379-443[0m
[31;1m  PaymentsService.js         [0m | [31;1m  49.42[0m | [33;1m      50[0m | [31;1m  35.29[0m | [31;1m  49.42[0m | [31;1m...479-480,482-485,495-519[0m
[32;1m  TokenService.js            [0m | [32;1m  96.29[0m | [32;1m   83.33[0m | [32;1m    100[0m | [32;1m  96.29[0m | [31;1m44-45                     [0m
------------------------------|---------|----------|---------|---------|----------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/mw-error-handler:"test:unit"
2025-04-15T04:32:58.2407393Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --100 --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:58.2417239Z
2025-04-15T04:32:58.2418387Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:58.2426692Z
[92m [0m[32m 25 passing[0m[90m (22ms)[0m
2025-04-15T04:32:58.2430129Z
----------------------|---------|----------|---------|---------|-------------------
File                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------|---------|----------|---------|---------|-------------------
[32;1mAll files            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m mw-error-handler    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m mw-error-handler/lib[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  mw-error-handler.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
----------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/email-service:"test:unit"
2025-04-15T04:32:59.2382012Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --100 --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:32:59.2390732Z
2025-04-15T04:32:59.2393889Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:52] [35mWARN[39m Member row not included as email recipient due to missing data - id: 67fde1746f819c131f6e6f1c, uuid: undefined, email: undefined
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[33m.[0m[90m.[0m[2025-04-15 04:32:53] [31mERROR[39m Error recording email analytics event processed Error
[31m
[31mError[39m
2025-04-15T04:32:59.2437966Z
[90m----------------------------------------[39m
2025-04-15T04:32:59.2441406Z
[90mError: Error
at fake.exceptionCreator (/home/runner/work/Ghost/Ghost/node_modules/sinon/lib/sinon/default-behaviors.js:24:20)
at Object.invoke (/home/runner/work/Ghost/Ghost/node_modules/sinon/lib/sinon/behavior.js:165:35)
at Object.functionStub (/home/runner/work/Ghost/Ghost/node_modules/sinon/lib/sinon/stub.js:44:43)
at Function.invoke (/home/runner/work/Ghost/Ghost/node_modules/sinon/lib/sinon/proxy-invoke.js:53:47)
at Object.functionStub [as inc] (/home/runner/work/Ghost/Ghost/node_modules/sinon/lib/sinon/proxy.js:265:26)
at EmailEventProcessor.recordEventProcessed (/home/runner/work/Ghost/Ghost/ghost/email-service/lib/EmailEventProcessor.js:236:87)
at /home/runner/work/Ghost/Ghost/ghost/email-service/test/email-event-processor.test.js:198:54
at getActual (node:assert:765:5)
at Function.doesNotThrow (node:assert:931:32)
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/email-service/test/email-event-processor.test.js:198:20)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate._onImmediate (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:53] [35mWARN[39m Missing error information provided for permanent failure event with id undefined
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:53] [35mWARN[39m Rewriting bulk email from address example@localhost to localhost@example.com
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m
[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:58] [31mERROR[39m Test error
[31m
[31mTest error[39m
2025-04-15T04:32:59.2506267Z
[90m----------------------------------------[39m
2025-04-15T04:32:59.2506998Z
[90mError: Test error
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/email-service/test/email-service.test.js:176:43)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:58] [36mINFO[39m Sending email to 1 recipients
[2025-04-15 04:32:58] [36mINFO[39m Sent message (1ms)
[90m.[0m[2025-04-15 04:32:58] [36mINFO[39m Sending email to 1 recipients
[90m.[0m[2025-04-15 04:32:58] [36mINFO[39m Sending email to 1 recipients
[90m.[0m[2025-04-15 04:32:58] [36mINFO[39m Sending email to 1 recipients
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:32:58] [35mWARN[39m Removed recipient member+invalid@example.comï¿½ from list because it is not a valid email address
[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:32:59.2529328Z
[92m [0m[32m 260 passing[0m[90m (6s)[0m
2025-04-15T04:32:59.2530076Z
--------------------------------|---------|----------|---------|---------|-------------------
File                            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m email-service                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js                     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m email-service/lib             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  BatchSendingService.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailBodyCache.js            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailController.js           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailEventProcessor.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailEventStorage.js         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailRenderer.js             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailSegmenter.js            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailService.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MailgunEmailProvider.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  SendingService.js            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m email-service/lib/events      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailBouncedEvent.js         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailDeliveredEvent.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailOpenedEvent.js          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailTemporaryBouncedEvent.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  EmailUnsubscribedEvent.js    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  SpamComplaintEvent.js        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m email-service/lib/helpers     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  register-helpers.js          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
--------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/prometheus-metrics:"test:unit"
2025-04-15T04:33:00.0256637Z
[2K[1G[2m$ NODE_ENV=testing c8 --src src --all --check-coverage --90 --reporter text --reporter cobertura mocha -r ts-node/register './test/**/*.test.ts'[22m
2025-04-15T04:33:00.0261536Z
[0m[0m
[0m  Metrics Server[0m
[0m    constructor[0m
[32m  [32mâœ”[39m[0m[90m should create a new instance[0m
[0m    start[0m
[32m  [32mâœ”[39m[0m[90m should start the server[0m
[32m  [32mâœ”[39m[0m[90m should use the provided handler[0m
[0m    stop[0m
[32m  [32mâœ”[39m[0m[90m should stop the server[0m
[0m    shutdown[0m
[32m  [32mâœ”[39m[0m[90m should shutdown the server[0m
[32m  [32mâœ”[39m[0m[90m should not shutdown the server if it is already shutting down[0m
2025-04-15T04:33:00.0288465Z
[0m  Prometheus Client[0m
[0m    constructor[0m
[32m  [32mâœ”[39m[0m[90m should create a new instance[0m
[0m    init[0m
[32m  [32mâœ”[39m[0m[90m should call collectDefaultMetrics[0m
[32m  [32mâœ”[39m[0m[90m should create the pushgateway client if the pushgateway is enabled[0m
[32m  [32mâœ”[39m[0m[90m should not create the pushgateway client if the pushgateway is disabled[0m
[0m    collectDefaultMetrics[0m
[32m  [32mâœ”[39m[0m[90m should call collectDefaultMetrics on the client[0m
[0m    pushMetrics[0m
[32m  [32mâœ”[39m[0m[90m should push metrics to the pushgateway[0m
[32m  [32mâœ”[39m[0m[90m should log an error with error code if pushing metrics to the gateway fails[0m
[32m  [32mâœ”[39m[0m[90m should log a generic error if the error is unknown[0m
[32m  [32mâœ”[39m[0m[90m should give up after 3 retries in a row[0m
[0m    handleMetricsRequest[0m
[32m  [32mâœ”[39m[0m[90m should return the metrics[0m
[32m  [32mâœ”[39m[0m[90m should return an error if getting metrics fails[0m
[32m  [32mâœ”[39m[0m[90m should return a generic error if the error is unknown[0m
[0m    getMetrics[0m
[32m  [32mâœ”[39m[0m[90m should return metrics as a string[0m
[0m    getMetricsAsJSON[0m
[32m  [32mâœ”[39m[0m[90m should return metrics as an array of objects[0m
[0m    getMetricsAsArray[0m
[32m  [32mâœ”[39m[0m[90m should return metrics as an array[0m
[0m    getMetric[0m
[32m  [32mâœ”[39m[0m[90m should return a metric from the registry by name[0m
[32m  [32mâœ”[39m[0m[90m should return undefined if the metric is not found[0m
[32m  [32mâœ”[39m[0m[90m should add the prefix to the metric name if it is not already present[0m
[0m    getMetricObject[0m
[32m  [32mâœ”[39m[0m[90m should return the values of a metric[0m
[32m  [32mâœ”[39m[0m[90m should return undefined if the metric is not found[0m
[0m    getMetricValues[0m
[32m  [32mâœ”[39m[0m[90m should return the values of a metric[0m
[32m  [32mâœ”[39m[0m[90m should return undefined if the metric is not found[0m
[0m    instrumentKnex[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool max metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool min metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool active metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool used metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool idle metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool pending acquires metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the connection pool pending creates metric[0m
[32m  [32mâœ”[39m[0m[90m should collect the db query duration metric when a query is executed[0m
[32m  [32mâœ”[39m[0m[90m should accurately calculate the query duration of a query[0m
[32m  [32mâœ”[39m[0m[90m should collect the db connection acquire duration metric when a connection is acquired[0m
[32m  [32mâœ”[39m[0m[90m should collect the db connection acquire duration metric when a connection fails to be acquired[0m
[32m  [32mâœ”[39m[0m[90m should collect the db connection create duration metrics when a connection is created[0m
[32m  [32mâœ”[39m[0m[90m should collect the db connection create duration metrics when a connection fails to be created[0m
[0m    Custom Metrics[0m
[0m      registerCounter[0m
[32m  [32mâœ”[39m[0m[90m should add the counter metric to the registry[0m
[32m  [32mâœ”[39m[0m[90m should return the counter metric[0m
[32m  [32mâœ”[39m[0m[90m should increment the counter[0m
[0m      registerGauge[0m
[32m  [32mâœ”[39m[0m[90m should add the gauge metric to the registry[0m
[32m  [32mâœ”[39m[0m[90m should return the gauge metric[0m
[32m  [32mâœ”[39m[0m[90m should set the gauge value[0m
[32m  [32mâœ”[39m[0m[90m should increment the gauge[0m
[32m  [32mâœ”[39m[0m[90m should decrement the gauge[0m
[32m  [32mâœ”[39m[0m[90m should use the collect function to set the gauge value[0m
[32m  [32mâœ”[39m[0m[90m should use an async collect function to set the gauge value[0m
[0m      registerSummary[0m
[32m  [32mâœ”[39m[0m[90m should add the summary metric to the registry[0m
[32m  [32mâœ”[39m[0m[90m should return the summary metric[0m
[32m  [32mâœ”[39m[0m[90m can observe a value[0m
[32m  [32mâœ”[39m[0m[90m can use the collect function to set the summary value[0m
[32m  [32mâœ”[39m[0m[90m can use an async collect function to set the summary value[0m
[32m  [32mâœ”[39m[0m[90m respects the percentiles option[0m
[32m  [32mâœ”[39m[0m[90m removes datapoints older than maxAgeSeconds from percentile metrics if maxAgeSeconds and ageBuckets are provided[0m
[32m  [32mâœ”[39m[0m[90m does not export the metric if maxAgeSeconds and ageBuckets are provided and pruneAgedBuckets is true[0m
[32m  [32mâœ”[39m[0m[90m can use a timer to observe the summary value[0m
[0m      registerHistogram[0m
[32m  [32mâœ”[39m[0m[90m should add the histogram metric to the registry[0m
[32m  [32mâœ”[39m[0m[90m should return the histogram metric[0m
[32m  [32mâœ”[39m[0m[90m can observe a value[0m
[32m  [32mâœ”[39m[0m[90m can use a timer to observe the histogram value[0m
2025-04-15T04:33:00.0462443Z
2025-04-15T04:33:00.0462453Z
[92m [0m[32m 64 passing[0m[90m (254ms)[0m
2025-04-15T04:33:00.0463233Z
---------------------|---------|----------|---------|---------|-------------------
File                 | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------------|---------|----------|---------|---------|-------------------
[32;1mAll files           [0m | [32;1m    100[0m | [32;1m    98.5[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m MetricsServer.ts   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m PrometheusClient.ts[0m | [32;1m    100[0m | [32;1m   98.24[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m77               [0m
[32;1m index.ts           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
---------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/api-framework:"test:unit"
2025-04-15T04:33:00.5667756Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:00.5669646Z
2025-04-15T04:33:00.5669656Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:00.5676024Z
[92m [0m[32m 81 passing[0m[90m (243ms)[0m
2025-04-15T04:33:00.5676787Z
--------------------------------------|---------|----------|---------|---------|--------------------
File                                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------------------------------|---------|----------|---------|---------|--------------------
[32;1mAll files                            [0m | [32;1m   90.8[0m | [32;1m   88.78[0m | [32;1m  81.69[0m | [32;1m   90.8[0m | [31;1m                  [0m
[32;1m api-framework                       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  index.js                           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m api-framework/lib                   [0m | [32;1m   88.9[0m | [32;1m   80.41[0m | [32;1m  81.25[0m | [32;1m   88.9[0m | [31;1m                  [0m
[32;1m  Frame.js                           [0m | [32;1m   90.9[0m | [33;1m   76.47[0m | [32;1m     80[0m | [32;1m   90.9[0m | [31;1m...0,83-84,102-103[0m
[32;1m  api-framework.js                   [0m | [32;1m   93.1[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m   93.1[0m | [31;1m27-28             [0m
[32;1m  headers.js                         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[33;1m  http.js                            [0m | [33;1m  72.18[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  72.18[0m | [31;1m...106-119,123-129[0m
[32;1m  pipeline.js                        [0m | [32;1m  89.39[0m | [32;1m   81.25[0m | [33;1m  63.63[0m | [32;1m  89.39[0m | [31;1m...228-229,243-244[0m
[32;1m api-framework/lib/serializers       [0m | [32;1m  98.68[0m | [32;1m     100[0m | [32;1m  93.33[0m | [32;1m  98.68[0m | [31;1m                  [0m
[32;1m  handle.js                          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  index.js                           [0m | [32;1m  84.61[0m | [32;1m     100[0m | [33;1m  66.66[0m | [32;1m  84.61[0m | [31;1m11-12             [0m
[32;1m api-framework/lib/serializers/input [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  all.js                             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  index.js                           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[31;1m api-framework/lib/serializers/output[0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                  [0m
[31;1m  index.js                           [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1                 [0m
[32;1m api-framework/lib/utils             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  index.js                           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  options.js                         [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m api-framework/lib/validators        [0m | [32;1m   92.1[0m | [32;1m   85.71[0m | [32;1m   87.5[0m | [32;1m   92.1[0m | [31;1m                  [0m
[32;1m  handle.js                          [0m | [32;1m  91.04[0m | [32;1m   81.81[0m | [32;1m  83.33[0m | [32;1m  91.04[0m | [31;1m28-29,53-56       [0m
[32;1m  index.js                           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m api-framework/lib/validators/input  [0m | [32;1m  87.12[0m | [32;1m      95[0m | [33;1m  63.63[0m | [32;1m  87.12[0m | [31;1m                  [0m
[32;1m  all.js                             [0m | [32;1m  86.84[0m | [32;1m   94.73[0m | [33;1m     60[0m | [32;1m  86.84[0m | [31;1m...220-221,225-227[0m
[32;1m  index.js                           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                  [0m
--------------------------------------|---------|----------|---------|---------|--------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/members-offers:"test:unit"
2025-04-15T04:33:01.3953710Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:01.3962929Z
2025-04-15T04:33:01.3966632Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:01.3976980Z
[92m [0m[32m 49 passing[0m[90m (33ms)[0m
2025-04-15T04:33:01.3982107Z
---------------------------------|---------|----------|---------|---------|-------------------------
File                             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------------------------|---------|----------|---------|---------|-------------------------
[33;1mAll files                       [0m | [33;1m   74.6[0m | [32;1m   96.05[0m | [32;1m  82.19[0m | [33;1m   74.6[0m | [31;1m                       [0m
[31;1m offers                         [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                       [0m
[31;1m  index.js                      [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1                      [0m
[31;1m offers/lib                     [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                       [0m
[31;1m  OffersModule.js               [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-78                   [0m
[31;1m offers/lib/application         [0m | [31;1m  14.22[0m | [33;1m   66.66[0m | [33;1m     60[0m | [31;1m  14.22[0m | [31;1m                       [0m
[31;1m  OfferMapper.js                [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-66                   [0m
[31;1m  OffersAPI.js                  [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-127                  [0m
[32;1m  UniqueChecker.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m offers/lib/domain/errors       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  index.js                      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m offers/lib/domain/events       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferCodeChangeEvent.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferCreatedEvent.js          [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m offers/lib/domain/models       [0m | [32;1m  96.04[0m | [32;1m   98.32[0m | [32;1m  84.21[0m | [32;1m  96.04[0m | [31;1m                       [0m
[32;1m  Offer.js                      [0m | [32;1m  94.52[0m | [32;1m   96.66[0m | [33;1m  73.33[0m | [32;1m  94.52[0m | [31;1m...-157,164-165,192-193[0m
[32;1m  OfferAmount.js                [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferCadence.js               [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferCode.js                  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[33;1m  OfferCreatedAt.js             [0m | [33;1m  66.66[0m | [33;1m      75[0m | [33;1m  66.66[0m | [33;1m  66.66[0m | [31;1m8-9,17-24              [0m
[32;1m  OfferCurrency.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferDescription.js           [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferDuration.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferName.js                  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferStatus.js                [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferTitle.js                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m  OfferType.js                  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                       [0m
[32;1m offers/lib/domain/models/shared[0m | [32;1m  95.34[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.34[0m | [31;1m                       [0m
[32;1m  ValueObject.js                [0m | [32;1m  95.34[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.34[0m | [31;1m30-31                  [0m
---------------------------------|---------|----------|---------|---------|-------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/constants:"test:unit"
2025-04-15T04:33:02.8603492Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:02.8612573Z
2025-04-15T04:33:02.8613560Z
[90m.[0m
2025-04-15T04:33:02.8614165Z
[92m [0m[32m 1 passing[0m[90m (5ms)[0m
2025-04-15T04:33:02.8615801Z
---------------|---------|----------|---------|---------|-------------------
File           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------|---------|----------|---------|---------|-------------------
[31;1mAll files     [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m
[31;1m constants    [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m
[31;1m  index.js    [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1                [0m
[31;1m constants/lib[0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m
[31;1m  constants.js[0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-18             [0m
---------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/email-addresses:"test:unit"
2025-04-15T04:33:02.8956140Z
[2K[1G[2m$ NODE_ENV=testing c8 --src src --all --reporter text --reporter cobertura -- mocha --reporter dot -r ts-node/register './test/**/*.test.ts'[22m
2025-04-15T04:33:02.8958957Z
2025-04-15T04:33:02.8959145Z
[33m.[0m
2025-04-15T04:33:02.8959641Z
[92m [0m[32m 1 passing[0m[90m (64ms)[0m
2025-04-15T04:33:02.8960316Z
------------------------|---------|----------|---------|---------|-------------------
File                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
------------------------|---------|----------|---------|---------|-------------------
[31;1mAll files              [0m | [31;1m  15.11[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m  15.11[0m | [31;1m                 [0m
[31;1m EmailAddressParser.ts [0m | [31;1m  29.26[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  29.26[0m | [31;1m10-31,34-40      [0m
[31;1m EmailAddressService.ts[0m | [31;1m  10.98[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m  10.98[0m | [31;1m21-182           [0m
[32;1m index.ts              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/webmentions:"test:unit"
2025-04-15T04:33:03.2833056Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --check-coverage --100  --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:03.2836454Z
2025-04-15T04:33:03.2836466Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:02] [31mERROR[39m Error fetching http://www.notarealsite.com/ to discover webmention endpoint Response code 404 (Not Found)
[31m
[31mResponse code 404 (Not Found)[39m
2025-04-15T04:33:03.2840423Z
[1m[37mError Code: [39m[22m
[90mERR_NON_2XX_3XX_RESPONSE[39m
2025-04-15T04:33:03.2841539Z
[90m----------------------------------------[39m
2025-04-15T04:33:03.2842236Z
[90mHTTPError: Response code 404 (Not Found)
at Request.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/got/dist/source/as-promise/index.js:118:42)
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://diff-source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:43:02] [36mINFO[39m [Webmention] Created https://source2.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:43:02] [36mINFO[39m [Webmention] Created https://source2.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:43:02] [36mINFO[39m [Webmention] Created https://source2.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:43:02] [36mINFO[39m [Webmention] Updated https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:43:02] [36mINFO[39m [Webmention] Deleted https://source2.com/ to https://target.com/, verified: true
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Updated https://source.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: false, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Deleted https://source.com/ to https://target.com/, verified: true
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Deleted https://source.com/ to https://target.com/, verified: true
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Restored https://source.com/ to https://target.com/, verified: true
[90m.[0m[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Created https://source.com/ to https://target.com/, verified: true, deleted: false
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Deleted https://source.com/ to https://target.com/, verified: true
[2025-04-15 04:33:02] [36mINFO[39m [Webmention] Restored https://source.com/ to https://target.com/, verified: true
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:03.2897838Z
[92m [0m[32m 72 passing[0m[90m (333ms)[0m
2025-04-15T04:33:03.2898543Z
-------------------------------|---------|----------|---------|---------|-------------------
File                           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m webmentions                  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m webmentions/lib              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  InMemoryMentionRepository.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  Mention.js                  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MentionCreatedEvent.js      [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MentionDiscoveryService.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MentionSendingService.js    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MentionsAPI.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  webmentions.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
-------------------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/job-manager:"test:unit"
2025-04-15T04:33:04.2077455Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:04.2079208Z
2025-04-15T04:33:04.2079217Z
[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[93m.[0m[93m.[0m[33m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[33m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[36m,[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:04.2084008Z
[92m [0m[32m 62 passing[0m[90m (2s)[0m
[36m [0m[36m 1 pending[0m
2025-04-15T04:33:04.2085338Z
-------------------------|---------|----------|---------|---------|---------------------------------
File                     | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------------|---------|----------|---------|---------|---------------------------------
[32;1mAll files               [0m | [32;1m  90.57[0m | [32;1m   89.15[0m | [32;1m     88[0m | [32;1m  90.57[0m | [31;1m                               [0m
[32;1m job-manager            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                               [0m
[32;1m  index.js              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                               [0m
[32;1m job-manager/lib        [0m | [32;1m  89.91[0m | [32;1m   88.95[0m | [32;1m     88[0m | [32;1m  89.91[0m | [31;1m                               [0m
[32;1m  JobManager.js         [0m | [32;1m     91[0m | [32;1m    87.5[0m | [32;1m  94.44[0m | [32;1m     91[0m | [31;1m...-310,384-385,427-440,463-464[0m
[32;1m  JobQueueManager.js    [0m | [32;1m  95.37[0m | [32;1m   90.19[0m | [32;1m  95.45[0m | [32;1m  95.37[0m | [31;1m74-75,90-92,185-188,209-210    [0m
[33;1m  JobsRepository.js     [0m | [33;1m  72.99[0m | [32;1m     100[0m | [33;1m     50[0m | [33;1m  72.99[0m | [31;1m63-67,77-82,100-119,129-134    [0m
[32;1m  assemble-bree-job.js  [0m | [32;1m  93.02[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  93.02[0m | [31;1m31-33                          [0m
[32;1m  is-cron-expression.js [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                               [0m
[32;1m job-manager/lib/workers[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                               [0m
[32;1m  generic-worker.js     [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                               [0m
-------------------------|---------|----------|---------|---------|---------------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/mw-vhost:"test:unit"
2025-04-15T04:33:04.2803258Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:04.2812261Z
2025-04-15T04:33:04.2815841Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:04.2824738Z
[92m [0m[32m 20 passing[0m[90m (62ms)[0m
2025-04-15T04:33:04.2832538Z
--------------|---------|----------|---------|---------|-------------------
File          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------|---------|----------|---------|---------|-------------------
[32;1mAll files    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m mw-vhost    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  index.js   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m mw-vhost/lib[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  vhost.js   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
--------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/posts-service:"test:unit"
2025-04-15T04:33:04.7195080Z
[2K[1G[2m$ NODE_ENV=testing c8 --all --reporter text --reporter cobertura -- mocha --reporter dot './test/**/*.test.js'[22m
2025-04-15T04:33:04.7197102Z
2025-04-15T04:33:04.7197199Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:04] [31mERROR[39m Query Error: unexpected character in filter at char 1
sdgsdgsdg sdg sdg sd
^
Expecting 'LPAREN', 'PROP', got 'LITERAL'
[31m
[31mQuery Error: unexpected character in filter at char 1
sdgsdgsdg sdg sdg sd
^
Expecting 'LPAREN', 'PROP', got 'LITERAL'[39m
2025-04-15T04:33:04.7219411Z
[90m----------------------------------------[39m
2025-04-15T04:33:04.7220138Z
[90mError: Query Error: unexpected character in filter at char 1
sdgsdgsdg sdg sdg sd
^
Expecting 'LPAREN', 'PROP', got 'LITERAL'
at parser.parseError (/home/runner/work/Ghost/Ghost/node_modules/@tryghost/nql-lang/dist/parser.js:359:12)
at Parser.parse (/home/runner/work/Ghost/Ghost/node_modules/@tryghost/nql-lang/dist/parser.js:276:22)
at exports.parse (/home/runner/work/Ghost/Ghost/node_modules/@tryghost/nql-lang/lib/nql.js:18:44)
at api.parse (/home/runner/work/Ghost/Ghost/node_modules/@tryghost/nql/lib/nql.js:33:31)
at PostsExporter.humanReadableEmailRecipientFilter (/home/runner/work/Ghost/Ghost/ghost/posts-service/lib/PostsExporter.js:206:49)
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/posts-service/test/PostsExporter.test.js:535:26)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at cbHookRun (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:550:7)
at done (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:308:5)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:387:7)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:509:10)
at Immediate._onImmediate (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:04.7305575Z
[92m [0m[32m 47 passing[0m[90m (77ms)[0m
2025-04-15T04:33:04.7306269Z
-------------------|---------|----------|---------|---------|---------------------------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|---------------------------------------
[33;1mAll files         [0m | [33;1m  58.06[0m | [32;1m    97.7[0m | [33;1m     50[0m | [33;1m  58.06[0m | [31;1m                                     [0m
[32;1m posts-service    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                                     [0m
[32;1m  index.js        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                                     [0m
[33;1m posts-service/lib[0m | [33;1m  57.86[0m | [32;1m   97.69[0m | [33;1m     50[0m | [33;1m  57.86[0m | [31;1m                                     [0m
[32;1m  PostsExporter.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                                     [0m
[31;1m  PostsService.js [0m | [31;1m  37.34[0m | [32;1m   83.33[0m | [31;1m  29.41[0m | [31;1m  37.34[0m | [31;1m...61-362,365-426,429-448,469,484-485[0m
-------------------|---------|----------|---------|---------|---------------------------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/announcement-bar:"test:unit"
2025-04-15T04:33:08.9544652Z
[2K[1G[2m$ yarn test:ci[22m
[2K[1G[2m$ yarn test --coverage[22m
[2K[1G[2m$ vitest run --coverage[22m
2025-04-15T04:33:08.9547318Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/announcement-bar[39m
[2m      Coverage enabled with [22m[33mv8[39m
2025-04-15T04:33:08.9549933Z
[32mâœ“[39m src/utils/api.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 10[2mms[22m[39m
2025-04-15T04:33:08.9551426Z
[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 00:33:06
[2m   Duration [22m 1.64s[2m (transform 111ms, setup 37ms, collect 26ms, tests 10ms, environment 775ms, prepare 219ms)[22m
2025-04-15T04:33:08.9557097Z
[34m % [39m[2mCoverage report from [22m[33mv8[39m
----------|---------|----------|---------|---------|-------------------
File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------|---------|----------|---------|---------|-------------------
[32;1mAll files[0m | [32;1m     95[0m | [32;1m   83.33[0m | [32;1m    100[0m | [32;1m     95[0m | [31;1m                 [0m
[32;1m api.js  [0m | [32;1m     95[0m | [32;1m   83.33[0m | [32;1m    100[0m | [32;1m     95[0m | [31;1m26-27            [0m
----------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run ghost-admin:"test:unit"
2025-04-15T04:33:09.9180970Z
[2K[1G[2m$ true[22m
##[endgroup]
##[group]âœ… > nx run @tryghost/sodo-search:"test:unit"
2025-04-15T04:33:10.8480411Z
[2K[1G[2m$ yarn test:ci[22m
[2K[1G[2m$ yarn test --coverage[22m
[2K[1G[2m$ vitest run --coverage[22m
2025-04-15T04:33:10.8498952Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/sodo-search[39m
[2m      Coverage enabled with [22m[33mv8[39m
2025-04-15T04:33:10.8512583Z
[32mâœ“[39m src/search-index.test.js [2m ([22m[2m5 tests[22m[2m)[22m[33m 488[2mms[22m[39m
[32mâœ“[39m src/App.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 253[2mms[22m[39m
2025-04-15T04:33:10.8523131Z
[2m Test Files [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m   Start at [22m 00:33:06
[2m   Duration [22m 3.80s[2m (transform 986ms, setup 961ms, collect 1.62s, tests 741ms, environment 2.30s, prepare 496ms)[22m
2025-04-15T04:33:10.8560058Z
[34m % [39m[2mCoverage report from [22m[33mv8[39m
------------------|---------|----------|---------|---------|--------------------
File              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
------------------|---------|----------|---------|---------|--------------------
[33;1mAll files        [0m | [33;1m  54.03[0m | [33;1m    75.9[0m | [33;1m     56[0m | [33;1m  54.03[0m | [31;1m                  [0m
[32;1m src             [0m | [32;1m  85.79[0m | [33;1m   72.91[0m | [33;1m  74.07[0m | [32;1m  85.79[0m | [31;1m                  [0m
[33;1m  App.js         [0m | [33;1m  71.97[0m | [33;1m   63.63[0m | [33;1m  68.75[0m | [33;1m  71.97[0m | [31;1m...142-152,168-174[0m
[32;1m  AppContext.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [31;1m      0[0m | [32;1m    100[0m | [33;1m                  [0m
[32;1m  search-index.js[0m | [32;1m    100[0m | [32;1m   80.76[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m12,73,86,101,152  [0m
[31;1m src/components  [0m | [31;1m  38.44[0m | [32;1m      80[0m | [31;1m  45.83[0m | [31;1m  38.44[0m | [31;1m                  [0m
[32;1m  Frame.js       [0m | [32;1m  94.59[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m  94.59[0m | [31;1m14-15             [0m
[31;1m  PopupModal.js  [0m | [31;1m  35.44[0m | [33;1m   74.07[0m | [31;1m  39.02[0m | [31;1m  35.44[0m | [31;1m...631-637,652-659[0m
------------------|---------|----------|---------|---------|--------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/signup-form:"test:unit"
2025-04-15T04:33:21.8603176Z
[2K[1G[2m$ yarn build[22m
[2K[1G[2m$ concurrently "tsc" "vite build"[22m
[0m[1][0m [36mvite v4.5.3 [32mbuilding for production...[36m[39m
[0m[1][0m transforming...
[0m[1][0m [32mâœ“[39m 112 modules transformed.
[0m[1][0m rendering chunks...
[0m[1][0m [2mumd/[22m[36msignup-form.min.js  [39m[1m[2m251.37 kB[22m[1m[22m[2m â”‚ map: 550.52 kB[22m
[0m[1][0m [32mâœ“ built in 7.33s[39m
[0m[1][0m [0mvite build exited with code 0[0m
[0m[0][0m [0mtsc exited with code 0[0m
##[endgroup]
##[group]âœ… > nx run @tryghost/comments-ui:"test:unit"
2025-04-15T04:33:21.9969450Z
[2K[1G[2m$ vitest run --coverage[22m
2025-04-15T04:33:21.9970217Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/comments-ui[39m
[2m      Coverage enabled with [22m[33mv8[39m
2025-04-15T04:33:21.9972352Z
[32mâœ“[39m src/utils/helpers.test.ts [2m ([22m[2m42 tests[22m[2m)[22m[90m 165[2mms[22m[39m
[32mâœ“[39m src/utils/adminAPI.test.ts [2m ([22m[2m9 tests[22m[2m)[22m[33m 435[2mms[22m[39m
[32mâœ“[39m src/utils/hooks.test.tsx [2m ([22m[2m3 tests[22m[2m)[22m[90m 108[2mms[22m[39m
[32mâœ“[39m src/components/content/Comment.test.jsx [2m ([22m[2m6 tests[22m[2m)[22m[90m 147[2mms[22m[39m
[32mâœ“[39m src/utils/api.test.ts [2m ([22m[2m2 tests[22m[2m)[22m[90m 17[2mms[22m[39m
[90mstderr[2m | src/components/content/Content.test.jsx[2m > [22m[2m<Content>[2m > [22m[2mmain form or cta[2m > [22m[2mrenders CTA when not logged in[22m[39m
Warning: Each child in a list should have a unique "key" prop.
2025-04-15T04:33:21.9982471Z
Check the render method of `CTABox`. See https://reactjs.org/link/warning-keys for more information.
at span
at CTABox (/home/runner/work/Ghost/Ghost/apps/comments-ui/src/components/content/CTABox.tsx:7:19)
at section
at div
at Content (/home/runner/work/Ghost/Ghost/apps/comments-ui/src/components/content/Content.tsx:23:137)
2025-04-15T04:33:21.9988300Z
[32mâœ“[39m src/components/content/Content.test.jsx [2m ([22m[2m5 tests[22m[2m)[22m[33m 450[2mms[22m[39m
[32mâœ“[39m src/components/content/Pagination.test.jsx [2m ([22m[2m2 tests[22m[2m)[22m[90m 82[2mms[22m[39m
[32mâœ“[39m src/components/content/context-menus/CommentContextMenu.test.jsx [2m ([22m[2m2 tests[22m[2m)[22m[90m 194[2mms[22m[39m
[32mâœ“[39m src/actions.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 6[2mms[22m[39m
2025-04-15T04:33:22.0006261Z
[2m Test Files [22m [1m[32m9 passed[39m[22m[90m (9)[39m
[2m      Tests [22m [1m[32m72 passed[39m[22m[90m (72)[39m
[2m   Start at [22m 00:33:05
[2m   Duration [22m 14.86s[2m (transform 706ms, setup 4.13s, collect 3.71s, tests 1.60s, environment 10.48s, prepare 2.06s)[22m
2025-04-15T04:33:22.0229837Z
[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|-------------------
[33;1mAll files         [0m | [33;1m  56.44[0m | [33;1m   63.94[0m | [31;1m  46.42[0m | [33;1m  56.44[0m | [31;1m                 [0m
[31;1m src              [0m | [31;1m  32.06[0m | [33;1m   58.33[0m | [31;1m  10.71[0m | [31;1m  32.06[0m | [31;1m                 [0m
[32;1m  AppContext.ts   [0m | [32;1m  95.08[0m | [32;1m     100[0m | [33;1m  66.66[0m | [32;1m  95.08[0m | [31;1m108-113          [0m
[31;1m  actions.ts      [0m | [31;1m  16.92[0m | [31;1m    37.5[0m | [31;1m      4[0m | [31;1m  16.92[0m | [31;1m...92-498,502-508[0m
[33;1m ...onents/content[0m | [33;1m  68.84[0m | [33;1m   65.71[0m | [33;1m  65.71[0m | [33;1m  68.84[0m | [31;1m                 [0m
[32;1m  Avatar.tsx      [0m | [32;1m  90.42[0m | [32;1m      85[0m | [32;1m  85.71[0m | [32;1m  90.42[0m | [31;1m10-18            [0m
[32;1m  CTABox.tsx      [0m | [32;1m   92.3[0m | [32;1m   83.33[0m | [31;1m  33.33[0m | [32;1m   92.3[0m | [31;1m22-23,26-27      [0m
[33;1m  Comment.tsx     [0m | [33;1m  65.76[0m | [33;1m    54.9[0m | [33;1m  76.47[0m | [33;1m  65.76[0m | [31;1m...88-393,413-415[0m
[33;1m  Content.tsx     [0m | [33;1m  76.81[0m | [33;1m    62.5[0m | [32;1m    100[0m | [33;1m  76.81[0m | [31;1m20-30,52-56      [0m
[31;1m  ContentTitle.tsx[0m | [31;1m  38.98[0m | [33;1m      50[0m | [31;1m  33.33[0m | [31;1m  38.98[0m | [31;1m9-24,27-36,48-57 [0m
[32;1m  Pagination.tsx  [0m | [32;1m  86.66[0m | [33;1m      75[0m | [33;1m     50[0m | [32;1m  86.66[0m | [31;1m8-9,18-19        [0m
[31;1m  Replies.tsx     [0m | [31;1m     40[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m     40[0m | [31;1m9-23             [0m
[31;1m  ...agination.tsx[0m | [31;1m  47.82[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  47.82[0m | [31;1m10-21            [0m
[33;1m ...ontent/buttons[0m | [33;1m  73.75[0m | [31;1m   17.64[0m | [31;1m  42.85[0m | [33;1m  73.75[0m | [31;1m                 [0m
[33;1m  LikeButton.tsx  [0m | [33;1m     65[0m | [31;1m   16.66[0m | [33;1m     50[0m | [33;1m     65[0m | [31;1m18-38            [0m
[32;1m  MoreButton.tsx  [0m | [32;1m     80[0m | [31;1m   16.66[0m | [31;1m  33.33[0m | [32;1m     80[0m | [31;1m17-18,21-22,29-32[0m
[32;1m  ReplyButton.tsx [0m | [32;1m  80.48[0m | [31;1m      20[0m | [33;1m     50[0m | [32;1m  80.48[0m | [31;1m18-25            [0m
[33;1m .../context-menus[0m | [33;1m  64.61[0m | [31;1m   46.15[0m | [31;1m  22.22[0m | [33;1m  64.61[0m | [31;1m                 [0m
[33;1m  ...ntextMenu.tsx[0m | [33;1m  76.31[0m | [33;1m      50[0m | [31;1m  33.33[0m | [33;1m  76.31[0m | [31;1m11-13,16-18,26-28[0m
[31;1m  ...ntextMenu.tsx[0m | [31;1m  34.37[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  34.37[0m | [31;1m10-30            [0m
[33;1m  ...ntextMenu.tsx[0m | [33;1m  78.35[0m | [31;1m   45.45[0m | [31;1m     25[0m | [33;1m  78.35[0m | [31;1m...72,77-78,81-86[0m
[31;1m  ...ntextMenu.tsx[0m | [31;1m  35.71[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  35.71[0m | [31;1m9-26             [0m
[33;1m .../content/forms[0m | [33;1m  51.51[0m | [31;1m   32.43[0m | [31;1m  41.66[0m | [33;1m  51.51[0m | [31;1m                 [0m
[31;1m  EditForm.tsx    [0m | [31;1m  19.73[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  19.73[0m | [31;1m14-74            [0m
[33;1m  Form.tsx        [0m | [33;1m  68.18[0m | [31;1m    25.8[0m | [33;1m  57.14[0m | [33;1m  68.18[0m | [31;1m...41,345,349-363[0m
[33;1m  MainForm.tsx    [0m | [33;1m  62.72[0m | [33;1m   66.66[0m | [33;1m     50[0m | [33;1m  62.72[0m | [31;1m22-29,37-38,43-73[0m
[31;1m  ReplyForm.tsx   [0m | [31;1m  23.07[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  23.07[0m | [31;1m14-63            [0m
[31;1m  SortingForm.tsx [0m | [31;1m   6.32[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m   6.32[0m | [31;1m6-79             [0m
[33;1m src/utils        [0m | [33;1m  62.15[0m | [32;1m   82.72[0m | [33;1m  59.18[0m | [33;1m  62.15[0m | [31;1m                 [0m
[32;1m  adminApi.ts     [0m | [32;1m  88.14[0m | [33;1m   65.51[0m | [32;1m    100[0m | [32;1m  88.14[0m | [31;1m...11-112,123-124[0m
[31;1m  api.ts          [0m | [31;1m     25[0m | [32;1m    87.5[0m | [31;1m  21.05[0m | [31;1m     25[0m | [31;1m...77-291,297-313[0m
[32;1m  constants.ts    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  editor.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[33;1m  helpers.ts      [0m | [33;1m  73.18[0m | [32;1m      92[0m | [33;1m  71.42[0m | [33;1m  73.18[0m | [31;1m...38-163,169-195[0m
[32;1m  hooks.ts        [0m | [32;1m  88.46[0m | [32;1m   81.81[0m | [32;1m  83.33[0m | [32;1m  88.46[0m | [31;1m12-29            [0m
-------------------|---------|----------|---------|---------|-------------------
##[endgroup]
##[group]âœ… > nx run @tryghost/admin-x-settings:"test:unit"
2025-04-15T04:33:34.7504943Z
[2K[1G[2m$ yarn nx build && vitest run[22m
[2K[1G[2m$ /home/runner/work/Ghost/Ghost/node_modules/.bin/nx build[22m
2025-04-15T04:33:34.7506936Z
NX   Running target build for project @tryghost/admin-x-settings and 4 tasks it depends on:
2025-04-15T04:33:34.7508122Z
2025-04-15T04:33:34.7508131Z
2025-04-15T04:33:34.7508140Z
##[group]ðŸ” > nx run @tryghost/shade:build  [local cache]
2025-04-15T04:33:34.7509208Z
##[endgroup]
##[group]ðŸ” > nx run @tryghost/admin-x-design-system:build  [local cache]
2025-04-15T04:33:34.7510899Z
##[endgroup]
##[group]ðŸ” > nx run @tryghost/custom-fonts:build  [local cache]
2025-04-15T04:33:34.7512466Z
##[endgroup]
##[group]ðŸ” > nx run @tryghost/admin-x-framework:build  [local cache]
2025-04-15T04:33:34.7514161Z
##[endgroup]
##[group]ðŸ” > nx run @tryghost/admin-x-settings:build  [local cache]
2025-04-15T04:33:34.7516371Z
[2K[1G[2m$ tsc && vite build[22m
[36mvite v4.5.3 [32mbuilding for production...[36m[39m
transforming...
[32mâœ“[39m 4799 modules transformed.
rendering chunks...
[2mdist/[22m[36mCodeEditorView-3bc05d1b.mjs  [39m[1m[2m   84.44 kB[22m[1m[22m[2m â”‚ map:   285.59 kB[22m
[2mdist/[22m[36madmin-x-settings.js          [39m[1m[2m  120.36 kB[22m[1m[22m[2m â”‚ map:     0.10 kB[22m
[2mdist/[22m[36mindex-93cc8853.mjs           [39m[1m[2m  183.89 kB[22m[1m[22m[2m â”‚ map:   345.19 kB[22m
[2mdist/[22m[36mindex-c5623145.mjs           [39m[1m[2m  406.80 kB[22m[1m[22m[2m â”‚ map: 1,138.88 kB[22m
[2mdist/[22m[36mindex-9cc1df42.mjs           [39m[1m[2m  482.75 kB[22m[1m[22m[2m â”‚ map: 1,372.82 kB[22m
[2mdist/[22m[36mmodals-fd7bc70c.mjs          [39m[1m[33m1,413.55 kB[39m[22m[2m â”‚ map: 3,099.74 kB[22m
[2mdist/[22m[36mindex-b2cdc747.mjs           [39m[1m[33m1,547.66 kB[39m[22m[2m â”‚ map: 3,557.64 kB[22m
[32mâœ“ built in 26.34s[39m
##[endgroup]
2025-04-15T04:33:34.7534832Z
2025-04-15T04:33:34.7535009Z
NX   Successfully ran target build for project @tryghost/admin-x-settings and 4 tasks it depends on
2025-04-15T04:33:34.7536693Z
Nx read the output from the cache instead of running the command for 5 out of 5 tasks.
2025-04-15T04:33:34.7538556Z
2025-04-15T04:33:34.7538726Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/admin-x-settings[39m
2025-04-15T04:33:34.7540670Z
[32mâœ“[39m test/unit/utils/url.test.ts [2m ([22m[2m12 tests[22m[2m)[22m[90m 21[2mms[22m[39m
[32mâœ“[39m test/unit/utils/generateEmbedCode.test.ts [2m ([22m[2m8 tests[22m[2m)[22m[90m 19[2mms[22m[39m
[32mâœ“[39m test/unit/utils/analytics.test.ts [2m ([22m[2m2 tests[22m[2m)[22m[90m 18[2mms[22m[39m
[32mâœ“[39m test/unit/utils/linkToGithubReleases.test.ts [2m ([22m[2m6 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m test/unit/utils/showDatabaseWarning.test.ts [2m ([22m[2m4 tests[22m[2m)[22m[90m 10[2mms[22m[39m
[32mâœ“[39m test/unit/api/customThemeSettings.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 25[2mms[22m[39m
2025-04-15T04:33:34.7552202Z
[2m Test Files [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m33 passed[39m[22m[90m (33)[39m
[2m   Start at [22m 00:33:27
[2m   Duration [22m 6.53s[2m (transform 380ms, setup 0ms, collect 777ms, tests 98ms, environment 7.18s, prepare 1.78s)[22m
2025-04-15T04:33:34.7557545Z
##[endgroup]
##[group]âŒ > nx run @tryghost/admin-x-activitypub:"test:unit"
2025-04-15T04:33:38.3491606Z
[2K[1G[2m$ tsc --noEmit && vitest run[22m
##[error]src/standalone.tsx(3,33): error TS7016: Could not find a declaration file for module '@tryghost/admin-x-framework/test/render'. '/home/runner/work/Ghost/Ghost/apps/admin-x-framework/dist/test/render.js' implicitly has an 'any' type.
If the '@tryghost/admin-x-framework' package actually exposes this module, try adding a new declaration (.d.ts) file containing `declare module '@tryghost/admin-x-framework/test/render';`
[2K[1G[31merror[39m Command failed with exit code 2.
[2K[1G[34minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
##[endgroup]
##[group]âŒ > nx run ghost:"test:unit"
2025-04-15T04:33:51.9070418Z
[2K[1G[33mwarning[39m ghost@5.116.2: The engine "cli" appears to be invalid.
[2K[1G[2m$ c8 yarn test:unit:base[22m
[2K[1G[33mwarning[39m ghost@5.116.2: The engine "cli" appears to be invalid.
[2K[1G[2m$ yarn test:base './test/unit' --timeout=2000[22m
[2K[1G[33mwarning[39m ghost@5.116.2: The engine "cli" appears to be invalid.
[2K[1G[2m$ mocha --reporter dot --require tsx --require=./test/utils/overrides.js --exit --trace-warnings --recursive --extension=test.js,test.ts ./test/unit --timeout=2000[22m
2025-04-15T04:33:51.9080675Z
2025-04-15T04:33:51.9080686Z
[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0mrequire @tryghost/html-to-mobiledoc: 0.436ms
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0mrequire @tryghost/html-to-mobiledoc: 0.096ms
htmlToMobiledocConverter (post): 214.855ms
require @tryghost/kg-html-to-lexical: 80.192ms
htmlToLexicalConverter (post): 137.551ms
[93m.[0m(node:5771) Warning: Label 'htmlToMobiledocConverter (post)' already exists for console.time()
at console.time (node:internal/console/constructor:400:15)
at Object.add (/home/runner/work/Ghost/Ghost/ghost/core/core/server/api/endpoints/utils/serializers/input/posts.js:211:29)
at Object.edit (/home/runner/work/Ghost/Ghost/ghost/core/core/server/api/endpoints/utils/serializers/input/posts.js:287:14)
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/api/canary/utils/serializers/input/posts.test.js:323:41)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)
require @tryghost/html-to-mobiledoc: 0.102ms
htmlToMobiledocConverter (post): 28.451ms
require @tryghost/kg-html-to-lexical: 0.035ms
htmlToLexicalConverter (post): 17.145ms
[33m.[0mrequire @tryghost/html-to-mobiledoc: 0.084ms
2025-04-15T04:33:51.9111382Z
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m(node:5771) PromiseRejectionHandledWarning: Promise rejection was handled asynchronously (rejection id: 46)
at handledRejection (node:internal/process/promises:173:23)
at promiseRejectHandler (node:internal/process/promises:119:7)
at validateVisibility (/home/runner/work/Ghost/Ghost/ghost/core/core/server/api/endpoints/utils/validators/input/pages.js:25:37)
at Object.add (/home/runner/work/Ghost/Ghost/ghost/core/core/server/api/endpoints/utils/validators/input/pages.js:58:15)
at async Promise.all (index 2)
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m(node:5771) PromiseRejectionHandledWarning: Promise rejection was handled asynchronously (rejection id: 119)
at handledRejection (node:internal/process/promises:173:23)
at promiseRejectHandler (node:internal/process/promises:119:7)
at validateVisibility (/home/runner/work/Ghost/Ghost/ghost/core/core/server/api/endpoints/utils/validators/input/posts.js:25:37)
at Object.add (/home/runner/work/Ghost/Ghost/ghost/core/core/server/api/endpoints/utils/validators/input/posts.js:58:15)
at async Promise.all (index 2)
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[33m.[0m[93m.[0m[33m.[0m[33m.[0m[93m.[0m[33m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m
[90m.[0m[33m.[0m[33m.[0m[33m.[0m[33m.[0m[33m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[33m.[0m[33m.[0m[90m.[0m[33m.[0m[33m.[0m[33m.[0m[33m.[0m[90m.[0m[33m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[33m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:28] [31mERROR[39m URL empty or invalid.
[31m
[31mURL empty or invalid.[39m
2025-04-15T04:33:51.9169038Z
[37m"/content/images/site-cover.png"[39m
2025-04-15T04:33:51.9169807Z
[1m[37mError ID:[39m[22m
[90mc6e40230-19b2-11f0-be26-6d2201fc1d16[39m
2025-04-15T04:33:51.9171128Z
[1m[37mError Code: [39m[22m
[90mIMAGE_SIZE_URL[39m
2025-04-15T04:33:51.9172277Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9173073Z
[90mInternalServerError: URL empty or invalid.
at /home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/ImageSize.js:183:39
at async CachedImageSizeFromUrl.getCachedImageSizeFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/CachedImageSizeFromUrl.js:52:29)
at async Promise.all (index 0)
at async getImageDimensions (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/meta/image-dimensions.js:24:68)
at async ghost_head (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/helpers/ghost_head.js:249:22)
at async testGhostHead (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/helpers/ghost_head.test.js:26:21)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/helpers/ghost_head.test.js:1486:30)[39m
[39m
[2025-04-15 04:33:28] [31mERROR[39m Unknown Request error.
[31m
[31mUnknown Request error.[39m
2025-04-15T04:33:51.9188002Z
[37m"http://localhost:2388/blog/favicon.ico"[39m
2025-04-15T04:33:51.9188906Z
[1m[37mError ID:[39m[22m
[90mc6e513a0-19b2-11f0-be26-6d2201fc1d16[39m
2025-04-15T04:33:51.9190262Z
[1m[37mError Code: [39m[22m
[90mIMAGE_SIZE_URL[39m
2025-04-15T04:33:51.9191751Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9192526Z
[90mNetConnectNotAllowedError: Nock: Disallowed net connect for "localhost:2388/blog/favicon.ico"
at /home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/ImageSize.js:208:39
at /home/runner/work/Ghost/Ghost/node_modules/nock/lib/intercept.js:432:23
at module.request (/home/runner/work/Ghost/Ghost/node_modules/nock/lib/common.js:91:14)
at Needle.send_request (/home/runner/work/Ghost/Ghost/node_modules/needle/lib/needle.js:534:22)
at next (/home/runner/work/Ghost/Ghost/node_modules/needle/lib/needle.js:414:10)
at Needle.start (/home/runner/work/Ghost/Ghost/node_modules/needle/lib/needle.js:417:17)
at module.exports.<computed> [as get] (/home/runner/work/Ghost/Ghost/node_modules/needle/lib/needle.js:867:61)
at /home/runner/work/Ghost/Ghost/node_modules/probe-image-size/http.js:33:23
at new Promise (<anonymous>)
at probeHttp (/home/runner/work/Ghost/Ghost/node_modules/probe-image-size/http.js:28:10)
at ImageSize.get_image_size [as probe] (/home/runner/work/Ghost/Ghost/node_modules/probe-image-size/index.js:17:10)
at ImageSize._probeImageSizeFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/ImageSize.js:88:18)
at /home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/ImageSize.js:133:30
at new Promise (<anonymous>)
at ImageSize._imageSizeFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/ImageSize.js:111:16)
at ImageSize.getImageSizeFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/ImageSize.js:173:21)
at CachedImageSizeFromUrl.getCachedImageSizeFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/lib/image/CachedImageSizeFromUrl.js:52:40)
at async Promise.all (index 4)
at async getImageDimensions (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/meta/image-dimensions.js:24:68)
at async ghost_head (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/helpers/ghost_head.js:249:22)
at async testGhostHead (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/helpers/ghost_head.test.js:26:21)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/helpers/ghost_head.test.js:1486:30)[39m
[39m
[33m.[0m[90m.[0m[90m.[0m[33m.[0m[33m.[0m[33m.[0m[2025-04-15 04:33:28] [31mERROR[39m Cannot read properties of undefined (reading 'primary_author')
[31m
[31mCannot read properties of undefined (reading 'primary_author')[39m
2025-04-15T04:33:51.9229215Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9230024Z
[90mTypeError: Cannot read properties of undefined (reading 'primary_author')
at getPostSchema (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/meta/schema.js:94:50)
at getSchema (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/meta/schema.js:170:20)
at /home/runner/work/Ghost/Ghost/ghost/core/core/frontend/meta/get-meta.js:85:27
at async ghost_head (/home/runner/work/Ghost/Ghost/ghost/core/core/frontend/helpers/ghost_head.js:249:22)
at async testGhostHead (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/helpers/ghost_head.test.js:26:21)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/helpers/ghost_head.test.js:1572:30)[39m
[39m
[33m.[0m[33m.[0m[33m.[0m[93m.[0m[90m.[0m
[90m.[0m[33m.[0m[93m.[0m[33m.[0m[33m.[0m[33m.[0m[33m.[0m[33m.[0m[90m.[0m[33m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m(node:5771) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead
at emitRecursiveRmdirWarning (node:internal/fs/utils:876:13)
at Object.rmdir (node:internal/fs/promises:759:5)
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/frontend/services/assets-minification/minifier.test.js:22:18)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:509:10)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[31m![0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[36m,[0m[36m,[0m[36m,[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0mFakeTimers: clearTimeout was invoked to clear a native timer instead of one created by this library.
To automatically clean-up native timers, use `shouldClearNativeTimers`.
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33msqlite3 only supports serializable transactions, ignoring the isolation level param[39m
[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0mChecking ActivityPub Webhook state
Expected 2 webhooks for ActivityPub
ActivityPub webhooks in incorrect state, deleting all of them and starting fresh
[90m.[0mChecking ActivityPub Webhook state
Expected 2 webhooks for ActivityPub
ActivityPub webhooks in incorrect state, deleting all of them and starting fresh
Checking ActivityPub Webhook state
ActivityPub webhooks in correct state
[33m.[0mChecking ActivityPub Webhook state
Expected 2 webhooks for ActivityPub
ActivityPub webhooks in incorrect state, deleting all of them and starting fresh
Checking ActivityPub Webhook state
Could not find webhook for post.published http://fake-site-url/.ghost/activitypub/webhooks/post/published
ActivityPub webhooks in incorrect state, deleting all of them and starting fresh
[90m.[0mNo ActivityPub integration found - cannot initialise
[90m.[0mCould not get webhook secret for ActivityPub TypeError: Cannot read properties of undefined (reading 'email')
No webhook secret found - cannot initialise
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:40] [31mERROR[39m test error
[31m
[31mtest error[39m
2025-04-15T04:33:51.9419094Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9419510Z
[90mError: test error
at /home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/lib/mailgun-client.test.js:855:23
at batchCounter.batchHandler (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/lib/mailgun-client.test.js:26:19)
at MailgunClient.fetchEvents (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/lib/MailgunClient.js:185:23)
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
at async waitForActual (node:assert:800:5)
at async Function.rejects (node:assert:921:25)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/lib/mailgun-client.test.js:860:13)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Blocking request due to high score (0.8)
[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Failed to verify hCaptcha token
[31m
[31mFailed to verify hCaptcha token[39m
2025-04-15T04:33:51.9431697Z
[1m[37mError ID:[39m[22m
[90mceb2e8f0-19b2-11f0-be27-6d2201fc1d16[39m
2025-04-15T04:33:51.9432374Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9432752Z
[90mError: Test error
at captchaMiddleware (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/members/CaptchaService.js:66:35)
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/members/CaptchaService.test.js:72:33)
at callFnAsync (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:392:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:336:7)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at cbHookRun (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:550:7)
at done (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:308:5)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:387:7)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:509:10)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Blocking request due to high score (undefined)
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Error in LastSeenAtUpdater.MemberPageViewEvent listener for member 1
[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Error in LastSeenAtUpdater.MemberLinkClickEvent listener for member 1
[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Error in LastSeenAtUpdater.EmailOpenedEvent listener for member 1, emailRecipientId 1
[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[2025-04-15 04:33:41] [31mERROR[39m Error in LastSeenAtUpdater.MemberCommentEvent listener for member 1
[2025-04-15 04:33:41] [31mERROR[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:42] [31mERROR[39m Failed to parse URL from null
[31m
[31mFailed to parse URL from null[39m
2025-04-15T04:33:51.9458846Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9459235Z
[90mTypeError: Failed to parse URL from null
at node:internal/deps/undici/undici:12345:11
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
at async OEmbedService.fetchImageBuffer (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:136:26)
at async OEmbedService.processImageFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:156:29)
at async OEmbedService.fetchBookmarkData (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:342:13)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/oembed/oembed-service.test.js:142:30)[39m
[39m
[2025-04-15 04:33:42] [31mERROR[39m Failed to parse URL from null
[31m
[31mFailed to parse URL from null[39m
2025-04-15T04:33:51.9466328Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9466708Z
[90mTypeError: Failed to parse URL from null
at node:internal/deps/undici/undici:12345:11
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
at async OEmbedService.fetchImageBuffer (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:136:26)
at async OEmbedService.processImageFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:156:29)
at async OEmbedService.fetchBookmarkData (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:349:13)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/oembed/oembed-service.test.js:142:30)[39m
[39m
[93m.[0m[2025-04-15 04:33:42] [31mERROR[39m Failed to parse URL from null
[31m
[31mFailed to parse URL from null[39m
2025-04-15T04:33:51.9475292Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9475955Z
[90mTypeError: Failed to parse URL from null
at node:internal/deps/undici/undici:12345:11
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
at async OEmbedService.fetchImageBuffer (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:136:26)
at async OEmbedService.processImageFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:156:29)
at async OEmbedService.fetchBookmarkData (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:342:13)
at async OEmbedService.fetchOembedDataFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:531:24)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/oembed/oembed-service.test.js:168:30)[39m
[39m
[2025-04-15 04:33:42] [31mERROR[39m Failed to parse URL from null
[31m
[31mFailed to parse URL from null[39m
2025-04-15T04:33:51.9483818Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9484211Z
[90mTypeError: Failed to parse URL from null
at node:internal/deps/undici/undici:12345:11
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
at async OEmbedService.fetchImageBuffer (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:136:26)
at async OEmbedService.processImageFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:156:29)
at async OEmbedService.fetchBookmarkData (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:349:13)
at async OEmbedService.fetchOembedDataFromUrl (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/oembed/OEmbedService.js:531:24)
at async Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/oembed/oembed-service.test.js:168:30)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:42] [31mERROR[39m test
[31m
[31mtest[39m
2025-04-15T04:33:51.9494902Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9495299Z
[90mError: test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/BookshelfClickEventRepository.test.ts:64:49)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate._onImmediate (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:42] [31mERROR[39m test
[31m
[31mtest[39m
2025-04-15T04:33:51.9503034Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9503422Z
[90mError: test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/BookshelfRecommendationRepository.test.ts:88:53)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate._onImmediate (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:42] [31mERROR[39m test
[31m
[31mtest[39m
2025-04-15T04:33:51.9516067Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9516484Z
[90mError: test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/BookshelfSubscribeEventRepository.test.ts:64:53)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate._onImmediate (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[1970-01-02 00:00:00] [31mERROR[39m Failed to update incoming recommendations on boot test
[31m
[31mtest[39m
2025-04-15T04:33:51.9525972Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9526392Z
[90mError: test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/IncomingRecommendationService.test.ts:70:41)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[1970-01-01 00:00:00] [31mERROR[39m Failed to parse mention to incoming recommendation data type test
[31m
[31mtest[39m
2025-04-15T04:33:51.9538451Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9539185Z
[90mError: test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/IncomingRecommendationService.test.ts:96:45)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[1970-01-02 00:00:00] [31mERROR[39m [Recommendations] Failed to update all recommendations metadata on boot test
[31m
[31mtest[39m
2025-04-15T04:33:51.9552742Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9553144Z
[90mError: test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/RecommendationService.test.ts:107:29)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[2025-04-15 04:33:42] [31mERROR[39m [Recommendations] Failed to save updated metadata for recommendation http://localhost/1 This is a test
[31m
[31mThis is a test[39m
2025-04-15T04:33:51.9561666Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9562055Z
[90mError: This is a test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/RecommendationService.test.ts:134:29)[39m
[39m
[33m.[0m[90m.[0m[90m.[0m[1970-01-01 00:00:00] [31mERROR[39m [Recommendations] Failed to update metadata for recommendation http://localhost/existing Title must not be empty
[31m
[31mTitle must not be empty[39m
2025-04-15T04:33:51.9566059Z
[1m[37mError ID:[39m[22m
[90m13814000-1dd2-11b2-be28-6d2201fc1d16[39m
2025-04-15T04:33:51.9566720Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9567093Z
[90mValidationError: Title must not be empty
at Function.validate (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/recommendations/service/Recommendation.ts:97:19)
at Function.create (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/recommendations/service/Recommendation.ts:150:14)
at Recommendation.edit (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/recommendations/service/Recommendation.ts:194:40)
at RecommendationService._updateRecommendationMetadata (/home/runner/work/Ghost/Ghost/ghost/core/core/server/services/recommendations/service/RecommendationService.ts:186:28)[39m
[39m
[90m.[0m[1970-01-01 00:00:00] [31mERROR[39m [Recommendations] Failed to update metadata for recommendation http://localhost/existing Test
[31m
[31mTest[39m
2025-04-15T04:33:51.9573877Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9574256Z
[90mError: Test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/RecommendationService.test.ts:248:39)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[1970-01-01 00:00:00] [31mERROR[39m [Recommendations] Failed to fetch metadata for url http://localhost/newone Metadata failed to fetch
[31m
[31mMetadata failed to fetch[39m
2025-04-15T04:33:51.9577969Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9578593Z
[90mError: Metadata failed to fetch
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/RecommendationService.test.ts:285:39)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[1970-01-01 00:00:00] [31mERROR[39m Failed to send mention to recommendation Test
[31m
[31mTest[39m
2025-04-15T04:33:51.9587122Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9587515Z
[90mError: Test
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/recommendations/service/RecommendationService.test.ts:449:118)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:43] [31mERROR[39m Failed to notify free member signup - member-2 Could not understand request.
[31m
[31mCould not understand request.[39m
2025-04-15T04:33:51.9602951Z
[1m[37mError ID:[39m[22m
[90md00113d0-19b2-11f0-be28-6d2201fc1d16[39m
2025-04-15T04:33:51.9603616Z
[1m[37mError Code: [39m[22m
[90mSQLITE_ERROR[39m
2025-04-15T04:33:51.9604185Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9604949Z
[90mError: select `members`.* from `members` where `members`.`id` = 'member-2' limit 1 - SQLITE_ERROR: no such table: members
at Child.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/core/server/models/base/plugins/crud.js:194:31)[39m
[39m
[2025-04-15 04:33:43] [31mERROR[39m Failed to notify paid member subscription start - member-1 Could not understand request.
[31m
[31mCould not understand request.[39m
2025-04-15T04:33:51.9608486Z
[1m[37mError ID:[39m[22m
[90md00161f0-19b2-11f0-be28-6d2201fc1d16[39m
2025-04-15T04:33:51.9609143Z
[1m[37mError Code: [39m[22m
[90mSQLITE_ERROR[39m
2025-04-15T04:33:51.9609835Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9610221Z
[90mError: select `members`.* from `members` where `members`.`id` = 'member-1' limit 1 - SQLITE_ERROR: no such table: members
at Child.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/core/server/models/base/plugins/crud.js:194:31)[39m
[39m
[2025-04-15 04:33:43] [31mERROR[39m Failed to notify paid member subscription cancel - member-1 Could not understand request.
[31m
[31mCould not understand request.[39m
2025-04-15T04:33:51.9623423Z
[1m[37mError ID:[39m[22m
[90md001fe30-19b2-11f0-be28-6d2201fc1d16[39m
2025-04-15T04:33:51.9624109Z
[1m[37mError Code: [39m[22m
[90mSQLITE_ERROR[39m
2025-04-15T04:33:51.9624959Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9625359Z
[90mError: select `members`.* from `members` where `members`.`id` = 'member-1' limit 1 - SQLITE_ERROR: no such table: members
at Child.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/core/server/models/base/plugins/crud.js:194:31)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33msqlite does not support inserting default values. Set the `useNullAsDefault` flag to hide this warning. (see docs https://knexjs.org/guide/query-builder.html#insert).[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:43] [31mERROR[39m Invalid signature
[31m
[31mInvalid signature[39m
2025-04-15T04:33:51.9633022Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9633418Z
[90mError: Invalid signature
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/stripe/WebhookController.test.js:41:49)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at cbHookRun (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:550:7)
at done (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:308:5)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:387:7)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:509:10)
at Immediate._onImmediate (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:43] [31mERROR[39m Error handling webhook customer.subscription.created Unexpected error
[31m
[31mUnexpected error[39m
2025-04-15T04:33:51.9645153Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9645548Z
[90mError: Unexpected error
at Context.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/test/unit/server/services/stripe/WebhookController.test.js:144:70)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:364:21)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at Runner.runTest (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:677:10)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:800:12
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:592:14)
at /home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:602:7
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:485:14)
at cbHookRun (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:550:7)
at done (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:308:5)
at callFn (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:387:7)
at Runnable.run (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runnable.js:352:5)
at next (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:509:10)
at Immediate.<anonymous> (/home/runner/work/Ghost/Ghost/node_modules/mocha/lib/runner.js:570:5)
at process.processImmediate (node:internal/timers:478:21)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:44] [31mERROR[39m Ignoring invalid newsletters data - invalid.
[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[2025-04-15 04:33:45] [31mERROR[39m Failed to notify free member signup - hello! Could not understand request.
[31m
[31mCould not understand request.[39m
2025-04-15T04:33:51.9663164Z
[1m[37mError ID:[39m[22m
[90md116f0a0-19b2-11f0-be28-6d2201fc1d16[39m
2025-04-15T04:33:51.9663839Z
[1m[37mError Code: [39m[22m
[90mSQLITE_ERROR[39m
2025-04-15T04:33:51.9664617Z
[90m----------------------------------------[39m
2025-04-15T04:33:51.9665018Z
[90mError: select `members`.* from `members` where `members`.`id` = 'hello!' limit 1 - SQLITE_ERROR: no such table: members
at Child.<anonymous> (/home/runner/work/Ghost/Ghost/ghost/core/core/server/models/base/plugins/crud.js:194:31)[39m
[39m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[93m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[33m.[0m[90m.[0m[33m.[0m[33m.[0m[90m.[0m
[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m[90m.[0m
2025-04-15T04:33:51.9675039Z
[92m [0m[32m 3506 passing[0m[90m (26s)[0m
[36m [0m[36m 3 pending[0m
[31m  1 failing[0m
2025-04-15T04:33:51.9676101Z
[0m  1) Helpers
Load Core Helpers
should have exactly the right helpers:
[0m[31m     AssertionError: expected Array [ 'threads_url' ] to have property length of 0 (got 1)[0m[90m
at Assertion.fail (/home/runner/work/Ghost/Ghost/node_modules/should/cjs/should.js:275:17)
at Assertion.value (/home/runner/work/Ghost/Ghost/node_modules/should/cjs/should.js:356:19)
at Context.<anonymous> (test/unit/frontend/services/theme-engine/handlebars/helpers.test.js:33:57)
at process.processImmediate (node:internal/timers:478:21)
[0m
2025-04-15T04:33:51.9680283Z
2025-04-15T04:33:51.9680289Z
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[34minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[34minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
2025-04-15T04:33:51.9682802Z
=============================== Coverage summary ===============================
[33;1mStatements   : 65.97% ( 46873/71044 )[0m
[32;1mBranches     : 86.36% ( 7412/8582 )[0m
[33;1mFunctions    : 60.8% ( 1984/3263 )[0m
[33;1mLines        : 65.97% ( 46873/71044 )[0m
================================================================================
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[34minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
##[endgroup]
##[group]âœ… > nx run @tryghost/portal:"test:unit"
2025-04-15T04:33:53.1685858Z
[2K[1G[2m$ yarn test:ci[22m
[2K[1G[2m$ yarn test --coverage[22m
[2K[1G[2m$ vitest run --coverage[22m
2025-04-15T04:33:53.1688207Z
[7m[1m[36m RUN [39m[22m[27m [36mv0.34.3[39m [90m/home/runner/work/Ghost/Ghost/apps/portal[39m
[2m      Coverage enabled with [22m[33mv8[39m
2025-04-15T04:33:53.1690247Z
[32mâœ“[39m src/utils/helpers.test.js [2m ([22m[2m64 tests[22m[2m)[22m[90m 126[2mms[22m[39m
[32mâœ“[39m src/tests/data-attributes.test.js [2m ([22m[2m18 tests[22m[2m)[22m[33m 2949[2mms[22m[39m
[32mâœ“[39m src/tests/UpgradeFlow.test.js [2m ([22m[2m6 tests[22m[2m)[22m[33m 4332[2mms[22m[39m
[32mâœ“[39m src/tests/SigninFlow.test.js [2m ([22m[2m8 tests[22m[2m)[22m[33m 6340[2mms[22m[39m
[32mâœ“[39m src/tests/SignupFlow.test.js [2m ([22m[2m20 tests[22m[2m)[22m[33m 14554[2mms[22m[39m
[32mâœ“[39m src/tests/portal-links.test.js [2m ([22m[2m12 tests[22m[2m)[22m[33m 5030[2mms[22m[39m
[32mâœ“[39m src/components/pages/AccountEmailPage.test.js [2m ([22m[2m10 tests[22m[2m)[22m[33m 638[2mms[22m[39m
[90mstderr[2m | src/tests/EmailSubscriptionsFlow.test.js[2m > [22m[2mNewsletter Subscriptions[2m > [22m[2munsubscribe from all newsletters when logged in[22m[39m
Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.
at App (/home/runner/work/Ghost/Ghost/apps/portal/src/App.js:63:5)
2025-04-15T04:33:53.1707489Z
[32mâœ“[39m src/tests/FeedbackFlow.test.js [2m ([22m[2m8 tests[22m[2m)[22m[33m 2014[2mms[22m[39m
[32mâœ“[39m src/tests/EmailSubscriptionsFlow.test.js [2m ([22m[2m6 tests[22m[2m)[22m[33m 3173[2mms[22m[39m
[32mâœ“[39m src/components/pages/SignupPage.test.js [2m ([22m[2m12 tests[22m[2m)[22m[33m 955[2mms[22m[39m
[32mâœ“[39m src/components/pages/NewsletterSelectionPage.test.js [2m ([22m[2m6 tests[22m[2m)[22m[33m 438[2mms[22m[39m
[32mâœ“[39m src/components/pages/AccountHomePage/AccountHomePage.test.js [2m ([22m[2m6 tests[22m[2m)[22m[33m 490[2mms[22m[39m
[32mâœ“[39m src/tests/errors.test.js [2m ([22m[2m6 tests[22m[2m)[22m[90m 13[2mms[22m[39m
[32mâœ“[39m src/components/pages/AccountPlanPage.test.js [2m ([22m[2m3 tests[22m[2m)[22m[33m 320[2mms[22m[39m
[90mstderr[2m | unknown test[22m[39m
Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.
at AccountPlanPage (/home/runner/work/Ghost/Ghost/apps/portal/src/components/pages/AccountPlanPage.js:485:5)
at Provider (/home/runner/work/Ghost/Ghost/apps/portal/src/utils/test-utils.js:12:23)
2025-04-15T04:33:53.1724992Z
[32mâœ“[39m src/components/pages/SigninPage.test.js [2m ([22m[2m4 tests[22m[2m)[22m[33m 341[2mms[22m[39m
[32mâœ“[39m src/components/TriggerButton.test.js [2m ([22m[2m4 tests[22m[2m)[22m[90m 290[2mms[22m[39m
[32mâœ“[39m src/tests/unit/transform-portal-anchor-to-relative.test.js [2m ([22m[2m4 tests[22m[2m)[22m[90m 17[2mms[22m[39m
[32mâœ“[39m src/components/pages/AccountProfilePage.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 253[2mms[22m[39m
[32mâœ“[39m src/components/pages/FeedbackPage.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 162[2mms[22m[39m
[90mstderr[2m | unknown test[22m[39m
Warning: An update to FeedbackPage inside a test was not wrapped in act(...).
2025-04-15T04:33:53.1730533Z
When testing, code that causes React state updates should be wrapped into act(...):
2025-04-15T04:33:53.1731139Z
act(() => {
/* fire events that update state */
});
/* assert on the output */
2025-04-15T04:33:53.1732057Z
This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
at FeedbackPage (/home/runner/work/Ghost/Ghost/apps/portal/src/components/pages/FeedbackPage.js:429:68)
at Provider (/home/runner/work/Ghost/Ghost/apps/portal/src/utils/test-utils.js:12:23)
Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.
at FeedbackPage (/home/runner/work/Ghost/Ghost/apps/portal/src/components/pages/FeedbackPage.js:429:68)
at Provider (/home/runner/work/Ghost/Ghost/apps/portal/src/utils/test-utils.js:12:23)
Warning: An update to FeedbackPage inside a test was not wrapped in act(...).
2025-04-15T04:33:53.1756879Z
When testing, code that causes React state updates should be wrapped into act(...):
2025-04-15T04:33:53.1757477Z
act(() => {
/* fire events that update state */
});
/* assert on the output */
2025-04-15T04:33:53.1758374Z
This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
at FeedbackPage (/home/runner/work/Ghost/Ghost/apps/portal/src/components/pages/FeedbackPage.js:429:68)
at Provider (/home/runner/work/Ghost/Ghost/apps/portal/src/utils/test-utils.js:12:23)
2025-04-15T04:33:53.1760768Z
[32mâœ“[39m src/tests/App.test.js [2m ([22m[2m1 test[22m[2m)[22m[33m 542[2mms[22m[39m
[2m[90mâ†“[39m[22m src/App.test.js [2m ([22m[2m1 test[22m [2m|[22m [33m1 skipped[39m[2m)[22m
[32mâœ“[39m src/components/common/InputField.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 82[2mms[22m[39m
[32mâœ“[39m src/components/pages/EmailSuppressedPage.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 224[2mms[22m[39m
[32mâœ“[39m src/components/common/MemberGravatar.test.js [2m ([22m[2m1 test[22m[2m)[22m[90m 44[2mms[22m[39m
[32mâœ“[39m src/components/pages/MagicLinkPage.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 238[2mms[22m[39m
[32mâœ“[39m src/components/common/ActionButton.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 161[2mms[22m[39m
[32mâœ“[39m src/components/common/Switch.test.js [2m ([22m[2m2 tests[22m[2m)[22m[90m 42[2mms[22m[39m
2025-04-15T04:33:53.1768218Z
[2m Test Files [22m [1m[32m26 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (27)[39m
[2m      Tests [22m [1m[32m212 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (213)[39m
[2m   Start at [22m 00:33:13
[2m   Duration [22m 38.08s[2m (transform 1.40s, setup 10.63s, collect 18.41s, tests 43.77s, environment 21.76s, prepare 4.50s)[22m
2025-04-15T04:33:53.1771351Z
[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|-------------------
[33;1mAll files         [0m | [33;1m  76.32[0m | [33;1m    75.9[0m | [33;1m  69.51[0m | [33;1m  76.32[0m | [31;1m                 [0m
[32;1m ...ks__/@hcaptcha[0m | [32;1m    100[0m | [32;1m      80[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  ...t-hcaptcha.js[0m | [32;1m    100[0m | [32;1m      80[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m19               [0m
[33;1m src              [0m | [33;1m   53.5[0m | [33;1m   71.92[0m | [33;1m  63.75[0m | [33;1m   53.5[0m | [31;1m                 [0m
[33;1m  App.js          [0m | [33;1m  65.48[0m | [33;1m    68.3[0m | [32;1m   87.5[0m | [33;1m  65.48[0m | [31;1m...1008,1012-1013[0m
[32;1m  AppContext.js   [0m | [32;1m  89.47[0m | [32;1m     100[0m | [31;1m      0[0m | [32;1m  89.47[0m | [31;1m12-13            [0m
[31;1m  actions.js      [0m | [31;1m  31.94[0m | [32;1m   81.57[0m | [31;1m  32.14[0m | [31;1m  31.94[0m | [31;1m...38-556,558-564[0m
[31;1m  ...attributes.js[0m | [31;1m  47.57[0m | [32;1m   81.08[0m | [32;1m    100[0m | [31;1m  47.57[0m | [31;1m...14-360,364-410[0m
[32;1m  pages.js        [0m | [32;1m  87.87[0m | [33;1m      50[0m | [31;1m     25[0m | [32;1m  87.87[0m | [31;1m...56,59-60,63-64[0m
[32;1m src/components   [0m | [32;1m  90.11[0m | [33;1m   77.85[0m | [33;1m  74.02[0m | [32;1m  90.11[0m | [31;1m                 [0m
[32;1m  Frame.js        [0m | [32;1m  95.45[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m  95.45[0m | [31;1m14-15            [0m
[32;1m  Frame.styles.js [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  Global.styles.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[31;1m  Notification.js [0m | [31;1m  34.74[0m | [32;1m   84.61[0m | [31;1m  35.29[0m | [31;1m  34.74[0m | [31;1m...31-239,251-256[0m
[32;1m  ...ion.styles.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  PopupModal.js   [0m | [32;1m  82.26[0m | [33;1m    75.8[0m | [33;1m     75[0m | [32;1m  82.26[0m | [31;1m...18-319,322-323[0m
[32;1m  TriggerButton.js[0m | [32;1m   87.5[0m | [33;1m   75.38[0m | [32;1m  95.83[0m | [32;1m   87.5[0m | [31;1m...98-300,303-304[0m
[32;1m  ...ton.styles.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m ...ponents/common[0m | [32;1m  89.97[0m | [32;1m    80.8[0m | [33;1m  75.82[0m | [32;1m  89.97[0m | [31;1m                 [0m
[32;1m  ActionButton.js [0m | [32;1m  98.21[0m | [32;1m   88.88[0m | [32;1m    100[0m | [32;1m  98.21[0m | [31;1m102-103          [0m
[32;1m  BackButton.js   [0m | [32;1m    100[0m | [32;1m     100[0m | [33;1m     50[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  CloseButton.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  InputField.js   [0m | [32;1m   95.8[0m | [33;1m   66.66[0m | [31;1m   37.5[0m | [32;1m   95.8[0m | [31;1m...08-109,113-114[0m
[32;1m  InputForm.js    [0m | [32;1m  95.91[0m | [32;1m   83.33[0m | [33;1m  57.14[0m | [32;1m  95.91[0m | [31;1m6-7              [0m
[32;1m  ...erGravatar.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  ...Management.js[0m | [32;1m  98.42[0m | [32;1m    93.1[0m | [32;1m  84.61[0m | [32;1m  98.42[0m | [31;1m14,56-57         [0m
[32;1m  PlansSection.js [0m | [32;1m     95[0m | [32;1m      80[0m | [33;1m  66.66[0m | [32;1m     95[0m | [31;1m8-9              [0m
[33;1m  ...tification.js[0m | [33;1m  73.52[0m | [33;1m   66.66[0m | [33;1m  64.28[0m | [33;1m  73.52[0m | [31;1m...8,81-82,99-107[0m
[32;1m  PoweredBy.js    [0m | [32;1m   90.9[0m | [32;1m     100[0m | [33;1m  66.66[0m | [32;1m   90.9[0m | [31;1m14-15            [0m
[32;1m  ...ctsSection.js[0m | [32;1m  86.46[0m | [33;1m    77.3[0m | [32;1m  88.46[0m | [32;1m  86.46[0m | [31;1m...1132,1134-1143[0m
[33;1m  ...BackButton.js[0m | [33;1m  76.92[0m | [32;1m     100[0m | [33;1m  66.66[0m | [33;1m  76.92[0m | [31;1m14-19            [0m
[32;1m  Switch.js       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[33;1m ...mponents/pages[0m | [33;1m   78.2[0m | [33;1m   69.43[0m | [33;1m  69.33[0m | [33;1m   78.2[0m | [31;1m                 [0m
[32;1m  ...tEmailPage.js[0m | [32;1m   86.4[0m | [32;1m   85.71[0m | [32;1m    100[0m | [32;1m   86.4[0m | [31;1m43-57,63-64      [0m
[33;1m  ...ntPlanPage.js[0m | [33;1m  78.89[0m | [33;1m   64.51[0m | [33;1m  63.63[0m | [33;1m  78.89[0m | [31;1m...47-452,455-461[0m
[33;1m  ...rofilePage.js[0m | [33;1m  73.17[0m | [33;1m   68.18[0m | [33;1m  57.14[0m | [33;1m  73.17[0m | [31;1m...69-173,190-191[0m
[32;1m  ...ceivingFAQ.js[0m | [32;1m  92.45[0m | [31;1m   33.33[0m | [31;1m     25[0m | [32;1m  92.45[0m | [31;1m21-27,98         [0m
[33;1m  ...ressedPage.js[0m | [33;1m     75[0m | [33;1m      50[0m | [33;1m  66.66[0m | [33;1m     75[0m | [31;1m...18-19,22-34,47[0m
[32;1m  ...ressionFAQ.js[0m | [32;1m  82.92[0m | [31;1m   33.33[0m | [31;1m  33.33[0m | [32;1m  82.92[0m | [31;1m16-21,36         [0m
[32;1m  FeedbackPage.js [0m | [32;1m  98.85[0m | [32;1m   96.42[0m | [33;1m  61.11[0m | [32;1m  98.85[0m | [31;1m205-206,209-210  [0m
[32;1m  LoadingPage.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  MagicLinkPage.js[0m | [32;1m  86.02[0m | [32;1m     100[0m | [32;1m  85.71[0m | [32;1m  86.02[0m | [31;1m52-64            [0m
[32;1m  ...ectionPage.js[0m | [32;1m   89.7[0m | [33;1m   77.77[0m | [32;1m  83.33[0m | [32;1m   89.7[0m | [31;1m...,81-83,122-130[0m
[32;1m  OfferPage.js    [0m | [32;1m  83.35[0m | [33;1m   50.53[0m | [32;1m  81.81[0m | [32;1m  83.35[0m | [31;1m...53-654,657-658[0m
[31;1m  ...ationsPage.js[0m | [31;1m  42.51[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  42.51[0m | [31;1m...89-279,282-372[0m
[32;1m  SigninPage.js   [0m | [32;1m  92.64[0m | [32;1m   91.17[0m | [32;1m     90[0m | [32;1m  92.64[0m | [31;1m...06-108,187-191[0m
[32;1m  SignupPage.js   [0m | [32;1m  91.46[0m | [33;1m   76.85[0m | [32;1m  86.84[0m | [32;1m  91.46[0m | [31;1m...61-862,882-889[0m
[31;1m  SupportError.js [0m | [31;1m  46.77[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  46.77[0m | [31;1m28-60            [0m
[31;1m  SupportPage.js  [0m | [31;1m  14.06[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  14.06[0m | [31;1m8-62             [0m
[31;1m  ...ortSuccess.js[0m | [31;1m  46.83[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m  46.83[0m | [31;1m36-77            [0m
[31;1m  ...scribePage.js[0m | [31;1m  47.48[0m | [31;1m   46.87[0m | [31;1m  33.33[0m | [31;1m  47.48[0m | [31;1m...65-267,270-272[0m
[33;1m ...ccountHomePage[0m | [33;1m  76.36[0m | [33;1m   55.55[0m | [32;1m  83.33[0m | [33;1m  76.36[0m | [31;1m                 [0m
[33;1m  ...ntHomePage.js[0m | [33;1m  76.36[0m | [33;1m   55.55[0m | [32;1m  83.33[0m | [33;1m  76.36[0m | [31;1m...26,38-39,41-42[0m
[33;1m ...age/components[0m | [33;1m  55.27[0m | [33;1m   68.88[0m | [33;1m     50[0m | [33;1m  55.27[0m | [31;1m                 [0m
[32;1m  ...untActions.js[0m | [32;1m  92.53[0m | [32;1m     100[0m | [33;1m     60[0m | [32;1m  92.53[0m | [31;1m30-34            [0m
[32;1m  AccountFooter.js[0m | [32;1m     96[0m | [32;1m     100[0m | [33;1m  66.66[0m | [32;1m     96[0m | [31;1m16               [0m
[32;1m  AccountMain.js  [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[31;1m  ...untWelcome.js[0m | [31;1m  45.16[0m | [33;1m    62.5[0m | [32;1m    100[0m | [31;1m  45.16[0m | [31;1m18-19,21-52      [0m
[33;1m  ...tionButton.js[0m | [33;1m  69.09[0m | [31;1m      20[0m | [31;1m  33.33[0m | [33;1m  69.09[0m | [31;1m13-17,24-31,38-41[0m
[33;1m  ...tterAction.js[0m | [33;1m  76.74[0m | [31;1m   33.33[0m | [31;1m     25[0m | [33;1m  76.74[0m | [31;1m13-17,24-27,35   [0m
[32;1m  ...ncesAction.js[0m | [32;1m     80[0m | [33;1m   66.66[0m | [33;1m     75[0m | [32;1m     80[0m | [31;1m6-14,28-29       [0m
[31;1m  ...untActions.js[0m | [31;1m     15[0m | [31;1m   33.33[0m | [31;1m  11.11[0m | [31;1m     15[0m | [31;1m...74-187,189-218[0m
[32;1m  ...ribeButton.js[0m | [32;1m  93.75[0m | [33;1m      75[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m10-11            [0m
[32;1m  UserHeader.js   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[33;1m src/utils        [0m | [33;1m  71.36[0m | [32;1m   83.88[0m | [33;1m  70.12[0m | [33;1m  71.36[0m | [31;1m                 [0m
[31;1m  api.js          [0m | [31;1m  17.56[0m | [32;1m      80[0m | [31;1m  14.28[0m | [31;1m  17.56[0m | [31;1m...50-574,578-604[0m
[32;1m  check-mode.js   [0m | [32;1m  95.23[0m | [33;1m   77.77[0m | [32;1m    100[0m | [32;1m  95.23[0m | [31;1m19-20            [0m
[33;1m  date-time.js    [0m | [33;1m     75[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m     75[0m | [31;1m3-4              [0m
[32;1m  discount.js     [0m | [32;1m     80[0m | [31;1m      25[0m | [32;1m    100[0m | [32;1m     80[0m | [31;1m3-4              [0m
[32;1m  errors.js       [0m | [32;1m  89.71[0m | [32;1m   82.75[0m | [32;1m    100[0m | [32;1m  89.71[0m | [31;1m...,92-93,103-106[0m
[32;1m  ...-generator.js[0m | [32;1m  95.78[0m | [32;1m   97.05[0m | [32;1m  94.44[0m | [32;1m  95.78[0m | [31;1m456-475          [0m
[32;1m  fixtures.js     [0m | [32;1m  99.13[0m | [33;1m   66.66[0m | [32;1m    100[0m | [32;1m  99.13[0m | [31;1m205-206          [0m
[33;1m  form.js         [0m | [33;1m  64.86[0m | [33;1m   71.42[0m | [32;1m    100[0m | [33;1m  64.86[0m | [31;1m5-15,18-19       [0m
[33;1m  helpers.js      [0m | [33;1m  74.54[0m | [32;1m   83.75[0m | [33;1m  77.52[0m | [33;1m  74.54[0m | [31;1m...56-865,925-935[0m
[31;1m  links.js        [0m | [31;1m     10[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m     10[0m | [31;1m2-10             [0m
[31;1m  notifications.js[0m | [31;1m  35.29[0m | [33;1m      70[0m | [31;1m     25[0m | [31;1m  35.29[0m | [31;1m...45,60-61,64-65[0m
[32;1m  test-fixtures.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  test-utils.js   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  ...o-relative.js[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
[32;1m  validator.js    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m
-------------------|---------|----------|---------|---------|-------------------
##[endgroup]
2025-04-15T04:33:53.1857038Z
2025-04-15T04:33:53.1857050Z
NX   Running target test:unit for 43 projects and 9 tasks they depend on failed
2025-04-15T04:33:53.1857587Z
Failed tasks:
2025-04-15T04:33:53.1857788Z
- @tryghost/admin-x-activitypub:test:unit
- ghost:test:unit
2025-04-15T04:33:53.1858365Z
[2K[1G[31merror[39m Command failed with exit code 1.
[2K[1G[34minfo[39m Visit [1mhttps://yarnpkg.com/en/docs/cli/run[22m for documentation about this command.
##[error]Process completed with exit code 1.
Post job cleanup.
[command]/usr/bin/git version
git version <:NUM:>.<:NUM:>.<:NUM:>
Temporarily overriding HOME='/home/runner/work/_temp/e9ed0df3-9329-413d-b6a6-c8b671285edf' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
[command]/usr/bin/git config --global --add safe.directory /home/runner/work/Ghost/Ghost
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
http.https://github.com/.extraheader
[command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
Cleaning up orphan processes
