Requested labels: blacksmith-4vcpu-ubuntu-2204
Job defined at: n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master
Reusable workflow chain:
n8n-io/n8n/.github/workflows/ci-master.yml@refs/heads/master (2ca742cb1582352459b9bdfe5ae8a98f6c668132)
-> n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master (2ca742cb1582352459b9bdfe5ae8a98f6c668132)
Waiting for a runner to pick up this job...
Job is about to start running on the runner: blacksmith-01jrw9fkk902m7mz9sw3nmqg8w-4vcpu (organization)
Current runner version: '2.323.0'
Runner name: 'blacksmith-01jrw9fkk902m7mz9sw3nmqg8w-4vcpu'
Runner group name: 'Default'
Machine name: 'localhost'
##[group]GITHUB_TOKEN Permissions
Actions: write
Attestations: <:*:>
Checks: <:*:>
Contents: <:*:>
Deployments: <:*:>
Discussions: <:*:>
Issues: <:*:>
Metadata: read
Models: read
Packages: <:*:>
Pages: <:*:>
PullRequests: <:*:>
RepositoryProjects: <:*:>
SecurityEvents: <:*:>
Statuses: <:*:>
##[endgroup]
Secret source: <:*:>
Prepare workflow directory
Prepare all required actions
Getting action download info
Download action repository <:*:> (SHA:<:SEQ:>)
Download action repository <:*:> (SHA:<:SEQ:>)
Download action repository <:*:> (SHA:<:SEQ:>)
Download action repository <:*:> (SHA:<:SEQ:>)
Download action repository <:*:> (SHA:<:SEQ:>)
Download action repository <:*:> (SHA:<:SEQ:>)
Uses: n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master (2ca742cb1582352459b9bdfe5ae8a98f6c668132)
##[group] Inputs
ref:
nodeVersion: 20.x
cacheKey: 2ca742cb1582352459b9bdfe5ae8a98f6c668132-base:build
<:*:> true
<:*:> true
<:*:> false
##[endgroup]
Complete job name: Unit tests (20.x) / Unit tests
A job started hook has been configured by the self-hosted runner administrator
##[group]Run <:*:>
shell: /usr/bin/bash --noprofile --norc -e -o pipefail {<:NUM:>}
##[endgroup]
System setup complete for blacksmith-01jrw9fkk902m7mz9sw3nmqg8w-4vcpu on production-destined-fish-9570c944
##[group]Run <:*:>
with:
repository: <:*:>
token: ***
ssh-strict: true
persist-credentials: <:*:>
clean: true
sparse-checkout-cone-mode: true
fetch-depth: <:NUM:>
fetch-tags: false
show-progress: true
lfs: false
submodules: <:*:>
set-safe-directory: true
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
##[endgroup]
Syncing repository: <:*:>
##[group]Getting Git version info
Working directory is '/home/runner/_work/n8n/n8n'
[command]/usr/bin/git version
git version <:NUM:>.<:NUM:>.<:NUM:>
##[endgroup]
Temporarily overriding HOME='/home/runner/_work/_temp/9af4a344-f04f-4714-bbb2-b76696b77150' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
[command]/usr/bin/git config --global --add safe.directory /home/runner/_work/n8n/n8n
Deleting the contents of '/home/runner/_work/n8n/n8n'
##[group]Initializing the repository
[command]/usr/bin/git init /home/runner/_work/n8n/n8n
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: git config --global init.defaultBranch <name>
hint:
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint:
hint: git branch -m <name>
Initialized empty Git repository in /home/runner/_work/n8n/n8n/.git/
[command]/usr/bin/git remote add origin <:*:>
##[endgroup]
##[group]Disabling automatic garbage collection
[command]/usr/bin/git config --local gc.auto 0
##[endgroup]
##[group]Setting up auth
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
[command]/usr/bin/git config <:*:> http.https://github.com/.extraheader AUTHORIZATION: basic ***
##[endgroup]
##[group]Fetching the repository
[command]/usr/bin/git -c protocol.version=<:NUM:> fetch <:*:> <:*:> <:*:> <:*:> <:*:> <:*:>
From <:*:>
* [new ref] <:SEQ:>-> <:*:>
##[endgroup]
##[group]Determining the checkout info
##[endgroup]
##[group]Checking out the ref
[command]/usr/bin/git checkout --progress --force -B <:*:> <:*:>
Reset branch 'master'
branch <:*:> set up to track <:*:>
##[endgroup]
[command]/usr/bin/git log <:NUM:> <:*:>
'<:SEQ:>'
##[group]Run <:*:>
with:
node-version: 20.x
always-auth: false
check-latest: false
token: ***
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
##[endgroup]
Found in cache @ /opt/hostedtoolcache/node/20.16.0/x64
##[group]Environment details
node: v20.16.0
npm: 10.8.1
yarn: 1.22.22
##[endgroup]
##[group]Run npm i -g corepack@0.31
[36;1mnpm i -g corepack@0.31[0m
[36;1mcorepack enable[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
##[endgroup]
2025-04-15T08:36:59.2284623Z
changed 1 package in 412ms
##[group]Run pnpm install --frozen-lockfile
[36;1mpnpm install --frozen-lockfile[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
##[endgroup]
! Corepack is about to download https://registry.npmjs.org/pnpm/-/pnpm-10.2.1.tgz
Scope: all 29 workspace projects
.../sqlite3@5.1.7/node_modules/sqlite3 install$ prebuild-install -r napi || node-gyp rebuild
.../sqlite3@5.1.7/node_modules/sqlite3 install: Done
2025-04-15T08:37:17.4673065Z
devDependencies:
+ @biomejs/biome 1.9.0
+ @n8n/eslint-config 0.0.1 <- packages/@n8n/eslint-config
+ @types/jest 29.5.3
+ @types/node 18.16.16
+ @types/supertest 6.0.2
+ cross-env 7.0.3
+ jest 29.6.2
+ jest-environment-jsdom 29.6.2
+ jest-expect-message 1.1.3
+ jest-junit 16.0.0
+ jest-mock 29.6.2
+ jest-mock-extended 3.0.4
+ lefthook 1.7.15
+ nock 14.0.1
+ nodemon 3.0.1
+ npm-run-all2 7.0.2
+ p-limit 3.1.0
+ rimraf 5.0.1
+ run-script-os 1.1.6
+ supertest 7.0.0
+ ts-jest 29.1.1
+ tsc-alias 1.8.10
+ tsc-watch 6.2.0
+ turbo 2.3.3
+ typescript 5.8.2
+ zx 8.1.4
2025-04-15T08:37:17.4679205Z
Ignored build scripts: @biomejs/biome, @fortawesome/fontawesome-common-types, @fortawesome/fontawesome-svg-core, @fortawesome/free-regular-svg-icons, @fortawesome/free-solid-svg-icons, core-js, cpu-features, cypress, esbuild, eslint-plugin-n8n-nodes-base, lefthook, msgpackr-extract, protobufjs, sharp, ssh2, tree-sitter, tree-sitter-bash, vue-demi. Run "pnpm approve-builds" to pick which dependencies should be allowed to run scripts.
2025-04-15T08:37:17.4682739Z
. preinstall$ node scripts/block-npm-install.js
. preinstall: Done
. prepare$ node scripts/prepare.mjs
. prepare: Done
Done in 18.2s
##[group]Run <:*:>
with:
cache-prefix: turbogha_
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
##[endgroup]
Cache version: turbogha_v2
Cache prefix: turbogha_
Launched child process: 2613
Server log file: /home/runner/_work/_temp/turbogha.log
Server is now up and running.
The following environment variables are exported:
TURBOGHA_PORT=41230
TURBO_API=http://localhost:41230
TURBO_TOKEN=turbogha
TURBO_TEAM=turbogha
##[group]Run <:*:>
with:
path: <:*:>
key: 2ca742cb1582352459b9bdfe5ae8a98f6c668132-base:build
fail-on-cache-miss: true
enableCrossOsArchive: false
lookup-only: false
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
TURBOGHA_PORT: 41230
TURBO_API: http://localhost:41230
TURBO_TOKEN: turbogha
TURBO_TEAM: turbogha
##[endgroup]
Checking cache for keys 2ca742cb1582352459b9bdfe5ae8a98f6c668132-base:build and version 8ff21097fb625f6ce3d80c86e84f67a27f98e54bf7f192e455a1b3f2578f3ce3
Received 46561814 of 46561814 (100.0%), 143.7 MBs/sec
Cache Size: ~44 MB (46561814 B)
[command]/usr/bin/tar -xf /home/runner/_work/_temp/fa5b438c-6a47-428c-b946-e498f1846b6c/cache.tzst -P -C /home/runner/_work/n8n/n8n --use-compress-program unzstd
Cache extraction completed in 2.89 seconds
Cache restored successfully
Cache restored from key: 2ca742cb1582352459b9bdfe5ae8a98f6c668132-base:build
##[group]Run pnpm test:backend
[36;1mpnpm test:backend[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
TURBOGHA_PORT: 41230
TURBO_API: http://localhost:41230
TURBO_TOKEN: turbogha
TURBO_TEAM: turbogha
##[endgroup]
2025-04-15T08:37:23.0514253Z
> n8n-monorepo@1.89.0 test:backend /home/runner/_work/n8n/n8n
> turbo run test:backend --concurrency=1
2025-04-15T08:37:23.0516069Z
2025-04-15T08:37:23.1087708Z
Attention:
Turborepo now collects completely anonymous telemetry regarding usage.
This information is used to shape the Turborepo roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://turbo.build/repo/docs/telemetry
2025-04-15T08:37:23.2683961Z
â€¢ Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
â€¢ Running test:backend in 28 packages
â€¢ Remote caching enabled
##[group]@n8n/client-oauth2:test
cache bypass, force executing 5d41e0aa72934740
2025-04-15T08:37:25.9272162Z
> @n8n/client-oauth2@0.23.0 test /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2
> jest
2025-04-15T08:37:25.9273375Z
PASS test/CodeFlow.test.ts
CodeFlow
#getUri
âœ“ should return a valid uri (3 ms)
âœ“ should include empty scopes array as an empty string
âœ“ should include empty scopes string as an empty string
when scopes are undefined
âœ“ should not include scope in the uri (1 ms)
when authorizationUri contains query parameters
âœ“ should preserve query string parameters
#getToken
âœ“ should request the token (26 ms)
âœ“ should reject with auth errors (1 ms)
#sign
âœ“ should be able to sign a standard request object (5 ms)
#refresh
âœ“ should make a request to get a new access token (14 ms)
2025-04-15T08:37:25.9279294Z
PASS test/ClientOAuth2.test.ts
ClientOAuth2
accessTokenRequest
âœ“ should send the correct request based on given options (33 ms)
âœ“ should parse response with content type application/json (6 ms)
âœ“ should parse response with content type application/json; charset=utf-8 (6 ms)
âœ“ should parse response with content type application/x-www-form-urlencoded (5 ms)
âœ“ should reject content type text/html (5 ms)
âœ“ should reject content type application/xml (4 ms)
âœ“ should reject content type text/plain (5 ms)
âœ“ should reject 4xx responses with auth errors (3 ms)
âœ“ should reject 3xx responses with response errors (5 ms)
2025-04-15T08:37:25.9285172Z
PASS test/CredentialsFlow.test.ts
CredentialsFlow
#getToken
âœ“ should request the token (41 ms)
âœ“ when scopes are undefined, it should not send scopes to an auth server (6 ms)
âœ“ when scopes is an empty array, it should send empty scope string to an auth server (6 ms)
âœ“ should handle authentication = "header" (5 ms)
âœ“ should handle authentication = "body" (5 ms)
#sign
âœ“ should be able to sign a standard request object (5 ms)
#refresh
âœ“ should make a request to get a new access token (9 ms)
âœ“ should make a request to get a new access token with authentication = "body" (12 ms)
âœ“ should make a request to get a new access token with authentication = "header" (9 ms)
2025-04-15T08:37:25.9291489Z
Test Suites: 3 passed, 3 total
Tests:       27 passed, 27 total
Snapshots:   0 total
Time:        1.868 s
Ran all test suites.
##[endgroup]
##[group]n8n-core:test
cache bypass, force executing 87aa005921d64b77
2025-04-15T08:37:47.6190550Z
> n8n-core@1.88.0 test /home/runner/_work/n8n/n8n/packages/core
> jest
2025-04-15T08:37:47.6191175Z
PASS src/execution-engine/partial-execution-utils/__tests__/recreate-node-execution-stack.test.ts
recreateNodeExecutionStack
âœ“ all nodes except destination node have data (7 ms)
âœ“ no nodes have data (1 ms)
âœ“ node before destination node has pinned data (1 ms)
âœ“ throws if a disabled node is found (12 ms)
âœ“ multiple incoming connections (8 ms)
âœ“ multiple inputs (1 ms)
multiple inputs
âœ“ only the trigger has run data (3 ms)
âœ“ the trigger and node1 have run data (2 ms)
âœ“ the trigger and node2 have run data (1 ms)
âœ“ the trigger, node1 and node2 have run data (1 ms)
addWaitingExecution
âœ“ allow adding data partially (14 ms)
addWaitingExecutionSource
âœ“ allow adding data partially (1 ms)
2025-04-15T08:37:47.6197410Z
PASS src/nodes-loader/__tests__/directory-loader.test.ts
DirectoryLoader
CustomDirectoryLoader
âœ“ should load custom nodes and credentials (17 ms)
PackageDirectoryLoader
âœ“ should load nodes and credentials from an installed package (3 ms)
âœ“ should throw error when package.json is missing (26 ms)
âœ“ should throw error when package.json is invalid (2 ms)
âœ“ should do nothing if package.json has no n8n field (5 ms)
âœ“ should hide httpRequestNode property when credential has supported nodes (1 ms)
âœ“ should not modify httpRequestNode when credential has no supported nodes (1 ms)
âœ“ should inherit iconUrl from supported node when credential has no icon (2 ms)
LazyPackageDirectoryLoader
âœ“ should skip loading nodes and credentials from a lazy-loadable package (1 ms)
âœ“ should fall back to non-lazy loading if any json file fails to parse (2 ms)
âœ“ should only load included nodes when includeNodes is set (1 ms)
âœ“ should load no nodes when includeNodes does not match any nodes (7 ms)
âœ“ should exclude specified nodes when excludeNodes is set (1 ms)
reset()
âœ“ should reset all properties to their initial state (2 ms)
getVersionedNodeTypeAll
âœ“ should return array with single node for non-versioned node
âœ“ should return all versions of a versioned node (5 ms)
getCredentialsForNode
âœ“ should return empty array if node has no credentials
âœ“ should return credentials for non-versioned node (1 ms)
âœ“ should return unique credentials from all versions of a versioned node (1 ms)
âœ“ should remove duplicate credentials from different versions (1 ms)
loadCredentialFromFile
âœ“ should load credential and store it correctly (1 ms)
âœ“ should update credential icon paths
âœ“ should add toJSON method to credential type
âœ“ should store credential extends and supported nodes info (1 ms)
âœ“ should throw error if credential class cannot be loaded (14 ms)
getCredential
âœ“ should return existing loaded credential type
âœ“ should load credential from known credentials if not already loaded
âœ“ should throw UnrecognizedCredentialTypeError if credential type is not found (1 ms)
loadNodeFromFile
âœ“ should load node and store it correctly (3 ms)
âœ“ should update node icon paths (3 ms)
âœ“ should skip node if not in includeNodes (1 ms)
âœ“ should handle versioned nodes correctly (2 ms)
âœ“ should store credential associations correctly
âœ“ should throw error if node class cannot be loaded (1 ms)
getNode
âœ“ should return existing loaded node type (1 ms)
âœ“ should load node from known nodes if not already loaded (12 ms)
âœ“ should throw UnrecognizedNodeTypeError if node type is not found (1 ms)
2025-04-15T08:37:47.6220706Z
PASS src/execution-engine/node-execution-context/utils/__tests__/request-helper-functions.test.ts
Request Helper Functions
proxyRequestToAxios
âœ“ should rethrow an error with `status` property (131 ms)
âœ“ should not throw if the response status is 200 (13 ms)
âœ“ should throw if the response status is 403 (24 ms)
âœ“ should not throw if the response status is 404, but `simple` option is set to `false` (10 ms)
âœ“ should return full response when `resolveWithFullResponse` is set to true (7 ms)
redirects
âœ“ should forward authorization header (12 ms)
âœ“ should follow redirects by default (9 ms)
âœ“ should not follow redirects when configured (7 ms)
invokeAxios
âœ“ should throw error for non-401 status codes (6 ms)
âœ“ should throw error on 401 without digest auth challenge (11 ms)
âœ“ should make successful requests (11 ms)
âœ“ should handle digest auth when receiving 401 with nonce (18 ms)
removeEmptyBody
âœ“ Should remove empty body for GET (1 ms)
âœ“ Should remove empty body for HEAD
âœ“ Should remove empty body for OPTIONS
âœ“ Should not remove non-empty body for GET
âœ“ Should not remove non-empty body for HEAD (1 ms)
âœ“ Should not remove non-empty body for OPTIONS
âœ“ Should not remove empty body for POST
âœ“ Should not remove empty body for PUT
âœ“ Should not remove empty body for PATCH
âœ“ Should not remove empty body for DELETE (1 ms)
parseRequestObject
âœ“ should handle basic request options
âœ“ should set correct headers for FormData (1 ms)
âœ“ should not use Host header for SNI
should set SSL certificates
âœ“ on regular requests (1 ms)
âœ“ on redirected requests (1 ms)
when followRedirect is true
âœ“ should set maxRedirects on GET
âœ“ should set maxRedirects on HEAD
âœ“ should not set maxRedirects on POST
âœ“ should not set maxRedirects on PUT
âœ“ should not set maxRedirects on PATCH
âœ“ should not set maxRedirects on DELETE
when followAllRedirects is true
âœ“ should set maxRedirects on GET
âœ“ should set maxRedirects on HEAD  (1 ms)
âœ“ should set maxRedirects on POST  (3 ms)
âœ“ should set maxRedirects on PUT
âœ“ should set maxRedirects on PATCH  (1 ms)
âœ“ should set maxRedirects on DELETE
createFormDataObject
âœ“ should create FormData with simple key-value pairs (1 ms)
âœ“ should handle array values
âœ“ should handle complex form data with options (1 ms)
convertN8nRequestToAxios
âœ“ should convert basic HTTP request options (1 ms)
âœ“ should handle body and content type
âœ“ should handle form data (1 ms)
âœ“ should handle disable follow redirect
âœ“ should handle SSL certificate validation
applyPaginationRequestData
âœ“ should merge pagination request data with original request options
âœ“ should handle formData correctly (7 ms)
âœ“ should handle form data correctly
âœ“ should prefer pagination body over original body
âœ“ should merge complex request options (1 ms)
âœ“ should handle edge cases with empty pagination data
httpRequest
âœ“ should make a simple GET request (11 ms)
âœ“ should make a POST request with JSON body (11 ms)
âœ“ should return full response when returnFullResponse is true (5 ms)
âœ“ should handle form data request (5 ms)
âœ“ should handle query parameters (7 ms)
âœ“ should ignore HTTP status errors when configured (6 ms)
âœ“ should handle different array formats in query parameters (11 ms)
âœ“ should remove empty body for GET requests (4 ms)
âœ“ should set default user agent (5 ms)
âœ“ should respect custom headers (4 ms)
2025-04-15T08:37:47.6251607Z
PASS src/execution-engine/partial-execution-utils/__tests__/find-start-nodes.test.ts
isDirty
âœ“ if the node has pinned data it's not dirty (3 ms)
âœ“ if the node has run data it's not dirty
findStartNodes
âœ“ finds the start node if there is only a trigger (2 ms)
âœ“ finds the start node in a simple graph
âœ“ multiple outputs (1 ms)
âœ“ complex example with multiple outputs and inputs (1 ms)
âœ“ multiple connections with the first one having data (1 ms)
âœ“ multiple connections with the second one having data
âœ“ multiple connections with both having data (1 ms)
âœ“ multiple connections with both having data
âœ“ multiple connections with trigger (1 ms)
âœ“ terminates when called with graph that contains cycles
pinData
âœ“ does not stop recursing when the first node that has no run data has pinned data (1 ms)
custom loop logic
âœ“ if the last run of loop node has no data (null) on the done output, then the loop is the start node
âœ“ if the last run of loop node has no data (empty array) on the done output, then the loop is the start  node (1 ms)
âœ“ if the loop has data on the done output in the last run it does not become a start node
2025-04-15T08:37:47.6261176Z
PASS src/execution-engine/partial-execution-utils/__tests__/directed-graph.test.ts
DirectedGraph
âœ“ roundtrip (6 ms)
âœ“ linear workflow with null connections (1 ms)
getChildren
âœ“ returns all children (1 ms)
âœ“ terminates when finding a cycle (1 ms)
getStronglyConnectedComponents
âœ“ find strongly connected components (1 ms)
âœ“ find strongly connected components even if they use different output indexes (1 ms)
depthFirstSearch
âœ“ calls nodes in the correct order and stops when it found the node (2 ms)
getParentConnections
âœ“ returns all parent connections (1 ms)
âœ“ terminates when finding a cycle (1 ms)
removeNode
âœ“ remove node and all connections (1 ms)
âœ“ remove node, but reconnect connections (3 ms)
âœ“ remove node, reconnect connections and retaining the input indexes (1 ms)
âœ“ remove node, reconnect connections and retaining the input indexes, even if the child has less inputs than the than the removed node had (1 ms)
âœ“ remove node, reconnect connections and multiplexes them (2 ms)
hasNode
âœ“ returns node if it's part of the graph
âœ“ returns undefined if there is no node with that name in the graph
getNodesByNames
âœ“ returns empty Set when no names are provided (24 ms)
âœ“ returns Set with only nodes that exist in the graph (1 ms)
2025-04-15T08:37:47.6272836Z
PASS src/execution-engine/node-execution-context/utils/__tests__/create-node-as-tool.test.ts
createNodeAsTool
Tool Creation and Basic Properties
âœ“ should create a DynamicStructuredTool with correct properties (6 ms)
âœ“ should use toolDescription if provided (1 ms)
Schema Creation and Parameter Handling
âœ“ should create a schema based on fromAI arguments in nodeParameters (1 ms)
âœ“ should handle fromAI arguments correctly (1 ms)
âœ“ should handle default values correctly (2 ms)
âœ“ should handle nested parameters correctly (1 ms)
âœ“ should handle array parameters correctly (1 ms)
Error Handling and Edge Cases
âœ“ should handle error during node execution (1 ms)
âœ“ should throw an error for invalid parameter names (23 ms)
âœ“ should throw an error for $fromAI calls with unsupported types (1 ms)
âœ“ should handle empty parameters and parameters with no fromAI calls (2 ms)
Parameter Name and Description Handling
âœ“ should accept parameter names with underscores and hyphens (5 ms)
âœ“ should throw an error for parameter names with invalid special characters (2 ms)
âœ“ should throw an error for empty parameter name
âœ“ should handle parameter names with exact and exceeding character limits (1 ms)
âœ“ should handle $fromAI calls with empty description (1 ms)
âœ“ should throw an error for calls with the same parameter but different descriptions (1 ms)
âœ“ should throw an error for calls with the same parameter but different types (1 ms)
Complex Parsing Scenarios
âœ“ should correctly parse $fromAI calls with varying spaces, capitalization, and within template literals (1 ms)
âœ“ should correctly parse multiple $fromAI calls interleaved with regular text (1 ms)
âœ“ should correctly parse $fromAI calls with complex JSON default values (1 ms)
âœ“ should ignore $fromAI calls embedded in non-string node parameters (9 ms)
Escaping and Special Characters
âœ“ should handle escaped single quotes in parameter names and descriptions
âœ“ should handle escaped double quotes in parameter names and descriptions (1 ms)
âœ“ should handle escaped backslashes in parameter names and descriptions
âœ“ should handle mixed escaped characters in parameter names and descriptions (1 ms)
Edge Cases and Limitations
âœ“ should ignore excess arguments in $fromAI calls beyond the fourth argument (1 ms)
âœ“ should correctly parse $fromAI calls with nested parentheses
âœ“ should handle $fromAI calls with very long descriptions (1 ms)
âœ“ should handle $fromAI calls with only some parameters (1 ms)
Unicode and Internationalization
âœ“ should handle $fromAI calls with unicode characters (1 ms)
2025-04-15T08:37:47.6294522Z
PASS src/execution-engine/partial-execution-utils/__tests__/get-source-data-groups.test.ts
getSourceDataGroups
âœ“ groups sources into possibly complete sets if all of them have data (13 ms)
âœ“ groups sources into possibly complete sets if all of them have data (1 ms)
âœ“ groups sources into one complete set with 2 connections and one incomplete set with 1 connection (1 ms)
âœ“ groups sources into one complete set with 2 connections and one incomplete set with 2 connection (9 ms)
âœ“ groups sources into two incomplete sets, one with 1 connection without and one with 2 connections one with data and one without (2 ms)
âœ“ return an incomplete group when there is no data on input 2 (1 ms)
âœ“ return an incomplete group when there is no data on input 1 (1 ms)
âœ“ terminates with negative input indexes (1 ms)
âœ“ terminates inputs with missing connections (1 ms)
âœ“ terminates if the graph has no connections
2025-04-15T08:37:47.6300291Z
PASS src/execution-engine/__tests__/routing-node.test.ts
RoutingNode
âœ“ applyDeclarativeNodeOptionParameters (6 ms)
getRequestOptionsFromParameters
âœ“ single parameter, only send defined, fixed value (4 ms)
âœ“ single parameter, only send defined, using expression (68 ms)
âœ“ single parameter, send and operations defined, fixed value (1 ms)
âœ“ multiple parameters, complex example with everything (23 ms)
runNode
âœ“ single parameter, only send defined, fixed value, using requestDefaults (2 ms)
âœ“ single parameter, only send defined, fixed value, using requestDefaults (3 ms)
âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite (1 ms)
âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite and expressions (3 ms)
âœ“ single parameter, send and operations defined, fixed value with pagination (2 ms)
âœ“ multiple parameters, from applyDeclarativeNodeOptionParameters (8 ms)
âœ“ multiple parameters, complex example with everything (9 ms)
âœ“ single parameter, postReceive: set (1 ms)
âœ“ single parameter, postReceive: rootProperty (1 ms)
âœ“ single parameter, multiple postReceive: rootProperty, setKeyValue, sort (5 ms)
itemIndex
âœ“ single parameter, only send defined, fixed value, using requestDefaults
2025-04-15T08:37:47.6310115Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/__tests__/workflow-execute.test.ts (5.498 s)
WorkflowExecute
v0 execution order
âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (72 ms)
âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (30 ms)
âœ“ should run basic two node workflow (3 ms)
âœ“ should run node twice when it has two input connections3 (3 ms)
âœ“ should run complicated multi node workflow (6 ms)
âœ“ should run workflow also if node has multiple input connections and one is empty (5 ms)
âœ“ should use empty data if second input does not have any data (4 ms)
âœ“ should use empty data if input of sibling does not receive any data from parent (2 ms)
âœ“ should not use empty data in sibling if parent did not send any data (7 ms)
âœ“ should display the correct parameters and so correct data when simplified node-versioning is used (3 ms)
âœ“ should execute nodes in the correct order, breath-first & order of connection (9 ms)
v1 execution order
âœ“ should run node twice when it has two input connections (1 ms)
âœ“ should run complicated multi node workflow (4 ms)
âœ“ should execute nodes in the correct order, depth-first & the most top-left one first (17 ms)
âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (11 ms)
âœ“ should run keep on executing even if data from input 1 is missing (3 ms)
âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (8 ms)
âœ“ Should output successful branches on multi-output nodes with continueErrorOutput selected (19 ms)
run test workflows
âœ“ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/error_outputs (133 ms)
âœ“ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/paired_items_fix (45 ms)
runPartialWorkflow2
âœ“ deletes dirty nodes' run data (4 ms)
âœ“ deletes run data of children of dirty nodes as well (2 ms)
âœ“ removes disabled nodes from the workflow (2 ms)
âœ“ passes filtered run data to `recreateNodeExecutionStack` (1 ms)
âœ“ passes subgraph to `cleanRunData` (1 ms)
âœ“ passes pruned dirty nodes to `cleanRunData` (2 ms)
âœ“ works with a single node (1 ms)
checkReadyForExecution
âœ“ should return null if there are no nodes (1 ms)
âœ“ should return null if there are no enabled nodes
âœ“ should return typeUnknown for unknown nodes (1 ms)
âœ“ should return issues for regular nodes (1 ms)
runNode
âœ“ should call closeFunction when manual trigger is aborted (9 ms)
handleNodeErrorOutput
âœ“ should handle undefined error data input correctly (1 ms)
âœ“ should handle empty input
âœ“ should route error items to last output
âœ“ should handle error in json with message property
âœ“ should preserve pairedItem data when routing errors (2 ms)
âœ“ should route multiple error items correctly (1 ms)
âœ“ should handle complex pairedItem data correctly (3 ms)
prepareWaitingToExecution
âœ“ should initialize waitingExecutionSource if undefined
âœ“ should create arrays of correct length with null values (1 ms)
âœ“ should work with zero connections
âœ“ should handle multiple run indices (1 ms)
incomingConnectionIsEmpty
âœ“ should return true when there are no input connections
âœ“ should return true when all input connections have no data
âœ“ should return true when input connection node does not exist in runData (1 ms)
âœ“ should return false when any input connection has data (9 ms)
âœ“ should check correct run index (1 ms)
âœ“ should handle undefined data in runData correctly
moveNodeMetadata
âœ“ should do nothing when there is no metadata
âœ“ should merge metadata into runData for single node
âœ“ should merge metadata into runData for multiple nodes
âœ“ should preserve existing metadata when merging (1 ms)
âœ“ should handle multiple run indices
getFullRunData
âœ“ should return complete IRun object with all properties correctly set (2 ms)
processSuccessExecution
âœ“ should handle different workflow completion scenarios (36 ms)
âœ“ should handle static data, hooks, and cleanup correctly (4 ms)
assignPairedItems
âœ“ should handle undefined node output
âœ“ should auto-fix pairedItem for single input/output scenario
âœ“ should auto-fix pairedItem when number of items match
âœ“ should not modify existing pairedItem data (1 ms)
âœ“ should process multiple output branches correctly
ensureInputData
âœ“ should return true when node has no input connections
âœ“ should return false when execution data does not have main connection (1 ms)
âœ“ should return true when input data is available for force input node execution
âœ“ should return false when input data is not available for force input node execution
customOperations
âœ“ should execute customOperations
âœ“ should throw error if customOperation and execute both defined (1 ms)
2025-04-15T08:37:47.6357123Z
PASS src/execution-engine/node-execution-context/utils/__tests__/binary-helper-functions.test.ts
test binary data helper methods
âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'default' mode (372 ms)
âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'filesystem' mode (18 ms)
binaryToString
âœ“ should handle undefined encoding (1 ms)
âœ“ should handle stream with no explicit encoding
should handle Buffer
âœ“ with utf8 (7 ms)
âœ“ with iso-8859-15 (1 ms)
âœ“ with latin1
âœ“ with ascii
âœ“ with windows-1252 (1 ms)
âœ“ with shift-jis (5 ms)
âœ“ with big5 (7 ms)
âœ“ with koi8-r (1 ms)
should handle streams
âœ“ with utf8 (2 ms)
âœ“ with iso-8859-15
âœ“ with latin1 (1 ms)
âœ“ with ascii
âœ“ with windows-1252 (1 ms)
âœ“ with shift-jis
âœ“ with big5 (1 ms)
âœ“ with koi8-r
should handle IncomingMessage
âœ“ with utf8 (1 ms)
âœ“ with iso-8859-15 (1 ms)
âœ“ with latin1
âœ“ with ascii (2 ms)
âœ“ with windows-1252 (10 ms)
âœ“ with shift-jis
âœ“ with big5 (1 ms)
âœ“ with koi8-r
detectBinaryEncoding
âœ“ should detect encoding for utf-8 buffers (2 ms)
âœ“ should detect encoding for latin1 buffers (1 ms)
âœ“ should handle empty buffer
assertBinaryData
âœ“ should throw error when no binary data exists (26 ms)
âœ“ should throw error when specific binary property does not exist (1 ms)
âœ“ should return binary data when it exists
copyBinaryFile
âœ“ should handle files without explicit mime type (1 ms)
âœ“ should use provided mime type (1 ms)
prepareBinaryData
âœ“ parses filenames correctly (3 ms)
âœ“ handles IncomingMessage with responseUrl (1 ms)
âœ“ handles buffer with no detectable mime type
âœ“ handles IncomingMessage with no content type or filename (1 ms)
setBinaryDataBuffer
âœ“ should handle empty buffer
getBinaryHelperFunctions
âœ“ should return helper functions with correct context (2 ms)
createBinarySignedUrl
âœ“ should get a signed url
2025-04-15T08:37:47.6379152Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/instance-settings/__tests__/instance-settings.test.ts
InstanceSettings
If the settings file exists
âœ“ should load settings from the file (5 ms)
âœ“ should throw error if settings file is not valid JSON (33 ms)
âœ“ should throw if the env and file keys do not match (2 ms)
âœ“ should check if the settings file has the correct permissions (2 ms)
âœ“ should check the permissions but not fix them if settings file has incorrect permissions by default
âœ“ should not check the permissions if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is false
âœ“ should fix the permissions of the settings file if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is true (1 ms)
If the settings file does not exist
âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS is not set (1 ms)
âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false (1 ms)
âœ“ should create a new settings file with explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (1 ms)
âœ“ should pick up the encryption key from env var N8N_ENCRYPTION_KEY (2 ms)
âœ“ should not set the permissions of the settings file if 'N8N_IGNORE_SETTINGS_FILE_PERMISSIONS' is true (1 ms)
âœ“ should throw on a worker process, if encryption key isn't set via env (2 ms)
constructor
âœ“ should generate a `hostId` (1 ms)
isDocker
âœ“ should return true if /.dockerenv exists (1 ms)
âœ“ should return true if /run/.containerenv exists (2 ms)
âœ“ should return true if /proc/self/cgroup contains docker (1 ms)
âœ“ should return true if /proc/self/cgroup contains kubepods (1 ms)
âœ“ should return true if /proc/self/cgroup contains containerd (1 ms)
âœ“ should return true if /proc/self/mountinfo contains docker (14 ms)
âœ“ should return true if /proc/self/mountinfo contains kubelet (1 ms)
âœ“ should return true if /proc/self/mountinfo contains containerd (1 ms)
âœ“ should return false if no docker indicators are found
âœ“ should return false if reading any of these files throws an error (1 ms)
âœ“ should cache the result of isDocker check (1 ms)
2025-04-15T08:37:47.6402176Z
PASS src/execution-engine/node-execution-context/utils/__tests__/get-input-connection-data.test.ts
getInputConnectionData
ai_agent
âœ“ should throw when no inputs are defined (56 ms)
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected (2 ms)
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes (2 ms)
âœ“ should handle node execution errors (2 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions (1 ms)
ai_chain
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required
âœ“ should throw when too many nodes are connected (1 ms)
âœ“ should throw when required node is not connected (3 ms)
âœ“ should handle disabled nodes (2 ms)
âœ“ should handle node execution errors (2 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions (1 ms)
ai_document
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected (1 ms)
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes (6 ms)
âœ“ should handle node execution errors (1 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions (1 ms)
ai_embedding
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required (2 ms)
âœ“ should throw when too many nodes are connected (1 ms)
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes (1 ms)
âœ“ should handle node execution errors (2 ms)
âœ“ should propagate configuration errors
âœ“ should handle close functions (1 ms)
ai_languageModel
âœ“ should throw when no inputs are defined
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes
âœ“ should handle node execution errors (1 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions
ai_memory
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required
âœ“ should throw when too many nodes are connected (1 ms)
âœ“ should throw when required node is not connected (7 ms)
âœ“ should handle disabled nodes (1 ms)
âœ“ should handle node execution errors (1 ms)
âœ“ should propagate configuration errors
âœ“ should handle close functions (1 ms)
ai_outputParser
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected (1 ms)
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes (1 ms)
âœ“ should handle node execution errors (1 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions (1 ms)
ai_retriever
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes (1 ms)
âœ“ should handle node execution errors (1 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions
ai_textSplitter
âœ“ should throw when no inputs are defined
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected (10 ms)
âœ“ should throw when required node is not connected (2 ms)
âœ“ should handle disabled nodes (1 ms)
âœ“ should handle node execution errors (1 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions (1 ms)
ai_vectorStore
âœ“ should throw when no inputs are defined (1 ms)
âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
âœ“ should throw when too many nodes are connected (1 ms)
âœ“ should throw when required node is not connected (1 ms)
âœ“ should handle disabled nodes (1 ms)
âœ“ should handle node execution errors (2 ms)
âœ“ should propagate configuration errors (1 ms)
âœ“ should handle close functions (1 ms)
ai_tool
âœ“ should return empty array when no tools are connected and input is not required (3 ms)
âœ“ should throw when required tool node is not connected (1 ms)
âœ“ should handle disabled tool nodes (1 ms)
âœ“ should handle multiple connected tools (2 ms)
âœ“ should handle tool execution errors (3 ms)
âœ“ should return the tool when there are no issues (1 ms)
makeHandleToolInvocation
âœ“ should return stringified results when execution is successful (2 ms)
âœ“ should handle binary data and return a warning message (1 ms)
âœ“ should continue if json and binary data exist
âœ“ should handle execution errors and return an error message (10 ms)
âœ“ should increment the toolRunIndex for each invocation
2025-04-15T08:37:47.6450823Z
PASS src/binary-data/object-store/__tests__/object-store.service.test.ts
checkConnection()
âœ“ should send a HEAD request to the correct host (8 ms)
âœ“ should throw an error on request failure (37 ms)
getMetadata()
âœ“ should send a HEAD request to the correct host and path (1 ms)
âœ“ should throw an error on request failure (2 ms)
put()
âœ“ should send a PUT request to upload an object (2 ms)
âœ“ should throw an error on request failure (1 ms)
get()
âœ“ should send a GET request to download an object as a buffer (2 ms)
âœ“ should send a GET request to download an object as a stream (1 ms)
âœ“ should throw an error on request failure (1 ms)
deleteOne()
âœ“ should send a DELETE request to delete a single object
âœ“ should throw an error on request failure (1 ms)
deleteMany()
âœ“ should send a POST request to delete multiple objects (2 ms)
âœ“ should not send a deletion request if no prefix match
âœ“ should throw an error on request failure (2 ms)
list()
âœ“ should list objects with a common prefix
âœ“ should consolidate pages (1 ms)
âœ“ should throw an error on request failure (7 ms)
2025-04-15T08:37:47.6460800Z
PASS src/execution-engine/partial-execution-utils/__tests__/find-subgraph.test.ts
findSubgraph
âœ“ simple (5 ms)
âœ“ works with a single node (1 ms)
âœ“ multiple connections
âœ“ disregard nodes after destination (1 ms)
âœ“ terminates when called with graph that contains cycles (1 ms)
âœ“ terminates when called with graph that contains cycles
âœ“ terminates if the destination node is part of a cycle (1 ms)
root nodes
âœ“ always retain connections that have a different type than `NodeConnectionTypes.Main`
âœ“ skip non-Main connection types
âœ“ remove orphaned nodes (1 ms)
2025-04-15T08:37:47.6466151Z
PASS src/execution-engine/node-execution-context/utils/__tests__/validate-value-against-schema.test.ts
validateValueAgainstSchema
âœ“ should validate fixedCollection values parameter (4 ms)
âœ“ should validate single value parameter (1 ms)
when validating a resource mapper value
when attemptToConvertTypes === true
should correctly validate values for
âœ“ { num: 0 } (1 ms)
âœ“ { num: 23 }
âœ“ { num: -0 } (1 ms)
âœ“ { num: -Infinity }
âœ“ { num: Infinity } (1 ms)
âœ“ { str: '' }
âœ“ { str: ' ' } (1 ms)
âœ“ { str: 'hello' }
âœ“ { arr: [] } (1 ms)
âœ“ { obj: {} }
should throw an error for
âœ“ { num: NaN } (22 ms)
âœ“ { num: undefined } (1 ms)
âœ“ { num: null } (1 ms)
when showTypeConversionOptions is not set (=default)
âœ“ should correctly convert types (1 ms)
when showTypeConversionOptions is true
âœ“ should throw an error (1 ms)
2025-04-15T08:37:47.6475816Z
PASS src/execution-engine/node-execution-context/utils/__tests__/parse-incoming-message.test.ts
parseContentType
âœ“ should parse basic content type (6 ms)
âœ“ should convert type to lowercase (1 ms)
âœ“ should parse content type with charset
âœ“ should parse content type with multiple parameters (1 ms)
âœ“ should handle quoted parameter values
âœ“ should handle encoded parameter values (1 ms)
âœ“ should return null for undefined input
âœ“ should return null for empty string
parseContentDisposition
âœ“ should parse basic content disposition (1 ms)
âœ“ should parse filename without quotes
âœ“ should parse inline disposition (1 ms)
âœ“ should parse filename with spaces
âœ“ should parse filename* parameter (RFC 5987)
âœ“ should handle invalid syntax but with filename (1 ms)
âœ“ should handle invalid syntax with only filename parameter
âœ“ should return null for undefined input
âœ“ should return null for empty string (1 ms)
âœ“ should handle encoded filenames
âœ“ should handle multiple parameters
parseIncomingMessage
âœ“ parses valid content-type header (1 ms)
âœ“ parses valid content-type header with parameters (1 ms)
âœ“ parses valid content-type header with encoding wrapped in quotes
âœ“ parses valid content-disposition header with filename* (1 ms)
âœ“ parses valid content-disposition header with filename* (quoted)
âœ“ parses valid content-disposition header with filename and trailing ";" (1 ms)
âœ“ parses non standard content-disposition with missing type
2025-04-15T08:37:47.6490456Z
PASS src/execution-engine/node-execution-context/__tests__/node-execution-context.test.ts
NodeExecutionContext
getNode
âœ“ should return a deep copy of the node (4 ms)
getWorkflow
âœ“ should return the id, name, and active properties of the workflow (1 ms)
getMode
âœ“ should return the mode property
getWorkflowStaticData
âœ“ should call getStaticData method of workflow (1 ms)
getChildNodes
âœ“ should return an array of NodeTypeAndVersion objects for the child nodes of the given node (1 ms)
getParentNodes
âœ“ should return an array of NodeTypeAndVersion objects for the parent nodes of the given node (1 ms)
getKnownNodeTypes
âœ“ should call getKnownTypes method of nodeTypes
getRestApiUrl
âœ“ should return the restApiUrl property of additionalData (1 ms)
getInstanceBaseUrl
âœ“ should return the instanceBaseUrl property of additionalData
getInstanceId
âœ“ should return the instanceId property of instanceSettings (1 ms)
getTimezone
âœ“ should return the timezone property of workflow
getCredentialsProperties
âœ“ should call getCredentialsProperties method of additionalData.credentialsHelper (1 ms)
prepareOutputData
âœ“ should return the input array wrapped in another array
getNodeInputs
âœ“ should return static inputs array when inputs is an array (1 ms)
âœ“ should return input objects when inputs contains configurations
âœ“ should evaluate dynamic inputs when inputs is a function (1 ms)
getNodeOutputs
âœ“ should return static outputs array when outputs is an array
âœ“ should return output objects when outputs contains configurations
âœ“ should evaluate dynamic outputs when outputs is a function
âœ“ should add error output when node has continueOnFail error handling
getConnectedNodes
âœ“ should return connected nodes of given type (4 ms)
âœ“ should filter out disabled nodes (1 ms)
âœ“ should filter out non-existent nodes
2025-04-15T08:37:47.6508037Z
PASS src/execution-engine/partial-execution-utils/__tests__/clean-run-data.test.ts
cleanRunData
âœ“ deletes all run data of all children and the node being passed in (5 ms)
âœ“ retains the run data of parent nodes of the node being passed in (1 ms)
âœ“ terminates when finding a cycle (1 ms)
âœ“ removes run data of nodes that are not in the subgraph (1 ms)
âœ“ removes run data of sub nodes when the start node is a root node (1 ms)
âœ“ removes run data of sub nodes for root nodes downstream of the start node (1 ms)
âœ“ removes run data of sub nodes as well if the sub node is shared between multiple root nodes (1 ms)
2025-04-15T08:37:47.6513341Z
PASS src/execution-engine/partial-execution-utils/__tests__/find-trigger-for-partial-execution.test.ts
findTriggerForPartialExecution
Single trigger node
âœ“ should return the destination node if it is a trigger (5 ms)
âœ“ should return a parent trigger node for a non-trigger destination (2 ms)
Multiple trigger nodes
âœ“ should prioritize webhook nodes when multiple parent triggers exist (1 ms)
âœ“ should handle multiple webhook triggers (2 ms)
âœ“ should prioritize webhook node, even if it is further up (1 ms)
âœ“ should ignore disabled parent trigger nodes (1 ms)
No trigger nodes
âœ“ should return undefined when no valid parent triggers found (1 ms)
Trigger node with pinned data
âœ“ should prioritize pinned trigger nodes (1 ms)
âœ“ should prioritize pinned webhook triggers (2 ms)
âœ“ should prioritize the first connected pinned webhook triggers (2 ms)
âœ“ should prioritize the first connected pinned webhook triggers (reverse) (4 ms)
Error and Edge Case Handling
âœ“ should handle non-existent destination node gracefully (1 ms)
âœ“ should handle empty workflow
âœ“ should handle workflow with no connections (1 ms)
2025-04-15T08:37:47.6524057Z
PASS src/execution-engine/__tests__/active-workflows.test.ts
ActiveWorkflows
add()
should activate workflow
âœ“ with trigger nodes (8 ms)
âœ“ with polling nodes (3 ms)
âœ“ with both trigger and polling nodes (2 ms)
should throw error
âœ“ if trigger activation fails (19 ms)
âœ“ if polling activation fails (1 ms)
âœ“ if the polling interval is too short (1 ms)
should handle polling errors
âœ“ should throw error when poll fails during initial testing (2 ms)
âœ“ should emit error when poll fails during regular polling (1 ms)
remove()
âœ“ should remove an active workflow (1 ms)
âœ“ should return false when removing non-existent workflow
âœ“ should handle TriggerCloseError when closing trigger (2 ms)
âœ“ should throw WorkflowDeactivationError when closeFunction throws regular error (1 ms)
get() and isActive()
âœ“ should return workflow data for active workflow
âœ“ should return undefined for non-active workflow
allActiveWorkflows()
âœ“ should return all active workflow IDs
removeAllTriggerAndPollerBasedWorkflows()
âœ“ should remove all active workflows (1 ms)
2025-04-15T08:37:47.6535432Z
Permissions 00 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/utils/__tests__/file-system-helper-functions.test.ts
isFilePathBlocked
âœ“ should return true for static cache dir (12 ms)
âœ“ should return true for restricted paths (1 ms)
âœ“ should handle empty allowed paths
âœ“ should handle multiple allowed paths (1 ms)
âœ“ should handle empty strings in allowed paths
âœ“ should trim whitespace in allowed paths
âœ“ should return false when BLOCK_FILE_ACCESS_TO_N8N_FILES is false (1 ms)
âœ“ should return true when path is in allowed paths but still restricted (1 ms)
âœ“ should return false when path is in allowed paths
âœ“ should return true when file paths in CONFIG_FILES
âœ“ should return true when file paths in CUSTOM_EXTENSION_ENV (1 ms)
âœ“ should return true when file paths in BINARY_DATA_STORAGE_PATH
âœ“ should block file paths in email template paths
getFileSystemHelperFunctions
âœ“ should create helper functions with correct context (1 ms)
getStoragePath
âœ“ returns correct path (1 ms)
createReadStream
âœ“ should throw error for non-existent file (13 ms)
âœ“ should throw when file access is blocked (1 ms)
âœ“ should create a read stream if file access is permitted
writeContentToFile
âœ“ should throw error for blocked file path (6 ms)
2025-04-15T08:37:47.6550238Z
PASS src/binary-data/__tests__/file-system.manager.test.ts
store()
âœ“ should store a buffer (46 ms)
getPath()
âœ“ should return a path (1 ms)
getAsBuffer()
âœ“ should return a buffer (1 ms)
getAsStream()
âœ“ should return a stream (1 ms)
getMetadata()
âœ“ should return metadata
copyByFileId()
âœ“ should copy by file ID and return the file ID
copyByFilePath()
âœ“ should copy by file path and return the file ID and size (1 ms)
deleteMany()
âœ“ should delete many files by workflow ID and execution ID (2 ms)
âœ“ should suppress error on non-existing filepath (1 ms)
rename()
âœ“ should rename a file (1 ms)
2025-04-15T08:37:47.6556635Z
PASS src/errors/__tests__/error-reporter.test.ts
ErrorReporter
beforeSend
âœ“ should ignore errors with level warning (5 ms)
âœ“ should keep events with a cause with error level (18 ms)
âœ“ should ignore events with error cause with warning level (1 ms)
âœ“ should set level, extra, and tags from ApplicationError (1 ms)
âœ“ should deduplicate errors with same stack trace (1 ms)
âœ“ should handle Promise rejections (3 ms)
âœ“ should ignore if originalException is undefined
âœ“ should ignore if originalException is null (1 ms)
âœ“ should ignore if originalException is an AxiosError
âœ“ should ignore if originalException is a rejected Promise with AxiosError
âœ“ should ignore if originalException is a QueryFailedError with SQLITE_FULL (1 ms)
âœ“ should ignore if originalException is a QueryFailedError with SQLITE_IOERR
âœ“ should ignore if originalException is an ApplicationError with "warning" level (1 ms)
âœ“ should ignore if originalException is an Error with ApplicationError as cause with "warning" level (1 ms)
beforeSendFilter
âœ“ should filter out based on the beforeSendFilter (1 ms)
âœ“ should not filter out when beforeSendFilter returns false (1 ms)
BaseError
âœ“ should drop errors with shouldReport false (1 ms)
âœ“ should keep events with shouldReport true (1 ms)
âœ“ should set level, extra, and tags from BaseError (1 ms)
error
âœ“ should include stack trace for error-level `ApplicationError` (2 ms)
âœ“ should exclude stack trace for warning-level `ApplicationError` (1 ms)
2025-04-15T08:37:47.6572166Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/__tests__/execute-context.test.ts
ExecuteContext
getExecutionCancelSignal
âœ“ should return the abort signal (3 ms)
continueOnFail
âœ“ should return false for nodes by default
âœ“ should return true if node has continueOnFail set to true
âœ“ if node has onError set to continueRegularOutput, it should return true (1 ms)
âœ“ if node has onError set to continueErrorOutput, it should return true
âœ“ if node has onError set to stopWorkflow, it should return false
getContext
âœ“ should return the context object (1 ms)
sendMessageToUI
âœ“ should send console messages to the frontend (1 ms)
logAiEvent
âœ“ should log the AI event correctly (1 ms)
getInputSourceData
âœ“ should return the input source data correctly (1 ms)
âœ“ should throw an error if the source data is missing (35 ms)
setMetadata
âœ“ sets metadata on execution data
evaluateExpression
âœ“ should evaluate the expression correctly (1 ms)
putExecutionToWait
âœ“ should set waitTill and execution status
executeWorkflow
âœ“ should execute workflow and return data (1 ms)
âœ“ should put execution to wait if waitTill is returned (1 ms)
getInputData
âœ“ should return the input data correctly
âœ“ should return an empty array if the input name does not exist
âœ“ should throw an error if the input index is out of range (4 ms)
âœ“ should throw an error if the input index was not set (2 ms)
getNodeParameter
âœ“ should throw if parameter is not defined on the node.parameters (6 ms)
âœ“ should return null if the parameter exists but has a null value (2 ms)
âœ“ should return parameter value when it exists (1 ms)
âœ“ should return the fallback value when the parameter does not exist (1 ms)
âœ“ should handle expression evaluation errors (1 ms)
âœ“ should handle expression errors on Set nodes (Ticket #PAY-684) (2 ms)
getCredentials
âœ“ should get decrypted credentials (1 ms)
getExecuteData
âœ“ should return the execute data correctly
getWorkflowDataProxy
âœ“ should return the workflow data proxy correctly (13 ms)
2025-04-15T08:37:47.6601933Z
PASS src/__tests__/credentials.test.ts
Credentials
without nodeType set
âœ“ should be able to set and read key data without initial data set (6 ms)
âœ“ should be able to set and read key data with initial data set (1 ms)
getData
âœ“ should throw an error when data is missing (8 ms)
âœ“ should throw an error when decryption fails (2 ms)
âœ“ should throw an error when JSON parsing fails (2 ms)
âœ“ should successfully decrypt and parse valid JSON credentials
setData
âœ“ should throw an AssertionError when data is 123 (6 ms)
âœ“ should throw an AssertionError when data is null (1 ms)
âœ“ should throw an AssertionError when data is undefined (1 ms)
updateData
âœ“ should update existing data (1 ms)
âœ“ should delete specified keys
âœ“ should update and delete keys in same operation
âœ“ should throw an error if no data was previously set
2025-04-15T08:37:47.6613264Z
PASS src/execution-engine/node-execution-context/utils/__tests__/execution-metadata.test.ts
Execution Metadata functions
âœ“ setWorkflowExecutionMetadata will set a value (5 ms)
âœ“ setAllWorkflowExecutionMetadata will set multiple values
âœ“ setWorkflowExecutionMetadata should only convert numbers to strings (12 ms)
âœ“ setAllWorkflowExecutionMetadata should not convert values to strings and should set other values correctly (6 ms)
âœ“ setWorkflowExecutionMetadata should validate key characters (1 ms)
âœ“ setWorkflowExecutionMetadata should limit the number of metadata entries
âœ“ getWorkflowExecutionMetadata should return a single value for an existing key (1 ms)
âœ“ getWorkflowExecutionMetadata should return undefined for an unset key
âœ“ getAllWorkflowExecutionMetadata should return all metadata
âœ“ getAllWorkflowExecutionMetadata should not an object that modifies internal state
âœ“ setWorkflowExecutionMetadata should truncate long keys
âœ“ setWorkflowExecutionMetadata should truncate long values (1 ms)
2025-04-15T08:37:47.6625250Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/partial-execution-utils/__tests__/filter-disabled-nodes.test.ts
filterDisabledNodes
âœ“ filter disabled nodes (5 ms)
âœ“ filter multiple disabled nodes in a row
root nodes
âœ“ filter disabled root nodes
2025-04-15T08:37:47.6631983Z
PASS src/execution-engine/node-execution-context/__tests__/execute-single-context.test.ts
ExecuteSingleContext
getExecutionCancelSignal
âœ“ should return the abort signal (3 ms)
continueOnFail
âœ“ should return false for nodes by default (3 ms)
âœ“ should return true if node has continueOnFail set to true
âœ“ if node has onError set to continueRegularOutput, it should return true (1 ms)
âœ“ if node has onError set to continueErrorOutput, it should return true
âœ“ if node has onError set to stopWorkflow, it should return false
getContext
âœ“ should return the context object (1 ms)
sendMessageToUI
âœ“ should send console messages to the frontend (1 ms)
logAiEvent
âœ“ should log the AI event correctly
getInputSourceData
âœ“ should return the input source data correctly
âœ“ should throw an error if the source data is missing (15 ms)
setMetadata
âœ“ sets metadata on execution data
evaluateExpression
âœ“ should evaluate the expression correctly (1 ms)
putExecutionToWait
âœ“ should set waitTill and execution status
executeWorkflow
âœ“ should execute workflow and return data
âœ“ should put execution to wait if waitTill is returned (5 ms)
getInputData
âœ“ should return the input data correctly (1 ms)
âœ“ should return an empty object if the input name does not exist (1 ms)
âœ“ should throw an error if the input index is out of range (3 ms)
âœ“ should throw an error if the input index was not set
âœ“ should throw an error if the value of input with given index was not set (1 ms)
getItemIndex
âœ“ should return the item index correctly
getNodeParameter
âœ“ should return parameter value when it exists (1 ms)
âœ“ should return the fallback value when the parameter does not exist
getCredentials
âœ“ should get decrypted credentials (1 ms)
getExecuteData
âœ“ should return the execute data correctly
getWorkflowDataProxy
âœ“ should return the workflow data proxy correctly (13 ms)
2025-04-15T08:37:47.6657553Z
PASS src/execution-engine/partial-execution-utils/__tests__/handle-cycles.test.ts
handleCycles
âœ“ if the start node is within a cycle it returns the start of the cycle as the new start node (5 ms)
âœ“ does not mutate `startNodes`
âœ“ if the start node is not within a cycle it returns the same node as the new start node (1 ms)
2025-04-15T08:37:47.6661536Z
PASS src/logging/__tests__/logger.test.ts
Logger
constructor
âœ“ if root, should initialize `LoggerProxy` with instance (14 ms)
âœ“ if scoped, should not initialize `LoggerProxy` (2 ms)
transports
âœ“ if `console` selected, should set console transport (1 ms)
âœ“ if `file` selected, should set file transport (10 ms)
levels
âœ“ if `error` selected, should enable `error` level (1 ms)
âœ“ if `warn` selected, should enable `error` and `warn` levels (1 ms)
âœ“ if `info` selected, should enable `error`, `warn`, and `info` levels (1 ms)
âœ“ if `debug` selected, should enable all levels (1 ms)
âœ“ if `silent` selected, should disable all levels (1 ms)
2025-04-15T08:37:47.6669698Z
PASS src/execution-engine/__tests__/triggers-and-pollers.test.ts
TriggersAndPollers
runTrigger()
âœ“ should throw error if node type does not have trigger function (18 ms)
âœ“ should call trigger function in regular mode (1 ms)
manual mode
âœ“ should handle promise resolution (1 ms)
âœ“ should handle error emission (1 ms)
âœ“ should handle response promise
âœ“ should handle both response and done promises (1 ms)
runPoll()
âœ“ should throw error if node type does not have poll function (1 ms)
âœ“ should call poll function and return result (1 ms)
âœ“ should return null if poll function returns no data
âœ“ should propagate errors from poll function (2 ms)
2025-04-15T08:37:47.6678527Z
PASS src/execution-engine/node-execution-context/utils/__tests__/get-additional-keys.test.ts
getAdditionalKeys
âœ“ should use placeholder execution ID when none provided (4 ms)
âœ“ should return production mode when not manual (1 ms)
âœ“ should include customData methods when runExecutionData is provided
âœ“ should handle customData operations correctly (2 ms)
âœ“ should include secrets when enabled (1 ms)
âœ“ should not include secrets when disabled (1 ms)
âœ“ should throw errors in manual mode (20 ms)
âœ“ should correctly set resume URLs (1 ms)
âœ“ should return test mode when manual (1 ms)
âœ“ should return variables from additionalData
âœ“ should handle errors in non-manual mode without throwing (1 ms)
âœ“ should return undefined customData when runExecutionData is null
âœ“ should respect metadata KV limit (1 ms)
2025-04-15T08:37:47.6688867Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
There was a problem logging input data of node "Test Node": additionalData.hooks?.runHook is not a function
PASS src/execution-engine/node-execution-context/__tests__/supply-data-context.test.ts
SupplyDataContext
getExecutionCancelSignal
âœ“ should return the abort signal (4 ms)
continueOnFail
âœ“ should return false for nodes by default
âœ“ should return true if node has continueOnFail set to true
âœ“ if node has onError set to continueRegularOutput, it should return true
âœ“ if node has onError set to continueErrorOutput, it should return true
âœ“ if node has onError set to stopWorkflow, it should return false (1 ms)
getContext
âœ“ should return the context object (13 ms)
sendMessageToUI
âœ“ should send console messages to the frontend (1 ms)
logAiEvent
âœ“ should log the AI event correctly
getInputSourceData
âœ“ should return the input source data correctly (1 ms)
âœ“ should throw an error if the source data is missing (15 ms)
setMetadata
âœ“ sets metadata on execution data (1 ms)
evaluateExpression
âœ“ should evaluate the expression correctly (1 ms)
putExecutionToWait
âœ“ should set waitTill and execution status
executeWorkflow
âœ“ should execute workflow and return data (1 ms)
âœ“ should put execution to wait if waitTill is returned (6 ms)
getInputData
âœ“ should return the input data correctly (1 ms)
âœ“ should return an empty array if the input name does not exist
âœ“ should throw an error if the input index is out of range (5 ms)
âœ“ should throw an error if the input index was not set
getNodeParameter
âœ“ should return parameter value when it exists (1 ms)
âœ“ should return the fallback value when the parameter does not exist
getCredentials
âœ“ should get decrypted credentials (1 ms)
getWorkflowDataProxy
âœ“ should return the workflow data proxy correctly (13 ms)
cloneWith
âœ“ should return a new copy (2 ms)
2025-04-15T08:37:47.6717841Z
PASS src/decorators/__tests__/memoized.test.ts
Memoized Decorator
âœ“ should only compute the value once (5 ms)
âœ“ should cache values independently for different instances (1 ms)
âœ“ should throw error when used on non-getter (10 ms)
âœ“ should make cached value non-enumerable (1 ms)
âœ“ should not allow reconfiguring the cached value (10 ms)
âœ“ should work when child class references memoized getter in parent class (1 ms)
âœ“ should have correct property descriptor after memoization (1 ms)
âœ“ should not prevent garbage collection of instances (55 ms)
2025-04-15T08:37:47.6725155Z
PASS src/binary-data/__tests__/object-store.manager.test.ts
store()
âœ“ should store a buffer (4 ms)
getPath()
âœ“ should return a path (1 ms)
getAsBuffer()
âœ“ should return a buffer (1 ms)
getAsStream()
âœ“ should return a stream (1 ms)
getMetadata()
âœ“ should return metadata (1 ms)
copyByFileId()
âœ“ should copy by file ID and return the file ID
copyByFilePath()
âœ“ should copy by file path and return the file ID and size (1 ms)
rename()
âœ“ should rename a file (1 ms)
2025-04-15T08:37:47.6734016Z
PASS src/execution-engine/node-execution-context/utils/__tests__/webhook-helper-functions.test.ts
Webhook Helper Functions
getWebhookDescription
âœ“ should return undefined for invalid webhook type (5 ms)
âœ“ should return undefined when node has no webhooks
âœ“ should return webhook description when webhook exists (1 ms)
getNodeWebhookUrl
âœ“ should return webhook URL with path (1 ms)
âœ“ should handle path starting with /
âœ“ should return webhook URL with webhookId (1 ms)
âœ“ should return test webhook URL for test webhooks
2025-04-15T08:37:47.6740822Z
PASS src/execution-engine/__tests__/execution-lifecycle-hooks.test.ts
ExecutionLifecycleHooks
constructor()
âœ“ should initialize with correct properties (3 ms)
addHandler()
âœ“ should add handlers to nodeExecuteBefore hook and call them (1 ms)
âœ“ should add handlers to nodeExecuteAfter hook and call them
âœ“ should add handlers to workflowExecuteBefore hook and call them (1 ms)
âœ“ should add handlers to workflowExecuteAfter hook and call them
âœ“ should add handlers to sendResponse hook and call them
âœ“ should add handlers to nodeFetchedData hook and call them
runHook()
âœ“ should execute multiple hooks in order (1 ms)
âœ“ should maintain correct "this" context (1 ms)
âœ“ should handle errors in hooks (7 ms)
2025-04-15T08:37:47.6749978Z
PASS src/execution-engine/node-execution-context/utils/__tests__/normalize-items.test.ts
normalizeItems
should handle
âœ“ single object without json key (8 ms)
âœ“ array of objects without json key (11 ms)
âœ“ single object with json key
âœ“ array of objects with json key
âœ“ array of objects with binary data
âœ“ object with null or undefined values
âœ“ array with mixed non-standard objects
âœ“ empty object
âœ“ array with primitive values (1 ms)
should throw error
âœ“ for inconsistent items with some having json key (6 ms)
âœ“ for inconsistent items with some having binary key
âœ“ when mixing json and non-json objects with non-json properties
âœ“ when mixing binary and non-binary objects (1 ms)
2025-04-15T08:37:47.6757165Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/__tests__/webhook-context.test.ts
WebhookContext
getCredentials
âœ“ should get decrypted credentials (5 ms)
getBodyData
âœ“ should return the body data of the request
getHeaderData
âœ“ should return the header data of the request (1 ms)
getParamsData
âœ“ should return the params data of the request
getQueryData
âœ“ should return the query data of the request (1 ms)
getRequestObject
âœ“ should return the request object
getResponseObject
âœ“ should return the response object (1 ms)
getWebhookName
âœ“ should return the name of the webhook
getNodeParameter
âœ“ should return parameter value when it exists (2 ms)
âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:37:47.6764315Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/__tests__/hook-context.test.ts
HookContext
getActivationMode
âœ“ should return the activation property (3 ms)
getCredentials
âœ“ should get decrypted credentials (1 ms)
getNodeParameter
âœ“ should return parameter value when it exists (1 ms)
getNodeWebhookUrl
âœ“ should return node webhook url (1 ms)
getWebhookName
âœ“ should return webhook name
âœ“ should throw an error if webhookData is undefined (8 ms)
getWebhookDescription
âœ“ should return webhook description
2025-04-15T08:37:47.6770430Z
PASS src/execution-engine/node-execution-context/utils/__tests__/ensure-type.test.ts
ensureType
âœ“ throws error for null value (21 ms)
âœ“ throws error for undefined value (3 ms)
âœ“ returns string value without modification (1 ms)
âœ“ returns number value without modification (1 ms)
âœ“ returns boolean value without modification (2 ms)
âœ“ converts object to string if toType is string (1 ms)
âœ“ converts string to number if toType is number
âœ“ throws error for invalid conversion to number (2 ms)
âœ“ parses valid JSON string to object if toType is object (1 ms)
âœ“ throws error for invalid JSON string to object conversion (3 ms)
âœ“ throws error for non-array value if toType is array (1 ms)
2025-04-15T08:37:47.6774758Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/__tests__/load-options-context.test.ts
LoadOptionsContext
getCredentials
âœ“ should get decrypted credentials (12 ms)
getCurrentNodeParameter
âœ“ should return parameter value when it exists (1 ms)
getNodeParameter
âœ“ should return parameter value when it exists (2 ms)
âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:37:47.6779061Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/__tests__/trigger-context.test.ts
TriggerContext
getActivationMode
âœ“ should return the activation property (3 ms)
getCredentials
âœ“ should get decrypted credentials (4 ms)
getNodeParameter
âœ“ should return parameter value when it exists (2 ms)
âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:37:47.6783439Z
Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
PASS src/execution-engine/node-execution-context/__tests__/poll-context.test.ts
PollContext
getActivationMode
âœ“ should return the activation property (6 ms)
getCredentials
âœ“ should get decrypted credentials (3 ms)
getNodeParameter
âœ“ should return parameter value when it exists (2 ms)
âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:37:47.6787940Z
PASS src/binary-data/__tests__/binary-data.config.test.ts
BinaryDataConfig
âœ“ should use default values when no env variables are defined (6 ms)
âœ“ should use values from env variables when defined (2 ms)
âœ“ should derive the signing secret from the encryption-key, when none is passed in
âœ“ should fallback to default for mode (2 ms)
âœ“ should fallback to default for available modes (1 ms)
2025-04-15T08:37:47.6790263Z
PASS src/execution-engine/__tests__/ssh-clients-manager.test.ts
SSHClientsManager
âœ“ should create a new SSH client (6 ms)
âœ“ should not create a new SSH client when connect fails (10 ms)
âœ“ should reuse an existing SSH client (2 ms)
âœ“ should close all SSH connections on process exit (1 ms)
âœ“ should cleanup stale SSH connections (2 ms)
2025-04-15T08:37:47.6792594Z
PASS src/utils/__tests__/serialized-buffer.test.ts
toBuffer
âœ“ should convert a SerializedBuffer to a Buffer (4 ms)
âœ“ should serialize stringified buffer to the same buffer
isSerializedBuffer
âœ“ should return true for a valid SerializedBuffer (1 ms)
âœ“ should return false for { data: [Array] }
âœ“ should return false for { data: [Array] } (1 ms)
âœ“ should return false for { type: 'Buffer', data: 'notAnArray' }
âœ“ should return false for { data: 42 } (1 ms)
âœ“ should return false for { data: 'test' }
âœ“ should return false for { data: true } (1 ms)
âœ“ should return false for null
âœ“ should return false for undefined
âœ“ should return false for 42
âœ“ should return false for {}
Integration: toBuffer and isSerializedBuffer
âœ“ should correctly validate and convert a SerializedBuffer
2025-04-15T08:37:47.6797354Z
PASS src/execution-engine/__tests__/scheduled-task-manager.test.ts
ScheduledTaskManager
âœ“ should throw when workflow timezone is invalid (29 ms)
âœ“ should throw when cron expression is invalid (3 ms)
âœ“ should register valid CronJobs (19 ms)
âœ“ should should not invoke on follower instances (25 ms)
âœ“ should deregister CronJobs for a workflow (3 ms)
2025-04-15T08:37:47.6799816Z
PASS src/nodes-loader/__tests__/load-class-in-isolation.test.ts
loadClassInIsolation
âœ“ should create script with correct require statement (4 ms)
âœ“ should handle Windows-style paths
âœ“ should throw error when script execution fails (7 ms)
2025-04-15T08:37:47.6801226Z
PASS src/execution-engine/node-execution-context/utils/__tests__/construct-execution-metadata.test.ts
constructExecutionMetaData
âœ“ should add pairedItem to single input data (4 ms)
âœ“ should add pairedItem to multiple input data with different properties
âœ“ should handle empty input data and itemData
âœ“ should handle multiple pairedItem with single input data
2025-04-15T08:37:47.6803367Z
PASS src/binary-data/__tests__/binary-data-service.test.ts
BinaryDataService
createSignedToken
âœ“ should throw for binary-data without an id (30 ms)
âœ“ should create a signed token for valid binary-data (2 ms)
validateSignedToken
âœ“ should throw on invalid tokens (3 ms)
âœ“ should throw on expired tokens (3 ms)
âœ“ should return binary-data id on valid tokens (1 ms)
2025-04-15T08:37:47.6805739Z
PASS src/utils/__tests__/is-object-literal.test.ts
isObjectLiteral
âœ“ should return empty object literal for {} (5 ms)
âœ“ should return object with properties for { foo: 'bar', num: 123 } (1 ms)
âœ“ should return nested object literal for { nested: [Object] }
âœ“ should return object with symbol key for { [Symbol(foo)]: 'bar' } (1 ms)
âœ“ should return null for null
âœ“ should return empty array for [] (1 ms)
âœ“ should return array with values for [ 1, 2, 3 ]
âœ“ should return number for 42 (1 ms)
âœ“ should return string for string
âœ“ should return boolean for true (1 ms)
âœ“ should return undefined for undefined
âœ“ should return Date object for Tue Apr 15 2025 08:37:44 GMT+0000 (Coordinated Universal Time) (1 ms)
âœ“ should return RegExp object for /(?:)/
âœ“ should return Map object for Map(0) {} (1 ms)
âœ“ should return Set object for Set(0) {}
âœ“ should return arrow function for () => { } (1 ms)
âœ“ should return regular function for function () { }
âœ“ should return class instance for TestClass {} (2 ms)
âœ“ should return object with custom prototype for {}
âœ“ should return Object.create(null) for [Object: null prototype] {}
âœ“ should return Buffer for test (1 ms)
âœ“ should return Serialized Buffer for { type: 'Buffer', data: [Array] }
âœ“ should return Promise for Promise { <pending> }
âœ“ should return false for Error objects
2025-04-15T08:37:47.6813664Z
PASS src/execution-engine/node-execution-context/utils/__tests__/cleanup-parameter-data.test.ts
cleanupParameterData
âœ“ should stringify Luxon dates in-place (18 ms)
âœ“ should stringify plain Luxon dates in-place (1 ms)
âœ“ should handle objects with nameless constructors
âœ“ should handle objects without a constructor (1 ms)
2025-04-15T08:37:47.6815338Z
PASS src/binary-data/__tests__/utils.test.ts
BinaryData/utils
binaryToBuffer
âœ“ should handle buffer objects (5 ms)
âœ“ should handle valid uncompressed Readable streams (3 ms)
âœ“ should handle valid compressed Readable streams (5 ms)
âœ“ should throw on invalid compressed Readable streams (9 ms)
2025-04-15T08:37:47.6817311Z
PASS src/execution-engine/partial-execution-utils/__tests__/to-itask-data.test.ts
âœ“ toITaskData (5 ms)
2025-04-15T08:37:47.6817834Z
PASS src/execution-engine/node-execution-context/utils/__tests__/return-json-array.test.ts
returnJsonArray
âœ“ should convert a single object to an array with json key (5 ms)
âœ“ should return an array of objects with json key
âœ“ should preserve existing json key in object (1 ms)
âœ“ should handle empty array input
âœ“ should handle mixed input with some objects having json key (1 ms)
2025-04-15T08:37:47.6820120Z
PASS src/execution-engine/node-execution-context/utils/__tests__/ssh-tunnel-helper-functions.test.ts
getSSHTunnelFunctions
âœ“ should return SSH tunnel functions (4 ms)
getSSHClient
âœ“ should invoke sshClientsManager.getClient (2 ms)
2025-04-15T08:37:47.6821600Z
PASS src/encryption/__tests__/cipher.test.ts
Cipher
encrypt
âœ“ should encrypt strings (4 ms)
âœ“ should encrypt objects (1 ms)
decrypt
âœ“ should decrypt string
âœ“ should not try to decrypt if the input is shorter than 16 bytes (1 ms)
2025-04-15T08:37:47.6823900Z
PASS src/execution-engine/node-execution-context/utils/__tests__/deduplication-helper-functions.test.ts
getDeduplicationHelperFunctions
âœ“ should create helper functions with correct context (6 ms)
2025-04-15T08:37:47.6825148Z
PASS src/execution-engine/node-execution-context/utils/__tests__/scheduling-helper-functions.test.ts
getSchedulingFunctions
âœ“ should return scheduling functions (2 ms)
registerCron
âœ“ should invoke scheduledTaskManager.registerCron (1 ms)
2025-04-15T08:37:47.6826679Z
PASS src/execution-engine/node-execution-context/utils/__tests__/copy-input-items.test.ts
copyInputItems
âœ“ should pick only selected properties (5 ms)
âœ“ should convert undefined to null
âœ“ should clone objects
2025-04-15T08:37:47.6828488Z
PASS src/execution-engine/partial-execution-utils/__tests__/to-iconnections.test.ts
âœ“ toIConnections (4 ms)
2025-04-15T08:37:47.6829160Z
Test Suites: 62 passed, 62 total
Tests:       932 passed, 932 total
Snapshots:   0 total
Time:        20.716 s
Ran all test suites.
##[endgroup]
##[group]@n8n/di:test
cache bypass, force executing c7c72b569a4812b7
2025-04-15T08:37:50.6028161Z
> @n8n/di@0.4.0 test /home/runner/_work/n8n/n8n/packages/@n8n/di
> jest
2025-04-15T08:37:50.6028833Z
PASS src/__tests__/circular-depedency.test.ts
DI Container
circular dependency
âœ“ should detect multilevel circular dependencies (16 ms)
2025-04-15T08:37:50.6031010Z
PASS src/__tests__/di.test.ts
DI Container
basic functionality
âœ“ should create a simple instance (4 ms)
âœ“ should return same instance on multiple gets (1 ms)
âœ“ should handle classes with no dependencies (empty constructor)
âœ“ should throw when trying to resolve an undecorated class (12 ms)
dependency injection
âœ“ should inject dependencies correctly (1 ms)
âœ“ should handle deep dependency chains (1 ms)
âœ“ should return undefined for non-decorated dependencies in resolution chain
factory handling
âœ“ should use factory when provided
âœ“ should preserve factory metadata when setting instance
âœ“ should preserve factory when resetting container
âœ“ should throw error when factory throws (1 ms)
âœ“ should handle factory with dependencies (1 ms)
instance management
âœ“ should allow manual instance setting (1 ms)
abstract classes
âœ“ should throw when trying to instantiate an abstract class directly (1 ms)
âœ“ should allow setting an implementation for an abstract class
âœ“ should allow factory for abstract class (1 ms)
inheritance
âœ“ should handle inheritance in injectable classes (6 ms)
âœ“ should maintain separate instances for base and derived classes (1 ms)
type registration checking
âœ“ should return true for registered classes
âœ“ should return false for unregistered classes
âœ“ should return true for abstract classes with implementations
âœ“ should return true for factory-provided services before instantiation
âœ“ should maintain registration after reset
âœ“ should return true after manual instance setting
2025-04-15T08:37:50.6043430Z
Test Suites: 2 passed, 2 total
Tests:       25 passed, 25 total
Snapshots:   0 total
Time:        1.848 s
Ran all test suites.
##[endgroup]
##[group]n8n-workflow:test
cache bypass, force executing 8eeffe7c176d5550
2025-04-15T08:38:02.9553881Z
> n8n-workflow@1.87.0 test /home/runner/_work/n8n/n8n/packages/workflow
> jest
2025-04-15T08:38:02.9555143Z
PASS test/NodeHelpers.conditions.test.ts
NodeHelpers
getNodeParameters, displayOptions set using DisplayCondition
âœ“ simple values with displayOptions "show" number (gt). No values set. (5 ms)
âœ“ simple values with displayOptions "show" number (lt). No values set. (1 ms)
âœ“ simple values with displayOptions "show" number (between). No values set. (1 ms)
âœ“ simple values with displayOptions "show" number (lte). No values set.
âœ“ simple values with displayOptions "show" number (gte). No values set. (1 ms)
âœ“ simple values with displayOptions "show" (match) which is boolean. All values set.
âœ“ simple values with displayOptions "hide" (match) which is boolean. All values set.
âœ“ simple values with displayOptions "show" (match) which is boolean. One values set. (1 ms)
âœ“ simple values with displayOptions "show" (match). No values set.
âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default). (1 ms)
âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default)
âœ“ simple values with displayOptions "show" (match). All values set. (1 ms)
âœ“ simple values with displayOptions "show" (no-match). No values set.
âœ“ simple values with displayOptions "show" (no-match). All values set.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set. (5 ms)
âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one.
âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed (1 ms)
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references. (1 ms)
âœ“ simple values with displayOptions "show" using exists condition. No values set. (1 ms)
âœ“ simple values with displayOptions "show" using exists condition. Field1 has a value.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" using exists condition. (1 ms)
âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" using exists condition.
2025-04-15T08:38:02.9592119Z
PASS test/FilterParameter.test.ts
FilterParameter
executeFilter
âœ“ should support and/or combinators (4 ms)
options.caseSensitive
âœ“ should evaluate strings case insensitive (=default) (1 ms)
âœ“ should evaluate strings case sensitive
options.typeValidation
strict (=default)
âœ“ should throw an error when types are not as expected (primitives) (29 ms)
âœ“ should throw an error when types are not as expected (arrays) (2 ms)
âœ“ should throw an error when types are not as expected (objects) (1 ms)
loose
âœ“ should evaluate conditions when type can be converted (1 ms)
âœ“ should throw an error when types cannot be converted (1 ms)
options.version
version 1
âœ“ should parse "false" as true (2 ms)
version 2
âœ“ should parse "false" as false
operators
exists
âœ“ string:exists() === true (1 ms)
âœ“ string:exists(null) === false
âœ“ string:exists(undefined) === false
âœ“ string:exists(foo) === true
âœ“ string:notExists() === false (1 ms)
âœ“ string:notExists(null) === true (1 ms)
âœ“ string:notExists(undefined) === true (1 ms)
âœ“ string:notExists(foo) === false
string
âœ“ string:empty(null) === true
âœ“ string:empty(undefined) === true
âœ“ string:empty() === true (1 ms)
âœ“ string:empty(ðŸ›) === false
âœ“ string:notEmpty(null) === false
âœ“ string:notEmpty(undefined) === false
âœ“ string:notEmpty() === false (2 ms)
âœ“ string:notEmpty(ðŸ›) === true (6 ms)
âœ“ string:equals("first string","first string") === true
âœ“ string:equals("first string","second string") === false
âœ“ string:equals("","ðŸ›") === false
âœ“ string:equals("ðŸ›","ðŸ›") === true
âœ“ string:notEquals("first string","first string") === false
âœ“ string:notEquals("first string","second string") === true
âœ“ string:notEquals("","ðŸ›") === true
âœ“ string:notEquals("ðŸ›","ðŸ›") === false (1 ms)
âœ“ string:contains("first string","first string") === true
âœ“ string:contains("first string","first") === true (4 ms)
âœ“ string:contains("first string","irs") === true
âœ“ string:contains("first string","") === true (2 ms)
âœ“ string:contains("first string","?") === false
âœ“ string:notContains("first string","first string") === false
âœ“ string:notContains("first string","first") === false (1 ms)
âœ“ string:notContains("first string","irs") === false
âœ“ string:notContains("first string","") === false
âœ“ string:notContains("first string","?") === true
âœ“ string:startsWith("first string","first string") === true
âœ“ string:startsWith("first string","first") === true
âœ“ string:startsWith("first string","irs") === false
âœ“ string:startsWith("first string","") === true
âœ“ string:startsWith("first string","?") === false
âœ“ string:notStartsWith("first string","first string") === false
âœ“ string:notStartsWith("first string","first") === false
âœ“ string:notStartsWith("first string","irs") === true
âœ“ string:notStartsWith("first string","") === false
âœ“ string:notStartsWith("first string","?") === true
âœ“ string:endsWith("first string","first string") === true (1 ms)
âœ“ string:endsWith("first string","string") === true
âœ“ string:endsWith("first string","g") === true
âœ“ string:endsWith("first string","") === true
âœ“ string:endsWith("first string","?") === false
âœ“ string:notEndsWith("first string","first string") === false
âœ“ string:notEndsWith("first string","string") === false
âœ“ string:notEndsWith("first string","g") === false
âœ“ string:notEndsWith("first string","") === false
âœ“ string:notEndsWith("first string","?") === true
âœ“ string:regex("first string","first") === true
âœ“ string:regex("first string","second") === false
âœ“ string:regex("first string",".*") === true
âœ“ string:regex("any string","[0-9]") === false (1 ms)
âœ“ string:regex("any string","[a-z]") === true
âœ“ string:regex("lowercase","[A-Z]") === false
âœ“ string:regex("foo","/^fo{2}$/g") === true
âœ“ string:notRegex("first string","first") === false
âœ“ string:notRegex("first string","second") === true
âœ“ string:notRegex("first string",".*") === false
âœ“ string:notRegex("any string","[0-9]") === true (1 ms)
âœ“ string:notRegex("any string","[a-z]") === false
âœ“ string:notRegex("lowercase","[A-Z]") === true
âœ“ string:notRegex("foo","/^fo{2}$/g") === false
number
âœ“ number:exists(0) === true
âœ“ number:exists(15) === true
âœ“ number:exists(-15.4) === true (1 ms)
âœ“ number:exists(NaN) === false
âœ“ number:exists(null) === false
âœ“ number:notExists(0) === false
âœ“ number:notExists(15) === false
âœ“ number:notExists(-15.4) === false
âœ“ number:notExists(NaN) === true
âœ“ number:notExists(null) === true (1 ms)
âœ“ number:empty(0) === false
âœ“ number:empty(15) === false
âœ“ number:empty(-15.4) === false
âœ“ number:empty(NaN) === true
âœ“ number:empty(null) === true
âœ“ number:notEmpty(0) === true
âœ“ number:notEmpty(15) === true
âœ“ number:notEmpty(-15.4) === true
âœ“ number:notEmpty(NaN) === false
âœ“ number:notEmpty(null) === false
âœ“ number:equals(0,0) === true
âœ“ number:equals(15,15) === true
âœ“ number:equals(15.34,15.34) === true
âœ“ number:equals(15,15.3249038) === false
âœ“ number:equals(15,NaN) === false
âœ“ number:equals(NaN,NaN) === false (1 ms)
âœ“ number:notEquals(0,0) === false
âœ“ number:notEquals(15,15) === false
âœ“ number:notEquals(15.34,15.34) === false
âœ“ number:notEquals(15,15.3249038) === true
âœ“ number:notEquals(15,NaN) === true
âœ“ number:notEquals(NaN,NaN) === true
âœ“ number:gt(0,0) === false
âœ“ number:gt(15,16) === false (1 ms)
âœ“ number:gt(16,15) === true
âœ“ number:gt(15.34001,15.34) === true
âœ“ number:gt(15,NaN) === false
âœ“ number:lt(0,0) === false
âœ“ number:lt(15,16) === true
âœ“ number:lt(16,15) === false
âœ“ number:lt(15.34001,15.34) === false
âœ“ number:lt(15,NaN) === false
âœ“ number:gte(0,0) === true
âœ“ number:gte(15,16) === false
âœ“ number:gte(16,15) === true
âœ“ number:gte(15.34001,15.34) === true
âœ“ number:gte(15,NaN) === false
âœ“ number:lte(0,0) === true
âœ“ number:lte(15,16) === true (1 ms)
âœ“ number:lte(16,15) === false
âœ“ number:lte(15.34001,15.34) === false
âœ“ number:lte(15,NaN) === false
dateTime
âœ“ dateTime:empty(2023-11-15T17:10:49.113Z) === false (1 ms)
âœ“ dateTime:empty(null) === true
âœ“ dateTime:notEmpty(2023-11-15T17:10:49.113Z) === true (6 ms)
âœ“ dateTime:notEmpty(null) === false
âœ“ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true (1 ms)
âœ“ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
âœ“ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
âœ“ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true (1 ms)
âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
âœ“ dateTime:after("2024-01-01", "2023-01-01T00:00:00.000Z") === true (1 ms)
âœ“ dateTime:after(""2024-01-01T00:00:00.000+00:00"", "1-Feb-2024") === false (1 ms)
âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true (1 ms)
âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true
âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
boolean
âœ“ boolean:empty(true) === false (1 ms)
âœ“ boolean:empty(false) === false
âœ“ boolean:empty(null) === true
âœ“ boolean:notEmpty(true) === true
âœ“ boolean:notEmpty(false) === true
âœ“ boolean:notEmpty(null) === false
âœ“ boolean:true(true) === true (1 ms)
âœ“ boolean:true(false) === false
âœ“ boolean:false(true) === false
âœ“ boolean:false(false) === true
âœ“ boolean:equals(true,true) === true
âœ“ boolean:equals(false,false) === true
âœ“ boolean:equals(true,false) === false (1 ms)
âœ“ boolean:notEquals(true,true) === false
âœ“ boolean:notEquals(false,false) === false
âœ“ boolean:notEquals(true,false) === true
array
âœ“ array:contains(["foo", "bar"],foo) === true
âœ“ array:contains(["foo", "bar"],ba) === false
âœ“ array:notContains(["foo", "bar"],foo) === false (1 ms)
âœ“ array:notContains(["foo", "bar"],ba) === true
âœ“ array:lengthEquals(["foo", "bar"],2) === true
âœ“ array:lengthEquals([],0) === true
âœ“ array:lengthEquals(["foo", "bar"],1) === false
âœ“ array:lengthNotEquals(["foo", "bar"],2) === false
âœ“ array:lengthNotEquals([],0) === false (1 ms)
âœ“ array:lengthNotEquals(["foo", "bar"],1) === true
âœ“ array:lengthGt(["foo", "bar"],2) === false
âœ“ array:lengthGt([],0) === false
âœ“ array:lengthGt(["foo", "bar"],1) === true
âœ“ array:lengthLt(["foo", "bar"],2) === false (1 ms)
âœ“ array:lengthLt([],0) === false
âœ“ array:lengthLt(["foo", "bar"],1) === false
âœ“ array:lengthLt(["foo", "bar"],3) === true
âœ“ array:lengthGte(["foo", "bar"],2) === true
âœ“ array:lengthGte([],0) === true (1 ms)
âœ“ array:lengthGte(["foo", "bar"],1) === true
âœ“ array:lengthGte(["foo", "bar"],3) === false
âœ“ array:lengthLte(["foo", "bar"],2) === true
âœ“ array:lengthLte([],0) === true
âœ“ array:lengthLte(["foo", "bar"],1) === false
âœ“ array:lengthLte(["foo", "bar"],3) === true
object
âœ“ object:empty({}) === true (1 ms)
âœ“ object:empty({"foo": "bar"}) === false
âœ“ object:empty(undefined) === true
âœ“ object:empty(null) === true
âœ“ object:notEmpty({}) === false
âœ“ object:notEmpty({"foo": "bar"}) === true
âœ“ object:notEmpty(undefined) === false
âœ“ object:notEmpty(null) === false (1 ms)
arrayContainsValue
âœ“ should return true if the array contains the value
âœ“ should return false if the array does not contain the value
âœ“ should return true if the array contains the string value and ignoreCase is true
âœ“ should return false if the array contains the string value but ignoreCase is false
âœ“ should return false if the array does not contain the string value and ignoreCase is true
âœ“ should handle non-string values correctly when ignoreCase is true
âœ“ should handle mixed types in the array correctly (1 ms)
2025-04-15T08:38:02.9788837Z
PASS test/NodeHelpers.test.ts
NodeHelpers
getNodeParameters
âœ“ simple values. (7 ms)
âœ“ simple values with displayOptions "show" (match) which is boolean. All values set. (1 ms)
âœ“ simple values with displayOptions "hide" (match) which is boolean. All values set. (1 ms)
âœ“ simple values with displayOptions "show" (match) which is boolean. One values set. (1 ms)
âœ“ simple values with displayOptions "show" (match). No values set.
âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default).
âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default) (4 ms)
âœ“ simple values with displayOptions "show" (match). All values set.
âœ“ simple values with displayOptions "show" (no-match). No values set.
âœ“ simple values with displayOptions "show" (no-match). All values set.
âœ“ complex type "fixedCollection" with "multipleValues: true". One value set.
âœ“ complex type "fixedCollection" with "multipleValues: false". One value set. (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: false". Two values set one single one. (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: true" and complex type "collection"  with "multipleValues: true". One value set each.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set. (11 ms)
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (5 ms)
âœ“ complex type "collection" with "multipleValues: true". One none-default value set.
âœ“ complex type "collection" with "multipleValues: true". One default value set. (1 ms)
âœ“ complex type "collection" with "multipleValues: false". One none-default value set.
âœ“ complex type "collection" with "multipleValues: false". One default value set.
âœ“ complex type "collection" with "multipleValues: false". Only outer value set.
âœ“ complex type "collection" with "multipleValues: false". No value set at all. (1 ms)
âœ“ complex type "collection" with "multipleValues: true". No value set at all.
âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains complex type "fixedCollection" with "multipleValues: true". One value set. (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "multiOptions" and has so an array default value (1 ms)
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "string" with "multipleValues: true" and a custom default value (1 ms)
âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) in combination with another value
âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) (1 ms)
âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having each value set)
âœ“ nodeValues is null (for example when resolving expression fails) (1 ms)
getNodeHints
âœ“ should return node hints if present in node type
âœ“ should not include hint if displayCondition is false
âœ“ should include hint if displayCondition is true
isSubNodeType
âœ“ should return false for null
âœ“ should return false for { outputs: '={{random_expression}}' } (1 ms)
âœ“ should return false for { outputs: [ [length]: 0 ] }
âœ“ should return false for { outputs: [ 'main', [length]: 1 ] }
âœ“ should return true for { outputs: [ 'ai_agent', [length]: 1 ] }
âœ“ should return true for { outputs: [ 'main', 'ai_agent', [length]: 2 ] }
applyDeclarativeNodeOptionParameters
âœ“ should not modify properties on node with node with execute method method (1 ms)
âœ“ should not modify properties on node with node with trigger method method
âœ“ should not modify properties on node with node with webhook method method
âœ“ should not modify properties on node with a polling node-type method (1 ms)
âœ“ should not modify properties on node with a node-type with a non-main output method
getParameterIssues
âœ“ Fixed collection::Should not return issues if minimum or maximum field count is not set (2 ms)
âœ“ Fixed collection::Should not return issues if field count is within the specified range (1 ms)
âœ“ Fixed collection::Should return an issue if field count is lower than minimum specified (1 ms)
âœ“ Fixed collection::Should return an issue if field count is higher than maximum specified (1 ms)
âœ“ Fixed collection::Should not return issues if the collection is hidden
getParameterIssues, required parameters validation
âœ“ Should validate required dateTime parameters if empty string (1 ms)
âœ“ Should validate required dateTime parameters if empty undefined
isTriggerNode
âœ“ Should return true for node with trigger in group (1 ms)
âœ“ Should return true for node with multiple groups including trigger
âœ“ Should return false for node without trigger in group
âœ“ Should return false for node with empty group array
âœ“ Should return false when trigger is called Trigger, but does not have a trigger group
isExecutable
âœ“ Should return true for trigger node (1 ms)
âœ“ Should return true for node with Main output
âœ“ Should return false for node without Main output and not a trigger
âœ“ Should return true for node with mixed outputs including Main
âœ“ Should return false for node with only AiTool output and not a trigger
âœ“ Should return false for node with dynamic outputs set to AiTool only
displayParameter
âœ“ Should return true if no displayOptions are defined
âœ“ Should return true if displayOptions.show conditions are met (7 ms)
âœ“ Should return false if displayOptions.show conditions are not met (1 ms)
âœ“ Should return false if displayOptions.hide conditions are met
âœ“ Should return true if displayOptions.hide conditions are not met (1 ms)
âœ“ Should return true if displayOptions.show and hide conditions are both met
âœ“ Should return true if displayOptions.show conditions are met with multiple values
âœ“ Should return false if displayOptions.hide conditions are met with multiple values
âœ“ Should return true if @tool is true in nodeTypeDescription of tool
âœ“ Should return false if @tool is true in nodeTypeDescription of non-tool
âœ“ Should return true if @version condition is met
âœ“ Should return false if @version condition is not met
âœ“ Should return true if @tool and @version conditions are both met
âœ“ Should return false if @tool is true but @version condition is not met
âœ“ Should return true if no disabledOptions are defined
âœ“ Should return false if disabledOptions.hide conditions are met
âœ“ Should return true if disabledOptions.hide conditions are not met
âœ“ Should return true if nodeValuesRoot contains a matching value for displayOptions.show (1 ms)
âœ“ Should return false if nodeValuesRoot does not contain a matching value for displayOptions.show
2025-04-15T08:38:02.9832797Z
PASS test/Workflow.test.ts
Workflow
renameNodeInParameterValue
for expressions
âœ“ do nothing if there is no expression (3 ms)
âœ“ should work with dot notation
âœ“ should work with ["nodeName"]
âœ“ should work with $("Node1") (1 ms)
âœ“ should work with $items("Node1")
âœ“ should work with $items("Node1", 0, 1)
âœ“ should work with dot notation that contains space and special character
âœ“ should work with dot notation that contains space and trailing $
âœ“ should work with dot notation that contains space and special character (1 ms)
âœ“ should work with dot notation without trailing dot
âœ“ should work with ['nodeName']
âœ“ should work on lower levels
for node with renamable content
âœ“ should work with $('name')
âœ“ should work with $node['name'] and $node.name
âœ“ should work with $items()
renameNode
âœ“ rename node without connections (1 ms)
âœ“ rename node with one output connection
âœ“ rename node with one input connection (1 ms)
âœ“ rename node with multiple input and output connection
âœ“ change name also in expressions which use node-name (dot notation) (1 ms)
getParameterValue
âœ“ read simple not expression value (1 ms)
âœ“ read simple math expression (25 ms)
âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax (2 ms)
âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax add value and append text (1 ms)
âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax with JavaScript Code (9 ms)
âœ“ read data from incoming-node-data with with short "data" syntax
âœ“ read deep-data from incoming-node-data with with short "data" syntax
âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax (1 ms)
âœ“ read binary-string-data from incoming-node-data with with short "$binary" syntax (1 ms)
âœ“ read binary-string-data from node-output-data with with long "$node.{NODE}.binary" syntax
âœ“ read parameter from other node with with long "$node.parameter" syntax (3 ms)
âœ“ read environment data "$env" syntax which exists (1 ms)
âœ“ read environment data "$env" syntax which does not exists
âœ“ read parameter from current node with short "$parameter" syntax
âœ“ return resolved value when referencing another property with expression (long "$node.{NODE}.data" syntax) (1 ms)
âœ“ return resolved value when referencing another property with expression (short "data" syntax) (1 ms)
âœ“ return resolved value when referencing another property with expression when a node has spaces (long "$node["{NODE}"].parameter" syntax) (1 ms)
âœ“ return resolved value when referencing another property with expression on another node (long "$node["{NODE}"].parameter" syntax) (1 ms)
âœ“ should also resolve all child parameters when the parent get requested
getParentNodesByDepth
âœ“ Should return parent nodes of nodes
âœ“ Should return parent up to depth
âœ“ Should return all parents with depth of -1
âœ“ Should return parents of nodes with all connected output indicies
âœ“ Should handle loops within workflows
getConnectionsByDestination
âœ“ should return empty object when there are no connections
âœ“ should return connections by destination node (1 ms)
âœ“ should handle multiple connection types
âœ“ should handle nodes with no connections
âœ“ should handle nodes with null connections (1 ms)
âœ“ should handle nodes with multiple input connections
getHighestNode
âœ“ should return node name if node is not disabled
âœ“ should return empty array if node is disabled
âœ“ should return highest nodes when multiple parent nodes exist
âœ“ should ignore disabled parent nodes (1 ms)
âœ“ should handle nested connections
âœ“ should handle specified connection index
âœ“ should prevent infinite loops with cyclic connections (1 ms)
âœ“ should handle connections to nodes that are not defined in the workflow
âœ“ should handle connections from nodes that are not defined in the workflow
getParentMainInputNode
âœ“ should return the node itself if no parent connections exist
âœ“ should return direct main input parent node
âœ“ should traverse through non-main connections to find main input
âœ“ should handle nested non-main connections (1 ms)
getNodeConnectionIndexes
âœ“ should return undefined for non-existent parent node (1 ms)
âœ“ should return undefined for nodes without connections
âœ“ should return correct connection indexes for direct connections
âœ“ should return correct connection indexes for multi-step connections
âœ“ should return undefined when depth is 0
âœ“ should handle workflows with multiple connection indexes (1 ms)
getStartNode
âœ“ returns first trigger node when multiple start nodes exist (1 ms)
âœ“ returns first starting node type when no trigger nodes are present
âœ“ returns undefined when all nodes are disabled (1 ms)
getNode
âœ“ should return the node with the given name if it exists
âœ“ should return null if the node does not exist
getNodes
âœ“ should return all requested nodes that exist (2 ms)
âœ“ should return nodes in the order they were requested
âœ“ should skip nodes that do not exist and log a warning (1 ms)
âœ“ should return an empty array if none of the requested nodes exist (1 ms)
âœ“ should handle an empty array of node names
2025-04-15T08:38:02.9859477Z
PASS test/TelemetryHelpers.test.ts
getDomainBase should return protocol plus domain
âœ“ in valid URLs (8 ms)
âœ“ in malformed URLs (3 ms)
getDomainPath should return pathname, excluding query string
anonymizing strings containing at least one number
âœ“ in valid URLs (3 ms)
âœ“ in malformed URLs (20 ms)
anonymizing UUIDs
âœ“ in valid URLs (5 ms)
âœ“ in malformed URLs (2 ms)
anonymizing emails
âœ“ in valid URLs (1 ms)
âœ“ in malformed URLs (1 ms)
generateNodesGraph
âœ“ should return node graph when node type is unknown (3 ms)
âœ“ should return node graph when workflow is empty
âœ“ should return node graph when workflow keys are not set (1 ms)
âœ“ should return node graph when node has multiple operation fields with different display options (1 ms)
âœ“ should return node graph with stickies of default size (2 ms)
âœ“ should return node graph with stickies indicating overlap (2 ms)
âœ“ should return node graph indicating pinned data
âœ“ should return graph with webhook node
âœ“ should return graph with http v4 node with generic auth (1 ms)
âœ“ should return graph with HTTP V4 with predefined cred
âœ“ should return graph with merge v3 node
âœ“ should return graph with merge v3 node (1 ms)
âœ“ should return graph with merge v3 node
âœ“ should return graph with http v1 node
âœ“ should return graph with http v4 node with no parameters and no credentials
âœ“ should support custom connections like in AI nodes (1 ms)
âœ“ should not fail on error to resolve a node parameter for sticky node type (1 ms)
âœ“ should add run and items count (1 ms)
extractLastExecutedNodeCredentialData
âœ“ should return credentialId and credentialsType with null if no data
âœ“ should return credentialId and credentialsType with null if no executionData (1 ms)
âœ“ should return credentialId and credentialsType with null if no nodeExecutionStack (12 ms)
âœ“ should return credentialId and credentialsType with null if no node
âœ“ should return credentialId and credentialsType with null if no credentials
âœ“ should return correct credentialId and credentialsType when last node executed has credential
userInInstanceRanOutOfFreeAiCredits
âœ“ should return false if could not find node credentials (1 ms)
âœ“ should return false if could not credential type it is not openAiApi (1 ms)
âœ“ should return false if error is not NodeApiError
âœ“ should return false if error is not a free ai credit error (1 ms)
âœ“ should return true if the user has ran out of free AI credits
makeAIMetrics
âœ“ should count applicable nodes and parameters (1 ms)
âœ“ should not count non-applicable nodes and parameters
âœ“ should count ai nodes without tools (1 ms)
2025-04-15T08:38:02.9873249Z
PASS test/WorkflowDataProxy.test.ts
WorkflowDataProxy
$(If))
âœ“ last() should use the output the node is connected to by default (5 ms)
âœ“ last(0) should use the first output (1 ms)
âœ“ last(1) should use the second output
âœ“ first() should use the output the node is connected to by default (1 ms)
âœ“ first(0) should use the output the node is connected to by default
âœ“ first(1) should use the output the node is connected to by default (1 ms)
âœ“ all() should use the output the node is connected to by default
âœ“ all(0) should use the output the node is connected to by default (1 ms)
âœ“ all(1) should use the output the node is connected to by default (1 ms)
Base
âœ“ $("NodeName").all() (1 ms)
âœ“ $("NodeName").all() length
âœ“ $("NodeName").item (1 ms)
âœ“ $("NodeNameEarlier").item
âœ“ $("NodeName").itemMatching(2) (1 ms)
âœ“ $("NodeName").first()
âœ“ $("NodeName").last()
âœ“ $("NodeName").params
âœ“ $("NodeName") not in workflow should throw (104 ms)
âœ“ $("NodeName").item on Node that has not executed (1 ms)
âœ“ $("NodeName").isExecuted (1 ms)
âœ“ $input.all() (5 ms)
âœ“ $input.all() length
âœ“ $input.first()
âœ“ $input.last()
âœ“ $input.item
âœ“ $thisItem (1 ms)
âœ“ $binary
âœ“ $json
âœ“ $itemIndex
âœ“ $prevNode
âœ“ $runIndex
âœ“ $workflow (1 ms)
Errors
âœ“ $("NodeName").item, Node does not exist (3 ms)
âœ“ $("NodeName").item, node has no connection to referenced node (3 ms)
âœ“ $("NodeName").first(), node has no connection to referenced node (2 ms)
âœ“ $json, Node has no connections (32 ms)
âœ“ $("NodeName").item, Node has not run (3 ms)
âœ“ $json, Node has not run (2 ms)
âœ“ $("NodeName").item, paired item error: more than 1 matching item (4 ms)
âœ“ $("NodeName").item, paired item error: missing paired item (2 ms)
âœ“ $("NodeName").item, paired item error: invalid paired item (4 ms)
Pinned data with manual execution
âœ“ $(PinnedSet).item.json (1 ms)
âœ“ $(PinnedSet).item.json.firstName
âœ“ $(PinnedSet).pairedItem().json.firstName
âœ“ $(PinnedSet).first().json.firstName
âœ“ $(PinnedSet).first().json.firstName (1 ms)
âœ“ $(PinnedSet).last().json.firstName
âœ“ $(PinnedSet).all()[0].json.firstName
âœ“ $(PinnedSet).all()[1].json.firstName (1 ms)
âœ“ $(PinnedSet).all()[2]
âœ“ $(PinnedSet).itemMatching(0).json.firstName
âœ“ $(PinnedSet).itemMatching(1).json.firstName
âœ“ $(PinnedSet).itemMatching(2)
âœ“ $node[PinnedSet].json.firstName (1 ms)
Pinned data with paired items
âœ“ itemMatching should throw when it cannot find a paired item (1 ms)
âœ“ pairedItem should throw when it cannot find a paired item
âœ“ item should throw when it cannot find a paired item (1 ms)
Partial data
Default behaviour (throw on missing execution data)
âœ“ $binary (1 ms)
âœ“ $json (1 ms)
âœ“ $data
Don't throw on missing execution data)
âœ“ $binary (1 ms)
âœ“ $json
âœ“ $data
$fromAI
âœ“ Retrieves values for first item (2 ms)
âœ“ Retrieves values for second item (1 ms)
âœ“ Case variants: $fromAi and $fromai (1 ms)
âœ“ Returns default value when key not found (1 ms)
âœ“ Throws an error when a key is invalid (e.g. empty string) (2 ms)
$rawParameter
âœ“ returns simple raw parameter value
âœ“ returns raw parameter value for resource locator values (1 ms)
âœ“ returns raw parameter value when there is no run data
DateTime and Time-related functions
âœ“ $now should return current datetime
âœ“ $today should return datetime at start of day (11 ms)
âœ“ should expose DateTime, Interval, and Duration
âœ“ $now should be configurable with timezone (1 ms)
Node version and ID
âœ“ $nodeVersion should return node type version
âœ“ $nodeId should return node ID
âœ“ $webhookId should be optional
$jmesPath
âœ“ should query simple object (1 ms)
âœ“ should query nested object
âœ“ should query array (1 ms)
âœ“ should throw error for invalid arguments (1 ms)
âœ“ $jmespath should alias $jmesPath
$mode
âœ“ should return execution mode
$item
âœ“ should return data proxy for specific item (1 ms)
âœ“ should allow specifying run index
$items
Default behavior (no arguments)
âœ“ should return input items from previous node
âœ“ should limit items for nodes with executeOnce=true (1 ms)
With node name argument
âœ“ should return items for specified node
âœ“ should throw error for non-existent node (1 ms)
With node name and output index
âœ“ should return items from specific output
With node name, output index, and run index
âœ“ should handle negative run index (1 ms)
Error handling
âœ“ should throw error for invalid run index
âœ“ should handle nodes with no execution data (1 ms)
$agentInfo
âœ“ $agentInfo should return undefined for non-agent nodes (1 ms)
âœ“ $agentInfo should return memoryConnectedToAgent as true if memory is connected
âœ“ $agentInfo should return memoryConnectedToAgent as false if no memory is connected
âœ“ $agentInfo.tools should include connected tools with correct details (1 ms)
âœ“ $agentInfo.tools should correctly identify AI-defined fields
2025-04-15T08:38:02.9902206Z
PASS test/ExpressionExtensions/StringExtensions.test.ts
Data Transformation Functions
String Data Transformation Functions
âœ“ .length should return the string length (3 ms)
âœ“ .urlDecode should work correctly on a string (2 ms)
âœ“ .urlEncode should work correctly on a string (4 ms)
âœ“ .removeTags should work correctly on a string (5 ms)
âœ“ .removeMarkdown should work correctly on a string (2 ms)
âœ“ .toLowerCase should work correctly on a string (1 ms)
âœ“ .toFloat should work correctly on a string (2 ms)
âœ“ .toInt should work correctly on a string (4 ms)
âœ“ .quote should work correctly on a string (3 ms)
âœ“ .isNumeric should work correctly on a string (5 ms)
âœ“ .isUrl should work on a string (29 ms)
âœ“ .isDomain should work on a string (14 ms)
âœ“ .toSnakeCase should work on a string (3 ms)
âœ“ .toSentenceCase should work on a string (3 ms)
âœ“ .extractUrl should work on a string (14 ms)
âœ“ .extractDomain should work on a string (32 ms)
âœ“ .extractEmail should work on a string (1 ms)
âœ“ .isEmail should work on a string (2 ms)
âœ“ .toDateTime should work on a variety of formats (18 ms)
âœ“ .extractUrlPath should work on a string (3 ms)
âœ“ .parseJson should work on a string (1 ms)
âœ“ .parseJson should throw on invalid JSON (3 ms)
âœ“ .toJsonString should work on a string (2 ms)
âœ“ .toBoolean should work on a string (8 ms)
âœ“ .base64Encode should work on a string (3 ms)
âœ“ .base64Decode should work on a string (1 ms)
.isEmpty
âœ“ should work correctly on a string that is not empty (39 ms)
âœ“ should work correctly on a string that is empty (3 ms)
.isNotEmpty
âœ“ should work correctly on a string that is not empty (2 ms)
âœ“ should work correctly on a string that is empty (3 ms)
.hash()
âœ“ should work for "base64" (3 ms)
âœ“ should work for "md5" (2 ms)
âœ“ should work for "sha1" (3 ms)
âœ“ should work for "sha224" (3 ms)
âœ“ should work for "sha256" (2 ms)
âœ“ should work for "sha384" (3 ms)
âœ“ should work for "sha512" (3 ms)
âœ“ should work for "sha3" (7 ms)
âœ“ should throw on invalid algorithm (48 ms)
.toDate
âœ“ should work correctly on a date string (1 ms)
âœ“ should throw on invalid date (2 ms)
2025-04-15T08:38:02.9913768Z
PASS test/AugmentObject.test.ts
AugmentObject
augmentArray
âœ“ should work with arrays (21 ms)
âœ“ should work with arrays on any level (7 ms)
augmentObject
âœ“ should work with simple values on first level (2 ms)
âœ“ should work with simple values on sub-level (1 ms)
âœ“ should work with complex values on first level (1 ms)
âœ“ should work with delete and reset (2 ms)
âœ“ should work with setting to undefined and reset (1 ms)
âœ“ should be faster than doing a deepCopy (995 ms)
âœ“ should ignore non-enumerable keys
âœ“ should return property descriptors (1 ms)
âœ“ should return valid values on `has` calls (1 ms)
âœ“ should ignore non-enumerable keys
âœ“ should handle constructor property correctly (1 ms)
2025-04-15T08:38:02.9917886Z
PASS test/utils.test.ts
isObjectEmpty
âœ“ should handle null and undefined (4 ms)
âœ“ should handle arrays
âœ“ should handle Set and Map (1 ms)
âœ“ should handle Buffer, ArrayBuffer, and Uint8Array (7 ms)
âœ“ should handle plain objects
âœ“ should handle instantiated classes
âœ“ should not call Object.keys unless a plain object
jsonParse
âœ“ parses JSON (1 ms)
âœ“ optionally throws `errorMessage (31 ms)
âœ“ optionally returns a `fallbackValue` (1 ms)
jsonStringify
âœ“ should throw errors on circular references by default (2 ms)
âœ“ should break circular references when requested
âœ“ should not detect duplicates as circular references (5 ms)
deepCopy
âœ“ should deep copy an object (1 ms)
âœ“ should avoid max call stack in case of circular deps (2 ms)
fileTypeFromMimeType
âœ“ should recognize json (1 ms)
âœ“ should recognize html
âœ“ should recognize image
âœ“ should recognize audio (1 ms)
âœ“ should recognize video (1 ms)
âœ“ should recognize text
âœ“ should recognize pdf
randomInt
âœ“ should generate random integers (3 ms)
âœ“ should generate random in range (3 ms)
randomString
âœ“ should return a random string of the specified length (9 ms)
âœ“ should return a random string of the in the length range (2 ms)
âœ“ should only contain characters from the specified character set (4 ms)
hasKey
âœ“ should return false if the input is null (1 ms)
âœ“ should return false if the input is undefined (1 ms)
âœ“ should return false if the input is a number
âœ“ should return false if the input is an array out of bounds (1 ms)
âœ“ should return true if the input is an array within bounds
âœ“ should return true if the input is an array with the key `length`
âœ“ should return false if the input is an array with the key `toString` (1 ms)
âœ“ should return false if the input is an object without the key
âœ“ should return true if the input is an object with the key
âœ“ should provide a type guard (1 ms)
2025-04-15T08:38:02.9928866Z
PASS test/NodeErrors.test.ts
NodeErrors tests
âœ“ should return unknown error message (6 ms)
âœ“ should return the error message (1 ms)
âœ“ should return the error message defined in reason (1 ms)
âœ“ should return the error message defined in options
âœ“ should return description error message (1 ms)
âœ“ should return description as error message defined in reason (1 ms)
âœ“ should return description as error message defined in options
âœ“ should return default message for ECONNREFUSED (1 ms)
âœ“ should return default message for 502
âœ“ should return default message for ENOTFOUND, NodeOperationError
âœ“ should return default message for ENOTFOUND, NodeApiError (13 ms)
âœ“ should return default message for EEXIST based on code, NodeApiError (1 ms)
âœ“ should update description GETADDRINFO, NodeOperationError (1 ms)
âœ“ should remove description if it is equal to message, NodeOperationError
âœ“ should remove description if it is equal to message, message provided in options take precedence over original, NodeApiError
âœ“ should return mapped message for MYMAPPEDMESSAGE, NodeOperationError (1 ms)
âœ“ should return mapped message for MYMAPPEDMESSAGE, NodeApiError
âœ“ should return default message for EACCES, custom mapping not found, NodeOperationError (1 ms)
NodeApiError message and description logic
âœ“ case: customMessage && customDescription, result: message === customMessage; description === customDescription (1 ms)
âœ“ case: customMessage && !customDescription && extractedMessage, result: message === customMessage; description === extractedMessage (5 ms)
âœ“ case: customMessage && !customDescription && !extractedMessage, result: message === customMessage; !description (1 ms)
âœ“ case: !customMessage && httpCodeMapping && extractedMessage, result: message === httpCodeMapping; description === extractedMessage (1 ms)
âœ“ case: !customMessage && httpCodeMapping && !extractedMessage, result: message === httpCodeMapping; !description (1 ms)
âœ“ case: !customMessage && !httpCodeMapping && extractedMessage, result: message === extractedMessage; !description
âœ“ case: !customMessage && !httpCodeMapping && !extractedMessage, result: message === UNKNOWN_ERROR_MESSAGE; description === UNKNOWN_ERROR_DESCRIPTION (1 ms)
âœ“ case: Error code sent as "any"
2025-04-15T08:38:02.9939945Z
PASS test/ExpressionExtensions/ExpressionExtension.test.ts
Expression Extension Transforms
extend() transform
âœ“ Basic transform with .isEmpty (11 ms)
âœ“ Chained transform with .toSnakeCase.toSentenceCase (2 ms)
âœ“ Chained transform with native functions .toSnakeCase.trim.toSentenceCase (2 ms)
tmpl Expression Parser
Compatible splitting
âœ“ Lone expression (1 ms)
âœ“ Multiple expression
âœ“ Unclosed expression
âœ“ Escaped opening bracket
âœ“ Escaped closinging bracket
Compatible joining
âœ“ Lone expression
âœ“ Multiple expression (1 ms)
âœ“ Unclosed expression
âœ“ Escaped opening bracket
âœ“ Escaped closing bracket
Edge cases
âœ“ Nested member access with name of function inside a function doesn't result in function call (6 ms)
Test newer ES syntax
âœ“ Optional chaining transforms (13 ms)
âœ“ Optional chaining transforms on calls (10 ms)
âœ“ Multiple optional chains in an expression (4 ms)
Non dot extensions
âœ“ min (1 ms)
âœ“ max (1 ms)
âœ“ average (1 ms)
âœ“ numberList (1 ms)
âœ“ zip (1 ms)
âœ“ $if (15 ms)
âœ“ $not (5 ms)
âœ“ $ifEmpty (4 ms)
Test extend with undefined
âœ“ input is undefined (1 ms)
âœ“ input is null
âœ“ input should be converted to upper case
2025-04-15T08:38:02.9947812Z
PASS test/ExpressionExtensions/DateExtensions.test.ts
Data Transformation Functions
Date Data Transformation Functions
âœ“ .isWeekend() should work correctly on a date (31 ms)
âœ“ .endOfMonth() should work correctly on a date (7 ms)
âœ“ .toDate() should work on a string (2 ms)
.beginningOf
âœ“ .beginningOf("week") should work correctly on a date (4 ms)
âœ“ .beginningOf("week") should work correctly on a string (2 ms)
âœ“ .beginningOf("month") should work correctly on a string (9 ms)
âœ“ .beginningOf("year") should work correctly on a string (3 ms)
.extract
âœ“ .extract("day") should work correctly on a date (2 ms)
âœ“ should extract year from a date (3 ms)
âœ“ should extract yearDayNumber from a date (1 ms)
âœ“ should extract month from a date (3 ms)
âœ“ should extract week from a date (4 ms)
âœ“ should extract day from a date (4 ms)
âœ“ should extract hour from a date (1 ms)
âœ“ should extract minute from a date (1 ms)
âœ“ should extract second from a date (1 ms)
âœ“ should extract millisecond from a date (2 ms)
âœ“ should return undefined for invalid unit (1 ms)
.format
âœ“ should format date with custom format (3 ms)
âœ“ should format date with ISO format (6 ms)
.inBetween
âœ“ should work on string and Date (5 ms)
âœ“ should work on string and DateTime (1 ms)
âœ“ should not work for invalid strings (2 ms)
âœ“ should not work for numbers (1 ms)
âœ“ should not work for a single argument (61 ms)
âœ“ should not work for a more than two arguments (4 ms)
.diffTo
âœ“ should work with a single unit (4 ms)
âœ“ should work with an array of units (3 ms)
âœ“ should return difference in days (1 ms)
âœ“ should return difference in hours (1 ms)
âœ“ should return difference in minutes (2 ms)
âœ“ should return difference in seconds (2 ms)
âœ“ should return difference in milliseconds (1 ms)
âœ“ should throw for invalid unit (3 ms)
.toDateTime
âœ“ should return itself for DateTime (2 ms)
âœ“ should return a DateTime for JS Date (2 ms)
.toInt/.toFloat
âœ“ should return milliseconds for DateTime (1 ms)
âœ“ should return milliseconds for JS Date (1 ms)
âœ“ should not have a doc (hidden from autocomplete) (3 ms)
.toBoolean
âœ“ should return undefined (1 ms)
âœ“ should not have a doc (hidden from autocomplete) (1 ms)
.isInLast
âœ“ should return true if the date is within the last n minutes (2 ms)
âœ“ should return false if the date is not within the last n minutes (1 ms)
âœ“ should handle default unit as minutes (2 ms)
.minus
âœ“ should subtract days from the date (3 ms)
âœ“ should subtract years from the date (2 ms)
âœ“ should handle default unit as milliseconds (1 ms)
âœ“ should handle DateTime instances (2 ms)
.plus
âœ“ should subtract days from the date (2 ms)
âœ“ should subtract years from the date (1 ms)
âœ“ should handle default unit as milliseconds (2 ms)
âœ“ should handle DateTime instances (1 ms)
.isDst
âœ“ should return true for a date in DST (1 ms)
âœ“ should return false for a date not in DST (2 ms)
2025-04-15T08:38:02.9964550Z
PASS test/TypeValidation.test.ts
Type Validation
âœ“ should validate boolean values properly (1 ms)
âœ“ should not validate invalid boolean values (1 ms)
âœ“ should validate and cast numbers (13 ms)
âœ“ should validate and cast JSON & JS objects properly (7 ms)
âœ“ should validate and cast arrays properly (2 ms)
âœ“ should validate options properly (1 ms)
âœ“ should validate and cast time properly (1 ms)
Dates
âœ“ should validate and cast ISO dates (19 ms)
âœ“ should validate and cast RFC2822 dates (2 ms)
âœ“ should validate and cast HTTP dates (1 ms)
âœ“ should validate and cast SQL dates (1 ms)
âœ“ should validate and cast other valid dates (5 ms)
âœ“ should not validate invalid dates (2 ms)
options
strict=true
âœ“ should not convert/cast types (1 ms)
parseStrings=true
âœ“ should parse strings from other types (1 ms)
getValueDescription util function
âœ“ should return correct description
2025-04-15T08:38:02.9970454Z
PASS test/ObservableObject.test.ts
ObservableObject
âœ“ should recognize that item on parent level got added (init empty) (4 ms)
âœ“ should not recognize that item on parent level changed if it is empty object and option "ignoreEmptyOnFirstChild" === true (init empty)
âœ“ should recognize that item on parent level changed if it is not empty object and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
âœ“ should not recognize that item on parent level changed if it is empty array and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
âœ“ should recognize that item on parent level changed if it is not empty []] and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
âœ“ should recognize that item on parent level changed (init data exists)
âœ“ should recognize that array on parent level changed (init data exists) (1 ms)
âœ“ should recognize that item on first child level changed (init data exists) (5 ms)
âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === true (init data exists) (1 ms)
âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === false (init data exists) (1 ms)
âœ“ should recognize that array on first child level changed (init data exists) (1 ms)
âœ“ should recognize that item on second child level changed (init data exists) (1 ms)
âœ“ should recognize that item on parent level got deleted (init data exists)
âœ“ should recognize that item on parent level got deleted even with and option "ignoreEmptyOnFirstChild" === true (init data exists)
âœ“ should recognize that item on second child level got deleted (init data exists) (1 ms)
âœ“ should recognize that item on second child level changed with null (init data exists) (1 ms)
2025-04-15T08:38:02.9979533Z
PASS test/ExpressionExtensions/ArrayExtensions.test.ts
Data Transformation Functions
Array Data Transformation Functions
âœ“ .randomItem() should work correctly on an array (32 ms)
âœ“ .isNotEmpty() should work correctly on an array (5 ms)
âœ“ .pluck() should work correctly on an array (8 ms)
âœ“ .pluck() should work correctly for multiple values (10 ms)
âœ“ .pluck() should work return everything with no args (6 ms)
âœ“ .unique() should work correctly on an array (3 ms)
âœ“ .unique() should work on an arrays containing nulls, objects and arrays (5 ms)
âœ“ .unique() should work on an arrays of objects (6 ms)
âœ“ .isEmpty() should work correctly on an array (3 ms)
âœ“ .isEmpty() should work correctly on an array (15 ms)
âœ“ .last() should work correctly on an array (3 ms)
âœ“ .first() should work correctly on an array (3 ms)
âœ“ .merge() should work correctly on an array (5 ms)
âœ“ .merge() should work correctly without arguments (2 ms)
âœ“ .smartJoin() should work correctly on an array of objects (9 ms)
âœ“ .renameKeys() should work correctly on an array of objects (4 ms)
âœ“ .sum() should work on an array of numbers (50 ms)
âœ“ .average() should work on an array of numbers (5 ms)
âœ“ .min() should work on an array of numbers (5 ms)
âœ“ .max() should work on an array of numbers (4 ms)
âœ“ .union() should work on an array of objects (8 ms)
âœ“ .union() should work on an arrays containing nulls, objects and arrays (4 ms)
âœ“ .intersection() should work on an array of objects (9 ms)
âœ“ .intersection() should work on an arrays containing nulls, objects and arrays (4 ms)
âœ“ .difference() should work on an array of objects (11 ms)
âœ“ .difference() should work on an arrays containing nulls, objects and arrays (2 ms)
âœ“ .compact() should work on an array (2 ms)
âœ“ .chunk() should work on an array (2 ms)
âœ“ .toJsonString() should work on an array (1 ms)
âœ“ .append() should work on an array (1 ms)
Conversion methods
âœ“ should exist but return undefined (to not break expressions with mixed data) (3 ms)
âœ“ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:38:02.9990144Z
PASS test/FromAIParseUtils.test.ts
extractFromAICalls
âœ“ should parse args as expected for $fromAI("a", "b", "string") (6 ms)
âœ“ should parse args as expected for $fromAI("a", "b", "number", 5) (1 ms)
âœ“ should parse args as expected for $fromAI("a", "`", "number", 5)
âœ“ should parse args as expected for $fromAI("a", "\`", "number", 5) (1 ms)
âœ“ should parse args as expected for $fromAI("a", "\n", "number", 5)
âœ“ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
âœ“ should throw as expected for $fromAI("a", "b", "c") (24 ms)
âœ“ should throw as expected for $fromAI("a", "b", "string" (1 ms)
âœ“ should throw as expected for $fromAI("a", "b", "string, "d") (1 ms)
âœ“ supports multiple calls (1 ms)
âœ“ supports no calls (1 ms)
traverseNodeParameters
âœ“ should parse args as expected for $fromAI("a", "b", "string")
âœ“ should parse args as expected for $fromAI("a", "b", "number", 5)
âœ“ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
âœ“ should parse args as expected for { a: '{{ $fromAI("a", "b", "boolean") }}', b: 'five' } (1 ms)
âœ“ should parse args as expected for [ 'red', '{{ $fromAI("a", "b", "boolean") }}' ]
JSON Type Parsing via generateZodSchema
âœ“ should correctly parse a JSON parameter without default (4 ms)
âœ“ should correctly parse a JSON parameter with a valid default (1 ms)
âœ“ should parse a JSON parameter with an empty default (1 ms)
âœ“ should use provided JSON value over the default value (1 ms)
2025-04-15T08:38:02.9997236Z
PASS test/ExpressionExtensions/ObjectExtensions.test.ts
Data Transformation Functions
Object Data Transformation Functions
âœ“ .removeField should work on an object (7 ms)
âœ“ .urlEncode should work on an object (2 ms)
âœ“ .toJsonString() should work on an object (3 ms)
.isEmpty
âœ“ should return true for an empty object (39 ms)
âœ“ should return false for a non-empty object (6 ms)
âœ“ should return true for an object with only null/undefined values (4 ms)
.hasField
âœ“ should return true if the key exists in the object (6 ms)
âœ“ should return false if the key does not exist in the object (3 ms)
.removeFieldsContaining
âœ“ should work on an object (2 ms)
âœ“ should not work for empty string (51 ms)
.keepFieldsContaining
âœ“ .keepFieldsContaining should work on an object (5 ms)
âœ“ .keepFieldsContaining should work on a nested object (2 ms)
âœ“ .keepFieldsContaining should not work for empty string (5 ms)
.compact
âœ“ should work on an object (2 ms)
âœ“ should remove fields with null, undefined, empty string, or "nil" (3 ms)
âœ“ should work on an empty object (2 ms)
âœ“ should work on an object with all null/undefined values (1 ms)
âœ“ should work on an object with nested null/undefined values (2 ms)
âœ“ should not allow prototype pollution (2 ms)
.keys
âœ“ should return an array of keys from the object (1 ms)
âœ“ should return an empty array for an empty object (1 ms)
.values
âœ“ should return an array of values from the object (6 ms)
âœ“ should return an empty array for an empty object (3 ms)
Conversion methods
âœ“ should exist but return undefined (to not break expressions with mixed data) (15 ms)
âœ“ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:38:03.0006737Z
PASS test/Expression.test.ts
Expression (with tmpl)
getParameterValue()
âœ“ should not be able to use global built-ins from denylist (233 ms)
âœ“ should be able to use global built-ins from allowlist (296 ms)
âœ“ should not able to do arbitrary code execution (4 ms)
Test all expression value fixtures
âœ“ ={{$json["contact"]["FirstName"]}} (7 ms)
âœ“ ={{ $json["test"] }} (11 ms)
âœ“ ={{$json["test"].json["message"]["message_id"]}} (9 ms)
âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (8 ms)
âœ“ ={{$json["get"].json["recipes"][0]["image"]}} (17 ms)
âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (21 ms)
âœ“ = {{$json["dig check CF"].data["stdout"]}} (9 ms)
âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (10 ms)
âœ“ ={{$runIndex}} (3 ms)
âœ“ ={{ new String().toString() }} (13 ms)
âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (8 ms)
âœ“ ={{$json["GetTicket"].json["tickets"].length}} (5 ms)
âœ“ ={{ $json.toString() }} (4 ms)
âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (14 ms)
âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (7 ms)
âœ“ ={{ $json["phone"] ?? 0}} (57 ms)
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (7 ms)
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (6 ms)
âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (5 ms)
âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (8 ms)
âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (7 ms)
âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (18 ms)
âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (9 ms)
âœ“ ={{new Date($json["created_at"]).toISOString()}} (7 ms)
âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (5 ms)
âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (8 ms)
âœ“ ={
"article": {
"title": "{{$json["body"]["entry"]["Title"]}}",
"published": true,
"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
"tags":["{{$json["body"]["entry"]["Tag"]}}"]
}
} (34 ms)
âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (19 ms)
âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (5 ms)
âœ“ ={{Math.min(1, 2);}} (6 ms)
âœ“ ={{new String().toString();}} (5 ms)
âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (11 ms)
âœ“ ={{200}} (2 ms)
âœ“ ={{$json.assetValue * $json.value / 100}} (5 ms)
âœ“ ={{/^\d+$/.test($json["search_term"])}} (19 ms)
âœ“ ={{ `test
value
multi
line` }} (5 ms)
âœ“ ={{ { "data": $json.body.choices } }} (8 ms)
âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (15 ms)
âœ“ ={{asdas}} (14 ms)
âœ“ ={{!!$json["data"]["errors"]}} (11 ms)
âœ“ =TRUE (3 ms)
âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (11 ms)
âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (5 ms)
âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (7 ms)
âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (7 ms)
âœ“ ={{ 'domain' in $json && $json.domain != null}} (13 ms)
âœ“ ={{ String("testing").length }} (9 ms)
Test all expression transform fixtures
âœ“ ={{$json["contact"]["FirstName"]}} (1 ms)
âœ“ ={{ $json["test"] }} (1 ms)
âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (1 ms)
âœ“ ={{$json["get"].json["recipes"][0]["image"]}} (1 ms)
âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
âœ“ = {{$json["dig check CF"].data["stdout"]}} (2 ms)
âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
âœ“ ={{$runIndex}}
âœ“ ={{ new String().toString() }} (2 ms)
âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (1 ms)
âœ“ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
âœ“ ={{ $json.toString() }}
âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (2 ms)
âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (2 ms)
âœ“ ={{ $json["phone"] ?? 0}} (1 ms)
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (4 ms)
âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (1 ms)
âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (2 ms)
âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (1 ms)
âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (2 ms)
âœ“ ={{new Date($json["created_at"]).toISOString()}} (1 ms)
âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (1 ms)
âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (1 ms)
âœ“ ={
"article": {
"title": "{{$json["body"]["entry"]["Title"]}}",
"published": true,
"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
"tags":["{{$json["body"]["entry"]["Tag"]}}"]
}
} (4 ms)
âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (7 ms)
âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
âœ“ ={{Math.min(1, 2);}} (2 ms)
âœ“ ={{new String().toString();}} (1 ms)
âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (9 ms)
âœ“ ={{200}} (1 ms)
âœ“ ={{$json.assetValue * $json.value / 100}} (6 ms)
âœ“ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
âœ“ ={{ `test
value
multi
line` }} (1 ms)
âœ“ ={{ { "data": $json.body.choices } }} (1 ms)
âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (2 ms)
âœ“ ={{asdas}} (1 ms)
âœ“ ={{!!$json["data"]["errors"]}} (1 ms)
âœ“ =TRUE (1 ms)
âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (5 ms)
âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (2 ms)
âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (1 ms)
âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
âœ“ ={{ 'domain' in $json && $json.domain != null}}
âœ“ ={{ String("testing").length }} (1 ms)
Expression (with tournament)
getParameterValue()
âœ“ should not be able to use global built-ins from denylist (12 ms)
âœ“ should be able to use global built-ins from allowlist (20 ms)
âœ“ should not able to do arbitrary code execution (3 ms)
Test all expression value fixtures
âœ“ ={{$json["contact"]["FirstName"]}}
âœ“ ={{ $json["test"] }} (1 ms)
âœ“ ={{$json["test"].json["message"]["message_id"]}}
âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (1 ms)
âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
âœ“ = {{$json["dig check CF"].data["stdout"]}}
âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
âœ“ ={{$runIndex}}
âœ“ ={{ new String().toString() }}
âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (1 ms)
âœ“ ={{$json["GetTicket"].json["tickets"].length}}
âœ“ ={{ $json.toString() }} (1 ms)
âœ“ ={{Math.floor(Math.min(1, 2) * 100);}}
âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (1 ms)
âœ“ ={{ $json["phone"] ?? 0}} (2 ms)
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (1 ms)
âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }}
âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (1 ms)
âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }}
âœ“ ={{new Date($json["created_at"]).toISOString()}}
âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}}
âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
âœ“ ={
"article": {
"title": "{{$json["body"]["entry"]["Title"]}}",
"published": true,
"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
"tags":["{{$json["body"]["entry"]["Tag"]}}"]
}
} (1 ms)
âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (1 ms)
âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
âœ“ ={{Math.min(1, 2);}} (1 ms)
âœ“ ={{new String().toString();}}
âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (2 ms)
âœ“ ={{200}}
âœ“ ={{$json.assetValue * $json.value / 100}} (1 ms)
âœ“ ={{/^\d+$/.test($json["search_term"])}}
âœ“ ={{ `test
value
multi
line` }}
âœ“ ={{ { "data": $json.body.choices } }} (1 ms)
âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (1 ms)
âœ“ ={{asdas}} (1 ms)
âœ“ ={{!!$json["data"]["errors"]}}
âœ“ =TRUE (1 ms)
âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (2 ms)
âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (5 ms)
âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
âœ“ ={{ 'domain' in $json && $json.domain != null}} (1 ms)
âœ“ ={{ String("testing").length }}
Test all expression transform fixtures
âœ“ ={{$json["contact"]["FirstName"]}} (1 ms)
âœ“ ={{ $json["test"] }}
âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
âœ“ ={{$json[$json["Set2"].json["apiKey"]]}}
âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}}
âœ“ = {{$json["dig check CF"].data["stdout"]}}
âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
âœ“ ={{$runIndex}}
âœ“ ={{ new String().toString() }}
âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}}
âœ“ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
âœ“ ={{ $json.toString() }}
âœ“ ={{Math.floor(Math.min(1, 2) * 100);}}
âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (1 ms)
âœ“ ={{ $json["phone"] ?? 0}}
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}}
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (1 ms)
âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }}
âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }}
âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (1 ms)
âœ“ ={{new Date($json["created_at"]).toISOString()}}
âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}}
âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
âœ“ ={
"article": {
"title": "{{$json["body"]["entry"]["Title"]}}",
"published": true,
"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
"tags":["{{$json["body"]["entry"]["Tag"]}}"]
}
} (1 ms)
âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}}
âœ“ ={{Math.min(1, 2);}}
âœ“ ={{new String().toString();}} (1 ms)
âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }}
âœ“ ={{200}}
âœ“ ={{$json.assetValue * $json.value / 100}}
âœ“ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
âœ“ ={{ `test
value
multi
line` }}
âœ“ ={{ { "data": $json.body.choices } }}
âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }}
âœ“ ={{asdas}}
âœ“ ={{!!$json["data"]["errors"]}}
âœ“ =TRUE (1 ms)
âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }}
âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (1 ms)
âœ“ ={{ $json?.data == undefined ? '' : $json.data }}
âœ“ ={{ 'domain' in $json && $json.domain != null}} (1 ms)
âœ“ ={{ String("testing").length }}
2025-04-15T08:38:03.0041235Z
PASS test/WorkflowDataProxyEnvProvider.test.ts
createEnvProviderState
âœ“ should return the state with process available and env access allowed (3 ms)
âœ“ should block env access when N8N_BLOCK_ENV_ACCESS_IN_NODE is set to "true"
âœ“ should handle process not being available
createEnvProvider
âœ“ should return true when checking for a property using "has"
âœ“ should return the value from process.env if access is allowed
âœ“ should throw ExpressionError when process is unavailable (9 ms)
âœ“ should throw ExpressionError when env access is blocked (1 ms)
2025-04-15T08:38:03.0042740Z
PASS test/ExpressionExtensions/NumberExtensions.test.ts
Data Transformation Functions
Number Data Transformation Functions
âœ“ .format() should work correctly on a number (33 ms)
âœ“ .ceil() should work on a number (8 ms)
âœ“ .floor() should work on a number (5 ms)
âœ“ .round() should work on a number (8 ms)
âœ“ .isOdd() should work on a number (13 ms)
âœ“ .isOdd() should not work on a float or NaN (44 ms)
âœ“ .isEven() should work on a number (2 ms)
âœ“ .isEven() should not work on a float or NaN (3 ms)
toDateTime
âœ“ from milliseconds (default) (7 ms)
âœ“ from seconds (3 ms)
âœ“ from Excel 1900 format (2 ms)
âœ“ from microseconds (1 ms)
toInt
âœ“ should round numbers (9 ms)
toFloat
âœ“ should return itself (4 ms)
toBoolean
âœ“ should return false for 0, 1 for other numbers (5 ms)
Multiple expressions
âœ“ Basic multiple expressions (4 ms)
2025-04-15T08:38:03.0045421Z
PASS test/Cron.test.ts
Cron
toCronExpression
âœ“ should generate a valid cron for `everyMinute` triggers (3 ms)
âœ“ should generate a valid cron for `everyHour` triggers (1 ms)
âœ“ should generate a valid cron for `everyX[minutes]` triggers
âœ“ should generate a valid cron for `everyX[hours]` triggers
âœ“ should generate a valid cron for `everyDay` triggers
âœ“ should generate a valid cron for `everyWeek` triggers (1 ms)
âœ“ should generate a valid cron for `everyMonth` triggers
âœ“ should trim custom cron expressions
2025-04-15T08:38:03.0046899Z
PASS test/MetadataUtils.test.ts
MetadataUtils
parseMetadataFromError
âœ“ should return undefined if error does not have response or both keys on the object (4 ms)
âœ“ should return undefined if errorResponse only has workflowId key
âœ“ should return undefined if error only has executionId key
âœ“ should support executionId and workflowId key directly on the error object (1 ms)
âœ“ should return undefined if error response does not have subworkflow data
âœ“ should return metadata if error response has subworkflow data (1 ms)
2025-04-15T08:38:03.0048349Z
PASS test/ExpressionSandboxing.test.ts
PrototypeSanitizer
Static analysis
âœ“ should not allow access to __proto__ (32 ms)
âœ“ should not allow access to prototype (7 ms)
âœ“ should not allow access to constructor (7 ms)
Runtime
âœ“ should not allow access to __proto__ (9 ms)
âœ“ should not allow access to prototype (5 ms)
âœ“ should not allow access to constructor (10 ms)
2025-04-15T08:38:03.0049348Z
PASS test/errors/base/unexpected.error.test.ts
UnexpectedError
âœ“ should be an instance of UnexpectedError (4 ms)
âœ“ should be an instance of BaseError
âœ“ should have correct defaults
âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:38:03.0050130Z
PASS test/errors/base/operational.error.test.ts
OperationalError
âœ“ should be an instance of OperationalError (4 ms)
âœ“ should be an instance of BaseError
âœ“ should have correct defaults (1 ms)
âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:38:03.0050821Z
PASS test/errors/workflow-activation.error.test.ts
WorkflowActivationError
âœ“ should default to `error` level (3 ms)
âœ“ should set `level` based on arg
âœ“ should set `level` to `warning` for `ETIMEDOUT`
âœ“ should set `level` to `warning` for `ECONNREFUSED`
âœ“ should set `level` to `warning` for `EAUTH`
âœ“ should set `level` to `warning` for `Temporary authentication failure`
âœ“ should set `level` to `warning` for `Invalid credentials` (1 ms)
2025-04-15T08:38:03.0051905Z
PASS test/errors/base/user.error.test.ts
UserError
âœ“ should be an instance of UserError (3 ms)
âœ“ should be an instance of BaseError (1 ms)
âœ“ should have correct defaults
âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:38:03.0052538Z
PASS test/ExpressionExtensions/BooleanExtensions.test.ts
Data Transformation Functions
Boolean Data Transformation Functions
Conversion methods
âœ“ should not have a doc (hidden from autocomplete)
toInt/toFloat
âœ“ should return 1 for true, 0 for false (29 ms)
toDateTime
âœ“ should return undefined (2 ms)
toBoolean
âœ“ should return itself (1 ms)
2025-04-15T08:38:03.0053548Z
PASS test/DeferredPromise.test.ts
DeferredPromise
âœ“ should resolve the promise with the correct value (3 ms)
âœ“ should reject the promise with the correct error (2 ms)
2025-04-15T08:38:03.0054108Z
PASS test/errors/node.error.test.ts
NodeError
âœ“ should update re-wrapped error level and message (5 ms)
2025-04-15T08:38:03.0054456Z
PASS test/ExpressionExtensions/GenericExtensions.test.ts
Data Transformation Functions
Genric Data Transformation Functions
âœ“ .isEmpty() should work correctly on undefined (31 ms)
2025-04-15T08:38:03.0054893Z
Test Suites: 31 passed, 31 total
Tests:       1121 passed, 1121 total
Snapshots:   0 total
Time:        11.734 s
Ran all test suites.
##[endgroup]
##[group]@n8n/imap:test
cache bypass, force executing f7b9a92ea8bfe464
2025-04-15T08:38:05.2666105Z
> @n8n/imap@0.9.0 test /home/runner/_work/n8n/n8n/packages/@n8n/imap
> jest
2025-04-15T08:38:05.2666622Z
PASS test/PartData.test.ts
PartData
fromData
âœ“ should return an instance of Base64PartData when encoding is BASE64 (2 ms)
âœ“ should return an instance of QuotedPrintablePartData when encoding is QUOTED-PRINTABLE
âœ“ should return an instance of SevenBitPartData when encoding is 7BIT
âœ“ should return an instance of BinaryPartData when encoding is 8BIT or BINARY
âœ“ should return an instance of UuencodedPartData when encoding is UUENCODE (1 ms)
âœ“ should throw an error when encoding is not supported (5 ms)
Base64PartData
âœ“ should correctly decode base64 data
QuotedPrintablePartData
âœ“ should correctly decode quoted-printable data (1 ms)
SevenBitPartData
âœ“ should correctly decode 7bit data
BinaryPartData
âœ“ should correctly decode binary data (7 ms)
UuencodedPartData
âœ“ should correctly decode uuencoded data
2025-04-15T08:38:05.2672207Z
Test Suites: 1 passed, 1 total
Tests:       11 passed, 11 total
Snapshots:   0 total
Time:        1.618 s
Ran all test suites.
##[endgroup]
##[group]@n8n/permissions:test
cache bypass, force executing 0b715e7f3d90e2cd
2025-04-15T08:38:07.4832975Z
> @n8n/permissions@0.21.0 test /home/runner/_work/n8n/n8n/packages/@n8n/permissions
> jest
2025-04-15T08:38:07.4833799Z
PASS test/hasScope.test.ts
hasScope
âœ“ should work with a single permission on both modes with only global scopes (4 ms)
âœ“ should work with oneOf mode
âœ“ should work with allOf mode (1 ms)
hasScope masking
âœ“ should return true without mask when scopes present
âœ“ should return false without mask when scopes are not present
âœ“ should return false when mask does not include scope but scopes list does contain required scope
âœ“ should return true when mask does include scope and scope list includes scope
âœ“ should return true when mask does include scope and scopes list includes scope on multiple levels
âœ“ should not mask out global scopes
âœ“ should return false when scope is not in mask or scope list
âœ“ should return false when scope is in mask or not scope list
2025-04-15T08:38:07.4841033Z
Test Suites: 1 passed, 1 total
Tests:       11 passed, 11 total
Snapshots:   0 total
Time:        1.548 s
Ran all test suites.
##[endgroup]
##[group]@n8n/task-runner:test
cache bypass, force executing a298d5de6ac02d43
2025-04-15T08:38:14.0375388Z
> @n8n/task-runner@1.26.0 test /home/runner/_work/n8n/n8n/packages/@n8n/task-runner
> jest
2025-04-15T08:38:14.0377002Z
PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser-state.test.ts
BuiltInsParserState
toDataRequestParams
âœ“ should return empty array when no properties are marked as needed (5 ms)
âœ“ should return all nodes and input when markNeedsAllNodes is called
âœ“ should return specific node names when nodes are marked as needed individually (1 ms)
âœ“ should ignore individual nodes when needsAllNodes is marked as true (1 ms)
âœ“ should mark env as needed when markEnvAsNeeded is called
âœ“ should mark input as needed when markInputAsNeeded is called
âœ“ should use the given chunk (1 ms)
âœ“ should mark prevNode as needed when markPrevNodeAsNeeded is called
âœ“ should return correct specification when multiple properties are marked as needed (1 ms)
âœ“ should return correct specification when all properties are marked as needed
2025-04-15T08:38:14.0384061Z
PASS src/__tests__/task-runner-sentry.test.ts
TaskRunnerSentry
filterOutUserCodeErrors
âœ“ should filter out user code errors (6 ms)
initIfEnabled
âœ“ should not configure sentry if dsn is not set (1 ms)
âœ“ should configure sentry if dsn is set (2 ms)
shutdown
âœ“ should not shutdown sentry if dsn is not set
âœ“ should shutdown sentry if dsn is set
2025-04-15T08:38:14.0387275Z
PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser.test.ts
BuiltInsParser
Env, input, execution and prevNode
âœ“ should identify built-ins in '$env' (6 ms)
âœ“ should identify built-ins in '$execution' (1 ms)
âœ“ should identify built-ins in '$prevNode' (1 ms)
Input
âœ“ should mark input as needed when $input is used (2 ms)
âœ“ should mark input as needed when $json is used (1 ms)
âœ“ should mark input as needed when items is used (1 ms)
âœ“ should mark input as needed when item is used
$(...)
âœ“ should identify nodes in '$("nodeName").first()' (1 ms)
âœ“ should identify nodes in '$("nodeName").all(); $("secondNode").matchingItem()' (1 ms)
âœ“ should need all nodes when $() is called with a variable
âœ“ should require all nodes when there are multiple usages of $() and one is with a variable
âœ“ should ignore when $ is called without parameters (1 ms)
âœ“ should ignore when $ is called number literal
âœ“ should require all nodes if $("node").item is used (1 ms)
âœ“ should require all nodes if $("node")["item"] is used
âœ“ should require all nodes if $("node").pairedItem() is used (1 ms)
âœ“ should require all nodes if $("node")["pairedItem"]() is used
âœ“ should require all nodes if $("node").itemMatching(0) is used (1 ms)
âœ“ should require all nodes if $("node")["itemMatching"](0) is used
âœ“ should require all nodes if $("node")[variable] is used (1 ms)
âœ“ should require all nodes if var a = $("node") is used
âœ“ should require all nodes if let a = $("node") is used
âœ“ should require all nodes if const a = $("node") is used
âœ“ should require all nodes if a = $("node") is used
âœ“ should require only accessed node if $("node").first() is used (4 ms)
âœ“ should require only accessed node if $("node").last() is used (1 ms)
âœ“ should require only accessed node if $("node").all() is used
âœ“ should require only accessed node if $("node").params is used
$items(...)
âœ“ should mark input as needed when $items() is used without arguments (1 ms)
âœ“ should require the given node when $items() is used with a static value
âœ“ should require all nodes when $items() is used with a variable
$node
âœ“ should require all nodes when $node is used
$item
âœ“ should require all nodes and input when $item is used
ECMAScript syntax
ES2020
âœ“ should parse optional chaining
âœ“ should parse nullish coalescing
ES2021
âœ“ should parse numeric separators (1 ms)
WorkflowDataProxy built-ins
âœ“ should have a known list of built-ins (13 ms)
2025-04-15T08:38:14.0408195Z
PASS src/js-task-runner/__tests__/task-runner.test.ts
TestRunner
constructor
âœ“ should correctly construct WebSocket URI with provided taskBrokerUri (14 ms)
âœ“ should handle different taskBrokerUri formats correctly (1 ms)
âœ“ should throw an error if taskBrokerUri is invalid (11 ms)
sendOffers
âœ“ should not send offers if canSendOffers is false (2 ms)
âœ“ should enable sending of offer on runnerregistered message (1 ms)
âœ“ should send maxConcurrency offers when there are no offers (2 ms)
âœ“ should send up to maxConcurrency offers when there is a running task (1 ms)
âœ“ should delete stale offers and send new ones (2 ms)
taskCancelled
âœ“ should not do anything if task status is aborting:cancelled (1 ms)
âœ“ should not do anything if task status is aborting:timeout (1 ms)
âœ“ should delete task if task is waiting for settings when task is cancelled (1 ms)
âœ“ should reject pending requests when task is cancelled (1 ms)
taskTimedOut
âœ“ should error task if task is waiting for settings (1 ms)
âœ“ should reject pending requests when task is running (6 ms)
2025-04-15T08:38:14.0416901Z
PASS src/js-task-runner/__tests__/result-validation.test.ts
result validation
validateRunForAllItemsOutput
âœ“ should throw an error if the output is not an object (16 ms)
âœ“ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
âœ“ should not throw an error if the output is an array and all items are json wrapped
âœ“ should not throw an error if the output item has binary key in addition to json (1 ms)
âœ“ should not throw an error if the output item has pairedItem key in addition to json
âœ“ should not throw an error if the output item has error key in addition to json
âœ“ should not throw an error if the output item has index key in addition to json (1 ms)
âœ“ should not throw an error if the output is an array and all items are not json wrapped
âœ“ should throw if json is not an object (1 ms)
validateRunForEachItemOutput
âœ“ should throw an error if the output is not an object (1 ms)
âœ“ should throw an error if the output is an array (6 ms)
âœ“ should throw if json is not an object (1 ms)
âœ“ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
âœ“ should not throw an error if the output item has binary key in addition to json
âœ“ should not throw an error if the output item has pairedItem key in addition to json (1 ms)
âœ“ should not throw an error if the output item has error key in addition to json
2025-04-15T08:38:14.0428772Z
PASS src/data-request/__tests__/data-request-response-reconstruct.test.ts
DataRequestResponseReconstruct
reconstructConnectionInputItems
âœ“ should return all input items if no chunk is provided (5 ms)
âœ“ should reconstruct sparse array when chunk is provided (1 ms)
âœ“ should handle empty input data gracefully
reconstructExecuteData
âœ“ should reconstruct execute data with the provided input items (1 ms)
âœ“ should handle empty input items gracefully (1 ms)
2025-04-15T08:38:14.0432988Z
PASS src/__tests__/node-types.test.ts
TaskRunnerNodeTypes
getByNameAndVersion
âœ“ should return undefined if not found (5 ms)
âœ“ should return highest versioned node type if no version is given (2 ms)
âœ“ should return specified version for split version (1 ms)
âœ“ should return undefined on unknown version (1 ms)
âœ“ should return specified version for multi version (5 ms)
âœ“ should default to DEFAULT_NODETYPE_VERSION if no version specified (1 ms)
addNodeTypeDescriptions
âœ“ should add new node types (2 ms)
onlyUnknown
âœ“ should return only unknown node types (1 ms)
2025-04-15T08:38:14.0438407Z
PASS src/js-task-runner/errors/__tests__/execution-error.test.ts
ExecutionError
âœ“ should parse error details from stack trace without itemIndex (10 ms)
âœ“ should parse error details from stack trace with itemIndex (1 ms)
âœ“ should serialize correctly (1 ms)
2025-04-15T08:38:14.0440800Z
PASS src/js-task-runner/__tests__/require-resolver.test.ts
require resolver
built-in modules
âœ“ should allow requiring whitelisted built-in modules (7 ms)
âœ“ should throw when requiring non-whitelisted built-in modules (18 ms)
âœ“ should allow all built-in modules when allowedBuiltInModules is "*" (1 ms)
external modules
âœ“ should allow requiring whitelisted external modules (1 ms)
âœ“ should throw when requiring non-whitelisted external modules (3 ms)
âœ“ should allow all external modules when allowedExternalModules is "*" (107 ms)
error handling
âœ“ should wrap ApplicationError in ExecutionError (2 ms)
âœ“ should include the module name in the error message (1 ms)
2025-04-15T08:38:14.0446567Z
(node:4514) [DEP0125] DeprecationWarning: The _stream_wrap module is deprecated.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:4514) [DEP0025] DeprecationWarning: sys is deprecated. Use util instead.
(node:4514) ExperimentalWarning: WASI is an experimental feature and might change at any time
PASS src/js-task-runner/__tests__/js-task-runner.test.ts
JsTaskRunner
console
âœ“ should make an rpc call for console log in runOnceForAllItems mode (51 ms)
âœ“ should make an rpc call for console log in runOnceForEachItem mode (7 ms)
âœ“ should not throw when using unsupported console methods (5 ms)
âœ“ should not throw when trying to log the context object (3 ms)
âœ“ should log the context object as [[ExecutionContext]] (2 ms)
built-in methods and variables available in the context
âœ“ should allow access to Node.js Buffers (3 ms)
current node input runOnceForAllItems
âœ“ should have the $input.first() available in the context (3 ms)
âœ“ should have the $input.last() available in the context (3 ms)
âœ“ should have the $input.params available in the context (3 ms)
current node input runOnceForEachItem
âœ“ should have the $input.first() available in the context (3 ms)
âœ“ should have the $input.last() available in the context (3 ms)
âœ“ should have the $input.params available in the context (3 ms)
output of other nodes runOnceForAllItems
âœ“ should have the $("Trigger").first() available in the context (7 ms)
âœ“ should have the $("Trigger").last() available in the context (4 ms)
âœ“ should have the $("Trigger").params available in the context (2 ms)
output of other nodes runOnceForEachItem
âœ“ should have the $("Trigger").first() available in the context (3 ms)
âœ“ should have the $("Trigger").last() available in the context (2 ms)
âœ“ should have the $("Trigger").params available in the context (2 ms)
date and time runOnceForAllItems
âœ“ should have the $now available in the context (2 ms)
âœ“ should have the $today available in the context (1 ms)
âœ“ should have the {dt: DateTime} available in the context (2 ms)
date and time runOnceForEachItem
âœ“ should have the $now available in the context (2 ms)
âœ“ should have the $today available in the context (4 ms)
âœ“ should have the {dt: DateTime} available in the context (3 ms)
JMESPath runOnceForAllItems
âœ“ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (3 ms)
JMESPath runOnceForEachItem
âœ“ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (3 ms)
n8n metadata runOnceForAllItems
âœ“ should have the $execution available in the context (3 ms)
âœ“ should have the $("Trigger").isExecuted available in the context (3 ms)
âœ“ should have the $nodeVersion available in the context (2 ms)
âœ“ should have the $prevNode.name available in the context (3 ms)
âœ“ should have the $prevNode.outputIndex available in the context (5 ms)
âœ“ should have the $runIndex available in the context (4 ms)
âœ“ should have the { wf: $workflow } available in the context (2 ms)
âœ“ should have the $vars available in the context (2 ms)
âœ“ should have the $getWorkflowStaticData("global") available in the context (1 ms)
n8n metadata runOnceForEachItem
âœ“ should have the $execution available in the context (3 ms)
âœ“ should have the $("Trigger").isExecuted available in the context (2 ms)
âœ“ should have the $nodeVersion available in the context (2 ms)
âœ“ should have the $prevNode.name available in the context (2 ms)
âœ“ should have the $prevNode.outputIndex available in the context (2 ms)
âœ“ should have the $runIndex available in the context (2 ms)
âœ“ should have the { wf: $workflow } available in the context (2 ms)
âœ“ should have the $vars available in the context (2 ms)
âœ“ should have the $getWorkflowStaticData("global") available in the context (1 ms)
Node.js internal functions runOnceForAllItems
âœ“ should have the typeof Function available in the context (2 ms)
âœ“ should have the typeof eval available in the context (2 ms)
âœ“ should have the typeof setTimeout available in the context (2 ms)
âœ“ should have the typeof setInterval available in the context (1 ms)
âœ“ should have the typeof setImmediate available in the context (3 ms)
âœ“ should have the typeof clearTimeout available in the context (8 ms)
âœ“ should have the typeof clearInterval available in the context (2 ms)
âœ“ should have the typeof clearImmediate available in the context (2 ms)
Node.js internal functions runOnceForEachItem
âœ“ should have the typeof Function available in the context (2 ms)
âœ“ should have the typeof eval available in the context (1 ms)
âœ“ should have the typeof setTimeout available in the context (1 ms)
âœ“ should have the typeof setInterval available in the context (1 ms)
âœ“ should have the typeof setImmediate available in the context (4 ms)
âœ“ should have the typeof clearTimeout available in the context (1 ms)
âœ“ should have the typeof clearInterval available in the context (2 ms)
âœ“ should have the typeof clearImmediate available in the context (6 ms)
eval runOnceForAllItems
âœ“ should have the eval("1+2") available in the context (2 ms)
eval runOnceForEachItem
âœ“ should have the eval("1+2") available in the context (3 ms)
JS built-ins runOnceForAllItems
âœ“ should have the typeof btoa available in the context (10 ms)
âœ“ should have the typeof atob available in the context (3 ms)
âœ“ should have the typeof TextDecoder available in the context (2 ms)
âœ“ should have the typeof TextDecoderStream available in the context (5 ms)
âœ“ should have the typeof TextEncoder available in the context (2 ms)
âœ“ should have the typeof TextEncoderStream available in the context (2 ms)
âœ“ should have the typeof FormData available in the context (2 ms)
JS built-ins runOnceForEachItem
âœ“ should have the typeof btoa available in the context (6 ms)
âœ“ should have the typeof atob available in the context (2 ms)
âœ“ should have the typeof TextDecoder available in the context (2 ms)
âœ“ should have the typeof TextDecoderStream available in the context (1 ms)
âœ“ should have the typeof TextEncoder available in the context (5 ms)
âœ“ should have the typeof TextEncoderStream available in the context (3 ms)
âœ“ should have the typeof FormData available in the context (12 ms)
$env
âœ“ should have the env available in context when access has not been blocked (10 ms)
âœ“ should be possible to access env if it has been blocked (48 ms)
âœ“ should not be possible to iterate $env (2 ms)
âœ“ should not expose task runner's env variables even if no env state is received (2 ms)
timezone
âœ“ should use the specified timezone in the workflow (3 ms)
âœ“ should use the default timezone (2 ms)
$getWorkflowStaticData('global')
âœ“ should have the global workflow static data available in runOnceForAllItems (2 ms)
âœ“ should have the global workflow static data available in runOnceForEachItem (2 ms)
âœ“ does not return static data if it hasn't been modified in runOnceForAllItems (3 ms)
âœ“ does not return static data if it hasn't been modified in runOnceForEachItem (2 ms)
âœ“ returns the updated static data in runOnceForAllItems (2 ms)
âœ“ returns the updated static data in runOnceForEachItem (2 ms)
$getWorkflowStaticData('node')
âœ“ should have the node workflow static data available in runOnceForAllItems (2 ms)
âœ“ should have the node workflow static data available in runOnceForEachItem (2 ms)
âœ“ does not return static data if it hasn't been modified in runOnceForAllItems (1 ms)
âœ“ does not return static data if it hasn't been modified in runOnceForEachItem (1 ms)
âœ“ returns the updated static data in runOnceForAllItems (2 ms)
âœ“ returns the updated static data in runOnceForEachItem (3 ms)
helpers
âœ“ helpers.assertBinaryData for runOnceForAllItems (2 ms)
âœ“ helpers.assertBinaryData for runOnceForEachItem (2 ms)
âœ“ helpers.getBinaryDataBuffer for runOnceForAllItems (2 ms)
âœ“ helpers.getBinaryDataBuffer for runOnceForEachItem (2 ms)
âœ“ helpers.prepareBinaryData for runOnceForAllItems (2 ms)
âœ“ helpers.prepareBinaryData for runOnceForEachItem (2 ms)
âœ“ helpers.setBinaryDataBuffer for runOnceForAllItems (15 ms)
âœ“ helpers.setBinaryDataBuffer for runOnceForEachItem (3 ms)
âœ“ helpers.binaryToString for runOnceForAllItems (1 ms)
âœ“ helpers.binaryToString for runOnceForEachItem (2 ms)
âœ“ helpers.httpRequest for runOnceForAllItems (2 ms)
âœ“ helpers.httpRequest for runOnceForEachItem (2 ms)
unsupported methods
âœ“ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForAllItems (3 ms)
âœ“ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.copyBinaryFile is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.copyBinaryFile is used in runOnceForEachItem (3 ms)
âœ“ should throw an error if helpers.createReadStream is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.createReadStream is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.getBinaryStream is used in runOnceForAllItems (20 ms)
âœ“ should throw an error if helpers.getBinaryStream is used in runOnceForEachItem (3 ms)
âœ“ should throw an error if helpers.binaryToBuffer is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.binaryToBuffer is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.getBinaryMetadata is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.getBinaryMetadata is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.getStoragePath is used in runOnceForAllItems (1 ms)
âœ“ should throw an error if helpers.getStoragePath is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.getBinaryPath is used in runOnceForAllItems (10 ms)
âœ“ should throw an error if helpers.getBinaryPath is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.writeContentToFile is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.writeContentToFile is used in runOnceForEachItem (3 ms)
âœ“ should throw an error if helpers.copyInputItems is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.copyInputItems is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.returnJsonArray is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.returnJsonArray is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.normalizeItems is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.normalizeItems is used in runOnceForEachItem (2 ms)
âœ“ should throw an error if helpers.getSSHClient is used in runOnceForAllItems (1 ms)
âœ“ should throw an error if helpers.getSSHClient is used in runOnceForEachItem (1 ms)
âœ“ should throw an error if helpers.createDeferredPromise is used in runOnceForAllItems (1 ms)
âœ“ should throw an error if helpers.createDeferredPromise is used in runOnceForEachItem (3 ms)
âœ“ should throw an error if helpers.constructExecutionMetaData is used in runOnceForAllItems (2 ms)
âœ“ should throw an error if helpers.constructExecutionMetaData is used in runOnceForEachItem (2 ms)
runOnceForAllItems
âœ“ should return static items (2 ms)
âœ“ maps null into an empty array (2 ms)
âœ“ should wrap items into json if they aren't (2 ms)
âœ“ should wrap single item into an array and json (1 ms)
âœ“ should have all input items in the context as items (2 ms)
âœ“ should have all input items in the context as $input.all() (3 ms)
âœ“ should have all input items in the context as $('Trigger').all() (2 ms)
âœ“ should have all input items in the context as $items() (3 ms)
continue on fail
âœ“ should return an item with the error if continueOnFail is true (7 ms)
âœ“ should throw an error if continueOnFail is false (5 ms)
invalid output
âœ“ should throw a ValidationError if the code output is undefined (5 ms)
âœ“ should throw a ValidationError if the code output is 42 (3 ms)
âœ“ should throw a ValidationError if the code output is "a string" (2 ms)
âœ“ should throw a ValidationError if some items are wrapped in json and some are not (4 ms)
runForEachItem
âœ“ should return static items (2 ms)
âœ“ should filter out null values (4 ms)
âœ“ should have the current input item in the context as item (3 ms)
âœ“ should have the current input item in the context as $input.item (3 ms)
âœ“ should have the current input item in the context as { json: $json } (3 ms)
continue on fail
âœ“ should return an item with the error if continueOnFail is true (4 ms)
âœ“ should throw an error if continueOnFail is false (3 ms)
invalid output
âœ“ should throw a ValidationError if the code output is undefined (1 ms)
âœ“ should throw a ValidationError if the code output is 42 (8 ms)
âœ“ should throw a ValidationError if the code output is "a string" (3 ms)
âœ“ should throw a ValidationError if the code output is [] (3 ms)
âœ“ should throw a ValidationError if the code output is [1,2,3] (2 ms)
chunked execution
âœ“ should use correct index for each item (5 ms)
require
blocked by default
âœ“ should throw an error when requiring _http_agent in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring _http_client in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _http_common in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _http_incoming in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _http_outgoing in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring _http_server in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _stream_duplex in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _stream_passthrough in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _stream_readable in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring _stream_transform in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _stream_wrap in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring _stream_writable in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring _tls_common in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring _tls_wrap in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring assert in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring assert/strict in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring async_hooks in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring buffer in runOnceForAllItems mode (5 ms)
âœ“ should throw an error when requiring child_process in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring cluster in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring console in runOnceForAllItems mode (11 ms)
âœ“ should throw an error when requiring constants in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring crypto in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring dgram in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring diagnostics_channel in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring dns in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring dns/promises in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring domain in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring events in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring fs in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring fs/promises in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring http in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring http2 in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring https in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring inspector in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring inspector/promises in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring module in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring net in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring os in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring path in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring path/posix in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring path/win32 in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring perf_hooks in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring process in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring punycode in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring querystring in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring readline in runOnceForAllItems mode (9 ms)
âœ“ should throw an error when requiring readline/promises in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring repl in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring stream in runOnceForAllItems mode (7 ms)
âœ“ should throw an error when requiring stream/consumers in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring stream/promises in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring stream/web in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring string_decoder in runOnceForAllItems mode (4 ms)
âœ“ should throw an error when requiring sys in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring timers in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring timers/promises in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring tls in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring trace_events in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring tty in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring url in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring util in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring util/types in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring v8 in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring vm in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring wasi in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring worker_threads in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring zlib in runOnceForAllItems mode (22 ms)
âœ“ should throw an error when requiring @n8n/config in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring @n8n/di in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring @sentry/node in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring acorn in runOnceForAllItems mode (10 ms)
âœ“ should throw an error when requiring acorn-walk in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring lodash in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring luxon in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring n8n-core in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring n8n-workflow in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring nanoid in runOnceForAllItems mode (3 ms)
âœ“ should throw an error when requiring ws in runOnceForAllItems mode (2 ms)
âœ“ should throw an error when requiring _http_agent in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _http_client in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _http_common in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _http_incoming in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring _http_outgoing in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring _http_server in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _stream_duplex in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring _stream_passthrough in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _stream_readable in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring _stream_transform in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _stream_wrap in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _stream_writable in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _tls_common in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring _tls_wrap in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring assert in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring assert/strict in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring async_hooks in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring buffer in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring child_process in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring cluster in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring console in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring constants in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring crypto in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring dgram in runOnceForEachItem mode (6 ms)
âœ“ should throw an error when requiring diagnostics_channel in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring dns in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring dns/promises in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring domain in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring events in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring fs in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring fs/promises in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring http in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring http2 in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring https in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring inspector in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring inspector/promises in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring module in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring net in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring os in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring path in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring path/posix in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring path/win32 in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring perf_hooks in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring process in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring punycode in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring querystring in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring readline in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring readline/promises in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring repl in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring stream in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring stream/consumers in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring stream/promises in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring stream/web in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring string_decoder in runOnceForEachItem mode (7 ms)
âœ“ should throw an error when requiring sys in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring timers in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring timers/promises in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring tls in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring trace_events in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring tty in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring url in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring util in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring util/types in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring v8 in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring vm in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring wasi in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring worker_threads in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring zlib in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring @n8n/config in runOnceForEachItem mode (3 ms)
âœ“ should throw an error when requiring @n8n/di in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring @sentry/node in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring acorn in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring acorn-walk in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring lodash in runOnceForEachItem mode (1 ms)
âœ“ should throw an error when requiring luxon in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring n8n-core in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring n8n-workflow in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring nanoid in runOnceForEachItem mode (2 ms)
âœ“ should throw an error when requiring ws in runOnceForEachItem mode (2 ms)
all built-ins allowed with *
âœ“ should be able to require _http_agent in runOnceForAllItems mode (2 ms)
âœ“ should be able to require _http_client in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _http_common in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _http_incoming in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _http_outgoing in runOnceForAllItems mode (2 ms)
âœ“ should be able to require _http_server in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _stream_duplex in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _stream_passthrough in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _stream_readable in runOnceForAllItems mode (2 ms)
âœ“ should be able to require _stream_transform in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _stream_wrap in runOnceForAllItems mode (6 ms)
âœ“ should be able to require _stream_writable in runOnceForAllItems mode (3 ms)
âœ“ should be able to require _tls_common in runOnceForAllItems mode (3 ms)
âœ“ should be able to require _tls_wrap in runOnceForAllItems mode (2 ms)
âœ“ should be able to require assert in runOnceForAllItems mode (2 ms)
âœ“ should be able to require assert/strict in runOnceForAllItems mode (2 ms)
âœ“ should be able to require async_hooks in runOnceForAllItems mode (1 ms)
âœ“ should be able to require buffer in runOnceForAllItems mode (2 ms)
âœ“ should be able to require child_process in runOnceForAllItems mode (2 ms)
âœ“ should be able to require cluster in runOnceForAllItems mode (2 ms)
âœ“ should be able to require console in runOnceForAllItems mode (2 ms)
âœ“ should be able to require constants in runOnceForAllItems mode (1 ms)
âœ“ should be able to require crypto in runOnceForAllItems mode (2 ms)
âœ“ should be able to require dgram in runOnceForAllItems mode (1 ms)
âœ“ should be able to require diagnostics_channel in runOnceForAllItems mode (2 ms)
âœ“ should be able to require dns in runOnceForAllItems mode (1 ms)
âœ“ should be able to require dns/promises in runOnceForAllItems mode (2 ms)
âœ“ should be able to require domain in runOnceForAllItems mode (4 ms)
âœ“ should be able to require events in runOnceForAllItems mode (2 ms)
âœ“ should be able to require fs in runOnceForAllItems mode (2 ms)
âœ“ should be able to require fs/promises in runOnceForAllItems mode (2 ms)
âœ“ should be able to require http in runOnceForAllItems mode (2 ms)
âœ“ should be able to require http2 in runOnceForAllItems mode (2 ms)
âœ“ should be able to require https in runOnceForAllItems mode (1 ms)
âœ“ should be able to require inspector in runOnceForAllItems mode (1 ms)
âœ“ should be able to require inspector/promises in runOnceForAllItems mode (3 ms)
âœ“ should be able to require module in runOnceForAllItems mode (2 ms)
âœ“ should be able to require net in runOnceForAllItems mode (2 ms)
âœ“ should be able to require os in runOnceForAllItems mode (2 ms)
âœ“ should be able to require path in runOnceForAllItems mode (1 ms)
âœ“ should be able to require path/posix in runOnceForAllItems mode (2 ms)
âœ“ should be able to require path/win32 in runOnceForAllItems mode (1 ms)
âœ“ should be able to require perf_hooks in runOnceForAllItems mode (1 ms)
âœ“ should be able to require process in runOnceForAllItems mode (2 ms)
âœ“ should be able to require punycode in runOnceForAllItems mode (1 ms)
âœ“ should be able to require querystring in runOnceForAllItems mode (2 ms)
âœ“ should be able to require readline in runOnceForAllItems mode (1 ms)
âœ“ should be able to require readline/promises in runOnceForAllItems mode (2 ms)
âœ“ should be able to require repl in runOnceForAllItems mode (7 ms)
âœ“ should be able to require stream in runOnceForAllItems mode (3 ms)
âœ“ should be able to require stream/consumers in runOnceForAllItems mode (2 ms)
âœ“ should be able to require stream/promises in runOnceForAllItems mode (2 ms)
âœ“ should be able to require stream/web in runOnceForAllItems mode (2 ms)
âœ“ should be able to require string_decoder in runOnceForAllItems mode (2 ms)
âœ“ should be able to require sys in runOnceForAllItems mode (2 ms)
âœ“ should be able to require timers in runOnceForAllItems mode (2 ms)
âœ“ should be able to require timers/promises in runOnceForAllItems mode (2 ms)
âœ“ should be able to require tls in runOnceForAllItems mode (1 ms)
âœ“ should be able to require trace_events in runOnceForAllItems mode (2 ms)
âœ“ should be able to require tty in runOnceForAllItems mode (2 ms)
âœ“ should be able to require url in runOnceForAllItems mode (2 ms)
âœ“ should be able to require util in runOnceForAllItems mode (2 ms)
âœ“ should be able to require util/types in runOnceForAllItems mode (2 ms)
âœ“ should be able to require v8 in runOnceForAllItems mode (2 ms)
âœ“ should be able to require vm in runOnceForAllItems mode (1 ms)
âœ“ should be able to require wasi in runOnceForAllItems mode (2 ms)
âœ“ should be able to require worker_threads in runOnceForAllItems mode (2 ms)
âœ“ should be able to require zlib in runOnceForAllItems mode (1 ms)
âœ“ should be able to require _http_agent in runOnceForEachItem mode (3 ms)
âœ“ should be able to require _http_client in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _http_common in runOnceForEachItem mode (7 ms)
âœ“ should be able to require _http_incoming in runOnceForEachItem mode (3 ms)
âœ“ should be able to require _http_outgoing in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _http_server in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _stream_duplex in runOnceForEachItem mode (3 ms)
âœ“ should be able to require _stream_passthrough in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _stream_readable in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _stream_transform in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _stream_wrap in runOnceForEachItem mode (1 ms)
âœ“ should be able to require _stream_writable in runOnceForEachItem mode (1 ms)
âœ“ should be able to require _tls_common in runOnceForEachItem mode (2 ms)
âœ“ should be able to require _tls_wrap in runOnceForEachItem mode (1 ms)
âœ“ should be able to require assert in runOnceForEachItem mode (1 ms)
âœ“ should be able to require assert/strict in runOnceForEachItem mode (1 ms)
âœ“ should be able to require async_hooks in runOnceForEachItem mode (2 ms)
âœ“ should be able to require buffer in runOnceForEachItem mode (2 ms)
âœ“ should be able to require child_process in runOnceForEachItem mode (2 ms)
âœ“ should be able to require cluster in runOnceForEachItem mode (2 ms)
âœ“ should be able to require console in runOnceForEachItem mode (2 ms)
âœ“ should be able to require constants in runOnceForEachItem mode (1 ms)
âœ“ should be able to require crypto in runOnceForEachItem mode (1 ms)
âœ“ should be able to require dgram in runOnceForEachItem mode (1 ms)
âœ“ should be able to require diagnostics_channel in runOnceForEachItem mode (1 ms)
âœ“ should be able to require dns in runOnceForEachItem mode (1 ms)
âœ“ should be able to require dns/promises in runOnceForEachItem mode (1 ms)
âœ“ should be able to require domain in runOnceForEachItem mode (1 ms)
âœ“ should be able to require events in runOnceForEachItem mode (2 ms)
âœ“ should be able to require fs in runOnceForEachItem mode (1 ms)
âœ“ should be able to require fs/promises in runOnceForEachItem mode (1 ms)
âœ“ should be able to require http in runOnceForEachItem mode (1 ms)
âœ“ should be able to require http2 in runOnceForEachItem mode (1 ms)
âœ“ should be able to require https in runOnceForEachItem mode (1 ms)
âœ“ should be able to require inspector in runOnceForEachItem mode (1 ms)
âœ“ should be able to require inspector/promises in runOnceForEachItem mode (1 ms)
âœ“ should be able to require module in runOnceForEachItem mode (1 ms)
âœ“ should be able to require net in runOnceForEachItem mode (1 ms)
âœ“ should be able to require os in runOnceForEachItem mode (1 ms)
âœ“ should be able to require path in runOnceForEachItem mode (1 ms)
âœ“ should be able to require path/posix in runOnceForEachItem mode (1 ms)
âœ“ should be able to require path/win32 in runOnceForEachItem mode (1 ms)
âœ“ should be able to require perf_hooks in runOnceForEachItem mode (1 ms)
âœ“ should be able to require process in runOnceForEachItem mode (1 ms)
âœ“ should be able to require punycode in runOnceForEachItem mode (1 ms)
âœ“ should be able to require querystring in runOnceForEachItem mode (1 ms)
âœ“ should be able to require readline in runOnceForEachItem mode (1 ms)
âœ“ should be able to require readline/promises in runOnceForEachItem mode (1 ms)
âœ“ should be able to require repl in runOnceForEachItem mode (1 ms)
âœ“ should be able to require stream in runOnceForEachItem mode (1 ms)
âœ“ should be able to require stream/consumers in runOnceForEachItem mode (1 ms)
âœ“ should be able to require stream/promises in runOnceForEachItem mode (1 ms)
âœ“ should be able to require stream/web in runOnceForEachItem mode (1 ms)
âœ“ should be able to require string_decoder in runOnceForEachItem mode (1 ms)
âœ“ should be able to require sys in runOnceForEachItem mode (2 ms)
âœ“ should be able to require timers in runOnceForEachItem mode (1 ms)
âœ“ should be able to require timers/promises in runOnceForEachItem mode (1 ms)
âœ“ should be able to require tls in runOnceForEachItem mode (2 ms)
âœ“ should be able to require trace_events in runOnceForEachItem mode (3 ms)
âœ“ should be able to require tty in runOnceForEachItem mode (3 ms)
âœ“ should be able to require url in runOnceForEachItem mode (9 ms)
âœ“ should be able to require util in runOnceForEachItem mode (3 ms)
âœ“ should be able to require util/types in runOnceForEachItem mode (3 ms)
âœ“ should be able to require v8 in runOnceForEachItem mode (3 ms)
âœ“ should be able to require vm in runOnceForEachItem mode (3 ms)
âœ“ should be able to require wasi in runOnceForEachItem mode (2 ms)
âœ“ should be able to require worker_threads in runOnceForEachItem mode (3 ms)
âœ“ should be able to require zlib in runOnceForEachItem mode (2 ms)
all external modules allowed with *
âœ“ should be able to require @n8n/config in runOnceForAllItems mode (4 ms)
âœ“ should be able to require @n8n/di in runOnceForAllItems mode (3 ms)
âœ“ should be able to require @sentry/node in runOnceForAllItems mode (3 ms)
âœ“ should be able to require acorn in runOnceForAllItems mode (3 ms)
âœ“ should be able to require acorn-walk in runOnceForAllItems mode (3 ms)
âœ“ should be able to require lodash in runOnceForAllItems mode (51 ms)
âœ“ should be able to require luxon in runOnceForAllItems mode (3 ms)
âœ“ should be able to require n8n-core in runOnceForAllItems mode (2 ms)
âœ“ should be able to require n8n-workflow in runOnceForAllItems mode (2 ms)
âœ“ should be able to require nanoid in runOnceForAllItems mode (2 ms)
âœ“ should be able to require ws in runOnceForAllItems mode (2 ms)
âœ“ should be able to require @n8n/config in runOnceForEachItem mode (2 ms)
âœ“ should be able to require @n8n/di in runOnceForEachItem mode (2 ms)
âœ“ should be able to require @sentry/node in runOnceForEachItem mode (1 ms)
âœ“ should be able to require acorn in runOnceForEachItem mode (2 ms)
âœ“ should be able to require acorn-walk in runOnceForEachItem mode (1 ms)
âœ“ should be able to require lodash in runOnceForEachItem mode (1 ms)
âœ“ should be able to require luxon in runOnceForEachItem mode (1 ms)
âœ“ should be able to require n8n-core in runOnceForEachItem mode (1 ms)
âœ“ should be able to require n8n-workflow in runOnceForEachItem mode (1 ms)
âœ“ should be able to require nanoid in runOnceForEachItem mode (1 ms)
âœ“ should be able to require ws in runOnceForEachItem mode (1 ms)
specifically allowed built-in modules
âœ“ should allow requiring crypto in runOnceForAllItems mode (1 ms)
âœ“ should allow requiring path in runOnceForAllItems mode (1 ms)
âœ“ should allow requiring crypto in runOnceForEachItem mode (2 ms)
âœ“ should allow requiring path in runOnceForEachItem mode (1 ms)
âœ“ should throw when trying to require http in runOnceForAllItems mode (4 ms)
âœ“ should throw when trying to require process in runOnceForAllItems mode (3 ms)
âœ“ should throw when trying to require http in runOnceForEachItem mode (3 ms)
âœ“ should throw when trying to require process in runOnceForEachItem mode (2 ms)
specifically allowed external modules
âœ“ should allow requiring nanoid in runOnceForAllItems mode (3 ms)
âœ“ should allow requiring nanoid in runOnceForEachItem mode (2 ms)
âœ“ should throw when trying to require n8n-core in runOnceForAllItems mode (3 ms)
âœ“ should throw when trying to require n8n-core in runOnceForEachItem mode (3 ms)
errors
âœ“ should throw an ExecutionError if the code is invalid in runOnceForAllItems mode (4 ms)
âœ“ should throw an ExecutionError if the code is invalid in runOnceForEachItem mode (1 ms)
âœ“ sends serializes an error correctly (10 ms)
idle timeout
âœ“ should set idle timer when instantiated (3 ms)
âœ“ should reset idle timer when accepting a task (1 ms)
âœ“ should reset idle timer when finishing a task (2 ms)
âœ“ should never reach idle timeout if idle timeout is set to 0 (2 ms)
âœ“ should not reach idle timeout if there are running tasks (1 ms)
prototype pollution prevention
âœ“ Object.setPrototypeOf should no-op for local object (1 ms)
âœ“ Reflect.setPrototypeOf should no-op for local object (2 ms)
âœ“ Object.setPrototypeOf should no-op for incoming object (1 ms)
âœ“ Reflect.setPrototypeOf should no-op for incoming object (2 ms)
âœ“ should freeze luxon prototypes (1 ms)
âœ“ should allow prototype mutation when `allowPrototypeMutation` is true (2 ms)
stack trace
âœ“ should extract correct line number from user-defined function stack trace (5 ms)
2025-04-15T08:38:14.0766486Z
Test Suites: 10 passed, 10 total
Tests:       614 passed, 614 total
Snapshots:   0 total
Time:        5.745 s
Ran all test suites.
##[endgroup]
##[group]@n8n/config:test
cache bypass, force executing 0aaa0103505e73e8
2025-04-15T08:38:16.9950143Z
> @n8n/config@1.36.0 test /home/runner/_work/n8n/n8n/packages/@n8n/config
> jest
2025-04-15T08:38:16.9950853Z
PASS test/custom-types.test.ts
CommaSeparatedStringArray
âœ“ should parse comma-separated string into array (5 ms)
âœ“ should handle empty strings
ColonSeparatedStringArray
âœ“ should parse colon-separated string into array (1 ms)
âœ“ should handle empty strings
2025-04-15T08:38:16.9953546Z
PASS test/decorators.test.ts
decorators
âœ“ should throw when explicit typing is missing (11 ms)
2025-04-15T08:38:16.9954496Z
PASS test/config.test.ts
GlobalConfig
âœ“ should use all default values when no env variables are defined (6 ms)
âœ“ should use values from env variables when defined (2 ms)
âœ“ should read values from files using _FILE env variables (2 ms)
âœ“ should handle invalid numbers (1 ms)
string unions
âœ“ on invalid value, should warn and fall back to default value (1 ms)
2025-04-15T08:38:16.9957409Z
Test Suites: 3 passed, 3 total
Tests:       10 passed, 10 total
Snapshots:   0 total
Time:        1.877 s
Ran all test suites.
##[endgroup]
##[group]n8n:test
cache bypass, force executing c6ef9bbea06db687
2025-04-15T08:41:07.8220833Z
> n8n@1.89.0 test /home/runner/_work/n8n/n8n/packages/cli
> pnpm test:sqlite
2025-04-15T08:41:07.8221601Z
2025-04-15T08:41:07.8221606Z
> n8n@1.89.0 test:sqlite /home/runner/_work/n8n/n8n/packages/cli
> N8N_LOG_LEVEL=silent DB_TYPE=sqlite jest
2025-04-15T08:41:07.8222345Z
PASS src/modules/insights/__tests__/insights.service.test.ts (9.569 s)
workflowExecuteAfterHandler
âœ“ stores events for executions with the status `success` (66 ms)
âœ“ stores events for executions with the status `error` (23 ms)
âœ“ stores events for executions with the status `crashed` (33 ms)
âœ“ does not store events for executions with the status `waiting` (22 ms)
âœ“ does not store events for executions with the status `canceled` (47 ms)
âœ“ does not store events for executions with the status `unknown` (26 ms)
âœ“ does not store events for executions with the status `new` (28 ms)
âœ“ does not store events for executions with the status `running` (26 ms)
âœ“ does not store events for executions with the mode `internal` (14 ms)
âœ“ does not store events for executions with the mode `manual` (24 ms)
âœ“ does not store events for executions with the mode `integrated` (13 ms)
âœ“ stores events for executions with the mode `evaluation` (17 ms)
âœ“ stores events for executions with the mode `error` (30 ms)
âœ“ stores events for executions with the mode `cli` (14 ms)
âœ“ stores events for executions with the mode `retry` (38 ms)
âœ“ stores events for executions with the mode `trigger` (35 ms)
âœ“ stores events for executions with the mode `webhook` (38 ms)
workflowExecuteAfterHandler - cacheMetadata
âœ“ reuses cached metadata for subsequent executions of the same workflow (26 ms)
âœ“ updates cached metadata if workflow details change (28 ms)
workflowExecuteAfterHandler - flushEvents
âœ“ flushes events to the database once buffer is full (94 ms)
âœ“ flushes events to the database after a timeout (44 ms)
âœ“ reschedule flush on flushing end (35 ms)
âœ“ flushes events to the database on shutdown (31 ms)
âœ“ flushes events synchronously while shutting down (19 ms)
âœ“ restore buffer events on flushing error (28 ms)
âœ“ waits for ongoing flush during shutdown (44 ms)
compaction
compactRawToHour
âœ“ compact into 2 rows (82 ms)
âœ“ compact into 3 rows (25 ms)
âœ“ batch compaction split events in hourly insight periods (424 ms)
âœ“ batch compaction split events in hourly insight periods by type and workflow (287 ms)
âœ“ should return the number of compacted events (357 ms)
âœ“ works with data in the compacted table (114 ms)
âœ“ works with data bigger than the batch size (211 ms)
compactionSchedule
âœ“ compaction is running on schedule (7 ms)
compactHourToDay
âœ“ compact into 2 rows (23 ms)
âœ“ compact into 3 rows (43 ms)
âœ“ recent insight periods should not be compacted (24 ms)
compactDayToWeek
âœ“ compact into 2 rows (29 ms)
âœ“ compact into 3 rows (70 ms)
âœ“ recent insight periods should not be compacted (20 ms)
compaction threshold configuration
âœ“ insights by period older than the hourly to daily threshold are not compacted (35 ms)
âœ“ insights by period older than the daily to weekly threshold are not compacted (50 ms)
getInsightsSummary
âœ“ compacted data are summarized correctly (45 ms)
âœ“ no data for previous period should return null deviation (28 ms)
âœ“ mixed period data are summarized correctly (27 ms)
getInsightsByWorkflow
âœ“ compacted data are are grouped by workflow correctly (95 ms)
âœ“ compacted data are grouped by workflow correctly with sorting (49 ms)
âœ“ compacted data are grouped by workflow correctly with pagination (44 ms)
âœ“ compacted data are grouped by workflow correctly even with 0 data (check division by 0) (21 ms)
getInsightsByTime
âœ“ returns empty array when no insights exist (20 ms)
âœ“ returns empty array when no insights in the time range exists (23 ms)
âœ“ compacted data are are grouped by time correctly (64 ms)
2025-04-15T08:41:07.8275225Z
PASS test/integration/public-api/workflows.test.ts (12.343 s)
GET /workflows
âœ“ should fail due to missing API Key (20 ms)
âœ“ should fail due to invalid API Key (7 ms)
âœ“ should return all owned workflows (1240 ms)
âœ“ should return all owned workflows with pagination (49 ms)
âœ“ should return all owned workflows filtered by tag (28 ms)
âœ“ should return all owned workflows filtered by tags (56 ms)
âœ“ for owner, should return all workflows filtered by `projectId` (65 ms)
âœ“ for member, should return all member-accessible workflows filtered by `projectId` (38 ms)
âœ“ should return all owned workflows filtered by name (28 ms)
âœ“ should return all workflows for owner (37 ms)
âœ“ should return all owned workflows without pinned data (45 ms)
GET /workflows/:id
âœ“ should fail due to missing API Key (9 ms)
âœ“ should fail due to invalid API Key (4 ms)
âœ“ should fail due to non-existing workflow (21 ms)
âœ“ should retrieve workflow (21 ms)
âœ“ should retrieve non-owned workflow for owner (24 ms)
âœ“ should retrieve workflow without pinned data (19 ms)
DELETE /workflows/:id
âœ“ should fail due to missing API Key (10 ms)
âœ“ should fail due to invalid API Key (6 ms)
âœ“ should fail due to non-existing workflow (15 ms)
âœ“ should delete the workflow (33 ms)
âœ“ should delete non-owned workflow when owner (24 ms)
POST /workflows/:id/activate
âœ“ should fail due to missing API Key (14 ms)
âœ“ should fail due to invalid API Key (11 ms)
âœ“ should fail due to non-existing workflow (20 ms)
âœ“ should fail due to trying to activate a workflow without any nodes (26 ms)
âœ“ should fail due to trying to activate a workflow without a trigger (44 ms)
âœ“ should set workflow as active (71 ms)
âœ“ should set non-owned workflow as active when owner (72 ms)
POST /workflows/:id/deactivate
âœ“ should fail due to missing API Key (8 ms)
âœ“ should fail due to invalid API Key (6 ms)
âœ“ should fail due to non-existing workflow (16 ms)
âœ“ should deactivate workflow (30 ms)
âœ“ should deactivate non-owned workflow when owner (34 ms)
POST /workflows
âœ“ should fail due to missing API Key (10 ms)
âœ“ should fail due to invalid API Key (18 ms)
âœ“ should fail due to invalid body (30 ms)
âœ“ should create workflow (16 ms)
âœ“ should create workflow history version when licensed (19 ms)
âœ“ should not create workflow history version when not licensed (31 ms)
âœ“ should not add a starting node if the payload has no starting nodes (13 ms)
PUT /workflows/:id
âœ“ should fail due to missing API Key (18 ms)
âœ“ should fail due to invalid API Key (9 ms)
âœ“ should fail due to non-existing workflow (25 ms)
âœ“ should fail due to invalid body (16 ms)
âœ“ should update workflow (30 ms)
âœ“ should create workflow history version when licensed (31 ms)
âœ“ should not create workflow history when not licensed (17 ms)
âœ“ should update non-owned workflow if owner (37 ms)
GET /workflows/:id/tags
âœ“ should fail due to missing API Key (7 ms)
âœ“ should fail due to invalid API Key (4 ms)
âœ“ should fail if N8N_WORKFLOW_TAGS_DISABLED (10 ms)
âœ“ should fail due to non-existing workflow (6 ms)
âœ“ should return all tags of owned workflow (20 ms)
âœ“ should return empty array if workflow does not have tags (21 ms)
PUT /workflows/:id/tags
âœ“ should fail due to missing API Key (15 ms)
âœ“ should fail due to invalid API Key (18 ms)
âœ“ should fail if N8N_WORKFLOW_TAGS_DISABLED (18 ms)
âœ“ should fail due to non-existing workflow (9 ms)
âœ“ should add the tags, workflow have not got tags previously (27 ms)
âœ“ should add the tags, workflow have some tags previously (57 ms)
âœ“ should fail to add the tags as one does not exist, workflow should maintain previous tags (69 ms)
PUT /workflows/:id/transfer
âœ“ should transfer workflow to project (78 ms)
âœ“ if no destination project, should reject (19 ms)
2025-04-15T08:41:07.8301604Z
PASS test/integration/credentials/credentials.api.test.ts (12.487 s)
GET /credentials
âœ“ should return all creds for owner (90 ms)
âœ“ should return only own creds for member (83 ms)
âœ“ should return scopes when ?includeScopes=true (142 ms)
âœ“ should return data when ?includeData=true (82 ms)
âœ“ should return data when ?includeData=true for owners (58 ms)
should return
âœ“ all credentials for owner (71 ms)
âœ“ only own credentials for member (80 ms)
filter
âœ“ should filter credentials by field: name - full match (66 ms)
âœ“ should filter credentials by field: name - partial match (75 ms)
âœ“ should filter credentials by field: type - full match (54 ms)
âœ“ should filter credentials by field: type - partial match (39 ms)
âœ“ should filter credentials by projectId (67 ms)
âœ“ should return homeProject when filtering credentials by projectId (63 ms)
âœ“ should return all credentials in a team project that member is part of (75 ms)
âœ“ should return no credentials in a team project that member not is part of (68 ms)
âœ“ should return only owned and explicitly shared credentials when filtering by any personal project id (76 ms)
âœ“ should not ignore the project filter when the request is done by an owner and also includes the scopes (60 ms)
select
âœ“ should select credential field: id (59 ms)
âœ“ should select credential field: name (61 ms)
âœ“ should select credential field: type (79 ms)
take
âœ“ should return n credentials or less, without skip (45 ms)
âœ“ should return n credentials or less, with skip (62 ms)
POST /credentials
âœ“ should create cred (75 ms)
âœ“ should fail with invalid inputs (79 ms)
âœ“ should ignore ID in payload (67 ms)
âœ“ creates credential in personal project by default (43 ms)
âœ“ creates credential in a specific project if the projectId is passed (42 ms)
âœ“ does not create the credential in a specific project if the user is not part of the project (88 ms)
DELETE /credentials/:id
âœ“ should delete owned cred for owner (68 ms)
âœ“ should delete non-owned cred for owner (52 ms)
âœ“ should delete owned cred for member (57 ms)
âœ“ should not delete non-owned cred for member (43 ms)
âœ“ should not delete non-owned but shared cred for member (42 ms)
âœ“ should fail if cred not found (25 ms)
PATCH /credentials/:id
âœ“ should update owned cred for owner (48 ms)
âœ“ should update non-owned cred for owner (69 ms)
âœ“ should update owned cred for member (73 ms)
âœ“ should not update non-owned cred for member (65 ms)
âœ“ should not update non-owned but shared cred for member (42 ms)
âœ“ should update non-owned but shared cred for instance owner (46 ms)
âœ“ should not allow to overwrite oauthTokenData (56 ms)
âœ“ should fail with invalid inputs (83 ms)
âœ“ should fail with a 404 if the credential does not exist and the actor has the global credential:update scope (49 ms)
âœ“ should fail with a 403 if the credential does not exist and the actor does not have the global credential:update scope (34 ms)
âœ“ should fail with a 400 is credential is managed (37 ms)
GET /credentials/new
âœ“ should return default name for new credential or its increment (70 ms)
âœ“ should return name from query for new credential or its increment (94 ms)
GET /credentials/:id
âœ“ should retrieve owned cred for owner (59 ms)
âœ“ should redact the data when `includeData:true` is passed (64 ms)
âœ“ should omit oauth data when `includeData:true` is passed (52 ms)
âœ“ should retrieve owned cred for member (71 ms)
âœ“ should retrieve non-owned cred for owner (49 ms)
âœ“ should not retrieve non-owned cred for member (59 ms)
âœ“ should return 404 if cred not found (39 ms)
POST /credentials/test
âœ“ should test a credential with unredacted data (45 ms)
âœ“ should test a credential with redacted data (39 ms)
2025-04-15T08:41:07.8324587Z
PASS test/integration/workflows/workflows.controller.ee.test.ts (12.913 s)
router should switch based on flag
âœ“ when sharing is disabled (61 ms)
âœ“ when sharing is enabled (26 ms)
PUT /workflows/:workflowId/share
âœ“ should save sharing with new users (27 ms)
âœ“ should succeed when sharing with invalid user-id (18 ms)
âœ“ should allow sharing with pending users (56 ms)
âœ“ should allow sharing with multiple users (34 ms)
âœ“ should override sharing (44 ms)
âœ“ should allow sharing by the owner of the workflow (28 ms)
âœ“ should allow sharing by the instance owner (47 ms)
âœ“ should not allow sharing by another shared member (44 ms)
âœ“ should not allow sharing with self by another non-shared member (21 ms)
âœ“ should not allow sharing by another non-shared member (36 ms)
âœ“ should not call internal hooks listener for email sent if emailing is disabled (44 ms)
âœ“ should ignore sharing with owner project (28 ms)
âœ“ should ignore sharing with project that already has it shared (23 ms)
GET /workflows/new
âœ“ should return an auto-incremented name, even when sharing is enabled (32 ms)
âœ“ should return an auto-incremented name, even when sharing is disabled (27 ms)
GET /workflows/:workflowId
âœ“ should fail with invalid id due to route rule (22 ms)
âœ“ should return 404 for non existing workflow (17 ms)
âœ“ project viewers can view workflows (33 ms)
âœ“ should return a workflow with owner (27 ms)
âœ“ should return tags (32 ms)
âœ“ should return shared workflow with user data (37 ms)
âœ“ should return all sharees (44 ms)
âœ“ should return workflow with credentials owned by user (39 ms)
âœ“ should return workflow with credentials saying owner does have access even when not shared (48 ms)
âœ“ should return workflow with credentials saying admin does have access even when not shared (22 ms)
âœ“ should return workflow with credentials for all users with or without access (61 ms)
âœ“ should return workflow with credentials for all users with access (61 ms)
âœ“ should return workflow credentials home project and shared with projects (64 ms)
POST /workflows
âœ“ project viewers cannot create workflows (29 ms)
âœ“ Should create a workflow that uses no credential (20 ms)
âœ“ Should save a new workflow with credentials (34 ms)
âœ“ Should not allow saving a workflow using credential you have no access (25 ms)
âœ“ Should allow owner to save a workflow using credential owned by others (32 ms)
âœ“ Should allow saving a workflow using a credential owned by others and shared with you (36 ms)
âœ“ Should create workflow history version when licensed (17 ms)
âœ“ Should not create workflow history version when not licensed (30 ms)
PATCH /workflows/:workflowId
âœ“ project viewers cannot update workflows (19 ms)
validate credential permissions to user
âœ“ Should succeed when saving unchanged workflow nodes (47 ms)
âœ“ Should allow owner to add node containing credential not shared with the owner (49 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by the owner and shared with the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (45 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by the member, and the member tries to use the credential in the workflow (33 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by team 2, and the member tries to use the credential in the workflow (29 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (40 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by team 2, and the member tries to use the credential in the workflow (30 ms)
âœ“ Should succeed but prevent modifying node attributes other than position, name and disabled (69 ms)
validate interim updates
âœ“ should block owner updating workflow nodes on interim update by member (105 ms)
âœ“ should block member updating workflow nodes on interim update by owner (108 ms)
âœ“ should block owner activation on interim activation by member (104 ms)
âœ“ should block member activation on interim activation by owner (109 ms)
âœ“ should block member updating workflow settings on interim update by owner (79 ms)
âœ“ should block member updating workflow name on interim update by owner (82 ms)
workflow history
âœ“ Should create workflow history version when licensed (26 ms)
âœ“ Should not create workflow history version when not licensed (42 ms)
activate workflow
âœ“ should activate workflow without changing version ID (33 ms)
âœ“ should deactivate workflow without changing version ID (32 ms)
PUT /:workflowId/transfer
âœ“ cannot transfer into the same project (29 ms)
âœ“ cannot transfer somebody elses workflow (29 ms)
âœ“ cannot transfer if you're not a member of the destination project (36 ms)
âœ“ project:editors cannot transfer workflows (26 ms)
âœ“ project:viewers cannot transfer workflows (28 ms)
âœ“ global owners can transfer workflows from a team project to a team project (43 ms)
âœ“ global owners can transfer workflows from a team project to a personal project (41 ms)
âœ“ global owners can transfer workflows from a personal project to a team project (46 ms)
âœ“ global admins can transfer workflows from a team project to a team project (38 ms)
âœ“ global admins can transfer workflows from a team project to a personal project (33 ms)
âœ“ global admins can transfer workflows from a personal project to a team project (34 ms)
âœ“ removes and re-adds the workflow from the active workflow manager during the transfer (39 ms)
âœ“ should detach workflow from parent folder in source project (46 ms)
âœ“ deactivates the workflow if it cannot be added to the active workflow manager again and returns the WorkflowActivationError as data (49 ms)
âœ“ owner transfers workflow from project they are not part of, e.g. test global cred sharing scope (62 ms)
âœ“ admin transfers workflow from project they are not part of, e.g. test global cred sharing scope (63 ms)
âœ“ member transfers workflow from personal project to team project and wf contains a credential that they can use but not share (49 ms)
âœ“ member transfers workflow from their personal project to another team project in which they have editor role (63 ms)
âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role (67 ms)
âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share the credential that is only shared into the source project (45 ms)
âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share all the credentials (97 ms)
âœ“ returns a 500 if the workflow cannot be activated due to an unknown error (72 ms)
POST /workflows/:workflowId/run
âœ“ project viewers cannot run workflows (24 ms)
2025-04-15T08:41:07.8379008Z
PASS test/integration/workflows/workflows.controller.test.ts (15.222 s)
POST /workflows
âœ“ should store pin data for node in workflow (88 ms)
âœ“ should set pin data to null if no pin data (57 ms)
âœ“ should return scopes on created workflow (46 ms)
âœ“ should create workflow history version when licensed (67 ms)
âœ“ should not create workflow history version when not licensed (73 ms)
âœ“ create workflow in personal project by default (99 ms)
âœ“ creates workflow in a specific project if the projectId is passed (77 ms)
âœ“ does not create the workflow in a specific project if the user is not part of the project (91 ms)
âœ“ does not create the workflow in a specific project if the user does not have the right role to do so (75 ms)
âœ“ create link workflow with folder if one is provided (38 ms)
âœ“ create workflow without parent folder if no folder is provided (52 ms)
âœ“ create workflow without parent is provided folder does not exist in the project (49 ms)
GET /workflows/:workflowId
âœ“ should return pin data (86 ms)
âœ“ should return tags (61 ms)
GET /workflows
âœ“ should return zero workflows if none exist (46 ms)
âœ“ should return workflows (93 ms)
âœ“ should return workflows with scopes when ?includeScopes=true (123 ms)
filter
âœ“ should filter workflows by field: name (61 ms)
âœ“ should filter workflows by field: active (85 ms)
âœ“ should filter workflows by field: tags (AND operator) (113 ms)
âœ“ should filter workflows by projectId (67 ms)
âœ“ should filter workflows by parentFolderId (86 ms)
âœ“ should return homeProject when filtering workflows by projectId (49 ms)
select
âœ“ should select workflow field: name (74 ms)
âœ“ should select workflow field: active (86 ms)
âœ“ should select workflow field: tags (71 ms)
âœ“ should select workflow fields: createdAt and updatedAt (72 ms)
âœ“ should select workflow field: versionId (75 ms)
âœ“ should select workflow field: ownedBy (65 ms)
âœ“ should select workflow field: parentFolder (65 ms)
sortBy
âœ“ should fail when trying to sort by non sortable column (44 ms)
âœ“ should sort by createdAt column (55 ms)
âœ“ should sort by name column (75 ms)
âœ“ should sort by updatedAt column (70 ms)
pagination
âœ“ should fail when skip is provided without take (106 ms)
âœ“ should handle skip with take parameter (88 ms)
âœ“ should handle pagination with sorting (86 ms)
âœ“ should handle pagination with filtering (113 ms)
âœ“ should return empty array when pagination exceeds total count (83 ms)
âœ“ should return all results when no pagination parameters are provided (94 ms)
GET /workflows?includeFolders=true
âœ“ should return zero workflows and folders if none exist (43 ms)
âœ“ should return workflows and folders (107 ms)
âœ“ should return workflows with scopes and folders when ?includeScopes=true (149 ms)
filter
âœ“ should filter workflows and folders by field: name (51 ms)
âœ“ should filter workflows and folders by field: active (64 ms)
âœ“ should filter workflows and folders by field: tags (AND operator) (116 ms)
âœ“ should filter workflows by projectId (93 ms)
âœ“ should filter workflows by parentFolderId and its descendants when filtering by name (78 ms)
âœ“ should return homeProject when filtering workflows and folders by projectId (68 ms)
sortBy
âœ“ should fail when trying to sort by non sortable column (52 ms)
âœ“ should sort by createdAt column (117 ms)
âœ“ should sort by name column (71 ms)
âœ“ should sort by updatedAt column (81 ms)
pagination
âœ“ should fail when skip is provided without take (77 ms)
âœ“ should handle skip with take parameter (119 ms)
âœ“ should handle pagination with sorting (62 ms)
âœ“ should handle pagination with filtering (136 ms)
âœ“ should return empty array when pagination exceeds total count (77 ms)
âœ“ should return all results when no pagination parameters are provided (124 ms)
PATCH /workflows/:workflowId
âœ“ should create workflow history version when licensed (73 ms)
âœ“ should not create workflow history version when not licensed (61 ms)
âœ“ should activate workflow without changing version ID (116 ms)
âœ“ should deactivate workflow without changing version ID (75 ms)
âœ“ should update workflow meta (78 ms)
âœ“ should move workflow to folder (88 ms)
âœ“ should move workflow to project root (118 ms)
âœ“ should fail if trying update workflow parent folder with a folder that does not belong to project (112 ms)
POST /workflows/:workflowId/run
âœ“ should prevent tampering if sharing is enabled (60 ms)
âœ“ should skip tampering prevention if sharing is disabled (69 ms)
DELETE /workflows/:workflowId
âœ“ deletes a workflow owned by the user (95 ms)
âœ“ deletes a workflow owned by the user, even if the user is just a member (109 ms)
âœ“ does not delete a workflow that is not owned by the user (47 ms)
âœ“ allows the owner to delete workflows they don't own (52 ms)
2025-04-15T08:41:07.8418555Z
PASS src/events/__tests__/telemetry-event-relay.test.ts
TelemetryEventRelay
init
âœ“ with diagnostics enabled, should init telemetry and register listeners (4 ms)
âœ“ with diagnostics disabled, should neither init telemetry nor register listeners (1 ms)
project events
âœ“ should track on `team-project-updated` event (1 ms)
âœ“ should track on `team-project-deleted` event (1 ms)
âœ“ should track on `team-project-created` event
source control events
âœ“ should track on `source-control-settings-updated` event (1 ms)
âœ“ should track on `source-control-user-started-pull-ui` event (1 ms)
âœ“ should track on `source-control-user-finished-pull-ui` event
âœ“ should track on `source-control-user-pulled-api` event
âœ“ should track on `source-control-user-started-push-ui` event
âœ“ should track on `source-control-user-finished-push-ui` event (1 ms)
license events
âœ“ should track on `license-renewal-attempted` event
variable events
âœ“ should track on `variable-created` event
external secrets events
âœ“ should track on `external-secrets-provider-settings-saved` event
public API events
âœ“ should track on `public-api-invoked` event
âœ“ should track on `public-api-key-created` event (1 ms)
âœ“ should track on `public-api-key-deleted` event
community package events
âœ“ should track on `community-package-installed` event (1 ms)
âœ“ should track on `community-package-updated` event
âœ“ should track on `community-package-deleted` event
credentials events
âœ“ should track on `credentials-created` event (2 ms)
âœ“ should track on `credentials-shared` event (1 ms)
âœ“ should track on `credentials-updated` event (1 ms)
âœ“ should track on `credentials-deleted` event
LDAP events
âœ“ should track on `ldap-general-sync-finished` event
âœ“ should track on `ldap-settings-updated` event (2 ms)
âœ“ should track on `ldap-login-sync-failed` event
âœ“ should track on `login-failed-due-to-ldap-disabled` event
workflow events
âœ“ should track on `workflow-created` event (4 ms)
âœ“ should track on `workflow-deleted` event (1 ms)
âœ“ should track on `workflow-post-execute` event (1 ms)
âœ“ should track on `workflow-saved` event (10 ms)
âœ“ should track on `workflow-sharing-updated` event
user events
âœ“ should track on `user-updated` event (1 ms)
âœ“ should track on `user-deleted` event
âœ“ should track on `user-invited` event
âœ“ should track on `user-signed-up` event (1 ms)
âœ“ should track on `user-submitted-personalization-survey` event (1 ms)
âœ“ should track on `user-changed-role` event
âœ“ should track on `user-retrieved-user` event
âœ“ should track on `user-retrieved-all-users` event
lifecycle events
âœ“ should track on `server-started` event (15 ms)
âœ“ should track on `session-started` event
âœ“ should track on `instance-stopped` event (1 ms)
âœ“ should track on `instance-owner-setup` event (2 ms)
workflow execution events
âœ“ should track on `first-production-workflow-succeeded` event
âœ“ should track on `first-workflow-data-loaded` event (3 ms)
email events
âœ“ should track on `email-failed` event
Community+ registered
âœ“ should track `license-community-plus-registered` event (1 ms)
workflow post execute events
âœ“ should not track when workflow has no id (2 ms)
âœ“ should track successful workflow execution (17 ms)
âœ“ should call telemetry.track when manual node execution finished (11 ms)
âœ“ should call telemetry.track when manual node execution finished with canceled error message (4 ms)
âœ“ should call telemetry.track when manual workflow execution finished (59 ms)
âœ“ should call telemetry.track when manual node execution finished with is_managed and credential_type properties (2 ms)
âœ“ should call telemetry.track when user ran out of free AI credits (3 ms)
2025-04-15T08:41:07.8444519Z
PASS src/ldap.ee/__tests__/ldap.service.test.ts
LdapService
init()
âœ“ should load the LDAP configuration (4 ms)
âœ“ should set expected configuration variables from LDAP config if LDAP is enabled (1 ms)
âœ“ should set expected configuration variables from LDAP config if LDAP is disabled
âœ“ should show logger warning if authentication method is not ldap or email (1 ms)
âœ“ should schedule syncing if config has enabled synchronization (1 ms)
âœ“ should throw an error if config has enabled synchronization but no synchronizationInterval is set (22 ms)
loadConfig()
âœ“ should retrieve the LDAP configuration from the settings repository
âœ“ should throw an expected error if the LDAP configuration is not found (1 ms)
âœ“ should decipher the LDAP configuration admin password (1 ms)
âœ“ should return the expected LDAP configuration
updateConfig()
âœ“ should throw expected error if the LDAP configuration is invalid (7 ms)
âœ“ should throw expected error if login is enabled and the current authentication method is "saml" (1 ms)
âœ“ should encrypt the binding admin password (4 ms)
âœ“ should delete all ldap identities if login is disabled and ldap users exist (1 ms)
âœ“ should not delete ldap identities if login is disabled and there are no ldap identities (1 ms)
âœ“ should update the LDAP configuration in the settings repository
âœ“ should update the LDAP login label in the config (3 ms)
setConfig()
âœ“ should stop synchronization if the timer is running and the config is disabled (1 ms)
âœ“ should schedule synchronization if the timer is not running and the config is enabled
âœ“ should throw an error if the timer is not running and the config is enabled but the synchronizationInterval is not set
âœ“ should restart synchronization if the timer is running and the config is enabled (1 ms)
searchWithAdminBinding()
âœ“ should bind admin client (1 ms)
âœ“ should call client search with expected parameters (1 ms)
âœ“ should call client search with expected parameters when searchPageSize is 0
âœ“ should unbind client after search (1 ms)
âœ“ should return expected search entries
validUser()
âœ“ should throw expected error if no configuration has been set (1 ms)
âœ“ should bind the ldap client with the expected distinguished name and password (1 ms)
âœ“ should throw expected error if binding fails
âœ“ should unbind the client binding (1 ms)
findAndAuthenticateLdapUser()
âœ“ should search for expected admin login ID
âœ“ should emit expected error if admin search fails (1 ms)
âœ“ should return undefined if no user is found
âœ“ should validate found user
âœ“ should validate last user if more than one is found (1 ms)
âœ“ should return undefined if invalid user is found
âœ“ should resolve binary attributes for found user (1 ms)
âœ“ should return found user
testConnection()
âœ“ should throw expected error if init() is not called first (1 ms)
âœ“ should create a new client without TLS if connectionSecurity is set to "none" (1 ms)
âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and allowing unauthorized certificates
âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and not allowing unauthorized certificates (1 ms)
âœ“ should create a new client and start TLS if connectionSecurity is set to "startTls"
âœ“ should not create a new client if one has already been created
runSync()
âœ“ should search for users with expected parameters (2 ms)
âœ“ should resolve binary attributes for users
âœ“ should throw expected error if search fails (1 ms)
âœ“ should process expected users if mode is "live"
âœ“ should sync expected LDAP data when no errors (1 ms)
âœ“ should sync expected LDAP data when users fail to process (1 ms)
âœ“ should emit expected event if synchronization is enabled
âœ“ should emit expected event if synchronization is disabled (1 ms)
âœ“ should emit expected event with error message if processUsers fails
stopSync()
âœ“ should clear the scheduled timer
2025-04-15T08:41:07.8468082Z
PASS test/integration/credentials/credentials.api.ee.test.ts (8.234 s)
POST /credentials
âœ“ project viewers cannot create credentials (124 ms)
GET /credentials
âœ“ should return all creds for owner (126 ms)
âœ“ should return only relevant creds for member (122 ms)
âœ“ should show credentials that the user has access to through a team project they are part of (65 ms)
GET /credentials/for-workflow
for team projects
âœ“ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "member" (101 ms)
âœ“ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "member" (128 ms)
âœ“ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "owner" (85 ms)
âœ“ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "owner" (95 ms)
for personal projects
âœ“ it returns only personal credentials for a members, if "projectId" is used as the query parameter (173 ms)
âœ“ it returns only personal credentials for a members, if "workflowId" is used as the query parameter (144 ms)
âœ“ if the actor is a global owner and the workflow has not been shared with them, it returns all credentials of all projects the workflow is part of (161 ms)
âœ“ if the actor is a global owner and the workflow has been shared with them, it returns all credentials of all projects the workflow is part of (126 ms)
âœ“ if the projectId is passed by a global owner it will return all credentials in that project (111 ms)
âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using "workflowId" as the query parameter (96 ms)
âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using "projectId" as the query parameter (102 ms)
GET /credentials/:id
âœ“ project viewers can view credentials (132 ms)
âœ“ should retrieve owned cred for owner (101 ms)
âœ“ should redact the data when `includeData:true` is passed (81 ms)
âœ“ should retrieve non-owned cred for owner (88 ms)
âœ“ should retrieve owned cred for member (77 ms)
âœ“ should not retrieve non-owned cred for member (90 ms)
âœ“ should return 404 if cred not found (86 ms)
PATCH /credentials/:id
âœ“ project viewer cannot update credentials (78 ms)
PUT /credentials/:id/share
âœ“ should share the credential with the provided userIds and unshare it for missing ones (92 ms)
âœ“ should share the credential with the provided userIds (89 ms)
âœ“ should respond 403 for non-existing credentials (29 ms)
âœ“ should respond 403 for non-owned credentials for shared members (59 ms)
âœ“ should respond 403 for non-owned credentials for non-shared members sharing with self (69 ms)
âœ“ should respond 403 for non-owned credentials for non-shared members sharing (54 ms)
âœ“ should respond 200 for non-owned credentials for owners (47 ms)
âœ“ should not ignore pending sharee (56 ms)
âœ“ should ignore non-existing sharee (44 ms)
âœ“ should ignore sharing with owner project (50 ms)
âœ“ should ignore sharing with project that already has it shared (56 ms)
âœ“ should respond 400 if invalid payload is provided (62 ms)
âœ“ should unshare the credential (86 ms)
âœ“ should not call internal hooks listener for email sent if emailing is disabled (91 ms)
âœ“ member should be able to share from personal project to team project that member has access to (95 ms)
âœ“ member should be able to share from team project to personal project (52 ms)
âœ“ member should be able to share from team project to team project that member has access to (50 ms)
âœ“ admins should be able to share from any team project to any team project  (44 ms)
âœ“ admins should be able to share from any team project to any user's personal project  (49 ms)
âœ“ admins should be able to share from any personal project to any team project  (40 ms)
PUT /:credentialId/transfer
âœ“ cannot transfer into the same project (52 ms)
âœ“ cannot transfer somebody elses credential (58 ms)
âœ“ cannot transfer if you're not a member of the destination project (48 ms)
âœ“ project:editors cannot transfer credentials (69 ms)
âœ“ project:viewers cannot transfer credentials (76 ms)
âœ“ owners can always transfer from a team project to a team project (47 ms)
âœ“ owners can always transfer from a team project to a personal project (40 ms)
âœ“ owners can always transfer from a personal project to a team project (42 ms)
âœ“ admins can always transfer from a team project to a team project (75 ms)
âœ“ admins can always transfer from a team project to a personal project (45 ms)
âœ“ admins can always transfer from a personal project to a team project (67 ms)
2025-04-15T08:41:07.8492641Z
PASS src/evaluation.ee/test-runner/__tests__/test-runner.service.ee.test.ts
TestRunnerService
âœ“ should create an instance of TestRunnerService (4 ms)
âœ“ should create and run test cases from past executions (6 ms)
âœ“ should run both workflow under test and evaluation workflow (14 ms)
âœ“ should properly count passed and failed executions (7 ms)
âœ“ should properly count failed test executions (3 ms)
âœ“ should properly count failed evaluations (3 ms)
âœ“ should specify correct start nodes when running workflow under test (8 ms)
âœ“ should properly choose trigger and start nodes (1 ms)
âœ“ should properly choose trigger and start nodes 2
âœ“ should properly run test when nodes were renamed (3 ms)
âœ“ should properly choose trigger when it was renamed
âœ“ should create proper execution data for queue mode in runTestCase (3 ms)
âœ“ should create proper execution data for regular mode in runTestCase (7 ms)
âœ“ should run workflow with metrics defined in the middle of the workflow (6 ms)
âœ“ should properly override metrics from earlier nodes with later ones (5 ms)
Test Run cancellation
âœ“ should cancel test run (10 ms)
2025-04-15T08:41:07.8501307Z
PASS test/integration/folder/folder.controller.test.ts (7.311 s)
POST /projects/:projectId/folders
âœ“ should not create folder when project does not exist (98 ms)
âœ“ should not create folder when name is empty (30 ms)
âœ“ should not create folder if user has project:viewer role in team project (34 ms)
âœ“ should not allow creating folder in another user's personal project (30 ms)
âœ“ should create folder if user has project:editor role in team project (34 ms)
âœ“ should create folder if user has project:admin role in team project (40 ms)
âœ“ should not allow creating folder with parent that exists in another project (38 ms)
âœ“ should create folder in root of specified project (36 ms)
âœ“ should create folder in specified project within another folder (54 ms)
âœ“ should create folder in personal project (36 ms)
GET /projects/:projectId/folders/:folderId/tree
âœ“ should not get folder tree when project does not exist (18 ms)
âœ“ should not get folder tree when folder does not exist (37 ms)
âœ“ should not get folder tree if user has no access to project (78 ms)
âœ“ should not allow getting folder tree from another user's personal project (21 ms)
âœ“ should get nested folder structure (48 ms)
PATCH /projects/:projectId/folders/:folderId
âœ“ should not update folder when project does not exist (15 ms)
âœ“ should not update folder when folder does not exist (21 ms)
âœ“ should not update folder when name is empty (30 ms)
âœ“ should not update folder if user has project:viewer role in team project (44 ms)
âœ“ should not allow updating folder in another user's personal project (28 ms)
âœ“ should update folder if user has project:editor role in team project (61 ms)
âœ“ should update folder if user has project:admin role in team project (37 ms)
âœ“ should update folder in personal project (90 ms)
âœ“ should update folder tags (83 ms)
âœ“ should replace existing folder tags with new ones (35 ms)
âœ“ should update folder parent folder ID (62 ms)
âœ“ should not update folder parent when target folder does not exist (33 ms)
âœ“ should not update folder parent when target folder is in another project (60 ms)
âœ“ should allow moving a folder to root level by setting parentFolderId to "0" (64 ms)
âœ“ should not update folder parent if user has project:viewer role in team project (39 ms)
âœ“ should update folder parent folder if user has project:editor role in team project (49 ms)
âœ“ should not allow setting a folder as its own parent (67 ms)
DELETE /projects/:projectId/folders/:folderId
âœ“ should not delete folder when project does not exist (25 ms)
âœ“ should not delete folder when folder does not exist (37 ms)
âœ“ should not delete folder if user has project:viewer role in team project (28 ms)
âœ“ should not allow deleting folder in another user's personal project (20 ms)
âœ“ should delete folder if user has project:editor role in team project (39 ms)
âœ“ should delete folder if user has project:admin role in team project (27 ms)
âœ“ should delete folder in personal project (40 ms)
âœ“ should delete folder, all child folders, and contained workflows when no transfer folder is specified (73 ms)
âœ“ should transfer folder contents when transferToFolderId is specified (72 ms)
âœ“ should not transfer folder contents when transfer folder does not exist (37 ms)
âœ“ should not transfer folder contents when transfer folder is in another project (56 ms)
âœ“ should not allow transferring contents to the same folder being deleted (80 ms)
âœ“ should transfer folder contents to project root when transferToFolderId is "0" (126 ms)
GET /projects/:projectId/folders
âœ“ should not list folders when project does not exist (30 ms)
âœ“ should not list folders if user has no access to project (44 ms)
âœ“ should not allow listing folders from another user's personal project (28 ms)
âœ“ should list folders if user has project:viewer role in team project (73 ms)
âœ“ should list folders from personal project (48 ms)
âœ“ should filter folders by name (33 ms)
âœ“ should filter folders by parent folder ID (50 ms)
âœ“ should filter root-level folders when parentFolderId=0 (47 ms)
âœ“ should filter folders by tag (64 ms)
âœ“ should filter folders by multiple tags (AND operator) (44 ms)
âœ“ should filter folders by excludeFolderIdAndDescendants (44 ms)
âœ“ should apply pagination with take parameter (52 ms)
âœ“ should apply pagination with skip parameter (53 ms)
âœ“ should apply combined skip and take parameters (65 ms)
âœ“ should sort folders by name ascending (62 ms)
âœ“ should sort folders by name descending (33 ms)
âœ“ should sort folders by updatedAt (37 ms)
âœ“ should select specific fields when requested (43 ms)
âœ“ should combine multiple query parameters correctly (70 ms)
âœ“ should filter by projectId automatically based on URL (60 ms)
GET /projects/:projectId/folders/content
âœ“ should not list folders when project does not exist (31 ms)
âœ“ should not return folder content if user has no access to project (37 ms)
âœ“ should not return folder content if folder does not belong to project (38 ms)
âœ“ should return folder content if user has project:viewer role in team project (38 ms)
âœ“ should return folder content (57 ms)
2025-04-15T08:41:07.8528576Z
PASS test/integration/project.api.test.ts
GET /projects/
âœ“ member should get all personal projects and team projects they are apart of (150 ms)
âœ“ owner should get all projects (34 ms)
GET /projects/count
âœ“ should return correct number of projects (27 ms)
GET /projects/my-projects
âœ“ member should get all projects they are apart of (73 ms)
âœ“ owner should get all projects they are apart of (48 ms)
GET /projects/personal
âœ“ should return the user's personal project (25 ms)
âœ“ should return 404 if user doesn't have a personal project (30 ms)
POST /projects/
âœ“ should create a team project (42 ms)
âœ“ should allow to create a team projects if below the quota (34 ms)
âœ“ should fail to create a team project if at quota (29 ms)
âœ“ should fail to create a team project if above the quota (26 ms)
PATCH /projects/:projectId
âœ“ should update a team project name (45 ms)
âœ“ should not allow viewers to edit team project name (16 ms)
âœ“ should not allow owners to edit personal project name (23 ms)
member management
âœ“ should add or remove users from a project (64 ms)
âœ“ `project:viewer`s should not be able to add, update or remove users from a project (35 ms)
âœ“ `project:editor`s should not be able to add, update or remove users from a project (30 ms)
âœ“ should not be able to add a user with the role project:viewer if it's not licensed (44 ms)
âœ“ should not be able to add a user with the role project:editor if it's not licensed (50 ms)
âœ“ should not edit a relation of a project when changing a user's role to an unlicensed role (41 ms)
âœ“ should  edit a relation of a project when changing a user's role to an licensed role but unlicensed roles are present (40 ms)
âœ“ should not add or remove users from a personal project (18 ms)
GET /project/:projectId
âœ“ should get project details and relations (54 ms)
DELETE /project/:projectId
âœ“ allows the project:owner to delete a project (84 ms)
âœ“ allows the instance owner to delete a team project their are not related to (64 ms)
âœ“ does not allow instance members to delete their personal project (33 ms)
âœ“ does not allow instance owners to delete their personal projects (17 ms)
âœ“ does not allow users with the role project:editor to delete a project (20 ms)
âœ“ does not allow users with the role project:viewer to delete a project (34 ms)
âœ“ deletes all workflows and credentials it owns as well as the sharings into other projects (67 ms)
âœ“ unshares all workflows and credentials that were shared with the project (79 ms)
âœ“ deletes the project relations (60 ms)
âœ“ should fail if the project to delete does not exist (17 ms)
âœ“ should fail to delete if project to migrate to and the project to delete are the same (36 ms)
âœ“ does not migrate credentials and projects if the user does not have the permissions to create workflows or credentials in the target project (25 ms)
âœ“ migrates folders, workflows and credentials to another project if `migrateToProject` is passed (71 ms)
âœ“ should upgrade a projects role if the workflow/credential is already shared with it (38 ms)
2025-04-15T08:41:07.8548723Z
PASS test/integration/users.api.test.ts
GET /users
âœ“ should return all users (43 ms)
list query options
filter
âœ“ should filter users by field: email (24 ms)
âœ“ should filter users by field: firstName (11 ms)
âœ“ should filter users by field: lastName (14 ms)
âœ“ should filter users by computed field: isOwner (10 ms)
select
âœ“ should select user field: id (5 ms)
âœ“ should select user field: email (4 ms)
âœ“ should select user field: firstName (4 ms)
âœ“ should select user field: lastName (27 ms)
take
âœ“ should return n users or less, without skip (19 ms)
âœ“ should return n users or less, with skip (11 ms)
auxiliary fields
âœ“ should support options that require auxiliary fields (6 ms)
GET /users/:id/password-reset-link
âœ“ should allow owners to generate password reset links for admins and members (25 ms)
âœ“ should allow admins to generate password reset links for admins and members, but not owners (40 ms)
âœ“ should not allow members to generate password reset links for anyone (8 ms)
DELETE /users/:id
âœ“ should delete user and their resources (78 ms)
âœ“ should delete user and team relations and transfer their personal resources to user (116 ms)
âœ“ should delete user and transfer their personal resources to team project (79 ms)
âœ“ should fail to delete self (10 ms)
âœ“ should fail to delete the instance owner (14 ms)
âœ“ should fail to delete a user that does not exist (3 ms)
âœ“ should fail to transfer to a project that does not exist (29 ms)
âœ“ should fail to delete if user to delete is transferee (31 ms)
PATCH /users/:id/role
âœ“ should clear credential external secrets usability cache when changing a user's role (47 ms)
unauthenticated user
âœ“ should receive 401 (3 ms)
Invalid payload should return 400 when newRoleName
âœ“ is missing (5 ms)
âœ“ is `owner` (4 ms)
âœ“ is an array (4 ms)
member
âœ“ should fail to demote owner to member (4 ms)
âœ“ should fail to demote owner to admin (9 ms)
âœ“ should fail to demote admin to member (12 ms)
âœ“ should fail to promote other member to owner (8 ms)
âœ“ should fail to promote other member to admin (4 ms)
âœ“ should fail to promote self to admin (3 ms)
âœ“ should fail to promote self to owner (3 ms)
admin
âœ“ should receive 404 on unknown target user (4 ms)
âœ“ should fail to demote owner to admin (5 ms)
âœ“ should fail to demote owner to member (4 ms)
âœ“ should fail to promote member to admin if not licensed (10 ms)
âœ“ should be able to demote admin to member (31 ms)
âœ“ should be able to demote self to member (25 ms)
âœ“ should be able to promote member to admin if licensed (20 ms)
owner
âœ“ should fail to demote self to admin (3 ms)
âœ“ should fail to demote self to member (8 ms)
âœ“ should fail to promote member to admin if not licensed (2 ms)
âœ“ should be able to promote member to admin if licensed (11 ms)
âœ“ should be able to demote admin to member (11 ms)
2025-04-15T08:41:07.8571673Z
PASS src/task-runners/task-broker/__tests__/task-broker.service.test.ts
TaskBroker
expireTasks
âœ“ should remove expired task offers and keep valid task offers (3 ms)
âœ“ should not expire non-expiring task offers
registerRunner
âœ“ should add a runner to known runners (1 ms)
âœ“ should send node types to runner
registerRequester
âœ“ should add a requester to known requesters (1 ms)
deregisterRunner
âœ“ should remove a runner from known runners
âœ“ should remove any pending offers for that runner (1 ms)
âœ“ should fail any running tasks for that runner (1 ms)
deregisterRequester
âœ“ should remove a requester from known requesters
taskRequested
âœ“ should match a pending offer to an incoming request (1 ms)
taskOffered
âœ“ should match a pending request to an incoming offer
settleTasks
âœ“ should match task offers with task requests by task type (1 ms)
âœ“ should not match a request whose acceptance is in progress
âœ“ should expire tasks before settling
onRunnerMessage
âœ“ should handle `runner:taskaccepted` message
âœ“ should handle `runner:taskrejected` message
âœ“ should handle `runner:taskdone` message (1 ms)
âœ“ should handle `runner:taskerror` message
âœ“ should handle `runner:taskdatarequest` message (1 ms)
âœ“ should handle `runner:rpc` message
âœ“ should handle `runner:nodetypesrequest` message
âœ“ should handle `runner:taskoffer` message with expiring offer
âœ“ should handle `runner:taskoffer` message with non-expiring offer
onRequesterMessage
âœ“ should handle `requester:nodetypesresponse` message
task timeouts
âœ“ on sending task, we should set up task timeout
âœ“ on task completion, we should clear timeout (1 ms)
âœ“ on task error, we should clear timeout
âœ“ [internal mode] on timeout, we should emit `runner:timed-out-during-task` event and send error to requester (5 ms)
âœ“ [external mode] on timeout, we should instruct the runner to cancel and send error to requester
2025-04-15T08:41:07.8584180Z
PASS src/events/__tests__/log-streaming-event-relay.test.ts
LogStreamingEventRelay
workflow events
âœ“ should log on `workflow-created` event (3 ms)
âœ“ should log on `workflow-deleted` event
âœ“ should log on `workflow-saved` event (1 ms)
âœ“ should log on `workflow-pre-execute` event
âœ“ should log on `workflow-post-execute` for successful execution (1 ms)
âœ“ should log on `workflow-post-execute` event for failed execution
user events
âœ“ should log on `user-updated` event (1 ms)
âœ“ should log on `user-deleted` event
âœ“ should log on `user-invited` event
âœ“ should log on `user-reinvited` event
âœ“ should log on `user-signed-up` event
âœ“ should log on `user-logged-in` event
click events
âœ“ should log on `user-password-reset-request-click` event
âœ“ should log on `user-invite-email-click` event
âœ“ should log on `user-password-reset-email-click` event
node events
âœ“ should log on `node-pre-execute` event (1 ms)
âœ“ should log on `node-post-execute` event
credentials events
âœ“ should log on `credentials-shared` event (1 ms)
âœ“ should log on `credentials-created` event
âœ“ should log on `credentials-deleted` event
âœ“ should log on `credentials-updated` event
auth events
âœ“ should log on `user-login-failed` event (1 ms)
community package events
âœ“ should log on `community-package-updated` event (3 ms)
âœ“ should log on `community-package-installed` event
âœ“ should log on `community-package-deleted` event
email events
âœ“ should log on `email-failed` event (1 ms)
public API events
âœ“ should log on `public-api-key-created` event
âœ“ should log on `public-api-key-deleted` event
execution events
âœ“ should log on `execution-started-during-bootup` event
âœ“ should log on `execution-throttled` event (2 ms)
AI events
âœ“ should log on `ai-messages-retrieved-from-memory` event
âœ“ should log on `ai-message-added-to-memory` event (1 ms)
âœ“ should log on `ai-output-parsed` event
âœ“ should log on `ai-documents-retrieved` event
âœ“ should log on `ai-document-embedded` event
âœ“ should log on `ai-query-embedded` event
âœ“ should log on `ai-document-processed` event (1 ms)
âœ“ should log on `ai-text-split` event
âœ“ should log on `ai-tool-called` event
âœ“ should log on `ai-vector-store-searched` event
âœ“ should log on `ai-llm-generated-output` event
âœ“ should log on `ai-llm-errored` event (1 ms)
âœ“ should log on `ai-vector-store-populated` event
âœ“ should log on `ai-vector-store-updated` event
2025-04-15T08:41:07.8597452Z
PASS src/execution-lifecycle/__tests__/execution-lifecycle-hooks.test.ts
Execution Lifecycle Hooks
getLifecycleHooksForRegularMain
âœ“ should setup the correct set of hooks (2 ms)
workflowExecuteBefore
âœ“ should emit workflow-pre-execute events (11 ms)
âœ“ should run workflow.preExecute hook (1 ms)
âœ“ should send executionStarted push event (1 ms)
âœ“ should run workflow.preExecute external hook
workflowExecuteAfter
âœ“ should emit workflow-post-execute events (3 ms)
âœ“ should not emit workflow-post-execute events for waiting executions (1 ms)
âœ“ should run workflow.postExecute hook (1 ms)
âœ“ should send executionFinished push event (2 ms)
âœ“ should send executionWaiting push event (1 ms)
âœ“ should restore binary data IDs after workflow execution for webhooks (1 ms)
saving static data
âœ“ should skip saving static data for manual executions (1 ms)
âœ“ should save static data for prod executions (1 ms)
âœ“ should handle static data saving errors (2 ms)
saving execution data
âœ“ should update execution with proper data (1 ms)
âœ“ should not delete unfinished executions (1 ms)
âœ“ should not delete waiting executions (1 ms)
âœ“ should soft delete manual executions when manual saving is disabled (1 ms)
âœ“ should not soft delete manual executions with waitTill (1 ms)
error workflow
âœ“ should not execute error workflow for manual executions (2 ms)
âœ“ should execute error workflow for failed non-manual executions (2 ms)
nodeExecuteBefore
âœ“ should emit node-pre-execute event (1 ms)
âœ“ should send nodeExecuteBefore push event (1 ms)
nodeExecuteAfter
âœ“ should emit node-post-execute event (1 ms)
âœ“ should send nodeExecuteAfter push event (1 ms)
âœ“ should save execution progress when enabled (1 ms)
âœ“ should not save execution progress when disabled (1 ms)
statistics events
âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (1 ms)
âœ“ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
when pushRef isn't set
âœ“ should not setup any push hooks (1 ms)
getLifecycleHooksForScalingMain
âœ“ should setup the correct set of hooks (2 ms)
workflowExecuteBefore
âœ“ should emit workflow-pre-execute events (1 ms)
âœ“ should run workflow.preExecute hook (1 ms)
âœ“ should run the workflow.preExecute external hook (1 ms)
workflowExecuteAfter
âœ“ should emit workflow-post-execute events (1 ms)
âœ“ should not emit workflow-post-execute events for waiting executions (1 ms)
âœ“ should run workflow.postExecute hook
âœ“ should delete successful executions when success saving is disabled (1 ms)
âœ“ should delete failed executions when error saving is disabled (1 ms)
getLifecycleHooksForScalingWorker
âœ“ should setup the correct set of hooks (7 ms)
nodeExecuteBefore
âœ“ should emit node-pre-execute event (1 ms)
nodeExecuteAfter
âœ“ should emit node-post-execute event (58 ms)
workflowExecuteBefore
âœ“ should run workflow.preExecute hook (1 ms)
workflowExecuteAfter
âœ“ should run workflow.postExecute hook (1 ms)
statistics events
âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (4 ms)
âœ“ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
saving static data
âœ“ should skip saving static data for manual executions (2 ms)
âœ“ should save static data for prod executions (1 ms)
âœ“ should handle static data saving errors (1 ms)
error workflow
âœ“ should not execute error workflow for manual executions (1 ms)
âœ“ should execute error workflow for failed non-manual executions (1 ms)
getLifecycleHooksForSubExecutions
âœ“ should setup the correct set of hooks
workflowExecuteBefore
âœ“ should emit workflow-pre-execute events (3 ms)
âœ“ should run workflow.preExecute hook
workflowExecuteAfter
âœ“ should emit workflow-post-execute events (1 ms)
âœ“ should not emit workflow-post-execute events for waiting executions
âœ“ should run workflow.postExecute hook (1 ms)
nodeExecuteBefore
âœ“ should emit node-pre-execute event
nodeExecuteAfter
âœ“ should emit node-post-execute event (1 ms)
statistics events
âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (17 ms)
âœ“ nodeFetchedData should handle nodeFetchedData statistics event
2025-04-15T08:41:07.8624692Z
PASS src/sso.ee/saml/__tests__/saml-validator.test.ts
saml-validator
validateMetadata
âœ“ successfully validates metadata containing ws federation tags (73 ms)
âœ“ rejects invalid metadata (133 ms)
âœ“ rejects malformed XML metadata (76 ms)
âœ“ rejects metadata missing SingleSignOnService (88 ms)
âœ“ rejects metadata with invalid X.509 certificate (64 ms)
validateResponse
âœ“ successfully validates response (98 ms)
âœ“ rejects invalid response (74 ms)
âœ“ rejects expired SAML response (66 ms)
2025-04-15T08:41:07.8628488Z
PASS test/integration/execution.service.integration.test.ts
ExecutionService
findRangeWithCount
âœ“ should return execution summaries (86 ms)
âœ“ should limit executions (34 ms)
âœ“ should retrieve executions before `lastId`, excluding it (28 ms)
âœ“ should retrieve executions after `firstId`, excluding it (24 ms)
âœ“ should filter executions by `status` (16 ms)
âœ“ should filter executions by `workflowId` (41 ms)
âœ“ should filter executions by `startedBefore` (11 ms)
âœ“ should filter executions by `startedAfter` (13 ms)
âœ“ should filter executions by `metadata` (16 ms)
âœ“ should filter executions by `projectId` (26 ms)
âœ“ should filter executions by `projectId` and expected `status` (42 ms)
âœ“ should filter executions by `projectId` and expected `waitTill` (23 ms)
âœ“ should filter executions by `projectId` and expected `metadata` (30 ms)
âœ“ should filter executions by `projectId` and expected `startedAfter` (27 ms)
âœ“ should filter executions by `projectId` and expected `startedBefore` (28 ms)
âœ“ should exclude executions by inaccessible `workflowId` (12 ms)
âœ“ should support advanced filters (16 ms)
findLatestCurrentAndCompleted
âœ“ should return latest current and completed executions (82 ms)
âœ“ should handle zero current executions (16 ms)
âœ“ should handle zero completed executions (17 ms)
âœ“ should handle zero executions (4 ms)
âœ“ should prioritize `running` over `new` executions (31 ms)
annotation
âœ“ should add and retrieve annotation (62 ms)
âœ“ should update annotation (44 ms)
âœ“ should filter by annotation tags (30 ms)
âœ“ should filter by annotation vote (39 ms)
2025-04-15T08:41:07.8635626Z
PASS src/scaling/__tests__/pubsub-handler.test.ts
PubSubHandler
in webhook process
âœ“ should set up handlers in webhook process (6 ms)
âœ“ should reload license on `reload-license` event
âœ“ should restart event bus on `restart-event-bus` event
âœ“ should reload providers on `reload-external-secrets-providers` event
âœ“ should install community package on `community-package-install` event (1 ms)
âœ“ should update community package on `community-package-update` event
âœ“ should uninstall community package on `community-package-uninstall` event
in worker process
âœ“ should set up handlers in worker process (1 ms)
âœ“ should reload license on `reload-license` event
âœ“ should restart event bus on `restart-event-bus` event
âœ“ should reload providers on `reload-external-secrets-providers` event (1 ms)
âœ“ should install community package on `community-package-install` event
âœ“ should update community package on `community-package-update` event
âœ“ should uninstall community package on `community-package-uninstall` event
âœ“ should generate status on `get-worker-status` event (1 ms)
in main process
âœ“ should set up command and worker response handlers in main process
âœ“ should reload license on `reload-license` event
âœ“ should restart event bus on `restart-event-bus` event (1 ms)
âœ“ should reload providers on `reload-external-secrets-providers` event
âœ“ should install community package on `community-package-install` event
âœ“ should update community package on `community-package-update` event (4 ms)
âœ“ should uninstall community package on `community-package-uninstall` event
multi-main setup
âœ“ if leader, should handle `add-webhooks-triggers-and-pollers` event (1 ms)
âœ“ if follower, should skip `add-webhooks-triggers-and-pollers` event (4 ms)
âœ“ if leader, should handle `remove-triggers-and-pollers` event (6 ms)
âœ“ if follower, should skip `remove-triggers-and-pollers` event (2 ms)
âœ“ should handle `display-workflow-activation` event (1 ms)
âœ“ should handle `display-workflow-deactivation` event
âœ“ should handle `display-workflow-activation-error` event (1 ms)
âœ“ should handle `relay-execution-lifecycle-event` event
âœ“ should handle `clear-test-webhooks` event (13 ms)
âœ“ should handle `response-to-get-worker-status event (1 ms)
2025-04-15T08:41:07.8641227Z
PASS src/concurrency/__tests__/concurrency-control.service.test.ts
ConcurrencyControlService
constructor
âœ“ should be enabled if production cap is positive (4 ms)
âœ“ should be enabled if evaluation cap is positive
âœ“ should throw if production cap is 0 (2 ms)
âœ“ should throw if evaluation cap is 0
âœ“ should be disabled if both production and evaluation caps are -1 (1 ms)
âœ“ should be disabled if production cap is lower than -1
âœ“ should be disabled if evaluation cap is lower than -1
âœ“ should be disabled on queue mode
if enabled
throttle
âœ“ should do nothing on cli mode (1 ms)
âœ“ should do nothing on error mode
âœ“ should do nothing on integrated mode (1 ms)
âœ“ should do nothing on internal mode
âœ“ should do nothing on manual mode
âœ“ should do nothing on retry mode
âœ“ should enqueue on webhook mode (1 ms)
âœ“ should enqueue on trigger mode
âœ“ should enqueue on evaluation mode
release
âœ“ should do nothing on cli mode
âœ“ should do nothing on error mode (1 ms)
âœ“ should do nothing on integrated mode
âœ“ should do nothing on internal mode
âœ“ should do nothing on manual mode
âœ“ should do nothing on retry mode (1 ms)
âœ“ should dequeue on webhook mode
âœ“ should dequeue on trigger mode
âœ“ should dequeue on evaluation mode
remove
âœ“ should do nothing on cli mode (1 ms)
âœ“ should do nothing on error mode
âœ“ should do nothing on integrated mode
âœ“ should do nothing on internal mode
âœ“ should do nothing on manual mode
âœ“ should do nothing on retry mode (1 ms)
âœ“ should remove an execution on webhook mode
âœ“ should remove an execution on trigger mode
âœ“ should remove an execution on evaluation mode
removeAll
âœ“ should remove all executions from the production queue (1 ms)
âœ“ should remove all executions from the evaluation queue (1 ms)
get queue
âœ“ should choose the production queue
âœ“ should choose the evaluation queue
if disabled
throttle
âœ“ should do nothing
âœ“ should do nothing for evaluation executions (1 ms)
release
âœ“ should do nothing
âœ“ should do nothing for evaluation executions
remove
âœ“ should do nothing
âœ“ should do nothing for evaluation executions
telemetry
on cloud
âœ“ for capacity 5, should report temp cloud threshold if reached (6 ms)
âœ“ for capacity 10, should report temp cloud threshold if reached
âœ“ for capacity 20, should report temp cloud threshold if reached (1 ms)
âœ“ for capacity 50, should report temp cloud threshold if reached
âœ“ for capacity 100, should report temp cloud threshold if reached
âœ“ for capacity 200, should report temp cloud threshold if reached
âœ“ for capacity 4, should not report temp cloud threshold if not reached (1 ms)
âœ“ for capacity 9, should not report temp cloud threshold if not reached
âœ“ for capacity 19, should not report temp cloud threshold if not reached
âœ“ for capacity 49, should not report temp cloud threshold if not reached
âœ“ for capacity 99, should not report temp cloud threshold if not reached
âœ“ for capacity 199, should not report temp cloud threshold if not reached (1 ms)
âœ“ for capacity 6, should not report temp cloud threshold if exceeded
âœ“ for capacity 11, should not report temp cloud threshold if exceeded
âœ“ for capacity 21, should not report temp cloud threshold if exceeded
âœ“ for capacity 51, should not report temp cloud threshold if exceeded
âœ“ for capacity 101, should not report temp cloud threshold if exceeded (1 ms)
âœ“ for capacity 201, should not report temp cloud threshold if exceeded
2025-04-15T08:41:07.8650955Z
PASS src/databases/repositories/__tests__/folder.repository.test.ts
FolderRepository
getMany
filters
âœ“ should return all folders if not filter is provided (16 ms)
âœ“ should filter folders by IDs (27 ms)
âœ“ should filter folders by project ID (17 ms)
âœ“ should filter folders by name case-insensitively (15 ms)
âœ“ should filter folders by parent folder ID (21 ms)
âœ“ should filter folders by a single tag (15 ms)
âœ“ should filter folders by multiple tags (AND operator) (27 ms)
âœ“ should apply multiple filters together (18 ms)
select
âœ“ should select only id and name when specified (20 ms)
âœ“ should return id, name and tags when specified (22 ms)
âœ“ should return id, name and project when specified (31 ms)
âœ“ should return id, name and parentFolder when specified (20 ms)
âœ“ should return id, name and workflowCount when specified (10 ms)
âœ“ should return id, name and subFolderCount when specified (19 ms)
âœ“ should return timestamps when specified (15 ms)
âœ“ should return all properties when no select is specified (14 ms)
pagination
âœ“ should limit results when take is specified (27 ms)
âœ“ should skip results when skip is specified (12 ms)
âœ“ should handle skip and take together (48 ms)
âœ“ should handle take larger than remaining items (17 ms)
âœ“ should handle zero take by returning all results (18 ms)
sorting
âœ“ should sort by default (updatedAt:desc) (20 ms)
âœ“ should sort by name:asc (16 ms)
âœ“ should sort by name:desc (15 ms)
âœ“ should sort by name:desc when select does not include the name (13 ms)
âœ“ should sort by createdAt:asc (8 ms)
âœ“ should sort by createdAt:desc (28 ms)
âœ“ should sort by updatedAt:asc (32 ms)
âœ“ should sort by updatedAt:desc (19 ms)
âœ“ should default to asc if order not specified (24 ms)
2025-04-15T08:41:07.8655727Z
PASS test/integration/ldap/ldap.api.test.ts
âœ“ Member role should not be able to access ldap routes (55 ms)
âœ“ GET /ldap/config route should retrieve current configuration (29 ms)
âœ“ GET /ldap/sync should return paginated synchronizations (28 ms)
PUT /ldap/config
âœ“ route should validate payload (48 ms)
âœ“ route should update model (26 ms)
âœ“ route should fail due to trying to enable LDAP login with SSO as current authentication method (11 ms)
âœ“ should apply "Convert all LDAP users to email users" strategy when LDAP login disabled (50 ms)
POST /ldap/test-connection
âœ“ route should success (11 ms)
âœ“ route should fail (10 ms)
POST /ldap/sync
dry mode
âœ“ should detect new user but not persist change in model (15 ms)
âœ“ should detect updated user but not persist change in model (20 ms)
âœ“ should detect disabled user but not persist change in model (30 ms)
live mode
âœ“ should detect new user and persist change in model (21 ms)
âœ“ should detect updated user and persist change in model (43 ms)
âœ“ should detect disabled user and persist change in model (43 ms)
âœ“ should remove user instance access once the user is disabled during synchronization (44 ms)
POST /login
âœ“ should allow new LDAP user to login and synchronize data (30 ms)
âœ“ should allow existing LDAP user to login and synchronize data (95 ms)
âœ“ should allow instance owner to sign in with email/password when LDAP is enabled (75 ms)
âœ“ should transform email user into LDAP user when match found (96 ms)
Instance owner should able to delete LDAP users
âœ“ don't transfer workflows (24 ms)
âœ“ transfer workflows and credentials (29 ms)
2025-04-15T08:41:07.8659587Z
PASS src/auth/__tests__/auth.service.test.ts
AuthService
createJWTHash
âœ“ should generate unique hashes (8 ms)
authMiddleware
âœ“ should 401 if no cookie is set (1 ms)
âœ“ should 401 and clear the cookie if the JWT is expired (3 ms)
âœ“ should 401 and clear the cookie if the JWT has been invalidated (1 ms)
âœ“ should refresh the cookie before it expires (2 ms)
issueCookie
âœ“ should issue a cookie with the correct options (1 ms)
âœ“ should allow changing cookie options
issueJWT
when not setting userManagement.jwtSessionDuration
âœ“ should default to expire in 7 days (1 ms)
when setting userManagement.jwtSessionDuration
âœ“ should apply it to tokens (2 ms)
resolveJwt
âœ“ should throw on invalid tokens (12 ms)
âœ“ should throw on expired tokens (1 ms)
âœ“ should throw on tampered tokens (2 ms)
âœ“ should throw on hijacked tokens (1 ms)
âœ“ should throw if no user is found (1 ms)
âœ“ should throw if the user is disabled (1 ms)
âœ“ should throw if user password does not match the one on the token (1 ms)
âœ“ should throw if user email does not match the one on the token
âœ“ should refresh the cookie before it expires (2 ms)
âœ“ should refresh the cookie only if less than 1/4th of time is left (4 ms)
âœ“ should not refresh the cookie if jwtRefreshTimeoutHours is set to -1 (2 ms)
generatePasswordResetUrl
âœ“ should generate a valid url (2 ms)
generatePasswordResetToken
âœ“ should generate valid password-reset tokens (2 ms)
resolvePasswordResetToken
âœ“ should not return a user if the token in invalid (1 ms)
âœ“ should not return a user if the token in expired
âœ“ should not return a user if the user does not exist in the DB
âœ“ should not return a user if the password sha does not match (1 ms)
âœ“ should not return the user if all checks pass (4 ms)
invalidateToken
âœ“ should invalidate the token
2025-04-15T08:41:07.8664701Z
PASS src/services/__tests__/community-packages.service.test.ts
CommunityPackagesService
parseNpmPackageName()
âœ“ should fail with empty package name (18 ms)
âœ“ should fail with invalid package prefix name (1 ms)
âœ“ should parse valid package name
âœ“ should parse valid package name and version (1 ms)
âœ“ should parse valid package name, scope and version
executeCommand()
âœ“ should call command with valid options (1 ms)
âœ“ should make sure folder exists
âœ“ should try to create folder if it does not exist (1 ms)
âœ“ should throw especial error when package is not found (1 ms)
crossInformationPackage()
âœ“ should return same list if availableUpdates is undefined
âœ“ should correctly match update versions for packages
âœ“ should correctly match update versions for single package
matchMissingPackages()
âœ“ should not match failed packages that do not exist (4 ms)
âœ“ should match failed packages that should be present (1 ms)
âœ“ should match failed packages even if version is wrong
checkNpmPackageStatus()
âœ“ should call axios.post
âœ“ should not fail if request fails
âœ“ should warn if package is banned
hasPackageLoadedSuccessfully()
âœ“ should return true when failed package list does not exist
âœ“ should return true when package is not in the list of missing packages
âœ“ should return false when package is in the list of missing packages
removePackageFromMissingList()
âœ“ should do nothing if key does not exist (1 ms)
âœ“ should remove only correct package from list
âœ“ should not remove if package is not in the list
updateNpmModule
âœ“ should call `exec` with the correct command and registry (1 ms)
âœ“ should throw when not licensed (1 ms)
2025-04-15T08:41:07.8669964Z
PASS test/integration/public-api/executions.test.ts
GET /executions/:id
âœ“ should fail due to missing API Key (31 ms)
âœ“ should fail due to invalid API Key (17 ms)
âœ“ owner should be able to get an execution owned by him (294 ms)
âœ“ owner should be able to read executions of other users (22 ms)
âœ“ member should be able to fetch his own executions (16 ms)
âœ“ member should not be able to fetch custom data when includeData is not set (40 ms)
âœ“ member should be able to fetch custom data when includeData=true (47 ms)
âœ“ member should not get an execution of another user without the workflow being shared (19 ms)
âœ“ member should be able to fetch executions of workflows shared with him (18 ms)
DELETE /executions/:id
âœ“ should fail due to missing API Key (8 ms)
âœ“ should fail due to invalid API Key (8 ms)
âœ“ should delete an execution (38 ms)
GET /executions
âœ“ should fail due to missing API Key (16 ms)
âœ“ should fail due to invalid API Key (5 ms)
âœ“ should retrieve all successful executions (31 ms)
âœ“ should paginate two executions (36 ms)
âœ“ should retrieve all error executions (26 ms)
âœ“ should return all waiting executions (36 ms)
âœ“ should retrieve all executions of specific workflow (39 ms)
âœ“ should return executions filtered by project ID (24 ms)
âœ“ owner should retrieve all executions regardless of ownership (70 ms)
âœ“ member should not see executions of workflows not shared with him (50 ms)
âœ“ member should also see executions of workflows shared with him (49 ms)
2025-04-15T08:41:07.8674756Z
PASS test/integration/deduplication/deduplication-helper.test.ts
Deduplication.DeduplicationHelper
âœ“ Deduplication (mode: entries): DeduplicationHelper should record and check data correctly (10 ms)
âœ“ Deduplication (mode: entries): DeduplicationHelper different contexts should not interfere with each other (10 ms)
âœ“ Deduplication (mode: entries): DeduplicationHelper check maxEntries (6 ms)
âœ“ removeProcessed should throw error for latest modes (14 ms)
âœ“ clearAllProcessedItems should delete all processed items for workflow scope (4 ms)
âœ“ clearAllProcessedItems should delete all processed items for node scope (4 ms)
âœ“ clearAllProcessedItems should not clear workflow processed items when clearing node scope (6 ms)
âœ“ clearAllProcessedItems should not clear node processed items when clearing workflow scope (16 ms)
âœ“ getProcessedDataCount should return correct count for different modes (5 ms)
Deduplication (mode: latestIncrementalKey): DeduplicationHelper should record and check data correctly
âœ“ dates (14 ms)
âœ“ numbers (4 ms)
2025-04-15T08:41:07.8678495Z
PASS test/integration/evaluation/test-definitions.api.test.ts (5.41 s)
GET /evaluation/test-definitions
âœ“ should retrieve empty test definitions list (50 ms)
âœ“ should retrieve test definitions list (30 ms)
âœ“ should retrieve test definitions list with pagination (47 ms)
âœ“ should retrieve test definitions list for a workflow (76 ms)
âœ“ should return error if user has no access to the workflowId specified in filter (39 ms)
GET /evaluation/test-definitions/:id
âœ“ should retrieve test definition (21 ms)
âœ“ should return 404 for non-existent test definition (29 ms)
âœ“ should retrieve test definition with evaluation workflow (35 ms)
âœ“ should not retrieve test definition if user does not have access to workflow under test (33 ms)
POST /evaluation/test-definitions
âœ“ should create test definition (25 ms)
âœ“ should create test definition with evaluation workflow (43 ms)
âœ“ should create test definition with all fields (32 ms)
âœ“ should return error if name is empty (27 ms)
âœ“ should return error if user has no access to the workflow (43 ms)
âœ“ should return error if user has no access to the evaluation workflow (35 ms)
PATCH /evaluation/test-definitions/:id
âœ“ should update test definition (44 ms)
âœ“ should return 404 if user has no access to the workflow (26 ms)
âœ“ should update test definition with evaluation workflow (44 ms)
âœ“ should return error if user has no access to the evaluation workflow (35 ms)
âœ“ should disallow workflowId (33 ms)
âœ“ should update annotationTagId (43 ms)
âœ“ should return error if annotationTagId is invalid (36 ms)
âœ“ should update pinned nodes (39 ms)
âœ“ should return error if pinned nodes are invalid (21 ms)
âœ“ should return error if pinned nodes are not in the workflow (25 ms)
DELETE /evaluation/test-definitions/:id
âœ“ should delete test definition (46 ms)
âœ“ should return 404 if test definition does not exist (40 ms)
âœ“ should return 404 if user has no access to the workflow (40 ms)
POST /evaluation/test-definitions/:id/run
âœ“ should trigger the test run (31 ms)
2025-04-15T08:41:07.8685047Z
PASS src/__tests__/load-nodes-and-credentials.test.ts
LoadNodesAndCredentials
resolveIcon
âœ“ should return undefined if the loader for the package is not found (2 ms)
âœ“ should return undefined if the resolved file path is outside the loader directory
âœ“ should return the file path if the file is within the loader directory
âœ“ should return undefined if the URL is outside the package directory (1 ms)
convertNodeToAiTool
âœ“ should modify the name and displayName correctly
âœ“ should update inputs and outputs (1 ms)
âœ“ should remove the usableAsTool property (1 ms)
âœ“ should add toolDescription property if it doesn't exist (1 ms)
âœ“ should set codex categories correctly
âœ“ should preserve existing properties (1 ms)
âœ“ should handle nodes with resource property
âœ“ should handle nodes with operation property (1 ms)
âœ“ should handle nodes with both resource and operation properties (10 ms)
âœ“ should handle nodes with empty properties
âœ“ should handle nodes with existing codex property (1 ms)
âœ“ should handle nodes with existing codex with tool subcategory overwrite
âœ“ should handle nodes with very long names
âœ“ should handle nodes with special characters in name and displayName (1 ms)
resolveSchema
âœ“ should return undefined if the node is not known
âœ“ should return the correct path if the node is known
âœ“ should return the correct path if there is no resource or operation
createAiTools
âœ“ should create AI tools for nodes marked as usableAsTool
âœ“ should duplicate supportedNodes for AI tools (1 ms)
âœ“ should not modify nodes without usableAsTool property
âœ“ should handle nodes with usableAsTool as an object with replacements
2025-04-15T08:41:07.8690960Z
PASS test/integration/controllers/invitation/invitation.controller.integration.test.ts
InvitationController
POST /invitations/:id/accept
âœ“ should fill out a member shell (139 ms)
âœ“ should fill out an admin shell (87 ms)
âœ“ should fail with invalid payloads (24 ms)
âœ“ should fail with already accepted invite (86 ms)
POST /invitations
âœ“ should fail with invalid payloads (50 ms)
âœ“ should return 200 on empty payload (6 ms)
âœ“ should return 200 if emailing is not set up (8 ms)
âœ“ should create member shell (7 ms)
âœ“ should create personal project for shell account (9 ms)
âœ“ should create admin shell when advanced permissions is licensed (7 ms)
âœ“ should reinvite member when sharing is licensed (12 ms)
âœ“ should reinvite admin when advanced permissions is licensed (12 ms)
âœ“ should return 403 on creating admin shell when advanced permissions is unlicensed (11 ms)
âœ“ should email invites and create user shells, without inviting existing users (32 ms)
âœ“ should return 200 and surface error when invite method throws error (23 ms)
2025-04-15T08:41:07.8694598Z
PASS src/controllers/oauth/__tests__/oauth2-credential.controller.test.ts
OAuth2CredentialController
getAuthUri
âœ“ should throw a BadRequestError when credentialId is missing in the query (19 ms)
âœ“ should throw a NotFoundError when no matching credential is found for the user (1 ms)
âœ“ should return a valid auth URI (4 ms)
handleCallback
âœ“ should render the error page when required query params are missing (1 ms)
âœ“ should render the error page when `state` query param is invalid
âœ“ should render the error page when credential is not found in DB (1 ms)
âœ“ should render the error page when csrfSecret on the saved credential does not match the state (1 ms)
âœ“ should render the error page when state is older than 5 minutes
âœ“ should render the error page when code exchange fails (47 ms)
âœ“ should exchange the code for a valid token, and save it to DB (24 ms)
âœ“ merges oauthTokenData if it already exists (10 ms)
âœ“ overwrites oauthTokenData if it is a string (17 ms)
2025-04-15T08:41:07.8697900Z
PASS test/integration/variables.test.ts
GET /variables
âœ“ should return an empty array if there is nothing in the cache (27 ms)
âœ“ should return all variables for an owner (14 ms)
âœ“ should return all variables for a member (18 ms)
state:empty
âœ“ only return empty variables (14 ms)
GET /variables/:id
âœ“ should return a single variable for an owner (16 ms)
âœ“ should return a single variable for a member (15 ms)
POST /variables
âœ“ should create a new variable and return it for an owner (15 ms)
âœ“ should not create a new variable and return it for a member (8 ms)
âœ“ should not create a new variable and return it if the instance doesn't have a license (6 ms)
âœ“ should fail to create a new variable and if one with the same key exists (14 ms)
âœ“ should not fail if variable limit not reached (8 ms)
âœ“ should fail if variable limit reached (28 ms)
âœ“ should fail if key too long (5 ms)
âœ“ should fail if value too long (4 ms)
âœ“ should fail if key contain's prohibited characters (6 ms)
PATCH /variables/:id
âœ“ should modify existing variable if use is an owner (10 ms)
âœ“ should modify existing variable if use is an owner (6 ms)
âœ“ should not modify existing variable if use is a member (7 ms)
âœ“ should not modify existing variable if one with the same key exists (8 ms)
DELETE /variables/:id
âœ“ should delete a single variable for an owner (16 ms)
âœ“ should not delete a single variable for a member (14 ms)
2025-04-15T08:41:07.8703608Z
PASS src/workflows/__tests__/workflow-execution.service.test.ts
WorkflowExecutionService
runWorkflow()
âœ“ should call `WorkflowRunner.run()` (3 ms)
executeManually()
âœ“ should call `WorkflowRunner.run()` with correct parameters with default partial execution logic (2 ms)
âœ“ removes runData if the destination node is a trigger (1 ms)
âœ“ should call WorkflowRunner.run() with pinned trigger with type trigger (2 ms)
âœ“ should call WorkflowRunner.run() with pinned trigger with type webhook (2 ms)
âœ“ should start from pinned trigger (1 ms)
âœ“ should ignore pinned trigger and start from unexecuted trigger (1 ms)
selectPinnedActivatorStarter()
âœ“ should return `null` if no pindata
âœ“ should return `null` if no starter nodes (1 ms)
âœ“ should select webhook node if only choice
âœ“ should return `null` if no choice (1 ms)
âœ“ should return ignore Respond to Webhook
âœ“ should select execute workflow trigger if only choice (1 ms)
âœ“ should favor webhook node over execute workflow trigger
âœ“ should favor first webhook node over second webhook node (1 ms)
offloading manual executions to workers
âœ“ when receiving no `runData`, should set `runData` to undefined in `executionData` (4 ms)
2025-04-15T08:41:07.8708000Z
PASS src/__tests__/manual-execution.service.test.ts
ManualExecutionService
getExecutionStartNode
âœ“ Should return undefined (2 ms)
âœ“ Should return startNode
âœ“ Should return triggerToStartFrom trigger node
runManually
âœ“ should correctly process triggerToStartFrom data when data.triggerToStartFrom.data is present (2 ms)
âœ“ should correctly include destinationNode in executionData when provided (1 ms)
âœ“ should call workflowExecute.run for full execution when no runData or startNodes (1 ms)
âœ“ should use execution start node when available for full execution (1 ms)
âœ“ should handle partial execution with provided runData, startNodes and no destinationNode (1 ms)
âœ“ should handle partial execution with partialExecutionVersion=2
âœ“ should validate nodes exist before execution
âœ“ should handle pinData correctly when provided (1 ms)
2025-04-15T08:41:07.8710855Z
PASS test/integration/mfa/mfa.api.test.ts
Enable MFA setup
Step one
âœ“ GET /qr should fail due to unauthenticated user (42 ms)
âœ“ GET /qr should reuse secret and recovery codes until setup is complete (53 ms)
âœ“ GET /qr should return qr, secret and recovery codes (20 ms)
Step two
âœ“ POST /verify should fail due to unauthenticated user (12 ms)
âœ“ POST /verify should fail due to invalid MFA code (18 ms)
âœ“ POST /verify should fail due to missing mfaCode parameter (19 ms)
âœ“ POST /verify should validate MFA code (15 ms)
Step three
âœ“ POST /enable should fail due to unauthenticated user (9 ms)
âœ“ POST /verify should fail due to missing mfaCode parameter (11 ms)
âœ“ POST /enable should fail due to invalid MFA code (24 ms)
âœ“ POST /enable should fail due to empty secret and recovery codes (32 ms)
âœ“ POST /enable should enable MFA in account (35 ms)
âœ“ POST /enable should not enable MFA if pre check fails (20 ms)
Disable MFA setup
âœ“ POST /disable should disable login with MFA (31 ms)
âœ“ POST /disable should fail if invalid MFA recovery code is given (35 ms)
âœ“ POST /disable should fail if invalid MFA code is given (25 ms)
âœ“ POST /disable should fail if neither MFA code nor recovery code is sent (35 ms)
Change password with MFA enabled
âœ“ POST /change-password should fail due to missing MFA code (41 ms)
âœ“ POST /change-password should fail due to invalid MFA code (26 ms)
âœ“ POST /change-password should update password (146 ms)
MFA before enable checks
âœ“ POST /can-enable should throw error if mfa.beforeSetup returns error (18 ms)
âœ“ POST /can-enable should not throw error if mfa.beforeSetup does not exist (21 ms)
Login
âœ“ POST /login with email/password should succeed when mfa is disabled (45 ms)
âœ“ GET /login should not include mfaSecret and mfaRecoveryCodes property in response (14 ms)
âœ“ POST /login with email/password should fail when mfa is enabled (23 ms)
Login with MFA token
âœ“ POST /login should fail due to invalid MFA token (41 ms)
âœ“ POST /login should fail due two MFA step needed (18 ms)
âœ“ POST /login should succeed with MFA token (48 ms)
Login with recovery code
âœ“ POST /login should fail due to invalid MFA recovery code (32 ms)
âœ“ POST /login should succeed with MFA recovery code (51 ms)
2025-04-15T08:41:07.8718467Z
PASS src/controllers/__tests__/me.controller.test.ts
MeController
updateCurrentUser
âœ“ should update the user in the DB, and issue a new cookie (9 ms)
âœ“ should throw BadRequestError if beforeUpdate hook throws BadRequestError (15 ms)
when mfa is enabled
âœ“ should throw BadRequestError if mfa code is missing (1 ms)
âœ“ should throw InvalidMfaCodeError if mfa code is invalid (1 ms)
âœ“ should update the user's email if mfa code is valid (1 ms)
updatePassword
âœ“ should throw if the user does not have a password set (1 ms)
âœ“ should throw if currentPassword does not match the user's password (62 ms)
âœ“ should update the password in the DB, and issue a new cookie (113 ms)
should throw if newPassword is not valid
âœ“ pass (67 ms)
âœ“ password (58 ms)
âœ“ password1 (56 ms)
mfa enabled
âœ“ should throw BadRequestError if mfa code is missing (55 ms)
âœ“ should throw InvalidMfaCodeError if invalid mfa code is given (55 ms)
âœ“ should succeed when mfa code is correct (110 ms)
storeSurveyAnswers
âœ“ should throw BadRequestError if answers are missing in the payload (4 ms)
âœ“ should not flag XSS attempt for `<` sign in company size (4 ms)
âœ“ should throw BadRequestError on XSS attempt for an array field automationGoalDevops (1 ms)
âœ“ should throw BadRequestError on XSS attempt for an array field companyIndustryExtended (1 ms)
âœ“ should throw BadRequestError on XSS attempt for an array field otherCompanyIndustryExtended
âœ“ should throw BadRequestError on XSS attempt for an array field automationGoalSm (1 ms)
âœ“ should throw BadRequestError on XSS attempt for an array field usageModes
âœ“ should throw BadRequestError on XSS attempt for a string field automationGoalDevopsOther
âœ“ should throw BadRequestError on XSS attempt for a string field companySize (1 ms)
âœ“ should throw BadRequestError on XSS attempt for a string field companyType
âœ“ should throw BadRequestError on XSS attempt for a string field automationGoalSmOther (1 ms)
âœ“ should throw BadRequestError on XSS attempt for a string field roleOther
âœ“ should throw BadRequestError on XSS attempt for a string field reportedSource (1 ms)
âœ“ should throw BadRequestError on XSS attempt for a string field reportedSourceOther
2025-04-15T08:41:07.8725794Z
PASS src/webhooks/__tests__/webhook-helpers.test.ts
autoDetectResponseMode
âœ“ should return undefined if start node is WAIT_NODE_TYPE with resume not equal to form (9 ms)
âœ“ should return responseNode when start node is FORM_NODE_TYPE and method is POST (1 ms)
âœ“ should return undefined when start node is FORM_NODE_TYPE with no other form child nodes
âœ“ should return undefined for non-matching node type and method (1 ms)
handleFormRedirectionCase
âœ“ should return data unchanged if start node is WAIT_NODE_TYPE with resume not equal to form
âœ“ should modify data if start node type matches and responseCode is a redirect (1 ms)
âœ“ should not modify data if location header is missing (1 ms)
getResponseOnReceived
âœ“ should return response with no data when responseData is "noData"
âœ“ should return response with responseData when it is defined (1 ms)
âœ“ should return response with webhookResponse when responseData is falsy but webhookResponse exists
âœ“ should return default response message when responseData and webhookResponse are falsy (1 ms)
setupResponseNodePromise
âœ“ should handle regular response object (1 ms)
âœ“ should handle binary data with ID (2 ms)
âœ“ should handle buffer response (1 ms)
âœ“ should handle errors properly (1 ms)
prepareExecutionData
âœ“ should create new execution data when not provided (1 ms)
âœ“ should update existing runExecutionData when executionId is defined (1 ms)
âœ“ should set destination node when provided
âœ“ should update execution data with execution data merge
âœ“ should set pinData when execution mode is manual (1 ms)
âœ“ should not set pinData when execution mode is not manual or evaluation
2025-04-15T08:41:07.8731477Z
PASS test/integration/me.api.test.ts
Owner shell
âœ“ PATCH /me should succeed with valid inputs (75 ms)
âœ“ PATCH /me should fail with invalid inputs (92 ms)
âœ“ PATCH /me/password should fail for shell (103 ms)
âœ“ POST /me/survey should succeed with valid inputs (38 ms)
Member
âœ“ PATCH /me should succeed with valid inputs (36 ms)
âœ“ PATCH /me should fail with invalid inputs (91 ms)
âœ“ PATCH /me/password should succeed with valid inputs (123 ms)
âœ“ PATCH /me/password should fail with invalid inputs (93 ms)
âœ“ POST /me/survey should succeed with valid inputs (32 ms)
Owner
âœ“ PATCH /me should succeed with valid inputs (21 ms)
2025-04-15T08:41:07.8733772Z
PASS src/webhooks/__tests__/webhook.service.test.ts
WebhookService
findWebhook() - static case [cache enabled]
âœ“ should return the webhook if found (3 ms)
âœ“ should return null if not found (1 ms)
findWebhook() - dynamic case [cache enabled]
âœ“ should return the webhook if found (1 ms)
âœ“ should handle subset dynamic path case
âœ“ should handle single-segment dynamic path case (1 ms)
âœ“ should return null if not found
findWebhook() - static case [cache disabled]
âœ“ should return the webhook if found (1 ms)
âœ“ should return null if not found
findWebhook() - dynamic case [cache disabled]
âœ“ should return the webhook if found
âœ“ should handle subset dynamic path case (1 ms)
âœ“ should handle single-segment dynamic path case
âœ“ should return null if not found
getWebhookMethods()
âœ“ should return all methods for webhook (1 ms)
âœ“ should return empty array if no webhooks found
deleteWorkflowWebhooks()
âœ“ should delete all webhooks of the workflow
âœ“ should not delete any webhooks if none found (1 ms)
createWebhook()
âœ“ should store webhook in DB
getNodeWebhooks()
âœ“ should return empty array if node is disabled
âœ“ should return webhooks for node with webhook definitions
createWebhookIfNotExists()
âœ“ should create webhook if it does not exist (3 ms)
âœ“ should not create webhook if it already exists (1 ms)
âœ“ should handle case when webhook methods are not defined
deleteWebhook()
âœ“ should call runWebhookMethod with delete (1 ms)
runWebhook()
âœ“ should throw error if node does not have webhooks (12 ms)
âœ“ should execute webhook and return response data (1 ms)
2025-04-15T08:41:07.8738920Z
(node:5742) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 uncaughtException listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
PASS test/integration/environments/source-control-import.service.test.ts
SourceControlImportService
importCredentialsFromWorkFolder()
if user email specified by `ownedBy` exists at target instance
âœ“ should assign credential ownership to original user (31 ms)
if user email specified by `ownedBy` is `null`
âœ“ should assign credential ownership to importing user (7 ms)
if user email specified by `ownedBy` does not exist at target instance
âœ“ should assign credential ownership to importing user (6 ms)
if owner specified by `ownedBy` does not exist at target instance
âœ“ should assign the credential ownership to the importing user if it was owned by a personal project in the source instance (8 ms)
âœ“ should create a new team project if the credential was owned by a team project in the source instance (17 ms)
if owner specified by `ownedBy` does exist at target instance
âœ“ should use the existing team project if credential owning project is found (9 ms)
âœ“ should not change the owner if the credential is owned by somebody else on the target instance (12 ms)
2025-04-15T08:41:07.8742761Z
PASS test/integration/auth.api.test.ts
POST /login
âœ“ should log user in (45 ms)
âœ“ should log user with MFA enabled (23 ms)
âœ“ should throw AuthError for non-owner if not within users limit quota (58 ms)
âœ“ should not throw AuthError for owner if not within users limit quota (27 ms)
âœ“ should fail with invalid email in the payload is the current authentication method is "email" (19 ms)
GET /login
âœ“ should return 401 Unauthorized if no cookie (9 ms)
âœ“ should return 401 Unauthorized if invalid cookie (3 ms)
âœ“ should return logged-in owner shell (12 ms)
âœ“ should return logged-in member shell (14 ms)
âœ“ should return logged-in owner (14 ms)
âœ“ should return logged-in member (16 ms)
GET /resolve-signup-token
âœ“ should validate invite token (22 ms)
âœ“ should return 403 if user quota reached (22 ms)
âœ“ should fail with invalid inputs (29 ms)
POST /logout
âœ“ should log user out (15 ms)
2025-04-15T08:41:07.8746532Z
PASS test/integration/commands/ldap/reset.test.ts
âœ“ fails if neither `--userId` nor `--projectId` nor `--deleteWorkflowsAndCredentials` is passed (31 ms)
âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (4 ms)
âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
--deleteWorkflowsAndCredentials
âœ“ deletes personal projects, workflows and credentials owned by LDAP managed users (136 ms)
âœ“ deletes the LDAP sync history (8 ms)
âœ“ resets LDAP settings (20 ms)
--userId
âœ“ fails if the user does not exist (5 ms)
âœ“ fails if the user to migrate to is also an LDAP user (13 ms)
âœ“ transfers all workflows and credentials to the user's personal project (77 ms)
--projectId
âœ“ fails if the project does not exist (3 ms)
âœ“ fails if the user to migrate to is also an LDAP user (8 ms)
âœ“ transfers all workflows and credentials to a personal project (50 ms)
âœ“ transfers all workflows and credentials to a team project (64 ms)
2025-04-15T08:41:07.8750405Z
PASS src/executions/pre-execution-checks/__tests__/subworkflow-policy-checker.test.ts
SubworkflowPolicyChecker
no caller policy
âœ“ should fall back to `N8N_WORKFLOW_CALLER_POLICY_DEFAULT_OPTION` (13 ms)
`workflows-from-list` caller policy
âœ“ should allow if caller list contains parent workflow ID (1 ms)
âœ“ should deny if caller list does not contain parent workflow ID
`any` caller policy
âœ“ should not throw on a regular subworkflow call (1 ms)
`workflows-from-same-owner` caller policy
âœ“ should deny if the two workflows are owned by different projects
âœ“ should allow if both workflows are owned by the same project (1 ms)
error details
âœ“ should contain description for accessible case (1 ms)
âœ“ should contain description for inaccessible personal project case
âœ“ should contain description for inaccessible team project case (1 ms)
âœ“ should contain description for default (e.g. error workflow) case
2025-04-15T08:41:07.8753580Z
PASS src/__tests__/active-executions.test.ts
ActiveExecutions
âœ“ Should initialize activeExecutions with empty list (4 ms)
âœ“ Should add execution to active execution list (1 ms)
âœ“ Should update execution if add is called with execution ID (1 ms)
âœ“ Should attach and resolve response promise to existing execution (1 ms)
âœ“ Should copy over startedAt and responsePromise when resuming a waiting execution (1 ms)
attachWorkflowExecution
âœ“ Should fail attaching execution to invalid executionId (14 ms)
âœ“ Should successfully attach execution to valid executionId
finalizeExecution
âœ“ Should not remove a waiting execution
âœ“ Should remove an existing execution (8 ms)
âœ“ Should not try to resolve a post-execute promise for an inactive execution
âœ“ Should resolve post execute promise on removal (3 ms)
getPostExecutePromise
âœ“ Should throw error when trying to create a promise with invalid execution (1 ms)
stopExecution
âœ“ Should cancel ongoing executions (2 ms)
âœ“ Should cancel waiting executions
shutdown
âœ“ Should cancel only executions with response-promises by default (8 ms)
âœ“ Should cancel all executions when cancelAll is true (2 ms)
2025-04-15T08:41:07.8758018Z
PASS src/telemetry/__tests__/telemetry.test.ts
Telemetry
trackWorkflowExecution
âœ“ should count executions correctly (6 ms)
âœ“ should fire "Workflow execution errored" event for failed executions (2 ms)
âœ“ should track production executions count correctly (7 ms)
Rudderstack
âœ“ should call rudderStack.identify() with a fake IP address to instruct Rudderstack to not use the user's IP address
âœ“ should call rudderStack.track() with a fake IP address to instruct Rudderstack to not use the user's IP address
2025-04-15T08:41:07.8760084Z
PASS test/integration/public-api/credentials.test.ts
POST /credentials
âœ“ should create credentials (194 ms)
âœ“ should fail with invalid inputs (21 ms)
DELETE /credentials/:id
âœ“ should delete owned cred for owner (15 ms)
âœ“ should delete non-owned cred for owner (24 ms)
âœ“ should delete owned cred for member (47 ms)
âœ“ should delete owned cred for member but leave others untouched (42 ms)
âœ“ should not delete non-owned cred for member (23 ms)
âœ“ should fail if cred not found (11 ms)
GET /credentials/schema/:credentialType
âœ“ should fail due to not found type (6 ms)
âœ“ should retrieve credential type (5 ms)
PUT /credentials/:id/transfer
âœ“ should transfer credential to project (66 ms)
âœ“ should transfer the right credential, not the first one it finds (30 ms)
âœ“ if no destination project, should reject (14 ms)
2025-04-15T08:41:07.8763237Z
PASS test/integration/eventbus.ee.test.ts
âœ“ should have a running logwriter process (2 ms)
âœ“ should have logwriter log messages (15 ms)
âœ“ should anonymize audit message to syslog  (6 ms)
âœ“ should send message to webhook  (6 ms)
âœ“ should send message to sentry  (4 ms)
âœ“ DELETE /eventbus/destination delete all destinations by id (14 ms)
GET /eventbus/destination
âœ“ should fail due to missing authentication (11 ms)
âœ“ all returned destinations should exist in eventbus (7 ms)
POST /eventbus/destination
âœ“ create syslog destination (7 ms)
âœ“ create sentry destination (5 ms)
âœ“ create webhook destination (6 ms)
2025-04-15T08:41:07.8765638Z
PASS test/integration/external-secrets/external-secrets.api.test.ts
GET /external-secrets/providers
âœ“ can retrieve providers as owner (20 ms)
âœ“ can not retrieve providers as non-owner (23 ms)
âœ“ does obscure passwords (7 ms)
GET /external-secrets/providers/:provider
âœ“ can retrieve provider as owner (6 ms)
âœ“ can not retrieve provider as non-owner (12 ms)
âœ“ does obscure passwords (9 ms)
POST /external-secrets/providers/:provider
âœ“ can update provider settings (13 ms)
âœ“ can update provider settings with blanking value (21 ms)
POST /external-secrets/providers/:provider/connect
âœ“ can change provider connected state (11 ms)
POST /external-secrets/providers/:provider/test
âœ“ can test provider (6 ms)
âœ“ can test provider fail (5 ms)
POST /external-secrets/providers/:provider/update
âœ“ can update provider (9 ms)
âœ“ can not update errored provider (24 ms)
âœ“ can not update provider without a valid license (10 ms)
GET /external-secrets/secrets
âœ“ can get secret names as owner (4 ms)
âœ“ can not get secret names as non-owner (4 ms)
2025-04-15T08:41:07.8769401Z
PASS test/integration/active-workflow-manager.test.ts
init()
âœ“ should load workflows into memory (24 ms)
âœ“ should call external hook (3 ms)
âœ“ should check that workflow can be activated (33 ms)
isActive()
âœ“ should return `true` for active workflow in storage (29 ms)
âœ“ should return `false` for inactive workflow in storage (24 ms)
add()
âœ“ should count workflow triggers correctly when node has multiple webhooks (11 ms)
in single-main mode
âœ“ should add webhooks, triggers and pollers for workflow in 'activate' activation mode (11 ms)
âœ“ should add webhooks, triggers and pollers for workflow in 'update' activation mode (18 ms)
removeAll()
âœ“ should remove all active workflows from memory (19 ms)
remove()
in single-main mode
âœ“ should remove all webhooks of a workflow from database (22 ms)
âœ“ should remove all webhooks of a workflow from external service (20 ms)
âœ“ should stop running triggers and pollers (14 ms)
executeErrorWorkflow()
âœ“ should be called on failure to activate due to 401 (17 ms)
addWebhooks()
âœ“ should call `WebhookService.storeWebhook()` (28 ms)
2025-04-15T08:41:07.8773676Z
PASS test/integration/evaluation/test-runs.api.test.ts
GET /evaluation/test-definitions/:testDefinitionId/runs
âœ“ should retrieve empty list of runs for a test definition (40 ms)
âœ“ should return 404 if test definition does not exist (43 ms)
âœ“ should return 404 if user does not have access to test definition (20 ms)
âœ“ should retrieve list of runs for a test definition (34 ms)
âœ“ should retrieve list of runs for a test definition with pagination (62 ms)
GET /evaluation/test-definitions/:testDefinitionId/runs/:id
âœ“ should retrieve test run for a test definition (30 ms)
âœ“ should return 404 if test run does not exist (24 ms)
âœ“ should return 404 if user does not have access to test definition (39 ms)
âœ“ should retrieve test run for a test definition of a shared workflow (55 ms)
DELETE /evaluation/test-definitions/:testDefinitionId/runs/:id
âœ“ should delete test run for a test definition (33 ms)
âœ“ should return 404 if test run does not exist (59 ms)
âœ“ should return 404 if user does not have access to test definition (24 ms)
POST /evaluation/test-definitions/:testDefinitionId/runs/:id/cancel
âœ“ should cancel test run (55 ms)
âœ“ should return 404 if test run does not exist (21 ms)
âœ“ should return 404 if test definition does not exist (32 ms)
âœ“ should return 404 if user does not have access to test definition (26 ms)
2025-04-15T08:41:07.8777965Z
PASS test/integration/prometheus-metrics.test.ts
PrometheusMetricsService
âœ“ should return n8n version (18 ms)
âœ“ should return default metrics if enabled (5 ms)
âœ“ should not return default metrics if disabled (2 ms)
âœ“ should return cache metrics if enabled (2 ms)
âœ“ should not return cache metrics if disabled (9 ms)
âœ“ should return route metrics if enabled (6 ms)
âœ“ should include last activity metric with route metrics (18 ms)
âœ“ should return labels in route metrics if enabled (4 ms)
âœ“ should return queue metrics if enabled (2 ms)
âœ“ should set queue metrics in response to `job-counts-updated` event (1 ms)
âœ“ should return active workflow count (17 ms)
2025-04-15T08:41:07.8780325Z
PASS src/commands/__tests__/community-node.test.ts
uninstallCredential
âœ“ should delete a credential (4 ms)
âœ“ should return if the user is not found
âœ“ should return if the credential is not found (1 ms)
âœ“ should delete multiple credentials (1 ms)
uninstallPackage
âœ“ should uninstall the package (1 ms)
âœ“ should uninstall all nodes from a package (4 ms)
âœ“ should return if a package is not found
âœ“ should return if nodes are not found
2025-04-15T08:41:07.8782097Z
PASS test/integration/public-api/projects.test.ts
Projects in Public API
GET /projects
âœ“ if licensed, should return all projects with pagination (381 ms)
âœ“ if not authenticated, should reject (6 ms)
âœ“ if not licensed, should reject (14 ms)
âœ“ if missing scope, should reject (21 ms)
POST /projects
âœ“ if licensed, should create a new project (30 ms)
âœ“ if not authenticated, should reject (5 ms)
âœ“ if not licensed, should reject (10 ms)
âœ“ if missing scope, should reject (19 ms)
DELETE /projects/:id
âœ“ if licensed, should delete a project (47 ms)
âœ“ if not authenticated, should reject (9 ms)
âœ“ if not licensed, should reject (25 ms)
âœ“ if missing scope, should reject (19 ms)
PUT /projects/:id
âœ“ if licensed, should update a project (31 ms)
âœ“ if not authenticated, should reject (6 ms)
âœ“ if not licensed, should reject (19 ms)
âœ“ if missing scope, should reject (19 ms)
2025-04-15T08:41:07.8785426Z
PASS src/executions/__tests__/execution-recovery.service.test.ts
ExecutionRecoveryService
recoverFromLogs
if follower
âœ“ should do nothing (15 ms)
if leader, with 0 messages
âœ“ should return `null` if no execution found (9 ms)
âœ“ should update `status` and `stoppedAt` (31 ms)
if leader, with 1+ messages
âœ“ for successful dataful execution, should return `null` (24 ms)
âœ“ should return `null` if no execution found (4 ms)
âœ“ for successful dataless execution, should update `status`, `stoppedAt` and `data` (46 ms)
âœ“ for running execution, should update `status`, `stoppedAt` and `data` if last node did not finish (17 ms)
âœ“ should update `status`, `stoppedAt` and `data` if last node finished (19 ms)
2025-04-15T08:41:07.8787998Z
PASS test/integration/api-keys.api.test.ts
When public API is disabled
âœ“ POST /api-keys should 404 (59 ms)
âœ“ GET /api-keys should 404 (16 ms)
âœ“ DELETE /api-key/:id should 404 (10 ms)
Owner shell
âœ“ POST /api-keys should create an api key with no expiration (21 ms)
âœ“ POST /api-keys should create an api key with expiration (15 ms)
âœ“ GET /api-keys should fetch the api key redacted (32 ms)
âœ“ DELETE /api-keys/:id should delete the api key (18 ms)
Member
âœ“ POST /api-keys should create an api key with no expiration (28 ms)
âœ“ POST /api-keys should create an api key with expiration (14 ms)
âœ“ POST /api-keys should fail if max number of API keys reached (16 ms)
âœ“ GET /api-keys should fetch the api key redacted (21 ms)
âœ“ DELETE /api-keys/:id should delete the api key (41 ms)
2025-04-15T08:41:07.8790804Z
PASS src/controllers/oauth/__tests__/oauth1-credential.controller.test.ts
OAuth1CredentialController
getAuthUri
âœ“ should throw a BadRequestError when credentialId is missing in the query (31 ms)
âœ“ should throw a NotFoundError when no matching credential is found for the user
âœ“ should return a valid auth URI (72 ms)
handleCallback
âœ“ should render the error page when required query params are missing (1 ms)
âœ“ should render the error page when `state` query param is invalid (1 ms)
âœ“ should render the error page when credential is not found in DB (1 ms)
âœ“ should render the error page when state differs from the stored state in the credential (1 ms)
âœ“ should render the error page when state is older than 5 minutes (1 ms)
âœ“ should exchange the code for a valid token, and save it to DB (13 ms)
2025-04-15T08:41:07.8793271Z
PASS src/task-runners/task-managers/__tests__/data-request-response-stripper.test.ts
DataRequestResponseStripper
all data
âœ“ should build the runExecutionData as is when everything is requested (3 ms)
envProviderState
âœ“ should filter out envProviderState when it's not requested
input data
âœ“ drops input data from result
âœ“ returns only chunked data
nodes
âœ“ should return empty run data when only Code node is requested (1 ms)
âœ“ should return empty run data when only Code node is requested (1 ms)
âœ“ should return only DebugHelper's data when only DebugHelper node is requested (1 ms)
âœ“ should return DebugHelper's data when only prevNode node is requested
passthrough properties
âœ“ it doesn't change workflow (1 ms)
âœ“ it doesn't change connectionInputSource
âœ“ it doesn't change node (3 ms)
âœ“ it doesn't change runIndex (1 ms)
âœ“ it doesn't change itemIndex
âœ“ it doesn't change activeNodeName
âœ“ it doesn't change siblingParameters
âœ“ it doesn't change mode
âœ“ it doesn't change defaultReturnRunIndex (1 ms)
âœ“ it doesn't change selfData
âœ“ it doesn't change contextNodeName
âœ“ it doesn't change additionalData
2025-04-15T08:41:07.8797660Z
PASS src/scaling/__tests__/scaling.service.test.ts
ScalingService
setupQueue
if leader main
âœ“ should set up queue + listeners + queue recovery (5 ms)
if follower main
âœ“ should set up queue + listeners (1 ms)
if worker
âœ“ should set up queue + listeners
webhook
âœ“ should set up a queue + listeners (1 ms)
setupWorker
âœ“ should set up a worker with concurrency
âœ“ should throw if called on a non-worker instance (15 ms)
âœ“ should throw if called before queue is ready (1 ms)
stop
if main
âœ“ should pause queue, stop queue recovery and queue metrics (1 ms)
if worker
âœ“ should pause queue and wait for running jobs to finish (1 ms)
pingQueue
âœ“ should ping the queue (1 ms)
addJob
âœ“ should add a job (1 ms)
getJob
âœ“ should get a job (1 ms)
findJobsByStatus
âœ“ should find jobs by status (1 ms)
âœ“ should filter out `null` in Redis response (7 ms)
stopJob
âœ“ should stop an active job (1 ms)
âœ“ should stop an inactive job (1 ms)
âœ“ should report failure to stop a job (1 ms)
2025-04-15T08:41:07.8802373Z
PASS test/integration/public-api/tags.test.ts
GET /tags
âœ“ should fail due to missing API Key (17 ms)
âœ“ should fail due to invalid API Key (4 ms)
âœ“ should return all tags (150 ms)
âœ“ should return all tags with pagination (38 ms)
GET /tags/:id
âœ“ should fail due to missing API Key (6 ms)
âœ“ should fail due to invalid API Key (3 ms)
âœ“ should fail due to non-existing tag (6 ms)
âœ“ should retrieve tag (6 ms)
DELETE /tags/:id
âœ“ should fail due to missing API Key (3 ms)
âœ“ should fail due to invalid API Key (2 ms)
âœ“ should fail due to non-existing tag (7 ms)
âœ“ owner should delete the tag (8 ms)
âœ“ non-owner should not delete tag (5 ms)
POST /tags
âœ“ should fail due to missing API Key (3 ms)
âœ“ should fail due to invalid API Key (1 ms)
âœ“ should fail due to invalid body (7 ms)
âœ“ should create tag (6 ms)
âœ“ should not create tag if tag with same name exists (5 ms)
PUT /tags/:id
âœ“ should fail due to missing API Key (2 ms)
âœ“ should fail due to invalid API Key (2 ms)
âœ“ should fail due to non-existing tag (20 ms)
âœ“ should fail due to invalid body (9 ms)
âœ“ should update tag (17 ms)
âœ“ should fail if there is already a tag with a the new name (22 ms)
2025-04-15T08:41:07.8807446Z
PASS src/executions/__tests__/execution.service.test.ts
ExecutionService
retry
âœ“ should error on retrying a execution that was aborted before starting (26 ms)
stop
âœ“ should throw when stopping a missing execution (1 ms)
âœ“ should throw when stopping a not-in-progress execution (1 ms)
regular mode
âœ“ should stop a `running` execution in regular mode (2 ms)
âœ“ should stop a `waiting` execution in regular mode (14 ms)
âœ“ should stop a concurrency-controlled `new` execution in regular mode (1 ms)
scaling mode
manual execution
âœ“ should stop a `running` execution in scaling mode (4 ms)
production execution
âœ“ should stop a `running` execution in scaling mode (1 ms)
âœ“ should stop a `waiting` execution in scaling mode (2 ms)
2025-04-15T08:41:07.8810264Z
PASS test/integration/password-reset.api.test.ts
POST /forgot-password
âœ“ should send password reset email (48 ms)
âœ“ should fail if emailing is not set up (57 ms)
âœ“ should fail if SAML is authentication method (50 ms)
âœ“ should succeed if SAML is authentication method and requestor is owner (39 ms)
âœ“ should fail with invalid inputs (31 ms)
âœ“ should fail if user is not found (23 ms)
GET /resolve-password-token
âœ“ should succeed with valid inputs (31 ms)
âœ“ should fail with invalid inputs (29 ms)
âœ“ should fail if user is not found (19 ms)
âœ“ should fail if token is expired (15 ms)
âœ“ should fail after password has changed (22 ms)
POST /change-password
âœ“ should succeed with valid inputs (157 ms)
âœ“ should fail with invalid inputs (31 ms)
âœ“ should fail when token has expired (12 ms)
âœ“ owner should be able to reset its password when quota:users = 1 (133 ms)
âœ“ member should not be able to reset its password when quota:users = 1 (86 ms)
2025-04-15T08:41:07.8813550Z
PASS test/integration/pruning.service.test.ts
softDeleteOnPruningCycle()
when EXECUTIONS_DATA_PRUNE_MAX_COUNT is set
âœ“ should mark as deleted based on EXECUTIONS_DATA_PRUNE_MAX_COUNT (36 ms)
âœ“ should not re-mark already marked executions (11 ms)
âœ“ should prune unknown executions (11 ms)
âœ“ should prune canceled executions (12 ms)
âœ“ should prune crashed executions (14 ms)
âœ“ should prune error executions (9 ms)
âœ“ should prune success executions (9 ms)
âœ“ should not prune new executions (24 ms)
âœ“ should not prune running executions (11 ms)
âœ“ should not prune waiting executions (19 ms)
âœ“ should not prune annotated executions (27 ms)
when EXECUTIONS_DATA_MAX_AGE is set
âœ“ should mark as deleted based on EXECUTIONS_DATA_MAX_AGE (13 ms)
âœ“ should not re-mark already marked executions (7 ms)
âœ“ should prune unknown executions (4 ms)
âœ“ should prune canceled executions (6 ms)
âœ“ should prune crashed executions (10 ms)
âœ“ should prune error executions (7 ms)
âœ“ should prune success executions (8 ms)
âœ“ should not prune new executions (30 ms)
âœ“ should not prune running executions (8 ms)
âœ“ should not prune waiting executions (19 ms)
âœ“ should not prune annotated executions (17 ms)
2025-04-15T08:41:07.8818671Z
PASS src/__tests__/node-types.test.ts
NodeTypes
getByName
âœ“ should return node type when it exists (3 ms)
getByNameAndVersion
âœ“ should throw an error if the package does not exist (16 ms)
âœ“ should throw an error if the node-type does not exist (1 ms)
âœ“ should return a regular node-type without version
âœ“ should return a regular node-type with version
âœ“ should throw when a node-type is requested as tool, but does not support being used as one (2 ms)
âœ“ should throw when a node-type is requested as tool, but the original node is already a tool
âœ“ should return the tool node-type when requested as tool (2 ms)
âœ“ should return a tool node-type from a community node,  when requested as tool
âœ“ should return a declarative node-type with an `.execute` method
âœ“ should return a declarative node-type as a tool with an `.execute` method (4 ms)
getWithSourcePath
âœ“ should return description and source path for existing node (2 ms)
âœ“ should throw error for non-existent node (1 ms)
getKnownTypes
âœ“ should return known node types
getNodeTypeDescriptions
âœ“ should return descriptions for valid node types (1 ms)
âœ“ should throw error for invalid node type
2025-04-15T08:41:07.8822602Z
PASS test/integration/saml/saml.api.test.ts
Instance owner
PATCH /me
âœ“ should succeed with valid inputs (53 ms)
âœ“ should throw BadRequestError if email is changed when SAML is enabled (40 ms)
PATCH /password
âœ“ should throw BadRequestError if password is changed when SAML is enabled (31 ms)
POST /sso/saml/config
âœ“ should post saml config (185 ms)
âœ“ should return 400 on invalid config (7 ms)
POST /sso/saml/config/toggle
âœ“ should toggle saml as default authentication method (42 ms)
âœ“ should fail enable saml if default authentication is not email (29 ms)
Check endpoint permissions
Owner
âœ“ should be able to access GET /sso/saml/metadata (7 ms)
âœ“ should be able to access GET /sso/saml/config (5 ms)
âœ“ should be able to access POST /sso/saml/config (11 ms)
âœ“ should be able to access POST /sso/saml/config/toggle (9 ms)
âœ“ should be able to access GET /sso/saml/acs (13 ms)
âœ“ should be able to access POST /sso/saml/acs (12 ms)
âœ“ should be able to access GET /sso/saml/initsso (9 ms)
âœ“ should be able to access GET /sso/saml/config/test (8 ms)
Authenticated Member
âœ“ should be able to access GET /sso/saml/metadata (3 ms)
âœ“ should be able to access GET /sso/saml/config (4 ms)
âœ“ should NOT be able to access POST /sso/saml/config (12 ms)
âœ“ should NOT be able to access POST /sso/saml/config/toggle (16 ms)
âœ“ should be able to access GET /sso/saml/acs (4 ms)
âœ“ should be able to access POST /sso/saml/acs (8 ms)
âœ“ should be able to access GET /sso/saml/initsso (8 ms)
âœ“ should NOT be able to access GET /sso/saml/config/test (4 ms)
Non-Authenticated User
âœ“ should be able to access /sso/saml/metadata (3 ms)
âœ“ should NOT be able to access GET /sso/saml/config (7 ms)
âœ“ should NOT be able to access POST /sso/saml/config (12 ms)
âœ“ should NOT be able to access POST /sso/saml/config/toggle (4 ms)
âœ“ should be able to access GET /sso/saml/acs (10 ms)
âœ“ should be able to access POST /sso/saml/acs (3 ms)
âœ“ should be able to access GET /sso/saml/initsso (4 ms)
âœ“ should NOT be able to access GET /sso/saml/config/test (6 ms)
2025-04-15T08:41:07.8830252Z
PASS test/integration/commands/import.cmd.test.ts
âœ“ import:workflow should import active workflow and deactivate it (54 ms)
âœ“ import:workflow should import active workflow from combined file and deactivate it (21 ms)
âœ“ import:workflow can import a single workflow object (24 ms)
âœ“ `import:workflow --userId ...` should fail if the workflow exists already and is owned by somebody else (59 ms)
âœ“ only update the workflow, don't create or update the owner if `--userId` is not passed (25 ms)
âœ“ `import:workflow --projectId ...` should fail if the credential already exists and is owned by another project (33 ms)
âœ“ `import:workflow --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (4 ms)
2025-04-15T08:41:07.8832321Z
PASS src/__tests__/license.test.ts
License
âœ“ initializes license manager (6 ms)
âœ“ initializes license manager for worker (2 ms)
âœ“ attempts to activate license with provided key (1 ms)
âœ“ renews license (2 ms)
âœ“ check if feature is enabled (8 ms)
âœ“ check if sharing feature is enabled (1 ms)
âœ“ check fetching entitlements (1 ms)
âœ“ check fetching feature values (1 ms)
âœ“ check management jwt (1 ms)
âœ“ getMainPlan() returns the latest main entitlement (1 ms)
âœ“ getMainPlan() returns undefined if there is no main plan (1 ms)
init
âœ“ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal (1 ms)
âœ“ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal (1 ms)
âœ“ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should disable renewal
âœ“ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal
âœ“ when CLI command with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal (1 ms)
2025-04-15T08:41:07.8835603Z
PASS src/middlewares/list-query/__tests__/list-query.test.ts
List query middleware
Query filter
âœ“ should not set filter on request if none sent (4 ms)
âœ“ should parse valid filter (3 ms)
âœ“ should ignore invalid filter (1 ms)
âœ“ should throw on invalid JSON (21 ms)
âœ“ should throw on valid filter with invalid type (2 ms)
Query select
âœ“ should not set select on request if none sent (1 ms)
âœ“ should parse valid select (1 ms)
âœ“ ignore invalid select
âœ“ throw on invalid JSON (3 ms)
âœ“ throw on non-string-array JSON for select
Query pagination
âœ“ should not set pagination options on request if none sent
âœ“ should parse valid pagination (1 ms)
âœ“ should throw on skip without take (1 ms)
âœ“ should default skip to 0
âœ“ should cap take at 50 (1 ms)
âœ“ should throw on non-numeric-integer take (1 ms)
âœ“ should throw on non-numeric-integer skip
Query sort by
âœ“ should succeed validation when sorting by name asc (1 ms)
âœ“ should succeed validation when sorting by name desc (1 ms)
âœ“ should succeed validation when sorting by createdAt asc (5 ms)
âœ“ should succeed validation when sorting by createdAt desc
âœ“ should succeed validation when sorting by updatedAt asc
âœ“ should succeed validation when sorting by updatedAt desc
âœ“ should fail validation when sorting by invalid column (9 ms)
âœ“ should fail validation when sorting by valid column without order (1 ms)
âœ“ should fail validation when sorting by valid column with invalid order (1 ms)
âœ“ should not pass sortBy to listQueryOptions if not provided
Combinations
âœ“ should combine filter with select (1 ms)
âœ“ should combine filter with pagination options (1 ms)
âœ“ should combine select with pagination options (1 ms)
2025-04-15T08:41:07.8841138Z
PASS src/environments.ee/source-control/__tests__/source-control-export.service.test.ts
SourceControlExportService
exportCredentialsToWorkFolder
âœ“ should export credentials to work folder (6 ms)
âœ“ should handle team project credentials (1 ms)
âœ“ should handle missing credentials
exportTagsToWorkFolder
âœ“ should export tags to work folder (1 ms)
âœ“ should not export empty tags
exportFoldersToWorkFolder
âœ“ should export folders to work folder (1 ms)
âœ“ should not export empty folders (1 ms)
exportVariablesToWorkFolder
âœ“ should export variables to work folder
âœ“ should not export empty variables (1 ms)
exportWorkflowsToWorkFolder
âœ“ should export workflows to work folder (4 ms)
âœ“ should throw an error if workflow has no owner (18 ms)
2025-04-15T08:41:07.8843947Z
PASS src/environments.ee/source-control/__tests__/source-control.service.test.ts
SourceControlService
pushWorkfolder
âœ“ should throw an error if a file is given that is not in the workfolder (34 ms)
pullWorkfolder
âœ“ does not filter locally created credentials (1 ms)
âœ“ does not filter remotely deleted credentials
âœ“ should throw an error if a file is given that is not in the workfolder (1 ms)
getStatus
âœ“ conflict depends on the value of `direction` (3 ms)
2025-04-15T08:41:07.8845696Z
PASS src/metrics/__tests__/prometheus-metrics.service.test.ts
PrometheusMetricsService
constructor
âœ“ should enable metrics based on global config (6 ms)
init
âœ“ should set up `n8n_version_info` (1 ms)
âœ“ should set up default metrics collection with `prom-client` (1 ms)
âœ“ should set up `n8n_cache_hits_total` (1 ms)
âœ“ should set up `n8n_cache_misses_total` (2 ms)
âœ“ should set up `n8n_cache_updates_total` (2 ms)
âœ“ should set up route metrics with `express-prom-bundle` (1 ms)
âœ“ should set up event bus metrics (1 ms)
âœ“ should set up queue metrics if enabled (2 ms)
âœ“ should not set up queue metrics if enabled but not on scaling mode (1 ms)
âœ“ should not set up queue metrics if enabled and on scaling mode but instance is not main (1 ms)
âœ“ should setup active workflow count metric (5 ms)
2025-04-15T08:41:07.8848732Z
PASS src/__tests__/workflow-execute-additional-data.test.ts
WorkflowExecuteAdditionalData
âœ“ logAiEvent should call MessageEventBus (4 ms)
executeWorkflow
âœ“ should execute workflow, return data and execution id (2 ms)
âœ“ should execute workflow, skip waiting (1 ms)
âœ“ should set sub workflow execution as running (1 ms)
âœ“ should return waitTill property when workflow execution is waiting (4 ms)
getRunData
âœ“ should throw error to add trigger ndoe (14 ms)
âœ“ should return default data (1 ms)
âœ“ should return run data with input data and metadata
2025-04-15T08:41:07.8850673Z
PASS test/integration/community-packages.api.test.ts
GET /community-packages
âœ“ should respond 200 if no nodes are installed (30 ms)
âœ“ should return list of one installed package and node (17 ms)
âœ“ should return list of multiple installed packages and nodes (4 ms)
âœ“ should not check for updates if no packages installed (12 ms)
âœ“ should check for updates if packages installed (3 ms)
âœ“ should report package updates if available (4 ms)
POST /community-packages
âœ“ should reject if package name is missing (5 ms)
âœ“ should reject if package is duplicate (4 ms)
âœ“ should allow installing packages that could not be loaded (4 ms)
âœ“ should not install a banned package (4 ms)
DELETE /community-packages
âœ“ should not delete if package name is empty (12 ms)
âœ“ should reject if package is not installed (4 ms)
âœ“ should uninstall package (5 ms)
PATCH /community-packages
âœ“ should reject if package name is empty (2 ms)
âœ“ should reject if package is not installed (3 ms)
âœ“ should update a package (2 ms)
2025-04-15T08:41:07.8853881Z
PASS src/services/__tests__/workflow-statistics.service.test.ts
WorkflowStatisticsService
workflowExecutionCompleted
âœ“ should create metrics for production successes (4 ms)
âœ“ should only create metrics for production successes (1 ms)
âœ“ should not send metrics for updated entries
nodeFetchedData
âœ“ should create metrics when the db is updated (1 ms)
âœ“ should emit event with no `userId` if workflow is owned by team project (1 ms)
âœ“ should create metrics with credentials when the db is updated (2 ms)
âœ“ should not send metrics for entries that already have the flag set (1 ms)
2025-04-15T08:41:07.8855814Z
PASS test/integration/workflow-history.api.test.ts
GET /workflow-history/:workflowId
âœ“ should not work when license is not available (29 ms)
âœ“ should not return anything on an invalid workflow ID (28 ms)
âœ“ should not return anything if not shared with user (10 ms)
âœ“ should return any empty list if no versions (24 ms)
âœ“ should return versions for workflow (27 ms)
âœ“ should return versions only for workflow id provided (62 ms)
âœ“ should work with take parameter (33 ms)
âœ“ should work with skip parameter (29 ms)
GET /workflow-history/workflow/:workflowId/version/:versionId
âœ“ should not work when license is not available (7 ms)
âœ“ should not return anything on an invalid workflow ID (13 ms)
âœ“ should not return anything on an invalid version ID (20 ms)
âœ“ should return version (21 ms)
âœ“ should not return anything if not shared with user (18 ms)
âœ“ should not return anything if not shared with user and using workflow owned by unshared user (29 ms)
2025-04-15T08:41:07.8859127Z
PASS test/integration/commands/credentials.cmd.test.ts
âœ“ import:credentials should import a credential (35 ms)
âœ“ import:credentials should import a credential from separated files (35 ms)
âœ“ `import:credentials --userId ...` should fail if the credential exists already and is owned by somebody else (43 ms)
âœ“ only update credential, don't create or update owner if neither `--userId` nor `--projectId` is passed (39 ms)
âœ“ `import:credential --projectId ...` should fail if the credential already exists and is owned by another project (34 ms)
âœ“ `import:credential --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (6 ms)
2025-04-15T08:41:07.8860935Z
PASS src/services/__tests__/ownership.service.test.ts
OwnershipService
getWorkflowProjectCached()
âœ“ should retrieve a workflow owner project (3 ms)
âœ“ should throw if no workflow owner project found (4 ms)
getPersonalProjectOwnerCached()
âœ“ should retrieve a project owner (1 ms)
âœ“ should not throw if no project owner found, should return null instead
âœ“ should not use the repository if the owner was found in the cache (1 ms)
getProjectOwnerCached()
âœ“ should retrieve a project owner (1 ms)
âœ“ should not throw if no project owner found, should return null instead
addOwnedByAndSharedWith()
âœ“ should add `ownedBy` and `sharedWith` to credential (1 ms)
âœ“ should add `ownedBy` and `sharedWith` to workflow
âœ“ should produce an empty sharedWith if no sharee (1 ms)
getInstanceOwner()
âœ“ should find owner using global owner role ID
2025-04-15T08:41:07.8863748Z
PASS src/__tests__/wait-tracker.test.ts
WaitTracker
init()
âœ“ should query DB for waiting executions if leader (4 ms)
âœ“ if follower, should do nothing
âœ“ if no executions to start, should do nothing (1 ms)
if execution to start
âœ“ if not enough time passed, should not start execution (2 ms)
âœ“ if enough time passed, should start execution (2 ms)
startExecution()
âœ“ should query for execution to start (19 ms)
âœ“ should also resume parent execution once sub-workflow finishes (4 ms)
single-main setup
âœ“ should start tracking
multi-main setup
âœ“ should start tracking if leader (1 ms)
âœ“ should not start tracking if follower (1 ms)
2025-04-15T08:41:07.8866198Z
PASS src/services/cache/__tests__/cache.service.test.ts
memory
init
âœ“ should select backend based on config (3 ms)
âœ“ should honor max size when enough (1 ms)
âœ“ should honor max size when not enough (1 ms)
set
âœ“ should set a string value
âœ“ should set a number value
âœ“ should set an object value (1 ms)
âœ“ should not cache `null` or `undefined` values
âœ“ should disregard zero-length keys (1 ms)
âœ“ should honor ttl (201 ms)
get
âœ“ should fall back to fallback value
âœ“ should refresh value (1 ms)
âœ“ should handle non-ASCII key
delete
âœ“ should delete a key
âœ“ should handle non-ASCII key (4 ms)
setMany
âœ“ should set multiple string values
âœ“ should set multiple number values (2 ms)
âœ“ should disregard zero-length keys
getMany
âœ“ should return undefined on missing result
setHash
âœ“ should set a hash if non-existing
âœ“ should add to a hash value if existing (1 ms)
deleteFromHash
âœ“ should delete a hash field (1 ms)
getHashValue
âœ“ should return a hash field value (1 ms)
redis
init
âœ“ should select backend based on config (1 ms)
âœ“ with auto backend and queue mode, should select redis (1 ms)
set
âœ“ should set a string value (1 ms)
âœ“ should set a number value
âœ“ should set an object value (1 ms)
âœ“ should not cache `null` or `undefined` values
âœ“ should disregard zero-length keys (2 ms)
âœ“ should honor ttl (201 ms)
get
âœ“ should fall back to fallback value (1 ms)
âœ“ should refresh value
âœ“ should handle non-ASCII key
delete
âœ“ should delete a key
âœ“ should handle non-ASCII key
setMany
âœ“ should set multiple string values (1 ms)
âœ“ should set multiple number values (1 ms)
âœ“ should disregard zero-length keys
getMany
âœ“ should return undefined on missing result
setHash
âœ“ should set a hash if non-existing
âœ“ should add to a hash value if existing
deleteFromHash
âœ“ should delete a hash field
getHashValue
âœ“ should return a hash field value (1 ms)
2025-04-15T08:41:07.8874760Z
PASS test/integration/executions/pre-execution-checks/credentials-permission-checker.test.ts
check()
âœ“ should allow if workflow has no creds (20 ms)
âœ“ should allow if workflow creds are valid subset (33 ms)
âœ“ should deny if workflow creds are not valid subset (30 ms)
âœ“ should allow all credentials if current user is instance owner (18 ms)
2025-04-15T08:41:07.8875821Z
PASS src/environments.ee/source-control/__tests__/source-control-helper.ee.test.ts
Source Control
âœ“ should generate an SSH key pair (55 ms)
âœ“ should generate an RSA key pair (744 ms)
âœ“ should check for git and ssh folders and create them if required (1 ms)
âœ“ should get repo type from url
âœ“ should get tracking information from pre-push results (1 ms)
âœ“ should get tracking information from post-push results
âœ“ should get tracking information from pull results (1 ms)
2025-04-15T08:41:07.8877179Z
PASS test/integration/public-api/users.ee.test.ts
With license unlimited quota:users
GET /users
âœ“ should fail due to missing API Key (213 ms)
âœ“ should fail due to invalid API Key (7 ms)
âœ“ should fail due to member trying to access owner only endpoint (139 ms)
âœ“ should return all users (27 ms)
âœ“ should return users filtered by project ID (57 ms)
GET /users/:id
âœ“ should fail due to missing API Key (30 ms)
âœ“ should fail due to invalid API Key (10 ms)
âœ“ should fail due to member trying to access owner only endpoint (31 ms)
âœ“ should return 404 for non-existing id  (35 ms)
âœ“ should return a pending user (24 ms)
GET /users/:email
âœ“ with non-existing email should return 404 (18 ms)
âœ“ should return a user (24 ms)
With license without quota:users
âœ“ GET /users should fail due to invalid license (29 ms)
âœ“ GET /users/:id should fail due to invalid license (45 ms)
2025-04-15T08:41:07.8880447Z
PASS src/controllers/__tests__/binary-data.controller.test.ts
BinaryDataController
get
âœ“ should return 400 if binary data mode is missing (4 ms)
âœ“ should return 400 if binary data mode is invalid
âœ“ should return 404 if file is not found (1 ms)
âœ“ should set Content-Type and Content-Length from query if provided
âœ“ should set Content-Type and Content-Length from metadata if not provided (1 ms)
âœ“ should set Content-Disposition for download action (1 ms)
âœ“ should set Content-Security-Policy for HTML in view mode
âœ“ should not set Content-Security-Policy for HTML in download mode
âœ“ should return the file stream on success
getSigned
âœ“ should return 400 if binary data mode is missing (1 ms)
âœ“ should return 400 if binary data mode is invalid (3 ms)
âœ“ should return 400 if token is invalid
âœ“ should return 404 if file is not found
âœ“ should return the file stream on a valid signed token
2025-04-15T08:41:07.8883462Z
PASS test/integration/workflows/workflow.service.ee.test.ts
EnterpriseWorkflowService
validateWorkflowCredentialUsage
âœ“ Should throw error saving a workflow using credential without access (23 ms)
âœ“ Should not throw error when saving a workflow using credential with access (1 ms)
âœ“ Should not throw error when saving a workflow removing node without credential access (1 ms)
âœ“ Should save fine when not making changes to workflow without access (1 ms)
âœ“ Should throw error saving a workflow adding node without credential access (1 ms)
getNodesWithInaccessibleCreds
âœ“ Should return an empty list for a workflow without nodes (1 ms)
âœ“ Should return an empty list for a workflow with nodes without credentials
âœ“ Should return an element for a node with a credential without access (1 ms)
âœ“ Should return an empty list for a node with a credential with access (1 ms)
âœ“ Should return an element for a node with two credentials and mixed access
âœ“ Should return one node for a workflow with two nodes and two credentials
âœ“ Should return one element for a workflows with two nodes and one credential (1 ms)
âœ“ Should return one element for a workflows with two nodes and partial credential access
âœ“ Should return two elements for a workflows with two nodes and partial credential access (1 ms)
âœ“ Should return two elements for a workflows with two nodes and no credential access
2025-04-15T08:41:07.8887844Z
PASS src/environments.ee/source-control/__tests__/source-control-import.service.ee.test.ts
SourceControlImportService
getRemoteVersionIdsFromFiles
âœ“ should parse workflow files correctly (3 ms)
âœ“ should filter out files without valid workflow data (1 ms)
getRemoteCredentialsFromFiles
âœ“ should parse credential files correctly
âœ“ should filter out files without valid credential data
getRemoteVariablesFromFile
âœ“ should parse variables file correctly (1 ms)
âœ“ should return empty array if no variables file found
getRemoteTagsAndMappingsFromFile
âœ“ should parse tags and mappings file correctly
âœ“ should return empty tags and mappings if no file found (1 ms)
getRemoteFoldersAndMappingsFromFile
âœ“ should parse folders and mappings file correctly
âœ“ should return empty folders and mappings if no file found
getLocalVersionIdsFromDb
âœ“ should replace invalid updatedAt with current timestamp
getLocalFoldersAndMappingsFromDb
âœ“ should return data from DB (1 ms)
2025-04-15T08:41:07.8891127Z
PASS src/controllers/__tests__/dynamic-node-parameters.controller.test.ts
DynamicNodeParametersController
getOptions
âœ“ should call getOptionsViaMethodName when methodName is provided (4 ms)
âœ“ should call getOptionsViaLoadOptions when loadOptions is provided
âœ“ should return empty array when no method or load options are provided (1 ms)
getResourceLocatorResults
âœ“ should call getResourceLocatorResults with correct parameters
getResourceMappingFields
âœ“ should call getResourceMappingFields with correct parameters (1 ms)
getLocalResourceMappingFields
âœ“ should call getLocalResourceMappingFields with correct parameters
getActionResult
âœ“ should call getActionResult with correct parameters (1 ms)
2025-04-15T08:41:07.8893469Z
PASS test/integration/security-audit/instance-risk-reporter.test.ts
âœ“ should report webhook lacking authentication (311 ms)
âœ“ should not report webhooks having basic or header auth (25 ms)
âœ“ should not report webhooks validated by direct children (15 ms)
âœ“ should not report non-webhook node (12 ms)
âœ“ should report outdated instance when outdated (8 ms)
âœ“ should not report outdated instance when up to date (52 ms)
âœ“ should report security settings (6 ms)
2025-04-15T08:41:07.8894894Z
PASS src/webhooks/__tests__/webhook-request-handler.test.ts
WebhookRequestHandler
âœ“ should throw for unsupported methods (20 ms)
preflight requests
âœ“ should handle missing header for requested method (1 ms)
âœ“ should handle default origin and max-age (1 ms)
âœ“ should handle wildcard origin
âœ“ should handle custom origin
webhook requests
âœ“ should delegate the request to the webhook manager and send the response (1 ms)
âœ“ should send an error response if webhook execution throws (11 ms)
âœ“ should handle 'DELETE' method (1 ms)
âœ“ should handle 'GET' method (1 ms)
âœ“ should handle 'HEAD' method (1 ms)
âœ“ should handle 'PATCH' method (1 ms)
âœ“ should handle 'POST' method (1 ms)
âœ“ should handle 'PUT' method
2025-04-15T08:41:07.8897498Z
PASS test/integration/webhooks.api.test.ts
Webhook API
Content-Type support
âœ“ should handle JSON (26 ms)
âœ“ should handle XML (7 ms)
âœ“ should handle form-urlencoded (4 ms)
âœ“ should handle plain text (4 ms)
âœ“ should handle multipart/form-data (11 ms)
Params support
âœ“ should handle params (29 ms)
2025-04-15T08:41:07.8898889Z
PASS test/integration/public-api/users.test.ts
Users in Public API
POST /users
âœ“ if not authenticated, should reject (251 ms)
âœ“ if missing scope, should reject (208 ms)
âœ“ should create a user (40 ms)
DELETE /users/:id
âœ“ if not authenticated, should reject (14 ms)
âœ“ if missing scope, should reject (32 ms)
âœ“ should delete a user (55 ms)
PATCH /users/:id/role
âœ“ if not authenticated, should reject (7 ms)
âœ“ if not licensed, should reject (29 ms)
âœ“ if missing scope, should reject (38 ms)
âœ“ should return a 400 on invalid payload (22 ms)
âœ“ should change a user's role (29 ms)
2025-04-15T08:41:07.8900933Z
PASS src/webhooks/__tests__/test-webhooks.test.ts
TestWebhooks
needsWebhook()
âœ“ if webhook is needed, should register then create webhook and return true (4 ms)
âœ“ if webhook activation fails, should deactivate workflow webhooks (8 ms)
âœ“ if no webhook is found to start workflow, should return false (1 ms)
âœ“ returns false if a triggerToStartFrom with triggerData is given
âœ“ returns true, registers and then creates webhook if triggerToStartFrom is given with no triggerData (3 ms)
executeWebhook()
âœ“ if webhook is not registered, should throw (10 ms)
âœ“ if webhook is registered but missing from workflow, should throw (1 ms)
deactivateWebhooks()
âœ“ should add additional data to workflow (1 ms)
2025-04-15T08:41:07.8902989Z
PASS test/integration/import.service.test.ts
ImportService
âœ“ should import credless and tagless workflow (43 ms)
âœ“ should make user owner of imported workflow (12 ms)
âœ“ should not change the owner if it already exists (49 ms)
âœ“ should deactivate imported workflow if active (12 ms)
âœ“ should leave intact new-format credentials (12 ms)
âœ“ should set tag by identical match (29 ms)
âœ“ should set tag by name match (13 ms)
âœ“ should set tag by creating if no match (30 ms)
2025-04-15T08:41:07.8904645Z
PASS src/__tests__/workflow-runner.test.ts
processError
âœ“ processError should return early in Bull stalled edge case (42 ms)
âœ“ processError should return early if the error is `ExecutionNotFoundError` (34 ms)
âœ“ processError should process error (42 ms)
run
âœ“ uses recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom with data is sent (33 ms)
âœ“ does not use recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom without data is sent (5 ms)
2025-04-15T08:41:07.8906282Z
PASS test/integration/security-audit/credentials-risk-reporter.test.ts
âœ“ should report credentials not in any use (386 ms)
âœ“ should report credentials not in active use (16 ms)
âœ“ should report credential in not recently executed workflow (16 ms)
âœ“ should not report credentials in recently executed workflow (18 ms)
2025-04-15T08:41:07.8907269Z
PASS src/webhooks/__tests__/waiting-forms.test.ts
WaitingForms
findCompletionPage
âœ“ should return lastNodeExecuted if it is a non-disabled form completion node (3 ms)
âœ“ should return undefined if lastNodeExecuted is disabled
âœ“ should return undefined if lastNodeExecuted is not a form node (1 ms)
âœ“ should return undefined if lastNodeExecuted operation is not completion
âœ“ should find first valid completion form in parent nodes if lastNodeExecuted is not valid (1 ms)
âœ“ should return undefined if no valid completion form is found in parent nodes
âœ“ should skip parent nodes without runData (1 ms)
âœ“ should mark as test form webhook when execution mode is manual (1 ms)
âœ“ should return status of execution if suffix is WAITING_FORMS_EXECUTION_STATUS (1 ms)
2025-04-15T08:41:07.8909495Z
PASS src/services/__tests__/public-api-key.service.test.ts
PublicApiKeyService
getAuthMiddleware
âœ“ should return false if api key is invalid (13 ms)
âœ“ should return false if valid api key is not in database (9 ms)
âœ“ should return true if valid api key exist in the database (30 ms)
âœ“ should return false if expired JWT is used (34 ms)
âœ“ should work with non JWT (legacy) api keys (15 ms)
redactApiKey
âœ“ should redact api key (2 ms)
2025-04-15T08:41:07.8910883Z
PASS src/push/__tests__/index.test.ts
Push
setupPushServer
sse backend
âœ“ should not create a WebSocket server (3 ms)
websocket backend
âœ“ should not upgrade non-push urls (1 ms)
âœ“ should upgrade push url, and route it to express (2 ms)
handleRequest
sse backend
âœ“ should throw if pushRef is invalid
âœ“ should add the connection if pushRef is valid
should throw on invalid origin
âœ“ https://subdomain.example.com (17 ms)
âœ“ https://123example.com
âœ“ undefined (1 ms)
websocket backend
âœ“ should throw if pushRef is invalid
âœ“ should add the connection if pushRef is valid (1 ms)
âœ“ should respond with 401 if request is not WebSocket
should throw on invalid origin
âœ“ https://subdomain.example.com (1 ms)
âœ“ https://123example.com (12 ms)
âœ“ undefined (1 ms)
2025-04-15T08:41:07.8914278Z
PASS src/services/pruning/__tests__/pruning.service.test.ts
PruningService
init
âœ“ should start pruning on main instance that is the leader (4 ms)
âœ“ should not start pruning on main instance that is a follower
âœ“ should register leadership events if main on multi-main setup (1 ms)
isEnabled
âœ“ should return `true` based on config if leader main (1 ms)
âœ“ should return `false` based on config if leader main
âœ“ should return `false` if non-main even if config is enabled
âœ“ should return `false` if follower main even if config is enabled
startPruning
âœ“ should not start pruning if service is disabled
âœ“ should start pruning if service is enabled and DB is migrated (1 ms)
2025-04-15T08:41:07.8916539Z
PASS src/__tests__/credentials-helper.test.ts
CredentialsHelper
authenticate
âœ“ basicAuth, default property names (17 ms)
âœ“ headerAuth
âœ“ headerAuth, key and value expressions (1 ms)
âœ“ queryAuth
âœ“ custom authentication
2025-04-15T08:41:07.8917486Z
PASS src/commands/db/__tests__/revert.test.ts
âœ“ don't revert migrations if there is no migration (5 ms)
âœ“ don't revert the last migration if it had no down migration (1 ms)
âœ“ print migration name instead of class name in error message if the migration has a name (1 ms)
âœ“ don't revert the last migration if we cannot find the migration in the code (1 ms)
âœ“ revert the last migration if it has a down migration (1 ms)
âœ“ don't use transaction if the last migration has transaction = false (1 ms)
2025-04-15T08:41:07.8918874Z
PASS test/integration/task-runners/js-task-runner-execution.integration.test.ts
JS TaskRunner execution on internal mode
Basic code execution
âœ“ should execute a simple JS task (980 ms)
Internal and external libs
âœ“ should allow importing allowed internal module (1069 ms)
âœ“ should not allow importing disallowed internal module (36 ms)
âœ“ should allow importing allowed external module (6 ms)
âœ“ should not allow importing disallowed external module (12 ms)
2025-04-15T08:41:07.8920382Z
PASS test/integration/controllers/dynamic-node-parameters.controller.test.ts
DynamicNodeParametersController
POST /dynamic-node-parameters/options
âœ“ should take params via body (22 ms)
âœ“ should take params with loadOptions (6 ms)
âœ“ should return empty array when no method or loadOptions provided (4 ms)
POST /dynamic-node-parameters/resource-locator-results
âœ“ should return resource locator results (4 ms)
âœ“ should handle resource locator results without pagination (3 ms)
âœ“ should return a 400 if methodName is not defined (4 ms)
POST /dynamic-node-parameters/resource-mapper-fields
âœ“ should return resource mapper fields (12 ms)
âœ“ should return a 400 if methodName is not defined (10 ms)
POST /dynamic-node-parameters/local-resource-mapper-fields
âœ“ should return local resource mapper fields (6 ms)
âœ“ should return a 400 if methodName is not defined (7 ms)
POST /dynamic-node-parameters/action-result
âœ“ should return action result with handler (4 ms)
âœ“ should return a 400 if handler is not defined (3 ms)
2025-04-15T08:41:07.8923528Z
PASS src/deprecation/__tests__/deprecation.service.test.ts
DeprecationService
âœ“ should detect when N8N_BINARY_DATA_TTL is `1` (1 ms)
âœ“ should detect when N8N_PERSISTED_BINARY_DATA_TTL is `1` (1 ms)
âœ“ should detect when EXECUTIONS_DATA_PRUNE_TIMEOUT is `1`
âœ“ should detect when N8N_CONFIG_FILES is `1` (1 ms)
âœ“ should detect when N8N_SKIP_WEBHOOK_DEREGISTRATION_SHUTDOWN is `1`
âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `1` (1 ms)
âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `2`
âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `undefined`
âœ“ should handle N8N_BINARY_DATA_MODE as default
âœ“ should handle N8N_BINARY_DATA_MODE as filesystem (1 ms)
âœ“ should handle N8N_BINARY_DATA_MODE as s3
âœ“ should handle DB_TYPE as sqlite (1 ms)
âœ“ should handle DB_TYPE as postgresdb
âœ“ should handle DB_TYPE as mysqldb
âœ“ should handle DB_TYPE as mariadb
N8N_PARTIAL_EXECUTION_VERSION_DEFAULT
âœ“ supports multiple warnings for the same environment variable (5 ms)
N8N_RUNNERS_ENABLED
âœ“ should handle value: false
âœ“ should handle value:
âœ“ should handle value: true
âœ“ should handle value: undefined (1 ms)
OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS
when executions.mode is queue
âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is false (4 ms)
âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is empty (1 ms)
âœ“ should not warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is true
âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is undefined (1 ms)
when executions.mode is not queue
âœ“ should not warn
2025-04-15T08:41:07.8928917Z
PASS test/integration/collaboration/collaboration.service.test.ts
CollaborationService
workflow opened message
âœ“ should emit collaboratorsChanged after workflowOpened (45 ms)
âœ“ should not emit collaboratorsChanged if user don't have access to the workflow (7 ms)
workflow closed message
âœ“ should not emit collaboratorsChanged after workflowClosed when there are no active users (12 ms)
âœ“ should emit collaboratorsChanged after workflowClosed when there are active users (9 ms)
âœ“ should not emit collaboratorsChanged if user don't have access to the workflow (5 ms)
2025-04-15T08:41:07.8930737Z
PASS src/scaling/__tests__/worker-server.test.ts
WorkerServer
constructor
âœ“ should throw if non-worker instance type (16 ms)
âœ“ should exit if port taken (2 ms)
init
âœ“ should mount all endpoints when all are enabled (2 ms)
âœ“ should mount only health and overwrites endpoints if only those are enabled
âœ“ should throw if no endpoints are enabled (1 ms)
âœ“ should call `worker.ready` external hook (1 ms)
2025-04-15T08:41:07.8932209Z
PASS src/__tests__/active-workflow-manager.test.ts
ActiveWorkflowManager
checkIfWorkflowCanBeActivated
âœ“ should skip disabled nodes (8 ms)
âœ“ should skip nodes marked as ignored (2 ms)
âœ“ should skip unknown nodes (1 ms)
âœ“ should skip nodes with no trigger method (1 ms)
âœ“ should activate if poll method exists (1 ms)
âœ“ should activate if trigger method exists
âœ“ should activate if webhook method exists (1 ms)
shouldAddWebhooks
if leader
âœ“ should return `true` for `init`
âœ“ should return `false` for `leadershipChange` (1 ms)
âœ“ should return `true` for `update` or `activate`
if follower
âœ“ should return `false` for `update` or `activate`
add
âœ“ should skip inactive workflow in `init` activation mode
âœ“ should skip inactive workflow in `leadershipChange` activation mode
2025-04-15T08:41:07.8935066Z
PASS src/shutdown/__tests__/shutdown.service.test.ts
ShutdownService
shutdown
âœ“ should signal shutdown (6 ms)
âœ“ should signal shutdown in the priority order (2 ms)
âœ“ should throw error if shutdown is already in progress (12 ms)
âœ“ should report error if component shutdown fails (2 ms)
waitForShutdown
âœ“ should wait for shutdown (1 ms)
âœ“ should throw error if app is not shutting down (1 ms)
isShuttingDown
âœ“ should return true if app is shutting down
âœ“ should return false if app is not shutting down
validate
âœ“ should throw error if component is not registered with the DI container (1 ms)
âœ“ should throw error if component is missing the shutdown method (2 ms)
2025-04-15T08:41:07.8937603Z
PASS src/metrics/__tests__/prometheus-metrics.service.unmocked.test.ts
workflow_success_total
âœ“ support workflow id labels (16 ms)
âœ“ support a custom prefix (1 ms)
Active workflow count
âœ“ should prioritize cached value (3 ms)
âœ“ should query value from database if cache misses (1 ms)
2025-04-15T08:41:07.8938573Z
PASS src/executions/__tests__/executions.controller.test.ts
ExecutionsController
getOne
âœ“ should 400 when execution is not a number (18 ms)
getMany
if either status or range provided
âœ“ should fetch executions per query (2 ms)
âœ“ should fetch executions per query (1 ms)
âœ“ should fetch executions per query (1 ms)
âœ“ should fetch executions per query (11 ms)
if neither status nor range provided
âœ“ should fetch executions per query (1 ms)
âœ“ should fetch executions per query (2 ms)
if both status and range provided
âœ“ should fetch executions per query (2 ms)
stop
âœ“ should 404 when execution is inaccessible for user (2 ms)
âœ“ should call ask for an execution to be stopped
2025-04-15T08:41:07.8940913Z
PASS test/integration/services/project.service.test.ts
ProjectService
addUser
âœ“ creates a relation between the user and the project using the role project:viewer (30 ms)
âœ“ creates a relation between the user and the project using the role project:admin (25 ms)
âœ“ creates a relation between the user and the project using the role project:editor (25 ms)
âœ“ creates a relation between the user and the project using the role project:personalOwner (18 ms)
âœ“ changes the role the user has in the project if the user is already part of the project, instead of creating a new relationship (17 ms)
getProjectWithScope
âœ“ should return the project if the user has the role project:admin and wants the scope workflow:list (21 ms)
âœ“ should return the project if the user has the role project:admin and wants the scope workflow:create (24 ms)
âœ“ should return the project if the user has the role project:viewer and wants the scope workflow:create (16 ms)
âœ“ should return the project if the user has the role project:viewer and wants the scope credential:create (21 ms)
âœ“ should not return the project if the user is not part of it (19 ms)
2025-04-15T08:41:07.8944477Z
PASS src/execution-lifecycle/__tests__/restore-binary-data-id.test.ts
on filesystem mode
âœ“ should restore if binary data ID is missing execution ID (4 ms)
âœ“ should do nothing if binary data ID is not missing execution ID (1 ms)
âœ“ should do nothing if no binary data ID
âœ“ should do nothing on itemless case (1 ms)
âœ“ should do nothing if data is undefined
âœ“ should do nothing if workflow execution mode is not `webhook` (1 ms)
âœ“ should ignore error thrown on renaming (1 ms)
on s3 mode
âœ“ should restore if binary data ID is missing execution ID
âœ“ should do nothing if binary data ID is not missing execution ID (1 ms)
âœ“ should do nothing if no binary data ID
âœ“ should do nothing on itemless case
âœ“ should do nothing if data is undefined (1 ms)
âœ“ should do nothing if workflow execution mode is not `webhook`
âœ“ should ignore error thrown on renaming (1 ms)
on default mode
âœ“ should do nothing (7 ms)
2025-04-15T08:41:07.8947581Z
PASS src/services/__tests__/hooks.service.test.ts
HooksService
âœ“ hooksService.inviteUsers should call userService.inviteUsers (10 ms)
âœ“ hooksService.issueCookie should call authService.issueCookie (4 ms)
âœ“ hooksService.findOneUser should call authUserRepository.findOne (1 ms)
âœ“ hooksService.saveUser should call userRepository.save (1 ms)
âœ“ hooksService.updateSettings should call settingRepository.update (1 ms)
âœ“ hooksService.workflowsCount should call workflowRepository.count (1 ms)
âœ“ hooksService.credentialsCount should call credentialRepository.count (1 ms)
âœ“ hooksService.settingsCount should call settingsRepository.count
âœ“ hooksService.authMiddleware should call authService.authMiddleware (1 ms)
âœ“ hooksService.dbCollections should return valid repositories (11 ms)
âœ“ hooksService.getRudderStackClient (1 ms)
2025-04-15T08:41:07.8949751Z
PASS test/integration/credentials-helper.test.ts
CredentialsHelper
credentialOwnedBySuperUsers
âœ“ owners are super users (31 ms)
âœ“ admins are super users (11 ms)
âœ“ owners need to own the credential (14 ms)
âœ“ admins need to own the credential (12 ms)
âœ“ members are no super users (10 ms)
âœ“ credential in team project with instance owner as an admin can use external secrets (26 ms)
âœ“ credential in team project with instance admin as an admin can use external secrets (25 ms)
âœ“ credential in team project with instance owner as an editor cannot use external secrets (19 ms)
âœ“ credential in team project with instance admin as an editor cannot use external secrets (10 ms)
âœ“ credential in team project with no instance admin or owner as part of the project cannot use external secrets (9 ms)
2025-04-15T08:41:07.8951991Z
PASS src/__tests__/credentials-overwrites.test.ts
CredentialsOverwrites
constructor
âœ“ should parse and set overwrite data from config (12 ms)
setData
âœ“ should reset resolvedTypes when setting new data (1 ms)
applyOverwrite
âœ“ should apply overwrites only for empty fields (1 ms)
âœ“ should return original data if no overwrites exist (1 ms)
getOverwrites
âœ“ should return undefined for unrecognized credential type (1 ms)
âœ“ should cache resolved types (1 ms)
âœ“ should merge overwrites from parent types (1 ms)
2025-04-15T08:41:07.8954008Z
PASS test/integration/security-audit/database-risk-reporter.test.ts
âœ“ should report expressions in queries (334 ms)
âœ“ should report expressions in query params (13 ms)
âœ“ should report unused query params (14 ms)
âœ“ should not report non-database node (5 ms)
2025-04-15T08:41:07.8954783Z
PASS src/executions/__tests__/parse-range-query.middleware.test.ts
`parseRangeQuery` middleware
errors
âœ“ should fail on invalid JSON (15 ms)
âœ“ should fail on invalid schema (4 ms)
filter
âœ“ should parse status and mode fields (2 ms)
âœ“ should parse date-related fields (10 ms)
âœ“ should parse ID-related fields (2 ms)
âœ“ should parse `projectId` field (1 ms)
âœ“ should delete invalid fields (1 ms)
range
âœ“ should parse first and last IDs
âœ“ should parse limit (3 ms)
âœ“ should default limit to 20 if absent
2025-04-15T08:41:07.8956670Z
PASS src/controllers/__tests__/owner.controller.test.ts
OwnerController
setupOwner
âœ“ should throw a BadRequestError if the instance owner is already setup (15 ms)
âœ“ should setup the instance owner successfully (2 ms)
dismissBanner
âœ“ should not call dismissBanner if no banner is provided
âœ“ should call dismissBanner with the correct banner name
2025-04-15T08:41:07.8957876Z
PASS src/execution-lifecycle/__tests__/save-execution-progress.test.ts
saveExecutionProgress
âœ“ should not try to update non-existent executions (5 ms)
âœ“ should handle DB errors on execution lookup (2 ms)
âœ“ should handle DB errors when updating the execution (1 ms)
âœ“ should not try to update finished executions
âœ“ should populate `.data` when it is missing (1 ms)
âœ“ should augment `.data` if it already exists (1 ms)
âœ“ should set last executed node correctly (1 ms)
2025-04-15T08:41:07.8959461Z
PASS src/push/__tests__/websocket.push.test.ts
WebSocketPush
âœ“ can add a connection (4 ms)
âœ“ closes a connection (1 ms)
âœ“ sends data to one connection (2 ms)
âœ“ sends data to all connections (1 ms)
âœ“ pings all connections (1 ms)
âœ“ sends data to all users connections
âœ“ emits message event when connection receives data (2 ms)
âœ“ emits doesn' emit message for client heartbeat
2025-04-15T08:41:07.8960964Z
PASS test/integration/database/repositories/project.repository.test.ts
ProjectRepository
getPersonalProjectForUser
âœ“ returns the personal project (59 ms)
âœ“ does not return non personal projects (30 ms)
getPersonalProjectForUserOrFail
âœ“ returns the personal project (11 ms)
âœ“ does not return non personal projects (51 ms)
update personal project name
âœ“ do not pass a User instance with circular references into `UserRepository.create` (37 ms)
2025-04-15T08:41:07.8962225Z
PASS src/external-secrets.ee/__tests__/external-secrets-manager.ee.test.ts
External Secrets Manager
âœ“ should get secret (5 ms)
âœ“ should not throw errors during init (1 ms)
âœ“ should not throw errors during shutdown (8 ms)
âœ“ should save provider settings (3 ms)
âœ“ should call provider update functions on a timer (3 ms)
âœ“ should not call provider update functions if the not licensed (1 ms)
âœ“ should not call provider update functions if the provider has an error (2 ms)
âœ“ should reinitialize a provider when save provider settings (1 ms)
2025-04-15T08:41:07.8963890Z
PASS test/integration/binary-data.api.test.ts
GET /binary-data
should reject on missing or invalid binary data ID
âœ“ on request to view (42 ms)
âœ“ on request to download (15 ms)
should return binary data [filesystem]
âœ“ on request to view (8 ms)
âœ“ on request to download (5 ms)
should handle non-ASCII filename [filesystem]
âœ“ on request to download (8 ms)
should return 404 on file not found [filesystem]
âœ“ on request to view (12 ms)
âœ“ on request to download (5 ms)
should return binary data [s3]
âœ“ on request to view (5 ms)
âœ“ on request to download (3 ms)
should return 404 on file not found [s3]
âœ“ on request to view (4 ms)
âœ“ on request to download (2 ms)
2025-04-15T08:41:07.8977429Z
PASS test/integration/role.api.test.ts
GET /roles/
âœ“ should return all role categories (29 ms)
âœ“ should return fixed global roles (9 ms)
âœ“ should return fixed project roles (6 ms)
âœ“ should return fixed credential sharing roles (5 ms)
âœ“ should return fixed workflow sharing roles (5 ms)
2025-04-15T08:41:07.8978173Z
PASS src/execution-lifecycle/__tests__/to-save-settings.test.ts
failed production executions
âœ“ should favor workflow settings over defaults (4 ms)
âœ“ should fall back to default if no workflow setting (1 ms)
successful production executions
âœ“ should favor workflow settings over defaults
âœ“ should fall back to default if no workflow setting
manual executions
âœ“ should favor workflow setting over default (1 ms)
âœ“ should favor fall back to default if workflow setting is explicit default (1 ms)
âœ“ should fall back to default if no workflow setting (1 ms)
execution progress
âœ“ should favor workflow setting over default
âœ“ should favor fall back to default if workflow setting is explicit default (1 ms)
âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:41:07.8980250Z
PASS src/webhooks/__tests__/webhook-form-data.test.ts
webhook-form-data
createMultiFormDataParser
âœ“ should parse fields from the multipart form data (25 ms)
âœ“ should parse text/plain file from the multipart form data (7 ms)
âœ“ should parse multiple files and fields from the multipart form data (4 ms)
âœ“ should ignore file that is too large (4 ms)
2025-04-15T08:41:07.8981100Z
PASS src/task-runners/__tests__/task-runner-process.test.ts
TaskRunnerProcess
constructor
âœ“ should throw if runner mode is external (17 ms)
âœ“ should register listener for `runner:failed-heartbeat-check` event
âœ“ should register listener for `runner:timed-out-during-task` event
start
âœ“ should propagate PATH from env as is (2 ms)
âœ“ should propagate NODE_FUNCTION_ALLOW_BUILTIN from env as is (1 ms)
âœ“ should propagate NODE_FUNCTION_ALLOW_EXTERNAL from env as is (1 ms)
âœ“ should propagate N8N_SENTRY_DSN from env as is
âœ“ should propagate N8N_VERSION from env as is (1 ms)
âœ“ should propagate ENVIRONMENT from env as is (1 ms)
âœ“ should propagate DEPLOYMENT_NAME from env as is (1 ms)
âœ“ should propagate NODE_PATH from env as is
âœ“ should propagate GENERIC_TIMEZONE from env as is (1 ms)
âœ“ should pass NODE_OPTIONS env if maxOldSpaceSize is configured (8 ms)
âœ“ should not pass NODE_OPTIONS env if maxOldSpaceSize is not configured (1 ms)
âœ“ should use --disallow-code-generation-from-strings and --disable-proto=delete flags
2025-04-15T08:41:07.8983787Z
PASS src/sso.ee/saml/__tests__/saml.service.ee.test.ts
SamlService
getAttributesFromLoginResponse
âœ“ throws when any attribute is missing (120 ms)
init
âœ“ calls `reset` if an InvalidSamlMetadataError is thrown (2 ms)
âœ“ calls `reset` if a SyntaxError is thrown (1 ms)
âœ“ does not call reset and rethrows if another error is thrown (2 ms)
âœ“ does not call reset if no error is thrown (1 ms)
reset
âœ“ disables saml login and deletes the saml `features.saml` key in the db (1 ms)
2025-04-15T08:41:07.8984998Z
PASS test/integration/license.api.test.ts
GET /license
âœ“ should return license information to the instance owner (37 ms)
âœ“ should return license information to a regular user (12 ms)
POST /license/enterprise/request_trial
âœ“ should work for instance owner (31 ms)
âœ“ does not work for regular users (17 ms)
POST /license/activate
âœ“ should work for instance owner (25 ms)
âœ“ does not work for regular users (9 ms)
âœ“ errors out properly (39 ms)
POST /license/renew
âœ“ should work for instance owner (19 ms)
âœ“ does not work for regular users (13 ms)
âœ“ errors out properly (8 ms)
2025-04-15T08:41:07.8986536Z
PASS test/integration/controllers/oauth/oauth2.api.test.ts
OAuth2 API
âœ“ should return a valid auth URL when the auth flow is initiated (91 ms)
âœ“ should fail on auth when callback is called as another user (61 ms)
âœ“ should handle a valid callback without auth (65 ms)
2025-04-15T08:41:07.8987154Z
PASS test/integration/credentials/credentials.service.test.ts
credentials service
replaceCredentialContentsForSharee
âœ“ should replace the contents of the credential for sharee (18 ms)
âœ“ should replace the contents of the credential for project viewer (31 ms)
âœ“ should not replace the contents of the credential for project editor (15 ms)
2025-04-15T08:41:07.8987965Z
PASS src/__tests__/external-hooks.test.ts
ExternalHooks
init()
âœ“ should not load hooks if no external hook files are configured (5 ms)
âœ“ should throw an error if hook file cannot be loaded (23 ms)
âœ“ should successfully load hooks from valid hook file (1 ms)
run()
âœ“ should not throw if no hooks are registered
âœ“ should execute registered hooks (1 ms)
âœ“ should report error if hook execution fails (1 ms)
2025-04-15T08:41:07.8989004Z
PASS test/integration/workflows/workflow-sharing.service.test.ts
WorkflowSharingService
getSharedWorkflowIds
âœ“ should show all workflows to owners (25 ms)
âœ“ should show shared workflows to users (38 ms)
âœ“ should show workflows that the user has access to through a team project they are part of (13 ms)
âœ“ should show workflows that the user has update access to (56 ms)
2025-04-15T08:41:07.8990019Z
PASS src/credentials/__tests__/credentials.service.test.ts
CredentialsService
redact
âœ“ should redact sensitive values (9 ms)
decrypt
âœ“ should redact sensitive values by default (3 ms)
âœ“ should return sensitive values if `includeRawData` is true (1 ms)
âœ“ should return return an empty object if decryption fails (10 ms)
2025-04-15T08:41:07.8990830Z
PASS test/integration/owner.api.test.ts
POST /owner/setup
âœ“ should create owner and enable isInstanceOwnerSetUp (136 ms)
âœ“ should create owner with lowercased email (95 ms)
âœ“ should fail with invalid inputs (44 ms)
2025-04-15T08:41:07.8991478Z
PASS test/integration/executions.controller.test.ts
GET /executions
âœ“ only returns executions of shared workflows if sharing is enabled (86 ms)
âœ“ should return a scopes array for each execution (44 ms)
GET /executions/:id
âœ“ project viewers can view executions for workflows in the project (64 ms)
âœ“ only returns executions of shared workflows if sharing is enabled (59 ms)
POST /executions/delete
âœ“ should hard-delete an execution (62 ms)
2025-04-15T08:41:07.8992519Z
PASS src/services/__tests__/ai.service.test.ts
AiService
init
âœ“ should not initialize client if AI assistant is not enabled (4 ms)
âœ“ should initialize client when AI assistant is enabled (5 ms)
chat
âœ“ should call client chat method after initialization (1 ms)
âœ“ should throw error if client is not initialized (7 ms)
applySuggestion
âœ“ should call client applySuggestion (1 ms)
âœ“ should throw error if client is not initialized
askAi
âœ“ should call client askAi method after initialization
âœ“ should throw error if client is not initialized (1 ms)
2025-04-15T08:41:07.8993998Z
PASS test/integration/public-api/variables.test.ts
Variables in Public API
GET /variables
âœ“ if licensed, should return all variables with pagination (503 ms)
âœ“ if not licensed, should reject (21 ms)
POST /variables
âœ“ if licensed, should create a new variable (28 ms)
âœ“ if not licensed, should reject (14 ms)
DELETE /variables/:id
âœ“ if licensed, should delete a variable (51 ms)
âœ“ if not licensed, should reject (30 ms)
2025-04-15T08:41:07.8995042Z
PASS src/decorators/__tests__/controller.registry.test.ts
ControllerRegistry
Rate limiting
âœ“ should not rate-limit by default (50 ms)
âœ“ should rate-limit when configured (12 ms)
Authorization
âœ“ should not require auth if configured to skip (3 ms)
âœ“ should require auth by default (3 ms)
License checks
âœ“ should disallow when feature is missing (3 ms)
âœ“ should allow when feature is available (3 ms)
Args
âœ“ should pass in correct args to the route handler (4 ms)
2025-04-15T08:41:07.8996482Z
PASS src/__tests__/credential-types.test.ts
CredentialTypes
getByName
âœ“ Should throw error when calling invalid credential name (14 ms)
âœ“ Should return correct credential type for valid name (1 ms)
recognizes
âœ“ Should recognize credential type that exists in knownCredentials (1 ms)
âœ“ Should recognize credential type that exists in loadedCredentials (1 ms)
âœ“ Should not recognize unknown credential type (1 ms)
getSupportedNodes
âœ“ Should return supported nodes for known credential type (1 ms)
âœ“ Should return empty array for unknown credential type supported nodes
getParentTypes
âœ“ Should return parent types for credential type with extends (2 ms)
âœ“ Should return empty array for credential type without extends
âœ“ Should return empty array for unknown credential type parent types (1 ms)
2025-04-15T08:41:07.8998423Z
PASS src/executions/pre-execution-checks/__tests__/credentials-permission-checker.test.ts
CredentialsPermissionChecker
âœ“ should throw if a node has a credential without an id (21 ms)
âœ“ should throw if a credential is not accessible (1 ms)
âœ“ should not throw an error if the workflow has no credentials (1 ms)
âœ“ should not throw an error if all credentials are accessible (1 ms)
âœ“ should skip credential checks if the home project owner has global scope
2025-04-15T08:41:07.8999440Z
PASS src/controllers/__tests__/user-settings.controller.test.ts
UserSettingsController
NPS Survey
âœ“ updates user settings, setting response state to done (4 ms)
âœ“ updates user settings, setting response state to done, ignoring other keys like waitForResponse
âœ“ updates user settings, setting response state to done, ignoring other keys like ignoredCount
âœ“ updates user settings, setting response state to done, ignoring other unknown keys
âœ“ updates user settings, updating ignore count
âœ“ updates user settings, resetting to waiting state (1 ms)
âœ“ updates user settings, updating ignore count, ignoring unknown keys (8 ms)
âœ“ updates user settings, setting response state to done (1 ms)
âœ“ updates user settings, updating ignore count
âœ“ throws error when request payload is is missing (7 ms)
âœ“ throws error when request payload is is undefined (1 ms)
âœ“ throws error when request payload is is responded but missing lastShownAt
âœ“ throws error when request payload is is waitingForResponse but missing lastShownAt (2 ms)
âœ“ throws error when request payload is is waitingForResponse but missing ignoredCount (1 ms)
2025-04-15T08:41:07.9002308Z
PASS src/scaling/__tests__/publisher.service.test.ts
Publisher
constructor
âœ“ should init Redis client in scaling mode (4 ms)
âœ“ should not init Redis client in regular mode (1 ms)
shutdown
âœ“ should disconnect Redis client (5 ms)
publishCommand
âœ“ should do nothing if not in scaling mode (1 ms)
âœ“ should publish command into `n8n.commands` pubsub channel (1 ms)
âœ“ should not debounce `add-webhooks-triggers-and-pollers`
âœ“ should not debounce `remove-triggers-and-pollers` (1 ms)
publishWorkerResponse
âœ“ should publish worker response into `n8n.worker-response` pubsub channel
2025-04-15T08:41:07.9003837Z
PASS test/integration/workflow-history-manager.test.ts
Workflow History Manager
âœ“ should prune on interval (7 ms)
âœ“ should not prune when not licensed (33 ms)
âœ“ should not prune when licensed but disabled (28 ms)
âœ“ should not prune when both prune times are -1 (infinite) (12 ms)
âœ“ should prune when config prune time is not -1 (infinite) (16 ms)
âœ“ should prune when license prune time is not -1 (infinite) (11 ms)
âœ“ should only prune versions older than prune time (32 ms)
2025-04-15T08:41:07.9004962Z
PASS test/integration/webhooks.test.ts
WebhookServer
CORS
for webhook
âœ“ should handle preflight requests (21 ms)
âœ“ should handle regular requests (3 ms)
for webhookTest
âœ“ should handle preflight requests (2 ms)
âœ“ should handle regular requests (2 ms)
Routing for Waiting Webhooks
âœ“ should handle URLs without suffix (2 ms)
âœ“ should handle URLs with suffix (2 ms)
2025-04-15T08:41:07.9006380Z
PASS src/license/__tests__/license.service.test.ts
LicenseService
getLicenseData
âœ“ should return usage and license data (4 ms)
activateLicense
âœ“ should handle SCHEMA_VALIDATION error (25 ms)
âœ“ should handle RESERVATION_EXHAUSTED error
âœ“ should handle RESERVATION_EXPIRED error (1 ms)
âœ“ should handle NOT_FOUND error (4 ms)
âœ“ should handle RESERVATION_CONFLICT error (1 ms)
âœ“ should handle RESERVATION_DUPLICATE error
renewLicense
âœ“ on success (1 ms)
âœ“ on failure (1 ms)
registerCommunityEdition
âœ“ on success (1 ms)
âœ“ on failure (1 ms)
2025-04-15T08:41:07.9008110Z
PASS src/task-runners/task-managers/__tests__/task-manager.test.ts
TaskRequester
handleRpc
âœ“ should handle logNodeOutput rpc call (11 ms)
âœ“ should handle helpers.assertBinaryData rpc call (1 ms)
âœ“ should handle helpers.getBinaryDataBuffer rpc call
âœ“ should handle helpers.prepareBinaryData rpc call (1 ms)
âœ“ should handle helpers.setBinaryDataBuffer rpc call (1 ms)
âœ“ should handle helpers.binaryToString rpc call
âœ“ should handle helpers.httpRequest rpc call (1 ms)
âœ“ converts any serialized buffer arguments into buffers
errors
âœ“ sends method not allowed error if method is not in the allow list
âœ“ sends error if method throws
2025-04-15T08:41:07.9009761Z
PASS src/databases/repositories/__tests__/execution.repository.test.ts
ExecutionRepository
getWaitingExecutions()
âœ“ on sqlite, should be called with expected args (12 ms)
âœ“ on postgresdb, should be called with expected args (1 ms)
deleteExecutionsByFilter
âœ“ should delete binary data (2 ms)
updateExistingExecution
âœ“ should update execution and data in transaction on sqlite (1 ms)
âœ“ should update execution and data in transaction on postgresdb
âœ“ should update execution and data in transaction on mysqldb (6 ms)
2025-04-15T08:41:07.9011030Z
PASS src/modules/insights/__tests__/insights.controller.test.ts
InsightsController
getInsightsSummary
âœ“ should return default insights if no data (9 ms)
âœ“ should return the insights summary with null deviation if insights exist only for current period
âœ“ should return the insights summary if insights exist for both periods
2025-04-15T08:41:07.9011805Z
PASS src/push/__tests__/sse.push.test.ts
SSEPush
âœ“ pings all connections (2 ms)
âœ“ closes all connections (1 ms)
add
âœ“ adds a connection (12 ms)
closes a connection
âœ“ on "end" event (2 ms)
âœ“ on "close" event (1 ms)
âœ“ on "finish" event (2 ms)
sends data
âœ“ to one connection (1 ms)
âœ“ to all connections (1 ms)
âœ“ to a specific user (2 ms)
2025-04-15T08:41:07.9013040Z
PASS src/services/__tests__/active-workflows.service.test.ts
ActiveWorkflowsService
getAllActiveIdsInStorage
âœ“ should filter out any workflow ids that have activation errors (13 ms)
getAllActiveIdsFor
âœ“ should return all workflow ids when user has full access (1 ms)
âœ“ should filter out workflow ids that the user does not have access to (1 ms)
getActivationError
âœ“ should throw a BadRequestError a user does not have access to the workflow id (15 ms)
âœ“ should return the error when the user has access (1 ms)
2025-04-15T08:41:07.9014392Z
PASS src/environments.ee/source-control/__tests__/source-control.controller.ee.test.ts
SourceControlController
pushWorkfolder
âœ“ should push workfolder with expected parameters (6 ms)
pullWorkfolder
âœ“ should pull workfolder with expected parameters
getStatus
âœ“ should call getStatus with expected parameters (1 ms)
status
âœ“ should call getStatus with expected parameters (1 ms)
2025-04-15T08:41:07.9015424Z
PASS test/integration/commands/reset.cmd.test.ts
âœ“ user-management:reset should reset DB to default user state (86 ms)
2025-04-15T08:41:07.9015709Z
PASS src/workflows/workflow-history.ee/__tests__/workflow-history.service.ee.test.ts
WorkflowHistoryService
saveVersion
âœ“ should save a new version when workflow history is enabled and nodes and connections are present (4 ms)
âœ“ should not save a new version when workflow history is disabled
âœ“ should not save a new version when nodes or connections are missing (1 ms)
âœ“ should log an error when failed to save workflow history version
2025-04-15T08:41:07.9016760Z
PASS test/integration/security-audit/nodes-risk-reporter.test.ts
âœ“ should report risky official nodes (270 ms)
âœ“ should not report non-risky official nodes (8 ms)
âœ“ should report community nodes (2 ms)
2025-04-15T08:41:07.9017249Z
PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.controller.test.ts
TaskBrokerAuthController
createGrantToken
âœ“ should throw BadRequestError when auth token is missing (16 ms)
âœ“ should throw ForbiddenError when auth token is invalid (1 ms)
âœ“ should return rant token when auth token is valid (2 ms)
authMiddleware
âœ“ should respond with 401 when grant token is missing (1 ms)
âœ“ should respond with 403 when grant token is invalid
âœ“ should call next() when grant token is valid (9 ms)
2025-04-15T08:41:07.9018576Z
PASS src/task-runners/task-managers/__tests__/data-request-response-builder.test.ts
DataRequestResponseBuilder
âœ“ picks only specific properties for additional data (4 ms)
âœ“ picks only specific properties for workflow (1 ms)
âœ“ clears nodeExecutionStack, waitingExecution and waitingExecutionSource from runExecutionData (1 ms)
2025-04-15T08:41:07.9019353Z
PASS src/task-runners/__tests__/forward-to-logger.test.ts
forwardToLogger
âœ“ should forward stdout data to logger.info (12 ms)
âœ“ should forward stderr data to logger.error (1 ms)
âœ“ should remove trailing newline from stdout (1 ms)
âœ“ should remove trailing newline from stderr (1 ms)
âœ“ should forward stderr data to logger.error
âœ“ should include prefix if provided for stdout
âœ“ should include prefix if provided for stderr (1 ms)
âœ“ should make sure there is no duplicate space after prefix for stdout (1 ms)
âœ“ should make sure there is no duplicate space after prefix for stderr (1 ms)
2025-04-15T08:41:07.9020847Z
PASS test/integration/project.service.integration.test.ts
ProjectService
findRolesInProjects
when user has roles in projects where workflow is accessible
âœ“ should return roles and project IDs (50 ms)
when user has no roles in projects where workflow is accessible
âœ“ should return project IDs but no roles (14 ms)
when user has roles in projects where workflow is inaccessible
âœ“ should return project IDs but no roles (40 ms)
2025-04-15T08:41:07.9021826Z
PASS src/databases/repositories/__tests__/shared-credentials.repository.test.ts
SharedCredentialsRepository
findCredentialForUser
âœ“ should allow instance owner access to all credentials (6 ms)
âœ“ should allow members (1 ms)
âœ“ should return null when no shared credential is found (1 ms)
2025-04-15T08:41:07.9022540Z
PASS src/controllers/__tests__/ai.controller.test.ts
AiController
chat
âœ“ should handle chat request successfully (8 ms)
âœ“ should throw InternalServerError if chat fails (7 ms)
applySuggestion
âœ“ should apply suggestion successfully
âœ“ should throw InternalServerError if applying suggestion fails (1 ms)
askAi method
âœ“ should ask AI successfully
âœ“ should throw InternalServerError if asking AI fails (1 ms)
2025-04-15T08:41:07.9023753Z
PASS src/services/__tests__/user.service.test.ts
UserService
toPublic
âœ“ should remove sensitive properties (3 ms)
âœ“ should add scopes if requested (1 ms)
âœ“ should add invite URL if requested (1 ms)
update
âœ“ should use `save` instead of `update` (2 ms)
2025-04-15T08:41:07.9024634Z
PASS src/controllers/__tests__/api-keys.controller.test.ts
ApiKeysController
createAPIKey
âœ“ should create and save an API key (5 ms)
getAPIKeys
âœ“ should return the users api keys redacted
deleteAPIKey
âœ“ should delete the API key (2 ms)
2025-04-15T08:41:07.9025290Z
PASS src/validators/__tests__/no-xss.validator.test.ts
NoXss
Scripts
âœ“ should block <script src/> (6 ms)
âœ“ should block <script>alert('xss')</script> (1 ms)
âœ“ should block <a href="#">Jack</a>
Names
âœ“ should allow Johann StrauÃŸ (1 ms)
âœ“ should allow Ð’Ð°Ð³Ð¸Ñ„ Ð¡Ó™Ð¼Ó™Ð´Ð¾Ò“Ð»Ñƒ
âœ“ should allow RenÃ© Magritte (1 ms)
âœ“ should allow à¦¸à§à¦•à§à¦®à¦¾à¦° à¦°à¦¾à§Ÿ
âœ“ should allow à½˜à½‚à½¼à½“à¼‹à½”à½¼à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼
âœ“ should allow Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù„ÙŠÙ… Ø­Ø§ÙØ¸
ISO-8601 timestamps
âœ“ should allow 2022-01-01T00:00:00.000Z (1 ms)
âœ“ should allow 2022-01-01T00:00:00.000+02:00
Semver versions
âœ“ should allow 1.0.0
âœ“ should allow 1.0.0-alpha.1
Miscellaneous strings
âœ“ should allow CI/CD
Array of strings
âœ“ should allow array: ["cloud-infrastructure-orchestration","ci-cd","reporting"] (1 ms)
âœ“ should allow array: ["automationGoalDevops","cloudComputing","containerization"]
âœ“ should reject array containing invalid string: ["valid-string","<script>alert(\"xss\")</script>","another-valid-string"] (4 ms)
âœ“ should reject array containing invalid string: ["<img src=\"x\" onerror=\"alert('XSS')\">","valid-string"]
2025-04-15T08:41:07.9028533Z
PASS test/integration/task-runners/task-runner-process.test.ts (6.221 s)
TaskRunnerProcess
âœ“ should start and connect the task runner (836 ms)
âœ“ should stop an disconnect the task runner (1025 ms)
âœ“ should restart the task runner if it exits (1638 ms)
âœ“ should work together with restart loop detector (1037 ms)
2025-04-15T08:41:07.9029288Z
PASS src/webhooks/__tests__/test-webhook-registrations.service.test.ts
TestWebhookRegistrationsService
register()
âœ“ should register a test webhook registration (5 ms)
âœ“ should skip setting TTL in single-main setup
deregister()
âœ“ should deregister a test webhook registration
get()
âœ“ should retrieve a test webhook registration (1 ms)
âœ“ should return undefined if no such test webhook registration was found
getAllKeys()
âœ“ should retrieve all test webhook registration keys (1 ms)
getAllRegistrations()
âœ“ should retrieve all test webhook registrations
deregisterAll()
âœ“ should deregister all test webhook registrations
toKey()
âœ“ should convert a test webhook registration to a key
2025-04-15T08:41:07.9031228Z
PASS test/integration/activation-errors.service.test.ts
ActivationErrorsService
register
âœ“ should register an activation error for a workflow (6 ms)
deregister
âœ“ should deregister an activation error for a workflow
get
âœ“ should retrieve an activation error for a workflow (1 ms)
âœ“ should return `null` if no activation error found for a workflow
getAll
âœ“ should retrieve all activation errors (1 ms)
âœ“ should return an empty object if no activation errors (1 ms)
clearAll()
âœ“ should clear activation errors
2025-04-15T08:41:07.9032718Z
PASS test/integration/ai/ai.api.test.ts
POST /ai/free-credits
âœ“ should create OpenAI managed credential (82 ms)
2025-04-15T08:41:07.9032985Z
PASS src/services/__tests__/naming.service.test.ts
NamingService
getUniqueWorkflowName()
âœ“ should return requested name if already unique (4 ms)
âœ“ should return requested name suffixed if already existing once
âœ“ should return requested name with incremented suffix if already suffixed
getUniqueCredentialName()
âœ“ should return requested name if already unique
âœ“ should return requested name suffixed if already existing once
âœ“ should return requested name with incremented suffix if already suffixed (1 ms)
2025-04-15T08:41:07.9034253Z
PASS test/integration/tags.api.test.ts
POST /tags
âœ“ should create tag (60 ms)
âœ“ should not create duplicate tag (21 ms)
âœ“ should delete tag (11 ms)
âœ“ should update tag name (10 ms)
âœ“ should retrieve all tags (11 ms)
âœ“ should retrieve all tags with with usage count (10 ms)
2025-04-15T08:41:07.9035005Z
PASS test/integration/commands/worker.cmd.test.ts (5.161 s)
âœ“ worker initializes all its components (66 ms)
2025-04-15T08:41:07.9035262Z
PASS test/integration/database/repositories/execution.repository.test.ts
ExecutionRepository
createNewExecution
âœ“ should save execution data (26 ms)
âœ“ should not create execution if execution data insert fails (3 ms)
2025-04-15T08:41:07.9035821Z
PASS src/user-management/email/__tests__/user-management-mailer.test.ts
UserManagementMailer
when SMTP is not configured
âœ“ should not setup email transport (10 ms)
âœ“ should not send emails (1 ms)
when SMTP is configured
âœ“ should setup email transport (1 ms)
âœ“ should send invitation emails (8 ms)
âœ“ should send password reset emails (2 ms)
2025-04-15T08:41:07.9036833Z
PASS test/integration/insights/insights.api.test.ts
GET /insights routes work for owner and admins for server with dashboard license
âœ“ Call should work and return empty summary for user owner (41 ms)
âœ“ Call should work and return empty summary for user admin (23 ms)
âœ“ Call should work and return empty summary for user member (11 ms)
GET /insights routes return 403 for dashboard routes when summary license only
âœ“ Call should work and return empty summary for user owner (20 ms)
âœ“ Call should work and return empty summary for user admin (28 ms)
âœ“ Call should work and return empty summary for user member (14 ms)
GET /insights/by-workflow
âœ“ Call should work with valid query parameters (6 ms)
âœ“ Call should return internal server error with invalid pagination query parameters (13 ms)
âœ“ Call should return internal server error with invalid pagination query parameters (3 ms)
âœ“ Call should return bad request with invalid sortby query parameters (4 ms)
2025-04-15T08:41:07.9039035Z
PASS test/integration/license-metrics.repository.test.ts
LicenseMetricsRepository
getLicenseRenewalMetrics
âœ“ should return license renewal metrics (68 ms)
âœ“ should handle zero execution statistics correctly (15 ms)
2025-04-15T08:41:07.9039578Z
PASS src/modules/insights/__tests__/insights.module.test.ts
InsightsModule
backgroundProcess
âœ“ should start background process if instance is main and leader (5 ms)
âœ“ should not start background process if instance is main but not leader (1 ms)
âœ“ should start background process on leader takeover (1 ms)
âœ“ should stop background process on leader stepdown
2025-04-15T08:41:07.9040443Z
PASS src/webhooks/__tests__/waiting-webhooks.test.ts
WaitingWebhooks
âœ“ should throw NotFoundError if there is no execution to resume (40 ms)
âœ“ should throw ConflictError if the execution to resume is already running
âœ“ should throw ConflictError if the execution to resume already finished (2 ms)
âœ“ should mark as test webhook when execution mode is manual (1 ms)
2025-04-15T08:41:07.9041282Z
PASS src/evaluation.ee/test-runner/__tests__/create-pin-data.ee.test.ts
createPinData
âœ“ should create pin data from past execution data (4 ms)
âœ“ should not create pin data for non-existing mocked nodes (1 ms)
âœ“ should create pin data for all mocked nodes
âœ“ should return empty object if no mocked nodes are provided
âœ“ should create pin data for all mocked nodes with renamed nodes (1 ms)
2025-04-15T08:41:07.9042199Z
PASS test/integration/workflows/workflow.service.test.ts
update()
âœ“ should remove and re-add to active workflows on `active: true` payload (89 ms)
âœ“ should remove from active workflows on `active: false` payload (34 ms)
2025-04-15T08:41:07.9042853Z
PASS src/concurrency/__tests__/concurrency-queue.test.ts
ConcurrencyQueue
âœ“ should limit concurrency (6 ms)
âœ“ should debounce emitting of the `concurrency-check` event (1 ms)
2025-04-15T08:41:07.9043298Z
PASS test/integration/commands/update/workflow.test.ts
âœ“ update:workflow can activate all workflows (33 ms)
âœ“ update:workflow can deactivate all workflows (7 ms)
âœ“ update:workflow can activate a specific workflow (11 ms)
âœ“ update:workflow can deactivate a specific workflow (11 ms)
2025-04-15T08:41:07.9044073Z
PASS src/controllers/__tests__/auth.controller.test.ts
AuthController
login
âœ“ should not validate email in "emailOrLdapLoginId" if LDAP is enabled (4 ms)
2025-04-15T08:41:07.9044488Z
PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.service.test.ts
TaskBrokerAuthService
isValidAuthToken
âœ“ should be valid for the configured token (3 ms)
âœ“ should be invalid for anything else
createGrantToken
âœ“ should generate a random token (1 ms)
âœ“ should store the generated token in cache (1 ms)
tryConsumeGrantToken
âœ“ should return false for an invalid grant token (1 ms)
âœ“ should return true for a valid grant token
âœ“ should return false for a already used grant token (1 ms)
âœ“ should return false for an expired grant token (301 ms)
2025-04-15T08:41:07.9045908Z
PASS src/external-secrets.ee/providers/__tests__/gcp-secrets-manager.test.ts
GCP Secrets Manager
âœ“ should update cached secrets (5 ms)
2025-04-15T08:41:07.9046590Z
PASS test/integration/database/repositories/workflow.repository.test.ts
WorkflowRepository
activateAll
âœ“ should activate all workflows (19 ms)
deactivateAll
âœ“ should deactivate all workflows (9 ms)
getActiveIds
âœ“ should return all active workflow IDs when invoked without maxResults (7 ms)
âœ“ should return a capped number of active workflow IDs when invoked with maxResults (10 ms)
2025-04-15T08:41:07.9047620Z
PASS test/integration/environments/source-control.api.test.ts
GET /sourceControl/preferences
âœ“ should return Source Control preferences (18 ms)
âœ“ should return repo sync status (10 ms)
âœ“ refreshing key pairsshould return new rsa key (428 ms)
2025-04-15T08:41:07.9048210Z
PASS src/collaboration/__tests__/collaboration.state.test.ts
CollaborationState
addCollaborator
âœ“ should add workflow user with correct cache key and value (4 ms)
removeCollaborator
âœ“ should remove workflow user with correct cache key (1 ms)
getCollaborators
âœ“ should get workflows with correct cache key
âœ“ should get workflow users that are not expired (1 ms)
2025-04-15T08:41:07.9049340Z
PASS src/decorators/__tests__/on-shutdown.test.ts
OnShutdown
âœ“ should register a methods that is decorated with OnShutdown (4 ms)
âœ“ should register multiple methods in the same class (1 ms)
âœ“ should use the given priority (1 ms)
âœ“ should throw an error if the decorated member is not a function (7 ms)
âœ“ should throw if the priority is invalid (9 ms)
2025-04-15T08:41:07.9050335Z
PASS src/credentials/__tests__/credentials.controller.test.ts
CredentialsController
createCredentials
âœ“ should create new credentials and emit "credentials-created" (4 ms)
2025-04-15T08:41:07.9050773Z
PASS src/scaling/__tests__/job-processor.service.test.ts
JobProcessor
âœ“ should refrain from processing a crashed execution (4 ms)
âœ“ should use manualExecutionService to process a job in "manual" mode (3 ms)
âœ“ should use manualExecutionService to process a job in "evaluation" mode
2025-04-15T08:41:07.9051451Z
PASS src/evaluation.ee/test-runner/__tests__/evaluation-metrics.ee.test.ts
EvaluationMetrics
âœ“ should aggregate metrics correctly (4 ms)
âœ“ should throw when metric value is not number (8 ms)
âœ“ should handle empty metrics
âœ“ should handle empty testMetrics
âœ“ should ignore non-relevant values
âœ“ should report info on added metrics (2 ms)
2025-04-15T08:41:07.9052308Z
PASS src/task-runners/task-broker/__tests__/task-broker-ws-server.test.ts
TaskBrokerWsServer
removeConnection
âœ“ should close with 1000 status code by default (4 ms)
heartbeat timer
âœ“ should set up heartbeat timer on server start (1 ms)
âœ“ should clear heartbeat timer on server stop (1 ms)
sendMessage
âœ“ should work with a message containing circular references (1 ms)
2025-04-15T08:41:07.9053230Z
PASS src/metrics/__tests__/license-metrics.service.test.ts
LicenseMetricsService
collectPassthroughData
âœ“ should return an object with active workflow IDs (5 ms)
collectUsageMetrics
âœ“ should return an array of expected usage metrics (1 ms)
2025-04-15T08:41:07.9053854Z
PASS test/integration/workflow-tag-mapping.repository.integration.test.ts
WorkflowTagMappingRepository
overwriteTaggings
âœ“ should overwrite taggings in a workflow (26 ms)
âœ“ should delete taggings if no tags are provided (12 ms)
2025-04-15T08:41:07.9054431Z
PASS src/workflows/__tests__/workflows.controller.test.ts
WorkflowsController
getFromUrl
should return workflow data
âœ“ when the URL points to a valid JSON file (4 ms)
should throw a BadRequestError
âœ“ when the URL does not point to a valid JSON file (21 ms)
âœ“ when the data is not a valid n8n workflow JSON (1 ms)
âœ“ when the data is missing required fields (1 ms)
2025-04-15T08:41:07.9055624Z
PASS src/evaluation.ee/test-runner/__tests__/format-test-case-execution-input-data.ee.test.ts
formatTestCaseExecutionInputData
âœ“ should format the test case execution input data correctly (6 ms)
2025-04-15T08:41:07.9056171Z
PASS src/posthog/__tests__/posthog.test.ts
PostHog
âœ“ inits PostHog correctly (8 ms)
âœ“ does not initialize or track if diagnostics are not enabled (1 ms)
âœ“ captures PostHog events (1 ms)
âœ“ gets feature flags (1 ms)
2025-04-15T08:41:07.9057086Z
PASS test/integration/debug.controller.test.ts
DebugController
GET /debug/multi-main-setup
âœ“ should return multi-main setup details (21 ms)
2025-04-15T08:41:07.9057608Z
PASS src/task-runners/__tests__/task-runner-process-restart-loop-detector.test.ts
TaskRunnerProcessRestartLoopDetector
âœ“ should detect a restart loop if process exits 5 times within 5s (7 ms)
âœ“ should not detect a restart loop if process exits less than 5 times within 5s (1 ms)
2025-04-15T08:41:07.9058440Z
PASS test/integration/eventbus.test.ts
GET /eventbus/destination
âœ“ should fail due to missing authentication (18 ms)
âœ“ should fail due to missing license when authenticated (9 ms)
POST /eventbus/destination
âœ“ should fail due to missing authentication (3 ms)
âœ“ should fail due to missing license when authenticated (9 ms)
DELETE /eventbus/destination
âœ“ should fail due to missing authentication (4 ms)
âœ“ should fail due to missing license when authenticated (6 ms)
2025-04-15T08:41:07.9059978Z
PASS src/modules/insights/database/entities/__tests__/insights-raw.test.ts
Insights Raw Entity
âœ“ `success` can be serialized and deserialized correctly (5 ms)
âœ“ `failure` can be serialized and deserialized correctly (1 ms)
âœ“ `runtime_ms` can be serialized and deserialized correctly (4 ms)
âœ“ `time_saved_min` can be serialized and deserialized correctly (1 ms)
âœ“ `timestamp` can be serialized and deserialized correctly (1 ms)
âœ“ timestamp uses the correct default value (40 ms)
2025-04-15T08:41:07.9061475Z
PASS src/sso.ee/saml/routes/__tests__/saml.controller.ee.test.ts
Test views
âœ“ Should render success with template (4 ms)
âœ“ Should render failure with template
âœ“ Should render error with template (1 ms)
2025-04-15T08:41:07.9062363Z
PASS test/integration/security-audit/filesystem-risk-reporter.test.ts
âœ“ should report filesystem interaction nodes (179 ms)
âœ“ should not report non-filesystem-interaction node (5 ms)
2025-04-15T08:41:07.9062901Z
PASS src/environments.ee/source-control/__tests__/source-control-git.service.test.ts
SourceControlGitService
getBranches
âœ“ should support branch names containing slashes (10 ms)
initRepository
when local repo is set up after remote is ready
âœ“ should track remote (2 ms)
2025-04-15T08:41:07.9063823Z
PASS src/task-runners/__tests__/sliding-window-signal.test.ts
SlidingWindowSignal
âœ“ should return the last signal if within window size (4 ms)
âœ“ should return null if there is no signal within the window (1 ms)
âœ“ should return null if "exit" event is not emitted before timeout (1 ms)
âœ“ should return the signal emitted on "exit" event before timeout (1 ms)
2025-04-15T08:41:07.9064974Z
PASS src/services/cache/__tests__/cache-mock.service.test.ts
CacheService (Mock)
should prevent use of empty keys
âœ“ get (3 ms)
âœ“ getMany
âœ“ set (1 ms)
âœ“ setMany
âœ“ delete
âœ“ deleteMany (1 ms)
2025-04-15T08:41:07.9066091Z
PASS src/services/__tests__/jwt.service.test.ts
JwtService
secret initialization
âœ“ should read the secret from config, when set (4 ms)
âœ“ should derive the secret from encryption key when not set in config (1 ms)
with a secret set
âœ“ should sign (2 ms)
âœ“ should decode and verify payload (2 ms)
âœ“ should throw an error on verify if the token is expired (11 ms)
2025-04-15T08:41:07.9067383Z
PASS test/integration/services/workflow-static-data.service.test.ts
WorkflowStaticDataService
âœ“ should not change workflow updatedAt when calling saveStaticData (40 ms)
âœ“ should not change workflow updatedAt when calling saveStaticDataById (13 ms)
2025-04-15T08:41:07.9068103Z
PASS src/executions/__tests__/execution-data.service.test.ts
ExecutionDataService
generateFailedExecutionFromError
âœ“ should generate a failed execution with error details (12 ms)
âœ“ should generate a failed execution without node details if node is undefined (1 ms)
2025-04-15T08:41:07.9069003Z
PASS src/external-secrets.ee/providers/__tests__/azure-key-vault.test.ts
AzureKeyVault
âœ“ should update cached secrets (84 ms)
2025-04-15T08:41:07.9069409Z
PASS src/task-runners/task-broker/__tests__/task-broker-server.test.ts
TaskBrokerServer
handleUpgradeRequest
âœ“ should close WebSocket when response status code is > 200 (6 ms)
âœ“ should not close WebSocket when response status code is 200 (1 ms)
2025-04-15T08:41:07.9070307Z
PASS src/task-runners/errors/__tests__/task-runner-disconnected-error.test.ts
TaskRunnerDisconnectedError
âœ“ should have the correct default error message (4 ms)
âœ“ should have the error level set to "error" (1 ms)
âœ“ should set the correct description for non-cloud deployments (1 ms)
âœ“ should set the correct description for cloud deployments
2025-04-15T08:41:07.9071323Z
PASS src/modules/__tests__/modules.config.test.ts
ModulesConfig
âœ“ should initialize with insights modules if no environment variable is set (4 ms)
âœ“ should parse valid module names from environment variable (1 ms)
âœ“ should disable valid module names from environment variable (1 ms)
âœ“ should throw UnexpectedError for invalid module names (15 ms)
âœ“ should throw UnexpectedError if any module is both enabled and disabled
âœ“ should throw UnexpectedError if any enabled module name is invalid (1 ms)
âœ“ should throw UnexpectedError if any disabled module name is invalid (7 ms)
2025-04-15T08:41:07.9073293Z
PASS src/__tests__/utils.test.ts
shouldAssignExecuteMethod
âœ“ should return true when node has no execute, poll, trigger, webhook (unless declarative), or methods (2 ms)
âœ“ should return false when node has execute
âœ“ should return false when node has poll
âœ“ should return false when node has trigger
âœ“ should return false when node has webhook and is not declarative (1 ms)
âœ“ should return true when node has webhook but is declarative
âœ“ should return false when node has methods
2025-04-15T08:41:07.9074887Z
PASS src/databases/repositories/__tests__/workflow-statistics.test.ts
insertWorkflowStatistics
âœ“ Successfully inserts data when it is not yet present (4 ms)
âœ“ Does not insert when data is present
âœ“ throws an error when insertion fails (5 ms)
2025-04-15T08:41:07.9075682Z
PASS src/sso.ee/saml/__tests__/saml-helpers.test.ts
sso/saml/samlHelpers
updateUserFromSamlAttributes
âœ“ does not user `Repository.update`, but `Repository.save` instead (4 ms)
2025-04-15T08:41:07.9076330Z
PASS src/modules/insights/__tests__/insights.pre-init.test.ts
InsightsModulePreInit
âœ“ should return false if instance type is not "main" (3 ms)
âœ“ should return false if database type is "sqlite" and poolSize is < 1
âœ“ should return true if instance type is "main" and database is not sqlite (1 ms)
âœ“ should return true if instance type is "main" and database is not sqlite
âœ“ should return true if instance type is "main" and database is not sqlite
âœ“ should return true if instance type is "main" and sqlite poolSize is >= 1
2025-04-15T08:41:07.9077768Z
PASS test/integration/task-runners/task-runner-module.external.test.ts
TaskRunnerModule in external mode
start
âœ“ should throw if the task runner is disabled (33 ms)
âœ“ should throw if auth token is missing (11 ms)
âœ“ should start the task runner (273 ms)
âœ“ should use DefaultTaskRunnerDisconnectAnalyzer
2025-04-15T08:41:07.9078958Z
PASS src/controllers/__tests__/translation.controller.test.ts
TranslationController
getCredentialTranslation
âœ“ should throw 400 on invalid credential types (10 ms)
âœ“ should return translation json on valid credential types
2025-04-15T08:41:07.9079904Z
PASS test/integration/auth.mw.test.ts
Auth Middleware
Routes requiring Authentication
âœ“ patch /me should return 401 Unauthorized if no cookie (14 ms)
âœ“ patch /me/password should return 401 Unauthorized if no cookie (3 ms)
âœ“ post /me/survey should return 401 Unauthorized if no cookie (1 ms)
âœ“ post /invitations should return 401 Unauthorized if no cookie (2 ms)
âœ“ delete /users/123 should return 401 Unauthorized if no cookie (2 ms)
Routes requiring Authorization
âœ“ post /invitations should return 403 Forbidden for member (7 ms)
âœ“ delete /users/123 should return 403 Forbidden for member (4 ms)
2025-04-15T08:41:07.9081908Z
PASS src/errors/response-errors/__tests__/webhook-not-found.error.test.ts
utils test webhookNotFoundErrorMessage
âœ“ should return a message with path and method (3 ms)
âœ“ should return a message with path
âœ“ should return a message with method with tip (1 ms)
âœ“ should return a message with method with tip
âœ“ should return a message with method with tip
2025-04-15T08:41:07.9082995Z
PASS test/integration/user.repository.test.ts
UserRepository
countUsersByRole()
âœ“ should return the number of users in each role (45 ms)
createUserWithProject()
âœ“ should create personal project for a user (11 ms)
2025-04-15T08:41:07.9083844Z
PASS src/scaling/__tests__/subscriber.service.test.ts
Subscriber
constructor
âœ“ should init Redis client in scaling mode (4 ms)
âœ“ should not init Redis client in regular mode (1 ms)
shutdown
âœ“ should disconnect Redis client
subscribe
âœ“ should subscribe to pubsub channel (1 ms)
2025-04-15T08:41:07.9084907Z
PASS src/services/__tests__/url.service.test.ts
UrlService
getInstanceBaseUrl
âœ“ should set URL from N8N_EDITOR_BASE_URL (3 ms)
âœ“ should set URL from WEBHOOK_URL (1 ms)
âœ“ should trim quotes when setting URL from N8N_EDITOR_BASE_URL
âœ“ should trim quotes when setting URL from WEBHOOK_URL
2025-04-15T08:41:07.9085752Z
PASS src/databases/repositories/__tests__/credentials.repository.test.ts
findMany
âœ“ return `data` property if `includeData:true` and select is using the record syntax (4 ms)
âœ“ return `data` property if `includeData:true` and select is using the record syntax (1 ms)
2025-04-15T08:41:07.9086794Z
PASS test/integration/task-runners/task-runner-server.test.ts
TaskBrokerServer
/healthz
âœ“ should return 200 (15 ms)
/runners/_ws
âœ“ should return 429 when too many requests are made (12 ms)
/runners/auth
âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:41:07.9087822Z
PASS test/integration/services/execution-metadata.service.test.ts
ProjectService
save
âœ“ should deduplicate entries by exeuctionId and key, keeping the latest one (19 ms)
2025-04-15T08:41:07.9088534Z
PASS test/integration/task-runners/task-broker-server.test.ts
TaskBrokerServer
/healthz
âœ“ should return 200 (21 ms)
/runners/_ws
âœ“ should return 429 when too many requests are made (21 ms)
/runners/auth
âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:41:07.9089511Z
PASS src/workflows/workflow-history.ee/__tests__/workflow-history-helper.ee.test.ts
getWorkflowHistoryPruneTime
âœ“ should return -1 (infinite) if config and license are -1 (3 ms)
âœ“ should return config time if license is infinite and config is not (1 ms)
âœ“ should return license time if config is infinite and license is not
âœ“ should return lowest of config and license time if both are not -1 (1 ms)
2025-04-15T08:41:07.9090702Z
PASS test/integration/cta.service.test.ts
CtaService
getBecomeCreatorCta()
âœ“ should return false if user has 0 active workflows with 0 successful production executions (8 ms)
âœ“ should return false if user has 2 active workflows with 5 successful production executions (21 ms)
âœ“ should return false if user has 3 active workflows with 4 successful production executions (22 ms)
âœ“ should return true if user has 3 active workflows with 5 successful production executions (19 ms)
2025-04-15T08:41:07.9092107Z
PASS src/services/__tests__/password.utility.test.ts
PasswordUtility
hash()
âœ“ should hash a plaintext password (63 ms)
compare()
âœ“ should return true on match (113 ms)
âœ“ should return false on mismatch (116 ms)
2025-04-15T08:41:07.9092866Z
PASS src/controllers/__tests__/users.controller.test.ts
UsersController
changeGlobalRole
âœ“ should emit event user-changed-role (4 ms)
2025-04-15T08:41:07.9093382Z
PASS src/evaluation.ee/test-runner/__tests__/get-test-run-final-result.ee.test.ts
getTestRunFinalResult
âœ“ should return success if all test cases are successful (3 ms)
âœ“ should return error if at least one test case is errored (1 ms)
âœ“ should return warning if at least one test case is warned
âœ“ should return error if there are errors and warnings
2025-04-15T08:41:07.9094634Z
PASS test/integration/workflows/workflows.controller-with-active-workflow-manager.ee.test.ts
PUT /:workflowId/transfer
âœ“ can transfer an active workflow (82 ms)
2025-04-15T08:41:07.9095179Z
PASS src/ldap.ee/__tests__/helpers.test.ts
Ldap/helpers
updateLdapUserOnLocalDb
âœ“ does not use `Repository.update`, but `Repository.save` instead (4 ms)
2025-04-15T08:41:07.9095735Z
PASS src/evaluation.ee/test-runner/__tests__/get-start-node.ee.test.ts
getPastExecutionStartNode
âœ“ should return the start node of the past execution (3 ms)
âœ“ should return the start node of the past execution with multiple triggers
âœ“ should return the start node of the past execution with multiple triggers - chat trigger
2025-04-15T08:41:07.9096821Z
PASS src/services/__tests__/orchestration.service.test.ts
Orchestration Service
âœ“ should initialize (6 ms)
2025-04-15T08:41:07.9097154Z
PASS test/integration/middlewares/body-parser.test.ts
bodyParser
âœ“ should handle uncompressed data (28 ms)
âœ“ should handle gzip data (5 ms)
âœ“ should handle deflate data (3 ms)
2025-04-15T08:41:07.9097848Z
PASS src/databases/entities/__tests__/user.entity.test.ts
User Entity
JSON.stringify
âœ“ should not serialize sensitive data (3 ms)
createPersonalProjectName
âœ“ given fistName: Nathan, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "Nathan Nathaniel <nathan@nathaniel.n8n>" (1 ms)
âœ“ given fistName: undefined, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
âœ“ given fistName: Nathan, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
âœ“ given fistName: undefined, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
âœ“ given fistName: undefined, lastName: undefined and email: undefined this gives the projectName: "Unnamed Project"
âœ“ given fistName: Nathan, lastName: Nathaniel and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:41:07.9100595Z
PASS test/integration/task-runners/task-runner-module.internal.test.ts
TaskRunnerModule in internal mode
start
âœ“ should throw if the task runner is disabled (10 ms)
âœ“ should start the task runner (293 ms)
âœ“ should use InternalTaskRunnerDisconnectAnalyzer
2025-04-15T08:41:07.9101513Z
PASS src/modules/insights/database/entities/__tests__/insights-by-period.test.ts
Insights By Period
âœ“ `time_saved_min` can be serialized and deserialized correctly (4 ms)
âœ“ `runtime_ms` can be serialized and deserialized correctly (2 ms)
âœ“ `failure` can be serialized and deserialized correctly
âœ“ `success` can be serialized and deserialized correctly (1 ms)
âœ“ `hour` can be serialized and deserialized correctly
âœ“ `day` can be serialized and deserialized correctly (1 ms)
âœ“ `week` can be serialized and deserialized correctly
2025-04-15T08:41:07.9103279Z
PASS src/utils/__tests__/object-to-error.test.ts
objectToError
node error handling
âœ“ should create `NodeOperationError` when node is found (4 ms)
âœ“ should create `Error` when node is not found
2025-04-15T08:41:07.9104091Z
PASS src/task-runners/__tests__/node-process-oom-detector.test.ts
NodeProcessOomDetector
âœ“ should detect an out-of-memory error in a monitored process (349 ms)
âœ“ should not detect an out-of-memory error in a process that exits normally (22 ms)
2025-04-15T08:41:07.9104773Z
PASS src/execution-lifecycle/shared/__tests__/shared-hook-functions.test.ts
determineFinalExecutionStatus
âœ“ should return "error" when resultData.error exists (1 ms)
âœ“ should return "waiting" when waitTill is defined (1 ms)
When waitTill is not set
âœ“ should return "canceled" (3 ms)
âœ“ should return "crashed"
âœ“ should return "error" (1 ms)
âœ“ should return "success"
2025-04-15T08:41:07.9106052Z
PASS src/services/__tests__/credentials-tester.service.test.ts
CredentialsTester
âœ“ should find the OAuth2 credential test for a generic OAuth2 API credential (5 ms)
2025-04-15T08:41:07.9106563Z
PASS test/integration/saml/saml-helpers.test.ts
sso/saml/samlHelpers
createUserFromSamlAttributes
âœ“ Creates personal project for user (101 ms)
2025-04-15T08:41:07.9107064Z
PASS src/utils/__tests__/path-util.test.ts
isContainedWithin
âœ“ should return true when parent and child paths are the same (3 ms)
âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/file.txt (1 ms)
âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/../folder/subfolder/file.txt
âœ“ should return true for parent /some/parent/folder/ and child /some/parent/folder/subfolder/file.txt
âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/
âœ“ should return false for parent /some/parent/folder and child /some/other/folder/file.txt
âœ“ should return false for parent /some/parent/folder and child /some/parent/folder_but_not_really
âœ“ should return false for parent /one/path and child /another/path
2025-04-15T08:41:07.9109368Z
PASS test/integration/commands/license.cmd.test.ts
âœ“ license:clear invokes clear() to release any floating entitlements and deletes the license cert from the DB (15 ms)
2025-04-15T08:41:07.9109993Z
PASS src/services/__tests__/execution-metadata.service.test.ts
ExecutionMetadataService
âœ“ Execution metadata is saved in a batch (6 ms)
2025-04-15T08:41:07.9110372Z
PASS src/decorators/__tests__/module.test.ts
registerLifecycleHooks
âœ“ is called when ModuleRegistry.registerLifecycleHooks is called (5 ms)
2025-04-15T08:41:07.9110789Z
PASS src/environments.ee/source-control/__tests__/source-control-preferences.service.ee.test.ts
SourceControlPreferencesService
âœ“ should class validate correct preferences (4 ms)
2025-04-15T08:41:07.9111223Z
PASS src/config/__tests__/index.test.ts
userManagement.jwtRefreshTimeoutHours
âœ“ resets jwtRefreshTimeoutHours to 0 if it's greater than or equal to jwtSessionDurationHours (4 ms)
2025-04-15T08:41:07.9111760Z
PASS src/validators/__tests__/no-url.validator.test.ts
NoUrl
URLs
âœ“ should block http://google.com (4 ms)
âœ“ should block www.domain.tld (4 ms)
âœ“ should block n8n.io
2025-04-15T08:41:07.9112283Z
PASS test/integration/healthcheck.controller.test.ts
HealthcheckController
âœ“ should return ok when DB is connected and migrated (13 ms)
âœ“ should return error when DB is not connected (2 ms)
2025-04-15T08:41:07.9112730Z
Test Suites: 250 passed, 250 total
Tests:       2810 passed, 2810 total
Snapshots:   3 passed, 3 total
Time:        168.385 s
Ran all test suites.
##[endgroup]
##[group]@n8n/api-types:test
cache bypass, force executing 58a81a1e5c93f91d
2025-04-15T08:41:16.3780383Z
> @n8n/api-types@0.24.0 test /home/runner/_work/n8n/n8n/packages/@n8n/api-types
> jest
2025-04-15T08:41:16.3781121Z
PASS src/dto/ai/__tests__/ai-ask-request.dto.test.ts
AiAskRequestDto
âœ“ should validate a valid AI ask request (5 ms)
âœ“ should fail if question is missing (1 ms)
âœ“ should fail if context is invalid
âœ“ should fail if forNode is missing
âœ“ should validate all possible schema types (2 ms)
âœ“ should fail with invalid type (1 ms)
âœ“ should validate multiple schema entries (1 ms)
2025-04-15T08:41:16.3784716Z
PASS src/dto/saml/__tests__/saml-preferences.dto.test.ts
SamlPreferences
Valid requests
âœ“ should validate valid minimal configuration (5 ms)
âœ“ should validate valid full configuration
Invalid requests
âœ“ should fail validation for invalid loginBinding (2 ms)
âœ“ should fail validation for invalid acsBinding
âœ“ should fail validation for invalid signatureConfig location action
âœ“ should fail validation for missing signatureConfig location reference (1 ms)
âœ“ should fail validation for invalid mapping email
Edge cases
âœ“ should handle optional fields correctly
âœ“ should handle default values correctly (1 ms)
2025-04-15T08:41:16.3788772Z
PASS src/dto/credentials/__tests__/create-credential.dto.test.ts
CreateCredentialDto
Valid requests
âœ“ should validate with required fields (3 ms)
âœ“ should validate with optional projectId (1 ms)
âœ“ should validate with data object
âœ“ should validate longer type
âœ“ should not strip out properties from the data object (1 ms)
Invalid requests
âœ“ should fail validation for missing name
âœ“ should fail validation for empty name
âœ“ should fail validation for name too long
âœ“ should fail validation for missing type (1 ms)
âœ“ should fail validation for empty type
âœ“ should fail validation for type too long (1 ms)
âœ“ should fail validation for missing data
âœ“ should fail validation for invalid data type
2025-04-15T08:41:16.3794146Z
PASS src/schemas/__tests__/insights.schema.test.ts
insightsSummarySchema
âœ“ should validate valid insights summary (3 ms)
âœ“ should validate invalid failureRate unit
âœ“ should validate missing total (1 ms)
âœ“ should validate wrong data type for value
âœ“ should validate invalid key in object
insightsByWorkflowSchema
âœ“ should validate valid workflow insights (1 ms)
âœ“ should validate wrong data type
âœ“ should validate missing required field (6 ms)
âœ“ should validate unexpected key
insightsByTimeSchema
âœ“ should validate valid insights by time (1 ms)
âœ“ should validate invalid date format
âœ“ should validate invalid field type (1 ms)
âœ“ should validate missing required key
âœ“ should validate unexpected key
2025-04-15T08:41:16.3800049Z
PASS src/dto/folders/__tests__/list-folder-query.dto.test.ts
ListFolderQueryDto
Valid requests
âœ“ should validate empty object (no filters) (4 ms)
âœ“ should validate valid filter
âœ“ should validate filter with parentFolderId (1 ms)
âœ“ should validate filter with name and parentFolderId
âœ“ should validate filter with tags array (1 ms)
âœ“ should validate filter with empty tags array
âœ“ should validate filter with all properties
âœ“ should validate valid select (1 ms)
âœ“ should validate valid sortBy
âœ“ should validate valid skip and take
âœ“ should validate full query parameters (1 ms)
Invalid requests
âœ“ should fail validation for invalid filter format
âœ“ should fail validation for filter with invalid field (1 ms)
âœ“ should fail validation for filter with tags not as array (1 ms)
âœ“ should fail validation for filter with tags array containing non-string values
âœ“ should fail validation for invalid select format
âœ“ should fail validation for select with invalid field
âœ“ should fail validation for invalid skip format (1 ms)
âœ“ should fail validation for invalid take format
âœ“ should fail validation for invalid sortBy value
2025-04-15T08:41:16.3809641Z
PASS src/dto/password-reset/__tests__/change-password-request.dto.test.ts
ChangePasswordRequestDto
Valid requests
âœ“ should validate valid password reset with token (9 ms)
âœ“ should validate valid password reset with MFA code (1 ms)
Invalid requests
âœ“ should fail validation for missing token (1 ms)
âœ“ should fail validation for empty token
âœ“ should fail validation for short token (1 ms)
âœ“ should fail validation for missing password (5 ms)
âœ“ should fail validation for password too short (1 ms)
âœ“ should fail validation for password too long
âœ“ should fail validation for password without number (1 ms)
âœ“ should fail validation for password without uppercase letter
Edge cases
âœ“ should handle optional MFA code correctly
âœ“ should handle token with special characters
2025-04-15T08:41:16.3815935Z
PASS src/schemas/__tests__/project.schema.test.ts
project.schema
projectNameSchema
âœ“ should validate valid name (4 ms)
âœ“ should validate empty name (1 ms)
âœ“ should validate name too long
projectTypeSchema
âœ“ should validate valid type: personal
âœ“ should validate valid type: team
âœ“ should validate invalid type (1 ms)
projectIconSchema
âœ“ should validate valid emoji icon (1 ms)
âœ“ should validate valid icon
âœ“ should validate invalid icon type
âœ“ should validate empty icon value
projectRoleSchema
âœ“ should validate valid role: project:personalOwner
âœ“ should validate valid role: project:admin
âœ“ should validate valid role: project:editor
âœ“ should validate valid role: project:viewer
âœ“ should validate invalid role
projectRelationSchema
âœ“ should validate valid relation
âœ“ should validate invalid userId type
âœ“ should validate invalid role (1 ms)
âœ“ should validate missing userId
âœ“ should validate missing role (8 ms)
2025-04-15T08:41:16.3824405Z
PASS src/dto/project/__tests__/update-project.dto.test.ts
UpdateProjectDto
Valid requests
âœ“ should validate with just the name (3 ms)
âœ“ should validate with name and emoji icon (1 ms)
âœ“ should validate with name and regular icon
âœ“ should validate with relations
âœ“ should validate with all fields
Invalid requests
âœ“ should fail validation for invalid name type
âœ“ should fail validation for name too long (1 ms)
âœ“ should fail validation for invalid icon type
âœ“ should fail validation for invalid icon value
âœ“ should fail validation for invalid relations userId (1 ms)
âœ“ should fail validation for invalid relations role
2025-04-15T08:41:16.3828645Z
PASS src/dto/source-control/__tests__/push-work-folder-request.dto.test.ts
PushWorkFolderRequestDto
Valid requests
âœ“ should validate complete valid push request with all fields (5 ms)
âœ“ should validate push request with only required fields
Invalid requests
âœ“ should fail validation for missing required fileNames field (1 ms)
âœ“ should fail validation for invalid fileNames type
âœ“ should fail validation for invalid fileNames array element (1 ms)
âœ“ should fail validation for invalid force type
2025-04-15T08:41:16.3832072Z
PASS src/dto/user/__tests__/user-update-request.dto.test.ts
UserUpdateRequestDto
âœ“ should fail validation for an invalid email (6 ms)
âœ“ should fail validation for a firstName with potential XSS attack (1 ms)
âœ“ should fail validation for a firstName with a URL (1 ms)
âœ“ should fail validation for a lastName with potential XSS attack
âœ“ should fail validation for a lastName with a URL (1 ms)
âœ“ should validate a valid user update request
2025-04-15T08:41:16.3835406Z
PASS src/dto/invitation/__tests__/accept-invitation-request.dto.test.ts
AcceptInvitationRequestDto
Valid requests
âœ“ should validate complete valid invitation acceptance (4 ms)
Invalid requests
âœ“ should fail validation for missing inviterId (1 ms)
âœ“ should fail validation for invalid inviterId (1 ms)
âœ“ should fail validation for missing first name
âœ“ should fail validation for missing last name (1 ms)
âœ“ should fail validation for password too short
âœ“ should fail validation for password without number (1 ms)
2025-04-15T08:41:16.3839677Z
PASS src/dto/owner/__tests__/owner-setup-request.dto.test.ts
OwnerSetupRequestDto
Valid requests
âœ“ should validate complete valid setup request (3 ms)
Invalid requests
âœ“ should fail validation for invalid email (2 ms)
âœ“ should fail validation for missing first name
âœ“ should fail validation for missing last name (1 ms)
âœ“ should fail validation for password too short
âœ“ should fail validation for password without number (1 ms)
âœ“ should fail validation for password without uppercase letter
2025-04-15T08:41:16.3843719Z
PASS src/dto/dynamic-node-parameters/__tests__/resource-locator-request.dto.test.ts
ResourceLocatorRequestDto
Valid requests
âœ“ should validate minimal valid request (5 ms)
âœ“ should validate request with filter (1 ms)
âœ“ should validate request with pagination token
âœ“ should validate request with credentials (1 ms)
âœ“ should validate request with current node parameters
âœ“ should validate request with a semver node version (1 ms)
Invalid requests
âœ“ should fail validation for missing path (1 ms)
âœ“ should fail validation for missing method name (1 ms)
âœ“ should fail validation for invalid node version
2025-04-15T08:41:16.3848581Z
PASS src/dto/dynamic-node-parameters/__tests__/options-request.dto.test.ts
OptionsRequestDto
Valid requests
âœ“ should validate minimal valid request (6 ms)
âœ“ should validate request with method name (1 ms)
âœ“ should validate request with load options
âœ“ should validate request with credentials
âœ“ should validate request with current node parameters (1 ms)
Invalid requests
âœ“ should fail validation for missing path (1 ms)
âœ“ should fail validation for missing node type and version (1 ms)
âœ“ should fail validation for invalid node version
2025-04-15T08:41:16.3852957Z
PASS src/dto/auth/__tests__/login-request.dto.test.ts
LoginRequestDto
Valid requests
âœ“ should validate complete valid login request (4 ms)
âœ“ should validate login request without optional MFA (1 ms)
âœ“ should validate login request with both mfaCode and mfaRecoveryCode
âœ“ should validate login request with only mfaRecoveryCode
Invalid requests
âœ“ should fail validation for invalid emailOrLdapLoginId (1 ms)
âœ“ should fail validation for empty password
âœ“ should fail validation for missing emailOrLdapLoginId (1 ms)
âœ“ should fail validation for missing password
2025-04-15T08:41:16.3857719Z
PASS src/dto/dynamic-node-parameters/__tests__/action-result-request.dto.test.ts
ActionResultRequestDto
Valid requests
âœ“ should validate minimal valid request (2 ms)
âœ“ should validate request with payload
âœ“ should validate request with credentials (1 ms)
âœ“ should validate request with current node parameters
Invalid requests
âœ“ should fail validation for missing path (2 ms)
âœ“ should fail validation for missing handler
âœ“ should fail validation for invalid node version (1 ms)
2025-04-15T08:41:16.3861759Z
PASS src/dto/auth/__tests__/resolve-signup-token-query.dto.test.ts
ResolveSignupTokenQueryDto
Valid requests
âœ“ should validate standard UUID (3 ms)
Invalid requests
âœ“ should fail validation for invalid inviterId UUID (1 ms)
âœ“ should fail validation for invalid inviteeId UUID
âœ“ should fail validation for missing inviterId (1 ms)
âœ“ should fail validation for missing inviteeId (1 ms)
âœ“ should fail validation for UUID with invalid characters
âœ“ should fail validation for UUID too long
âœ“ should fail validation for UUID too short
2025-04-15T08:41:16.3866114Z
PASS src/dto/insights/__tests__/list-workflow-query.dto.test.ts
ListInsightsWorkflowQueryDto
Valid requests
âœ“ should validate empty object (no filters) (3 ms)
âœ“ should validate valid sortBy (6 ms)
âœ“ should validate valid skip and take (1 ms)
âœ“ should validate full query parameters
Invalid requests
âœ“ should fail validation for invalid skip format (1 ms)
âœ“ should fail validation for invalid take format
âœ“ should fail validation for invalid sortBy value (1 ms)
2025-04-15T08:41:16.3869905Z
PASS src/dto/dynamic-node-parameters/__tests__/resource-mapper-fields-request.dto.test.ts
ResourceMapperFieldsRequestDto
Valid requests
âœ“ should validate minimal valid request (4 ms)
âœ“ should validate request with credentials
âœ“ should validate request with current node parameters
Invalid requests
âœ“ should fail validation for missing path (1 ms)
âœ“ should fail validation for missing method name
âœ“ should fail validation for invalid node version (1 ms)
2025-04-15T08:41:16.3873475Z
PASS src/dto/user/__tests__/settings-update-request.dto.test.ts
SettingsUpdateRequestDto
âœ“ should pass validation with missing userActivated (4 ms)
âœ“ should pass validation with missing allowSSOManualLogin (1 ms)
âœ“ should pass validation with missing userActivated and allowSSOManualLogin
âœ“ should fail validation with invalid userActivated (1 ms)
âœ“ should fail validation with invalid allowSSOManualLogin (1 ms)
âœ“ should pass validation with valid data
2025-04-15T08:41:16.3877014Z
PASS src/dto/project/__tests__/create-project.dto.test.ts
CreateProjectDto
Valid requests
âœ“ should validate with just the name (4 ms)
âœ“ should validate with name and emoji icon
âœ“ should validate with name and regular icon (1 ms)
Invalid requests
âœ“ should fail validation for missing name (1 ms)
âœ“ should fail validation for empty name (1 ms)
âœ“ should fail validation for name too long
âœ“ should fail validation for invalid icon type (1 ms)
âœ“ should fail validation for invalid icon value (1 ms)
2025-04-15T08:41:16.3881104Z
PASS src/dto/workflows/__tests__/transfer-workflow.dto.test.ts
ImportWorkflowFromUrlDto
Valid requests
âœ“ should validate only destinationProjectId (3 ms)
âœ“ should validate destinationProjectId with empty shareCredentials
âœ“ should validate destinationProjectId with shareCredentials
Invalid requests
âœ“ should fail validation for no destinationProjectId (1 ms)
âœ“ should fail validation for destinationProjectId not being a string
âœ“ should fail validation for shareCredentials not being an array (1 ms)
âœ“ should fail validation for shareCredentials not containing strings
2025-04-15T08:41:16.3885539Z
PASS src/dto/binary-data/__tests__/binary-data-query.dto.test.ts
BinaryDataQueryDto
Valid requests
âœ“ should validate filesystem mode with view action (4 ms)
âœ“ should validate filesystem-v2 mode with download action (1 ms)
âœ“ should validate s3 mode with view action and optional fields (1 ms)
Invalid requests
âœ“ should fail validation for missing mode separator (1 ms)
âœ“ should fail validation for invalid mode
âœ“ should fail validation for invalid action (1 ms)
âœ“ should fail validation for missing id (1 ms)
âœ“ should fail validation for missing action
2025-04-15T08:41:16.3890644Z
PASS src/dto/binary-data/__tests__/binary-data-signed-query.dto.test.ts
BinaryDataSignedQueryDto
Valid requests
âœ“ should validate valid JWT token (5 ms)
Invalid requests
âœ“ should fail validation for missing token (2 ms)
âœ“ should fail validation for empty token (1 ms)
âœ“ should fail validation for non-string token
âœ“ should fail validation for token without three segments
âœ“ should fail validation for token with invalid characters (1 ms)
âœ“ should fail validation for token with too many segments
2025-04-15T08:41:16.3893458Z
PASS src/schemas/__tests__/paswword.schema.test.ts
passwordSchema
âœ“ should throw on empty password (10 ms)
âœ“ should return same password if valid (1 ms)
âœ“ should require at least one uppercase letter (1 ms)
âœ“ should require at least one number (1 ms)
âœ“ should require a minimum length of 8 characters (1 ms)
âœ“ should require a maximum length of 64 characters (1 ms)
2025-04-15T08:41:16.3895374Z
PASS src/dto/owner/__tests__/dismiss-banner-request.dto.test.ts
DismissBannerRequestDto
Valid requests
âœ“ should validate valid banner: V1 (5 ms)
âœ“ should validate valid banner: TRIAL_OVER (1 ms)
âœ“ should validate valid banner: TRIAL
âœ“ should validate valid banner: NON_PRODUCTION_LICENSE
âœ“ should validate valid banner: EMAIL_CONFIRMATION
Invalid requests
âœ“ should fail validation for invalid banner string (1 ms)
âœ“ should fail validation for non-string banner (1 ms)
Optional banner
âœ“ should validate empty request
Exhaustive banner name check
âœ“ should have all banner names defined (1 ms)
2025-04-15T08:41:16.3898928Z
PASS src/dto/credentials/__tests__/credentials-get-many-request.dto.test.ts
CredentialsGetManyRequestQuery
should pass validation
âœ“ with empty object (4 ms)
âœ“ with includeScopes set to true (1 ms)
âœ“ with includeScopes set to false (1 ms)
âœ“ with includeData set to true
âœ“ with includeData set to false (1 ms)
âœ“ with both parameters set
should fail validation
âœ“ with invalid value true for includeScopes (1 ms)
âœ“ with invalid value false for includeScopes (1 ms)
âœ“ with invalid value invalid for includeScopes
âœ“ with invalid value true for includeData (1 ms)
âœ“ with invalid value false for includeData
âœ“ with invalid value invalid for includeData (1 ms)
2025-04-15T08:41:16.3902501Z
PASS src/dto/invitation/__tests__/invite-users-request.dto.test.ts
InviteUsersRequestDto
Valid requests
âœ“ should validate empty array (3 ms)
âœ“ should validate single user invitation with default role (1 ms)
âœ“ should validate multiple user invitations with different roles
âœ“ should default role to global:member
Invalid requests
âœ“ should fail validation for invalid email (1 ms)
âœ“ should fail validation for invalid role
2025-04-15T08:41:16.3904740Z
PASS src/dto/workflows/__tests__/import-workflow-from-url.dto.test.ts
ImportWorkflowFromUrlDto
Valid requests
âœ“ should validate $name (5 ms)
Invalid requests
âœ“ should fail validation for invalid URL (not ending with .json) (1 ms)
âœ“ should fail validation for invalid URL (missing protocol) (1 ms)
âœ“ should fail validation for invalid URL (not a URL) (1 ms)
âœ“ should fail validation for missing URL
âœ“ should fail validation for null URL (1 ms)
âœ“ should fail validation for invalid URL (ends with .json but not a valid URL)
âœ“ should fail validation for valid URL with query parameters
âœ“ should fail validation for valid URL with fragments
2025-04-15T08:41:16.3908277Z
PASS src/dto/folders/__tests__/update-folder.request.dto.test.ts
UpdateFolderDto
Valid requests
âœ“ should validate name (5 ms)
âœ“ should validate tagIds (1 ms)
âœ“ should validate empty tagIds
âœ“ should validate string parentFolderId
Invalid requests
âœ“ should fail validation for empty name (1 ms)
âœ“ should fail validation for non string tagIds
âœ“ should fail validation for non array tagIds (1 ms)
âœ“ should fail validation for non string parentFolderId
2025-04-15T08:41:16.3910806Z
PASS src/dto/credentials/__tests__/credentials-get-one-request.dto.test.ts
CredentialsGetManyRequestQuery
should pass validation
âœ“ with empty object (4 ms)
âœ“ with includeData set to true
âœ“ with includeData set to false
âœ“ with both parameters set
should fail validation
âœ“ with invalid value true for includeData
âœ“ with invalid value false for includeData (1 ms)
âœ“ with invalid value invalid for includeData
2025-04-15T08:41:16.3913412Z
PASS src/dto/workflows/__tests__/manual-run-query.dto.test.ts
ManualRunQueryDto
Valid requests
âœ“ should validate version number 1 (4 ms)
âœ“ should validate version number 2 (1 ms)
âœ“ should validate missing version
Invalid requests
âœ“ should fail validation for invalid version 0 (1 ms)
âœ“ should fail validation for invalid type (boolean) (1 ms)
âœ“ should fail validation for invalid type (number)
2025-04-15T08:41:16.3915607Z
PASS src/dto/tag/__tests__/retrieve-tag-query.dto.test.ts
RetrieveTagQueryDto
Valid requests
âœ“ should pass validation for withUsageCount with "true" (5 ms)
âœ“ should pass validation for withUsageCount with "false" (1 ms)
Invalid requests
âœ“ should fail validation for withUsageCount with number (1 ms)
âœ“ should fail validation for withUsageCount with boolean (true)  (1 ms)
âœ“ should fail validation for withUsageCount with boolean (false)
âœ“ should fail validation for withUsageCount with invalid string (1 ms)
2025-04-15T08:41:16.3918703Z
PASS src/dto/folders/__tests__/create-folder-request.dto.test.ts
CreateFolderDto
Valid requests
âœ“ should validate name without parentId (4 ms)
âœ“ should validate name and parentFolderId (1 ms)
Invalid requests
âœ“ should fail validation for missing name (1 ms)
âœ“ should fail validation for empty name
âœ“ should fail validation for parentFolderId and no name (1 ms)
âœ“ should fail validation for invalid parentFolderId
2025-04-15T08:41:16.3922339Z
PASS src/dto/user/__tests__/password-update-request.dto.test.ts
PasswordUpdateRequestDto
âœ“ should fail validation with missing currentPassword (4 ms)
âœ“ should fail validation with missing newPassword
âœ“ should pass validation with missing mfaCode
âœ“ should pass validation with valid data (1 ms)
2025-04-15T08:41:16.3924208Z
PASS src/dto/api-keys/__tests__/create-api-key-request.dto.test.ts
CreateApiKeyRequestDto
Valid requests
âœ“ should succeed validation for expiresAt in the future (8 ms)
âœ“ should succeed validation for expiresAt null (1 ms)
Invalid requests
âœ“ should fail validation for expiresAt in the past (1 ms)
âœ“ should fail validation for expiresAt with string
âœ“ should fail validation for expiresAt with [] (1 ms)
âœ“ should fail validation for expiresAt with {}
2025-04-15T08:41:16.3926896Z
PASS src/dto/password-reset/__tests__/forgot-password-request.dto.test.ts
ForgotPasswordRequestDto
Valid requests
âœ“ should validate valid email (4 ms)
âœ“ should validate email with subdomain (1 ms)
Invalid requests
âœ“ should fail validation for invalid email format (1 ms)
âœ“ should fail validation for missing email
âœ“ should fail validation for empty email
2025-04-15T08:41:16.3929710Z
PASS src/dto/credentials/__tests__/generate-credential-name.dto.test.ts
GenerateCredentialNameRequestQuery
should pass validation
âœ“ with empty object (3 ms)
âœ“ with valid name
should fail validation
âœ“ with invalid value 123 for name (1 ms)
âœ“ with invalid value true for name
âœ“ with invalid value {} for name (1 ms)
âœ“ with invalid value [] for name
2025-04-15T08:41:16.3931747Z
PASS src/dto/user/__tests__/role-change-request.dto.test.ts
RoleChangeRequestDto
âœ“ should fail validation with missing newRoleName (4 ms)
âœ“ should fail validation with invalid newRoleName (1 ms)
âœ“ should pass validation with valid data
2025-04-15T08:41:16.3933074Z
PASS src/dto/api-keys/__tests__/update-api-key-request.dto.test.ts
UpdateApiKeyRequestDto
Valid requests
âœ“ should allow valid label (4 ms)
Invalid requests
âœ“ should fail validation for empty label (1 ms)
âœ“ should fail validation for label exceeding 50 characters (1 ms)
âœ“ should fail validation for label with xss injection
2025-04-15T08:41:16.3935363Z
PASS src/dto/password-reset/__tests__/resolve-password-token-query.dto.test.ts
ResolvePasswordTokenQueryDto
Valid requests
âœ“ should validate valid token (4 ms)
âœ“ should validate long token
Invalid requests
âœ“ should fail validation for missing token (2 ms)
âœ“ should fail validation for empty token
2025-04-15T08:41:16.3937938Z
PASS src/dto/ai/__tests__/ai-apply-suggestion-request.dto.test.ts
AiApplySuggestionRequestDto
âœ“ should validate a valid suggestion application request (4 ms)
âœ“ should fail if sessionId is missing (1 ms)
âœ“ should fail if suggestionId is missing
2025-04-15T08:41:16.3939864Z
PASS src/dto/source-control/__tests__/pull-work-folder-request.dto.test.ts
PullWorkFolderRequestDto
Valid requests
âœ“ should validate with force (3 ms)
âœ“ should validate without force
Invalid requests
âœ“ should fail validation for invalid force type (1 ms)
2025-04-15T08:41:16.3942115Z
PASS src/dto/tag/__tests__/create-or-update-tag-request.dto.test.ts
CreateOrUpdateTagRequestDto
Valid requests
âœ“ should validate valid name (4 ms)
Invalid requests
âœ“ should fail validation for empty tag name (1 ms)
2025-04-15T08:41:16.3943935Z
PASS src/schemas/__tests__/nodeVersion.schema.test.ts
nodeVersionSchema
valid versions
âœ“ should accept 1 as a valid version (single digit) (3 ms)
âœ“ should accept 2 as a valid version (single digit)
âœ“ should accept 1 as a valid version (major.minor with zero minor)
âœ“ should accept 1.2 as a valid version (major.minor)
âœ“ should accept 10.5 as a valid version (major.minor with double digits) (1 ms)
invalid versions
âœ“ should reject not-a-number as an invalid version (non-number input) (3 ms)
âœ“ should reject 1.2.3 as an invalid version (more than two parts) (1 ms)
âœ“ should reject 1.a as an invalid version (non-numeric characters) (1 ms)
âœ“ should reject 1.2.3 as an invalid version (more than two parts as string) (1 ms)
2025-04-15T08:41:16.3949323Z
PASS src/dto/license/__tests__/community-registered-request.dto.test.ts
CommunityRegisteredRequestDto
âœ“ should fail validation for missing email (3 ms)
âœ“ should fail validation for an invalid email
2025-04-15T08:41:16.3951031Z
PASS src/dto/ai/__tests__/ai-chat-request.dto.test.ts
AiChatRequestDto
âœ“ should validate a request with a payload and session ID (4 ms)
âœ“ should validate a request with only a payload
âœ“ should fail if payload is missing (1 ms)
2025-04-15T08:41:16.3952777Z
PASS src/dto/ai/__tests__/ai-free-credits-request.dto.test.ts
AiChatRequestDto
âœ“ should succeed if projectId is a valid nanoid (4 ms)
âœ“ should succeed if no projectId is sent
âœ“ should fail is projectId invalid value
2025-04-15T08:41:16.3954519Z
Test Suites: 48 passed, 48 total
Tests:       353 passed, 353 total
Snapshots:   0 total
Time:        7.965 s
Ran all test suites.
##[endgroup]
2025-04-15T08:41:16.4121468Z
Tasks:    10 successful, 10 total
Cached:    0 cached, 10 total
Time:    3m53.283s
2025-04-15T08:41:16.4122691Z
##[group]Run pnpm test:nodes
[36;1mpnpm test:nodes[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
TURBOGHA_PORT: 41230
TURBO_API: http://localhost:41230
TURBO_TOKEN: turbogha
TURBO_TEAM: turbogha
##[endgroup]
2025-04-15T08:41:16.9806777Z
> n8n-monorepo@1.89.0 test:nodes /home/runner/_work/n8n/n8n
> turbo run test:nodes --concurrency=1
2025-04-15T08:41:16.9807767Z
â€¢ Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
â€¢ Running test:nodes in 28 packages
â€¢ Remote caching enabled
##[group]@n8n/json-schema-to-zod:test
cache bypass, force executing 3a55834af624c1ef
2025-04-15T08:41:20.7018154Z
> @n8n/json-schema-to-zod@1.3.0 test /home/runner/_work/n8n/n8n/packages/@n8n/json-schema-to-zod
> jest
2025-04-15T08:41:20.7018990Z
PASS test/parsers/parse-number.test.ts
parseNumber
âœ“ should handle integer (3 ms)
âœ“ should handle maximum with exclusiveMinimum (1 ms)
âœ“ should handle maximum with exclusiveMinimum
âœ“ should handle maximum with exclusiveMaximum (1 ms)
âœ“ should handle numeric exclusiveMaximum
âœ“ should accept errorMessage (1 ms)
2025-04-15T08:41:20.7021504Z
PASS test/parsers/parse-string.test.ts
parseString
âœ“ DateTime format (5 ms)
âœ“ email
âœ“ ip (9 ms)
âœ“ uri
âœ“ uuid
âœ“ time (1 ms)
âœ“ date
âœ“ duration
âœ“ base64 (1 ms)
âœ“ should accept errorMessage
2025-04-15T08:41:20.7023623Z
PASS test/parsers/parse-schema.test.ts
parseSchema
âœ“ should be usable without providing refs (2 ms)
âœ“ should return a seen and processed ref
âœ“ should be possible to describe a readonly schema (1 ms)
âœ“ should handle nullable
âœ“ should handle enum
âœ“ should handle multiple type (1 ms)
âœ“ should handle if-then-else type (1 ms)
âœ“ should handle anyOf
âœ“ should handle oneOf (1 ms)
2025-04-15T08:41:20.7026113Z
PASS test/json-schema-to-zod.test.ts
jsonSchemaToZod
âœ“ should accept json schema 7 and 4 (4 ms)
âœ“ can exclude defaults
âœ“ should include describes
âœ“ can exclude describes (1 ms)
âœ“ will remove optionality if default is present (1 ms)
âœ“ will handle falsy defaults (1 ms)
âœ“ will ignore undefined as default
âœ“ should be possible to define a custom parser (1 ms)
2025-04-15T08:41:20.7028384Z
PASS test/parsers/parse-object.test.ts
parseObject
âœ“ should handle with missing properties (4 ms)
âœ“ should handle with empty properties
âœ“ With properties - should handle optional and required properties (1 ms)
âœ“ With properties - should handle additionalProperties when set to false
âœ“ With properties - should handle additionalProperties when set to true (1 ms)
âœ“ With properties - should handle additionalProperties when provided a schema
âœ“ Without properties - should handle additionalProperties when set to false
âœ“ Without properties - should handle additionalProperties when set to true (1 ms)
âœ“ Without properties - should handle additionalProperties when provided a schema
âœ“ Without properties - should include falsy defaults
âœ“ eh (2 ms)
âœ“ Functional tests - run (4 ms)
âœ“ Functional tests - properties (2 ms)
âœ“ Functional tests - properties and additionalProperties
âœ“ Functional tests - properties and single-item patternProperties (2 ms)
âœ“ Functional tests - properties, additionalProperties and patternProperties (1 ms)
âœ“ Functional tests - additionalProperties
âœ“ Functional tests - additionalProperties and patternProperties (1 ms)
âœ“ Functional tests - single-item patternProperties
âœ“ Functional tests - patternProperties (1 ms)
âœ“ Functional tests - patternProperties and properties
2025-04-15T08:41:20.7034661Z
PASS test/parsers/parse-one-of.test.ts
parseOneOf
âœ“ should create a union from two or more schemas (4 ms)
âœ“ should extract a single schema (1 ms)
âœ“ should return z.any() if array is empty
2025-04-15T08:41:20.7035680Z
PASS test/parsers/parse-array.test.ts
parseArray
âœ“ should create tuple with items array (3 ms)
âœ“ should create array with items object (1 ms)
âœ“ should create min for minItems
âœ“ should create max for maxItems (1 ms)
2025-04-15T08:41:20.7036893Z
PASS test/parsers/parse-all-of.test.ts
parseAllOf
âœ“ should create never if empty (2 ms)
âœ“ should handle true values
âœ“ should handle false values
2025-04-15T08:41:20.7038001Z
PASS test/parsers/parse-enum.test.ts
parseEnum
âœ“ should create never with empty enum (4 ms)
âœ“ should create literal with single item enum (1 ms)
âœ“ should create enum array with string enums
âœ“ should create union with mixed enums (1 ms)
2025-04-15T08:41:20.7039338Z
PASS test/parsers/parse-any-of.test.ts
parseAnyOf
âœ“ should create a union from two or more schemas (5 ms)
âœ“ should extract a single schema
âœ“ should return z.any() if array is empty (1 ms)
2025-04-15T08:41:20.7040335Z
PASS test/parsers/parse-not.test.ts
parseNot
âœ“ parseNot (3 ms)
2025-04-15T08:41:20.7040812Z
PASS test/parsers/parse-nullable.test.ts
parseNullable
âœ“ parseSchema should not add default twice (5 ms)
2025-04-15T08:41:20.7041378Z
PASS test/utils/omit.test.ts
omit
âœ“ omit (3 ms)
2025-04-15T08:41:20.7041817Z
PASS test/utils/half.test.ts
half
âœ“ half (3 ms)
2025-04-15T08:41:20.7042237Z
PASS test/parsers/parse-const.test.ts
parseConst
âœ“ should handle falsy constants (3 ms)
2025-04-15T08:41:20.7042767Z
Test Suites: 15 passed, 15 total
Tests:       76 passed, 76 total
Snapshots:   0 total
Time:        2.659 s
Ran all test suites.
##[endgroup]
##[group]@n8n/n8n-nodes-langchain:test
cache bypass, force executing 4aa76629a01475af
2025-04-15T08:41:34.7542076Z
> @n8n/n8n-nodes-langchain@1.89.0 test /home/runner/_work/n8n/n8n/packages/@n8n/nodes-langchain
> jest
2025-04-15T08:41:34.7542715Z
PASS nodes/chains/ChainLLM/test/chainExecutor.test.ts
chainExecutor
getOutputParserForLLM
âœ“ should return NaiveJsonOutputParser for OpenAI-like models with json_object response format (5 ms)
âœ“ should return NaiveJsonOutputParser for Ollama models with json format
âœ“ should return StringOutputParser for models without JSON format settings (1 ms)
NaiveJsonOutputParser
âœ“ should parse valid JSON directly (1 ms)
âœ“ should handle nested JSON objects
âœ“ should use parent class parser for malformed JSON (1 ms)
âœ“ should handle JSON with surrounding text by using parent parser
âœ“ should correctly parse JSON with markdown text inside properties
âœ“ should correctly parse JSON with markdown code blocks containing JSON
âœ“ should handle JSON with special characters in markdown content (1 ms)
executeChain
âœ“ should execute a simple chain without output parsers (2 ms)
âœ“ should execute a chain with a single output parser (1 ms)
âœ“ should wrap non-array responses in an array
âœ“ should pass the execution cancel signal to the chain (10 ms)
âœ“ should support chat models (2 ms)
âœ“ should use JsonOutputParser for OpenAI models with json_object response format (1 ms)
âœ“ should use JsonOutputParser for Ollama models with json format (1 ms)
2025-04-15T08:41:34.7549516Z
PASS nodes/chains/ChainLLM/test/ChainLlm.node.test.ts
ChainLlm Node
description
âœ“ should have the expected properties (6 ms)
execute
âœ“ should execute the chain with the correct parameters (2 ms)
âœ“ should handle multiple input items (1 ms)
âœ“ should use the prompt parameter directly for older versions (1 ms)
âœ“ should throw an error if prompt is empty (19 ms)
âœ“ should continue on failure when configured (1 ms)
âœ“ should handle multiple response items from executeChain (1 ms)
âœ“ should unwrap object responses when node version is 1.6 or higher (1 ms)
âœ“ should unwrap object responses when output parser is provided regardless of version (1 ms)
âœ“ should wrap object responses as text when node version is lower than 1.6 and no output parser (1 ms)
âœ“ should handle a mix of different response types with the correct wrapping
âœ“ should handle LLM responses containing JSON with markdown content (4 ms)
2025-04-15T08:41:34.7554099Z
PASS nodes/agents/Agent/test/ToolsAgent.test.ts
getOutputParserSchema
âœ“ should return a default schema if getSchema returns undefined (17 ms)
âœ“ should return the custom schema if provided (1 ms)
extractBinaryMessages
âœ“ should extract a binary message from the input data when no id is provided (1 ms)
âœ“ should extract a binary message using binary stream if id is provided (1 ms)
fixEmptyContentMessage
âœ“ should replace empty string inputs with empty objects
handleParsedStepOutput
âœ“ should stringify the output if memory is provided (1 ms)
âœ“ should not stringify the output if memory is not provided (1 ms)
getChatModel
âœ“ should return the model if it is a valid chat model
âœ“ should throw if the model is not a valid chat model (14 ms)
getOptionalMemory
âœ“ should return the memory if available
getTools
âœ“ should retrieve tools without appending if outputParser is not provided (1 ms)
âœ“ should retrieve tools and append the structured output parser tool if outputParser is provided (1 ms)
prepareMessages
âœ“ should include a binary message if binary data is present and passthroughBinaryImages is true (1 ms)
âœ“ should not include a binary message if no binary data is present
âœ“ should not include system_message in prompt templates if not provided after version 1.9 (1 ms)
âœ“ should include system_message in prompt templates if provided after version 1.9 (1 ms)
âœ“ should include system_message in prompt templates if not provided before version 1.9 (1 ms)
âœ“ should include system_message with formatting_instructions in prompt templates if provided before version 1.9
âœ“ should add formatting instructions when omitting system message after version 1.9 (1 ms)
preparePrompt
âœ“ should return a ChatPromptTemplate instance (1 ms)
2025-04-15T08:41:34.7562670Z
PASS nodes/output_parser/OutputParserStructured/test/OutputParserStructured.node.test.ts
OutputParserStructured
supplyData
Version 1.1 and below
âœ“ should parse a complex nested schema (7 ms)
âœ“ should handle optional fields correctly (1 ms)
âœ“ should handle arrays of objects (1 ms)
âœ“ should handle empty objects (1 ms)
âœ“ should throw error for null values in non-nullable fields (18 ms)
Version 1.2 and above
âœ“ should parse output using schema generated from complex JSON example (2 ms)
âœ“ should validate enum values (1 ms)
âœ“ should handle recursive structures (1 ms)
âœ“ should handle missing required properties (2 ms)
âœ“ should throw on wrong type (1 ms)
âœ“ should parse array output (1 ms)
2025-04-15T08:41:34.7571592Z
PASS nodes/vendors/OpenAi/test/OpenAi.node.test.ts
OpenAi, Assistant resource
âœ“ create => should throw an error if an assistant with the same name already exists (4 ms)
âœ“ create => should call apiRequest with correct parameters (1 ms)
âœ“ create => should throw error if more then 20 files selected (1 ms)
âœ“ delete => should call apiRequest with correct parameters
âœ“ list => should call apiRequest with correct parameters (1 ms)
âœ“ update => should call apiRequest with correct parameters (1 ms)
âœ“ update => should call apiRequest with file_ids as an array for search (1 ms)
âœ“ update => should call apiRequest with file_ids as strings for search
OpenAi, Audio resource
âœ“ generate => should call apiRequest with correct parameters (1 ms)
âœ“ transcribe => should call apiRequest with correct parameters (1 ms)
âœ“ translate => should call apiRequest with correct parameters (2 ms)
OpenAi, File resource
âœ“ deleteFile => should call apiRequest with correct parameters
âœ“ list => should return list of files (1 ms)
âœ“ upload => should call apiRequest with correct parameters (1 ms)
OpenAi, Image resource
âœ“ generate => should call apiRequest with correct parameters, return binary
âœ“ generate => should call apiRequest with correct parameters, return urls
âœ“ analyze => should call apiRequest with correct parameters (1 ms)
OpenAi, Text resource
âœ“ classify => should call apiRequest with correct parameters (1 ms)
âœ“ message => should call apiRequest with correct parameters, no tool call (1 ms)
2025-04-15T08:41:34.7578564Z
PASS nodes/tools/ToolWorkflow/v2/ToolWorkflowV2.test.ts
WorkflowTool::WorkflowToolService
createTool
âœ“ should create a basic dynamic tool when schema is not used (5 ms)
âœ“ should create a tool that can handle successful execution (3 ms)
âœ“ should handle errors during tool execution (1 ms)
handleToolResponse
âœ“ should handle number response
âœ“ should handle object response (1 ms)
âœ“ should handle string response
âœ“ should throw error for invalid response type (23 ms)
executeSubWorkflow
âœ“ should successfully execute workflow and return response
âœ“ should successfully execute workflow and return first item of many (1 ms)
âœ“ should successfully execute workflow and return all items (1 ms)
âœ“ should throw error when workflow execution fails (1 ms)
âœ“ should throw error when workflow returns no response
getSubWorkflowInfo
âœ“ should handle database source correctly (1 ms)
âœ“ should handle parameter source correctly (1 ms)
âœ“ should throw error for invalid JSON in parameter source (8 ms)
2025-04-15T08:41:34.7583847Z
PASS utils/tests/helpers.test.ts
escapeSingleCurlyBrackets
âœ“ should return undefined when input is undefined (3 ms)
âœ“ should escape single curly brackets
âœ“ should not escape already double curly brackets
âœ“ should handle mixed single and double curly brackets
âœ“ should handle empty string
âœ“ should handle string with no curly brackets
âœ“ should handle string with only opening curly bracket (1 ms)
âœ“ should handle string with only closing curly bracket
âœ“ should handle string with multiple single curly brackets
âœ“ should handle string with alternating single and double curly brackets (1 ms)
âœ“ should handle string with curly brackets at the start and end
âœ“ should handle string with special characters
âœ“ should handle string with numbers in curly brackets
âœ“ should handle string with whitespace in curly brackets
âœ“ should handle multi-line input with single curly brackets
âœ“ should handle multi-line input with mixed single and double curly brackets (1 ms)
âœ“ should handle multi-line input with curly brackets at line starts and ends
âœ“ should handle multi-line input with nested curly brackets
âœ“ should handle string with triple uneven curly brackets - opening
âœ“ should handle string with triple uneven curly brackets - closing
âœ“ should handle string with triple uneven curly brackets - mixed opening and closing
âœ“ should handle string with triple uneven curly brackets - multiple occurrences
âœ“ should handle multi-line input with triple uneven curly brackets (3 ms)
getConnectedTools
âœ“ should return empty array when no tools are connected (1 ms)
âœ“ should return tools without modification when enforceUniqueNames is false
âœ“ should throw error when duplicate tool names exist and enforceUniqueNames is true (22 ms)
âœ“ should escape curly brackets in tool descriptions when escapeCurlyBrackets is true
âœ“ should convert N8nTool to dynamic tool when convertStructuredTool is true (1 ms)
âœ“ should not convert N8nTool when convertStructuredTool is false
âœ“ should flatten tools from a toolkit
unwrapNestedOutput
âœ“ should unwrap doubly nested output
âœ“ should not modify regular output object (1 ms)
âœ“ should not modify object without output property
âœ“ should not modify when output is not an object
âœ“ should not modify when object has multiple properties
âœ“ should not modify when inner output has multiple properties
âœ“ should handle null values properly
âœ“ should handle empty object values properly (1 ms)
2025-04-15T08:41:34.7595512Z
PASS nodes/vector_store/shared/MemoryManager/test/StoreCleanupService.test.ts
StoreCleanupService
TTL-based cleanup
âœ“ should identify inactive stores correctly (14 ms)
âœ“ should never identify stores as inactive when TTL is disabled
âœ“ should clean up inactive stores (2 ms)
âœ“ should not run TTL cleanup when disabled (1 ms)
Memory-based cleanup
âœ“ should clean up oldest stores to make room for new data (5 ms)
âœ“ should run TTL cleanup before memory cleanup (5 ms)
âœ“ should not perform memory cleanup when limit is disabled
âœ“ should handle empty stores during cleanup
âœ“ should update the cache when stores are removed (1 ms)
2025-04-15T08:41:34.7598679Z
PASS nodes/mcp/McpClientTool/McpClientTool.node.test.ts
McpClientTool
loadOptions: getTools
âœ“ should return a list of tools (5 ms)
âœ“ should handle errors (5 ms)
supplyData
âœ“ should return a valid toolkit with usable tools (that returns a string) (4 ms)
âœ“ should support selecting tools to expose (2 ms)
âœ“ should support selecting tools to exclude (1 ms)
âœ“ should support header auth (2 ms)
âœ“ should support bearer auth (1 ms)
2025-04-15T08:41:34.7601247Z
PASS nodes/tools/ToolHttpRequest/test/ToolHttpRequest.node.test.ts
ToolHttpRequest
Binary response
âœ“ should return the error when receiving a binary response (6 ms)
âœ“ should return the response text when receiving a text response (1 ms)
âœ“ should return the response text when receiving a text response with a charset (1 ms)
âœ“ should return the response object when receiving a JSON response (1 ms)
âœ“ should handle authentication with predefined credentials (1 ms)
âœ“ should handle authentication with generic credentials (1 ms)
âœ“ should return the error when receiving text that contains a null character (1 ms)
âœ“ should return the error when receiving a JSON response containing a null character (1 ms)
Optimize response
âœ“ should extract body from the response HTML (5 ms)
2025-04-15T08:41:34.7605099Z
PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/insertOperation.test.ts
handleInsertOperation
âœ“ should process all input items and populate vector store (4 ms)
âœ“ should stop processing if execution is cancelled
âœ“ should handle different document input types (1 ms)
âœ“ should pass the correct documents to populateVectorStore (1 ms)
âœ“ should batch documents when node version is 1.1 and above (1 ms)
âœ“ should run populateVectorStore for each item when node version is 1 (1 ms)
âœ“ should use default batch size of 200 when not specified
2025-04-15T08:41:34.7607855Z
PASS nodes/vector_store/shared/MemoryManager/test/MemoryVectorStoreManager.test.ts
MemoryVectorStoreManager
âœ“ should create an instance of MemoryVectorStoreManager (3 ms)
âœ“ should return existing instance (1 ms)
âœ“ should update embeddings in existing instance
âœ“ should update embeddings in existing vector store instances (1 ms)
âœ“ should set up the TTL cleanup interval
âœ“ should not set up the TTL cleanup interval when TTL is disabled (1 ms)
âœ“ should track memory usage when adding documents (1 ms)
âœ“ should clear store metadata when clearing store (1 ms)
âœ“ should request cleanup when adding documents that would exceed memory limit
âœ“ should recalculate memory usage periodically (1 ms)
âœ“ should provide accurate stats about vector stores (1 ms)
2025-04-15T08:41:34.7611392Z
PASS nodes/chains/ChainLLM/test/imageUtils.test.ts
imageUtils
dataUriFromImageData
âœ“ should convert image data to data URI (4 ms)
âœ“ should throw UnsupportedMimeTypeError for non-images (10 ms)
createImageMessage
âœ“ should throw an error for invalid message type (1 ms)
âœ“ should handle image URL messages (4 ms)
âœ“ should handle image URL messages with auto detail (1 ms)
âœ“ should throw an error when binary data is missing
âœ“ should handle binary image data for regular models (1 ms)
âœ“ should handle image data differently for GoogleGenerativeAI models
âœ“ should handle image data differently for Ollama models (1 ms)
âœ“ should pass through UnsupportedMimeTypeError
2025-04-15T08:41:34.7614872Z
PASS nodes/vector_store/shared/MemoryManager/test/MemoryCalculator.test.ts
MemoryCalculator
estimateBatchSize
âœ“ should return 0 for empty document arrays (4 ms)
âœ“ should calculate size for simple documents (1 ms)
âœ“ should account for content length in size calculation (1 ms)
âœ“ should account for metadata complexity in size calculation
âœ“ should scale with the number of documents (1 ms)
calculateVectorStoreSize
âœ“ should return 0 for empty vector stores (1 ms)
âœ“ should calculate size for vector stores with content (1 ms)
âœ“ should account for vector count in size calculation (1 ms)
âœ“ should handle vectors with no content or metadata
âœ“ should handle null or undefined vector arrays
2025-04-15T08:41:34.7618355Z
PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/retrieveAsToolOperation.test.ts
handleRetrieveAsToolOperation
âœ“ should create a dynamic tool with the correct name and description (6 ms)
âœ“ should create a tool that can search the vector store (2 ms)
âœ“ should include metadata in results when includeDocumentMetadata is true (1 ms)
âœ“ should exclude metadata in results when includeDocumentMetadata is false (1 ms)
âœ“ should limit results based on topK parameter (1 ms)
âœ“ should release vector store client even if search fails (8 ms)
2025-04-15T08:41:34.7620945Z
PASS nodes/chains/ChainLLM/test/promptUtils.test.ts
promptUtils
createPromptTemplate
âœ“ should create a simple prompt template for non-chat models (3 ms)
âœ“ should create a prompt template with format instructions
âœ“ should create a chat prompt template for chat models
âœ“ should process text messages correctly (1 ms)
âœ“ should escape curly braces in messages (1 ms)
âœ“ should handle image messages by calling createImageMessage (1 ms)
âœ“ should throw an error for invalid message types (13 ms)
âœ“ should add the query to an existing human message with content if it exists (2 ms)
2025-04-15T08:41:34.7623871Z
PASS nodes/chains/ChainRetrievalQA/test/ChainRetrievalQa.node.test.ts
ChainRetrievalQa
âœ“ should process a query using a chat model (version 1.3) (10 ms)
âœ“ should process a query using a chat model (version 1.4) (2 ms)
âœ“ should process a query using a chat model (version 1.5) (2 ms)
âœ“ should process a query using a text completion model (version 1.3) (2 ms)
âœ“ should process a query using a text completion model (version 1.4) (3 ms)
âœ“ should process a query using a text completion model (version 1.5) (2 ms)
âœ“ should use a custom system prompt if provided (version 1.3) (2 ms)
âœ“ should use a custom system prompt if provided (version 1.4) (2 ms)
âœ“ should use a custom system prompt if provided (version 1.5) (2 ms)
âœ“ should throw an error if the query is undefined (version 1.3) (22 ms)
âœ“ should throw an error if the query is undefined (version 1.4) (1 ms)
âœ“ should throw an error if the query is undefined (version 1.5)
âœ“ should add error to json if continueOnFail is true (version 1.3) (3 ms)
âœ“ should add error to json if continueOnFail is true (version 1.4) (1 ms)
âœ“ should add error to json if continueOnFail is true (version 1.5) (2 ms)
2025-04-15T08:41:34.7628990Z
PASS nodes/output_parser/OutputParserAutofixing/test/OutputParserAutofixing.node.test.ts
OutputParserAutofixing
Configuration
âœ“ should throw error when prompt template does not contain {error} placeholder (17 ms)
âœ“ should throw error when prompt template is empty (1 ms)
âœ“ should use default prompt when none specified (1 ms)
Parsing
âœ“ should successfully parse valid output without needing to fix it (6 ms)
âœ“ should not retry on non-OutputParserException errors (2 ms)
âœ“ should retry on OutputParserException and succeed (1 ms)
âœ“ should handle failed retry attempt (1 ms)
âœ“ should throw non-OutputParserException errors immediately without retry (1 ms)
2025-04-15T08:41:34.7632383Z
PASS nodes/vector_store/shared/createVectorStoreNode/__tests__/utils.test.ts
Vector Store Utilities
transformDescriptionForOperationMode
âœ“ should add displayOptions for a single mode (6 ms)
âœ“ should add displayOptions for multiple modes (1 ms)
âœ“ should preserve other properties of the fields
isUpdateSupported
âœ“ should return true when update is in operationModes (1 ms)
âœ“ should return false when update is not in operationModes
âœ“ should return false when operationModes is undefined (1 ms)
getOperationModeOptions
âœ“ should return options for specified operation modes
âœ“ should return default operation modes when not specified (1 ms)
âœ“ should include output connection type properties from OPERATION_MODE_DESCRIPTIONS (1 ms)
2025-04-15T08:41:34.7635951Z
PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/loadOperation.test.ts
handleLoadOperation
âœ“ should retrieve documents from vector store with similarity search (5 ms)
âœ“ should include document metadata when includeDocumentMetadata is true (2 ms)
âœ“ should exclude document metadata when includeDocumentMetadata is false
âœ“ should use the topK parameter to limit results (1 ms)
âœ“ should properly set pairedItem property in results (10 ms)
âœ“ should log AI event with query after search is complete (1 ms)
âœ“ should release vector store client even if an error occurs (10 ms)
2025-04-15T08:41:34.7638891Z
PASS nodes/chains/InformationExtractor/test/InformationExtraction.node.test.ts
InformationExtractor
From Attribute Descriptions
âœ“ should generate a schema from attribute descriptions with optional fields (4 ms)
âœ“ should make a request to LLM and return the extracted attributes (5 ms)
âœ“ should not fail if LLM could not extract some attribute (1 ms)
âœ“ should fail if LLM could not extract some required attribute (2 ms)
âœ“ should fail if LLM extracted an attribute with the wrong type (2 ms)
âœ“ retries if LLM fails to extract some required attribute (2 ms)
âœ“ retries if LLM extracted an attribute with a wrong type (1 ms)
2025-04-15T08:41:34.7641835Z
PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/updateOperation.test.ts
handleUpdateOperation
âœ“ should throw error if update is not supported (25 ms)
âœ“ should update documents with their IDs (3 ms)
âœ“ should release vector store client even if update fails (1 ms)
âœ“ should use proper document ID from node parameters (1 ms)
2025-04-15T08:41:34.7643556Z
PASS nodes/vector_store/shared/createVectorStoreNode/createVectorStoreNode.test.ts
createVectorStoreNode
retrieve mode
âœ“ supplies vector store as data (9 ms)
retrieve-as-tool mode
âœ“ supplies DynamicTool that queries vector store and returns documents with metadata (3 ms)
âœ“ supplies DynamicTool that queries vector store and returns documents without metadata (2 ms)
2025-04-15T08:41:34.7645405Z
PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/operationHandlers.test.ts
Vector Store Operation Handlers
handleLoadOperation
âœ“ should properly process load operation (5 ms)
âœ“ should exclude metadata when includeDocumentMetadata is false (1 ms)
handleUpdateOperation
âœ“ should throw error when update is not supported (10 ms)
handleRetrieveOperation
âœ“ should return vector store with log wrapper and close function (10 ms)
handleRetrieveAsToolOperation
âœ“ should return a tool with the correct name and description (2 ms)
2025-04-15T08:41:34.7648283Z
PASS nodes/llms/LMChatOpenAi/methods/__tests__/loadModels.test.ts
searchModels
âœ“ should return filtered models if custom API endpoint is not provided (9 ms)
âœ“ should initialize OpenAI with correct credentials
âœ“ should use default OpenAI URL if no custom URL provided
âœ“ should include all models for custom API endpoints (1 ms)
âœ“ should filter models based on search term (1 ms)
âœ“ should handle case-insensitive search (1 ms)
âœ“ should return models sorted alphabetically by id
2025-04-15T08:41:34.7650679Z
PASS nodes/output_parser/OutputParserItemList/test/OutputParserItemList.node.test.ts
OutputParserItemList
supplyData
âœ“ should create a parser with default options (4 ms)
âœ“ should create a parser with custom number of items (1 ms)
âœ“ should create a parser with unlimited number of items
âœ“ should create a parser with custom separator (1 ms)
parse
âœ“ should parse a list with default separator (1 ms)
âœ“ should parse a list with custom separator
âœ“ should limit the number of items returned (1 ms)
âœ“ should throw an error if not enough items are returned (8 ms)
2025-04-15T08:41:34.7653607Z
PASS nodes/mcp/McpTrigger/__test__/McpServer.test.ts
McpServer
connectTransport
âœ“ should set up a transport and server (5 ms)
âœ“ should set up close handler that cleans up resources (1 ms)
handlePostMessage
âœ“ should call transport.handlePostMessage when transport exists (3 ms)
âœ“ should return 401 when transport does not exist (1 ms)
2025-04-15T08:41:34.7655471Z
PASS utils/N8nTool.test.ts
Test N8nTool wrapper as DynamicStructuredTool
âœ“ should wrap a tool (3 ms)
Test N8nTool wrapper - DynamicTool fallback
âœ“ should convert the tool to a dynamic tool (1 ms)
âœ“ should format fallback description correctly (1 ms)
âœ“ should handle empty parameter list correctly
âœ“ should parse correct parameters (1 ms)
âœ“ should recover when 1 parameter is passed directly (2 ms)
âœ“ should recover when JS object is passed instead of JSON (1 ms)
2025-04-15T08:41:34.7657725Z
PASS nodes/llms/LMChatAnthropic/methods/__tests__/searchModels.test.ts
searchModels
âœ“ should fetch models from Anthropic API (4 ms)
âœ“ should sort models by created_at date, most recent first (1 ms)
âœ“ should filter models based on search term
âœ“ should handle case-insensitive search
âœ“ should handle when no models match the filter
2025-04-15T08:41:34.7659362Z
PASS nodes/agents/Agent/agents/SqlAgent/other/handlers/postgres.test.ts
Postgres SSL settings
âœ“ ssl is disabled + allowUnauthorizedCerts is false (6 ms)
âœ“ ssl is disabled + allowUnauthorizedCerts is true (1 ms)
âœ“ ssl is disabled + allowUnauthorizedCerts is undefined (1 ms)
âœ“ ssl is allow + allowUnauthorizedCerts is false (1 ms)
âœ“ ssl is allow + allowUnauthorizedCerts is true
âœ“ ssl is allow + allowUnauthorizedCerts is undefined (1 ms)
âœ“ ssl is require + allowUnauthorizedCerts is false
âœ“ ssl is require + allowUnauthorizedCerts is true (1 ms)
âœ“ ssl is require + allowUnauthorizedCerts is undefined
2025-04-15T08:41:34.7662309Z
PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/retrieveOperation.test.ts
handleRetrieveOperation
âœ“ should retrieve vector store with metadata filters (6 ms)
âœ“ should create a closeFunction that releases the vector store client (1 ms)
âœ“ should handle vector store client when no releaseVectorStoreClient is provided (1 ms)
2025-04-15T08:41:34.7663953Z
PASS nodes/chains/ChainLLM/test/responseFormatter.test.ts
responseFormatter
formatResponse
âœ“ should format string responses (3 ms)
âœ“ should trim string responses
âœ“ should handle array responses
âœ“ should handle object responses when unwrapping is enabled
âœ“ should stringify object responses when unwrapping is disabled
âœ“ should handle primitive non-string responses
âœ“ should handle complex object structures when unwrapping is enabled
âœ“ should stringify complex object structures when unwrapping is disabled
2025-04-15T08:41:34.7666652Z
PASS nodes/vector_store/shared/MemoryManager/test/config.test.ts
Vector Store Config
getConfig
âœ“ should return default values when no environment variables set (4 ms)
âœ“ should use values from environment variables when set
âœ“ should handle invalid environment variable values (1 ms)
mbToBytes
âœ“ should convert MB to bytes
âœ“ should handle zero and negative values (1 ms)
hoursToMs
âœ“ should convert hours to milliseconds (1 ms)
âœ“ should handle zero and negative values
2025-04-15T08:41:34.7669150Z
PASS nodes/mcp/McpTrigger/__test__/McpTrigger.node.test.ts
McpTrigger Node
webhook method
âœ“ should handle setup webhook (5 ms)
âœ“ should handle default webhook for tool execution (1 ms)
âœ“ should handle default webhook when no tool was executed (1 ms)
2025-04-15T08:41:34.7670463Z
PASS nodes/agents/Agent/test/utils.test.ts
checkForStructuredTools
âœ“ should not throw error when no DynamicStructuredTools are present (3 ms)
âœ“ should throw NodeOperationError when DynamicStructuredTools are present (14 ms)
âœ“ should list multiple dynamic tools in error message (1 ms)
âœ“ should throw error with mixed tool types and list only dynamic tools in error message
2025-04-15T08:41:34.7672207Z
PASS nodes/llms/n8nLlmFailedAttemptHandler.test.ts
makeN8nLlmFailedAttemptHandler
âœ“ should throw a wrapped error, when NO custom handler is provided (11 ms)
âœ“ should wrapped error when custom handler is provided (2 ms)
âœ“ should throw wrapped exception from custom handler (2 ms)
âœ“ should not throw if retries are left
âœ“ should throw NodeApiError if no retries are left
âœ“ should throw NodeApiError if no retries are left with custom handler (1 ms)
2025-04-15T08:41:34.7674579Z
PASS nodes/llms/n8nDefaultFailedAttemptHandler.test.ts
n8nDefaultFailedAttemptHandler
âœ“ should throw error if message starts with "Cancel" (7 ms)
âœ“ should throw error if message starts with "AbortError" (1 ms)
âœ“ should throw error if name is "AbortError"
âœ“ should throw error if code is "ECONNABORTED" (1 ms)
âœ“ should throw error if status is in STATUS_NO_RETRY (1 ms)
âœ“ should not throw error if status is not in STATUS_NO_RETRY
âœ“ should not throw error if no conditions are met (1 ms)
2025-04-15T08:41:34.7676839Z
PASS nodes/vendors/OpenAi/helpers/error-handling.test.ts
error-handling
getCustomErrorMessage
âœ“ should return the correct custom error message for known error codes (3 ms)
âœ“ should return undefined for unknown error codes
isOpenAiError
âœ“ should return true if the error is an instance of OpenAIError
âœ“ should return false if the error is not an instance of OpenAIError
openAiFailedAttemptHandler
âœ“ should handle RateLimitError and modify the error message
âœ“ should throw the error if it is not a RateLimitError
2025-04-15T08:41:34.7679512Z
PASS nodes/vendors/OpenAi/transport/test/transport.test.ts
apiRequest
âœ“ should call requestWithAuthentication with credentials URL if one is provided (4 ms)
âœ“ should call requestWithAuthentication with default URL if credentials URL is not provided (1 ms)
2025-04-15T08:41:34.7680779Z
PASS nodes/chains/ChainLLM/test/config.test.ts
config
getInputs
âœ“ should return basic inputs for all parameters (4 ms)
âœ“ should exclude the OutputParser when hasOutputParser is false (1 ms)
âœ“ should include the OutputParser when hasOutputParser is true
nodeProperties
âœ“ should have the expected properties (1 ms)
2025-04-15T08:41:34.7682519Z
PASS nodes/vector_store/VectorStoreZep/VectorStoreZep.node.test.ts
VectorStoreZep
âœ“ should get vector store cloud client (44 ms)
âœ“ should get vector store self-hosted client (5 ms)
2025-04-15T08:41:34.7683428Z
PASS nodes/mcp/McpTrigger/__test__/FlushingSSEServerTransport.test.ts
FlushingSSEServerTransport
âœ“ should call flush after sending a message (6 ms)
2025-04-15T08:41:34.7684162Z
PASS nodes/vendors/OpenAi/test/utils.test.ts
OpenAI message history
âœ“ should only get a limited number of messages (6 ms)
2025-04-15T08:41:34.7684767Z
PASS nodes/tools/ToolThink/test/ToolThink.node.test.ts
ToolThink
Tool response
âœ“ should return the same text as response when receiving a text input (5 ms)
2025-04-15T08:41:34.7685729Z
Test Suites: 44 passed, 44 total
Tests:       362 passed, 362 total
Snapshots:   1 passed, 1 total
Time:        13.429 s
Ran all test suites.
##[endgroup]
##[group]n8n-nodes-base:test
cache bypass, force executing 37beb2ebf1b9948b
2025-04-15T08:44:07.5058965Z
> n8n-nodes-base@1.88.0 test /home/runner/_work/n8n/n8n/packages/nodes-base
> jest
2025-04-15T08:44:07.5059434Z
PASS nodes/Form/test/utils.test.ts
FormTrigger, parseFormDescription
âœ“ should remove HTML tags and truncate to 150 characters (3 ms)
FormTrigger, sanitizeHtml
âœ“ should remove forbidden HTML tags (1 ms)
FormTrigger, formWebhook
âœ“ should call response render (3 ms)
âœ“ should sanitize form descriptions (1 ms)
âœ“ should return workflowData on POST request (1 ms)
FormTrigger, prepareFormData
âœ“ should return valid form data with given parameters (1 ms)
âœ“ should handle missing optional fields gracefully
âœ“ should set redirectUrl with http if protocol is missing
âœ“ should return invalid form data when formFields are empty (1 ms)
âœ“ should correctly handle multiselect fields
âœ“ should correctly handle multiselect fields with unique ids
prepareFormReturnItem
âœ“ should handle empty form submission (1 ms)
âœ“ should process text fields correctly
âœ“ should process number fields correctly (3 ms)
âœ“ should handle file uploads (1 ms)
âœ“ should handle multiple file uploads
âœ“ should format date fields
âœ“ should handle multiselect fields (1 ms)
âœ“ should use workflow timezone when specified
âœ“ should include workflow static data for form trigger node
âœ“ should return html if field name is set
resolveRawData
âœ“ should return the input string if it does not start with "=" (1 ms)
âœ“ should remove leading "=" characters
âœ“ should resolve a single expression
âœ“ should resolve multiple expressions
âœ“ should handle object resolutions
âœ“ should handle nested object properties (1 ms)
âœ“ should handle boolean values
âœ“ should handle expressions with whitespace
âœ“ should return the original string if no resolvables are found
âœ“ should handle non-existent properties gracefully
âœ“ should handle mixed resolvable and non-resolvable content
âœ“ should handle boolean values correctly (2 ms)
âœ“ should handle arrays correctly
âœ“ should handle nested objects correctly (1 ms)
âœ“ should handle arrays of objects correctly
âœ“ should handle empty arrays correctly
âœ“ should handle a mix of different data types
âœ“ should handle nested array access
âœ“ should handle object-to-string conversion
FormTrigger, isFormConnected
âœ“ should return false if Wait node is connected but resume parameter is not form
âœ“ should return true if Wait node is connected and resume parameter is form (1 ms)
âœ“ should return true if Form node is connected
validateResponseModeConfiguration
âœ“ throws error if responseMode is "responseNode" but no Respond to Webhook node is connected (31 ms)
âœ“ throws error if "Respond to Webhook" node is connected but "responseMode" is not "responseNode" in typeVersion <= 2.1 (1 ms)
âœ“ throws error if "Respond to Webhook" node is connected, version >= 2.2
âœ“ does not throw an error mode in not "responseNode" and no "Respond to Webhook" node is connected (1 ms)
prepareFormFields
âœ“ should resolve expressions in html fields
âœ“ should prepare hiddenField
addFormResponseDataToReturnItem
âœ“ should use fieldName if fieldLabel is missing (1 ms)
âœ“ should handle null values
âœ“ should process html fields and set elementName (1 ms)
âœ“ should parse number fields correctly
âœ“ should trim text fields
âœ“ should parse multiselect fields from JSON
âœ“ should convert single file values to an array if multipleFiles is true
2025-04-15T08:44:07.5086559Z
PASS nodes/Postgres/test/v2/operations.test.ts
Test PostgresV2, deleteTable operation
âœ“ deleteCommand: delete, should call runQueries with (6 ms)
âœ“ deleteCommand: truncate, should call runQueries with
âœ“ deleteCommand: drop, should call runQueries with (1 ms)
Test PostgresV2, executeQuery operation
âœ“ should call runQueries with
âœ“ should call runQueries and insert enclosed placeholder into values (1 ms)
âœ“ should call runQueries and not insert enclosed placeholder into values because queryReplacement is defined
âœ“ should call runQueries and insert enclosed placeholder into values because treatQueryParametersInSingleQuotesAsText is true
âœ“ should call runQueries with falsy query replacements
âœ“ should allow users to use $$ instead of strings
âœ“ should allow users to use $$ instead of strings while using query parameters
âœ“ should execute queries with null key/value pairs (1 ms)
âœ“ should execute queries with multiple json key/value pairs
âœ“ should execute queries with single json key/value pair
âœ“ should not parse out expressions if there are valid JSON query parameters (1 ms)
âœ“ should parse out expressions if is invalid JSON in query parameters
Test PostgresV2, insert operation
âœ“ dataMode: define, should call runQueries with (12 ms)
âœ“ dataMode: autoMapInputData, should call runQueries with (1 ms)
âœ“ dataMode: define, should accept an array with values if column is of type json (2 ms)
âœ“ should insert default values if no values are provided
Test PostgresV2, select operation
âœ“ returnAll, should call runQueries with
âœ“ limit, whereClauses, sortRules, should call runQueries with (1 ms)
Test PostgresV2, update operation
âœ“ dataMode: define, should call runQueries with
âœ“ dataMode: autoMapInputData, should call runQueries with (1 ms)
Test PostgresV2, upsert operation
âœ“ dataMode: define, should call runQueries with
âœ“ dataMode: autoMapInputData, should call runQueries with (1 ms)
When matching on all columns
âœ“ dataMode: define, should call runQueries with
âœ“ dataMode: autoMapInputData, should call runQueries with
2025-04-15T08:44:07.5096957Z
PASS nodes/Gong/test/Gong.node.test.ts
Gong Node
Credentials
âœ“ should use correct credentials (378 ms)
Call description
âœ“ should get call with no options true (11 ms)
âœ“ should get call with all options true (37 ms)
âœ“ should get all calls with filters (22 ms)
âœ“ should get limit 50 calls with no options and filters (11 ms)
âœ“ should return empty result if no calls found for user (26 ms)
âœ“ should handle error response (32 ms)
User description
âœ“ should get user (7 ms)
âœ“ should get all users (12 ms)
âœ“ should handle error response (7 ms)
2025-04-15T08:44:07.5099986Z
PASS nodes/Microsoft/Entra/test/UserDescription.test.ts
Microsoft Entra Node
User description
âœ“ should add user to group (519 ms)
âœ“ should create user (20 ms)
âœ“ should delete user (7 ms)
âœ“ should get user (7 ms)
âœ“ should get user with options (11 ms)
âœ“ should get all users with simple output (21 ms)
âœ“ should get limit 10 users with raw output (12 ms)
âœ“ should get all users with options and filter (24 ms)
âœ“ should remove user from group (8 ms)
âœ“ should update user (16 ms)
2025-04-15T08:44:07.5102652Z
PASS nodes/Microsoft/Entra/test/GroupDescription.test.ts
Microsoft Entra Node
Group description
âœ“ should create group (468 ms)
âœ“ should delete group (17 ms)
âœ“ should get group (7 ms)
âœ“ should get group with fields output and members (14 ms)
âœ“ should get all groups with simple output (39 ms)
âœ“ should get limit 10 groups with raw output (14 ms)
âœ“ should get all groups with options and filter (105 ms)
âœ“ should update group (9 ms)
2025-04-15T08:44:07.5105056Z
PASS nodes/Google/Sheet/test/v2/utils/utils.test.ts
Test Google Sheets, addRowNumber
âœ“ should add row nomber (5 ms)
Test Google Sheets, trimToFirstEmptyRow
âœ“ should trimToFirstEmptyRow without row numbers (2 ms)
âœ“ should trimToFirstEmptyRow with row numbers
Test Google Sheets, removeEmptyRows
âœ“ should removeEmptyRows without row numbers
âœ“ should removeEmptyRows with row numbers (1 ms)
Test Google Sheets, trimLeadingEmptyRows
âœ“ should trimLeadingEmptyRows without row numbers
âœ“ should trimLeadingEmptyRows with row numbers
Test Google Sheets, removeEmptyColumns
âœ“ should removeEmptyColumns without row numbers (1 ms)
Test Google Sheets, prepareSheetData
âœ“ should prepareSheetData without row numbers
Test Google Sheets, autoMapInputData
âœ“ should autoMapInputData (2 ms)
Test Google Sheets, lookupValues
âœ“ should return rows by combining filters by OR
âœ“ should return rows by combining filters by AND (1 ms)
Test Google Sheets, checkForSchemaChanges
âœ“ should not to throw error
âœ“ should throw error when columns were renamed (22 ms)
âœ“ should filter out empty columns  without throwing an error
Test Google Sheets, getSpreadsheetId
âœ“ should throw an error if value is empty (1 ms)
âœ“ should return the ID from a valid URL
âœ“ should return an empty string for an invalid URL
âœ“ should return the value for documentIdType byId or byList
Test Google Sheets, Google Sheets Sheet URL Regex
âœ“ should match a valid Google Sheets URL
âœ“ should not match an invalid Google Sheets URL (1 ms)
âœ“ should not match a URL that does not match the pattern
âœ“ should extract the gid from a valid Google Sheets URL
Test Google Sheets, getColumnNumber
âœ“ should return the correct number for single-letter columns
âœ“ should return the correct number for multi-letter columns
Test Google Sheets, hexToRgb
âœ“ should correctly convert a full hex code to RGB
âœ“ should correctly convert a shorthand hex code to RGB
âœ“ should return null for invalid hex codes (3 ms)
Test Google Sheets, getRangeString
âœ“ should return the range in A1 notation when "specifyRangeA1" is set (1 ms)
âœ“ should return only the sheet name if no range is specified
âœ“ should return only the sheet name if rangeDefinition is not "specifyRangeA1"
Test Google Sheets, getExistingSheetNames
âœ“ should return an array of sheet names
âœ“ should return an empty array if no sheets are present
âœ“ should handle a case where sheets are undefined
Test Google Sheets, mapFields
âœ“ should map fields for node version < 4 (1 ms)
âœ“ should map columns for node version >= 4
âœ“ should throw an error if no values are added in version >= 4 (1 ms)
âœ“ should return an empty array when inputSize is 0
Test Google Sheets, getSheetId
âœ“ should return 0 when value is "gid=0"
âœ“ should return a parsed integer when value is a numeric string
âœ“ should return NaN for non-numeric strings
Test Google Sheets, getColumnName
âœ“ should return "A" for column number 1
âœ“ should return "Z" for column number 26
âœ“ should return "AA" for column number 27
âœ“ should return "AZ" for column number 52
âœ“ should return "BA" for column number 53
âœ“ should return "ZZ" for column number 702
âœ“ should return "AAA" for column number 703
2025-04-15T08:44:07.5120532Z
PASS utils/sendAndWait/test/util.test.ts
Send and Wait utils tests
getSendAndWaitProperties
âœ“ should return properties with correct display options (3 ms)
getSendAndWaitConfig
âœ“ should return correct config for single approval (1 ms)
âœ“ should return correct config for double approval (1 ms)
createEmail
âœ“ should create a valid email object (1 ms)
âœ“ should throw NodeOperationError for invalid email address (19 ms)
sendAndWaitWebhook
âœ“ should handle approved webhook (1 ms)
âœ“ should handle disapproved webhook
âœ“ should handle freeText GET webhook (1 ms)
âœ“ should handle freeText POST webhook
âœ“ should handle customForm GET webhook
âœ“ should handle customForm POST webhook (10 ms)
âœ“ should return noWebhookResponse if method GET and user-agent is bot (1 ms)
configureWaitTillDate
âœ“ should return WAIT_INDEFINITELY if limitWaitTime is empty
âœ“ should calculate future date correctly for afterTimeInterval with minutes
âœ“ should calculate future date correctly for afterTimeInterval with hours
âœ“ should calculate future date correctly for afterTimeInterval with days (1 ms)
âœ“ should return the specified maxDateAndTime for maxDateAndTime limitType
âœ“ should throw NodeOperationError for invalid maxDateAndTime format (1 ms)
âœ“ should throw NodeOperationError for invalid resumeAmount or resumeUnit (5 ms)
âœ“ should return WAIT_INDEFINITELY when limitWaitTime is false
âœ“ should calculate minutes correctly in root location
âœ“ should calculate hours correctly in root location (1 ms)
âœ“ should calculate days correctly in root location
âœ“ should handle maxDateAndTime in root location
âœ“ should throw error for invalid date in root location (1 ms)
âœ“ should throw error for invalid resumeAmount in root location
2025-04-15T08:44:07.5128978Z
PASS nodes/Postgres/test/v2/utils.test.ts
Test PostgresV2, isJSON
âœ“ should return true for valid JSON (3 ms)
âœ“ should return false for invalid JSON
Test PostgresV2, evaluateExpression
âœ“ should evaluate undefined to an empty string (1 ms)
âœ“ should evaluate null to a string with value null
âœ“ should evaluate object to a string
âœ“ should evaluate everything else to a string
Test PostgresV2, wrapData
âœ“ should wrap object in json (1 ms)
âœ“ should wrap each object in array in json
âœ“ json key from source should be inside json
Test PostgresV2, prepareErrorItem
âœ“ should return error info item
Test PostgresV2, parsePostgresError
âœ“ should return NodeOperationError (1 ms)
âœ“ should update message that includes ECONNREFUSED (1 ms)
âœ“ should update message with syntax error
Test PostgresV2, addWhereClauses
âœ“ should add where clauses to query (1 ms)
âœ“ should combine where clauses by OR
âœ“ should ignore incorrect combine condition ad use AND
Test PostgresV2, addSortRules
âœ“ should ORDER BY ASC (1 ms)
âœ“ should ORDER BY DESC
âœ“ should ignore incorrect direction
âœ“ should add multiple sort rules
Test PostgresV2, addReturning
âœ“ should add RETURNING
âœ“ should add RETURNING * (1 ms)
Test PostgresV2, replaceEmptyStringsByNulls
âœ“ should replace empty string by null
âœ“ should do nothing
Test PostgresV2, prepareItem
âœ“ should convert fixedCollection values to object
Test PostgresV2, checkItemAgainstSchema
âœ“ should not throw error (1 ms)
âœ“ should throw error on not existing column
âœ“ should throw error on not nullable column
Test PostgresV2, hasJsonDataType
âœ“ returns true if there are columns which are of type json
âœ“ returns false if there are columns which are of type json
Test PostgresV2, convertValuesToJsonWithPgp
âœ“ should use pgp to properly convert values to JSON (9 ms)
Test PostgresV2, convertArraysToPostgresFormat
âœ“ should convert js arrays to postgres format
Test PostgresV2, addExecutionHints
âœ“ should add batching insert hint to executeQuery operation
âœ“ should add run per item hint to select operation
2025-04-15T08:44:07.5140205Z
PASS nodes/Webhook/test/utils.test.ts
Webhook Utils
getResponseCode
âœ“ should return the response code if it exists (3 ms)
âœ“ should return the custom response code if it exists
âœ“ should return the default response code if no response code is provided
getResponseData
âœ“ should return the response data if it exists
âœ“ should return the options response data if response mode is "onReceived"
âœ“ should return "noData" if options noResponseBody is true
âœ“ should return undefined if no response data is provided (1 ms)
configuredOutputs
âœ“ should return an array with a single output if httpMethod is not an array
âœ“ should return an array of outputs if httpMethod is an array
setupOutputConnection
âœ“ should return a function that sets the webhookUrl and executionMode in the output data
âœ“ should return a function that sets the webhookUrl and executionMode in the output data for multiple methods (1 ms)
isIpWhitelisted
âœ“ should return true if whitelist is undefined
âœ“ should return true if whitelist is an empty string
âœ“ should return true if ip is in the whitelist
âœ“ should return true if any ip in ips is in the whitelist
âœ“ should return false if ip and ips are not in the whitelist
âœ“ should return true if any ip in ips matches any address in the whitelist array (1 ms)
âœ“ should return true if ip matches any address in the whitelist array
âœ“ should return false if ip and ips do not match any address in the whitelist array
âœ“ should handle comma-separated whitelist string
âœ“ should trim whitespace in comma-separated whitelist string (1 ms)
checkResponseModeConfiguration
âœ“ should throw an error if response mode is "responseNode" but no Respond to Webhook node is found (12 ms)
âœ“ should throw an error if response mode is not "responseNode" but a Respond to Webhook node is found
validateWebhookAuthentication
âœ“ should return early if authentication is "none" (1 ms)
âœ“ should throw an error if basicAuth is enabled but no authentication data is defined on the node (1 ms)
âœ“ should throw an error if basicAuth is enabled but the provided authentication data is wrong
âœ“ should throw an error if headerAuth is enabled but no authentication data is defined on the node (1 ms)
âœ“ should throw an error if headerAuth is enabled but the provided authentication data is wrong
âœ“ should throw an error if jwtAuth is enabled but no authentication data is defined on the node (1 ms)
âœ“ should throw an error if jwtAuth is enabled but no token is provided
âœ“ should throw an error if jwtAuth is enabled but the provided token is invalid (1 ms)
âœ“ should return the decoded JWT payload if jwtAuth is enabled and the token is valid
2025-04-15T08:44:07.5152643Z
PASS nodes/Form/test/Form.node.test.ts
Form Node
execute method
âœ“ should throw an error if Form Trigger node is not set (22 ms)
âœ“ should put execution to wait if operation is not completion (1 ms)
âœ“ should throw an error if completion is not the last Form node (1 ms)
âœ“ should return input data for completion operation
webhook method
âœ“ should render form for GET request (2 ms)
âœ“ should return form data for POST request (10 ms)
âœ“ should handle completion operation and render completion page (2 ms)
âœ“ should pass customCss to form template
âœ“ should pass customCss to form completion template (1 ms)
âœ“ should handle completion operation and redirect
2025-04-15T08:44:07.5156001Z
PASS nodes/Github/__tests__/SearchFunctions.test.ts
Search Functions
getUsers
âœ“ should fetch users (3 ms)
âœ“ should handle pagination (1 ms)
âœ“ should use paginationToken when provided
getRepositories
âœ“ should fetch repositories (1 ms)
âœ“ should fetch repositories without filter
âœ“ should use paginationToken when provided (1 ms)
âœ“ should handle empty repositories
getWorkflows
âœ“ should fetch workflows
âœ“ should handle pagination (1 ms)
âœ“ should use paginationToken when provided and return next page token
âœ“ should handle empty workflows (1 ms)
getRefs
âœ“ should fetch branches and tags using git/refs endpoint
âœ“ should use paginationToken when provided (1 ms)
âœ“ should filter refs based on the provided filter
âœ“ should handle pagination correctly (1 ms)
2025-04-15T08:44:07.5160285Z
PASS nodes/Github/__tests__/node/Github.node.test.ts
Test Github Node
Workflow Dispatch
âœ“ nodes/Github/__tests__/node/GithubTestWorkflow (92 ms)
Error Handling
âœ“ should throw NodeOperationError for invalid JSON inputs (30 ms)
âœ“ should throw NodeOperationError for 404 errors when dispatching a workflow (1 ms)
âœ“ should throw NodeApiError for general API errors (2 ms)
âœ“ should throw NodeApiError for general API errors in dispatchAndWait operation (1 ms)
Workflow Operations
âœ“ should use extractValue for workflowId in disable operation (1 ms)
âœ“ should use extractValue for workflowId in enable operation (1 ms)
âœ“ should use extractValue for workflowId in get operation
âœ“ should use extractValue for workflowId in getUsage operation
Parameter Extraction
âœ“ should use extractValue for workflowId parameter (1 ms)
2025-04-15T08:44:07.5164464Z
PASS nodes/Microsoft/AzureCosmosDb/test/helpers/utils.test.ts
getPartitionKey
âœ“ should return partition key when found (3 ms)
âœ“ should throw NodeOperationError if partition key is not found (13 ms)
âœ“ should throw NodeApiError for 404 error (1 ms)
validatePartitionKey
âœ“ should throw NodeOperationError when partition key is missing for "create" operation (1 ms)
âœ“ should throw NodeOperationError when partition key is missing for "update" operation
âœ“ should throw NodeOperationError when partition key is missing for "get" operation (1 ms)
âœ“ should throw NodeOperationError when invalid JSON is provided for customProperties (1 ms)
simplifyData
âœ“ should return the same data when "simple" parameter is false
âœ“ should simplify the data when "simple" parameter is true (1 ms)
validateQueryParameters
âœ“ should throw NodeOperationError when parameter values do not match
âœ“ should successfully map parameters when they match
âœ“ should correctly map parameters when query contains multiple dynamic values
âœ“ should extract and map parameter names correctly using regex
processJsonInput
âœ“ should return parsed JSON when input is a valid JSON string
âœ“ should return input data when it is already an object (1 ms)
âœ“ should throw OperationalError for invalid JSON string (1 ms)
âœ“ should throw OperationalError for invalid non-string and non-object input
validateCustomProperties
âœ“ should merge custom properties into requestOptions.body for valid input (1 ms)
âœ“ should throw NodeOperationError when customProperties are empty, undefined, null, or contain only invalid values
2025-04-15T08:44:07.5172194Z
PASS nodes/Microsoft/Excel/test/v2/utils/utils.test.ts
Test MicrosoftExcelV2, prepareOutput
âœ“ should return empty array (2 ms)
âœ“ should return raw response
âœ“ should return raw response in custom property
âœ“ should return formated response (1 ms)
âœ“ should return response with selected first data row
âœ“ should return response with selected first data row (1 ms)
Test MicrosoftExcelV2, updateByDefinedValues
âœ“ should update single row (1 ms)
âœ“ should update multiple rows (1 ms)
âœ“ should update all occurances (1 ms)
âœ“ should append rows
Test MicrosoftExcelV2, updateByAutoMaping
âœ“ should update single row (1 ms)
âœ“ should append single row
âœ“ should append skip row with match column undefined (1 ms)
âœ“ should update multiple rows (4 ms)
âœ“ should update all occurrences
âœ“ should append rows (1 ms)
Test MicrosoftExcelV2, checkRange
âœ“ should not throw error (5 ms)
âœ“ should throw error (17 ms)
2025-04-15T08:44:07.5177041Z
PASS nodes/Redis/__tests__/Redis.node.test.ts
Redis Node
setupRedisClient
âœ“ should not configure TLS by default (5 ms)
âœ“ should configure TLS
âœ“ should set user on auth (1 ms)
redisConnectionTest
âœ“ should return success when connection is established (1 ms)
âœ“ should return error when connection fails
operations
info operation
âœ“ should return info (2 ms)
âœ“ should continue and return an error when continue on fail is enabled and an error is thrown (1 ms)
âœ“ should throw an error when continue on fail is disabled and an error is thrown (15 ms)
delete operation
âœ“ should delete
âœ“ should continue and return an error when continue on fail is enabled and an error is thrown
âœ“ should throw an error when continue on fail is disabled and an error is thrown (1 ms)
get operation
âœ“ keyType = automatic (1 ms)
âœ“ keyType = hash (1 ms)
âœ“ should continue and return an error when continue on fail is enabled and an error is thrown (3 ms)
âœ“ should throw an error when continue on fail is disabled and an error is thrown (1 ms)
keys operation
âœ“ getValues = false (1 ms)
âœ“ getValues = true
âœ“ should continue and return an error when continue on fail is enabled and an error is thrown (1 ms)
âœ“ should throw an error when continue on fail is disabled and an error is thrown (2 ms)
2025-04-15T08:44:07.5183818Z
PASS nodes/MySql/test/v2/operations.test.ts
Test MySql V2, operations
âœ“ should have all operations (3 ms)
âœ“ deleteTable: drop, should call runQueries with (3 ms)
âœ“ deleteTable: truncate, should call runQueries with (1 ms)
âœ“ deleteTable: delete, should call runQueries with (1 ms)
âœ“ executeQuery, should call runQueries with (4 ms)
âœ“ executeQuery, should parse numbers
âœ“ select, should call runQueries with (11 ms)
âœ“ insert, should call runQueries with (1 ms)
âœ“ update, should call runQueries with (1 ms)
âœ“ upsert, should call runQueries with
2025-04-15T08:44:07.5186568Z
PASS nodes/Google/Gmail/test/v2/GmailV2.node.test.ts
Test Gmail Node v2
Messages
âœ“ nodes/Google/Gmail/test/v2/messages.workflow (1332 ms)
âœ“ should make the correct network calls
Labels
âœ“ nodes/Google/Gmail/test/v2/labels.workflow (47 ms)
âœ“ should make the correct network calls
Drafts
âœ“ nodes/Google/Gmail/test/v2/drafts.workflow (69 ms)
âœ“ should make the correct network calls
Threads
âœ“ nodes/Google/Gmail/test/v2/threads.workflow (76 ms)
âœ“ should make the correct network calls
loadOptions
getLabels
âœ“ should return a list of Gmail labels (1 ms)
getThreadMessages
âœ“ should return a list of Gmail thread messages
getGmailAliases
âœ“ should return a list of Gmail aliases (1 ms)
2025-04-15T08:44:07.5190667Z
PASS nodes/Okta/test/UserFunctions.test.ts
oktaApiRequest
âœ“ should make a GET request and return data (3 ms)
âœ“ should handle errors from oktaApiRequest (11 ms)
getUsers
âœ“ should return users with filtering
âœ“ should return all users when no filter is applied
âœ“ should handle empty results from oktaApiRequest
simplifyGetAllResponse
âœ“ should return items unchanged when simplify parameter is not set
âœ“ should simplify items correctly (1 ms)
âœ“ should return an empty array when items is an empty array
simplifyGetResponse
âœ“ should return the item unchanged when simplify parameter is not set (1 ms)
âœ“ should simplify the item correctly
getCursorPaginator
âœ“ should return all items when returnAll is true (1 ms)
âœ“ should return items until nextCursor is undefined
âœ“ should handle empty response data (1 ms)
2025-04-15T08:44:07.5195035Z
PASS nodes/Telegram/tests/GenericFunctions.test.ts
Telegram > GenericFunctions
apiRequest
âœ“ should make a successful API request (4 ms)
âœ“ should handle an API request with no body and query (1 ms)
âœ“ should handle an API request with no additional options (1 ms)
âœ“ should throw a NodeApiError on request failure (17 ms)
addAdditionalFields
âœ“ should add additional fields and attribution for sendMessage operation
âœ“ should add reply markup for inlineKeyboard (1 ms)
âœ“ should add reply markup for forceReply
âœ“ should add reply markup for replyKeyboardRemove (1 ms)
âœ“ should handle nodeVersion 1.2 and set disable_web_page_preview
getPropertyName
âœ“ should return the property name by removing "send" and converting to lowercase (1 ms)
âœ“ should return the original string in lowercase if it does not contain "send"
âœ“ should return an empty string if the input is "send" (1 ms)
âœ“ should handle empty strings
getSecretToken
âœ“ should return a valid secret token
âœ“ should remove invalid characters from the secret token
2025-04-15T08:44:07.5200291Z
PASS nodes/Airtop/test/utils.test.ts
Test convertScreenshotToBinary
âœ“ should convert base64 screenshot data to buffer (2 ms)
âœ“ should handle empty base64 data (1 ms)
Test Airtop utils
validateRequiredStringField
âœ“ should validate non-empty string field
âœ“ should trim whitespace from string field
âœ“ should throw error for empty string field (22 ms)
âœ“ should throw error for whitespace-only string field
validateProfileName
âœ“ should validate valid profile names (1 ms)
âœ“ should allow empty profile name
âœ“ should throw error for invalid profile name
validateTimeoutMinutes
âœ“ should validate valid timeout (1 ms)
âœ“ should throw error for timeout below minimum (7 ms)
âœ“ should throw error for timeout above maximum
validateSaveProfileOnTermination
âœ“ should validate when save profile is false
âœ“ should validate when save profile is true with profile name (1 ms)
âœ“ should throw error when save profile is true without profile name
validateSessionId
âœ“ should validate session ID
âœ“ should throw error for empty session ID (1 ms)
âœ“ should trim whitespace from session ID
validateSessionAndWindowId
âœ“ should validate session and window IDs
âœ“ should throw error for empty session ID (1 ms)
âœ“ should throw error for empty window ID
âœ“ should trim whitespace from IDs
validateUrl
âœ“ should validate valid URL (1 ms)
âœ“ should throw error for invalid URL (1 ms)
âœ“ should return empty string for empty URL
âœ“ should throw error for URL without http or https (9 ms)
validateAirtopApiResponse
âœ“ should not throw error for valid response
âœ“ should throw error for response with errors (2 ms)
shouldCreateNewSession
âœ“ should return true when 'sessionMode' is 'new'
âœ“ should return false when 'sessionMode' is 'existing' (1 ms)
âœ“ should return false when 'sessionMode' is empty
âœ“ should return false when 'sessionMode' is not set
createSessionAndWindow
âœ“ should create a new session and window when sessionMode is 'new' (1 ms)
2025-04-15T08:44:07.5210822Z
PASS nodes/RespondToWebhook/test/RespondToWebhook.test.ts
RespondToWebhook Node
execute method
âœ“ should throw an error if no WEBHOOK_NODE_TYPES in parents (27 ms)
âœ“ should not throw an error if WEBHOOK_NODE_TYPES is in parents (1 ms)
âœ“ should correctly apply response options (1 ms)
âœ“ should correctly return a json response (1 ms)
âœ“ should correctly return a stringified json response
âœ“ should correctly return a jwt response (2 ms)
âœ“ should correctly return a text response (1 ms)
âœ“ should correctly return a redirect
âœ“ should correctly return incoming items (1 ms)
âœ“ should correctly return binary
âœ“ should correctly handle continue on fail (1 ms)
2025-04-15T08:44:07.5214238Z
PASS nodes/Google/Gmail/test/v1/GmailV1.node.test.ts
Test Gmail Node v1
Messages
âœ“ nodes/Google/Gmail/test/v1/messages.workflow (464 ms)
âœ“ should make the correct network calls
Labels
âœ“ nodes/Google/Gmail/test/v1/labels.workflow (39 ms)
âœ“ should make the correct network calls
Message Labels
âœ“ nodes/Google/Gmail/test/v1/message-labels.workflow (25 ms)
âœ“ should make the correct network calls
Drafts
âœ“ nodes/Google/Gmail/test/v1/drafts.workflow (52 ms)
âœ“ should make the correct network calls
2025-04-15T08:44:07.5217152Z
PASS utils/__tests__/utilities.test.ts
Test fuzzyCompare
âœ“ should do strict comparison (4 ms)
âœ“ should do fuzzy comparison (1 ms)
âœ“ should treat null, 0 and "0" as equal
âœ“ should not treat null, 0 and "0" as equal (1 ms)
Test wrapData
âœ“ should wrap object in json
âœ“ should wrap each object in array in json (1 ms)
âœ“ json key from source should be inside json
Test keysToLowercase
âœ“ should convert keys to lowercase (1 ms)
âœ“ should return original value if it is not an object
Test getResolvables
âœ“ should return empty array when there are no resolvables
âœ“ should properly handle resovables in SQL query
âœ“ should properly handle resovables in HTML string
shuffleArray
âœ“ should shuffle array (4 ms)
flattenKeys
âœ“ should handle empty object
âœ“ should flatten object with nested object
âœ“ should handle object with nested arrays
âœ“ should flatten object with nested object and specified prefix
âœ“ should handle object with nested arrays and specified prefix (1 ms)
compareItems
âœ“ should return true if all values of specified keys are equal
âœ“ should return false if any values of specified keys are not equal
âœ“ should return true if all values of specified keys are equal using dot notation (1 ms)
âœ“ should return false if any values of specified keys are not equal using dot notation
âœ“ should return true if all values of specified keys are equal using bracket notation
sortItemKeysByPriorityList
âœ“ should reorder keys based on priority list (1 ms)
âœ“ should sort keys not in the priority list alphabetically (4 ms)
âœ“ should sort all keys alphabetically when priority list is empty (1 ms)
âœ“ should handle an empty data array
âœ“ should handle a single object in the data array
âœ“ should handle duplicate keys in the priority list gracefully
2025-04-15T08:44:07.5226037Z
PASS nodes/HttpRequest/test/utils/utils.test.ts
HTTP Node Utils
prepareRequestBody
âœ“ should call default reducer (4 ms)
âœ“ should call process dot notations (1 ms)
setAgentOptions
âœ“ should not have agentOptions as it's undefined
âœ“ should have agentOptions set
sanitizeUiMessage
âœ“ should remove large Buffers (1 ms)
âœ“ should remove keys that contain sensitive data and do not modify requestOptions (1 ms)
âœ“ should remove secrets
âœ“ should redact the authorization header when the key is lowercase (1 ms)
âœ“ should redact the authorization header when the key is uppercase
âœ“ should redact the x-api-key header when the key is lowercase
âœ“ should redact the x-api-key header when the key is uppercase (1 ms)
âœ“ should redact the x-auth-token header when the key is lowercase
âœ“ should redact the x-auth-token header when the key is uppercase
âœ“ should redact the cookie header when the key is lowercase
âœ“ should redact the cookie header when the key is uppercase
âœ“ should redact the proxy-authorization header when the key is lowercase
âœ“ should redact the proxy-authorization header when the key is uppercase (1 ms)
âœ“ should redact the sslclientcert header when the key is lowercase
âœ“ should redact the sslclientcert header when the key is uppercase
âœ“ should leave headers unchanged if Authorization header is not present
âœ“ should handle case when headers are undefined (3 ms)
replaceNullValues
âœ“ should replace null json with an empty object
âœ“ should not modify json if it is already an object (1 ms)
getSecrets
âœ“ should return secrets for sensitive properties
âœ“ should not return non-sensitive properties
âœ“ should not include non-string values in sensitive properties
âœ“ should return an empty array if properties and credentials are empty
âœ“ should not include null or undefined values in sensitive properties
2025-04-15T08:44:07.5235040Z
PASS nodes/Merge/test/v3/operations.test.ts
Test MergeV3, combineBySql operation
âœ“ LEFT JOIN (12 ms)
âœ“ LEFT JOIN, missing input 2(empty array) (1 ms)
âœ“ LEFT JOIN, missing data in input 2 (1 ms)
âœ“ LEFT JOIN, invalid syntax (2 ms)
âœ“ RIGHT JOIN (1 ms)
âœ“ INNER JOIN (1 ms)
âœ“ FULL OUTER JOIN (1 ms)
âœ“ CROSS JOIN (16 ms)
âœ“ should collect pairedItems data, if version >= 3.1 and SELECT query (1 ms)
Test MergeV3, append operation
âœ“ append inputs (1 ms)
Test MergeV3, combineByFields operation
âœ“ merge inputs (2 ms)
Test MergeV3, combineByPosition operation
âœ“ combine inputs (1 ms)
Test MergeV3, chooseBranch operation
âœ“ choose input
Test MergeV3, combineAll operation
âœ“ combine inputs
2025-04-15T08:44:07.5239030Z
PASS nodes/Kafka/KafkaTrigger.node.test.ts
KafkaTrigger Node
âœ“ should connect to Kafka and subscribe to topic (7 ms)
âœ“ should handle authentication when credentials are provided (1 ms)
âœ“ should throw an error if authentication is enabled but credentials are missing (18 ms)
âœ“ should use schema registry when enabled (2 ms)
âœ“ should parse JSON message when jsonParseMessage is true (1 ms)
âœ“ should include headers when returnHeaders is true (1 ms)
âœ“ should handle manual trigger mode (2 ms)
âœ“ should handle sequential processing when parallelProcessing is false (1 ms)
2025-04-15T08:44:07.5241873Z
PASS nodes/SeaTable/__tests__/v2/GenericFunctions.test.ts
Seatable > v2 > GenericFunctions
rowExport
âœ“ should export only allowed columns from row (3 ms)
âœ“ should handle empty row
âœ“ should handle row with missing fields
splitStringColumnsToArrays
âœ“ should convert collaborator strings to arrays (1 ms)
âœ“ should convert multiple-select strings to arrays
âœ“ should convert number strings to numbers
âœ“ should convert rate and duration strings to integers
âœ“ should convert checkbox strings to booleans
âœ“ should handle multiple column types in one row (1 ms)
âœ“ should handle empty/invalid inputs
enrichColumns
âœ“ should preserve base IRow properties (1 ms)
âœ“ should enrich collaborator columns
âœ“ should enrich creator and last-modifier columns (1 ms)
âœ“ should enrich image columns
âœ“ should handle empty/missing data gracefully
simplify_new
âœ“ should remove keys starting with underscore
âœ“ should handle empty object
âœ“ should preserve non-underscore keys
2025-04-15T08:44:07.5247060Z
PASS nodes/Form/test/FormTriggerV2.node.test.ts
FormTrigger
âœ“ should render a form template with correct fields (7 ms)
âœ“ should return workflowData on POST request (11 ms)
âœ“ should throw on invalid webhook authentication (1 ms)
âœ“ should apply customCss property to form render (1 ms)
âœ“ should handle files (3 ms)
Respond to Webhook
âœ“ should throw when misconfigured (2 ms)
2025-04-15T08:44:07.5249113Z
PASS nodes/Google/Calendar/test/node/event.getAll.test.ts
Google Calendar Node
Google Calendar > Event > Get Many
âœ“ should configure get all request parameters in version 1.3 (10 ms)
âœ“ should configure get all recurringEventHandling equals next in version 1.3 (6 ms)
âœ“ should configure get all recurringEventHandling equals first in version 1.3 (1 ms)
âœ“ should configure get all should have hint in version 1.3 (1 ms)
2025-04-15T08:44:07.5251116Z
PASS nodes/Jira/JiraTrigger.node.test.ts
JiraTrigger
Webhook lifecycle
âœ“ should register a webhook subscription on Jira 10 (6 ms)
âœ“ should register a webhook subscription on Jira 9 (1 ms)
âœ“ should register a webhook subscription on Jira Cloud (8 ms)
Webhook
âœ“ should receive a webhook event (1 ms)
2025-04-15T08:44:07.5252738Z
PASS nodes/Notion/test/node/v2/block/append.test.ts
Test NotionV2, block => append
âœ“ nodes/Notion/test/node/v2/block/append.workflow (1306 ms)
2025-04-15T08:44:07.5253543Z
PASS nodes/Airtop/test/node/extraction/getPaginated.test.ts
Test Airtop, getPaginated operation
âœ“ should extract data with minimal parameters (4 ms)
âœ“ should extract data with output schema (1 ms)
âœ“ interactionMode > Should extract data with 'auto' mode (1 ms)
âœ“ interactionMode > Should extract data with 'accurate' mode
âœ“ interactionMode > Should extract data with 'cost-efficient' mode (1 ms)
âœ“ paginationMode > Should extract data with 'auto' mode
âœ“ paginationMode > Should extract data with 'paginated' mode (3 ms)
âœ“ paginationMode > Should extract data with 'infinite-scroll' mode
âœ“ should extract data using a new session (1 ms)
âœ“ should throw error when 'sessionId' is empty and session mode is 'existing' (14 ms)
âœ“ should throw error when 'windowId' is empty and session mode is 'existing'
2025-04-15T08:44:07.5257214Z
PASS nodes/Google/Gmail/test/GmailTrigger.test.ts
GmailTrigger
âœ“ should return incoming emails (50 ms)
âœ“ should simplify output when enabled (18 ms)
âœ“ should filter out emails that were already processed (4 ms)
âœ“ should handle duplicates and different date fields (50 ms)
2025-04-15T08:44:07.5258571Z
PASS nodes/Form/test/formCompletionUtils.test.ts
formCompletionUtils
renderFormCompletion
âœ“ should render the form completion (4 ms)
âœ“ throw an error if no binary data with the field name is found (11 ms)
âœ“ should render if respond with binary is set and binary mode is filesystem (2 ms)
âœ“ should render if respond with binary is set and binary mode is default (1 ms)
2025-04-15T08:44:07.5260449Z
PASS nodes/Notion/test/node/v2/database/getAll.test.ts
Test NotionV2, database => getAll
âœ“ nodes/Notion/test/node/v2/database/getAll.workflow (103 ms)
2025-04-15T08:44:07.5261224Z
PASS nodes/Google/Sheet/test/v2/methods/listSearch.test.ts
Google Sheets Search Functions
spreadSheetsSearch
âœ“ should return search results without filter (3 ms)
âœ“ should handle search with filter
âœ“ should escape single quotes in filter (1 ms)
âœ“ should handle pagination token
sheetsSearch
âœ“ should return empty results when no documentId is provided (1 ms)
âœ“ should return sheets list for valid spreadsheet
âœ“ should handle default sheet id when sheetId is not provided
âœ“ should throw error when no data is returned (5 ms)
âœ“ should filter out non-GRID type sheets (1 ms)
2025-04-15T08:44:07.5264126Z
PASS nodes/HttpRequest/test/node/HttpRequestV3.test.ts
HttpRequestV3
âœ“ should make a GET request (11 ms)
âœ“ should handle authentication (1 ms)
Authentication Handling
âœ“ should handle httpBasicAuth authentication (1 ms)
âœ“ should handle httpDigestAuth authentication
âœ“ should handle httpHeaderAuth authentication (1 ms)
âœ“ should handle httpQueryAuth authentication (1 ms)
âœ“ should handle oAuth1Api authentication
âœ“ should handle oAuth2Api authentication
2025-04-15T08:44:07.5266581Z
PASS nodes/Microsoft/Outlook/test/v2/node/event/create.test.ts
Test MicrosoftOutlookV2, contact => event
âœ“ nodes/Microsoft/Outlook/test/v2/node/event/create.workflow (1576 ms)
2025-04-15T08:44:07.5267410Z
PASS nodes/Airtop/test/node/window/create.test.ts
Test Airtop, window create operation
âœ“ should create a window with minimal parameters (3 ms)
âœ“ should create a window with live view
âœ“ should create a window with live view and disabled resize (1 ms)
âœ“ should create a window with live view and navigation bar (1 ms)
âœ“ should create a window with live view and screen resolution
âœ“ should create a window with all live view options (1 ms)
âœ“ should throw error when 'sessionId' parameter is empty (17 ms)
âœ“ should throw error when screen resolution format is invalid (4 ms)
2025-04-15T08:44:07.5270036Z
PASS nodes/Slack/test/v2/utils.test.ts
Slack Utility Functions
getTarget
âœ“ should return correct target id (8 ms)
createSendAndWaitMessageBody
âœ“ should create message with single button - pre 2.3 plain_text (2 ms)
âœ“ should create message with double buttons - pre 2.3 plain_text
âœ“ should create message with single button - 2.3+ mrkdwn (1 ms)
âœ“ should create message with double buttons - 2.3+ mrkdwn
2025-04-15T08:44:07.5272219Z
PASS nodes/Splunk/test/v2/utils.test.ts
Splunk, formatEntry
âœ“ should format the entry correctly when doNotFormatContent is false (3 ms)
âœ“ should format the entry correctly when doNotFormatContent is true (2 ms)
âœ“ should handle entries without id correctly (1 ms)
Splunk, extractErrorDescription
âœ“ should extract the error description correctly when messages are present
âœ“ should return the raw error when messages are not present
âœ“ should return the raw error when response is not present
Splunk, getId
âœ“ should return id extracted from the id parameter if it is url (1 ms)
âœ“ should return the unchanged id
Splunk, populate
âœ“ should populate destination object with source object properties
âœ“ should not modify destination object if source object is empty (1 ms)
Splunk, formatFeed
âœ“ should return an empty array when feed entries are not present
âœ“ should format feed entries correctly when entries are an array
âœ“ should format feed entry correctly when entry is a single object
Splunk, setCount
âœ“ should set count to 0 if returnAll (1 ms)
âœ“ should set count to limit if returnAll is false
Splunk, parseXml
âœ“ should parse valid XML string correctly (1 ms)
âœ“ should throw an error if XML string is invalid (8 ms)
2025-04-15T08:44:07.5278245Z
PASS nodes/Set/test/v2/utils.test.ts
test Set2, composeReturnItem
âœ“ should compose return item including no other fields (3 ms)
âœ“ should compose return item including selected fields (1 ms)
âœ“ should include binary when expected in version <3.4
âœ“ should include binary when expected in version >=3.4 (1 ms)
test Set2, parseJsonParameter
âœ“ should parse valid JSON string
âœ“ should tolerate single quotes in string
âœ“ should tolerate unquoted keys (1 ms)
âœ“ should tolerate trailing comma
âœ“ should tolerate trailing commas in objects
test Set2, validateEntry
âœ“ should convert number to string (1 ms)
âœ“ should convert array to string
âœ“ should convert object to string
âœ“ should convert boolean to string
âœ“ should convert undefined to string
2025-04-15T08:44:07.5282129Z
PASS nodes/MailerLite/tests/GenericFunctions.test.ts
MailerLite -> mailerliteApiRequest
âœ“ should make a successful API request for type version 1 (9 ms)
âœ“ should make a successful API request for type version 2 (1 ms)
âœ“ should make an API request with an empty body
âœ“ should throw an error if the API request fails (10 ms)
MailerLite -> mailerliteApiRequestAllItems
âœ“ should handle pagination for type version 1
âœ“ should handle pagination for type version 2 (1 ms)
MailerLite -> getCustomFields
âœ“ should return custom fields for type version 1
âœ“ should return custom fields for type version 2 (1 ms)
2025-04-15T08:44:07.5285097Z
PASS nodes/MySql/test/v2/runQueries.test.ts
Test MySql V2, runQueries
âœ“ should execute in "Single" mode, should return success true (2 ms)
âœ“ should execute in "independently" mode, should return success true (1 ms)
âœ“ should execute in "transaction" mode, should return success true (12 ms)
in single query batch mode
âœ“ should set paired items correctly (9 ms)
2025-04-15T08:44:07.5287212Z
PASS nodes/MySql/test/v2/utils.test.ts
Test MySql V2, prepareQueryAndReplacements
âœ“ should transform query and values (4 ms)
Test MySql V2, wrapData
âœ“ should wrap object in json
âœ“ should wrap each object in array in json
âœ“ json key from source should be inside json (1 ms)
Test MySql V2, addWhereClauses
âœ“ add where clauses to query
âœ“ add where clauses to query combined by OR (1 ms)
Test MySql V2, addSortRules
âœ“ should add ORDER by
Test MySql V2, replaceEmptyStringsByNulls
âœ“ should replace empty strings
âœ“ should not replace empty strings (3 ms)
Test MySql V2, escapeSqlIdentifier
âœ“ should escape fully qualified identifier (1 ms)
âœ“ should escape table name only
âœ“ should escape fully qualified identifier with backticks
âœ“ should escape identifier with dots
Test MySql V2, splitQueryToStatements
âœ“ should split query into statements
âœ“ should not split by ; inside string literal (1 ms)
2025-04-15T08:44:07.5291933Z
PASS nodes/Microsoft/Entra/test/MicrosoftEntra.node.test.ts
Microsoft Entra Node
Credentials
âœ“ should use correct credentials (60 ms)
Load options
âœ“ should load group properties (5 ms)
âœ“ should load user properties (4 ms)
List search
âœ“ should list search groups (6 ms)
âœ“ should list search users (1 ms)
2025-04-15T08:44:07.5293761Z
PASS nodes/RabbitMQ/test/GenericFunctions.test.ts
RabbitMQ GenericFunctions
parseMessage
âœ“ should handle binary data (3 ms)
âœ“ should handle JSON data (1 ms)
âœ“ should return only content, when requested (1 ms)
rabbitmqConnect
âœ“ should connect to RabbitMQ (1 ms)
âœ“ should connect to RabbitMQ over SSL
rabbitmqCreateChannel
âœ“ should create a channel (4 ms)
rabbitmqConnectQueue
âœ“ should assert a queue
âœ“ should check a queue
rabbitmqConnectExchange
âœ“ should assert a queue (3 ms)
âœ“ should check a queue (1 ms)
MessageTracker
âœ“ should track received messages
âœ“ should track answered messages
âœ“ should return the number of unanswered messages
âœ“ should close the channel and connection
2025-04-15T08:44:07.5298077Z
PASS nodes/Notion/test/GenericFunctions.test.ts
Test NotionV2, formatBlocks
âœ“ should format to_do block (3 ms)
Test Notion
extractPageId From URL
âœ“ should return the part after "p="
âœ“ should return the last part after splitting by "-" when URL contains multiple "-" (1 ms)
âœ“ should return the last part after splitting by "-" when URL contains one "-"
âœ“ should return just the id when there is an instance name (1 ms)
âœ“ should return the id when there is no instance name
Test Notion, getPageId
âœ“ should return page ID directly when mode is id (1 ms)
âœ“ should extract page ID from URL with p parameter (1 ms)
âœ“ should extract page ID from URL using regex (5 ms)
âœ“ should throw error when page ID cannot be extracted (32 ms)
âœ“ should throw error when page value is empty (1 ms)
âœ“ should throw error when page value is undefined (1 ms)
âœ“ should throw error when page value is not a string (1 ms)
2025-04-15T08:44:07.5302550Z
PASS nodes/Google/Sheet/test/v2/transport/index.test.ts
Google Sheets Transport
apiRequest
âœ“ should make successful request with service account authentication (4 ms)
âœ“ should make successful request with OAuth2 authentication (1 ms)
âœ“ should handle custom headers and query parameters
âœ“ should handle PERMISSION_DENIED error with custom description (8 ms)
âœ“ should handle SSL certificate errors (1 ms)
apiRequestAllItems
âœ“ should fetch all pages of results (1 ms)
âœ“ should handle empty response
2025-04-15T08:44:07.5305122Z
PASS nodes/Google/Sheet/test/v2/node/update.test.ts
Google Sheet - Update
âœ“ should update by row_number and not insert it as a new column (4 ms)
âœ“ should update rows by column values with special character (3 ms)
row_number input error
âœ“ displays a helpful error message when row_number is undefined (10 ms)
âœ“ displays a helpful error message when row_number is null (3 ms)
2025-04-15T08:44:07.5306906Z
PASS nodes/Microsoft/Sql/test/utils.test.ts
MSSQL tests
âœ“ should perform insert operation (5 ms)
âœ“ should perform update operation (1 ms)
âœ“ should perform delete operation (1 ms)
mssqlChunk
âœ“ should chunk insert values correctly (3 ms)
executeSqlQueryAndPrepareResults
âœ“ should handle SELECT query with single record (1 ms)
âœ“ should handle SELECT query with multiple records
âœ“ should handle non-SELECT query (1 ms)
âœ“ should handle query with no affected rows
âœ“ should throw an error when query fails (7 ms)
2025-04-15T08:44:07.5309948Z
PASS nodes/Compression/test/node/Compression.test.ts
Execute Compression Node
âœ“ nodes/Compression/test/node/workflow.compression.json (332 ms)
2025-04-15T08:44:07.5310670Z
PASS nodes/Google/Sheet/test/v2/helpers/GoogleSheet.test.ts
GoogleSheet
clearData
âœ“ should make correct API call to clear data (4 ms)
getData
âœ“ should retrieve data with correct parameters (1 ms)
convertSheetDataArrayToObjectArray
âœ“ should convert sheet data to object array correctly
âœ“ should handle empty rows when addEmpty is false (1 ms)
lookupValues
âœ“ should find matching rows with OR combination
âœ“ should find matching rows with AND combination
âœ“ should throw error for invalid key row (23 ms)
appendSheetData
âœ“ should correctly prepare and append data (1 ms)
appendEmptyRowsOrColumns
âœ“ should throw error when no rows or columns specified (1 ms)
âœ“ should make correct API call to append rows and columns
2025-04-15T08:44:07.5314084Z
PASS nodes/Microsoft/Storage/test/listSearch/listSearch.test.ts
Azure Storage Node
List search
âœ“ should list search blobs (10 ms)
âœ“ should list search containers (2 ms)
2025-04-15T08:44:07.5314563Z
PASS nodes/Schedule/test/GenericFunctions.test.ts
toCronExpression
âœ“ should return cron expression for cronExpression field (4 ms)
âœ“ should return cron expression for seconds interval (1 ms)
âœ“ should return cron expression for minutes interval
âœ“ should return cron expression for hours interval
âœ“ should return cron expression for days interval (1 ms)
âœ“ should return cron expression for weeks interval
âœ“ should return cron expression for months interval
recurrenceCheck
âœ“ should return true if activated=false (1 ms)
âœ“ should return false if intervalSize is falsey
âœ“ should return true only once for a day cron (1 ms)
intervalToRecurrence
âœ“ should return recurrence rule for seconds interval (1 ms)
âœ“ should return recurrence rule for minutes interval
âœ“ should return recurrence rule for hours interval (10 ms)
âœ“ should return recurrence rule for days interval (1 ms)
âœ“ should return recurrence rule for weeks interval
âœ“ should return recurrence rule for months interval (1 ms)
2025-04-15T08:44:07.5317041Z
PASS nodes/Microsoft/AzureCosmosDb/test/helpers/errorHandler.test.ts
handleError
âœ“ should return data when no error occurs (4 ms)
âœ“ should throw NodeApiError for container conflict (17 ms)
âœ“ should throw NodeApiError for container not found (1 ms)
âœ“ should throw NodeApiError for item not found (1 ms)
âœ“ should throw generic error if no specific mapping exists (1 ms)
âœ“ should handle error details correctly when match is successful (1 ms)
âœ“ should handle error when match does not return expected format (1 ms)
âœ“ should throw NodeApiError with proper details if error details are present
âœ“ should throw NodeApiError with fallback message if no details found
2025-04-15T08:44:07.5318712Z
PASS nodes/Google/Sheet/test/v2/methods/loadOptions.test.ts
Google Sheets Functions
getSheets
âœ“ should return an empty array if documentId is null (3 ms)
âœ“ should throw an error if no data is returned (18 ms)
âœ“ should return sheets with GRID type (1 ms)
getSheetHeaderRow
âœ“ should return an empty array if documentId is null
âœ“ should throw an error if no data is returned (1 ms)
âœ“ should return column headers
getSheetHeaderRowAndAddColumn
âœ“ should add a new column and exclude the column to match on
getSheetHeaderRowWithGeneratedColumnNames
âœ“ should generate column names for empty values
getSheetHeaderRowAndSkipEmpty
âœ“ should skip columns with empty values
2025-04-15T08:44:07.5320402Z
PASS nodes/Microsoft/Outlook/test/v2/utils/utils.test.ts
Test MicrosoftOutlookV2, makeRecipient
âœ“ should create recipient object (4 ms)
Test MicrosoftOutlookV2, prepareContactFields
âœ“ should create contact object
Test MicrosoftOutlookV2, prepareFilterString
âœ“ should create filter string (1 ms)
Test MicrosoftOutlookV2, simplifyOutputMessages
âœ“ should create recipient object
Test MicrosoftOutlookV2, createMessage
âœ“ should create message object
2025-04-15T08:44:07.5321618Z
PASS nodes/Slack/test/v2/node/message/search.test.ts
Test SlackV2, message => search
âœ“ nodes/Slack/test/v2/node/message/search.workflow (1292 ms)
2025-04-15T08:44:07.5321959Z
PASS nodes/Airtop/test/node/extraction/query.test.ts
Test Airtop, query page operation
âœ“ should query the page with minimal parameters using existing session (5 ms)
âœ“ should query the page with output schema using existing session (1 ms)
âœ“ should query the page using a new session (1 ms)
âœ“ should throw error when 'sessionId' is empty in 'existing' session mode (21 ms)
âœ“ should throw error when 'windowId' is empty in 'existing' session mode (1 ms)
2025-04-15T08:44:07.5323000Z
console.warn
Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
Arguments:
[0] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: foo bar baz, _f: undefined, _strict: undefined, _locale: [object Object]
Error:
at Function.createFromInputFallback (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:324:25)
at configFromString (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
at configFromInput (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
at prepareConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
at createFromConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
at createLocalOrUTC (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
at createLocal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
at hooks (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
at getValue (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Salesforce/GenericFunctions.ts:182:12)
at Object.<anonymous> (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Salesforce/__test__/GenericFunctions.test.ts:24:27)
at Promise.then.completed (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:300:28)
at new Promise (<anonymous>)
at callAsyncCircusFn (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:233:10)
at _callCircusTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:315:40)
at processTicksAndRejections (node:internal/process/task_queues:95:5)
at _runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:251:3)
at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:125:9)
at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:120:9)
at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:120:9)
at run (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:70:3)
at runAndTransformResultsToJestFormat (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
at jestAdapter (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
at runTestInternal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:367:16)
at runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:444:34)
at Object.worker (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/testWorker.js:106:12)
2025-04-15T08:44:07.5330780Z
[0m [90m 180 |[39m
[90m 181 |[39m [36mexport[39m [36mfunction[39m getValue(value[33m:[39m any) {
[31m[1m>[22m[39m[90m 182 |[39m 	[36mif[39m (moment(value [36mas[39m string)[33m.[39misValid()) {
[90m     |[39m 	          [31m[1m^[22m[39m
[90m 183 |[39m 		[36mreturn[39m value[33m;[39m
[90m 184 |[39m 	} [36melse[39m [36mif[39m ([36mtypeof[39m value [33m===[39m [32m'string'[39m) {
[90m 185 |[39m 		[36mreturn[39m [32m`'${value}'`[39m[33m;[39m[0m
2025-04-15T08:44:07.5331912Z
at warn (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:287:21)
at Function.createFromInputFallback (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:319:17)
at configFromString (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
at configFromInput (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
at prepareConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
at createFromConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
at createLocalOrUTC (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
at createLocal (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
at hooks (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
at getValue (nodes/Salesforce/GenericFunctions.ts:182:12)
at Object.<anonymous> (nodes/Salesforce/__test__/GenericFunctions.test.ts:24:27)
2025-04-15T08:44:07.5333820Z
PASS nodes/Salesforce/__test__/GenericFunctions.test.ts
Salesforce -> GenericFunctions
getValue
âœ“ should return date string as is (3 ms)
âœ“ should return string in single quotes (37 ms)
âœ“ should return number as is
âœ“ should return boolean as is (1 ms)
sortOptions
âœ“ should sort options alphabetically by name (1 ms)
getConditions
âœ“ should handle equals operation (6 ms)
âœ“ should handle other operations
âœ“ should return undefined when constitions is not an array (1 ms)
âœ“ should return undefined when constitions is an empty array
getDefaultFields
âœ“ should return default fields (7 ms)
getQuery
âœ“ should return query when the fields are comma separated
âœ“ should return query when the fields are strings in an array
âœ“ should return query with default fields when the fields are missing (1 ms)
âœ“ should return query with a condition
âœ“ should return query with a limit
âœ“ should return query with a condition and a limit (1 ms)
2025-04-15T08:44:07.5336457Z
PASS nodes/Slack/test/v2/GenericFunctions.test.ts
Slack V2 > GenericFunctions
slackApiRequest
âœ“ should handle paid_teams_only error (21 ms)
slackApiRequestAllItems
âœ“ should use default limit of 100 when no limit is provided (2 ms)
âœ“ should use provided limit value when specified (1 ms)
âœ“ should use count instead of limit for files.list endpoint
âœ“ should handle files.list pagination (1 ms)
âœ“ should handle regular pagination with paging info (1 ms)
âœ“ should handle matches in response
2025-04-15T08:44:07.5337674Z
PASS nodes/Supabase/tests/Supabase.node.test.ts
Test Supabase Node
âœ“ should allow filtering on the same field multiple times (6 ms)
âœ“ should not set schema headers if no custom schema is used (1 ms)
âœ“ should set the schema headers for GET calls if custom schema is used
âœ“ should set the schema headers for POST calls if custom schema is used
âœ“ should show descriptive message when error is caught (2 ms)
2025-04-15T08:44:07.5338637Z
PASS nodes/Github/__tests__/GenericFunctions.test.ts
GenericFunctions
githubApiRequest
âœ“ should make a successful API request (4 ms)
âœ“ should throw a NodeApiError on API failure (30 ms)
getFileSha
âœ“ should return the SHA of a file (6 ms)
âœ“ should throw a NodeOperationError if SHA is missing (1 ms)
githubApiRequestAllItems
âœ“ should fetch all items with pagination (2 ms)
isBase64
âœ“ should return true for valid Base64 strings
âœ“ should return false for invalid Base64 strings (1 ms)
validateJSON
âœ“ should return parsed JSON for valid JSON strings (1 ms)
âœ“ should return undefined for invalid JSON strings
2025-04-15T08:44:07.5340346Z
PASS nodes/Google/BigQuery/test/v2/utils/utils.test.ts
Google BigQuery v2 Utils
âœ“ should prepareOutput (6 ms)
2025-04-15T08:44:07.5340623Z
PASS nodes/Google/Sheet/test/v2/actions/spreadsheet/create.operation.test.ts
Spreadsheet Create Operation
execute
âœ“ should create a basic spreadsheet with title only (5 ms)
âœ“ should create spreadsheet with multiple sheets (1 ms)
âœ“ should handle all options when creating spreadsheet (1 ms)
âœ“ should handle multiple input items (1 ms)
âœ“ should handle empty sheet properties (1 ms)
âœ“ should preserve undefined values for optional properties (1 ms)
2025-04-15T08:44:07.5342070Z
PASS nodes/Files/ReadWriteFile/test/ReadWriteFile.test.ts
Test ReadWriteFile Node
âœ“ nodes/Files/ReadWriteFile/test/ReadWriteFile.workflow.json (473 ms)
2025-04-15T08:44:07.5342450Z
PASS nodes/Transform/RemoveDuplicates/v2/test/RemoveDuplicates.test.ts
RemoveDuplicatesV2
âœ“ should Remove items repeated within current input based on all fields (6 ms)
âœ“ should Remove items repeated within current input based on selected fields (1 ms)
âœ“ should remove items seen in previous executions (1 ms)
âœ“ should clean database when managing key values (1 ms)
2025-04-15T08:44:07.5343438Z
PASS nodes/Airtop/test/session-utils.test.ts
executeRequestWithSessionManagement
When 'sessionMode' is 'new'
âœ“ should create a new session and window when 'sessionMode' is 'new' (5 ms)
âœ“ should not terminate session when 'autoTerminateSession' is false
âœ“ should terminate session when 'autoTerminateSession' is true (1 ms)
âœ“ should call the operation passed in the 'request' parameter (1 ms)
When 'sessionMode' is 'existing'
âœ“ should not create a new session and window
âœ“ should call the operation passed in the 'request' parameter
2025-04-15T08:44:07.5344721Z
PASS nodes/SpreadsheetFile/test/SpreadsheetFile.test.ts
Execute Spreadsheet File Node
âœ“ execute workflow.json (797 ms)
âœ“ execute workflow.bom.json (46 ms)
âœ“ execute includeempty.json (8 ms)
âœ“ execute utf8.json (5 ms)
2025-04-15T08:44:07.5345327Z
PASS nodes/Google/YouTube/__test__/node/YouTube.node.test.ts
Test YouTube Node
Channel
âœ“ nodes/Google/YouTube/__test__/node/channels.workflow (975 ms)
âœ“ should make the correct network calls (3 ms)
Playlist
âœ“ nodes/Google/YouTube/__test__/node/playlists.workflow (59 ms)
âœ“ should make the correct network calls (1 ms)
Video Categories
âœ“ nodes/Google/YouTube/__test__/node/videoCategories.workflow (17 ms)
âœ“ should make the correct network calls (1 ms)
Playlist Item
âœ“ nodes/Google/YouTube/__test__/node/playlistItems.workflow (52 ms)
2025-04-15T08:44:07.5346974Z
PASS nodes/Airtop/test/node/session/create.test.ts
Test Airtop, session create operation
âœ“ should create a session with minimal parameters (7 ms)
âœ“ should create a session with save profile enabled (1 ms)
âœ“ should create a session with integrated proxy
âœ“ should create a session with custom proxy
âœ“ should throw error when custom proxy URL is invalid (23 ms)
âœ“ should throw error when custom proxy URL is empty (1 ms)
2025-04-15T08:44:07.5347954Z
PASS nodes/Lemlist/test/GenericFunctions.test.ts
GenericFunctions
lemlistApiRequest
âœ“ should make an authenticated API request to Lemlist (4 ms)
lemlistApiRequestAllItems
âœ“ should return all results (1 ms)
getEvents
âœ“ should return a list of events with capitalized names (10 ms)
2025-04-15T08:44:07.5348796Z
PASS nodes/Twitter/test/Twitter.test.ts
Test Twitter Request Node
âœ“ nodes/Twitter/test/Workflow_Twitter_UnitTest (618 ms)
X / Twitter Node unit tests
returnId
âœ“ should return the id when mode is id (1 ms)
âœ“ should extract the tweetId from url when the domain is twitter.com (1 ms)
âœ“ should extract the tweetId from url when the domain is x.com
âœ“ should throw an error when mode is not valid (12 ms)
should throw an error when the URL is not valid
âœ“ https://twitter.com/user/ (1 ms)
âœ“ https://twitter.com/user/status/ (1 ms)
âœ“ https://twitter.com/user/profile/12345 (1 ms)
âœ“ https://twitter.com/search?param=12345 (1 ms)
2025-04-15T08:44:07.5350347Z
PASS nodes/Aws/SES/test/AwsSes.node.test.ts
AwsSes Node
âœ“ should create customVerificationEmail (755 ms)
âœ“ should URIencode params for sending email with template (26 ms)
2025-04-15T08:44:07.5350785Z
PASS utils/__tests__/connection-pool-manager.test.ts
âœ“ getInstance returns a singleton (3 ms)
getConnection
âœ“ calls fallBackHandler only once and returns the first value (1 ms)
âœ“ creates different pools for different node versions (1 ms)
âœ“ calls cleanUpHandler after TTL expires (1 ms)
onShutdown
âœ“ calls all clean up handlers
âœ“ calls all clean up handlers when `exit` is emitted on process (1 ms)
2025-04-15T08:44:07.5351864Z
PASS nodes/Notion/test/node/v2/block/getAll.test.ts
Test NotionV2, block => getAll
âœ“ nodes/Notion/test/node/v2/block/getAll.workflow (111 ms)
2025-04-15T08:44:07.5352193Z
PASS nodes/Salesforce/__test__/node/Salesforce.node.test.ts
Salesforce Node
users
âœ“ nodes/Salesforce/__test__/node/users.workflow (1366 ms)
âœ“ should make the correct network calls
tasks
âœ“ nodes/Salesforce/__test__/node/tasks.workflow (51 ms)
âœ“ should make the correct network calls
accounts
âœ“ nodes/Salesforce/__test__/node/accounts.workflow (69 ms)
âœ“ should make the correct network calls
search
âœ“ nodes/Salesforce/__test__/node/search.workflow (7 ms)
âœ“ should make the correct network calls
opportunities
âœ“ nodes/Salesforce/__test__/node/opportunities.workflow (66 ms)
âœ“ should make the correct network calls
2025-04-15T08:44:07.5353987Z
PASS nodes/Aws/Rekognition/test/AwsRekognition.node.test.ts
Test AWS Rekogntion Node
Image Labels Recognition
âœ“ nodes/Aws/Rekognition/test/AwsRekognitionTestWorkflow (391 ms)
2025-04-15T08:44:07.5354426Z
PASS nodes/Slack/test/v2/node/channel/history.test.ts
Test SlackV2, channel => history
âœ“ nodes/Slack/test/v2/node/channel/history.workflow (176 ms)
2025-04-15T08:44:07.5354869Z
PASS nodes/Airtop/test/node/extraction/scrape.test.ts
Test Airtop, scrape operation
âœ“ should scrape content with minimal parameters using existing session (4 ms)
âœ“ should scrape content with additional parameters using existing session
âœ“ should scrape content using a new session (1 ms)
âœ“ should throw error when sessionId is empty in 'existing' session mode (16 ms)
âœ“ should throw error when windowId is empty in 'existing' session mode (1 ms)
2025-04-15T08:44:07.5355904Z
PASS nodes/Google/Calendar/test/node/event.update.test.ts
Google Calendar Node
Google Calendar > Event > Update
âœ“ should update replace attendees in version 1.1 (5 ms)
âœ“ should update replace attendees (1 ms)
âœ“ should update add attendees
2025-04-15T08:44:07.5356518Z
PASS nodes/S3/__tests__/GenericFunctions.test.ts
S3 Node Generic Functions
s3ApiRequest
âœ“ should throw error if endpoint does not start with http (17 ms)
âœ“ should handle force path style (1 ms)
âœ“ should handle supabase url (1 ms)
s3ApiRequestREST
âœ“ should parse JSON response
âœ“ should return raw response on parse error (1 ms)
s3ApiRequestSOAP
âœ“ should parse XML response
âœ“ should handle XML parsing errors (1 ms)
s3ApiRequestSOAPAllItems
âœ“ should handle pagination with continuation token (1 ms)
2025-04-15T08:44:07.5357848Z
PASS nodes/Redis/__tests__/RedisTrigger.node.test.ts
Redis Trigger Node
âœ“ should emit in manual mode (5 ms)
âœ“ should emit in trigger mode (1 ms)
âœ“ should parse JSON messages when configured
2025-04-15T08:44:07.5358431Z
PASS nodes/MQTT/test/MqttTrigger.node.test.ts
MQTT Trigger Node
âœ“ should emit in manual mode (13 ms)
âœ“ should emit in trigger mode (2 ms)
âœ“ should parse JSON messages when configured (4 ms)
2025-04-15T08:44:07.5358914Z
PASS nodes/Code/test/Code.node.test.ts
Test Code Node
âœ“ nodes/Code/test/Code.workflow (66 ms)
âœ“ nodes/Code/test/workflow.do_not_obfuscate_validation_error (6 ms)
Code Node unit test
runOnceForAllItems
valid return data
âœ“ should handle null (2 ms)
âœ“ should handle pre-normalized result (1 ms)
âœ“ should handle an index key (2 ms)
âœ“ should handle when returned data is not an array (1 ms)
âœ“ should handle when returned data is an array with items missing `json` key (1 ms)
âœ“ should handle when returned data missing `json` key (2 ms)
invalid return data
âœ“ return error if `.json` is undefined (2 ms)
âœ“ return error if `.json` is null (2 ms)
âœ“ return error if `.json` is date (1 ms)
âœ“ return error if `.json` is string (1 ms)
âœ“ return error if `.json` is boolean (2 ms)
âœ“ return error if `.json` is array (1 ms)
runOnceForEachItem
valid return data
âœ“ should handle pre-normalized result (1 ms)
âœ“ should handle when returned data missing `json` key (1 ms)
invalid return data
âœ“ return error if `.json` is undefined (2 ms)
âœ“ return error if `.json` is null (1 ms)
âœ“ return error if `.json` is date (1 ms)
âœ“ return error if `.json` is string (2 ms)
âœ“ return error if `.json` is boolean (8 ms)
âœ“ return error if `.json` is array (1 ms)
2025-04-15T08:44:07.5362254Z
PASS nodes/Notion/test/node/v2/database/search.test.ts
Test NotionV2, database => search
âœ“ nodes/Notion/test/node/v2/database/search.workflow (100 ms)
2025-04-15T08:44:07.5362612Z
PASS nodes/Google/Gmail/test/v2/utils.test.ts
Google Gmail v2, prepareTimestamp
âœ“ should return a valid timestamp from ISO (15 ms)
âœ“ should return a valid timestamp from integer in miliseconds (1 ms)
âœ“ should return a valid timestamp from integer in seconds
âœ“ should return a valid timestamp from string in miliseconds (1 ms)
âœ“ should return a valid timestamp from string in seconds
âœ“ should return a valid timestamp from luxon DateTime (1 ms)
âœ“ should return a valid timestamp from luxon DateTime ISO (2 ms)
âœ“ should throw error on invalid data (18 ms)
parseRawEmail
âœ“ should return a date string (14 ms)
2025-04-15T08:44:07.5364172Z
PASS nodes/Microsoft/AzureCosmosDb/test/credentials/sharedKey.test.ts
Azure Cosmos DB
authenticate
âœ“ should generate a valid authorization header (3 ms)
âœ“ should throw an error when unable to determine the resource type from the URL (5 ms)
âœ“ should throw OperationalError if no resource type found in URL path (1 ms)
âœ“ should properly construct the resourceId and payload
2025-04-15T08:44:07.5365122Z
PASS nodes/Microsoft/Storage/test/credentials/sharedKey.test.ts
Azure Storage Node
should use correct shared key credentials
âœ“ nodes/Microsoft/Storage/test/workflows/credentials_sharedKey.workflow (89 ms)
authenticate
âœ“ should remove undefined query parameters and headers (1 ms)
âœ“ should default method to GET if not provided
âœ“ should generate a valid authorization header (1 ms)
2025-04-15T08:44:07.5366174Z
PASS nodes/Splunk/test/v2/node/search.test.ts
Splunk, search resource
âœ“ create operation (4 ms)
âœ“ deleteJob operation
âœ“ get operation
âœ“ getAll operation (1 ms)
âœ“ getResult operation (1 ms)
2025-04-15T08:44:07.5366854Z
PASS nodes/Postgres/test/Postgres.node.functions.test.ts
pgUpdate
âœ“ runs query to update db (5 ms)
âœ“ runs query to update db if updateKey is not in columns (1 ms)
âœ“ runs query to update db with cast as updateKey
âœ“ runs query to update db with cast in target columns (1 ms)
pgInsert
âœ“ runs query to insert (1 ms)
âœ“ runs query to insert with type casting (1 ms)
2025-04-15T08:44:07.5367834Z
PASS nodes/Airtop/test/node/interaction/type.test.ts
Test Airtop, type operation
âœ“ should execute type with minimal parameters (4 ms)
âœ“ should throw error when 'text' parameter is empty (15 ms)
âœ“ should include 'elementDescription' parameter when specified (1 ms)
âœ“ should include 'pressEnterKey' parameter when specified
âœ“ should include 'waitForNavigation' parameter when specified (1 ms)
âœ“ should include 'visualScope' parameter when specified
2025-04-15T08:44:07.5368893Z
PASS nodes/HttpRequest/test/node/HttpRequest.test.ts
Test HTTP Request Node
âœ“ nodes/HttpRequest/test/node/workflow.delete (635 ms)
âœ“ nodes/HttpRequest/test/node/workflow.get (23 ms)
âœ“ nodes/HttpRequest/test/node/workflow.pagination (547 ms)
âœ“ nodes/HttpRequest/test/node/workflow.patch (6 ms)
âœ“ nodes/HttpRequest/test/node/workflow.post (12 ms)
âœ“ nodes/HttpRequest/test/node/workflow.put (6 ms)
âœ“ nodes/HttpRequest/test/node/workflow.use_error_output (6 ms)
2025-04-15T08:44:07.5370115Z
PASS nodes/Microsoft/AzureCosmosDb/test/container/getAll.test.ts
Azure Cosmos DB - Get All Containers
âœ“ nodes/Microsoft/AzureCosmosDb/test/container/getAll.workflow (578 ms)
2025-04-15T08:44:07.5370529Z
PASS nodes/Google/Sheet/test/v2/node/delete.test.ts
Google Sheet - Delete
âœ“ should delete a single row (4 ms)
âœ“ should delete multiple rows (1 ms)
âœ“ should delete a single column
âœ“ should delete multiple columns (1 ms)
âœ“ should return wrapped success response
2025-04-15T08:44:07.5371252Z
PASS nodes/Schedule/test/ScheduleTrigger.node.test.ts
ScheduleTrigger
trigger
âœ“ should emit on defined schedule (31 ms)
âœ“ should emit on schedule defined as a cron expression (12 ms)
âœ“ should throw on invalid cron expressions (2 ms)
âœ“ should emit when manually executed (1 ms)
âœ“ should throw on invalid cron expressions in manual mode
2025-04-15T08:44:07.5372115Z
PASS nodes/HighLevel/v2/test/ContactIdentifierPreSendAction.test.ts
contactIdentifierPreSendAction
âœ“ should add email to requestOptions.body if identifier is a valid email (3 ms)
âœ“ should add phone to requestOptions.body if identifier is a valid phone
âœ“ should add contactId to requestOptions.body if identifier is neither email nor phone (1 ms)
âœ“ should use updateFields.contactIdentifier if contactIdentifier is not provided
âœ“ should initialize body as an empty object if it is undefined (1 ms)
2025-04-15T08:44:07.5373494Z
PASS nodes/Set/test/v2/raw.test.ts
test Set2, rawMode/json Mode
fixed mode
âœ“ should parse json with the jsonOutput in node parameter and compose a return item (5 ms)
expression mode
âœ“ should parse json with resolved expression data and compose a return item (1 ms)
error handling
âœ“ should return an error object with pairedItem when continueOnFail is true (1 ms)
âœ“ should throw an error when continueOnFail is false (14 ms)
2025-04-15T08:44:07.5374562Z
PASS nodes/Microsoft/AzureCosmosDb/test/listSearch/listSearch.test.ts
Azure Cosmos DB
List search
âœ“ should list search containers (8 ms)
âœ“ should list search items (1 ms)
2025-04-15T08:44:07.5375056Z
PASS credentials/test/Aws.credentials.test.ts
Aws Credential
âœ“ should have correct properties (3 ms)
authenticate
âœ“ should call sign with correct parameters (1 ms)
âœ“ should return correct options with custom endpoint
âœ“ should return correct options with temporary credentials (1 ms)
âœ“ should return correct options for a global AWS service
2025-04-15T08:44:07.5375931Z
PASS nodes/Google/Drive/test/v2/node/file/upload.test.ts
test GoogleDriveV2: file upload
âœ“ should upload buffers (4 ms)
âœ“ should stream large files in 2MB chunks (41 ms)
2025-04-15T08:44:07.5376447Z
PASS nodes/Microsoft/Teams/test/v2/node/task/getAll.test.ts
Test MicrosoftTeamsV2, task => getAll
âœ“ nodes/Microsoft/Teams/test/v2/node/task/getAll.workflow (1056 ms)
2025-04-15T08:44:07.5376840Z
PASS nodes/ExecuteWorkflow/ExecuteWorkflow/ExecuteWorkflow.node.test.ts
ExecuteWorkflow
âœ“ should execute workflow in "each" mode and wait for sub-workflow completion (3 ms)
âœ“ should execute workflow in "once" mode and not wait for sub-workflow completion
âœ“ should handle errors and continue on fail (1 ms)
âœ“ should throw error if not continuing on fail (14 ms)
2025-04-15T08:44:07.5377710Z
PASS nodes/Linear/test/GenericFunctions.test.ts
Linear -> GenericFunctions
linearApiRequest
âœ“ should make a successful API request (3 ms)
âœ“ should handle API request errors (9 ms)
capitalizeFirstLetter
âœ“ should capitalize the first letter of a string
âœ“ should return an empty string if input is empty (1 ms)
âœ“ should handle single character strings
âœ“ should not change the case of the rest of the string
sort
âœ“ should sort objects by name in ascending order (1 ms)
âœ“ should handle case insensitivity
âœ“ should return 0 for objects with the same name
2025-04-15T08:44:07.5379229Z
PASS nodes/Splunk/test/v2/node/user.test.ts
Splunk, user resource
âœ“ create operation (4 ms)
âœ“ deleteUser operation
âœ“ get operation (1 ms)
âœ“ getAll operation (1 ms)
âœ“ update operation (6 ms)
2025-04-15T08:44:07.5379791Z
PASS nodes/Baserow/__tests__/GenericFunctions.test.ts
Baserow > GenericFunctions
baserowApiRequest
âœ“ should return data on success (3 ms)
âœ“ should throw NodeApiError on failure (13 ms)
baserowApiRequestAllItems
âœ“ should accumulate all pages (1 ms)
getJwtToken
âœ“ should return a token
âœ“ should throw NodeApiError if request fails (1 ms)
getFieldNamesAndIds
âœ“ should return field names and ids
toOptions
âœ“ should map items to options (1 ms)
TableFieldMapper
âœ“ should create name-to-id and id-to-name mappings
2025-04-15T08:44:07.5381224Z
PASS nodes/Webflow/test/GenericFunctions.test.ts
Webflow -> webflowApiRequestAllItems
âœ“ should return all items for type version 1 (3 ms)
âœ“ should return all items for type version 2
Webflow -> webflowApiRequest
âœ“ should use live in the url for v2 when live is true
âœ“ should skip live in the url for v2 when live is false (1 ms)
2025-04-15T08:44:07.5382100Z
PASS nodes/Google/Sheet/test/v2/actions/spreadsheet/delete.operation.test.ts
GoogleSheetsDeleteSpreadsheet
âœ“ should successfully delete a spreadsheet (3 ms)
âœ“ should handle multiple input items (1 ms)
âœ“ should handle API errors gracefully (12 ms)
âœ“ should validate document ID parameter
Resource Locator Modes
âœ“ should handle list mode correctly (1 ms)
âœ“ should handle URL mode correctly (1 ms)
âœ“ should handle ID mode correctly (1 ms)
2025-04-15T08:44:07.5383208Z
PASS nodes/Splunk/test/v2/node/report.test.ts
Splunk, report resource
âœ“ create operation (10 ms)
âœ“ deleteReport operation
âœ“ get operation (1 ms)
âœ“ getAll operation
2025-04-15T08:44:07.5383697Z
PASS nodes/Peekalink/test/Peekalink.node.test.ts
Peekalink Node
âœ“ should run isAvailable operation (85 ms)
âœ“ should run preview operation (7 ms)
2025-04-15T08:44:07.5384177Z
PASS nodes/TheHiveProject/test/transport.test.ts
Test TheHiveProject, theHiveApiQuery
âœ“ should make list query request (4 ms)
âœ“ should make get query request
âœ“ should make return count query request (12 ms)
âœ“ should set limit to query request
2025-04-15T08:44:07.5384784Z
PASS nodes/Discord/test/v2/utils.test.ts
Test Discord > createSimplifyFunction
âœ“ should create function (3 ms)
âœ“ should return object containing only specified fields (1 ms)
Test Discord > prepareOptions
âœ“ should return correct flag value (1 ms)
âœ“ should convert message_reference
Test Discord > prepareEmbeds
âœ“ should return return empty object removing empty strings (1 ms)
Test Discord > checkAccessToGuild
âœ“ should throw error (18 ms)
âœ“ should pass (1 ms)
Test Discord > setupChannelGetter & checkAccessToChannel
âœ“ should setup channel getter and get channel id
2025-04-15T08:44:07.5386182Z
PASS nodes/TheHiveProject/test/utils.test.ts
Test TheHiveProject, splitAndTrim
âœ“ should split and trim string, removing empty entries (49 ms)
âœ“ should return unchanged array
Test TheHiveProject, fixFieldType
âœ“ should split and trim tags (1 ms)
âœ“ should convert date strings to milis
Test TheHiveProject, prepareInputItem
âœ“ should return object with fields present in schema (1 ms)
Test TheHiveProject, constructFilter
âœ“ should add default operator _eq
âœ“ should return filter _gte
âœ“ should return filter _in
âœ“ should return filter _between (1 ms)
2025-04-15T08:44:07.5387662Z
PASS nodes/Google/Sheet/test/v2/methods/resourceMapping.test.ts
Google Sheets, getMappingColumns
âœ“ should map columns and add row number for update operation (4 ms)
âœ“ should map columns and add row number for appendOrUpdate operation (1 ms)
2025-04-15T08:44:07.5388219Z
console.warn
Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
Arguments:
[0] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: invalid-date, _f: undefined, _strict: undefined, _locale: [object Object]
Error:
at Function.createFromInputFallback (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:324:25)
at configFromString (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
at configFromInput (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
at prepareConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
at createFromConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
at createLocalOrUTC (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
at createLocal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
at hooks (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
at /home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Google/Calendar/GenericFunctions.ts:287:31
at Array.some (<anonymous>)
at some (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Google/Calendar/GenericFunctions.ts:282:14)
at Object.<anonymous> (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Google/Calendar/test/GeneircFunctions.test.ts:80:43)
at Promise.then.completed (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:300:28)
at new Promise (<anonymous>)
at callAsyncCircusFn (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:233:10)
at _callCircusTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:315:40)
at processTicksAndRejections (node:internal/process/task_queues:95:5)
at _runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:251:3)
at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:125:9)
at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:120:9)
at run (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:70:3)
at runAndTransformResultsToJestFormat (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
at jestAdapter (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
at runTestInternal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:367:16)
at runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:444:34)
at Object.worker (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/testWorker.js:106:12)
2025-04-15T08:44:07.5395723Z
[0m [90m 285 |[39m 		[36mconst[39m eventStart [33m=[39m event[33m.[39mstart[33m.[39mdateTime [33m||[39m event[33m.[39mstart[33m.[39mdate[33m;[39m
[90m 286 |[39m
[31m[1m>[22m[39m[90m 287 |[39m 		[36mconst[39m eventDateTime [33m=[39m moment(eventStart)[33m.[39mtz(timezone)[33m;[39m
[90m     |[39m 		                            [31m[1m^[22m[39m
[90m 288 |[39m 		[36mif[39m ([33m![39meventDateTime[33m.[39misValid()) [36mreturn[39m [36mfalse[39m[33m;[39m
[90m 289 |[39m
[90m 290 |[39m 		[36mconst[39m targetYear [33m=[39m eventDateTime[33m.[39myear()[33m;[39m[0m
2025-04-15T08:44:07.5397167Z
at warn (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:287:21)
at Function.createFromInputFallback (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:319:17)
at configFromString (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
at configFromInput (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
at prepareConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
at createFromConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
at createLocalOrUTC (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
at createLocal (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
at hooks (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
at nodes/Google/Calendar/GenericFunctions.ts:287:31
at Array.some (<anonymous>)
at some (nodes/Google/Calendar/GenericFunctions.ts:282:14)
at Object.<anonymous> (nodes/Google/Calendar/test/GeneircFunctions.test.ts:80:43)
2025-04-15T08:44:07.5399267Z
PASS nodes/Google/Calendar/test/GeneircFunctions.test.ts
addTimezoneToDate
âœ“ should add timezone to date (18 ms)
dateObjectToISO
âœ“ should return ISO string for DateTime instance (9 ms)
âœ“ should return ISO string for Date instance (1 ms)
âœ“ should return string when input is not a DateTime or Date instance
eventExtendYearIntoFuture
âœ“ should return true if any event extends into the next year
âœ“ should return false if no event extends into the next year (1 ms)
âœ“ should return false for invalid event start dates (35 ms)
âœ“ should return false for events without a recurringEventId
âœ“ should handle events with only a date and no time
2025-04-15T08:44:07.5400909Z
PASS nodes/Microsoft/Storage/test/blob/get.test.ts
Azure Storage Node
should get blob
âœ“ nodes/Microsoft/Storage/test/workflows/blob_get.workflow (81 ms)
2025-04-15T08:44:07.5401358Z
PASS nodes/HighLevel/v2/test/HighLevelApiRequest.test.ts
GenericFunctions - highLevelApiRequest
âœ“ should make a successful request with all parameters (3 ms)
âœ“ should default to the base URL when no custom URL is provided (1 ms)
âœ“ should remove the body property if it is empty
âœ“ should remove the query string property if it is empty (1 ms)
2025-04-15T08:44:07.5402177Z
PASS nodes/HighLevel/v2/test/AddLocationIdPreSendAction.test.ts
addLocationIdPreSendAction
âœ“ should add locationId to query parameters for contact getAll operation (5 ms)
âœ“ should add locationId to the body for contact create operation (1 ms)
âœ“ should add locationId to query parameters for opportunity getAll operation
âœ“ should add locationId to the body for opportunity create operation
âœ“ should not modify requestOptions if no resource or operation matches
2025-04-15T08:44:07.5403346Z
PASS nodes/HighLevel/v2/test/AddNotePostReceiveAction.test.ts
GenericFunctions - highLevelApiRequest
âœ“ should make a successful request with all parameters (10 ms)
âœ“ should default to the base URL when no custom URL is provided
âœ“ should remove the body property if it is empty (1 ms)
âœ“ should remove the query string property if it is empty
2025-04-15T08:44:07.5404157Z
PASS nodes/Airtop/test/node/window/takeScreenshot.test.ts
Test Airtop, take screenshot operation
âœ“ should take screenshot successfully (5 ms)
âœ“ should transform screenshot to binary data (1 ms)
âœ“ should throw error when sessionId is empty (18 ms)
âœ“ should throw error when windowId is empty
2025-04-15T08:44:07.5404841Z
PASS nodes/Google/Sheet/test/v2/node/clear.test.ts
Google Sheet - Clear
âœ“ should clear the whole sheet (4 ms)
âœ“ should clear specific rows (1 ms)
âœ“ should clear specific columns
âœ“ should clear a specific range (7 ms)
âœ“ should keep the first row when clearing the whole sheet
2025-04-15T08:44:07.5405544Z
PASS nodes/Google/Sheet/test/v2/node/create.test.ts
Google Sheet - Create
âœ“ should create a new sheet with given title and options (3 ms)
âœ“ should skip creating a sheet if the title already exists (1 ms)
2025-04-15T08:44:07.5406258Z
PASS nodes/Pipedrive/test/PipedriveTrigger.node.test.ts
PipedriveTrigger
Webhook Methods
checkExists
âœ“ should return true if webhook already exists (5 ms)
âœ“ should return false if no matching webhook exists (1 ms)
create
âœ“ should create a webhook successfully (1 ms)
2025-04-15T08:44:07.5407128Z
PASS nodes/Google/BusinessProfile/test/HandleDatesPresend.test.ts
GenericFunctions - handleDatesPresend
âœ“ should return options unchanged if no date-time parameters are provided (3 ms)
âœ“ should merge startDateTime parameter into event schedule
âœ“ should merge startDate and endDateTime parameters into event schedule (1 ms)
âœ“ should merge additional options into event schedule
âœ“ should modify the body with event schedule containing only date (1 ms)
2025-04-15T08:44:07.5408185Z
PASS nodes/WriteBinaryFile/test/WriteBinaryFile.test.ts
Test Write Binary File Node
âœ“ nodes/WriteBinaryFile/test/WriteBinaryFile.workflow.json (243 ms)
2025-04-15T08:44:07.5408564Z
PASS nodes/Microsoft/Outlook/test/v2/node/draft/create.test.ts
Test MicrosoftOutlookV2, draft => create
âœ“ nodes/Microsoft/Outlook/test/v2/node/draft/create.workflow (246 ms)
2025-04-15T08:44:07.5408972Z
PASS nodes/N8nTrigger/test/trigger.test.ts
N8nTrigger
trigger
âœ“ should emit event when activation mode matches selected events (5 ms)
âœ“ should not emit event when activation mode does not match selected events
âœ“ should return manual trigger function
âœ“ should emit correct event for instance started
âœ“ should emit correct event for workflow updated (1 ms)
description
âœ“ should have correct properties
âœ“ should have required properties configuration (1 ms)
2025-04-15T08:44:07.5410175Z
PASS nodes/Airtop/test/node/interaction/hover.test.ts
Test Airtop, hover operation
âœ“ should execute hover with minimal parameters (3 ms)
âœ“ should throw error when 'elementDescription' parameter is empty (20 ms)
âœ“ should include 'visualScope' parameter when specified (1 ms)
âœ“ should include 'waitForNavigation' parameter when specified
2025-04-15T08:44:07.5410978Z
PASS nodes/Google/Sheet/test/v2/node/appendOrUpdate.test.ts
Google Sheet - Append or Update
âœ“ should insert input data if sheet is empty (7 ms)
2025-04-15T08:44:07.5411368Z
PASS nodes/Elastic/Elasticsearch/tests/GenericFunctions.test.ts
Elasticsearch -> elasticsearchApiRequest
âœ“ should make a successful GET API request (3 ms)
âœ“ should make a successful POST API request (1 ms)
âœ“ should handle API request errors (11 ms)
âœ“ should ignore trailing slashes in the base URL (1 ms)
2025-04-15T08:44:07.5412198Z
PASS nodes/Airtop/test/node/interaction/click.test.ts
Test Airtop, click operation
âœ“ should execute click with minimal parameters (5 ms)
âœ“ should throw error when 'elementDescription' parameter is empty (32 ms)
âœ“ should include 'visualScope' parameter when specified (1 ms)
âœ“ should include 'waitForNavigation' parameter when specified (1 ms)
2025-04-15T08:44:07.5413118Z
PASS nodes/Jira/test/node.methods.test.ts
Jira Node, methods
listSearch.getCustomFields
âœ“ should call correct endpoint and return custom fields for server version (4 ms)
âœ“ should call correct endpoint and return custom fields for cloud version
2025-04-15T08:44:07.5413726Z
PASS nodes/HighLevel/v2/test/TaskUpdatePreSendAction.test.ts
taskUpdatePreSendAction
âœ“ should not modify requestOptions if title and dueDate are provided (4 ms)
âœ“ should fetch missing title and dueDate from the API (14 ms)
âœ“ should only fetch title if dueDate is provided
âœ“ should only fetch dueDate if title is provided (1 ms)
2025-04-15T08:44:07.5414511Z
PASS nodes/Form/test/formNodeUtils.test.ts
formNodeUtils
âœ“ should sanitize custom html (5 ms)
2025-04-15T08:44:07.5414781Z
PASS nodes/Google/Sheet/test/v2/node/remove.test.ts
Google Sheet - Remove
âœ“ should process a single item (4 ms)
âœ“ should process multiple items
2025-04-15T08:44:07.5415165Z
PASS nodes/RssFeedRead/test/RssFeedRead.test.ts
RssFeedReadTrigger
poll
âœ“ should throw an error if the feed URL is empty (9 ms)
âœ“ should return new items from the feed (1 ms)
âœ“ should gracefully handle missing timestamps (1 ms)
âœ“ should return null if the feed is empty
2025-04-15T08:44:07.5415883Z
PASS nodes/MoveBinaryData/test/MoveBinaryData.test.ts
Test Move Binary Data Node
âœ“ nodes/MoveBinaryData/test/MoveBinaryData.workflow.json (349 ms)
2025-04-15T08:44:07.5416238Z
PASS nodes/Google/Chat/test/genericFunctions.test.ts
Test GoogleChat, googleApiRequest
âœ“ should call requestWithAuthentication when authentication set to OAuth2 (4 ms)
âœ“ should call request when authentication set to serviceAccount (1 ms)
âœ“ should call request when noCredentials equals true (3 ms)
2025-04-15T08:44:07.5416940Z
PASS nodes/Microsoft/Outlook/test/v2/node/message/reply.test.ts
Test MicrosoftOutlookV2, message => reply
âœ“ nodes/Microsoft/Outlook/test/v2/node/message/reply.workflow (221 ms)
2025-04-15T08:44:07.5417359Z
PASS nodes/Google/Drive/test/v2/node/fileFolder/search.test.ts
test GoogleDriveV2: fileFolder search
âœ“ returnAll = false (4 ms)
âœ“ returnAll = true (1 ms)
2025-04-15T08:44:07.5417764Z
PASS nodes/Merge/test/v3/utils.test.ts
rowToExecutionData
âœ“ should return empty json and pairedItem when input is empty (5 ms)
âœ“ should separate json properties and pairedItem properties
âœ“ should ignore undefined pairedItem values
âœ“ should handle only json properties without pairedItem (1 ms)
modifySelectQuery
âœ“ should return the original query if no SELECT match is found
âœ“ should return the original query if SELECT * is used
âœ“ should append pairedItem columns when input tables exist
âœ“ should handle multiple input tables correctly
âœ“ should not modify query if no input tables are found (1 ms)
2025-04-15T08:44:07.5419402Z
PASS nodes/ReadBinaryFile/test/ReadBinaryFile.test.ts
Test Read Binary File Node
âœ“ nodes/ReadBinaryFile/test/ReadBinaryFile.workflow.json (25 ms)
2025-04-15T08:44:07.5419764Z
PASS nodes/Airtable/test/v2/node/record/create.test.ts
Test AirtableV2, create operation
âœ“ should create a record, autoMapInputData (4 ms)
âœ“ should create a record, defineBelow
2025-04-15T08:44:07.5420190Z
PASS nodes/Discord/test/v2/node/message/sendAndWait.test.ts
Test DiscordV2, message => sendAndWait
âœ“ should send message and put execution to wait (7 ms)
2025-04-15T08:44:07.5420541Z
PASS nodes/Microsoft/Outlook/test/v2/node/message/sendAndWait.test.ts
Test MicrosoftOutlookV2, message => sendAndWait
âœ“ should send message and put execution to wait (5 ms)
2025-04-15T08:44:07.5420943Z
PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/getAll.test.ts
Test MicrosoftTeamsV2, chatMessage => getAll
âœ“ nodes/Microsoft/Teams/test/v2/node/chatMessage/getAll.workflow (150 ms)
2025-04-15T08:44:07.5421451Z
PASS nodes/Google/BusinessProfile/test/HandlePagination.test.ts
GenericFunctions - handlePagination
âœ“ should stop fetching when the limit is reached and returnAll is false (17 ms)
âœ“ should handle empty results (1 ms)
âœ“ should fetch all items when returnAll is true (1 ms)
2025-04-15T08:44:07.5422098Z
PASS nodes/Telegram/tests/node/sendAndWait.operation.test.ts
Test Telegram, message => sendAndWait
âœ“ should send message and put execution to wait (6 ms)
2025-04-15T08:44:07.5422458Z
PASS utils/__tests__/binary.test.ts
convertJsonToSpreadsheetBinary
for fileFormat xlsx
âœ“ should convert from JSON (5 ms)
for fileFormat csv
âœ“ should convert from JSON (1 ms)
âœ“ should handle custom delimiter (1 ms)
2025-04-15T08:44:07.5423057Z
PASS nodes/Airtable/test/v2/node/record/search.test.ts
Test AirtableV2, search operation
âœ“ should return all records (4 ms)
âœ“ should return all records
2025-04-15T08:44:07.5423445Z
PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/sendAndWait.test.ts
Test MicrosoftTeamsV2, chatMessage => sendAndWait
âœ“ should send message and put execution to wait (8 ms)
2025-04-15T08:44:07.5423961Z
PASS nodes/Transform/Summarize/test/unitTests/splitData.test.ts
Test Summarize Node, aggregateAndSplitData
âœ“ should not convert strings to numbers (5 ms)
âœ“ should not convert numbers to strings (1 ms)
with skipEmptySplitFields=true
âœ“ should skip empty split fields (1 ms)
2025-04-15T08:44:07.5424720Z
PASS nodes/EvaluationMetrics/EvaluationMetrics.node.test.ts
EvaluationMetrics Node
execute
âœ“ should output the defined metrics (16 ms)
âœ“ should handle no metrics defined
âœ“ should convert string values to numbers (1 ms)
âœ“ should throw error for non-numeric string values (9 ms)
2025-04-15T08:44:07.5425456Z
PASS nodes/HighLevel/v2/test/HighLevelApiPagination.test.ts
highLevelApiPagination
âœ“ should paginate and return all items when returnAll is true (18 ms)
âœ“ should return only the first page of items when returnAll is false (1 ms)
âœ“ should handle cases with no items
2025-04-15T08:44:07.5426127Z
PASS nodes/Airtop/test/node/window/load.test.ts
Test Airtop, window load operation
âœ“ should load URL with minimal parameters (4 ms)
âœ“ should throw error when URL is empty (29 ms)
âœ“ should throw error when URL is invalid (1 ms)
âœ“ should include 'waitUntil' parameter when specified (1 ms)
2025-04-15T08:44:07.5426830Z
PASS nodes/Google/Chat/test/node/sendAndWait.operation.test.ts
Test GoogleChat, message => sendAndWait
âœ“ should send message and put execution to wait (13 ms)
2025-04-15T08:44:07.5427192Z
PASS nodes/EmailSend/test/v2/sendAndWait.operation.test.ts
Test EmailSendV2, email => sendAndWait
âœ“ should send message and put execution to wait (6 ms)
2025-04-15T08:44:07.5427557Z
PASS nodes/Google/BusinessProfile/test/GoogleApiRequest.test.ts
googleApiRequest
âœ“ should make a GET request and return data (3 ms)
âœ“ should make a POST request with body and return data (1 ms)
âœ“ should remove the body for GET requests
âœ“ should throw NodeApiError on API failure (15 ms)
2025-04-15T08:44:07.5428283Z
PASS nodes/Airtop/test/node/session/save.test.ts
Test Airtop, session save operation
âœ“ should save a profile on session termination successfully (4 ms)
âœ“ should throw error when sessionId is empty (8 ms)
âœ“ should throw error when sessionId is whitespace (1 ms)
âœ“ should throw error when profileName is empty (1 ms)
âœ“ should throw error when profileName is whitespace (1 ms)
2025-04-15T08:44:07.5429169Z
PASS nodes/WhatsApp/tests/utils.test.ts
sanitizePhoneNumber
âœ“ should remove hyphens, parentheses, and plus signs from the phone number (3 ms)
âœ“ should return an empty string if input is empty
âœ“ should return the same number if no special characters are present
âœ“ should handle numbers with spaces correctly (not removing them)
createMessage
âœ“ should return a valid HTTP request object (1 ms)
âœ“ should handle a single option correctly (1 ms)
2025-04-15T08:44:07.5430452Z
PASS nodes/Microsoft/Storage/test/blob/getAll.test.ts
Azure Storage Node
should get all blobs
âœ“ nodes/Microsoft/Storage/test/workflows/blob_getAll.workflow (92 ms)
2025-04-15T08:44:07.5430973Z
PASS nodes/Kafka/Kafka.node.test.ts
Kafka Node
âœ“ nodes/Kafka/test/workflow (314 ms)
âœ“ should publish the correct kafka messages (2 ms)
2025-04-15T08:44:07.5431403Z
PASS nodes/Slack/test/v2/node/channel/getAll.test.ts
Test SlackV2, channel => getAll
âœ“ nodes/Slack/test/v2/node/channel/getAll.workflow (148 ms)
2025-04-15T08:44:07.5431755Z
error message from node
PASS nodes/StopAndError/test/node/StopAndError.test.ts
Execute Stop and Error Node
âœ“ should run stopAndError node (180 ms)
2025-04-15T08:44:07.5432131Z
PASS nodes/HighLevel/v2/test/AddCustomFieldsPreSendAction.test.ts
addCustomFieldsPreSendAction
âœ“ should format custom fields correctly when provided (5 ms)
âœ“ should not modify request body if customFields is not provided (1 ms)
âœ“ should handle customFields with empty values (1 ms)
2025-04-15T08:44:07.5432826Z
PASS nodes/Google/Drive/test/v2/utils.test.ts
test GoogleDriveV2, prepareQueryString
âœ“ should return id, name (4 ms)
âœ“ should return * (37 ms)
âœ“ should return string joined by , (1 ms)
test GoogleDriveV2, setFileProperties
âœ“ should return empty object
âœ“ should return object with properties (1 ms)
âœ“ should return object with appProperties
test GoogleDriveV2, setUpdateCommonParams
âœ“ should return empty object
âœ“ should return qs with params
2025-04-15T08:44:07.5433996Z
PASS nodes/Microsoft/OneDrive/test/node/file.download.test.ts
Test MicrosoftOneDrive, file > download
âœ“ should call helpers.httpRequest when request to /drive/items/{fileId}/content fails (5 ms)
2025-04-15T08:44:07.5434446Z
PASS nodes/Transform/Summarize/test/unitTests/execute.test.ts
Test Summarize Node, execute
âœ“ should handle field not found with hints if version > 1 (5 ms)
âœ“ should throw error if node version is < 1.1 and fields not found (18 ms)
2025-04-15T08:44:07.5435006Z
PASS nodes/QuickChart/test/QuickChart.node.test.ts
Test QuickChart Node
âœ“ nodes/QuickChart/test/QuickChart.workflow.json (361 ms)
2025-04-15T08:44:07.5435330Z
PASS nodes/If/test/v2/IfV2.node.test.ts
Test IF v2 Node Tests
Test IF v2 Node Workflow Tests
âœ“ nodes/If/test/v2/IfV2.boolean (240 ms)
âœ“ nodes/If/test/v2/IfV2.date-time (16 ms)
âœ“ nodes/If/test/v2/IfV2.number (5 ms)
âœ“ nodes/If/test/v2/IfV2.other (7 ms)
âœ“ nodes/If/test/v2/IfV2.string (6 ms)
Test IF V2 Node Unit Tests
âœ“ should return items if continue on fail is true
âœ“ should throw an error if continue on fail is false and if there is an error (7 ms)
âœ“ should assign a paired item if paired item is undefined
2025-04-15T08:44:07.5436829Z
PASS nodes/MySql/test/v1/GenericFunctions.test.ts
MySQL / v1 / Generic Functions
searchTables
âœ“ should return matching tables (3 ms)
âœ“ should handle empty search query
âœ“ should handle database errors (3 ms)
2025-04-15T08:44:07.5437402Z
PASS nodes/Google/Sheet/test/v2/node/read.test.ts
Google Sheet - Read
âœ“ should return structured sheet data when no filters are applied (4 ms)
âœ“ should call lookupValues when filters are provided
âœ“ should return an empty array when sheet data is empty (1 ms)
2025-04-15T08:44:07.5438043Z
PASS nodes/Microsoft/Storage/test/container/getAll.test.ts
Azure Storage Node
should get all containers
âœ“ nodes/Microsoft/Storage/test/workflows/container_getAll.workflow (89 ms)
2025-04-15T08:44:07.5438503Z
PASS nodes/QuickBooks/__tests__/GenericFunctions.test.ts
processLines
âœ“ should process AccountBasedExpenseLineDetail for bill resource (2 ms)
âœ“ should process ItemBasedExpenseLineDetail for bill resource
âœ“ should process SalesItemLineDetail for estimate resource
âœ“ should process SalesItemLineDetail for invoice resource with Qty
âœ“ should process SalesItemLineDetail for invoice resource without Qty (1 ms)
2025-04-15T08:44:07.5439547Z
PASS nodes/HighLevel/v2/test/DateTimeToEpochPreSendAction.test.ts
dateTimeToEpochPreSendAction
âœ“ should convert startDate and endDate to epoch time (5 ms)
âœ“ should convert only startDate if endDate is not provided (1 ms)
âœ“ should convert only endDate if startDate is not provided
âœ“ should not modify requestOptions if neither startDate nor endDate are provided (1 ms)
âœ“ should not modify requestOptions if qs is undefined (5 ms)
2025-04-15T08:44:07.5440604Z
PASS nodes/Microsoft/Storage/test/blob/create.test.ts
Azure Storage Node
should create blob
âœ“ nodes/Microsoft/Storage/test/workflows/blob_create.workflow (127 ms)
2025-04-15T08:44:07.5441097Z
PASS nodes/Github/__tests__/node/Github.dispatchAndWait.node.test.ts
Test Github Node - Dispatch and Wait
Workflow Dispatch and Wait
âœ“ nodes/Github/__tests__/node/GithubDispatchAndWaitWorkflow (88 ms)
2025-04-15T08:44:07.5441585Z
PASS nodes/RssFeedRead/test/node/RssFeedRead.test.ts
Test RSS Feed Trigger Node
âœ“ nodes/RssFeedRead/test/node/workflow.rss (214 ms)
2025-04-15T08:44:07.5442023Z
PASS nodes/Google/Drive/test/v2/node/file/createFromText.test.ts
test GoogleDriveV2: file createFromText
âœ“ should be called with (8 ms)
2025-04-15T08:44:07.5442351Z
PASS nodes/Microsoft/Outlook/test/v2/node/contact/update.test.ts
Test MicrosoftOutlookV2, contact => update
âœ“ nodes/Microsoft/Outlook/test/v2/node/contact/update.workflow (203 ms)
2025-04-15T08:44:07.5442885Z
PASS nodes/MQTT/test/Mqtt.node.test.ts
MQTT Node
âœ“ should publish input data (4 ms)
âœ“ should publish a custom message (1 ms)
2025-04-15T08:44:07.5443251Z
PASS nodes/WhatsApp/tests/node/sendAndWait.test.ts
Test WhatsApp Business Cloud, sendAndWait operation
âœ“ should send message and put execution to wait (5 ms)
2025-04-15T08:44:07.5443603Z
PASS nodes/Google/BusinessProfile/test/AddUpdateMask.test.ts
GenericFunctions - addUpdateMask
âœ“ should add updateMask with mapped properties to the query string (2 ms)
âœ“ should handle empty additionalOptions and not add updateMask
âœ“ should include unmapped properties in the updateMask
âœ“ should merge updateMask with existing query string (1 ms)
2025-04-15T08:44:07.5444429Z
PASS nodes/HighLevel/v2/test/GetPipelineStages.test.ts
getPipelineStages
âœ“ should return pipeline stages for create operation (3 ms)
âœ“ should return pipeline stages for update operation
âœ“ should return an empty array if pipeline is not found (1 ms)
2025-04-15T08:44:07.5445048Z
PASS nodes/Notion/test/node/v2/databasePage/create.test.ts
Test NotionV2, databasePage => create
âœ“ nodes/Notion/test/node/v2/databasePage/create.workflow (115 ms)
2025-04-15T08:44:07.5445430Z
PASS nodes/Google/BusinessProfile/test/SearchReviews.test.ts
GenericFunctions - searchReviews
âœ“ should return reviews with filtering (3 ms)
âœ“ should handle empty results
âœ“ should handle pagination (1 ms)
2025-04-15T08:44:07.5445951Z
PASS nodes/ICalendar/test/node/ICalendar.test.ts
Execute iCalendar Node
âœ“ nodes/ICalendar/test/node/workflow.iCalendar.json (214 ms)
2025-04-15T08:44:07.5446480Z
PASS nodes/HighLevel/v2/test/SplitTagsPreSendAction.test.ts
splitTagsPreSendAction
âœ“ should return requestOptions unchanged if tags are already an array (3 ms)
âœ“ should split a comma-separated string of tags into an array
âœ“ should trim whitespace around tags when splitting a string
âœ“ should return requestOptions unchanged if tags are not provided (1 ms)
âœ“ should return requestOptions unchanged if body is undefined
2025-04-15T08:44:07.5447485Z
PASS nodes/EmailReadImap/test/v2/utils.test.ts
Test IMap V2 utils
getNewEmails
âœ“ should return new emails (4 ms)
2025-04-15T08:44:07.5447819Z
PASS nodes/Postgres/test/v2/resourceMapping.test.ts
Postgres, resourceMapping
âœ“ should mark id as not required if identity_generation is "BY_DEFAULT" (3 ms)
2025-04-15T08:44:07.5448182Z
PASS nodes/Airtable/test/v2/node/record/update.test.ts
Test AirtableV2, update operation
âœ“ should update a record by id, autoMapInputData (3 ms)
âœ“ should update a record by field name, autoMapInputData (1 ms)
2025-04-15T08:44:07.5448776Z
PASS nodes/ExecuteWorkflow/ExecuteWorkflowTrigger/ExecuteWorkflowTrigger.node.test.ts
ExecuteWorkflowTrigger
âœ“ should return its input data on V1 or V1.1 passthrough (3 ms)
âœ“ should filter out parent input in `Using Fields below` mode (1 ms)
2025-04-15T08:44:07.5449366Z
PASS nodes/GraphQL/test/GraphQL.node.test.ts
GraphQL Node
âœ“ nodes/GraphQL/test/workflow.error_invalid_expression (281 ms)
âœ“ nodes/GraphQL/test/workflow (20 ms)
2025-04-15T08:44:07.5449783Z
PASS nodes/Discord/test/v2/node/channel/getAll.test.ts
Test DiscordV2, channel => getAll
âœ“ nodes/Discord/test/v2/node/channel/getAll.workflow (408 ms)
2025-04-15T08:44:07.5450150Z
PASS nodes/Google/BusinessProfile/test/SearchPosts.test.ts
GenericFunctions - searchPosts
âœ“ should return posts with filtering (4 ms)
âœ“ should handle empty results
âœ“ should handle pagination
2025-04-15T08:44:07.5450665Z
PASS nodes/Google/Sheet/test/v2/node/append.test.ts
Google Sheet - Append
âœ“ should insert input data if sheet is empty (5 ms)
2025-04-15T08:44:07.5450974Z
PASS nodes/Google/BusinessProfile/test/SearchLocations.test.ts
GenericFunctions - searchLocations
âœ“ should return locations with filtering (3 ms)
âœ“ should handle empty results
âœ“ should handle pagination (1 ms)
2025-04-15T08:44:07.5451565Z
PASS nodes/Microsoft/Storage/test/credentials/oauth2.test.ts
Azure Storage Node
should use correct oauth2 credentials
âœ“ nodes/Microsoft/Storage/test/workflows/credentials_oauth2.workflow (93 ms)
2025-04-15T08:44:07.5452135Z
PASS nodes/HighLevel/v2/test/TaskPostReceiceAction.test.ts
taskPostReceiceAction
âœ“ should add contactId to each item in items (10 ms)
âœ“ should not modify other fields in items (1 ms)
âœ“ should return an empty array if items is empty
2025-04-15T08:44:07.5452717Z
PASS nodes/Microsoft/Teams/test/v2/node/task/create.test.ts
Test MicrosoftTeamsV2, task => create
âœ“ nodes/Microsoft/Teams/test/v2/node/task/create.workflow (143 ms)
2025-04-15T08:44:07.5453111Z
PASS nodes/HighLevel/v2/test/DueDatePreSendAction.test.ts
dueDatePreSendAction
âœ“ should add formatted dueDate to requestOptions.body if dueDate is provided directly (13 ms)
âœ“ should add formatted dueDate to requestOptions.body if dueDate is provided in updateFields
âœ“ should initialize body as an empty object if it is undefined (1 ms)
2025-04-15T08:44:07.5453936Z
PASS nodes/Airtop/test/node/window/close.test.ts
Test Airtop, window close operation
âœ“ should close a window successfully (7 ms)
âœ“ should throw error when sessionId is empty (13 ms)
âœ“ should throw error when windowId is empty (1 ms)
2025-04-15T08:44:07.5454571Z
console.log
Error adding next occurrence RRULE:FREQ=DAILY;UNTIL=20240805T000000Z
2025-04-15T08:44:07.5454762Z
at log (nodes/Google/Calendar/GenericFunctions.ts:203:13)
2025-04-15T08:44:07.5454885Z
PASS nodes/Google/Calendar/test/addNextOccurrence.test.ts
addNextOccurrence
âœ“ should not modify event if no recurrence exists (3 ms)
âœ“ should handle event with no RRULE correctly
âœ“ should ignore recurrence if until date is in the past (75 ms)
âœ“ should handle errors gracefully without breaking and return unchanged event (1 ms)
2025-04-15T08:44:07.5455682Z
PASS nodes/Airtable/test/v2/node/base/getMany.test.ts
Test AirtableV2, base => getMany
âœ“ should return all bases (4 ms)
âœ“ should return one base with edit permission (1 ms)
2025-04-15T08:44:07.5456116Z
PASS nodes/ReadBinaryFiles/test/ReadBinaryFiles.test.ts
Test Read Binary Files Node
âœ“ nodes/ReadBinaryFiles/test/ReadBinaryFiles.workflow.json (40 ms)
2025-04-15T08:44:07.5456483Z
PASS nodes/Microsoft/Outlook/test/v2/node/contact/create.test.ts
Test MicrosoftOutlookV2, contact => create
âœ“ nodes/Microsoft/Outlook/test/v2/node/contact/create.workflow (197 ms)
2025-04-15T08:44:07.5456905Z
PASS nodes/Transform/Summarize/test/unitTests/checkIfFieldExists.test.ts
Test Summarize Node, checkIfFieldExists
âœ“ should not throw error if all fields exist (5 ms)
âœ“ should throw NodeOperationError if any field does not exist (11 ms)
âœ“ should throw NodeOperationError with error message containing the field name that doesn't exist
âœ“ should not throw error if field is empty string
2025-04-15T08:44:07.5457805Z
PASS nodes/Telegram/tests/Workflow/workflow.test.ts
Telegram
Run Telegram workflow
âœ“ nodes/Telegram/tests/Workflow/workflow (323 ms)
2025-04-15T08:44:07.5458260Z
PASS nodes/Google/BusinessProfile/test/SearchAccounts.test.ts
GenericFunctions - searchAccounts
âœ“ should return accounts with filtering (3 ms)
âœ“ should handle empty results (1 ms)
âœ“ should handle pagination
2025-04-15T08:44:07.5458808Z
PASS nodes/Microsoft/Teams/test/v2/node/channelMessage/getAll.test.ts
Test MicrosoftTeamsV2, channelMessage => getAll
âœ“ nodes/Microsoft/Teams/test/v2/node/channelMessage/getAll.workflow (154 ms)
2025-04-15T08:44:07.5459268Z
PASS nodes/Google/Drive/test/v2/node/file/move.test.ts
test GoogleDriveV2: file move
âœ“ should be called with (4 ms)
2025-04-15T08:44:07.5459569Z
PASS nodes/Microsoft/AzureCosmosDb/test/item/update.test.ts
Azure Cosmos DB - Update Item
âœ“ nodes/Microsoft/AzureCosmosDb/test/item/update.workflow (79 ms)
2025-04-15T08:44:07.5459948Z
PASS nodes/Microsoft/Teams/test/v2/node/channel/getAll.test.ts
Test MicrosoftTeamsV2, channel => getAll
âœ“ nodes/Microsoft/Teams/test/v2/node/channel/getAll.workflow (141 ms)
2025-04-15T08:44:07.5460441Z
PASS nodes/HighLevel/v2/test/ValidEmailAndPhonePreSendAction.test.ts
validEmailAndPhonePreSendAction
âœ“ should return requestOptions unchanged if email and phone are valid (3 ms)
âœ“ should not modify requestOptions if no email or phone is provided
âœ“ should not modify requestOptions if body is undefined
2025-04-15T08:44:07.5461223Z
PASS nodes/Microsoft/AzureCosmosDb/test/container/create.test.ts
Azure Cosmos DB - Create Container
âœ“ nodes/Microsoft/AzureCosmosDb/test/container/create.workflow (82 ms)
2025-04-15T08:44:07.5461630Z
PASS nodes/HighLevel/v2/test/IsEmailValid.test.ts
isEmailValid
âœ“ should return true for a valid email address (3 ms)
âœ“ should return false for an invalid email address
âœ“ should return true for an email address with subdomain
âœ“ should return false for an email address without a domain (1 ms)
âœ“ should return false for an email address without a username
âœ“ should return true for an email address with a plus sign
âœ“ should return false for an email address with invalid characters
âœ“ should return false for an email address without a top-level domain
âœ“ should return true for an email address with a valid top-level domain
âœ“ should return false for an empty email string (1 ms)
2025-04-15T08:44:07.5463248Z
PASS nodes/EmailReadImap/test/v2/EmailReadImapV2.node.test.ts
Test IMap V2
âœ“ should run return a close function on success (5 ms)
2025-04-15T08:44:07.5463576Z
PASS nodes/Microsoft/AzureCosmosDb/test/item/get.test.ts
Azure Cosmos DB - Get Item
âœ“ nodes/Microsoft/AzureCosmosDb/test/item/get.workflow (90 ms)
2025-04-15T08:44:07.5464012Z
PASS nodes/Airtable/test/v2/utils.test.ts
test AirtableV2, removeIgnored
âœ“ should remove ignored fields (4 ms)
âœ“ should return the same data if ignore field does not present
âœ“ should return the same data if empty string (1 ms)
test AirtableV2, findMatches
âœ“ should find match
âœ“ should find all matches
2025-04-15T08:44:07.5464790Z
PASS nodes/MQTT/test/GenericFunctions.test.ts
createClient
âœ“ should create a client with minimal credentials (5 ms)
âœ“ should reject with ApplicationError on connection error and close connection (12 ms)
2025-04-15T08:44:07.5465292Z
PASS nodes/Google/Drive/test/v2/node/folder/deleteFolder.test.ts
test GoogleDriveV2: folder deleteFolder
âœ“ should be called with PATCH (3 ms)
âœ“ should be called with DELETE
2025-04-15T08:44:07.5465715Z
PASS nodes/Airtop/test/node/interaction/helpers.test.ts
Test Airtop interaction helpers
constructInteractionRequest
âœ“ should construct basic request with default values (3 ms)
âœ“ should include 'visualScope' parameter when specified
âœ“ should include 'waitForNavigation' parameter when specified
âœ“ should merge additional parameters (1 ms)
2025-04-15T08:44:07.5466652Z
PASS nodes/Code/test/utils.test.ts
addPostExecutionWarning
âœ“ should add execution hints when returnData length differs from inputItemsLength (4 ms)
âœ“ should add execution hints when any item has undefined pairedItem
âœ“ should not add execution hints when all items match inputItemsLength and have defined pairedItem (1 ms)
2025-04-15T08:44:07.5467439Z
PASS nodes/Notion/test/node/v2/page/create.test.ts
Test NotionV2, page => create
âœ“ nodes/Notion/test/node/v2/page/create.workflow (111 ms)
2025-04-15T08:44:07.5467766Z
PASS nodes/Airtop/test/node/session/terminate.test.ts
Test Airtop, session terminate operation
âœ“ should terminate a session successfully (6 ms)
âœ“ should throw error when sessionId is empty (25 ms)
âœ“ should throw error when sessionId is whitespace
2025-04-15T08:44:07.5468361Z
PASS nodes/Microsoft/AzureCosmosDb/test/item/create.test.ts
Azure Cosmos DB - Create Item
âœ“ nodes/Microsoft/AzureCosmosDb/test/item/create.workflow (102 ms)
2025-04-15T08:44:07.5468743Z
PASS nodes/Microsoft/Storage/test/blob/getAllLimitOptions.test.ts
Azure Storage Node
should get all blobs with limit and options
âœ“ nodes/Microsoft/Storage/test/workflows/blob_getAllLimitOptions.workflow (87 ms)
2025-04-15T08:44:07.5469259Z
PASS nodes/Microsoft/AzureCosmosDb/test/item/getAll.test.ts
Azure Cosmos DB - Get All Items
âœ“ nodes/Microsoft/AzureCosmosDb/test/item/getAll.workflow (82 ms)
2025-04-15T08:44:07.5469738Z
PASS nodes/Code/test/JsCodeValidator.test.ts
JsCodeValidator
validateNoDisallowedMethodsInRunForEach
âœ“ should not throw error if disallow method is used within single line comments (4 ms)
âœ“ should not throw error if disallow method is used in single multi line comments
âœ“ should not throw error if disallow method is used within multi line comments (1 ms)
âœ“ should throw error if disallow method is used (9 ms)
2025-04-15T08:44:07.5470705Z
PASS nodes/Notion/test/node/v2/databasePage/getAll.test.ts
Test NotionV2, databasePage => getAll
âœ“ nodes/Notion/test/node/v2/databasePage/getAll.workflow (130 ms)
2025-04-15T08:44:07.5471138Z
PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/get.test.ts
Test MicrosoftTeamsV2, chatMessage => get
âœ“ nodes/Microsoft/Teams/test/v2/node/chatMessage/get.workflow (147 ms)
2025-04-15T08:44:07.5471557Z
PASS nodes/Microsoft/Teams/test/v2/node/task/get.test.ts
Test MicrosoftTeamsV2, task => get
âœ“ nodes/Microsoft/Teams/test/v2/node/task/get.workflow (156 ms)
2025-04-15T08:44:07.5472019Z
PASS nodes/Spotify/__tests__/GenericFunctions.test.ts
Spotify -> GenericFunctions
âœ“ should make a request with the correct options (4 ms)
âœ“ should throw a NodeApiError on request failure (6 ms)
2025-04-15T08:44:07.5472480Z
PASS utils/workflowInputsResourceMapping/__tests__/GenericFunctions.test.ts
getWorkflowInputValues
âœ“ should correctly map the binary property (5 ms)
2025-04-15T08:44:07.5472852Z
PASS nodes/Wordpress/__tests__/GenericFunctions.test.ts
Wordpress > GenericFunctions
wordpressApiRequest
âœ“ should make a successful request (5 ms)
âœ“ should throw NodeApiError on failure (8 ms)
wordpressApiRequestAllItems
âœ“ should accumulate all pages (1 ms)
2025-04-15T08:44:07.5473531Z
PASS nodes/Microsoft/Excel/test/v2/node/table/lookup.test.ts
Test MicrosoftExcelV2, table => lookup
âœ“ nodes/Microsoft/Excel/test/v2/node/table/lookup.workflow (1252 ms)
2025-04-15T08:44:07.5473925Z
PASS nodes/Google/Drive/test/v2/node/drive/list.test.ts
test GoogleDriveV2: drive list
âœ“ should be called with limit (3 ms)
âœ“ should be called with returnAll true
2025-04-15T08:44:07.5474336Z
PASS nodes/Code/test/JsTaskRunnerSandbox.test.ts
JsTaskRunnerSandbox
runCodeForEachItem
âœ“ should chunk the input items and execute the code for each chunk (23 ms)
2025-04-15T08:44:07.5474753Z
PASS nodes/Google/Drive/test/v2/node/file/copy.test.ts
test GoogleDriveV2: file copy
âœ“ should be called with (5 ms)
2025-04-15T08:44:07.5475053Z
PASS nodes/Google/Drive/test/v2/node/file/share.test.ts
test GoogleDriveV2: file share
âœ“ should be called with (5 ms)
2025-04-15T08:44:07.5475443Z
PASS nodes/Transform/RemoveDuplicates/test/RemoveDuplicates.test.ts
Test Remove Duplicates Node
âœ“ nodes/Transform/RemoveDuplicates/test/workflow.removeDuplicates (237 ms)
Test Remove Duplicates Node, validateInputData util
âœ“ Should throw error for version 1 (11 ms)
âœ“ Should ignore null values and not throw error for version grater than 1 (1 ms)
âœ“ Should throw error for different types, version grater than 1
2025-04-15T08:44:07.5476408Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/upsert.test.ts
Test MicrosoftExcelV2, worksheet => upsert
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/upsert.workflow (170 ms)
2025-04-15T08:44:07.5476825Z
PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/create.test.ts
Test MicrosoftTeamsV2, chatMessage => create
âœ“ nodes/Microsoft/Teams/test/v2/node/chatMessage/create.workflow (155 ms)
2025-04-15T08:44:07.5477265Z
PASS nodes/Microsoft/Teams/test/v2/node/channelMessage/create.test.ts
Test MicrosoftTeamsV2, channelMessage => create
âœ“ nodes/Microsoft/Teams/test/v2/node/channelMessage/create.workflow (166 ms)
2025-04-15T08:44:07.5477802Z
PASS nodes/Notion/test/node/v2/page/search.test.ts
Test NotionV2, page => search
âœ“ nodes/Notion/test/node/v2/page/search.workflow (115 ms)
2025-04-15T08:44:07.5478129Z
PASS nodes/Notion/test/node/v2/databasePage/update.test.ts
Test NotionV2, databasePage => update
âœ“ nodes/Notion/test/node/v2/databasePage/update.workflow (127 ms)
2025-04-15T08:44:07.5478521Z
PASS nodes/Microsoft/Storage/test/container/getAllLimitOptions.test.ts
Azure Storage Node
should get all containers with limit and options
âœ“ nodes/Microsoft/Storage/test/workflows/container_getAllLimitOptions.workflow (94 ms)
2025-04-15T08:44:07.5479073Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/update.test.ts
Test MicrosoftExcelV2, worksheet => update
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/update.workflow (180 ms)
2025-04-15T08:44:07.5479495Z
PASS nodes/Oura/test/oura.node.test.ts
Oura
ouraApiRequest
âœ“ should make an authenticated API request to Oura (5 ms)
Run Oura workflow
âœ“ nodes/Oura/test/oura_test_workflow (210 ms)
2025-04-15T08:44:07.5480021Z
PASS nodes/Github/__tests__/node/Github.webhook.test.ts
Github Node - Webhook Method
âœ“ should process webhook request and return workflowData (4 ms)
2025-04-15T08:44:07.5480374Z
PASS nodes/Google/Drive/test/v2/node/drive/create.test.ts
test GoogleDriveV2: drive create
âœ“ should be called with (3 ms)
2025-04-15T08:44:07.5480677Z
PASS nodes/Microsoft/Outlook/test/v2/node/calendar/getAll.test.ts
Test MicrosoftOutlookV2, calendar => getAll
âœ“ nodes/Microsoft/Outlook/test/v2/node/calendar/getAll.workflow (197 ms)
2025-04-15T08:44:07.5481142Z
PASS nodes/Microsoft/AzureCosmosDb/test/container/get.test.ts
Azure Cosmos DB - Get Container
âœ“ nodes/Microsoft/AzureCosmosDb/test/container/get.workflow (75 ms)
2025-04-15T08:44:07.5481667Z
PASS nodes/Microsoft/AzureCosmosDb/test/item/delete.test.ts
Azure Cosmos DB - Delete Item
âœ“ nodes/Microsoft/AzureCosmosDb/test/item/delete.workflow (80 ms)
2025-04-15T08:44:07.5482052Z
PASS nodes/Notion/test/node/v2/page/archive.test.ts
Test NotionV2, page => archive
âœ“ nodes/Notion/test/node/v2/page/archive.workflow (113 ms)
2025-04-15T08:44:07.5482382Z
PASS nodes/Notion/test/node/v2/database/get.test.ts
Test NotionV2, database => get
âœ“ nodes/Notion/test/node/v2/database/get.workflow (92 ms)
2025-04-15T08:44:07.5482717Z
PASS nodes/Notion/test/node/v2/databasePage/get.test.ts
Test NotionV2, databasePage => get
âœ“ nodes/Notion/test/node/v2/databasePage/get.workflow (101 ms)
2025-04-15T08:44:07.5483077Z
PASS nodes/Google/Drive/test/v2/node/file/download.test.ts
test GoogleDriveV2: file download
âœ“ should be called with (8 ms)
2025-04-15T08:44:07.5483473Z
PASS nodes/Google/Drive/test/v2/node/file/update.test.ts
test GoogleDriveV2: file update
âœ“ should be called with (3 ms)
2025-04-15T08:44:07.5483775Z
PASS nodes/Slack/test/v2/node/message/update.test.ts
Test SlackV2, message => update
âœ“ nodes/Slack/test/v2/node/message/update.workflow (143 ms)
2025-04-15T08:44:07.5484118Z
PASS nodes/Slack/test/v2/node/message/post.test.ts
Test SlackV2, message => post
âœ“ nodes/Slack/test/v2/node/message/post.workflow (137 ms)
2025-04-15T08:44:07.5484437Z
PASS nodes/Discord/test/v2/node/message/send.test.ts
Test DiscordV2, message => send
âœ“ nodes/Discord/test/v2/node/message/send.workflow (158 ms)
2025-04-15T08:44:07.5484785Z
PASS nodes/MySql/test/v1/executeQuery.test.ts
Test MySqlV1, executeQuery
âœ“ nodes/MySql/test/v1/executeQuery.workflow (499 ms)
2025-04-15T08:44:07.5485081Z
PASS nodes/Postgres/test/v2/runQueries.test.ts
Test PostgresV2, runQueries
âœ“ should execute, should return success true (14 ms)
2025-04-15T08:44:07.5485374Z
PASS nodes/Baserow/__tests__/workflow/workflow.test.ts
Baserow > Workflows
Run workflow
âœ“ nodes/Baserow/__tests__/workflow/workflow (344 ms)
2025-04-15T08:44:07.5485750Z
PASS nodes/Google/Drive/test/v2/node/folder/share.test.ts
test GoogleDriveV2: folder share
âœ“ should be called with (5 ms)
2025-04-15T08:44:07.5486156Z
PASS nodes/Webhook/test/Webhook.test.ts
Test Webhook Node
âœ“ nodes/Webhook/test/Webhook.formdata.test (10 ms)
handleFormData
âœ“ should handle when no files are present (2 ms)
âœ“ should handle when files are present (1 ms)
2025-04-15T08:44:07.5486933Z
PASS nodes/Airtable/test/v2/node/base/getSchema.test.ts
Test AirtableV2, base => getSchema
âœ“ should return all bases (5 ms)
2025-04-15T08:44:07.5487234Z
PASS nodes/Google/Drive/test/v2/node/folder/create.test.ts
test GoogleDriveV2: folder create
âœ“ should be called with (4 ms)
2025-04-15T08:44:07.5487536Z
PASS nodes/HighLevel/v2/test/GetContacts.test.ts
getContacts
âœ“ should return a list of contacts (4 ms)
âœ“ should handle empty contacts list
2025-04-15T08:44:07.5487919Z
PASS nodes/HighLevel/v2/test/GetUsers.test.ts
getUsers
âœ“ should return a list of users (4 ms)
âœ“ should handle empty users list
2025-04-15T08:44:07.5488271Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/append.test.ts
Test MicrosoftExcelV2, worksheet => append
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/append.workflow (172 ms)
2025-04-15T08:44:07.5488693Z
PASS nodes/Microsoft/Outlook/test/v2/node/calendar/create.test.ts
Test MicrosoftOutlookV2, calendar => create
âœ“ nodes/Microsoft/Outlook/test/v2/node/calendar/create.workflow (227 ms)
2025-04-15T08:44:07.5489231Z
PASS nodes/HighLevel/v2/test/GetPipelines.test.ts
getPipelines
âœ“ should return a list of pipelines (3 ms)
âœ“ should handle empty pipelines list
2025-04-15T08:44:07.5489610Z
PASS nodes/Google/Sheet/test/GoogleSheetsTrigger.test.ts
GoogleSheetsTrigger
rowAdded event
âœ“ should return rows without header (51 ms)
2025-04-15T08:44:07.5489974Z
PASS nodes/Microsoft/Storage/test/container/get.test.ts
Azure Storage Node
should get container
âœ“ nodes/Microsoft/Storage/test/workflows/container_get.workflow (85 ms)
2025-04-15T08:44:07.5490406Z
PASS nodes/Splunk/test/v2/node/alert.test.ts
Splunk, alert resource
âœ“ getMetrics operation (3 ms)
âœ“ getReport operation (1 ms)
2025-04-15T08:44:07.5490764Z
PASS nodes/Google/BigQuery/test/v2/node/insert.autoMapMode.test.ts
Test Google BigQuery V2, insert auto map
âœ“ nodes/Google/BigQuery/test/v2/node/insert.autoMapMode.workflow (719 ms)
2025-04-15T08:44:07.5491250Z
PASS nodes/Microsoft/Excel/test/v2/node/table/getRows.test.ts
Test MicrosoftExcelV2, table => getRows
âœ“ nodes/Microsoft/Excel/test/v2/node/table/getRows.workflow (87 ms)
2025-04-15T08:44:07.5491639Z
PASS nodes/Discord/test/v2/node/message/getAll.test.ts
Test DiscordV2, message => getAll
âœ“ nodes/Discord/test/v2/node/message/getAll.workflow (162 ms)
2025-04-15T08:44:07.5491990Z
PASS nodes/Airtable/test/v2/node/record/get.test.ts
Test AirtableV2, create operation
âœ“ should create a record, autoMapInputData (5 ms)
2025-04-15T08:44:07.5492299Z
PASS nodes/Microsoft/Outlook/test/v2/node/folder/create.test.ts
Test MicrosoftOutlookV2, contact => folder
âœ“ nodes/Microsoft/Outlook/test/v2/node/folder/create.workflow (232 ms)
2025-04-15T08:44:07.5492806Z
PASS nodes/Microsoft/Outlook/test/v2/node/calendar/update.test.ts
Test MicrosoftOutlookV2, calendar => update
âœ“ nodes/Microsoft/Outlook/test/v2/node/calendar/update.workflow (200 ms)
2025-04-15T08:44:07.5493239Z
PASS nodes/Google/Drive/test/v2/node/drive/update.test.ts
test GoogleDriveV2: drive update
âœ“ should be called with (4 ms)
2025-04-15T08:44:07.5493543Z
PASS nodes/Google/BigQuery/test/v2/node/insert.manualMode.test.ts
Test Google BigQuery V2, insert define manually
âœ“ nodes/Google/BigQuery/test/v2/node/insert.manualMode.workflow (98 ms)
2025-04-15T08:44:07.5493976Z
PASS nodes/Totp/test/Totp.node.test.ts
Execute TOTP node
âœ“ Generate TOTP Token (189 ms)
2025-04-15T08:44:07.5494226Z
PASS nodes/Google/YouTube/__test__/GenericFunctions.test.ts
validateAndSetDate
âœ“ should convert a valid ISO date and set it with the specified timezone (15 ms)
âœ“ should throw NodeOperationError for an invalid date (6 ms)
2025-04-15T08:44:07.5494871Z
PASS nodes/Brandfetch/test/GenericFunctions.test.ts
Brandfetch
brandfetchApiRequest
âœ“ should make an authenticated API request to Brandfetch (3 ms)
2025-04-15T08:44:07.5495261Z
PASS nodes/Google/Drive/test/v2/node/file/deleteFile.test.ts
test GoogleDriveV2: file deleteFile
âœ“ should be called with (3 ms)
2025-04-15T08:44:07.5495590Z
PASS nodes/WhatsApp/tests/utils.trigger.test.ts
filterStatuses
âœ“ returns events with no statuses when allowedStatuses is empty (4 ms)
âœ“ returns all events when 'all' is in allowedStatuses
âœ“ filters events correctly when specific statuses are provided (1 ms)
âœ“ returns only event with matching status
âœ“ returns unchanged event when allowedStatuses is undefined (1 ms)
2025-04-15T08:44:07.5496491Z
PASS nodes/Slack/test/v2/node/channel/get.test.ts
Test SlackV2, channel => get
âœ“ nodes/Slack/test/v2/node/channel/get.workflow (154 ms)
2025-04-15T08:44:07.5496816Z
PASS nodes/HighLevel/v2/test/DateToIsoSuperssMillis.test.ts
dateToIsoSupressMillis
âœ“ should return an ISO string without milliseconds (UTC) (12 ms)
âœ“ should handle dates without milliseconds correctly
âœ“ should handle time zone offsets correctly (1 ms)
âœ“ should handle edge case for empty input
âœ“ should handle edge case for null input (1 ms)
2025-04-15T08:44:07.5497655Z
PASS nodes/Slack/test/v2/node/channel/create.test.ts
Test SlackV2, channel => create
âœ“ nodes/Slack/test/v2/node/channel/create.workflow (145 ms)
2025-04-15T08:44:07.5497996Z
PASS nodes/Microsoft/Outlook/test/v2/node/calendar/get.test.ts
Test MicrosoftOutlookV2, calendar => get
âœ“ nodes/Microsoft/Outlook/test/v2/node/calendar/get.workflow (203 ms)
2025-04-15T08:44:07.5498488Z
PASS nodes/Microsoft/Storage/test/container/create.test.ts
Azure Storage Node
should create container
âœ“ nodes/Microsoft/Storage/test/workflows/container_create.workflow (79 ms)
2025-04-15T08:44:07.5498950Z
PASS nodes/Start/__tests__/StartNode.test.ts
Execute Start Node
âœ“ should run start node (123 ms)
2025-04-15T08:44:07.5499204Z
PASS nodes/Cron/test/Cron.node.test.ts
Cron Node
âœ“ should return a function to trigger (3 ms)
2025-04-15T08:44:07.5499471Z
PASS nodes/Microsoft/Excel/test/v2/node/table/append.test.ts
Test MicrosoftExcelV2, table => append
âœ“ nodes/Microsoft/Excel/test/v2/node/table/append.workflow (109 ms)
2025-04-15T08:44:07.5499863Z
PASS nodes/Discord/test/v2/node/webhook/sendLegacy.test.ts
Test DiscordV2, webhook => sendLegacy
âœ“ nodes/Discord/test/v2/node/webhook/sendLegacy.workflow (319 ms)
2025-04-15T08:44:07.5500241Z
PASS nodes/Microsoft/Teams/test/v2/node/channel/get.test.ts
Test MicrosoftTeamsV2, channel => get
âœ“ nodes/Microsoft/Teams/test/v2/node/channel/get.workflow (142 ms)
2025-04-15T08:44:07.5500717Z
PASS nodes/Google/BigQuery/test/v2/node/executeQuery.test.ts
Test Google BigQuery V2, executeQuery
âœ“ nodes/Google/BigQuery/test/v2/node/executeQuery.workflow (92 ms)
2025-04-15T08:44:07.5501150Z
PASS nodes/Discord/test/v2/node/member/getAll.test.ts
Test DiscordV2, member => getAll
âœ“ nodes/Discord/test/v2/node/member/getAll.workflow (187 ms)
2025-04-15T08:44:07.5501499Z
PASS nodes/Google/Drive/test/v2/node/drive/get.test.ts
test GoogleDriveV2: drive get
âœ“ should be called with (3 ms)
2025-04-15T08:44:07.5501796Z
PASS nodes/Notion/test/node/v2/user/getAll.test.ts
Test NotionV2, user => getAll
âœ“ nodes/Notion/test/node/v2/user/getAll.workflow (104 ms)
2025-04-15T08:44:07.5502127Z
PASS nodes/Aws/S3/test/V2/AwsS3.node.test.ts
Test S3 V2 Node
File Upload
âœ“ nodes/Aws/S3/test/V2/AwsS3.file.upload.V2.workflow (843 ms)
2025-04-15T08:44:07.5502503Z
PASS nodes/Google/Drive/test/v2/node/drive/deleteDrive.test.ts
test GoogleDriveV2: drive deleteDrive
âœ“ should be called with (4 ms)
2025-04-15T08:44:07.5502826Z
PASS nodes/Aws/S3/test/V1/AwsS3.node.test.ts
Test S3 V1 Node
File Upload
âœ“ nodes/Aws/S3/test/V1/AwsS3.file.upload.V1.workflow (373 ms)
2025-04-15T08:44:07.5503199Z
PASS nodes/Wordpress/__tests__/workflow/post/post.test.ts
Wordpress > Post Workflows
âœ“ nodes/Wordpress/__tests__/workflow/post/post.workflow (410 ms)
2025-04-15T08:44:07.5503555Z
PASS nodes/Microsoft/AzureCosmosDb/test/item/query.test.ts
Azure Cosmos DB - Query Items
âœ“ nodes/Microsoft/AzureCosmosDb/test/item/query.workflow (97 ms)
2025-04-15T08:44:07.5504010Z
PASS nodes/Wordpress/__tests__/workflow/user/user.test.ts
Wordpress > User Workflows
âœ“ nodes/Wordpress/__tests__/workflow/user/user.workflow (82 ms)
2025-04-15T08:44:07.5504355Z
PASS nodes/HighLevel/v2/test/IsPhoneValid.test.ts
isPhoneValid
âœ“ should return true for a valid phone number (3 ms)
âœ“ should return false for an invalid phone number
âœ“ should return false for a phone number with invalid characters (1 ms)
âœ“ should return false for an empty phone number
âœ“ should return false for a phone number with only special characters
2025-04-15T08:44:07.5505233Z
PASS nodes/Microsoft/Teams/test/v2/node/channel/create.test.ts
Test MicrosoftTeamsV2, channel => create
âœ“ nodes/Microsoft/Teams/test/v2/node/channel/create.workflow (137 ms)
2025-04-15T08:44:07.5505627Z
The API Key connection was deprecated by Airtable, please use Access Token or OAuth2 instead.
PASS nodes/Airtable/test/v2/node/record/deleteRecord.test.ts
Test AirtableV2, deleteRecord operation
âœ“ should delete a record (4 ms)
2025-04-15T08:44:07.5506254Z
PASS nodes/Airtable/test/Airtable.node.test.ts
Execute Airtable Node
âœ“ List Airtable Records (723 ms)
2025-04-15T08:44:07.5506517Z
PASS nodes/Microsoft/Storage/test/container/delete.test.ts
Azure Storage Node
should delete container
âœ“ nodes/Microsoft/Storage/test/workflows/container_delete.workflow (105 ms)
2025-04-15T08:44:07.5506974Z
PASS nodes/Wordpress/__tests__/workflow/page/page.test.ts
Wordpress > Page Workflows
âœ“ nodes/Wordpress/__tests__/workflow/page/page.workflow (77 ms)
2025-04-15T08:44:07.5507321Z
PASS nodes/Microsoft/Storage/test/blob/delete.test.ts
Azure Storage Node
should delete blob
âœ“ nodes/Microsoft/Storage/test/workflows/blob_delete.workflow (88 ms)
2025-04-15T08:44:07.5507741Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/readRows.test.ts
Test MicrosoftExcelV2, worksheet => readRows
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/readRows.workflow (107 ms)
2025-04-15T08:44:07.5508173Z
PASS nodes/N8n/test/node/N8n.test.ts
Test N8n Node, expect base_url to be received from credentials
âœ“ nodes/N8n/test/node/workflow.n8n.workflows (438 ms)
2025-04-15T08:44:07.5508520Z
PASS nodes/Microsoft/Excel/test/v2/node/table/getColumns.test.ts
Test MicrosoftExcelV2, table => getColumns
âœ“ nodes/Microsoft/Excel/test/v2/node/table/getColumns.workflow (97 ms)
2025-04-15T08:44:07.5508936Z
PASS nodes/Npm/test/Npm.node.test.ts
Test npm Node
âœ“ nodes/Npm/test/Npm.workflow.test (389 ms)
2025-04-15T08:44:07.5509200Z
PASS nodes/Spotify/__tests__/workflow/workflow.test.ts
Spotify
Run workflow
âœ“ nodes/Spotify/__tests__/workflow/Spotify.workflow (380 ms)
2025-04-15T08:44:07.5509694Z
PASS nodes/Microsoft/Outlook/test/v2/node/folderMessage/getAll.test.ts
Test MicrosoftOutlookV2, folderMessage => getAll
âœ“ nodes/Microsoft/Outlook/test/v2/node/folderMessage/getAll.workflow (190 ms)
2025-04-15T08:44:07.5510176Z
PASS nodes/MailerLite/tests/v1/MailerLite.v1.workflow.test.ts
MailerLite
Run v1 workflow
âœ“ nodes/MailerLite/tests/v1/MailerLite.v1.workflow (284 ms)
2025-04-15T08:44:07.5510595Z
PASS nodes/Microsoft/Excel/test/v2/node/workbook/addWorksheet.test.ts
Test MicrosoftExcelV2, workbook => addWorksheet
âœ“ nodes/Microsoft/Excel/test/v2/node/workbook/addWorksheet.workflow (91 ms)
2025-04-15T08:44:07.5511102Z
PASS nodes/MailerLite/tests/v2/MailerLite.v2.workflow.test.ts
MailerLite
Run v2 workflow
âœ“ nodes/MailerLite/tests/v2/MailerLite.v2.workflow (84 ms)
2025-04-15T08:44:07.5511511Z
PASS nodes/Discord/test/v2/node/message/get.test.ts
Test DiscordV2, message => get
âœ“ nodes/Discord/test/v2/node/message/get.workflow (161 ms)
2025-04-15T08:44:07.5511938Z
PASS nodes/Aws/Comprehend/test/AwsComprehend.node.test.ts
Test AWS Comprehend Node
Detect Language
âœ“ nodes/Aws/Comprehend/test/AwsComprehendTestWorkflow (311 ms)
2025-04-15T08:44:07.5512353Z
PASS nodes/ExecutionData/test/ExecutionData.node.test.ts
ExecutionData Node
âœ“ should return its input data (3 ms)
ExecutionData -> Should run the workflow
âœ“ nodes/ExecutionData/test/ExecutionData.workflow (51 ms)
2025-04-15T08:44:07.5512893Z
PASS nodes/Microsoft/Excel/test/v2/node/table/addTable.test.ts
Test MicrosoftExcelV2, table => addTable
âœ“ nodes/Microsoft/Excel/test/v2/node/table/addTable.workflow (101 ms)
2025-04-15T08:44:07.5513307Z
PASS nodes/HttpRequest/test/binaryData/HttpRequest.test.ts
Test Binary Data Download
âœ“ nodes/HttpRequest/test/binaryData/binaryData.test (153 ms)
2025-04-15T08:44:07.5513657Z
PASS nodes/Microsoft/AzureCosmosDb/test/container/delete.test.ts
Azure Cosmos DB - Delete Container
âœ“ nodes/Microsoft/AzureCosmosDb/test/container/delete.workflow (79 ms)
2025-04-15T08:44:07.5514069Z
PASS nodes/Microsoft/Outlook/test/v2/node/draft/send.test.ts
Test MicrosoftOutlookV2, draft => send
âœ“ nodes/Microsoft/Outlook/test/v2/node/draft/send.workflow (207 ms)
2025-04-15T08:44:07.5514467Z
PASS nodes/PhilipsHue/test/workflow.test.ts
PhilipsHue
Run workflow
âœ“ nodes/PhilipsHue/test/workflow (258 ms)
2025-04-15T08:44:07.5514811Z
PASS nodes/Slack/test/v2/node/user/updateProfile.test.ts
Test SlackV2, user => updateProfile
âœ“ nodes/Slack/test/v2/node/user/updateProfile.workflow (170 ms)
2025-04-15T08:44:07.5515284Z
PASS nodes/Microsoft/Excel/test/v2/node/table/convertToRange.test.ts
Test MicrosoftExcelV2, table => convertToRange
âœ“ nodes/Microsoft/Excel/test/v2/node/table/convertToRange.workflow (78 ms)
2025-04-15T08:44:07.5515736Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/getAll.test.ts
Test MicrosoftExcelV2, worksheet => getAll
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/getAll.workflow (84 ms)
2025-04-15T08:44:07.5516165Z
PASS nodes/Microsoft/Teams/test/v2/node/task/update.test.ts
Test MicrosoftTeamsV2, task => update
âœ“ nodes/Microsoft/Teams/test/v2/node/task/update.workflow (160 ms)
2025-04-15T08:44:07.5516553Z
PASS nodes/Discord/test/v2/node/channel/get.test.ts
Test DiscordV2, channel => get
âœ“ nodes/Discord/test/v2/node/channel/get.workflow (347 ms)
2025-04-15T08:44:07.5516883Z
PASS nodes/HttpRequest/test/encodingQuoted/HttpRequest.test.ts
Test Quoted Response Encoding
âœ“ nodes/HttpRequest/test/encodingQuoted/encodingQuoted.test (70 ms)
2025-04-15T08:44:07.5517285Z
PASS nodes/Microsoft/Outlook/test/v2/node/message/move.test.ts
Test MicrosoftOutlookV2, message => move
âœ“ nodes/Microsoft/Outlook/test/v2/node/message/move.workflow (212 ms)
2025-04-15T08:44:07.5517795Z
PASS nodes/HttpRequest/test/encoding/HttpRequest.test.ts
Test Response Encoding
âœ“ nodes/HttpRequest/test/encoding/encoding.test (79 ms)
2025-04-15T08:44:07.5518139Z
PASS nodes/CompareDatasets/test/utils/utils.test.ts
Test Compare Datasets Node utils
âœ“ test checkInput (4 ms)
2025-04-15T08:44:07.5518425Z
PASS nodes/Files/ReadWriteFile/test/utils.test.ts
Read/Write Files from Disk, escapeSpecialCharacters
âœ“ should escape parentheses in a string (3 ms)
âœ“ should not modify strings that do not contain parentheses
2025-04-15T08:44:07.5518922Z
PASS nodes/Discord/test/v2/node/channel/create.test.ts
Test DiscordV2, channel => create
âœ“ nodes/Discord/test/v2/node/channel/create.workflow (156 ms)
2025-04-15T08:44:07.5519284Z
PASS nodes/Discord/test/v2/node/channel/update.test.ts
Test DiscordV2, channel => update
âœ“ nodes/Discord/test/v2/node/channel/update.workflow (154 ms)
2025-04-15T08:44:07.5519641Z
PASS nodes/Microsoft/Outlook/test/v2/node/message/send.test.ts
Test MicrosoftOutlookV2, message => send
âœ“ nodes/Microsoft/Outlook/test/v2/node/message/send.workflow (188 ms)
2025-04-15T08:44:07.5520031Z
PASS nodes/Stripe/__tests__/helpers.test.ts
adjustMetadata
âœ“ it should adjust multiple metadata values (3 ms)
2025-04-15T08:44:07.5520318Z
PASS nodes/Slack/test/v2/node/file/upload.test.ts
Test SlackV2, file => upload
âœ“ nodes/Slack/test/v2/node/file/upload.workflow (294 ms)
2025-04-15T08:44:07.5520643Z
PASS nodes/Crypto/test/Crypto.test.ts
Test Crypto Node
âœ“ nodes/Crypto/test/CryptoTest.workflow (304 ms)
2025-04-15T08:44:07.5521010Z
PASS nodes/Microsoft/Excel/test/v2/node/workbook/getAll.test.ts
Test MicrosoftExcelV2, workbook => getAll
âœ“ nodes/Microsoft/Excel/test/v2/node/workbook/getAll.workflow (86 ms)
2025-04-15T08:44:07.5521452Z
PASS nodes/SendGrid/test/SendGrid.node.test.ts
Test SendGrid Node
Mail
âœ“ nodes/SendGrid/test/mail.workflow (496 ms)
âœ“ should make the correct network calls
2025-04-15T08:44:07.5521903Z
PASS nodes/Microsoft/Teams/test/v2/node/task/deleteTask.test.ts
Test MicrosoftTeamsV2, task => deleteTask
âœ“ nodes/Microsoft/Teams/test/v2/node/task/deleteTask.workflow (168 ms)
2025-04-15T08:44:07.5522315Z
PASS nodes/Notion/test/node/v2/user/get.test.ts
Test NotionV2, user => get
âœ“ nodes/Notion/test/node/v2/user/get.workflow (122 ms)
2025-04-15T08:44:07.5522611Z
PASS nodes/Slack/test/v2/node/message/getPermalink.test.ts
Test SlackV2, message => getPermalink
âœ“ nodes/Slack/test/v2/node/message/getPermalink.workflow (171 ms)
2025-04-15T08:44:07.5523090Z
console.warn
Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
Arguments:
[0] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: 2023/04/11, _f: undefined, _strict: undefined, _locale: [object Object]
Error:
at Function.createFromInputFallback (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:324:25)
at configFromString (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
at configFromInput (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
at prepareConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
at createFromConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
at createLocalOrUTC (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
at createLocal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
at hooks (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
at ExecuteContext.parseDate (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/DateTime/V2/GenericFunctions.ts:47:41)
at ExecuteContext.call (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/DateTime/V2/DateTimeV2.node.ts:180:34)
at WorkflowExecute.runNode (/home/runner/_work/n8n/n8n/packages/core/src/execution-engine/workflow-execute.ts:1156:32)
at /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/workflow-execute.ts:1508:38
at /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/workflow-execute.ts:2065:11
2025-04-15T08:44:07.5527381Z
[0m [90m 45 |[39m 				parsedDate [33m=[39m [33mDateTime[39m[33m.[39mfromFormat(date [36mas[39m string[33m,[39m options[33m.[39mfromFormat)[33m;[39m
[90m 46 |[39m 			} [36melse[39m {
[31m[1m>[22m[39m[90m 47 |[39m 				parsedDate [33m=[39m [33mDateTime[39m[33m.[39mfromISO(moment(date)[33m.[39mtoISOString())[33m;[39m
[90m    |[39m 				                                    [31m[1m^[22m[39m
[90m 48 |[39m 			}
[90m 49 |[39m 		}
[90m 50 |[39m[0m
2025-04-15T08:44:07.5528475Z
at warn (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:287:21)
at Function.createFromInputFallback (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:319:17)
at configFromString (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
at configFromInput (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
at prepareConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
at createFromConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
at createLocalOrUTC (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
at createLocal (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
at hooks (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
at ExecuteContext.parseDate (nodes/DateTime/V2/GenericFunctions.ts:47:41)
at ExecuteContext.call (nodes/DateTime/V2/DateTimeV2.node.ts:180:34)
at WorkflowExecute.runNode (../core/src/execution-engine/workflow-execute.ts:1156:32)
at ../core/src/execution-engine/workflow-execute.ts:1508:38
at ../core/src/execution-engine/workflow-execute.ts:2065:11
2025-04-15T08:44:07.5530955Z
PASS nodes/DateTime/test/node/DateTime.test.ts
Test DateTime Node
âœ“ nodes/DateTime/test/node/DateTimeWorkflowV2 (554 ms)
âœ“ nodes/DateTime/test/node/DateTimeWorklfow.test (73 ms)
âœ“ nodes/DateTime/test/node/workflow.includeInputFields_v2 (44 ms)
âœ“ nodes/DateTime/test/node/workflow.luxonDateTime (11 ms)
âœ“ nodes/DateTime/test/node/workflow.nullDate_v2 (3 ms)
âœ“ nodes/DateTime/test/node/workflow.timestamp (6 ms)
âœ“ nodes/DateTime/test/node/workflow.timestamp_v2 (4 ms)
2025-04-15T08:44:07.5532147Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/clear.test.ts
Test MicrosoftExcelV2, worksheet => clear
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/clear.workflow (80 ms)
2025-04-15T08:44:07.5532560Z
PASS nodes/OpenWeatherMap/test/OpenWeatherMap.test.ts
OpenWeatherMap
Run OpenWeatherMap workflow
âœ“ nodes/OpenWeatherMap/test/workflow (202 ms)
2025-04-15T08:44:07.5532925Z
PASS nodes/Microsoft/Excel/test/v2/node/worksheet/deleteWorksheet.test.ts
Test MicrosoftExcelV2, worksheet => deleteWorksheet
âœ“ nodes/Microsoft/Excel/test/v2/node/worksheet/deleteWorksheet.workflow (80 ms)
2025-04-15T08:44:07.5533514Z
PASS nodes/Microsoft/Teams/test/v2/node/channel/update.test.ts
Test MicrosoftTeamsV2, channel => update
âœ“ nodes/Microsoft/Teams/test/v2/node/channel/update.workflow (135 ms)
2025-04-15T08:44:07.5533919Z
PASS nodes/Microsoft/Teams/test/v2/utils.test.ts
Test MicrosoftTeamsV2, filterSortSearchListItems
âœ“ should filter, sort and search list items (4 ms)
2025-04-15T08:44:07.5534249Z
PASS nodes/Microsoft/Excel/test/v2/node/table/deleteTable.test.ts
Test MicrosoftExcelV2, table => deleteTable
âœ“ nodes/Microsoft/Excel/test/v2/node/table/deleteTable.workflow (82 ms)
2025-04-15T08:44:07.5534671Z
PASS nodes/Microsoft/Teams/test/v2/node/channel/deleteChannel.test.ts
Test MicrosoftTeamsV2, channel => deleteChannel
âœ“ nodes/Microsoft/Teams/test/v2/node/channel/deleteChannel.workflow (142 ms)
2025-04-15T08:44:07.5535120Z
PASS nodes/Slack/test/v2/node/message/delete.test.ts
Test SlackV2, message => delete
âœ“ nodes/Slack/test/v2/node/message/delete.workflow (181 ms)
2025-04-15T08:44:07.5535553Z
PASS nodes/Microsoft/Outlook/test/v2/node/calendar/delete.test.ts
Test MicrosoftOutlookV2, calendar => delete
âœ“ nodes/Microsoft/Outlook/test/v2/node/calendar/delete.workflow (230 ms)
2025-04-15T08:44:07.5535970Z
PASS nodes/Discord/test/v2/node/member/roleRemove.test.ts
Test DiscordV2, member => roleRemove
âœ“ nodes/Discord/test/v2/node/member/roleRemove.workflow (208 ms)
2025-04-15T08:44:07.5536337Z
PASS nodes/Wait/test/Wait.node.test.ts
Execute Wait Node
âœ“ nodes/Wait/test/Wait.workflow (834 ms)
2025-04-15T08:44:07.5536611Z
PASS nodes/Discord/test/v2/node/message/react.test.ts
Test DiscordV2, message => react
âœ“ nodes/Discord/test/v2/node/message/react.workflow (165 ms)
2025-04-15T08:44:07.5536958Z
PASS nodes/Discord/test/v2/node/member/roleAdd.test.ts
Test DiscordV2, member => roleAdd
âœ“ nodes/Discord/test/v2/node/member/roleAdd.workflow (155 ms)
2025-04-15T08:44:07.5537317Z
PASS nodes/Discord/test/v2/node/message/deleteMessage.test.ts
Test DiscordV2, message => deleteMessage
âœ“ nodes/Discord/test/v2/node/message/deleteMessage.workflow (155 ms)
2025-04-15T08:44:07.5537723Z
PASS nodes/Microsoft/Excel/test/v2/node/workbook/deleteWorkbook.test.ts
Test MicrosoftExcelV2, workbook => deleteWorkbook
âœ“ nodes/Microsoft/Excel/test/v2/node/workbook/deleteWorkbook.workflow (89 ms)
2025-04-15T08:44:07.5538186Z
PASS nodes/Discord/test/v2/node/channel/deleteChannel.test.ts
Test DiscordV2, channel => deleteChannel
âœ“ nodes/Discord/test/v2/node/channel/deleteChannel.workflow (148 ms)
2025-04-15T08:44:07.5538592Z
PASS nodes/Slack/test/v2/node/channel/archive.test.ts
Test SlackV2, channel => append
âœ“ nodes/Slack/test/v2/node/channel/archive.workflow (164 ms)
2025-04-15T08:44:07.5539030Z
PASS nodes/Html/test/Html.node.test.ts
Test Html Node > extractHtmlContent
âœ“ nodes/Html/test/extractHtmlContent.workflow (478 ms)
2025-04-15T08:44:07.5539335Z
PASS nodes/ReadPdf/test/ReadPDF.test.ts
Test Read PDF Node
âœ“ nodes/ReadPdf/test/ReadPDF-encrypted.workflow (538 ms)
âœ“ nodes/ReadPdf/test/ReadPDF.workflow (15 ms)
2025-04-15T08:44:07.5539765Z
PASS nodes/CompareDatasets/test/node/CompareDatasets.test.ts
Test Compare Datasets Node
âœ“ nodes/CompareDatasets/test/node/workflow.compareDatasets.forceInputNodeExecution (336 ms)
âœ“ nodes/CompareDatasets/test/node/workflow.compareDatasets.fuzzy (69 ms)
âœ“ nodes/CompareDatasets/test/node/workflow.compareDatasets.fuzzy.missing_keys (22 ms)
âœ“ nodes/CompareDatasets/test/node/workflow.compareDatasets (89 ms)
âœ“ nodes/CompareDatasets/test/node/workflow.compareDatasets.skipFields (33 ms)
âœ“ nodes/CompareDatasets/test/node/workflow.update_2_2 (46 ms)
2025-04-15T08:44:07.5541340Z
PASS nodes/ExecuteCommand/test/ExecuteCommand.node.test.ts
Execute Execute Command Node
âœ“ nodes/ExecuteCommand/test/workflow (1164 ms)
2025-04-15T08:44:07.5541675Z
PASS nodes/SplitInBatches/test/SplitInBatches.node.test.ts
Execute SplitInBatches Node
âœ“ nodes/SplitInBatches/test/SplitInBatches.combineData (381 ms)
âœ“ nodes/SplitInBatches/test/SplitInBatches.workflow_v1 (69 ms)
âœ“ nodes/SplitInBatches/test/SplitInBatches.workflow_v2 (3 ms)
âœ“ nodes/SplitInBatches/test/SplitInBatches.workflow_v2_done_variable (73 ms)
2025-04-15T08:44:07.5542550Z
PASS nodes/Files/test/ConvertExtract.test.ts
Test Convert to File Node
âœ“ nodes/Files/test/convert_extract.workflow (748 ms)
2025-04-15T08:44:07.5542851Z
PASS nodes/Files/ConvertToFile/test/ConvertToFile.node.test.ts
Test ConvertToFile Node
âœ“ nodes/Files/ConvertToFile/test/toText.workflow (743 ms)
2025-04-15T08:44:07.5543201Z
PASS nodes/HtmlExtract/test/HtmlExtract.node.test.ts
Test HTML Extract Node
âœ“ nodes/HtmlExtract/test/workflow.dotNotation (401 ms)
2025-04-15T08:44:07.5543526Z
PASS nodes/Files/ExtractFromFile/test/ExtractFromFile.node.test.ts
ExtractFromFile
âœ“ nodes/Files/ExtractFromFile/test/workflow.non_utf8_encoding (366 ms)
2025-04-15T08:44:07.5543929Z
PASS nodes/RenameKeys/test/RenameKeys.test.ts
Test Rename Keys Node
âœ“ nodes/RenameKeys/test/RenameKeys.workflow (255 ms)
2025-04-15T08:44:07.5544226Z
PASS nodes/Transform/SplitOut/test/SplitOut.test.ts
Test Split Out Node
âœ“ nodes/Transform/SplitOut/test/workflow.splitOut (305 ms)
âœ“ nodes/Transform/SplitOut/test/workflow.splitOutObject (9 ms)
2025-04-15T08:44:07.5544712Z
PASS nodes/Transform/Summarize/test/Summarize.test.ts
Test Summarize Node
âœ“ nodes/Transform/Summarize/test/workflow.summarize (74 ms)
âœ“ nodes/Transform/Summarize/test/workflow.summarize_countWithEmpty (12 ms)
âœ“ nodes/Transform/Summarize/test/workflow.summarize_datatypes (5 ms)
âœ“ nodes/Transform/Summarize/test/workflow.summarize_hint (309 ms)
2025-04-15T08:44:07.5545648Z
PASS nodes/Transform/Aggregate/test/Aggregate.test.ts
Test Aggregate Node
âœ“ nodes/Transform/Aggregate/test/workflow.aggregate (395 ms)
2025-04-15T08:44:07.5545976Z
The provided field 'data4' is not an array or object
Couldn't find the field 'dataa' in the input data
Couldn't find the field 'idd' in the input data
The field 'idd' does not exist in any items
PASS nodes/ItemLists/test/node/ItemLists.test.ts
Test ItemLists Node
âœ“ nodes/ItemLists/test/node/workflow.aggregateItems (107 ms)
âœ“ nodes/ItemLists/test/node/workflow.concatenate_pairedItems (153 ms)
âœ“ nodes/ItemLists/test/node/workflow.limit (5 ms)
âœ“ nodes/ItemLists/test/node/workflow.removeDuplicates (7 ms)
âœ“ nodes/ItemLists/test/node/workflow.removeDuplicates_3_1 (17 ms)
âœ“ nodes/ItemLists/test/node/workflow.sort (8 ms)
âœ“ nodes/ItemLists/test/node/workflow.splitOutItems (10 ms)
âœ“ nodes/ItemLists/test/node/workflow.splitOutItems.split_object (45 ms)
âœ“ nodes/ItemLists/test/node/workflow.summarize (8 ms)
âœ“ nodes/ItemLists/test/node/workflow.update_2_1 (26 ms)
âœ“ nodes/ItemLists/test/node/workflow.update_2_2 (9 ms)
âœ“ nodes/ItemLists/test/node/workflow.update_3 (73 ms)
2025-04-15T08:44:07.5548388Z
PASS nodes/Switch/V2/test/switch.node.test.ts
Execute Switch Node
âœ“ nodes/Switch/V2/test/switch.expression.workflow (578 ms)
âœ“ nodes/Switch/V2/test/switch.rules.workflow (7 ms)
2025-04-15T08:44:07.5548823Z
PASS nodes/Switch/V1/test/switch.node.test.ts
Execute Switch Node
âœ“ nodes/Switch/V1/test/switch.expression.workflow (118 ms)
âœ“ nodes/Switch/V1/test/switch.rules.workflow (5 ms)
2025-04-15T08:44:07.5549255Z
PASS nodes/Switch/V3/test/switch.node.test.ts
Execute Switch Node
âœ“ nodes/Switch/V3/test/switch.expression.workflow (83 ms)
âœ“ nodes/Switch/V3/test/switch.regex.workflow (18 ms)
âœ“ nodes/Switch/V3/test/switch.rules.workflow (12 ms)
2025-04-15T08:44:07.5549826Z
PASS nodes/Markdown/test/node/Markdown.test.ts
Test Markdown Node
âœ“ nodes/Markdown/test/node/workflow.markdown (441 ms)
2025-04-15T08:44:07.5550120Z
PASS nodes/Transform/Limit/test/Limit.test.ts
Test Limit Node
âœ“ nodes/Transform/Limit/test/workflow.limit (220 ms)
2025-04-15T08:44:07.5550410Z
PASS nodes/Filter/test/Filter.node.test.ts
Test Filter Node
âœ“ nodes/Filter/test/workflow_v1 (458 ms)
âœ“ nodes/Filter/test/workflow_v2 (18 ms)
2025-04-15T08:44:07.5550862Z
PASS nodes/Transform/Sort/test/Sort.test.ts
Test Sort Node
âœ“ nodes/Transform/Sort/test/workflow.sort (368 ms)
2025-04-15T08:44:07.5551174Z
PASS nodes/Xml/test/node/Xml.test.ts
Test XML Node
âœ“ nodes/Xml/test/node/workflow.xml-valid-data (316 ms)
âœ“ nodes/Xml/test/node/workflow.xml (8 ms)
2025-04-15T08:44:07.5551603Z
PASS nodes/Merge/test/node/Merge.test.ts
Test Merge Node
âœ“ nodes/Merge/test/node/workflow.append (720 ms)
âœ“ nodes/Merge/test/node/workflow.chooseBranch.empty.paired.items (34 ms)
âœ“ nodes/Merge/test/node/workflow.chooseBranch (6 ms)
âœ“ nodes/Merge/test/node/workflow.combine.mergeByFields (13 ms)
âœ“ nodes/Merge/test/node/workflow.combine.mergeByPosition (7 ms)
âœ“ nodes/Merge/test/node/workflow.combine.multiplex (20 ms)
âœ“ nodes/Merge/test/node/workflow.keep_non_matches (30 ms)
âœ“ nodes/Merge/test/node/workflow.mixed.forceInputNodeExecution (39 ms)
âœ“ nodes/Merge/test/node/workflow.mixed.not.forceInputNodeExecution (21 ms)
âœ“ nodes/Merge/test/node/workflow.update_2_1 (36 ms)
2025-04-15T08:44:07.5553366Z
PASS nodes/If/test/v1/If.node.test.ts
Test IF Node
âœ“ nodes/If/test/v1/IF.boolean (82 ms)
âœ“ nodes/If/test/v1/IF.date-time (6 ms)
âœ“ nodes/If/test/v1/IF.number (14 ms)
âœ“ nodes/If/test/v1/IF.string (20 ms)
2025-04-15T08:44:07.5553928Z
PASS nodes/Set/test/Set.node.test.ts
Test Set Node
âœ“ nodes/Set/test/Set.v3.workflow (98 ms)
âœ“ nodes/Set/test/Set.v3_3.workflow (23 ms)
âœ“ nodes/Set/test/Set.workflow (5 ms)
âœ“ nodes/Set/test/Set.workflow.null_values (4 ms)
âœ“ nodes/Set/test/Set.workflow.number (2 ms)
2025-04-15T08:44:07.5554617Z
PASS nodes/Jwt/test/Jwt.node.test.ts
Test Jwt Node
âœ“ nodes/Jwt/test/jwt.workflow (225 ms)
2025-04-15T08:44:07.5554859Z
Test Suites: 400 passed, 400 total
Tests:       1613 passed, 1613 total
Snapshots:   7 passed, 7 total
Time:        151.573 s
Ran all test suites.
##[endgroup]
2025-04-15T08:44:07.5555625Z
Tasks:    3 successful, 3 total
Cached:    0 cached, 3 total
Time:    2m50.486s
2025-04-15T08:44:07.5555827Z
##[group]Run pnpm test:frontend
[36;1mpnpm test:frontend[0m
shell: /usr/bin/bash -e {<:NUM:>}
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
TURBOGHA_PORT: 41230
TURBO_API: http://localhost:41230
TURBO_TOKEN: turbogha
TURBO_TEAM: turbogha
##[endgroup]
2025-04-15T08:44:08.2034394Z
> n8n-monorepo@1.89.0 test:frontend /home/runner/_work/n8n/n8n
> turbo run test:frontend --concurrency=1
2025-04-15T08:44:08.2035459Z
â€¢ Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
â€¢ Running test:frontend in 28 packages
â€¢ Remote caching enabled
##[group]@n8n/codemirror-lang:test
cache bypass, force executing 63907ce39ab6a49b
2025-04-15T08:44:10.0147692Z
> @n8n/codemirror-lang@0.3.0 test /home/runner/_work/n8n/n8n/packages/@n8n/codemirror-lang
> jest
2025-04-15T08:44:10.0148407Z
PASS test/expressions/expressions.test.ts
expressions language
cases
âœ“ Resolvable (4 ms)
âœ“ Empty Resolvable
âœ“ Resolvable of only whitespace
âœ“ No content (1 ms)
âœ“ Plaintext
âœ“ Plaintext of single-brace-wrapped text
âœ“ Plaintext then Resolvable
âœ“ Resolvable then Plaintext (1 ms)
âœ“ Plaintext then Resolvable then Plaintext
âœ“ Resolvable then Plaintext then Resolvable
âœ“ Plaintext then Resolvable then Plaintext then Resolvable (1 ms)
âœ“ Resolvable then Plaintext then Resolvable then Plaintext
âœ“ Resolvable containing all resolvable chars
âœ“ Resolvable containing single left brace
âœ“ Resolvable containing double left brace
âœ“ Resolvable containing triple left brace (1 ms)
âœ“ Resolvable containing single right brace
âœ“ Resolvable containing escaped double right brace
âœ“ Resolvable containing escaped triple right brace
âœ“ Resolvable containing single-brace-wrapped text with escaping
âœ“ Resolvable containing double-brace-wrapped text with escaping
âœ“ Resolvable containing triple-brace-wrapped text with escaping
âœ“ Resolvable containing single-bracket-wrapped text
âœ“ Resolvable containing double-bracket-wrapped text
âœ“ Resolvable containing triple-bracket-wrapped text
âœ“ Plaintext of one opening brace
âœ“ Plaintext of one opening brace and two closing braces (1 ms)
âœ“ Plaintext then Resolvable with non-ASCII chars then Plaintext
âœ“ Resolvable with currency symbol
âœ“ Resolvable with cyrillic char
âœ“ Resolvable with Pictographs char
âœ“ Resolvable with Emoticons char
âœ“ Resolvable with general punctuation char
âœ“ Resolvable with superscript char
âœ“ Resolvable with CJK char
âœ“ Resolvable with new emoji range
âœ“ Resolvable with new emoji range end of range
2025-04-15T08:44:10.0158455Z
Test Suites: 1 passed, 1 total
Tests:       37 passed, 37 total
Snapshots:   0 total
Time:        1.03 s
Ran all test suites.
##[endgroup]
##[group]@n8n/design-system:test
cache bypass, force executing 41b11a462c70ffbc
2025-04-15T08:44:31.6708897Z
> @n8n/design-system@1.77.0 test /home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system
> vitest run
2025-04-15T08:44:31.6709951Z
2025-04-15T08:44:31.6709965Z
[1m[7m[36m RUN [39m[27m[22m [36mv3.0.8 [39m[90m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system[39m
[2mCoverage enabled with [22m[33mv8[39m
2025-04-15T08:44:31.6711813Z
[32mâœ“[39m src/directives/n8n-smart-decimal.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 42[2mms[22m[39m
[32mâœ“[39m src/components/AskAssistantChat/AskAssistantChat.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 134[2mms[22m[39m
[32mâœ“[39m src/components/N8nIconPicker/IconPicker.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 747[2mms[22m[39m
[33m[2mâœ“[22m[39m IconPicker[2m > [22mrenders icons and emojis [33m404[2mms[22m[39m
[32mâœ“[39m src/components/N8nNavigationDropdown/NavigationDropdown.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1282[2mms[22m[39m
[33m[2mâœ“[22m[39m N8nNavigationDropdown[2m > [22mshould toggle nested level on mouseenter / mouseleave [33m767[2mms[22m[39m
[32mâœ“[39m src/components/N8nBreadcrumbs/BreadCrumbs.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1345[2mms[22m[39m
[33m[2mâœ“[22m[39m Breadcrumbs[2m > [22mrenders async hidden items correctly [33m1038[2mms[22m[39m
[32mâœ“[39m src/components/CodeDiff/CodeDiff.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 56[2mms[22m[39m
[32mâœ“[39m src/components/N8nDataTableServer/N8nDataTableServer.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 335[2mms[22m[39m
[32mâœ“[39m src/components/N8nSelectableList/SelectableList.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 48[2mms[22m[39m
[32mâœ“[39m src/components/N8nCallout/Callout.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 57[2mms[22m[39m
[32mâœ“[39m src/components/N8nUserStack/UserStack.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 74[2mms[22m[39m
[32mâœ“[39m src/components/N8nDatatable/Datatable.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 374[2mms[22m[39m
[32mâœ“[39m src/components/N8nMarkdown/Markdown.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 119[2mms[22m[39m
[32mâœ“[39m src/components/N8nSelect/Select.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 333[2mms[22m[39m
[32mâœ“[39m src/components/N8nNotice/Notice.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 62[2mms[22m[39m
[32mâœ“[39m src/directives/n8n-truncate.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 31[2mms[22m[39m
[32mâœ“[39m src/components/N8nButton/Button.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 54[2mms[22m[39m
[32mâœ“[39m src/components/ConditionalRouterLink/ConditionalRouterLink.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 36[2mms[22m[39m
[32mâœ“[39m src/components/N8nFormBox/FormBox.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 47[2mms[22m[39m
[32mâœ“[39m src/components/N8nTree/Tree.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 54[2mms[22m[39m
[32mâœ“[39m src/components/N8nActionDropdown/ActionDropdown.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 43[2mms[22m[39m
[32mâœ“[39m src/components/N8nBadge/Badge.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 29[2mms[22m[39m
[32mâœ“[39m src/utils/labelUtil.test.ts [2m([22m[2m19 tests[22m[2m)[22m[90m 14[2mms[22m[39m
[32mâœ“[39m src/components/AskAssistantIcon/AssistantIcon.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 31[2mms[22m[39m
[32mâœ“[39m src/directives/n8n-html.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 44[2mms[22m[39m
[32mâœ“[39m src/components/N8nAlert/Alert.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 59[2mms[22m[39m
[32mâœ“[39m src/utils/valueByPath.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/utils/markdown.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/components/N8nTooltip/Tooltip.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 108[2mms[22m[39m
[32mâœ“[39m src/components/AskAssistantText/AssistantText.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 27[2mms[22m[39m
[32mâœ“[39m src/components/N8nCheckbox/Checkbox.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 41[2mms[22m[39m
[32mâœ“[39m src/styleguide/ColorCircles.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 34[2mms[22m[39m
[32mâœ“[39m src/components/N8nAvatar/Avatar.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 60[2mms[22m[39m
[32mâœ“[39m src/components/N8nInput/Input.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 39[2mms[22m[39m
[32mâœ“[39m src/components/N8nInputLabel/InputLabel.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 33[2mms[22m[39m
[32mâœ“[39m src/components/N8nRoute/Route.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 27[2mms[22m[39m
[32mâœ“[39m src/components/N8nRecycleScroller/RecycleScroller.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 49[2mms[22m[39m
[32mâœ“[39m src/components/N8nInfoTip/InfoTip.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 68[2mms[22m[39m
[2m8:44:27 AM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: <tr> cannot be child of <table>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.
59 |  <template>
60 |  	<table :class="$style.table">
61 |  		<tr>
| <:*:>
62 |  			<th :class="$style.row">Name</th>
| <:*:>
63 |  			<th :class="$style.row">rem</th>
| <:*:>
64 |  			<th :class="$style.row">px</th>
| <:*:>
65 |  		</tr>
| <:*:>
Plugin: [35mvite:vue[39m
File: [36m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system/src/styleguide/Sizes.vue[39m
[32mâœ“[39m src/styleguide/Sizes.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 31[2mms[22m[39m
[32mâœ“[39m src/components/N8nActionBox/ActionBox.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 67[2mms[22m[39m
[32mâœ“[39m src/components/N8nCard/Card.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 28[2mms[22m[39m
[32mâœ“[39m src/components/N8nColorPicker/ColorPicker.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 115[2mms[22m[39m
[32mâœ“[39m src/components/AskAssistantAvatar/AskAssistantAvatar.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 19[2mms[22m[39m
[32mâœ“[39m src/components/AskAssistantButton/AskAssistantButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 23[2mms[22m[39m
[32mâœ“[39m src/components/N8nBlockUi/BlockUi.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 68[2mms[22m[39m
[32mâœ“[39m src/components/AskAssistantLoadingMessage/AskAssistantLoadingMessage.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 23[2mms[22m[39m
[32mâœ“[39m src/components/N8nCircleLoader/CircleLoader.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 25[2mms[22m[39m
[32mâœ“[39m src/components/BlinkingCursor/BlinkingCursor.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 14[2mms[22m[39m
[32mâœ“[39m src/components/BetaTag/BetaTag.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 14[2mms[22m[39m
[2m8:44:31 AM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: <tr> cannot be child of <table>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.
50 |  <template>
51 |  	<table :class="$style.table">
52 |  		<tr>
| <:*:>
53 |  			<th :class="$style.row">Name</th>
| <:*:>
54 |  			<th :class="$style.row">Value</th>
| <:*:>
55 |  		</tr>
| <:*:>
Plugin: [35mvite:vue[39m
File: [36m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system/src/styleguide/VariableTable.vue[39m
2025-04-15T08:44:31.6766101Z
[2m Test Files [22m [1m[32m48 passed[39m[22m[90m (48)[39m
[2m      Tests [22m [1m[32m173 passed[39m[22m[90m (173)[39m
[2m   Start at [22m 08:44:10
[2m   Duration [22m 20.68s[2m (transform 2.69s, setup 59.79s, collect 893ms, tests 6.37s, environment 13.56s, prepare 3.20s)[22m
2025-04-15T08:44:31.6768688Z
##[endgroup]
##[group]@n8n/chat:test
cache bypass, force executing 361217717b6c27e1
2025-04-15T08:44:34.2664205Z
> @n8n/chat@0.39.0 test /home/runner/_work/n8n/n8n/packages/frontend/@n8n/chat
> vitest run
2025-04-15T08:44:34.2665600Z
â–² [WARNING] The condition "types" here will never be used as it comes after both "import" and "require" [package.json]
2025-04-15T08:44:34.2666939Z
package.json:27:6:
27 â”‚       "types": "./dist/index.d.ts"
â•µ       ~~~~~~~
2025-04-15T08:44:34.2667783Z
The "import" condition comes earlier and will be used for all "import" statements:
2025-04-15T08:44:34.2668656Z
package.json:25:6:
25 â”‚       "import": "./dist/chat.es.js",
â•µ       ~~~~~~~~
2025-04-15T08:44:34.2669523Z
The "require" condition comes earlier and will be used for all "require" calls:
2025-04-15T08:44:34.2670108Z
package.json:26:6:
26 â”‚       "require": "./dist/chat.umd.js",
â•µ       ~~~~~~~~~
2025-04-15T08:44:34.2670935Z
2025-04-15T08:44:34.2670940Z
[1m[7m[36m RUN [39m[27m[22m [36mv3.0.8 [39m[90m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/chat[39m
[2mCoverage enabled with [22m[33mv8[39m
2025-04-15T08:44:34.2672033Z
[32mâœ“[39m src/__tests__/index.spec.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 188[2mms[22m[39m
2025-04-15T08:44:34.2672736Z
[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 08:44:32
[2m   Duration [22m 1.53s[2m (transform 416ms, setup 169ms, collect 507ms, tests 188ms, environment 257ms, prepare 48ms)[22m
2025-04-15T08:44:34.2674824Z
##[endgroup]
[;31mn8n-editor-ui:test[;0m
cache bypass, force executing 7c72d9a60d9d80fe
2025-04-15T08:47:52.8229778Z
> n8n-editor-ui@1.89.0 test /home/runner/_work/n8n/n8n/packages/frontend/editor-ui
> vitest run
2025-04-15T08:47:52.8230289Z
2025-04-15T08:47:52.8230292Z
[1m[7m[36m RUN [39m[27m[22m [36mv3.0.8 [39m[90m/home/runner/_work/n8n/n8n/packages/frontend/editor-ui[39m
[2mCoverage enabled with [22m[33mv8[39m
2025-04-15T08:47:52.8231032Z
[32mâœ“[39m src/utils/canvasUtils.test.ts [2m([22m[2m41 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/composables/useRunWorkflow.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 148[2mms[22m[39m
[32mâœ“[39m src/stores/workflows.store.test.ts [2m([22m[2m72 tests[22m[2m)[22m[90m 253[2mms[22m[39m
[32mâœ“[39m src/composables/useCanvasMapping.test.ts [2m([22m[2m33 tests[22m[2m)[22m[33m 504[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/completions.test.ts [2m([22m[2m68 tests[22m[2m)[22m[33m 1063[2mms[22m[39m
[32mâœ“[39m src/composables/useDataSchema.test.ts [2m([22m[2m52 tests[22m[2m)[22m[90m 12[2mms[22m[39m
[32mâœ“[39m src/composables/useCanvasOperations.test.ts [2m([22m[2m103 tests[22m[2m)[22m[33m 3482[2mms[22m[39m
[32mâœ“[39m src/composables/useAIAssistantHelpers.test.ts [2m([22m[2m20 tests[22m[2m)[22m[90m 219[2mms[22m[39m
[32mâœ“[39m src/composables/useImportCurlCommand.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 30[2mms[22m[39m
[32mâœ“[39m src/composables/useNodeDirtiness.test.ts [2m([22m[2m22 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 1188[2mms[22m[39m
[32mâœ“[39m src/components/RunData.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 1791[2mms[22m[39m
[32mâœ“[39m src/components/VirtualSchema.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 2496[2mms[22m[39m
[32mâœ“[39m src/components/CanvasChat/CanvasChat.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 3012[2mms[22m[39m
[32mâœ“[39m src/stores/assistant.store.test.ts [2m([22m[2m27 tests[22m[2m)[22m[90m 154[2mms[22m[39m
[32mâœ“[39m src/stores/testDefinition.store.ee.test.ts [2m([22m[2m25 tests[22m[2m)[22m[90m 126[2mms[22m[39m
[32mâœ“[39m src/components/SourceControlPushModal.ee.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 2129[2mms[22m[39m
[33m[2mâœ“[22m[39m SourceControlPushModal[2m > [22mshould toggle checkboxes [33m450[2mms[22m[39m
[33m[2mâœ“[22m[39m SourceControlPushModal[2m > [22mfilters[2m > [22mshould filter by name [33m637[2mms[22m[39m
[33m[2mâœ“[22m[39m SourceControlPushModal[2m > [22mfilters[2m > [22mshould filter by status [33m383[2mms[22m[39m
[32mâœ“[39m src/utils/pairedItemUtils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 56[2mms[22m[39m
[32mâœ“[39m src/components/NodeExecuteButton.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 1799[2mms[22m[39m
[32mâœ“[39m src/composables/useWorkflowHelpers.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 91[2mms[22m[39m
[32mâœ“[39m src/utils/mappingUtils.test.ts [2m([22m[2m30 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/components/ParameterInput.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1025[2mms[22m[39m
[32mâœ“[39m src/components/FilterConditions/FilterConditions.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 5039[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mrenders default state properly [33m425[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mrenders conditions with different operators [33m946[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mrenders parameter issues [33m467[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mrenders correctly with typeOptions.filter.allowedCombinators [33m499[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mrenders correctly with typeOptions.filter.maxConditions [33m361[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mcan add and remove conditions [33m522[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mcan edit conditions [33m689[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mre-renders when value prop changes [33m503[2mms[22m[39m
[32mâœ“[39m src/views/CredentialsView.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 4122[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mshould render credentials [33m560[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mshould disable cards based on permissions [33m488[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mopen existing credential[2m > [22mshould update credentialId route param when opened [33m465[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by type [33m427[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded [33m543[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded when object keys are empty [33m545[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded when object keys are "CREDENTIAL_EMPTY_VALUE" [33m536[2mms[22m[39m
[32mâœ“[39m src/views/WorkflowsView.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 6508[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mfor non setup user [33m487[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mshould allow workflow creation [33m443[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mwhen onboardingExperiment -> False[2m > [22mfor noPermission [33m308[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mwhen onboardingExperiment -> False[2m > [22mfor user with create scope [33m374[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set tag filter based on query parameters [33m362[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set search filter based on query parameters [33m369[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set active status filter based on query parameters [33m473[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set deactivated status filter based on query parameters [33m448[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould reset filters [33m648[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould remove incomplete properties [33m449[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould remove invalid tags [33m383[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22msource control[2m > [22mshould reinitialize on source control pullWorkfolder [33m420[2mms[22m[39m
[33m[2mâœ“[22m[39m Folders[2m > [22mshould render workflow and folder cards [33m756[2mms[22m[39m
[32mâœ“[39m src/views/SettingsUsersView.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 5055[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mhides invite button visibility based on user permissions [33m389[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mshould show success toast when changing a user's role [33m496[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould copy invite link to clipboard [33m381[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould re invite users [33m394[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould show delete users modal with the right permissions [33m420[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould allow coping reset password link [33m449[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould enable SSO manual login [33m553[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould disable SSO manual login [33m584[2mms[22m[39m
[32mâœ“[39m src/views/VariablesView.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 4817[2mms[22m[39m
[33m[2mâœ“[22m[39m VariablesView[2m > [22mshould render variable entries [33m622[2mms[22m[39m
[33m[2mâœ“[22m[39m VariablesView[2m > [22mCRUD[2m > [22mshould create variables [33m1006[2mms[22m[39m
[33m[2mâœ“[22m[39m VariablesView[2m > [22mCRUD[2m > [22mshould delete variables [33m919[2mms[22m[39m
[33m[2mâœ“[22m[39m VariablesView[2m > [22mCRUD[2m > [22mshould update variable [33m702[2mms[22m[39m
[33m[2mâœ“[22m[39m VariablesView[2m > [22mfilter[2m > [22mshould filter by incomplete [33m457[2mms[22m[39m
[33m[2mâœ“[22m[39m VariablesView[2m > [22msorting[2m > [22mshould sort by name (asc | desc) [33m552[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/useActions.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 41[2mms[22m[39m
[32mâœ“[39m src/components/ResourceMapper.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 8747[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders default configuration properly [33m1069[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders correctly in read only mode [33m353[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders add mode properly [33m882[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders map mode properly [33m684[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders multi-key match selector properly [33m894[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mdoes not render mapping mode selector if it is disabled [33m717[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders field on top of the list when they are selected for matching [33m811[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders selected matching columns properly when multiple key matching is enabled [33m888[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22muses field words defined in node definition [33m761[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mshould render correct fields based on saved schema [33m451[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mshould render correct options based on saved schema [33m498[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mshould fetch fields if there is no cached schema [33m474[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/render-types/CanvasNodeDefault.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 1065[2mms[22m[39m
[32mâœ“[39m src/composables/useExpressionEditor.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 1499[2mms[22m[39m
[32mâœ“[39m src/components/TestDefinition/tests/useTestDefinitionForm.test.ts [2m([22m[2m16 tests[22m[2m)[22m[90m 268[2mms[22m[39m
[32mâœ“[39m src/composables/usePushConnection.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 76[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/useActionsGeneration.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/stores/nodeCreator.store.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 81[2mms[22m[39m
[32mâœ“[39m src/utils/nodeViewUtils.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/components/canvas/Canvas.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 2376[2mms[22m[39m
[33m[2mâœ“[22m[39m Canvas[2m > [22mshould initialize with default props [33m331[2mms[22m[39m
[33m[2mâœ“[22m[39m Canvas[2m > [22mshould render nodes and edges [33m340[2mms[22m[39m
[33m[2mâœ“[22m[39m Canvas[2m > [22mminimap[2m > [22mshould show minimap for 1sec after panning [33m320[2mms[22m[39m
[32mâœ“[39m src/composables/usePinnedData.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 1423[2mms[22m[39m
[33m[2mâœ“[22m[39m usePinnedData[2m > [22misValidSize()[2m > [22mshould return true when data size is at upper limit [33m641[2mms[22m[39m
[33m[2mâœ“[22m[39m usePinnedData[2m > [22misValidSize()[2m > [22mshould return false when data size is too large [33m563[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowSettings.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 11338[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould render correctly [33m897[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould not render workflow caller policy when sharing is not enabled [33m572[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould render workflow caller policy when sharing is enabled [33m555[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould render list of workflows field when policy is set to workflowsFromAList [33m767[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould fetch all workflows and render them in the error workflows dropdown [33m634[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould not remove valid workflow ID characters [33m769[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould remove invalid workflow ID characters [33m784[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-failed-executions dropdown correct default value as Default - Save [33m543[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-failed-executions dropdown correct default value as Default - Do not save [33m490[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-success-executions dropdown correct default value as Default - Save [33m548[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-success-executions dropdown correct default value as Default - Do not save [33m521[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-manual-executions dropdown correct default value as Default - Save [33m475[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-manual-executions dropdown correct default value as Default - Do not save [33m570[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-execution-progress dropdown correct default value as Default - Save [33m616[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-execution-progress dropdown correct default value as Default - Do not save [33m532[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould save time saved per execution correctly [33m647[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould remove time saved per execution setting [33m553[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould disable save time saved per execution if env is read-only [33m459[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould disable save time saved per execution if user has no permission to update workflow [33m404[2mms[22m[39m
[32mâœ“[39m src/utils/executionUtils.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 9[2mms[22m[39m
[32mâœ“[39m src/views/SettingsSso.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 3452[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSso View[2m > [22mallows user to fill Identity Provider's URL [33m421[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSso[2m > [22mshould render paywall state when there is no license [33m474[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSso[2m > [22mshould render licensed content [33m469[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSso[2m > [22mshould enable activation checkbox and test button if data is already saved [33m1286[2mms[22m[39m
[32mâœ“[39m src/components/RunDataJsonActions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 445[2mms[22m[39m
[32mâœ“[39m src/views/SettingsApiView.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 760[2mms[22m[39m
[32mâœ“[39m src/composables/useNodeHelpers.test.ts [2m([22m[2m17 tests[22m[2m)[22m[90m 16[2mms[22m[39m
[32mâœ“[39m src/stores/npsStore.store.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 21[2mms[22m[39m
[32mâœ“[39m src/composables/useNodeConnections.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/composables/useGlobalEntityCreation.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 126[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/NodesListPanel.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 943[2mms[22m[39m
[32mâœ“[39m src/components/ResourceLocator/ResourceLocator.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 1410[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectMoveResourceModal.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 977[2mms[22m[39m
[33m[2mâœ“[22m[39m ProjectMoveResourceModal[2m > [22mshould not hide project select if filter has no result [33m420[2mms[22m[39m
[32mâœ“[39m src/views/SetupWorkflowFromTemplateView/setupTemplate.store.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 204[2mms[22m[39m
[32mâœ“[39m src/views/WorkflowHistory.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 481[2mms[22m[39m
[32mâœ“[39m src/components/AssignmentCollection/AssignmentCollection.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 4386[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mcan add and remove assignments [33m727[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mdoes not break with saved assignments that have no ID (legacy) [33m604[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mcan add assignments by drag and drop (and infer type) [33m1167[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mdefaultType prop[2m > [22mshould use defaultType for drag and drop when disableType is true [33m320[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mdefaultType prop[2m > [22mshould respect defaultType for all assignments when provided [33m790[2mms[22m[39m
[32mâœ“[39m src/composables/useContextMenu.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 29[2mms[22m[39m
[32mâœ“[39m src/components/NodeCredentials.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 605[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowPreview.test.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 715[2mms[22m[39m
[32mâœ“[39m src/components/RunDataAi/utils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/views/TestDefinition/tests/TestDefinitionListView.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 1172[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowActivator.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 607[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/tooltips/infoBoxTooltip.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 220[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectHeader.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1112[2mms[22m[39m
[32mâœ“[39m src/utils/fromAIOverrideUtils.test.ts [2m([22m[2m15 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/ApiKeyCreateOrEditModal.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 686[2mms[22m[39m
[33m[2mâœ“[22m[39m ApiKeyCreateOrEditModal[2m > [22mshould allow creating API key with custom expiration [33m302[2mms[22m[39m
[32mâœ“[39m src/components/executions/global/GlobalExecutionsList.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 4864[2mms[22m[39m
[33m[2mâœ“[22m[39m GlobalExecutionsList[2m > [22mshould render empty list [33m624[2mms[22m[39m
[33m[2mâœ“[22m[39m GlobalExecutionsList[2m > [22mshould handle selection flow when loading more items [33m2005[2mms[22m[39m
[33m[2mâœ“[22m[39m GlobalExecutionsList[2m > [22mshould show "retry" data when appropriate [33m1198[2mms[22m[39m
[33m[2mâœ“[22m[39m GlobalExecutionsList[2m > [22mshould render concurrent executions header if the feature is enabled [33m1037[2mms[22m[39m
[32mâœ“[39m src/composables/useCanvasTraversal.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectNavigation.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1263[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/utils.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 25[2mms[22m[39m
[32mâœ“[39m src/utils/nodeSettingsUtils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectSharing.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 849[2mms[22m[39m
[33m[2mâœ“[22m[39m ProjectSharing[2m > [22mshould filter, add and remove projects [33m477[2mms[22m[39m
[32mâœ“[39m src/plugins/telemetry.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 10[2mms[22m[39m
[32mâœ“[39m src/components/SQLEditor.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1438[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/edges/CanvasEdge.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 410[2mms[22m[39m
[32mâœ“[39m src/components/NodeDetailsView.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 5092[2mms[22m[39m
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mshould render correctly [33m1434[2mms[22m[39m
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould register and unregister keydown listener based on modal open state [33m1177[2mms[22m[39m
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould unregister keydown listener on unmount [33m1149[2mms[22m[39m
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould emit 'saveKeyboardShortcut' when save shortcut keybind is pressed [33m1322[2mms[22m[39m
[32mâœ“[39m src/composables/useCanvasLayout.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 17[2mms[22m[39m
[32mâœ“[39m src/components/MainSidebarSourceControl.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 623[2mms[22m[39m
[32mâœ“[39m src/views/SettingsSourceControl.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 22334[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould render paywall state when there is no license [33m556[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould render licensed content [33m473[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould render user flow happy path [33m3343[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user/repository.git [33m1067[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.enterprise.com:org-name/repo-name.git [33m1088[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@192.168.1.101:2222:user/repo.git [33m1023[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user/repo.git/path/to/subdir [33m1103[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@{[}2001:db8:100:f101:210:a4ff:fee3:9566]:user/repo.git [33m1090[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:org/suborg/repo.git [33m1033[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user-name/repo-name.git [33m1098[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user_name/repo_name.git [33m1072[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user/repository [33m1073[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.enterprise.com:org-name/repo-name [33m1069[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@192.168.1.101:2222:user/repo [33m1000[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@ssh.dev.azure.com:v3/User/repo/directory [33m1064[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mssh://git@mydomain.example:2224/gitolite-admin [33m1053[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgituser@192.168.1.1:ABC/Repo4.git [33m976[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mroot@192.168.1.1/repo.git [33m1017[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mhttp://github.com/user/repository [33m1080[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mhttps://github.com/user/repository [33m1035[2mms[22m[39m
[32mâœ“[39m src/components/FreeAiCreditsCallout.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 282[2mms[22m[39m
[32mâœ“[39m src/components/CommunityPlusEnrollmentModal.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 654[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowCard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 957[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/CanvasNode.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 645[2mms[22m[39m
[32mâœ“[39m src/components/canvas/WorkflowCanvas.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1359[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/CanvasNodeToolbar.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 1047[2mms[22m[39m
[32mâœ“[39m src/components/executions/ExecutionsFilter.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 4159[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mtelemetry sent only once after component is mounted [33m529[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on default deployment with advancedExecutionFilters false [33m366[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on default deployment with advancedExecutionFilters true [33m430[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on cloud deployment with advancedExecutionFilters false [33m350[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on cloud deployment with advancedExecutionFilters true [33m456[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in production environment on cloud deployment with advancedExecutionFilters false [33m438[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in production environment on cloud deployment with advancedExecutionFilters true [33m379[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in production environment on default deployment with advancedExecutionFilters true [33m412[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mstate change [33m505[2mms[22m[39m
[32mâœ“[39m src/components/CanvasChat/future/LogsPanel.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1537[2mms[22m[39m
[33m[2mâœ“[22m[39m LogsPanel[2m > [22mshould open log details panel when a log entry is clicked in the logs overview panel [33m354[2mms[22m[39m
[33m[2mâœ“[22m[39m LogsPanel[2m > [22mshould show the button to toggle panel in the header of log details panel when it's opened [33m405[2mms[22m[39m
[32mâœ“[39m src/composables/usePageRedirectionHelper.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 58[2mms[22m[39m
[32mâœ“[39m src/components/Error/NodeErrorView.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 947[2mms[22m[39m
[32mâœ“[39m src/stores/ui.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 78[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/require.completions.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 12[2mms[22m[39m
[32mâœ“[39m src/stores/schemaPreview.store.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/init.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 55[2mms[22m[39m
[32mâœ“[39m src/stores/rbac.store.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 22[2mms[22m[39m
[32mâœ“[39m src/utils/expressions.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/components/PersonalizationModal.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 2141[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mmounts [33m384[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mallows completion of role related fields [33m526[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mallows completion of marketing and sales related fields [33m432[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mCompany field[2m > [22mallows completion of company related fields [33m485[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mCompany field[2m > [22mshows only company and source select when not used for work [33m313[2mms[22m[39m
[32mâœ“[39m src/components/Folders/FolderCard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 699[2mms[22m[39m
[32mâœ“[39m src/composables/useKeybindings.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 125[2mms[22m[39m
[32mâœ“[39m src/composables/useExecutionHelpers.test.ts [2m([22m[2m24 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/stores/pushConnection.store.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 12[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/base.completions.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 107[2mms[22m[39m
[32mâœ“[39m src/components/CanvasChat/future/components/LogsOverviewPanel.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 746[2mms[22m[39m
[32mâœ“[39m src/components/BannersStack.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 403[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowHistory/WorkflowHistoryList.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 4454[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowHistoryList[2m > [22mshould render list and delegate preview event [33m2175[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowHistoryList[2m > [22mshould scroll to active item [33m1412[2mms[22m[39m
[32mâœ“[39m src/components/ButtonParameter/utils.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 23[2mms[22m[39m
[32mâœ“[39m src/mixins/workflowHelpers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1654[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return empty execute data if no parent nodes [33m425[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with one parent node [33m407[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with multiple parent nodes, only one with execution data [33m405[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with multiple parent nodes, all with execution data [33m406[2mms[22m[39m
[32mâœ“[39m src/utils/objectUtils.test.ts [2m([22m[2m42 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/views/SettingsPersonalView.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 3887[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mshould enable email and pw change [33m635[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould disable save button when theme has not been changed [33m544[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould enable save button when theme is changed [33m534[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould not update theme after changing the selected theme [33m504[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould commit the theme change after clicking save [33m576[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen external auth is enabled, email and password change[2m > [22mshould not be disabled for the instance owner [33m557[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen external auth is enabled, email and password change[2m > [22mshould be disabled for members [33m523[2mms[22m[39m
[32mâœ“[39m src/components/ParameterInputList.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 455[2mms[22m[39m
[32mâœ“[39m src/components/ButtonParameter/ButtonParameter.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 276[2mms[22m[39m
[32mâœ“[39m src/components/ParameterOptions.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 651[2mms[22m[39m
[32mâœ“[39m src/views/ProjectSettings.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1037[2mms[22m[39m
[33m[2mâœ“[22m[39m ProjectSettings[2m > [22mshould show confirmation modal before deleting project and delete with transfer [33m633[2mms[22m[39m
[33m[2mâœ“[22m[39m ProjectSettings[2m > [22mshould show confirmation modal before deleting project and deleting without transfer [33m404[2mms[22m[39m
[32mâœ“[39m src/router.test.ts [2m([22m[2m30 tests[22m[2m)[22m[33m 3424[2mms[22m[39m
[33m[2mâœ“[22m[39m router[2m > [22mshould resolve / to WorkflowsView [33m1126[2mms[22m[39m
[33m[2mâœ“[22m[39m router[2m > [22mshould resolve /workflow to NodeViewNew [33m798[2mms[22m[39m
[33m[2mâœ“[22m[39m router[2m > [22mshould resolve /workflow/R9JFXwkUCL1jZBuw/executions/29021 to ExecutionPreview [33m500[2mms[22m[39m
[32mâœ“[39m src/utils/apiUtils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/components/RunDataPinButton.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 670[2mms[22m[39m
[32mâœ“[39m src/views/SetupWorkflowFromTemplateView/useCredentialSetupState.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/InlineExpressionEditor/InlineExpressionTip.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 622[2mms[22m[39m
[32mâœ“[39m src/components/executions/global/GlobalExecutionsListItem.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 899[2mms[22m[39m
[32mâœ“[39m src/composables/useFolders.test.ts [2m([22m[2m43 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/push-connection/__tests__/useEventSourceClient.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 10[2mms[22m[39m
[32mâœ“[39m src/views/SignupView.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 717[2mms[22m[39m
[1m[33m[@vue/compiler-sfc][0m[33m `withDefaults` is a compiler macro and no longer needs to be imported.[0m
2025-04-15T08:47:52.8373600Z
[32mâœ“[39m src/components/ParameterInputFull.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 561[2mms[22m[39m
[32mâœ“[39m src/stores/posthog.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 61[2mms[22m[39m
[32mâœ“[39m src/components/executions/workflow/WorkflowExecutionsPreview.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 833[2mms[22m[39m
[32mâœ“[39m src/components/TestDefinition/EditDefinition/tests/NodesPinning.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 895[2mms[22m[39m
[33m[2mâœ“[22m[39m NodesPinning[2m > [22mshould render workflow nodes [33m326[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/jsonField.completions.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 108[2mms[22m[39m
[32mâœ“[39m src/push-connection/__tests__/useWebSocketClient.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 20[2mms[22m[39m
[32mâœ“[39m src/views/TestDefinition/tests/TestDefinitionEditView.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1621[2mms[22m[39m
[33m[2mâœ“[22m[39m TestDefinitionEditView[2m > [22mTest Runs functionality[2m > [22mshould display test runs table when runs exist [33m586[2mms[22m[39m
[32mâœ“[39m src/utils/nodeIcon.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/composables/useExecutingNode.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/composables/useCanvasNode.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/stores/settings.store.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 29[2mms[22m[39m
[32mâœ“[39m src/components/InputPanel.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 401[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/itemField.completions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 12[2mms[22m[39m
[32mâœ“[39m src/components/TextWithHIghlights.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 30[2mms[22m[39m
[32mâœ“[39m src/views/ForgotMyPasswordView.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 491[2mms[22m[39m
[32mâœ“[39m src/components/CredentialEdit/__tests__/CredentialEdit.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 663[2mms[22m[39m
[32mâœ“[39m src/components/DeleteUserModal.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 613[2mms[22m[39m
[33m[2mâœ“[22m[39m DeleteUserModal[2m > [22mshould delete user and transfer workflows and credentials [33m313[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/ItemsRenderer.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 246[2mms[22m[39m
[32mâœ“[39m src/components/NDVSubConnections.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 66[2mms[22m[39m
[32mâœ“[39m src/components/Telemetry.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 299[2mms[22m[39m
[32mâœ“[39m src/components/RunDataSearch.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 425[2mms[22m[39m
[32mâœ“[39m src/utils/sourceControlUtils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 25[2mms[22m[39m
[32mâœ“[39m src/components/executions/workflow/WorkflowExecutionsCard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 641[2mms[22m[39m
[32mâœ“[39m src/features/insights/components/InsightsSummary.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1056[2mms[22m[39m
[33m[2mâœ“[22m[39m InsightsSummary[2m > [22mshould render the summary correctly [33m364[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/useKeyboardNavigation.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 199[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/utils.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 9[2mms[22m[39m
[32mâœ“[39m src/composables/useExecutionDebugging.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 56[2mms[22m[39m
[32mâœ“[39m src/composables/useToast.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 164[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/enterprise.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/components/ResourceMapper/ResourceMapper.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 396[2mms[22m[39m
[32mâœ“[39m src/composables/useDebugInfo.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/composables/useBeforeUnload.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 86[2mms[22m[39m
[32mâœ“[39m src/utils/templates/templateActions.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 36[2mms[22m[39m
[32mâœ“[39m src/composables/useResolvedExpression.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 269[2mms[22m[39m
[32mâœ“[39m src/components/RunDataTable.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 267[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectMoveSuccessToastMessage.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 168[2mms[22m[39m
[32mâœ“[39m src/components/CredentialCard.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 505[2mms[22m[39m
[32mâœ“[39m src/composables/useCanvasNodeHover.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 141[2mms[22m[39m
[32mâœ“[39m src/components/CanvasChat/composables/usePiPWindow.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 113[2mms[22m[39m
[32mâœ“[39m src/stores/executions.store.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 39[2mms[22m[39m
[32mâœ“[39m src/views/SettingsView.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 774[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsView[2m > [22mshould render the view without throwing [33m389[2mms[22m[39m
[32mâœ“[39m src/composables/useCodeEditor.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 325[2mms[22m[39m
[32mâœ“[39m src/components/NodeTitle.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 548[2mms[22m[39m
[32mâœ“[39m src/stores/environments.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 3241[2mms[22m[39m
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > [22mfetchAllVariables()[2m > [22mshould fetch all credentials [33m412[2mms[22m[39m
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > [22mcreateVariable()[2m > [22mshould store a new variable [33m806[2mms[22m[39m
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > [22mupdateVariable()[2m > [22mshould update an existing variable [33m803[2mms[22m[39m
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > [22mdeleteVariable()[2m > [22mshould delete an existing variable [33m804[2mms[22m[39m
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > [22mvariablesAsObject[2m > [22mshould return variables as a key-value object [33m402[2mms[22m[39m
[32mâœ“[39m src/views/SigninView.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 307[2mms[22m[39m
[32mâœ“[39m src/components/FixedCollectionParameter.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 634[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/typescript/worker/linter.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[31mâ¯[39m src/plugins/codemirror/typescript/worker/typescript.worker.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 6194[2mms[22m[39m
[31m   [31mÃ—[31m Typescript Worker[2m > [22mshould return diagnostics[33m 5003[2mms[22m[31m[39m
[31m     â†’ Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[33m[2mâœ“[22m[39m Typescript Worker[2m > [22mshould accept updates from the client and buffer them [33m910[2mms[22m[39m
[32mâœ“[39m Typescript Worker[2m > [22mshould return completions
[32mâœ“[39m src/views/TestDefinition/tests/TestDefinitionNewView.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 215[2mms[22m[39m
[32mâœ“[39m src/views/SettingsUsageAndPlan.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 349[2mms[22m[39m
[32mâœ“[39m src/components/CredentialIcon.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 234[2mms[22m[39m
[32mâœ“[39m src/components/NodeExecutionErrorMessage.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 239[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/render-types/CanvasNodeStickyNote.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 243[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowHistory/WorkflowHistoryListItem.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 748[2mms[22m[39m
[32mâœ“[39m src/components/WorkflowHistory/WorkflowHistoryContent.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 899[2mms[22m[39m
[32mâœ“[39m src/components/CollaborationPane.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 344[2mms[22m[39m
[32mâœ“[39m src/components/SourceControlPullModal.ee.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 253[2mms[22m[39m
[32mâœ“[39m src/components/MainHeader/WorkflowDetails.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 527[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/variables.completions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/isEnterpriseFeatureEnabled.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/permissions.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/composables/useAutocompleteTelemetry.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 282[2mms[22m[39m
[32mâœ“[39m src/stores/roles.store.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/CanvasHandleMainOutput.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 230[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/CanvasHandleRenderer.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 143[2mms[22m[39m
[32mâœ“[39m src/components/Folders/MoveToFolderModal.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 174[2mms[22m[39m
[32mâœ“[39m src/utils/rbacUtils.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/components/HtmlEditor.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 603[2mms[22m[39m
[33m[2mâœ“[22m[39m HtmlEditor.vue[2m > [22memits update:model-value events [33m353[2mms[22m[39m
[32mâœ“[39m src/utils/nodeTypeUtils.test.ts [2m([22m[2m13 tests[22m[2m)[22m[90m 11[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/itemIndex.completions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/components/ExpressionEditModal.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 508[2mms[22m[39m
[33m[2mâœ“[22m[39m ExpressionEditModal[2m > [22mrenders correctly [33m350[2mms[22m[39m
[32mâœ“[39m src/components/executions/ConcurrentExecutionsHeader.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 499[2mms[22m[39m
[32mâœ“[39m src/push-connection/__tests__/useHeartbeat.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/permissions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/composables/useHistoryHelper.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 58[2mms[22m[39m
[32mâœ“[39m src/components/CredentialPicker/CredentialPicker.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 319[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/completions/prevNode.completions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/edges/CanvasConnectionLine.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 124[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/render-types/parts/CanvasNodeStatusIcons.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 268[2mms[22m[39m
[32mâœ“[39m src/stores/users.store.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 25[2mms[22m[39m
[32mâœ“[39m src/api/schemaPreview.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/composables/useUniqueNodeName.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 26[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectCardBadge.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 630[2mms[22m[39m
[32mâœ“[39m src/utils/htmlUtils.test.ts [2m([22m[2m21 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/components/InlineExpressionEditor/InlineExpressionEditorOutput.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 307[2mms[22m[39m
[32mâœ“[39m src/components/ExpressionParameterInput.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 520[2mms[22m[39m
[32mâœ“[39m src/components/CodeNodeEditor/completions/itemField.completions.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/rbac.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/FilterConditions/utils.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 19[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/authenticated.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/AssignmentCollection/Assignment.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 794[2mms[22m[39m
[33m[2mâœ“[22m[39m Assignment.vue[2m > [22mcan edit name, type and value [33m559[2mms[22m[39m
[32mâœ“[39m src/views/TestDefinition/tests/TestDefinitionRootView.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 169[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/dragAndDrop.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 98[2mms[22m[39m
[32mâœ“[39m src/components/RunDataJson.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 126[2mms[22m[39m
[32mâœ“[39m src/plugins/sentry.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/role.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/TemplatesInfoCard.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 299[2mms[22m[39m
[32mâœ“[39m src/views/SamlOnboarding.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 255[2mms[22m[39m
[32mâœ“[39m src/components/executions/global/GlobalExecutionsListItemQueuedTooltip.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 366[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/expressionCloseBrackets.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 290[2mms[22m[39m
[32mâœ“[39m src/views/SettingsExternalSecrets.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 263[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/guest.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/components/TestDefinition/tests/useMetricsChart.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 38[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/defaultUser.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 5[2mms[22m[39m
[32mâœ“[39m src/composables/useClipboard.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 67[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandlePlus.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 282[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/CanvasNodeRenderer.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 141[2mms[22m[39m
[32mâœ“[39m src/components/MainSidebar.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 2613[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mrenders the sidebar without error [33m666[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened false and the environment is readonly true [33m448[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened true and the environment is readonly false [33m595[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened true and the environment is readonly true [33m509[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened false and the environment is readonly false [33m394[2mms[22m[39m
[32mâœ“[39m src/components/executions/workflow/WorkflowExecutionsSidebar.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 910[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowExecutionsSidebar[2m > [22mshould not throw error when opened [33m542[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowExecutionsSidebar[2m > [22mshould render concurrent executions header if the feature is enabled [33m366[2mms[22m[39m
[32mâœ“[39m src/utils/typesUtils.test.ts [2m([22m[2m39 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/hasScope.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/isAuthenticated.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/composables/useDebounce.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 36[2mms[22m[39m
[32mâœ“[39m src/utils/templates/templateTransforms.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/components/CommunityPackageInstallModal.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 301[2mms[22m[39m
[32mâœ“[39m src/components/MainHeader/WorkflowHistoryButton.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 286[2mms[22m[39m
[32mâœ“[39m src/components/CredentialConfig.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 126[2mms[22m[39m
[32mâœ“[39m src/components/JsonEditor.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 286[2mms[22m[39m
[32mâœ“[39m src/components/SetupWorkflowCredentialsButton/SetupWorkflowCredentialsButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 106[2mms[22m[39m
[32mâœ“[39m src/components/ChatEmbedModal.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 347[2mms[22m[39m
[33m[2mâœ“[22m[39m ChatEmbedModal[2m > [22mshould render correctly [33m346[2mms[22m[39m
[32mâœ“[39m src/components/MainHeader/TabBar.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 169[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/buttons/CanvasControlButtons.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 590[2mms[22m[39m
[32mâœ“[39m src/components/PushConnectionTracker.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 224[2mms[22m[39m
[32mâœ“[39m src/components/Feedback.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 38[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/render-types/parts/CanvasNodeTooltip.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 190[2mms[22m[39m
[32mâœ“[39m src/composables/useNodeType.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/components/SSOLogin.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 138[2mms[22m[39m
[32mâœ“[39m src/components/ParameterInputWrapper.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 121[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/hasRole.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/components/Node/NodeCreator/CategoryItem.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 119[2mms[22m[39m
[32mâœ“[39m src/utils/projects.utils.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/typescript/worker/dynamicTypes.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/stores/sso.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 43[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/toolbar/CanvasNodeStickyColorSelector.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 204[2mms[22m[39m
[32mâœ“[39m src/components/AssignmentCollection/TypeSelect.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 251[2mms[22m[39m
[32mâœ“[39m src/components/CopyInput.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 122[2mms[22m[39m
[32mâœ“[39m src/components/Projects/ProjectTabs.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 178[2mms[22m[39m
[32mâœ“[39m src/utils/injectStrict.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/components/CollectionParameter.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 204[2mms[22m[39m
[32mâœ“[39m src/composables/useStorage.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/components/CodeNodeEditor/utils.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 8[2mms[22m[39m
[32mâœ“[39m src/plugins/codemirror/typescript/client/tests/completions.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 7[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/background/CanvasBackground.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 104[2mms[22m[39m
[32mâœ“[39m src/components/DropArea/DropArea.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 85[2mms[22m[39m
[32mâœ“[39m src/components/banners/V1Banner.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 126[2mms[22m[39m
[32mâœ“[39m src/composables/useDocumentTitle.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
[32mâœ“[39m src/stores/credentials.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 837[2mms[22m[39m
[33m[2mâœ“[22m[39m store[2m > [22mcredentials[2m > [22mfetchCredentialTypes()[2m > [22mshould fetch all credential types [33m417[2mms[22m[39m
[33m[2mâœ“[22m[39m store[2m > [22mcredentials[2m > [22mfetchAllCredentials()[2m > [22mshould fetch all credentials [33m404[2mms[22m[39m
[32mâœ“[39m src/utils/json-schema.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/ExpressionEditorModalInput.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 232[2mms[22m[39m
[32mâœ“[39m src/components/InputTriple/InputTriple.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 104[2mms[22m[39m
[32mâœ“[39m src/components/layouts/ResourcesListLayout.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 63[2mms[22m[39m
[32mâœ“[39m src/composables/useActiveNode.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/stores/workflowHistory.store.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 30[2mms[22m[39m
[32mâœ“[39m src/components/MultipleParameter.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 70[2mms[22m[39m
[32mâœ“[39m src/views/AuthView.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 117[2mms[22m[39m
[32mâœ“[39m src/components/Logo/__tests__/Logo.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 120[2mms[22m[39m
[32mâœ“[39m src/components/VariablesUsageBadge.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 134[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/isDefaultUser.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/middleware/custom.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/composables/useStyles.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/isGuest.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/stores/usage.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 15[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/buttons/CanvasRunWorkflowButton.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 206[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/isInstanceOwner.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/components/CredentialEdit/OauthButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 151[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/CanvasHandleNonMainOutput.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 38[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/CanvasHandleNonMainInput.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 38[2mms[22m[39m
[32mâœ“[39m src/components/ChangePasswordModal.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 67[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/CanvasHandleMainInput.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 47[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandleRectangle.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 59[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/buttons/CanvasStopCurrentExecutionButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 111[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandleDiamond.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 71[2mms[22m[39m
[32mâœ“[39m src/utils/rbac/checks/isValid.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 2[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandleDot.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 59[2mms[22m[39m
[32mâœ“[39m src/composables/useBugReporting.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/JsEditor.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 61[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/edges/CanvasEdgeToolbar.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 61[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/nodes/render-types/parts/CanvasNodeDisabledStrikeThrough.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 35[2mms[22m[39m
[32mâœ“[39m src/utils/easyAiWorkflowUtils.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 4[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/buttons/CanvasClearExecutionDataButton.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 55[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/buttons/CanvasStopWaitingForWebhookButton.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 50[2mms[22m[39m
[32mâœ“[39m src/components/canvas/elements/buttons/CanvasChatButton.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 50[2mms[22m[39m
2025-04-15T08:47:52.8480765Z
[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Tests 1 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
2025-04-15T08:47:52.8481072Z
[31m[1m[7m FAIL [27m[22m[39m src/plugins/codemirror/typescript/worker/typescript.worker.test.ts[2m > [22mTypescript Worker[2m > [22mshould return diagnostics
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/1]âŽ¯[22m[39m
2025-04-15T08:47:52.8482859Z
2025-04-15T08:47:52.8482863Z
[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m298 passed[39m[22m[90m (299)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2311 passed[39m[22m[2m | [22m[90m1 todo[39m[90m (2313)[39m
[2m   Start at [22m 08:44:34
[2m   Duration [22m 197.50s[2m (transform 23.50s, setup 63.19s, collect 462.17s, tests 208.81s, environment 86.47s, prepare 19.23s)[22m
2025-04-15T08:47:52.8484475Z
ELIFECYCLEâ€‰ Test failed. See above for more details.
[ERROR] command finished with error: command (/home/runner/_work/n8n/n8n/packages/frontend/editor-ui) /opt/hostedtoolcache/node/20.16.0/x64/bin/pnpm run test exited (1)
##[error]n8n-editor-ui#test: command (/home/runner/_work/n8n/n8n/packages/frontend/editor-ui) /opt/hostedtoolcache/node/20.16.0/x64/bin/pnpm run test exited (1)
ERROR  run failed: command  exited (1)
##[group]@n8n/composables:build
cache bypass, force executing b0396722b2c10a8b
##[endgroup]
2025-04-15T08:47:52.8509223Z
Tasks:    3 successful, 5 total
Cached:    0 cached, 5 total
Time:    3m44.563s
Failed:    n8n-editor-ui#test
2025-04-15T08:47:52.8510579Z
ELIFECYCLEâ€‰ Command failed with exit code 1.
##[error]Process completed with exit code 1.
##[group]Run <:*:>
with:
token: ***
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
TURBOGHA_PORT: 41230
TURBO_API: http://localhost:41230
TURBO_TOKEN: turbogha
TURBO_TEAM: turbogha
##[endgroup]
==> linux OS detected
https://cli.codecov.io/latest/linux/codecov.SHA256SUM
gpg: directory '/home/runner/.gnupg' created
gpg: keybox '/home/runner/.gnupg/pubring.kbx' created
gpg: /home/runner/.gnupg/trustdb.gpg: trustdb created
gpg: key 806BB28AED779869: public key "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: Signature made Wed Apr  9 03:02:55 2025 UTC
gpg:                using RSA key 27034E7FDB850E0BBC2C62FF806BB28AED779869
gpg: Good signature from "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 2703 4E7F DB85 0E0B BC2C  62FF 806B B28A ED77 9869
==> Uploader SHASUM verified (0f7aadde579ebde1443ad2f977beada703f562997fdda603f213faf2a8559868  codecov)
==> Running version latest
==> Running version v10.4.0
==> Running command '/home/runner/_work/_actions/codecov/test-results-action/v1/dist/codecov do-upload'
[command]/home/runner/_work/_actions/codecov/test-results-action/v1/dist/codecov do-upload --report-type test_results
info - 2025-04-15 08:47:53,979 -- ci service found: github-actions
info - 2025-04-15 08:47:54,218 -- Found 14 test_results files to report
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/imap/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/permissions/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/core/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/cli/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/nodes-base/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/nodes-langchain/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/api-types/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/di/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/config/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/task-runner/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/json-schema-to-zod/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/@n8n/codemirror-lang/junit.xml
info - 2025-04-15 08:47:54,219 -- > /home/runner/_work/n8n/n8n/packages/workflow/junit.xml
info - 2025-04-15 08:47:55,462 -- Process Upload complete
Post job cleanup.
{"level":30,"time":1744706238914,"pid":2613,"hostname":"localhost.localdomain","msg":"Server listening at http://[::1]:41230"}
{"level":30,"time":1744706238915,"pid":2613,"hostname":"localhost.localdomain","msg":"Server listening at http://127.0.0.1:41230"}
{"level":30,"time":1744706239153,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-1","req":{"method":"GET","url":"/","host":"localhost:41230","remoteAddress":"::1","remotePort":49774},"msg":"incoming request"}
{"level":30,"time":1744706239164,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-1","res":{"statusCode":200},"responseTime":10.235842000001867,"msg":"request completed"}
{"level":30,"time":1744706245930,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-2","req":{"method":"PUT","url":"/v8/artifacts/5d41e0aa72934740?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706245931,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-2","msg":"Received artifact for 5d41e0aa72934740"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706246023,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-2","msg":"Saved artifact for 5d41e0aa72934740"}
{"level":30,"time":1744706246024,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-2","res":{"statusCode":200},"responseTime":93.52068499999586,"msg":"request completed"}
{"level":30,"time":1744706267624,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-3","req":{"method":"PUT","url":"/v8/artifacts/87aa005921d64b77?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706267624,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-3","msg":"Received artifact for 87aa005921d64b77"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706267696,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-3","msg":"Saved artifact for 87aa005921d64b77"}
{"level":30,"time":1744706267696,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-3","res":{"statusCode":200},"responseTime":72.17047399999865,"msg":"request completed"}
{"level":30,"time":1744706270604,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-4","req":{"method":"PUT","url":"/v8/artifacts/c7c72b569a4812b7?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706270605,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-4","msg":"Received artifact for c7c72b569a4812b7"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706270671,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-4","msg":"Saved artifact for c7c72b569a4812b7"}
{"level":30,"time":1744706270671,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-4","res":{"statusCode":200},"responseTime":66.30177399999229,"msg":"request completed"}
{"level":30,"time":1744706282959,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-5","req":{"method":"PUT","url":"/v8/artifacts/8eeffe7c176d5550?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706282960,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-5","msg":"Received artifact for 8eeffe7c176d5550"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706283032,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-5","msg":"Saved artifact for 8eeffe7c176d5550"}
{"level":30,"time":1744706283032,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-5","res":{"statusCode":200},"responseTime":72.89077199999883,"msg":"request completed"}
{"level":30,"time":1744706285269,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-6","req":{"method":"PUT","url":"/v8/artifacts/f7b9a92ea8bfe464?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706285270,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-6","msg":"Received artifact for f7b9a92ea8bfe464"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706285342,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-6","msg":"Saved artifact for f7b9a92ea8bfe464"}
{"level":30,"time":1744706285342,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-6","res":{"statusCode":200},"responseTime":72.69179399999848,"msg":"request completed"}
{"level":30,"time":1744706287485,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-7","req":{"method":"PUT","url":"/v8/artifacts/0b715e7f3d90e2cd?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706287485,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-7","msg":"Received artifact for 0b715e7f3d90e2cd"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706287541,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-7","msg":"Saved artifact for 0b715e7f3d90e2cd"}
{"level":30,"time":1744706287541,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-7","res":{"statusCode":200},"responseTime":56.09944099999848,"msg":"request completed"}
{"level":30,"time":1744706294041,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-8","req":{"method":"PUT","url":"/v8/artifacts/a298d5de6ac02d43?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706294041,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-8","msg":"Received artifact for a298d5de6ac02d43"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706294095,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-8","msg":"Saved artifact for a298d5de6ac02d43"}
{"level":30,"time":1744706294095,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-8","res":{"statusCode":200},"responseTime":53.946039999995264,"msg":"request completed"}
{"level":30,"time":1744706296996,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-9","req":{"method":"PUT","url":"/v8/artifacts/0aaa0103505e73e8?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":44564},"msg":"incoming request"}
{"level":30,"time":1744706296997,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-9","msg":"Received artifact for 0aaa0103505e73e8"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706297083,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-9","msg":"Saved artifact for 0aaa0103505e73e8"}
{"level":30,"time":1744706297084,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-9","res":{"statusCode":200},"responseTime":86.95830100000603,"msg":"request completed"}
{"level":30,"time":1744706467834,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-a","req":{"method":"PUT","url":"/v8/artifacts/c6ef9bbea06db687?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55966},"msg":"incoming request"}
{"level":30,"time":1744706467835,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-a","msg":"Received artifact for c6ef9bbea06db687"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706467960,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-a","msg":"Saved artifact for c6ef9bbea06db687"}
{"level":30,"time":1744706467960,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-a","res":{"statusCode":200},"responseTime":125.60382000001846,"msg":"request completed"}
{"level":30,"time":1744706476381,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-b","req":{"method":"PUT","url":"/v8/artifacts/58a81a1e5c93f91d?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55966},"msg":"incoming request"}
{"level":30,"time":1744706476381,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-b","msg":"Received artifact for 58a81a1e5c93f91d"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706476450,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-b","msg":"Saved artifact for 58a81a1e5c93f91d"}
{"level":30,"time":1744706476450,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-b","res":{"statusCode":200},"responseTime":69.28304999996908,"msg":"request completed"}
{"level":30,"time":1744706480704,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-c","req":{"method":"PUT","url":"/v8/artifacts/3a55834af624c1ef?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":40792},"msg":"incoming request"}
{"level":30,"time":1744706480704,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-c","msg":"Received artifact for 3a55834af624c1ef"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706480773,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-c","msg":"Saved artifact for 3a55834af624c1ef"}
{"level":30,"time":1744706480773,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-c","res":{"statusCode":200},"responseTime":69.50966999999946,"msg":"request completed"}
{"level":30,"time":1744706494756,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-d","req":{"method":"PUT","url":"/v8/artifacts/4aa76629a01475af?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":40792},"msg":"incoming request"}
{"level":30,"time":1744706494756,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-d","msg":"Received artifact for 4aa76629a01475af"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706494818,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-d","msg":"Saved artifact for 4aa76629a01475af"}
{"level":30,"time":1744706494819,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-d","res":{"statusCode":200},"responseTime":62.52540499996394,"msg":"request completed"}
{"level":30,"time":1744706647513,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-e","req":{"method":"PUT","url":"/v8/artifacts/37beb2ebf1b9948b?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":46698},"msg":"incoming request"}
{"level":30,"time":1744706647513,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-e","msg":"Received artifact for 37beb2ebf1b9948b"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706647577,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-e","msg":"Saved artifact for 37beb2ebf1b9948b"}
{"level":30,"time":1744706647577,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-e","res":{"statusCode":200},"responseTime":64.29612800001632,"msg":"request completed"}
{"level":30,"time":1744706650016,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-f","req":{"method":"PUT","url":"/v8/artifacts/63907ce39ab6a49b?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":46710},"msg":"incoming request"}
{"level":30,"time":1744706650016,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Received artifact for 63907ce39ab6a49b"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706650079,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Saved artifact for 63907ce39ab6a49b"}
{"level":30,"time":1744706650079,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-f","res":{"statusCode":200},"responseTime":62.8043839999591,"msg":"request completed"}
{"level":30,"time":1744706671672,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-g","req":{"method":"PUT","url":"/v8/artifacts/41b11a462c70ffbc?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":46710},"msg":"incoming request"}
{"level":30,"time":1744706671672,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-g","msg":"Received artifact for 41b11a462c70ffbc"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706671740,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-g","msg":"Saved artifact for 41b11a462c70ffbc"}
{"level":30,"time":1744706671740,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-g","res":{"statusCode":200},"responseTime":67.81529300002148,"msg":"request completed"}
{"level":30,"time":1744706674268,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-h","req":{"method":"PUT","url":"/v8/artifacts/361217717b6c27e1?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":46710},"msg":"incoming request"}
{"level":30,"time":1744706674268,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-h","msg":"Received artifact for 361217717b6c27e1"}
##[warning]Unexpected 400 error: Unknown error
{"level":30,"time":1744706674337,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-h","msg":"Saved artifact for 361217717b6c27e1"}
{"level":30,"time":1744706674338,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-h","res":{"statusCode":200},"responseTime":69.42302500002552,"msg":"request completed"}
{"level":30,"time":1744706875649,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-i","req":{"method":"DELETE","url":"/shutdown","host":"localhost:41230","remoteAddress":"::1","remotePort":58868},"msg":"incoming request"}
{"level":30,"time":1744706875649,"pid":2613,"hostname":"localhost.localdomain","reqId":"req-i","res":{"statusCode":200},"responseTime":0.3876260000979528,"msg":"request completed"}
2025-04-15T08:47:55.6612890Z
Post job cleanup.
[command]/usr/bin/git version
git version <:NUM:>.<:NUM:>.<:NUM:>
Temporarily overriding HOME='/home/runner/_work/_temp/938c6179-a68e-4636-9401-745848513611' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
[command]/usr/bin/git config --global --add safe.directory /home/runner/_work/n8n/n8n
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
[command]/usr/bin/git config --local --name-only --get-regexp <:*:>
http.https://github.com/.extraheader
[command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp <:*:> && git config --local --unset-all <:*:> || :"
Cleaning up orphan processes
