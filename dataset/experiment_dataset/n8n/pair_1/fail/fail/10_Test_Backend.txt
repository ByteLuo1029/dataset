2025-04-15T08:37:22.7340954Z ##[group]Run pnpm test:backend
2025-04-15T08:37:22.7341420Z [36;1mpnpm test:backend[0m
2025-04-15T08:37:22.7363072Z shell: /usr/bin/bash -e {0}
2025-04-15T08:37:22.7363346Z env:
2025-04-15T08:37:22.7363552Z   TURBO_FORCE: true
2025-04-15T08:37:22.7363771Z   COVERAGE_ENABLED: true
2025-04-15T08:37:22.7364012Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:37:22.7364274Z   TURBOGHA_PORT: 41230
2025-04-15T08:37:22.7364526Z   TURBO_API: http://localhost:41230
2025-04-15T08:37:22.7364784Z   TURBO_TOKEN: turbogha
2025-04-15T08:37:22.7364989Z   TURBO_TEAM: turbogha
2025-04-15T08:37:22.7365178Z ##[endgroup]
2025-04-15T08:37:23.0514171Z 
2025-04-15T08:37:23.0515318Z > n8n-monorepo@1.89.0 test:backend /home/runner/_work/n8n/n8n
2025-04-15T08:37:23.0515857Z > turbo run test:backend --concurrency=1
2025-04-15T08:37:23.0516065Z 
2025-04-15T08:37:23.1087614Z 
2025-04-15T08:37:23.1088581Z Attention:
2025-04-15T08:37:23.1089169Z Turborepo now collects completely anonymous telemetry regarding usage.
2025-04-15T08:37:23.1090303Z This information is used to shape the Turborepo roadmap and prioritize features.
2025-04-15T08:37:23.1091194Z You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-04-15T08:37:23.1091946Z https://turbo.build/repo/docs/telemetry
2025-04-15T08:37:23.2683860Z 
2025-04-15T08:37:23.2687795Z â€¢ Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
2025-04-15T08:37:23.2689683Z â€¢ Running test:backend in 28 packages
2025-04-15T08:37:23.2690016Z â€¢ Remote caching enabled
2025-04-15T08:37:25.9271177Z ##[group]@n8n/client-oauth2:test
2025-04-15T08:37:25.9271940Z cache bypass, force executing 5d41e0aa72934740
2025-04-15T08:37:25.9272159Z 
2025-04-15T08:37:25.9272772Z > @n8n/client-oauth2@0.23.0 test /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2
2025-04-15T08:37:25.9273264Z > jest
2025-04-15T08:37:25.9273373Z 
2025-04-15T08:37:25.9273519Z PASS test/CodeFlow.test.ts
2025-04-15T08:37:25.9273765Z   CodeFlow
2025-04-15T08:37:25.9273959Z     #getUri
2025-04-15T08:37:25.9274554Z       âœ“ should return a valid uri (3 ms)
2025-04-15T08:37:25.9274947Z       âœ“ should include empty scopes array as an empty string
2025-04-15T08:37:25.9275371Z       âœ“ should include empty scopes string as an empty string
2025-04-15T08:37:25.9275692Z       when scopes are undefined
2025-04-15T08:37:25.9276041Z         âœ“ should not include scope in the uri (1 ms)
2025-04-15T08:37:25.9276411Z       when authorizationUri contains query parameters
2025-04-15T08:37:25.9276795Z         âœ“ should preserve query string parameters
2025-04-15T08:37:25.9277125Z     #getToken
2025-04-15T08:37:25.9277427Z       âœ“ should request the token (26 ms)
2025-04-15T08:37:25.9277802Z       âœ“ should reject with auth errors (1 ms)
2025-04-15T08:37:25.9278078Z       #sign
2025-04-15T08:37:25.9278398Z         âœ“ should be able to sign a standard request object (5 ms)
2025-04-15T08:37:25.9278727Z       #refresh
2025-04-15T08:37:25.9279076Z         âœ“ should make a request to get a new access token (14 ms)
2025-04-15T08:37:25.9279292Z 
2025-04-15T08:37:25.9279453Z PASS test/ClientOAuth2.test.ts
2025-04-15T08:37:25.9279751Z   ClientOAuth2
2025-04-15T08:37:25.9279966Z     accessTokenRequest
2025-04-15T08:37:25.9280419Z       âœ“ should send the correct request based on given options (33 ms)
2025-04-15T08:37:25.9280977Z       âœ“ should parse response with content type application/json (6 ms)
2025-04-15T08:37:25.9281551Z       âœ“ should parse response with content type application/json; charset=utf-8 (6 ms)
2025-04-15T08:37:25.9282174Z       âœ“ should parse response with content type application/x-www-form-urlencoded (5 ms)
2025-04-15T08:37:25.9283252Z       âœ“ should reject content type text/html (5 ms)
2025-04-15T08:37:25.9283674Z       âœ“ should reject content type application/xml (4 ms)
2025-04-15T08:37:25.9284070Z       âœ“ should reject content type text/plain (5 ms)
2025-04-15T08:37:25.9284501Z       âœ“ should reject 4xx responses with auth errors (3 ms)
2025-04-15T08:37:25.9284938Z       âœ“ should reject 3xx responses with response errors (5 ms)
2025-04-15T08:37:25.9285170Z 
2025-04-15T08:37:25.9285330Z PASS test/CredentialsFlow.test.ts
2025-04-15T08:37:25.9285589Z   CredentialsFlow
2025-04-15T08:37:25.9285787Z     #getToken
2025-04-15T08:37:25.9286276Z       âœ“ should request the token (41 ms)
2025-04-15T08:37:25.9286765Z       âœ“ when scopes are undefined, it should not send scopes to an auth server (6 ms)
2025-04-15T08:37:25.9287414Z       âœ“ when scopes is an empty array, it should send empty scope string to an auth server (6 ms)
2025-04-15T08:37:25.9287945Z       âœ“ should handle authentication = "header" (5 ms)
2025-04-15T08:37:25.9288693Z       âœ“ should handle authentication = "body" (5 ms)
2025-04-15T08:37:25.9288986Z       #sign
2025-04-15T08:37:25.9289320Z         âœ“ should be able to sign a standard request object (5 ms)
2025-04-15T08:37:25.9289622Z       #refresh
2025-04-15T08:37:25.9289970Z         âœ“ should make a request to get a new access token (9 ms)
2025-04-15T08:37:25.9290533Z         âœ“ should make a request to get a new access token with authentication = "body" (12 ms)
2025-04-15T08:37:25.9291176Z         âœ“ should make a request to get a new access token with authentication = "header" (9 ms)
2025-04-15T08:37:25.9291486Z 
2025-04-15T08:37:25.9291648Z Test Suites: 3 passed, 3 total
2025-04-15T08:37:25.9291938Z Tests:       27 passed, 27 total
2025-04-15T08:37:25.9292203Z Snapshots:   0 total
2025-04-15T08:37:25.9292508Z Time:        1.868 s
2025-04-15T08:37:25.9292716Z Ran all test suites.
2025-04-15T08:37:25.9293239Z ##[endgroup]
2025-04-15T08:37:47.6189685Z ##[group]n8n-core:test
2025-04-15T08:37:47.6190322Z cache bypass, force executing 87aa005921d64b77
2025-04-15T08:37:47.6190548Z 
2025-04-15T08:37:47.6190772Z > n8n-core@1.88.0 test /home/runner/_work/n8n/n8n/packages/core
2025-04-15T08:37:47.6191077Z > jest
2025-04-15T08:37:47.6191173Z 
2025-04-15T08:37:47.6191584Z PASS src/execution-engine/partial-execution-utils/__tests__/recreate-node-execution-stack.test.ts
2025-04-15T08:37:47.6192057Z   recreateNodeExecutionStack
2025-04-15T08:37:47.6192756Z     âœ“ all nodes except destination node have data (7 ms)
2025-04-15T08:37:47.6193124Z     âœ“ no nodes have data (1 ms)
2025-04-15T08:37:47.6193478Z     âœ“ node before destination node has pinned data (1 ms)
2025-04-15T08:37:47.6193890Z     âœ“ throws if a disabled node is found (12 ms)
2025-04-15T08:37:47.6194237Z     âœ“ multiple incoming connections (8 ms)
2025-04-15T08:37:47.6194536Z     âœ“ multiple inputs (1 ms)
2025-04-15T08:37:47.6194776Z     multiple inputs
2025-04-15T08:37:47.6195053Z       âœ“ only the trigger has run data (3 ms)
2025-04-15T08:37:47.6195428Z       âœ“ the trigger and node1 have run data (2 ms)
2025-04-15T08:37:47.6195756Z       âœ“ the trigger and node2 have run data (1 ms)
2025-04-15T08:37:47.6196125Z       âœ“ the trigger, node1 and node2 have run data (1 ms)
2025-04-15T08:37:47.6196418Z   addWaitingExecution
2025-04-15T08:37:47.6196689Z     âœ“ allow adding data partially (14 ms)
2025-04-15T08:37:47.6196949Z   addWaitingExecutionSource
2025-04-15T08:37:47.6197251Z     âœ“ allow adding data partially (1 ms)
2025-04-15T08:37:47.6197409Z 
2025-04-15T08:37:47.6197628Z PASS src/nodes-loader/__tests__/directory-loader.test.ts
2025-04-15T08:37:47.6197963Z   DirectoryLoader
2025-04-15T08:37:47.6198154Z     CustomDirectoryLoader
2025-04-15T08:37:47.6198474Z       âœ“ should load custom nodes and credentials (17 ms)
2025-04-15T08:37:47.6198757Z     PackageDirectoryLoader
2025-04-15T08:37:47.6199196Z       âœ“ should load nodes and credentials from an installed package (3 ms)
2025-04-15T08:37:47.6199748Z       âœ“ should throw error when package.json is missing (26 ms)
2025-04-15T08:37:47.6200795Z       âœ“ should throw error when package.json is invalid (2 ms)
2025-04-15T08:37:47.6201220Z       âœ“ should do nothing if package.json has no n8n field (5 ms)
2025-04-15T08:37:47.6201753Z       âœ“ should hide httpRequestNode property when credential has supported nodes (1 ms)
2025-04-15T08:37:47.6202348Z       âœ“ should not modify httpRequestNode when credential has no supported nodes (1 ms)
2025-04-15T08:37:47.6203151Z       âœ“ should inherit iconUrl from supported node when credential has no icon (2 ms)
2025-04-15T08:37:47.6203584Z     LazyPackageDirectoryLoader
2025-04-15T08:37:47.6204043Z       âœ“ should skip loading nodes and credentials from a lazy-loadable package (1 ms)
2025-04-15T08:37:47.6204582Z       âœ“ should fall back to non-lazy loading if any json file fails to parse (2 ms)
2025-04-15T08:37:47.6205075Z       âœ“ should only load included nodes when includeNodes is set (1 ms)
2025-04-15T08:37:47.6205548Z       âœ“ should load no nodes when includeNodes does not match any nodes (7 ms)
2025-04-15T08:37:47.6207052Z       âœ“ should exclude specified nodes when excludeNodes is set (1 ms)
2025-04-15T08:37:47.6207385Z     reset()
2025-04-15T08:37:47.6207712Z       âœ“ should reset all properties to their initial state (2 ms)
2025-04-15T08:37:47.6208029Z     getVersionedNodeTypeAll
2025-04-15T08:37:47.6208402Z       âœ“ should return array with single node for non-versioned node
2025-04-15T08:37:47.6208831Z       âœ“ should return all versions of a versioned node (5 ms)
2025-04-15T08:37:47.6209142Z     getCredentialsForNode
2025-04-15T08:37:47.6209557Z       âœ“ should return empty array if node has no credentials
2025-04-15T08:37:47.6210017Z       âœ“ should return credentials for non-versioned node (1 ms)
2025-04-15T08:37:47.6210631Z       âœ“ should return unique credentials from all versions of a versioned node (1 ms)
2025-04-15T08:37:47.6211258Z       âœ“ should remove duplicate credentials from different versions (1 ms)
2025-04-15T08:37:47.6211652Z     loadCredentialFromFile
2025-04-15T08:37:47.6212093Z       âœ“ should load credential and store it correctly (1 ms)
2025-04-15T08:37:47.6212515Z       âœ“ should update credential icon paths
2025-04-15T08:37:47.6212937Z       âœ“ should add toJSON method to credential type
2025-04-15T08:37:47.6213435Z       âœ“ should store credential extends and supported nodes info (1 ms)
2025-04-15T08:37:47.6213982Z       âœ“ should throw error if credential class cannot be loaded (14 ms)
2025-04-15T08:37:47.6214339Z     getCredential
2025-04-15T08:37:47.6214669Z       âœ“ should return existing loaded credential type
2025-04-15T08:37:47.6215170Z       âœ“ should load credential from known credentials if not already loaded
2025-04-15T08:37:47.6215836Z       âœ“ should throw UnrecognizedCredentialTypeError if credential type is not found (1 ms)
2025-04-15T08:37:47.6216283Z     loadNodeFromFile
2025-04-15T08:37:47.6216624Z       âœ“ should load node and store it correctly (3 ms)
2025-04-15T08:37:47.6217008Z       âœ“ should update node icon paths (3 ms)
2025-04-15T08:37:47.6217412Z       âœ“ should skip node if not in includeNodes (1 ms)
2025-04-15T08:37:47.6217809Z       âœ“ should handle versioned nodes correctly (2 ms)
2025-04-15T08:37:47.6218200Z       âœ“ should store credential associations correctly
2025-04-15T08:37:47.6218715Z       âœ“ should throw error if node class cannot be loaded (1 ms)
2025-04-15T08:37:47.6219047Z     getNode
2025-04-15T08:37:47.6219420Z       âœ“ should return existing loaded node type (1 ms)
2025-04-15T08:37:47.6219864Z       âœ“ should load node from known nodes if not already loaded (12 ms)
2025-04-15T08:37:47.6220417Z       âœ“ should throw UnrecognizedNodeTypeError if node type is not found (1 ms)
2025-04-15T08:37:47.6220690Z 
2025-04-15T08:37:47.6221092Z PASS src/execution-engine/node-execution-context/utils/__tests__/request-helper-functions.test.ts
2025-04-15T08:37:47.6221579Z   Request Helper Functions
2025-04-15T08:37:47.6221839Z     proxyRequestToAxios
2025-04-15T08:37:47.6222301Z       âœ“ should rethrow an error with `status` property (131 ms)
2025-04-15T08:37:47.6223124Z       âœ“ should not throw if the response status is 200 (13 ms)
2025-04-15T08:37:47.6223538Z       âœ“ should throw if the response status is 403 (24 ms)
2025-04-15T08:37:47.6224097Z       âœ“ should not throw if the response status is 404, but `simple` option is set to `false` (10 ms)
2025-04-15T08:37:47.6224778Z       âœ“ should return full response when `resolveWithFullResponse` is set to true (7 ms)
2025-04-15T08:37:47.6225207Z       redirects
2025-04-15T08:37:47.6225591Z         âœ“ should forward authorization header (12 ms)
2025-04-15T08:37:47.6225966Z         âœ“ should follow redirects by default (9 ms)
2025-04-15T08:37:47.6226396Z         âœ“ should not follow redirects when configured (7 ms)
2025-04-15T08:37:47.6226702Z     invokeAxios
2025-04-15T08:37:47.6227047Z       âœ“ should throw error for non-401 status codes (6 ms)
2025-04-15T08:37:47.6227508Z       âœ“ should throw error on 401 without digest auth challenge (11 ms)
2025-04-15T08:37:47.6227928Z       âœ“ should make successful requests (11 ms)
2025-04-15T08:37:47.6228652Z       âœ“ should handle digest auth when receiving 401 with nonce (18 ms)
2025-04-15T08:37:47.6228973Z     removeEmptyBody
2025-04-15T08:37:47.6229721Z       âœ“ Should remove empty body for GET (1 ms)
2025-04-15T08:37:47.6230103Z       âœ“ Should remove empty body for HEAD
2025-04-15T08:37:47.6230487Z       âœ“ Should remove empty body for OPTIONS
2025-04-15T08:37:47.6230884Z       âœ“ Should not remove non-empty body for GET
2025-04-15T08:37:47.6231291Z       âœ“ Should not remove non-empty body for HEAD (1 ms)
2025-04-15T08:37:47.6231757Z       âœ“ Should not remove non-empty body for OPTIONS
2025-04-15T08:37:47.6232158Z       âœ“ Should not remove empty body for POST
2025-04-15T08:37:47.6232524Z       âœ“ Should not remove empty body for PUT
2025-04-15T08:37:47.6232876Z       âœ“ Should not remove empty body for PATCH
2025-04-15T08:37:47.6233270Z       âœ“ Should not remove empty body for DELETE (1 ms)
2025-04-15T08:37:47.6233581Z     parseRequestObject
2025-04-15T08:37:47.6233926Z       âœ“ should handle basic request options
2025-04-15T08:37:47.6234305Z       âœ“ should set correct headers for FormData (1 ms)
2025-04-15T08:37:47.6234661Z       âœ“ should not use Host header for SNI
2025-04-15T08:37:47.6234949Z       should set SSL certificates
2025-04-15T08:37:47.6235278Z         âœ“ on regular requests (1 ms)
2025-04-15T08:37:47.6235622Z         âœ“ on redirected requests (1 ms)
2025-04-15T08:37:47.6235937Z       when followRedirect is true
2025-04-15T08:37:47.6236293Z         âœ“ should set maxRedirects on GET 
2025-04-15T08:37:47.6236650Z         âœ“ should set maxRedirects on HEAD 
2025-04-15T08:37:47.6237012Z         âœ“ should not set maxRedirects on POST 
2025-04-15T08:37:47.6237374Z         âœ“ should not set maxRedirects on PUT 
2025-04-15T08:37:47.6237722Z         âœ“ should not set maxRedirects on PATCH 
2025-04-15T08:37:47.6238083Z         âœ“ should not set maxRedirects on DELETE 
2025-04-15T08:37:47.6238399Z       when followAllRedirects is true
2025-04-15T08:37:47.6238739Z         âœ“ should set maxRedirects on GET 
2025-04-15T08:37:47.6239152Z         âœ“ should set maxRedirects on HEAD  (1 ms)
2025-04-15T08:37:47.6239589Z         âœ“ should set maxRedirects on POST  (3 ms)
2025-04-15T08:37:47.6239943Z         âœ“ should set maxRedirects on PUT 
2025-04-15T08:37:47.6240291Z         âœ“ should set maxRedirects on PATCH  (1 ms)
2025-04-15T08:37:47.6240675Z         âœ“ should set maxRedirects on DELETE 
2025-04-15T08:37:47.6240954Z     createFormDataObject
2025-04-15T08:37:47.6241339Z       âœ“ should create FormData with simple key-value pairs (1 ms)
2025-04-15T08:37:47.6241725Z       âœ“ should handle array values
2025-04-15T08:37:47.6242104Z       âœ“ should handle complex form data with options (1 ms)
2025-04-15T08:37:47.6242422Z     convertN8nRequestToAxios
2025-04-15T08:37:47.6242780Z       âœ“ should convert basic HTTP request options (1 ms)
2025-04-15T08:37:47.6243148Z       âœ“ should handle body and content type
2025-04-15T08:37:47.6243464Z       âœ“ should handle form data (1 ms)
2025-04-15T08:37:47.6244078Z       âœ“ should handle disable follow redirect
2025-04-15T08:37:47.6244394Z       âœ“ should handle SSL certificate validation
2025-04-15T08:37:47.6244684Z     applyPaginationRequestData
2025-04-15T08:37:47.6245064Z       âœ“ should merge pagination request data with original request options
2025-04-15T08:37:47.6245442Z       âœ“ should handle formData correctly (7 ms)
2025-04-15T08:37:47.6245735Z       âœ“ should handle form data correctly
2025-04-15T08:37:47.6246231Z       âœ“ should prefer pagination body over original body
2025-04-15T08:37:47.6246628Z       âœ“ should merge complex request options (1 ms)
2025-04-15T08:37:47.6246995Z       âœ“ should handle edge cases with empty pagination data
2025-04-15T08:37:47.6247276Z     httpRequest
2025-04-15T08:37:47.6247551Z       âœ“ should make a simple GET request (11 ms)
2025-04-15T08:37:47.6247910Z       âœ“ should make a POST request with JSON body (11 ms)
2025-04-15T08:37:47.6248337Z       âœ“ should return full response when returnFullResponse is true (5 ms)
2025-04-15T08:37:47.6248963Z       âœ“ should handle form data request (5 ms)
2025-04-15T08:37:47.6249347Z       âœ“ should handle query parameters (7 ms)
2025-04-15T08:37:47.6249754Z       âœ“ should ignore HTTP status errors when configured (6 ms)
2025-04-15T08:37:47.6250230Z       âœ“ should handle different array formats in query parameters (11 ms)
2025-04-15T08:37:47.6250678Z       âœ“ should remove empty body for GET requests (4 ms)
2025-04-15T08:37:47.6251069Z       âœ“ should set default user agent (5 ms)
2025-04-15T08:37:47.6251391Z       âœ“ should respect custom headers (4 ms)
2025-04-15T08:37:47.6251605Z 
2025-04-15T08:37:47.6251985Z PASS src/execution-engine/partial-execution-utils/__tests__/find-start-nodes.test.ts
2025-04-15T08:37:47.6252390Z   isDirty
2025-04-15T08:37:47.6252705Z     âœ“ if the node has pinned data it's not dirty (3 ms)
2025-04-15T08:37:47.6253083Z     âœ“ if the node has run data it's not dirty
2025-04-15T08:37:47.6253371Z   findStartNodes
2025-04-15T08:37:47.6253739Z     âœ“ finds the start node if there is only a trigger (2 ms)
2025-04-15T08:37:47.6254166Z     âœ“ finds the start node in a simple graph
2025-04-15T08:37:47.6254485Z     âœ“ multiple outputs (1 ms)
2025-04-15T08:37:47.6254882Z     âœ“ complex example with multiple outputs and inputs (1 ms)
2025-04-15T08:37:47.6255365Z     âœ“ multiple connections with the first one having data (1 ms)
2025-04-15T08:37:47.6255841Z     âœ“ multiple connections with the second one having data
2025-04-15T08:37:47.6256304Z     âœ“ multiple connections with both having data (1 ms)
2025-04-15T08:37:47.6256706Z     âœ“ multiple connections with both having data
2025-04-15T08:37:47.6257104Z     âœ“ multiple connections with trigger (1 ms)
2025-04-15T08:37:47.6257542Z     âœ“ terminates when called with graph that contains cycles
2025-04-15T08:37:47.6257863Z     pinData
2025-04-15T08:37:47.6258336Z       âœ“ does not stop recursing when the first node that has no run data has pinned data (1 ms)
2025-04-15T08:37:47.6258759Z     custom loop logic
2025-04-15T08:37:47.6259358Z       âœ“ if the last run of loop node has no data (null) on the done output, then the loop is the start node
2025-04-15T08:37:47.6260158Z       âœ“ if the last run of loop node has no data (empty array) on the done output, then the loop is the start  node (1 ms)
2025-04-15T08:37:47.6260860Z       âœ“ if the loop has data on the done output in the last run it does not become a start node
2025-04-15T08:37:47.6261174Z 
2025-04-15T08:37:47.6261523Z PASS src/execution-engine/partial-execution-utils/__tests__/directed-graph.test.ts
2025-04-15T08:37:47.6261946Z   DirectedGraph
2025-04-15T08:37:47.6262198Z     âœ“ roundtrip (6 ms)
2025-04-15T08:37:47.6262534Z     âœ“ linear workflow with null connections (1 ms)
2025-04-15T08:37:47.6262850Z     getChildren
2025-04-15T08:37:47.6263152Z       âœ“ returns all children (1 ms)
2025-04-15T08:37:47.6263512Z       âœ“ terminates when finding a cycle (1 ms)
2025-04-15T08:37:47.6263834Z     getStronglyConnectedComponents
2025-04-15T08:37:47.6264216Z       âœ“ find strongly connected components (1 ms)
2025-04-15T08:37:47.6265054Z       âœ“ find strongly connected components even if they use different output indexes (1 ms)
2025-04-15T08:37:47.6265475Z     depthFirstSearch
2025-04-15T08:37:47.6265903Z       âœ“ calls nodes in the correct order and stops when it found the node (2 ms)
2025-04-15T08:37:47.6266290Z     getParentConnections
2025-04-15T08:37:47.6266622Z       âœ“ returns all parent connections (1 ms)
2025-04-15T08:37:47.6267010Z       âœ“ terminates when finding a cycle (1 ms)
2025-04-15T08:37:47.6267280Z     removeNode
2025-04-15T08:37:47.6267576Z       âœ“ remove node and all connections (1 ms)
2025-04-15T08:37:47.6267973Z       âœ“ remove node, but reconnect connections (3 ms)
2025-04-15T08:37:47.6268500Z       âœ“ remove node, reconnect connections and retaining the input indexes (1 ms)
2025-04-15T08:37:47.6269440Z       âœ“ remove node, reconnect connections and retaining the input indexes, even if the child has less inputs than the than the removed node had (1 ms)
2025-04-15T08:37:47.6270211Z       âœ“ remove node, reconnect connections and multiplexes them (2 ms)
2025-04-15T08:37:47.6270762Z     hasNode
2025-04-15T08:37:47.6271066Z       âœ“ returns node if it's part of the graph
2025-04-15T08:37:47.6271536Z       âœ“ returns undefined if there is no node with that name in the graph
2025-04-15T08:37:47.6271890Z     getNodesByNames
2025-04-15T08:37:47.6272186Z       âœ“ returns empty Set when no names are provided (24 ms)
2025-04-15T08:37:47.6272603Z       âœ“ returns Set with only nodes that exist in the graph (1 ms)
2025-04-15T08:37:47.6272835Z 
2025-04-15T08:37:47.6273171Z PASS src/execution-engine/node-execution-context/utils/__tests__/create-node-as-tool.test.ts
2025-04-15T08:37:47.6273656Z   createNodeAsTool
2025-04-15T08:37:47.6273922Z     Tool Creation and Basic Properties
2025-04-15T08:37:47.6274426Z       âœ“ should create a DynamicStructuredTool with correct properties (6 ms)
2025-04-15T08:37:47.6274932Z       âœ“ should use toolDescription if provided (1 ms)
2025-04-15T08:37:47.6275291Z     Schema Creation and Parameter Handling
2025-04-15T08:37:47.6275820Z       âœ“ should create a schema based on fromAI arguments in nodeParameters (1 ms)
2025-04-15T08:37:47.6276368Z       âœ“ should handle fromAI arguments correctly (1 ms)
2025-04-15T08:37:47.6276809Z       âœ“ should handle default values correctly (2 ms)
2025-04-15T08:37:47.6277242Z       âœ“ should handle nested parameters correctly (1 ms)
2025-04-15T08:37:47.6277701Z       âœ“ should handle array parameters correctly (1 ms)
2025-04-15T08:37:47.6278067Z     Error Handling and Edge Cases
2025-04-15T08:37:47.6278468Z       âœ“ should handle error during node execution (1 ms)
2025-04-15T08:37:47.6278939Z       âœ“ should throw an error for invalid parameter names (23 ms)
2025-04-15T08:37:47.6279586Z       âœ“ should throw an error for $fromAI calls with unsupported types (1 ms)
2025-04-15T08:37:47.6280181Z       âœ“ should handle empty parameters and parameters with no fromAI calls (2 ms)
2025-04-15T08:37:47.6280632Z     Parameter Name and Description Handling
2025-04-15T08:37:47.6281154Z       âœ“ should accept parameter names with underscores and hyphens (5 ms)
2025-04-15T08:37:47.6281767Z       âœ“ should throw an error for parameter names with invalid special characters (2 ms)
2025-04-15T08:37:47.6282297Z       âœ“ should throw an error for empty parameter name
2025-04-15T08:37:47.6282848Z       âœ“ should handle parameter names with exact and exceeding character limits (1 ms)
2025-04-15T08:37:47.6283424Z       âœ“ should handle $fromAI calls with empty description (1 ms)
2025-04-15T08:37:47.6284027Z       âœ“ should throw an error for calls with the same parameter but different descriptions (1 ms)
2025-04-15T08:37:47.6284708Z       âœ“ should throw an error for calls with the same parameter but different types (1 ms)
2025-04-15T08:37:47.6285127Z     Complex Parsing Scenarios
2025-04-15T08:37:47.6285772Z       âœ“ should correctly parse $fromAI calls with varying spaces, capitalization, and within template literals (1 ms)
2025-04-15T08:37:47.6287133Z       âœ“ should correctly parse multiple $fromAI calls interleaved with regular text (1 ms)
2025-04-15T08:37:47.6288034Z       âœ“ should correctly parse $fromAI calls with complex JSON default values (1 ms)
2025-04-15T08:37:47.6288654Z       âœ“ should ignore $fromAI calls embedded in non-string node parameters (9 ms)
2025-04-15T08:37:47.6289076Z     Escaping and Special Characters
2025-04-15T08:37:47.6289639Z       âœ“ should handle escaped single quotes in parameter names and descriptions
2025-04-15T08:37:47.6290265Z       âœ“ should handle escaped double quotes in parameter names and descriptions (1 ms)
2025-04-15T08:37:47.6290842Z       âœ“ should handle escaped backslashes in parameter names and descriptions
2025-04-15T08:37:47.6291438Z       âœ“ should handle mixed escaped characters in parameter names and descriptions (1 ms)
2025-04-15T08:37:47.6291791Z     Edge Cases and Limitations
2025-04-15T08:37:47.6292172Z       âœ“ should ignore excess arguments in $fromAI calls beyond the fourth argument (1 ms)
2025-04-15T08:37:47.6292630Z       âœ“ should correctly parse $fromAI calls with nested parentheses
2025-04-15T08:37:47.6293290Z       âœ“ should handle $fromAI calls with very long descriptions (1 ms)
2025-04-15T08:37:47.6293685Z       âœ“ should handle $fromAI calls with only some parameters (1 ms)
2025-04-15T08:37:47.6294000Z     Unicode and Internationalization
2025-04-15T08:37:47.6294332Z       âœ“ should handle $fromAI calls with unicode characters (1 ms)
2025-04-15T08:37:47.6294520Z 
2025-04-15T08:37:47.6294834Z PASS src/execution-engine/partial-execution-utils/__tests__/get-source-data-groups.test.ts
2025-04-15T08:37:47.6295212Z   getSourceDataGroups
2025-04-15T08:37:47.6295563Z     âœ“ groups sources into possibly complete sets if all of them have data (13 ms)
2025-04-15T08:37:47.6296039Z     âœ“ groups sources into possibly complete sets if all of them have data (1 ms)
2025-04-15T08:37:47.6296613Z     âœ“ groups sources into one complete set with 2 connections and one incomplete set with 1 connection (1 ms)
2025-04-15T08:37:47.6297250Z     âœ“ groups sources into one complete set with 2 connections and one incomplete set with 2 connection (9 ms)
2025-04-15T08:37:47.6298002Z     âœ“ groups sources into two incomplete sets, one with 1 connection without and one with 2 connections one with data and one without (2 ms)
2025-04-15T08:37:47.6298596Z     âœ“ return an incomplete group when there is no data on input 2 (1 ms)
2025-04-15T08:37:47.6299036Z     âœ“ return an incomplete group when there is no data on input 1 (1 ms)
2025-04-15T08:37:47.6299472Z     âœ“ terminates with negative input indexes (1 ms)
2025-04-15T08:37:47.6299793Z     âœ“ terminates inputs with missing connections (1 ms)
2025-04-15T08:37:47.6300117Z     âœ“ terminates if the graph has no connections
2025-04-15T08:37:47.6300290Z 
2025-04-15T08:37:47.6300462Z PASS src/execution-engine/__tests__/routing-node.test.ts
2025-04-15T08:37:47.6300720Z   RoutingNode
2025-04-15T08:37:47.6300982Z     âœ“ applyDeclarativeNodeOptionParameters (6 ms)
2025-04-15T08:37:47.6301280Z     getRequestOptionsFromParameters
2025-04-15T08:37:47.6301618Z       âœ“ single parameter, only send defined, fixed value (4 ms)
2025-04-15T08:37:47.6302044Z       âœ“ single parameter, only send defined, using expression (68 ms)
2025-04-15T08:37:47.6302462Z       âœ“ single parameter, send and operations defined, fixed value (1 ms)
2025-04-15T08:37:47.6302883Z       âœ“ multiple parameters, complex example with everything (23 ms)
2025-04-15T08:37:47.6303175Z     runNode
2025-04-15T08:37:47.6303544Z       âœ“ single parameter, only send defined, fixed value, using requestDefaults (2 ms)
2025-04-15T08:37:47.6304055Z       âœ“ single parameter, only send defined, fixed value, using requestDefaults (3 ms)
2025-04-15T08:37:47.6304657Z       âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite (1 ms)
2025-04-15T08:37:47.6305496Z       âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite and expressions (3 ms)
2025-04-15T08:37:47.6306223Z       âœ“ single parameter, send and operations defined, fixed value with pagination (2 ms)
2025-04-15T08:37:47.6307024Z       âœ“ multiple parameters, from applyDeclarativeNodeOptionParameters (8 ms)
2025-04-15T08:37:47.6307534Z       âœ“ multiple parameters, complex example with everything (9 ms)
2025-04-15T08:37:47.6307956Z       âœ“ single parameter, postReceive: set (1 ms)
2025-04-15T08:37:47.6308383Z       âœ“ single parameter, postReceive: rootProperty (1 ms)
2025-04-15T08:37:47.6308922Z       âœ“ single parameter, multiple postReceive: rootProperty, setKeyValue, sort (5 ms)
2025-04-15T08:37:47.6309399Z     itemIndex
2025-04-15T08:37:47.6309841Z       âœ“ single parameter, only send defined, fixed value, using requestDefaults
2025-04-15T08:37:47.6310112Z 
2025-04-15T08:37:47.6311488Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6313216Z PASS src/execution-engine/__tests__/workflow-execute.test.ts (5.498 s)
2025-04-15T08:37:47.6313549Z   WorkflowExecute
2025-04-15T08:37:47.6313734Z     v0 execution order
2025-04-15T08:37:47.6314311Z       âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (72 ms)
2025-04-15T08:37:47.6314988Z       âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (30 ms)
2025-04-15T08:37:47.6315438Z       âœ“ should run basic two node workflow (3 ms)
2025-04-15T08:37:47.6315869Z       âœ“ should run node twice when it has two input connections3 (3 ms)
2025-04-15T08:37:47.6316314Z       âœ“ should run complicated multi node workflow (6 ms)
2025-04-15T08:37:47.6316807Z       âœ“ should run workflow also if node has multiple input connections and one is empty (5 ms)
2025-04-15T08:37:47.6317352Z       âœ“ should use empty data if second input does not have any data (4 ms)
2025-04-15T08:37:47.6317962Z       âœ“ should use empty data if input of sibling does not receive any data from parent (2 ms)
2025-04-15T08:37:47.6318583Z       âœ“ should not use empty data in sibling if parent did not send any data (7 ms)
2025-04-15T08:37:47.6319368Z       âœ“ should display the correct parameters and so correct data when simplified node-versioning is used (3 ms)
2025-04-15T08:37:47.6320138Z       âœ“ should execute nodes in the correct order, breath-first & order of connection (9 ms)
2025-04-15T08:37:47.6320601Z     v1 execution order
2025-04-15T08:37:47.6321005Z       âœ“ should run node twice when it has two input connections (1 ms)
2025-04-15T08:37:47.6321501Z       âœ“ should run complicated multi node workflow (4 ms)
2025-04-15T08:37:47.6322112Z       âœ“ should execute nodes in the correct order, depth-first & the most top-left one first (17 ms)
2025-04-15T08:37:47.6322830Z       âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (11 ms)
2025-04-15T08:37:47.6323500Z       âœ“ should run keep on executing even if data from input 1 is missing (3 ms)
2025-04-15T08:37:47.6324454Z       âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (8 ms)
2025-04-15T08:37:47.6325434Z       âœ“ Should output successful branches on multi-output nodes with continueErrorOutput selected (19 ms)
2025-04-15T08:37:47.6326123Z     run test workflows
2025-04-15T08:37:47.6326840Z       âœ“ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/error_outputs (133 ms)
2025-04-15T08:37:47.6327864Z       âœ“ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/paired_items_fix (45 ms)
2025-04-15T08:37:47.6328439Z     runPartialWorkflow2
2025-04-15T08:37:47.6328814Z       âœ“ deletes dirty nodes' run data (4 ms)
2025-04-15T08:37:47.6329390Z       âœ“ deletes run data of children of dirty nodes as well (2 ms)
2025-04-15T08:37:47.6329910Z       âœ“ removes disabled nodes from the workflow (2 ms)
2025-04-15T08:37:47.6330726Z       âœ“ passes filtered run data to `recreateNodeExecutionStack` (1 ms)
2025-04-15T08:37:47.6331216Z       âœ“ passes subgraph to `cleanRunData` (1 ms)
2025-04-15T08:37:47.6331701Z       âœ“ passes pruned dirty nodes to `cleanRunData` (2 ms)
2025-04-15T08:37:47.6332122Z       âœ“ works with a single node (1 ms)
2025-04-15T08:37:47.6332440Z     checkReadyForExecution
2025-04-15T08:37:47.6332889Z       âœ“ should return null if there are no nodes (1 ms)
2025-04-15T08:37:47.6333393Z       âœ“ should return null if there are no enabled nodes
2025-04-15T08:37:47.6333879Z       âœ“ should return typeUnknown for unknown nodes (1 ms)
2025-04-15T08:37:47.6334307Z       âœ“ should return issues for regular nodes (1 ms)
2025-04-15T08:37:47.6334634Z     runNode
2025-04-15T08:37:47.6335055Z       âœ“ should call closeFunction when manual trigger is aborted (9 ms)
2025-04-15T08:37:47.6335445Z     handleNodeErrorOutput
2025-04-15T08:37:47.6335868Z       âœ“ should handle undefined error data input correctly (1 ms)
2025-04-15T08:37:47.6336566Z       âœ“ should handle empty input
2025-04-15T08:37:47.6336952Z       âœ“ should route error items to last output
2025-04-15T08:37:47.6337352Z       âœ“ should handle error in json with message property
2025-04-15T08:37:47.6337816Z       âœ“ should preserve pairedItem data when routing errors (2 ms)
2025-04-15T08:37:47.6338221Z       âœ“ should route multiple error items correctly (1 ms)
2025-04-15T08:37:47.6338640Z       âœ“ should handle complex pairedItem data correctly (3 ms)
2025-04-15T08:37:47.6338981Z     prepareWaitingToExecution
2025-04-15T08:37:47.6339427Z       âœ“ should initialize waitingExecutionSource if undefined
2025-04-15T08:37:47.6339907Z       âœ“ should create arrays of correct length with null values (1 ms)
2025-04-15T08:37:47.6340347Z       âœ“ should work with zero connections
2025-04-15T08:37:47.6340749Z       âœ“ should handle multiple run indices (1 ms)
2025-04-15T08:37:47.6341066Z     incomingConnectionIsEmpty
2025-04-15T08:37:47.6341495Z       âœ“ should return true when there are no input connections
2025-04-15T08:37:47.6342035Z       âœ“ should return true when all input connections have no data
2025-04-15T08:37:47.6342679Z       âœ“ should return true when input connection node does not exist in runData (1 ms)
2025-04-15T08:37:47.6343311Z       âœ“ should return false when any input connection has data (9 ms)
2025-04-15T08:37:47.6343846Z       âœ“ should check correct run index (1 ms)
2025-04-15T08:37:47.6344294Z       âœ“ should handle undefined data in runData correctly
2025-04-15T08:37:47.6344639Z     moveNodeMetadata
2025-04-15T08:37:47.6345004Z       âœ“ should do nothing when there is no metadata
2025-04-15T08:37:47.6345487Z       âœ“ should merge metadata into runData for single node
2025-04-15T08:37:47.6346024Z       âœ“ should merge metadata into runData for multiple nodes
2025-04-15T08:37:47.6346553Z       âœ“ should preserve existing metadata when merging (1 ms)
2025-04-15T08:37:47.6347000Z       âœ“ should handle multiple run indices
2025-04-15T08:37:47.6347321Z     getFullRunData
2025-04-15T08:37:47.6347877Z       âœ“ should return complete IRun object with all properties correctly set (2 ms)
2025-04-15T08:37:47.6348354Z     processSuccessExecution
2025-04-15T08:37:47.6348848Z       âœ“ should handle different workflow completion scenarios (36 ms)
2025-04-15T08:37:47.6349539Z       âœ“ should handle static data, hooks, and cleanup correctly (4 ms)
2025-04-15T08:37:47.6349938Z     assignPairedItems
2025-04-15T08:37:47.6350298Z       âœ“ should handle undefined node output
2025-04-15T08:37:47.6350809Z       âœ“ should auto-fix pairedItem for single input/output scenario
2025-04-15T08:37:47.6351352Z       âœ“ should auto-fix pairedItem when number of items match
2025-04-15T08:37:47.6351856Z       âœ“ should not modify existing pairedItem data (1 ms)
2025-04-15T08:37:47.6352360Z       âœ“ should process multiple output branches correctly
2025-04-15T08:37:47.6352714Z     ensureInputData
2025-04-15T08:37:47.6353130Z       âœ“ should return true when node has no input connections
2025-04-15T08:37:47.6354034Z       âœ“ should return false when execution data does not have main connection (1 ms)
2025-04-15T08:37:47.6354776Z       âœ“ should return true when input data is available for force input node execution
2025-04-15T08:37:47.6355488Z       âœ“ should return false when input data is not available for force input node execution
2025-04-15T08:37:47.6355931Z     customOperations
2025-04-15T08:37:47.6356260Z       âœ“ should execute customOperations
2025-04-15T08:37:47.6356797Z       âœ“ should throw error if customOperation and execute both defined (1 ms)
2025-04-15T08:37:47.6357120Z 
2025-04-15T08:37:47.6357595Z PASS src/execution-engine/node-execution-context/utils/__tests__/binary-helper-functions.test.ts
2025-04-15T08:37:47.6358176Z   test binary data helper methods
2025-04-15T08:37:47.6358757Z     âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'default' mode (372 ms)
2025-04-15T08:37:47.6359642Z     âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'filesystem' mode (18 ms)
2025-04-15T08:37:47.6360363Z   binaryToString
2025-04-15T08:37:47.6360705Z     âœ“ should handle undefined encoding (1 ms)
2025-04-15T08:37:47.6361147Z     âœ“ should handle stream with no explicit encoding
2025-04-15T08:37:47.6361496Z     should handle Buffer
2025-04-15T08:37:47.6361793Z       âœ“ with utf8 (7 ms)
2025-04-15T08:37:47.6362128Z       âœ“ with iso-8859-15 (1 ms)
2025-04-15T08:37:47.6362435Z       âœ“ with latin1
2025-04-15T08:37:47.6362699Z       âœ“ with ascii
2025-04-15T08:37:47.6363005Z       âœ“ with windows-1252 (1 ms)
2025-04-15T08:37:47.6363346Z       âœ“ with shift-jis (5 ms)
2025-04-15T08:37:47.6363725Z       âœ“ with big5 (7 ms)
2025-04-15T08:37:47.6364052Z       âœ“ with koi8-r (1 ms)
2025-04-15T08:37:47.6364342Z     should handle streams
2025-04-15T08:37:47.6364642Z       âœ“ with utf8 (2 ms)
2025-04-15T08:37:47.6364948Z       âœ“ with iso-8859-15
2025-04-15T08:37:47.6365240Z       âœ“ with latin1 (1 ms)
2025-04-15T08:37:47.6365547Z       âœ“ with ascii
2025-04-15T08:37:47.6365866Z       âœ“ with windows-1252 (1 ms)
2025-04-15T08:37:47.6366377Z       âœ“ with shift-jis
2025-04-15T08:37:47.6366694Z       âœ“ with big5 (1 ms)
2025-04-15T08:37:47.6367004Z       âœ“ with koi8-r
2025-04-15T08:37:47.6367306Z     should handle IncomingMessage
2025-04-15T08:37:47.6367641Z       âœ“ with utf8 (1 ms)
2025-04-15T08:37:47.6367984Z       âœ“ with iso-8859-15 (1 ms)
2025-04-15T08:37:47.6368313Z       âœ“ with latin1
2025-04-15T08:37:47.6368621Z       âœ“ with ascii (2 ms)
2025-04-15T08:37:47.6368976Z       âœ“ with windows-1252 (10 ms)
2025-04-15T08:37:47.6369357Z       âœ“ with shift-jis
2025-04-15T08:37:47.6369635Z       âœ“ with big5 (1 ms)
2025-04-15T08:37:47.6369912Z       âœ“ with koi8-r
2025-04-15T08:37:47.6370163Z   detectBinaryEncoding
2025-04-15T08:37:47.6370554Z     âœ“ should detect encoding for utf-8 buffers (2 ms)
2025-04-15T08:37:47.6371044Z     âœ“ should detect encoding for latin1 buffers (1 ms)
2025-04-15T08:37:47.6371478Z     âœ“ should handle empty buffer
2025-04-15T08:37:47.6371777Z   assertBinaryData
2025-04-15T08:37:47.6372232Z     âœ“ should throw error when no binary data exists (26 ms)
2025-04-15T08:37:47.6372858Z     âœ“ should throw error when specific binary property does not exist (1 ms)
2025-04-15T08:37:47.6373388Z     âœ“ should return binary data when it exists
2025-04-15T08:37:47.6373689Z   copyBinaryFile
2025-04-15T08:37:47.6374084Z     âœ“ should handle files without explicit mime type (1 ms)
2025-04-15T08:37:47.6374509Z     âœ“ should use provided mime type (1 ms)
2025-04-15T08:37:47.6374836Z   prepareBinaryData
2025-04-15T08:37:47.6375261Z     âœ“ parses filenames correctly (3 ms)
2025-04-15T08:37:47.6375737Z     âœ“ handles IncomingMessage with responseUrl (1 ms)
2025-04-15T08:37:47.6376202Z     âœ“ handles buffer with no detectable mime type
2025-04-15T08:37:47.6376641Z     âœ“ handles IncomingMessage with no content type or filename (1 ms)
2025-04-15T08:37:47.6376999Z   setBinaryDataBuffer
2025-04-15T08:37:47.6377289Z     âœ“ should handle empty buffer
2025-04-15T08:37:47.6377556Z   getBinaryHelperFunctions
2025-04-15T08:37:47.6378259Z     âœ“ should return helper functions with correct context (2 ms)
2025-04-15T08:37:47.6378654Z   createBinarySignedUrl
2025-04-15T08:37:47.6378961Z     âœ“ should get a signed url
2025-04-15T08:37:47.6379150Z 
2025-04-15T08:37:47.6380894Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6382488Z PASS src/instance-settings/__tests__/instance-settings.test.ts
2025-04-15T08:37:47.6382889Z   InstanceSettings
2025-04-15T08:37:47.6383166Z     If the settings file exists
2025-04-15T08:37:47.6383574Z       âœ“ should load settings from the file (5 ms)
2025-04-15T08:37:47.6384159Z       âœ“ should throw error if settings file is not valid JSON (33 ms)
2025-04-15T08:37:47.6384747Z       âœ“ should throw if the env and file keys do not match (2 ms)
2025-04-15T08:37:47.6385571Z       âœ“ should check if the settings file has the correct permissions (2 ms)
2025-04-15T08:37:47.6386375Z       âœ“ should check the permissions but not fix them if settings file has incorrect permissions by default
2025-04-15T08:37:47.6387217Z       âœ“ should not check the permissions if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is false
2025-04-15T08:37:47.6388091Z       âœ“ should fix the permissions of the settings file if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is true (1 ms)
2025-04-15T08:37:47.6388693Z     If the settings file does not exist
2025-04-15T08:37:47.6389560Z       âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS is not set (1 ms)
2025-04-15T08:37:47.6390640Z       âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false (1 ms)
2025-04-15T08:37:47.6391691Z       âœ“ should create a new settings file with explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (1 ms)
2025-04-15T08:37:47.6392562Z       âœ“ should pick up the encryption key from env var N8N_ENCRYPTION_KEY (2 ms)
2025-04-15T08:37:47.6393402Z       âœ“ should not set the permissions of the settings file if 'N8N_IGNORE_SETTINGS_FILE_PERMISSIONS' is true (1 ms)
2025-04-15T08:37:47.6394247Z       âœ“ should throw on a worker process, if encryption key isn't set via env (2 ms)
2025-04-15T08:37:47.6394702Z     constructor
2025-04-15T08:37:47.6395037Z       âœ“ should generate a `hostId` (1 ms)
2025-04-15T08:37:47.6395369Z     isDocker
2025-04-15T08:37:47.6395745Z       âœ“ should return true if /.dockerenv exists (1 ms)
2025-04-15T08:37:47.6396262Z       âœ“ should return true if /run/.containerenv exists (2 ms)
2025-04-15T08:37:47.6396833Z       âœ“ should return true if /proc/self/cgroup contains docker (1 ms)
2025-04-15T08:37:47.6397442Z       âœ“ should return true if /proc/self/cgroup contains kubepods (1 ms)
2025-04-15T08:37:47.6398069Z       âœ“ should return true if /proc/self/cgroup contains containerd (1 ms)
2025-04-15T08:37:47.6398765Z       âœ“ should return true if /proc/self/mountinfo contains docker (14 ms)
2025-04-15T08:37:47.6399516Z       âœ“ should return true if /proc/self/mountinfo contains kubelet (1 ms)
2025-04-15T08:37:47.6400186Z       âœ“ should return true if /proc/self/mountinfo contains containerd (1 ms)
2025-04-15T08:37:47.6400729Z       âœ“ should return false if no docker indicators are found
2025-04-15T08:37:47.6401337Z       âœ“ should return false if reading any of these files throws an error (1 ms)
2025-04-15T08:37:47.6401912Z       âœ“ should cache the result of isDocker check (1 ms)
2025-04-15T08:37:47.6402173Z 
2025-04-15T08:37:47.6402683Z PASS src/execution-engine/node-execution-context/utils/__tests__/get-input-connection-data.test.ts
2025-04-15T08:37:47.6403211Z   getInputConnectionData
2025-04-15T08:37:47.6403451Z     ai_agent
2025-04-15T08:37:47.6403789Z       âœ“ should throw when no inputs are defined (56 ms)
2025-04-15T08:37:47.6404593Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6405179Z       âœ“ should throw when too many nodes are connected (2 ms)
2025-04-15T08:37:47.6405587Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6406078Z       âœ“ should handle disabled nodes (2 ms)
2025-04-15T08:37:47.6406443Z       âœ“ should handle node execution errors (2 ms)
2025-04-15T08:37:47.6406796Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6407206Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6407546Z     ai_chain
2025-04-15T08:37:47.6407934Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6408578Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:37:47.6409235Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:37:47.6409916Z       âœ“ should throw when required node is not connected (3 ms)
2025-04-15T08:37:47.6410647Z       âœ“ should handle disabled nodes (2 ms)
2025-04-15T08:37:47.6411098Z       âœ“ should handle node execution errors (2 ms)
2025-04-15T08:37:47.6411585Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6412046Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6412369Z     ai_document
2025-04-15T08:37:47.6412711Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6413250Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6413795Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:37:47.6414324Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6414739Z       âœ“ should handle disabled nodes (6 ms)
2025-04-15T08:37:47.6415125Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:37:47.6415524Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6415911Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6416215Z     ai_embedding
2025-04-15T08:37:47.6416563Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6417149Z       âœ“ should return undefined when no nodes are connected and input is not required (2 ms)
2025-04-15T08:37:47.6417709Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:37:47.6418180Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6418593Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:37:47.6418992Z       âœ“ should handle node execution errors (2 ms)
2025-04-15T08:37:47.6419448Z       âœ“ should propagate configuration errors
2025-04-15T08:37:47.6419869Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6420199Z     ai_languageModel
2025-04-15T08:37:47.6420576Z       âœ“ should throw when no inputs are defined
2025-04-15T08:37:47.6421230Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6421820Z       âœ“ should throw when too many nodes are connected
2025-04-15T08:37:47.6422269Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6422659Z       âœ“ should handle disabled nodes
2025-04-15T08:37:47.6423029Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:37:47.6423445Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6423825Z       âœ“ should handle close functions
2025-04-15T08:37:47.6424096Z     ai_memory
2025-04-15T08:37:47.6424421Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6424970Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:37:47.6425507Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:37:47.6426007Z       âœ“ should throw when required node is not connected (7 ms)
2025-04-15T08:37:47.6426405Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:37:47.6426788Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:37:47.6427473Z       âœ“ should propagate configuration errors
2025-04-15T08:37:47.6427865Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6428152Z     ai_outputParser
2025-04-15T08:37:47.6428492Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6429074Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6429743Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:37:47.6430224Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6430662Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:37:47.6431047Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:37:47.6431446Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6431885Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6432179Z     ai_retriever
2025-04-15T08:37:47.6432498Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6433314Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6433891Z       âœ“ should throw when too many nodes are connected
2025-04-15T08:37:47.6434334Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6434750Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:37:47.6435142Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:37:47.6435564Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6435946Z       âœ“ should handle close functions
2025-04-15T08:37:47.6436215Z     ai_textSplitter
2025-04-15T08:37:47.6436514Z       âœ“ should throw when no inputs are defined
2025-04-15T08:37:47.6437028Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6437588Z       âœ“ should throw when too many nodes are connected (10 ms)
2025-04-15T08:37:47.6438051Z       âœ“ should throw when required node is not connected (2 ms)
2025-04-15T08:37:47.6438501Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:37:47.6438884Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:37:47.6439367Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6439741Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6440045Z     ai_vectorStore
2025-04-15T08:37:47.6440422Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:37:47.6441031Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:37:47.6441582Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:37:47.6442039Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:37:47.6442428Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:37:47.6442784Z       âœ“ should handle node execution errors (2 ms)
2025-04-15T08:37:47.6443167Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:37:47.6443578Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:37:47.6443838Z     ai_tool
2025-04-15T08:37:47.6444283Z       âœ“ should return empty array when no tools are connected and input is not required (3 ms)
2025-04-15T08:37:47.6444904Z       âœ“ should throw when required tool node is not connected (1 ms)
2025-04-15T08:37:47.6445398Z       âœ“ should handle disabled tool nodes (1 ms)
2025-04-15T08:37:47.6445868Z       âœ“ should handle multiple connected tools (2 ms)
2025-04-15T08:37:47.6446498Z       âœ“ should handle tool execution errors (3 ms)
2025-04-15T08:37:47.6447023Z       âœ“ should return the tool when there are no issues (1 ms)
2025-04-15T08:37:47.6447424Z   makeHandleToolInvocation
2025-04-15T08:37:47.6447969Z     âœ“ should return stringified results when execution is successful (2 ms)
2025-04-15T08:37:47.6448624Z     âœ“ should handle binary data and return a warning message (1 ms)
2025-04-15T08:37:47.6449160Z     âœ“ should continue if json and binary data exist
2025-04-15T08:37:47.6449813Z     âœ“ should handle execution errors and return an error message (10 ms)
2025-04-15T08:37:47.6450575Z     âœ“ should increment the toolRunIndex for each invocation
2025-04-15T08:37:47.6450820Z 
2025-04-15T08:37:47.6451162Z PASS src/binary-data/object-store/__tests__/object-store.service.test.ts
2025-04-15T08:37:47.6451601Z   checkConnection()
2025-04-15T08:37:47.6451956Z     âœ“ should send a HEAD request to the correct host (8 ms)
2025-04-15T08:37:47.6452380Z     âœ“ should throw an error on request failure (37 ms)
2025-04-15T08:37:47.6452670Z   getMetadata()
2025-04-15T08:37:47.6453037Z     âœ“ should send a HEAD request to the correct host and path (1 ms)
2025-04-15T08:37:47.6453493Z     âœ“ should throw an error on request failure (2 ms)
2025-04-15T08:37:47.6453777Z   put()
2025-04-15T08:37:47.6454153Z     âœ“ should send a PUT request to upload an object (2 ms)
2025-04-15T08:37:47.6454594Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:37:47.6454891Z   get()
2025-04-15T08:37:47.6455270Z     âœ“ should send a GET request to download an object as a buffer (2 ms)
2025-04-15T08:37:47.6456078Z     âœ“ should send a GET request to download an object as a stream (1 ms)
2025-04-15T08:37:47.6456532Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:37:47.6456859Z   deleteOne()
2025-04-15T08:37:47.6457220Z     âœ“ should send a DELETE request to delete a single object
2025-04-15T08:37:47.6457655Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:37:47.6457957Z   deleteMany()
2025-04-15T08:37:47.6458320Z     âœ“ should send a POST request to delete multiple objects (2 ms)
2025-04-15T08:37:47.6458786Z     âœ“ should not send a deletion request if no prefix match
2025-04-15T08:37:47.6459205Z     âœ“ should throw an error on request failure (2 ms)
2025-04-15T08:37:47.6459573Z   list()
2025-04-15T08:37:47.6459850Z     âœ“ should list objects with a common prefix
2025-04-15T08:37:47.6460210Z     âœ“ should consolidate pages (1 ms)
2025-04-15T08:37:47.6460572Z     âœ“ should throw an error on request failure (7 ms)
2025-04-15T08:37:47.6460796Z 
2025-04-15T08:37:47.6461144Z PASS src/execution-engine/partial-execution-utils/__tests__/find-subgraph.test.ts
2025-04-15T08:37:47.6461566Z   findSubgraph
2025-04-15T08:37:47.6461811Z     âœ“ simple (5 ms)
2025-04-15T08:37:47.6462098Z     âœ“ works with a single node (1 ms)
2025-04-15T08:37:47.6462406Z     âœ“ multiple connections
2025-04-15T08:37:47.6462709Z     âœ“ disregard nodes after destination (1 ms)
2025-04-15T08:37:47.6463190Z     âœ“ terminates when called with graph that contains cycles (1 ms)
2025-04-15T08:37:47.6463733Z     âœ“ terminates when called with graph that contains cycles
2025-04-15T08:37:47.6464268Z     âœ“ terminates if the destination node is part of a cycle (1 ms)
2025-04-15T08:37:47.6464600Z     root nodes
2025-04-15T08:37:47.6465081Z       âœ“ always retain connections that have a different type than `NodeConnectionTypes.Main`
2025-04-15T08:37:47.6465588Z       âœ“ skip non-Main connection types
2025-04-15T08:37:47.6465935Z       âœ“ remove orphaned nodes (1 ms)
2025-04-15T08:37:47.6466148Z 
2025-04-15T08:37:47.6466575Z PASS src/execution-engine/node-execution-context/utils/__tests__/validate-value-against-schema.test.ts
2025-04-15T08:37:47.6467110Z   validateValueAgainstSchema
2025-04-15T08:37:47.6467551Z     âœ“ should validate fixedCollection values parameter (4 ms)
2025-04-15T08:37:47.6468012Z     âœ“ should validate single value parameter (1 ms)
2025-04-15T08:37:47.6468394Z     when validating a resource mapper value
2025-04-15T08:37:47.6468729Z       when attemptToConvertTypes === true
2025-04-15T08:37:47.6469076Z         should correctly validate values for
2025-04-15T08:37:47.6469497Z           âœ“ { num: 0 } (1 ms)
2025-04-15T08:37:47.6469787Z           âœ“ { num: 23 }
2025-04-15T08:37:47.6470146Z           âœ“ { num: -0 } (1 ms)
2025-04-15T08:37:47.6470466Z           âœ“ { num: -Infinity }
2025-04-15T08:37:47.6470809Z           âœ“ { num: Infinity } (1 ms)
2025-04-15T08:37:47.6471127Z           âœ“ { str: '' }
2025-04-15T08:37:47.6471434Z           âœ“ { str: ' ' } (1 ms)
2025-04-15T08:37:47.6472014Z           âœ“ { str: 'hello' }
2025-04-15T08:37:47.6472310Z           âœ“ { arr: [] } (1 ms)
2025-04-15T08:37:47.6472601Z           âœ“ { obj: {} }
2025-04-15T08:37:47.6472908Z         should throw an error for
2025-04-15T08:37:47.6473282Z           âœ“ { num: NaN } (22 ms)
2025-04-15T08:37:47.6473644Z           âœ“ { num: undefined } (1 ms)
2025-04-15T08:37:47.6474005Z           âœ“ { num: null } (1 ms)
2025-04-15T08:37:47.6474377Z       when showTypeConversionOptions is not set (=default)
2025-04-15T08:37:47.6474847Z         âœ“ should correctly convert types (1 ms)
2025-04-15T08:37:47.6475214Z       when showTypeConversionOptions is true
2025-04-15T08:37:47.6475603Z         âœ“ should throw an error (1 ms)
2025-04-15T08:37:47.6475813Z 
2025-04-15T08:37:47.6476241Z PASS src/execution-engine/node-execution-context/utils/__tests__/parse-incoming-message.test.ts
2025-04-15T08:37:47.6476756Z   parseContentType
2025-04-15T08:37:47.6477123Z     âœ“ should parse basic content type (6 ms)
2025-04-15T08:37:47.6477767Z     âœ“ should convert type to lowercase (1 ms)
2025-04-15T08:37:47.6478161Z     âœ“ should parse content type with charset
2025-04-15T08:37:47.6478640Z     âœ“ should parse content type with multiple parameters (1 ms)
2025-04-15T08:37:47.6479086Z     âœ“ should handle quoted parameter values
2025-04-15T08:37:47.6479619Z     âœ“ should handle encoded parameter values (1 ms)
2025-04-15T08:37:47.6480036Z     âœ“ should return null for undefined input
2025-04-15T08:37:47.6480443Z     âœ“ should return null for empty string
2025-04-15T08:37:47.6480765Z   parseContentDisposition
2025-04-15T08:37:47.6481172Z     âœ“ should parse basic content disposition (1 ms)
2025-04-15T08:37:47.6481585Z     âœ“ should parse filename without quotes
2025-04-15T08:37:47.6481984Z     âœ“ should parse inline disposition (1 ms)
2025-04-15T08:37:47.6482356Z     âœ“ should parse filename with spaces
2025-04-15T08:37:47.6482794Z     âœ“ should parse filename* parameter (RFC 5987)
2025-04-15T08:37:47.6483327Z     âœ“ should handle invalid syntax but with filename (1 ms)
2025-04-15T08:37:47.6483873Z     âœ“ should handle invalid syntax with only filename parameter
2025-04-15T08:37:47.6484340Z     âœ“ should return null for undefined input
2025-04-15T08:37:47.6484760Z     âœ“ should return null for empty string (1 ms)
2025-04-15T08:37:47.6485149Z     âœ“ should handle encoded filenames
2025-04-15T08:37:47.6485512Z     âœ“ should handle multiple parameters
2025-04-15T08:37:47.6485818Z   parseIncomingMessage
2025-04-15T08:37:47.6486359Z     âœ“ parses valid content-type header (1 ms)
2025-04-15T08:37:47.6486870Z     âœ“ parses valid content-type header with parameters (1 ms)
2025-04-15T08:37:47.6487480Z     âœ“ parses valid content-type header with encoding wrapped in quotes
2025-04-15T08:37:47.6488055Z     âœ“ parses valid content-disposition header with filename* (1 ms)
2025-04-15T08:37:47.6488620Z     âœ“ parses valid content-disposition header with filename* (quoted)
2025-04-15T08:37:47.6489251Z     âœ“ parses valid content-disposition header with filename and trailing ";" (1 ms)
2025-04-15T08:37:47.6490181Z     âœ“ parses non standard content-disposition with missing type
2025-04-15T08:37:47.6490453Z 
2025-04-15T08:37:47.6490876Z PASS src/execution-engine/node-execution-context/__tests__/node-execution-context.test.ts
2025-04-15T08:37:47.6491335Z   NodeExecutionContext
2025-04-15T08:37:47.6491561Z     getNode
2025-04-15T08:37:47.6491900Z       âœ“ should return a deep copy of the node (4 ms)
2025-04-15T08:37:47.6492199Z     getWorkflow
2025-04-15T08:37:47.6492622Z       âœ“ should return the id, name, and active properties of the workflow (1 ms)
2025-04-15T08:37:47.6493003Z     getMode
2025-04-15T08:37:47.6493300Z       âœ“ should return the mode property
2025-04-15T08:37:47.6493604Z     getWorkflowStaticData
2025-04-15T08:37:47.6494001Z       âœ“ should call getStaticData method of workflow (1 ms)
2025-04-15T08:37:47.6494335Z     getChildNodes
2025-04-15T08:37:47.6494918Z       âœ“ should return an array of NodeTypeAndVersion objects for the child nodes of the given node (1 ms)
2025-04-15T08:37:47.6495685Z     getParentNodes
2025-04-15T08:37:47.6496264Z       âœ“ should return an array of NodeTypeAndVersion objects for the parent nodes of the given node (1 ms)
2025-04-15T08:37:47.6496762Z     getKnownNodeTypes
2025-04-15T08:37:47.6497153Z       âœ“ should call getKnownTypes method of nodeTypes
2025-04-15T08:37:47.6497477Z     getRestApiUrl
2025-04-15T08:37:47.6497893Z       âœ“ should return the restApiUrl property of additionalData (1 ms)
2025-04-15T08:37:47.6498256Z     getInstanceBaseUrl
2025-04-15T08:37:47.6498656Z       âœ“ should return the instanceBaseUrl property of additionalData
2025-04-15T08:37:47.6499020Z     getInstanceId
2025-04-15T08:37:47.6499513Z       âœ“ should return the instanceId property of instanceSettings (1 ms)
2025-04-15T08:37:47.6499892Z     getTimezone
2025-04-15T08:37:47.6500247Z       âœ“ should return the timezone property of workflow
2025-04-15T08:37:47.6500607Z     getCredentialsProperties
2025-04-15T08:37:47.6501207Z       âœ“ should call getCredentialsProperties method of additionalData.credentialsHelper (1 ms)
2025-04-15T08:37:47.6501700Z     prepareOutputData
2025-04-15T08:37:47.6502080Z       âœ“ should return the input array wrapped in another array
2025-04-15T08:37:47.6502401Z     getNodeInputs
2025-04-15T08:37:47.6502800Z       âœ“ should return static inputs array when inputs is an array (1 ms)
2025-04-15T08:37:47.6503323Z       âœ“ should return input objects when inputs contains configurations
2025-04-15T08:37:47.6503867Z       âœ“ should evaluate dynamic inputs when inputs is a function (1 ms)
2025-04-15T08:37:47.6504222Z     getNodeOutputs
2025-04-15T08:37:47.6504613Z       âœ“ should return static outputs array when outputs is an array
2025-04-15T08:37:47.6505134Z       âœ“ should return output objects when outputs contains configurations
2025-04-15T08:37:47.6505717Z       âœ“ should evaluate dynamic outputs when outputs is a function
2025-04-15T08:37:47.6506276Z       âœ“ should add error output when node has continueOnFail error handling
2025-04-15T08:37:47.6506644Z     getConnectedNodes
2025-04-15T08:37:47.6507050Z       âœ“ should return connected nodes of given type (4 ms)
2025-04-15T08:37:47.6507470Z       âœ“ should filter out disabled nodes (1 ms)
2025-04-15T08:37:47.6507848Z       âœ“ should filter out non-existent nodes
2025-04-15T08:37:47.6508034Z 
2025-04-15T08:37:47.6508383Z PASS src/execution-engine/partial-execution-utils/__tests__/clean-run-data.test.ts
2025-04-15T08:37:47.6508828Z   cleanRunData
2025-04-15T08:37:47.6509266Z     âœ“ deletes all run data of all children and the node being passed in (5 ms)
2025-04-15T08:37:47.6509920Z     âœ“ retains the run data of parent nodes of the node being passed in (1 ms)
2025-04-15T08:37:47.6510383Z     âœ“ terminates when finding a cycle (1 ms)
2025-04-15T08:37:47.6510848Z     âœ“ removes run data of nodes that are not in the subgraph (1 ms)
2025-04-15T08:37:47.6511448Z     âœ“ removes run data of sub nodes when the start node is a root node (1 ms)
2025-04-15T08:37:47.6512031Z     âœ“ removes run data of sub nodes for root nodes downstream of the start node (1 ms)
2025-04-15T08:37:47.6512966Z     âœ“ removes run data of sub nodes as well if the sub node is shared between multiple root nodes (1 ms)
2025-04-15T08:37:47.6513338Z 
2025-04-15T08:37:47.6513783Z PASS src/execution-engine/partial-execution-utils/__tests__/find-trigger-for-partial-execution.test.ts
2025-04-15T08:37:47.6514374Z   findTriggerForPartialExecution
2025-04-15T08:37:47.6514675Z     Single trigger node
2025-04-15T08:37:47.6515132Z       âœ“ should return the destination node if it is a trigger (5 ms)
2025-04-15T08:37:47.6515734Z       âœ“ should return a parent trigger node for a non-trigger destination (2 ms)
2025-04-15T08:37:47.6516161Z     Multiple trigger nodes
2025-04-15T08:37:47.6516705Z       âœ“ should prioritize webhook nodes when multiple parent triggers exist (1 ms)
2025-04-15T08:37:47.6517242Z       âœ“ should handle multiple webhook triggers (2 ms)
2025-04-15T08:37:47.6517781Z       âœ“ should prioritize webhook node, even if it is further up (1 ms)
2025-04-15T08:37:47.6518677Z       âœ“ should ignore disabled parent trigger nodes (1 ms)
2025-04-15T08:37:47.6519035Z     No trigger nodes
2025-04-15T08:37:47.6519581Z       âœ“ should return undefined when no valid parent triggers found (1 ms)
2025-04-15T08:37:47.6520029Z     Trigger node with pinned data
2025-04-15T08:37:47.6520441Z       âœ“ should prioritize pinned trigger nodes (1 ms)
2025-04-15T08:37:47.6520905Z       âœ“ should prioritize pinned webhook triggers (2 ms)
2025-04-15T08:37:47.6521398Z       âœ“ should prioritize the first connected pinned webhook triggers (2 ms)
2025-04-15T08:37:47.6522030Z       âœ“ should prioritize the first connected pinned webhook triggers (reverse) (4 ms)
2025-04-15T08:37:47.6522464Z     Error and Edge Case Handling
2025-04-15T08:37:47.6522951Z       âœ“ should handle non-existent destination node gracefully (1 ms)
2025-04-15T08:37:47.6523405Z       âœ“ should handle empty workflow
2025-04-15T08:37:47.6523823Z       âœ“ should handle workflow with no connections (1 ms)
2025-04-15T08:37:47.6524040Z 
2025-04-15T08:37:47.6524333Z PASS src/execution-engine/__tests__/active-workflows.test.ts
2025-04-15T08:37:47.6524675Z   ActiveWorkflows
2025-04-15T08:37:47.6524883Z     add()
2025-04-15T08:37:47.6525139Z       should activate workflow
2025-04-15T08:37:47.6525481Z         âœ“ with trigger nodes (8 ms)
2025-04-15T08:37:47.6525834Z         âœ“ with polling nodes (3 ms)
2025-04-15T08:37:47.6526415Z         âœ“ with both trigger and polling nodes (2 ms)
2025-04-15T08:37:47.6526764Z       should throw error
2025-04-15T08:37:47.6527136Z         âœ“ if trigger activation fails (19 ms)
2025-04-15T08:37:47.6527577Z         âœ“ if polling activation fails (1 ms)
2025-04-15T08:37:47.6528068Z         âœ“ if the polling interval is too short (1 ms)
2025-04-15T08:37:47.6528475Z       should handle polling errors
2025-04-15T08:37:47.6528997Z         âœ“ should throw error when poll fails during initial testing (2 ms)
2025-04-15T08:37:47.6529666Z         âœ“ should emit error when poll fails during regular polling (1 ms)
2025-04-15T08:37:47.6530094Z     remove()
2025-04-15T08:37:47.6530432Z       âœ“ should remove an active workflow (1 ms)
2025-04-15T08:37:47.6530933Z       âœ“ should return false when removing non-existent workflow
2025-04-15T08:37:47.6531499Z       âœ“ should handle TriggerCloseError when closing trigger (2 ms)
2025-04-15T08:37:47.6532229Z       âœ“ should throw WorkflowDeactivationError when closeFunction throws regular error (1 ms)
2025-04-15T08:37:47.6532743Z     get() and isActive()
2025-04-15T08:37:47.6533151Z       âœ“ should return workflow data for active workflow
2025-04-15T08:37:47.6533644Z       âœ“ should return undefined for non-active workflow
2025-04-15T08:37:47.6534029Z     allActiveWorkflows()
2025-04-15T08:37:47.6534410Z       âœ“ should return all active workflow IDs
2025-04-15T08:37:47.6534819Z     removeAllTriggerAndPollerBasedWorkflows()
2025-04-15T08:37:47.6535251Z       âœ“ should remove all active workflows (1 ms)
2025-04-15T08:37:47.6535430Z 
2025-04-15T08:37:47.6536909Z Permissions 00 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6538746Z PASS src/execution-engine/node-execution-context/utils/__tests__/file-system-helper-functions.test.ts
2025-04-15T08:37:47.6539342Z   isFilePathBlocked
2025-04-15T08:37:47.6539770Z     âœ“ should return true for static cache dir (12 ms)
2025-04-15T08:37:47.6540256Z     âœ“ should return true for restricted paths (1 ms)
2025-04-15T08:37:47.6540714Z     âœ“ should handle empty allowed paths
2025-04-15T08:37:47.6541188Z     âœ“ should handle multiple allowed paths (1 ms)
2025-04-15T08:37:47.6541691Z     âœ“ should handle empty strings in allowed paths
2025-04-15T08:37:47.6542162Z     âœ“ should trim whitespace in allowed paths
2025-04-15T08:37:47.6542743Z     âœ“ should return false when BLOCK_FILE_ACCESS_TO_N8N_FILES is false (1 ms)
2025-04-15T08:37:47.6543670Z     âœ“ should return true when path is in allowed paths but still restricted (1 ms)
2025-04-15T08:37:47.6544242Z     âœ“ should return false when path is in allowed paths
2025-04-15T08:37:47.6544734Z     âœ“ should return true when file paths in CONFIG_FILES
2025-04-15T08:37:47.6545294Z     âœ“ should return true when file paths in CUSTOM_EXTENSION_ENV (1 ms)
2025-04-15T08:37:47.6545901Z     âœ“ should return true when file paths in BINARY_DATA_STORAGE_PATH
2025-04-15T08:37:47.6546321Z     âœ“ should block file paths in email template paths
2025-04-15T08:37:47.6546646Z   getFileSystemHelperFunctions
2025-04-15T08:37:47.6547096Z     âœ“ should create helper functions with correct context (1 ms)
2025-04-15T08:37:47.6547446Z     getStoragePath
2025-04-15T08:37:47.6547749Z       âœ“ returns correct path (1 ms)
2025-04-15T08:37:47.6548021Z     createReadStream
2025-04-15T08:37:47.6548347Z       âœ“ should throw error for non-existent file (13 ms)
2025-04-15T08:37:47.6548787Z       âœ“ should throw when file access is blocked (1 ms)
2025-04-15T08:37:47.6549223Z       âœ“ should create a read stream if file access is permitted
2025-04-15T08:37:47.6549654Z     writeContentToFile
2025-04-15T08:37:47.6550035Z       âœ“ should throw error for blocked file path (6 ms)
2025-04-15T08:37:47.6550235Z 
2025-04-15T08:37:47.6550478Z PASS src/binary-data/__tests__/file-system.manager.test.ts
2025-04-15T08:37:47.6550783Z   store()
2025-04-15T08:37:47.6551055Z     âœ“ should store a buffer (46 ms)
2025-04-15T08:37:47.6551316Z   getPath()
2025-04-15T08:37:47.6551566Z     âœ“ should return a path (1 ms)
2025-04-15T08:37:47.6551865Z   getAsBuffer()
2025-04-15T08:37:47.6552165Z     âœ“ should return a buffer (1 ms)
2025-04-15T08:37:47.6552409Z   getAsStream()
2025-04-15T08:37:47.6552704Z     âœ“ should return a stream (1 ms)
2025-04-15T08:37:47.6552989Z   getMetadata()
2025-04-15T08:37:47.6553275Z     âœ“ should return metadata
2025-04-15T08:37:47.6553520Z   copyByFileId()
2025-04-15T08:37:47.6553852Z     âœ“ should copy by file ID and return the file ID
2025-04-15T08:37:47.6554180Z   copyByFilePath()
2025-04-15T08:37:47.6554568Z     âœ“ should copy by file path and return the file ID and size (1 ms)
2025-04-15T08:37:47.6554932Z   deleteMany()
2025-04-15T08:37:47.6555284Z     âœ“ should delete many files by workflow ID and execution ID (2 ms)
2025-04-15T08:37:47.6555825Z     âœ“ should suppress error on non-existing filepath (1 ms)
2025-04-15T08:37:47.6556155Z   rename()
2025-04-15T08:37:47.6556409Z     âœ“ should rename a file (1 ms)
2025-04-15T08:37:47.6556632Z 
2025-04-15T08:37:47.6556834Z PASS src/errors/__tests__/error-reporter.test.ts
2025-04-15T08:37:47.6557128Z   ErrorReporter
2025-04-15T08:37:47.6557344Z     beforeSend
2025-04-15T08:37:47.6557691Z       âœ“ should ignore errors with level warning (5 ms)
2025-04-15T08:37:47.6558154Z       âœ“ should keep events with a cause with error level (18 ms)
2025-04-15T08:37:47.6558629Z       âœ“ should ignore events with error cause with warning level (1 ms)
2025-04-15T08:37:47.6559432Z       âœ“ should set level, extra, and tags from ApplicationError (1 ms)
2025-04-15T08:37:47.6559914Z       âœ“ should deduplicate errors with same stack trace (1 ms)
2025-04-15T08:37:47.6560319Z       âœ“ should handle Promise rejections (3 ms)
2025-04-15T08:37:47.6560708Z       âœ“ should ignore if originalException is undefined
2025-04-15T08:37:47.6561151Z       âœ“ should ignore if originalException is null (1 ms)
2025-04-15T08:37:47.6561665Z       âœ“ should ignore if originalException is an AxiosError
2025-04-15T08:37:47.6562300Z       âœ“ should ignore if originalException is a rejected Promise with AxiosError
2025-04-15T08:37:47.6563194Z       âœ“ should ignore if originalException is a QueryFailedError with SQLITE_FULL (1 ms)
2025-04-15T08:37:47.6563877Z       âœ“ should ignore if originalException is a QueryFailedError with SQLITE_IOERR
2025-04-15T08:37:47.6564585Z       âœ“ should ignore if originalException is an ApplicationError with "warning" level (1 ms)
2025-04-15T08:37:47.6565416Z       âœ“ should ignore if originalException is an Error with ApplicationError as cause with "warning" level (1 ms)
2025-04-15T08:37:47.6566609Z       beforeSendFilter
2025-04-15T08:37:47.6567347Z         âœ“ should filter out based on the beforeSendFilter (1 ms)
2025-04-15T08:37:47.6568076Z         âœ“ should not filter out when beforeSendFilter returns false (1 ms)
2025-04-15T08:37:47.6568595Z       BaseError
2025-04-15T08:37:47.6569048Z         âœ“ should drop errors with shouldReport false (1 ms)
2025-04-15T08:37:47.6569612Z         âœ“ should keep events with shouldReport true (1 ms)
2025-04-15T08:37:47.6570231Z         âœ“ should set level, extra, and tags from BaseError (1 ms)
2025-04-15T08:37:47.6570647Z     error
2025-04-15T08:37:47.6571151Z       âœ“ should include stack trace for error-level `ApplicationError` (2 ms)
2025-04-15T08:37:47.6571825Z       âœ“ should exclude stack trace for warning-level `ApplicationError` (1 ms)
2025-04-15T08:37:47.6572163Z 
2025-04-15T08:37:47.6573517Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6575136Z PASS src/execution-engine/node-execution-context/__tests__/execute-context.test.ts
2025-04-15T08:37:47.6575805Z   ExecuteContext
2025-04-15T08:37:47.6576113Z     getExecutionCancelSignal
2025-04-15T08:37:47.6576654Z       âœ“ should return the abort signal (3 ms)
2025-04-15T08:37:47.6577048Z     continueOnFail
2025-04-15T08:37:47.6577480Z       âœ“ should return false for nodes by default
2025-04-15T08:37:47.6578044Z       âœ“ should return true if node has continueOnFail set to true
2025-04-15T08:37:47.6578728Z       âœ“ if node has onError set to continueRegularOutput, it should return true (1 ms)
2025-04-15T08:37:47.6579607Z       âœ“ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:37:47.6580384Z       âœ“ if node has onError set to stopWorkflow, it should return false
2025-04-15T08:37:47.6580861Z     getContext
2025-04-15T08:37:47.6581421Z       âœ“ should return the context object (1 ms)
2025-04-15T08:37:47.6581852Z     sendMessageToUI
2025-04-15T08:37:47.6582391Z       âœ“ should send console messages to the frontend (1 ms)
2025-04-15T08:37:47.6582840Z     logAiEvent
2025-04-15T08:37:47.6583277Z       âœ“ should log the AI event correctly (1 ms)
2025-04-15T08:37:47.6583837Z     getInputSourceData
2025-04-15T08:37:47.6584356Z       âœ“ should return the input source data correctly (1 ms)
2025-04-15T08:37:47.6584983Z       âœ“ should throw an error if the source data is missing (35 ms)
2025-04-15T08:37:47.6585504Z     setMetadata
2025-04-15T08:37:47.6585925Z       âœ“ sets metadata on execution data
2025-04-15T08:37:47.6586570Z     evaluateExpression
2025-04-15T08:37:47.6587063Z       âœ“ should evaluate the expression correctly (1 ms)
2025-04-15T08:37:47.6587725Z     putExecutionToWait
2025-04-15T08:37:47.6588264Z       âœ“ should set waitTill and execution status
2025-04-15T08:37:47.6588703Z     executeWorkflow
2025-04-15T08:37:47.6589222Z       âœ“ should execute workflow and return data (1 ms)
2025-04-15T08:37:47.6589957Z       âœ“ should put execution to wait if waitTill is returned (1 ms)
2025-04-15T08:37:47.6590468Z     getInputData
2025-04-15T08:37:47.6591047Z       âœ“ should return the input data correctly
2025-04-15T08:37:47.6591724Z       âœ“ should return an empty array if the input name does not exist
2025-04-15T08:37:47.6592316Z       âœ“ should throw an error if the input index is out of range (4 ms)
2025-04-15T08:37:47.6593229Z       âœ“ should throw an error if the input index was not set (2 ms)
2025-04-15T08:37:47.6593742Z     getNodeParameter
2025-04-15T08:37:47.6594393Z       âœ“ should throw if parameter is not defined on the node.parameters (6 ms)
2025-04-15T08:37:47.6595165Z       âœ“ should return null if the parameter exists but has a null value (2 ms)
2025-04-15T08:37:47.6596146Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:37:47.6597010Z       âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:37:47.6597665Z       âœ“ should handle expression evaluation errors (1 ms)
2025-04-15T08:37:47.6598226Z       âœ“ should handle expression errors on Set nodes (Ticket #PAY-684) (2 ms)
2025-04-15T08:37:47.6598870Z     getCredentials
2025-04-15T08:37:47.6599432Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:37:47.6600040Z     getExecuteData
2025-04-15T08:37:47.6600559Z       âœ“ should return the execute data correctly
2025-04-15T08:37:47.6600981Z     getWorkflowDataProxy
2025-04-15T08:37:47.6601581Z       âœ“ should return the workflow data proxy correctly (13 ms)
2025-04-15T08:37:47.6601929Z 
2025-04-15T08:37:47.6602145Z PASS src/__tests__/credentials.test.ts
2025-04-15T08:37:47.6602542Z   Credentials
2025-04-15T08:37:47.6602972Z     without nodeType set
2025-04-15T08:37:47.6603574Z       âœ“ should be able to set and read key data without initial data set (6 ms)
2025-04-15T08:37:47.6604334Z       âœ“ should be able to set and read key data with initial data set (1 ms)
2025-04-15T08:37:47.6604860Z     getData
2025-04-15T08:37:47.6605490Z       âœ“ should throw an error when data is missing (8 ms)
2025-04-15T08:37:47.6606236Z       âœ“ should throw an error when decryption fails (2 ms)
2025-04-15T08:37:47.6606834Z       âœ“ should throw an error when JSON parsing fails (2 ms)
2025-04-15T08:37:47.6607626Z       âœ“ should successfully decrypt and parse valid JSON credentials
2025-04-15T08:37:47.6608186Z     setData
2025-04-15T08:37:47.6608650Z       âœ“ should throw an AssertionError when data is 123 (6 ms)
2025-04-15T08:37:47.6609435Z       âœ“ should throw an AssertionError when data is null (1 ms)
2025-04-15T08:37:47.6610091Z       âœ“ should throw an AssertionError when data is undefined (1 ms)
2025-04-15T08:37:47.6610566Z     updateData
2025-04-15T08:37:47.6611110Z       âœ“ should update existing data (1 ms)
2025-04-15T08:37:47.6611819Z       âœ“ should delete specified keys
2025-04-15T08:37:47.6612404Z       âœ“ should update and delete keys in same operation
2025-04-15T08:37:47.6612996Z       âœ“ should throw an error if no data was previously set
2025-04-15T08:37:47.6613261Z 
2025-04-15T08:37:47.6613802Z PASS src/execution-engine/node-execution-context/utils/__tests__/execution-metadata.test.ts
2025-04-15T08:37:47.6614501Z   Execution Metadata functions
2025-04-15T08:37:47.6615084Z     âœ“ setWorkflowExecutionMetadata will set a value (5 ms)
2025-04-15T08:37:47.6615715Z     âœ“ setAllWorkflowExecutionMetadata will set multiple values
2025-04-15T08:37:47.6616582Z     âœ“ setWorkflowExecutionMetadata should only convert numbers to strings (12 ms)
2025-04-15T08:37:47.6617557Z     âœ“ setAllWorkflowExecutionMetadata should not convert values to strings and should set other values correctly (6 ms)
2025-04-15T08:37:47.6618541Z     âœ“ setWorkflowExecutionMetadata should validate key characters (1 ms)
2025-04-15T08:37:47.6619497Z     âœ“ setWorkflowExecutionMetadata should limit the number of metadata entries
2025-04-15T08:37:47.6620714Z     âœ“ getWorkflowExecutionMetadata should return a single value for an existing key (1 ms)
2025-04-15T08:37:47.6621675Z     âœ“ getWorkflowExecutionMetadata should return undefined for an unset key
2025-04-15T08:37:47.6622428Z     âœ“ getAllWorkflowExecutionMetadata should return all metadata
2025-04-15T08:37:47.6623228Z     âœ“ getAllWorkflowExecutionMetadata should not an object that modifies internal state
2025-04-15T08:37:47.6624129Z     âœ“ setWorkflowExecutionMetadata should truncate long keys
2025-04-15T08:37:47.6624861Z     âœ“ setWorkflowExecutionMetadata should truncate long values (1 ms)
2025-04-15T08:37:47.6625247Z 
2025-04-15T08:37:47.6626841Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6628927Z PASS src/execution-engine/partial-execution-utils/__tests__/filter-disabled-nodes.test.ts
2025-04-15T08:37:47.6629617Z   filterDisabledNodes
2025-04-15T08:37:47.6630376Z     âœ“ filter disabled nodes (5 ms)
2025-04-15T08:37:47.6630901Z     âœ“ filter multiple disabled nodes in a row
2025-04-15T08:37:47.6631358Z     root nodes
2025-04-15T08:37:47.6631769Z       âœ“ filter disabled root nodes
2025-04-15T08:37:47.6631980Z 
2025-04-15T08:37:47.6632463Z PASS src/execution-engine/node-execution-context/__tests__/execute-single-context.test.ts
2025-04-15T08:37:47.6633125Z   ExecuteSingleContext
2025-04-15T08:37:47.6633493Z     getExecutionCancelSignal
2025-04-15T08:37:47.6633973Z       âœ“ should return the abort signal (3 ms)
2025-04-15T08:37:47.6634526Z     continueOnFail
2025-04-15T08:37:47.6635024Z       âœ“ should return false for nodes by default (3 ms)
2025-04-15T08:37:47.6635660Z       âœ“ should return true if node has continueOnFail set to true
2025-04-15T08:37:47.6636594Z       âœ“ if node has onError set to continueRegularOutput, it should return true (1 ms)
2025-04-15T08:37:47.6637323Z       âœ“ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:37:47.6638065Z       âœ“ if node has onError set to stopWorkflow, it should return false
2025-04-15T08:37:47.6638552Z     getContext
2025-04-15T08:37:47.6638970Z       âœ“ should return the context object (1 ms)
2025-04-15T08:37:47.6639543Z     sendMessageToUI
2025-04-15T08:37:47.6640020Z       âœ“ should send console messages to the frontend (1 ms)
2025-04-15T08:37:47.6640491Z     logAiEvent
2025-04-15T08:37:47.6640966Z       âœ“ should log the AI event correctly
2025-04-15T08:37:47.6641350Z     getInputSourceData
2025-04-15T08:37:47.6642041Z       âœ“ should return the input source data correctly
2025-04-15T08:37:47.6642614Z       âœ“ should throw an error if the source data is missing (15 ms)
2025-04-15T08:37:47.6643039Z     setMetadata
2025-04-15T08:37:47.6643626Z       âœ“ sets metadata on execution data
2025-04-15T08:37:47.6644026Z     evaluateExpression
2025-04-15T08:37:47.6644553Z       âœ“ should evaluate the expression correctly (1 ms)
2025-04-15T08:37:47.6645017Z     putExecutionToWait
2025-04-15T08:37:47.6645474Z       âœ“ should set waitTill and execution status
2025-04-15T08:37:47.6646104Z     executeWorkflow
2025-04-15T08:37:47.6646550Z       âœ“ should execute workflow and return data
2025-04-15T08:37:47.6647071Z       âœ“ should put execution to wait if waitTill is returned (5 ms)
2025-04-15T08:37:47.6647718Z     getInputData
2025-04-15T08:37:47.6648161Z       âœ“ should return the input data correctly (1 ms)
2025-04-15T08:37:47.6648808Z       âœ“ should return an empty object if the input name does not exist (1 ms)
2025-04-15T08:37:47.6649613Z       âœ“ should throw an error if the input index is out of range (3 ms)
2025-04-15T08:37:47.6650259Z       âœ“ should throw an error if the input index was not set
2025-04-15T08:37:47.6651047Z       âœ“ should throw an error if the value of input with given index was not set (1 ms)
2025-04-15T08:37:47.6651900Z     getItemIndex
2025-04-15T08:37:47.6652393Z       âœ“ should return the item index correctly
2025-04-15T08:37:47.6652845Z     getNodeParameter
2025-04-15T08:37:47.6653354Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:37:47.6654218Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:37:47.6654736Z     getCredentials
2025-04-15T08:37:47.6655170Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:37:47.6655808Z     getExecuteData
2025-04-15T08:37:47.6656264Z       âœ“ should return the execute data correctly
2025-04-15T08:37:47.6656719Z     getWorkflowDataProxy
2025-04-15T08:37:47.6657272Z       âœ“ should return the workflow data proxy correctly (13 ms)
2025-04-15T08:37:47.6657550Z 
2025-04-15T08:37:47.6657965Z PASS src/execution-engine/partial-execution-utils/__tests__/handle-cycles.test.ts
2025-04-15T08:37:47.6658591Z   handleCycles
2025-04-15T08:37:47.6659589Z     âœ“ if the start node is within a cycle it returns the start of the cycle as the new start node (5 ms)
2025-04-15T08:37:47.6660323Z     âœ“ does not mutate `startNodes`
2025-04-15T08:37:47.6661114Z     âœ“ if the start node is not within a cycle it returns the same node as the new start node (1 ms)
2025-04-15T08:37:47.6661484Z 
2025-04-15T08:37:47.6661737Z PASS src/logging/__tests__/logger.test.ts
2025-04-15T08:37:47.6662184Z   Logger
2025-04-15T08:37:47.6662529Z     constructor
2025-04-15T08:37:47.6663034Z       âœ“ if root, should initialize `LoggerProxy` with instance (14 ms)
2025-04-15T08:37:47.6663756Z       âœ“ if scoped, should not initialize `LoggerProxy` (2 ms)
2025-04-15T08:37:47.6664234Z     transports
2025-04-15T08:37:47.6664743Z       âœ“ if `console` selected, should set console transport (1 ms)
2025-04-15T08:37:47.6665455Z       âœ“ if `file` selected, should set file transport (10 ms)
2025-04-15T08:37:47.6666019Z     levels
2025-04-15T08:37:47.6666600Z       âœ“ if `error` selected, should enable `error` level (1 ms)
2025-04-15T08:37:47.6667268Z       âœ“ if `warn` selected, should enable `error` and `warn` levels (1 ms)
2025-04-15T08:37:47.6667961Z       âœ“ if `info` selected, should enable `error`, `warn`, and `info` levels (1 ms)
2025-04-15T08:37:47.6668724Z       âœ“ if `debug` selected, should enable all levels (1 ms)
2025-04-15T08:37:47.6669365Z       âœ“ if `silent` selected, should disable all levels (1 ms)
2025-04-15T08:37:47.6669694Z 
2025-04-15T08:37:47.6669980Z PASS src/execution-engine/__tests__/triggers-and-pollers.test.ts
2025-04-15T08:37:47.6670587Z   TriggersAndPollers
2025-04-15T08:37:47.6670940Z     runTrigger()
2025-04-15T08:37:47.6671577Z       âœ“ should throw error if node type does not have trigger function (18 ms)
2025-04-15T08:37:47.6672243Z       âœ“ should call trigger function in regular mode (1 ms)
2025-04-15T08:37:47.6672818Z       manual mode
2025-04-15T08:37:47.6673358Z         âœ“ should handle promise resolution (1 ms)
2025-04-15T08:37:47.6673863Z         âœ“ should handle error emission (1 ms)
2025-04-15T08:37:47.6674693Z         âœ“ should handle response promise
2025-04-15T08:37:47.6675235Z         âœ“ should handle both response and done promises (1 ms)
2025-04-15T08:37:47.6675731Z     runPoll()
2025-04-15T08:37:47.6676298Z       âœ“ should throw error if node type does not have poll function (1 ms)
2025-04-15T08:37:47.6676881Z       âœ“ should call poll function and return result (1 ms)
2025-04-15T08:37:47.6677532Z       âœ“ should return null if poll function returns no data
2025-04-15T08:37:47.6678267Z       âœ“ should propagate errors from poll function (2 ms)
2025-04-15T08:37:47.6678525Z 
2025-04-15T08:37:47.6678989Z PASS src/execution-engine/node-execution-context/utils/__tests__/get-additional-keys.test.ts
2025-04-15T08:37:47.6679766Z   getAdditionalKeys
2025-04-15T08:37:47.6680343Z     âœ“ should use placeholder execution ID when none provided (4 ms)
2025-04-15T08:37:47.6681010Z     âœ“ should return production mode when not manual (1 ms)
2025-04-15T08:37:47.6681706Z     âœ“ should include customData methods when runExecutionData is provided
2025-04-15T08:37:47.6682585Z     âœ“ should handle customData operations correctly (2 ms)
2025-04-15T08:37:47.6683250Z     âœ“ should include secrets when enabled (1 ms)
2025-04-15T08:37:47.6683807Z     âœ“ should not include secrets when disabled (1 ms)
2025-04-15T08:37:47.6684357Z     âœ“ should throw errors in manual mode (20 ms)
2025-04-15T08:37:47.6684986Z     âœ“ should correctly set resume URLs (1 ms)
2025-04-15T08:37:47.6685634Z     âœ“ should return test mode when manual (1 ms)
2025-04-15T08:37:47.6686467Z     âœ“ should return variables from additionalData
2025-04-15T08:37:47.6687131Z     âœ“ should handle errors in non-manual mode without throwing (1 ms)
2025-04-15T08:37:47.6687827Z     âœ“ should return undefined customData when runExecutionData is null
2025-04-15T08:37:47.6688573Z     âœ“ should respect metadata KV limit (1 ms)
2025-04-15T08:37:47.6688864Z 
2025-04-15T08:37:47.6690404Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6692551Z There was a problem logging input data of node "Test Node": additionalData.hooks?.runHook is not a function
2025-04-15T08:37:47.6693444Z PASS src/execution-engine/node-execution-context/__tests__/supply-data-context.test.ts
2025-04-15T08:37:47.6694055Z   SupplyDataContext
2025-04-15T08:37:47.6694628Z     getExecutionCancelSignal
2025-04-15T08:37:47.6695157Z       âœ“ should return the abort signal (4 ms)
2025-04-15T08:37:47.6695571Z     continueOnFail
2025-04-15T08:37:47.6696135Z       âœ“ should return false for nodes by default
2025-04-15T08:37:47.6696804Z       âœ“ should return true if node has continueOnFail set to true
2025-04-15T08:37:47.6697555Z       âœ“ if node has onError set to continueRegularOutput, it should return true
2025-04-15T08:37:47.6698319Z       âœ“ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:37:47.6699067Z       âœ“ if node has onError set to stopWorkflow, it should return false (1 ms)
2025-04-15T08:37:47.6699675Z     getContext
2025-04-15T08:37:47.6700128Z       âœ“ should return the context object (13 ms)
2025-04-15T08:37:47.6700496Z     sendMessageToUI
2025-04-15T08:37:47.6701222Z       âœ“ should send console messages to the frontend (1 ms)
2025-04-15T08:37:47.6701749Z     logAiEvent
2025-04-15T08:37:47.6702274Z       âœ“ should log the AI event correctly
2025-04-15T08:37:47.6702798Z     getInputSourceData
2025-04-15T08:37:47.6703385Z       âœ“ should return the input source data correctly (1 ms)
2025-04-15T08:37:47.6704158Z       âœ“ should throw an error if the source data is missing (15 ms)
2025-04-15T08:37:47.6704745Z     setMetadata
2025-04-15T08:37:47.6705201Z       âœ“ sets metadata on execution data (1 ms)
2025-04-15T08:37:47.6705756Z     evaluateExpression
2025-04-15T08:37:47.6706317Z       âœ“ should evaluate the expression correctly (1 ms)
2025-04-15T08:37:47.6706862Z     putExecutionToWait
2025-04-15T08:37:47.6707531Z       âœ“ should set waitTill and execution status
2025-04-15T08:37:47.6708009Z     executeWorkflow
2025-04-15T08:37:47.6708589Z       âœ“ should execute workflow and return data (1 ms)
2025-04-15T08:37:47.6709263Z       âœ“ should put execution to wait if waitTill is returned (6 ms)
2025-04-15T08:37:47.6709849Z     getInputData
2025-04-15T08:37:47.6710458Z       âœ“ should return the input data correctly (1 ms)
2025-04-15T08:37:47.6711132Z       âœ“ should return an empty array if the input name does not exist
2025-04-15T08:37:47.6711878Z       âœ“ should throw an error if the input index is out of range (5 ms)
2025-04-15T08:37:47.6712448Z       âœ“ should throw an error if the input index was not set
2025-04-15T08:37:47.6712871Z     getNodeParameter
2025-04-15T08:37:47.6713562Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:37:47.6714443Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:37:47.6714936Z     getCredentials
2025-04-15T08:37:47.6715514Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:37:47.6715953Z     getWorkflowDataProxy
2025-04-15T08:37:47.6716524Z       âœ“ should return the workflow data proxy correctly (13 ms)
2025-04-15T08:37:47.6717042Z     cloneWith
2025-04-15T08:37:47.6717483Z       âœ“ should return a new copy (2 ms)
2025-04-15T08:37:47.6717837Z 
2025-04-15T08:37:47.6718128Z PASS src/decorators/__tests__/memoized.test.ts
2025-04-15T08:37:47.6718589Z   Memoized Decorator
2025-04-15T08:37:47.6719376Z     âœ“ should only compute the value once (5 ms)
2025-04-15T08:37:47.6720062Z     âœ“ should cache values independently for different instances (1 ms)
2025-04-15T08:37:47.6720704Z     âœ“ should throw error when used on non-getter (10 ms)
2025-04-15T08:37:47.6721342Z     âœ“ should make cached value non-enumerable (1 ms)
2025-04-15T08:37:47.6721948Z     âœ“ should not allow reconfiguring the cached value (10 ms)
2025-04-15T08:37:47.6723037Z     âœ“ should work when child class references memoized getter in parent class (1 ms)
2025-04-15T08:37:47.6724011Z     âœ“ should have correct property descriptor after memoization (1 ms)
2025-04-15T08:37:47.6724812Z     âœ“ should not prevent garbage collection of instances (55 ms)
2025-04-15T08:37:47.6725152Z 
2025-04-15T08:37:47.6725580Z PASS src/binary-data/__tests__/object-store.manager.test.ts
2025-04-15T08:37:47.6726430Z   store()
2025-04-15T08:37:47.6726981Z     âœ“ should store a buffer (4 ms)
2025-04-15T08:37:47.6727490Z   getPath()
2025-04-15T08:37:47.6727928Z     âœ“ should return a path (1 ms)
2025-04-15T08:37:47.6728345Z   getAsBuffer()
2025-04-15T08:37:47.6728886Z     âœ“ should return a buffer (1 ms)
2025-04-15T08:37:47.6729362Z   getAsStream()
2025-04-15T08:37:47.6729843Z     âœ“ should return a stream (1 ms)
2025-04-15T08:37:47.6730244Z   getMetadata()
2025-04-15T08:37:47.6730645Z     âœ“ should return metadata (1 ms)
2025-04-15T08:37:47.6731135Z   copyByFileId()
2025-04-15T08:37:47.6731679Z     âœ“ should copy by file ID and return the file ID
2025-04-15T08:37:47.6732129Z   copyByFilePath()
2025-04-15T08:37:47.6732780Z     âœ“ should copy by file path and return the file ID and size (1 ms)
2025-04-15T08:37:47.6733272Z   rename()
2025-04-15T08:37:47.6733735Z     âœ“ should rename a file (1 ms)
2025-04-15T08:37:47.6734013Z 
2025-04-15T08:37:47.6734535Z PASS src/execution-engine/node-execution-context/utils/__tests__/webhook-helper-functions.test.ts
2025-04-15T08:37:47.6735184Z   Webhook Helper Functions
2025-04-15T08:37:47.6735660Z     getWebhookDescription
2025-04-15T08:37:47.6736225Z       âœ“ should return undefined for invalid webhook type (5 ms)
2025-04-15T08:37:47.6736813Z       âœ“ should return undefined when node has no webhooks
2025-04-15T08:37:47.6737517Z       âœ“ should return webhook description when webhook exists (1 ms)
2025-04-15T08:37:47.6738116Z     getNodeWebhookUrl
2025-04-15T08:37:47.6738649Z       âœ“ should return webhook URL with path (1 ms)
2025-04-15T08:37:47.6739215Z       âœ“ should handle path starting with /
2025-04-15T08:37:47.6739838Z       âœ“ should return webhook URL with webhookId (1 ms)
2025-04-15T08:37:47.6740486Z       âœ“ should return test webhook URL for test webhooks
2025-04-15T08:37:47.6740819Z 
2025-04-15T08:37:47.6741175Z PASS src/execution-engine/__tests__/execution-lifecycle-hooks.test.ts
2025-04-15T08:37:47.6741678Z   ExecutionLifecycleHooks
2025-04-15T08:37:47.6742118Z     constructor()
2025-04-15T08:37:47.6742669Z       âœ“ should initialize with correct properties (3 ms)
2025-04-15T08:37:47.6743130Z     addHandler()
2025-04-15T08:37:47.6743837Z       âœ“ should add handlers to nodeExecuteBefore hook and call them (1 ms)
2025-04-15T08:37:47.6744502Z       âœ“ should add handlers to nodeExecuteAfter hook and call them
2025-04-15T08:37:47.6745327Z       âœ“ should add handlers to workflowExecuteBefore hook and call them (1 ms)
2025-04-15T08:37:47.6746010Z       âœ“ should add handlers to workflowExecuteAfter hook and call them
2025-04-15T08:37:47.6746987Z       âœ“ should add handlers to sendResponse hook and call them
2025-04-15T08:37:47.6747602Z       âœ“ should add handlers to nodeFetchedData hook and call them
2025-04-15T08:37:47.6748033Z     runHook()
2025-04-15T08:37:47.6748564Z       âœ“ should execute multiple hooks in order (1 ms)
2025-04-15T08:37:47.6749101Z       âœ“ should maintain correct "this" context (1 ms)
2025-04-15T08:37:47.6749678Z       âœ“ should handle errors in hooks (7 ms)
2025-04-15T08:37:47.6749976Z 
2025-04-15T08:37:47.6750571Z PASS src/execution-engine/node-execution-context/utils/__tests__/normalize-items.test.ts
2025-04-15T08:37:47.6751136Z   normalizeItems
2025-04-15T08:37:47.6751575Z     should handle
2025-04-15T08:37:47.6752122Z       âœ“ single object without json key (8 ms)
2025-04-15T08:37:47.6752685Z       âœ“ array of objects without json key (11 ms)
2025-04-15T08:37:47.6753245Z       âœ“ single object with json key
2025-04-15T08:37:47.6753698Z       âœ“ array of objects with json key
2025-04-15T08:37:47.6754431Z       âœ“ array of objects with binary data
2025-04-15T08:37:47.6755031Z       âœ“ object with null or undefined values
2025-04-15T08:37:47.6755238Z       âœ“ array with mixed non-standard objects
2025-04-15T08:37:47.6755450Z       âœ“ empty object
2025-04-15T08:37:47.6755665Z       âœ“ array with primitive values (1 ms)
2025-04-15T08:37:47.6755893Z     should throw error
2025-04-15T08:37:47.6756332Z       âœ“ for inconsistent items with some having json key (6 ms)
2025-04-15T08:37:47.6756567Z       âœ“ for inconsistent items with some having binary key
2025-04-15T08:37:47.6756916Z       âœ“ when mixing json and non-json objects with non-json properties
2025-04-15T08:37:47.6757153Z       âœ“ when mixing binary and non-binary objects (1 ms)
2025-04-15T08:37:47.6757163Z 
2025-04-15T08:37:47.6758770Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6759280Z PASS src/execution-engine/node-execution-context/__tests__/webhook-context.test.ts
2025-04-15T08:37:47.6759504Z   WebhookContext
2025-04-15T08:37:47.6759682Z     getCredentials
2025-04-15T08:37:47.6759932Z       âœ“ should get decrypted credentials (5 ms)
2025-04-15T08:37:47.6760157Z     getBodyData
2025-04-15T08:37:47.6760426Z       âœ“ should return the body data of the request
2025-04-15T08:37:47.6760608Z     getHeaderData
2025-04-15T08:37:47.6760869Z       âœ“ should return the header data of the request (1 ms)
2025-04-15T08:37:47.6761042Z     getParamsData
2025-04-15T08:37:47.6761457Z       âœ“ should return the params data of the request
2025-04-15T08:37:47.6761703Z     getQueryData
2025-04-15T08:37:47.6761982Z       âœ“ should return the query data of the request (1 ms)
2025-04-15T08:37:47.6762164Z     getRequestObject
2025-04-15T08:37:47.6762392Z       âœ“ should return the request object
2025-04-15T08:37:47.6762542Z     getResponseObject
2025-04-15T08:37:47.6762949Z       âœ“ should return the response object (1 ms)
2025-04-15T08:37:47.6763156Z     getWebhookName
2025-04-15T08:37:47.6763419Z       âœ“ should return the name of the webhook
2025-04-15T08:37:47.6763553Z     getNodeParameter
2025-04-15T08:37:47.6763836Z       âœ“ should return parameter value when it exists (2 ms)
2025-04-15T08:37:47.6764301Z       âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:37:47.6764313Z 
2025-04-15T08:37:47.6766124Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6766535Z PASS src/execution-engine/node-execution-context/__tests__/hook-context.test.ts
2025-04-15T08:37:47.6766961Z   HookContext
2025-04-15T08:37:47.6767111Z     getActivationMode
2025-04-15T08:37:47.6767488Z       âœ“ should return the activation property (3 ms)
2025-04-15T08:37:47.6767693Z     getCredentials
2025-04-15T08:37:47.6767924Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:37:47.6768149Z     getNodeParameter
2025-04-15T08:37:47.6768426Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:37:47.6768701Z     getNodeWebhookUrl
2025-04-15T08:37:47.6768973Z       âœ“ should return node webhook url (1 ms)
2025-04-15T08:37:47.6769180Z     getWebhookName
2025-04-15T08:37:47.6769455Z       âœ“ should return webhook name
2025-04-15T08:37:47.6769931Z       âœ“ should throw an error if webhookData is undefined (8 ms)
2025-04-15T08:37:47.6770068Z     getWebhookDescription
2025-04-15T08:37:47.6770418Z       âœ“ should return webhook description
2025-04-15T08:37:47.6770428Z 
2025-04-15T08:37:47.6770823Z PASS src/execution-engine/node-execution-context/utils/__tests__/ensure-type.test.ts
2025-04-15T08:37:47.6771241Z   ensureType
2025-04-15T08:37:47.6771571Z     âœ“ throws error for null value (21 ms)
2025-04-15T08:37:47.6771775Z     âœ“ throws error for undefined value (3 ms)
2025-04-15T08:37:47.6772188Z     âœ“ returns string value without modification (1 ms)
2025-04-15T08:37:47.6772443Z     âœ“ returns number value without modification (1 ms)
2025-04-15T08:37:47.6772745Z     âœ“ returns boolean value without modification (2 ms)
2025-04-15T08:37:47.6773044Z     âœ“ converts object to string if toType is string (1 ms)
2025-04-15T08:37:47.6773309Z     âœ“ converts string to number if toType is number
2025-04-15T08:37:47.6773668Z     âœ“ throws error for invalid conversion to number (2 ms)
2025-04-15T08:37:47.6774063Z     âœ“ parses valid JSON string to object if toType is object (1 ms)
2025-04-15T08:37:47.6774364Z     âœ“ throws error for invalid JSON string to object conversion (3 ms)
2025-04-15T08:37:47.6774720Z     âœ“ throws error for non-array value if toType is array (1 ms)
2025-04-15T08:37:47.6774756Z 
2025-04-15T08:37:47.6776369Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6776889Z PASS src/execution-engine/node-execution-context/__tests__/load-options-context.test.ts
2025-04-15T08:37:47.6777095Z   LoadOptionsContext
2025-04-15T08:37:47.6777220Z     getCredentials
2025-04-15T08:37:47.6777651Z       âœ“ should get decrypted credentials (12 ms)
2025-04-15T08:37:47.6777794Z     getCurrentNodeParameter
2025-04-15T08:37:47.6778156Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:37:47.6778316Z     getNodeParameter
2025-04-15T08:37:47.6778630Z       âœ“ should return parameter value when it exists (2 ms)
2025-04-15T08:37:47.6779050Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:37:47.6779059Z 
2025-04-15T08:37:47.6780708Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6781200Z PASS src/execution-engine/node-execution-context/__tests__/trigger-context.test.ts
2025-04-15T08:37:47.6781369Z   TriggerContext
2025-04-15T08:37:47.6781579Z     getActivationMode
2025-04-15T08:37:47.6781872Z       âœ“ should return the activation property (3 ms)
2025-04-15T08:37:47.6782058Z     getCredentials
2025-04-15T08:37:47.6782385Z       âœ“ should get decrypted credentials (4 ms)
2025-04-15T08:37:47.6782548Z     getNodeParameter
2025-04-15T08:37:47.6783096Z       âœ“ should return parameter value when it exists (2 ms)
2025-04-15T08:37:47.6783427Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:37:47.6783437Z 
2025-04-15T08:37:47.6784955Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:37:47.6785469Z PASS src/execution-engine/node-execution-context/__tests__/poll-context.test.ts
2025-04-15T08:37:47.6785643Z   PollContext
2025-04-15T08:37:47.6785958Z     getActivationMode
2025-04-15T08:37:47.6786248Z       âœ“ should return the activation property (6 ms)
2025-04-15T08:37:47.6786442Z     getCredentials
2025-04-15T08:37:47.6786634Z       âœ“ should get decrypted credentials (3 ms)
2025-04-15T08:37:47.6787142Z     getNodeParameter
2025-04-15T08:37:47.6787460Z       âœ“ should return parameter value when it exists (2 ms)
2025-04-15T08:37:47.6787929Z       âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:37:47.6787938Z 
2025-04-15T08:37:47.6788242Z PASS src/binary-data/__tests__/binary-data.config.test.ts
2025-04-15T08:37:47.6788413Z   BinaryDataConfig
2025-04-15T08:37:47.6788818Z     âœ“ should use default values when no env variables are defined (6 ms)
2025-04-15T08:37:47.6789185Z     âœ“ should use values from env variables when defined (2 ms)
2025-04-15T08:37:47.6789707Z     âœ“ should derive the signing secret from the encryption-key, when none is passed in
2025-04-15T08:37:47.6789950Z     âœ“ should fallback to default for mode (2 ms)
2025-04-15T08:37:47.6790252Z     âœ“ should fallback to default for available modes (1 ms)
2025-04-15T08:37:47.6790261Z 
2025-04-15T08:37:47.6790639Z PASS src/execution-engine/__tests__/ssh-clients-manager.test.ts
2025-04-15T08:37:47.6790869Z   SSHClientsManager
2025-04-15T08:37:47.6791113Z     âœ“ should create a new SSH client (6 ms)
2025-04-15T08:37:47.6791468Z     âœ“ should not create a new SSH client when connect fails (10 ms)
2025-04-15T08:37:47.6791718Z     âœ“ should reuse an existing SSH client (2 ms)
2025-04-15T08:37:47.6792110Z     âœ“ should close all SSH connections on process exit (1 ms)
2025-04-15T08:37:47.6792379Z     âœ“ should cleanup stale SSH connections (2 ms)
2025-04-15T08:37:47.6792593Z 
2025-04-15T08:37:47.6792831Z PASS src/utils/__tests__/serialized-buffer.test.ts
2025-04-15T08:37:47.6793016Z   toBuffer
2025-04-15T08:37:47.6793286Z     âœ“ should convert a SerializedBuffer to a Buffer (4 ms)
2025-04-15T08:37:47.6793664Z     âœ“ should serialize stringified buffer to the same buffer
2025-04-15T08:37:47.6793829Z   isSerializedBuffer
2025-04-15T08:37:47.6794178Z     âœ“ should return true for a valid SerializedBuffer (1 ms)
2025-04-15T08:37:47.6794424Z     âœ“ should return false for { data: [Array] }
2025-04-15T08:37:47.6794750Z     âœ“ should return false for { data: [Array] } (1 ms)
2025-04-15T08:37:47.6795046Z     âœ“ should return false for { type: 'Buffer', data: 'notAnArray' }
2025-04-15T08:37:47.6795399Z     âœ“ should return false for { data: 42 } (1 ms)
2025-04-15T08:37:47.6795618Z     âœ“ should return false for { data: 'test' }
2025-04-15T08:37:47.6795902Z     âœ“ should return false for { data: true } (1 ms)
2025-04-15T08:37:47.6796091Z     âœ“ should return false for null
2025-04-15T08:37:47.6796315Z     âœ“ should return false for undefined
2025-04-15T08:37:47.6796635Z     âœ“ should return false for 42
2025-04-15T08:37:47.6796807Z     âœ“ should return false for {}
2025-04-15T08:37:47.6797064Z   Integration: toBuffer and isSerializedBuffer
2025-04-15T08:37:47.6797344Z     âœ“ should correctly validate and convert a SerializedBuffer
2025-04-15T08:37:47.6797353Z 
2025-04-15T08:37:47.6797693Z PASS src/execution-engine/__tests__/scheduled-task-manager.test.ts
2025-04-15T08:37:47.6797904Z   ScheduledTaskManager
2025-04-15T08:37:47.6798355Z     âœ“ should throw when workflow timezone is invalid (29 ms)
2025-04-15T08:37:47.6798839Z     âœ“ should throw when cron expression is invalid (3 ms)
2025-04-15T08:37:47.6799105Z     âœ“ should register valid CronJobs (19 ms)
2025-04-15T08:37:47.6799455Z     âœ“ should should not invoke on follower instances (25 ms)
2025-04-15T08:37:47.6799806Z     âœ“ should deregister CronJobs for a workflow (3 ms)
2025-04-15T08:37:47.6799814Z 
2025-04-15T08:37:47.6800192Z PASS src/nodes-loader/__tests__/load-class-in-isolation.test.ts
2025-04-15T08:37:47.6800342Z   loadClassInIsolation
2025-04-15T08:37:47.6800700Z     âœ“ should create script with correct require statement (4 ms)
2025-04-15T08:37:47.6800892Z     âœ“ should handle Windows-style paths
2025-04-15T08:37:47.6801217Z     âœ“ should throw error when script execution fails (7 ms)
2025-04-15T08:37:47.6801224Z 
2025-04-15T08:37:47.6801693Z PASS src/execution-engine/node-execution-context/utils/__tests__/construct-execution-metadata.test.ts
2025-04-15T08:37:47.6801884Z   constructExecutionMetaData
2025-04-15T08:37:47.6802289Z     âœ“ should add pairedItem to single input data (4 ms)
2025-04-15T08:37:47.6802680Z     âœ“ should add pairedItem to multiple input data with different properties
2025-04-15T08:37:47.6803026Z     âœ“ should handle empty input data and itemData
2025-04-15T08:37:47.6803357Z     âœ“ should handle multiple pairedItem with single input data
2025-04-15T08:37:47.6803365Z 
2025-04-15T08:37:47.6803709Z PASS src/binary-data/__tests__/binary-data-service.test.ts
2025-04-15T08:37:47.6803854Z   BinaryDataService
2025-04-15T08:37:47.6804050Z     createSignedToken
2025-04-15T08:37:47.6804432Z       âœ“ should throw for binary-data without an id (30 ms)
2025-04-15T08:37:47.6804880Z       âœ“ should create a signed token for valid binary-data (2 ms)
2025-04-15T08:37:47.6804996Z     validateSignedToken
2025-04-15T08:37:47.6805216Z       âœ“ should throw on invalid tokens (3 ms)
2025-04-15T08:37:47.6805406Z       âœ“ should throw on expired tokens (3 ms)
2025-04-15T08:37:47.6805707Z       âœ“ should return binary-data id on valid tokens (1 ms)
2025-04-15T08:37:47.6805736Z 
2025-04-15T08:37:47.6806731Z PASS src/utils/__tests__/is-object-literal.test.ts
2025-04-15T08:37:47.6806892Z   isObjectLiteral
2025-04-15T08:37:47.6807213Z     âœ“ should return empty object literal for {} (5 ms)
2025-04-15T08:37:47.6807536Z     âœ“ should return object with properties for { foo: 'bar', num: 123 } (1 ms)
2025-04-15T08:37:47.6807849Z     âœ“ should return nested object literal for { nested: [Object] }
2025-04-15T08:37:47.6808219Z     âœ“ should return object with symbol key for { [Symbol(foo)]: 'bar' } (1 ms)
2025-04-15T08:37:47.6808472Z     âœ“ should return null for null
2025-04-15T08:37:47.6808670Z     âœ“ should return empty array for [] (1 ms)
2025-04-15T08:37:47.6808958Z     âœ“ should return array with values for [ 1, 2, 3 ]
2025-04-15T08:37:47.6809170Z     âœ“ should return number for 42 (1 ms)
2025-04-15T08:37:47.6809538Z     âœ“ should return string for string
2025-04-15T08:37:47.6809733Z     âœ“ should return boolean for true (1 ms)
2025-04-15T08:37:47.6809983Z     âœ“ should return undefined for undefined
2025-04-15T08:37:47.6810429Z     âœ“ should return Date object for Tue Apr 15 2025 08:37:44 GMT+0000 (Coordinated Universal Time) (1 ms)
2025-04-15T08:37:47.6810771Z     âœ“ should return RegExp object for /(?:)/
2025-04-15T08:37:47.6811044Z     âœ“ should return Map object for Map(0) {} (1 ms)
2025-04-15T08:37:47.6811236Z     âœ“ should return Set object for Set(0) {}
2025-04-15T08:37:47.6811481Z     âœ“ should return arrow function for () => { } (1 ms)
2025-04-15T08:37:47.6811683Z     âœ“ should return regular function for function () { }
2025-04-15T08:37:47.6811948Z     âœ“ should return class instance for TestClass {} (2 ms)
2025-04-15T08:37:47.6812135Z     âœ“ should return object with custom prototype for {}
2025-04-15T08:37:47.6812510Z     âœ“ should return Object.create(null) for [Object: null prototype] {}
2025-04-15T08:37:47.6812704Z     âœ“ should return Buffer for test (1 ms)
2025-04-15T08:37:47.6813029Z     âœ“ should return Serialized Buffer for { type: 'Buffer', data: [Array] }
2025-04-15T08:37:47.6813443Z     âœ“ should return Promise for Promise { <pending> }
2025-04-15T08:37:47.6813655Z     âœ“ should return false for Error objects
2025-04-15T08:37:47.6813662Z 
2025-04-15T08:37:47.6814169Z PASS src/execution-engine/node-execution-context/utils/__tests__/cleanup-parameter-data.test.ts
2025-04-15T08:37:47.6814299Z   cleanupParameterData
2025-04-15T08:37:47.6814600Z     âœ“ should stringify Luxon dates in-place (18 ms)
2025-04-15T08:37:47.6814826Z     âœ“ should stringify plain Luxon dates in-place (1 ms)
2025-04-15T08:37:47.6815072Z     âœ“ should handle objects with nameless constructors
2025-04-15T08:37:47.6815329Z     âœ“ should handle objects without a constructor (1 ms)
2025-04-15T08:37:47.6815336Z 
2025-04-15T08:37:47.6815603Z PASS src/binary-data/__tests__/utils.test.ts
2025-04-15T08:37:47.6815721Z   BinaryData/utils
2025-04-15T08:37:47.6816008Z     binaryToBuffer
2025-04-15T08:37:47.6816207Z       âœ“ should handle buffer objects (5 ms)
2025-04-15T08:37:47.6816718Z       âœ“ should handle valid uncompressed Readable streams (3 ms)
2025-04-15T08:37:47.6817039Z       âœ“ should handle valid compressed Readable streams (5 ms)
2025-04-15T08:37:47.6817299Z       âœ“ should throw on invalid compressed Readable streams (9 ms)
2025-04-15T08:37:47.6817310Z 
2025-04-15T08:37:47.6817681Z PASS src/execution-engine/partial-execution-utils/__tests__/to-itask-data.test.ts
2025-04-15T08:37:47.6817826Z   âœ“ toITaskData (5 ms)
2025-04-15T08:37:47.6817833Z 
2025-04-15T08:37:47.6818280Z PASS src/execution-engine/node-execution-context/utils/__tests__/return-json-array.test.ts
2025-04-15T08:37:47.6818446Z   returnJsonArray
2025-04-15T08:37:47.6818787Z     âœ“ should convert a single object to an array with json key (5 ms)
2025-04-15T08:37:47.6819086Z     âœ“ should return an array of objects with json key
2025-04-15T08:37:47.6819400Z     âœ“ should preserve existing json key in object (1 ms)
2025-04-15T08:37:47.6819729Z     âœ“ should handle empty array input
2025-04-15T08:37:47.6820080Z     âœ“ should handle mixed input with some objects having json key (1 ms)
2025-04-15T08:37:47.6820118Z 
2025-04-15T08:37:47.6820631Z PASS src/execution-engine/node-execution-context/utils/__tests__/ssh-tunnel-helper-functions.test.ts
2025-04-15T08:37:47.6820771Z   getSSHTunnelFunctions
2025-04-15T08:37:47.6821053Z     âœ“ should return SSH tunnel functions (4 ms)
2025-04-15T08:37:47.6821151Z     getSSHClient
2025-04-15T08:37:47.6821589Z       âœ“ should invoke sshClientsManager.getClient (2 ms)
2025-04-15T08:37:47.6821598Z 
2025-04-15T08:37:47.6822163Z PASS src/encryption/__tests__/cipher.test.ts
2025-04-15T08:37:47.6822307Z   Cipher
2025-04-15T08:37:47.6822504Z     encrypt
2025-04-15T08:37:47.6822723Z       âœ“ should encrypt strings (4 ms)
2025-04-15T08:37:47.6823114Z       âœ“ should encrypt objects (1 ms)
2025-04-15T08:37:47.6823242Z     decrypt
2025-04-15T08:37:47.6823497Z       âœ“ should decrypt string
2025-04-15T08:37:47.6823867Z       âœ“ should not try to decrypt if the input is shorter than 16 bytes (1 ms)
2025-04-15T08:37:47.6823898Z 
2025-04-15T08:37:47.6824513Z PASS src/execution-engine/node-execution-context/utils/__tests__/deduplication-helper-functions.test.ts
2025-04-15T08:37:47.6824766Z   getDeduplicationHelperFunctions
2025-04-15T08:37:47.6825136Z     âœ“ should create helper functions with correct context (6 ms)
2025-04-15T08:37:47.6825147Z 
2025-04-15T08:37:47.6825650Z PASS src/execution-engine/node-execution-context/utils/__tests__/scheduling-helper-functions.test.ts
2025-04-15T08:37:47.6825791Z   getSchedulingFunctions
2025-04-15T08:37:47.6826094Z     âœ“ should return scheduling functions (2 ms)
2025-04-15T08:37:47.6826303Z     registerCron
2025-04-15T08:37:47.6826667Z       âœ“ should invoke scheduledTaskManager.registerCron (1 ms)
2025-04-15T08:37:47.6826678Z 
2025-04-15T08:37:47.6827082Z PASS src/execution-engine/node-execution-context/utils/__tests__/copy-input-items.test.ts
2025-04-15T08:37:47.6827292Z   copyInputItems
2025-04-15T08:37:47.6827543Z     âœ“ should pick only selected properties (5 ms)
2025-04-15T08:37:47.6828086Z     âœ“ should convert undefined to null
2025-04-15T08:37:47.6828278Z     âœ“ should clone objects
2025-04-15T08:37:47.6828486Z 
2025-04-15T08:37:47.6828894Z PASS src/execution-engine/partial-execution-utils/__tests__/to-iconnections.test.ts
2025-04-15T08:37:47.6829150Z   âœ“ toIConnections (4 ms)
2025-04-15T08:37:47.6829159Z 
2025-04-15T08:37:47.6829395Z Test Suites: 62 passed, 62 total
2025-04-15T08:37:47.6829672Z Tests:       932 passed, 932 total
2025-04-15T08:37:47.6829838Z Snapshots:   0 total
2025-04-15T08:37:47.6830058Z Time:        20.716 s
2025-04-15T08:37:47.6830226Z Ran all test suites.
2025-04-15T08:37:47.6831099Z ##[endgroup]
2025-04-15T08:37:50.6027291Z ##[group]@n8n/di:test
2025-04-15T08:37:50.6027919Z cache bypass, force executing c7c72b569a4812b7
2025-04-15T08:37:50.6028158Z 
2025-04-15T08:37:50.6028350Z > @n8n/di@0.4.0 test /home/runner/_work/n8n/n8n/packages/@n8n/di
2025-04-15T08:37:50.6028656Z > jest
2025-04-15T08:37:50.6028831Z 
2025-04-15T08:37:50.6029037Z PASS src/__tests__/circular-depedency.test.ts
2025-04-15T08:37:50.6029899Z   DI Container
2025-04-15T08:37:50.6030186Z     circular dependency
2025-04-15T08:37:50.6030831Z       âœ“ should detect multilevel circular dependencies (16 ms)
2025-04-15T08:37:50.6031009Z 
2025-04-15T08:37:50.6031151Z PASS src/__tests__/di.test.ts
2025-04-15T08:37:50.6031451Z   DI Container
2025-04-15T08:37:50.6031670Z     basic functionality
2025-04-15T08:37:50.6031965Z       âœ“ should create a simple instance (4 ms)
2025-04-15T08:37:50.6032382Z       âœ“ should return same instance on multiple gets (1 ms)
2025-04-15T08:37:50.6032764Z       âœ“ should handle classes with no dependencies (empty constructor)
2025-04-15T08:37:50.6033205Z       âœ“ should throw when trying to resolve an undecorated class (12 ms)
2025-04-15T08:37:50.6033526Z     dependency injection
2025-04-15T08:37:50.6033831Z       âœ“ should inject dependencies correctly (1 ms)
2025-04-15T08:37:50.6034186Z       âœ“ should handle deep dependency chains (1 ms)
2025-04-15T08:37:50.6034580Z       âœ“ should return undefined for non-decorated dependencies in resolution chain
2025-04-15T08:37:50.6034910Z     factory handling
2025-04-15T08:37:50.6035247Z       âœ“ should use factory when provided
2025-04-15T08:37:50.6035601Z       âœ“ should preserve factory metadata when setting instance
2025-04-15T08:37:50.6035986Z       âœ“ should preserve factory when resetting container
2025-04-15T08:37:50.6036332Z       âœ“ should throw error when factory throws (1 ms)
2025-04-15T08:37:50.6036676Z       âœ“ should handle factory with dependencies (1 ms)
2025-04-15T08:37:50.6036980Z     instance management
2025-04-15T08:37:50.6037278Z       âœ“ should allow manual instance setting (1 ms)
2025-04-15T08:37:50.6037519Z     abstract classes
2025-04-15T08:37:50.6037917Z       âœ“ should throw when trying to instantiate an abstract class directly (1 ms)
2025-04-15T08:37:50.6038334Z       âœ“ should allow setting an implementation for an abstract class
2025-04-15T08:37:50.6038705Z       âœ“ should allow factory for abstract class (1 ms)
2025-04-15T08:37:50.6039009Z     inheritance
2025-04-15T08:37:50.6039309Z       âœ“ should handle inheritance in injectable classes (6 ms)
2025-04-15T08:37:50.6039790Z       âœ“ should maintain separate instances for base and derived classes (1 ms)
2025-04-15T08:37:50.6040128Z     type registration checking
2025-04-15T08:37:50.6040604Z       âœ“ should return true for registered classes
2025-04-15T08:37:50.6041176Z       âœ“ should return false for unregistered classes
2025-04-15T08:37:50.6041708Z       âœ“ should return true for abstract classes with implementations
2025-04-15T08:37:50.6042465Z       âœ“ should return true for factory-provided services before instantiation
2025-04-15T08:37:50.6042874Z       âœ“ should maintain registration after reset
2025-04-15T08:37:50.6043202Z       âœ“ should return true after manual instance setting
2025-04-15T08:37:50.6043428Z 
2025-04-15T08:37:50.6043611Z Test Suites: 2 passed, 2 total
2025-04-15T08:37:50.6044047Z Tests:       25 passed, 25 total
2025-04-15T08:37:50.6044473Z Snapshots:   0 total
2025-04-15T08:37:50.6044998Z Time:        1.848 s
2025-04-15T08:37:50.6045245Z Ran all test suites.
2025-04-15T08:37:50.6045685Z ##[endgroup]
2025-04-15T08:38:02.9552839Z ##[group]n8n-workflow:test
2025-04-15T08:38:02.9553543Z cache bypass, force executing 8eeffe7c176d5550
2025-04-15T08:38:02.9553878Z 
2025-04-15T08:38:02.9554181Z > n8n-workflow@1.87.0 test /home/runner/_work/n8n/n8n/packages/workflow
2025-04-15T08:38:02.9554928Z > jest
2025-04-15T08:38:02.9555141Z 
2025-04-15T08:38:02.9555447Z PASS test/NodeHelpers.conditions.test.ts
2025-04-15T08:38:02.9555848Z   NodeHelpers
2025-04-15T08:38:02.9556375Z     getNodeParameters, displayOptions set using DisplayCondition
2025-04-15T08:38:02.9557557Z       âœ“ simple values with displayOptions "show" number (gt). No values set. (5 ms)
2025-04-15T08:38:02.9558421Z       âœ“ simple values with displayOptions "show" number (lt). No values set. (1 ms)
2025-04-15T08:38:02.9559250Z       âœ“ simple values with displayOptions "show" number (between). No values set. (1 ms)
2025-04-15T08:38:02.9560531Z       âœ“ simple values with displayOptions "show" number (lte). No values set.
2025-04-15T08:38:02.9561313Z       âœ“ simple values with displayOptions "show" number (gte). No values set. (1 ms)
2025-04-15T08:38:02.9562044Z       âœ“ simple values with displayOptions "show" (match) which is boolean. All values set.
2025-04-15T08:38:02.9562849Z       âœ“ simple values with displayOptions "hide" (match) which is boolean. All values set.
2025-04-15T08:38:02.9563703Z       âœ“ simple values with displayOptions "show" (match) which is boolean. One values set. (1 ms)
2025-04-15T08:38:02.9564967Z       âœ“ simple values with displayOptions "show" (match). No values set.
2025-04-15T08:38:02.9566299Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default). (1 ms)
2025-04-15T08:38:02.9567714Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default)
2025-04-15T08:38:02.9568688Z       âœ“ simple values with displayOptions "show" (match). All values set. (1 ms)
2025-04-15T08:38:02.9569344Z       âœ“ simple values with displayOptions "show" (no-match). No values set.
2025-04-15T08:38:02.9570158Z       âœ“ simple values with displayOptions "show" (no-match). All values set.
2025-04-15T08:38:02.9571057Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
2025-04-15T08:38:02.9572299Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:38:02.9573671Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:38:02.9574926Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:38:02.9576324Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:38:02.9577607Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set. (5 ms)
2025-04-15T08:38:02.9578943Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:38:02.9580269Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one.
2025-04-15T08:38:02.9581391Z       âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:38:02.9583001Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:38:02.9584395Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed (1 ms)
2025-04-15T08:38:02.9585694Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:38:02.9587292Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references. (1 ms)
2025-04-15T08:38:02.9588439Z       âœ“ simple values with displayOptions "show" using exists condition. No values set. (1 ms)
2025-04-15T08:38:02.9589310Z       âœ“ simple values with displayOptions "show" using exists condition. Field1 has a value.
2025-04-15T08:38:02.9590553Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" using exists condition. (1 ms)
2025-04-15T08:38:02.9591539Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" using exists condition.
2025-04-15T08:38:02.9592037Z 
2025-04-15T08:38:02.9592323Z PASS test/FilterParameter.test.ts
2025-04-15T08:38:02.9592755Z   FilterParameter
2025-04-15T08:38:02.9593144Z     executeFilter
2025-04-15T08:38:02.9593656Z       âœ“ should support and/or combinators (4 ms)
2025-04-15T08:38:02.9594064Z       options.caseSensitive
2025-04-15T08:38:02.9594751Z         âœ“ should evaluate strings case insensitive (=default) (1 ms)
2025-04-15T08:38:02.9595330Z         âœ“ should evaluate strings case sensitive
2025-04-15T08:38:02.9595697Z       options.typeValidation
2025-04-15T08:38:02.9596161Z         strict (=default)
2025-04-15T08:38:02.9596741Z           âœ“ should throw an error when types are not as expected (primitives) (29 ms)
2025-04-15T08:38:02.9597483Z           âœ“ should throw an error when types are not as expected (arrays) (2 ms)
2025-04-15T08:38:02.9598195Z           âœ“ should throw an error when types are not as expected (objects) (1 ms)
2025-04-15T08:38:02.9598639Z         loose
2025-04-15T08:38:02.9599253Z           âœ“ should evaluate conditions when type can be converted (1 ms)
2025-04-15T08:38:02.9599848Z           âœ“ should throw an error when types cannot be converted (1 ms)
2025-04-15T08:38:02.9600289Z       options.version
2025-04-15T08:38:02.9600739Z         version 1
2025-04-15T08:38:02.9601214Z           âœ“ should parse "false" as true (2 ms)
2025-04-15T08:38:02.9601660Z         version 2
2025-04-15T08:38:02.9602114Z           âœ“ should parse "false" as false
2025-04-15T08:38:02.9602524Z       operators
2025-04-15T08:38:02.9602951Z         exists
2025-04-15T08:38:02.9603378Z           âœ“ string:exists() === true (1 ms)
2025-04-15T08:38:02.9603829Z           âœ“ string:exists(null) === false
2025-04-15T08:38:02.9604752Z           âœ“ string:exists(undefined) === false
2025-04-15T08:38:02.9605226Z           âœ“ string:exists(foo) === true
2025-04-15T08:38:02.9605823Z           âœ“ string:notExists() === false (1 ms)
2025-04-15T08:38:02.9606591Z           âœ“ string:notExists(null) === true (1 ms)
2025-04-15T08:38:02.9607146Z           âœ“ string:notExists(undefined) === true (1 ms)
2025-04-15T08:38:02.9607709Z           âœ“ string:notExists(foo) === false
2025-04-15T08:38:02.9608110Z         string
2025-04-15T08:38:02.9608517Z           âœ“ string:empty(null) === true
2025-04-15T08:38:02.9609096Z           âœ“ string:empty(undefined) === true
2025-04-15T08:38:02.9609600Z           âœ“ string:empty() === true (1 ms)
2025-04-15T08:38:02.9610158Z           âœ“ string:empty(ðŸ›) === false
2025-04-15T08:38:02.9610646Z           âœ“ string:notEmpty(null) === false
2025-04-15T08:38:02.9611180Z           âœ“ string:notEmpty(undefined) === false
2025-04-15T08:38:02.9611773Z           âœ“ string:notEmpty() === false (2 ms)
2025-04-15T08:38:02.9612555Z           âœ“ string:notEmpty(ðŸ›) === true (6 ms)
2025-04-15T08:38:02.9613173Z           âœ“ string:equals("first string","first string") === true
2025-04-15T08:38:02.9613798Z           âœ“ string:equals("first string","second string") === false
2025-04-15T08:38:02.9614385Z           âœ“ string:equals("","ðŸ›") === false
2025-04-15T08:38:02.9614962Z           âœ“ string:equals("ðŸ›","ðŸ›") === true
2025-04-15T08:38:02.9615516Z           âœ“ string:notEquals("first string","first string") === false
2025-04-15T08:38:02.9616098Z           âœ“ string:notEquals("first string","second string") === true
2025-04-15T08:38:02.9616725Z           âœ“ string:notEquals("","ðŸ›") === true
2025-04-15T08:38:02.9617231Z           âœ“ string:notEquals("ðŸ›","ðŸ›") === false (1 ms)
2025-04-15T08:38:02.9617840Z           âœ“ string:contains("first string","first string") === true
2025-04-15T08:38:02.9618490Z           âœ“ string:contains("first string","first") === true (4 ms)
2025-04-15T08:38:02.9619061Z           âœ“ string:contains("first string","irs") === true
2025-04-15T08:38:02.9619709Z           âœ“ string:contains("first string","") === true (2 ms)
2025-04-15T08:38:02.9620268Z           âœ“ string:contains("first string","?") === false
2025-04-15T08:38:02.9620831Z           âœ“ string:notContains("first string","first string") === false
2025-04-15T08:38:02.9621576Z           âœ“ string:notContains("first string","first") === false (1 ms)
2025-04-15T08:38:02.9622175Z           âœ“ string:notContains("first string","irs") === false
2025-04-15T08:38:02.9622836Z           âœ“ string:notContains("first string","") === false
2025-04-15T08:38:02.9623453Z           âœ“ string:notContains("first string","?") === true
2025-04-15T08:38:02.9624053Z           âœ“ string:startsWith("first string","first string") === true
2025-04-15T08:38:02.9624799Z           âœ“ string:startsWith("first string","first") === true
2025-04-15T08:38:02.9625353Z           âœ“ string:startsWith("first string","irs") === false
2025-04-15T08:38:02.9625895Z           âœ“ string:startsWith("first string","") === true
2025-04-15T08:38:02.9626585Z           âœ“ string:startsWith("first string","?") === false
2025-04-15T08:38:02.9627207Z           âœ“ string:notStartsWith("first string","first string") === false
2025-04-15T08:38:02.9627886Z           âœ“ string:notStartsWith("first string","first") === false
2025-04-15T08:38:02.9628486Z           âœ“ string:notStartsWith("first string","irs") === true
2025-04-15T08:38:02.9629056Z           âœ“ string:notStartsWith("first string","") === false
2025-04-15T08:38:02.9629695Z           âœ“ string:notStartsWith("first string","?") === true
2025-04-15T08:38:02.9630333Z           âœ“ string:endsWith("first string","first string") === true (1 ms)
2025-04-15T08:38:02.9630905Z           âœ“ string:endsWith("first string","string") === true
2025-04-15T08:38:02.9631578Z           âœ“ string:endsWith("first string","g") === true
2025-04-15T08:38:02.9632126Z           âœ“ string:endsWith("first string","") === true
2025-04-15T08:38:02.9632724Z           âœ“ string:endsWith("first string","?") === false
2025-04-15T08:38:02.9633734Z           âœ“ string:notEndsWith("first string","first string") === false
2025-04-15T08:38:02.9634396Z           âœ“ string:notEndsWith("first string","string") === false
2025-04-15T08:38:02.9635107Z           âœ“ string:notEndsWith("first string","g") === false
2025-04-15T08:38:02.9635650Z           âœ“ string:notEndsWith("first string","") === false
2025-04-15T08:38:02.9636226Z           âœ“ string:notEndsWith("first string","?") === true
2025-04-15T08:38:02.9636812Z           âœ“ string:regex("first string","first") === true
2025-04-15T08:38:02.9637341Z           âœ“ string:regex("first string","second") === false
2025-04-15T08:38:02.9637957Z           âœ“ string:regex("first string",".*") === true
2025-04-15T08:38:02.9638507Z           âœ“ string:regex("any string","[0-9]") === false (1 ms)
2025-04-15T08:38:02.9639030Z           âœ“ string:regex("any string","[a-z]") === true
2025-04-15T08:38:02.9639687Z           âœ“ string:regex("lowercase","[A-Z]") === false
2025-04-15T08:38:02.9640708Z           âœ“ string:regex("foo","/^fo{2}$/g") === true
2025-04-15T08:38:02.9641334Z           âœ“ string:notRegex("first string","first") === false
2025-04-15T08:38:02.9641925Z           âœ“ string:notRegex("first string","second") === true
2025-04-15T08:38:02.9642492Z           âœ“ string:notRegex("first string",".*") === false
2025-04-15T08:38:02.9643143Z           âœ“ string:notRegex("any string","[0-9]") === true (1 ms)
2025-04-15T08:38:02.9643727Z           âœ“ string:notRegex("any string","[a-z]") === false
2025-04-15T08:38:02.9644364Z           âœ“ string:notRegex("lowercase","[A-Z]") === true
2025-04-15T08:38:02.9644962Z           âœ“ string:notRegex("foo","/^fo{2}$/g") === false
2025-04-15T08:38:02.9645378Z         number
2025-04-15T08:38:02.9645882Z           âœ“ number:exists(0) === true
2025-04-15T08:38:02.9648658Z           âœ“ number:exists(15) === true
2025-04-15T08:38:02.9649226Z           âœ“ number:exists(-15.4) === true (1 ms)
2025-04-15T08:38:02.9649809Z           âœ“ number:exists(NaN) === false
2025-04-15T08:38:02.9650325Z           âœ“ number:exists(null) === false
2025-04-15T08:38:02.9650762Z           âœ“ number:notExists(0) === false
2025-04-15T08:38:02.9651312Z           âœ“ number:notExists(15) === false
2025-04-15T08:38:02.9651804Z           âœ“ number:notExists(-15.4) === false
2025-04-15T08:38:02.9751988Z           âœ“ number:notExists(NaN) === true
2025-04-15T08:38:02.9752946Z           âœ“ number:notExists(null) === true (1 ms)
2025-04-15T08:38:02.9753199Z           âœ“ number:empty(0) === false
2025-04-15T08:38:02.9753426Z           âœ“ number:empty(15) === false
2025-04-15T08:38:02.9753640Z           âœ“ number:empty(-15.4) === false
2025-04-15T08:38:02.9753861Z           âœ“ number:empty(NaN) === true
2025-04-15T08:38:02.9754071Z           âœ“ number:empty(null) === true
2025-04-15T08:38:02.9754352Z           âœ“ number:notEmpty(0) === true
2025-04-15T08:38:02.9754560Z           âœ“ number:notEmpty(15) === true
2025-04-15T08:38:02.9754770Z           âœ“ number:notEmpty(-15.4) === true
2025-04-15T08:38:02.9755038Z           âœ“ number:notEmpty(NaN) === false
2025-04-15T08:38:02.9755273Z           âœ“ number:notEmpty(null) === false
2025-04-15T08:38:02.9755503Z           âœ“ number:equals(0,0) === true
2025-04-15T08:38:02.9755728Z           âœ“ number:equals(15,15) === true
2025-04-15T08:38:02.9755955Z           âœ“ number:equals(15.34,15.34) === true
2025-04-15T08:38:02.9756190Z           âœ“ number:equals(15,15.3249038) === false
2025-04-15T08:38:02.9756435Z           âœ“ number:equals(15,NaN) === false
2025-04-15T08:38:02.9756674Z           âœ“ number:equals(NaN,NaN) === false (1 ms)
2025-04-15T08:38:02.9756909Z           âœ“ number:notEquals(0,0) === false
2025-04-15T08:38:02.9757137Z           âœ“ number:notEquals(15,15) === false
2025-04-15T08:38:02.9757367Z           âœ“ number:notEquals(15.34,15.34) === false
2025-04-15T08:38:02.9757608Z           âœ“ number:notEquals(15,15.3249038) === true
2025-04-15T08:38:02.9757835Z           âœ“ number:notEquals(15,NaN) === true
2025-04-15T08:38:02.9758060Z           âœ“ number:notEquals(NaN,NaN) === true
2025-04-15T08:38:02.9758787Z           âœ“ number:gt(0,0) === false
2025-04-15T08:38:02.9759015Z           âœ“ number:gt(15,16) === false (1 ms)
2025-04-15T08:38:02.9759232Z           âœ“ number:gt(16,15) === true
2025-04-15T08:38:02.9759463Z           âœ“ number:gt(15.34001,15.34) === true
2025-04-15T08:38:02.9759678Z           âœ“ number:gt(15,NaN) === false
2025-04-15T08:38:02.9759881Z           âœ“ number:lt(0,0) === false
2025-04-15T08:38:02.9760074Z           âœ“ number:lt(15,16) === true
2025-04-15T08:38:02.9760278Z           âœ“ number:lt(16,15) === false
2025-04-15T08:38:02.9760496Z           âœ“ number:lt(15.34001,15.34) === false
2025-04-15T08:38:02.9760713Z           âœ“ number:lt(15,NaN) === false
2025-04-15T08:38:02.9760914Z           âœ“ number:gte(0,0) === true
2025-04-15T08:38:02.9761118Z           âœ“ number:gte(15,16) === false
2025-04-15T08:38:02.9761317Z           âœ“ number:gte(16,15) === true
2025-04-15T08:38:02.9761527Z           âœ“ number:gte(15.34001,15.34) === true
2025-04-15T08:38:02.9761736Z           âœ“ number:gte(15,NaN) === false
2025-04-15T08:38:02.9762096Z           âœ“ number:lte(0,0) === true
2025-04-15T08:38:02.9762325Z           âœ“ number:lte(15,16) === true (1 ms)
2025-04-15T08:38:02.9762535Z           âœ“ number:lte(16,15) === false
2025-04-15T08:38:02.9762745Z           âœ“ number:lte(15.34001,15.34) === false
2025-04-15T08:38:02.9762958Z           âœ“ number:lte(15,NaN) === false
2025-04-15T08:38:02.9763126Z         dateTime
2025-04-15T08:38:02.9763373Z           âœ“ dateTime:empty(2023-11-15T17:10:49.113Z) === false (1 ms)
2025-04-15T08:38:02.9763626Z           âœ“ dateTime:empty(null) === true
2025-04-15T08:38:02.9763902Z           âœ“ dateTime:notEmpty(2023-11-15T17:10:49.113Z) === true (6 ms)
2025-04-15T08:38:02.9764280Z           âœ“ dateTime:notEmpty(null) === false
2025-04-15T08:38:02.9764617Z           âœ“ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true (1 ms)
2025-04-15T08:38:02.9765008Z           âœ“ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:38:02.9765412Z           âœ“ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:38:02.9765826Z           âœ“ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true (1 ms)
2025-04-15T08:38:02.9768657Z           âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:38:02.9769011Z           âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:38:02.9769376Z           âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:38:02.9769721Z           âœ“ dateTime:after("2024-01-01", "2023-01-01T00:00:00.000Z") === true (1 ms)
2025-04-15T08:38:02.9770077Z           âœ“ dateTime:after(""2024-01-01T00:00:00.000+00:00"", "1-Feb-2024") === false (1 ms)
2025-04-15T08:38:02.9770440Z           âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:38:02.9770811Z           âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:38:02.9771164Z           âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
2025-04-15T08:38:02.9771555Z           âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true (1 ms)
2025-04-15T08:38:02.9771968Z           âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:38:02.9772369Z           âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:38:02.9772765Z           âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true
2025-04-15T08:38:02.9773165Z           âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:38:02.9773570Z           âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
2025-04-15T08:38:02.9773972Z         boolean
2025-04-15T08:38:02.9774163Z           âœ“ boolean:empty(true) === false (1 ms)
2025-04-15T08:38:02.9774449Z           âœ“ boolean:empty(false) === false
2025-04-15T08:38:02.9774672Z           âœ“ boolean:empty(null) === true
2025-04-15T08:38:02.9774892Z           âœ“ boolean:notEmpty(true) === true
2025-04-15T08:38:02.9775110Z           âœ“ boolean:notEmpty(false) === true
2025-04-15T08:38:02.9775328Z           âœ“ boolean:notEmpty(null) === false
2025-04-15T08:38:02.9775541Z           âœ“ boolean:true(true) === true (1 ms)
2025-04-15T08:38:02.9775749Z           âœ“ boolean:true(false) === false
2025-04-15T08:38:02.9775963Z           âœ“ boolean:false(true) === false
2025-04-15T08:38:02.9776172Z           âœ“ boolean:false(false) === true
2025-04-15T08:38:02.9776386Z           âœ“ boolean:equals(true,true) === true
2025-04-15T08:38:02.9776614Z           âœ“ boolean:equals(false,false) === true
2025-04-15T08:38:02.9776854Z           âœ“ boolean:equals(true,false) === false (1 ms)
2025-04-15T08:38:02.9777093Z           âœ“ boolean:notEquals(true,true) === false
2025-04-15T08:38:02.9777470Z           âœ“ boolean:notEquals(false,false) === false
2025-04-15T08:38:02.9777702Z           âœ“ boolean:notEquals(true,false) === true
2025-04-15T08:38:02.9777872Z         array
2025-04-15T08:38:02.9778080Z           âœ“ array:contains(["foo", "bar"],foo) === true
2025-04-15T08:38:02.9778337Z           âœ“ array:contains(["foo", "bar"],ba) === false
2025-04-15T08:38:02.9778613Z           âœ“ array:notContains(["foo", "bar"],foo) === false (1 ms)
2025-04-15T08:38:02.9778893Z           âœ“ array:notContains(["foo", "bar"],ba) === true
2025-04-15T08:38:02.9779170Z           âœ“ array:lengthEquals(["foo", "bar"],2) === true
2025-04-15T08:38:02.9779424Z           âœ“ array:lengthEquals([],0) === true
2025-04-15T08:38:02.9779683Z           âœ“ array:lengthEquals(["foo", "bar"],1) === false
2025-04-15T08:38:02.9779955Z           âœ“ array:lengthNotEquals(["foo", "bar"],2) === false
2025-04-15T08:38:02.9780214Z           âœ“ array:lengthNotEquals([],0) === false (1 ms)
2025-04-15T08:38:02.9780498Z           âœ“ array:lengthNotEquals(["foo", "bar"],1) === true
2025-04-15T08:38:02.9780760Z           âœ“ array:lengthGt(["foo", "bar"],2) === false
2025-04-15T08:38:02.9780985Z           âœ“ array:lengthGt([],0) === false
2025-04-15T08:38:02.9781217Z           âœ“ array:lengthGt(["foo", "bar"],1) === true
2025-04-15T08:38:02.9781506Z           âœ“ array:lengthLt(["foo", "bar"],2) === false (1 ms)
2025-04-15T08:38:02.9781730Z           âœ“ array:lengthLt([],0) === false
2025-04-15T08:38:02.9781952Z           âœ“ array:lengthLt(["foo", "bar"],1) === false
2025-04-15T08:38:02.9782190Z           âœ“ array:lengthLt(["foo", "bar"],3) === true
2025-04-15T08:38:02.9782424Z           âœ“ array:lengthGte(["foo", "bar"],2) === true
2025-04-15T08:38:02.9782652Z           âœ“ array:lengthGte([],0) === true (1 ms)
2025-04-15T08:38:02.9782883Z           âœ“ array:lengthGte(["foo", "bar"],1) === true
2025-04-15T08:38:02.9783116Z           âœ“ array:lengthGte(["foo", "bar"],3) === false
2025-04-15T08:38:02.9783356Z           âœ“ array:lengthLte(["foo", "bar"],2) === true
2025-04-15T08:38:02.9783565Z           âœ“ array:lengthLte([],0) === true
2025-04-15T08:38:02.9783785Z           âœ“ array:lengthLte(["foo", "bar"],1) === false
2025-04-15T08:38:02.9784015Z           âœ“ array:lengthLte(["foo", "bar"],3) === true
2025-04-15T08:38:02.9784188Z         object
2025-04-15T08:38:02.9784436Z           âœ“ object:empty({}) === true (1 ms)
2025-04-15T08:38:02.9784669Z           âœ“ object:empty({"foo": "bar"}) === false
2025-04-15T08:38:02.9784890Z           âœ“ object:empty(undefined) === true
2025-04-15T08:38:02.9785096Z           âœ“ object:empty(null) === true
2025-04-15T08:38:02.9785302Z           âœ“ object:notEmpty({}) === false
2025-04-15T08:38:02.9785539Z           âœ“ object:notEmpty({"foo": "bar"}) === true
2025-04-15T08:38:02.9785769Z           âœ“ object:notEmpty(undefined) === false
2025-04-15T08:38:02.9785996Z           âœ“ object:notEmpty(null) === false (1 ms)
2025-04-15T08:38:02.9786178Z         arrayContainsValue
2025-04-15T08:38:02.9786527Z           âœ“ should return true if the array contains the value
2025-04-15T08:38:02.9786824Z           âœ“ should return false if the array does not contain the value
2025-04-15T08:38:02.9787175Z           âœ“ should return true if the array contains the string value and ignoreCase is true
2025-04-15T08:38:02.9787570Z           âœ“ should return false if the array contains the string value but ignoreCase is false
2025-04-15T08:38:02.9787971Z           âœ“ should return false if the array does not contain the string value and ignoreCase is true
2025-04-15T08:38:02.9788353Z           âœ“ should handle non-string values correctly when ignoreCase is true
2025-04-15T08:38:02.9788681Z           âœ“ should handle mixed types in the array correctly (1 ms)
2025-04-15T08:38:02.9788835Z 
2025-04-15T08:38:02.9788957Z PASS test/NodeHelpers.test.ts
2025-04-15T08:38:02.9789142Z   NodeHelpers
2025-04-15T08:38:02.9789276Z     getNodeParameters
2025-04-15T08:38:02.9789449Z       âœ“ simple values. (7 ms)
2025-04-15T08:38:02.9789954Z       âœ“ simple values with displayOptions "show" (match) which is boolean. All values set. (1 ms)
2025-04-15T08:38:02.9790390Z       âœ“ simple values with displayOptions "hide" (match) which is boolean. All values set. (1 ms)
2025-04-15T08:38:02.9790812Z       âœ“ simple values with displayOptions "show" (match) which is boolean. One values set. (1 ms)
2025-04-15T08:38:02.9791181Z       âœ“ simple values with displayOptions "show" (match). No values set.
2025-04-15T08:38:02.9791752Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default).
2025-04-15T08:38:02.9792475Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default) (4 ms)
2025-04-15T08:38:02.9792971Z       âœ“ simple values with displayOptions "show" (match). All values set.
2025-04-15T08:38:02.9793305Z       âœ“ simple values with displayOptions "show" (no-match). No values set.
2025-04-15T08:38:02.9793650Z       âœ“ simple values with displayOptions "show" (no-match). All values set.
2025-04-15T08:38:02.9794008Z       âœ“ complex type "fixedCollection" with "multipleValues: true". One value set.
2025-04-15T08:38:02.9794453Z       âœ“ complex type "fixedCollection" with "multipleValues: false". One value set. (1 ms)
2025-04-15T08:38:02.9794892Z       âœ“ complex type "fixedCollection" with "multipleValues: false". Two values set one single one. (1 ms)
2025-04-15T08:38:02.9795506Z       âœ“ complex type "fixedCollection" with "multipleValues: true" and complex type "collection"  with "multipleValues: true". One value set each.
2025-04-15T08:38:02.9796167Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set. (11 ms)
2025-04-15T08:38:02.9796938Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:38:02.9797673Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:38:02.9798381Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:38:02.9799047Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:38:02.9799715Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:38:02.9800380Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:38:02.9801185Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (5 ms)
2025-04-15T08:38:02.9801733Z       âœ“ complex type "collection" with "multipleValues: true". One none-default value set.
2025-04-15T08:38:02.9802147Z       âœ“ complex type "collection" with "multipleValues: true". One default value set. (1 ms)
2025-04-15T08:38:02.9802538Z       âœ“ complex type "collection" with "multipleValues: false". One none-default value set.
2025-04-15T08:38:02.9802919Z       âœ“ complex type "collection" with "multipleValues: false". One default value set.
2025-04-15T08:38:02.9803281Z       âœ“ complex type "collection" with "multipleValues: false". Only outer value set.
2025-04-15T08:38:02.9803661Z       âœ“ complex type "collection" with "multipleValues: false". No value set at all. (1 ms)
2025-04-15T08:38:02.9804033Z       âœ“ complex type "collection" with "multipleValues: true". No value set at all.
2025-04-15T08:38:02.9804712Z       âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:38:02.9805403Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:38:02.9806280Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed
2025-04-15T08:38:02.9807015Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:38:02.9807717Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains complex type "fixedCollection" with "multipleValues: true". One value set. (1 ms)
2025-04-15T08:38:02.9808506Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
2025-04-15T08:38:02.9809255Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "multiOptions" and has so an array default value (1 ms)
2025-04-15T08:38:02.9809956Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "string" with "multipleValues: true" and a custom default value (1 ms)
2025-04-15T08:38:02.9810771Z       âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) in combination with another value
2025-04-15T08:38:02.9811591Z       âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) (1 ms)
2025-04-15T08:38:02.9812315Z       âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having each value set)
2025-04-15T08:38:02.9812829Z       âœ“ nodeValues is null (for example when resolving expression fails) (1 ms)
2025-04-15T08:38:02.9813065Z     getNodeHints
2025-04-15T08:38:02.9813279Z       âœ“ should return node hints if present in node type
2025-04-15T08:38:02.9813559Z       âœ“ should not include hint if displayCondition is false
2025-04-15T08:38:02.9813825Z       âœ“ should include hint if displayCondition is true
2025-04-15T08:38:02.9814020Z     isSubNodeType
2025-04-15T08:38:02.9814196Z       âœ“ should return false for null
2025-04-15T08:38:02.9814598Z       âœ“ should return false for { outputs: '={{random_expression}}' } (1 ms)
2025-04-15T08:38:02.9814908Z       âœ“ should return false for { outputs: [ [length]: 0 ] }
2025-04-15T08:38:02.9815214Z       âœ“ should return false for { outputs: [ 'main', [length]: 1 ] }
2025-04-15T08:38:02.9815531Z       âœ“ should return true for { outputs: [ 'ai_agent', [length]: 1 ] }
2025-04-15T08:38:02.9816012Z       âœ“ should return true for { outputs: [ 'main', 'ai_agent', [length]: 2 ] }
2025-04-15T08:38:02.9816261Z     applyDeclarativeNodeOptionParameters
2025-04-15T08:38:02.9816587Z       âœ“ should not modify properties on node with node with execute method method (1 ms)
2025-04-15T08:38:02.9816956Z       âœ“ should not modify properties on node with node with trigger method method
2025-04-15T08:38:02.9817310Z       âœ“ should not modify properties on node with node with webhook method method
2025-04-15T08:38:02.9817665Z       âœ“ should not modify properties on node with a polling node-type method (1 ms)
2025-04-15T08:38:02.9818040Z       âœ“ should not modify properties on node with a node-type with a non-main output method
2025-04-15T08:38:02.9818287Z     getParameterIssues
2025-04-15T08:38:02.9819395Z       âœ“ Fixed collection::Should not return issues if minimum or maximum field count is not set (2 ms)
2025-04-15T08:38:02.9819865Z       âœ“ Fixed collection::Should not return issues if field count is within the specified range (1 ms)
2025-04-15T08:38:02.9820469Z       âœ“ Fixed collection::Should return an issue if field count is lower than minimum specified (1 ms)
2025-04-15T08:38:02.9820942Z       âœ“ Fixed collection::Should return an issue if field count is higher than maximum specified (1 ms)
2025-04-15T08:38:02.9821345Z       âœ“ Fixed collection::Should not return issues if the collection is hidden
2025-04-15T08:38:02.9821622Z     getParameterIssues, required parameters validation
2025-04-15T08:38:02.9821972Z       âœ“ Should validate required dateTime parameters if empty string (1 ms)
2025-04-15T08:38:02.9822296Z       âœ“ Should validate required dateTime parameters if empty undefined
2025-04-15T08:38:02.9822510Z     isTriggerNode
2025-04-15T08:38:02.9822738Z       âœ“ Should return true for node with trigger in group (1 ms)
2025-04-15T08:38:02.9823044Z       âœ“ Should return true for node with multiple groups including trigger
2025-04-15T08:38:02.9823348Z       âœ“ Should return false for node without trigger in group
2025-04-15T08:38:02.9823630Z       âœ“ Should return false for node with empty group array
2025-04-15T08:38:02.9823973Z       âœ“ Should return false when trigger is called Trigger, but does not have a trigger group
2025-04-15T08:38:02.9824221Z     isExecutable
2025-04-15T08:38:02.9824509Z       âœ“ Should return true for trigger node (1 ms)
2025-04-15T08:38:02.9824748Z       âœ“ Should return true for node with Main output
2025-04-15T08:38:02.9825039Z       âœ“ Should return false for node without Main output and not a trigger
2025-04-15T08:38:02.9825352Z       âœ“ Should return true for node with mixed outputs including Main
2025-04-15T08:38:02.9825682Z       âœ“ Should return false for node with only AiTool output and not a trigger
2025-04-15T08:38:02.9826012Z       âœ“ Should return false for node with dynamic outputs set to AiTool only
2025-04-15T08:38:02.9826230Z     displayParameter
2025-04-15T08:38:02.9826446Z       âœ“ Should return true if no displayOptions are defined
2025-04-15T08:38:02.9826759Z       âœ“ Should return true if displayOptions.show conditions are met (7 ms)
2025-04-15T08:38:02.9827098Z       âœ“ Should return false if displayOptions.show conditions are not met (1 ms)
2025-04-15T08:38:02.9827424Z       âœ“ Should return false if displayOptions.hide conditions are met
2025-04-15T08:38:02.9827748Z       âœ“ Should return true if displayOptions.hide conditions are not met (1 ms)
2025-04-15T08:38:02.9828098Z       âœ“ Should return true if displayOptions.show and hide conditions are both met
2025-04-15T08:38:02.9828478Z       âœ“ Should return true if displayOptions.show conditions are met with multiple values
2025-04-15T08:38:02.9828868Z       âœ“ Should return false if displayOptions.hide conditions are met with multiple values
2025-04-15T08:38:02.9829222Z       âœ“ Should return true if @tool is true in nodeTypeDescription of tool
2025-04-15T08:38:02.9829551Z       âœ“ Should return false if @tool is true in nodeTypeDescription of non-tool
2025-04-15T08:38:02.9829839Z       âœ“ Should return true if @version condition is met
2025-04-15T08:38:02.9830224Z       âœ“ Should return false if @version condition is not met
2025-04-15T08:38:02.9830516Z       âœ“ Should return true if @tool and @version conditions are both met
2025-04-15T08:38:02.9830836Z       âœ“ Should return false if @tool is true but @version condition is not met
2025-04-15T08:38:02.9831127Z       âœ“ Should return true if no disabledOptions are defined
2025-04-15T08:38:02.9831423Z       âœ“ Should return false if disabledOptions.hide conditions are met
2025-04-15T08:38:02.9831739Z       âœ“ Should return true if disabledOptions.hide conditions are not met
2025-04-15T08:38:02.9832138Z       âœ“ Should return true if nodeValuesRoot contains a matching value for displayOptions.show (1 ms)
2025-04-15T08:38:02.9832584Z       âœ“ Should return false if nodeValuesRoot does not contain a matching value for displayOptions.show
2025-04-15T08:38:02.9832795Z 
2025-04-15T08:38:02.9832890Z PASS test/Workflow.test.ts
2025-04-15T08:38:02.9833047Z   Workflow
2025-04-15T08:38:02.9833298Z     renameNodeInParameterValue
2025-04-15T08:38:02.9833459Z       for expressions
2025-04-15T08:38:02.9833661Z         âœ“ do nothing if there is no expression (3 ms)
2025-04-15T08:38:02.9833883Z         âœ“ should work with dot notation
2025-04-15T08:38:02.9834092Z         âœ“ should work with ["nodeName"]
2025-04-15T08:38:02.9834367Z         âœ“ should work with $("Node1") (1 ms)
2025-04-15T08:38:02.9834581Z         âœ“ should work with $items("Node1")
2025-04-15T08:38:02.9834801Z         âœ“ should work with $items("Node1", 0, 1)
2025-04-15T08:38:02.9835097Z         âœ“ should work with dot notation that contains space and special character
2025-04-15T08:38:02.9835423Z         âœ“ should work with dot notation that contains space and trailing $
2025-04-15T08:38:02.9835767Z         âœ“ should work with dot notation that contains space and special character (1 ms)
2025-04-15T08:38:02.9836081Z         âœ“ should work with dot notation without trailing dot
2025-04-15T08:38:02.9836301Z         âœ“ should work with ['nodeName']
2025-04-15T08:38:02.9836517Z         âœ“ should work on lower levels
2025-04-15T08:38:02.9836699Z       for node with renamable content
2025-04-15T08:38:02.9836894Z         âœ“ should work with $('name')
2025-04-15T08:38:02.9837122Z         âœ“ should work with $node['name'] and $node.name
2025-04-15T08:38:02.9837335Z         âœ“ should work with $items()
2025-04-15T08:38:02.9837488Z     renameNode
2025-04-15T08:38:02.9837674Z       âœ“ rename node without connections (1 ms)
2025-04-15T08:38:02.9837892Z       âœ“ rename node with one output connection
2025-04-15T08:38:02.9838123Z       âœ“ rename node with one input connection (1 ms)
2025-04-15T08:38:02.9838381Z       âœ“ rename node with multiple input and output connection
2025-04-15T08:38:02.9838694Z       âœ“ change name also in expressions which use node-name (dot notation) (1 ms)
2025-04-15T08:38:02.9838924Z     getParameterValue
2025-04-15T08:38:02.9839120Z       âœ“ read simple not expression value (1 ms)
2025-04-15T08:38:02.9839342Z       âœ“ read simple math expression (25 ms)
2025-04-15T08:38:02.9839659Z       âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax (2 ms)
2025-04-15T08:38:02.9840099Z       âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax add value and append text (1 ms)
2025-04-15T08:38:02.9840575Z       âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax with JavaScript Code (9 ms)
2025-04-15T08:38:02.9840954Z       âœ“ read data from incoming-node-data with with short "data" syntax
2025-04-15T08:38:02.9841277Z       âœ“ read deep-data from incoming-node-data with with short "data" syntax
2025-04-15T08:38:02.9841688Z       âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax (1 ms)
2025-04-15T08:38:02.9842100Z       âœ“ read binary-string-data from incoming-node-data with with short "$binary" syntax (1 ms)
2025-04-15T08:38:02.9842520Z       âœ“ read binary-string-data from node-output-data with with long "$node.{NODE}.binary" syntax
2025-04-15T08:38:02.9843041Z       âœ“ read parameter from other node with with long "$node.parameter" syntax (3 ms)
2025-04-15T08:38:02.9843369Z       âœ“ read environment data "$env" syntax which exists (1 ms)
2025-04-15T08:38:02.9843652Z       âœ“ read environment data "$env" syntax which does not exists
2025-04-15T08:38:02.9843960Z       âœ“ read parameter from current node with short "$parameter" syntax
2025-04-15T08:38:02.9844461Z       âœ“ return resolved value when referencing another property with expression (long "$node.{NODE}.data" syntax) (1 ms)
2025-04-15T08:38:02.9844954Z       âœ“ return resolved value when referencing another property with expression (short "data" syntax) (1 ms)
2025-04-15T08:38:02.9845521Z       âœ“ return resolved value when referencing another property with expression when a node has spaces (long "$node["{NODE}"].parameter" syntax) (1 ms)
2025-04-15T08:38:02.9846274Z       âœ“ return resolved value when referencing another property with expression on another node (long "$node["{NODE}"].parameter" syntax) (1 ms)
2025-04-15T08:38:02.9846862Z       âœ“ should also resolve all child parameters when the parent get requested
2025-04-15T08:38:02.9847088Z     getParentNodesByDepth
2025-04-15T08:38:02.9847285Z       âœ“ Should return parent nodes of nodes
2025-04-15T08:38:02.9847496Z       âœ“ Should return parent up to depth
2025-04-15T08:38:02.9847723Z       âœ“ Should return all parents with depth of -1
2025-04-15T08:38:02.9848014Z       âœ“ Should return parents of nodes with all connected output indicies
2025-04-15T08:38:02.9848277Z       âœ“ Should handle loops within workflows
2025-04-15T08:38:02.9848466Z     getConnectionsByDestination
2025-04-15T08:38:02.9848712Z       âœ“ should return empty object when there are no connections
2025-04-15T08:38:02.9848990Z       âœ“ should return connections by destination node (1 ms)
2025-04-15T08:38:02.9849259Z       âœ“ should handle multiple connection types
2025-04-15T08:38:02.9849486Z       âœ“ should handle nodes with no connections
2025-04-15T08:38:02.9849727Z       âœ“ should handle nodes with null connections (1 ms)
2025-04-15T08:38:02.9849999Z       âœ“ should handle nodes with multiple input connections
2025-04-15T08:38:02.9850190Z     getHighestNode
2025-04-15T08:38:02.9850388Z       âœ“ should return node name if node is not disabled
2025-04-15T08:38:02.9850634Z       âœ“ should return empty array if node is disabled
2025-04-15T08:38:02.9850911Z       âœ“ should return highest nodes when multiple parent nodes exist
2025-04-15T08:38:02.9851178Z       âœ“ should ignore disabled parent nodes (1 ms)
2025-04-15T08:38:02.9851396Z       âœ“ should handle nested connections
2025-04-15T08:38:02.9851625Z       âœ“ should handle specified connection index
2025-04-15T08:38:02.9851900Z       âœ“ should prevent infinite loops with cyclic connections (1 ms)
2025-04-15T08:38:02.9852229Z       âœ“ should handle connections to nodes that are not defined in the workflow
2025-04-15T08:38:02.9852578Z       âœ“ should handle connections from nodes that are not defined in the workflow
2025-04-15T08:38:02.9852814Z     getParentMainInputNode
2025-04-15T08:38:02.9853069Z       âœ“ should return the node itself if no parent connections exist
2025-04-15T08:38:02.9853333Z       âœ“ should return direct main input parent node
2025-04-15T08:38:02.9853620Z       âœ“ should traverse through non-main connections to find main input
2025-04-15T08:38:02.9853904Z       âœ“ should handle nested non-main connections (1 ms)
2025-04-15T08:38:02.9854097Z     getNodeConnectionIndexes
2025-04-15T08:38:02.9854397Z       âœ“ should return undefined for non-existent parent node (1 ms)
2025-04-15T08:38:02.9854685Z       âœ“ should return undefined for nodes without connections
2025-04-15T08:38:02.9854984Z       âœ“ should return correct connection indexes for direct connections
2025-04-15T08:38:02.9855301Z       âœ“ should return correct connection indexes for multi-step connections
2025-04-15T08:38:02.9855573Z       âœ“ should return undefined when depth is 0
2025-04-15T08:38:02.9855847Z       âœ“ should handle workflows with multiple connection indexes (1 ms)
2025-04-15T08:38:02.9856207Z     getStartNode
2025-04-15T08:38:02.9856455Z       âœ“ returns first trigger node when multiple start nodes exist (1 ms)
2025-04-15T08:38:02.9856781Z       âœ“ returns first starting node type when no trigger nodes are present
2025-04-15T08:38:02.9857076Z       âœ“ returns undefined when all nodes are disabled (1 ms)
2025-04-15T08:38:02.9857260Z     getNode
2025-04-15T08:38:02.9857468Z       âœ“ should return the node with the given name if it exists
2025-04-15T08:38:02.9857734Z       âœ“ should return null if the node does not exist
2025-04-15T08:38:02.9857911Z     getNodes
2025-04-15T08:38:02.9858120Z       âœ“ should return all requested nodes that exist (2 ms)
2025-04-15T08:38:02.9858381Z       âœ“ should return nodes in the order they were requested
2025-04-15T08:38:02.9858657Z       âœ“ should skip nodes that do not exist and log a warning (1 ms)
2025-04-15T08:38:02.9858973Z       âœ“ should return an empty array if none of the requested nodes exist (1 ms)
2025-04-15T08:38:02.9859245Z       âœ“ should handle an empty array of node names
2025-04-15T08:38:02.9859475Z 
2025-04-15T08:38:02.9859574Z PASS test/TelemetryHelpers.test.ts
2025-04-15T08:38:02.9859789Z   getDomainBase should return protocol plus domain
2025-04-15T08:38:02.9859997Z     âœ“ in valid URLs (8 ms)
2025-04-15T08:38:02.9860177Z     âœ“ in malformed URLs (3 ms)
2025-04-15T08:38:02.9860396Z   getDomainPath should return pathname, excluding query string
2025-04-15T08:38:02.9860653Z     anonymizing strings containing at least one number
2025-04-15T08:38:02.9860861Z       âœ“ in valid URLs (3 ms)
2025-04-15T08:38:02.9861045Z       âœ“ in malformed URLs (20 ms)
2025-04-15T08:38:02.9861204Z     anonymizing UUIDs
2025-04-15T08:38:02.9861361Z       âœ“ in valid URLs (5 ms)
2025-04-15T08:38:02.9861537Z       âœ“ in malformed URLs (2 ms)
2025-04-15T08:38:02.9861693Z     anonymizing emails
2025-04-15T08:38:02.9861846Z       âœ“ in valid URLs (1 ms)
2025-04-15T08:38:02.9862060Z       âœ“ in malformed URLs (1 ms)
2025-04-15T08:38:02.9862220Z   generateNodesGraph
2025-04-15T08:38:02.9862467Z     âœ“ should return node graph when node type is unknown (3 ms)
2025-04-15T08:38:02.9862741Z     âœ“ should return node graph when workflow is empty
2025-04-15T08:38:02.9863044Z     âœ“ should return node graph when workflow keys are not set (1 ms)
2025-04-15T08:38:02.9863457Z     âœ“ should return node graph when node has multiple operation fields with different display options (1 ms)
2025-04-15T08:38:02.9863835Z     âœ“ should return node graph with stickies of default size (2 ms)
2025-04-15T08:38:02.9864160Z     âœ“ should return node graph with stickies indicating overlap (2 ms)
2025-04-15T08:38:02.9864506Z     âœ“ should return node graph indicating pinned data
2025-04-15T08:38:02.9864748Z     âœ“ should return graph with webhook node
2025-04-15T08:38:02.9865027Z     âœ“ should return graph with http v4 node with generic auth (1 ms)
2025-04-15T08:38:02.9865319Z     âœ“ should return graph with HTTP V4 with predefined cred
2025-04-15T08:38:02.9865571Z     âœ“ should return graph with merge v3 node
2025-04-15T08:38:02.9865815Z     âœ“ should return graph with merge v3 node (1 ms)
2025-04-15T08:38:02.9866050Z     âœ“ should return graph with merge v3 node
2025-04-15T08:38:02.9866270Z     âœ“ should return graph with http v1 node
2025-04-15T08:38:02.9866569Z     âœ“ should return graph with http v4 node with no parameters and no credentials
2025-04-15T08:38:02.9866890Z     âœ“ should support custom connections like in AI nodes (1 ms)
2025-04-15T08:38:02.9867236Z     âœ“ should not fail on error to resolve a node parameter for sticky node type (1 ms)
2025-04-15T08:38:02.9867525Z     âœ“ should add run and items count (1 ms)
2025-04-15T08:38:02.9867731Z   extractLastExecutedNodeCredentialData
2025-04-15T08:38:02.9868025Z     âœ“ should return credentialId and credentialsType with null if no data
2025-04-15T08:38:02.9868402Z     âœ“ should return credentialId and credentialsType with null if no executionData (1 ms)
2025-04-15T08:38:02.9868826Z     âœ“ should return credentialId and credentialsType with null if no nodeExecutionStack (12 ms)
2025-04-15T08:38:02.9869335Z     âœ“ should return credentialId and credentialsType with null if no node
2025-04-15T08:38:02.9869693Z     âœ“ should return credentialId and credentialsType with null if no credentials
2025-04-15T08:38:02.9870213Z     âœ“ should return correct credentialId and credentialsType when last node executed has credential
2025-04-15T08:38:02.9870517Z   userInInstanceRanOutOfFreeAiCredits
2025-04-15T08:38:02.9870801Z     âœ“ should return false if could not find node credentials (1 ms)
2025-04-15T08:38:02.9871142Z     âœ“ should return false if could not credential type it is not openAiApi (1 ms)
2025-04-15T08:38:02.9871448Z     âœ“ should return false if error is not NodeApiError
2025-04-15T08:38:02.9871738Z     âœ“ should return false if error is not a free ai credit error (1 ms)
2025-04-15T08:38:02.9872050Z     âœ“ should return true if the user has ran out of free AI credits
2025-04-15T08:38:02.9872265Z   makeAIMetrics
2025-04-15T08:38:02.9872480Z     âœ“ should count applicable nodes and parameters (1 ms)
2025-04-15T08:38:02.9872864Z     âœ“ should not count non-applicable nodes and parameters
2025-04-15T08:38:02.9873118Z     âœ“ should count ai nodes without tools (1 ms)
2025-04-15T08:38:02.9873248Z 
2025-04-15T08:38:02.9873340Z PASS test/WorkflowDataProxy.test.ts
2025-04-15T08:38:02.9873517Z   WorkflowDataProxy
2025-04-15T08:38:02.9873666Z     $(If))
2025-04-15T08:38:02.9873916Z       âœ“ last() should use the output the node is connected to by default (5 ms)
2025-04-15T08:38:02.9874196Z       âœ“ last(0) should use the first output (1 ms)
2025-04-15T08:38:02.9874476Z       âœ“ last(1) should use the second output
2025-04-15T08:38:02.9874794Z       âœ“ first() should use the output the node is connected to by default (1 ms)
2025-04-15T08:38:02.9875157Z       âœ“ first(0) should use the output the node is connected to by default
2025-04-15T08:38:02.9875510Z       âœ“ first(1) should use the output the node is connected to by default (1 ms)
2025-04-15T08:38:02.9875845Z       âœ“ all() should use the output the node is connected to by default
2025-04-15T08:38:02.9876198Z       âœ“ all(0) should use the output the node is connected to by default (1 ms)
2025-04-15T08:38:02.9876541Z       âœ“ all(1) should use the output the node is connected to by default (1 ms)
2025-04-15T08:38:02.9876771Z     Base
2025-04-15T08:38:02.9876961Z       âœ“ $("NodeName").all() (1 ms)
2025-04-15T08:38:02.9877173Z       âœ“ $("NodeName").all() length
2025-04-15T08:38:02.9877397Z       âœ“ $("NodeName").item (1 ms)
2025-04-15T08:38:02.9877608Z       âœ“ $("NodeNameEarlier").item
2025-04-15T08:38:02.9877820Z       âœ“ $("NodeName").itemMatching(2) (1 ms)
2025-04-15T08:38:02.9878013Z       âœ“ $("NodeName").first()
2025-04-15T08:38:02.9878191Z       âœ“ $("NodeName").last()
2025-04-15T08:38:02.9878365Z       âœ“ $("NodeName").params
2025-04-15T08:38:02.9878589Z       âœ“ $("NodeName") not in workflow should throw (104 ms)
2025-04-15T08:38:02.9878868Z       âœ“ $("NodeName").item on Node that has not executed (1 ms)
2025-04-15T08:38:02.9879110Z       âœ“ $("NodeName").isExecuted (1 ms)
2025-04-15T08:38:02.9879318Z       âœ“ $input.all() (5 ms)
2025-04-15T08:38:02.9879495Z       âœ“ $input.all() length
2025-04-15T08:38:02.9879665Z       âœ“ $input.first()
2025-04-15T08:38:02.9879836Z       âœ“ $input.last()
2025-04-15T08:38:02.9880003Z       âœ“ $input.item
2025-04-15T08:38:02.9880171Z       âœ“ $thisItem (1 ms)
2025-04-15T08:38:02.9880346Z       âœ“ $binary
2025-04-15T08:38:02.9880505Z       âœ“ $json
2025-04-15T08:38:02.9880663Z       âœ“ $itemIndex
2025-04-15T08:38:02.9880825Z       âœ“ $prevNode
2025-04-15T08:38:02.9880966Z       âœ“ $runIndex
2025-04-15T08:38:02.9881119Z       âœ“ $workflow (1 ms)
2025-04-15T08:38:02.9881261Z     Errors
2025-04-15T08:38:02.9881447Z       âœ“ $("NodeName").item, Node does not exist (3 ms)
2025-04-15T08:38:02.9881738Z       âœ“ $("NodeName").item, node has no connection to referenced node (3 ms)
2025-04-15T08:38:02.9882075Z       âœ“ $("NodeName").first(), node has no connection to referenced node (2 ms)
2025-04-15T08:38:02.9882349Z       âœ“ $json, Node has no connections (32 ms)
2025-04-15T08:38:02.9882756Z       âœ“ $("NodeName").item, Node has not run (3 ms)
2025-04-15T08:38:02.9882975Z       âœ“ $json, Node has not run (2 ms)
2025-04-15T08:38:02.9883255Z       âœ“ $("NodeName").item, paired item error: more than 1 matching item (4 ms)
2025-04-15T08:38:02.9883574Z       âœ“ $("NodeName").item, paired item error: missing paired item (2 ms)
2025-04-15T08:38:02.9883879Z       âœ“ $("NodeName").item, paired item error: invalid paired item (4 ms)
2025-04-15T08:38:02.9884110Z     Pinned data with manual execution
2025-04-15T08:38:02.9884357Z       âœ“ $(PinnedSet).item.json (1 ms)
2025-04-15T08:38:02.9884576Z       âœ“ $(PinnedSet).item.json.firstName
2025-04-15T08:38:02.9884806Z       âœ“ $(PinnedSet).pairedItem().json.firstName
2025-04-15T08:38:02.9885028Z       âœ“ $(PinnedSet).first().json.firstName
2025-04-15T08:38:02.9885257Z       âœ“ $(PinnedSet).first().json.firstName (1 ms)
2025-04-15T08:38:02.9885479Z       âœ“ $(PinnedSet).last().json.firstName
2025-04-15T08:38:02.9885700Z       âœ“ $(PinnedSet).all()[0].json.firstName
2025-04-15T08:38:02.9886501Z       âœ“ $(PinnedSet).all()[1].json.firstName (1 ms)
2025-04-15T08:38:02.9886711Z       âœ“ $(PinnedSet).all()[2]
2025-04-15T08:38:02.9886922Z       âœ“ $(PinnedSet).itemMatching(0).json.firstName
2025-04-15T08:38:02.9887164Z       âœ“ $(PinnedSet).itemMatching(1).json.firstName
2025-04-15T08:38:02.9887389Z       âœ“ $(PinnedSet).itemMatching(2)
2025-04-15T08:38:02.9887608Z       âœ“ $node[PinnedSet].json.firstName (1 ms)
2025-04-15T08:38:02.9887797Z     Pinned data with paired items
2025-04-15T08:38:02.9888074Z       âœ“ itemMatching should throw when it cannot find a paired item (1 ms)
2025-04-15T08:38:02.9888387Z       âœ“ pairedItem should throw when it cannot find a paired item
2025-04-15T08:38:02.9888682Z       âœ“ item should throw when it cannot find a paired item (1 ms)
2025-04-15T08:38:02.9888881Z     Partial data
2025-04-15T08:38:02.9889072Z       Default behaviour (throw on missing execution data)
2025-04-15T08:38:02.9889286Z         âœ“ $binary (1 ms)
2025-04-15T08:38:02.9889465Z         âœ“ $json (1 ms)
2025-04-15T08:38:02.9889619Z         âœ“ $data
2025-04-15T08:38:02.9889786Z       Don't throw on missing execution data)
2025-04-15T08:38:02.9889970Z         âœ“ $binary (1 ms)
2025-04-15T08:38:02.9890125Z         âœ“ $json
2025-04-15T08:38:02.9890270Z         âœ“ $data
2025-04-15T08:38:02.9890395Z     $fromAI
2025-04-15T08:38:02.9890572Z       âœ“ Retrieves values for first item (2 ms)
2025-04-15T08:38:02.9890797Z       âœ“ Retrieves values for second item (1 ms)
2025-04-15T08:38:02.9891022Z       âœ“ Case variants: $fromAi and $fromai (1 ms)
2025-04-15T08:38:02.9891270Z       âœ“ Returns default value when key not found (1 ms)
2025-04-15T08:38:02.9891562Z       âœ“ Throws an error when a key is invalid (e.g. empty string) (2 ms)
2025-04-15T08:38:02.9891772Z     $rawParameter
2025-04-15T08:38:02.9891957Z       âœ“ returns simple raw parameter value
2025-04-15T08:38:02.9892231Z       âœ“ returns raw parameter value for resource locator values (1 ms)
2025-04-15T08:38:02.9892524Z       âœ“ returns raw parameter value when there is no run data
2025-04-15T08:38:02.9892756Z     DateTime and Time-related functions
2025-04-15T08:38:02.9892976Z       âœ“ $now should return current datetime
2025-04-15T08:38:02.9893221Z       âœ“ $today should return datetime at start of day (11 ms)
2025-04-15T08:38:02.9893484Z       âœ“ should expose DateTime, Interval, and Duration
2025-04-15T08:38:02.9893738Z       âœ“ $now should be configurable with timezone (1 ms)
2025-04-15T08:38:02.9893933Z     Node version and ID
2025-04-15T08:38:02.9894130Z       âœ“ $nodeVersion should return node type version
2025-04-15T08:38:02.9894406Z       âœ“ $nodeId should return node ID
2025-04-15T08:38:02.9894616Z       âœ“ $webhookId should be optional
2025-04-15T08:38:02.9894783Z     $jmesPath
2025-04-15T08:38:02.9894953Z       âœ“ should query simple object (1 ms)
2025-04-15T08:38:02.9895159Z       âœ“ should query nested object
2025-04-15T08:38:02.9895358Z       âœ“ should query array (1 ms)
2025-04-15T08:38:02.9895586Z       âœ“ should throw error for invalid arguments (1 ms)
2025-04-15T08:38:02.9895988Z       âœ“ $jmespath should alias $jmesPath
2025-04-15T08:38:02.9896153Z     $mode
2025-04-15T08:38:02.9896320Z       âœ“ should return execution mode
2025-04-15T08:38:02.9896482Z     $item
2025-04-15T08:38:02.9896685Z       âœ“ should return data proxy for specific item (1 ms)
2025-04-15T08:38:02.9896915Z       âœ“ should allow specifying run index
2025-04-15T08:38:02.9897081Z     $items
2025-04-15T08:38:02.9897225Z       Default behavior (no arguments)
2025-04-15T08:38:02.9897458Z         âœ“ should return input items from previous node
2025-04-15T08:38:02.9897734Z         âœ“ should limit items for nodes with executeOnce=true (1 ms)
2025-04-15T08:38:02.9897941Z       With node name argument
2025-04-15T08:38:02.9898158Z         âœ“ should return items for specified node
2025-04-15T08:38:02.9898408Z         âœ“ should throw error for non-existent node (1 ms)
2025-04-15T08:38:02.9898638Z       With node name and output index
2025-04-15T08:38:02.9898868Z         âœ“ should return items from specific output
2025-04-15T08:38:02.9899209Z       With node name, output index, and run index
2025-04-15T08:38:02.9899467Z         âœ“ should handle negative run index (1 ms)
2025-04-15T08:38:02.9899661Z       Error handling
2025-04-15T08:38:02.9899867Z         âœ“ should throw error for invalid run index
2025-04-15T08:38:02.9900140Z         âœ“ should handle nodes with no execution data (1 ms)
2025-04-15T08:38:02.9900320Z     $agentInfo
2025-04-15T08:38:02.9900554Z       âœ“ $agentInfo should return undefined for non-agent nodes (1 ms)
2025-04-15T08:38:02.9900913Z       âœ“ $agentInfo should return memoryConnectedToAgent as true if memory is connected
2025-04-15T08:38:02.9901318Z       âœ“ $agentInfo should return memoryConnectedToAgent as false if no memory is connected
2025-04-15T08:38:02.9901699Z       âœ“ $agentInfo.tools should include connected tools with correct details (1 ms)
2025-04-15T08:38:02.9902036Z       âœ“ $agentInfo.tools should correctly identify AI-defined fields
2025-04-15T08:38:02.9902200Z 
2025-04-15T08:38:02.9902352Z PASS test/ExpressionExtensions/StringExtensions.test.ts
2025-04-15T08:38:02.9902579Z   Data Transformation Functions
2025-04-15T08:38:02.9902764Z     String Data Transformation Functions
2025-04-15T08:38:02.9903003Z       âœ“ .length should return the string length (3 ms)
2025-04-15T08:38:02.9903258Z       âœ“ .urlDecode should work correctly on a string (2 ms)
2025-04-15T08:38:02.9903524Z       âœ“ .urlEncode should work correctly on a string (4 ms)
2025-04-15T08:38:02.9903787Z       âœ“ .removeTags should work correctly on a string (5 ms)
2025-04-15T08:38:02.9904066Z       âœ“ .removeMarkdown should work correctly on a string (2 ms)
2025-04-15T08:38:02.9904396Z       âœ“ .toLowerCase should work correctly on a string (1 ms)
2025-04-15T08:38:02.9904654Z       âœ“ .toFloat should work correctly on a string (2 ms)
2025-04-15T08:38:02.9904925Z       âœ“ .toInt should work correctly on a string (4 ms)
2025-04-15T08:38:02.9905178Z       âœ“ .quote should work correctly on a string (3 ms)
2025-04-15T08:38:02.9905574Z       âœ“ .isNumeric should work correctly on a string (5 ms)
2025-04-15T08:38:02.9905821Z       âœ“ .isUrl should work on a string (29 ms)
2025-04-15T08:38:02.9906057Z       âœ“ .isDomain should work on a string (14 ms)
2025-04-15T08:38:02.9906290Z       âœ“ .toSnakeCase should work on a string (3 ms)
2025-04-15T08:38:02.9906535Z       âœ“ .toSentenceCase should work on a string (3 ms)
2025-04-15T08:38:02.9906772Z       âœ“ .extractUrl should work on a string (14 ms)
2025-04-15T08:38:02.9907010Z       âœ“ .extractDomain should work on a string (32 ms)
2025-04-15T08:38:02.9907249Z       âœ“ .extractEmail should work on a string (1 ms)
2025-04-15T08:38:02.9907486Z       âœ“ .isEmail should work on a string (2 ms)
2025-04-15T08:38:02.9907749Z       âœ“ .toDateTime should work on a variety of formats (18 ms)
2025-04-15T08:38:02.9908011Z       âœ“ .extractUrlPath should work on a string (3 ms)
2025-04-15T08:38:02.9908248Z       âœ“ .parseJson should work on a string (1 ms)
2025-04-15T08:38:02.9908483Z       âœ“ .parseJson should throw on invalid JSON (3 ms)
2025-04-15T08:38:02.9908839Z       âœ“ .toJsonString should work on a string (2 ms)
2025-04-15T08:38:02.9909072Z       âœ“ .toBoolean should work on a string (8 ms)
2025-04-15T08:38:02.9909313Z       âœ“ .base64Encode should work on a string (3 ms)
2025-04-15T08:38:02.9909546Z       âœ“ .base64Decode should work on a string (1 ms)
2025-04-15T08:38:02.9909727Z       .isEmpty
2025-04-15T08:38:02.9909965Z         âœ“ should work correctly on a string that is not empty (39 ms)
2025-04-15T08:38:02.9910261Z         âœ“ should work correctly on a string that is empty (3 ms)
2025-04-15T08:38:02.9910456Z       .isNotEmpty
2025-04-15T08:38:02.9910680Z         âœ“ should work correctly on a string that is not empty (2 ms)
2025-04-15T08:38:02.9910965Z         âœ“ should work correctly on a string that is empty (3 ms)
2025-04-15T08:38:02.9911158Z       .hash()
2025-04-15T08:38:02.9911341Z         âœ“ should work for "base64" (3 ms)
2025-04-15T08:38:02.9911552Z         âœ“ should work for "md5" (2 ms)
2025-04-15T08:38:02.9911770Z         âœ“ should work for "sha1" (3 ms)
2025-04-15T08:38:02.9911993Z         âœ“ should work for "sha224" (3 ms)
2025-04-15T08:38:02.9912203Z         âœ“ should work for "sha256" (2 ms)
2025-04-15T08:38:02.9912408Z         âœ“ should work for "sha384" (3 ms)
2025-04-15T08:38:02.9912617Z         âœ“ should work for "sha512" (3 ms)
2025-04-15T08:38:02.9912823Z         âœ“ should work for "sha3" (7 ms)
2025-04-15T08:38:02.9913051Z         âœ“ should throw on invalid algorithm (48 ms)
2025-04-15T08:38:02.9913226Z       .toDate
2025-04-15T08:38:02.9913419Z         âœ“ should work correctly on a date string (1 ms)
2025-04-15T08:38:02.9913645Z         âœ“ should throw on invalid date (2 ms)
2025-04-15T08:38:02.9913766Z 
2025-04-15T08:38:02.9913854Z PASS test/AugmentObject.test.ts
2025-04-15T08:38:02.9914018Z   AugmentObject
2025-04-15T08:38:02.9914149Z     augmentArray
2025-04-15T08:38:02.9914396Z       âœ“ should work with arrays (21 ms)
2025-04-15T08:38:02.9914624Z       âœ“ should work with arrays on any level (7 ms)
2025-04-15T08:38:02.9914805Z     augmentObject
2025-04-15T08:38:02.9915022Z       âœ“ should work with simple values on first level (2 ms)
2025-04-15T08:38:02.9915292Z       âœ“ should work with simple values on sub-level (1 ms)
2025-04-15T08:38:02.9915569Z       âœ“ should work with complex values on first level (1 ms)
2025-04-15T08:38:02.9915837Z       âœ“ should work with delete and reset (2 ms)
2025-04-15T08:38:02.9916101Z       âœ“ should work with setting to undefined and reset (1 ms)
2025-04-15T08:38:02.9916366Z       âœ“ should be faster than doing a deepCopy (995 ms)
2025-04-15T08:38:02.9916612Z       âœ“ should ignore non-enumerable keys
2025-04-15T08:38:02.9916849Z       âœ“ should return property descriptors (1 ms)
2025-04-15T08:38:02.9917113Z       âœ“ should return valid values on `has` calls (1 ms)
2025-04-15T08:38:02.9917356Z       âœ“ should ignore non-enumerable keys
2025-04-15T08:38:02.9917617Z       âœ“ should handle constructor property correctly (1 ms)
2025-04-15T08:38:02.9917766Z 
2025-04-15T08:38:02.9917958Z PASS test/utils.test.ts
2025-04-15T08:38:02.9918103Z   isObjectEmpty
2025-04-15T08:38:02.9918291Z     âœ“ should handle null and undefined (4 ms)
2025-04-15T08:38:02.9918493Z     âœ“ should handle arrays
2025-04-15T08:38:02.9918689Z     âœ“ should handle Set and Map (1 ms)
2025-04-15T08:38:02.9918943Z     âœ“ should handle Buffer, ArrayBuffer, and Uint8Array (7 ms)
2025-04-15T08:38:02.9919182Z     âœ“ should handle plain objects
2025-04-15T08:38:02.9919390Z     âœ“ should handle instantiated classes
2025-04-15T08:38:02.9919632Z     âœ“ should not call Object.keys unless a plain object
2025-04-15T08:38:02.9919819Z   jsonParse
2025-04-15T08:38:02.9919977Z     âœ“ parses JSON (1 ms)
2025-04-15T08:38:02.9920176Z     âœ“ optionally throws `errorMessage (31 ms)
2025-04-15T08:38:02.9920415Z     âœ“ optionally returns a `fallbackValue` (1 ms)
2025-04-15T08:38:02.9920589Z   jsonStringify
2025-04-15T08:38:02.9920822Z     âœ“ should throw errors on circular references by default (2 ms)
2025-04-15T08:38:02.9921092Z     âœ“ should break circular references when requested
2025-04-15T08:38:02.9921479Z     âœ“ should not detect duplicates as circular references (5 ms)
2025-04-15T08:38:02.9921673Z   deepCopy
2025-04-15T08:38:02.9921848Z     âœ“ should deep copy an object (1 ms)
2025-04-15T08:38:02.9922113Z     âœ“ should avoid max call stack in case of circular deps (2 ms)
2025-04-15T08:38:02.9922316Z   fileTypeFromMimeType
2025-04-15T08:38:02.9922505Z     âœ“ should recognize json (1 ms)
2025-04-15T08:38:02.9922691Z     âœ“ should recognize html
2025-04-15T08:38:02.9922872Z     âœ“ should recognize image
2025-04-15T08:38:02.9923073Z     âœ“ should recognize audio (1 ms)
2025-04-15T08:38:02.9923272Z     âœ“ should recognize video (1 ms)
2025-04-15T08:38:02.9923459Z     âœ“ should recognize text
2025-04-15T08:38:02.9923628Z     âœ“ should recognize pdf
2025-04-15T08:38:02.9923777Z   randomInt
2025-04-15T08:38:02.9923957Z     âœ“ should generate random integers (3 ms)
2025-04-15T08:38:02.9924190Z     âœ“ should generate random in range (3 ms)
2025-04-15T08:38:02.9924624Z   randomString
2025-04-15T08:38:02.9924855Z     âœ“ should return a random string of the specified length (9 ms)
2025-04-15T08:38:02.9925169Z     âœ“ should return a random string of the in the length range (2 ms)
2025-04-15T08:38:02.9925505Z     âœ“ should only contain characters from the specified character set (4 ms)
2025-04-15T08:38:02.9925738Z   hasKey
2025-04-15T08:38:02.9925931Z     âœ“ should return false if the input is null (1 ms)
2025-04-15T08:38:02.9926349Z     âœ“ should return false if the input is undefined (1 ms)
2025-04-15T08:38:02.9926612Z     âœ“ should return false if the input is a number
2025-04-15T08:38:02.9926903Z     âœ“ should return false if the input is an array out of bounds (1 ms)
2025-04-15T08:38:02.9927208Z     âœ“ should return true if the input is an array within bounds
2025-04-15T08:38:02.9927521Z     âœ“ should return true if the input is an array with the key `length`
2025-04-15T08:38:02.9927864Z     âœ“ should return false if the input is an array with the key `toString` (1 ms)
2025-04-15T08:38:02.9928201Z     âœ“ should return false if the input is an object without the key
2025-04-15T08:38:02.9928501Z     âœ“ should return true if the input is an object with the key
2025-04-15T08:38:02.9928750Z     âœ“ should provide a type guard (1 ms)
2025-04-15T08:38:02.9928864Z 
2025-04-15T08:38:02.9928948Z PASS test/NodeErrors.test.ts
2025-04-15T08:38:02.9929113Z   NodeErrors tests
2025-04-15T08:38:02.9929307Z     âœ“ should return unknown error message (6 ms)
2025-04-15T08:38:02.9929536Z     âœ“ should return the error message (1 ms)
2025-04-15T08:38:02.9929796Z     âœ“ should return the error message defined in reason (1 ms)
2025-04-15T08:38:02.9930078Z     âœ“ should return the error message defined in options
2025-04-15T08:38:02.9930340Z     âœ“ should return description error message (1 ms)
2025-04-15T08:38:02.9930644Z     âœ“ should return description as error message defined in reason (1 ms)
2025-04-15T08:38:02.9930981Z     âœ“ should return description as error message defined in options
2025-04-15T08:38:02.9931411Z     âœ“ should return default message for ECONNREFUSED (1 ms)
2025-04-15T08:38:02.9931653Z     âœ“ should return default message for 502
2025-04-15T08:38:02.9931931Z     âœ“ should return default message for ENOTFOUND, NodeOperationError
2025-04-15T08:38:02.9932258Z     âœ“ should return default message for ENOTFOUND, NodeApiError (13 ms)
2025-04-15T08:38:02.9932606Z     âœ“ should return default message for EEXIST based on code, NodeApiError (1 ms)
2025-04-15T08:38:02.9932962Z     âœ“ should update description GETADDRINFO, NodeOperationError (1 ms)
2025-04-15T08:38:02.9933307Z     âœ“ should remove description if it is equal to message, NodeOperationError
2025-04-15T08:38:02.9933796Z     âœ“ should remove description if it is equal to message, message provided in options take precedence over original, NodeApiError
2025-04-15T08:38:02.9934323Z     âœ“ should return mapped message for MYMAPPEDMESSAGE, NodeOperationError (1 ms)
2025-04-15T08:38:02.9934681Z     âœ“ should return mapped message for MYMAPPEDMESSAGE, NodeApiError
2025-04-15T08:38:02.9935193Z     âœ“ should return default message for EACCES, custom mapping not found, NodeOperationError (1 ms)
2025-04-15T08:38:02.9935490Z   NodeApiError message and description logic
2025-04-15T08:38:02.9935912Z     âœ“ case: customMessage && customDescription, result: message === customMessage; description === customDescription (1 ms)
2025-04-15T08:38:02.9936511Z     âœ“ case: customMessage && !customDescription && extractedMessage, result: message === customMessage; description === extractedMessage (5 ms)
2025-04-15T08:38:02.9937101Z     âœ“ case: customMessage && !customDescription && !extractedMessage, result: message === customMessage; !description (1 ms)
2025-04-15T08:38:02.9937700Z     âœ“ case: !customMessage && httpCodeMapping && extractedMessage, result: message === httpCodeMapping; description === extractedMessage (1 ms)
2025-04-15T08:38:02.9938271Z     âœ“ case: !customMessage && httpCodeMapping && !extractedMessage, result: message === httpCodeMapping; !description (1 ms)
2025-04-15T08:38:02.9938806Z     âœ“ case: !customMessage && !httpCodeMapping && extractedMessage, result: message === extractedMessage; !description
2025-04-15T08:38:02.9939416Z     âœ“ case: !customMessage && !httpCodeMapping && !extractedMessage, result: message === UNKNOWN_ERROR_MESSAGE; description === UNKNOWN_ERROR_DESCRIPTION (1 ms)
2025-04-15T08:38:02.9939823Z     âœ“ case: Error code sent as "any"
2025-04-15T08:38:02.9939944Z 
2025-04-15T08:38:02.9940099Z PASS test/ExpressionExtensions/ExpressionExtension.test.ts
2025-04-15T08:38:02.9940346Z   Expression Extension Transforms
2025-04-15T08:38:02.9940515Z     extend() transform
2025-04-15T08:38:02.9940721Z       âœ“ Basic transform with .isEmpty (11 ms)
2025-04-15T08:38:02.9940997Z       âœ“ Chained transform with .toSnakeCase.toSentenceCase (2 ms)
2025-04-15T08:38:02.9941357Z       âœ“ Chained transform with native functions .toSnakeCase.trim.toSentenceCase (2 ms)
2025-04-15T08:38:02.9941613Z   tmpl Expression Parser
2025-04-15T08:38:02.9941773Z     Compatible splitting
2025-04-15T08:38:02.9941960Z       âœ“ Lone expression (1 ms)
2025-04-15T08:38:02.9942142Z       âœ“ Multiple expression
2025-04-15T08:38:02.9942320Z       âœ“ Unclosed expression
2025-04-15T08:38:02.9942527Z       âœ“ Escaped opening bracket
2025-04-15T08:38:02.9942729Z       âœ“ Escaped closinging bracket
2025-04-15T08:38:02.9942892Z     Compatible joining
2025-04-15T08:38:02.9943057Z       âœ“ Lone expression
2025-04-15T08:38:02.9943237Z       âœ“ Multiple expression (1 ms)
2025-04-15T08:38:02.9943419Z       âœ“ Unclosed expression
2025-04-15T08:38:02.9943601Z       âœ“ Escaped opening bracket
2025-04-15T08:38:02.9943791Z       âœ“ Escaped closing bracket
2025-04-15T08:38:02.9943940Z     Edge cases
2025-04-15T08:38:02.9944329Z       âœ“ Nested member access with name of function inside a function doesn't result in function call (6 ms)
2025-04-15T08:38:02.9944614Z     Test newer ES syntax
2025-04-15T08:38:02.9944813Z       âœ“ Optional chaining transforms (13 ms)
2025-04-15T08:38:02.9945055Z       âœ“ Optional chaining transforms on calls (10 ms)
2025-04-15T08:38:02.9945438Z       âœ“ Multiple optional chains in an expression (4 ms)
2025-04-15T08:38:02.9945631Z     Non dot extensions
2025-04-15T08:38:02.9945785Z       âœ“ min (1 ms)
2025-04-15T08:38:02.9945936Z       âœ“ max (1 ms)
2025-04-15T08:38:02.9946088Z       âœ“ average (1 ms)
2025-04-15T08:38:02.9946250Z       âœ“ numberList (1 ms)
2025-04-15T08:38:02.9946408Z       âœ“ zip (1 ms)
2025-04-15T08:38:02.9946559Z       âœ“ $if (15 ms)
2025-04-15T08:38:02.9946704Z       âœ“ $not (5 ms)
2025-04-15T08:38:02.9946850Z       âœ“ $ifEmpty (4 ms)
2025-04-15T08:38:02.9947007Z     Test extend with undefined
2025-04-15T08:38:02.9947216Z       âœ“ input is undefined (1 ms)
2025-04-15T08:38:02.9947412Z       âœ“ input is null
2025-04-15T08:38:02.9947669Z       âœ“ input should be converted to upper case
2025-04-15T08:38:02.9947811Z 
2025-04-15T08:38:02.9947955Z PASS test/ExpressionExtensions/DateExtensions.test.ts
2025-04-15T08:38:02.9948201Z   Data Transformation Functions
2025-04-15T08:38:02.9948411Z     Date Data Transformation Functions
2025-04-15T08:38:02.9948805Z       âœ“ .isWeekend() should work correctly on a date (31 ms)
2025-04-15T08:38:02.9949086Z       âœ“ .endOfMonth() should work correctly on a date (7 ms)
2025-04-15T08:38:02.9949350Z       âœ“ .toDate() should work on a string (2 ms)
2025-04-15T08:38:02.9949545Z       .beginningOf
2025-04-15T08:38:02.9949804Z         âœ“ .beginningOf("week") should work correctly on a date (4 ms)
2025-04-15T08:38:02.9950128Z         âœ“ .beginningOf("week") should work correctly on a string (2 ms)
2025-04-15T08:38:02.9950450Z         âœ“ .beginningOf("month") should work correctly on a string (9 ms)
2025-04-15T08:38:02.9950772Z         âœ“ .beginningOf("year") should work correctly on a string (3 ms)
2025-04-15T08:38:02.9950973Z       .extract
2025-04-15T08:38:02.9951190Z         âœ“ .extract("day") should work correctly on a date (2 ms)
2025-04-15T08:38:02.9951438Z         âœ“ should extract year from a date (3 ms)
2025-04-15T08:38:02.9951682Z         âœ“ should extract yearDayNumber from a date (1 ms)
2025-04-15T08:38:02.9951975Z         âœ“ should extract month from a date (3 ms)
2025-04-15T08:38:02.9952207Z         âœ“ should extract week from a date (4 ms)
2025-04-15T08:38:02.9952432Z         âœ“ should extract day from a date (4 ms)
2025-04-15T08:38:02.9952661Z         âœ“ should extract hour from a date (1 ms)
2025-04-15T08:38:02.9952898Z         âœ“ should extract minute from a date (1 ms)
2025-04-15T08:38:02.9953159Z         âœ“ should extract second from a date (1 ms)
2025-04-15T08:38:02.9953403Z         âœ“ should extract millisecond from a date (2 ms)
2025-04-15T08:38:02.9953668Z         âœ“ should return undefined for invalid unit (1 ms)
2025-04-15T08:38:02.9953870Z       .format
2025-04-15T08:38:02.9954076Z         âœ“ should format date with custom format (3 ms)
2025-04-15T08:38:02.9954380Z         âœ“ should format date with ISO format (6 ms)
2025-04-15T08:38:02.9954561Z       .inBetween
2025-04-15T08:38:02.9954749Z         âœ“ should work on string and Date (5 ms)
2025-04-15T08:38:02.9954994Z         âœ“ should work on string and DateTime (1 ms)
2025-04-15T08:38:02.9955260Z         âœ“ should not work for invalid strings (2 ms)
2025-04-15T08:38:02.9955510Z         âœ“ should not work for numbers (1 ms)
2025-04-15T08:38:02.9955767Z         âœ“ should not work for a single argument (61 ms)
2025-04-15T08:38:02.9956032Z         âœ“ should not work for a more than two arguments (4 ms)
2025-04-15T08:38:02.9956226Z       .diffTo
2025-04-15T08:38:02.9956411Z         âœ“ should work with a single unit (4 ms)
2025-04-15T08:38:02.9956640Z         âœ“ should work with an array of units (3 ms)
2025-04-15T08:38:02.9956872Z         âœ“ should return difference in days (1 ms)
2025-04-15T08:38:02.9957109Z         âœ“ should return difference in hours (1 ms)
2025-04-15T08:38:02.9957344Z         âœ“ should return difference in minutes (2 ms)
2025-04-15T08:38:02.9957590Z         âœ“ should return difference in seconds (2 ms)
2025-04-15T08:38:02.9957843Z         âœ“ should return difference in milliseconds (1 ms)
2025-04-15T08:38:02.9958082Z         âœ“ should throw for invalid unit (3 ms)
2025-04-15T08:38:02.9958381Z       .toDateTime
2025-04-15T08:38:02.9958569Z         âœ“ should return itself for DateTime (2 ms)
2025-04-15T08:38:02.9958805Z         âœ“ should return a DateTime for JS Date (2 ms)
2025-04-15T08:38:02.9958983Z       .toInt/.toFloat
2025-04-15T08:38:02.9959193Z         âœ“ should return milliseconds for DateTime (1 ms)
2025-04-15T08:38:02.9959443Z         âœ“ should return milliseconds for JS Date (1 ms)
2025-04-15T08:38:02.9959716Z         âœ“ should not have a doc (hidden from autocomplete) (3 ms)
2025-04-15T08:38:02.9959914Z       .toBoolean
2025-04-15T08:38:02.9960090Z         âœ“ should return undefined (1 ms)
2025-04-15T08:38:02.9960348Z         âœ“ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:38:02.9960544Z       .isInLast
2025-04-15T08:38:02.9960787Z         âœ“ should return true if the date is within the last n minutes (2 ms)
2025-04-15T08:38:02.9961132Z         âœ“ should return false if the date is not within the last n minutes (1 ms)
2025-04-15T08:38:02.9961524Z         âœ“ should handle default unit as minutes (2 ms)
2025-04-15T08:38:02.9961705Z       .minus
2025-04-15T08:38:02.9961897Z         âœ“ should subtract days from the date (3 ms)
2025-04-15T08:38:02.9962136Z         âœ“ should subtract years from the date (2 ms)
2025-04-15T08:38:02.9962387Z         âœ“ should handle default unit as milliseconds (1 ms)
2025-04-15T08:38:02.9962637Z         âœ“ should handle DateTime instances (2 ms)
2025-04-15T08:38:02.9962812Z       .plus
2025-04-15T08:38:02.9962998Z         âœ“ should subtract days from the date (2 ms)
2025-04-15T08:38:02.9963226Z         âœ“ should subtract years from the date (1 ms)
2025-04-15T08:38:02.9963476Z         âœ“ should handle default unit as milliseconds (2 ms)
2025-04-15T08:38:02.9963724Z         âœ“ should handle DateTime instances (1 ms)
2025-04-15T08:38:02.9963894Z       .isDst
2025-04-15T08:38:02.9964087Z         âœ“ should return true for a date in DST (1 ms)
2025-04-15T08:38:02.9964404Z         âœ“ should return false for a date not in DST (2 ms)
2025-04-15T08:38:02.9964549Z 
2025-04-15T08:38:02.9964639Z PASS test/TypeValidation.test.ts
2025-04-15T08:38:02.9964810Z   Type Validation
2025-04-15T08:38:02.9965010Z     âœ“ should validate boolean values properly (1 ms)
2025-04-15T08:38:02.9965267Z     âœ“ should not validate invalid boolean values (1 ms)
2025-04-15T08:38:02.9965516Z     âœ“ should validate and cast numbers (13 ms)
2025-04-15T08:38:02.9965791Z     âœ“ should validate and cast JSON & JS objects properly (7 ms)
2025-04-15T08:38:02.9966993Z     âœ“ should validate and cast arrays properly (2 ms)
2025-04-15T08:38:02.9967232Z     âœ“ should validate options properly (1 ms)
2025-04-15T08:38:02.9967469Z     âœ“ should validate and cast time properly (1 ms)
2025-04-15T08:38:02.9967641Z     Dates
2025-04-15T08:38:02.9967821Z       âœ“ should validate and cast ISO dates (19 ms)
2025-04-15T08:38:02.9968059Z       âœ“ should validate and cast RFC2822 dates (2 ms)
2025-04-15T08:38:02.9968298Z       âœ“ should validate and cast HTTP dates (1 ms)
2025-04-15T08:38:02.9968537Z       âœ“ should validate and cast SQL dates (1 ms)
2025-04-15T08:38:02.9968787Z       âœ“ should validate and cast other valid dates (5 ms)
2025-04-15T08:38:02.9969030Z       âœ“ should not validate invalid dates (2 ms)
2025-04-15T08:38:02.9969208Z     options
2025-04-15T08:38:02.9969340Z       strict=true
2025-04-15T08:38:02.9969529Z         âœ“ should not convert/cast types (1 ms)
2025-04-15T08:38:02.9969699Z       parseStrings=true
2025-04-15T08:38:02.9969903Z         âœ“ should parse strings from other types (1 ms)
2025-04-15T08:38:02.9970112Z     getValueDescription util function
2025-04-15T08:38:02.9970328Z       âœ“ should return correct description
2025-04-15T08:38:02.9970453Z 
2025-04-15T08:38:02.9970546Z PASS test/ObservableObject.test.ts
2025-04-15T08:38:02.9970724Z   ObservableObject
2025-04-15T08:38:02.9971002Z     âœ“ should recognize that item on parent level got added (init empty) (4 ms)
2025-04-15T08:38:02.9971507Z     âœ“ should not recognize that item on parent level changed if it is empty object and option "ignoreEmptyOnFirstChild" === true (init empty)
2025-04-15T08:38:02.9972274Z     âœ“ should recognize that item on parent level changed if it is not empty object and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:38:02.9972895Z     âœ“ should not recognize that item on parent level changed if it is empty array and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:38:02.9973508Z     âœ“ should recognize that item on parent level changed if it is not empty []] and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:38:02.9973947Z     âœ“ should recognize that item on parent level changed (init data exists)
2025-04-15T08:38:02.9974367Z     âœ“ should recognize that array on parent level changed (init data exists) (1 ms)
2025-04-15T08:38:02.9974746Z     âœ“ should recognize that item on first child level changed (init data exists) (5 ms)
2025-04-15T08:38:02.9975900Z     âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === true (init data exists) (1 ms)
2025-04-15T08:38:02.9976704Z     âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === false (init data exists) (1 ms)
2025-04-15T08:38:02.9977194Z     âœ“ should recognize that array on first child level changed (init data exists) (1 ms)
2025-04-15T08:38:02.9977583Z     âœ“ should recognize that item on second child level changed (init data exists) (1 ms)
2025-04-15T08:38:02.9977945Z     âœ“ should recognize that item on parent level got deleted (init data exists)
2025-04-15T08:38:02.9978432Z     âœ“ should recognize that item on parent level got deleted even with and option "ignoreEmptyOnFirstChild" === true (init data exists)
2025-04-15T08:38:02.9978904Z     âœ“ should recognize that item on second child level got deleted (init data exists) (1 ms)
2025-04-15T08:38:02.9979316Z     âœ“ should recognize that item on second child level changed with null (init data exists) (1 ms)
2025-04-15T08:38:02.9979532Z 
2025-04-15T08:38:02.9979670Z PASS test/ExpressionExtensions/ArrayExtensions.test.ts
2025-04-15T08:38:02.9979899Z   Data Transformation Functions
2025-04-15T08:38:02.9980093Z     Array Data Transformation Functions
2025-04-15T08:38:02.9980363Z       âœ“ .randomItem() should work correctly on an array (32 ms)
2025-04-15T08:38:02.9980647Z       âœ“ .isNotEmpty() should work correctly on an array (5 ms)
2025-04-15T08:38:02.9980917Z       âœ“ .pluck() should work correctly on an array (8 ms)
2025-04-15T08:38:02.9981196Z       âœ“ .pluck() should work correctly for multiple values (10 ms)
2025-04-15T08:38:02.9981487Z       âœ“ .pluck() should work return everything with no args (6 ms)
2025-04-15T08:38:02.9981758Z       âœ“ .unique() should work correctly on an array (3 ms)
2025-04-15T08:38:02.9982079Z       âœ“ .unique() should work on an arrays containing nulls, objects and arrays (5 ms)
2025-04-15T08:38:02.9982393Z       âœ“ .unique() should work on an arrays of objects (6 ms)
2025-04-15T08:38:02.9982675Z       âœ“ .isEmpty() should work correctly on an array (3 ms)
2025-04-15T08:38:02.9982942Z       âœ“ .isEmpty() should work correctly on an array (15 ms)
2025-04-15T08:38:02.9983200Z       âœ“ .last() should work correctly on an array (3 ms)
2025-04-15T08:38:02.9983454Z       âœ“ .first() should work correctly on an array (3 ms)
2025-04-15T08:38:02.9983708Z       âœ“ .merge() should work correctly on an array (5 ms)
2025-04-15T08:38:02.9983995Z       âœ“ .merge() should work correctly without arguments (2 ms)
2025-04-15T08:38:02.9984367Z       âœ“ .smartJoin() should work correctly on an array of objects (9 ms)
2025-04-15T08:38:02.9984705Z       âœ“ .renameKeys() should work correctly on an array of objects (4 ms)
2025-04-15T08:38:02.9985003Z       âœ“ .sum() should work on an array of numbers (50 ms)
2025-04-15T08:38:02.9985266Z       âœ“ .average() should work on an array of numbers (5 ms)
2025-04-15T08:38:02.9985526Z       âœ“ .min() should work on an array of numbers (5 ms)
2025-04-15T08:38:02.9985905Z       âœ“ .max() should work on an array of numbers (4 ms)
2025-04-15T08:38:02.9986269Z       âœ“ .union() should work on an array of objects (8 ms)
2025-04-15T08:38:02.9986587Z       âœ“ .union() should work on an arrays containing nulls, objects and arrays (4 ms)
2025-04-15T08:38:02.9986990Z       âœ“ .intersection() should work on an array of objects (9 ms)
2025-04-15T08:38:02.9987351Z       âœ“ .intersection() should work on an arrays containing nulls, objects and arrays (4 ms)
2025-04-15T08:38:02.9987692Z       âœ“ .difference() should work on an array of objects (11 ms)
2025-04-15T08:38:02.9988025Z       âœ“ .difference() should work on an arrays containing nulls, objects and arrays (2 ms)
2025-04-15T08:38:02.9988319Z       âœ“ .compact() should work on an array (2 ms)
2025-04-15T08:38:02.9988556Z       âœ“ .chunk() should work on an array (2 ms)
2025-04-15T08:38:02.9988803Z       âœ“ .toJsonString() should work on an array (1 ms)
2025-04-15T08:38:02.9989046Z       âœ“ .append() should work on an array (1 ms)
2025-04-15T08:38:02.9989351Z       Conversion methods
2025-04-15T08:38:02.9989657Z         âœ“ should exist but return undefined (to not break expressions with mixed data) (3 ms)
2025-04-15T08:38:02.9990003Z         âœ“ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:38:02.9990142Z 
2025-04-15T08:38:02.9990245Z PASS test/FromAIParseUtils.test.ts
2025-04-15T08:38:02.9990418Z   extractFromAICalls
2025-04-15T08:38:02.9990683Z     âœ“ should parse args as expected for $fromAI("a", "b", "string") (6 ms)
2025-04-15T08:38:02.9991022Z     âœ“ should parse args as expected for $fromAI("a", "b", "number", 5) (1 ms)
2025-04-15T08:38:02.9991338Z     âœ“ should parse args as expected for $fromAI("a", "`", "number", 5)
2025-04-15T08:38:02.9991668Z     âœ“ should parse args as expected for $fromAI("a", "\`", "number", 5) (1 ms)
2025-04-15T08:38:02.9991985Z     âœ“ should parse args as expected for $fromAI("a", "\n", "number", 5)
2025-04-15T08:38:02.9992302Z     âœ“ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
2025-04-15T08:38:02.9992623Z     âœ“ should throw as expected for $fromAI("a", "b", "c") (24 ms)
2025-04-15T08:38:02.9992915Z     âœ“ should throw as expected for $fromAI("a", "b", "string" (1 ms)
2025-04-15T08:38:02.9993226Z     âœ“ should throw as expected for $fromAI("a", "b", "string, "d") (1 ms)
2025-04-15T08:38:02.9993481Z     âœ“ supports multiple calls (1 ms)
2025-04-15T08:38:02.9993676Z     âœ“ supports no calls (1 ms)
2025-04-15T08:38:02.9993848Z   traverseNodeParameters
2025-04-15T08:38:02.9994102Z     âœ“ should parse args as expected for $fromAI("a", "b", "string")
2025-04-15T08:38:02.9994489Z     âœ“ should parse args as expected for $fromAI("a", "b", "number", 5)
2025-04-15T08:38:02.9994801Z     âœ“ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
2025-04-15T08:38:02.9995173Z     âœ“ should parse args as expected for { a: '{{ $fromAI("a", "b", "boolean") }}', b: 'five' } (1 ms)
2025-04-15T08:38:02.9995550Z     âœ“ should parse args as expected for [ 'red', '{{ $fromAI("a", "b", "boolean") }}' ]
2025-04-15T08:38:02.9995828Z   JSON Type Parsing via generateZodSchema
2025-04-15T08:38:02.9996114Z     âœ“ should correctly parse a JSON parameter without default (4 ms)
2025-04-15T08:38:02.9996441Z     âœ“ should correctly parse a JSON parameter with a valid default (1 ms)
2025-04-15T08:38:02.9996774Z     âœ“ should parse a JSON parameter with an empty default (1 ms)
2025-04-15T08:38:02.9997078Z     âœ“ should use provided JSON value over the default value (1 ms)
2025-04-15T08:38:02.9997235Z 
2025-04-15T08:38:02.9997399Z PASS test/ExpressionExtensions/ObjectExtensions.test.ts
2025-04-15T08:38:02.9997627Z   Data Transformation Functions
2025-04-15T08:38:02.9997815Z     Object Data Transformation Functions
2025-04-15T08:38:02.9998063Z       âœ“ .removeField should work on an object (7 ms)
2025-04-15T08:38:02.9998313Z       âœ“ .urlEncode should work on an object (2 ms)
2025-04-15T08:38:02.9998575Z       âœ“ .toJsonString() should work on an object (3 ms)
2025-04-15T08:38:02.9998761Z       .isEmpty
2025-04-15T08:38:02.9999101Z         âœ“ should return true for an empty object (39 ms)
2025-04-15T08:38:02.9999377Z         âœ“ should return false for a non-empty object (6 ms)
2025-04-15T08:38:02.9999704Z         âœ“ should return true for an object with only null/undefined values (4 ms)
2025-04-15T08:38:02.9999926Z       .hasField
2025-04-15T08:38:03.0000163Z         âœ“ should return true if the key exists in the object (6 ms)
2025-04-15T08:38:03.0000485Z         âœ“ should return false if the key does not exist in the object (3 ms)
2025-04-15T08:38:03.0000726Z       .removeFieldsContaining
2025-04-15T08:38:03.0000935Z         âœ“ should work on an object (2 ms)
2025-04-15T08:38:03.0001159Z         âœ“ should not work for empty string (51 ms)
2025-04-15T08:38:03.0001353Z       .keepFieldsContaining
2025-04-15T08:38:03.0001606Z         âœ“ .keepFieldsContaining should work on an object (5 ms)
2025-04-15T08:38:03.0001920Z         âœ“ .keepFieldsContaining should work on a nested object (2 ms)
2025-04-15T08:38:03.0002233Z         âœ“ .keepFieldsContaining should not work for empty string (5 ms)
2025-04-15T08:38:03.0002571Z       .compact
2025-04-15T08:38:03.0002743Z         âœ“ should work on an object (2 ms)
2025-04-15T08:38:03.0003031Z         âœ“ should remove fields with null, undefined, empty string, or "nil" (3 ms)
2025-04-15T08:38:03.0003311Z         âœ“ should work on an empty object (2 ms)
2025-04-15T08:38:03.0003584Z         âœ“ should work on an object with all null/undefined values (1 ms)
2025-04-15T08:38:03.0003893Z         âœ“ should work on an object with nested null/undefined values (2 ms)
2025-04-15T08:38:03.0004170Z         âœ“ should not allow prototype pollution (2 ms)
2025-04-15T08:38:03.0004411Z       .keys
2025-04-15T08:38:03.0004611Z         âœ“ should return an array of keys from the object (1 ms)
2025-04-15T08:38:03.0004897Z         âœ“ should return an empty array for an empty object (1 ms)
2025-04-15T08:38:03.0005099Z       .values
2025-04-15T08:38:03.0005318Z         âœ“ should return an array of values from the object (6 ms)
2025-04-15T08:38:03.0005611Z         âœ“ should return an empty array for an empty object (3 ms)
2025-04-15T08:38:03.0005820Z       Conversion methods
2025-04-15T08:38:03.0006263Z         âœ“ should exist but return undefined (to not break expressions with mixed data) (15 ms)
2025-04-15T08:38:03.0006597Z         âœ“ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:38:03.0006736Z 
2025-04-15T08:38:03.0006821Z PASS test/Expression.test.ts
2025-04-15T08:38:03.0006983Z   Expression (with tmpl)
2025-04-15T08:38:03.0007137Z     getParameterValue()
2025-04-15T08:38:03.0007391Z       âœ“ should not be able to use global built-ins from denylist (233 ms)
2025-04-15T08:38:03.0007699Z       âœ“ should be able to use global built-ins from allowlist (296 ms)
2025-04-15T08:38:03.0007996Z       âœ“ should not able to do arbitrary code execution (4 ms)
2025-04-15T08:38:03.0008078Z     Test all expression value fixtures
2025-04-15T08:38:03.0008208Z       âœ“ ={{$json["contact"]["FirstName"]}} (7 ms)
2025-04-15T08:38:03.0008305Z       âœ“ ={{ $json["test"] }} (11 ms)
2025-04-15T08:38:03.0008449Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (9 ms)
2025-04-15T08:38:03.0008572Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (8 ms)
2025-04-15T08:38:03.0008755Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}} (17 ms)
2025-04-15T08:38:03.0009114Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (21 ms)
2025-04-15T08:38:03.0009235Z       âœ“ = {{$json["dig check CF"].data["stdout"]}} (9 ms)
2025-04-15T08:38:03.0009410Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (10 ms)
2025-04-15T08:38:03.0009493Z       âœ“ ={{$runIndex}} (3 ms)
2025-04-15T08:38:03.0009606Z       âœ“ ={{ new String().toString() }} (13 ms)
2025-04-15T08:38:03.0010078Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (8 ms)
2025-04-15T08:38:03.0010387Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}} (5 ms)
2025-04-15T08:38:03.0010483Z       âœ“ ={{ $json.toString() }} (4 ms)
2025-04-15T08:38:03.0010610Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (14 ms)
2025-04-15T08:38:03.0010775Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (7 ms)
2025-04-15T08:38:03.0010886Z       âœ“ ={{ $json["phone"] ?? 0}} (57 ms)
2025-04-15T08:38:03.0011112Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (7 ms)
2025-04-15T08:38:03.0011312Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (6 ms)
2025-04-15T08:38:03.0011465Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (5 ms)
2025-04-15T08:38:03.0011657Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (8 ms)
2025-04-15T08:38:03.0011819Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (7 ms)
2025-04-15T08:38:03.0012087Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (18 ms)
2025-04-15T08:38:03.0012474Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (9 ms)
2025-04-15T08:38:03.0012609Z       âœ“ ={{new Date($json["created_at"]).toISOString()}} (7 ms)
2025-04-15T08:38:03.0012759Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (5 ms)
2025-04-15T08:38:03.0013007Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (8 ms)
2025-04-15T08:38:03.0013086Z       âœ“ ={
2025-04-15T08:38:03.0013143Z 	"article": {
2025-04-15T08:38:03.0013243Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:38:03.0013309Z 		"published": true,
2025-04-15T08:38:03.0013431Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:38:03.0013520Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:38:03.0013582Z 	}
2025-04-15T08:38:03.0013649Z } (34 ms)
2025-04-15T08:38:03.0013922Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (19 ms)
2025-04-15T08:38:03.0014090Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (5 ms)
2025-04-15T08:38:03.0014184Z       âœ“ ={{Math.min(1, 2);}} (6 ms)
2025-04-15T08:38:03.0014355Z       âœ“ ={{new String().toString();}} (5 ms)
2025-04-15T08:38:03.0014527Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (11 ms)
2025-04-15T08:38:03.0014610Z       âœ“ ={{200}} (2 ms)
2025-04-15T08:38:03.0014764Z       âœ“ ={{$json.assetValue * $json.value / 100}} (5 ms)
2025-04-15T08:38:03.0014896Z       âœ“ ={{/^\d+$/.test($json["search_term"])}} (19 ms)
2025-04-15T08:38:03.0014968Z       âœ“ ={{ `test
2025-04-15T08:38:03.0015042Z value
2025-04-15T08:38:03.0015115Z multi
2025-04-15T08:38:03.0015176Z line` }} (5 ms)
2025-04-15T08:38:03.0015309Z       âœ“ ={{ { "data": $json.body.choices } }} (8 ms)
2025-04-15T08:38:03.0015498Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (15 ms)
2025-04-15T08:38:03.0015593Z       âœ“ ={{asdas}} (14 ms)
2025-04-15T08:38:03.0015695Z       âœ“ ={{!!$json["data"]["errors"]}} (11 ms)
2025-04-15T08:38:03.0015779Z       âœ“ =TRUE (3 ms)
2025-04-15T08:38:03.0015927Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (11 ms)
2025-04-15T08:38:03.0016110Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (5 ms)
2025-04-15T08:38:03.0016258Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (7 ms)
2025-04-15T08:38:03.0016397Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (7 ms)
2025-04-15T08:38:03.0016524Z       âœ“ ={{ 'domain' in $json && $json.domain != null}} (13 ms)
2025-04-15T08:38:03.0016639Z       âœ“ ={{ String("testing").length }} (9 ms)
2025-04-15T08:38:03.0016722Z     Test all expression transform fixtures
2025-04-15T08:38:03.0016847Z       âœ“ ={{$json["contact"]["FirstName"]}} (1 ms)
2025-04-15T08:38:03.0017057Z       âœ“ ={{ $json["test"] }} (1 ms)
2025-04-15T08:38:03.0017190Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:38:03.0017312Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (1 ms)
2025-04-15T08:38:03.0017436Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}} (1 ms)
2025-04-15T08:38:03.0017788Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
2025-04-15T08:38:03.0017910Z       âœ“ = {{$json["dig check CF"].data["stdout"]}} (2 ms)
2025-04-15T08:38:03.0018083Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:38:03.0018158Z       âœ“ ={{$runIndex}}
2025-04-15T08:38:03.0018272Z       âœ“ ={{ new String().toString() }} (2 ms)
2025-04-15T08:38:03.0018605Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (1 ms)
2025-04-15T08:38:03.0018840Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
2025-04-15T08:38:03.0018927Z       âœ“ ={{ $json.toString() }}
2025-04-15T08:38:03.0019051Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (2 ms)
2025-04-15T08:38:03.0019171Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (2 ms)
2025-04-15T08:38:03.0019283Z       âœ“ ={{ $json["phone"] ?? 0}} (1 ms)
2025-04-15T08:38:03.0019500Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
2025-04-15T08:38:03.0019696Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (4 ms)
2025-04-15T08:38:03.0019844Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (1 ms)
2025-04-15T08:38:03.0020037Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
2025-04-15T08:38:03.0020193Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (2 ms)
2025-04-15T08:38:03.0020445Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (1 ms)
2025-04-15T08:38:03.0020709Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (2 ms)
2025-04-15T08:38:03.0020840Z       âœ“ ={{new Date($json["created_at"]).toISOString()}} (1 ms)
2025-04-15T08:38:03.0020985Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (1 ms)
2025-04-15T08:38:03.0021233Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (1 ms)
2025-04-15T08:38:03.0021312Z       âœ“ ={
2025-04-15T08:38:03.0021367Z 	"article": {
2025-04-15T08:38:03.0021468Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:38:03.0021530Z 		"published": true,
2025-04-15T08:38:03.0021654Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:38:03.0021750Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:38:03.0021803Z 	}
2025-04-15T08:38:03.0021866Z } (4 ms)
2025-04-15T08:38:03.0022133Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (7 ms)
2025-04-15T08:38:03.0022294Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:38:03.0022392Z       âœ“ ={{Math.min(1, 2);}} (2 ms)
2025-04-15T08:38:03.0022508Z       âœ“ ={{new String().toString();}} (1 ms)
2025-04-15T08:38:03.0022674Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (9 ms)
2025-04-15T08:38:03.0022752Z       âœ“ ={{200}} (1 ms)
2025-04-15T08:38:03.0022874Z       âœ“ ={{$json.assetValue * $json.value / 100}} (6 ms)
2025-04-15T08:38:03.0022999Z       âœ“ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
2025-04-15T08:38:03.0023067Z       âœ“ ={{ `test
2025-04-15T08:38:03.0023128Z value
2025-04-15T08:38:03.0023189Z multi
2025-04-15T08:38:03.0023243Z line` }} (1 ms)
2025-04-15T08:38:03.0023361Z       âœ“ ={{ { "data": $json.body.choices } }} (1 ms)
2025-04-15T08:38:03.0023627Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (2 ms)
2025-04-15T08:38:03.0023713Z       âœ“ ={{asdas}} (1 ms)
2025-04-15T08:38:03.0023815Z       âœ“ ={{!!$json["data"]["errors"]}} (1 ms)
2025-04-15T08:38:03.0023892Z       âœ“ =TRUE (1 ms)
2025-04-15T08:38:03.0024039Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (5 ms)
2025-04-15T08:38:03.0024217Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (2 ms)
2025-04-15T08:38:03.0024427Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (1 ms)
2025-04-15T08:38:03.0024572Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
2025-04-15T08:38:03.0024690Z       âœ“ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:38:03.0024802Z       âœ“ ={{ String("testing").length }} (1 ms)
2025-04-15T08:38:03.0024878Z   Expression (with tournament)
2025-04-15T08:38:03.0024950Z     getParameterValue()
2025-04-15T08:38:03.0025109Z       âœ“ should not be able to use global built-ins from denylist (12 ms)
2025-04-15T08:38:03.0025397Z       âœ“ should be able to use global built-ins from allowlist (20 ms)
2025-04-15T08:38:03.0025555Z       âœ“ should not able to do arbitrary code execution (3 ms)
2025-04-15T08:38:03.0025639Z     Test all expression value fixtures
2025-04-15T08:38:03.0025764Z       âœ“ ={{$json["contact"]["FirstName"]}}
2025-04-15T08:38:03.0025864Z       âœ“ ={{ $json["test"] }} (1 ms)
2025-04-15T08:38:03.0025999Z       âœ“ ={{$json["test"].json["message"]["message_id"]}}
2025-04-15T08:38:03.0026113Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (1 ms)
2025-04-15T08:38:03.0026239Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:38:03.0026577Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
2025-04-15T08:38:03.0026705Z       âœ“ = {{$json["dig check CF"].data["stdout"]}}
2025-04-15T08:38:03.0026869Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:38:03.0026958Z       âœ“ ={{$runIndex}}
2025-04-15T08:38:03.0027054Z       âœ“ ={{ new String().toString() }}
2025-04-15T08:38:03.0027390Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (1 ms)
2025-04-15T08:38:03.0027507Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}}
2025-04-15T08:38:03.0027628Z       âœ“ ={{ $json.toString() }} (1 ms)
2025-04-15T08:38:03.0027756Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}}
2025-04-15T08:38:03.0027878Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (1 ms)
2025-04-15T08:38:03.0027996Z       âœ“ ={{ $json["phone"] ?? 0}} (2 ms)
2025-04-15T08:38:03.0028215Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
2025-04-15T08:38:03.0028412Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
2025-04-15T08:38:03.0028555Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (1 ms)
2025-04-15T08:38:03.0028771Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
2025-04-15T08:38:03.0028911Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }}
2025-04-15T08:38:03.0029172Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (1 ms)
2025-04-15T08:38:03.0029414Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }}
2025-04-15T08:38:03.0029557Z       âœ“ ={{new Date($json["created_at"]).toISOString()}}
2025-04-15T08:38:03.0029685Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}}
2025-04-15T08:38:03.0029934Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
2025-04-15T08:38:03.0030009Z       âœ“ ={
2025-04-15T08:38:03.0030062Z 	"article": {
2025-04-15T08:38:03.0030160Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:38:03.0030343Z 		"published": true,
2025-04-15T08:38:03.0030479Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:38:03.0030560Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:38:03.0030621Z 	}
2025-04-15T08:38:03.0030677Z } (1 ms)
2025-04-15T08:38:03.0030944Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (1 ms)
2025-04-15T08:38:03.0031093Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:38:03.0031200Z       âœ“ ={{Math.min(1, 2);}} (1 ms)
2025-04-15T08:38:03.0031299Z       âœ“ ={{new String().toString();}}
2025-04-15T08:38:03.0031474Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (2 ms)
2025-04-15T08:38:03.0031542Z       âœ“ ={{200}}
2025-04-15T08:38:03.0031675Z       âœ“ ={{$json.assetValue * $json.value / 100}} (1 ms)
2025-04-15T08:38:03.0031779Z       âœ“ ={{/^\d+$/.test($json["search_term"])}}
2025-04-15T08:38:03.0032000Z       âœ“ ={{ `test
2025-04-15T08:38:03.0032066Z value
2025-04-15T08:38:03.0032118Z multi
2025-04-15T08:38:03.0032175Z line` }}
2025-04-15T08:38:03.0032291Z       âœ“ ={{ { "data": $json.body.choices } }} (1 ms)
2025-04-15T08:38:03.0032461Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (1 ms)
2025-04-15T08:38:03.0032537Z       âœ“ ={{asdas}} (1 ms)
2025-04-15T08:38:03.0032641Z       âœ“ ={{!!$json["data"]["errors"]}}
2025-04-15T08:38:03.0032709Z       âœ“ =TRUE (1 ms)
2025-04-15T08:38:03.0032871Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (2 ms)
2025-04-15T08:38:03.0033025Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
2025-04-15T08:38:03.0033180Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (5 ms)
2025-04-15T08:38:03.0033308Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
2025-04-15T08:38:03.0033447Z       âœ“ ={{ 'domain' in $json && $json.domain != null}} (1 ms)
2025-04-15T08:38:03.0033551Z       âœ“ ={{ String("testing").length }}
2025-04-15T08:38:03.0033651Z     Test all expression transform fixtures
2025-04-15T08:38:03.0033768Z       âœ“ ={{$json["contact"]["FirstName"]}} (1 ms)
2025-04-15T08:38:03.0033843Z       âœ“ ={{ $json["test"] }}
2025-04-15T08:38:03.0033984Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:38:03.0034090Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}}
2025-04-15T08:38:03.0034215Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:38:03.0034589Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}}
2025-04-15T08:38:03.0034705Z       âœ“ = {{$json["dig check CF"].data["stdout"]}}
2025-04-15T08:38:03.0034863Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:38:03.0034947Z       âœ“ ={{$runIndex}}
2025-04-15T08:38:03.0035043Z       âœ“ ={{ new String().toString() }}
2025-04-15T08:38:03.0035373Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}}
2025-04-15T08:38:03.0035501Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
2025-04-15T08:38:03.0035604Z       âœ“ ={{ $json.toString() }}
2025-04-15T08:38:03.0035705Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}}
2025-04-15T08:38:03.0035830Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (1 ms)
2025-04-15T08:38:03.0035926Z       âœ“ ={{ $json["phone"] ?? 0}}
2025-04-15T08:38:03.0036121Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}}
2025-04-15T08:38:03.0036319Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (1 ms)
2025-04-15T08:38:03.0036450Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }}
2025-04-15T08:38:03.0036651Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
2025-04-15T08:38:03.0036892Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }}
2025-04-15T08:38:03.0037142Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:38:03.0037391Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (1 ms)
2025-04-15T08:38:03.0037520Z       âœ“ ={{new Date($json["created_at"]).toISOString()}}
2025-04-15T08:38:03.0037645Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}}
2025-04-15T08:38:03.0037887Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
2025-04-15T08:38:03.0037951Z       âœ“ ={
2025-04-15T08:38:03.0038015Z 	"article": {
2025-04-15T08:38:03.0038113Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:38:03.0038169Z 		"published": true,
2025-04-15T08:38:03.0038308Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:38:03.0038490Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:38:03.0038546Z 	}
2025-04-15T08:38:03.0038599Z } (1 ms)
2025-04-15T08:38:03.0038858Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
2025-04-15T08:38:03.0038992Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}}
2025-04-15T08:38:03.0039078Z       âœ“ ={{Math.min(1, 2);}}
2025-04-15T08:38:03.0039181Z       âœ“ ={{new String().toString();}} (1 ms)
2025-04-15T08:38:03.0039341Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }}
2025-04-15T08:38:03.0039406Z       âœ“ ={{200}}
2025-04-15T08:38:03.0039528Z       âœ“ ={{$json.assetValue * $json.value / 100}}
2025-04-15T08:38:03.0039638Z       âœ“ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
2025-04-15T08:38:03.0039716Z       âœ“ ={{ `test
2025-04-15T08:38:03.0039765Z value
2025-04-15T08:38:03.0039832Z multi
2025-04-15T08:38:03.0039897Z line` }}
2025-04-15T08:38:03.0040007Z       âœ“ ={{ { "data": $json.body.choices } }}
2025-04-15T08:38:03.0040177Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }}
2025-04-15T08:38:03.0040242Z       âœ“ ={{asdas}}
2025-04-15T08:38:03.0040343Z       âœ“ ={{!!$json["data"]["errors"]}}
2025-04-15T08:38:03.0040411Z       âœ“ =TRUE (1 ms)
2025-04-15T08:38:03.0040553Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }}
2025-04-15T08:38:03.0040708Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
2025-04-15T08:38:03.0040875Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (1 ms)
2025-04-15T08:38:03.0040993Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }}
2025-04-15T08:38:03.0041132Z       âœ“ ={{ 'domain' in $json && $json.domain != null}} (1 ms)
2025-04-15T08:38:03.0041229Z       âœ“ ={{ String("testing").length }}
2025-04-15T08:38:03.0041233Z 
2025-04-15T08:38:03.0041357Z PASS test/WorkflowDataProxyEnvProvider.test.ts
2025-04-15T08:38:03.0041439Z   createEnvProviderState
2025-04-15T08:38:03.0041730Z     âœ“ should return the state with process available and env access allowed (3 ms)
2025-04-15T08:38:03.0041929Z     âœ“ should block env access when N8N_BLOCK_ENV_ACCESS_IN_NODE is set to "true"
2025-04-15T08:38:03.0042041Z     âœ“ should handle process not being available
2025-04-15T08:38:03.0042103Z   createEnvProvider
2025-04-15T08:38:03.0042250Z     âœ“ should return true when checking for a property using "has"
2025-04-15T08:38:03.0042411Z     âœ“ should return the value from process.env if access is allowed
2025-04-15T08:38:03.0042570Z     âœ“ should throw ExpressionError when process is unavailable (9 ms)
2025-04-15T08:38:03.0042735Z     âœ“ should throw ExpressionError when env access is blocked (1 ms)
2025-04-15T08:38:03.0042739Z 
2025-04-15T08:38:03.0042875Z PASS test/ExpressionExtensions/NumberExtensions.test.ts
2025-04-15T08:38:03.0042962Z   Data Transformation Functions
2025-04-15T08:38:03.0043038Z     Number Data Transformation Functions
2025-04-15T08:38:03.0043178Z       âœ“ .format() should work correctly on a number (33 ms)
2025-04-15T08:38:03.0043401Z       âœ“ .ceil() should work on a number (8 ms)
2025-04-15T08:38:03.0043512Z       âœ“ .floor() should work on a number (5 ms)
2025-04-15T08:38:03.0043621Z       âœ“ .round() should work on a number (8 ms)
2025-04-15T08:38:03.0043727Z       âœ“ .isOdd() should work on a number (13 ms)
2025-04-15T08:38:03.0043860Z       âœ“ .isOdd() should not work on a float or NaN (44 ms)
2025-04-15T08:38:03.0043969Z       âœ“ .isEven() should work on a number (2 ms)
2025-04-15T08:38:03.0044098Z       âœ“ .isEven() should not work on a float or NaN (3 ms)
2025-04-15T08:38:03.0044149Z       toDateTime
2025-04-15T08:38:03.0044441Z         âœ“ from milliseconds (default) (7 ms)
2025-04-15T08:38:03.0044524Z         âœ“ from seconds (3 ms)
2025-04-15T08:38:03.0044636Z         âœ“ from Excel 1900 format (2 ms)
2025-04-15T08:38:03.0044726Z         âœ“ from microseconds (1 ms)
2025-04-15T08:38:03.0044789Z       toInt
2025-04-15T08:38:03.0044884Z         âœ“ should round numbers (9 ms)
2025-04-15T08:38:03.0044955Z       toFloat
2025-04-15T08:38:03.0045047Z         âœ“ should return itself (4 ms)
2025-04-15T08:38:03.0045104Z       toBoolean
2025-04-15T08:38:03.0045241Z         âœ“ should return false for 0, 1 for other numbers (5 ms)
2025-04-15T08:38:03.0045308Z     Multiple expressions
2025-04-15T08:38:03.0045408Z       âœ“ Basic multiple expressions (4 ms)
2025-04-15T08:38:03.0045412Z 
2025-04-15T08:38:03.0045490Z PASS test/Cron.test.ts
2025-04-15T08:38:03.0045546Z   Cron
2025-04-15T08:38:03.0045603Z     toCronExpression
2025-04-15T08:38:03.0045771Z       âœ“ should generate a valid cron for `everyMinute` triggers (3 ms)
2025-04-15T08:38:03.0045920Z       âœ“ should generate a valid cron for `everyHour` triggers (1 ms)
2025-04-15T08:38:03.0046204Z       âœ“ should generate a valid cron for `everyX[minutes]` triggers
2025-04-15T08:38:03.0046346Z       âœ“ should generate a valid cron for `everyX[hours]` triggers
2025-04-15T08:38:03.0046485Z       âœ“ should generate a valid cron for `everyDay` triggers
2025-04-15T08:38:03.0046649Z       âœ“ should generate a valid cron for `everyWeek` triggers (1 ms)
2025-04-15T08:38:03.0046790Z       âœ“ should generate a valid cron for `everyMonth` triggers
2025-04-15T08:38:03.0046894Z       âœ“ should trim custom cron expressions
2025-04-15T08:38:03.0046898Z 
2025-04-15T08:38:03.0046993Z PASS test/MetadataUtils.test.ts
2025-04-15T08:38:03.0047047Z   MetadataUtils
2025-04-15T08:38:03.0047119Z     parseMetadataFromError
2025-04-15T08:38:03.0047331Z       âœ“ should return undefined if error does not have response or both keys on the object (4 ms)
2025-04-15T08:38:03.0047504Z       âœ“ should return undefined if errorResponse only has workflowId key
2025-04-15T08:38:03.0047658Z       âœ“ should return undefined if error only has executionId key
2025-04-15T08:38:03.0047862Z       âœ“ should support executionId and workflowId key directly on the error object (1 ms)
2025-04-15T08:38:03.0048048Z       âœ“ should return undefined if error response does not have subworkflow data
2025-04-15T08:38:03.0048343Z       âœ“ should return metadata if error response has subworkflow data (1 ms)
2025-04-15T08:38:03.0048348Z 
2025-04-15T08:38:03.0048452Z PASS test/ExpressionSandboxing.test.ts
2025-04-15T08:38:03.0048513Z   PrototypeSanitizer
2025-04-15T08:38:03.0048571Z     Static analysis
2025-04-15T08:38:03.0048686Z       âœ“ should not allow access to __proto__ (32 ms)
2025-04-15T08:38:03.0048807Z       âœ“ should not allow access to prototype (7 ms)
2025-04-15T08:38:03.0048925Z       âœ“ should not allow access to constructor (7 ms)
2025-04-15T08:38:03.0048985Z     Runtime
2025-04-15T08:38:03.0049095Z       âœ“ should not allow access to __proto__ (9 ms)
2025-04-15T08:38:03.0049216Z       âœ“ should not allow access to prototype (5 ms)
2025-04-15T08:38:03.0049342Z       âœ“ should not allow access to constructor (10 ms)
2025-04-15T08:38:03.0049347Z 
2025-04-15T08:38:03.0049453Z PASS test/errors/base/unexpected.error.test.ts
2025-04-15T08:38:03.0049518Z   UnexpectedError
2025-04-15T08:38:03.0049638Z     âœ“ should be an instance of UnexpectedError (4 ms)
2025-04-15T08:38:03.0049860Z     âœ“ should be an instance of BaseError
2025-04-15T08:38:03.0049953Z     âœ“ should have correct defaults
2025-04-15T08:38:03.0050125Z     âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:38:03.0050130Z 
2025-04-15T08:38:03.0050246Z PASS test/errors/base/operational.error.test.ts
2025-04-15T08:38:03.0050319Z   OperationalError
2025-04-15T08:38:03.0050442Z     âœ“ should be an instance of OperationalError (4 ms)
2025-04-15T08:38:03.0050549Z     âœ“ should be an instance of BaseError
2025-04-15T08:38:03.0050654Z     âœ“ should have correct defaults (1 ms)
2025-04-15T08:38:03.0050816Z     âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:38:03.0050820Z 
2025-04-15T08:38:03.0050939Z PASS test/errors/workflow-activation.error.test.ts
2025-04-15T08:38:03.0051004Z   WorkflowActivationError
2025-04-15T08:38:03.0051114Z     âœ“ should default to `error` level (3 ms)
2025-04-15T08:38:03.0051208Z     âœ“ should set `level` based on arg
2025-04-15T08:38:03.0051340Z     âœ“ should set `level` to `warning` for `ETIMEDOUT`
2025-04-15T08:38:03.0051463Z     âœ“ should set `level` to `warning` for `ECONNREFUSED`
2025-04-15T08:38:03.0051576Z     âœ“ should set `level` to `warning` for `EAUTH`
2025-04-15T08:38:03.0051740Z     âœ“ should set `level` to `warning` for `Temporary authentication failure`
2025-04-15T08:38:03.0051900Z     âœ“ should set `level` to `warning` for `Invalid credentials` (1 ms)
2025-04-15T08:38:03.0051904Z 
2025-04-15T08:38:03.0051996Z PASS test/errors/base/user.error.test.ts
2025-04-15T08:38:03.0052057Z   UserError
2025-04-15T08:38:03.0052174Z     âœ“ should be an instance of UserError (3 ms)
2025-04-15T08:38:03.0052280Z     âœ“ should be an instance of BaseError (1 ms)
2025-04-15T08:38:03.0052374Z     âœ“ should have correct defaults
2025-04-15T08:38:03.0052533Z     âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:38:03.0052537Z 
2025-04-15T08:38:03.0052680Z PASS test/ExpressionExtensions/BooleanExtensions.test.ts
2025-04-15T08:38:03.0052764Z   Data Transformation Functions
2025-04-15T08:38:03.0052851Z     Boolean Data Transformation Functions
2025-04-15T08:38:03.0052907Z       Conversion methods
2025-04-15T08:38:03.0053043Z         âœ“ should not have a doc (hidden from autocomplete)
2025-04-15T08:38:03.0053095Z         toInt/toFloat
2025-04-15T08:38:03.0053225Z           âœ“ should return 1 for true, 0 for false (29 ms)
2025-04-15T08:38:03.0053279Z         toDateTime
2025-04-15T08:38:03.0053388Z           âœ“ should return undefined (2 ms)
2025-04-15T08:38:03.0053439Z         toBoolean
2025-04-15T08:38:03.0053543Z           âœ“ should return itself (1 ms)
2025-04-15T08:38:03.0053547Z 
2025-04-15T08:38:03.0053639Z PASS test/DeferredPromise.test.ts
2025-04-15T08:38:03.0053697Z   DeferredPromise
2025-04-15T08:38:03.0053849Z     âœ“ should resolve the promise with the correct value (3 ms)
2025-04-15T08:38:03.0053985Z     âœ“ should reject the promise with the correct error (2 ms)
2025-04-15T08:38:03.0054107Z 
2025-04-15T08:38:03.0054203Z PASS test/errors/node.error.test.ts
2025-04-15T08:38:03.0054304Z   NodeError
2025-04-15T08:38:03.0054451Z     âœ“ should update re-wrapped error level and message (5 ms)
2025-04-15T08:38:03.0054455Z 
2025-04-15T08:38:03.0054588Z PASS test/ExpressionExtensions/GenericExtensions.test.ts
2025-04-15T08:38:03.0054668Z   Data Transformation Functions
2025-04-15T08:38:03.0054753Z     Genric Data Transformation Functions
2025-04-15T08:38:03.0054888Z       âœ“ .isEmpty() should work correctly on undefined (31 ms)
2025-04-15T08:38:03.0054892Z 
2025-04-15T08:38:03.0054983Z Test Suites: 31 passed, 31 total
2025-04-15T08:38:03.0055070Z Tests:       1121 passed, 1121 total
2025-04-15T08:38:03.0055143Z Snapshots:   0 total
2025-04-15T08:38:03.0055207Z Time:        11.734 s
2025-04-15T08:38:03.0055280Z Ran all test suites.
2025-04-15T08:38:03.0055851Z ##[endgroup]
2025-04-15T08:38:05.2664644Z ##[group]@n8n/imap:test
2025-04-15T08:38:05.2665208Z cache bypass, force executing f7b9a92ea8bfe464
2025-04-15T08:38:05.2666091Z 
2025-04-15T08:38:05.2666277Z > @n8n/imap@0.9.0 test /home/runner/_work/n8n/n8n/packages/@n8n/imap
2025-04-15T08:38:05.2666526Z > jest
2025-04-15T08:38:05.2666620Z 
2025-04-15T08:38:05.2666696Z PASS test/PartData.test.ts
2025-04-15T08:38:05.2666858Z   PartData
2025-04-15T08:38:05.2666987Z     fromData
2025-04-15T08:38:05.2667662Z       âœ“ should return an instance of Base64PartData when encoding is BASE64 (2 ms)
2025-04-15T08:38:05.2668155Z       âœ“ should return an instance of QuotedPrintablePartData when encoding is QUOTED-PRINTABLE
2025-04-15T08:38:05.2668568Z       âœ“ should return an instance of SevenBitPartData when encoding is 7BIT
2025-04-15T08:38:05.2668971Z       âœ“ should return an instance of BinaryPartData when encoding is 8BIT or BINARY
2025-04-15T08:38:05.2669385Z       âœ“ should return an instance of UuencodedPartData when encoding is UUENCODE (1 ms)
2025-04-15T08:38:05.2669781Z       âœ“ should throw an error when encoding is not supported (5 ms)
2025-04-15T08:38:05.2670047Z   Base64PartData
2025-04-15T08:38:05.2670287Z     âœ“ should correctly decode base64 data
2025-04-15T08:38:05.2670488Z   QuotedPrintablePartData
2025-04-15T08:38:05.2670741Z     âœ“ should correctly decode quoted-printable data (1 ms)
2025-04-15T08:38:05.2670994Z   SevenBitPartData
2025-04-15T08:38:05.2671213Z     âœ“ should correctly decode 7bit data
2025-04-15T08:38:05.2671399Z   BinaryPartData
2025-04-15T08:38:05.2671609Z     âœ“ should correctly decode binary data (7 ms)
2025-04-15T08:38:05.2671866Z   UuencodedPartData
2025-04-15T08:38:05.2672077Z     âœ“ should correctly decode uuencoded data
2025-04-15T08:38:05.2672206Z 
2025-04-15T08:38:05.2672301Z Test Suites: 1 passed, 1 total
2025-04-15T08:38:05.2672514Z Tests:       11 passed, 11 total
2025-04-15T08:38:05.2672726Z Snapshots:   0 total
2025-04-15T08:38:05.2672904Z Time:        1.618 s
2025-04-15T08:38:05.2673057Z Ran all test suites.
2025-04-15T08:38:05.2673406Z ##[endgroup]
2025-04-15T08:38:07.4831869Z ##[group]@n8n/permissions:test
2025-04-15T08:38:07.4832749Z cache bypass, force executing 0b715e7f3d90e2cd
2025-04-15T08:38:07.4832972Z 
2025-04-15T08:38:07.4833302Z > @n8n/permissions@0.21.0 test /home/runner/_work/n8n/n8n/packages/@n8n/permissions
2025-04-15T08:38:07.4833690Z > jest
2025-04-15T08:38:07.4833797Z 
2025-04-15T08:38:07.4833928Z PASS test/hasScope.test.ts
2025-04-15T08:38:07.4834166Z   hasScope
2025-04-15T08:38:07.4834970Z     âœ“ should work with a single permission on both modes with only global scopes (4 ms)
2025-04-15T08:38:07.4835435Z     âœ“ should work with oneOf mode
2025-04-15T08:38:07.4835852Z     âœ“ should work with allOf mode (1 ms)
2025-04-15T08:38:07.4836111Z   hasScope masking
2025-04-15T08:38:07.4836411Z     âœ“ should return true without mask when scopes present
2025-04-15T08:38:07.4836817Z     âœ“ should return false without mask when scopes are not present
2025-04-15T08:38:07.4837347Z     âœ“ should return false when mask does not include scope but scopes list does contain required scope
2025-04-15T08:38:07.4837911Z     âœ“ should return true when mask does include scope and scope list includes scope
2025-04-15T08:38:07.4839458Z     âœ“ should return true when mask does include scope and scopes list includes scope on multiple levels
2025-04-15T08:38:07.4839937Z     âœ“ should not mask out global scopes
2025-04-15T08:38:07.4840358Z     âœ“ should return false when scope is not in mask or scope list
2025-04-15T08:38:07.4840799Z     âœ“ should return false when scope is in mask or not scope list
2025-04-15T08:38:07.4841030Z 
2025-04-15T08:38:07.4841164Z Test Suites: 1 passed, 1 total
2025-04-15T08:38:07.4841473Z Tests:       11 passed, 11 total
2025-04-15T08:38:07.4841767Z Snapshots:   0 total
2025-04-15T08:38:07.4842040Z Time:        1.548 s
2025-04-15T08:38:07.4842290Z Ran all test suites.
2025-04-15T08:38:07.4842726Z ##[endgroup]
2025-04-15T08:38:14.0374522Z ##[group]@n8n/task-runner:test
2025-04-15T08:38:14.0375159Z cache bypass, force executing a298d5de6ac02d43
2025-04-15T08:38:14.0375386Z 
2025-04-15T08:38:14.0375725Z > @n8n/task-runner@1.26.0 test /home/runner/_work/n8n/n8n/packages/@n8n/task-runner
2025-04-15T08:38:14.0376882Z > jest
2025-04-15T08:38:14.0377000Z 
2025-04-15T08:38:14.0377314Z PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser-state.test.ts
2025-04-15T08:38:14.0377705Z   BuiltInsParserState
2025-04-15T08:38:14.0377995Z     toDataRequestParams
2025-04-15T08:38:14.0378752Z       âœ“ should return empty array when no properties are marked as needed (5 ms)
2025-04-15T08:38:14.0379282Z       âœ“ should return all nodes and input when markNeedsAllNodes is called
2025-04-15T08:38:14.0379908Z       âœ“ should return specific node names when nodes are marked as needed individually (1 ms)
2025-04-15T08:38:14.0380527Z       âœ“ should ignore individual nodes when needsAllNodes is marked as true (1 ms)
2025-04-15T08:38:14.0381036Z       âœ“ should mark env as needed when markEnvAsNeeded is called
2025-04-15T08:38:14.0381498Z       âœ“ should mark input as needed when markInputAsNeeded is called
2025-04-15T08:38:14.0381893Z       âœ“ should use the given chunk (1 ms)
2025-04-15T08:38:14.0382362Z       âœ“ should mark prevNode as needed when markPrevNodeAsNeeded is called
2025-04-15T08:38:14.0383141Z       âœ“ should return correct specification when multiple properties are marked as needed (1 ms)
2025-04-15T08:38:14.0383762Z       âœ“ should return correct specification when all properties are marked as needed
2025-04-15T08:38:14.0384059Z 
2025-04-15T08:38:14.0384239Z PASS src/__tests__/task-runner-sentry.test.ts
2025-04-15T08:38:14.0384520Z   TaskRunnerSentry
2025-04-15T08:38:14.0384752Z     filterOutUserCodeErrors
2025-04-15T08:38:14.0385138Z       âœ“ should filter out user code errors (6 ms)
2025-04-15T08:38:14.0385419Z     initIfEnabled
2025-04-15T08:38:14.0385760Z       âœ“ should not configure sentry if dsn is not set (1 ms)
2025-04-15T08:38:14.0386163Z       âœ“ should configure sentry if dsn is set (2 ms)
2025-04-15T08:38:14.0386406Z     shutdown
2025-04-15T08:38:14.0386698Z       âœ“ should not shutdown sentry if dsn is not set
2025-04-15T08:38:14.0387086Z       âœ“ should shutdown sentry if dsn is set
2025-04-15T08:38:14.0387272Z 
2025-04-15T08:38:14.0387559Z PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser.test.ts
2025-04-15T08:38:14.0388034Z   BuiltInsParser
2025-04-15T08:38:14.0388273Z     Env, input, execution and prevNode
2025-04-15T08:38:14.0388668Z       âœ“ should identify built-ins in '$env' (6 ms)
2025-04-15T08:38:14.0389072Z       âœ“ should identify built-ins in '$execution' (1 ms)
2025-04-15T08:38:14.0389464Z       âœ“ should identify built-ins in '$prevNode' (1 ms)
2025-04-15T08:38:14.0389725Z     Input
2025-04-15T08:38:14.0390063Z       âœ“ should mark input as needed when $input is used (2 ms)
2025-04-15T08:38:14.0390494Z       âœ“ should mark input as needed when $json is used (1 ms)
2025-04-15T08:38:14.0390877Z       âœ“ should mark input as needed when items is used (1 ms)
2025-04-15T08:38:14.0391250Z       âœ“ should mark input as needed when item is used
2025-04-15T08:38:14.0391493Z     $(...)
2025-04-15T08:38:14.0391820Z       âœ“ should identify nodes in '$("nodeName").first()' (1 ms)
2025-04-15T08:38:14.0392766Z       âœ“ should identify nodes in '$("nodeName").all(); $("secondNode").matchingItem()' (1 ms)
2025-04-15T08:38:14.0393270Z       âœ“ should need all nodes when $() is called with a variable
2025-04-15T08:38:14.0393822Z       âœ“ should require all nodes when there are multiple usages of $() and one is with a variable
2025-04-15T08:38:14.0394354Z       âœ“ should ignore when $ is called without parameters (1 ms)
2025-04-15T08:38:14.0394764Z       âœ“ should ignore when $ is called number literal
2025-04-15T08:38:14.0395189Z       âœ“ should require all nodes if $("node").item is used (1 ms)
2025-04-15T08:38:14.0395629Z       âœ“ should require all nodes if $("node")["item"] is used
2025-04-15T08:38:14.0396118Z       âœ“ should require all nodes if $("node").pairedItem() is used (1 ms)
2025-04-15T08:38:14.0396585Z       âœ“ should require all nodes if $("node")["pairedItem"]() is used
2025-04-15T08:38:14.0397068Z       âœ“ should require all nodes if $("node").itemMatching(0) is used (1 ms)
2025-04-15T08:38:14.0397871Z       âœ“ should require all nodes if $("node")["itemMatching"](0) is used
2025-04-15T08:38:14.0398351Z       âœ“ should require all nodes if $("node")[variable] is used (1 ms)
2025-04-15T08:38:14.0398800Z       âœ“ should require all nodes if var a = $("node") is used
2025-04-15T08:38:14.0399205Z       âœ“ should require all nodes if let a = $("node") is used
2025-04-15T08:38:14.0399630Z       âœ“ should require all nodes if const a = $("node") is used
2025-04-15T08:38:14.0400029Z       âœ“ should require all nodes if a = $("node") is used
2025-04-15T08:38:14.0400470Z       âœ“ should require only accessed node if $("node").first() is used (4 ms)
2025-04-15T08:38:14.0400984Z       âœ“ should require only accessed node if $("node").last() is used (1 ms)
2025-04-15T08:38:14.0401440Z       âœ“ should require only accessed node if $("node").all() is used
2025-04-15T08:38:14.0401896Z       âœ“ should require only accessed node if $("node").params is used
2025-04-15T08:38:14.0402227Z     $items(...)
2025-04-15T08:38:14.0402622Z       âœ“ should mark input as needed when $items() is used without arguments (1 ms)
2025-04-15T08:38:14.0403138Z       âœ“ should require the given node when $items() is used with a static value
2025-04-15T08:38:14.0403645Z       âœ“ should require all nodes when $items() is used with a variable
2025-04-15T08:38:14.0403980Z     $node
2025-04-15T08:38:14.0404280Z       âœ“ should require all nodes when $node is used
2025-04-15T08:38:14.0404562Z     $item
2025-04-15T08:38:14.0404870Z       âœ“ should require all nodes and input when $item is used
2025-04-15T08:38:14.0405163Z     ECMAScript syntax
2025-04-15T08:38:14.0405370Z       ES2020
2025-04-15T08:38:14.0405643Z         âœ“ should parse optional chaining
2025-04-15T08:38:14.0406611Z         âœ“ should parse nullish coalescing
2025-04-15T08:38:14.0406933Z       ES2021
2025-04-15T08:38:14.0407249Z         âœ“ should parse numeric separators (1 ms)
2025-04-15T08:38:14.0407554Z     WorkflowDataProxy built-ins
2025-04-15T08:38:14.0407995Z       âœ“ should have a known list of built-ins (13 ms)
2025-04-15T08:38:14.0408183Z 
2025-04-15T08:38:14.0408398Z PASS src/js-task-runner/__tests__/task-runner.test.ts
2025-04-15T08:38:14.0408695Z   TestRunner
2025-04-15T08:38:14.0408878Z     constructor
2025-04-15T08:38:14.0409318Z       âœ“ should correctly construct WebSocket URI with provided taskBrokerUri (14 ms)
2025-04-15T08:38:14.0409867Z       âœ“ should handle different taskBrokerUri formats correctly (1 ms)
2025-04-15T08:38:14.0410356Z       âœ“ should throw an error if taskBrokerUri is invalid (11 ms)
2025-04-15T08:38:14.0410662Z     sendOffers
2025-04-15T08:38:14.0410981Z       âœ“ should not send offers if canSendOffers is false (2 ms)
2025-04-15T08:38:14.0411479Z       âœ“ should enable sending of offer on runnerregistered message (1 ms)
2025-04-15T08:38:14.0412001Z       âœ“ should send maxConcurrency offers when there are no offers (2 ms)
2025-04-15T08:38:14.0412553Z       âœ“ should send up to maxConcurrency offers when there is a running task (1 ms)
2025-04-15T08:38:14.0413327Z       âœ“ should delete stale offers and send new ones (2 ms)
2025-04-15T08:38:14.0413616Z     taskCancelled
2025-04-15T08:38:14.0413972Z       âœ“ should not do anything if task status is aborting:cancelled (1 ms)
2025-04-15T08:38:14.0414457Z       âœ“ should not do anything if task status is aborting:timeout (1 ms)
2025-04-15T08:38:14.0415000Z       âœ“ should delete task if task is waiting for settings when task is cancelled (1 ms)
2025-04-15T08:38:14.0415530Z       âœ“ should reject pending requests when task is cancelled (1 ms)
2025-04-15T08:38:14.0415856Z     taskTimedOut
2025-04-15T08:38:14.0416204Z       âœ“ should error task if task is waiting for settings (1 ms)
2025-04-15T08:38:14.0416643Z       âœ“ should reject pending requests when task is running (6 ms)
2025-04-15T08:38:14.0416896Z 
2025-04-15T08:38:14.0417120Z PASS src/js-task-runner/__tests__/result-validation.test.ts
2025-04-15T08:38:14.0417450Z   result validation
2025-04-15T08:38:14.0418012Z     validateRunForAllItemsOutput
2025-04-15T08:38:14.0418466Z       âœ“ should throw an error if the output is not an object (16 ms)
2025-04-15T08:38:14.0419055Z       âœ“ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
2025-04-15T08:38:14.0419665Z       âœ“ should not throw an error if the output is an array and all items are json wrapped
2025-04-15T08:38:14.0420286Z       âœ“ should not throw an error if the output item has binary key in addition to json (1 ms)
2025-04-15T08:38:14.0421823Z       âœ“ should not throw an error if the output item has pairedItem key in addition to json
2025-04-15T08:38:14.0422447Z       âœ“ should not throw an error if the output item has error key in addition to json
2025-04-15T08:38:14.0423031Z       âœ“ should not throw an error if the output item has index key in addition to json (1 ms)
2025-04-15T08:38:14.0423628Z       âœ“ should not throw an error if the output is an array and all items are not json wrapped
2025-04-15T08:38:14.0424079Z       âœ“ should throw if json is not an object (1 ms)
2025-04-15T08:38:14.0424405Z     validateRunForEachItemOutput
2025-04-15T08:38:14.0424816Z       âœ“ should throw an error if the output is not an object (1 ms)
2025-04-15T08:38:14.0425276Z       âœ“ should throw an error if the output is an array (6 ms)
2025-04-15T08:38:14.0425687Z       âœ“ should throw if json is not an object (1 ms)
2025-04-15T08:38:14.0426330Z       âœ“ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
2025-04-15T08:38:14.0427010Z       âœ“ should not throw an error if the output item has binary key in addition to json
2025-04-15T08:38:14.0427704Z       âœ“ should not throw an error if the output item has pairedItem key in addition to json (1 ms)
2025-04-15T08:38:14.0428477Z       âœ“ should not throw an error if the output item has error key in addition to json
2025-04-15T08:38:14.0428768Z 
2025-04-15T08:38:14.0429115Z PASS src/data-request/__tests__/data-request-response-reconstruct.test.ts
2025-04-15T08:38:14.0429623Z   DataRequestResponseReconstruct
2025-04-15T08:38:14.0429944Z     reconstructConnectionInputItems
2025-04-15T08:38:14.0430416Z       âœ“ should return all input items if no chunk is provided (5 ms)
2025-04-15T08:38:14.0430966Z       âœ“ should reconstruct sparse array when chunk is provided (1 ms)
2025-04-15T08:38:14.0431435Z       âœ“ should handle empty input data gracefully
2025-04-15T08:38:14.0431744Z     reconstructExecuteData
2025-04-15T08:38:14.0432225Z       âœ“ should reconstruct execute data with the provided input items (1 ms)
2025-04-15T08:38:14.0432745Z       âœ“ should handle empty input items gracefully (1 ms)
2025-04-15T08:38:14.0432985Z 
2025-04-15T08:38:14.0433142Z PASS src/__tests__/node-types.test.ts
2025-04-15T08:38:14.0433418Z   TaskRunnerNodeTypes
2025-04-15T08:38:14.0433666Z     getByNameAndVersion
2025-04-15T08:38:14.0434034Z       âœ“ should return undefined if not found (5 ms)
2025-04-15T08:38:14.0434549Z       âœ“ should return highest versioned node type if no version is given (2 ms)
2025-04-15T08:38:14.0435380Z       âœ“ should return specified version for split version (1 ms)
2025-04-15T08:38:14.0435865Z       âœ“ should return undefined on unknown version (1 ms)
2025-04-15T08:38:14.0436354Z       âœ“ should return specified version for multi version (5 ms)
2025-04-15T08:38:14.0436861Z       âœ“ should default to DEFAULT_NODETYPE_VERSION if no version specified (1 ms)
2025-04-15T08:38:14.0437235Z     addNodeTypeDescriptions
2025-04-15T08:38:14.0437537Z       âœ“ should add new node types (2 ms)
2025-04-15T08:38:14.0437876Z     onlyUnknown
2025-04-15T08:38:14.0438192Z       âœ“ should return only unknown node types (1 ms)
2025-04-15T08:38:14.0438405Z 
2025-04-15T08:38:14.0438646Z PASS src/js-task-runner/errors/__tests__/execution-error.test.ts
2025-04-15T08:38:14.0439007Z   ExecutionError
2025-04-15T08:38:14.0439422Z     âœ“ should parse error details from stack trace without itemIndex (10 ms)
2025-04-15T08:38:14.0439949Z     âœ“ should parse error details from stack trace with itemIndex (1 ms)
2025-04-15T08:38:14.0440605Z     âœ“ should serialize correctly (1 ms)
2025-04-15T08:38:14.0440797Z 
2025-04-15T08:38:14.0441021Z PASS src/js-task-runner/__tests__/require-resolver.test.ts
2025-04-15T08:38:14.0441361Z   require resolver
2025-04-15T08:38:14.0441562Z     built-in modules
2025-04-15T08:38:14.0441956Z       âœ“ should allow requiring whitelisted built-in modules (7 ms)
2025-04-15T08:38:14.0442497Z       âœ“ should throw when requiring non-whitelisted built-in modules (18 ms)
2025-04-15T08:38:14.0443057Z       âœ“ should allow all built-in modules when allowedBuiltInModules is "*" (1 ms)
2025-04-15T08:38:14.0443426Z     external modules
2025-04-15T08:38:14.0443789Z       âœ“ should allow requiring whitelisted external modules (1 ms)
2025-04-15T08:38:14.0444302Z       âœ“ should throw when requiring non-whitelisted external modules (3 ms)
2025-04-15T08:38:14.0444887Z       âœ“ should allow all external modules when allowedExternalModules is "*" (107 ms)
2025-04-15T08:38:14.0445265Z     error handling
2025-04-15T08:38:14.0445668Z       âœ“ should wrap ApplicationError in ExecutionError (2 ms)
2025-04-15T08:38:14.0446324Z       âœ“ should include the module name in the error message (1 ms)
2025-04-15T08:38:14.0446564Z 
2025-04-15T08:38:14.0446894Z (node:4514) [DEP0125] DeprecationWarning: The _stream_wrap module is deprecated.
2025-04-15T08:38:14.0447471Z (Use `node --trace-deprecation ...` to show where the warning was created)
2025-04-15T08:38:14.0448106Z (node:4514) [DEP0025] DeprecationWarning: sys is deprecated. Use util instead.
2025-04-15T08:38:14.0448753Z (node:4514) ExperimentalWarning: WASI is an experimental feature and might change at any time
2025-04-15T08:38:14.0449310Z PASS src/js-task-runner/__tests__/js-task-runner.test.ts
2025-04-15T08:38:14.0449641Z   JsTaskRunner
2025-04-15T08:38:14.0449838Z     console
2025-04-15T08:38:14.0450299Z       âœ“ should make an rpc call for console log in runOnceForAllItems mode (51 ms)
2025-04-15T08:38:14.0450893Z       âœ“ should make an rpc call for console log in runOnceForEachItem mode (7 ms)
2025-04-15T08:38:14.0451469Z       âœ“ should not throw when using unsupported console methods (5 ms)
2025-04-15T08:38:14.0451989Z       âœ“ should not throw when trying to log the context object (3 ms)
2025-04-15T08:38:14.0452505Z       âœ“ should log the context object as [[ExecutionContext]] (2 ms)
2025-04-15T08:38:14.0452944Z     built-in methods and variables available in the context
2025-04-15T08:38:14.0453391Z       âœ“ should allow access to Node.js Buffers (3 ms)
2025-04-15T08:38:14.0453747Z       current node input runOnceForAllItems
2025-04-15T08:38:14.0454217Z         âœ“ should have the $input.first() available in the context (3 ms)
2025-04-15T08:38:14.0454770Z         âœ“ should have the $input.last() available in the context (3 ms)
2025-04-15T08:38:14.0455309Z         âœ“ should have the $input.params available in the context (3 ms)
2025-04-15T08:38:14.0455707Z       current node input runOnceForEachItem
2025-04-15T08:38:14.0456209Z         âœ“ should have the $input.first() available in the context (3 ms)
2025-04-15T08:38:14.0457198Z         âœ“ should have the $input.last() available in the context (3 ms)
2025-04-15T08:38:14.0457669Z         âœ“ should have the $input.params available in the context (3 ms)
2025-04-15T08:38:14.0458114Z       output of other nodes runOnceForAllItems
2025-04-15T08:38:14.0458560Z         âœ“ should have the $("Trigger").first() available in the context (7 ms)
2025-04-15T08:38:14.0459078Z         âœ“ should have the $("Trigger").last() available in the context (4 ms)
2025-04-15T08:38:14.0459601Z         âœ“ should have the $("Trigger").params available in the context (2 ms)
2025-04-15T08:38:14.0460000Z       output of other nodes runOnceForEachItem
2025-04-15T08:38:14.0460459Z         âœ“ should have the $("Trigger").first() available in the context (3 ms)
2025-04-15T08:38:14.0460976Z         âœ“ should have the $("Trigger").last() available in the context (2 ms)
2025-04-15T08:38:14.0461507Z         âœ“ should have the $("Trigger").params available in the context (2 ms)
2025-04-15T08:38:14.0462135Z       date and time runOnceForAllItems
2025-04-15T08:38:14.0462581Z         âœ“ should have the $now available in the context (2 ms)
2025-04-15T08:38:14.0463033Z         âœ“ should have the $today available in the context (1 ms)
2025-04-15T08:38:14.0463531Z         âœ“ should have the {dt: DateTime} available in the context (2 ms)
2025-04-15T08:38:14.0463938Z       date and time runOnceForEachItem
2025-04-15T08:38:14.0464359Z         âœ“ should have the $now available in the context (2 ms)
2025-04-15T08:38:14.0464853Z         âœ“ should have the $today available in the context (4 ms)
2025-04-15T08:38:14.0465380Z         âœ“ should have the {dt: DateTime} available in the context (3 ms)
2025-04-15T08:38:14.0465772Z       JMESPath runOnceForAllItems
2025-04-15T08:38:14.0466313Z         âœ“ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (3 ms)
2025-04-15T08:38:14.0466744Z       JMESPath runOnceForEachItem
2025-04-15T08:38:14.0467244Z         âœ“ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (3 ms)
2025-04-15T08:38:14.0467726Z       n8n metadata runOnceForAllItems
2025-04-15T08:38:14.0468246Z         âœ“ should have the $execution available in the context (3 ms)
2025-04-15T08:38:14.0468771Z         âœ“ should have the $("Trigger").isExecuted available in the context (3 ms)
2025-04-15T08:38:14.0469282Z         âœ“ should have the $nodeVersion available in the context (2 ms)
2025-04-15T08:38:14.0469765Z         âœ“ should have the $prevNode.name available in the context (3 ms)
2025-04-15T08:38:14.0470305Z         âœ“ should have the $prevNode.outputIndex available in the context (5 ms)
2025-04-15T08:38:14.0470829Z         âœ“ should have the $runIndex available in the context (4 ms)
2025-04-15T08:38:14.0471342Z         âœ“ should have the { wf: $workflow } available in the context (2 ms)
2025-04-15T08:38:14.0471813Z         âœ“ should have the $vars available in the context (2 ms)
2025-04-15T08:38:14.0472384Z         âœ“ should have the $getWorkflowStaticData("global") available in the context (1 ms)
2025-04-15T08:38:14.0472845Z       n8n metadata runOnceForEachItem
2025-04-15T08:38:14.0473264Z         âœ“ should have the $execution available in the context (3 ms)
2025-04-15T08:38:14.0473772Z         âœ“ should have the $("Trigger").isExecuted available in the context (2 ms)
2025-04-15T08:38:14.0474256Z         âœ“ should have the $nodeVersion available in the context (2 ms)
2025-04-15T08:38:14.0474752Z         âœ“ should have the $prevNode.name available in the context (2 ms)
2025-04-15T08:38:14.0475284Z         âœ“ should have the $prevNode.outputIndex available in the context (2 ms)
2025-04-15T08:38:14.0475800Z         âœ“ should have the $runIndex available in the context (2 ms)
2025-04-15T08:38:14.0476278Z         âœ“ should have the { wf: $workflow } available in the context (2 ms)
2025-04-15T08:38:14.0476745Z         âœ“ should have the $vars available in the context (2 ms)
2025-04-15T08:38:14.0477340Z         âœ“ should have the $getWorkflowStaticData("global") available in the context (1 ms)
2025-04-15T08:38:14.0478151Z       Node.js internal functions runOnceForAllItems
2025-04-15T08:38:14.0478659Z         âœ“ should have the typeof Function available in the context (2 ms)
2025-04-15T08:38:14.0479179Z         âœ“ should have the typeof eval available in the context (2 ms)
2025-04-15T08:38:14.0479690Z         âœ“ should have the typeof setTimeout available in the context (2 ms)
2025-04-15T08:38:14.0480233Z         âœ“ should have the typeof setInterval available in the context (1 ms)
2025-04-15T08:38:14.0480764Z         âœ“ should have the typeof setImmediate available in the context (3 ms)
2025-04-15T08:38:14.0481293Z         âœ“ should have the typeof clearTimeout available in the context (8 ms)
2025-04-15T08:38:14.0481853Z         âœ“ should have the typeof clearInterval available in the context (2 ms)
2025-04-15T08:38:14.0482420Z         âœ“ should have the typeof clearImmediate available in the context (2 ms)
2025-04-15T08:38:14.0482892Z       Node.js internal functions runOnceForEachItem
2025-04-15T08:38:14.0483628Z         âœ“ should have the typeof Function available in the context (2 ms)
2025-04-15T08:38:14.0484169Z         âœ“ should have the typeof eval available in the context (1 ms)
2025-04-15T08:38:14.0484686Z         âœ“ should have the typeof setTimeout available in the context (1 ms)
2025-04-15T08:38:14.0485235Z         âœ“ should have the typeof setInterval available in the context (1 ms)
2025-04-15T08:38:14.0485797Z         âœ“ should have the typeof setImmediate available in the context (4 ms)
2025-04-15T08:38:14.0486524Z         âœ“ should have the typeof clearTimeout available in the context (1 ms)
2025-04-15T08:38:14.0487085Z         âœ“ should have the typeof clearInterval available in the context (2 ms)
2025-04-15T08:38:14.0487657Z         âœ“ should have the typeof clearImmediate available in the context (6 ms)
2025-04-15T08:38:14.0488122Z       eval runOnceForAllItems
2025-04-15T08:38:14.0488555Z         âœ“ should have the eval("1+2") available in the context (2 ms)
2025-04-15T08:38:14.0488934Z       eval runOnceForEachItem
2025-04-15T08:38:14.0489342Z         âœ“ should have the eval("1+2") available in the context (3 ms)
2025-04-15T08:38:14.0489717Z       JS built-ins runOnceForAllItems
2025-04-15T08:38:14.0490154Z         âœ“ should have the typeof btoa available in the context (10 ms)
2025-04-15T08:38:14.0490623Z         âœ“ should have the typeof atob available in the context (3 ms)
2025-04-15T08:38:14.0491124Z         âœ“ should have the typeof TextDecoder available in the context (2 ms)
2025-04-15T08:38:14.0491669Z         âœ“ should have the typeof TextDecoderStream available in the context (5 ms)
2025-04-15T08:38:14.0492182Z         âœ“ should have the typeof TextEncoder available in the context (2 ms)
2025-04-15T08:38:14.0492728Z         âœ“ should have the typeof TextEncoderStream available in the context (2 ms)
2025-04-15T08:38:14.0493287Z         âœ“ should have the typeof FormData available in the context (2 ms)
2025-04-15T08:38:14.0493675Z       JS built-ins runOnceForEachItem
2025-04-15T08:38:14.0494132Z         âœ“ should have the typeof btoa available in the context (6 ms)
2025-04-15T08:38:14.0494624Z         âœ“ should have the typeof atob available in the context (2 ms)
2025-04-15T08:38:14.0495137Z         âœ“ should have the typeof TextDecoder available in the context (2 ms)
2025-04-15T08:38:14.0495708Z         âœ“ should have the typeof TextDecoderStream available in the context (1 ms)
2025-04-15T08:38:14.0496310Z         âœ“ should have the typeof TextEncoder available in the context (5 ms)
2025-04-15T08:38:14.0496878Z         âœ“ should have the typeof TextEncoderStream available in the context (3 ms)
2025-04-15T08:38:14.0497381Z         âœ“ should have the typeof FormData available in the context (12 ms)
2025-04-15T08:38:14.0497676Z       $env
2025-04-15T08:38:14.0498147Z         âœ“ should have the env available in context when access has not been blocked (10 ms)
2025-04-15T08:38:14.0498654Z         âœ“ should be possible to access env if it has been blocked (48 ms)
2025-04-15T08:38:14.0499339Z         âœ“ should not be possible to iterate $env (2 ms)
2025-04-15T08:38:14.0499829Z         âœ“ should not expose task runner's env variables even if no env state is received (2 ms)
2025-04-15T08:38:14.0500207Z       timezone
2025-04-15T08:38:14.0500533Z         âœ“ should use the specified timezone in the workflow (3 ms)
2025-04-15T08:38:14.0500924Z         âœ“ should use the default timezone (2 ms)
2025-04-15T08:38:14.0501242Z       $getWorkflowStaticData('global')
2025-04-15T08:38:14.0501736Z         âœ“ should have the global workflow static data available in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0502349Z         âœ“ should have the global workflow static data available in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0502973Z         âœ“ does not return static data if it hasn't been modified in runOnceForAllItems (3 ms)
2025-04-15T08:38:14.0503600Z         âœ“ does not return static data if it hasn't been modified in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0504142Z         âœ“ returns the updated static data in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0504952Z         âœ“ returns the updated static data in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0505272Z       $getWorkflowStaticData('node')
2025-04-15T08:38:14.0505741Z         âœ“ should have the node workflow static data available in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0506340Z         âœ“ should have the node workflow static data available in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0506926Z         âœ“ does not return static data if it hasn't been modified in runOnceForAllItems (1 ms)
2025-04-15T08:38:14.0507549Z         âœ“ does not return static data if it hasn't been modified in runOnceForEachItem (1 ms)
2025-04-15T08:38:14.0508183Z         âœ“ returns the updated static data in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0508661Z         âœ“ returns the updated static data in runOnceForEachItem (3 ms)
2025-04-15T08:38:14.0508980Z       helpers
2025-04-15T08:38:14.0509349Z         âœ“ helpers.assertBinaryData for runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0509864Z         âœ“ helpers.assertBinaryData for runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0510322Z         âœ“ helpers.getBinaryDataBuffer for runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0510826Z         âœ“ helpers.getBinaryDataBuffer for runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0511325Z         âœ“ helpers.prepareBinaryData for runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0511807Z         âœ“ helpers.prepareBinaryData for runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0512283Z         âœ“ helpers.setBinaryDataBuffer for runOnceForAllItems (15 ms)
2025-04-15T08:38:14.0512766Z         âœ“ helpers.setBinaryDataBuffer for runOnceForEachItem (3 ms)
2025-04-15T08:38:14.0513227Z         âœ“ helpers.binaryToString for runOnceForAllItems (1 ms)
2025-04-15T08:38:14.0513687Z         âœ“ helpers.binaryToString for runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0514119Z         âœ“ helpers.httpRequest for runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0514546Z         âœ“ helpers.httpRequest for runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0514881Z         unsupported methods
2025-04-15T08:38:14.0515463Z           âœ“ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForAllItems (3 ms)
2025-04-15T08:38:14.0516285Z           âœ“ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0517134Z           âœ“ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0518085Z           âœ“ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0518832Z           âœ“ should throw an error if helpers.copyBinaryFile is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0519486Z           âœ“ should throw an error if helpers.copyBinaryFile is used in runOnceForEachItem (3 ms)
2025-04-15T08:38:14.0520135Z           âœ“ should throw an error if helpers.createReadStream is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0521103Z           âœ“ should throw an error if helpers.createReadStream is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0521833Z           âœ“ should throw an error if helpers.getBinaryStream is used in runOnceForAllItems (20 ms)
2025-04-15T08:38:14.0522511Z           âœ“ should throw an error if helpers.getBinaryStream is used in runOnceForEachItem (3 ms)
2025-04-15T08:38:14.0523175Z           âœ“ should throw an error if helpers.binaryToBuffer is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0523823Z           âœ“ should throw an error if helpers.binaryToBuffer is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0524482Z           âœ“ should throw an error if helpers.getBinaryMetadata is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0525164Z           âœ“ should throw an error if helpers.getBinaryMetadata is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0525835Z           âœ“ should throw an error if helpers.getStoragePath is used in runOnceForAllItems (1 ms)
2025-04-15T08:38:14.0527503Z           âœ“ should throw an error if helpers.getStoragePath is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0528254Z           âœ“ should throw an error if helpers.getBinaryPath is used in runOnceForAllItems (10 ms)
2025-04-15T08:38:14.0528896Z           âœ“ should throw an error if helpers.getBinaryPath is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0529584Z           âœ“ should throw an error if helpers.writeContentToFile is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0530270Z           âœ“ should throw an error if helpers.writeContentToFile is used in runOnceForEachItem (3 ms)
2025-04-15T08:38:14.0530934Z           âœ“ should throw an error if helpers.copyInputItems is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0531582Z           âœ“ should throw an error if helpers.copyInputItems is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0532220Z           âœ“ should throw an error if helpers.returnJsonArray is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0532903Z           âœ“ should throw an error if helpers.returnJsonArray is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0533551Z           âœ“ should throw an error if helpers.normalizeItems is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0534196Z           âœ“ should throw an error if helpers.normalizeItems is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0534838Z           âœ“ should throw an error if helpers.getSSHClient is used in runOnceForAllItems (1 ms)
2025-04-15T08:38:14.0535483Z           âœ“ should throw an error if helpers.getSSHClient is used in runOnceForEachItem (1 ms)
2025-04-15T08:38:14.0536151Z           âœ“ should throw an error if helpers.createDeferredPromise is used in runOnceForAllItems (1 ms)
2025-04-15T08:38:14.0536871Z           âœ“ should throw an error if helpers.createDeferredPromise is used in runOnceForEachItem (3 ms)
2025-04-15T08:38:14.0537616Z           âœ“ should throw an error if helpers.constructExecutionMetaData is used in runOnceForAllItems (2 ms)
2025-04-15T08:38:14.0538509Z           âœ“ should throw an error if helpers.constructExecutionMetaData is used in runOnceForEachItem (2 ms)
2025-04-15T08:38:14.0538970Z     runOnceForAllItems
2025-04-15T08:38:14.0539282Z       âœ“ should return static items (2 ms)
2025-04-15T08:38:14.0539633Z       âœ“ maps null into an empty array (2 ms)
2025-04-15T08:38:14.0540033Z       âœ“ should wrap items into json if they aren't (2 ms)
2025-04-15T08:38:14.0540429Z       âœ“ should wrap single item into an array and json (1 ms)
2025-04-15T08:38:14.0540861Z       âœ“ should have all input items in the context as items (2 ms)
2025-04-15T08:38:14.0541332Z       âœ“ should have all input items in the context as $input.all() (3 ms)
2025-04-15T08:38:14.0541859Z       âœ“ should have all input items in the context as $('Trigger').all() (2 ms)
2025-04-15T08:38:14.0542379Z       âœ“ should have all input items in the context as $items() (3 ms)
2025-04-15T08:38:14.0542698Z       continue on fail
2025-04-15T08:38:14.0543107Z         âœ“ should return an item with the error if continueOnFail is true (7 ms)
2025-04-15T08:38:14.0543894Z         âœ“ should throw an error if continueOnFail is false (5 ms)
2025-04-15T08:38:14.0544194Z       invalid output
2025-04-15T08:38:14.0544612Z         âœ“ should throw a ValidationError if the code output is undefined (5 ms)
2025-04-15T08:38:14.0545156Z         âœ“ should throw a ValidationError if the code output is 42 (3 ms)
2025-04-15T08:38:14.0545726Z         âœ“ should throw a ValidationError if the code output is "a string" (2 ms)
2025-04-15T08:38:14.0546369Z         âœ“ should throw a ValidationError if some items are wrapped in json and some are not (4 ms)
2025-04-15T08:38:14.0546789Z     runForEachItem
2025-04-15T08:38:14.0547072Z       âœ“ should return static items (2 ms)
2025-04-15T08:38:14.0547426Z       âœ“ should filter out null values (4 ms)
2025-04-15T08:38:14.0547962Z       âœ“ should have the current input item in the context as item (3 ms)
2025-04-15T08:38:14.0548506Z       âœ“ should have the current input item in the context as $input.item (3 ms)
2025-04-15T08:38:14.0549356Z       âœ“ should have the current input item in the context as { json: $json } (3 ms)
2025-04-15T08:38:14.0549724Z       continue on fail
2025-04-15T08:38:14.0550141Z         âœ“ should return an item with the error if continueOnFail is true (4 ms)
2025-04-15T08:38:14.0550637Z         âœ“ should throw an error if continueOnFail is false (3 ms)
2025-04-15T08:38:14.0550958Z       invalid output
2025-04-15T08:38:14.0551382Z         âœ“ should throw a ValidationError if the code output is undefined (1 ms)
2025-04-15T08:38:14.0551906Z         âœ“ should throw a ValidationError if the code output is 42 (8 ms)
2025-04-15T08:38:14.0552459Z         âœ“ should throw a ValidationError if the code output is "a string" (3 ms)
2025-04-15T08:38:14.0552991Z         âœ“ should throw a ValidationError if the code output is [] (3 ms)
2025-04-15T08:38:14.0553517Z         âœ“ should throw a ValidationError if the code output is [1,2,3] (2 ms)
2025-04-15T08:38:14.0553905Z       chunked execution
2025-04-15T08:38:14.0554278Z         âœ“ should use correct index for each item (5 ms)
2025-04-15T08:38:14.0554581Z     require
2025-04-15T08:38:14.0554790Z       blocked by default
2025-04-15T08:38:14.0555298Z         âœ“ should throw an error when requiring _http_agent in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0555960Z         âœ“ should throw an error when requiring _http_client in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0556685Z         âœ“ should throw an error when requiring _http_common in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0557380Z         âœ“ should throw an error when requiring _http_incoming in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0558133Z         âœ“ should throw an error when requiring _http_outgoing in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0558807Z         âœ“ should throw an error when requiring _http_server in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0559506Z         âœ“ should throw an error when requiring _stream_duplex in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0560246Z         âœ“ should throw an error when requiring _stream_passthrough in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0560943Z         âœ“ should throw an error when requiring _stream_readable in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0561644Z         âœ“ should throw an error when requiring _stream_transform in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0562316Z         âœ“ should throw an error when requiring _stream_wrap in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0562997Z         âœ“ should throw an error when requiring _stream_writable in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0563666Z         âœ“ should throw an error when requiring _tls_common in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0564308Z         âœ“ should throw an error when requiring _tls_wrap in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0564934Z         âœ“ should throw an error when requiring assert in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0565865Z         âœ“ should throw an error when requiring assert/strict in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0566780Z         âœ“ should throw an error when requiring async_hooks in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0567434Z         âœ“ should throw an error when requiring buffer in runOnceForAllItems mode (5 ms)
2025-04-15T08:38:14.0568146Z         âœ“ should throw an error when requiring child_process in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0568809Z         âœ“ should throw an error when requiring cluster in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0569429Z         âœ“ should throw an error when requiring console in runOnceForAllItems mode (11 ms)
2025-04-15T08:38:14.0570056Z         âœ“ should throw an error when requiring constants in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0570672Z         âœ“ should throw an error when requiring crypto in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0571275Z         âœ“ should throw an error when requiring dgram in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0572376Z         âœ“ should throw an error when requiring diagnostics_channel in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0573012Z         âœ“ should throw an error when requiring dns in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0573629Z         âœ“ should throw an error when requiring dns/promises in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0574256Z         âœ“ should throw an error when requiring domain in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0574852Z         âœ“ should throw an error when requiring events in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0575421Z         âœ“ should throw an error when requiring fs in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0576029Z         âœ“ should throw an error when requiring fs/promises in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0576631Z         âœ“ should throw an error when requiring http in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0577240Z         âœ“ should throw an error when requiring http2 in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0577910Z         âœ“ should throw an error when requiring https in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0578535Z         âœ“ should throw an error when requiring inspector in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0579220Z         âœ“ should throw an error when requiring inspector/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0579880Z         âœ“ should throw an error when requiring module in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0580475Z         âœ“ should throw an error when requiring net in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0581063Z         âœ“ should throw an error when requiring os in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0581667Z         âœ“ should throw an error when requiring path in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0582305Z         âœ“ should throw an error when requiring path/posix in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0582979Z         âœ“ should throw an error when requiring path/win32 in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0583614Z         âœ“ should throw an error when requiring perf_hooks in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0584178Z         âœ“ should throw an error when requiring process in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0584795Z         âœ“ should throw an error when requiring punycode in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0585436Z         âœ“ should throw an error when requiring querystring in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0585996Z         âœ“ should throw an error when requiring readline in runOnceForAllItems mode (9 ms)
2025-04-15T08:38:14.0586678Z         âœ“ should throw an error when requiring readline/promises in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0587309Z         âœ“ should throw an error when requiring repl in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0587978Z         âœ“ should throw an error when requiring stream in runOnceForAllItems mode (7 ms)
2025-04-15T08:38:14.0588988Z         âœ“ should throw an error when requiring stream/consumers in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0589633Z         âœ“ should throw an error when requiring stream/promises in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0590296Z         âœ“ should throw an error when requiring stream/web in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0590963Z         âœ“ should throw an error when requiring string_decoder in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0591602Z         âœ“ should throw an error when requiring sys in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0592198Z         âœ“ should throw an error when requiring timers in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0592849Z         âœ“ should throw an error when requiring timers/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0593442Z         âœ“ should throw an error when requiring tls in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0594268Z         âœ“ should throw an error when requiring trace_events in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0594897Z         âœ“ should throw an error when requiring tty in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0595493Z         âœ“ should throw an error when requiring url in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0596081Z         âœ“ should throw an error when requiring util in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0596661Z         âœ“ should throw an error when requiring util/types in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0597260Z         âœ“ should throw an error when requiring v8 in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0597916Z         âœ“ should throw an error when requiring vm in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0598520Z         âœ“ should throw an error when requiring wasi in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0599163Z         âœ“ should throw an error when requiring worker_threads in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0599823Z         âœ“ should throw an error when requiring zlib in runOnceForAllItems mode (22 ms)
2025-04-15T08:38:14.0600394Z         âœ“ should throw an error when requiring @n8n/config in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0600991Z         âœ“ should throw an error when requiring @n8n/di in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0601603Z         âœ“ should throw an error when requiring @sentry/node in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0602227Z         âœ“ should throw an error when requiring acorn in runOnceForAllItems mode (10 ms)
2025-04-15T08:38:14.0602865Z         âœ“ should throw an error when requiring acorn-walk in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0603506Z         âœ“ should throw an error when requiring lodash in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0604119Z         âœ“ should throw an error when requiring luxon in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0604726Z         âœ“ should throw an error when requiring n8n-core in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0605393Z         âœ“ should throw an error when requiring n8n-workflow in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0606273Z         âœ“ should throw an error when requiring nanoid in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0606894Z         âœ“ should throw an error when requiring ws in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0607526Z         âœ“ should throw an error when requiring _http_agent in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0608261Z         âœ“ should throw an error when requiring _http_client in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0608912Z         âœ“ should throw an error when requiring _http_common in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0609567Z         âœ“ should throw an error when requiring _http_incoming in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0610245Z         âœ“ should throw an error when requiring _http_outgoing in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0611211Z         âœ“ should throw an error when requiring _http_server in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0611871Z         âœ“ should throw an error when requiring _stream_duplex in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0612571Z         âœ“ should throw an error when requiring _stream_passthrough in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0613267Z         âœ“ should throw an error when requiring _stream_readable in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0613960Z         âœ“ should throw an error when requiring _stream_transform in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0614644Z         âœ“ should throw an error when requiring _stream_wrap in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0615320Z         âœ“ should throw an error when requiring _stream_writable in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0616004Z         âœ“ should throw an error when requiring _tls_common in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0616979Z         âœ“ should throw an error when requiring _tls_wrap in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0617641Z         âœ“ should throw an error when requiring assert in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0618400Z         âœ“ should throw an error when requiring assert/strict in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0619093Z         âœ“ should throw an error when requiring async_hooks in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0619759Z         âœ“ should throw an error when requiring buffer in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0620423Z         âœ“ should throw an error when requiring child_process in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0621065Z         âœ“ should throw an error when requiring cluster in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0621685Z         âœ“ should throw an error when requiring console in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0622230Z         âœ“ should throw an error when requiring constants in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0622862Z         âœ“ should throw an error when requiring crypto in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0623455Z         âœ“ should throw an error when requiring dgram in runOnceForEachItem mode (6 ms)
2025-04-15T08:38:14.0624113Z         âœ“ should throw an error when requiring diagnostics_channel in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0624732Z         âœ“ should throw an error when requiring dns in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0625306Z         âœ“ should throw an error when requiring dns/promises in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0625858Z         âœ“ should throw an error when requiring domain in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0626413Z         âœ“ should throw an error when requiring events in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0626944Z         âœ“ should throw an error when requiring fs in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0627529Z         âœ“ should throw an error when requiring fs/promises in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0628191Z         âœ“ should throw an error when requiring http in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0628748Z         âœ“ should throw an error when requiring http2 in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0629306Z         âœ“ should throw an error when requiring https in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0629863Z         âœ“ should throw an error when requiring inspector in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0630474Z         âœ“ should throw an error when requiring inspector/promises in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0631072Z         âœ“ should throw an error when requiring module in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0631628Z         âœ“ should throw an error when requiring net in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0632194Z         âœ“ should throw an error when requiring os in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0633088Z         âœ“ should throw an error when requiring path in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0633694Z         âœ“ should throw an error when requiring path/posix in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0634319Z         âœ“ should throw an error when requiring path/win32 in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0634898Z         âœ“ should throw an error when requiring perf_hooks in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0635483Z         âœ“ should throw an error when requiring process in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0636122Z         âœ“ should throw an error when requiring punycode in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0636734Z         âœ“ should throw an error when requiring querystring in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0637326Z         âœ“ should throw an error when requiring readline in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0638053Z         âœ“ should throw an error when requiring readline/promises in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0639050Z         âœ“ should throw an error when requiring repl in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0639651Z         âœ“ should throw an error when requiring stream in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0640296Z         âœ“ should throw an error when requiring stream/consumers in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0640963Z         âœ“ should throw an error when requiring stream/promises in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0641635Z         âœ“ should throw an error when requiring stream/web in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0642256Z         âœ“ should throw an error when requiring string_decoder in runOnceForEachItem mode (7 ms)
2025-04-15T08:38:14.0642891Z         âœ“ should throw an error when requiring sys in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0643492Z         âœ“ should throw an error when requiring timers in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0644162Z         âœ“ should throw an error when requiring timers/promises in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0644728Z         âœ“ should throw an error when requiring tls in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0645317Z         âœ“ should throw an error when requiring trace_events in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0645902Z         âœ“ should throw an error when requiring tty in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0646826Z         âœ“ should throw an error when requiring url in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0647393Z         âœ“ should throw an error when requiring util in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0648081Z         âœ“ should throw an error when requiring util/types in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0648707Z         âœ“ should throw an error when requiring v8 in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0649273Z         âœ“ should throw an error when requiring vm in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0650199Z         âœ“ should throw an error when requiring wasi in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0650861Z         âœ“ should throw an error when requiring worker_threads in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0651513Z         âœ“ should throw an error when requiring zlib in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0652122Z         âœ“ should throw an error when requiring @n8n/config in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0652745Z         âœ“ should throw an error when requiring @n8n/di in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0653384Z         âœ“ should throw an error when requiring @sentry/node in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0654000Z         âœ“ should throw an error when requiring acorn in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0654630Z         âœ“ should throw an error when requiring acorn-walk in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0655511Z         âœ“ should throw an error when requiring lodash in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0656136Z         âœ“ should throw an error when requiring luxon in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0656792Z         âœ“ should throw an error when requiring n8n-core in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0657407Z         âœ“ should throw an error when requiring n8n-workflow in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0658083Z         âœ“ should throw an error when requiring nanoid in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0658652Z         âœ“ should throw an error when requiring ws in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0659043Z       all built-ins allowed with *
2025-04-15T08:38:14.0659521Z         âœ“ should be able to require _http_agent in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0660074Z         âœ“ should be able to require _http_client in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0660618Z         âœ“ should be able to require _http_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0661180Z         âœ“ should be able to require _http_incoming in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0661713Z         âœ“ should be able to require _http_outgoing in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0662298Z         âœ“ should be able to require _http_server in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0662865Z         âœ“ should be able to require _stream_duplex in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0663470Z         âœ“ should be able to require _stream_passthrough in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0664060Z         âœ“ should be able to require _stream_readable in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0664627Z         âœ“ should be able to require _stream_transform in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0665192Z         âœ“ should be able to require _stream_wrap in runOnceForAllItems mode (6 ms)
2025-04-15T08:38:14.0665769Z         âœ“ should be able to require _stream_writable in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0666377Z         âœ“ should be able to require _tls_common in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0666932Z         âœ“ should be able to require _tls_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0667471Z         âœ“ should be able to require assert in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0668079Z         âœ“ should be able to require assert/strict in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0668640Z         âœ“ should be able to require async_hooks in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0669182Z         âœ“ should be able to require buffer in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0669736Z         âœ“ should be able to require child_process in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0670286Z         âœ“ should be able to require cluster in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0670851Z         âœ“ should be able to require console in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0671668Z         âœ“ should be able to require constants in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0672211Z         âœ“ should be able to require crypto in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0672735Z         âœ“ should be able to require dgram in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0673299Z         âœ“ should be able to require diagnostics_channel in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0673846Z         âœ“ should be able to require dns in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0674369Z         âœ“ should be able to require dns/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0674900Z         âœ“ should be able to require domain in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0675441Z         âœ“ should be able to require events in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0675959Z         âœ“ should be able to require fs in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0676797Z         âœ“ should be able to require fs/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0677332Z         âœ“ should be able to require http in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0677907Z         âœ“ should be able to require http2 in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0678411Z         âœ“ should be able to require https in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0678926Z         âœ“ should be able to require inspector in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0679503Z         âœ“ should be able to require inspector/promises in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0680081Z         âœ“ should be able to require module in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0680619Z         âœ“ should be able to require net in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0681068Z         âœ“ should be able to require os in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0681583Z         âœ“ should be able to require path in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0682147Z         âœ“ should be able to require path/posix in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0682681Z         âœ“ should be able to require path/win32 in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0683234Z         âœ“ should be able to require perf_hooks in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0683748Z         âœ“ should be able to require process in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0684275Z         âœ“ should be able to require punycode in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0684816Z         âœ“ should be able to require querystring in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0685378Z         âœ“ should be able to require readline in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0685949Z         âœ“ should be able to require readline/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0686816Z         âœ“ should be able to require repl in runOnceForAllItems mode (7 ms)
2025-04-15T08:38:14.0687377Z         âœ“ should be able to require stream in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0688029Z         âœ“ should be able to require stream/consumers in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0688659Z         âœ“ should be able to require stream/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0689256Z         âœ“ should be able to require stream/web in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0689844Z         âœ“ should be able to require string_decoder in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0690412Z         âœ“ should be able to require sys in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0690908Z         âœ“ should be able to require timers in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0691457Z         âœ“ should be able to require timers/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0692004Z         âœ“ should be able to require tls in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0692545Z         âœ“ should be able to require trace_events in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0693455Z         âœ“ should be able to require tty in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0693943Z         âœ“ should be able to require url in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0694439Z         âœ“ should be able to require util in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0694973Z         âœ“ should be able to require util/types in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0695482Z         âœ“ should be able to require v8 in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0695995Z         âœ“ should be able to require vm in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0696506Z         âœ“ should be able to require wasi in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0697010Z         âœ“ should be able to require worker_threads in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0697540Z         âœ“ should be able to require zlib in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0698456Z         âœ“ should be able to require _http_agent in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0699004Z         âœ“ should be able to require _http_client in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0699575Z         âœ“ should be able to require _http_common in runOnceForEachItem mode (7 ms)
2025-04-15T08:38:14.0700134Z         âœ“ should be able to require _http_incoming in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0700740Z         âœ“ should be able to require _http_outgoing in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0701333Z         âœ“ should be able to require _http_server in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0701935Z         âœ“ should be able to require _stream_duplex in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0702502Z         âœ“ should be able to require _stream_passthrough in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0703098Z         âœ“ should be able to require _stream_readable in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0703724Z         âœ“ should be able to require _stream_transform in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0704304Z         âœ“ should be able to require _stream_wrap in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0704869Z         âœ“ should be able to require _stream_writable in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0705442Z         âœ“ should be able to require _tls_common in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0706006Z         âœ“ should be able to require _tls_wrap in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0706611Z         âœ“ should be able to require assert in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0707157Z         âœ“ should be able to require assert/strict in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0707722Z         âœ“ should be able to require async_hooks in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0708336Z         âœ“ should be able to require buffer in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0708915Z         âœ“ should be able to require child_process in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0709542Z         âœ“ should be able to require cluster in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0710094Z         âœ“ should be able to require console in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0710648Z         âœ“ should be able to require constants in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0711212Z         âœ“ should be able to require crypto in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0711756Z         âœ“ should be able to require dgram in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0712350Z         âœ“ should be able to require diagnostics_channel in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0712921Z         âœ“ should be able to require dns in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0713477Z         âœ“ should be able to require dns/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0714045Z         âœ“ should be able to require domain in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0714931Z         âœ“ should be able to require events in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0715469Z         âœ“ should be able to require fs in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0716009Z         âœ“ should be able to require fs/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0716533Z         âœ“ should be able to require http in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0717064Z         âœ“ should be able to require http2 in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0717582Z         âœ“ should be able to require https in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0718206Z         âœ“ should be able to require inspector in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0718796Z         âœ“ should be able to require inspector/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0719391Z         âœ“ should be able to require module in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0719925Z         âœ“ should be able to require net in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0720681Z         âœ“ should be able to require os in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0721160Z         âœ“ should be able to require path in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0721679Z         âœ“ should be able to require path/posix in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0722238Z         âœ“ should be able to require path/win32 in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0722795Z         âœ“ should be able to require perf_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0723333Z         âœ“ should be able to require process in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0723866Z         âœ“ should be able to require punycode in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0724411Z         âœ“ should be able to require querystring in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0724984Z         âœ“ should be able to require readline in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0725603Z         âœ“ should be able to require readline/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0726455Z         âœ“ should be able to require repl in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0727009Z         âœ“ should be able to require stream in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0727530Z         âœ“ should be able to require stream/consumers in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0728175Z         âœ“ should be able to require stream/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0728690Z         âœ“ should be able to require stream/web in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0729240Z         âœ“ should be able to require string_decoder in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0729789Z         âœ“ should be able to require sys in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0730346Z         âœ“ should be able to require timers in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0730943Z         âœ“ should be able to require timers/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0731512Z         âœ“ should be able to require tls in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0732050Z         âœ“ should be able to require trace_events in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0732586Z         âœ“ should be able to require tty in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0733110Z         âœ“ should be able to require url in runOnceForEachItem mode (9 ms)
2025-04-15T08:38:14.0733637Z         âœ“ should be able to require util in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0734186Z         âœ“ should be able to require util/types in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0734706Z         âœ“ should be able to require v8 in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0735199Z         âœ“ should be able to require vm in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0735714Z         âœ“ should be able to require wasi in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0736648Z         âœ“ should be able to require worker_threads in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0737220Z         âœ“ should be able to require zlib in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0737633Z       all external modules allowed with *
2025-04-15T08:38:14.0738183Z         âœ“ should be able to require @n8n/config in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0738714Z         âœ“ should be able to require @n8n/di in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0739266Z         âœ“ should be able to require @sentry/node in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0739791Z         âœ“ should be able to require acorn in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0740316Z         âœ“ should be able to require acorn-walk in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0740911Z         âœ“ should be able to require lodash in runOnceForAllItems mode (51 ms)
2025-04-15T08:38:14.0741425Z         âœ“ should be able to require luxon in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0742249Z         âœ“ should be able to require n8n-core in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0742775Z         âœ“ should be able to require n8n-workflow in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0743324Z         âœ“ should be able to require nanoid in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0743836Z         âœ“ should be able to require ws in runOnceForAllItems mode (2 ms)
2025-04-15T08:38:14.0744383Z         âœ“ should be able to require @n8n/config in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0744935Z         âœ“ should be able to require @n8n/di in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0745412Z         âœ“ should be able to require @sentry/node in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0745944Z         âœ“ should be able to require acorn in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0746435Z         âœ“ should be able to require acorn-walk in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0746980Z         âœ“ should be able to require lodash in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0747479Z         âœ“ should be able to require luxon in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0748070Z         âœ“ should be able to require n8n-core in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0748637Z         âœ“ should be able to require n8n-workflow in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0749153Z         âœ“ should be able to require nanoid in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0749660Z         âœ“ should be able to require ws in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0750018Z       specifically allowed built-in modules
2025-04-15T08:38:14.0750465Z         âœ“ should allow requiring crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0750973Z         âœ“ should allow requiring path in runOnceForAllItems mode (1 ms)
2025-04-15T08:38:14.0751498Z         âœ“ should allow requiring crypto in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0752060Z         âœ“ should allow requiring path in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0752628Z         âœ“ should throw when trying to require http in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0753193Z         âœ“ should throw when trying to require process in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0753783Z         âœ“ should throw when trying to require http in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0754336Z         âœ“ should throw when trying to require process in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0754754Z       specifically allowed external modules
2025-04-15T08:38:14.0755155Z         âœ“ should allow requiring nanoid in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0755642Z         âœ“ should allow requiring nanoid in runOnceForEachItem mode (2 ms)
2025-04-15T08:38:14.0756171Z         âœ“ should throw when trying to require n8n-core in runOnceForAllItems mode (3 ms)
2025-04-15T08:38:14.0756787Z         âœ“ should throw when trying to require n8n-core in runOnceForEachItem mode (3 ms)
2025-04-15T08:38:14.0757527Z     errors
2025-04-15T08:38:14.0758100Z       âœ“ should throw an ExecutionError if the code is invalid in runOnceForAllItems mode (4 ms)
2025-04-15T08:38:14.0758782Z       âœ“ should throw an ExecutionError if the code is invalid in runOnceForEachItem mode (1 ms)
2025-04-15T08:38:14.0759349Z       âœ“ sends serializes an error correctly (10 ms)
2025-04-15T08:38:14.0759632Z     idle timeout
2025-04-15T08:38:14.0759968Z       âœ“ should set idle timer when instantiated (3 ms)
2025-04-15T08:38:14.0760399Z       âœ“ should reset idle timer when accepting a task (1 ms)
2025-04-15T08:38:14.0760834Z       âœ“ should reset idle timer when finishing a task (2 ms)
2025-04-15T08:38:14.0761323Z       âœ“ should never reach idle timeout if idle timeout is set to 0 (2 ms)
2025-04-15T08:38:14.0761831Z       âœ“ should not reach idle timeout if there are running tasks (1 ms)
2025-04-15T08:38:14.0762184Z     prototype pollution prevention
2025-04-15T08:38:14.0762537Z       âœ“ Object.setPrototypeOf should no-op for local object (1 ms)
2025-04-15T08:38:14.0763176Z       âœ“ Reflect.setPrototypeOf should no-op for local object (2 ms)
2025-04-15T08:38:14.0763610Z       âœ“ Object.setPrototypeOf should no-op for incoming object (1 ms)
2025-04-15T08:38:14.0764134Z       âœ“ Reflect.setPrototypeOf should no-op for incoming object (2 ms)
2025-04-15T08:38:14.0764563Z       âœ“ should freeze luxon prototypes (1 ms)
2025-04-15T08:38:14.0765088Z       âœ“ should allow prototype mutation when `allowPrototypeMutation` is true (2 ms)
2025-04-15T08:38:14.0765440Z     stack trace
2025-04-15T08:38:14.0765883Z       âœ“ should extract correct line number from user-defined function stack trace (5 ms)
2025-04-15T08:38:14.0766463Z 
2025-04-15T08:38:14.0766656Z Test Suites: 10 passed, 10 total
2025-04-15T08:38:14.0766997Z Tests:       614 passed, 614 total
2025-04-15T08:38:14.0767270Z Snapshots:   0 total
2025-04-15T08:38:14.0767498Z Time:        5.745 s
2025-04-15T08:38:14.0767723Z Ran all test suites.
2025-04-15T08:38:14.0768507Z ##[endgroup]
2025-04-15T08:38:16.9949420Z ##[group]@n8n/config:test
2025-04-15T08:38:16.9949937Z cache bypass, force executing 0aaa0103505e73e8
2025-04-15T08:38:16.9950140Z 
2025-04-15T08:38:16.9950409Z > @n8n/config@1.36.0 test /home/runner/_work/n8n/n8n/packages/@n8n/config
2025-04-15T08:38:16.9950749Z > jest
2025-04-15T08:38:16.9950851Z 
2025-04-15T08:38:16.9951008Z PASS test/custom-types.test.ts
2025-04-15T08:38:16.9951262Z   CommaSeparatedStringArray
2025-04-15T08:38:16.9952004Z     âœ“ should parse comma-separated string into array (5 ms)
2025-04-15T08:38:16.9952385Z     âœ“ should handle empty strings
2025-04-15T08:38:16.9952647Z   ColonSeparatedStringArray
2025-04-15T08:38:16.9953010Z     âœ“ should parse colon-separated string into array (1 ms)
2025-04-15T08:38:16.9953377Z     âœ“ should handle empty strings
2025-04-15T08:38:16.9953536Z 
2025-04-15T08:38:16.9953654Z PASS test/decorators.test.ts
2025-04-15T08:38:16.9953891Z   decorators
2025-04-15T08:38:16.9954204Z     âœ“ should throw when explicit typing is missing (11 ms)
2025-04-15T08:38:16.9954493Z 
2025-04-15T08:38:16.9954598Z PASS test/config.test.ts
2025-04-15T08:38:16.9954815Z   GlobalConfig
2025-04-15T08:38:16.9955173Z     âœ“ should use all default values when no env variables are defined (6 ms)
2025-04-15T08:38:16.9955629Z     âœ“ should use values from env variables when defined (2 ms)
2025-04-15T08:38:16.9956100Z     âœ“ should read values from files using _FILE env variables (2 ms)
2025-04-15T08:38:16.9956500Z     âœ“ should handle invalid numbers (1 ms)
2025-04-15T08:38:16.9956759Z     string unions
2025-04-15T08:38:16.9957143Z       âœ“ on invalid value, should warn and fall back to default value (1 ms)
2025-04-15T08:38:16.9957408Z 
2025-04-15T08:38:16.9957539Z Test Suites: 3 passed, 3 total
2025-04-15T08:38:16.9957823Z Tests:       10 passed, 10 total
2025-04-15T08:38:16.9958075Z Snapshots:   0 total
2025-04-15T08:38:16.9958295Z Time:        1.877 s
2025-04-15T08:38:16.9958509Z Ran all test suites.
2025-04-15T08:38:16.9958972Z ##[endgroup]
2025-04-15T08:41:07.8219664Z ##[group]n8n:test
2025-04-15T08:41:07.8220543Z cache bypass, force executing c6ef9bbea06db687
2025-04-15T08:41:07.8220831Z 
2025-04-15T08:41:07.8221041Z > n8n@1.89.0 test /home/runner/_work/n8n/n8n/packages/cli
2025-04-15T08:41:07.8221430Z > pnpm test:sqlite
2025-04-15T08:41:07.8221600Z 
2025-04-15T08:41:07.8221605Z 
2025-04-15T08:41:07.8221781Z > n8n@1.89.0 test:sqlite /home/runner/_work/n8n/n8n/packages/cli
2025-04-15T08:41:07.8222113Z > N8N_LOG_LEVEL=silent DB_TYPE=sqlite jest
2025-04-15T08:41:07.8222343Z 
2025-04-15T08:41:07.8222615Z PASS src/modules/insights/__tests__/insights.service.test.ts (9.569 s)
2025-04-15T08:41:07.8223103Z   workflowExecuteAfterHandler
2025-04-15T08:41:07.8225109Z     âœ“ stores events for executions with the status `success` (66 ms)
2025-04-15T08:41:07.8225706Z     âœ“ stores events for executions with the status `error` (23 ms)
2025-04-15T08:41:07.8226147Z     âœ“ stores events for executions with the status `crashed` (33 ms)
2025-04-15T08:41:07.8227548Z     âœ“ does not store events for executions with the status `waiting` (22 ms)
2025-04-15T08:41:07.8228163Z     âœ“ does not store events for executions with the status `canceled` (47 ms)
2025-04-15T08:41:07.8228777Z     âœ“ does not store events for executions with the status `unknown` (26 ms)
2025-04-15T08:41:07.8229363Z     âœ“ does not store events for executions with the status `new` (28 ms)
2025-04-15T08:41:07.8229945Z     âœ“ does not store events for executions with the status `running` (26 ms)
2025-04-15T08:41:07.8230539Z     âœ“ does not store events for executions with the mode `internal` (14 ms)
2025-04-15T08:41:07.8231123Z     âœ“ does not store events for executions with the mode `manual` (24 ms)
2025-04-15T08:41:07.8231727Z     âœ“ does not store events for executions with the mode `integrated` (13 ms)
2025-04-15T08:41:07.8232329Z     âœ“ stores events for executions with the mode `evaluation` (17 ms)
2025-04-15T08:41:07.8232883Z     âœ“ stores events for executions with the mode `error` (30 ms)
2025-04-15T08:41:07.8233468Z     âœ“ stores events for executions with the mode `cli` (14 ms)
2025-04-15T08:41:07.8234051Z     âœ“ stores events for executions with the mode `retry` (38 ms)
2025-04-15T08:41:07.8234718Z     âœ“ stores events for executions with the mode `trigger` (35 ms)
2025-04-15T08:41:07.8257395Z     âœ“ stores events for executions with the mode `webhook` (38 ms)
2025-04-15T08:41:07.8257800Z   workflowExecuteAfterHandler - cacheMetadata
2025-04-15T08:41:07.8258289Z     âœ“ reuses cached metadata for subsequent executions of the same workflow (26 ms)
2025-04-15T08:41:07.8258799Z     âœ“ updates cached metadata if workflow details change (28 ms)
2025-04-15T08:41:07.8259055Z   workflowExecuteAfterHandler - flushEvents
2025-04-15T08:41:07.8259322Z     âœ“ flushes events to the database once buffer is full (94 ms)
2025-04-15T08:41:07.8259603Z     âœ“ flushes events to the database after a timeout (44 ms)
2025-04-15T08:41:07.8259860Z     âœ“ reschedule flush on flushing end (35 ms)
2025-04-15T08:41:07.8260102Z     âœ“ flushes events to the database on shutdown (31 ms)
2025-04-15T08:41:07.8260400Z     âœ“ flushes events synchronously while shutting down (19 ms)
2025-04-15T08:41:07.8260665Z     âœ“ restore buffer events on flushing error (28 ms)
2025-04-15T08:41:07.8260908Z     âœ“ waits for ongoing flush during shutdown (44 ms)
2025-04-15T08:41:07.8261087Z   compaction
2025-04-15T08:41:07.8261219Z     compactRawToHour
2025-04-15T08:41:07.8261402Z       âœ“ compact into 2 rows (82 ms)
2025-04-15T08:41:07.8261598Z       âœ“ compact into 3 rows (25 ms)
2025-04-15T08:41:07.8261868Z       âœ“ batch compaction split events in hourly insight periods (424 ms)
2025-04-15T08:41:07.8262287Z       âœ“ batch compaction split events in hourly insight periods by type and workflow (287 ms)
2025-04-15T08:41:07.8262699Z       âœ“ should return the number of compacted events (357 ms)
2025-04-15T08:41:07.8263049Z       âœ“ works with data in the compacted table (114 ms)
2025-04-15T08:41:07.8263406Z       âœ“ works with data bigger than the batch size (211 ms)
2025-04-15T08:41:07.8264268Z     compactionSchedule
2025-04-15T08:41:07.8264574Z       âœ“ compaction is running on schedule (7 ms)
2025-04-15T08:41:07.8264848Z     compactHourToDay
2025-04-15T08:41:07.8265129Z       âœ“ compact into 2 rows (23 ms)
2025-04-15T08:41:07.8265423Z       âœ“ compact into 3 rows (43 ms)
2025-04-15T08:41:07.8265760Z       âœ“ recent insight periods should not be compacted (24 ms)
2025-04-15T08:41:07.8266054Z     compactDayToWeek
2025-04-15T08:41:07.8266319Z       âœ“ compact into 2 rows (29 ms)
2025-04-15T08:41:07.8266610Z       âœ“ compact into 3 rows (70 ms)
2025-04-15T08:41:07.8266950Z       âœ“ recent insight periods should not be compacted (20 ms)
2025-04-15T08:41:07.8267259Z     compaction threshold configuration
2025-04-15T08:41:07.8267682Z       âœ“ insights by period older than the hourly to daily threshold are not compacted (35 ms)
2025-04-15T08:41:07.8268182Z       âœ“ insights by period older than the daily to weekly threshold are not compacted (50 ms)
2025-04-15T08:41:07.8268646Z   getInsightsSummary
2025-04-15T08:41:07.8269393Z     âœ“ compacted data are summarized correctly (45 ms)
2025-04-15T08:41:07.8269949Z     âœ“ no data for previous period should return null deviation (28 ms)
2025-04-15T08:41:07.8270515Z     âœ“ mixed period data are summarized correctly (27 ms)
2025-04-15T08:41:07.8270937Z   getInsightsByWorkflow
2025-04-15T08:41:07.8271447Z     âœ“ compacted data are are grouped by workflow correctly (95 ms)
2025-04-15T08:41:07.8272086Z     âœ“ compacted data are grouped by workflow correctly with sorting (49 ms)
2025-04-15T08:41:07.8272786Z     âœ“ compacted data are grouped by workflow correctly with pagination (44 ms)
2025-04-15T08:41:07.8273442Z     âœ“ compacted data are grouped by workflow correctly even with 0 data (check division by 0) (21 ms)
2025-04-15T08:41:07.8273864Z   getInsightsByTime
2025-04-15T08:41:07.8274181Z     âœ“ returns empty array when no insights exist (20 ms)
2025-04-15T08:41:07.8274582Z     âœ“ returns empty array when no insights in the time range exists (23 ms)
2025-04-15T08:41:07.8275011Z     âœ“ compacted data are are grouped by time correctly (64 ms)
2025-04-15T08:41:07.8275223Z 
2025-04-15T08:41:07.8275466Z PASS test/integration/public-api/workflows.test.ts (12.343 s)
2025-04-15T08:41:07.8275781Z   GET /workflows
2025-04-15T08:41:07.8276072Z     âœ“ should fail due to missing API Key (20 ms)
2025-04-15T08:41:07.8276403Z     âœ“ should fail due to invalid API Key (7 ms)
2025-04-15T08:41:07.8276726Z     âœ“ should return all owned workflows (1240 ms)
2025-04-15T08:41:07.8277092Z     âœ“ should return all owned workflows with pagination (49 ms)
2025-04-15T08:41:07.8277468Z     âœ“ should return all owned workflows filtered by tag (28 ms)
2025-04-15T08:41:07.8277843Z     âœ“ should return all owned workflows filtered by tags (56 ms)
2025-04-15T08:41:07.8278248Z     âœ“ for owner, should return all workflows filtered by `projectId` (65 ms)
2025-04-15T08:41:07.8278712Z     âœ“ for member, should return all member-accessible workflows filtered by `projectId` (38 ms)
2025-04-15T08:41:07.8279157Z     âœ“ should return all owned workflows filtered by name (28 ms)
2025-04-15T08:41:07.8279517Z     âœ“ should return all workflows for owner (37 ms)
2025-04-15T08:41:07.8279888Z     âœ“ should return all owned workflows without pinned data (45 ms)
2025-04-15T08:41:07.8280190Z   GET /workflows/:id
2025-04-15T08:41:07.8280475Z     âœ“ should fail due to missing API Key (9 ms)
2025-04-15T08:41:07.8280889Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:41:07.8281228Z     âœ“ should fail due to non-existing workflow (21 ms)
2025-04-15T08:41:07.8281556Z     âœ“ should retrieve workflow (21 ms)
2025-04-15T08:41:07.8281888Z     âœ“ should retrieve non-owned workflow for owner (24 ms)
2025-04-15T08:41:07.8282241Z     âœ“ should retrieve workflow without pinned data (19 ms)
2025-04-15T08:41:07.8282523Z   DELETE /workflows/:id
2025-04-15T08:41:07.8282807Z     âœ“ should fail due to missing API Key (10 ms)
2025-04-15T08:41:07.8283127Z     âœ“ should fail due to invalid API Key (6 ms)
2025-04-15T08:41:07.8283470Z     âœ“ should fail due to non-existing workflow (15 ms)
2025-04-15T08:41:07.8284058Z     âœ“ should delete the workflow (33 ms)
2025-04-15T08:41:07.8284387Z     âœ“ should delete non-owned workflow when owner (24 ms)
2025-04-15T08:41:07.8284689Z   POST /workflows/:id/activate
2025-04-15T08:41:07.8284991Z     âœ“ should fail due to missing API Key (14 ms)
2025-04-15T08:41:07.8285309Z     âœ“ should fail due to invalid API Key (11 ms)
2025-04-15T08:41:07.8285635Z     âœ“ should fail due to non-existing workflow (20 ms)
2025-04-15T08:41:07.8286255Z     âœ“ should fail due to trying to activate a workflow without any nodes (26 ms)
2025-04-15T08:41:07.8286893Z     âœ“ should fail due to trying to activate a workflow without a trigger (44 ms)
2025-04-15T08:41:07.8287413Z     âœ“ should set workflow as active (71 ms)
2025-04-15T08:41:07.8287906Z     âœ“ should set non-owned workflow as active when owner (72 ms)
2025-04-15T08:41:07.8288358Z   POST /workflows/:id/deactivate
2025-04-15T08:41:07.8288725Z     âœ“ should fail due to missing API Key (8 ms)
2025-04-15T08:41:07.8289198Z     âœ“ should fail due to invalid API Key (6 ms)
2025-04-15T08:41:07.8289440Z     âœ“ should fail due to non-existing workflow (16 ms)
2025-04-15T08:41:07.8289780Z     âœ“ should deactivate workflow (30 ms)
2025-04-15T08:41:07.8290183Z     âœ“ should deactivate non-owned workflow when owner (34 ms)
2025-04-15T08:41:07.8290489Z   POST /workflows
2025-04-15T08:41:07.8290778Z     âœ“ should fail due to missing API Key (10 ms)
2025-04-15T08:41:07.8291124Z     âœ“ should fail due to invalid API Key (18 ms)
2025-04-15T08:41:07.8291471Z     âœ“ should fail due to invalid body (30 ms)
2025-04-15T08:41:07.8291790Z     âœ“ should create workflow (16 ms)
2025-04-15T08:41:07.8292183Z     âœ“ should create workflow history version when licensed (19 ms)
2025-04-15T08:41:07.8292644Z     âœ“ should not create workflow history version when not licensed (31 ms)
2025-04-15T08:41:07.8293158Z     âœ“ should not add a starting node if the payload has no starting nodes (13 ms)
2025-04-15T08:41:07.8293394Z   PUT /workflows/:id
2025-04-15T08:41:07.8293742Z     âœ“ should fail due to missing API Key (18 ms)
2025-04-15T08:41:07.8294080Z     âœ“ should fail due to invalid API Key (9 ms)
2025-04-15T08:41:07.8294404Z     âœ“ should fail due to non-existing workflow (25 ms)
2025-04-15T08:41:07.8294704Z     âœ“ should fail due to invalid body (16 ms)
2025-04-15T08:41:07.8295015Z     âœ“ should update workflow (30 ms)
2025-04-15T08:41:07.8295357Z     âœ“ should create workflow history version when licensed (31 ms)
2025-04-15T08:41:07.8295742Z     âœ“ should not create workflow history when not licensed (17 ms)
2025-04-15T08:41:07.8296098Z     âœ“ should update non-owned workflow if owner (37 ms)
2025-04-15T08:41:07.8296379Z   GET /workflows/:id/tags
2025-04-15T08:41:07.8296577Z     âœ“ should fail due to missing API Key (7 ms)
2025-04-15T08:41:07.8296908Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:41:07.8297177Z     âœ“ should fail if N8N_WORKFLOW_TAGS_DISABLED (10 ms)
2025-04-15T08:41:07.8297538Z     âœ“ should fail due to non-existing workflow (6 ms)
2025-04-15T08:41:07.8297897Z     âœ“ should return all tags of owned workflow (20 ms)
2025-04-15T08:41:07.8298217Z     âœ“ should return empty array if workflow does not have tags (21 ms)
2025-04-15T08:41:07.8298450Z   PUT /workflows/:id/tags
2025-04-15T08:41:07.8298686Z     âœ“ should fail due to missing API Key (15 ms)
2025-04-15T08:41:07.8298936Z     âœ“ should fail due to invalid API Key (18 ms)
2025-04-15T08:41:07.8299194Z     âœ“ should fail if N8N_WORKFLOW_TAGS_DISABLED (18 ms)
2025-04-15T08:41:07.8299457Z     âœ“ should fail due to non-existing workflow (9 ms)
2025-04-15T08:41:07.8299744Z     âœ“ should add the tags, workflow have not got tags previously (27 ms)
2025-04-15T08:41:07.8300051Z     âœ“ should add the tags, workflow have some tags previously (57 ms)
2025-04-15T08:41:07.8300425Z     âœ“ should fail to add the tags as one does not exist, workflow should maintain previous tags (69 ms)
2025-04-15T08:41:07.8300690Z   PUT /workflows/:id/transfer
2025-04-15T08:41:07.8300896Z     âœ“ should transfer workflow to project (78 ms)
2025-04-15T08:41:07.8301441Z     âœ“ if no destination project, should reject (19 ms)
2025-04-15T08:41:07.8301602Z 
2025-04-15T08:41:07.8301846Z PASS test/integration/credentials/credentials.api.test.ts (12.487 s)
2025-04-15T08:41:07.8302203Z   GET /credentials
2025-04-15T08:41:07.8302455Z     âœ“ should return all creds for owner (90 ms)
2025-04-15T08:41:07.8302759Z     âœ“ should return only own creds for member (83 ms)
2025-04-15T08:41:07.8303072Z     âœ“ should return scopes when ?includeScopes=true (142 ms)
2025-04-15T08:41:07.8303333Z     âœ“ should return data when ?includeData=true (82 ms)
2025-04-15T08:41:07.8303759Z     âœ“ should return data when ?includeData=true for owners (58 ms)
2025-04-15T08:41:07.8304003Z     should return
2025-04-15T08:41:07.8304229Z       âœ“ all credentials for owner (71 ms)
2025-04-15T08:41:07.8304488Z       âœ“ only own credentials for member (80 ms)
2025-04-15T08:41:07.8304719Z     filter
2025-04-15T08:41:07.8304980Z       âœ“ should filter credentials by field: name - full match (66 ms)
2025-04-15T08:41:07.8305504Z       âœ“ should filter credentials by field: name - partial match (75 ms)
2025-04-15T08:41:07.8305915Z       âœ“ should filter credentials by field: type - full match (54 ms)
2025-04-15T08:41:07.8306291Z       âœ“ should filter credentials by field: type - partial match (39 ms)
2025-04-15T08:41:07.8306568Z       âœ“ should filter credentials by projectId (67 ms)
2025-04-15T08:41:07.8306937Z       âœ“ should return homeProject when filtering credentials by projectId (63 ms)
2025-04-15T08:41:07.8308666Z       âœ“ should return all credentials in a team project that member is part of (75 ms)
2025-04-15T08:41:07.8309041Z       âœ“ should return no credentials in a team project that member not is part of (68 ms)
2025-04-15T08:41:07.8309489Z       âœ“ should return only owned and explicitly shared credentials when filtering by any personal project id (76 ms)
2025-04-15T08:41:07.8310042Z       âœ“ should not ignore the project filter when the request is done by an owner and also includes the scopes (60 ms)
2025-04-15T08:41:07.8310332Z     select
2025-04-15T08:41:07.8310572Z       âœ“ should select credential field: id (59 ms)
2025-04-15T08:41:07.8310827Z       âœ“ should select credential field: name (61 ms)
2025-04-15T08:41:07.8311163Z       âœ“ should select credential field: type (79 ms)
2025-04-15T08:41:07.8311409Z     take
2025-04-15T08:41:07.8311615Z       âœ“ should return n credentials or less, without skip (45 ms)
2025-04-15T08:41:07.8311951Z       âœ“ should return n credentials or less, with skip (62 ms)
2025-04-15T08:41:07.8312144Z   POST /credentials
2025-04-15T08:41:07.8312348Z     âœ“ should create cred (75 ms)
2025-04-15T08:41:07.8312598Z     âœ“ should fail with invalid inputs (79 ms)
2025-04-15T08:41:07.8312814Z     âœ“ should ignore ID in payload (67 ms)
2025-04-15T08:41:07.8313166Z     âœ“ creates credential in personal project by default (43 ms)
2025-04-15T08:41:07.8313544Z     âœ“ creates credential in a specific project if the projectId is passed (42 ms)
2025-04-15T08:41:07.8313991Z     âœ“ does not create the credential in a specific project if the user is not part of the project (88 ms)
2025-04-15T08:41:07.8314274Z   DELETE /credentials/:id
2025-04-15T08:41:07.8314472Z     âœ“ should delete owned cred for owner (68 ms)
2025-04-15T08:41:07.8314704Z     âœ“ should delete non-owned cred for owner (52 ms)
2025-04-15T08:41:07.8314942Z     âœ“ should delete owned cred for member (57 ms)
2025-04-15T08:41:07.8315189Z     âœ“ should not delete non-owned cred for member (43 ms)
2025-04-15T08:41:07.8315471Z     âœ“ should not delete non-owned but shared cred for member (42 ms)
2025-04-15T08:41:07.8315715Z     âœ“ should fail if cred not found (25 ms)
2025-04-15T08:41:07.8315955Z   PATCH /credentials/:id
2025-04-15T08:41:07.8316255Z     âœ“ should update owned cred for owner (48 ms)
2025-04-15T08:41:07.8316586Z     âœ“ should update non-owned cred for owner (69 ms)
2025-04-15T08:41:07.8316920Z     âœ“ should update owned cred for member (73 ms)
2025-04-15T08:41:07.8317255Z     âœ“ should not update non-owned cred for member (65 ms)
2025-04-15T08:41:07.8317743Z     âœ“ should not update non-owned but shared cred for member (42 ms)
2025-04-15T08:41:07.8318045Z     âœ“ should update non-owned but shared cred for instance owner (46 ms)
2025-04-15T08:41:07.8318380Z     âœ“ should not allow to overwrite oauthTokenData (56 ms)
2025-04-15T08:41:07.8318615Z     âœ“ should fail with invalid inputs (83 ms)
2025-04-15T08:41:07.8318996Z     âœ“ should fail with a 404 if the credential does not exist and the actor has the global credential:update scope (49 ms)
2025-04-15T08:41:07.8319510Z     âœ“ should fail with a 403 if the credential does not exist and the actor does not have the global credential:update scope (34 ms)
2025-04-15T08:41:07.8319883Z     âœ“ should fail with a 400 is credential is managed (37 ms)
2025-04-15T08:41:07.8320073Z   GET /credentials/new
2025-04-15T08:41:07.8320347Z     âœ“ should return default name for new credential or its increment (70 ms)
2025-04-15T08:41:07.8320780Z     âœ“ should return name from query for new credential or its increment (94 ms)
2025-04-15T08:41:07.8321212Z   GET /credentials/:id
2025-04-15T08:41:07.8321504Z     âœ“ should retrieve owned cred for owner (59 ms)
2025-04-15T08:41:07.8321873Z     âœ“ should redact the data when `includeData:true` is passed (64 ms)
2025-04-15T08:41:07.8322272Z     âœ“ should omit oauth data when `includeData:true` is passed (52 ms)
2025-04-15T08:41:07.8322589Z     âœ“ should retrieve owned cred for member (71 ms)
2025-04-15T08:41:07.8322835Z     âœ“ should retrieve non-owned cred for owner (49 ms)
2025-04-15T08:41:07.8323089Z     âœ“ should not retrieve non-owned cred for member (59 ms)
2025-04-15T08:41:07.8323432Z     âœ“ should return 404 if cred not found (39 ms)
2025-04-15T08:41:07.8323743Z   POST /credentials/test
2025-04-15T08:41:07.8324068Z     âœ“ should test a credential with unredacted data (45 ms)
2025-04-15T08:41:07.8324424Z     âœ“ should test a credential with redacted data (39 ms)
2025-04-15T08:41:07.8324585Z 
2025-04-15T08:41:07.8324919Z PASS test/integration/workflows/workflows.controller.ee.test.ts (12.913 s)
2025-04-15T08:41:07.8325409Z   router should switch based on flag
2025-04-15T08:41:07.8325827Z     âœ“ when sharing is disabled (61 ms)
2025-04-15T08:41:07.8326452Z     âœ“ when sharing is enabled (26 ms)
2025-04-15T08:41:07.8326726Z   PUT /workflows/:workflowId/share
2025-04-15T08:41:07.8327037Z     âœ“ should save sharing with new users (27 ms)
2025-04-15T08:41:07.8327403Z     âœ“ should succeed when sharing with invalid user-id (18 ms)
2025-04-15T08:41:07.8327805Z     âœ“ should allow sharing with pending users (56 ms)
2025-04-15T08:41:07.8328265Z     âœ“ should allow sharing with multiple users (34 ms)
2025-04-15T08:41:07.8328717Z     âœ“ should override sharing (44 ms)
2025-04-15T08:41:07.8329196Z     âœ“ should allow sharing by the owner of the workflow (28 ms)
2025-04-15T08:41:07.8329603Z     âœ“ should allow sharing by the instance owner (47 ms)
2025-04-15T08:41:07.8330013Z     âœ“ should not allow sharing by another shared member (44 ms)
2025-04-15T08:41:07.8330483Z     âœ“ should not allow sharing with self by another non-shared member (21 ms)
2025-04-15T08:41:07.8330992Z     âœ“ should not allow sharing by another non-shared member (36 ms)
2025-04-15T08:41:07.8331538Z     âœ“ should not call internal hooks listener for email sent if emailing is disabled (44 ms)
2025-04-15T08:41:07.8332023Z     âœ“ should ignore sharing with owner project (28 ms)
2025-04-15T08:41:07.8332476Z     âœ“ should ignore sharing with project that already has it shared (23 ms)
2025-04-15T08:41:07.8332802Z   GET /workflows/new
2025-04-15T08:41:07.8333209Z     âœ“ should return an auto-incremented name, even when sharing is enabled (32 ms)
2025-04-15T08:41:07.8333803Z     âœ“ should return an auto-incremented name, even when sharing is disabled (27 ms)
2025-04-15T08:41:07.8334165Z   GET /workflows/:workflowId
2025-04-15T08:41:07.8334504Z     âœ“ should fail with invalid id due to route rule (22 ms)
2025-04-15T08:41:07.8334898Z     âœ“ should return 404 for non existing workflow (17 ms)
2025-04-15T08:41:07.8335263Z     âœ“ project viewers can view workflows (33 ms)
2025-04-15T08:41:07.8335839Z     âœ“ should return a workflow with owner (27 ms)
2025-04-15T08:41:07.8336285Z     âœ“ should return tags (32 ms)
2025-04-15T08:41:07.8336750Z     âœ“ should return shared workflow with user data (37 ms)
2025-04-15T08:41:07.8337214Z     âœ“ should return all sharees (44 ms)
2025-04-15T08:41:07.8337723Z     âœ“ should return workflow with credentials owned by user (39 ms)
2025-04-15T08:41:07.8338437Z     âœ“ should return workflow with credentials saying owner does have access even when not shared (48 ms)
2025-04-15T08:41:07.8339276Z     âœ“ should return workflow with credentials saying admin does have access even when not shared (22 ms)
2025-04-15T08:41:07.8340018Z     âœ“ should return workflow with credentials for all users with or without access (61 ms)
2025-04-15T08:41:07.8340581Z     âœ“ should return workflow with credentials for all users with access (61 ms)
2025-04-15T08:41:07.8341131Z     âœ“ should return workflow credentials home project and shared with projects (64 ms)
2025-04-15T08:41:07.8341708Z   POST /workflows
2025-04-15T08:41:07.8342012Z     âœ“ project viewers cannot create workflows (29 ms)
2025-04-15T08:41:07.8342422Z     âœ“ Should create a workflow that uses no credential (20 ms)
2025-04-15T08:41:07.8342825Z     âœ“ Should save a new workflow with credentials (34 ms)
2025-04-15T08:41:07.8343323Z     âœ“ Should not allow saving a workflow using credential you have no access (25 ms)
2025-04-15T08:41:07.8343928Z     âœ“ Should allow owner to save a workflow using credential owned by others (32 ms)
2025-04-15T08:41:07.8344651Z     âœ“ Should allow saving a workflow using a credential owned by others and shared with you (36 ms)
2025-04-15T08:41:07.8345315Z     âœ“ Should create workflow history version when licensed (17 ms)
2025-04-15T08:41:07.8345930Z     âœ“ Should not create workflow history version when not licensed (30 ms)
2025-04-15T08:41:07.8346441Z   PATCH /workflows/:workflowId
2025-04-15T08:41:07.8346906Z     âœ“ project viewers cannot update workflows (19 ms)
2025-04-15T08:41:07.8347263Z     validate credential permissions to user
2025-04-15T08:41:07.8347661Z       âœ“ Should succeed when saving unchanged workflow nodes (47 ms)
2025-04-15T08:41:07.8348201Z       âœ“ Should allow owner to add node containing credential not shared with the owner (49 ms)
2025-04-15T08:41:07.8349182Z       âœ“ Tamper proofing kicks in if the workflow is owned by the owner and shared with the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (45 ms)
2025-04-15T08:41:07.8350338Z       âœ“ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by the member, and the member tries to use the credential in the workflow (33 ms)
2025-04-15T08:41:07.8351397Z       âœ“ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by team 2, and the member tries to use the credential in the workflow (29 ms)
2025-04-15T08:41:07.8352456Z       âœ“ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (40 ms)
2025-04-15T08:41:07.8353561Z       âœ“ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by team 2, and the member tries to use the credential in the workflow (30 ms)
2025-04-15T08:41:07.8354490Z       âœ“ Should succeed but prevent modifying node attributes other than position, name and disabled (69 ms)
2025-04-15T08:41:07.8354921Z     validate interim updates
2025-04-15T08:41:07.8355367Z       âœ“ should block owner updating workflow nodes on interim update by member (105 ms)
2025-04-15T08:41:07.8355958Z       âœ“ should block member updating workflow nodes on interim update by owner (108 ms)
2025-04-15T08:41:07.8356531Z       âœ“ should block owner activation on interim activation by member (104 ms)
2025-04-15T08:41:07.8357177Z       âœ“ should block member activation on interim activation by owner (109 ms)
2025-04-15T08:41:07.8357870Z       âœ“ should block member updating workflow settings on interim update by owner (79 ms)
2025-04-15T08:41:07.8358787Z       âœ“ should block member updating workflow name on interim update by owner (82 ms)
2025-04-15T08:41:07.8359284Z     workflow history
2025-04-15T08:41:07.8359763Z       âœ“ Should create workflow history version when licensed (26 ms)
2025-04-15T08:41:07.8360372Z       âœ“ Should not create workflow history version when not licensed (42 ms)
2025-04-15T08:41:07.8360865Z     activate workflow
2025-04-15T08:41:07.8361332Z       âœ“ should activate workflow without changing version ID (33 ms)
2025-04-15T08:41:07.8361946Z       âœ“ should deactivate workflow without changing version ID (32 ms)
2025-04-15T08:41:07.8362379Z   PUT /:workflowId/transfer
2025-04-15T08:41:07.8362809Z     âœ“ cannot transfer into the same project (29 ms)
2025-04-15T08:41:07.8363223Z     âœ“ cannot transfer somebody elses workflow (29 ms)
2025-04-15T08:41:07.8363716Z     âœ“ cannot transfer if you're not a member of the destination project (36 ms)
2025-04-15T08:41:07.8364392Z     âœ“ project:editors cannot transfer workflows (26 ms)
2025-04-15T08:41:07.8364800Z     âœ“ project:viewers cannot transfer workflows (28 ms)
2025-04-15T08:41:07.8365284Z     âœ“ global owners can transfer workflows from a team project to a team project (43 ms)
2025-04-15T08:41:07.8365899Z     âœ“ global owners can transfer workflows from a team project to a personal project (41 ms)
2025-04-15T08:41:07.8366743Z     âœ“ global owners can transfer workflows from a personal project to a team project (46 ms)
2025-04-15T08:41:07.8367364Z     âœ“ global admins can transfer workflows from a team project to a team project (38 ms)
2025-04-15T08:41:07.8367984Z     âœ“ global admins can transfer workflows from a team project to a personal project (33 ms)
2025-04-15T08:41:07.8368598Z     âœ“ global admins can transfer workflows from a personal project to a team project (34 ms)
2025-04-15T08:41:07.8369245Z     âœ“ removes and re-adds the workflow from the active workflow manager during the transfer (39 ms)
2025-04-15T08:41:07.8369850Z     âœ“ should detach workflow from parent folder in source project (46 ms)
2025-04-15T08:41:07.8370650Z     âœ“ deactivates the workflow if it cannot be added to the active workflow manager again and returns the WorkflowActivationError as data (49 ms)
2025-04-15T08:41:07.8371520Z     âœ“ owner transfers workflow from project they are not part of, e.g. test global cred sharing scope (62 ms)
2025-04-15T08:41:07.8372252Z     âœ“ admin transfers workflow from project they are not part of, e.g. test global cred sharing scope (63 ms)
2025-04-15T08:41:07.8373097Z     âœ“ member transfers workflow from personal project to team project and wf contains a credential that they can use but not share (49 ms)
2025-04-15T08:41:07.8374060Z     âœ“ member transfers workflow from their personal project to another team project in which they have editor role (63 ms)
2025-04-15T08:41:07.8374910Z     âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role (67 ms)
2025-04-15T08:41:07.8376095Z     âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share the credential that is only shared into the source project (45 ms)
2025-04-15T08:41:07.8377303Z     âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share all the credentials (97 ms)
2025-04-15T08:41:07.8378102Z     âœ“ returns a 500 if the workflow cannot be activated due to an unknown error (72 ms)
2025-04-15T08:41:07.8378484Z   POST /workflows/:workflowId/run
2025-04-15T08:41:07.8378820Z     âœ“ project viewers cannot run workflows (24 ms)
2025-04-15T08:41:07.8379006Z 
2025-04-15T08:41:07.8379308Z PASS test/integration/workflows/workflows.controller.test.ts (15.222 s)
2025-04-15T08:41:07.8379669Z   POST /workflows
2025-04-15T08:41:07.8379982Z     âœ“ should store pin data for node in workflow (88 ms)
2025-04-15T08:41:07.8380380Z     âœ“ should set pin data to null if no pin data (57 ms)
2025-04-15T08:41:07.8381122Z     âœ“ should return scopes on created workflow (46 ms)
2025-04-15T08:41:07.8381632Z     âœ“ should create workflow history version when licensed (67 ms)
2025-04-15T08:41:07.8382152Z     âœ“ should not create workflow history version when not licensed (73 ms)
2025-04-15T08:41:07.8382658Z     âœ“ create workflow in personal project by default (99 ms)
2025-04-15T08:41:07.8383217Z     âœ“ creates workflow in a specific project if the projectId is passed (77 ms)
2025-04-15T08:41:07.8383962Z     âœ“ does not create the workflow in a specific project if the user is not part of the project (91 ms)
2025-04-15T08:41:07.8384804Z     âœ“ does not create the workflow in a specific project if the user does not have the right role to do so (75 ms)
2025-04-15T08:41:07.8385499Z     âœ“ create link workflow with folder if one is provided (38 ms)
2025-04-15T08:41:07.8386117Z     âœ“ create workflow without parent folder if no folder is provided (52 ms)
2025-04-15T08:41:07.8386823Z     âœ“ create workflow without parent is provided folder does not exist in the project (49 ms)
2025-04-15T08:41:07.8387566Z   GET /workflows/:workflowId
2025-04-15T08:41:07.8387930Z     âœ“ should return pin data (86 ms)
2025-04-15T08:41:07.8388228Z     âœ“ should return tags (61 ms)
2025-04-15T08:41:07.8388450Z   GET /workflows
2025-04-15T08:41:07.8388748Z     âœ“ should return zero workflows if none exist (46 ms)
2025-04-15T08:41:07.8389102Z     âœ“ should return workflows (93 ms)
2025-04-15T08:41:07.8389531Z     âœ“ should return workflows with scopes when ?includeScopes=true (123 ms)
2025-04-15T08:41:07.8389863Z     filter
2025-04-15T08:41:07.8390140Z       âœ“ should filter workflows by field: name (61 ms)
2025-04-15T08:41:07.8390524Z       âœ“ should filter workflows by field: active (85 ms)
2025-04-15T08:41:07.8390959Z       âœ“ should filter workflows by field: tags (AND operator) (113 ms)
2025-04-15T08:41:07.8391369Z       âœ“ should filter workflows by projectId (67 ms)
2025-04-15T08:41:07.8391743Z       âœ“ should filter workflows by parentFolderId (86 ms)
2025-04-15T08:41:07.8392239Z       âœ“ should return homeProject when filtering workflows by projectId (49 ms)
2025-04-15T08:41:07.8392592Z     select
2025-04-15T08:41:07.8392883Z       âœ“ should select workflow field: name (74 ms)
2025-04-15T08:41:07.8393373Z       âœ“ should select workflow field: active (86 ms)
2025-04-15T08:41:07.8393895Z       âœ“ should select workflow field: tags (71 ms)
2025-04-15T08:41:07.8394431Z       âœ“ should select workflow fields: createdAt and updatedAt (72 ms)
2025-04-15T08:41:07.8394994Z       âœ“ should select workflow field: versionId (75 ms)
2025-04-15T08:41:07.8395498Z       âœ“ should select workflow field: ownedBy (65 ms)
2025-04-15T08:41:07.8395900Z       âœ“ should select workflow field: parentFolder (65 ms)
2025-04-15T08:41:07.8396205Z     sortBy
2025-04-15T08:41:07.8396589Z       âœ“ should fail when trying to sort by non sortable column (44 ms)
2025-04-15T08:41:07.8397091Z       âœ“ should sort by createdAt column (55 ms)
2025-04-15T08:41:07.8397525Z       âœ“ should sort by name column (75 ms)
2025-04-15T08:41:07.8398006Z       âœ“ should sort by updatedAt column (70 ms)
2025-04-15T08:41:07.8398395Z     pagination
2025-04-15T08:41:07.8398832Z       âœ“ should fail when skip is provided without take (106 ms)
2025-04-15T08:41:07.8399358Z       âœ“ should handle skip with take parameter (88 ms)
2025-04-15T08:41:07.8399867Z       âœ“ should handle pagination with sorting (86 ms)
2025-04-15T08:41:07.8400397Z       âœ“ should handle pagination with filtering (113 ms)
2025-04-15T08:41:07.8400998Z       âœ“ should return empty array when pagination exceeds total count (83 ms)
2025-04-15T08:41:07.8401700Z       âœ“ should return all results when no pagination parameters are provided (94 ms)
2025-04-15T08:41:07.8402229Z   GET /workflows?includeFolders=true
2025-04-15T08:41:07.8402795Z     âœ“ should return zero workflows and folders if none exist (43 ms)
2025-04-15T08:41:07.8403358Z     âœ“ should return workflows and folders (107 ms)
2025-04-15T08:41:07.8403932Z     âœ“ should return workflows with scopes and folders when ?includeScopes=true (149 ms)
2025-04-15T08:41:07.8404535Z     filter
2025-04-15T08:41:07.8404851Z       âœ“ should filter workflows and folders by field: name (51 ms)
2025-04-15T08:41:07.8405251Z       âœ“ should filter workflows and folders by field: active (64 ms)
2025-04-15T08:41:07.8405671Z       âœ“ should filter workflows and folders by field: tags (AND operator) (116 ms)
2025-04-15T08:41:07.8406618Z       âœ“ should filter workflows by projectId (93 ms)
2025-04-15T08:41:07.8407135Z       âœ“ should filter workflows by parentFolderId and its descendants when filtering by name (78 ms)
2025-04-15T08:41:07.8407680Z       âœ“ should return homeProject when filtering workflows and folders by projectId (68 ms)
2025-04-15T08:41:07.8408021Z     sortBy
2025-04-15T08:41:07.8408333Z       âœ“ should fail when trying to sort by non sortable column (52 ms)
2025-04-15T08:41:07.8408685Z       âœ“ should sort by createdAt column (117 ms)
2025-04-15T08:41:07.8408997Z       âœ“ should sort by name column (71 ms)
2025-04-15T08:41:07.8409321Z       âœ“ should sort by updatedAt column (81 ms)
2025-04-15T08:41:07.8409583Z     pagination
2025-04-15T08:41:07.8409885Z       âœ“ should fail when skip is provided without take (77 ms)
2025-04-15T08:41:07.8410238Z       âœ“ should handle skip with take parameter (119 ms)
2025-04-15T08:41:07.8410581Z       âœ“ should handle pagination with sorting (62 ms)
2025-04-15T08:41:07.8410922Z       âœ“ should handle pagination with filtering (136 ms)
2025-04-15T08:41:07.8411312Z       âœ“ should return empty array when pagination exceeds total count (77 ms)
2025-04-15T08:41:07.8411753Z       âœ“ should return all results when no pagination parameters are provided (124 ms)
2025-04-15T08:41:07.8412108Z   PATCH /workflows/:workflowId
2025-04-15T08:41:07.8412463Z     âœ“ should create workflow history version when licensed (73 ms)
2025-04-15T08:41:07.8412870Z     âœ“ should not create workflow history version when not licensed (61 ms)
2025-04-15T08:41:07.8413278Z     âœ“ should activate workflow without changing version ID (116 ms)
2025-04-15T08:41:07.8413718Z     âœ“ should deactivate workflow without changing version ID (75 ms)
2025-04-15T08:41:07.8414064Z     âœ“ should update workflow meta (78 ms)
2025-04-15T08:41:07.8414379Z     âœ“ should move workflow to folder (88 ms)
2025-04-15T08:41:07.8414706Z     âœ“ should move workflow to project root (118 ms)
2025-04-15T08:41:07.8415174Z     âœ“ should fail if trying update workflow parent folder with a folder that does not belong to project (112 ms)
2025-04-15T08:41:07.8415571Z   POST /workflows/:workflowId/run
2025-04-15T08:41:07.8415891Z     âœ“ should prevent tampering if sharing is enabled (60 ms)
2025-04-15T08:41:07.8416281Z     âœ“ should skip tampering prevention if sharing is disabled (69 ms)
2025-04-15T08:41:07.8416651Z   DELETE /workflows/:workflowId
2025-04-15T08:41:07.8416963Z     âœ“ deletes a workflow owned by the user (95 ms)
2025-04-15T08:41:07.8417374Z     âœ“ deletes a workflow owned by the user, even if the user is just a member (109 ms)
2025-04-15T08:41:07.8417785Z     âœ“ does not delete a workflow that is not owned by the user (47 ms)
2025-04-15T08:41:07.8418334Z     âœ“ allows the owner to delete workflows they don't own (52 ms)
2025-04-15T08:41:07.8418510Z 
2025-04-15T08:41:07.8418713Z PASS src/events/__tests__/telemetry-event-relay.test.ts
2025-04-15T08:41:07.8419013Z   TelemetryEventRelay
2025-04-15T08:41:07.8419247Z     init
2025-04-15T08:41:07.8419602Z       âœ“ with diagnostics enabled, should init telemetry and register listeners (4 ms)
2025-04-15T08:41:07.8420088Z       âœ“ with diagnostics disabled, should neither init telemetry nor register listeners (1 ms)
2025-04-15T08:41:07.8420439Z     project events
2025-04-15T08:41:07.8420743Z       âœ“ should track on `team-project-updated` event (1 ms)
2025-04-15T08:41:07.8421099Z       âœ“ should track on `team-project-deleted` event (1 ms)
2025-04-15T08:41:07.8421455Z       âœ“ should track on `team-project-created` event
2025-04-15T08:41:07.8421737Z     source control events
2025-04-15T08:41:07.8421999Z       âœ“ should track on `source-control-settings-updated` event (1 ms)
2025-04-15T08:41:07.8422500Z       âœ“ should track on `source-control-user-started-pull-ui` event (1 ms)
2025-04-15T08:41:07.8422907Z       âœ“ should track on `source-control-user-finished-pull-ui` event
2025-04-15T08:41:07.8423297Z       âœ“ should track on `source-control-user-pulled-api` event
2025-04-15T08:41:07.8423682Z       âœ“ should track on `source-control-user-started-push-ui` event
2025-04-15T08:41:07.8424122Z       âœ“ should track on `source-control-user-finished-push-ui` event (1 ms)
2025-04-15T08:41:07.8424430Z     license events
2025-04-15T08:41:07.8424740Z       âœ“ should track on `license-renewal-attempted` event
2025-04-15T08:41:07.8425019Z     variable events
2025-04-15T08:41:07.8425306Z       âœ“ should track on `variable-created` event
2025-04-15T08:41:07.8425581Z     external secrets events
2025-04-15T08:41:07.8425930Z       âœ“ should track on `external-secrets-provider-settings-saved` event
2025-04-15T08:41:07.8426241Z     public API events
2025-04-15T08:41:07.8426539Z       âœ“ should track on `public-api-invoked` event
2025-04-15T08:41:07.8426892Z       âœ“ should track on `public-api-key-created` event (1 ms)
2025-04-15T08:41:07.8427205Z       âœ“ should track on `public-api-key-deleted` event
2025-04-15T08:41:07.8427496Z     community package events
2025-04-15T08:41:07.8427837Z       âœ“ should track on `community-package-installed` event (1 ms)
2025-04-15T08:41:07.8428204Z       âœ“ should track on `community-package-updated` event
2025-04-15T08:41:07.8428558Z       âœ“ should track on `community-package-deleted` event
2025-04-15T08:41:07.8428840Z     credentials events
2025-04-15T08:41:07.8429145Z       âœ“ should track on `credentials-created` event (2 ms)
2025-04-15T08:41:07.8429494Z       âœ“ should track on `credentials-shared` event (1 ms)
2025-04-15T08:41:07.8429842Z       âœ“ should track on `credentials-updated` event (1 ms)
2025-04-15T08:41:07.8430184Z       âœ“ should track on `credentials-deleted` event
2025-04-15T08:41:07.8430463Z     LDAP events
2025-04-15T08:41:07.8430783Z       âœ“ should track on `ldap-general-sync-finished` event
2025-04-15T08:41:07.8431165Z       âœ“ should track on `ldap-settings-updated` event (2 ms)
2025-04-15T08:41:07.8431498Z       âœ“ should track on `ldap-login-sync-failed` event
2025-04-15T08:41:07.8431872Z       âœ“ should track on `login-failed-due-to-ldap-disabled` event
2025-04-15T08:41:07.8432182Z     workflow events
2025-04-15T08:41:07.8432491Z       âœ“ should track on `workflow-created` event (4 ms)
2025-04-15T08:41:07.8432844Z       âœ“ should track on `workflow-deleted` event (1 ms)
2025-04-15T08:41:07.8433214Z       âœ“ should track on `workflow-post-execute` event (1 ms)
2025-04-15T08:41:07.8433577Z       âœ“ should track on `workflow-saved` event (10 ms)
2025-04-15T08:41:07.8433923Z       âœ“ should track on `workflow-sharing-updated` event
2025-04-15T08:41:07.8434215Z     user events
2025-04-15T08:41:07.8434509Z       âœ“ should track on `user-updated` event (1 ms)
2025-04-15T08:41:07.8434792Z       âœ“ should track on `user-deleted` event
2025-04-15T08:41:07.8435229Z       âœ“ should track on `user-invited` event
2025-04-15T08:41:07.8435526Z       âœ“ should track on `user-signed-up` event (1 ms)
2025-04-15T08:41:07.8435926Z       âœ“ should track on `user-submitted-personalization-survey` event (1 ms)
2025-04-15T08:41:07.8436301Z       âœ“ should track on `user-changed-role` event
2025-04-15T08:41:07.8436600Z       âœ“ should track on `user-retrieved-user` event
2025-04-15T08:41:07.8437002Z       âœ“ should track on `user-retrieved-all-users` event
2025-04-15T08:41:07.8437294Z     lifecycle events
2025-04-15T08:41:07.8437570Z       âœ“ should track on `server-started` event (15 ms)
2025-04-15T08:41:07.8437948Z       âœ“ should track on `session-started` event
2025-04-15T08:41:07.8438289Z       âœ“ should track on `instance-stopped` event (1 ms)
2025-04-15T08:41:07.8438649Z       âœ“ should track on `instance-owner-setup` event (2 ms)
2025-04-15T08:41:07.8438947Z     workflow execution events
2025-04-15T08:41:07.8439298Z       âœ“ should track on `first-production-workflow-succeeded` event
2025-04-15T08:41:07.8439825Z       âœ“ should track on `first-workflow-data-loaded` event (3 ms)
2025-04-15T08:41:07.8440124Z     email events
2025-04-15T08:41:07.8440399Z       âœ“ should track on `email-failed` event
2025-04-15T08:41:07.8440668Z     Community+ registered
2025-04-15T08:41:07.8441021Z       âœ“ should track `license-community-plus-registered` event (1 ms)
2025-04-15T08:41:07.8441353Z     workflow post execute events
2025-04-15T08:41:07.8441695Z       âœ“ should not track when workflow has no id (2 ms)
2025-04-15T08:41:07.8442041Z       âœ“ should track successful workflow execution (17 ms)
2025-04-15T08:41:07.8442343Z       âœ“ should call telemetry.track when manual node execution finished (11 ms)
2025-04-15T08:41:07.8442742Z       âœ“ should call telemetry.track when manual node execution finished with canceled error message (4 ms)
2025-04-15T08:41:07.8443183Z       âœ“ should call telemetry.track when manual workflow execution finished (59 ms)
2025-04-15T08:41:07.8443783Z       âœ“ should call telemetry.track when manual node execution finished with is_managed and credential_type properties (2 ms)
2025-04-15T08:41:07.8444323Z       âœ“ should call telemetry.track when user ran out of free AI credits (3 ms)
2025-04-15T08:41:07.8444517Z 
2025-04-15T08:41:07.8444703Z PASS src/ldap.ee/__tests__/ldap.service.test.ts
2025-04-15T08:41:07.8444989Z   LdapService
2025-04-15T08:41:07.8445224Z     init()
2025-04-15T08:41:07.8445505Z       âœ“ should load the LDAP configuration (4 ms)
2025-04-15T08:41:07.8445945Z       âœ“ should set expected configuration variables from LDAP config if LDAP is enabled (1 ms)
2025-04-15T08:41:07.8446637Z       âœ“ should set expected configuration variables from LDAP config if LDAP is disabled
2025-04-15T08:41:07.8447097Z       âœ“ should show logger warning if authentication method is not ldap or email (1 ms)
2025-04-15T08:41:07.8447544Z       âœ“ should schedule syncing if config has enabled synchronization (1 ms)
2025-04-15T08:41:07.8448060Z       âœ“ should throw an error if config has enabled synchronization but no synchronizationInterval is set (22 ms)
2025-04-15T08:41:07.8448443Z     loadConfig()
2025-04-15T08:41:07.8448775Z       âœ“ should retrieve the LDAP configuration from the settings repository
2025-04-15T08:41:07.8449193Z       âœ“ should throw an expected error if the LDAP configuration is not found (1 ms)
2025-04-15T08:41:07.8449665Z       âœ“ should decipher the LDAP configuration admin password (1 ms)
2025-04-15T08:41:07.8450028Z       âœ“ should return the expected LDAP configuration
2025-04-15T08:41:07.8450318Z     updateConfig()
2025-04-15T08:41:07.8450671Z       âœ“ should throw expected error if the LDAP configuration is invalid (7 ms)
2025-04-15T08:41:07.8451168Z       âœ“ should throw expected error if login is enabled and the current authentication method is "saml" (1 ms)
2025-04-15T08:41:07.8451588Z       âœ“ should encrypt the binding admin password (4 ms)
2025-04-15T08:41:07.8451910Z       âœ“ should delete all ldap identities if login is disabled and ldap users exist (1 ms)
2025-04-15T08:41:07.8452520Z       âœ“ should not delete ldap identities if login is disabled and there are no ldap identities (1 ms)
2025-04-15T08:41:07.8452873Z       âœ“ should update the LDAP configuration in the settings repository
2025-04-15T08:41:07.8453247Z       âœ“ should update the LDAP login label in the config (3 ms)
2025-04-15T08:41:07.8453541Z     setConfig()
2025-04-15T08:41:07.8453951Z       âœ“ should stop synchronization if the timer is running and the config is disabled (1 ms)
2025-04-15T08:41:07.8454440Z       âœ“ should schedule synchronization if the timer is not running and the config is enabled
2025-04-15T08:41:07.8454983Z       âœ“ should throw an error if the timer is not running and the config is enabled but the synchronizationInterval is not set
2025-04-15T08:41:07.8455518Z       âœ“ should restart synchronization if the timer is running and the config is enabled (1 ms)
2025-04-15T08:41:07.8455915Z     searchWithAdminBinding()
2025-04-15T08:41:07.8456206Z       âœ“ should bind admin client (1 ms)
2025-04-15T08:41:07.8456684Z       âœ“ should call client search with expected parameters (1 ms)
2025-04-15T08:41:07.8457148Z       âœ“ should call client search with expected parameters when searchPageSize is 0
2025-04-15T08:41:07.8457528Z       âœ“ should unbind client after search (1 ms)
2025-04-15T08:41:07.8457849Z       âœ“ should return expected search entries
2025-04-15T08:41:07.8458114Z     validUser()
2025-04-15T08:41:07.8458457Z       âœ“ should throw expected error if no configuration has been set (1 ms)
2025-04-15T08:41:07.8458893Z       âœ“ should bind the ldap client with the expected distinguished name and password (1 ms)
2025-04-15T08:41:07.8459188Z       âœ“ should throw expected error if binding fails
2025-04-15T08:41:07.8459413Z       âœ“ should unbind the client binding (1 ms)
2025-04-15T08:41:07.8459608Z     findAndAuthenticateLdapUser()
2025-04-15T08:41:07.8459824Z       âœ“ should search for expected admin login ID
2025-04-15T08:41:07.8460077Z       âœ“ should emit expected error if admin search fails (1 ms)
2025-04-15T08:41:07.8460330Z       âœ“ should return undefined if no user is found
2025-04-15T08:41:07.8460541Z       âœ“ should validate found user
2025-04-15T08:41:07.8460783Z       âœ“ should validate last user if more than one is found (1 ms)
2025-04-15T08:41:07.8461052Z       âœ“ should return undefined if invalid user is found
2025-04-15T08:41:07.8461313Z       âœ“ should resolve binary attributes for found user (1 ms)
2025-04-15T08:41:07.8461534Z       âœ“ should return found user
2025-04-15T08:41:07.8461725Z     testConnection()
2025-04-15T08:41:07.8461961Z       âœ“ should throw expected error if init() is not called first (1 ms)
2025-04-15T08:41:07.8462312Z       âœ“ should create a new client without TLS if connectionSecurity is set to "none" (1 ms)
2025-04-15T08:41:07.8462772Z       âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and allowing unauthorized certificates
2025-04-15T08:41:07.8463314Z       âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and not allowing unauthorized certificates (1 ms)
2025-04-15T08:41:07.8463807Z       âœ“ should create a new client and start TLS if connectionSecurity is set to "startTls"
2025-04-15T08:41:07.8464126Z       âœ“ should not create a new client if one has already been created
2025-04-15T08:41:07.8464344Z     runSync()
2025-04-15T08:41:07.8464552Z       âœ“ should search for users with expected parameters (2 ms)
2025-04-15T08:41:07.8464798Z       âœ“ should resolve binary attributes for users
2025-04-15T08:41:07.8465041Z       âœ“ should throw expected error if search fails (1 ms)
2025-04-15T08:41:07.8465285Z       âœ“ should process expected users if mode is "live"
2025-04-15T08:41:07.8465623Z       âœ“ should sync expected LDAP data when no errors (1 ms)
2025-04-15T08:41:07.8466005Z       âœ“ should sync expected LDAP data when users fail to process (1 ms)
2025-04-15T08:41:07.8466392Z       âœ“ should emit expected event if synchronization is enabled
2025-04-15T08:41:07.8466780Z       âœ“ should emit expected event if synchronization is disabled (1 ms)
2025-04-15T08:41:07.8467338Z       âœ“ should emit expected event with error message if processUsers fails
2025-04-15T08:41:07.8467643Z     stopSync()
2025-04-15T08:41:07.8467907Z       âœ“ should clear the scheduled timer
2025-04-15T08:41:07.8468080Z 
2025-04-15T08:41:07.8468293Z PASS test/integration/credentials/credentials.api.ee.test.ts (8.234 s)
2025-04-15T08:41:07.8468609Z   POST /credentials
2025-04-15T08:41:07.8468907Z     âœ“ project viewers cannot create credentials (124 ms)
2025-04-15T08:41:07.8469181Z   GET /credentials
2025-04-15T08:41:07.8469457Z     âœ“ should return all creds for owner (126 ms)
2025-04-15T08:41:07.8469773Z     âœ“ should return only relevant creds for member (122 ms)
2025-04-15T08:41:07.8470247Z     âœ“ should show credentials that the user has access to through a team project they are part of (65 ms)
2025-04-15T08:41:07.8470561Z   GET /credentials/for-workflow
2025-04-15T08:41:07.8470720Z     for team projects
2025-04-15T08:41:07.8471112Z       âœ“ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "member" (101 ms)
2025-04-15T08:41:07.8471796Z       âœ“ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "member" (128 ms)
2025-04-15T08:41:07.8472344Z       âœ“ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "owner" (85 ms)
2025-04-15T08:41:07.8472885Z       âœ“ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "owner" (95 ms)
2025-04-15T08:41:07.8473205Z     for personal projects
2025-04-15T08:41:07.8473539Z       âœ“ it returns only personal credentials for a members, if "projectId" is used as the query parameter (173 ms)
2025-04-15T08:41:07.8474083Z       âœ“ it returns only personal credentials for a members, if "workflowId" is used as the query parameter (144 ms)
2025-04-15T08:41:07.8474725Z       âœ“ if the actor is a global owner and the workflow has not been shared with them, it returns all credentials of all projects the workflow is part of (161 ms)
2025-04-15T08:41:07.8475403Z       âœ“ if the actor is a global owner and the workflow has been shared with them, it returns all credentials of all projects the workflow is part of (126 ms)
2025-04-15T08:41:07.8475952Z       âœ“ if the projectId is passed by a global owner it will return all credentials in that project (111 ms)
2025-04-15T08:41:07.8476589Z       âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using "workflowId" as the query parameter (96 ms)
2025-04-15T08:41:07.8477280Z       âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using "projectId" as the query parameter (102 ms)
2025-04-15T08:41:07.8477718Z   GET /credentials/:id
2025-04-15T08:41:07.8478025Z     âœ“ project viewers can view credentials (132 ms)
2025-04-15T08:41:07.8478264Z     âœ“ should retrieve owned cred for owner (101 ms)
2025-04-15T08:41:07.8478569Z     âœ“ should redact the data when `includeData:true` is passed (81 ms)
2025-04-15T08:41:07.8478839Z     âœ“ should retrieve non-owned cred for owner (88 ms)
2025-04-15T08:41:07.8479092Z     âœ“ should retrieve owned cred for member (77 ms)
2025-04-15T08:41:07.8479354Z     âœ“ should not retrieve non-owned cred for member (90 ms)
2025-04-15T08:41:07.8479622Z     âœ“ should return 404 if cred not found (86 ms)
2025-04-15T08:41:07.8479796Z   PATCH /credentials/:id
2025-04-15T08:41:07.8480026Z     âœ“ project viewer cannot update credentials (78 ms)
2025-04-15T08:41:07.8480250Z   PUT /credentials/:id/share
2025-04-15T08:41:07.8480569Z     âœ“ should share the credential with the provided userIds and unshare it for missing ones (92 ms)
2025-04-15T08:41:07.8480926Z     âœ“ should share the credential with the provided userIds (89 ms)
2025-04-15T08:41:07.8481280Z     âœ“ should respond 403 for non-existing credentials (29 ms)
2025-04-15T08:41:07.8481688Z     âœ“ should respond 403 for non-owned credentials for shared members (59 ms)
2025-04-15T08:41:07.8482314Z     âœ“ should respond 403 for non-owned credentials for non-shared members sharing with self (69 ms)
2025-04-15T08:41:07.8482807Z     âœ“ should respond 403 for non-owned credentials for non-shared members sharing (54 ms)
2025-04-15T08:41:07.8483242Z     âœ“ should respond 200 for non-owned credentials for owners (47 ms)
2025-04-15T08:41:07.8483585Z     âœ“ should not ignore pending sharee (56 ms)
2025-04-15T08:41:07.8483846Z     âœ“ should ignore non-existing sharee (44 ms)
2025-04-15T08:41:07.8484099Z     âœ“ should ignore sharing with owner project (50 ms)
2025-04-15T08:41:07.8484445Z     âœ“ should ignore sharing with project that already has it shared (56 ms)
2025-04-15T08:41:07.8484745Z     âœ“ should respond 400 if invalid payload is provided (62 ms)
2025-04-15T08:41:07.8484986Z     âœ“ should unshare the credential (86 ms)
2025-04-15T08:41:07.8485330Z     âœ“ should not call internal hooks listener for email sent if emailing is disabled (91 ms)
2025-04-15T08:41:07.8486067Z     âœ“ member should be able to share from personal project to team project that member has access to (95 ms)
2025-04-15T08:41:07.8486610Z     âœ“ member should be able to share from team project to personal project (52 ms)
2025-04-15T08:41:07.8487129Z     âœ“ member should be able to share from team project to team project that member has access to (50 ms)
2025-04-15T08:41:07.8487610Z     âœ“ admins should be able to share from any team project to any team project  (44 ms)
2025-04-15T08:41:07.8487993Z     âœ“ admins should be able to share from any team project to any user's personal project  (49 ms)
2025-04-15T08:41:07.8488423Z     âœ“ admins should be able to share from any personal project to any team project  (40 ms)
2025-04-15T08:41:07.8488758Z   PUT /:credentialId/transfer
2025-04-15T08:41:07.8489068Z     âœ“ cannot transfer into the same project (52 ms)
2025-04-15T08:41:07.8489414Z     âœ“ cannot transfer somebody elses credential (58 ms)
2025-04-15T08:41:07.8489775Z     âœ“ cannot transfer if you're not a member of the destination project (48 ms)
2025-04-15T08:41:07.8490088Z     âœ“ project:editors cannot transfer credentials (69 ms)
2025-04-15T08:41:07.8490335Z     âœ“ project:viewers cannot transfer credentials (76 ms)
2025-04-15T08:41:07.8490665Z     âœ“ owners can always transfer from a team project to a team project (47 ms)
2025-04-15T08:41:07.8491009Z     âœ“ owners can always transfer from a team project to a personal project (40 ms)
2025-04-15T08:41:07.8491352Z     âœ“ owners can always transfer from a personal project to a team project (42 ms)
2025-04-15T08:41:07.8491691Z     âœ“ admins can always transfer from a team project to a team project (75 ms)
2025-04-15T08:41:07.8492026Z     âœ“ admins can always transfer from a team project to a personal project (45 ms)
2025-04-15T08:41:07.8492419Z     âœ“ admins can always transfer from a personal project to a team project (67 ms)
2025-04-15T08:41:07.8492602Z 
2025-04-15T08:41:07.8492855Z PASS src/evaluation.ee/test-runner/__tests__/test-runner.service.ee.test.ts
2025-04-15T08:41:07.8493196Z   TestRunnerService
2025-04-15T08:41:07.8493505Z     âœ“ should create an instance of TestRunnerService (4 ms)
2025-04-15T08:41:07.8493921Z     âœ“ should create and run test cases from past executions (6 ms)
2025-04-15T08:41:07.8494284Z     âœ“ should run both workflow under test and evaluation workflow (14 ms)
2025-04-15T08:41:07.8494664Z     âœ“ should properly count passed and failed executions (7 ms)
2025-04-15T08:41:07.8494974Z     âœ“ should properly count failed test executions (3 ms)
2025-04-15T08:41:07.8495365Z     âœ“ should properly count failed evaluations (3 ms)
2025-04-15T08:41:07.8495927Z     âœ“ should specify correct start nodes when running workflow under test (8 ms)
2025-04-15T08:41:07.8496466Z     âœ“ should properly choose trigger and start nodes (1 ms)
2025-04-15T08:41:07.8496981Z     âœ“ should properly choose trigger and start nodes 2
2025-04-15T08:41:07.8497476Z     âœ“ should properly run test when nodes were renamed (3 ms)
2025-04-15T08:41:07.8498155Z     âœ“ should properly choose trigger when it was renamed
2025-04-15T08:41:07.8498712Z     âœ“ should create proper execution data for queue mode in runTestCase (3 ms)
2025-04-15T08:41:07.8499359Z     âœ“ should create proper execution data for regular mode in runTestCase (7 ms)
2025-04-15T08:41:07.8500014Z     âœ“ should run workflow with metrics defined in the middle of the workflow (6 ms)
2025-04-15T08:41:07.8500529Z     âœ“ should properly override metrics from earlier nodes with later ones (5 ms)
2025-04-15T08:41:07.8500839Z     Test Run cancellation
2025-04-15T08:41:07.8501128Z       âœ“ should cancel test run (10 ms)
2025-04-15T08:41:07.8501306Z 
2025-04-15T08:41:07.8501483Z PASS test/integration/folder/folder.controller.test.ts (7.311 s)
2025-04-15T08:41:07.8501720Z   POST /projects/:projectId/folders
2025-04-15T08:41:07.8501970Z     âœ“ should not create folder when project does not exist (98 ms)
2025-04-15T08:41:07.8502241Z     âœ“ should not create folder when name is empty (30 ms)
2025-04-15T08:41:07.8502729Z     âœ“ should not create folder if user has project:viewer role in team project (34 ms)
2025-04-15T08:41:07.8503076Z     âœ“ should not allow creating folder in another user's personal project (30 ms)
2025-04-15T08:41:07.8503416Z     âœ“ should create folder if user has project:editor role in team project (34 ms)
2025-04-15T08:41:07.8503798Z     âœ“ should create folder if user has project:admin role in team project (40 ms)
2025-04-15T08:41:07.8504159Z     âœ“ should not allow creating folder with parent that exists in another project (38 ms)
2025-04-15T08:41:07.8504472Z     âœ“ should create folder in root of specified project (36 ms)
2025-04-15T08:41:07.8504777Z     âœ“ should create folder in specified project within another folder (54 ms)
2025-04-15T08:41:07.8505060Z     âœ“ should create folder in personal project (36 ms)
2025-04-15T08:41:07.8505274Z   GET /projects/:projectId/folders/:folderId/tree
2025-04-15T08:41:07.8505536Z     âœ“ should not get folder tree when project does not exist (18 ms)
2025-04-15T08:41:07.8505832Z     âœ“ should not get folder tree when folder does not exist (37 ms)
2025-04-15T08:41:07.8506133Z     âœ“ should not get folder tree if user has no access to project (78 ms)
2025-04-15T08:41:07.8506475Z     âœ“ should not allow getting folder tree from another user's personal project (21 ms)
2025-04-15T08:41:07.8506757Z     âœ“ should get nested folder structure (48 ms)
2025-04-15T08:41:07.8506964Z   PATCH /projects/:projectId/folders/:folderId
2025-04-15T08:41:07.8507220Z     âœ“ should not update folder when project does not exist (15 ms)
2025-04-15T08:41:07.8507510Z     âœ“ should not update folder when folder does not exist (21 ms)
2025-04-15T08:41:07.8507778Z     âœ“ should not update folder when name is empty (30 ms)
2025-04-15T08:41:07.8508083Z     âœ“ should not update folder if user has project:viewer role in team project (44 ms)
2025-04-15T08:41:07.8508428Z     âœ“ should not allow updating folder in another user's personal project (28 ms)
2025-04-15T08:41:07.8508764Z     âœ“ should update folder if user has project:editor role in team project (61 ms)
2025-04-15T08:41:07.8509112Z     âœ“ should update folder if user has project:admin role in team project (37 ms)
2025-04-15T08:41:07.8509402Z     âœ“ should update folder in personal project (90 ms)
2025-04-15T08:41:07.8509622Z     âœ“ should update folder tags (83 ms)
2025-04-15T08:41:07.8509866Z     âœ“ should replace existing folder tags with new ones (35 ms)
2025-04-15T08:41:07.8510115Z     âœ“ should update folder parent folder ID (62 ms)
2025-04-15T08:41:07.8510409Z     âœ“ should not update folder parent when target folder does not exist (33 ms)
2025-04-15T08:41:07.8510753Z     âœ“ should not update folder parent when target folder is in another project (60 ms)
2025-04-15T08:41:07.8511117Z     âœ“ should allow moving a folder to root level by setting parentFolderId to "0" (64 ms)
2025-04-15T08:41:07.8511489Z     âœ“ should not update folder parent if user has project:viewer role in team project (39 ms)
2025-04-15T08:41:07.8511882Z     âœ“ should update folder parent folder if user has project:editor role in team project (49 ms)
2025-04-15T08:41:07.8512405Z     âœ“ should not allow setting a folder as its own parent (67 ms)
2025-04-15T08:41:07.8512631Z   DELETE /projects/:projectId/folders/:folderId
2025-04-15T08:41:07.8512895Z     âœ“ should not delete folder when project does not exist (25 ms)
2025-04-15T08:41:07.8513175Z     âœ“ should not delete folder when folder does not exist (37 ms)
2025-04-15T08:41:07.8513492Z     âœ“ should not delete folder if user has project:viewer role in team project (28 ms)
2025-04-15T08:41:07.8513865Z     âœ“ should not allow deleting folder in another user's personal project (20 ms)
2025-04-15T08:41:07.8514202Z     âœ“ should delete folder if user has project:editor role in team project (39 ms)
2025-04-15T08:41:07.8514539Z     âœ“ should delete folder if user has project:admin role in team project (27 ms)
2025-04-15T08:41:07.8514820Z     âœ“ should delete folder in personal project (40 ms)
2025-04-15T08:41:07.8515201Z     âœ“ should delete folder, all child folders, and contained workflows when no transfer folder is specified (73 ms)
2025-04-15T08:41:07.8515765Z     âœ“ should transfer folder contents when transferToFolderId is specified (72 ms)
2025-04-15T08:41:07.8516120Z     âœ“ should not transfer folder contents when transfer folder does not exist (37 ms)
2025-04-15T08:41:07.8516494Z     âœ“ should not transfer folder contents when transfer folder is in another project (56 ms)
2025-04-15T08:41:07.8516864Z     âœ“ should not allow transferring contents to the same folder being deleted (80 ms)
2025-04-15T08:41:07.8517245Z     âœ“ should transfer folder contents to project root when transferToFolderId is "0" (126 ms)
2025-04-15T08:41:07.8517514Z   GET /projects/:projectId/folders
2025-04-15T08:41:07.8517755Z     âœ“ should not list folders when project does not exist (30 ms)
2025-04-15T08:41:07.8518044Z     âœ“ should not list folders if user has no access to project (44 ms)
2025-04-15T08:41:07.8518369Z     âœ“ should not allow listing folders from another user's personal project (28 ms)
2025-04-15T08:41:07.8518713Z     âœ“ should list folders if user has project:viewer role in team project (73 ms)
2025-04-15T08:41:07.8519076Z     âœ“ should list folders from personal project (48 ms)
2025-04-15T08:41:07.8519398Z     âœ“ should filter folders by name (33 ms)
2025-04-15T08:41:07.8519722Z     âœ“ should filter folders by parent folder ID (50 ms)
2025-04-15T08:41:07.8520094Z     âœ“ should filter root-level folders when parentFolderId=0 (47 ms)
2025-04-15T08:41:07.8520440Z     âœ“ should filter folders by tag (64 ms)
2025-04-15T08:41:07.8520792Z     âœ“ should filter folders by multiple tags (AND operator) (44 ms)
2025-04-15T08:41:07.8521187Z     âœ“ should filter folders by excludeFolderIdAndDescendants (44 ms)
2025-04-15T08:41:07.8521565Z     âœ“ should apply pagination with take parameter (52 ms)
2025-04-15T08:41:07.8521911Z     âœ“ should apply pagination with skip parameter (53 ms)
2025-04-15T08:41:07.8522265Z     âœ“ should apply combined skip and take parameters (65 ms)
2025-04-15T08:41:07.8522620Z     âœ“ should sort folders by name ascending (62 ms)
2025-04-15T08:41:07.8522953Z     âœ“ should sort folders by name descending (33 ms)
2025-04-15T08:41:07.8523275Z     âœ“ should sort folders by updatedAt (37 ms)
2025-04-15T08:41:07.8523609Z     âœ“ should select specific fields when requested (43 ms)
2025-04-15T08:41:07.8524004Z     âœ“ should combine multiple query parameters correctly (70 ms)
2025-04-15T08:41:07.8524379Z     âœ“ should filter by projectId automatically based on URL (60 ms)
2025-04-15T08:41:07.8524695Z   GET /projects/:projectId/folders/content
2025-04-15T08:41:07.8525040Z     âœ“ should not list folders when project does not exist (31 ms)
2025-04-15T08:41:07.8525442Z     âœ“ should not return folder content if user has no access to project (37 ms)
2025-04-15T08:41:07.8525872Z     âœ“ should not return folder content if folder does not belong to project (38 ms)
2025-04-15T08:41:07.8527517Z     âœ“ should return folder content if user has project:viewer role in team project (38 ms)
2025-04-15T08:41:07.8528329Z     âœ“ should return folder content (57 ms)
2025-04-15T08:41:07.8528574Z 
2025-04-15T08:41:07.8528763Z PASS test/integration/project.api.test.ts
2025-04-15T08:41:07.8529128Z   GET /projects/
2025-04-15T08:41:07.8529653Z     âœ“ member should get all personal projects and team projects they are apart of (150 ms)
2025-04-15T08:41:07.8530196Z     âœ“ owner should get all projects (34 ms)
2025-04-15T08:41:07.8530553Z   GET /projects/count
2025-04-15T08:41:07.8530927Z     âœ“ should return correct number of projects (27 ms)
2025-04-15T08:41:07.8531212Z   GET /projects/my-projects
2025-04-15T08:41:07.8531539Z     âœ“ member should get all projects they are apart of (73 ms)
2025-04-15T08:41:07.8531909Z     âœ“ owner should get all projects they are apart of (48 ms)
2025-04-15T08:41:07.8532197Z   GET /projects/personal
2025-04-15T08:41:07.8532500Z     âœ“ should return the user's personal project (25 ms)
2025-04-15T08:41:07.8532880Z     âœ“ should return 404 if user doesn't have a personal project (30 ms)
2025-04-15T08:41:07.8533325Z   POST /projects/
2025-04-15T08:41:07.8533599Z     âœ“ should create a team project (42 ms)
2025-04-15T08:41:07.8533999Z     âœ“ should allow to create a team projects if below the quota (34 ms)
2025-04-15T08:41:07.8534380Z     âœ“ should fail to create a team project if at quota (29 ms)
2025-04-15T08:41:07.8534775Z     âœ“ should fail to create a team project if above the quota (26 ms)
2025-04-15T08:41:07.8535083Z   PATCH /projects/:projectId
2025-04-15T08:41:07.8535388Z     âœ“ should update a team project name (45 ms)
2025-04-15T08:41:07.8535739Z     âœ“ should not allow viewers to edit team project name (16 ms)
2025-04-15T08:41:07.8536145Z     âœ“ should not allow owners to edit personal project name (23 ms)
2025-04-15T08:41:07.8536452Z     member management
2025-04-15T08:41:07.8536752Z       âœ“ should add or remove users from a project (64 ms)
2025-04-15T08:41:07.8537193Z       âœ“ `project:viewer`s should not be able to add, update or remove users from a project (35 ms)
2025-04-15T08:41:07.8537825Z       âœ“ `project:editor`s should not be able to add, update or remove users from a project (30 ms)
2025-04-15T08:41:07.8538499Z       âœ“ should not be able to add a user with the role project:viewer if it's not licensed (44 ms)
2025-04-15T08:41:07.8538975Z       âœ“ should not be able to add a user with the role project:editor if it's not licensed (50 ms)
2025-04-15T08:41:07.8539467Z       âœ“ should not edit a relation of a project when changing a user's role to an unlicensed role (41 ms)
2025-04-15T08:41:07.8540045Z       âœ“ should  edit a relation of a project when changing a user's role to an licensed role but unlicensed roles are present (40 ms)
2025-04-15T08:41:07.8540631Z       âœ“ should not add or remove users from a personal project (18 ms)
2025-04-15T08:41:07.8540946Z   GET /project/:projectId
2025-04-15T08:41:07.8541254Z     âœ“ should get project details and relations (54 ms)
2025-04-15T08:41:07.8541651Z   DELETE /project/:projectId
2025-04-15T08:41:07.8542085Z     âœ“ allows the project:owner to delete a project (84 ms)
2025-04-15T08:41:07.8542531Z     âœ“ allows the instance owner to delete a team project their are not related to (64 ms)
2025-04-15T08:41:07.8542979Z     âœ“ does not allow instance members to delete their personal project (33 ms)
2025-04-15T08:41:07.8543405Z     âœ“ does not allow instance owners to delete their personal projects (17 ms)
2025-04-15T08:41:07.8543908Z     âœ“ does not allow users with the role project:editor to delete a project (20 ms)
2025-04-15T08:41:07.8544345Z     âœ“ does not allow users with the role project:viewer to delete a project (34 ms)
2025-04-15T08:41:07.8544828Z     âœ“ deletes all workflows and credentials it owns as well as the sharings into other projects (67 ms)
2025-04-15T08:41:07.8545317Z     âœ“ unshares all workflows and credentials that were shared with the project (79 ms)
2025-04-15T08:41:07.8545693Z     âœ“ deletes the project relations (60 ms)
2025-04-15T08:41:07.8546036Z     âœ“ should fail if the project to delete does not exist (17 ms)
2025-04-15T08:41:07.8546485Z     âœ“ should fail to delete if project to migrate to and the project to delete are the same (36 ms)
2025-04-15T08:41:07.8547318Z     âœ“ does not migrate credentials and projects if the user does not have the permissions to create workflows or credentials in the target project (25 ms)
2025-04-15T08:41:07.8547924Z     âœ“ migrates folders, workflows and credentials to another project if `migrateToProject` is passed (71 ms)
2025-04-15T08:41:07.8548458Z     âœ“ should upgrade a projects role if the workflow/credential is already shared with it (38 ms)
2025-04-15T08:41:07.8548721Z 
2025-04-15T08:41:07.8548856Z PASS test/integration/users.api.test.ts
2025-04-15T08:41:07.8549129Z   GET /users
2025-04-15T08:41:07.8549350Z     âœ“ should return all users (43 ms)
2025-04-15T08:41:07.8549607Z     list query options
2025-04-15T08:41:07.8549802Z       filter
2025-04-15T08:41:07.8550085Z         âœ“ should filter users by field: email (24 ms)
2025-04-15T08:41:07.8550421Z         âœ“ should filter users by field: firstName (11 ms)
2025-04-15T08:41:07.8550899Z         âœ“ should filter users by field: lastName (14 ms)
2025-04-15T08:41:07.8551251Z         âœ“ should filter users by computed field: isOwner (10 ms)
2025-04-15T08:41:07.8551536Z       select
2025-04-15T08:41:07.8551805Z         âœ“ should select user field: id (5 ms)
2025-04-15T08:41:07.8552111Z         âœ“ should select user field: email (4 ms)
2025-04-15T08:41:07.8552401Z         âœ“ should select user field: firstName (4 ms)
2025-04-15T08:41:07.8552724Z         âœ“ should select user field: lastName (27 ms)
2025-04-15T08:41:07.8552985Z       take
2025-04-15T08:41:07.8553293Z         âœ“ should return n users or less, without skip (19 ms)
2025-04-15T08:41:07.8553689Z         âœ“ should return n users or less, with skip (11 ms)
2025-04-15T08:41:07.8553984Z       auxiliary fields
2025-04-15T08:41:07.8554314Z         âœ“ should support options that require auxiliary fields (6 ms)
2025-04-15T08:41:07.8554644Z   GET /users/:id/password-reset-link
2025-04-15T08:41:07.8555046Z     âœ“ should allow owners to generate password reset links for admins and members (25 ms)
2025-04-15T08:41:07.8555563Z     âœ“ should allow admins to generate password reset links for admins and members, but not owners (40 ms)
2025-04-15T08:41:07.8556042Z     âœ“ should not allow members to generate password reset links for anyone (8 ms)
2025-04-15T08:41:07.8556358Z   DELETE /users/:id
2025-04-15T08:41:07.8556646Z     âœ“ should delete user and their resources (78 ms)
2025-04-15T08:41:07.8557089Z     âœ“ should delete user and team relations and transfer their personal resources to user (116 ms)
2025-04-15T08:41:07.8557602Z     âœ“ should delete user and transfer their personal resources to team project (79 ms)
2025-04-15T08:41:07.8557966Z     âœ“ should fail to delete self (10 ms)
2025-04-15T08:41:07.8558290Z     âœ“ should fail to delete the instance owner (14 ms)
2025-04-15T08:41:07.8558633Z     âœ“ should fail to delete a user that does not exist (3 ms)
2025-04-15T08:41:07.8559017Z     âœ“ should fail to transfer to a project that does not exist (29 ms)
2025-04-15T08:41:07.8559353Z     âœ“ should fail to delete if user to delete is transferee (31 ms)
2025-04-15T08:41:07.8559627Z   PATCH /users/:id/role
2025-04-15T08:41:07.8560025Z     âœ“ should clear credential external secrets usability cache when changing a user's role (47 ms)
2025-04-15T08:41:07.8560383Z     unauthenticated user
2025-04-15T08:41:07.8560658Z       âœ“ should receive 401 (3 ms)
2025-04-15T08:41:07.8560942Z     Invalid payload should return 400 when newRoleName
2025-04-15T08:41:07.8561235Z       âœ“ is missing (5 ms)
2025-04-15T08:41:07.8561483Z       âœ“ is `owner` (4 ms)
2025-04-15T08:41:07.8561725Z       âœ“ is an array (4 ms)
2025-04-15T08:41:07.8561954Z     member
2025-04-15T08:41:07.8562226Z       âœ“ should fail to demote owner to member (4 ms)
2025-04-15T08:41:07.8562545Z       âœ“ should fail to demote owner to admin (9 ms)
2025-04-15T08:41:07.8562866Z       âœ“ should fail to demote admin to member (12 ms)
2025-04-15T08:41:07.8563201Z       âœ“ should fail to promote other member to owner (8 ms)
2025-04-15T08:41:07.8563711Z       âœ“ should fail to promote other member to admin (4 ms)
2025-04-15T08:41:07.8564035Z       âœ“ should fail to promote self to admin (3 ms)
2025-04-15T08:41:07.8564347Z       âœ“ should fail to promote self to owner (3 ms)
2025-04-15T08:41:07.8564601Z     admin
2025-04-15T08:41:07.8564883Z       âœ“ should receive 404 on unknown target user (4 ms)
2025-04-15T08:41:07.8565205Z       âœ“ should fail to demote owner to admin (5 ms)
2025-04-15T08:41:07.8565523Z       âœ“ should fail to demote owner to member (4 ms)
2025-04-15T08:41:07.8565877Z       âœ“ should fail to promote member to admin if not licensed (10 ms)
2025-04-15T08:41:07.8568584Z       âœ“ should be able to demote admin to member (31 ms)
2025-04-15T08:41:07.8568937Z       âœ“ should be able to demote self to member (25 ms)
2025-04-15T08:41:07.8569304Z       âœ“ should be able to promote member to admin if licensed (20 ms)
2025-04-15T08:41:07.8569588Z     owner
2025-04-15T08:41:07.8569860Z       âœ“ should fail to demote self to admin (3 ms)
2025-04-15T08:41:07.8570407Z       âœ“ should fail to demote self to member (8 ms)
2025-04-15T08:41:07.8570773Z       âœ“ should fail to promote member to admin if not licensed (2 ms)
2025-04-15T08:41:07.8571158Z       âœ“ should be able to promote member to admin if licensed (11 ms)
2025-04-15T08:41:07.8571517Z       âœ“ should be able to demote admin to member (11 ms)
2025-04-15T08:41:07.8571671Z 
2025-04-15T08:41:07.8571917Z PASS src/task-runners/task-broker/__tests__/task-broker.service.test.ts
2025-04-15T08:41:07.8572237Z   TaskBroker
2025-04-15T08:41:07.8572460Z     expireTasks
2025-04-15T08:41:07.8572797Z       âœ“ should remove expired task offers and keep valid task offers (3 ms)
2025-04-15T08:41:07.8573162Z       âœ“ should not expire non-expiring task offers
2025-04-15T08:41:07.8573425Z     registerRunner
2025-04-15T08:41:07.8573746Z       âœ“ should add a runner to known runners (1 ms)
2025-04-15T08:41:07.8574054Z       âœ“ should send node types to runner
2025-04-15T08:41:07.8574312Z     registerRequester
2025-04-15T08:41:07.8574624Z       âœ“ should add a requester to known requesters (1 ms)
2025-04-15T08:41:07.8574897Z     deregisterRunner
2025-04-15T08:41:07.8575175Z       âœ“ should remove a runner from known runners
2025-04-15T08:41:07.8575522Z       âœ“ should remove any pending offers for that runner (1 ms)
2025-04-15T08:41:07.8575885Z       âœ“ should fail any running tasks for that runner (1 ms)
2025-04-15T08:41:07.8576167Z     deregisterRequester
2025-04-15T08:41:07.8576460Z       âœ“ should remove a requester from known requesters
2025-04-15T08:41:07.8576726Z     taskRequested
2025-04-15T08:41:07.8577036Z       âœ“ should match a pending offer to an incoming request (1 ms)
2025-04-15T08:41:07.8577319Z     taskOffered
2025-04-15T08:41:07.8577609Z       âœ“ should match a pending request to an incoming offer
2025-04-15T08:41:07.8577878Z     settleTasks
2025-04-15T08:41:07.8578196Z       âœ“ should match task offers with task requests by task type (1 ms)
2025-04-15T08:41:07.8578579Z       âœ“ should not match a request whose acceptance is in progress
2025-04-15T08:41:07.8578923Z       âœ“ should expire tasks before settling
2025-04-15T08:41:07.8579180Z     onRunnerMessage
2025-04-15T08:41:07.8579401Z       âœ“ should handle `runner:taskaccepted` message
2025-04-15T08:41:07.8579624Z       âœ“ should handle `runner:taskrejected` message
2025-04-15T08:41:07.8579879Z       âœ“ should handle `runner:taskdone` message (1 ms)
2025-04-15T08:41:07.8580104Z       âœ“ should handle `runner:taskerror` message
2025-04-15T08:41:07.8580352Z       âœ“ should handle `runner:taskdatarequest` message (1 ms)
2025-04-15T08:41:07.8580581Z       âœ“ should handle `runner:rpc` message
2025-04-15T08:41:07.8580806Z       âœ“ should handle `runner:nodetypesrequest` message
2025-04-15T08:41:07.8581072Z       âœ“ should handle `runner:taskoffer` message with expiring offer
2025-04-15T08:41:07.8581363Z       âœ“ should handle `runner:taskoffer` message with non-expiring offer
2025-04-15T08:41:07.8581572Z     onRequesterMessage
2025-04-15T08:41:07.8581778Z       âœ“ should handle `requester:nodetypesresponse` message
2025-04-15T08:41:07.8582165Z     task timeouts
2025-04-15T08:41:07.8582350Z       âœ“ on sending task, we should set up task timeout
2025-04-15T08:41:07.8582670Z       âœ“ on task completion, we should clear timeout (1 ms)
2025-04-15T08:41:07.8582988Z       âœ“ on task error, we should clear timeout
2025-04-15T08:41:07.8583435Z       âœ“ [internal mode] on timeout, we should emit `runner:timed-out-during-task` event and send error to requester (5 ms)
2025-04-15T08:41:07.8583979Z       âœ“ [external mode] on timeout, we should instruct the runner to cancel and send error to requester
2025-04-15T08:41:07.8584178Z 
2025-04-15T08:41:07.8584318Z PASS src/events/__tests__/log-streaming-event-relay.test.ts
2025-04-15T08:41:07.8584537Z   LogStreamingEventRelay
2025-04-15T08:41:07.8584673Z     workflow events
2025-04-15T08:41:07.8584864Z       âœ“ should log on `workflow-created` event (3 ms)
2025-04-15T08:41:07.8585088Z       âœ“ should log on `workflow-deleted` event
2025-04-15T08:41:07.8585438Z       âœ“ should log on `workflow-saved` event (1 ms)
2025-04-15T08:41:07.8585670Z       âœ“ should log on `workflow-pre-execute` event
2025-04-15T08:41:07.8585964Z       âœ“ should log on `workflow-post-execute` for successful execution (1 ms)
2025-04-15T08:41:07.8586277Z       âœ“ should log on `workflow-post-execute` event for failed execution
2025-04-15T08:41:07.8586476Z     user events
2025-04-15T08:41:07.8586654Z       âœ“ should log on `user-updated` event (1 ms)
2025-04-15T08:41:07.8586864Z       âœ“ should log on `user-deleted` event
2025-04-15T08:41:07.8587064Z       âœ“ should log on `user-invited` event
2025-04-15T08:41:07.8587267Z       âœ“ should log on `user-reinvited` event
2025-04-15T08:41:07.8587472Z       âœ“ should log on `user-signed-up` event
2025-04-15T08:41:07.8587672Z       âœ“ should log on `user-logged-in` event
2025-04-15T08:41:07.8587822Z     click events
2025-04-15T08:41:07.8588037Z       âœ“ should log on `user-password-reset-request-click` event
2025-04-15T08:41:07.8588289Z       âœ“ should log on `user-invite-email-click` event
2025-04-15T08:41:07.8588553Z       âœ“ should log on `user-password-reset-email-click` event
2025-04-15T08:41:07.8588736Z     node events
2025-04-15T08:41:07.8588919Z       âœ“ should log on `node-pre-execute` event (1 ms)
2025-04-15T08:41:07.8589139Z       âœ“ should log on `node-post-execute` event
2025-04-15T08:41:07.8589301Z     credentials events
2025-04-15T08:41:07.8589509Z       âœ“ should log on `credentials-shared` event (1 ms)
2025-04-15T08:41:07.8589738Z       âœ“ should log on `credentials-created` event
2025-04-15T08:41:07.8589955Z       âœ“ should log on `credentials-deleted` event
2025-04-15T08:41:07.8590174Z       âœ“ should log on `credentials-updated` event
2025-04-15T08:41:07.8590342Z     auth events
2025-04-15T08:41:07.8590528Z       âœ“ should log on `user-login-failed` event (1 ms)
2025-04-15T08:41:07.8590714Z     community package events
2025-04-15T08:41:07.8590945Z       âœ“ should log on `community-package-updated` event (3 ms)
2025-04-15T08:41:07.8591208Z       âœ“ should log on `community-package-installed` event
2025-04-15T08:41:07.8591465Z       âœ“ should log on `community-package-deleted` event
2025-04-15T08:41:07.8591642Z     email events
2025-04-15T08:41:07.8591845Z       âœ“ should log on `email-failed` event (1 ms)
2025-04-15T08:41:07.8592009Z     public API events
2025-04-15T08:41:07.8592205Z       âœ“ should log on `public-api-key-created` event
2025-04-15T08:41:07.8592436Z       âœ“ should log on `public-api-key-deleted` event
2025-04-15T08:41:07.8592606Z     execution events
2025-04-15T08:41:07.8592812Z       âœ“ should log on `execution-started-during-bootup` event
2025-04-15T08:41:07.8593074Z       âœ“ should log on `execution-throttled` event (2 ms)
2025-04-15T08:41:07.8593248Z     AI events
2025-04-15T08:41:07.8593454Z       âœ“ should log on `ai-messages-retrieved-from-memory` event
2025-04-15T08:41:07.8593759Z       âœ“ should log on `ai-message-added-to-memory` event (1 ms)
2025-04-15T08:41:07.8594004Z       âœ“ should log on `ai-output-parsed` event
2025-04-15T08:41:07.8594397Z       âœ“ should log on `ai-documents-retrieved` event
2025-04-15T08:41:07.8594624Z       âœ“ should log on `ai-document-embedded` event
2025-04-15T08:41:07.8594841Z       âœ“ should log on `ai-query-embedded` event
2025-04-15T08:41:07.8595078Z       âœ“ should log on `ai-document-processed` event (1 ms)
2025-04-15T08:41:07.8595346Z       âœ“ should log on `ai-text-split` event
2025-04-15T08:41:07.8595628Z       âœ“ should log on `ai-tool-called` event
2025-04-15T08:41:07.8595951Z       âœ“ should log on `ai-vector-store-searched` event
2025-04-15T08:41:07.8596299Z       âœ“ should log on `ai-llm-generated-output` event
2025-04-15T08:41:07.8596630Z       âœ“ should log on `ai-llm-errored` event (1 ms)
2025-04-15T08:41:07.8596963Z       âœ“ should log on `ai-vector-store-populated` event
2025-04-15T08:41:07.8597301Z       âœ“ should log on `ai-vector-store-updated` event
2025-04-15T08:41:07.8597450Z 
2025-04-15T08:41:07.8597686Z PASS src/execution-lifecycle/__tests__/execution-lifecycle-hooks.test.ts
2025-04-15T08:41:07.8598144Z   Execution Lifecycle Hooks
2025-04-15T08:41:07.8598406Z     getLifecycleHooksForRegularMain
2025-04-15T08:41:07.8598723Z       âœ“ should setup the correct set of hooks (2 ms)
2025-04-15T08:41:07.8598998Z       workflowExecuteBefore
2025-04-15T08:41:07.8599310Z         âœ“ should emit workflow-pre-execute events (11 ms)
2025-04-15T08:41:07.8599638Z         âœ“ should run workflow.preExecute hook (1 ms)
2025-04-15T08:41:07.8599946Z         âœ“ should send executionStarted push event (1 ms)
2025-04-15T08:41:07.8600184Z         âœ“ should run workflow.preExecute external hook
2025-04-15T08:41:07.8600365Z       workflowExecuteAfter
2025-04-15T08:41:07.8600577Z         âœ“ should emit workflow-post-execute events (3 ms)
2025-04-15T08:41:07.8600876Z         âœ“ should not emit workflow-post-execute events for waiting executions (1 ms)
2025-04-15T08:41:07.8601163Z         âœ“ should run workflow.postExecute hook (1 ms)
2025-04-15T08:41:07.8601401Z         âœ“ should send executionFinished push event (2 ms)
2025-04-15T08:41:07.8601652Z         âœ“ should send executionWaiting push event (1 ms)
2025-04-15T08:41:07.8601953Z         âœ“ should restore binary data IDs after workflow execution for webhooks (1 ms)
2025-04-15T08:41:07.8602180Z         saving static data
2025-04-15T08:41:07.8602415Z           âœ“ should skip saving static data for manual executions (1 ms)
2025-04-15T08:41:07.8602685Z           âœ“ should save static data for prod executions (1 ms)
2025-04-15T08:41:07.8602929Z           âœ“ should handle static data saving errors (2 ms)
2025-04-15T08:41:07.8603104Z         saving execution data
2025-04-15T08:41:07.8603315Z           âœ“ should update execution with proper data (1 ms)
2025-04-15T08:41:07.8603551Z           âœ“ should not delete unfinished executions (1 ms)
2025-04-15T08:41:07.8603812Z           âœ“ should not delete waiting executions (1 ms)
2025-04-15T08:41:07.8604110Z           âœ“ should soft delete manual executions when manual saving is disabled (1 ms)
2025-04-15T08:41:07.8604422Z           âœ“ should not soft delete manual executions with waitTill (1 ms)
2025-04-15T08:41:07.8604628Z         error workflow
2025-04-15T08:41:07.8604853Z           âœ“ should not execute error workflow for manual executions (2 ms)
2025-04-15T08:41:07.8605205Z           âœ“ should execute error workflow for failed non-manual executions (2 ms)
2025-04-15T08:41:07.8605576Z       nodeExecuteBefore
2025-04-15T08:41:07.8605830Z         âœ“ should emit node-pre-execute event (1 ms)
2025-04-15T08:41:07.8606285Z         âœ“ should send nodeExecuteBefore push event (1 ms)
2025-04-15T08:41:07.8606483Z       nodeExecuteAfter
2025-04-15T08:41:07.8606687Z         âœ“ should emit node-post-execute event (1 ms)
2025-04-15T08:41:07.8606932Z         âœ“ should send nodeExecuteAfter push event (1 ms)
2025-04-15T08:41:07.8607184Z         âœ“ should save execution progress when enabled (1 ms)
2025-04-15T08:41:07.8607446Z         âœ“ should not save execution progress when disabled (1 ms)
2025-04-15T08:41:07.8607709Z       statistics events
2025-04-15T08:41:07.8608026Z         âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (1 ms)
2025-04-15T08:41:07.8608639Z         âœ“ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
2025-04-15T08:41:07.8608867Z       when pushRef isn't set
2025-04-15T08:41:07.8609152Z         âœ“ should not setup any push hooks (1 ms)
2025-04-15T08:41:07.8609435Z     getLifecycleHooksForScalingMain
2025-04-15T08:41:07.8609732Z       âœ“ should setup the correct set of hooks (2 ms)
2025-04-15T08:41:07.8609965Z       workflowExecuteBefore
2025-04-15T08:41:07.8610276Z         âœ“ should emit workflow-pre-execute events (1 ms)
2025-04-15T08:41:07.8610605Z         âœ“ should run workflow.preExecute hook (1 ms)
2025-04-15T08:41:07.8610948Z         âœ“ should run the workflow.preExecute external hook (1 ms)
2025-04-15T08:41:07.8611233Z       workflowExecuteAfter
2025-04-15T08:41:07.8611538Z         âœ“ should emit workflow-post-execute events (1 ms)
2025-04-15T08:41:07.8611931Z         âœ“ should not emit workflow-post-execute events for waiting executions (1 ms)
2025-04-15T08:41:07.8612451Z         âœ“ should run workflow.postExecute hook
2025-04-15T08:41:07.8612840Z         âœ“ should delete successful executions when success saving is disabled (1 ms)
2025-04-15T08:41:07.8613275Z         âœ“ should delete failed executions when error saving is disabled (1 ms)
2025-04-15T08:41:07.8613566Z     getLifecycleHooksForScalingWorker
2025-04-15T08:41:07.8613915Z       âœ“ should setup the correct set of hooks (7 ms)
2025-04-15T08:41:07.8614119Z       nodeExecuteBefore
2025-04-15T08:41:07.8614312Z         âœ“ should emit node-pre-execute event (1 ms)
2025-04-15T08:41:07.8614495Z       nodeExecuteAfter
2025-04-15T08:41:07.8614698Z         âœ“ should emit node-post-execute event (58 ms)
2025-04-15T08:41:07.8614899Z       workflowExecuteBefore
2025-04-15T08:41:07.8615201Z         âœ“ should run workflow.preExecute hook (1 ms)
2025-04-15T08:41:07.8615474Z       workflowExecuteAfter
2025-04-15T08:41:07.8615768Z         âœ“ should run workflow.postExecute hook (1 ms)
2025-04-15T08:41:07.8616048Z       statistics events
2025-04-15T08:41:07.8616434Z         âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (4 ms)
2025-04-15T08:41:07.8616917Z         âœ“ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
2025-04-15T08:41:07.8617230Z       saving static data
2025-04-15T08:41:07.8617555Z         âœ“ should skip saving static data for manual executions (2 ms)
2025-04-15T08:41:07.8617917Z         âœ“ should save static data for prod executions (1 ms)
2025-04-15T08:41:07.8618257Z         âœ“ should handle static data saving errors (1 ms)
2025-04-15T08:41:07.8618523Z       error workflow
2025-04-15T08:41:07.8618850Z         âœ“ should not execute error workflow for manual executions (1 ms)
2025-04-15T08:41:07.8619259Z         âœ“ should execute error workflow for failed non-manual executions (1 ms)
2025-04-15T08:41:07.8619600Z     getLifecycleHooksForSubExecutions
2025-04-15T08:41:07.8619904Z       âœ“ should setup the correct set of hooks
2025-04-15T08:41:07.8620176Z       workflowExecuteBefore
2025-04-15T08:41:07.8620481Z         âœ“ should emit workflow-pre-execute events (3 ms)
2025-04-15T08:41:07.8620801Z         âœ“ should run workflow.preExecute hook
2025-04-15T08:41:07.8621061Z       workflowExecuteAfter
2025-04-15T08:41:07.8621367Z         âœ“ should emit workflow-post-execute events (1 ms)
2025-04-15T08:41:07.8621749Z         âœ“ should not emit workflow-post-execute events for waiting executions
2025-04-15T08:41:07.8622149Z         âœ“ should run workflow.postExecute hook (1 ms)
2025-04-15T08:41:07.8622417Z       nodeExecuteBefore
2025-04-15T08:41:07.8622690Z         âœ“ should emit node-pre-execute event
2025-04-15T08:41:07.8622946Z       nodeExecuteAfter
2025-04-15T08:41:07.8623229Z         âœ“ should emit node-post-execute event (1 ms)
2025-04-15T08:41:07.8623494Z       statistics events
2025-04-15T08:41:07.8623874Z         âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (17 ms)
2025-04-15T08:41:07.8624361Z         âœ“ nodeFetchedData should handle nodeFetchedData statistics event
2025-04-15T08:41:07.8624690Z 
2025-04-15T08:41:07.8624884Z PASS src/sso.ee/saml/__tests__/saml-validator.test.ts
2025-04-15T08:41:07.8625175Z   saml-validator
2025-04-15T08:41:07.8625402Z     validateMetadata
2025-04-15T08:41:07.8625755Z       âœ“ successfully validates metadata containing ws federation tags (73 ms)
2025-04-15T08:41:07.8626116Z       âœ“ rejects invalid metadata (133 ms)
2025-04-15T08:41:07.8626425Z       âœ“ rejects malformed XML metadata (76 ms)
2025-04-15T08:41:07.8626802Z       âœ“ rejects metadata missing SingleSignOnService (88 ms)
2025-04-15T08:41:07.8627166Z       âœ“ rejects metadata with invalid X.509 certificate (64 ms)
2025-04-15T08:41:07.8627444Z     validateResponse
2025-04-15T08:41:07.8627727Z       âœ“ successfully validates response (98 ms)
2025-04-15T08:41:07.8628035Z       âœ“ rejects invalid response (74 ms)
2025-04-15T08:41:07.8628338Z       âœ“ rejects expired SAML response (66 ms)
2025-04-15T08:41:07.8628481Z 
2025-04-15T08:41:07.8628818Z PASS test/integration/execution.service.integration.test.ts
2025-04-15T08:41:07.8629118Z   ExecutionService
2025-04-15T08:41:07.8629346Z     findRangeWithCount
2025-04-15T08:41:07.8629639Z       âœ“ should return execution summaries (86 ms)
2025-04-15T08:41:07.8629946Z       âœ“ should limit executions (34 ms)
2025-04-15T08:41:07.8630303Z       âœ“ should retrieve executions before `lastId`, excluding it (28 ms)
2025-04-15T08:41:07.8630685Z       âœ“ should retrieve executions after `firstId`, excluding it (24 ms)
2025-04-15T08:41:07.8630950Z       âœ“ should filter executions by `status` (16 ms)
2025-04-15T08:41:07.8631188Z       âœ“ should filter executions by `workflowId` (41 ms)
2025-04-15T08:41:07.8631440Z       âœ“ should filter executions by `startedBefore` (11 ms)
2025-04-15T08:41:07.8631694Z       âœ“ should filter executions by `startedAfter` (13 ms)
2025-04-15T08:41:07.8631939Z       âœ“ should filter executions by `metadata` (16 ms)
2025-04-15T08:41:07.8632182Z       âœ“ should filter executions by `projectId` (26 ms)
2025-04-15T08:41:07.8632473Z       âœ“ should filter executions by `projectId` and expected `status` (42 ms)
2025-04-15T08:41:07.8632796Z       âœ“ should filter executions by `projectId` and expected `waitTill` (23 ms)
2025-04-15T08:41:07.8633125Z       âœ“ should filter executions by `projectId` and expected `metadata` (30 ms)
2025-04-15T08:41:07.8633468Z       âœ“ should filter executions by `projectId` and expected `startedAfter` (27 ms)
2025-04-15T08:41:07.8633853Z       âœ“ should filter executions by `projectId` and expected `startedBefore` (28 ms)
2025-04-15T08:41:07.8634172Z       âœ“ should exclude executions by inaccessible `workflowId` (12 ms)
2025-04-15T08:41:07.8634283Z       âœ“ should support advanced filters (16 ms)
2025-04-15T08:41:07.8634360Z     findLatestCurrentAndCompleted
2025-04-15T08:41:07.8634513Z       âœ“ should return latest current and completed executions (82 ms)
2025-04-15T08:41:07.8634625Z       âœ“ should handle zero current executions (16 ms)
2025-04-15T08:41:07.8634748Z       âœ“ should handle zero completed executions (17 ms)
2025-04-15T08:41:07.8635004Z       âœ“ should handle zero executions (4 ms)
2025-04-15T08:41:07.8635150Z       âœ“ should prioritize `running` over `new` executions (31 ms)
2025-04-15T08:41:07.8635200Z     annotation
2025-04-15T08:41:07.8635310Z       âœ“ should add and retrieve annotation (62 ms)
2025-04-15T08:41:07.8635406Z       âœ“ should update annotation (44 ms)
2025-04-15T08:41:07.8635515Z       âœ“ should filter by annotation tags (30 ms)
2025-04-15T08:41:07.8635614Z       âœ“ should filter by annotation vote (39 ms)
2025-04-15T08:41:07.8635618Z 
2025-04-15T08:41:07.8635731Z PASS src/scaling/__tests__/pubsub-handler.test.ts
2025-04-15T08:41:07.8635790Z   PubSubHandler
2025-04-15T08:41:07.8635844Z     in webhook process
2025-04-15T08:41:07.8635967Z       âœ“ should set up handlers in webhook process (6 ms)
2025-04-15T08:41:07.8636083Z       âœ“ should reload license on `reload-license` event
2025-04-15T08:41:07.8636220Z       âœ“ should restart event bus on `restart-event-bus` event
2025-04-15T08:41:07.8636515Z       âœ“ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:41:07.8636706Z       âœ“ should install community package on `community-package-install` event (1 ms)
2025-04-15T08:41:07.8636870Z       âœ“ should update community package on `community-package-update` event
2025-04-15T08:41:07.8637052Z       âœ“ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:41:07.8637108Z     in worker process
2025-04-15T08:41:07.8637227Z       âœ“ should set up handlers in worker process (1 ms)
2025-04-15T08:41:07.8637338Z       âœ“ should reload license on `reload-license` event
2025-04-15T08:41:07.8637473Z       âœ“ should restart event bus on `restart-event-bus` event
2025-04-15T08:41:07.8637656Z       âœ“ should reload providers on `reload-external-secrets-providers` event (1 ms)
2025-04-15T08:41:07.8637828Z       âœ“ should install community package on `community-package-install` event
2025-04-15T08:41:07.8637989Z       âœ“ should update community package on `community-package-update` event
2025-04-15T08:41:07.8638174Z       âœ“ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:41:07.8638319Z       âœ“ should generate status on `get-worker-status` event (1 ms)
2025-04-15T08:41:07.8638370Z     in main process
2025-04-15T08:41:07.8638531Z       âœ“ should set up command and worker response handlers in main process
2025-04-15T08:41:07.8638643Z       âœ“ should reload license on `reload-license` event
2025-04-15T08:41:07.8638794Z       âœ“ should restart event bus on `restart-event-bus` event (1 ms)
2025-04-15T08:41:07.8638958Z       âœ“ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:41:07.8639129Z       âœ“ should install community package on `community-package-install` event
2025-04-15T08:41:07.8639305Z       âœ“ should update community package on `community-package-update` event (4 ms)
2025-04-15T08:41:07.8639487Z       âœ“ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:41:07.8639549Z       multi-main setup
2025-04-15T08:41:07.8639733Z         âœ“ if leader, should handle `add-webhooks-triggers-and-pollers` event (1 ms)
2025-04-15T08:41:07.8639905Z         âœ“ if follower, should skip `add-webhooks-triggers-and-pollers` event (4 ms)
2025-04-15T08:41:07.8640070Z         âœ“ if leader, should handle `remove-triggers-and-pollers` event (6 ms)
2025-04-15T08:41:07.8640232Z         âœ“ if follower, should skip `remove-triggers-and-pollers` event (2 ms)
2025-04-15T08:41:07.8640375Z         âœ“ should handle `display-workflow-activation` event (1 ms)
2025-04-15T08:41:07.8640508Z         âœ“ should handle `display-workflow-deactivation` event
2025-04-15T08:41:07.8640662Z         âœ“ should handle `display-workflow-activation-error` event (1 ms)
2025-04-15T08:41:07.8640802Z         âœ“ should handle `relay-execution-lifecycle-event` event
2025-04-15T08:41:07.8640924Z         âœ“ should handle `clear-test-webhooks` event (13 ms)
2025-04-15T08:41:07.8641074Z         âœ“ should handle `response-to-get-worker-status event (1 ms)
2025-04-15T08:41:07.8641226Z 
2025-04-15T08:41:07.8641377Z PASS src/concurrency/__tests__/concurrency-control.service.test.ts
2025-04-15T08:41:07.8641445Z   ConcurrencyControlService
2025-04-15T08:41:07.8641494Z     constructor
2025-04-15T08:41:07.8641637Z       âœ“ should be enabled if production cap is positive (4 ms)
2025-04-15T08:41:07.8641758Z       âœ“ should be enabled if evaluation cap is positive
2025-04-15T08:41:07.8641864Z       âœ“ should throw if production cap is 0 (2 ms)
2025-04-15T08:41:07.8641969Z       âœ“ should throw if evaluation cap is 0
2025-04-15T08:41:07.8642141Z       âœ“ should be disabled if both production and evaluation caps are -1 (1 ms)
2025-04-15T08:41:07.8642305Z       âœ“ should be disabled if production cap is lower than -1
2025-04-15T08:41:07.8642535Z       âœ“ should be disabled if evaluation cap is lower than -1
2025-04-15T08:41:07.8642697Z       âœ“ should be disabled on queue mode
2025-04-15T08:41:07.8642767Z     if enabled
2025-04-15T08:41:07.8643031Z       throttle
2025-04-15T08:41:07.8643143Z         âœ“ should do nothing on cli mode (1 ms)
2025-04-15T08:41:07.8643243Z         âœ“ should do nothing on error mode
2025-04-15T08:41:07.8643359Z         âœ“ should do nothing on integrated mode (1 ms)
2025-04-15T08:41:07.8643465Z         âœ“ should do nothing on internal mode
2025-04-15T08:41:07.8643559Z         âœ“ should do nothing on manual mode
2025-04-15T08:41:07.8643701Z         âœ“ should do nothing on retry mode
2025-04-15T08:41:07.8643802Z         âœ“ should enqueue on webhook mode (1 ms)
2025-04-15T08:41:07.8643899Z         âœ“ should enqueue on trigger mode
2025-04-15T08:41:07.8643997Z         âœ“ should enqueue on evaluation mode
2025-04-15T08:41:07.8644054Z       release
2025-04-15T08:41:07.8644142Z         âœ“ should do nothing on cli mode
2025-04-15T08:41:07.8644255Z         âœ“ should do nothing on error mode (1 ms)
2025-04-15T08:41:07.8644356Z         âœ“ should do nothing on integrated mode
2025-04-15T08:41:07.8644449Z         âœ“ should do nothing on internal mode
2025-04-15T08:41:07.8644553Z         âœ“ should do nothing on manual mode
2025-04-15T08:41:07.8644651Z         âœ“ should do nothing on retry mode (1 ms)
2025-04-15T08:41:07.8644745Z         âœ“ should dequeue on webhook mode
2025-04-15T08:41:07.8644831Z         âœ“ should dequeue on trigger mode
2025-04-15T08:41:07.8644928Z         âœ“ should dequeue on evaluation mode
2025-04-15T08:41:07.8644974Z       remove
2025-04-15T08:41:07.8645074Z         âœ“ should do nothing on cli mode (1 ms)
2025-04-15T08:41:07.8645163Z         âœ“ should do nothing on error mode
2025-04-15T08:41:07.8645262Z         âœ“ should do nothing on integrated mode
2025-04-15T08:41:07.8645354Z         âœ“ should do nothing on internal mode
2025-04-15T08:41:07.8645449Z         âœ“ should do nothing on manual mode
2025-04-15T08:41:07.8645545Z         âœ“ should do nothing on retry mode (1 ms)
2025-04-15T08:41:07.8645659Z         âœ“ should remove an execution on webhook mode
2025-04-15T08:41:07.8645766Z         âœ“ should remove an execution on trigger mode
2025-04-15T08:41:07.8645897Z         âœ“ should remove an execution on evaluation mode
2025-04-15T08:41:07.8645943Z       removeAll
2025-04-15T08:41:07.8646363Z         âœ“ should remove all executions from the production queue (1 ms)
2025-04-15T08:41:07.8646522Z         âœ“ should remove all executions from the evaluation queue (1 ms)
2025-04-15T08:41:07.8646581Z       get queue
2025-04-15T08:41:07.8646680Z         âœ“ should choose the production queue
2025-04-15T08:41:07.8646782Z         âœ“ should choose the evaluation queue
2025-04-15T08:41:07.8646834Z     if disabled
2025-04-15T08:41:07.8646882Z       throttle
2025-04-15T08:41:07.8646959Z         âœ“ should do nothing
2025-04-15T08:41:07.8647083Z         âœ“ should do nothing for evaluation executions (1 ms)
2025-04-15T08:41:07.8647138Z       release
2025-04-15T08:41:07.8647205Z         âœ“ should do nothing
2025-04-15T08:41:07.8647320Z         âœ“ should do nothing for evaluation executions
2025-04-15T08:41:07.8647367Z       remove
2025-04-15T08:41:07.8647442Z         âœ“ should do nothing
2025-04-15T08:41:07.8647805Z         âœ“ should do nothing for evaluation executions
2025-04-15T08:41:07.8647862Z     telemetry
2025-04-15T08:41:07.8647907Z       on cloud
2025-04-15T08:41:07.8648080Z         âœ“ for capacity 5, should report temp cloud threshold if reached (6 ms)
2025-04-15T08:41:07.8648231Z         âœ“ for capacity 10, should report temp cloud threshold if reached
2025-04-15T08:41:07.8648398Z         âœ“ for capacity 20, should report temp cloud threshold if reached (1 ms)
2025-04-15T08:41:07.8648539Z         âœ“ for capacity 50, should report temp cloud threshold if reached
2025-04-15T08:41:07.8648697Z         âœ“ for capacity 100, should report temp cloud threshold if reached
2025-04-15T08:41:07.8648838Z         âœ“ for capacity 200, should report temp cloud threshold if reached
2025-04-15T08:41:07.8649022Z         âœ“ for capacity 4, should not report temp cloud threshold if not reached (1 ms)
2025-04-15T08:41:07.8649179Z         âœ“ for capacity 9, should not report temp cloud threshold if not reached
2025-04-15T08:41:07.8649489Z         âœ“ for capacity 19, should not report temp cloud threshold if not reached
2025-04-15T08:41:07.8649649Z         âœ“ for capacity 49, should not report temp cloud threshold if not reached
2025-04-15T08:41:07.8649803Z         âœ“ for capacity 99, should not report temp cloud threshold if not reached
2025-04-15T08:41:07.8649992Z         âœ“ for capacity 199, should not report temp cloud threshold if not reached (1 ms)
2025-04-15T08:41:07.8650146Z         âœ“ for capacity 6, should not report temp cloud threshold if exceeded
2025-04-15T08:41:07.8650306Z         âœ“ for capacity 11, should not report temp cloud threshold if exceeded
2025-04-15T08:41:07.8650456Z         âœ“ for capacity 21, should not report temp cloud threshold if exceeded
2025-04-15T08:41:07.8650608Z         âœ“ for capacity 51, should not report temp cloud threshold if exceeded
2025-04-15T08:41:07.8650778Z         âœ“ for capacity 101, should not report temp cloud threshold if exceeded (1 ms)
2025-04-15T08:41:07.8650948Z         âœ“ for capacity 201, should not report temp cloud threshold if exceeded
2025-04-15T08:41:07.8650953Z 
2025-04-15T08:41:07.8651126Z PASS src/databases/repositories/__tests__/folder.repository.test.ts
2025-04-15T08:41:07.8651189Z   FolderRepository
2025-04-15T08:41:07.8651242Z     getMany
2025-04-15T08:41:07.8651288Z       filters
2025-04-15T08:41:07.8651445Z         âœ“ should return all folders if not filter is provided (16 ms)
2025-04-15T08:41:07.8651550Z         âœ“ should filter folders by IDs (27 ms)
2025-04-15T08:41:07.8651669Z         âœ“ should filter folders by project ID (17 ms)
2025-04-15T08:41:07.8651809Z         âœ“ should filter folders by name case-insensitively (15 ms)
2025-04-15T08:41:07.8651939Z         âœ“ should filter folders by parent folder ID (21 ms)
2025-04-15T08:41:07.8652054Z         âœ“ should filter folders by a single tag (15 ms)
2025-04-15T08:41:07.8652213Z         âœ“ should filter folders by multiple tags (AND operator) (27 ms)
2025-04-15T08:41:07.8652330Z         âœ“ should apply multiple filters together (18 ms)
2025-04-15T08:41:07.8652392Z       select
2025-04-15T08:41:07.8652521Z         âœ“ should select only id and name when specified (20 ms)
2025-04-15T08:41:07.8652688Z         âœ“ should return id, name and tags when specified (22 ms)
2025-04-15T08:41:07.8652829Z         âœ“ should return id, name and project when specified (31 ms)
2025-04-15T08:41:07.8652983Z         âœ“ should return id, name and parentFolder when specified (20 ms)
2025-04-15T08:41:07.8653135Z         âœ“ should return id, name and workflowCount when specified (10 ms)
2025-04-15T08:41:07.8653285Z         âœ“ should return id, name and subFolderCount when specified (19 ms)
2025-04-15T08:41:07.8653413Z         âœ“ should return timestamps when specified (15 ms)
2025-04-15T08:41:07.8653568Z         âœ“ should return all properties when no select is specified (14 ms)
2025-04-15T08:41:07.8653624Z       pagination
2025-04-15T08:41:07.8653793Z         âœ“ should limit results when take is specified (27 ms)
2025-04-15T08:41:07.8654086Z         âœ“ should skip results when skip is specified (12 ms)
2025-04-15T08:41:07.8654200Z         âœ“ should handle skip and take together (48 ms)
2025-04-15T08:41:07.8654338Z         âœ“ should handle take larger than remaining items (17 ms)
2025-04-15T08:41:07.8654472Z         âœ“ should handle zero take by returning all results (18 ms)
2025-04-15T08:41:07.8654526Z       sorting
2025-04-15T08:41:07.8654645Z         âœ“ should sort by default (updatedAt:desc) (20 ms)
2025-04-15T08:41:07.8654750Z         âœ“ should sort by name:asc (16 ms)
2025-04-15T08:41:07.8654845Z         âœ“ should sort by name:desc (15 ms)
2025-04-15T08:41:07.8655018Z         âœ“ should sort by name:desc when select does not include the name (13 ms)
2025-04-15T08:41:07.8655120Z         âœ“ should sort by createdAt:asc (8 ms)
2025-04-15T08:41:07.8655230Z         âœ“ should sort by createdAt:desc (28 ms)
2025-04-15T08:41:07.8655332Z         âœ“ should sort by updatedAt:asc (32 ms)
2025-04-15T08:41:07.8655430Z         âœ“ should sort by updatedAt:desc (19 ms)
2025-04-15T08:41:07.8655720Z         âœ“ should default to asc if order not specified (24 ms)
2025-04-15T08:41:07.8655725Z 
2025-04-15T08:41:07.8655823Z PASS test/integration/ldap/ldap.api.test.ts
2025-04-15T08:41:07.8655977Z   âœ“ Member role should not be able to access ldap routes (55 ms)
2025-04-15T08:41:07.8656137Z   âœ“ GET /ldap/config route should retrieve current configuration (29 ms)
2025-04-15T08:41:07.8656295Z   âœ“ GET /ldap/sync should return paginated synchronizations (28 ms)
2025-04-15T08:41:07.8656350Z   PUT /ldap/config
2025-04-15T08:41:07.8656457Z     âœ“ route should validate payload (48 ms)
2025-04-15T08:41:07.8656548Z     âœ“ route should update model (26 ms)
2025-04-15T08:41:07.8656792Z     âœ“ route should fail due to trying to enable LDAP login with SSO as current authentication method (11 ms)
2025-04-15T08:41:07.8657005Z     âœ“ should apply "Convert all LDAP users to email users" strategy when LDAP login disabled (50 ms)
2025-04-15T08:41:07.8657072Z   POST /ldap/test-connection
2025-04-15T08:41:07.8657168Z     âœ“ route should success (11 ms)
2025-04-15T08:41:07.8657258Z     âœ“ route should fail (10 ms)
2025-04-15T08:41:07.8657312Z   POST /ldap/sync
2025-04-15T08:41:07.8657360Z     dry mode
2025-04-15T08:41:07.8657519Z       âœ“ should detect new user but not persist change in model (15 ms)
2025-04-15T08:41:07.8657675Z       âœ“ should detect updated user but not persist change in model (20 ms)
2025-04-15T08:41:07.8657842Z       âœ“ should detect disabled user but not persist change in model (30 ms)
2025-04-15T08:41:07.8657892Z     live mode
2025-04-15T08:41:07.8658039Z       âœ“ should detect new user and persist change in model (21 ms)
2025-04-15T08:41:07.8658184Z       âœ“ should detect updated user and persist change in model (43 ms)
2025-04-15T08:41:07.8658341Z       âœ“ should detect disabled user and persist change in model (43 ms)
2025-04-15T08:41:07.8658550Z       âœ“ should remove user instance access once the user is disabled during synchronization (44 ms)
2025-04-15T08:41:07.8658605Z   POST /login
2025-04-15T08:41:07.8658757Z     âœ“ should allow new LDAP user to login and synchronize data (30 ms)
2025-04-15T08:41:07.8658922Z     âœ“ should allow existing LDAP user to login and synchronize data (95 ms)
2025-04-15T08:41:07.8659121Z     âœ“ should allow instance owner to sign in with email/password when LDAP is enabled (75 ms)
2025-04-15T08:41:07.8659283Z     âœ“ should transform email user into LDAP user when match found (96 ms)
2025-04-15T08:41:07.8659381Z   Instance owner should able to delete LDAP users
2025-04-15T08:41:07.8659474Z     âœ“ don't transfer workflows (24 ms)
2025-04-15T08:41:07.8659582Z     âœ“ transfer workflows and credentials (29 ms)
2025-04-15T08:41:07.8659586Z 
2025-04-15T08:41:07.8659682Z PASS src/auth/__tests__/auth.service.test.ts
2025-04-15T08:41:07.8659738Z   AuthService
2025-04-15T08:41:07.8659788Z     createJWTHash
2025-04-15T08:41:07.8659894Z       âœ“ should generate unique hashes (8 ms)
2025-04-15T08:41:07.8659945Z     authMiddleware
2025-04-15T08:41:07.8660052Z       âœ“ should 401 if no cookie is set (1 ms)
2025-04-15T08:41:07.8660358Z       âœ“ should 401 and clear the cookie if the JWT is expired (3 ms)
2025-04-15T08:41:07.8660531Z       âœ“ should 401 and clear the cookie if the JWT has been invalidated (1 ms)
2025-04-15T08:41:07.8660652Z       âœ“ should refresh the cookie before it expires (2 ms)
2025-04-15T08:41:07.8660710Z     issueCookie
2025-04-15T08:41:07.8660837Z       âœ“ should issue a cookie with the correct options (1 ms)
2025-04-15T08:41:07.8660943Z       âœ“ should allow changing cookie options
2025-04-15T08:41:07.8660992Z     issueJWT
2025-04-15T08:41:07.8661100Z       when not setting userManagement.jwtSessionDuration
2025-04-15T08:41:07.8661210Z         âœ“ should default to expire in 7 days (1 ms)
2025-04-15T08:41:07.8661310Z       when setting userManagement.jwtSessionDuration
2025-04-15T08:41:07.8661411Z         âœ“ should apply it to tokens (2 ms)
2025-04-15T08:41:07.8661460Z     resolveJwt
2025-04-15T08:41:07.8661569Z       âœ“ should throw on invalid tokens (12 ms)
2025-04-15T08:41:07.8661789Z       âœ“ should throw on expired tokens (1 ms)
2025-04-15T08:41:07.8661891Z       âœ“ should throw on tampered tokens (2 ms)
2025-04-15T08:41:07.8661986Z       âœ“ should throw on hijacked tokens (1 ms)
2025-04-15T08:41:07.8662114Z       âœ“ should throw if no user is found (1 ms)
2025-04-15T08:41:07.8662240Z       âœ“ should throw if the user is disabled (1 ms)
2025-04-15T08:41:07.8662415Z       âœ“ should throw if user password does not match the one on the token (1 ms)
2025-04-15T08:41:07.8662560Z       âœ“ should throw if user email does not match the one on the token
2025-04-15T08:41:07.8662687Z       âœ“ should refresh the cookie before it expires (2 ms)
2025-04-15T08:41:07.8662853Z       âœ“ should refresh the cookie only if less than 1/4th of time is left (4 ms)
2025-04-15T08:41:07.8663059Z       âœ“ should not refresh the cookie if jwtRefreshTimeoutHours is set to -1 (2 ms)
2025-04-15T08:41:07.8663156Z     generatePasswordResetUrl
2025-04-15T08:41:07.8663332Z       âœ“ should generate a valid url (2 ms)
2025-04-15T08:41:07.8663460Z     generatePasswordResetToken
2025-04-15T08:41:07.8663682Z       âœ“ should generate valid password-reset tokens (2 ms)
2025-04-15T08:41:07.8663815Z     resolvePasswordResetToken
2025-04-15T08:41:07.8663977Z       âœ“ should not return a user if the token in invalid (1 ms)
2025-04-15T08:41:07.8664122Z       âœ“ should not return a user if the token in expired
2025-04-15T08:41:07.8664266Z       âœ“ should not return a user if the user does not exist in the DB
2025-04-15T08:41:07.8664425Z       âœ“ should not return a user if the password sha does not match (1 ms)
2025-04-15T08:41:07.8664550Z       âœ“ should not return the user if all checks pass (4 ms)
2025-04-15T08:41:07.8664608Z     invalidateToken
2025-04-15T08:41:07.8664695Z       âœ“ should invalidate the token
2025-04-15T08:41:07.8664700Z 
2025-04-15T08:41:07.8664849Z PASS src/services/__tests__/community-packages.service.test.ts
2025-04-15T08:41:07.8664910Z   CommunityPackagesService
2025-04-15T08:41:07.8664981Z     parseNpmPackageName()
2025-04-15T08:41:07.8665099Z       âœ“ should fail with empty package name (18 ms)
2025-04-15T08:41:07.8665234Z       âœ“ should fail with invalid package prefix name (1 ms)
2025-04-15T08:41:07.8665332Z       âœ“ should parse valid package name
2025-04-15T08:41:07.8665457Z       âœ“ should parse valid package name and version (1 ms)
2025-04-15T08:41:07.8665582Z       âœ“ should parse valid package name, scope and version
2025-04-15T08:41:07.8665671Z     executeCommand()
2025-04-15T08:41:07.8665853Z       âœ“ should call command with valid options (1 ms)
2025-04-15T08:41:07.8665944Z       âœ“ should make sure folder exists
2025-04-15T08:41:07.8666142Z       âœ“ should try to create folder if it does not exist (1 ms)
2025-04-15T08:41:07.8666325Z       âœ“ should throw especial error when package is not found (1 ms)
2025-04-15T08:41:07.8666456Z     crossInformationPackage()
2025-04-15T08:41:07.8666623Z       âœ“ should return same list if availableUpdates is undefined
2025-04-15T08:41:07.8666825Z       âœ“ should correctly match update versions for packages
2025-04-15T08:41:07.8667134Z       âœ“ should correctly match update versions for single package
2025-04-15T08:41:07.8667274Z     matchMissingPackages()
2025-04-15T08:41:07.8667440Z       âœ“ should not match failed packages that do not exist (4 ms)
2025-04-15T08:41:07.8667656Z       âœ“ should match failed packages that should be present (1 ms)
2025-04-15T08:41:07.8667817Z       âœ“ should match failed packages even if version is wrong
2025-04-15T08:41:07.8667948Z     checkNpmPackageStatus()
2025-04-15T08:41:07.8668063Z       âœ“ should call axios.post
2025-04-15T08:41:07.8668223Z       âœ“ should not fail if request fails
2025-04-15T08:41:07.8668345Z       âœ“ should warn if package is banned
2025-04-15T08:41:07.8668479Z     hasPackageLoadedSuccessfully()
2025-04-15T08:41:07.8668650Z       âœ“ should return true when failed package list does not exist
2025-04-15T08:41:07.8668877Z       âœ“ should return true when package is not in the list of missing packages
2025-04-15T08:41:07.8669076Z       âœ“ should return false when package is in the list of missing packages
2025-04-15T08:41:07.8669298Z     removePackageFromMissingList()
2025-04-15T08:41:07.8669418Z       âœ“ should do nothing if key does not exist (1 ms)
2025-04-15T08:41:07.8669530Z       âœ“ should remove only correct package from list
2025-04-15T08:41:07.8669653Z       âœ“ should not remove if package is not in the list
2025-04-15T08:41:07.8669707Z     updateNpmModule
2025-04-15T08:41:07.8669856Z       âœ“ should call `exec` with the correct command and registry (1 ms)
2025-04-15T08:41:07.8669958Z       âœ“ should throw when not licensed (1 ms)
2025-04-15T08:41:07.8669963Z 
2025-04-15T08:41:07.8670148Z PASS test/integration/public-api/executions.test.ts
2025-04-15T08:41:07.8670237Z   GET /executions/:id
2025-04-15T08:41:07.8670419Z     âœ“ should fail due to missing API Key (31 ms)
2025-04-15T08:41:07.8670553Z     âœ“ should fail due to invalid API Key (17 ms)
2025-04-15T08:41:07.8670764Z     âœ“ owner should be able to get an execution owned by him (294 ms)
2025-04-15T08:41:07.8670980Z     âœ“ owner should be able to read executions of other users (22 ms)
2025-04-15T08:41:07.8671147Z     âœ“ member should be able to fetch his own executions (16 ms)
2025-04-15T08:41:07.8671397Z     âœ“ member should not be able to fetch custom data when includeData is not set (40 ms)
2025-04-15T08:41:07.8671589Z     âœ“ member should be able to fetch custom data when includeData=true (47 ms)
2025-04-15T08:41:07.8671867Z     âœ“ member should not get an execution of another user without the workflow being shared (19 ms)
2025-04-15T08:41:07.8672072Z     âœ“ member should be able to fetch executions of workflows shared with him (18 ms)
2025-04-15T08:41:07.8672199Z   DELETE /executions/:id
2025-04-15T08:41:07.8672336Z     âœ“ should fail due to missing API Key (8 ms)
2025-04-15T08:41:07.8672507Z     âœ“ should fail due to invalid API Key (8 ms)
2025-04-15T08:41:07.8672632Z     âœ“ should delete an execution (38 ms)
2025-04-15T08:41:07.8672753Z   GET /executions
2025-04-15T08:41:07.8672887Z     âœ“ should fail due to missing API Key (16 ms)
2025-04-15T08:41:07.8673061Z     âœ“ should fail due to invalid API Key (5 ms)
2025-04-15T08:41:07.8673211Z     âœ“ should retrieve all successful executions (31 ms)
2025-04-15T08:41:07.8673379Z     âœ“ should paginate two executions (36 ms)
2025-04-15T08:41:07.8673521Z     âœ“ should retrieve all error executions (26 ms)
2025-04-15T08:41:07.8673725Z     âœ“ should return all waiting executions (36 ms)
2025-04-15T08:41:07.8673936Z     âœ“ should retrieve all executions of specific workflow (39 ms)
2025-04-15T08:41:07.8674098Z     âœ“ should return executions filtered by project ID (24 ms)
2025-04-15T08:41:07.8674326Z     âœ“ owner should retrieve all executions regardless of ownership (70 ms)
2025-04-15T08:41:07.8674523Z     âœ“ member should not see executions of workflows not shared with him (50 ms)
2025-04-15T08:41:07.8674751Z     âœ“ member should also see executions of workflows shared with him (49 ms)
2025-04-15T08:41:07.8674755Z 
2025-04-15T08:41:07.8674941Z PASS test/integration/deduplication/deduplication-helper.test.ts
2025-04-15T08:41:07.8675224Z   Deduplication.DeduplicationHelper
2025-04-15T08:41:07.8675496Z     âœ“ Deduplication (mode: entries): DeduplicationHelper should record and check data correctly (10 ms)
2025-04-15T08:41:07.8675874Z     âœ“ Deduplication (mode: entries): DeduplicationHelper different contexts should not interfere with each other (10 ms)
2025-04-15T08:41:07.8676241Z     âœ“ Deduplication (mode: entries): DeduplicationHelper check maxEntries (6 ms)
2025-04-15T08:41:07.8676480Z     âœ“ removeProcessed should throw error for latest modes (14 ms)
2025-04-15T08:41:07.8676755Z     âœ“ clearAllProcessedItems should delete all processed items for workflow scope (4 ms)
2025-04-15T08:41:07.8676979Z     âœ“ clearAllProcessedItems should delete all processed items for node scope (4 ms)
2025-04-15T08:41:07.8677280Z     âœ“ clearAllProcessedItems should not clear workflow processed items when clearing node scope (6 ms)
2025-04-15T08:41:07.8677546Z     âœ“ clearAllProcessedItems should not clear node processed items when clearing workflow scope (16 ms)
2025-04-15T08:41:07.8677996Z     âœ“ getProcessedDataCount should return correct count for different modes (5 ms)
2025-04-15T08:41:07.8678241Z     Deduplication (mode: latestIncrementalKey): DeduplicationHelper should record and check data correctly
2025-04-15T08:41:07.8678381Z       âœ“ dates (14 ms)
2025-04-15T08:41:07.8678489Z       âœ“ numbers (4 ms)
2025-04-15T08:41:07.8678494Z 
2025-04-15T08:41:07.8678740Z PASS test/integration/evaluation/test-definitions.api.test.ts (5.41 s)
2025-04-15T08:41:07.8678886Z   GET /evaluation/test-definitions
2025-04-15T08:41:07.8679046Z     âœ“ should retrieve empty test definitions list (50 ms)
2025-04-15T08:41:07.8679227Z     âœ“ should retrieve test definitions list (30 ms)
2025-04-15T08:41:07.8679408Z     âœ“ should retrieve test definitions list with pagination (47 ms)
2025-04-15T08:41:07.8679621Z     âœ“ should retrieve test definitions list for a workflow (76 ms)
2025-04-15T08:41:07.8679847Z     âœ“ should return error if user has no access to the workflowId specified in filter (39 ms)
2025-04-15T08:41:07.8679998Z   GET /evaluation/test-definitions/:id
2025-04-15T08:41:07.8680132Z     âœ“ should retrieve test definition (21 ms)
2025-04-15T08:41:07.8680338Z     âœ“ should return 404 for non-existent test definition (29 ms)
2025-04-15T08:41:07.8680529Z     âœ“ should retrieve test definition with evaluation workflow (35 ms)
2025-04-15T08:41:07.8680816Z     âœ“ should not retrieve test definition if user does not have access to workflow under test (33 ms)
2025-04-15T08:41:07.8680924Z   POST /evaluation/test-definitions
2025-04-15T08:41:07.8681087Z     âœ“ should create test definition (25 ms)
2025-04-15T08:41:07.8681266Z     âœ“ should create test definition with evaluation workflow (43 ms)
2025-04-15T08:41:07.8681463Z     âœ“ should create test definition with all fields (32 ms)
2025-04-15T08:41:07.8681603Z     âœ“ should return error if name is empty (27 ms)
2025-04-15T08:41:07.8681820Z     âœ“ should return error if user has no access to the workflow (43 ms)
2025-04-15T08:41:07.8682065Z     âœ“ should return error if user has no access to the evaluation workflow (35 ms)
2025-04-15T08:41:07.8682175Z   PATCH /evaluation/test-definitions/:id
2025-04-15T08:41:07.8682344Z     âœ“ should update test definition (44 ms)
2025-04-15T08:41:07.8682522Z     âœ“ should return 404 if user has no access to the workflow (26 ms)
2025-04-15T08:41:07.8682733Z     âœ“ should update test definition with evaluation workflow (44 ms)
2025-04-15T08:41:07.8682931Z     âœ“ should return error if user has no access to the evaluation workflow (35 ms)
2025-04-15T08:41:07.8683091Z     âœ“ should disallow workflowId (33 ms)
2025-04-15T08:41:07.8683218Z     âœ“ should update annotationTagId (43 ms)
2025-04-15T08:41:07.8683418Z     âœ“ should return error if annotationTagId is invalid (36 ms)
2025-04-15T08:41:07.8683541Z     âœ“ should update pinned nodes (39 ms)
2025-04-15T08:41:07.8683789Z     âœ“ should return error if pinned nodes are invalid (21 ms)
2025-04-15T08:41:07.8683975Z     âœ“ should return error if pinned nodes are not in the workflow (25 ms)
2025-04-15T08:41:07.8684232Z   DELETE /evaluation/test-definitions/:id
2025-04-15T08:41:07.8684360Z     âœ“ should delete test definition (46 ms)
2025-04-15T08:41:07.8684563Z     âœ“ should return 404 if test definition does not exist (40 ms)
2025-04-15T08:41:07.8684738Z     âœ“ should return 404 if user has no access to the workflow (40 ms)
2025-04-15T08:41:07.8684882Z   POST /evaluation/test-definitions/:id/run
2025-04-15T08:41:07.8685041Z     âœ“ should trigger the test run (31 ms)
2025-04-15T08:41:07.8685046Z 
2025-04-15T08:41:07.8685197Z PASS src/__tests__/load-nodes-and-credentials.test.ts
2025-04-15T08:41:07.8685330Z   LoadNodesAndCredentials
2025-04-15T08:41:07.8685411Z     resolveIcon
2025-04-15T08:41:07.8685654Z       âœ“ should return undefined if the loader for the package is not found (2 ms)
2025-04-15T08:41:07.8685877Z       âœ“ should return undefined if the resolved file path is outside the loader directory
2025-04-15T08:41:07.8686308Z       âœ“ should return the file path if the file is within the loader directory
2025-04-15T08:41:07.8686816Z       âœ“ should return undefined if the URL is outside the package directory (1 ms)
2025-04-15T08:41:07.8686943Z     convertNodeToAiTool
2025-04-15T08:41:07.8687100Z       âœ“ should modify the name and displayName correctly
2025-04-15T08:41:07.8687277Z       âœ“ should update inputs and outputs (1 ms)
2025-04-15T08:41:07.8687426Z       âœ“ should remove the usableAsTool property (1 ms)
2025-04-15T08:41:07.8687649Z       âœ“ should add toolDescription property if it doesn't exist (1 ms)
2025-04-15T08:41:07.8687815Z       âœ“ should set codex categories correctly
2025-04-15T08:41:07.8687958Z       âœ“ should preserve existing properties (1 ms)
2025-04-15T08:41:07.8688141Z       âœ“ should handle nodes with resource property
2025-04-15T08:41:07.8688270Z       âœ“ should handle nodes with operation property (1 ms)
2025-04-15T08:41:07.8688517Z       âœ“ should handle nodes with both resource and operation properties (10 ms)
2025-04-15T08:41:07.8688663Z       âœ“ should handle nodes with empty properties
2025-04-15T08:41:07.8688867Z       âœ“ should handle nodes with existing codex property (1 ms)
2025-04-15T08:41:07.8689062Z       âœ“ should handle nodes with existing codex with tool subcategory overwrite
2025-04-15T08:41:07.8689230Z       âœ“ should handle nodes with very long names
2025-04-15T08:41:07.8689431Z       âœ“ should handle nodes with special characters in name and displayName (1 ms)
2025-04-15T08:41:07.8689556Z     resolveSchema
2025-04-15T08:41:07.8689706Z       âœ“ should return undefined if the node is not known
2025-04-15T08:41:07.8689899Z       âœ“ should return the correct path if the node is known
2025-04-15T08:41:07.8690088Z       âœ“ should return the correct path if there is no resource or operation
2025-04-15T08:41:07.8690210Z     createAiTools
2025-04-15T08:41:07.8690370Z       âœ“ should create AI tools for nodes marked as usableAsTool
2025-04-15T08:41:07.8690558Z       âœ“ should duplicate supportedNodes for AI tools (1 ms)
2025-04-15T08:41:07.8690762Z       âœ“ should not modify nodes without usableAsTool property
2025-04-15T08:41:07.8690953Z       âœ“ should handle nodes with usableAsTool as an object with replacements
2025-04-15T08:41:07.8690959Z 
2025-04-15T08:41:07.8691244Z PASS test/integration/controllers/invitation/invitation.controller.integration.test.ts
2025-04-15T08:41:07.8691341Z   InvitationController
2025-04-15T08:41:07.8691479Z     POST /invitations/:id/accept
2025-04-15T08:41:07.8691615Z       âœ“ should fill out a member shell (139 ms)
2025-04-15T08:41:07.8691785Z       âœ“ should fill out an admin shell (87 ms)
2025-04-15T08:41:07.8691922Z       âœ“ should fail with invalid payloads (24 ms)
2025-04-15T08:41:07.8692111Z       âœ“ should fail with already accepted invite (86 ms)
2025-04-15T08:41:07.8692198Z     POST /invitations
2025-04-15T08:41:07.8692371Z       âœ“ should fail with invalid payloads (50 ms)
2025-04-15T08:41:07.8692508Z       âœ“ should return 200 on empty payload (6 ms)
2025-04-15T08:41:07.8692694Z       âœ“ should return 200 if emailing is not set up (8 ms)
2025-04-15T08:41:07.8692993Z       âœ“ should create member shell (7 ms)
2025-04-15T08:41:07.8693207Z       âœ“ should create personal project for shell account (9 ms)
2025-04-15T08:41:07.8693439Z       âœ“ should create admin shell when advanced permissions is licensed (7 ms)
2025-04-15T08:41:07.8693604Z       âœ“ should reinvite member when sharing is licensed (12 ms)
2025-04-15T08:41:07.8693876Z       âœ“ should reinvite admin when advanced permissions is licensed (12 ms)
2025-04-15T08:41:07.8694113Z       âœ“ should return 403 on creating admin shell when advanced permissions is unlicensed (11 ms)
2025-04-15T08:41:07.8694379Z       âœ“ should email invites and create user shells, without inviting existing users (32 ms)
2025-04-15T08:41:07.8694592Z       âœ“ should return 200 and surface error when invite method throws error (23 ms)
2025-04-15T08:41:07.8694597Z 
2025-04-15T08:41:07.8694841Z PASS src/controllers/oauth/__tests__/oauth2-credential.controller.test.ts
2025-04-15T08:41:07.8695066Z   OAuth2CredentialController
2025-04-15T08:41:07.8695183Z     getAuthUri
2025-04-15T08:41:07.8695415Z       âœ“ should throw a BadRequestError when credentialId is missing in the query (19 ms)
2025-04-15T08:41:07.8695684Z       âœ“ should throw a NotFoundError when no matching credential is found for the user (1 ms)
2025-04-15T08:41:07.8695856Z       âœ“ should return a valid auth URI (4 ms)
2025-04-15T08:41:07.8695939Z     handleCallback
2025-04-15T08:41:07.8696178Z       âœ“ should render the error page when required query params are missing (1 ms)
2025-04-15T08:41:07.8696361Z       âœ“ should render the error page when `state` query param is invalid
2025-04-15T08:41:07.8696587Z       âœ“ should render the error page when credential is not found in DB (1 ms)
2025-04-15T08:41:07.8696893Z       âœ“ should render the error page when csrfSecret on the saved credential does not match the state (1 ms)
2025-04-15T08:41:07.8697110Z       âœ“ should render the error page when state is older than 5 minutes
2025-04-15T08:41:07.8697298Z       âœ“ should render the error page when code exchange fails (47 ms)
2025-04-15T08:41:07.8697530Z       âœ“ should exchange the code for a valid token, and save it to DB (24 ms)
2025-04-15T08:41:07.8697686Z       âœ“ merges oauthTokenData if it already exists (10 ms)
2025-04-15T08:41:07.8697895Z       âœ“ overwrites oauthTokenData if it is a string (17 ms)
2025-04-15T08:41:07.8697899Z 
2025-04-15T08:41:07.8698060Z PASS test/integration/variables.test.ts
2025-04-15T08:41:07.8698145Z   GET /variables
2025-04-15T08:41:07.8698392Z     âœ“ should return an empty array if there is nothing in the cache (27 ms)
2025-04-15T08:41:07.8698544Z     âœ“ should return all variables for an owner (14 ms)
2025-04-15T08:41:07.8698727Z     âœ“ should return all variables for a member (18 ms)
2025-04-15T08:41:07.8698810Z     state:empty
2025-04-15T08:41:07.8698979Z       âœ“ only return empty variables (14 ms)
2025-04-15T08:41:07.8699068Z   GET /variables/:id
2025-04-15T08:41:07.8699264Z     âœ“ should return a single variable for an owner (16 ms)
2025-04-15T08:41:07.8699425Z     âœ“ should return a single variable for a member (15 ms)
2025-04-15T08:41:07.8699565Z   POST /variables
2025-04-15T08:41:07.8699836Z     âœ“ should create a new variable and return it for an owner (15 ms)
2025-04-15T08:41:07.8700142Z     âœ“ should not create a new variable and return it for a member (8 ms)
2025-04-15T08:41:07.8700526Z     âœ“ should not create a new variable and return it if the instance doesn't have a license (6 ms)
2025-04-15T08:41:07.8700775Z     âœ“ should fail to create a new variable and if one with the same key exists (14 ms)
2025-04-15T08:41:07.8700928Z     âœ“ should not fail if variable limit not reached (8 ms)
2025-04-15T08:41:07.8701108Z     âœ“ should fail if variable limit reached (28 ms)
2025-04-15T08:41:07.8701270Z     âœ“ should fail if key too long (5 ms)
2025-04-15T08:41:07.8701398Z     âœ“ should fail if value too long (4 ms)
2025-04-15T08:41:07.8701601Z     âœ“ should fail if key contain's prohibited characters (6 ms)
2025-04-15T08:41:07.8701839Z   PATCH /variables/:id
2025-04-15T08:41:07.8702100Z     âœ“ should modify existing variable if use is an owner (10 ms)
2025-04-15T08:41:07.8702327Z     âœ“ should modify existing variable if use is an owner (6 ms)
2025-04-15T08:41:07.8702623Z     âœ“ should not modify existing variable if use is a member (7 ms)
2025-04-15T08:41:07.8702935Z     âœ“ should not modify existing variable if one with the same key exists (8 ms)
2025-04-15T08:41:07.8703091Z   DELETE /variables/:id
2025-04-15T08:41:07.8703319Z     âœ“ should delete a single variable for an owner (16 ms)
2025-04-15T08:41:07.8703600Z     âœ“ should not delete a single variable for a member (14 ms)
2025-04-15T08:41:07.8703606Z 
2025-04-15T08:41:07.8703913Z PASS src/workflows/__tests__/workflow-execution.service.test.ts
2025-04-15T08:41:07.8704050Z   WorkflowExecutionService
2025-04-15T08:41:07.8704134Z     runWorkflow()
2025-04-15T08:41:07.8704318Z       âœ“ should call `WorkflowRunner.run()` (3 ms)
2025-04-15T08:41:07.8704448Z     executeManually()
2025-04-15T08:41:07.8704901Z       âœ“ should call `WorkflowRunner.run()` with correct parameters with default partial execution logic (2 ms)
2025-04-15T08:41:07.8705123Z       âœ“ removes runData if the destination node is a trigger (1 ms)
2025-04-15T08:41:07.8705342Z       âœ“ should call WorkflowRunner.run() with pinned trigger with type trigger (2 ms)
2025-04-15T08:41:07.8705593Z       âœ“ should call WorkflowRunner.run() with pinned trigger with type webhook (2 ms)
2025-04-15T08:41:07.8705729Z       âœ“ should start from pinned trigger (1 ms)
2025-04-15T08:41:07.8705959Z       âœ“ should ignore pinned trigger and start from unexecuted trigger (1 ms)
2025-04-15T08:41:07.8706067Z     selectPinnedActivatorStarter()
2025-04-15T08:41:07.8706233Z       âœ“ should return `null` if no pindata
2025-04-15T08:41:07.8706399Z       âœ“ should return `null` if no starter nodes (1 ms)
2025-04-15T08:41:07.8706670Z       âœ“ should select webhook node if only choice
2025-04-15T08:41:07.8706820Z       âœ“ should return `null` if no choice (1 ms)
2025-04-15T08:41:07.8707004Z       âœ“ should return ignore Respond to Webhook
2025-04-15T08:41:07.8707181Z       âœ“ should select execute workflow trigger if only choice (1 ms)
2025-04-15T08:41:07.8707383Z       âœ“ should favor webhook node over execute workflow trigger
2025-04-15T08:41:07.8707567Z       âœ“ should favor first webhook node over second webhook node (1 ms)
2025-04-15T08:41:07.8707715Z       offloading manual executions to workers
2025-04-15T08:41:07.8707993Z         âœ“ when receiving no `runData`, should set `runData` to undefined in `executionData` (4 ms)
2025-04-15T08:41:07.8707999Z 
2025-04-15T08:41:07.8708144Z PASS src/__tests__/manual-execution.service.test.ts
2025-04-15T08:41:07.8708276Z   ManualExecutionService
2025-04-15T08:41:07.8708366Z     getExecutionStartNode
2025-04-15T08:41:07.8708527Z       âœ“ Should return undefined (2 ms)
2025-04-15T08:41:07.8708645Z       âœ“ Should return startNode
2025-04-15T08:41:07.8708830Z       âœ“ Should return triggerToStartFrom trigger node
2025-04-15T08:41:07.8708912Z     runManually
2025-04-15T08:41:07.8709245Z       âœ“ should correctly process triggerToStartFrom data when data.triggerToStartFrom.data is present (2 ms)
2025-04-15T08:41:07.8709487Z       âœ“ should correctly include destinationNode in executionData when provided (1 ms)
2025-04-15T08:41:07.8709764Z       âœ“ should call workflowExecute.run for full execution when no runData or startNodes (1 ms)
2025-04-15T08:41:07.8709981Z       âœ“ should use execution start node when available for full execution (1 ms)
2025-04-15T08:41:07.8710284Z       âœ“ should handle partial execution with provided runData, startNodes and no destinationNode (1 ms)
2025-04-15T08:41:07.8710508Z       âœ“ should handle partial execution with partialExecutionVersion=2
2025-04-15T08:41:07.8710651Z       âœ“ should validate nodes exist before execution
2025-04-15T08:41:07.8710850Z       âœ“ should handle pinData correctly when provided (1 ms)
2025-04-15T08:41:07.8710854Z 
2025-04-15T08:41:07.8710978Z PASS test/integration/mfa/mfa.api.test.ts
2025-04-15T08:41:07.8711266Z   Enable MFA setup
2025-04-15T08:41:07.8711348Z     Step one
2025-04-15T08:41:07.8711550Z       âœ“ GET /qr should fail due to unauthenticated user (42 ms)
2025-04-15T08:41:07.8711758Z       âœ“ GET /qr should reuse secret and recovery codes until setup is complete (53 ms)
2025-04-15T08:41:07.8711964Z       âœ“ GET /qr should return qr, secret and recovery codes (20 ms)
2025-04-15T08:41:07.8712046Z     Step two
2025-04-15T08:41:07.8712262Z       âœ“ POST /verify should fail due to unauthenticated user (12 ms)
2025-04-15T08:41:07.8712429Z       âœ“ POST /verify should fail due to invalid MFA code (18 ms)
2025-04-15T08:41:07.8712651Z       âœ“ POST /verify should fail due to missing mfaCode parameter (19 ms)
2025-04-15T08:41:07.8712832Z       âœ“ POST /verify should validate MFA code (15 ms)
2025-04-15T08:41:07.8712916Z     Step three
2025-04-15T08:41:07.8713123Z       âœ“ POST /enable should fail due to unauthenticated user (9 ms)
2025-04-15T08:41:07.8713306Z       âœ“ POST /verify should fail due to missing mfaCode parameter (11 ms)
2025-04-15T08:41:07.8713608Z       âœ“ POST /enable should fail due to invalid MFA code (24 ms)
2025-04-15T08:41:07.8713846Z       âœ“ POST /enable should fail due to empty secret and recovery codes (32 ms)
2025-04-15T08:41:07.8714031Z       âœ“ POST /enable should enable MFA in account (35 ms)
2025-04-15T08:41:07.8714205Z       âœ“ POST /enable should not enable MFA if pre check fails (20 ms)
2025-04-15T08:41:07.8714331Z   Disable MFA setup
2025-04-15T08:41:07.8714482Z     âœ“ POST /disable should disable login with MFA (31 ms)
2025-04-15T08:41:07.8714711Z     âœ“ POST /disable should fail if invalid MFA recovery code is given (35 ms)
2025-04-15T08:41:07.8714888Z     âœ“ POST /disable should fail if invalid MFA code is given (25 ms)
2025-04-15T08:41:07.8715135Z     âœ“ POST /disable should fail if neither MFA code nor recovery code is sent (35 ms)
2025-04-15T08:41:07.8715244Z   Change password with MFA enabled
2025-04-15T08:41:07.8715467Z     âœ“ POST /change-password should fail due to missing MFA code (41 ms)
2025-04-15T08:41:07.8715697Z     âœ“ POST /change-password should fail due to invalid MFA code (26 ms)
2025-04-15T08:41:07.8715944Z     âœ“ POST /change-password should update password (146 ms)
2025-04-15T08:41:07.8716071Z   MFA before enable checks
2025-04-15T08:41:07.8716277Z     âœ“ POST /can-enable should throw error if mfa.beforeSetup returns error (18 ms)
2025-04-15T08:41:07.8716526Z     âœ“ POST /can-enable should not throw error if mfa.beforeSetup does not exist (21 ms)
2025-04-15T08:41:07.8716607Z   Login
2025-04-15T08:41:07.8716846Z     âœ“ POST /login with email/password should succeed when mfa is disabled (45 ms)
2025-04-15T08:41:07.8717088Z     âœ“ GET /login should not include mfaSecret and mfaRecoveryCodes property in response (14 ms)
2025-04-15T08:41:07.8717318Z     âœ“ POST /login with email/password should fail when mfa is enabled (23 ms)
2025-04-15T08:41:07.8717403Z     Login with MFA token
2025-04-15T08:41:07.8717600Z       âœ“ POST /login should fail due to invalid MFA token (41 ms)
2025-04-15T08:41:07.8717769Z       âœ“ POST /login should fail due two MFA step needed (18 ms)
2025-04-15T08:41:07.8717953Z       âœ“ POST /login should succeed with MFA token (48 ms)
2025-04-15T08:41:07.8718041Z     Login with recovery code
2025-04-15T08:41:07.8718258Z       âœ“ POST /login should fail due to invalid MFA recovery code (32 ms)
2025-04-15T08:41:07.8718423Z       âœ“ POST /login should succeed with MFA recovery code (51 ms)
2025-04-15T08:41:07.8718466Z 
2025-04-15T08:41:07.8718617Z PASS src/controllers/__tests__/me.controller.test.ts
2025-04-15T08:41:07.8718735Z   MeController
2025-04-15T08:41:07.8718822Z     updateCurrentUser
2025-04-15T08:41:07.8719036Z       âœ“ should update the user in the DB, and issue a new cookie (9 ms)
2025-04-15T08:41:07.8719260Z       âœ“ should throw BadRequestError if beforeUpdate hook throws BadRequestError (15 ms)
2025-04-15T08:41:07.8719383Z       when mfa is enabled
2025-04-15T08:41:07.8719557Z         âœ“ should throw BadRequestError if mfa code is missing (1 ms)
2025-04-15T08:41:07.8719924Z         âœ“ should throw InvalidMfaCodeError if mfa code is invalid (1 ms)
2025-04-15T08:41:07.8720094Z         âœ“ should update the user's email if mfa code is valid (1 ms)
2025-04-15T08:41:07.8720214Z     updatePassword
2025-04-15T08:41:07.8720387Z       âœ“ should throw if the user does not have a password set (1 ms)
2025-04-15T08:41:07.8720632Z       âœ“ should throw if currentPassword does not match the user's password (62 ms)
2025-04-15T08:41:07.8720825Z       âœ“ should update the password in the DB, and issue a new cookie (113 ms)
2025-04-15T08:41:07.8720980Z       should throw if newPassword is not valid
2025-04-15T08:41:07.8721116Z         âœ“ pass (67 ms)
2025-04-15T08:41:07.8721222Z         âœ“ password (58 ms)
2025-04-15T08:41:07.8721366Z         âœ“ password1 (56 ms)
2025-04-15T08:41:07.8721448Z       mfa enabled
2025-04-15T08:41:07.8721665Z         âœ“ should throw BadRequestError if mfa code is missing (55 ms)
2025-04-15T08:41:07.8721866Z         âœ“ should throw InvalidMfaCodeError if invalid mfa code is given (55 ms)
2025-04-15T08:41:07.8722191Z         âœ“ should succeed when mfa code is correct (110 ms)
2025-04-15T08:41:07.8722281Z     storeSurveyAnswers
2025-04-15T08:41:07.8722520Z       âœ“ should throw BadRequestError if answers are missing in the payload (4 ms)
2025-04-15T08:41:07.8722699Z       âœ“ should not flag XSS attempt for `<` sign in company size (4 ms)
2025-04-15T08:41:07.8722983Z       âœ“ should throw BadRequestError on XSS attempt for an array field automationGoalDevops (1 ms)
2025-04-15T08:41:07.8723237Z       âœ“ should throw BadRequestError on XSS attempt for an array field companyIndustryExtended (1 ms)
2025-04-15T08:41:07.8723533Z       âœ“ should throw BadRequestError on XSS attempt for an array field otherCompanyIndustryExtended
2025-04-15T08:41:07.8723812Z       âœ“ should throw BadRequestError on XSS attempt for an array field automationGoalSm (1 ms)
2025-04-15T08:41:07.8724056Z       âœ“ should throw BadRequestError on XSS attempt for an array field usageModes
2025-04-15T08:41:07.8724335Z       âœ“ should throw BadRequestError on XSS attempt for a string field automationGoalDevopsOther
2025-04-15T08:41:07.8724564Z       âœ“ should throw BadRequestError on XSS attempt for a string field companySize (1 ms)
2025-04-15T08:41:07.8724807Z       âœ“ should throw BadRequestError on XSS attempt for a string field companyType
2025-04-15T08:41:07.8725053Z       âœ“ should throw BadRequestError on XSS attempt for a string field automationGoalSmOther (1 ms)
2025-04-15T08:41:07.8725294Z       âœ“ should throw BadRequestError on XSS attempt for a string field roleOther
2025-04-15T08:41:07.8725523Z       âœ“ should throw BadRequestError on XSS attempt for a string field reportedSource (1 ms)
2025-04-15T08:41:07.8725788Z       âœ“ should throw BadRequestError on XSS attempt for a string field reportedSourceOther
2025-04-15T08:41:07.8725793Z 
2025-04-15T08:41:07.8725936Z PASS src/webhooks/__tests__/webhook-helpers.test.ts
2025-04-15T08:41:07.8726279Z   autoDetectResponseMode
2025-04-15T08:41:07.8726569Z     âœ“ should return undefined if start node is WAIT_NODE_TYPE with resume not equal to form (9 ms)
2025-04-15T08:41:07.8726811Z     âœ“ should return responseNode when start node is FORM_NODE_TYPE and method is POST (1 ms)
2025-04-15T08:41:07.8727128Z     âœ“ should return undefined when start node is FORM_NODE_TYPE with no other form child nodes
2025-04-15T08:41:07.8727312Z     âœ“ should return undefined for non-matching node type and method (1 ms)
2025-04-15T08:41:07.8727446Z   handleFormRedirectionCase
2025-04-15T08:41:07.8727683Z     âœ“ should return data unchanged if start node is WAIT_NODE_TYPE with resume not equal to form
2025-04-15T08:41:07.8727940Z     âœ“ should modify data if start node type matches and responseCode is a redirect (1 ms)
2025-04-15T08:41:07.8728113Z     âœ“ should not modify data if location header is missing (1 ms)
2025-04-15T08:41:07.8728241Z   getResponseOnReceived
2025-04-15T08:41:07.8728427Z     âœ“ should return response with no data when responseData is "noData"
2025-04-15T08:41:07.8728652Z     âœ“ should return response with responseData when it is defined (1 ms)
2025-04-15T08:41:07.8729085Z     âœ“ should return response with webhookResponse when responseData is falsy but webhookResponse exists
2025-04-15T08:41:07.8729378Z     âœ“ should return default response message when responseData and webhookResponse are falsy (1 ms)
2025-04-15T08:41:07.8729508Z   setupResponseNodePromise
2025-04-15T08:41:07.8729654Z     âœ“ should handle regular response object (1 ms)
2025-04-15T08:41:07.8729823Z     âœ“ should handle binary data with ID (2 ms)
2025-04-15T08:41:07.8729954Z     âœ“ should handle buffer response (1 ms)
2025-04-15T08:41:07.8730119Z     âœ“ should handle errors properly (1 ms)
2025-04-15T08:41:07.8730209Z   prepareExecutionData
2025-04-15T08:41:07.8730410Z     âœ“ should create new execution data when not provided (1 ms)
2025-04-15T08:41:07.8730621Z     âœ“ should update existing runExecutionData when executionId is defined (1 ms)
2025-04-15T08:41:07.8730794Z     âœ“ should set destination node when provided
2025-04-15T08:41:07.8731075Z     âœ“ should update execution data with execution data merge
2025-04-15T08:41:07.8731274Z     âœ“ should set pinData when execution mode is manual (1 ms)
2025-04-15T08:41:07.8731471Z     âœ“ should not set pinData when execution mode is not manual or evaluation
2025-04-15T08:41:07.8731476Z 
2025-04-15T08:41:07.8731634Z PASS test/integration/me.api.test.ts
2025-04-15T08:41:07.8731720Z   Owner shell
2025-04-15T08:41:07.8731913Z     âœ“ PATCH /me should succeed with valid inputs (75 ms)
2025-04-15T08:41:07.8732099Z     âœ“ PATCH /me should fail with invalid inputs (92 ms)
2025-04-15T08:41:07.8732249Z     âœ“ PATCH /me/password should fail for shell (103 ms)
2025-04-15T08:41:07.8732449Z     âœ“ POST /me/survey should succeed with valid inputs (38 ms)
2025-04-15T08:41:07.8732532Z   Member
2025-04-15T08:41:07.8732717Z     âœ“ PATCH /me should succeed with valid inputs (36 ms)
2025-04-15T08:41:07.8732865Z     âœ“ PATCH /me should fail with invalid inputs (91 ms)
2025-04-15T08:41:07.8733080Z     âœ“ PATCH /me/password should succeed with valid inputs (123 ms)
2025-04-15T08:41:07.8733258Z     âœ“ PATCH /me/password should fail with invalid inputs (93 ms)
2025-04-15T08:41:07.8733454Z     âœ“ POST /me/survey should succeed with valid inputs (32 ms)
2025-04-15T08:41:07.8733533Z   Owner
2025-04-15T08:41:07.8733766Z     âœ“ PATCH /me should succeed with valid inputs (21 ms)
2025-04-15T08:41:07.8733771Z 
2025-04-15T08:41:07.8733913Z PASS src/webhooks/__tests__/webhook.service.test.ts
2025-04-15T08:41:07.8734033Z   WebhookService
2025-04-15T08:41:07.8734150Z     findWebhook() - static case [cache enabled]
2025-04-15T08:41:07.8734326Z       âœ“ should return the webhook if found (3 ms)
2025-04-15T08:41:07.8734492Z       âœ“ should return null if not found (1 ms)
2025-04-15T08:41:07.8734608Z     findWebhook() - dynamic case [cache enabled]
2025-04-15T08:41:07.8734779Z       âœ“ should return the webhook if found (1 ms)
2025-04-15T08:41:07.8734910Z       âœ“ should handle subset dynamic path case
2025-04-15T08:41:07.8735111Z       âœ“ should handle single-segment dynamic path case (1 ms)
2025-04-15T08:41:07.8735243Z       âœ“ should return null if not found
2025-04-15T08:41:07.8735394Z     findWebhook() - static case [cache disabled]
2025-04-15T08:41:07.8735529Z       âœ“ should return the webhook if found (1 ms)
2025-04-15T08:41:07.8735687Z       âœ“ should return null if not found
2025-04-15T08:41:07.8735803Z     findWebhook() - dynamic case [cache disabled]
2025-04-15T08:41:07.8735970Z       âœ“ should return the webhook if found
2025-04-15T08:41:07.8736115Z       âœ“ should handle subset dynamic path case (1 ms)
2025-04-15T08:41:07.8736300Z       âœ“ should handle single-segment dynamic path case
2025-04-15T08:41:07.8736422Z       âœ“ should return null if not found
2025-04-15T08:41:07.8736544Z     getWebhookMethods()
2025-04-15T08:41:07.8736684Z       âœ“ should return all methods for webhook (1 ms)
2025-04-15T08:41:07.8736912Z       âœ“ should return empty array if no webhooks found
2025-04-15T08:41:07.8737005Z     deleteWorkflowWebhooks()
2025-04-15T08:41:07.8737121Z       âœ“ should delete all webhooks of the workflow
2025-04-15T08:41:07.8737357Z       âœ“ should not delete any webhooks if none found (1 ms)
2025-04-15T08:41:07.8737417Z     createWebhook()
2025-04-15T08:41:07.8737510Z       âœ“ should store webhook in DB
2025-04-15T08:41:07.8737564Z     getNodeWebhooks()
2025-04-15T08:41:07.8737680Z       âœ“ should return empty array if node is disabled
2025-04-15T08:41:07.8737813Z       âœ“ should return webhooks for node with webhook definitions
2025-04-15T08:41:07.8737885Z     createWebhookIfNotExists()
2025-04-15T08:41:07.8738005Z       âœ“ should create webhook if it does not exist (3 ms)
2025-04-15T08:41:07.8738136Z       âœ“ should not create webhook if it already exists (1 ms)
2025-04-15T08:41:07.8738264Z       âœ“ should handle case when webhook methods are not defined
2025-04-15T08:41:07.8738327Z     deleteWebhook()
2025-04-15T08:41:07.8738444Z       âœ“ should call runWebhookMethod with delete (1 ms)
2025-04-15T08:41:07.8738497Z     runWebhook()
2025-04-15T08:41:07.8738630Z       âœ“ should throw error if node does not have webhooks (12 ms)
2025-04-15T08:41:07.8738915Z       âœ“ should execute webhook and return response data (1 ms)
2025-04-15T08:41:07.8738919Z 
2025-04-15T08:41:07.8739418Z (node:5742) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 uncaughtException listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
2025-04-15T08:41:07.8739581Z (Use `node --trace-warnings ...` to show where the warning was created)
2025-04-15T08:41:07.8739773Z PASS test/integration/environments/source-control-import.service.test.ts
2025-04-15T08:41:07.8739839Z   SourceControlImportService
2025-04-15T08:41:07.8739930Z     importCredentialsFromWorkFolder()
2025-04-15T08:41:07.8740107Z       if user email specified by `ownedBy` exists at target instance
2025-04-15T08:41:07.8740334Z         âœ“ should assign credential ownership to original user (31 ms)
2025-04-15T08:41:07.8740458Z       if user email specified by `ownedBy` is `null`
2025-04-15T08:41:07.8740691Z         âœ“ should assign credential ownership to importing user (7 ms)
2025-04-15T08:41:07.8740858Z       if user email specified by `ownedBy` does not exist at target instance
2025-04-15T08:41:07.8741077Z         âœ“ should assign credential ownership to importing user (6 ms)
2025-04-15T08:41:07.8741231Z     if owner specified by `ownedBy` does not exist at target instance
2025-04-15T08:41:07.8741604Z       âœ“ should assign the credential ownership to the importing user if it was owned by a personal project in the source instance (8 ms)
2025-04-15T08:41:07.8741931Z       âœ“ should create a new team project if the credential was owned by a team project in the source instance (17 ms)
2025-04-15T08:41:07.8742078Z     if owner specified by `ownedBy` does exist at target instance
2025-04-15T08:41:07.8742336Z       âœ“ should use the existing team project if credential owning project is found (9 ms)
2025-04-15T08:41:07.8742609Z       âœ“ should not change the owner if the credential is owned by somebody else on the target instance (12 ms)
2025-04-15T08:41:07.8742760Z 
2025-04-15T08:41:07.8742921Z PASS test/integration/auth.api.test.ts
2025-04-15T08:41:07.8743010Z   POST /login
2025-04-15T08:41:07.8743169Z     âœ“ should log user in (45 ms)
2025-04-15T08:41:07.8743402Z     âœ“ should log user with MFA enabled (23 ms)
2025-04-15T08:41:07.8743856Z     âœ“ should throw AuthError for non-owner if not within users limit quota (58 ms)
2025-04-15T08:41:07.8744119Z     âœ“ should not throw AuthError for owner if not within users limit quota (27 ms)
2025-04-15T08:41:07.8744387Z     âœ“ should fail with invalid email in the payload is the current authentication method is "email" (19 ms)
2025-04-15T08:41:07.8744511Z   GET /login
2025-04-15T08:41:07.8744671Z     âœ“ should return 401 Unauthorized if no cookie (9 ms)
2025-04-15T08:41:07.8744875Z     âœ“ should return 401 Unauthorized if invalid cookie (3 ms)
2025-04-15T08:41:07.8745022Z     âœ“ should return logged-in owner shell (12 ms)
2025-04-15T08:41:07.8745204Z     âœ“ should return logged-in member shell (14 ms)
2025-04-15T08:41:07.8745526Z     âœ“ should return logged-in owner (14 ms)
2025-04-15T08:41:07.8745693Z     âœ“ should return logged-in member (16 ms)
2025-04-15T08:41:07.8745788Z   GET /resolve-signup-token
2025-04-15T08:41:07.8745954Z     âœ“ should validate invite token (22 ms)
2025-04-15T08:41:07.8746106Z     âœ“ should return 403 if user quota reached (22 ms)
2025-04-15T08:41:07.8746279Z     âœ“ should fail with invalid inputs (29 ms)
2025-04-15T08:41:07.8746362Z   POST /logout
2025-04-15T08:41:07.8746524Z     âœ“ should log user out (15 ms)
2025-04-15T08:41:07.8746530Z 
2025-04-15T08:41:07.8746679Z PASS test/integration/commands/ldap/reset.test.ts
2025-04-15T08:41:07.8747022Z   âœ“ fails if neither `--userId` nor `--projectId` nor `--deleteWorkflowsAndCredentials` is passed (31 ms)
2025-04-15T08:41:07.8747321Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (4 ms)
2025-04-15T08:41:07.8747576Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
2025-04-15T08:41:07.8747868Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
2025-04-15T08:41:07.8748123Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
2025-04-15T08:41:07.8748269Z   --deleteWorkflowsAndCredentials
2025-04-15T08:41:07.8748521Z     âœ“ deletes personal projects, workflows and credentials owned by LDAP managed users (136 ms)
2025-04-15T08:41:07.8748691Z     âœ“ deletes the LDAP sync history (8 ms)
2025-04-15T08:41:07.8748812Z     âœ“ resets LDAP settings (20 ms)
2025-04-15T08:41:07.8748932Z   --userId
2025-04-15T08:41:07.8749069Z     âœ“ fails if the user does not exist (5 ms)
2025-04-15T08:41:07.8749281Z     âœ“ fails if the user to migrate to is also an LDAP user (13 ms)
2025-04-15T08:41:07.8749499Z     âœ“ transfers all workflows and credentials to the user's personal project (77 ms)
2025-04-15T08:41:07.8749623Z   --projectId
2025-04-15T08:41:07.8749804Z     âœ“ fails if the project does not exist (3 ms)
2025-04-15T08:41:07.8749975Z     âœ“ fails if the user to migrate to is also an LDAP user (8 ms)
2025-04-15T08:41:07.8750210Z     âœ“ transfers all workflows and credentials to a personal project (50 ms)
2025-04-15T08:41:07.8750398Z     âœ“ transfers all workflows and credentials to a team project (64 ms)
2025-04-15T08:41:07.8750404Z 
2025-04-15T08:41:07.8750677Z PASS src/executions/pre-execution-checks/__tests__/subworkflow-policy-checker.test.ts
2025-04-15T08:41:07.8750777Z   SubworkflowPolicyChecker
2025-04-15T08:41:07.8750901Z     no caller policy
2025-04-15T08:41:07.8751103Z       âœ“ should fall back to `N8N_WORKFLOW_CALLER_POLICY_DEFAULT_OPTION` (13 ms)
2025-04-15T08:41:07.8751251Z     `workflows-from-list` caller policy
2025-04-15T08:41:07.8751433Z       âœ“ should allow if caller list contains parent workflow ID (1 ms)
2025-04-15T08:41:07.8751650Z       âœ“ should deny if caller list does not contain parent workflow ID
2025-04-15T08:41:07.8751908Z     `any` caller policy
2025-04-15T08:41:07.8752114Z       âœ“ should not throw on a regular subworkflow call (1 ms)
2025-04-15T08:41:07.8752272Z     `workflows-from-same-owner` caller policy
2025-04-15T08:41:07.8752453Z       âœ“ should deny if the two workflows are owned by different projects
2025-04-15T08:41:07.8752679Z       âœ“ should allow if both workflows are owned by the same project (1 ms)
2025-04-15T08:41:07.8752763Z     error details
2025-04-15T08:41:07.8752961Z       âœ“ should contain description for accessible case (1 ms)
2025-04-15T08:41:07.8753153Z       âœ“ should contain description for inaccessible personal project case
2025-04-15T08:41:07.8753387Z       âœ“ should contain description for inaccessible team project case (1 ms)
2025-04-15T08:41:07.8753574Z       âœ“ should contain description for default (e.g. error workflow) case
2025-04-15T08:41:07.8753579Z 
2025-04-15T08:41:07.8753784Z PASS src/__tests__/active-executions.test.ts
2025-04-15T08:41:07.8753873Z   ActiveExecutions
2025-04-15T08:41:07.8754233Z     âœ“ Should initialize activeExecutions with empty list (4 ms)
2025-04-15T08:41:07.8754393Z     âœ“ Should add execution to active execution list (1 ms)
2025-04-15T08:41:07.8754615Z     âœ“ Should update execution if add is called with execution ID (1 ms)
2025-04-15T08:41:07.8754858Z     âœ“ Should attach and resolve response promise to existing execution (1 ms)
2025-04-15T08:41:07.8755099Z     âœ“ Should copy over startedAt and responsePromise when resuming a waiting execution (1 ms)
2025-04-15T08:41:07.8755229Z     attachWorkflowExecution
2025-04-15T08:41:07.8755410Z       âœ“ Should fail attaching execution to invalid executionId (14 ms)
2025-04-15T08:41:07.8755621Z       âœ“ Should successfully attach execution to valid executionId
2025-04-15T08:41:07.8755709Z     finalizeExecution
2025-04-15T08:41:07.8755878Z       âœ“ Should not remove a waiting execution
2025-04-15T08:41:07.8756020Z       âœ“ Should remove an existing execution (8 ms)
2025-04-15T08:41:07.8756263Z       âœ“ Should not try to resolve a post-execute promise for an inactive execution
2025-04-15T08:41:07.8756436Z       âœ“ Should resolve post execute promise on removal (3 ms)
2025-04-15T08:41:07.8756586Z     getPostExecutePromise
2025-04-15T08:41:07.8756811Z       âœ“ Should throw error when trying to create a promise with invalid execution (1 ms)
2025-04-15T08:41:07.8756943Z     stopExecution
2025-04-15T08:41:07.8757123Z       âœ“ Should cancel ongoing executions (2 ms)
2025-04-15T08:41:07.8757297Z       âœ“ Should cancel waiting executions
2025-04-15T08:41:07.8757378Z     shutdown
2025-04-15T08:41:07.8757630Z       âœ“ Should cancel only executions with response-promises by default (8 ms)
2025-04-15T08:41:07.8758005Z       âœ“ Should cancel all executions when cancelAll is true (2 ms)
2025-04-15T08:41:07.8758016Z 
2025-04-15T08:41:07.8758213Z PASS src/telemetry/__tests__/telemetry.test.ts
2025-04-15T08:41:07.8758367Z   Telemetry
2025-04-15T08:41:07.8758510Z     trackWorkflowExecution
2025-04-15T08:41:07.8758757Z       âœ“ should count executions correctly (6 ms)
2025-04-15T08:41:07.8759105Z       âœ“ should fire "Workflow execution errored" event for failed executions (2 ms)
2025-04-15T08:41:07.8759318Z       âœ“ should track production executions count correctly (7 ms)
2025-04-15T08:41:07.8759405Z     Rudderstack
2025-04-15T08:41:07.8759749Z       âœ“ should call rudderStack.identify() with a fake IP address to instruct Rudderstack to not use the user's IP address
2025-04-15T08:41:07.8760040Z       âœ“ should call rudderStack.track() with a fake IP address to instruct Rudderstack to not use the user's IP address
2025-04-15T08:41:07.8760045Z 
2025-04-15T08:41:07.8760238Z PASS test/integration/public-api/credentials.test.ts
2025-04-15T08:41:07.8760366Z   POST /credentials
2025-04-15T08:41:07.8760497Z     âœ“ should create credentials (194 ms)
2025-04-15T08:41:07.8760670Z     âœ“ should fail with invalid inputs (21 ms)
2025-04-15T08:41:07.8760761Z   DELETE /credentials/:id
2025-04-15T08:41:07.8760935Z     âœ“ should delete owned cred for owner (15 ms)
2025-04-15T08:41:07.8761290Z     âœ“ should delete non-owned cred for owner (24 ms)
2025-04-15T08:41:07.8761468Z     âœ“ should delete owned cred for member (47 ms)
2025-04-15T08:41:07.8761669Z     âœ“ should delete owned cred for member but leave others untouched (42 ms)
2025-04-15T08:41:07.8761859Z     âœ“ should not delete non-owned cred for member (23 ms)
2025-04-15T08:41:07.8761993Z     âœ“ should fail if cred not found (11 ms)
2025-04-15T08:41:07.8762133Z   GET /credentials/schema/:credentialType
2025-04-15T08:41:07.8762270Z     âœ“ should fail due to not found type (6 ms)
2025-04-15T08:41:07.8762481Z     âœ“ should retrieve credential type (5 ms)
2025-04-15T08:41:07.8762631Z   PUT /credentials/:id/transfer
2025-04-15T08:41:07.8762823Z     âœ“ should transfer credential to project (66 ms)
2025-04-15T08:41:07.8763031Z     âœ“ should transfer the right credential, not the first one it finds (30 ms)
2025-04-15T08:41:07.8763225Z     âœ“ if no destination project, should reject (14 ms)
2025-04-15T08:41:07.8763229Z 
2025-04-15T08:41:07.8763527Z PASS test/integration/eventbus.ee.test.ts
2025-04-15T08:41:07.8763727Z   âœ“ should have a running logwriter process (2 ms)
2025-04-15T08:41:07.8763902Z   âœ“ should have logwriter log messages (15 ms)
2025-04-15T08:41:07.8764049Z   âœ“ should anonymize audit message to syslog  (6 ms)
2025-04-15T08:41:07.8764219Z   âœ“ should send message to webhook  (6 ms)
2025-04-15T08:41:07.8764343Z   âœ“ should send message to sentry  (4 ms)
2025-04-15T08:41:07.8764577Z   âœ“ DELETE /eventbus/destination delete all destinations by id (14 ms)
2025-04-15T08:41:07.8764666Z   GET /eventbus/destination
2025-04-15T08:41:07.8764858Z     âœ“ should fail due to missing authentication (11 ms)
2025-04-15T08:41:07.8765031Z     âœ“ all returned destinations should exist in eventbus (7 ms)
2025-04-15T08:41:07.8765162Z   POST /eventbus/destination
2025-04-15T08:41:07.8765290Z     âœ“ create syslog destination (7 ms)
2025-04-15T08:41:07.8765453Z     âœ“ create sentry destination (5 ms)
2025-04-15T08:41:07.8765581Z     âœ“ create webhook destination (6 ms)
2025-04-15T08:41:07.8765598Z 
2025-04-15T08:41:07.8765831Z PASS test/integration/external-secrets/external-secrets.api.test.ts
2025-04-15T08:41:07.8766088Z   GET /external-secrets/providers
2025-04-15T08:41:07.8766259Z     âœ“ can retrieve providers as owner (20 ms)
2025-04-15T08:41:07.8766450Z     âœ“ can not retrieve providers as non-owner (23 ms)
2025-04-15T08:41:07.8766574Z     âœ“ does obscure passwords (7 ms)
2025-04-15T08:41:07.8766725Z   GET /external-secrets/providers/:provider
2025-04-15T08:41:07.8766857Z     âœ“ can retrieve provider as owner (6 ms)
2025-04-15T08:41:07.8767034Z     âœ“ can not retrieve provider as non-owner (12 ms)
2025-04-15T08:41:07.8767157Z     âœ“ does obscure passwords (9 ms)
2025-04-15T08:41:07.8767307Z   POST /external-secrets/providers/:provider
2025-04-15T08:41:07.8767423Z     âœ“ can update provider settings (13 ms)
2025-04-15T08:41:07.8767627Z     âœ“ can update provider settings with blanking value (21 ms)
2025-04-15T08:41:07.8767759Z   POST /external-secrets/providers/:provider/connect
2025-04-15T08:41:07.8767949Z     âœ“ can change provider connected state (11 ms)
2025-04-15T08:41:07.8768072Z   POST /external-secrets/providers/:provider/test
2025-04-15T08:41:07.8768231Z     âœ“ can test provider (6 ms)
2025-04-15T08:41:07.8768351Z     âœ“ can test provider fail (5 ms)
2025-04-15T08:41:07.8768512Z   POST /external-secrets/providers/:provider/update
2025-04-15T08:41:07.8768632Z     âœ“ can update provider (9 ms)
2025-04-15T08:41:07.8768803Z     âœ“ can not update errored provider (24 ms)
2025-04-15T08:41:07.8769002Z     âœ“ can not update provider without a valid license (10 ms)
2025-04-15T08:41:07.8769104Z   GET /external-secrets/secrets
2025-04-15T08:41:07.8769253Z     âœ“ can get secret names as owner (4 ms)
2025-04-15T08:41:07.8769395Z     âœ“ can not get secret names as non-owner (4 ms)
2025-04-15T08:41:07.8769400Z 
2025-04-15T08:41:07.8769593Z PASS test/integration/active-workflow-manager.test.ts
2025-04-15T08:41:07.8769661Z   init()
2025-04-15T08:41:07.8769823Z     âœ“ should load workflows into memory (24 ms)
2025-04-15T08:41:07.8770104Z     âœ“ should call external hook (3 ms)
2025-04-15T08:41:07.8770298Z     âœ“ should check that workflow can be activated (33 ms)
2025-04-15T08:41:07.8770382Z   isActive()
2025-04-15T08:41:07.8770594Z     âœ“ should return `true` for active workflow in storage (29 ms)
2025-04-15T08:41:07.8770774Z     âœ“ should return `false` for inactive workflow in storage (24 ms)
2025-04-15T08:41:07.8770890Z   add()
2025-04-15T08:41:07.8771112Z     âœ“ should count workflow triggers correctly when node has multiple webhooks (11 ms)
2025-04-15T08:41:07.8771258Z     in single-main mode
2025-04-15T08:41:07.8771507Z       âœ“ should add webhooks, triggers and pollers for workflow in 'activate' activation mode (11 ms)
2025-04-15T08:41:07.8771787Z       âœ“ should add webhooks, triggers and pollers for workflow in 'update' activation mode (18 ms)
2025-04-15T08:41:07.8771907Z   removeAll()
2025-04-15T08:41:07.8772071Z     âœ“ should remove all active workflows from memory (19 ms)
2025-04-15T08:41:07.8772351Z   remove()
2025-04-15T08:41:07.8772443Z     in single-main mode
2025-04-15T08:41:07.8772664Z       âœ“ should remove all webhooks of a workflow from database (22 ms)
2025-04-15T08:41:07.8772862Z       âœ“ should remove all webhooks of a workflow from external service (20 ms)
2025-04-15T08:41:07.8773055Z       âœ“ should stop running triggers and pollers (14 ms)
2025-04-15T08:41:07.8773146Z   executeErrorWorkflow()
2025-04-15T08:41:07.8773353Z     âœ“ should be called on failure to activate due to 401 (17 ms)
2025-04-15T08:41:07.8773435Z   addWebhooks()
2025-04-15T08:41:07.8773667Z     âœ“ should call `WebhookService.storeWebhook()` (28 ms)
2025-04-15T08:41:07.8773674Z 
2025-04-15T08:41:07.8773851Z PASS test/integration/evaluation/test-runs.api.test.ts
2025-04-15T08:41:07.8774035Z   GET /evaluation/test-definitions/:testDefinitionId/runs
2025-04-15T08:41:07.8774265Z     âœ“ should retrieve empty list of runs for a test definition (40 ms)
2025-04-15T08:41:07.8774438Z     âœ“ should return 404 if test definition does not exist (43 ms)
2025-04-15T08:41:07.8774688Z     âœ“ should return 404 if user does not have access to test definition (20 ms)
2025-04-15T08:41:07.8774860Z     âœ“ should retrieve list of runs for a test definition (34 ms)
2025-04-15T08:41:07.8775100Z     âœ“ should retrieve list of runs for a test definition with pagination (62 ms)
2025-04-15T08:41:07.8775253Z   GET /evaluation/test-definitions/:testDefinitionId/runs/:id
2025-04-15T08:41:07.8775453Z     âœ“ should retrieve test run for a test definition (30 ms)
2025-04-15T08:41:07.8775606Z     âœ“ should return 404 if test run does not exist (24 ms)
2025-04-15T08:41:07.8775845Z     âœ“ should return 404 if user does not have access to test definition (39 ms)
2025-04-15T08:41:07.8776050Z     âœ“ should retrieve test run for a test definition of a shared workflow (55 ms)
2025-04-15T08:41:07.8776244Z   DELETE /evaluation/test-definitions/:testDefinitionId/runs/:id
2025-04-15T08:41:07.8776399Z     âœ“ should delete test run for a test definition (33 ms)
2025-04-15T08:41:07.8776599Z     âœ“ should return 404 if test run does not exist (59 ms)
2025-04-15T08:41:07.8776923Z     âœ“ should return 404 if user does not have access to test definition (24 ms)
2025-04-15T08:41:07.8777218Z   POST /evaluation/test-definitions/:testDefinitionId/runs/:id/cancel
2025-04-15T08:41:07.8777404Z     âœ“ should cancel test run (55 ms)
2025-04-15T08:41:07.8777560Z     âœ“ should return 404 if test run does not exist (21 ms)
2025-04-15T08:41:07.8777763Z     âœ“ should return 404 if test definition does not exist (32 ms)
2025-04-15T08:41:07.8777958Z     âœ“ should return 404 if user does not have access to test definition (26 ms)
2025-04-15T08:41:07.8777963Z 
2025-04-15T08:41:07.8778146Z PASS test/integration/prometheus-metrics.test.ts
2025-04-15T08:41:07.8778244Z   PrometheusMetricsService
2025-04-15T08:41:07.8778408Z     âœ“ should return n8n version (18 ms)
2025-04-15T08:41:07.8778557Z     âœ“ should return default metrics if enabled (5 ms)
2025-04-15T08:41:07.8778750Z     âœ“ should not return default metrics if disabled (2 ms)
2025-04-15T08:41:07.8779060Z     âœ“ should return cache metrics if enabled (2 ms)
2025-04-15T08:41:07.8779250Z     âœ“ should not return cache metrics if disabled (9 ms)
2025-04-15T08:41:07.8779390Z     âœ“ should return route metrics if enabled (6 ms)
2025-04-15T08:41:07.8779604Z     âœ“ should include last activity metric with route metrics (18 ms)
2025-04-15T08:41:07.8779803Z     âœ“ should return labels in route metrics if enabled (4 ms)
2025-04-15T08:41:07.8779941Z     âœ“ should return queue metrics if enabled (2 ms)
2025-04-15T08:41:07.8780180Z     âœ“ should set queue metrics in response to `job-counts-updated` event (1 ms)
2025-04-15T08:41:07.8780319Z     âœ“ should return active workflow count (17 ms)
2025-04-15T08:41:07.8780323Z 
2025-04-15T08:41:07.8780497Z PASS src/commands/__tests__/community-node.test.ts
2025-04-15T08:41:07.8780589Z   uninstallCredential
2025-04-15T08:41:07.8780754Z     âœ“ should delete a credential (4 ms)
2025-04-15T08:41:07.8780883Z     âœ“ should return if the user is not found
2025-04-15T08:41:07.8781224Z     âœ“ should return if the credential is not found (1 ms)
2025-04-15T08:41:07.8781347Z     âœ“ should delete multiple credentials (1 ms)
2025-04-15T08:41:07.8781473Z   uninstallPackage
2025-04-15T08:41:07.8781601Z     âœ“ should uninstall the package (1 ms)
2025-04-15T08:41:07.8781790Z     âœ“ should uninstall all nodes from a package (4 ms)
2025-04-15T08:41:07.8781924Z     âœ“ should return if a package is not found
2025-04-15T08:41:07.8782092Z     âœ“ should return if nodes are not found
2025-04-15T08:41:07.8782096Z 
2025-04-15T08:41:07.8782276Z PASS test/integration/public-api/projects.test.ts
2025-04-15T08:41:07.8782369Z   Projects in Public API
2025-04-15T08:41:07.8782488Z     GET /projects
2025-04-15T08:41:07.8782679Z       âœ“ if licensed, should return all projects with pagination (381 ms)
2025-04-15T08:41:07.8782853Z       âœ“ if not authenticated, should reject (6 ms)
2025-04-15T08:41:07.8782985Z       âœ“ if not licensed, should reject (14 ms)
2025-04-15T08:41:07.8783155Z       âœ“ if missing scope, should reject (21 ms)
2025-04-15T08:41:07.8783248Z     POST /projects
2025-04-15T08:41:07.8783437Z       âœ“ if licensed, should create a new project (30 ms)
2025-04-15T08:41:07.8783575Z       âœ“ if not authenticated, should reject (5 ms)
2025-04-15T08:41:07.8783781Z       âœ“ if not licensed, should reject (10 ms)
2025-04-15T08:41:07.8783915Z       âœ“ if missing scope, should reject (19 ms)
2025-04-15T08:41:07.8784039Z     DELETE /projects/:id
2025-04-15T08:41:07.8784182Z       âœ“ if licensed, should delete a project (47 ms)
2025-04-15T08:41:07.8784361Z       âœ“ if not authenticated, should reject (9 ms)
2025-04-15T08:41:07.8784492Z       âœ“ if not licensed, should reject (25 ms)
2025-04-15T08:41:07.8784667Z       âœ“ if missing scope, should reject (19 ms)
2025-04-15T08:41:07.8784790Z     PUT /projects/:id
2025-04-15T08:41:07.8784932Z       âœ“ if licensed, should update a project (31 ms)
2025-04-15T08:41:07.8785109Z       âœ“ if not authenticated, should reject (6 ms)
2025-04-15T08:41:07.8785244Z       âœ“ if not licensed, should reject (19 ms)
2025-04-15T08:41:07.8785421Z       âœ“ if missing scope, should reject (19 ms)
2025-04-15T08:41:07.8785425Z 
2025-04-15T08:41:07.8785608Z PASS src/executions/__tests__/execution-recovery.service.test.ts
2025-04-15T08:41:07.8785724Z   ExecutionRecoveryService
2025-04-15T08:41:07.8785810Z     recoverFromLogs
2025-04-15T08:41:07.8785944Z       if follower
2025-04-15T08:41:07.8786064Z         âœ“ should do nothing (15 ms)
2025-04-15T08:41:07.8786202Z       if leader, with 0 messages
2025-04-15T08:41:07.8786359Z         âœ“ should return `null` if no execution found (9 ms)
2025-04-15T08:41:07.8786551Z         âœ“ should update `status` and `stoppedAt` (31 ms)
2025-04-15T08:41:07.8786653Z       if leader, with 1+ messages
2025-04-15T08:41:07.8786880Z         âœ“ for successful dataful execution, should return `null` (24 ms)
2025-04-15T08:41:07.8787034Z         âœ“ should return `null` if no execution found (4 ms)
2025-04-15T08:41:07.8787325Z         âœ“ for successful dataless execution, should update `status`, `stoppedAt` and `data` (46 ms)
2025-04-15T08:41:07.8787778Z         âœ“ for running execution, should update `status`, `stoppedAt` and `data` if last node did not finish (17 ms)
2025-04-15T08:41:07.8787993Z         âœ“ should update `status`, `stoppedAt` and `data` if last node finished (19 ms)
2025-04-15T08:41:07.8787997Z 
2025-04-15T08:41:07.8788161Z PASS test/integration/api-keys.api.test.ts
2025-04-15T08:41:07.8788257Z   When public API is disabled
2025-04-15T08:41:07.8788431Z     âœ“ POST /api-keys should 404 (59 ms)
2025-04-15T08:41:07.8788560Z     âœ“ GET /api-keys should 404 (16 ms)
2025-04-15T08:41:07.8788727Z     âœ“ DELETE /api-key/:id should 404 (10 ms)
2025-04-15T08:41:07.8788809Z   Owner shell
2025-04-15T08:41:07.8789043Z     âœ“ POST /api-keys should create an api key with no expiration (21 ms)
2025-04-15T08:41:07.8789226Z     âœ“ POST /api-keys should create an api key with expiration (15 ms)
2025-04-15T08:41:07.8789430Z     âœ“ GET /api-keys should fetch the api key redacted (32 ms)
2025-04-15T08:41:07.8789742Z     âœ“ DELETE /api-keys/:id should delete the api key (18 ms)
2025-04-15T08:41:07.8789863Z   Member
2025-04-15T08:41:07.8790069Z     âœ“ POST /api-keys should create an api key with no expiration (28 ms)
2025-04-15T08:41:07.8790244Z     âœ“ POST /api-keys should create an api key with expiration (14 ms)
2025-04-15T08:41:07.8790473Z     âœ“ POST /api-keys should fail if max number of API keys reached (16 ms)
2025-04-15T08:41:07.8790616Z     âœ“ GET /api-keys should fetch the api key redacted (21 ms)
2025-04-15T08:41:07.8790798Z     âœ“ DELETE /api-keys/:id should delete the api key (41 ms)
2025-04-15T08:41:07.8790803Z 
2025-04-15T08:41:07.8790973Z PASS src/controllers/oauth/__tests__/oauth1-credential.controller.test.ts
2025-04-15T08:41:07.8791111Z   OAuth1CredentialController
2025-04-15T08:41:07.8791193Z     getAuthUri
2025-04-15T08:41:07.8791459Z       âœ“ should throw a BadRequestError when credentialId is missing in the query (31 ms)
2025-04-15T08:41:07.8791674Z       âœ“ should throw a NotFoundError when no matching credential is found for the user
2025-04-15T08:41:07.8791854Z       âœ“ should return a valid auth URI (72 ms)
2025-04-15T08:41:07.8791939Z     handleCallback
2025-04-15T08:41:07.8792183Z       âœ“ should render the error page when required query params are missing (1 ms)
2025-04-15T08:41:07.8792404Z       âœ“ should render the error page when `state` query param is invalid (1 ms)
2025-04-15T08:41:07.8792597Z       âœ“ should render the error page when credential is not found in DB (1 ms)
2025-04-15T08:41:07.8792871Z       âœ“ should render the error page when state differs from the stored state in the credential (1 ms)
2025-04-15T08:41:07.8793066Z       âœ“ should render the error page when state is older than 5 minutes (1 ms)
2025-04-15T08:41:07.8793265Z       âœ“ should exchange the code for a valid token, and save it to DB (13 ms)
2025-04-15T08:41:07.8793270Z 
2025-04-15T08:41:07.8793499Z PASS src/task-runners/task-managers/__tests__/data-request-response-stripper.test.ts
2025-04-15T08:41:07.8793624Z   DataRequestResponseStripper
2025-04-15T08:41:07.8793742Z     all data
2025-04-15T08:41:07.8793995Z       âœ“ should build the runExecutionData as is when everything is requested (3 ms)
2025-04-15T08:41:07.8794081Z     envProviderState
2025-04-15T08:41:07.8794264Z       âœ“ should filter out envProviderState when it's not requested
2025-04-15T08:41:07.8794349Z     input data
2025-04-15T08:41:07.8794512Z       âœ“ drops input data from result
2025-04-15T08:41:07.8794666Z       âœ“ returns only chunked data
2025-04-15T08:41:07.8794746Z     nodes
2025-04-15T08:41:07.8794980Z       âœ“ should return empty run data when only Code node is requested (1 ms)
2025-04-15T08:41:07.8795169Z       âœ“ should return empty run data when only Code node is requested (1 ms)
2025-04-15T08:41:07.8795435Z       âœ“ should return only DebugHelper's data when only DebugHelper node is requested (1 ms)
2025-04-15T08:41:07.8795631Z       âœ“ should return DebugHelper's data when only prevNode node is requested
2025-04-15T08:41:07.8795763Z     passthrough properties
2025-04-15T08:41:07.8796026Z       âœ“ it doesn't change workflow (1 ms)
2025-04-15T08:41:07.8796202Z       âœ“ it doesn't change connectionInputSource
2025-04-15T08:41:07.8796325Z       âœ“ it doesn't change node (3 ms)
2025-04-15T08:41:07.8796486Z       âœ“ it doesn't change runIndex (1 ms)
2025-04-15T08:41:07.8796609Z       âœ“ it doesn't change itemIndex
2025-04-15T08:41:07.8796772Z       âœ“ it doesn't change activeNodeName
2025-04-15T08:41:07.8796904Z       âœ“ it doesn't change siblingParameters
2025-04-15T08:41:07.8797056Z       âœ“ it doesn't change mode
2025-04-15T08:41:07.8797208Z       âœ“ it doesn't change defaultReturnRunIndex (1 ms)
2025-04-15T08:41:07.8797361Z       âœ“ it doesn't change selfData
2025-04-15T08:41:07.8797489Z       âœ“ it doesn't change contextNodeName
2025-04-15T08:41:07.8797655Z       âœ“ it doesn't change additionalData
2025-04-15T08:41:07.8797659Z 
2025-04-15T08:41:07.8797841Z PASS src/scaling/__tests__/scaling.service.test.ts
2025-04-15T08:41:07.8797927Z   ScalingService
2025-04-15T08:41:07.8798188Z     setupQueue
2025-04-15T08:41:07.8798271Z       if leader main
2025-04-15T08:41:07.8798484Z         âœ“ should set up queue + listeners + queue recovery (5 ms)
2025-04-15T08:41:07.8798575Z       if follower main
2025-04-15T08:41:07.8798746Z         âœ“ should set up queue + listeners (1 ms)
2025-04-15T08:41:07.8798827Z       if worker
2025-04-15T08:41:07.8798985Z         âœ“ should set up queue + listeners
2025-04-15T08:41:07.8799070Z       webhook
2025-04-15T08:41:07.8799242Z         âœ“ should set up a queue + listeners (1 ms)
2025-04-15T08:41:07.8799326Z     setupWorker
2025-04-15T08:41:07.8799498Z       âœ“ should set up a worker with concurrency
2025-04-15T08:41:07.8799666Z       âœ“ should throw if called on a non-worker instance (15 ms)
2025-04-15T08:41:07.8799859Z       âœ“ should throw if called before queue is ready (1 ms)
2025-04-15T08:41:07.8799941Z     stop
2025-04-15T08:41:07.8800123Z       if main
2025-04-15T08:41:07.8800320Z         âœ“ should pause queue, stop queue recovery and queue metrics (1 ms)
2025-04-15T08:41:07.8800468Z       if worker
2025-04-15T08:41:07.8800635Z         âœ“ should pause queue and wait for running jobs to finish (1 ms)
2025-04-15T08:41:07.8800763Z     pingQueue
2025-04-15T08:41:07.8800936Z       âœ“ should ping the queue (1 ms)
2025-04-15T08:41:07.8801022Z     addJob
2025-04-15T08:41:07.8801184Z       âœ“ should add a job (1 ms)
2025-04-15T08:41:07.8801268Z     getJob
2025-04-15T08:41:07.8801410Z       âœ“ should get a job (1 ms)
2025-04-15T08:41:07.8801496Z     findJobsByStatus
2025-04-15T08:41:07.8801667Z       âœ“ should find jobs by status (1 ms)
2025-04-15T08:41:07.8801809Z       âœ“ should filter out `null` in Redis response (7 ms)
2025-04-15T08:41:07.8801934Z     stopJob
2025-04-15T08:41:07.8802061Z       âœ“ should stop an active job (1 ms)
2025-04-15T08:41:07.8802229Z       âœ“ should stop an inactive job (1 ms)
2025-04-15T08:41:07.8802368Z       âœ“ should report failure to stop a job (1 ms)
2025-04-15T08:41:07.8802372Z 
2025-04-15T08:41:07.8802549Z PASS test/integration/public-api/tags.test.ts
2025-04-15T08:41:07.8802643Z   GET /tags
2025-04-15T08:41:07.8802819Z     âœ“ should fail due to missing API Key (17 ms)
2025-04-15T08:41:07.8802955Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:41:07.8803116Z     âœ“ should return all tags (150 ms)
2025-04-15T08:41:07.8803262Z     âœ“ should return all tags with pagination (38 ms)
2025-04-15T08:41:07.8803384Z   GET /tags/:id
2025-04-15T08:41:07.8803517Z     âœ“ should fail due to missing API Key (6 ms)
2025-04-15T08:41:07.8803720Z     âœ“ should fail due to invalid API Key (3 ms)
2025-04-15T08:41:07.8803894Z     âœ“ should fail due to non-existing tag (6 ms)
2025-04-15T08:41:07.8804015Z     âœ“ should retrieve tag (6 ms)
2025-04-15T08:41:07.8804138Z   DELETE /tags/:id
2025-04-15T08:41:07.8804269Z     âœ“ should fail due to missing API Key (3 ms)
2025-04-15T08:41:07.8804437Z     âœ“ should fail due to invalid API Key (2 ms)
2025-04-15T08:41:07.8804571Z     âœ“ should fail due to non-existing tag (7 ms)
2025-04-15T08:41:07.8804730Z     âœ“ owner should delete the tag (8 ms)
2025-04-15T08:41:07.8805020Z     âœ“ non-owner should not delete tag (5 ms)
2025-04-15T08:41:07.8805140Z   POST /tags
2025-04-15T08:41:07.8805270Z     âœ“ should fail due to missing API Key (3 ms)
2025-04-15T08:41:07.8805435Z     âœ“ should fail due to invalid API Key (1 ms)
2025-04-15T08:41:07.8805566Z     âœ“ should fail due to invalid body (7 ms)
2025-04-15T08:41:07.8805721Z     âœ“ should create tag (6 ms)
2025-04-15T08:41:07.8805889Z     âœ“ should not create tag if tag with same name exists (5 ms)
2025-04-15T08:41:07.8806185Z   PUT /tags/:id
2025-04-15T08:41:07.8806386Z     âœ“ should fail due to missing API Key (2 ms)
2025-04-15T08:41:07.8806566Z     âœ“ should fail due to invalid API Key (2 ms)
2025-04-15T08:41:07.8806707Z     âœ“ should fail due to non-existing tag (20 ms)
2025-04-15T08:41:07.8806877Z     âœ“ should fail due to invalid body (9 ms)
2025-04-15T08:41:07.8806994Z     âœ“ should update tag (17 ms)
2025-04-15T08:41:07.8807221Z     âœ“ should fail if there is already a tag with a the new name (22 ms)
2025-04-15T08:41:07.8807444Z 
2025-04-15T08:41:07.8807645Z PASS src/executions/__tests__/execution.service.test.ts
2025-04-15T08:41:07.8807735Z   ExecutionService
2025-04-15T08:41:07.8807854Z     retry
2025-04-15T08:41:07.8808075Z       âœ“ should error on retrying a execution that was aborted before starting (26 ms)
2025-04-15T08:41:07.8808194Z     stop
2025-04-15T08:41:07.8808358Z       âœ“ should throw when stopping a missing execution (1 ms)
2025-04-15T08:41:07.8808578Z       âœ“ should throw when stopping a not-in-progress execution (1 ms)
2025-04-15T08:41:07.8808666Z       regular mode
2025-04-15T08:41:07.8808872Z         âœ“ should stop a `running` execution in regular mode (2 ms)
2025-04-15T08:41:07.8809046Z         âœ“ should stop a `waiting` execution in regular mode (14 ms)
2025-04-15T08:41:07.8809313Z         âœ“ should stop a concurrency-controlled `new` execution in regular mode (1 ms)
2025-04-15T08:41:07.8809410Z       scaling mode
2025-04-15T08:41:07.8809545Z         manual execution
2025-04-15T08:41:07.8809730Z           âœ“ should stop a `running` execution in scaling mode (4 ms)
2025-04-15T08:41:07.8809854Z         production execution
2025-04-15T08:41:07.8810033Z           âœ“ should stop a `running` execution in scaling mode (1 ms)
2025-04-15T08:41:07.8810258Z           âœ“ should stop a `waiting` execution in scaling mode (2 ms)
2025-04-15T08:41:07.8810263Z 
2025-04-15T08:41:07.8810432Z PASS test/integration/password-reset.api.test.ts
2025-04-15T08:41:07.8810528Z   POST /forgot-password
2025-04-15T08:41:07.8810710Z     âœ“ should send password reset email (48 ms)
2025-04-15T08:41:07.8810862Z     âœ“ should fail if emailing is not set up (57 ms)
2025-04-15T08:41:07.8811068Z     âœ“ should fail if SAML is authentication method (50 ms)
2025-04-15T08:41:07.8811251Z     âœ“ should succeed if SAML is authentication method and requestor is owner (39 ms)
2025-04-15T08:41:07.8811431Z     âœ“ should fail with invalid inputs (31 ms)
2025-04-15T08:41:07.8811566Z     âœ“ should fail if user is not found (23 ms)
2025-04-15T08:41:07.8811702Z   GET /resolve-password-token
2025-04-15T08:41:07.8811827Z     âœ“ should succeed with valid inputs (31 ms)
2025-04-15T08:41:07.8812016Z     âœ“ should fail with invalid inputs (29 ms)
2025-04-15T08:41:07.8812154Z     âœ“ should fail if user is not found (19 ms)
2025-04-15T08:41:07.8812330Z     âœ“ should fail if token is expired (15 ms)
2025-04-15T08:41:07.8812482Z     âœ“ should fail after password has changed (22 ms)
2025-04-15T08:41:07.8812617Z   POST /change-password
2025-04-15T08:41:07.8812793Z     âœ“ should succeed with valid inputs (157 ms)
2025-04-15T08:41:07.8812910Z     âœ“ should fail with invalid inputs (31 ms)
2025-04-15T08:41:07.8813060Z     âœ“ should fail when token has expired (12 ms)
2025-04-15T08:41:07.8813268Z     âœ“ owner should be able to reset its password when quota:users = 1 (133 ms)
2025-04-15T08:41:07.8813542Z     âœ“ member should not be able to reset its password when quota:users = 1 (86 ms)
2025-04-15T08:41:07.8813548Z 
2025-04-15T08:41:07.8813807Z PASS test/integration/pruning.service.test.ts
2025-04-15T08:41:07.8814210Z   softDeleteOnPruningCycle()
2025-04-15T08:41:07.8814333Z     when EXECUTIONS_DATA_PRUNE_MAX_COUNT is set
2025-04-15T08:41:07.8814594Z       âœ“ should mark as deleted based on EXECUTIONS_DATA_PRUNE_MAX_COUNT (36 ms)
2025-04-15T08:41:07.8814761Z       âœ“ should not re-mark already marked executions (11 ms)
2025-04-15T08:41:07.8814942Z       âœ“ should prune unknown executions (11 ms)
2025-04-15T08:41:07.8815084Z       âœ“ should prune canceled executions (12 ms)
2025-04-15T08:41:07.8815271Z       âœ“ should prune crashed executions (14 ms)
2025-04-15T08:41:07.8815407Z       âœ“ should prune error executions (9 ms)
2025-04-15T08:41:07.8815550Z       âœ“ should prune success executions (9 ms)
2025-04-15T08:41:07.8815723Z       âœ“ should not prune new executions (24 ms)
2025-04-15T08:41:07.8815868Z       âœ“ should not prune running executions (11 ms)
2025-04-15T08:41:07.8816052Z       âœ“ should not prune waiting executions (19 ms)
2025-04-15T08:41:07.8816203Z       âœ“ should not prune annotated executions (27 ms)
2025-04-15T08:41:07.8816664Z     when EXECUTIONS_DATA_MAX_AGE is set
2025-04-15T08:41:07.8816934Z       âœ“ should mark as deleted based on EXECUTIONS_DATA_MAX_AGE (13 ms)
2025-04-15T08:41:07.8817230Z       âœ“ should not re-mark already marked executions (7 ms)
2025-04-15T08:41:07.8817389Z       âœ“ should prune unknown executions (4 ms)
2025-04-15T08:41:07.8817558Z       âœ“ should prune canceled executions (6 ms)
2025-04-15T08:41:07.8817697Z       âœ“ should prune crashed executions (10 ms)
2025-04-15T08:41:07.8817870Z       âœ“ should prune error executions (7 ms)
2025-04-15T08:41:07.8818007Z       âœ“ should prune success executions (8 ms)
2025-04-15T08:41:07.8818174Z       âœ“ should not prune new executions (30 ms)
2025-04-15T08:41:07.8818280Z       âœ“ should not prune running executions (8 ms)
2025-04-15T08:41:07.8818466Z       âœ“ should not prune waiting executions (19 ms)
2025-04-15T08:41:07.8818616Z       âœ“ should not prune annotated executions (17 ms)
2025-04-15T08:41:07.8818669Z 
2025-04-15T08:41:07.8818798Z PASS src/__tests__/node-types.test.ts
2025-04-15T08:41:07.8818923Z   NodeTypes
2025-04-15T08:41:07.8819005Z     getByName
2025-04-15T08:41:07.8819192Z       âœ“ should return node type when it exists (3 ms)
2025-04-15T08:41:07.8819285Z     getByNameAndVersion
2025-04-15T08:41:07.8819488Z       âœ“ should throw an error if the package does not exist (16 ms)
2025-04-15T08:41:07.8819657Z       âœ“ should throw an error if the node-type does not exist (1 ms)
2025-04-15T08:41:07.8819802Z       âœ“ should return a regular node-type without version
2025-04-15T08:41:07.8819948Z       âœ“ should return a regular node-type with version
2025-04-15T08:41:07.8820248Z       âœ“ should throw when a node-type is requested as tool, but does not support being used as one (2 ms)
2025-04-15T08:41:07.8820494Z       âœ“ should throw when a node-type is requested as tool, but the original node is already a tool
2025-04-15T08:41:07.8820682Z       âœ“ should return the tool node-type when requested as tool (2 ms)
2025-04-15T08:41:07.8820906Z       âœ“ should return a tool node-type from a community node,  when requested as tool
2025-04-15T08:41:07.8821135Z       âœ“ should return a declarative node-type with an `.execute` method
2025-04-15T08:41:07.8821397Z       âœ“ should return a declarative node-type as a tool with an `.execute` method (4 ms)
2025-04-15T08:41:07.8821493Z     getWithSourcePath
2025-04-15T08:41:07.8821724Z       âœ“ should return description and source path for existing node (2 ms)
2025-04-15T08:41:07.8821877Z       âœ“ should throw error for non-existent node (1 ms)
2025-04-15T08:41:07.8821971Z     getKnownTypes
2025-04-15T08:41:07.8822101Z       âœ“ should return known node types
2025-04-15T08:41:07.8822247Z     getNodeTypeDescriptions
2025-04-15T08:41:07.8822415Z       âœ“ should return descriptions for valid node types (1 ms)
2025-04-15T08:41:07.8822597Z       âœ“ should throw error for invalid node type
2025-04-15T08:41:07.8822601Z 
2025-04-15T08:41:07.8822733Z PASS test/integration/saml/saml.api.test.ts
2025-04-15T08:41:07.8823045Z   Instance owner
2025-04-15T08:41:07.8823130Z     PATCH /me
2025-04-15T08:41:07.8823267Z       âœ“ should succeed with valid inputs (53 ms)
2025-04-15T08:41:07.8823490Z       âœ“ should throw BadRequestError if email is changed when SAML is enabled (40 ms)
2025-04-15T08:41:07.8823623Z     PATCH /password
2025-04-15T08:41:07.8823898Z       âœ“ should throw BadRequestError if password is changed when SAML is enabled (31 ms)
2025-04-15T08:41:07.8824035Z     POST /sso/saml/config
2025-04-15T08:41:07.8824193Z       âœ“ should post saml config (185 ms)
2025-04-15T08:41:07.8824338Z       âœ“ should return 400 on invalid config (7 ms)
2025-04-15T08:41:07.8824441Z     POST /sso/saml/config/toggle
2025-04-15T08:41:07.8824604Z       âœ“ should toggle saml as default authentication method (42 ms)
2025-04-15T08:41:07.8824776Z       âœ“ should fail enable saml if default authentication is not email (29 ms)
2025-04-15T08:41:07.8824872Z   Check endpoint permissions
2025-04-15T08:41:07.8825001Z     Owner
2025-04-15T08:41:07.8825278Z       âœ“ should be able to access GET /sso/saml/metadata (7 ms)
2025-04-15T08:41:07.8825479Z       âœ“ should be able to access GET /sso/saml/config (5 ms)
2025-04-15T08:41:07.8825645Z       âœ“ should be able to access POST /sso/saml/config (11 ms)
2025-04-15T08:41:07.8825870Z       âœ“ should be able to access POST /sso/saml/config/toggle (9 ms)
2025-04-15T08:41:07.8826047Z       âœ“ should be able to access GET /sso/saml/acs (13 ms)
2025-04-15T08:41:07.8826352Z       âœ“ should be able to access POST /sso/saml/acs (12 ms)
2025-04-15T08:41:07.8826581Z       âœ“ should be able to access GET /sso/saml/initsso (9 ms)
2025-04-15T08:41:07.8826905Z       âœ“ should be able to access GET /sso/saml/config/test (8 ms)
2025-04-15T08:41:07.8827035Z     Authenticated Member
2025-04-15T08:41:07.8827374Z       âœ“ should be able to access GET /sso/saml/metadata (3 ms)
2025-04-15T08:41:07.8827575Z       âœ“ should be able to access GET /sso/saml/config (4 ms)
2025-04-15T08:41:07.8827772Z       âœ“ should NOT be able to access POST /sso/saml/config (12 ms)
2025-04-15T08:41:07.8828009Z       âœ“ should NOT be able to access POST /sso/saml/config/toggle (16 ms)
2025-04-15T08:41:07.8828163Z       âœ“ should be able to access GET /sso/saml/acs (4 ms)
2025-04-15T08:41:07.8828359Z       âœ“ should be able to access POST /sso/saml/acs (8 ms)
2025-04-15T08:41:07.8828528Z       âœ“ should be able to access GET /sso/saml/initsso (8 ms)
2025-04-15T08:41:07.8828743Z       âœ“ should NOT be able to access GET /sso/saml/config/test (4 ms)
2025-04-15T08:41:07.8828844Z     Non-Authenticated User
2025-04-15T08:41:07.8829079Z       âœ“ should be able to access /sso/saml/metadata (3 ms)
2025-04-15T08:41:07.8829230Z       âœ“ should NOT be able to access GET /sso/saml/config (7 ms)
2025-04-15T08:41:07.8829415Z       âœ“ should NOT be able to access POST /sso/saml/config (12 ms)
2025-04-15T08:41:07.8829559Z       âœ“ should NOT be able to access POST /sso/saml/config/toggle (4 ms)
2025-04-15T08:41:07.8829703Z       âœ“ should be able to access GET /sso/saml/acs (10 ms)
2025-04-15T08:41:07.8829861Z       âœ“ should be able to access POST /sso/saml/acs (3 ms)
2025-04-15T08:41:07.8830064Z       âœ“ should be able to access GET /sso/saml/initsso (4 ms)
2025-04-15T08:41:07.8830239Z       âœ“ should NOT be able to access GET /sso/saml/config/test (6 ms)
2025-04-15T08:41:07.8830251Z 
2025-04-15T08:41:07.8830364Z PASS test/integration/commands/import.cmd.test.ts
2025-04-15T08:41:07.8830549Z   âœ“ import:workflow should import active workflow and deactivate it (54 ms)
2025-04-15T08:41:07.8830797Z   âœ“ import:workflow should import active workflow from combined file and deactivate it (21 ms)
2025-04-15T08:41:07.8831018Z   âœ“ import:workflow can import a single workflow object (24 ms)
2025-04-15T08:41:07.8831308Z   âœ“ `import:workflow --userId ...` should fail if the workflow exists already and is owned by somebody else (59 ms)
2025-04-15T08:41:07.8831564Z   âœ“ only update the workflow, don't create or update the owner if `--userId` is not passed (25 ms)
2025-04-15T08:41:07.8831835Z   âœ“ `import:workflow --projectId ...` should fail if the credential already exists and is owned by another project (33 ms)
2025-04-15T08:41:07.8832316Z   âœ“ `import:workflow --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (4 ms)
2025-04-15T08:41:07.8832321Z 
2025-04-15T08:41:07.8832427Z PASS src/__tests__/license.test.ts
2025-04-15T08:41:07.8832515Z   License
2025-04-15T08:41:07.8832641Z     âœ“ initializes license manager (6 ms)
2025-04-15T08:41:07.8832754Z     âœ“ initializes license manager for worker (2 ms)
2025-04-15T08:41:07.8832943Z     âœ“ attempts to activate license with provided key (1 ms)
2025-04-15T08:41:07.8833058Z     âœ“ renews license (2 ms)
2025-04-15T08:41:07.8833231Z     âœ“ check if feature is enabled (8 ms)
2025-04-15T08:41:07.8833370Z     âœ“ check if sharing feature is enabled (1 ms)
2025-04-15T08:41:07.8833527Z     âœ“ check fetching entitlements (1 ms)
2025-04-15T08:41:07.8833699Z     âœ“ check fetching feature values (1 ms)
2025-04-15T08:41:07.8833830Z     âœ“ check management jwt (1 ms)
2025-04-15T08:41:07.8834125Z     âœ“ getMainPlan() returns the latest main entitlement (1 ms)
2025-04-15T08:41:07.8834356Z     âœ“ getMainPlan() returns undefined if there is no main plan (1 ms)
2025-04-15T08:41:07.8834427Z     init
2025-04-15T08:41:07.8834709Z       âœ“ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal (1 ms)
2025-04-15T08:41:07.8834930Z       âœ“ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal (1 ms)
2025-04-15T08:41:07.8835177Z       âœ“ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should disable renewal
2025-04-15T08:41:07.8835399Z       âœ“ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal
2025-04-15T08:41:07.8835598Z       âœ“ when CLI command with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal (1 ms)
2025-04-15T08:41:07.8835602Z 
2025-04-15T08:41:07.8835781Z PASS src/middlewares/list-query/__tests__/list-query.test.ts
2025-04-15T08:41:07.8835862Z   List query middleware
2025-04-15T08:41:07.8835964Z     Query filter
2025-04-15T08:41:07.8836121Z       âœ“ should not set filter on request if none sent (4 ms)
2025-04-15T08:41:07.8836261Z       âœ“ should parse valid filter (3 ms)
2025-04-15T08:41:07.8836361Z       âœ“ should ignore invalid filter (1 ms)
2025-04-15T08:41:07.8836520Z       âœ“ should throw on invalid JSON (21 ms)
2025-04-15T08:41:07.8836682Z       âœ“ should throw on valid filter with invalid type (2 ms)
2025-04-15T08:41:07.8836810Z     Query select
2025-04-15T08:41:07.8836953Z       âœ“ should not set select on request if none sent (1 ms)
2025-04-15T08:41:07.8837094Z       âœ“ should parse valid select (1 ms)
2025-04-15T08:41:07.8837190Z       âœ“ ignore invalid select
2025-04-15T08:41:07.8837313Z       âœ“ throw on invalid JSON (3 ms)
2025-04-15T08:41:07.8837482Z       âœ“ throw on non-string-array JSON for select
2025-04-15T08:41:07.8837557Z     Query pagination
2025-04-15T08:41:07.8837725Z       âœ“ should not set pagination options on request if none sent
2025-04-15T08:41:07.8837836Z       âœ“ should parse valid pagination (1 ms)
2025-04-15T08:41:07.8837966Z       âœ“ should throw on skip without take (1 ms)
2025-04-15T08:41:07.8838054Z       âœ“ should default skip to 0
2025-04-15T08:41:07.8838173Z       âœ“ should cap take at 50 (1 ms)
2025-04-15T08:41:07.8838309Z       âœ“ should throw on non-numeric-integer take (1 ms)
2025-04-15T08:41:07.8838418Z       âœ“ should throw on non-numeric-integer skip
2025-04-15T08:41:07.8838468Z     Query sort by
2025-04-15T08:41:07.8838628Z       âœ“ should succeed validation when sorting by name asc (1 ms)
2025-04-15T08:41:07.8838802Z       âœ“ should succeed validation when sorting by name desc (1 ms)
2025-04-15T08:41:07.8839021Z       âœ“ should succeed validation when sorting by createdAt asc (5 ms)
2025-04-15T08:41:07.8839195Z       âœ“ should succeed validation when sorting by createdAt desc
2025-04-15T08:41:07.8839398Z       âœ“ should succeed validation when sorting by updatedAt asc
2025-04-15T08:41:07.8839573Z       âœ“ should succeed validation when sorting by updatedAt desc
2025-04-15T08:41:07.8839899Z       âœ“ should fail validation when sorting by invalid column (9 ms)
2025-04-15T08:41:07.8840108Z       âœ“ should fail validation when sorting by valid column without order (1 ms)
2025-04-15T08:41:07.8840353Z       âœ“ should fail validation when sorting by valid column with invalid order (1 ms)
2025-04-15T08:41:07.8840542Z       âœ“ should not pass sortBy to listQueryOptions if not provided
2025-04-15T08:41:07.8840630Z     Combinations
2025-04-15T08:41:07.8840808Z       âœ“ should combine filter with select (1 ms)
2025-04-15T08:41:07.8840935Z       âœ“ should combine filter with pagination options (1 ms)
2025-04-15T08:41:07.8841133Z       âœ“ should combine select with pagination options (1 ms)
2025-04-15T08:41:07.8841137Z 
2025-04-15T08:41:07.8841413Z PASS src/environments.ee/source-control/__tests__/source-control-export.service.test.ts
2025-04-15T08:41:07.8841618Z   SourceControlExportService
2025-04-15T08:41:07.8841735Z     exportCredentialsToWorkFolder
2025-04-15T08:41:07.8842039Z       âœ“ should export credentials to work folder (6 ms)
2025-04-15T08:41:07.8842181Z       âœ“ should handle team project credentials (1 ms)
2025-04-15T08:41:07.8842356Z       âœ“ should handle missing credentials
2025-04-15T08:41:07.8842435Z     exportTagsToWorkFolder
2025-04-15T08:41:07.8842579Z       âœ“ should export tags to work folder (1 ms)
2025-04-15T08:41:07.8842736Z       âœ“ should not export empty tags
2025-04-15T08:41:07.8842838Z     exportFoldersToWorkFolder
2025-04-15T08:41:07.8842995Z       âœ“ should export folders to work folder (1 ms)
2025-04-15T08:41:07.8843141Z       âœ“ should not export empty folders (1 ms)
2025-04-15T08:41:07.8843294Z     exportVariablesToWorkFolder
2025-04-15T08:41:07.8843414Z       âœ“ should export variables to work folder
2025-04-15T08:41:07.8843543Z       âœ“ should not export empty variables (1 ms)
2025-04-15T08:41:07.8843617Z     exportWorkflowsToWorkFolder
2025-04-15T08:41:07.8843798Z       âœ“ should export workflows to work folder (4 ms)
2025-04-15T08:41:07.8843942Z       âœ“ should throw an error if workflow has no owner (18 ms)
2025-04-15T08:41:07.8843946Z 
2025-04-15T08:41:07.8844222Z PASS src/environments.ee/source-control/__tests__/source-control.service.test.ts
2025-04-15T08:41:07.8844376Z   SourceControlService
2025-04-15T08:41:07.8844490Z     pushWorkfolder
2025-04-15T08:41:07.8844766Z       âœ“ should throw an error if a file is given that is not in the workfolder (34 ms)
2025-04-15T08:41:07.8844891Z     pullWorkfolder
2025-04-15T08:41:07.8845039Z       âœ“ does not filter locally created credentials (1 ms)
2025-04-15T08:41:07.8845220Z       âœ“ does not filter remotely deleted credentials
2025-04-15T08:41:07.8845461Z       âœ“ should throw an error if a file is given that is not in the workfolder (1 ms)
2025-04-15T08:41:07.8845514Z     getStatus
2025-04-15T08:41:07.8845689Z       âœ“ conflict depends on the value of `direction` (3 ms)
2025-04-15T08:41:07.8845695Z 
2025-04-15T08:41:07.8845876Z PASS src/metrics/__tests__/prometheus-metrics.service.test.ts
2025-04-15T08:41:07.8846176Z   PrometheusMetricsService
2025-04-15T08:41:07.8846268Z     constructor
2025-04-15T08:41:07.8846478Z       âœ“ should enable metrics based on global config (6 ms)
2025-04-15T08:41:07.8846549Z     init
2025-04-15T08:41:07.8846697Z       âœ“ should set up `n8n_version_info` (1 ms)
2025-04-15T08:41:07.8846896Z       âœ“ should set up default metrics collection with `prom-client` (1 ms)
2025-04-15T08:41:07.8847067Z       âœ“ should set up `n8n_cache_hits_total` (1 ms)
2025-04-15T08:41:07.8847203Z       âœ“ should set up `n8n_cache_misses_total` (2 ms)
2025-04-15T08:41:07.8847364Z       âœ“ should set up `n8n_cache_updates_total` (2 ms)
2025-04-15T08:41:07.8847543Z       âœ“ should set up route metrics with `express-prom-bundle` (1 ms)
2025-04-15T08:41:07.8847723Z       âœ“ should set up event bus metrics (1 ms)
2025-04-15T08:41:07.8847882Z       âœ“ should set up queue metrics if enabled (2 ms)
2025-04-15T08:41:07.8848067Z       âœ“ should not set up queue metrics if enabled but not on scaling mode (1 ms)
2025-04-15T08:41:07.8848584Z       âœ“ should not set up queue metrics if enabled and on scaling mode but instance is not main (1 ms)
2025-04-15T08:41:07.8848725Z       âœ“ should setup active workflow count metric (5 ms)
2025-04-15T08:41:07.8848731Z 
2025-04-15T08:41:07.8848897Z PASS src/__tests__/workflow-execute-additional-data.test.ts
2025-04-15T08:41:07.8849018Z   WorkflowExecuteAdditionalData
2025-04-15T08:41:07.8849199Z     âœ“ logAiEvent should call MessageEventBus (4 ms)
2025-04-15T08:41:07.8849274Z     executeWorkflow
2025-04-15T08:41:07.8849505Z       âœ“ should execute workflow, return data and execution id (2 ms)
2025-04-15T08:41:07.8849620Z       âœ“ should execute workflow, skip waiting (1 ms)
2025-04-15T08:41:07.8849774Z       âœ“ should set sub workflow execution as running (1 ms)
2025-04-15T08:41:07.8849950Z       âœ“ should return waitTill property when workflow execution is waiting (4 ms)
2025-04-15T08:41:07.8850047Z     getRunData
2025-04-15T08:41:07.8850236Z       âœ“ should throw error to add trigger ndoe (14 ms)
2025-04-15T08:41:07.8850476Z       âœ“ should return default data (1 ms)
2025-04-15T08:41:07.8850667Z       âœ“ should return run data with input data and metadata
2025-04-15T08:41:07.8850672Z 
2025-04-15T08:41:07.8850822Z PASS test/integration/community-packages.api.test.ts
2025-04-15T08:41:07.8850928Z   GET /community-packages
2025-04-15T08:41:07.8851093Z     âœ“ should respond 200 if no nodes are installed (30 ms)
2025-04-15T08:41:07.8851318Z     âœ“ should return list of one installed package and node (17 ms)
2025-04-15T08:41:07.8851491Z     âœ“ should return list of multiple installed packages and nodes (4 ms)
2025-04-15T08:41:07.8851701Z     âœ“ should not check for updates if no packages installed (12 ms)
2025-04-15T08:41:07.8851845Z     âœ“ should check for updates if packages installed (3 ms)
2025-04-15T08:41:07.8852031Z     âœ“ should report package updates if available (4 ms)
2025-04-15T08:41:07.8852112Z   POST /community-packages
2025-04-15T08:41:07.8852289Z     âœ“ should reject if package name is missing (5 ms)
2025-04-15T08:41:07.8852461Z     âœ“ should reject if package is duplicate (4 ms)
2025-04-15T08:41:07.8852651Z     âœ“ should allow installing packages that could not be loaded (4 ms)
2025-04-15T08:41:07.8852802Z     âœ“ should not install a banned package (4 ms)
2025-04-15T08:41:07.8852901Z   DELETE /community-packages
2025-04-15T08:41:07.8853110Z     âœ“ should not delete if package name is empty (12 ms)
2025-04-15T08:41:07.8853247Z     âœ“ should reject if package is not installed (4 ms)
2025-04-15T08:41:07.8853408Z     âœ“ should uninstall package (5 ms)
2025-04-15T08:41:07.8853471Z   PATCH /community-packages
2025-04-15T08:41:07.8853589Z     âœ“ should reject if package name is empty (2 ms)
2025-04-15T08:41:07.8853775Z     âœ“ should reject if package is not installed (3 ms)
2025-04-15T08:41:07.8853876Z     âœ“ should update a package (2 ms)
2025-04-15T08:41:07.8853880Z 
2025-04-15T08:41:07.8854063Z PASS src/services/__tests__/workflow-statistics.service.test.ts
2025-04-15T08:41:07.8854206Z   WorkflowStatisticsService
2025-04-15T08:41:07.8854326Z     workflowExecutionCompleted
2025-04-15T08:41:07.8854520Z       âœ“ should create metrics for production successes (4 ms)
2025-04-15T08:41:07.8854701Z       âœ“ should only create metrics for production successes (1 ms)
2025-04-15T08:41:07.8854870Z       âœ“ should not send metrics for updated entries
2025-04-15T08:41:07.8854971Z     nodeFetchedData
2025-04-15T08:41:07.8855134Z       âœ“ should create metrics when the db is updated (1 ms)
2025-04-15T08:41:07.8855397Z       âœ“ should emit event with no `userId` if workflow is owned by team project (1 ms)
2025-04-15T08:41:07.8855576Z       âœ“ should create metrics with credentials when the db is updated (2 ms)
2025-04-15T08:41:07.8855809Z       âœ“ should not send metrics for entries that already have the flag set (1 ms)
2025-04-15T08:41:07.8855813Z 
2025-04-15T08:41:07.8855925Z PASS test/integration/workflow-history.api.test.ts
2025-04-15T08:41:07.8856058Z   GET /workflow-history/:workflowId
2025-04-15T08:41:07.8856226Z     âœ“ should not work when license is not available (29 ms)
2025-04-15T08:41:07.8856579Z     âœ“ should not return anything on an invalid workflow ID (28 ms)
2025-04-15T08:41:07.8856756Z     âœ“ should not return anything if not shared with user (10 ms)
2025-04-15T08:41:07.8856944Z     âœ“ should return any empty list if no versions (24 ms)
2025-04-15T08:41:07.8857092Z     âœ“ should return versions for workflow (27 ms)
2025-04-15T08:41:07.8857334Z     âœ“ should return versions only for workflow id provided (62 ms)
2025-04-15T08:41:07.8857501Z     âœ“ should work with take parameter (33 ms)
2025-04-15T08:41:07.8857636Z     âœ“ should work with skip parameter (29 ms)
2025-04-15T08:41:07.8857837Z   GET /workflow-history/workflow/:workflowId/version/:versionId
2025-04-15T08:41:07.8857984Z     âœ“ should not work when license is not available (7 ms)
2025-04-15T08:41:07.8858175Z     âœ“ should not return anything on an invalid workflow ID (13 ms)
2025-04-15T08:41:07.8858347Z     âœ“ should not return anything on an invalid version ID (20 ms)
2025-04-15T08:41:07.8858655Z     âœ“ should return version (21 ms)
2025-04-15T08:41:07.8858812Z     âœ“ should not return anything if not shared with user (18 ms)
2025-04-15T08:41:07.8859121Z     âœ“ should not return anything if not shared with user and using workflow owned by unshared user (29 ms)
2025-04-15T08:41:07.8859126Z 
2025-04-15T08:41:07.8859263Z PASS test/integration/commands/credentials.cmd.test.ts
2025-04-15T08:41:07.8859461Z   âœ“ import:credentials should import a credential (35 ms)
2025-04-15T08:41:07.8859698Z   âœ“ import:credentials should import a credential from separated files (35 ms)
2025-04-15T08:41:07.8859997Z   âœ“ `import:credentials --userId ...` should fail if the credential exists already and is owned by somebody else (43 ms)
2025-04-15T08:41:07.8860307Z   âœ“ only update credential, don't create or update owner if neither `--userId` nor `--projectId` is passed (39 ms)
2025-04-15T08:41:07.8860599Z   âœ“ `import:credential --projectId ...` should fail if the credential already exists and is owned by another project (34 ms)
2025-04-15T08:41:07.8860929Z   âœ“ `import:credential --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (6 ms)
2025-04-15T08:41:07.8860934Z 
2025-04-15T08:41:07.8861077Z PASS src/services/__tests__/ownership.service.test.ts
2025-04-15T08:41:07.8861215Z   OwnershipService
2025-04-15T08:41:07.8861308Z     getWorkflowProjectCached()
2025-04-15T08:41:07.8861473Z       âœ“ should retrieve a workflow owner project (3 ms)
2025-04-15T08:41:07.8861625Z       âœ“ should throw if no workflow owner project found (4 ms)
2025-04-15T08:41:07.8861778Z     getPersonalProjectOwnerCached()
2025-04-15T08:41:07.8861927Z       âœ“ should retrieve a project owner (1 ms)
2025-04-15T08:41:07.8862127Z       âœ“ should not throw if no project owner found, should return null instead
2025-04-15T08:41:07.8862368Z       âœ“ should not use the repository if the owner was found in the cache (1 ms)
2025-04-15T08:41:07.8862448Z     getProjectOwnerCached()
2025-04-15T08:41:07.8862615Z       âœ“ should retrieve a project owner (1 ms)
2025-04-15T08:41:07.8862775Z       âœ“ should not throw if no project owner found, should return null instead
2025-04-15T08:41:07.8862895Z     addOwnedByAndSharedWith()
2025-04-15T08:41:07.8863068Z       âœ“ should add `ownedBy` and `sharedWith` to credential (1 ms)
2025-04-15T08:41:07.8863260Z       âœ“ should add `ownedBy` and `sharedWith` to workflow
2025-04-15T08:41:07.8863423Z       âœ“ should produce an empty sharedWith if no sharee (1 ms)
2025-04-15T08:41:07.8863562Z     getInstanceOwner()
2025-04-15T08:41:07.8863742Z       âœ“ should find owner using global owner role ID
2025-04-15T08:41:07.8863747Z 
2025-04-15T08:41:07.8863896Z PASS src/__tests__/wait-tracker.test.ts
2025-04-15T08:41:07.8864022Z   WaitTracker
2025-04-15T08:41:07.8864087Z     init()
2025-04-15T08:41:07.8864270Z       âœ“ should query DB for waiting executions if leader (4 ms)
2025-04-15T08:41:07.8864383Z       âœ“ if follower, should do nothing
2025-04-15T08:41:07.8864581Z       âœ“ if no executions to start, should do nothing (1 ms)
2025-04-15T08:41:07.8864789Z       if execution to start
2025-04-15T08:41:07.8864996Z         âœ“ if not enough time passed, should not start execution (2 ms)
2025-04-15T08:41:07.8865156Z         âœ“ if enough time passed, should start execution (2 ms)
2025-04-15T08:41:07.8865257Z     startExecution()
2025-04-15T08:41:07.8865406Z       âœ“ should query for execution to start (19 ms)
2025-04-15T08:41:07.8865603Z       âœ“ should also resume parent execution once sub-workflow finishes (4 ms)
2025-04-15T08:41:07.8865680Z     single-main setup
2025-04-15T08:41:07.8865818Z       âœ“ should start tracking
2025-04-15T08:41:07.8865905Z     multi-main setup
2025-04-15T08:41:07.8866048Z       âœ“ should start tracking if leader (1 ms)
2025-04-15T08:41:07.8866193Z       âœ“ should not start tracking if follower (1 ms)
2025-04-15T08:41:07.8866197Z 
2025-04-15T08:41:07.8866399Z PASS src/services/cache/__tests__/cache.service.test.ts
2025-04-15T08:41:07.8866475Z   memory
2025-04-15T08:41:07.8866559Z     init
2025-04-15T08:41:07.8866837Z       âœ“ should select backend based on config (3 ms)
2025-04-15T08:41:07.8866945Z       âœ“ should honor max size when enough (1 ms)
2025-04-15T08:41:07.8867097Z       âœ“ should honor max size when not enough (1 ms)
2025-04-15T08:41:07.8867167Z     set
2025-04-15T08:41:07.8867277Z       âœ“ should set a string value
2025-04-15T08:41:07.8867363Z       âœ“ should set a number value
2025-04-15T08:41:07.8867480Z       âœ“ should set an object value (1 ms)
2025-04-15T08:41:07.8867611Z       âœ“ should not cache `null` or `undefined` values
2025-04-15T08:41:07.8867788Z       âœ“ should disregard zero-length keys (1 ms)
2025-04-15T08:41:07.8867893Z       âœ“ should honor ttl (201 ms)
2025-04-15T08:41:07.8868012Z     get
2025-04-15T08:41:07.8868110Z       âœ“ should fall back to fallback value
2025-04-15T08:41:07.8868286Z       âœ“ should refresh value (1 ms)
2025-04-15T08:41:07.8868410Z       âœ“ should handle non-ASCII key
2025-04-15T08:41:07.8868520Z     delete
2025-04-15T08:41:07.8868628Z       âœ“ should delete a key
2025-04-15T08:41:07.8868798Z       âœ“ should handle non-ASCII key (4 ms)
2025-04-15T08:41:07.8868870Z     setMany
2025-04-15T08:41:07.8869029Z       âœ“ should set multiple string values
2025-04-15T08:41:07.8869167Z       âœ“ should set multiple number values (2 ms)
2025-04-15T08:41:07.8869304Z       âœ“ should disregard zero-length keys
2025-04-15T08:41:07.8869386Z     getMany
2025-04-15T08:41:07.8869527Z       âœ“ should return undefined on missing result
2025-04-15T08:41:07.8869595Z     setHash
2025-04-15T08:41:07.8869742Z       âœ“ should set a hash if non-existing
2025-04-15T08:41:07.8869891Z       âœ“ should add to a hash value if existing (1 ms)
2025-04-15T08:41:07.8870005Z     deleteFromHash
2025-04-15T08:41:07.8870160Z       âœ“ should delete a hash field (1 ms)
2025-04-15T08:41:07.8870229Z     getHashValue
2025-04-15T08:41:07.8870375Z       âœ“ should return a hash field value (1 ms)
2025-04-15T08:41:07.8870458Z   redis
2025-04-15T08:41:07.8870586Z     init
2025-04-15T08:41:07.8870735Z       âœ“ should select backend based on config (1 ms)
2025-04-15T08:41:07.8871110Z       âœ“ with auto backend and queue mode, should select redis (1 ms)
2025-04-15T08:41:07.8871193Z     set
2025-04-15T08:41:07.8871363Z       âœ“ should set a string value (1 ms)
2025-04-15T08:41:07.8871484Z       âœ“ should set a number value
2025-04-15T08:41:07.8871599Z       âœ“ should set an object value (1 ms)
2025-04-15T08:41:07.8871740Z       âœ“ should not cache `null` or `undefined` values
2025-04-15T08:41:07.8871889Z       âœ“ should disregard zero-length keys (2 ms)
2025-04-15T08:41:07.8872007Z       âœ“ should honor ttl (201 ms)
2025-04-15T08:41:07.8872117Z     get
2025-04-15T08:41:07.8872238Z       âœ“ should fall back to fallback value (1 ms)
2025-04-15T08:41:07.8872388Z       âœ“ should refresh value
2025-04-15T08:41:07.8872515Z       âœ“ should handle non-ASCII key
2025-04-15T08:41:07.8872645Z     delete
2025-04-15T08:41:07.8872750Z       âœ“ should delete a key
2025-04-15T08:41:07.8872882Z       âœ“ should handle non-ASCII key
2025-04-15T08:41:07.8873119Z     setMany
2025-04-15T08:41:07.8873303Z       âœ“ should set multiple string values (1 ms)
2025-04-15T08:41:07.8873443Z       âœ“ should set multiple number values (1 ms)
2025-04-15T08:41:07.8873613Z       âœ“ should disregard zero-length keys
2025-04-15T08:41:07.8873702Z     getMany
2025-04-15T08:41:07.8873866Z       âœ“ should return undefined on missing result
2025-04-15T08:41:07.8873977Z     setHash
2025-04-15T08:41:07.8874106Z       âœ“ should set a hash if non-existing
2025-04-15T08:41:07.8874232Z       âœ“ should add to a hash value if existing
2025-04-15T08:41:07.8874322Z     deleteFromHash
2025-04-15T08:41:07.8874493Z       âœ“ should delete a hash field
2025-04-15T08:41:07.8874579Z     getHashValue
2025-04-15T08:41:07.8874755Z       âœ“ should return a hash field value (1 ms)
2025-04-15T08:41:07.8874759Z 
2025-04-15T08:41:07.8875014Z PASS test/integration/executions/pre-execution-checks/credentials-permission-checker.test.ts
2025-04-15T08:41:07.8875106Z   check()
2025-04-15T08:41:07.8875250Z     âœ“ should allow if workflow has no creds (20 ms)
2025-04-15T08:41:07.8875439Z     âœ“ should allow if workflow creds are valid subset (33 ms)
2025-04-15T08:41:07.8875574Z     âœ“ should deny if workflow creds are not valid subset (30 ms)
2025-04-15T08:41:07.8875816Z     âœ“ should allow all credentials if current user is instance owner (18 ms)
2025-04-15T08:41:07.8875820Z 
2025-04-15T08:41:07.8876051Z PASS src/environments.ee/source-control/__tests__/source-control-helper.ee.test.ts
2025-04-15T08:41:07.8876128Z   Source Control
2025-04-15T08:41:07.8876257Z     âœ“ should generate an SSH key pair (55 ms)
2025-04-15T08:41:07.8876393Z     âœ“ should generate an RSA key pair (744 ms)
2025-04-15T08:41:07.8876579Z     âœ“ should check for git and ssh folders and create them if required (1 ms)
2025-04-15T08:41:07.8876667Z     âœ“ should get repo type from url
2025-04-15T08:41:07.8876837Z     âœ“ should get tracking information from pre-push results (1 ms)
2025-04-15T08:41:07.8876969Z     âœ“ should get tracking information from post-push results
2025-04-15T08:41:07.8877173Z     âœ“ should get tracking information from pull results (1 ms)
2025-04-15T08:41:07.8877178Z 
2025-04-15T08:41:07.8877307Z PASS test/integration/public-api/users.ee.test.ts
2025-04-15T08:41:07.8877428Z   With license unlimited quota:users
2025-04-15T08:41:07.8877506Z     GET /users
2025-04-15T08:41:07.8877791Z       âœ“ should fail due to missing API Key (213 ms)
2025-04-15T08:41:07.8877989Z       âœ“ should fail due to invalid API Key (7 ms)
2025-04-15T08:41:07.8878205Z       âœ“ should fail due to member trying to access owner only endpoint (139 ms)
2025-04-15T08:41:07.8878372Z       âœ“ should return all users (27 ms)
2025-04-15T08:41:07.8878521Z       âœ“ should return users filtered by project ID (57 ms)
2025-04-15T08:41:07.8878623Z     GET /users/:id
2025-04-15T08:41:07.8878733Z       âœ“ should fail due to missing API Key (30 ms)
2025-04-15T08:41:07.8878896Z       âœ“ should fail due to invalid API Key (10 ms)
2025-04-15T08:41:07.8879061Z       âœ“ should fail due to member trying to access owner only endpoint (31 ms)
2025-04-15T08:41:07.8879432Z       âœ“ should return 404 for non-existing id  (35 ms)
2025-04-15T08:41:07.8879536Z       âœ“ should return a pending user (24 ms)
2025-04-15T08:41:07.8879669Z     GET /users/:email
2025-04-15T08:41:07.8879820Z       âœ“ with non-existing email should return 404 (18 ms)
2025-04-15T08:41:07.8879983Z       âœ“ should return a user (24 ms)
2025-04-15T08:41:07.8880102Z   With license without quota:users
2025-04-15T08:41:07.8880281Z     âœ“ GET /users should fail due to invalid license (29 ms)
2025-04-15T08:41:07.8880441Z     âœ“ GET /users/:id should fail due to invalid license (45 ms)
2025-04-15T08:41:07.8880446Z 
2025-04-15T08:41:07.8880661Z PASS src/controllers/__tests__/binary-data.controller.test.ts
2025-04-15T08:41:07.8880747Z   BinaryDataController
2025-04-15T08:41:07.8880837Z     get
2025-04-15T08:41:07.8881053Z       âœ“ should return 400 if binary data mode is missing (4 ms)
2025-04-15T08:41:07.8881192Z       âœ“ should return 400 if binary data mode is invalid
2025-04-15T08:41:07.8881491Z       âœ“ should return 404 if file is not found (1 ms)
2025-04-15T08:41:07.8881672Z       âœ“ should set Content-Type and Content-Length from query if provided
2025-04-15T08:41:07.8881922Z       âœ“ should set Content-Type and Content-Length from metadata if not provided (1 ms)
2025-04-15T08:41:07.8882063Z       âœ“ should set Content-Disposition for download action (1 ms)
2025-04-15T08:41:07.8882248Z       âœ“ should set Content-Security-Policy for HTML in view mode
2025-04-15T08:41:07.8882424Z       âœ“ should not set Content-Security-Policy for HTML in download mode
2025-04-15T08:41:07.8882553Z       âœ“ should return the file stream on success
2025-04-15T08:41:07.8882622Z     getSigned
2025-04-15T08:41:07.8882837Z       âœ“ should return 400 if binary data mode is missing (1 ms)
2025-04-15T08:41:07.8882983Z       âœ“ should return 400 if binary data mode is invalid (3 ms)
2025-04-15T08:41:07.8883136Z       âœ“ should return 400 if token is invalid
2025-04-15T08:41:07.8883256Z       âœ“ should return 404 if file is not found
2025-04-15T08:41:07.8883453Z       âœ“ should return the file stream on a valid signed token
2025-04-15T08:41:07.8883461Z 
2025-04-15T08:41:07.8883711Z PASS test/integration/workflows/workflow.service.ee.test.ts
2025-04-15T08:41:07.8883819Z   EnterpriseWorkflowService
2025-04-15T08:41:07.8883962Z     validateWorkflowCredentialUsage
2025-04-15T08:41:07.8884160Z       âœ“ Should throw error saving a workflow using credential without access (23 ms)
2025-04-15T08:41:07.8884382Z       âœ“ Should not throw error when saving a workflow using credential with access (1 ms)
2025-04-15T08:41:07.8884614Z       âœ“ Should not throw error when saving a workflow removing node without credential access (1 ms)
2025-04-15T08:41:07.8884816Z       âœ“ Should save fine when not making changes to workflow without access (1 ms)
2025-04-15T08:41:07.8885038Z       âœ“ Should throw error saving a workflow adding node without credential access (1 ms)
2025-04-15T08:41:07.8885176Z     getNodesWithInaccessibleCreds
2025-04-15T08:41:07.8885375Z       âœ“ Should return an empty list for a workflow without nodes (1 ms)
2025-04-15T08:41:07.8885584Z       âœ“ Should return an empty list for a workflow with nodes without credentials
2025-04-15T08:41:07.8885800Z       âœ“ Should return an element for a node with a credential without access (1 ms)
2025-04-15T08:41:07.8886168Z       âœ“ Should return an empty list for a node with a credential with access (1 ms)
2025-04-15T08:41:07.8886437Z       âœ“ Should return an element for a node with two credentials and mixed access
2025-04-15T08:41:07.8886610Z       âœ“ Should return one node for a workflow with two nodes and two credentials
2025-04-15T08:41:07.8886881Z       âœ“ Should return one element for a workflows with two nodes and one credential (1 ms)
2025-04-15T08:41:07.8887104Z       âœ“ Should return one element for a workflows with two nodes and partial credential access
2025-04-15T08:41:07.8887395Z       âœ“ Should return two elements for a workflows with two nodes and partial credential access (1 ms)
2025-04-15T08:41:07.8887838Z       âœ“ Should return two elements for a workflows with two nodes and no credential access
2025-04-15T08:41:07.8887843Z 
2025-04-15T08:41:07.8888105Z PASS src/environments.ee/source-control/__tests__/source-control-import.service.ee.test.ts
2025-04-15T08:41:07.8888202Z   SourceControlImportService
2025-04-15T08:41:07.8888317Z     getRemoteVersionIdsFromFiles
2025-04-15T08:41:07.8888478Z       âœ“ should parse workflow files correctly (3 ms)
2025-04-15T08:41:07.8888659Z       âœ“ should filter out files without valid workflow data (1 ms)
2025-04-15T08:41:07.8888803Z     getRemoteCredentialsFromFiles
2025-04-15T08:41:07.8888928Z       âœ“ should parse credential files correctly
2025-04-15T08:41:07.8889119Z       âœ“ should filter out files without valid credential data
2025-04-15T08:41:07.8889192Z     getRemoteVariablesFromFile
2025-04-15T08:41:07.8889346Z       âœ“ should parse variables file correctly (1 ms)
2025-04-15T08:41:07.8889511Z       âœ“ should return empty array if no variables file found
2025-04-15T08:41:07.8889776Z     getRemoteTagsAndMappingsFromFile
2025-04-15T08:41:07.8889912Z       âœ“ should parse tags and mappings file correctly
2025-04-15T08:41:07.8890107Z       âœ“ should return empty tags and mappings if no file found (1 ms)
2025-04-15T08:41:07.8890224Z     getRemoteFoldersAndMappingsFromFile
2025-04-15T08:41:07.8890407Z       âœ“ should parse folders and mappings file correctly
2025-04-15T08:41:07.8890545Z       âœ“ should return empty folders and mappings if no file found
2025-04-15T08:41:07.8890653Z     getLocalVersionIdsFromDb
2025-04-15T08:41:07.8890825Z       âœ“ should replace invalid updatedAt with current timestamp
2025-04-15T08:41:07.8890948Z     getLocalFoldersAndMappingsFromDb
2025-04-15T08:41:07.8891121Z       âœ“ should return data from DB (1 ms)
2025-04-15T08:41:07.8891126Z 
2025-04-15T08:41:07.8891332Z PASS src/controllers/__tests__/dynamic-node-parameters.controller.test.ts
2025-04-15T08:41:07.8891439Z   DynamicNodeParametersController
2025-04-15T08:41:07.8891518Z     getOptions
2025-04-15T08:41:07.8891733Z       âœ“ should call getOptionsViaMethodName when methodName is provided (4 ms)
2025-04-15T08:41:07.8891895Z       âœ“ should call getOptionsViaLoadOptions when loadOptions is provided
2025-04-15T08:41:07.8892122Z       âœ“ should return empty array when no method or load options are provided (1 ms)
2025-04-15T08:41:07.8892205Z     getResourceLocatorResults
2025-04-15T08:41:07.8892388Z       âœ“ should call getResourceLocatorResults with correct parameters
2025-04-15T08:41:07.8892466Z     getResourceMappingFields
2025-04-15T08:41:07.8892641Z       âœ“ should call getResourceMappingFields with correct parameters (1 ms)
2025-04-15T08:41:07.8892737Z     getLocalResourceMappingFields
2025-04-15T08:41:07.8893064Z       âœ“ should call getLocalResourceMappingFields with correct parameters
2025-04-15T08:41:07.8893211Z     getActionResult
2025-04-15T08:41:07.8893450Z       âœ“ should call getActionResult with correct parameters (1 ms)
2025-04-15T08:41:07.8893459Z 
2025-04-15T08:41:07.8893764Z PASS test/integration/security-audit/instance-risk-reporter.test.ts
2025-04-15T08:41:07.8893927Z   âœ“ should report webhook lacking authentication (311 ms)
2025-04-15T08:41:07.8894121Z   âœ“ should not report webhooks having basic or header auth (25 ms)
2025-04-15T08:41:07.8894289Z   âœ“ should not report webhooks validated by direct children (15 ms)
2025-04-15T08:41:07.8894456Z   âœ“ should not report non-webhook node (12 ms)
2025-04-15T08:41:07.8894604Z   âœ“ should report outdated instance when outdated (8 ms)
2025-04-15T08:41:07.8894788Z   âœ“ should not report outdated instance when up to date (52 ms)
2025-04-15T08:41:07.8894889Z   âœ“ should report security settings (6 ms)
2025-04-15T08:41:07.8894892Z 
2025-04-15T08:41:07.8895073Z PASS src/webhooks/__tests__/webhook-request-handler.test.ts
2025-04-15T08:41:07.8895208Z   WebhookRequestHandler
2025-04-15T08:41:07.8895326Z     âœ“ should throw for unsupported methods (20 ms)
2025-04-15T08:41:07.8895392Z     preflight requests
2025-04-15T08:41:07.8895551Z       âœ“ should handle missing header for requested method (1 ms)
2025-04-15T08:41:07.8895862Z       âœ“ should handle default origin and max-age (1 ms)
2025-04-15T08:41:07.8895973Z       âœ“ should handle wildcard origin
2025-04-15T08:41:07.8896127Z       âœ“ should handle custom origin
2025-04-15T08:41:07.8896200Z     webhook requests
2025-04-15T08:41:07.8896448Z       âœ“ should delegate the request to the webhook manager and send the response (1 ms)
2025-04-15T08:41:07.8896639Z       âœ“ should send an error response if webhook execution throws (11 ms)
2025-04-15T08:41:07.8896802Z       âœ“ should handle 'DELETE' method (1 ms)
2025-04-15T08:41:07.8896914Z       âœ“ should handle 'GET' method (1 ms)
2025-04-15T08:41:07.8897054Z       âœ“ should handle 'HEAD' method (1 ms)
2025-04-15T08:41:07.8897170Z       âœ“ should handle 'PATCH' method (1 ms)
2025-04-15T08:41:07.8897341Z       âœ“ should handle 'POST' method (1 ms)
2025-04-15T08:41:07.8897462Z       âœ“ should handle 'PUT' method
2025-04-15T08:41:07.8897491Z 
2025-04-15T08:41:07.8897725Z PASS test/integration/webhooks.api.test.ts
2025-04-15T08:41:07.8897866Z   Webhook API
2025-04-15T08:41:07.8897948Z     Content-Type support
2025-04-15T08:41:07.8898087Z       âœ“ should handle JSON (26 ms)
2025-04-15T08:41:07.8898212Z       âœ“ should handle XML (7 ms)
2025-04-15T08:41:07.8898377Z       âœ“ should handle form-urlencoded (4 ms)
2025-04-15T08:41:07.8898490Z       âœ“ should handle plain text (4 ms)
2025-04-15T08:41:07.8898646Z       âœ“ should handle multipart/form-data (11 ms)
2025-04-15T08:41:07.8898739Z     Params support
2025-04-15T08:41:07.8898883Z       âœ“ should handle params (29 ms)
2025-04-15T08:41:07.8898888Z 
2025-04-15T08:41:07.8899014Z PASS test/integration/public-api/users.test.ts
2025-04-15T08:41:07.8899119Z   Users in Public API
2025-04-15T08:41:07.8899192Z     POST /users
2025-04-15T08:41:07.8899368Z       âœ“ if not authenticated, should reject (251 ms)
2025-04-15T08:41:07.8899492Z       âœ“ if missing scope, should reject (208 ms)
2025-04-15T08:41:07.8899654Z       âœ“ should create a user (40 ms)
2025-04-15T08:41:07.8899751Z     DELETE /users/:id
2025-04-15T08:41:07.8899908Z       âœ“ if not authenticated, should reject (14 ms)
2025-04-15T08:41:07.8900014Z       âœ“ if missing scope, should reject (32 ms)
2025-04-15T08:41:07.8900119Z       âœ“ should delete a user (55 ms)
2025-04-15T08:41:07.8900220Z     PATCH /users/:id/role
2025-04-15T08:41:07.8900347Z       âœ“ if not authenticated, should reject (7 ms)
2025-04-15T08:41:07.8900487Z       âœ“ if not licensed, should reject (29 ms)
2025-04-15T08:41:07.8900606Z       âœ“ if missing scope, should reject (38 ms)
2025-04-15T08:41:07.8900798Z       âœ“ should return a 400 on invalid payload (22 ms)
2025-04-15T08:41:07.8900926Z       âœ“ should change a user's role (29 ms)
2025-04-15T08:41:07.8900931Z 
2025-04-15T08:41:07.8901081Z PASS src/webhooks/__tests__/test-webhooks.test.ts
2025-04-15T08:41:07.8901132Z   TestWebhooks
2025-04-15T08:41:07.8901231Z     needsWebhook()
2025-04-15T08:41:07.8901461Z       âœ“ if webhook is needed, should register then create webhook and return true (4 ms)
2025-04-15T08:41:07.8901686Z       âœ“ if webhook activation fails, should deactivate workflow webhooks (8 ms)
2025-04-15T08:41:07.8901861Z       âœ“ if no webhook is found to start workflow, should return false (1 ms)
2025-04-15T08:41:07.8902057Z       âœ“ returns false if a triggerToStartFrom with triggerData is given
2025-04-15T08:41:07.8902375Z       âœ“ returns true, registers and then creates webhook if triggerToStartFrom is given with no triggerData (3 ms)
2025-04-15T08:41:07.8902428Z     executeWebhook()
2025-04-15T08:41:07.8902555Z       âœ“ if webhook is not registered, should throw (10 ms)
2025-04-15T08:41:07.8902735Z       âœ“ if webhook is registered but missing from workflow, should throw (1 ms)
2025-04-15T08:41:07.8902833Z     deactivateWebhooks()
2025-04-15T08:41:07.8902983Z       âœ“ should add additional data to workflow (1 ms)
2025-04-15T08:41:07.8902988Z 
2025-04-15T08:41:07.8903092Z PASS test/integration/import.service.test.ts
2025-04-15T08:41:07.8903188Z   ImportService
2025-04-15T08:41:07.8903529Z     âœ“ should import credless and tagless workflow (43 ms)
2025-04-15T08:41:07.8903681Z     âœ“ should make user owner of imported workflow (12 ms)
2025-04-15T08:41:07.8903912Z     âœ“ should not change the owner if it already exists (49 ms)
2025-04-15T08:41:07.8904040Z     âœ“ should deactivate imported workflow if active (12 ms)
2025-04-15T08:41:07.8904223Z     âœ“ should leave intact new-format credentials (12 ms)
2025-04-15T08:41:07.8904345Z     âœ“ should set tag by identical match (29 ms)
2025-04-15T08:41:07.8904481Z     âœ“ should set tag by name match (13 ms)
2025-04-15T08:41:07.8904640Z     âœ“ should set tag by creating if no match (30 ms)
2025-04-15T08:41:07.8904644Z 
2025-04-15T08:41:07.8904775Z PASS src/__tests__/workflow-runner.test.ts
2025-04-15T08:41:07.8904875Z   processError
2025-04-15T08:41:07.8905037Z     âœ“ processError should return early in Bull stalled edge case (42 ms)
2025-04-15T08:41:07.8905276Z     âœ“ processError should return early if the error is `ExecutionNotFoundError` (34 ms)
2025-04-15T08:41:07.8905538Z     âœ“ processError should process error (42 ms)
2025-04-15T08:41:07.8905643Z   run
2025-04-15T08:41:07.8905942Z     âœ“ uses recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom with data is sent (33 ms)
2025-04-15T08:41:07.8906276Z     âœ“ does not use recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom without data is sent (5 ms)
2025-04-15T08:41:07.8906281Z 
2025-04-15T08:41:07.8906527Z PASS test/integration/security-audit/credentials-risk-reporter.test.ts
2025-04-15T08:41:07.8906681Z   âœ“ should report credentials not in any use (386 ms)
2025-04-15T08:41:07.8906834Z   âœ“ should report credentials not in active use (16 ms)
2025-04-15T08:41:07.8906990Z   âœ“ should report credential in not recently executed workflow (16 ms)
2025-04-15T08:41:07.8907264Z   âœ“ should not report credentials in recently executed workflow (18 ms)
2025-04-15T08:41:07.8907268Z 
2025-04-15T08:41:07.8907408Z PASS src/webhooks/__tests__/waiting-forms.test.ts
2025-04-15T08:41:07.8907513Z   WaitingForms
2025-04-15T08:41:07.8907593Z     findCompletionPage
2025-04-15T08:41:07.8907818Z       âœ“ should return lastNodeExecuted if it is a non-disabled form completion node (3 ms)
2025-04-15T08:41:07.8907987Z       âœ“ should return undefined if lastNodeExecuted is disabled
2025-04-15T08:41:07.8908195Z       âœ“ should return undefined if lastNodeExecuted is not a form node (1 ms)
2025-04-15T08:41:07.8908399Z       âœ“ should return undefined if lastNodeExecuted operation is not completion
2025-04-15T08:41:07.8908667Z       âœ“ should find first valid completion form in parent nodes if lastNodeExecuted is not valid (1 ms)
2025-04-15T08:41:07.8908888Z       âœ“ should return undefined if no valid completion form is found in parent nodes
2025-04-15T08:41:07.8909043Z       âœ“ should skip parent nodes without runData (1 ms)
2025-04-15T08:41:07.8909261Z       âœ“ should mark as test form webhook when execution mode is manual (1 ms)
2025-04-15T08:41:07.8909480Z       âœ“ should return status of execution if suffix is WAITING_FORMS_EXECUTION_STATUS (1 ms)
2025-04-15T08:41:07.8909494Z 
2025-04-15T08:41:07.8909674Z PASS src/services/__tests__/public-api-key.service.test.ts
2025-04-15T08:41:07.8909733Z   PublicApiKeyService
2025-04-15T08:41:07.8909834Z     getAuthMiddleware
2025-04-15T08:41:07.8909990Z       âœ“ should return false if api key is invalid (13 ms)
2025-04-15T08:41:07.8910194Z       âœ“ should return false if valid api key is not in database (9 ms)
2025-04-15T08:41:07.8910368Z       âœ“ should return true if valid api key exist in the database (30 ms)
2025-04-15T08:41:07.8910529Z       âœ“ should return false if expired JWT is used (34 ms)
2025-04-15T08:41:07.8910674Z       âœ“ should work with non JWT (legacy) api keys (15 ms)
2025-04-15T08:41:07.8910746Z     redactApiKey
2025-04-15T08:41:07.8910877Z       âœ“ should redact api key (2 ms)
2025-04-15T08:41:07.8910882Z 
2025-04-15T08:41:07.8911019Z PASS src/push/__tests__/index.test.ts
2025-04-15T08:41:07.8911106Z   Push
2025-04-15T08:41:07.8911327Z     setupPushServer
2025-04-15T08:41:07.8911427Z       sse backend
2025-04-15T08:41:07.8911575Z         âœ“ should not create a WebSocket server (3 ms)
2025-04-15T08:41:07.8911662Z       websocket backend
2025-04-15T08:41:07.8911784Z         âœ“ should not upgrade non-push urls (1 ms)
2025-04-15T08:41:07.8911971Z         âœ“ should upgrade push url, and route it to express (2 ms)
2025-04-15T08:41:07.8912044Z     handleRequest
2025-04-15T08:41:07.8912168Z       sse backend
2025-04-15T08:41:07.8912304Z         âœ“ should throw if pushRef is invalid
2025-04-15T08:41:07.8912492Z         âœ“ should add the connection if pushRef is valid
2025-04-15T08:41:07.8912602Z         should throw on invalid origin
2025-04-15T08:41:07.8912778Z           âœ“ https://subdomain.example.com (17 ms)
2025-04-15T08:41:07.8912905Z           âœ“ https://123example.com
2025-04-15T08:41:07.8913044Z           âœ“ undefined (1 ms)
2025-04-15T08:41:07.8913176Z       websocket backend
2025-04-15T08:41:07.8913313Z         âœ“ should throw if pushRef is invalid
2025-04-15T08:41:07.8913577Z         âœ“ should add the connection if pushRef is valid (1 ms)
2025-04-15T08:41:07.8913770Z         âœ“ should respond with 401 if request is not WebSocket
2025-04-15T08:41:07.8913907Z         should throw on invalid origin
2025-04-15T08:41:07.8914040Z           âœ“ https://subdomain.example.com (1 ms)
2025-04-15T08:41:07.8914166Z           âœ“ https://123example.com (12 ms)
2025-04-15T08:41:07.8914272Z           âœ“ undefined (1 ms)
2025-04-15T08:41:07.8914277Z 
2025-04-15T08:41:07.8914474Z PASS src/services/pruning/__tests__/pruning.service.test.ts
2025-04-15T08:41:07.8914569Z   PruningService
2025-04-15T08:41:07.8914667Z     init
2025-04-15T08:41:07.8914823Z       âœ“ should start pruning on main instance that is the leader (4 ms)
2025-04-15T08:41:07.8914994Z       âœ“ should not start pruning on main instance that is a follower
2025-04-15T08:41:07.8915194Z       âœ“ should register leadership events if main on multi-main setup (1 ms)
2025-04-15T08:41:07.8915326Z     isEnabled
2025-04-15T08:41:07.8915511Z       âœ“ should return `true` based on config if leader main (1 ms)
2025-04-15T08:41:07.8915694Z       âœ“ should return `false` based on config if leader main
2025-04-15T08:41:07.8915905Z       âœ“ should return `false` if non-main even if config is enabled
2025-04-15T08:41:07.8916088Z       âœ“ should return `false` if follower main even if config is enabled
2025-04-15T08:41:07.8916212Z     startPruning
2025-04-15T08:41:07.8916345Z       âœ“ should not start pruning if service is disabled
2025-04-15T08:41:07.8916533Z       âœ“ should start pruning if service is enabled and DB is migrated (1 ms)
2025-04-15T08:41:07.8916538Z 
2025-04-15T08:41:07.8916675Z PASS src/__tests__/credentials-helper.test.ts
2025-04-15T08:41:07.8916793Z   CredentialsHelper
2025-04-15T08:41:07.8916845Z     authenticate
2025-04-15T08:41:07.8917019Z       âœ“ basicAuth, default property names (17 ms)
2025-04-15T08:41:07.8917105Z       âœ“ headerAuth
2025-04-15T08:41:07.8917285Z       âœ“ headerAuth, key and value expressions (1 ms)
2025-04-15T08:41:07.8917360Z       âœ“ queryAuth
2025-04-15T08:41:07.8917481Z       âœ“ custom authentication
2025-04-15T08:41:07.8917485Z 
2025-04-15T08:41:07.8917642Z PASS src/commands/db/__tests__/revert.test.ts
2025-04-15T08:41:07.8917811Z   âœ“ don't revert migrations if there is no migration (5 ms)
2025-04-15T08:41:07.8918009Z   âœ“ don't revert the last migration if it had no down migration (1 ms)
2025-04-15T08:41:07.8918246Z   âœ“ print migration name instead of class name in error message if the migration has a name (1 ms)
2025-04-15T08:41:07.8918475Z   âœ“ don't revert the last migration if we cannot find the migration in the code (1 ms)
2025-04-15T08:41:07.8918653Z   âœ“ revert the last migration if it has a down migration (1 ms)
2025-04-15T08:41:07.8918868Z   âœ“ don't use transaction if the last migration has transaction = false (1 ms)
2025-04-15T08:41:07.8918873Z 
2025-04-15T08:41:07.8919061Z PASS test/integration/task-runners/js-task-runner-execution.integration.test.ts
2025-04-15T08:41:07.8919203Z   JS TaskRunner execution on internal mode
2025-04-15T08:41:07.8919431Z     Basic code execution
2025-04-15T08:41:07.8919588Z       âœ“ should execute a simple JS task (980 ms)
2025-04-15T08:41:07.8919693Z     Internal and external libs
2025-04-15T08:41:07.8919871Z       âœ“ should allow importing allowed internal module (1069 ms)
2025-04-15T08:41:07.8920057Z       âœ“ should not allow importing disallowed internal module (36 ms)
2025-04-15T08:41:07.8920187Z       âœ“ should allow importing allowed external module (6 ms)
2025-04-15T08:41:07.8920377Z       âœ“ should not allow importing disallowed external module (12 ms)
2025-04-15T08:41:07.8920381Z 
2025-04-15T08:41:07.8920585Z PASS test/integration/controllers/dynamic-node-parameters.controller.test.ts
2025-04-15T08:41:07.8920743Z   DynamicNodeParametersController
2025-04-15T08:41:07.8920843Z     POST /dynamic-node-parameters/options
2025-04-15T08:41:07.8920999Z       âœ“ should take params via body (22 ms)
2025-04-15T08:41:07.8921145Z       âœ“ should take params with loadOptions (6 ms)
2025-04-15T08:41:07.8921511Z       âœ“ should return empty array when no method or loadOptions provided (4 ms)
2025-04-15T08:41:07.8921640Z     POST /dynamic-node-parameters/resource-locator-results
2025-04-15T08:41:07.8921837Z       âœ“ should return resource locator results (4 ms)
2025-04-15T08:41:07.8922052Z       âœ“ should handle resource locator results without pagination (3 ms)
2025-04-15T08:41:07.8922184Z       âœ“ should return a 400 if methodName is not defined (4 ms)
2025-04-15T08:41:07.8922350Z     POST /dynamic-node-parameters/resource-mapper-fields
2025-04-15T08:41:07.8922484Z       âœ“ should return resource mapper fields (12 ms)
2025-04-15T08:41:07.8922660Z       âœ“ should return a 400 if methodName is not defined (10 ms)
2025-04-15T08:41:07.8922800Z     POST /dynamic-node-parameters/local-resource-mapper-fields
2025-04-15T08:41:07.8922961Z       âœ“ should return local resource mapper fields (6 ms)
2025-04-15T08:41:07.8923094Z       âœ“ should return a 400 if methodName is not defined (7 ms)
2025-04-15T08:41:07.8923218Z     POST /dynamic-node-parameters/action-result
2025-04-15T08:41:07.8923353Z       âœ“ should return action result with handler (4 ms)
2025-04-15T08:41:07.8923522Z       âœ“ should return a 400 if handler is not defined (3 ms)
2025-04-15T08:41:07.8923527Z 
2025-04-15T08:41:07.8923705Z PASS src/deprecation/__tests__/deprecation.service.test.ts
2025-04-15T08:41:07.8923852Z   DeprecationService
2025-04-15T08:41:07.8924066Z     âœ“ should detect when N8N_BINARY_DATA_TTL is `1` (1 ms)
2025-04-15T08:41:07.8924231Z     âœ“ should detect when N8N_PERSISTED_BINARY_DATA_TTL is `1` (1 ms)
2025-04-15T08:41:07.8924408Z     âœ“ should detect when EXECUTIONS_DATA_PRUNE_TIMEOUT is `1`
2025-04-15T08:41:07.8924544Z     âœ“ should detect when N8N_CONFIG_FILES is `1` (1 ms)
2025-04-15T08:41:07.8924744Z     âœ“ should detect when N8N_SKIP_WEBHOOK_DEREGISTRATION_SHUTDOWN is `1`
2025-04-15T08:41:07.8924941Z     âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `1` (1 ms)
2025-04-15T08:41:07.8925163Z     âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `2`
2025-04-15T08:41:07.8925357Z     âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `undefined`
2025-04-15T08:41:07.8925518Z     âœ“ should handle N8N_BINARY_DATA_MODE as default
2025-04-15T08:41:07.8925667Z     âœ“ should handle N8N_BINARY_DATA_MODE as filesystem (1 ms)
2025-04-15T08:41:07.8925820Z     âœ“ should handle N8N_BINARY_DATA_MODE as s3
2025-04-15T08:41:07.8926083Z     âœ“ should handle DB_TYPE as sqlite (1 ms)
2025-04-15T08:41:07.8926291Z     âœ“ should handle DB_TYPE as postgresdb
2025-04-15T08:41:07.8926418Z     âœ“ should handle DB_TYPE as mysqldb
2025-04-15T08:41:07.8926567Z     âœ“ should handle DB_TYPE as mariadb
2025-04-15T08:41:07.8926682Z     N8N_PARTIAL_EXECUTION_VERSION_DEFAULT
2025-04-15T08:41:07.8926897Z       âœ“ supports multiple warnings for the same environment variable (5 ms)
2025-04-15T08:41:07.8927009Z     N8N_RUNNERS_ENABLED
2025-04-15T08:41:07.8927121Z       âœ“ should handle value: false
2025-04-15T08:41:07.8927256Z       âœ“ should handle value: 
2025-04-15T08:41:07.8927541Z       âœ“ should handle value: true
2025-04-15T08:41:07.8927651Z       âœ“ should handle value: undefined (1 ms)
2025-04-15T08:41:07.8927767Z     OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS
2025-04-15T08:41:07.8927866Z       when executions.mode is queue
2025-04-15T08:41:07.8928069Z         âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is false (4 ms)
2025-04-15T08:41:07.8928292Z         âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is empty (1 ms)
2025-04-15T08:41:07.8928448Z         âœ“ should not warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is true
2025-04-15T08:41:07.8928667Z         âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is undefined (1 ms)
2025-04-15T08:41:07.8928761Z       when executions.mode is not queue
2025-04-15T08:41:07.8928911Z         âœ“ should not warn
2025-04-15T08:41:07.8928916Z 
2025-04-15T08:41:07.8929093Z PASS test/integration/collaboration/collaboration.service.test.ts
2025-04-15T08:41:07.8929157Z   CollaborationService
2025-04-15T08:41:07.8929419Z     workflow opened message
2025-04-15T08:41:07.8929596Z       âœ“ should emit collaboratorsChanged after workflowOpened (45 ms)
2025-04-15T08:41:07.8929863Z       âœ“ should not emit collaboratorsChanged if user don't have access to the workflow (7 ms)
2025-04-15T08:41:07.8929936Z     workflow closed message
2025-04-15T08:41:07.8930220Z       âœ“ should not emit collaboratorsChanged after workflowClosed when there are no active users (12 ms)
2025-04-15T08:41:07.8930455Z       âœ“ should emit collaboratorsChanged after workflowClosed when there are active users (9 ms)
2025-04-15T08:41:07.8930731Z       âœ“ should not emit collaboratorsChanged if user don't have access to the workflow (5 ms)
2025-04-15T08:41:07.8930736Z 
2025-04-15T08:41:07.8930873Z PASS src/scaling/__tests__/worker-server.test.ts
2025-04-15T08:41:07.8930970Z   WorkerServer
2025-04-15T08:41:07.8931041Z     constructor
2025-04-15T08:41:07.8931241Z       âœ“ should throw if non-worker instance type (16 ms)
2025-04-15T08:41:07.8931366Z       âœ“ should exit if port taken (2 ms)
2025-04-15T08:41:07.8931490Z     init
2025-04-15T08:41:07.8931656Z       âœ“ should mount all endpoints when all are enabled (2 ms)
2025-04-15T08:41:07.8931881Z       âœ“ should mount only health and overwrites endpoints if only those are enabled
2025-04-15T08:41:07.8932073Z       âœ“ should throw if no endpoints are enabled (1 ms)
2025-04-15T08:41:07.8932204Z       âœ“ should call `worker.ready` external hook (1 ms)
2025-04-15T08:41:07.8932208Z 
2025-04-15T08:41:07.8932396Z PASS src/__tests__/active-workflow-manager.test.ts
2025-04-15T08:41:07.8932477Z   ActiveWorkflowManager
2025-04-15T08:41:07.8932613Z     checkIfWorkflowCanBeActivated
2025-04-15T08:41:07.8932727Z       âœ“ should skip disabled nodes (8 ms)
2025-04-15T08:41:07.8932915Z       âœ“ should skip nodes marked as ignored (2 ms)
2025-04-15T08:41:07.8933029Z       âœ“ should skip unknown nodes (1 ms)
2025-04-15T08:41:07.8933174Z       âœ“ should skip nodes with no trigger method (1 ms)
2025-04-15T08:41:07.8933314Z       âœ“ should activate if poll method exists (1 ms)
2025-04-15T08:41:07.8933492Z       âœ“ should activate if trigger method exists
2025-04-15T08:41:07.8933675Z       âœ“ should activate if webhook method exists (1 ms)
2025-04-15T08:41:07.8933779Z     shouldAddWebhooks
2025-04-15T08:41:07.8933834Z       if leader
2025-04-15T08:41:07.8933989Z         âœ“ should return `true` for `init`
2025-04-15T08:41:07.8934160Z         âœ“ should return `false` for `leadershipChange` (1 ms)
2025-04-15T08:41:07.8934320Z         âœ“ should return `true` for `update` or `activate`
2025-04-15T08:41:07.8934430Z       if follower
2025-04-15T08:41:07.8934570Z         âœ“ should return `false` for `update` or `activate`
2025-04-15T08:41:07.8934693Z       add
2025-04-15T08:41:07.8934868Z         âœ“ should skip inactive workflow in `init` activation mode
2025-04-15T08:41:07.8935061Z         âœ“ should skip inactive workflow in `leadershipChange` activation mode
2025-04-15T08:41:07.8935065Z 
2025-04-15T08:41:07.8935203Z PASS src/shutdown/__tests__/shutdown.service.test.ts
2025-04-15T08:41:07.8935439Z   ShutdownService
2025-04-15T08:41:07.8935513Z     shutdown
2025-04-15T08:41:07.8935635Z       âœ“ should signal shutdown (6 ms)
2025-04-15T08:41:07.8935781Z       âœ“ should signal shutdown in the priority order (2 ms)
2025-04-15T08:41:07.8935973Z       âœ“ should throw error if shutdown is already in progress (12 ms)
2025-04-15T08:41:07.8936120Z       âœ“ should report error if component shutdown fails (2 ms)
2025-04-15T08:41:07.8936234Z     waitForShutdown
2025-04-15T08:41:07.8936344Z       âœ“ should wait for shutdown (1 ms)
2025-04-15T08:41:07.8936511Z       âœ“ should throw error if app is not shutting down (1 ms)
2025-04-15T08:41:07.8936600Z     isShuttingDown
2025-04-15T08:41:07.8936739Z       âœ“ should return true if app is shutting down
2025-04-15T08:41:07.8936915Z       âœ“ should return false if app is not shutting down
2025-04-15T08:41:07.8936983Z     validate
2025-04-15T08:41:07.8937245Z       âœ“ should throw error if component is not registered with the DI container (1 ms)
2025-04-15T08:41:07.8937597Z       âœ“ should throw error if component is missing the shutdown method (2 ms)
2025-04-15T08:41:07.8937602Z 
2025-04-15T08:41:07.8937829Z PASS src/metrics/__tests__/prometheus-metrics.service.unmocked.test.ts
2025-04-15T08:41:07.8937906Z   workflow_success_total
2025-04-15T08:41:07.8938064Z     âœ“ support workflow id labels (16 ms)
2025-04-15T08:41:07.8938158Z     âœ“ support a custom prefix (1 ms)
2025-04-15T08:41:07.8938254Z   Active workflow count
2025-04-15T08:41:07.8938392Z     âœ“ should prioritize cached value (3 ms)
2025-04-15T08:41:07.8938568Z     âœ“ should query value from database if cache misses (1 ms)
2025-04-15T08:41:07.8938572Z 
2025-04-15T08:41:07.8938746Z PASS src/executions/__tests__/executions.controller.test.ts
2025-04-15T08:41:07.8938829Z   ExecutionsController
2025-04-15T08:41:07.8938937Z     getOne
2025-04-15T08:41:07.8939060Z       âœ“ should 400 when execution is not a number (18 ms)
2025-04-15T08:41:07.8939168Z     getMany
2025-04-15T08:41:07.8939292Z       if either status or range provided
2025-04-15T08:41:07.8939426Z         âœ“ should fetch executions per query (2 ms)
2025-04-15T08:41:07.8939550Z         âœ“ should fetch executions per query (1 ms)
2025-04-15T08:41:07.8939715Z         âœ“ should fetch executions per query (1 ms)
2025-04-15T08:41:07.8939825Z         âœ“ should fetch executions per query (11 ms)
2025-04-15T08:41:07.8939942Z       if neither status nor range provided
2025-04-15T08:41:07.8940049Z         âœ“ should fetch executions per query (1 ms)
2025-04-15T08:41:07.8940180Z         âœ“ should fetch executions per query (2 ms)
2025-04-15T08:41:07.8940274Z       if both status and range provided
2025-04-15T08:41:07.8940466Z         âœ“ should fetch executions per query (2 ms)
2025-04-15T08:41:07.8940539Z     stop
2025-04-15T08:41:07.8940741Z       âœ“ should 404 when execution is inaccessible for user (2 ms)
2025-04-15T08:41:07.8940876Z       âœ“ should call ask for an execution to be stopped
2025-04-15T08:41:07.8940906Z 
2025-04-15T08:41:07.8941058Z PASS test/integration/services/project.service.test.ts
2025-04-15T08:41:07.8941159Z   ProjectService
2025-04-15T08:41:07.8941225Z     addUser
2025-04-15T08:41:07.8941495Z       âœ“ creates a relation between the user and the project using the role project:viewer (30 ms)
2025-04-15T08:41:07.8941719Z       âœ“ creates a relation between the user and the project using the role project:admin (25 ms)
2025-04-15T08:41:07.8941962Z       âœ“ creates a relation between the user and the project using the role project:editor (25 ms)
2025-04-15T08:41:07.8942223Z       âœ“ creates a relation between the user and the project using the role project:personalOwner (18 ms)
2025-04-15T08:41:07.8942602Z       âœ“ changes the role the user has in the project if the user is already part of the project, instead of creating a new relationship (17 ms)
2025-04-15T08:41:07.8942695Z     getProjectWithScope
2025-04-15T08:41:07.8942968Z       âœ“ should return the project if the user has the role project:admin and wants the scope workflow:list (21 ms)
2025-04-15T08:41:07.8943617Z       âœ“ should return the project if the user has the role project:admin and wants the scope workflow:create (24 ms)
2025-04-15T08:41:07.8943947Z       âœ“ should return the project if the user has the role project:viewer and wants the scope workflow:create (16 ms)
2025-04-15T08:41:07.8944278Z       âœ“ should return the project if the user has the role project:viewer and wants the scope credential:create (21 ms)
2025-04-15T08:41:07.8944472Z       âœ“ should not return the project if the user is not part of it (19 ms)
2025-04-15T08:41:07.8944476Z 
2025-04-15T08:41:07.8944705Z PASS src/execution-lifecycle/__tests__/restore-binary-data-id.test.ts
2025-04-15T08:41:07.8944801Z   on filesystem mode
2025-04-15T08:41:07.8945103Z     âœ“ should restore if binary data ID is missing execution ID (4 ms)
2025-04-15T08:41:07.8945441Z     âœ“ should do nothing if binary data ID is not missing execution ID (1 ms)
2025-04-15T08:41:07.8945675Z     âœ“ should do nothing if no binary data ID
2025-04-15T08:41:07.8945965Z     âœ“ should do nothing on itemless case (1 ms)
2025-04-15T08:41:07.8946125Z     âœ“ should do nothing if data is undefined
2025-04-15T08:41:07.8946291Z     âœ“ should do nothing if workflow execution mode is not `webhook` (1 ms)
2025-04-15T08:41:07.8946425Z     âœ“ should ignore error thrown on renaming (1 ms)
2025-04-15T08:41:07.8946535Z   on s3 mode
2025-04-15T08:41:07.8946676Z     âœ“ should restore if binary data ID is missing execution ID
2025-04-15T08:41:07.8946845Z     âœ“ should do nothing if binary data ID is not missing execution ID (1 ms)
2025-04-15T08:41:07.8946944Z     âœ“ should do nothing if no binary data ID
2025-04-15T08:41:07.8947049Z     âœ“ should do nothing on itemless case
2025-04-15T08:41:07.8947162Z     âœ“ should do nothing if data is undefined (1 ms)
2025-04-15T08:41:07.8947309Z     âœ“ should do nothing if workflow execution mode is not `webhook`
2025-04-15T08:41:07.8947416Z     âœ“ should ignore error thrown on renaming (1 ms)
2025-04-15T08:41:07.8947477Z   on default mode
2025-04-15T08:41:07.8947574Z     âœ“ should do nothing (7 ms)
2025-04-15T08:41:07.8947579Z 
2025-04-15T08:41:07.8947697Z PASS src/services/__tests__/hooks.service.test.ts
2025-04-15T08:41:07.8947751Z   HooksService
2025-04-15T08:41:07.8947937Z     âœ“ hooksService.inviteUsers should call userService.inviteUsers (10 ms)
2025-04-15T08:41:07.8948103Z     âœ“ hooksService.issueCookie should call authService.issueCookie (4 ms)
2025-04-15T08:41:07.8948284Z     âœ“ hooksService.findOneUser should call authUserRepository.findOne (1 ms)
2025-04-15T08:41:07.8948445Z     âœ“ hooksService.saveUser should call userRepository.save (1 ms)
2025-04-15T08:41:07.8948621Z     âœ“ hooksService.updateSettings should call settingRepository.update (1 ms)
2025-04-15T08:41:07.8948798Z     âœ“ hooksService.workflowsCount should call workflowRepository.count (1 ms)
2025-04-15T08:41:07.8948981Z     âœ“ hooksService.credentialsCount should call credentialRepository.count (1 ms)
2025-04-15T08:41:07.8949176Z     âœ“ hooksService.settingsCount should call settingsRepository.count
2025-04-15T08:41:07.8949400Z     âœ“ hooksService.authMiddleware should call authService.authMiddleware (1 ms)
2025-04-15T08:41:07.8949600Z     âœ“ hooksService.dbCollections should return valid repositories (11 ms)
2025-04-15T08:41:07.8949745Z     âœ“ hooksService.getRudderStackClient (1 ms)
2025-04-15T08:41:07.8949750Z 
2025-04-15T08:41:07.8949936Z PASS test/integration/credentials-helper.test.ts
2025-04-15T08:41:07.8950033Z   CredentialsHelper
2025-04-15T08:41:07.8950105Z     credentialOwnedBySuperUsers
2025-04-15T08:41:07.8950200Z       âœ“ owners are super users (31 ms)
2025-04-15T08:41:07.8950289Z       âœ“ admins are super users (11 ms)
2025-04-15T08:41:07.8950434Z       âœ“ owners need to own the credential (14 ms)
2025-04-15T08:41:07.8950574Z       âœ“ admins need to own the credential (12 ms)
2025-04-15T08:41:07.8950740Z       âœ“ members are no super users (10 ms)
2025-04-15T08:41:07.8950953Z       âœ“ credential in team project with instance owner as an admin can use external secrets (26 ms)
2025-04-15T08:41:07.8951293Z       âœ“ credential in team project with instance admin as an admin can use external secrets (25 ms)
2025-04-15T08:41:07.8951512Z       âœ“ credential in team project with instance owner as an editor cannot use external secrets (19 ms)
2025-04-15T08:41:07.8951730Z       âœ“ credential in team project with instance admin as an editor cannot use external secrets (10 ms)
2025-04-15T08:41:07.8951985Z       âœ“ credential in team project with no instance admin or owner as part of the project cannot use external secrets (9 ms)
2025-04-15T08:41:07.8951990Z 
2025-04-15T08:41:07.8952157Z PASS src/__tests__/credentials-overwrites.test.ts
2025-04-15T08:41:07.8952289Z   CredentialsOverwrites
2025-04-15T08:41:07.8952374Z     constructor
2025-04-15T08:41:07.8952582Z       âœ“ should parse and set overwrite data from config (12 ms)
2025-04-15T08:41:07.8952659Z     setData
2025-04-15T08:41:07.8952836Z       âœ“ should reset resolvedTypes when setting new data (1 ms)
2025-04-15T08:41:07.8952911Z     applyOverwrite
2025-04-15T08:41:07.8953217Z       âœ“ should apply overwrites only for empty fields (1 ms)
2025-04-15T08:41:07.8953385Z       âœ“ should return original data if no overwrites exist (1 ms)
2025-04-15T08:41:07.8953497Z     getOverwrites
2025-04-15T08:41:07.8953705Z       âœ“ should return undefined for unrecognized credential type (1 ms)
2025-04-15T08:41:07.8953860Z       âœ“ should cache resolved types (1 ms)
2025-04-15T08:41:07.8954002Z       âœ“ should merge overwrites from parent types (1 ms)
2025-04-15T08:41:07.8954007Z 
2025-04-15T08:41:07.8954205Z PASS test/integration/security-audit/database-risk-reporter.test.ts
2025-04-15T08:41:07.8954318Z   âœ“ should report expressions in queries (334 ms)
2025-04-15T08:41:07.8954481Z   âœ“ should report expressions in query params (13 ms)
2025-04-15T08:41:07.8954646Z   âœ“ should report unused query params (14 ms)
2025-04-15T08:41:07.8954778Z   âœ“ should not report non-database node (5 ms)
2025-04-15T08:41:07.8954782Z 
2025-04-15T08:41:07.8954959Z PASS src/executions/__tests__/parse-range-query.middleware.test.ts
2025-04-15T08:41:07.8955062Z   `parseRangeQuery` middleware
2025-04-15T08:41:07.8955188Z     errors
2025-04-15T08:41:07.8955305Z       âœ“ should fail on invalid JSON (15 ms)
2025-04-15T08:41:07.8955451Z       âœ“ should fail on invalid schema (4 ms)
2025-04-15T08:41:07.8955501Z     filter
2025-04-15T08:41:07.8955636Z       âœ“ should parse status and mode fields (2 ms)
2025-04-15T08:41:07.8955760Z       âœ“ should parse date-related fields (10 ms)
2025-04-15T08:41:07.8955937Z       âœ“ should parse ID-related fields (2 ms)
2025-04-15T08:41:07.8956069Z       âœ“ should parse `projectId` field (1 ms)
2025-04-15T08:41:07.8956189Z       âœ“ should delete invalid fields (1 ms)
2025-04-15T08:41:07.8956273Z     range
2025-04-15T08:41:07.8956399Z       âœ“ should parse first and last IDs
2025-04-15T08:41:07.8956504Z       âœ“ should parse limit (3 ms)
2025-04-15T08:41:07.8956665Z       âœ“ should default limit to 20 if absent
2025-04-15T08:41:07.8956669Z 
2025-04-15T08:41:07.8956840Z PASS src/controllers/__tests__/owner.controller.test.ts
2025-04-15T08:41:07.8956922Z   OwnerController
2025-04-15T08:41:07.8957055Z     setupOwner
2025-04-15T08:41:07.8957278Z       âœ“ should throw a BadRequestError if the instance owner is already setup (15 ms)
2025-04-15T08:41:07.8957438Z       âœ“ should setup the instance owner successfully (2 ms)
2025-04-15T08:41:07.8957507Z     dismissBanner
2025-04-15T08:41:07.8957724Z       âœ“ should not call dismissBanner if no banner is provided
2025-04-15T08:41:07.8957871Z       âœ“ should call dismissBanner with the correct banner name
2025-04-15T08:41:07.8957876Z 
2025-04-15T08:41:07.8958098Z PASS src/execution-lifecycle/__tests__/save-execution-progress.test.ts
2025-04-15T08:41:07.8958176Z   saveExecutionProgress
2025-04-15T08:41:07.8958354Z     âœ“ should not try to update non-existent executions (5 ms)
2025-04-15T08:41:07.8958512Z     âœ“ should handle DB errors on execution lookup (2 ms)
2025-04-15T08:41:07.8958722Z     âœ“ should handle DB errors when updating the execution (1 ms)
2025-04-15T08:41:07.8959003Z     âœ“ should not try to update finished executions
2025-04-15T08:41:07.8959164Z     âœ“ should populate `.data` when it is missing (1 ms)
2025-04-15T08:41:07.8959323Z     âœ“ should augment `.data` if it already exists (1 ms)
2025-04-15T08:41:07.8959455Z     âœ“ should set last executed node correctly (1 ms)
2025-04-15T08:41:07.8959460Z 
2025-04-15T08:41:07.8959611Z PASS src/push/__tests__/websocket.push.test.ts
2025-04-15T08:41:07.8959689Z   WebSocketPush
2025-04-15T08:41:07.8959832Z     âœ“ can add a connection (4 ms)
2025-04-15T08:41:07.8959938Z     âœ“ closes a connection (1 ms)
2025-04-15T08:41:07.8960095Z     âœ“ sends data to one connection (2 ms)
2025-04-15T08:41:07.8960208Z     âœ“ sends data to all connections (1 ms)
2025-04-15T08:41:07.8960368Z     âœ“ pings all connections (1 ms)
2025-04-15T08:41:07.8960496Z     âœ“ sends data to all users connections
2025-04-15T08:41:07.8960708Z     âœ“ emits message event when connection receives data (2 ms)
2025-04-15T08:41:07.8960820Z     âœ“ emits doesn' emit message for client heartbeat
2025-04-15T08:41:07.8960963Z 
2025-04-15T08:41:07.8961167Z PASS test/integration/database/repositories/project.repository.test.ts
2025-04-15T08:41:07.8961259Z   ProjectRepository
2025-04-15T08:41:07.8961356Z     getPersonalProjectForUser
2025-04-15T08:41:07.8961479Z       âœ“ returns the personal project (59 ms)
2025-04-15T08:41:07.8961594Z       âœ“ does not return non personal projects (30 ms)
2025-04-15T08:41:07.8961678Z     getPersonalProjectForUserOrFail
2025-04-15T08:41:07.8961777Z       âœ“ returns the personal project (11 ms)
2025-04-15T08:41:07.8961896Z       âœ“ does not return non personal projects (51 ms)
2025-04-15T08:41:07.8961966Z     update personal project name
2025-04-15T08:41:07.8962220Z       âœ“ do not pass a User instance with circular references into `UserRepository.create` (37 ms)
2025-04-15T08:41:07.8962224Z 
2025-04-15T08:41:07.8962445Z PASS src/external-secrets.ee/__tests__/external-secrets-manager.ee.test.ts
2025-04-15T08:41:07.8962577Z   External Secrets Manager
2025-04-15T08:41:07.8962674Z     âœ“ should get secret (5 ms)
2025-04-15T08:41:07.8962783Z     âœ“ should not throw errors during init (1 ms)
2025-04-15T08:41:07.8962938Z     âœ“ should not throw errors during shutdown (8 ms)
2025-04-15T08:41:07.8963071Z     âœ“ should save provider settings (3 ms)
2025-04-15T08:41:07.8963244Z     âœ“ should call provider update functions on a timer (3 ms)
2025-04-15T08:41:07.8963437Z     âœ“ should not call provider update functions if the not licensed (1 ms)
2025-04-15T08:41:07.8963710Z     âœ“ should not call provider update functions if the provider has an error (2 ms)
2025-04-15T08:41:07.8963885Z     âœ“ should reinitialize a provider when save provider settings (1 ms)
2025-04-15T08:41:07.8963889Z 
2025-04-15T08:41:07.8964091Z PASS test/integration/binary-data.api.test.ts
2025-04-15T08:41:07.8975586Z   GET /binary-data
2025-04-15T08:41:07.8975765Z     should reject on missing or invalid binary data ID
2025-04-15T08:41:07.8975923Z       âœ“ on request to view (42 ms)
2025-04-15T08:41:07.8976037Z       âœ“ on request to download (15 ms)
2025-04-15T08:41:07.8976113Z     should return binary data [filesystem]
2025-04-15T08:41:07.8976195Z       âœ“ on request to view (8 ms)
2025-04-15T08:41:07.8976287Z       âœ“ on request to download (5 ms)
2025-04-15T08:41:07.8976381Z     should handle non-ASCII filename [filesystem]
2025-04-15T08:41:07.8976469Z       âœ“ on request to download (8 ms)
2025-04-15T08:41:07.8976554Z     should return 404 on file not found [filesystem]
2025-04-15T08:41:07.8976637Z       âœ“ on request to view (12 ms)
2025-04-15T08:41:07.8976720Z       âœ“ on request to download (5 ms)
2025-04-15T08:41:07.8976790Z     should return binary data [s3]
2025-04-15T08:41:07.8976870Z       âœ“ on request to view (5 ms)
2025-04-15T08:41:07.8976957Z       âœ“ on request to download (3 ms)
2025-04-15T08:41:07.8977030Z     should return 404 on file not found [s3]
2025-04-15T08:41:07.8977113Z       âœ“ on request to view (4 ms)
2025-04-15T08:41:07.8977201Z       âœ“ on request to download (2 ms)
2025-04-15T08:41:07.8977428Z 
2025-04-15T08:41:07.8977524Z PASS test/integration/role.api.test.ts
2025-04-15T08:41:07.8977587Z   GET /roles/
2025-04-15T08:41:07.8977705Z     âœ“ should return all role categories (29 ms)
2025-04-15T08:41:07.8977813Z     âœ“ should return fixed global roles (9 ms)
2025-04-15T08:41:07.8977915Z     âœ“ should return fixed project roles (6 ms)
2025-04-15T08:41:07.8978047Z     âœ“ should return fixed credential sharing roles (5 ms)
2025-04-15T08:41:07.8978167Z     âœ“ should return fixed workflow sharing roles (5 ms)
2025-04-15T08:41:07.8978172Z 
2025-04-15T08:41:07.8978323Z PASS src/execution-lifecycle/__tests__/to-save-settings.test.ts
2025-04-15T08:41:07.8978424Z   failed production executions
2025-04-15T08:41:07.8978608Z     âœ“ should favor workflow settings over defaults (4 ms)
2025-04-15T08:41:07.8978806Z     âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:41:07.8978913Z   successful production executions
2025-04-15T08:41:07.8979028Z     âœ“ should favor workflow settings over defaults
2025-04-15T08:41:07.8979284Z     âœ“ should fall back to default if no workflow setting
2025-04-15T08:41:07.8979343Z   manual executions
2025-04-15T08:41:07.8979457Z     âœ“ should favor workflow setting over default (1 ms)
2025-04-15T08:41:07.8979641Z     âœ“ should favor fall back to default if workflow setting is explicit default (1 ms)
2025-04-15T08:41:07.8979772Z     âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:41:07.8979830Z   execution progress
2025-04-15T08:41:07.8979931Z     âœ“ should favor workflow setting over default
2025-04-15T08:41:07.8980114Z     âœ“ should favor fall back to default if workflow setting is explicit default (1 ms)
2025-04-15T08:41:07.8980245Z     âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:41:07.8980249Z 
2025-04-15T08:41:07.8980379Z PASS src/webhooks/__tests__/webhook-form-data.test.ts
2025-04-15T08:41:07.8980439Z   webhook-form-data
2025-04-15T08:41:07.8980499Z     createMultiFormDataParser
2025-04-15T08:41:07.8980642Z       âœ“ should parse fields from the multipart form data (25 ms)
2025-04-15T08:41:07.8980802Z       âœ“ should parse text/plain file from the multipart form data (7 ms)
2025-04-15T08:41:07.8980985Z       âœ“ should parse multiple files and fields from the multipart form data (4 ms)
2025-04-15T08:41:07.8981094Z       âœ“ should ignore file that is too large (4 ms)
2025-04-15T08:41:07.8981099Z 
2025-04-15T08:41:07.8981237Z PASS src/task-runners/__tests__/task-runner-process.test.ts
2025-04-15T08:41:07.8981291Z   TaskRunnerProcess
2025-04-15T08:41:07.8981349Z     constructor
2025-04-15T08:41:07.8981465Z       âœ“ should throw if runner mode is external (17 ms)
2025-04-15T08:41:07.8981638Z       âœ“ should register listener for `runner:failed-heartbeat-check` event
2025-04-15T08:41:07.8981798Z       âœ“ should register listener for `runner:timed-out-during-task` event
2025-04-15T08:41:07.8981854Z     start
2025-04-15T08:41:07.8981961Z       âœ“ should propagate PATH from env as is (2 ms)
2025-04-15T08:41:07.8982124Z       âœ“ should propagate NODE_FUNCTION_ALLOW_BUILTIN from env as is (1 ms)
2025-04-15T08:41:07.8982294Z       âœ“ should propagate NODE_FUNCTION_ALLOW_EXTERNAL from env as is (1 ms)
2025-04-15T08:41:07.8982410Z       âœ“ should propagate N8N_SENTRY_DSN from env as is
2025-04-15T08:41:07.8982539Z       âœ“ should propagate N8N_VERSION from env as is (1 ms)
2025-04-15T08:41:07.8982656Z       âœ“ should propagate ENVIRONMENT from env as is (1 ms)
2025-04-15T08:41:07.8982791Z       âœ“ should propagate DEPLOYMENT_NAME from env as is (1 ms)
2025-04-15T08:41:07.8982898Z       âœ“ should propagate NODE_PATH from env as is
2025-04-15T08:41:07.8983038Z       âœ“ should propagate GENERIC_TIMEZONE from env as is (1 ms)
2025-04-15T08:41:07.8983198Z       âœ“ should pass NODE_OPTIONS env if maxOldSpaceSize is configured (8 ms)
2025-04-15T08:41:07.8983381Z       âœ“ should not pass NODE_OPTIONS env if maxOldSpaceSize is not configured (1 ms)
2025-04-15T08:41:07.8983594Z       âœ“ should use --disallow-code-generation-from-strings and --disable-proto=delete flags
2025-04-15T08:41:07.8983786Z 
2025-04-15T08:41:07.8983914Z PASS src/sso.ee/saml/__tests__/saml.service.ee.test.ts
2025-04-15T08:41:07.8983970Z   SamlService
2025-04-15T08:41:07.8984046Z     getAttributesFromLoginResponse
2025-04-15T08:41:07.8984167Z       âœ“ throws when any attribute is missing (120 ms)
2025-04-15T08:41:07.8984214Z     init
2025-04-15T08:41:07.8984367Z       âœ“ calls `reset` if an InvalidSamlMetadataError is thrown (2 ms)
2025-04-15T08:41:07.8984483Z       âœ“ calls `reset` if a SyntaxError is thrown (1 ms)
2025-04-15T08:41:07.8984647Z       âœ“ does not call reset and rethrows if another error is thrown (2 ms)
2025-04-15T08:41:07.8984762Z       âœ“ does not call reset if no error is thrown (1 ms)
2025-04-15T08:41:07.8984816Z     reset
2025-04-15T08:41:07.8984993Z       âœ“ disables saml login and deletes the saml `features.saml` key in the db (1 ms)
2025-04-15T08:41:07.8984997Z 
2025-04-15T08:41:07.8985091Z PASS test/integration/license.api.test.ts
2025-04-15T08:41:07.8985139Z   GET /license
2025-04-15T08:41:07.8985414Z     âœ“ should return license information to the instance owner (37 ms)
2025-04-15T08:41:07.8985556Z     âœ“ should return license information to a regular user (12 ms)
2025-04-15T08:41:07.8985639Z   POST /license/enterprise/request_trial
2025-04-15T08:41:07.8985742Z     âœ“ should work for instance owner (31 ms)
2025-04-15T08:41:07.8985841Z     âœ“ does not work for regular users (17 ms)
2025-04-15T08:41:07.8985906Z   POST /license/activate
2025-04-15T08:41:07.8986004Z     âœ“ should work for instance owner (25 ms)
2025-04-15T08:41:07.8986105Z     âœ“ does not work for regular users (9 ms)
2025-04-15T08:41:07.8986191Z     âœ“ errors out properly (39 ms)
2025-04-15T08:41:07.8986249Z   POST /license/renew
2025-04-15T08:41:07.8986344Z     âœ“ should work for instance owner (19 ms)
2025-04-15T08:41:07.8986448Z     âœ“ does not work for regular users (13 ms)
2025-04-15T08:41:07.8986530Z     âœ“ errors out properly (8 ms)
2025-04-15T08:41:07.8986535Z 
2025-04-15T08:41:07.8986664Z PASS test/integration/controllers/oauth/oauth2.api.test.ts
2025-04-15T08:41:07.8986719Z   OAuth2 API
2025-04-15T08:41:07.8986879Z     âœ“ should return a valid auth URL when the auth flow is initiated (91 ms)
2025-04-15T08:41:07.8987028Z     âœ“ should fail on auth when callback is called as another user (61 ms)
2025-04-15T08:41:07.8987149Z     âœ“ should handle a valid callback without auth (65 ms)
2025-04-15T08:41:07.8987153Z 
2025-04-15T08:41:07.8987333Z PASS test/integration/credentials/credentials.service.test.ts
2025-04-15T08:41:07.8987387Z   credentials service
2025-04-15T08:41:07.8987464Z     replaceCredentialContentsForSharee
2025-04-15T08:41:07.8987617Z       âœ“ should replace the contents of the credential for sharee (18 ms)
2025-04-15T08:41:07.8987789Z       âœ“ should replace the contents of the credential for project viewer (31 ms)
2025-04-15T08:41:07.8987960Z       âœ“ should not replace the contents of the credential for project editor (15 ms)
2025-04-15T08:41:07.8987964Z 
2025-04-15T08:41:07.8988055Z PASS src/__tests__/external-hooks.test.ts
2025-04-15T08:41:07.8988113Z   ExternalHooks
2025-04-15T08:41:07.8988164Z     init()
2025-04-15T08:41:07.8988316Z       âœ“ should not load hooks if no external hook files are configured (5 ms)
2025-04-15T08:41:07.8988464Z       âœ“ should throw an error if hook file cannot be loaded (23 ms)
2025-04-15T08:41:07.8988610Z       âœ“ should successfully load hooks from valid hook file (1 ms)
2025-04-15T08:41:07.8988657Z     run()
2025-04-15T08:41:07.8988771Z       âœ“ should not throw if no hooks are registered
2025-04-15T08:41:07.8988874Z       âœ“ should execute registered hooks (1 ms)
2025-04-15T08:41:07.8988999Z       âœ“ should report error if hook execution fails (1 ms)
2025-04-15T08:41:07.8989003Z 
2025-04-15T08:41:07.8989150Z PASS test/integration/workflows/workflow-sharing.service.test.ts
2025-04-15T08:41:07.8989218Z   WorkflowSharingService
2025-04-15T08:41:07.8989272Z     getSharedWorkflowIds
2025-04-15T08:41:07.8989384Z       âœ“ should show all workflows to owners (25 ms)
2025-04-15T08:41:07.8989627Z       âœ“ should show shared workflows to users (38 ms)
2025-04-15T08:41:07.8989857Z       âœ“ should show workflows that the user has access to through a team project they are part of (13 ms)
2025-04-15T08:41:07.8990007Z       âœ“ should show workflows that the user has update access to (56 ms)
2025-04-15T08:41:07.8990011Z 
2025-04-15T08:41:07.8990143Z PASS src/credentials/__tests__/credentials.service.test.ts
2025-04-15T08:41:07.8990202Z   CredentialsService
2025-04-15T08:41:07.8990251Z     redact
2025-04-15T08:41:07.8990353Z       âœ“ should redact sensitive values (9 ms)
2025-04-15T08:41:07.8990401Z     decrypt
2025-04-15T08:41:07.8990523Z       âœ“ should redact sensitive values by default (3 ms)
2025-04-15T08:41:07.8990675Z       âœ“ should return sensitive values if `includeRawData` is true (1 ms)
2025-04-15T08:41:07.8990826Z       âœ“ should return return an empty object if decryption fails (10 ms)
2025-04-15T08:41:07.8990830Z 
2025-04-15T08:41:07.8990921Z PASS test/integration/owner.api.test.ts
2025-04-15T08:41:07.8991101Z   POST /owner/setup
2025-04-15T08:41:07.8991248Z     âœ“ should create owner and enable isInstanceOwnerSetUp (136 ms)
2025-04-15T08:41:07.8991369Z     âœ“ should create owner with lowercased email (95 ms)
2025-04-15T08:41:07.8991466Z     âœ“ should fail with invalid inputs (44 ms)
2025-04-15T08:41:07.8991477Z 
2025-04-15T08:41:07.8991584Z PASS test/integration/executions.controller.test.ts
2025-04-15T08:41:07.8991641Z   GET /executions
2025-04-15T08:41:07.8991811Z     âœ“ only returns executions of shared workflows if sharing is enabled (86 ms)
2025-04-15T08:41:07.8991952Z     âœ“ should return a scopes array for each execution (44 ms)
2025-04-15T08:41:07.8992005Z   GET /executions/:id
2025-04-15T08:41:07.8992178Z     âœ“ project viewers can view executions for workflows in the project (64 ms)
2025-04-15T08:41:07.8992345Z     âœ“ only returns executions of shared workflows if sharing is enabled (59 ms)
2025-04-15T08:41:07.8992408Z   POST /executions/delete
2025-04-15T08:41:07.8992506Z     âœ“ should hard-delete an execution (62 ms)
2025-04-15T08:41:07.8992519Z 
2025-04-15T08:41:07.8992618Z PASS src/services/__tests__/ai.service.test.ts
2025-04-15T08:41:07.8992665Z   AiService
2025-04-15T08:41:07.8992717Z     init
2025-04-15T08:41:07.8992872Z       âœ“ should not initialize client if AI assistant is not enabled (4 ms)
2025-04-15T08:41:07.8993023Z       âœ“ should initialize client when AI assistant is enabled (5 ms)
2025-04-15T08:41:07.8993074Z     chat
2025-04-15T08:41:07.8993212Z       âœ“ should call client chat method after initialization (1 ms)
2025-04-15T08:41:07.8993348Z       âœ“ should throw error if client is not initialized (7 ms)
2025-04-15T08:41:07.8993400Z     applySuggestion
2025-04-15T08:41:07.8993514Z       âœ“ should call client applySuggestion (1 ms)
2025-04-15T08:41:07.8993627Z       âœ“ should throw error if client is not initialized
2025-04-15T08:41:07.8993724Z     askAi
2025-04-15T08:41:07.8993849Z       âœ“ should call client askAi method after initialization
2025-04-15T08:41:07.8993985Z       âœ“ should throw error if client is not initialized (1 ms)
2025-04-15T08:41:07.8993997Z 
2025-04-15T08:41:07.8994103Z PASS test/integration/public-api/variables.test.ts
2025-04-15T08:41:07.8994170Z   Variables in Public API
2025-04-15T08:41:07.8994224Z     GET /variables
2025-04-15T08:41:07.8994386Z       âœ“ if licensed, should return all variables with pagination (503 ms)
2025-04-15T08:41:07.8994485Z       âœ“ if not licensed, should reject (21 ms)
2025-04-15T08:41:07.8994546Z     POST /variables
2025-04-15T08:41:07.8994661Z       âœ“ if licensed, should create a new variable (28 ms)
2025-04-15T08:41:07.8994764Z       âœ“ if not licensed, should reject (14 ms)
2025-04-15T08:41:07.8994825Z     DELETE /variables/:id
2025-04-15T08:41:07.8994935Z       âœ“ if licensed, should delete a variable (51 ms)
2025-04-15T08:41:07.8995037Z       âœ“ if not licensed, should reject (30 ms)
2025-04-15T08:41:07.8995041Z 
2025-04-15T08:41:07.8995165Z PASS src/decorators/__tests__/controller.registry.test.ts
2025-04-15T08:41:07.8995226Z   ControllerRegistry
2025-04-15T08:41:07.8995511Z     Rate limiting
2025-04-15T08:41:07.8995621Z       âœ“ should not rate-limit by default (50 ms)
2025-04-15T08:41:07.8995725Z       âœ“ should rate-limit when configured (12 ms)
2025-04-15T08:41:07.8995782Z     Authorization
2025-04-15T08:41:07.8995902Z       âœ“ should not require auth if configured to skip (3 ms)
2025-04-15T08:41:07.8996008Z       âœ“ should require auth by default (3 ms)
2025-04-15T08:41:07.8996057Z     License checks
2025-04-15T08:41:07.8996178Z       âœ“ should disallow when feature is missing (3 ms)
2025-04-15T08:41:07.8996286Z       âœ“ should allow when feature is available (3 ms)
2025-04-15T08:41:07.8996341Z     Args
2025-04-15T08:41:07.8996471Z       âœ“ should pass in correct args to the route handler (4 ms)
2025-04-15T08:41:07.8996481Z 
2025-04-15T08:41:07.8996575Z PASS src/__tests__/credential-types.test.ts
2025-04-15T08:41:07.8996631Z   CredentialTypes
2025-04-15T08:41:07.8996676Z     getByName
2025-04-15T08:41:07.8996831Z       âœ“ Should throw error when calling invalid credential name (14 ms)
2025-04-15T08:41:07.8996982Z       âœ“ Should return correct credential type for valid name (1 ms)
2025-04-15T08:41:07.8997038Z     recognizes
2025-04-15T08:41:07.8997206Z       âœ“ Should recognize credential type that exists in knownCredentials (1 ms)
2025-04-15T08:41:07.8997385Z       âœ“ Should recognize credential type that exists in loadedCredentials (1 ms)
2025-04-15T08:41:07.8997510Z       âœ“ Should not recognize unknown credential type (1 ms)
2025-04-15T08:41:07.8997574Z     getSupportedNodes
2025-04-15T08:41:07.8997720Z       âœ“ Should return supported nodes for known credential type (1 ms)
2025-04-15T08:41:07.8997887Z       âœ“ Should return empty array for unknown credential type supported nodes
2025-04-15T08:41:07.8997938Z     getParentTypes
2025-04-15T08:41:07.8998096Z       âœ“ Should return parent types for credential type with extends (2 ms)
2025-04-15T08:41:07.8998238Z       âœ“ Should return empty array for credential type without extends
2025-04-15T08:41:07.8998408Z       âœ“ Should return empty array for unknown credential type parent types (1 ms)
2025-04-15T08:41:07.8998421Z 
2025-04-15T08:41:07.8998638Z PASS src/executions/pre-execution-checks/__tests__/credentials-permission-checker.test.ts
2025-04-15T08:41:07.8998708Z   CredentialsPermissionChecker
2025-04-15T08:41:07.8998849Z     âœ“ should throw if a node has a credential without an id (21 ms)
2025-04-15T08:41:07.8998970Z     âœ“ should throw if a credential is not accessible (1 ms)
2025-04-15T08:41:07.8999120Z     âœ“ should not throw an error if the workflow has no credentials (1 ms)
2025-04-15T08:41:07.8999266Z     âœ“ should not throw an error if all credentials are accessible (1 ms)
2025-04-15T08:41:07.8999435Z     âœ“ should skip credential checks if the home project owner has global scope
2025-04-15T08:41:07.8999440Z 
2025-04-15T08:41:07.8999579Z PASS src/controllers/__tests__/user-settings.controller.test.ts
2025-04-15T08:41:07.8999636Z   UserSettingsController
2025-04-15T08:41:07.8999688Z     NPS Survey
2025-04-15T08:41:07.8999981Z       âœ“ updates user settings, setting response state to done (4 ms)
2025-04-15T08:41:07.9000207Z       âœ“ updates user settings, setting response state to done, ignoring other keys like waitForResponse
2025-04-15T08:41:07.9000416Z       âœ“ updates user settings, setting response state to done, ignoring other keys like ignoredCount
2025-04-15T08:41:07.9000614Z       âœ“ updates user settings, setting response state to done, ignoring other unknown keys
2025-04-15T08:41:07.9000725Z       âœ“ updates user settings, updating ignore count
2025-04-15T08:41:07.9000860Z       âœ“ updates user settings, resetting to waiting state (1 ms)
2025-04-15T08:41:07.9001032Z       âœ“ updates user settings, updating ignore count, ignoring unknown keys (8 ms)
2025-04-15T08:41:07.9001183Z       âœ“ updates user settings, setting response state to done (1 ms)
2025-04-15T08:41:07.9001297Z       âœ“ updates user settings, updating ignore count
2025-04-15T08:41:07.9001437Z       âœ“ throws error when request payload is is missing (7 ms)
2025-04-15T08:41:07.9001705Z       âœ“ throws error when request payload is is undefined (1 ms)
2025-04-15T08:41:07.9001882Z       âœ“ throws error when request payload is is responded but missing lastShownAt
2025-04-15T08:41:07.9002095Z       âœ“ throws error when request payload is is waitingForResponse but missing lastShownAt (2 ms)
2025-04-15T08:41:07.9002302Z       âœ“ throws error when request payload is is waitingForResponse but missing ignoredCount (1 ms)
2025-04-15T08:41:07.9002306Z 
2025-04-15T08:41:07.9002427Z PASS src/scaling/__tests__/publisher.service.test.ts
2025-04-15T08:41:07.9002477Z   Publisher
2025-04-15T08:41:07.9002535Z     constructor
2025-04-15T08:41:07.9002651Z       âœ“ should init Redis client in scaling mode (4 ms)
2025-04-15T08:41:07.9002779Z       âœ“ should not init Redis client in regular mode (1 ms)
2025-04-15T08:41:07.9002828Z     shutdown
2025-04-15T08:41:07.9002932Z       âœ“ should disconnect Redis client (5 ms)
2025-04-15T08:41:07.9002982Z     publishCommand
2025-04-15T08:41:07.9003105Z       âœ“ should do nothing if not in scaling mode (1 ms)
2025-04-15T08:41:07.9003272Z       âœ“ should publish command into `n8n.commands` pubsub channel (1 ms)
2025-04-15T08:41:07.9003410Z       âœ“ should not debounce `add-webhooks-triggers-and-pollers`
2025-04-15T08:41:07.9003556Z       âœ“ should not debounce `remove-triggers-and-pollers` (1 ms)
2025-04-15T08:41:07.9003617Z     publishWorkerResponse
2025-04-15T08:41:07.9003831Z       âœ“ should publish worker response into `n8n.worker-response` pubsub channel
2025-04-15T08:41:07.9003836Z 
2025-04-15T08:41:07.9003964Z PASS test/integration/workflow-history-manager.test.ts
2025-04-15T08:41:07.9004022Z   Workflow History Manager
2025-04-15T08:41:07.9004121Z     âœ“ should prune on interval (7 ms)
2025-04-15T08:41:07.9004232Z     âœ“ should not prune when not licensed (33 ms)
2025-04-15T08:41:07.9004365Z     âœ“ should not prune when licensed but disabled (28 ms)
2025-04-15T08:41:07.9004512Z     âœ“ should not prune when both prune times are -1 (infinite) (12 ms)
2025-04-15T08:41:07.9004672Z     âœ“ should prune when config prune time is not -1 (infinite) (16 ms)
2025-04-15T08:41:07.9004818Z     âœ“ should prune when license prune time is not -1 (infinite) (11 ms)
2025-04-15T08:41:07.9004957Z     âœ“ should only prune versions older than prune time (32 ms)
2025-04-15T08:41:07.9004961Z 
2025-04-15T08:41:07.9005051Z PASS test/integration/webhooks.test.ts
2025-04-15T08:41:07.9005109Z   WebhookServer
2025-04-15T08:41:07.9005164Z     CORS
2025-04-15T08:41:07.9005214Z       for webhook
2025-04-15T08:41:07.9005324Z         âœ“ should handle preflight requests (21 ms)
2025-04-15T08:41:07.9005428Z         âœ“ should handle regular requests (3 ms)
2025-04-15T08:41:07.9005484Z       for webhookTest
2025-04-15T08:41:07.9005589Z         âœ“ should handle preflight requests (2 ms)
2025-04-15T08:41:07.9005692Z         âœ“ should handle regular requests (2 ms)
2025-04-15T08:41:07.9005758Z     Routing for Waiting Webhooks
2025-04-15T08:41:07.9005868Z       âœ“ should handle URLs without suffix (2 ms)
2025-04-15T08:41:07.9006372Z       âœ“ should handle URLs with suffix (2 ms)
2025-04-15T08:41:07.9006378Z 
2025-04-15T08:41:07.9006507Z PASS src/license/__tests__/license.service.test.ts
2025-04-15T08:41:07.9006562Z   LicenseService
2025-04-15T08:41:07.9006621Z     getLicenseData
2025-04-15T08:41:07.9006733Z       âœ“ should return usage and license data (4 ms)
2025-04-15T08:41:07.9006799Z     activateLicense
2025-04-15T08:41:07.9006921Z       âœ“ should handle SCHEMA_VALIDATION error (25 ms)
2025-04-15T08:41:07.9007036Z       âœ“ should handle RESERVATION_EXHAUSTED error
2025-04-15T08:41:07.9007151Z       âœ“ should handle RESERVATION_EXPIRED error (1 ms)
2025-04-15T08:41:07.9007259Z       âœ“ should handle NOT_FOUND error (4 ms)
2025-04-15T08:41:07.9007386Z       âœ“ should handle RESERVATION_CONFLICT error (1 ms)
2025-04-15T08:41:07.9007492Z       âœ“ should handle RESERVATION_DUPLICATE error
2025-04-15T08:41:07.9007552Z     renewLicense
2025-04-15T08:41:07.9007624Z       âœ“ on success (1 ms)
2025-04-15T08:41:07.9007700Z       âœ“ on failure (1 ms)
2025-04-15T08:41:07.9007964Z     registerCommunityEdition
2025-04-15T08:41:07.9008038Z       âœ“ on success (1 ms)
2025-04-15T08:41:07.9008105Z       âœ“ on failure (1 ms)
2025-04-15T08:41:07.9008109Z 
2025-04-15T08:41:07.9008273Z PASS src/task-runners/task-managers/__tests__/task-manager.test.ts
2025-04-15T08:41:07.9008325Z   TaskRequester
2025-04-15T08:41:07.9008380Z     handleRpc
2025-04-15T08:41:07.9008495Z       âœ“ should handle logNodeOutput rpc call (11 ms)
2025-04-15T08:41:07.9008638Z       âœ“ should handle helpers.assertBinaryData rpc call (1 ms)
2025-04-15T08:41:07.9008763Z       âœ“ should handle helpers.getBinaryDataBuffer rpc call
2025-04-15T08:41:07.9008909Z       âœ“ should handle helpers.prepareBinaryData rpc call (1 ms)
2025-04-15T08:41:07.9009049Z       âœ“ should handle helpers.setBinaryDataBuffer rpc call (1 ms)
2025-04-15T08:41:07.9009171Z       âœ“ should handle helpers.binaryToString rpc call
2025-04-15T08:41:07.9009297Z       âœ“ should handle helpers.httpRequest rpc call (1 ms)
2025-04-15T08:41:07.9009433Z       âœ“ converts any serialized buffer arguments into buffers
2025-04-15T08:41:07.9009494Z       errors
2025-04-15T08:41:07.9009653Z         âœ“ sends method not allowed error if method is not in the allow list
2025-04-15T08:41:07.9009755Z         âœ“ sends error if method throws
2025-04-15T08:41:07.9009760Z 
2025-04-15T08:41:07.9009924Z PASS src/databases/repositories/__tests__/execution.repository.test.ts
2025-04-15T08:41:07.9009989Z   ExecutionRepository
2025-04-15T08:41:07.9010046Z     getWaitingExecutions()
2025-04-15T08:41:07.9010185Z       âœ“ on sqlite, should be called with expected args (12 ms)
2025-04-15T08:41:07.9010327Z       âœ“ on postgresdb, should be called with expected args (1 ms)
2025-04-15T08:41:07.9010393Z     deleteExecutionsByFilter
2025-04-15T08:41:07.9010486Z       âœ“ should delete binary data (2 ms)
2025-04-15T08:41:07.9010556Z     updateExistingExecution
2025-04-15T08:41:07.9010707Z       âœ“ should update execution and data in transaction on sqlite (1 ms)
2025-04-15T08:41:07.9010868Z       âœ“ should update execution and data in transaction on postgresdb
2025-04-15T08:41:07.9011023Z       âœ“ should update execution and data in transaction on mysqldb (6 ms)
2025-04-15T08:41:07.9011029Z 
2025-04-15T08:41:07.9011170Z PASS src/modules/insights/__tests__/insights.controller.test.ts
2025-04-15T08:41:07.9011231Z   InsightsController
2025-04-15T08:41:07.9011282Z     getInsightsSummary
2025-04-15T08:41:07.9011407Z       âœ“ should return default insights if no data (9 ms)
2025-04-15T08:41:07.9011631Z       âœ“ should return the insights summary with null deviation if insights exist only for current period
2025-04-15T08:41:07.9011800Z       âœ“ should return the insights summary if insights exist for both periods
2025-04-15T08:41:07.9011804Z 
2025-04-15T08:41:07.9011892Z PASS src/push/__tests__/sse.push.test.ts
2025-04-15T08:41:07.9011951Z   SSEPush
2025-04-15T08:41:07.9012042Z     âœ“ pings all connections (2 ms)
2025-04-15T08:41:07.9012137Z     âœ“ closes all connections (1 ms)
2025-04-15T08:41:07.9012335Z     add
2025-04-15T08:41:07.9012422Z       âœ“ adds a connection (12 ms)
2025-04-15T08:41:07.9012485Z     closes a connection
2025-04-15T08:41:07.9012556Z       âœ“ on "end" event (2 ms)
2025-04-15T08:41:07.9012641Z       âœ“ on "close" event (1 ms)
2025-04-15T08:41:07.9012723Z       âœ“ on "finish" event (2 ms)
2025-04-15T08:41:07.9012787Z     sends data
2025-04-15T08:41:07.9012870Z       âœ“ to one connection (1 ms)
2025-04-15T08:41:07.9012956Z       âœ“ to all connections (1 ms)
2025-04-15T08:41:07.9013036Z       âœ“ to a specific user (2 ms)
2025-04-15T08:41:07.9013039Z 
2025-04-15T08:41:07.9013176Z PASS src/services/__tests__/active-workflows.service.test.ts
2025-04-15T08:41:07.9013231Z   ActiveWorkflowsService
2025-04-15T08:41:07.9013292Z     getAllActiveIdsInStorage
2025-04-15T08:41:07.9013451Z       âœ“ should filter out any workflow ids that have activation errors (13 ms)
2025-04-15T08:41:07.9013507Z     getAllActiveIdsFor
2025-04-15T08:41:07.9013695Z       âœ“ should return all workflow ids when user has full access (1 ms)
2025-04-15T08:41:07.9013981Z       âœ“ should filter out workflow ids that the user does not have access to (1 ms)
2025-04-15T08:41:07.9014038Z     getActivationError
2025-04-15T08:41:07.9014245Z       âœ“ should throw a BadRequestError a user does not have access to the workflow id (15 ms)
2025-04-15T08:41:07.9014387Z       âœ“ should return the error when the user has access (1 ms)
2025-04-15T08:41:07.9014391Z 
2025-04-15T08:41:07.9014590Z PASS src/environments.ee/source-control/__tests__/source-control.controller.ee.test.ts
2025-04-15T08:41:07.9014657Z   SourceControlController
2025-04-15T08:41:07.9014708Z     pushWorkfolder
2025-04-15T08:41:07.9014853Z       âœ“ should push workfolder with expected parameters (6 ms)
2025-04-15T08:41:07.9014906Z     pullWorkfolder
2025-04-15T08:41:07.9015033Z       âœ“ should pull workfolder with expected parameters
2025-04-15T08:41:07.9015085Z     getStatus
2025-04-15T08:41:07.9015222Z       âœ“ should call getStatus with expected parameters (1 ms)
2025-04-15T08:41:07.9015280Z     status
2025-04-15T08:41:07.9015418Z       âœ“ should call getStatus with expected parameters (1 ms)
2025-04-15T08:41:07.9015423Z 
2025-04-15T08:41:07.9015526Z PASS test/integration/commands/reset.cmd.test.ts
2025-04-15T08:41:07.9015703Z   âœ“ user-management:reset should reset DB to default user state (86 ms)
2025-04-15T08:41:07.9015708Z 
2025-04-15T08:41:07.9015919Z PASS src/workflows/workflow-history.ee/__tests__/workflow-history.service.ee.test.ts
2025-04-15T08:41:07.9015977Z   WorkflowHistoryService
2025-04-15T08:41:07.9016033Z     saveVersion
2025-04-15T08:41:07.9016270Z       âœ“ should save a new version when workflow history is enabled and nodes and connections are present (4 ms)
2025-04-15T08:41:07.9016423Z       âœ“ should not save a new version when workflow history is disabled
2025-04-15T08:41:07.9016591Z       âœ“ should not save a new version when nodes or connections are missing (1 ms)
2025-04-15T08:41:07.9016746Z       âœ“ should log an error when failed to save workflow history version
2025-04-15T08:41:07.9016759Z 
2025-04-15T08:41:07.9016906Z PASS test/integration/security-audit/nodes-risk-reporter.test.ts
2025-04-15T08:41:07.9017026Z   âœ“ should report risky official nodes (270 ms)
2025-04-15T08:41:07.9017149Z   âœ“ should not report non-risky official nodes (8 ms)
2025-04-15T08:41:07.9017244Z   âœ“ should report community nodes (2 ms)
2025-04-15T08:41:07.9017248Z 
2025-04-15T08:41:07.9017443Z PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.controller.test.ts
2025-04-15T08:41:07.9017504Z   TaskBrokerAuthController
2025-04-15T08:41:07.9017563Z     createGrantToken
2025-04-15T08:41:07.9017712Z       âœ“ should throw BadRequestError when auth token is missing (16 ms)
2025-04-15T08:41:07.9017865Z       âœ“ should throw ForbiddenError when auth token is invalid (1 ms)
2025-04-15T08:41:07.9017996Z       âœ“ should return rant token when auth token is valid (2 ms)
2025-04-15T08:41:07.9018062Z     authMiddleware
2025-04-15T08:41:07.9018203Z       âœ“ should respond with 401 when grant token is missing (1 ms)
2025-04-15T08:41:07.9018440Z       âœ“ should respond with 403 when grant token is invalid
2025-04-15T08:41:07.9018564Z       âœ“ should call next() when grant token is valid (9 ms)
2025-04-15T08:41:07.9018576Z 
2025-04-15T08:41:07.9018764Z PASS src/task-runners/task-managers/__tests__/data-request-response-builder.test.ts
2025-04-15T08:41:07.9018836Z   DataRequestResponseBuilder
2025-04-15T08:41:07.9018972Z     âœ“ picks only specific properties for additional data (4 ms)
2025-04-15T08:41:07.9019102Z     âœ“ picks only specific properties for workflow (1 ms)
2025-04-15T08:41:07.9019348Z     âœ“ clears nodeExecutionStack, waitingExecution and waitingExecutionSource from runExecutionData (1 ms)
2025-04-15T08:41:07.9019353Z 
2025-04-15T08:41:07.9019481Z PASS src/task-runners/__tests__/forward-to-logger.test.ts
2025-04-15T08:41:07.9019534Z   forwardToLogger
2025-04-15T08:41:07.9019661Z     âœ“ should forward stdout data to logger.info (12 ms)
2025-04-15T08:41:07.9019776Z     âœ“ should forward stderr data to logger.error (1 ms)
2025-04-15T08:41:07.9020038Z     âœ“ should remove trailing newline from stdout (1 ms)
2025-04-15T08:41:07.9020154Z     âœ“ should remove trailing newline from stderr (1 ms)
2025-04-15T08:41:07.9020258Z     âœ“ should forward stderr data to logger.error
2025-04-15T08:41:07.9020373Z     âœ“ should include prefix if provided for stdout
2025-04-15T08:41:07.9020499Z     âœ“ should include prefix if provided for stderr (1 ms)
2025-04-15T08:41:07.9020675Z     âœ“ should make sure there is no duplicate space after prefix for stdout (1 ms)
2025-04-15T08:41:07.9020842Z     âœ“ should make sure there is no duplicate space after prefix for stderr (1 ms)
2025-04-15T08:41:07.9020846Z 
2025-04-15T08:41:07.9020981Z PASS test/integration/project.service.integration.test.ts
2025-04-15T08:41:07.9021032Z   ProjectService
2025-04-15T08:41:07.9021101Z     findRolesInProjects
2025-04-15T08:41:07.9021215Z       when user has roles in projects where workflow is accessible
2025-04-15T08:41:07.9021336Z         âœ“ should return roles and project IDs (50 ms)
2025-04-15T08:41:07.9021455Z       when user has no roles in projects where workflow is accessible
2025-04-15T08:41:07.9021583Z         âœ“ should return project IDs but no roles (14 ms)
2025-04-15T08:41:07.9021704Z       when user has roles in projects where workflow is inaccessible
2025-04-15T08:41:07.9021821Z         âœ“ should return project IDs but no roles (40 ms)
2025-04-15T08:41:07.9021825Z 
2025-04-15T08:41:07.9022011Z PASS src/databases/repositories/__tests__/shared-credentials.repository.test.ts
2025-04-15T08:41:07.9022074Z   SharedCredentialsRepository
2025-04-15T08:41:07.9022139Z     findCredentialForUser
2025-04-15T08:41:07.9022279Z       âœ“ should allow instance owner access to all credentials (6 ms)
2025-04-15T08:41:07.9022387Z       âœ“ should allow members (1 ms)
2025-04-15T08:41:07.9022535Z       âœ“ should return null when no shared credential is found (1 ms)
2025-04-15T08:41:07.9022539Z 
2025-04-15T08:41:07.9022658Z PASS src/controllers/__tests__/ai.controller.test.ts
2025-04-15T08:41:07.9022718Z   AiController
2025-04-15T08:41:07.9022773Z     chat
2025-04-15T08:41:07.9022899Z       âœ“ should handle chat request successfully (8 ms)
2025-04-15T08:41:07.9023037Z       âœ“ should throw InternalServerError if chat fails (7 ms)
2025-04-15T08:41:07.9023098Z     applySuggestion
2025-04-15T08:41:07.9023201Z       âœ“ should apply suggestion successfully
2025-04-15T08:41:07.9023376Z       âœ“ should throw InternalServerError if applying suggestion fails (1 ms)
2025-04-15T08:41:07.9023425Z     askAi method
2025-04-15T08:41:07.9023519Z       âœ“ should ask AI successfully
2025-04-15T08:41:07.9023748Z       âœ“ should throw InternalServerError if asking AI fails (1 ms)
2025-04-15T08:41:07.9023753Z 
2025-04-15T08:41:07.9023862Z PASS src/services/__tests__/user.service.test.ts
2025-04-15T08:41:07.9023913Z   UserService
2025-04-15T08:41:07.9023971Z     toPublic
2025-04-15T08:41:07.9024079Z       âœ“ should remove sensitive properties (3 ms)
2025-04-15T08:41:07.9024189Z       âœ“ should add scopes if requested (1 ms)
2025-04-15T08:41:07.9024449Z       âœ“ should add invite URL if requested (1 ms)
2025-04-15T08:41:07.9024511Z     update
2025-04-15T08:41:07.9024619Z       âœ“ should use `save` instead of `update` (2 ms)
2025-04-15T08:41:07.9024633Z 
2025-04-15T08:41:07.9024759Z PASS src/controllers/__tests__/api-keys.controller.test.ts
2025-04-15T08:41:07.9024822Z   ApiKeysController
2025-04-15T08:41:07.9024873Z     createAPIKey
2025-04-15T08:41:07.9024978Z       âœ“ should create and save an API key (5 ms)
2025-04-15T08:41:07.9025031Z     getAPIKeys
2025-04-15T08:41:07.9025139Z       âœ“ should return the users api keys redacted
2025-04-15T08:41:07.9025187Z     deleteAPIKey
2025-04-15T08:41:07.9025285Z       âœ“ should delete the API key (2 ms)
2025-04-15T08:41:07.9025289Z 
2025-04-15T08:41:07.9025403Z PASS src/validators/__tests__/no-xss.validator.test.ts
2025-04-15T08:41:07.9025457Z   NoXss
2025-04-15T08:41:07.9025504Z     Scripts
2025-04-15T08:41:07.9025611Z       âœ“ should block <script src/> (6 ms)
2025-04-15T08:41:07.9025873Z       âœ“ should block <script>alert('xss')</script> (1 ms)
2025-04-15T08:41:07.9025985Z       âœ“ should block <a href="#">Jack</a>
2025-04-15T08:41:07.9026033Z     Names
2025-04-15T08:41:07.9026168Z       âœ“ should allow Johann StrauÃŸ (1 ms)
2025-04-15T08:41:07.9026302Z       âœ“ should allow Ð’Ð°Ð³Ð¸Ñ„ Ð¡Ó™Ð¼Ó™Ð´Ð¾Ò“Ð»Ñƒ
2025-04-15T08:41:07.9026405Z       âœ“ should allow RenÃ© Magritte (1 ms)
2025-04-15T08:41:07.9026584Z       âœ“ should allow à¦¸à§à¦•à§à¦®à¦¾à¦° à¦°à¦¾à§Ÿ
2025-04-15T08:41:07.9026725Z       âœ“ should allow à½˜à½‚à½¼à½“à¼‹à½”à½¼à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼
2025-04-15T08:41:07.9026840Z       âœ“ should allow Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù„ÙŠÙ… Ø­Ø§ÙØ¸
2025-04-15T08:41:07.9026897Z     ISO-8601 timestamps
2025-04-15T08:41:07.9027016Z       âœ“ should allow 2022-01-01T00:00:00.000Z (1 ms)
2025-04-15T08:41:07.9027120Z       âœ“ should allow 2022-01-01T00:00:00.000+02:00
2025-04-15T08:41:07.9027181Z     Semver versions
2025-04-15T08:41:07.9027249Z       âœ“ should allow 1.0.0
2025-04-15T08:41:07.9027344Z       âœ“ should allow 1.0.0-alpha.1
2025-04-15T08:41:07.9027399Z     Miscellaneous strings
2025-04-15T08:41:07.9027490Z       âœ“ should allow CI/CD
2025-04-15T08:41:07.9027540Z     Array of strings
2025-04-15T08:41:07.9027761Z       âœ“ should allow array: ["cloud-infrastructure-orchestration","ci-cd","reporting"] (1 ms)
2025-04-15T08:41:07.9027963Z       âœ“ should allow array: ["automationGoalDevops","cloudComputing","containerization"]
2025-04-15T08:41:07.9028280Z       âœ“ should reject array containing invalid string: ["valid-string","<script>alert(\"xss\")</script>","another-valid-string"] (4 ms)
2025-04-15T08:41:07.9028523Z       âœ“ should reject array containing invalid string: ["<img src=\"x\" onerror=\"alert('XSS')\">","valid-string"]
2025-04-15T08:41:07.9028532Z 
2025-04-15T08:41:07.9028701Z PASS test/integration/task-runners/task-runner-process.test.ts (6.221 s)
2025-04-15T08:41:07.9028761Z   TaskRunnerProcess
2025-04-15T08:41:07.9028882Z     âœ“ should start and connect the task runner (836 ms)
2025-04-15T08:41:07.9029007Z     âœ“ should stop an disconnect the task runner (1025 ms)
2025-04-15T08:41:07.9029140Z     âœ“ should restart the task runner if it exits (1638 ms)
2025-04-15T08:41:07.9029283Z     âœ“ should work together with restart loop detector (1037 ms)
2025-04-15T08:41:07.9029288Z 
2025-04-15T08:41:07.9029452Z PASS src/webhooks/__tests__/test-webhook-registrations.service.test.ts
2025-04-15T08:41:07.9029539Z   TestWebhookRegistrationsService
2025-04-15T08:41:07.9029588Z     register()
2025-04-15T08:41:07.9029723Z       âœ“ should register a test webhook registration (5 ms)
2025-04-15T08:41:07.9029838Z       âœ“ should skip setting TTL in single-main setup
2025-04-15T08:41:07.9029900Z     deregister()
2025-04-15T08:41:07.9030015Z       âœ“ should deregister a test webhook registration
2025-04-15T08:41:07.9030068Z     get()
2025-04-15T08:41:07.9030192Z       âœ“ should retrieve a test webhook registration (1 ms)
2025-04-15T08:41:07.9030355Z       âœ“ should return undefined if no such test webhook registration was found
2025-04-15T08:41:07.9030412Z     getAllKeys()
2025-04-15T08:41:07.9030547Z       âœ“ should retrieve all test webhook registration keys (1 ms)
2025-04-15T08:41:07.9030752Z     getAllRegistrations()
2025-04-15T08:41:07.9030870Z       âœ“ should retrieve all test webhook registrations
2025-04-15T08:41:07.9030929Z     deregisterAll()
2025-04-15T08:41:07.9031047Z       âœ“ should deregister all test webhook registrations
2025-04-15T08:41:07.9031099Z     toKey()
2025-04-15T08:41:07.9031223Z       âœ“ should convert a test webhook registration to a key
2025-04-15T08:41:07.9031227Z 
2025-04-15T08:41:07.9031358Z PASS test/integration/activation-errors.service.test.ts
2025-04-15T08:41:07.9031416Z   ActivationErrorsService
2025-04-15T08:41:07.9031471Z     register
2025-04-15T08:41:07.9031610Z       âœ“ should register an activation error for a workflow (6 ms)
2025-04-15T08:41:07.9031669Z     deregister
2025-04-15T08:41:07.9031796Z       âœ“ should deregister an activation error for a workflow
2025-04-15T08:41:07.9031848Z     get
2025-04-15T08:41:07.9031982Z       âœ“ should retrieve an activation error for a workflow (1 ms)
2025-04-15T08:41:07.9032257Z       âœ“ should return `null` if no activation error found for a workflow
2025-04-15T08:41:07.9032310Z     getAll
2025-04-15T08:41:07.9032418Z       âœ“ should retrieve all activation errors (1 ms)
2025-04-15T08:41:07.9032563Z       âœ“ should return an empty object if no activation errors (1 ms)
2025-04-15T08:41:07.9032614Z     clearAll()
2025-04-15T08:41:07.9032713Z       âœ“ should clear activation errors
2025-04-15T08:41:07.9032717Z 
2025-04-15T08:41:07.9032802Z PASS test/integration/ai/ai.api.test.ts
2025-04-15T08:41:07.9032865Z   POST /ai/free-credits
2025-04-15T08:41:07.9032980Z     âœ“ should create OpenAI managed credential (82 ms)
2025-04-15T08:41:07.9032984Z 
2025-04-15T08:41:07.9033104Z PASS src/services/__tests__/naming.service.test.ts
2025-04-15T08:41:07.9033155Z   NamingService
2025-04-15T08:41:07.9033219Z     getUniqueWorkflowName()
2025-04-15T08:41:07.9033351Z       âœ“ should return requested name if already unique (4 ms)
2025-04-15T08:41:07.9033508Z       âœ“ should return requested name suffixed if already existing once
2025-04-15T08:41:07.9033733Z       âœ“ should return requested name with incremented suffix if already suffixed
2025-04-15T08:41:07.9033796Z     getUniqueCredentialName()
2025-04-15T08:41:07.9033913Z       âœ“ should return requested name if already unique
2025-04-15T08:41:07.9034057Z       âœ“ should return requested name suffixed if already existing once
2025-04-15T08:41:07.9034248Z       âœ“ should return requested name with incremented suffix if already suffixed (1 ms)
2025-04-15T08:41:07.9034252Z 
2025-04-15T08:41:07.9034339Z PASS test/integration/tags.api.test.ts
2025-04-15T08:41:07.9034396Z   POST /tags
2025-04-15T08:41:07.9034482Z     âœ“ should create tag (60 ms)
2025-04-15T08:41:07.9034592Z     âœ“ should not create duplicate tag (21 ms)
2025-04-15T08:41:07.9034674Z     âœ“ should delete tag (11 ms)
2025-04-15T08:41:07.9034767Z     âœ“ should update tag name (10 ms)
2025-04-15T08:41:07.9034855Z     âœ“ should retrieve all tags (11 ms)
2025-04-15T08:41:07.9035000Z     âœ“ should retrieve all tags with with usage count (10 ms)
2025-04-15T08:41:07.9035004Z 
2025-04-15T08:41:07.9035142Z PASS test/integration/commands/worker.cmd.test.ts (5.161 s)
2025-04-15T08:41:07.9035257Z   âœ“ worker initializes all its components (66 ms)
2025-04-15T08:41:07.9035261Z 
2025-04-15T08:41:07.9035440Z PASS test/integration/database/repositories/execution.repository.test.ts
2025-04-15T08:41:07.9035498Z   ExecutionRepository
2025-04-15T08:41:07.9035555Z     createNewExecution
2025-04-15T08:41:07.9035654Z       âœ“ should save execution data (26 ms)
2025-04-15T08:41:07.9035816Z       âœ“ should not create execution if execution data insert fails (3 ms)
2025-04-15T08:41:07.9035820Z 
2025-04-15T08:41:07.9035978Z PASS src/user-management/email/__tests__/user-management-mailer.test.ts
2025-04-15T08:41:07.9036038Z   UserManagementMailer
2025-04-15T08:41:07.9036112Z     when SMTP is not configured
2025-04-15T08:41:07.9036219Z       âœ“ should not setup email transport (10 ms)
2025-04-15T08:41:07.9036317Z       âœ“ should not send emails (1 ms)
2025-04-15T08:41:07.9036498Z     when SMTP is configured
2025-04-15T08:41:07.9036605Z       âœ“ should setup email transport (1 ms)
2025-04-15T08:41:07.9036704Z       âœ“ should send invitation emails (8 ms)
2025-04-15T08:41:07.9036827Z       âœ“ should send password reset emails (2 ms)
2025-04-15T08:41:07.9036832Z 
2025-04-15T08:41:07.9036942Z PASS test/integration/insights/insights.api.test.ts
2025-04-15T08:41:07.9037097Z   GET /insights routes work for owner and admins for server with dashboard license
2025-04-15T08:41:07.9037248Z     âœ“ Call should work and return empty summary for user owner (41 ms)
2025-04-15T08:41:07.9037398Z     âœ“ Call should work and return empty summary for user admin (23 ms)
2025-04-15T08:41:07.9037544Z     âœ“ Call should work and return empty summary for user member (11 ms)
2025-04-15T08:41:07.9037690Z   GET /insights routes return 403 for dashboard routes when summary license only
2025-04-15T08:41:07.9037840Z     âœ“ Call should work and return empty summary for user owner (20 ms)
2025-04-15T08:41:07.9038097Z     âœ“ Call should work and return empty summary for user admin (28 ms)
2025-04-15T08:41:07.9038256Z     âœ“ Call should work and return empty summary for user member (14 ms)
2025-04-15T08:41:07.9038314Z   GET /insights/by-workflow
2025-04-15T08:41:07.9038445Z     âœ“ Call should work with valid query parameters (6 ms)
2025-04-15T08:41:07.9038654Z     âœ“ Call should return internal server error with invalid pagination query parameters (13 ms)
2025-04-15T08:41:07.9038865Z     âœ“ Call should return internal server error with invalid pagination query parameters (3 ms)
2025-04-15T08:41:07.9039030Z     âœ“ Call should return bad request with invalid sortby query parameters (4 ms)
2025-04-15T08:41:07.9039034Z 
2025-04-15T08:41:07.9039169Z PASS test/integration/license-metrics.repository.test.ts
2025-04-15T08:41:07.9039233Z   LicenseMetricsRepository
2025-04-15T08:41:07.9039302Z     getLicenseRenewalMetrics
2025-04-15T08:41:07.9039417Z       âœ“ should return license renewal metrics (68 ms)
2025-04-15T08:41:07.9039573Z       âœ“ should handle zero execution statistics correctly (15 ms)
2025-04-15T08:41:07.9039578Z 
2025-04-15T08:41:07.9039712Z PASS src/modules/insights/__tests__/insights.module.test.ts
2025-04-15T08:41:07.9039764Z   InsightsModule
2025-04-15T08:41:07.9039828Z     backgroundProcess
2025-04-15T08:41:07.9039993Z       âœ“ should start background process if instance is main and leader (5 ms)
2025-04-15T08:41:07.9040180Z       âœ“ should not start background process if instance is main but not leader (1 ms)
2025-04-15T08:41:07.9040315Z       âœ“ should start background process on leader takeover (1 ms)
2025-04-15T08:41:07.9040437Z       âœ“ should stop background process on leader stepdown
2025-04-15T08:41:07.9040442Z 
2025-04-15T08:41:07.9040548Z PASS src/webhooks/__tests__/waiting-webhooks.test.ts
2025-04-15T08:41:07.9040608Z   WaitingWebhooks
2025-04-15T08:41:07.9040775Z     âœ“ should throw NotFoundError if there is no execution to resume (40 ms)
2025-04-15T08:41:07.9040948Z     âœ“ should throw ConflictError if the execution to resume is already running
2025-04-15T08:41:07.9041133Z     âœ“ should throw ConflictError if the execution to resume already finished (2 ms)
2025-04-15T08:41:07.9041277Z     âœ“ should mark as test webhook when execution mode is manual (1 ms)
2025-04-15T08:41:07.9041281Z 
2025-04-15T08:41:07.9041442Z PASS src/evaluation.ee/test-runner/__tests__/create-pin-data.ee.test.ts
2025-04-15T08:41:07.9041494Z   createPinData
2025-04-15T08:41:07.9041629Z     âœ“ should create pin data from past execution data (4 ms)
2025-04-15T08:41:07.9041775Z     âœ“ should not create pin data for non-existing mocked nodes (1 ms)
2025-04-15T08:41:07.9041889Z     âœ“ should create pin data for all mocked nodes
2025-04-15T08:41:07.9042027Z     âœ“ should return empty object if no mocked nodes are provided
2025-04-15T08:41:07.9042194Z     âœ“ should create pin data for all mocked nodes with renamed nodes (1 ms)
2025-04-15T08:41:07.9042198Z 
2025-04-15T08:41:07.9042326Z PASS test/integration/workflows/workflow.service.test.ts
2025-04-15T08:41:07.9042490Z   update()
2025-04-15T08:41:07.9042683Z     âœ“ should remove and re-add to active workflows on `active: true` payload (89 ms)
2025-04-15T08:41:07.9042848Z     âœ“ should remove from active workflows on `active: false` payload (34 ms)
2025-04-15T08:41:07.9042853Z 
2025-04-15T08:41:07.9042984Z PASS src/concurrency/__tests__/concurrency-queue.test.ts
2025-04-15T08:41:07.9043038Z   ConcurrencyQueue
2025-04-15T08:41:07.9043137Z     âœ“ should limit concurrency (6 ms)
2025-04-15T08:41:07.9043286Z     âœ“ should debounce emitting of the `concurrency-check` event (1 ms)
2025-04-15T08:41:07.9043297Z 
2025-04-15T08:41:07.9043412Z PASS test/integration/commands/update/workflow.test.ts
2025-04-15T08:41:07.9043541Z   âœ“ update:workflow can activate all workflows (33 ms)
2025-04-15T08:41:07.9043697Z   âœ“ update:workflow can deactivate all workflows (7 ms)
2025-04-15T08:41:07.9043837Z   âœ“ update:workflow can activate a specific workflow (11 ms)
2025-04-15T08:41:07.9044068Z   âœ“ update:workflow can deactivate a specific workflow (11 ms)
2025-04-15T08:41:07.9044072Z 
2025-04-15T08:41:07.9044193Z PASS src/controllers/__tests__/auth.controller.test.ts
2025-04-15T08:41:07.9044246Z   AuthController
2025-04-15T08:41:07.9044302Z     login
2025-04-15T08:41:07.9044475Z       âœ“ should not validate email in "emailOrLdapLoginId" if LDAP is enabled (4 ms)
2025-04-15T08:41:07.9044487Z 
2025-04-15T08:41:07.9044668Z PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.service.test.ts
2025-04-15T08:41:07.9044733Z   TaskBrokerAuthService
2025-04-15T08:41:07.9044784Z     isValidAuthToken
2025-04-15T08:41:07.9044904Z       âœ“ should be valid for the configured token (3 ms)
2025-04-15T08:41:07.9045000Z       âœ“ should be invalid for anything else
2025-04-15T08:41:07.9045061Z     createGrantToken
2025-04-15T08:41:07.9045161Z       âœ“ should generate a random token (1 ms)
2025-04-15T08:41:07.9045286Z       âœ“ should store the generated token in cache (1 ms)
2025-04-15T08:41:07.9045343Z     tryConsumeGrantToken
2025-04-15T08:41:07.9045486Z       âœ“ should return false for an invalid grant token (1 ms)
2025-04-15T08:41:07.9045592Z       âœ“ should return true for a valid grant token
2025-04-15T08:41:07.9045728Z       âœ“ should return false for a already used grant token (1 ms)
2025-04-15T08:41:07.9045890Z       âœ“ should return false for an expired grant token (301 ms)
2025-04-15T08:41:07.9045906Z 
2025-04-15T08:41:07.9046338Z PASS src/external-secrets.ee/providers/__tests__/gcp-secrets-manager.test.ts
2025-04-15T08:41:07.9046426Z   GCP Secrets Manager
2025-04-15T08:41:07.9046583Z     âœ“ should update cached secrets (5 ms)
2025-04-15T08:41:07.9046588Z 
2025-04-15T08:41:07.9046764Z PASS test/integration/database/repositories/workflow.repository.test.ts
2025-04-15T08:41:07.9046822Z   WorkflowRepository
2025-04-15T08:41:07.9046877Z     activateAll
2025-04-15T08:41:07.9046979Z       âœ“ should activate all workflows (19 ms)
2025-04-15T08:41:07.9047035Z     deactivateAll
2025-04-15T08:41:07.9047145Z       âœ“ should deactivate all workflows (9 ms)
2025-04-15T08:41:07.9047213Z     getActiveIds
2025-04-15T08:41:07.9047397Z       âœ“ should return all active workflow IDs when invoked without maxResults (7 ms)
2025-04-15T08:41:07.9047614Z       âœ“ should return a capped number of active workflow IDs when invoked with maxResults (10 ms)
2025-04-15T08:41:07.9047619Z 
2025-04-15T08:41:07.9047757Z PASS test/integration/environments/source-control.api.test.ts
2025-04-15T08:41:07.9047839Z   GET /sourceControl/preferences
2025-04-15T08:41:07.9047971Z     âœ“ should return Source Control preferences (18 ms)
2025-04-15T08:41:07.9048070Z     âœ“ should return repo sync status (10 ms)
2025-04-15T08:41:07.9048205Z     âœ“ refreshing key pairsshould return new rsa key (428 ms)
2025-04-15T08:41:07.9048210Z 
2025-04-15T08:41:07.9048339Z PASS src/collaboration/__tests__/collaboration.state.test.ts
2025-04-15T08:41:07.9048403Z   CollaborationState
2025-04-15T08:41:07.9048454Z     addCollaborator
2025-04-15T08:41:07.9048615Z       âœ“ should add workflow user with correct cache key and value (4 ms)
2025-04-15T08:41:07.9048890Z     removeCollaborator
2025-04-15T08:41:07.9049038Z       âœ“ should remove workflow user with correct cache key (1 ms)
2025-04-15T08:41:07.9049092Z     getCollaborators
2025-04-15T08:41:07.9049207Z       âœ“ should get workflows with correct cache key
2025-04-15T08:41:07.9049330Z       âœ“ should get workflow users that are not expired (1 ms)
2025-04-15T08:41:07.9049339Z 
2025-04-15T08:41:07.9049444Z PASS src/decorators/__tests__/on-shutdown.test.ts
2025-04-15T08:41:07.9049501Z   OnShutdown
2025-04-15T08:41:07.9049653Z     âœ“ should register a methods that is decorated with OnShutdown (4 ms)
2025-04-15T08:41:07.9049795Z     âœ“ should register multiple methods in the same class (1 ms)
2025-04-15T08:41:07.9049890Z     âœ“ should use the given priority (1 ms)
2025-04-15T08:41:07.9050056Z     âœ“ should throw an error if the decorated member is not a function (7 ms)
2025-04-15T08:41:07.9050170Z     âœ“ should throw if the priority is invalid (9 ms)
2025-04-15T08:41:07.9050334Z 
2025-04-15T08:41:07.9050479Z PASS src/credentials/__tests__/credentials.controller.test.ts
2025-04-15T08:41:07.9050536Z   CredentialsController
2025-04-15T08:41:07.9050600Z     createCredentials
2025-04-15T08:41:07.9050763Z       âœ“ should create new credentials and emit "credentials-created" (4 ms)
2025-04-15T08:41:07.9050772Z 
2025-04-15T08:41:07.9050899Z PASS src/scaling/__tests__/job-processor.service.test.ts
2025-04-15T08:41:07.9050956Z   JobProcessor
2025-04-15T08:41:07.9051092Z     âœ“ should refrain from processing a crashed execution (4 ms)
2025-04-15T08:41:07.9051276Z     âœ“ should use manualExecutionService to process a job in "manual" mode (3 ms)
2025-04-15T08:41:07.9051446Z     âœ“ should use manualExecutionService to process a job in "evaluation" mode
2025-04-15T08:41:07.9051450Z 
2025-04-15T08:41:07.9051622Z PASS src/evaluation.ee/test-runner/__tests__/evaluation-metrics.ee.test.ts
2025-04-15T08:41:07.9051675Z   EvaluationMetrics
2025-04-15T08:41:07.9051790Z     âœ“ should aggregate metrics correctly (4 ms)
2025-04-15T08:41:07.9051916Z     âœ“ should throw when metric value is not number (8 ms)
2025-04-15T08:41:07.9052005Z     âœ“ should handle empty metrics
2025-04-15T08:41:07.9052093Z     âœ“ should handle empty testMetrics
2025-04-15T08:41:07.9052192Z     âœ“ should ignore non-relevant values
2025-04-15T08:41:07.9052301Z     âœ“ should report info on added metrics (2 ms)
2025-04-15T08:41:07.9052307Z 
2025-04-15T08:41:07.9052470Z PASS src/task-runners/task-broker/__tests__/task-broker-ws-server.test.ts
2025-04-15T08:41:07.9052530Z   TaskBrokerWsServer
2025-04-15T08:41:07.9052581Z     removeConnection
2025-04-15T08:41:07.9052712Z       âœ“ should close with 1000 status code by default (4 ms)
2025-04-15T08:41:07.9052761Z     heartbeat timer
2025-04-15T08:41:07.9052892Z       âœ“ should set up heartbeat timer on server start (1 ms)
2025-04-15T08:41:07.9053010Z       âœ“ should clear heartbeat timer on server stop (1 ms)
2025-04-15T08:41:07.9053064Z     sendMessage
2025-04-15T08:41:07.9053225Z       âœ“ should work with a message containing circular references (1 ms)
2025-04-15T08:41:07.9053230Z 
2025-04-15T08:41:07.9053360Z PASS src/metrics/__tests__/license-metrics.service.test.ts
2025-04-15T08:41:07.9053419Z   LicenseMetricsService
2025-04-15T08:41:07.9053482Z     collectPassthroughData
2025-04-15T08:41:07.9053618Z       âœ“ should return an object with active workflow IDs (5 ms)
2025-04-15T08:41:07.9053713Z     collectUsageMetrics
2025-04-15T08:41:07.9053850Z       âœ“ should return an array of expected usage metrics (1 ms)
2025-04-15T08:41:07.9053854Z 
2025-04-15T08:41:07.9054032Z PASS test/integration/workflow-tag-mapping.repository.integration.test.ts
2025-04-15T08:41:07.9054117Z   WorkflowTagMappingRepository
2025-04-15T08:41:07.9054172Z     overwriteTaggings
2025-04-15T08:41:07.9054297Z       âœ“ should overwrite taggings in a workflow (26 ms)
2025-04-15T08:41:07.9054426Z       âœ“ should delete taggings if no tags are provided (12 ms)
2025-04-15T08:41:07.9054430Z 
2025-04-15T08:41:07.9054560Z PASS src/workflows/__tests__/workflows.controller.test.ts
2025-04-15T08:41:07.9054740Z   WorkflowsController
2025-04-15T08:41:07.9054793Z     getFromUrl
2025-04-15T08:41:07.9054861Z       should return workflow data
2025-04-15T08:41:07.9054984Z         âœ“ when the URL points to a valid JSON file (4 ms)
2025-04-15T08:41:07.9055127Z       should throw a BadRequestError
2025-04-15T08:41:07.9055265Z         âœ“ when the URL does not point to a valid JSON file (21 ms)
2025-04-15T08:41:07.9055464Z         âœ“ when the data is not a valid n8n workflow JSON (1 ms)
2025-04-15T08:41:07.9055619Z         âœ“ when the data is missing required fields (1 ms)
2025-04-15T08:41:07.9055623Z 
2025-04-15T08:41:07.9055888Z PASS src/evaluation.ee/test-runner/__tests__/format-test-case-execution-input-data.ee.test.ts
2025-04-15T08:41:07.9055966Z   formatTestCaseExecutionInputData
2025-04-15T08:41:07.9056165Z     âœ“ should format the test case execution input data correctly (6 ms)
2025-04-15T08:41:07.9056170Z 
2025-04-15T08:41:07.9056299Z PASS src/posthog/__tests__/posthog.test.ts
2025-04-15T08:41:07.9056501Z   PostHog
2025-04-15T08:41:07.9056647Z     âœ“ inits PostHog correctly (8 ms)
2025-04-15T08:41:07.9056844Z     âœ“ does not initialize or track if diagnostics are not enabled (1 ms)
2025-04-15T08:41:07.9056988Z     âœ“ captures PostHog events (1 ms)
2025-04-15T08:41:07.9057081Z     âœ“ gets feature flags (1 ms)
2025-04-15T08:41:07.9057085Z 
2025-04-15T08:41:07.9057239Z PASS test/integration/debug.controller.test.ts
2025-04-15T08:41:07.9057304Z   DebugController
2025-04-15T08:41:07.9057441Z     GET /debug/multi-main-setup
2025-04-15T08:41:07.9057602Z       âœ“ should return multi-main setup details (21 ms)
2025-04-15T08:41:07.9057607Z 
2025-04-15T08:41:07.9057880Z PASS src/task-runners/__tests__/task-runner-process-restart-loop-detector.test.ts
2025-04-15T08:41:07.9057995Z   TaskRunnerProcessRestartLoopDetector
2025-04-15T08:41:07.9058161Z     âœ“ should detect a restart loop if process exits 5 times within 5s (7 ms)
2025-04-15T08:41:07.9058424Z     âœ“ should not detect a restart loop if process exits less than 5 times within 5s (1 ms)
2025-04-15T08:41:07.9058439Z 
2025-04-15T08:41:07.9058560Z PASS test/integration/eventbus.test.ts
2025-04-15T08:41:07.9058708Z   GET /eventbus/destination
2025-04-15T08:41:07.9058869Z     âœ“ should fail due to missing authentication (18 ms)
2025-04-15T08:41:07.9059084Z     âœ“ should fail due to missing license when authenticated (9 ms)
2025-04-15T08:41:07.9059176Z   POST /eventbus/destination
2025-04-15T08:41:07.9059364Z     âœ“ should fail due to missing authentication (3 ms)
2025-04-15T08:41:07.9059520Z     âœ“ should fail due to missing license when authenticated (9 ms)
2025-04-15T08:41:07.9059636Z   DELETE /eventbus/destination
2025-04-15T08:41:07.9059772Z     âœ“ should fail due to missing authentication (4 ms)
2025-04-15T08:41:07.9059973Z     âœ“ should fail due to missing license when authenticated (6 ms)
2025-04-15T08:41:07.9059977Z 
2025-04-15T08:41:07.9060230Z PASS src/modules/insights/database/entities/__tests__/insights-raw.test.ts
2025-04-15T08:41:07.9060313Z   Insights Raw Entity
2025-04-15T08:41:07.9060512Z     âœ“ `success` can be serialized and deserialized correctly (5 ms)
2025-04-15T08:41:07.9060671Z     âœ“ `failure` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:41:07.9060909Z     âœ“ `runtime_ms` can be serialized and deserialized correctly (4 ms)
2025-04-15T08:41:07.9061084Z     âœ“ `time_saved_min` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:41:07.9061332Z     âœ“ `timestamp` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:41:07.9061470Z     âœ“ timestamp uses the correct default value (40 ms)
2025-04-15T08:41:07.9061474Z 
2025-04-15T08:41:07.9061670Z PASS src/sso.ee/saml/routes/__tests__/saml.controller.ee.test.ts
2025-04-15T08:41:07.9061807Z   Test views
2025-04-15T08:41:07.9061937Z     âœ“ Should render success with template (4 ms)
2025-04-15T08:41:07.9062101Z     âœ“ Should render failure with template
2025-04-15T08:41:07.9062225Z     âœ“ Should render error with template (1 ms)
2025-04-15T08:41:07.9062362Z 
2025-04-15T08:41:07.9062585Z PASS test/integration/security-audit/filesystem-risk-reporter.test.ts
2025-04-15T08:41:07.9062716Z   âœ“ should report filesystem interaction nodes (179 ms)
2025-04-15T08:41:07.9062896Z   âœ“ should not report non-filesystem-interaction node (5 ms)
2025-04-15T08:41:07.9062900Z 
2025-04-15T08:41:07.9063110Z PASS src/environments.ee/source-control/__tests__/source-control-git.service.test.ts
2025-04-15T08:41:07.9063236Z   SourceControlGitService
2025-04-15T08:41:07.9063307Z     getBranches
2025-04-15T08:41:07.9063464Z       âœ“ should support branch names containing slashes (10 ms)
2025-04-15T08:41:07.9063561Z     initRepository
2025-04-15T08:41:07.9063698Z       when local repo is set up after remote is ready
2025-04-15T08:41:07.9063818Z         âœ“ should track remote (2 ms)
2025-04-15T08:41:07.9063822Z 
2025-04-15T08:41:07.9063976Z PASS src/task-runners/__tests__/sliding-window-signal.test.ts
2025-04-15T08:41:07.9064061Z   SlidingWindowSignal
2025-04-15T08:41:07.9064321Z     âœ“ should return the last signal if within window size (4 ms)
2025-04-15T08:41:07.9064528Z     âœ“ should return null if there is no signal within the window (1 ms)
2025-04-15T08:41:07.9064730Z     âœ“ should return null if "exit" event is not emitted before timeout (1 ms)
2025-04-15T08:41:07.9064968Z     âœ“ should return the signal emitted on "exit" event before timeout (1 ms)
2025-04-15T08:41:07.9064973Z 
2025-04-15T08:41:07.9065108Z PASS src/services/cache/__tests__/cache-mock.service.test.ts
2025-04-15T08:41:07.9065234Z   CacheService (Mock)
2025-04-15T08:41:07.9065371Z     should prevent use of empty keys
2025-04-15T08:41:07.9065470Z       âœ“ get (3 ms)
2025-04-15T08:41:07.9065597Z       âœ“ getMany
2025-04-15T08:41:07.9065706Z       âœ“ set (1 ms)
2025-04-15T08:41:07.9065831Z       âœ“ setMany
2025-04-15T08:41:07.9065934Z       âœ“ delete
2025-04-15T08:41:07.9066085Z       âœ“ deleteMany (1 ms)
2025-04-15T08:41:07.9066090Z 
2025-04-15T08:41:07.9066229Z PASS src/services/__tests__/jwt.service.test.ts
2025-04-15T08:41:07.9066315Z   JwtService
2025-04-15T08:41:07.9066413Z     secret initialization
2025-04-15T08:41:07.9066585Z       âœ“ should read the secret from config, when set (4 ms)
2025-04-15T08:41:07.9066799Z       âœ“ should derive the secret from encryption key when not set in config (1 ms)
2025-04-15T08:41:07.9066919Z     with a secret set
2025-04-15T08:41:07.9067030Z       âœ“ should sign (2 ms)
2025-04-15T08:41:07.9067178Z       âœ“ should decode and verify payload (2 ms)
2025-04-15T08:41:07.9067349Z       âœ“ should throw an error on verify if the token is expired (11 ms)
2025-04-15T08:41:07.9067354Z 
2025-04-15T08:41:07.9067564Z PASS test/integration/services/workflow-static-data.service.test.ts
2025-04-15T08:41:07.9067678Z   WorkflowStaticDataService
2025-04-15T08:41:07.9067864Z     âœ“ should not change workflow updatedAt when calling saveStaticData (40 ms)
2025-04-15T08:41:07.9068091Z     âœ“ should not change workflow updatedAt when calling saveStaticDataById (13 ms)
2025-04-15T08:41:07.9068095Z 
2025-04-15T08:41:07.9068290Z PASS src/executions/__tests__/execution-data.service.test.ts
2025-04-15T08:41:07.9068390Z   ExecutionDataService
2025-04-15T08:41:07.9068487Z     generateFailedExecutionFromError
2025-04-15T08:41:07.9068721Z       âœ“ should generate a failed execution with error details (12 ms)
2025-04-15T08:41:07.9068955Z       âœ“ should generate a failed execution without node details if node is undefined (1 ms)
2025-04-15T08:41:07.9068960Z 
2025-04-15T08:41:07.9069181Z PASS src/external-secrets.ee/providers/__tests__/azure-key-vault.test.ts
2025-04-15T08:41:07.9069305Z   AzureKeyVault
2025-04-15T08:41:07.9069404Z     âœ“ should update cached secrets (84 ms)
2025-04-15T08:41:07.9069408Z 
2025-04-15T08:41:07.9069634Z PASS src/task-runners/task-broker/__tests__/task-broker-server.test.ts
2025-04-15T08:41:07.9069714Z   TaskBrokerServer
2025-04-15T08:41:07.9069847Z     handleUpgradeRequest
2025-04-15T08:41:07.9069996Z       âœ“ should close WebSocket when response status code is > 200 (6 ms)
2025-04-15T08:41:07.9070301Z       âœ“ should not close WebSocket when response status code is 200 (1 ms)
2025-04-15T08:41:07.9070306Z 
2025-04-15T08:41:07.9070506Z PASS src/task-runners/errors/__tests__/task-runner-disconnected-error.test.ts
2025-04-15T08:41:07.9070599Z   TaskRunnerDisconnectedError
2025-04-15T08:41:07.9070802Z     âœ“ should have the correct default error message (4 ms)
2025-04-15T08:41:07.9070962Z     âœ“ should have the error level set to "error" (1 ms)
2025-04-15T08:41:07.9071163Z     âœ“ should set the correct description for non-cloud deployments (1 ms)
2025-04-15T08:41:07.9071317Z     âœ“ should set the correct description for cloud deployments
2025-04-15T08:41:07.9071322Z 
2025-04-15T08:41:07.9071488Z PASS src/modules/__tests__/modules.config.test.ts
2025-04-15T08:41:07.9071560Z   ModulesConfig
2025-04-15T08:41:07.9071815Z     âœ“ should initialize with insights modules if no environment variable is set (4 ms)
2025-04-15T08:41:07.9072002Z     âœ“ should parse valid module names from environment variable (1 ms)
2025-04-15T08:41:07.9072391Z     âœ“ should disable valid module names from environment variable (1 ms)
2025-04-15T08:41:07.9072566Z     âœ“ should throw UnexpectedError for invalid module names (15 ms)
2025-04-15T08:41:07.9072809Z     âœ“ should throw UnexpectedError if any module is both enabled and disabled
2025-04-15T08:41:07.9073032Z     âœ“ should throw UnexpectedError if any enabled module name is invalid (1 ms)
2025-04-15T08:41:07.9073288Z     âœ“ should throw UnexpectedError if any disabled module name is invalid (7 ms)
2025-04-15T08:41:07.9073293Z 
2025-04-15T08:41:07.9073483Z PASS src/__tests__/utils.test.ts
2025-04-15T08:41:07.9073558Z   shouldAssignExecuteMethod
2025-04-15T08:41:07.9073889Z     âœ“ should return true when node has no execute, poll, trigger, webhook (unless declarative), or methods (2 ms)
2025-04-15T08:41:07.9074025Z     âœ“ should return false when node has execute
2025-04-15T08:41:07.9074206Z     âœ“ should return false when node has poll
2025-04-15T08:41:07.9074344Z     âœ“ should return false when node has trigger
2025-04-15T08:41:07.9074541Z     âœ“ should return false when node has webhook and is not declarative (1 ms)
2025-04-15T08:41:07.9074716Z     âœ“ should return true when node has webhook but is declarative
2025-04-15T08:41:07.9074882Z     âœ“ should return false when node has methods
2025-04-15T08:41:07.9074886Z 
2025-04-15T08:41:07.9075050Z PASS src/databases/repositories/__tests__/workflow-statistics.test.ts
2025-04-15T08:41:07.9075148Z   insertWorkflowStatistics
2025-04-15T08:41:07.9075368Z     âœ“ Successfully inserts data when it is not yet present (4 ms)
2025-04-15T08:41:07.9075499Z     âœ“ Does not insert when data is present
2025-04-15T08:41:07.9075677Z     âœ“ throws an error when insertion fails (5 ms)
2025-04-15T08:41:07.9075681Z 
2025-04-15T08:41:07.9075829Z PASS src/sso.ee/saml/__tests__/saml-helpers.test.ts
2025-04-15T08:41:07.9075963Z   sso/saml/samlHelpers
2025-04-15T08:41:07.9076074Z     updateUserFromSamlAttributes
2025-04-15T08:41:07.9076317Z       âœ“ does not user `Repository.update`, but `Repository.save` instead (4 ms)
2025-04-15T08:41:07.9076329Z 
2025-04-15T08:41:07.9076499Z PASS src/modules/insights/__tests__/insights.pre-init.test.ts
2025-04-15T08:41:07.9076620Z   InsightsModulePreInit
2025-04-15T08:41:07.9076775Z     âœ“ should return false if instance type is not "main" (3 ms)
2025-04-15T08:41:07.9076968Z     âœ“ should return false if database type is "sqlite" and poolSize is < 1
2025-04-15T08:41:07.9077191Z     âœ“ should return true if instance type is "main" and database is not sqlite (1 ms)
2025-04-15T08:41:07.9077374Z     âœ“ should return true if instance type is "main" and database is not sqlite
2025-04-15T08:41:07.9077562Z     âœ“ should return true if instance type is "main" and database is not sqlite
2025-04-15T08:41:07.9077763Z     âœ“ should return true if instance type is "main" and sqlite poolSize is >= 1
2025-04-15T08:41:07.9077767Z 
2025-04-15T08:41:07.9077969Z PASS test/integration/task-runners/task-runner-module.external.test.ts
2025-04-15T08:41:07.9078068Z   TaskRunnerModule in external mode
2025-04-15T08:41:07.9078321Z     start
2025-04-15T08:41:07.9078491Z       âœ“ should throw if the task runner is disabled (33 ms)
2025-04-15T08:41:07.9078651Z       âœ“ should throw if auth token is missing (11 ms)
2025-04-15T08:41:07.9078812Z       âœ“ should start the task runner (273 ms)
2025-04-15T08:41:07.9078953Z       âœ“ should use DefaultTaskRunnerDisconnectAnalyzer
2025-04-15T08:41:07.9078957Z 
2025-04-15T08:41:07.9079148Z PASS src/controllers/__tests__/translation.controller.test.ts
2025-04-15T08:41:07.9079265Z   TranslationController
2025-04-15T08:41:07.9079386Z     getCredentialTranslation
2025-04-15T08:41:07.9079618Z       âœ“ should throw 400 on invalid credential types (10 ms)
2025-04-15T08:41:07.9079898Z       âœ“ should return translation json on valid credential types
2025-04-15T08:41:07.9079903Z 
2025-04-15T08:41:07.9080011Z PASS test/integration/auth.mw.test.ts
2025-04-15T08:41:07.9080144Z   Auth Middleware
2025-04-15T08:41:07.9080257Z     Routes requiring Authentication
2025-04-15T08:41:07.9080623Z       âœ“ patch /me should return 401 Unauthorized if no cookie (14 ms)
2025-04-15T08:41:07.9080856Z       âœ“ patch /me/password should return 401 Unauthorized if no cookie (3 ms)
2025-04-15T08:41:07.9081025Z       âœ“ post /me/survey should return 401 Unauthorized if no cookie (1 ms)
2025-04-15T08:41:07.9081251Z       âœ“ post /invitations should return 401 Unauthorized if no cookie (2 ms)
2025-04-15T08:41:07.9081446Z       âœ“ delete /users/123 should return 401 Unauthorized if no cookie (2 ms)
2025-04-15T08:41:07.9081581Z     Routes requiring Authorization
2025-04-15T08:41:07.9081732Z       âœ“ post /invitations should return 403 Forbidden for member (7 ms)
2025-04-15T08:41:07.9081902Z       âœ“ delete /users/123 should return 403 Forbidden for member (4 ms)
2025-04-15T08:41:07.9081907Z 
2025-04-15T08:41:07.9082110Z PASS src/errors/response-errors/__tests__/webhook-not-found.error.test.ts
2025-04-15T08:41:07.9082240Z   utils test webhookNotFoundErrorMessage 
2025-04-15T08:41:07.9082404Z     âœ“ should return a message with path and method (3 ms)
2025-04-15T08:41:07.9082564Z     âœ“ should return a message with path
2025-04-15T08:41:07.9082704Z     âœ“ should return a message with method with tip (1 ms)
2025-04-15T08:41:07.9082821Z     âœ“ should return a message with method with tip
2025-04-15T08:41:07.9082990Z     âœ“ should return a message with method with tip
2025-04-15T08:41:07.9082994Z 
2025-04-15T08:41:07.9083131Z PASS test/integration/user.repository.test.ts
2025-04-15T08:41:07.9083261Z   UserRepository
2025-04-15T08:41:07.9083349Z     countUsersByRole()
2025-04-15T08:41:07.9083544Z       âœ“ should return the number of users in each role (45 ms)
2025-04-15T08:41:07.9083629Z     createUserWithProject()
2025-04-15T08:41:07.9083838Z       âœ“ should create personal project for a user (11 ms)
2025-04-15T08:41:07.9083843Z 
2025-04-15T08:41:07.9083959Z PASS src/scaling/__tests__/subscriber.service.test.ts
2025-04-15T08:41:07.9084058Z   Subscriber
2025-04-15T08:41:07.9084127Z     constructor
2025-04-15T08:41:07.9084305Z       âœ“ should init Redis client in scaling mode (4 ms)
2025-04-15T08:41:07.9084452Z       âœ“ should not init Redis client in regular mode (1 ms)
2025-04-15T08:41:07.9084576Z     shutdown
2025-04-15T08:41:07.9084698Z       âœ“ should disconnect Redis client
2025-04-15T08:41:07.9084768Z     subscribe
2025-04-15T08:41:07.9084902Z       âœ“ should subscribe to pubsub channel (1 ms)
2025-04-15T08:41:07.9084906Z 
2025-04-15T08:41:07.9085042Z PASS src/services/__tests__/url.service.test.ts
2025-04-15T08:41:07.9085135Z   UrlService
2025-04-15T08:41:07.9085190Z     getInstanceBaseUrl
2025-04-15T08:41:07.9085329Z       âœ“ should set URL from N8N_EDITOR_BASE_URL (3 ms)
2025-04-15T08:41:07.9085450Z       âœ“ should set URL from WEBHOOK_URL (1 ms)
2025-04-15T08:41:07.9085620Z       âœ“ should trim quotes when setting URL from N8N_EDITOR_BASE_URL
2025-04-15T08:41:07.9085747Z       âœ“ should trim quotes when setting URL from WEBHOOK_URL
2025-04-15T08:41:07.9085751Z 
2025-04-15T08:41:07.9086071Z PASS src/databases/repositories/__tests__/credentials.repository.test.ts
2025-04-15T08:41:07.9086289Z   findMany
2025-04-15T08:41:07.9086545Z     âœ“ return `data` property if `includeData:true` and select is using the record syntax (4 ms)
2025-04-15T08:41:07.9086788Z     âœ“ return `data` property if `includeData:true` and select is using the record syntax (1 ms)
2025-04-15T08:41:07.9086793Z 
2025-04-15T08:41:07.9086963Z PASS test/integration/task-runners/task-runner-server.test.ts
2025-04-15T08:41:07.9087063Z   TaskBrokerServer
2025-04-15T08:41:07.9087112Z     /healthz
2025-04-15T08:41:07.9087257Z       âœ“ should return 200 (15 ms)
2025-04-15T08:41:07.9087345Z     /runners/_ws
2025-04-15T08:41:07.9087526Z       âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:41:07.9087611Z     /runners/auth
2025-04-15T08:41:07.9087816Z       âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:41:07.9087821Z 
2025-04-15T08:41:07.9087999Z PASS test/integration/services/execution-metadata.service.test.ts
2025-04-15T08:41:07.9088228Z   ProjectService
2025-04-15T08:41:07.9088314Z     save
2025-04-15T08:41:07.9088529Z       âœ“ should deduplicate entries by exeuctionId and key, keeping the latest one (19 ms)
2025-04-15T08:41:07.9088533Z 
2025-04-15T08:41:07.9088720Z PASS test/integration/task-runners/task-broker-server.test.ts
2025-04-15T08:41:07.9088797Z   TaskBrokerServer
2025-04-15T08:41:07.9088887Z     /healthz
2025-04-15T08:41:07.9088995Z       âœ“ should return 200 (21 ms)
2025-04-15T08:41:07.9089108Z     /runners/_ws
2025-04-15T08:41:07.9089255Z       âœ“ should return 429 when too many requests are made (21 ms)
2025-04-15T08:41:07.9089357Z     /runners/auth
2025-04-15T08:41:07.9089505Z       âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:41:07.9089510Z 
2025-04-15T08:41:07.9089748Z PASS src/workflows/workflow-history.ee/__tests__/workflow-history-helper.ee.test.ts
2025-04-15T08:41:07.9089849Z   getWorkflowHistoryPruneTime
2025-04-15T08:41:07.9090081Z     âœ“ should return -1 (infinite) if config and license are -1 (3 ms)
2025-04-15T08:41:07.9090318Z     âœ“ should return config time if license is infinite and config is not (1 ms)
2025-04-15T08:41:07.9090494Z     âœ“ should return license time if config is infinite and license is not
2025-04-15T08:41:07.9090697Z     âœ“ should return lowest of config and license time if both are not -1 (1 ms)
2025-04-15T08:41:07.9090701Z 
2025-04-15T08:41:07.9090811Z PASS test/integration/cta.service.test.ts
2025-04-15T08:41:07.9090906Z   CtaService
2025-04-15T08:41:07.9090998Z     getBecomeCreatorCta()
2025-04-15T08:41:07.9091287Z       âœ“ should return false if user has 0 active workflows with 0 successful production executions (8 ms)
2025-04-15T08:41:07.9091551Z       âœ“ should return false if user has 2 active workflows with 5 successful production executions (21 ms)
2025-04-15T08:41:07.9091797Z       âœ“ should return false if user has 3 active workflows with 4 successful production executions (22 ms)
2025-04-15T08:41:07.9092048Z       âœ“ should return true if user has 3 active workflows with 5 successful production executions (19 ms)
2025-04-15T08:41:07.9092106Z 
2025-04-15T08:41:07.9092222Z PASS src/services/__tests__/password.utility.test.ts
2025-04-15T08:41:07.9092323Z   PasswordUtility
2025-04-15T08:41:07.9092375Z     hash()
2025-04-15T08:41:07.9092522Z       âœ“ should hash a plaintext password (63 ms)
2025-04-15T08:41:07.9092593Z     compare()
2025-04-15T08:41:07.9092735Z       âœ“ should return true on match (113 ms)
2025-04-15T08:41:07.9092861Z       âœ“ should return false on mismatch (116 ms)
2025-04-15T08:41:07.9092865Z 
2025-04-15T08:41:07.9093052Z PASS src/controllers/__tests__/users.controller.test.ts
2025-04-15T08:41:07.9093124Z   UsersController
2025-04-15T08:41:07.9093205Z     changeGlobalRole
2025-04-15T08:41:07.9093332Z       âœ“ should emit event user-changed-role (4 ms)
2025-04-15T08:41:07.9093381Z 
2025-04-15T08:41:07.9093565Z PASS src/evaluation.ee/test-runner/__tests__/get-test-run-final-result.ee.test.ts
2025-04-15T08:41:07.9093708Z   getTestRunFinalResult
2025-04-15T08:41:07.9094039Z     âœ“ should return success if all test cases are successful (3 ms)
2025-04-15T08:41:07.9094268Z     âœ“ should return error if at least one test case is errored (1 ms)
2025-04-15T08:41:07.9094422Z     âœ“ should return warning if at least one test case is warned
2025-04-15T08:41:07.9094629Z     âœ“ should return error if there are errors and warnings
2025-04-15T08:41:07.9094634Z 
2025-04-15T08:41:07.9094901Z PASS test/integration/workflows/workflows.controller-with-active-workflow-manager.ee.test.ts
2025-04-15T08:41:07.9095040Z   PUT /:workflowId/transfer
2025-04-15T08:41:07.9095163Z     âœ“ can transfer an active workflow (82 ms)
2025-04-15T08:41:07.9095178Z 
2025-04-15T08:41:07.9095307Z PASS src/ldap.ee/__tests__/helpers.test.ts
2025-04-15T08:41:07.9095418Z   Ldap/helpers
2025-04-15T08:41:07.9095501Z     updateLdapUserOnLocalDb
2025-04-15T08:41:07.9095725Z       âœ“ does not use `Repository.update`, but `Repository.save` instead (4 ms)
2025-04-15T08:41:07.9095729Z 
2025-04-15T08:41:07.9096050Z PASS src/evaluation.ee/test-runner/__tests__/get-start-node.ee.test.ts
2025-04-15T08:41:07.9096139Z   getPastExecutionStartNode
2025-04-15T08:41:07.9096312Z     âœ“ should return the start node of the past execution (3 ms)
2025-04-15T08:41:07.9096544Z     âœ“ should return the start node of the past execution with multiple triggers
2025-04-15T08:41:07.9096778Z     âœ“ should return the start node of the past execution with multiple triggers - chat trigger
2025-04-15T08:41:07.9096782Z 
2025-04-15T08:41:07.9096963Z PASS src/services/__tests__/orchestration.service.test.ts
2025-04-15T08:41:07.9097061Z   Orchestration Service
2025-04-15T08:41:07.9097147Z     âœ“ should initialize (6 ms)
2025-04-15T08:41:07.9097153Z 
2025-04-15T08:41:07.9097297Z PASS test/integration/middlewares/body-parser.test.ts
2025-04-15T08:41:07.9097392Z   bodyParser
2025-04-15T08:41:07.9097535Z     âœ“ should handle uncompressed data (28 ms)
2025-04-15T08:41:07.9097700Z     âœ“ should handle gzip data (5 ms)
2025-04-15T08:41:07.9097835Z     âœ“ should handle deflate data (3 ms)
2025-04-15T08:41:07.9097847Z 
2025-04-15T08:41:07.9098005Z PASS src/databases/entities/__tests__/user.entity.test.ts
2025-04-15T08:41:07.9098130Z   User Entity
2025-04-15T08:41:07.9098220Z     JSON.stringify
2025-04-15T08:41:07.9098372Z       âœ“ should not serialize sensitive data (3 ms)
2025-04-15T08:41:07.9098505Z     createPersonalProjectName
2025-04-15T08:41:07.9098908Z       âœ“ given fistName: Nathan, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "Nathan Nathaniel <nathan@nathaniel.n8n>" (1 ms)
2025-04-15T08:41:07.9099277Z       âœ“ given fistName: undefined, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:41:07.9099611Z       âœ“ given fistName: Nathan, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:41:07.9099954Z       âœ“ given fistName: undefined, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:41:07.9100263Z       âœ“ given fistName: undefined, lastName: undefined and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:41:07.9100589Z       âœ“ given fistName: Nathan, lastName: Nathaniel and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:41:07.9100594Z 
2025-04-15T08:41:07.9100813Z PASS test/integration/task-runners/task-runner-module.internal.test.ts
2025-04-15T08:41:07.9100888Z   TaskRunnerModule in internal mode
2025-04-15T08:41:07.9101016Z     start
2025-04-15T08:41:07.9101181Z       âœ“ should throw if the task runner is disabled (10 ms)
2025-04-15T08:41:07.9101345Z       âœ“ should start the task runner (293 ms)
2025-04-15T08:41:07.9101508Z       âœ“ should use InternalTaskRunnerDisconnectAnalyzer
2025-04-15T08:41:07.9101512Z 
2025-04-15T08:41:07.9101757Z PASS src/modules/insights/database/entities/__tests__/insights-by-period.test.ts
2025-04-15T08:41:07.9101845Z   Insights By Period
2025-04-15T08:41:07.9102207Z     âœ“ `time_saved_min` can be serialized and deserialized correctly (4 ms)
2025-04-15T08:41:07.9102391Z     âœ“ `runtime_ms` can be serialized and deserialized correctly (2 ms)
2025-04-15T08:41:07.9102577Z     âœ“ `failure` can be serialized and deserialized correctly
2025-04-15T08:41:07.9102737Z     âœ“ `success` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:41:07.9102932Z     âœ“ `hour` can be serialized and deserialized correctly
2025-04-15T08:41:07.9103122Z     âœ“ `day` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:41:07.9103274Z     âœ“ `week` can be serialized and deserialized correctly
2025-04-15T08:41:07.9103278Z 
2025-04-15T08:41:07.9103436Z PASS src/utils/__tests__/object-to-error.test.ts
2025-04-15T08:41:07.9103522Z   objectToError
2025-04-15T08:41:07.9103622Z     node error handling
2025-04-15T08:41:07.9103846Z       âœ“ should create `NodeOperationError` when node is found (4 ms)
2025-04-15T08:41:07.9103965Z       âœ“ should create `Error` when node is not found
2025-04-15T08:41:07.9104090Z 
2025-04-15T08:41:07.9104233Z PASS src/task-runners/__tests__/node-process-oom-detector.test.ts
2025-04-15T08:41:07.9104342Z   NodeProcessOomDetector
2025-04-15T08:41:07.9104520Z     âœ“ should detect an out-of-memory error in a monitored process (349 ms)
2025-04-15T08:41:07.9104767Z     âœ“ should not detect an out-of-memory error in a process that exits normally (22 ms)
2025-04-15T08:41:07.9104772Z 
2025-04-15T08:41:07.9105018Z PASS src/execution-lifecycle/shared/__tests__/shared-hook-functions.test.ts
2025-04-15T08:41:07.9105111Z   determineFinalExecutionStatus
2025-04-15T08:41:07.9105322Z     âœ“ should return "error" when resultData.error exists (1 ms)
2025-04-15T08:41:07.9105471Z     âœ“ should return "waiting" when waitTill is defined (1 ms)
2025-04-15T08:41:07.9105585Z     When waitTill is not set
2025-04-15T08:41:07.9105680Z       âœ“ should return "canceled" (3 ms)
2025-04-15T08:41:07.9105809Z       âœ“ should return "crashed"
2025-04-15T08:41:07.9105935Z       âœ“ should return "error" (1 ms)
2025-04-15T08:41:07.9106047Z       âœ“ should return "success"
2025-04-15T08:41:07.9106052Z 
2025-04-15T08:41:07.9106208Z PASS src/services/__tests__/credentials-tester.service.test.ts
2025-04-15T08:41:07.9106306Z   CredentialsTester
2025-04-15T08:41:07.9106558Z     âœ“ should find the OAuth2 credential test for a generic OAuth2 API credential (5 ms)
2025-04-15T08:41:07.9106562Z 
2025-04-15T08:41:07.9106681Z PASS test/integration/saml/saml-helpers.test.ts
2025-04-15T08:41:07.9106785Z   sso/saml/samlHelpers
2025-04-15T08:41:07.9106883Z     createUserFromSamlAttributes
2025-04-15T08:41:07.9107058Z       âœ“ Creates personal project for user (101 ms)
2025-04-15T08:41:07.9107063Z 
2025-04-15T08:41:07.9107190Z PASS src/utils/__tests__/path-util.test.ts
2025-04-15T08:41:07.9107320Z   isContainedWithin
2025-04-15T08:41:07.9107509Z     âœ“ should return true when parent and child paths are the same (3 ms)
2025-04-15T08:41:07.9107826Z     âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/file.txt (1 ms)
2025-04-15T08:41:07.9108080Z     âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/../folder/subfolder/file.txt
2025-04-15T08:41:07.9108372Z     âœ“ should return true for parent /some/parent/folder/ and child /some/parent/folder/subfolder/file.txt
2025-04-15T08:41:07.9108651Z     âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/
2025-04-15T08:41:07.9108893Z     âœ“ should return false for parent /some/parent/folder and child /some/other/folder/file.txt
2025-04-15T08:41:07.9109182Z     âœ“ should return false for parent /some/parent/folder and child /some/parent/folder_but_not_really
2025-04-15T08:41:07.9109363Z     âœ“ should return false for parent /one/path and child /another/path
2025-04-15T08:41:07.9109367Z 
2025-04-15T08:41:07.9109532Z PASS test/integration/commands/license.cmd.test.ts
2025-04-15T08:41:07.9109823Z   âœ“ license:clear invokes clear() to release any floating entitlements and deletes the license cert from the DB (15 ms)
2025-04-15T08:41:07.9109992Z 
2025-04-15T08:41:07.9110127Z PASS src/services/__tests__/execution-metadata.service.test.ts
2025-04-15T08:41:07.9110217Z   ExecutionMetadataService
2025-04-15T08:41:07.9110366Z     âœ“ Execution metadata is saved in a batch (6 ms)
2025-04-15T08:41:07.9110371Z 
2025-04-15T08:41:07.9110506Z PASS src/decorators/__tests__/module.test.ts
2025-04-15T08:41:07.9110588Z   registerLifecycleHooks
2025-04-15T08:41:07.9110784Z     âœ“ is called when ModuleRegistry.registerLifecycleHooks is called (5 ms)
2025-04-15T08:41:07.9110788Z 
2025-04-15T08:41:07.9111008Z PASS src/environments.ee/source-control/__tests__/source-control-preferences.service.ee.test.ts
2025-04-15T08:41:07.9111092Z   SourceControlPreferencesService
2025-04-15T08:41:07.9111218Z     âœ“ should class validate correct preferences (4 ms)
2025-04-15T08:41:07.9111222Z 
2025-04-15T08:41:07.9111304Z PASS src/config/__tests__/index.test.ts
2025-04-15T08:41:07.9111388Z   userManagement.jwtRefreshTimeoutHours
2025-04-15T08:41:07.9111755Z     âœ“ resets jwtRefreshTimeoutHours to 0 if it's greater than or equal to jwtSessionDurationHours (4 ms)
2025-04-15T08:41:07.9111759Z 
2025-04-15T08:41:07.9111884Z PASS src/validators/__tests__/no-url.validator.test.ts
2025-04-15T08:41:07.9111938Z   NoUrl
2025-04-15T08:41:07.9111992Z     URLs
2025-04-15T08:41:07.9112095Z       âœ“ should block http://google.com (4 ms)
2025-04-15T08:41:07.9112199Z       âœ“ should block www.domain.tld (4 ms)
2025-04-15T08:41:07.9112268Z       âœ“ should block n8n.io
2025-04-15T08:41:07.9112282Z 
2025-04-15T08:41:07.9112396Z PASS test/integration/healthcheck.controller.test.ts
2025-04-15T08:41:07.9112460Z   HealthcheckController
2025-04-15T08:41:07.9112598Z     âœ“ should return ok when DB is connected and migrated (13 ms)
2025-04-15T08:41:07.9112725Z     âœ“ should return error when DB is not connected (2 ms)
2025-04-15T08:41:07.9112729Z 
2025-04-15T08:41:07.9112812Z Test Suites: 250 passed, 250 total
2025-04-15T08:41:07.9112904Z Tests:       2810 passed, 2810 total
2025-04-15T08:41:07.9112990Z Snapshots:   3 passed, 3 total
2025-04-15T08:41:07.9113061Z Time:        168.385 s
2025-04-15T08:41:07.9113128Z Ran all test suites.
2025-04-15T08:41:07.9113538Z ##[endgroup]
2025-04-15T08:41:16.3779460Z ##[group]@n8n/api-types:test
2025-04-15T08:41:16.3780171Z cache bypass, force executing 58a81a1e5c93f91d
2025-04-15T08:41:16.3780380Z 
2025-04-15T08:41:16.3780656Z > @n8n/api-types@0.24.0 test /home/runner/_work/n8n/n8n/packages/@n8n/api-types
2025-04-15T08:41:16.3781012Z > jest
2025-04-15T08:41:16.3781120Z 
2025-04-15T08:41:16.3781299Z PASS src/dto/ai/__tests__/ai-ask-request.dto.test.ts
2025-04-15T08:41:16.3781601Z   AiAskRequestDto
2025-04-15T08:41:16.3782123Z     âœ“ should validate a valid AI ask request (5 ms)
2025-04-15T08:41:16.3782473Z     âœ“ should fail if question is missing (1 ms)
2025-04-15T08:41:16.3782788Z     âœ“ should fail if context is invalid
2025-04-15T08:41:16.3783094Z     âœ“ should fail if forNode is missing
2025-04-15T08:41:16.3783439Z     âœ“ should validate all possible schema types (2 ms)
2025-04-15T08:41:16.3784146Z     âœ“ should fail with invalid type (1 ms)
2025-04-15T08:41:16.3784509Z     âœ“ should validate multiple schema entries (1 ms)
2025-04-15T08:41:16.3784714Z 
2025-04-15T08:41:16.3784921Z PASS src/dto/saml/__tests__/saml-preferences.dto.test.ts
2025-04-15T08:41:16.3785217Z   SamlPreferences
2025-04-15T08:41:16.3785428Z     Valid requests
2025-04-15T08:41:16.3785773Z       âœ“ should validate valid minimal configuration (5 ms)
2025-04-15T08:41:16.3786087Z       âœ“ should validate valid full configuration
2025-04-15T08:41:16.3786272Z     Invalid requests
2025-04-15T08:41:16.3786566Z       âœ“ should fail validation for invalid loginBinding (2 ms)
2025-04-15T08:41:16.3786832Z       âœ“ should fail validation for invalid acsBinding
2025-04-15T08:41:16.3787135Z       âœ“ should fail validation for invalid signatureConfig location action
2025-04-15T08:41:16.3787477Z       âœ“ should fail validation for missing signatureConfig location reference (1 ms)
2025-04-15T08:41:16.3788031Z       âœ“ should fail validation for invalid mapping email
2025-04-15T08:41:16.3788216Z       Edge cases
2025-04-15T08:41:16.3788401Z         âœ“ should handle optional fields correctly
2025-04-15T08:41:16.3788640Z         âœ“ should handle default values correctly (1 ms)
2025-04-15T08:41:16.3788770Z 
2025-04-15T08:41:16.3788931Z PASS src/dto/credentials/__tests__/create-credential.dto.test.ts
2025-04-15T08:41:16.3789158Z   CreateCredentialDto
2025-04-15T08:41:16.3789294Z     Valid requests
2025-04-15T08:41:16.3789488Z       âœ“ should validate with required fields (3 ms)
2025-04-15T08:41:16.3789826Z       âœ“ should validate with optional projectId (1 ms)
2025-04-15T08:41:16.3790194Z       âœ“ should validate with data object
2025-04-15T08:41:16.3790507Z       âœ“ should validate longer type
2025-04-15T08:41:16.3790891Z       âœ“ should not strip out properties from the data object (1 ms)
2025-04-15T08:41:16.3791200Z     Invalid requests
2025-04-15T08:41:16.3791490Z       âœ“ should fail validation for missing name
2025-04-15T08:41:16.3791801Z       âœ“ should fail validation for empty name
2025-04-15T08:41:16.3792152Z       âœ“ should fail validation for name too long
2025-04-15T08:41:16.3792527Z       âœ“ should fail validation for missing type (1 ms)
2025-04-15T08:41:16.3792877Z       âœ“ should fail validation for empty type
2025-04-15T08:41:16.3793236Z       âœ“ should fail validation for type too long (1 ms)
2025-04-15T08:41:16.3793604Z       âœ“ should fail validation for missing data
2025-04-15T08:41:16.3793951Z       âœ“ should fail validation for invalid data type
2025-04-15T08:41:16.3794143Z 
2025-04-15T08:41:16.3794339Z PASS src/schemas/__tests__/insights.schema.test.ts
2025-04-15T08:41:16.3794634Z   insightsSummarySchema
2025-04-15T08:41:16.3794960Z     âœ“ should validate valid insights summary (3 ms)
2025-04-15T08:41:16.3795320Z     âœ“ should validate invalid failureRate unit
2025-04-15T08:41:16.3795662Z     âœ“ should validate missing total (1 ms)
2025-04-15T08:41:16.3796000Z     âœ“ should validate wrong data type for value
2025-04-15T08:41:16.3796406Z     âœ“ should validate invalid key in object
2025-04-15T08:41:16.3796667Z   insightsByWorkflowSchema
2025-04-15T08:41:16.3797003Z     âœ“ should validate valid workflow insights (1 ms)
2025-04-15T08:41:16.3797341Z     âœ“ should validate wrong data type
2025-04-15T08:41:16.3797685Z     âœ“ should validate missing required field (6 ms)
2025-04-15T08:41:16.3798023Z     âœ“ should validate unexpected key
2025-04-15T08:41:16.3798267Z   insightsByTimeSchema
2025-04-15T08:41:16.3798569Z     âœ“ should validate valid insights by time (1 ms)
2025-04-15T08:41:16.3798905Z     âœ“ should validate invalid date format
2025-04-15T08:41:16.3799244Z     âœ“ should validate invalid field type (1 ms)
2025-04-15T08:41:16.3799579Z     âœ“ should validate missing required key
2025-04-15T08:41:16.3799888Z     âœ“ should validate unexpected key
2025-04-15T08:41:16.3800047Z 
2025-04-15T08:41:16.3800274Z PASS src/dto/folders/__tests__/list-folder-query.dto.test.ts
2025-04-15T08:41:16.3800589Z   ListFolderQueryDto
2025-04-15T08:41:16.3800999Z     Valid requests
2025-04-15T08:41:16.3801331Z       âœ“ should validate empty object (no filters) (4 ms)
2025-04-15T08:41:16.3801663Z       âœ“ should validate valid filter
2025-04-15T08:41:16.3802020Z       âœ“ should validate filter with parentFolderId (1 ms)
2025-04-15T08:41:16.3802426Z       âœ“ should validate filter with name and parentFolderId
2025-04-15T08:41:16.3802814Z       âœ“ should validate filter with tags array (1 ms)
2025-04-15T08:41:16.3803179Z       âœ“ should validate filter with empty tags array
2025-04-15T08:41:16.3803545Z       âœ“ should validate filter with all properties
2025-04-15T08:41:16.3803884Z       âœ“ should validate valid select (1 ms)
2025-04-15T08:41:16.3804196Z       âœ“ should validate valid sortBy
2025-04-15T08:41:16.3804497Z       âœ“ should validate valid skip and take
2025-04-15T08:41:16.3804821Z       âœ“ should validate full query parameters (1 ms)
2025-04-15T08:41:16.3805081Z     Invalid requests
2025-04-15T08:41:16.3805394Z       âœ“ should fail validation for invalid filter format
2025-04-15T08:41:16.3806316Z       âœ“ should fail validation for filter with invalid field (1 ms)
2025-04-15T08:41:16.3806843Z       âœ“ should fail validation for filter with tags not as array (1 ms)
2025-04-15T08:41:16.3807374Z       âœ“ should fail validation for filter with tags array containing non-string values
2025-04-15T08:41:16.3807845Z       âœ“ should fail validation for invalid select format
2025-04-15T08:41:16.3808238Z       âœ“ should fail validation for select with invalid field
2025-04-15T08:41:16.3808659Z       âœ“ should fail validation for invalid skip format (1 ms)
2025-04-15T08:41:16.3809060Z       âœ“ should fail validation for invalid take format
2025-04-15T08:41:16.3809439Z       âœ“ should fail validation for invalid sortBy value
2025-04-15T08:41:16.3809639Z 
2025-04-15T08:41:16.3809918Z PASS src/dto/password-reset/__tests__/change-password-request.dto.test.ts
2025-04-15T08:41:16.3810292Z   ChangePasswordRequestDto
2025-04-15T08:41:16.3810512Z     Valid requests
2025-04-15T08:41:16.3810877Z       âœ“ should validate valid password reset with token (9 ms)
2025-04-15T08:41:16.3811313Z       âœ“ should validate valid password reset with MFA code (1 ms)
2025-04-15T08:41:16.3811612Z     Invalid requests
2025-04-15T08:41:16.3811923Z       âœ“ should fail validation for missing token (1 ms)
2025-04-15T08:41:16.3812292Z       âœ“ should fail validation for empty token
2025-04-15T08:41:16.3812649Z       âœ“ should fail validation for short token (1 ms)
2025-04-15T08:41:16.3813039Z       âœ“ should fail validation for missing password (5 ms)
2025-04-15T08:41:16.3813456Z       âœ“ should fail validation for password too short (1 ms)
2025-04-15T08:41:16.3813848Z       âœ“ should fail validation for password too long
2025-04-15T08:41:16.3814268Z       âœ“ should fail validation for password without number (1 ms)
2025-04-15T08:41:16.3814734Z       âœ“ should fail validation for password without uppercase letter
2025-04-15T08:41:16.3815049Z       Edge cases
2025-04-15T08:41:16.3815347Z         âœ“ should handle optional MFA code correctly
2025-04-15T08:41:16.3815732Z         âœ“ should handle token with special characters
2025-04-15T08:41:16.3815933Z 
2025-04-15T08:41:16.3816104Z PASS src/schemas/__tests__/project.schema.test.ts
2025-04-15T08:41:16.3816412Z   project.schema
2025-04-15T08:41:16.3816615Z     projectNameSchema
2025-04-15T08:41:16.3816913Z       âœ“ should validate valid name (4 ms)
2025-04-15T08:41:16.3817236Z       âœ“ should validate empty name (1 ms)
2025-04-15T08:41:16.3817544Z       âœ“ should validate name too long
2025-04-15T08:41:16.3817785Z     projectTypeSchema
2025-04-15T08:41:16.3818081Z       âœ“ should validate valid type: personal
2025-04-15T08:41:16.3818407Z       âœ“ should validate valid type: team
2025-04-15T08:41:16.3818724Z       âœ“ should validate invalid type (1 ms)
2025-04-15T08:41:16.3818983Z     projectIconSchema
2025-04-15T08:41:16.3819270Z       âœ“ should validate valid emoji icon (1 ms)
2025-04-15T08:41:16.3819578Z       âœ“ should validate valid icon
2025-04-15T08:41:16.3819879Z       âœ“ should validate invalid icon type
2025-04-15T08:41:16.3820394Z       âœ“ should validate empty icon value
2025-04-15T08:41:16.3820640Z     projectRoleSchema
2025-04-15T08:41:16.3820960Z       âœ“ should validate valid role: project:personalOwner
2025-04-15T08:41:16.3821337Z       âœ“ should validate valid role: project:admin
2025-04-15T08:41:16.3821683Z       âœ“ should validate valid role: project:editor
2025-04-15T08:41:16.3822073Z       âœ“ should validate valid role: project:viewer
2025-04-15T08:41:16.3822387Z       âœ“ should validate invalid role
2025-04-15T08:41:16.3822657Z     projectRelationSchema
2025-04-15T08:41:16.3822952Z       âœ“ should validate valid relation
2025-04-15T08:41:16.3823279Z       âœ“ should validate invalid userId type
2025-04-15T08:41:16.3823602Z       âœ“ should validate invalid role (1 ms)
2025-04-15T08:41:16.3823914Z       âœ“ should validate missing userId
2025-04-15T08:41:16.3824227Z       âœ“ should validate missing role (8 ms)
2025-04-15T08:41:16.3824403Z 
2025-04-15T08:41:16.3824606Z PASS src/dto/project/__tests__/update-project.dto.test.ts
2025-04-15T08:41:16.3825118Z   UpdateProjectDto
2025-04-15T08:41:16.3825328Z     Valid requests
2025-04-15T08:41:16.3825639Z       âœ“ should validate with just the name (3 ms)
2025-04-15T08:41:16.3826006Z       âœ“ should validate with name and emoji icon (1 ms)
2025-04-15T08:41:16.3826414Z       âœ“ should validate with name and regular icon
2025-04-15T08:41:16.3826662Z       âœ“ should validate with relations
2025-04-15T08:41:16.3826874Z       âœ“ should validate with all fields
2025-04-15T08:41:16.3827038Z     Invalid requests
2025-04-15T08:41:16.3827235Z       âœ“ should fail validation for invalid name type
2025-04-15T08:41:16.3827480Z       âœ“ should fail validation for name too long (1 ms)
2025-04-15T08:41:16.3827713Z       âœ“ should fail validation for invalid icon type
2025-04-15T08:41:16.3827953Z       âœ“ should fail validation for invalid icon value
2025-04-15T08:41:16.3828218Z       âœ“ should fail validation for invalid relations userId (1 ms)
2025-04-15T08:41:16.3828504Z       âœ“ should fail validation for invalid relations role
2025-04-15T08:41:16.3828643Z 
2025-04-15T08:41:16.3828826Z PASS src/dto/source-control/__tests__/push-work-folder-request.dto.test.ts
2025-04-15T08:41:16.3829066Z   PushWorkFolderRequestDto
2025-04-15T08:41:16.3829215Z     Valid requests
2025-04-15T08:41:16.3829475Z       âœ“ should validate complete valid push request with all fields (5 ms)
2025-04-15T08:41:16.3829932Z       âœ“ should validate push request with only required fields
2025-04-15T08:41:16.3830223Z     Invalid requests
2025-04-15T08:41:16.3830610Z       âœ“ should fail validation for missing required fileNames field (1 ms)
2025-04-15T08:41:16.3831003Z       âœ“ should fail validation for invalid fileNames type
2025-04-15T08:41:16.3831454Z       âœ“ should fail validation for invalid fileNames array element (1 ms)
2025-04-15T08:41:16.3831879Z       âœ“ should fail validation for invalid force type
2025-04-15T08:41:16.3832069Z 
2025-04-15T08:41:16.3832289Z PASS src/dto/user/__tests__/user-update-request.dto.test.ts
2025-04-15T08:41:16.3832633Z   UserUpdateRequestDto
2025-04-15T08:41:16.3832979Z     âœ“ should fail validation for an invalid email (6 ms)
2025-04-15T08:41:16.3833443Z     âœ“ should fail validation for a firstName with potential XSS attack (1 ms)
2025-04-15T08:41:16.3833922Z     âœ“ should fail validation for a firstName with a URL (1 ms)
2025-04-15T08:41:16.3834384Z     âœ“ should fail validation for a lastName with potential XSS attack
2025-04-15T08:41:16.3834833Z     âœ“ should fail validation for a lastName with a URL (1 ms)
2025-04-15T08:41:16.3835219Z     âœ“ should validate a valid user update request
2025-04-15T08:41:16.3835404Z 
2025-04-15T08:41:16.3835674Z PASS src/dto/invitation/__tests__/accept-invitation-request.dto.test.ts
2025-04-15T08:41:16.3836044Z   AcceptInvitationRequestDto
2025-04-15T08:41:16.3836271Z     Valid requests
2025-04-15T08:41:16.3836690Z       âœ“ should validate complete valid invitation acceptance (4 ms)
2025-04-15T08:41:16.3836997Z     Invalid requests
2025-04-15T08:41:16.3837482Z       âœ“ should fail validation for missing inviterId (1 ms)
2025-04-15T08:41:16.3837889Z       âœ“ should fail validation for invalid inviterId (1 ms)
2025-04-15T08:41:16.3838276Z       âœ“ should fail validation for missing first name
2025-04-15T08:41:16.3838662Z       âœ“ should fail validation for missing last name (1 ms)
2025-04-15T08:41:16.3839040Z       âœ“ should fail validation for password too short
2025-04-15T08:41:16.3839447Z       âœ“ should fail validation for password without number (1 ms)
2025-04-15T08:41:16.3839674Z 
2025-04-15T08:41:16.3839887Z PASS src/dto/owner/__tests__/owner-setup-request.dto.test.ts
2025-04-15T08:41:16.3840204Z   OwnerSetupRequestDto
2025-04-15T08:41:16.3840413Z     Valid requests
2025-04-15T08:41:16.3840740Z       âœ“ should validate complete valid setup request (3 ms)
2025-04-15T08:41:16.3841026Z     Invalid requests
2025-04-15T08:41:16.3841351Z       âœ“ should fail validation for invalid email (2 ms)
2025-04-15T08:41:16.3841716Z       âœ“ should fail validation for missing first name
2025-04-15T08:41:16.3842322Z       âœ“ should fail validation for missing last name (1 ms)
2025-04-15T08:41:16.3842701Z       âœ“ should fail validation for password too short
2025-04-15T08:41:16.3843066Z       âœ“ should fail validation for password without number (1 ms)
2025-04-15T08:41:16.3843471Z       âœ“ should fail validation for password without uppercase letter
2025-04-15T08:41:16.3843717Z 
2025-04-15T08:41:16.3844034Z PASS src/dto/dynamic-node-parameters/__tests__/resource-locator-request.dto.test.ts
2025-04-15T08:41:16.3844411Z   ResourceLocatorRequestDto
2025-04-15T08:41:16.3844637Z     Valid requests
2025-04-15T08:41:16.3844949Z       âœ“ should validate minimal valid request (5 ms)
2025-04-15T08:41:16.3845269Z       âœ“ should validate request with filter (1 ms)
2025-04-15T08:41:16.3845607Z       âœ“ should validate request with pagination token
2025-04-15T08:41:16.3846083Z       âœ“ should validate request with credentials (1 ms)
2025-04-15T08:41:16.3846520Z       âœ“ should validate request with current node parameters
2025-04-15T08:41:16.3846966Z       âœ“ should validate request with a semver node version (1 ms)
2025-04-15T08:41:16.3847263Z     Invalid requests
2025-04-15T08:41:16.3847552Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:41:16.3847954Z       âœ“ should fail validation for missing method name (1 ms)
2025-04-15T08:41:16.3848373Z       âœ“ should fail validation for invalid node version
2025-04-15T08:41:16.3848580Z 
2025-04-15T08:41:16.3848883Z PASS src/dto/dynamic-node-parameters/__tests__/options-request.dto.test.ts
2025-04-15T08:41:16.3849273Z   OptionsRequestDto
2025-04-15T08:41:16.3849477Z     Valid requests
2025-04-15T08:41:16.3849788Z       âœ“ should validate minimal valid request (6 ms)
2025-04-15T08:41:16.3850186Z       âœ“ should validate request with method name (1 ms)
2025-04-15T08:41:16.3850547Z       âœ“ should validate request with load options
2025-04-15T08:41:16.3850897Z       âœ“ should validate request with credentials
2025-04-15T08:41:16.3851300Z       âœ“ should validate request with current node parameters (1 ms)
2025-04-15T08:41:16.3851618Z     Invalid requests
2025-04-15T08:41:16.3851899Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:41:16.3852324Z       âœ“ should fail validation for missing node type and version (1 ms)
2025-04-15T08:41:16.3852758Z       âœ“ should fail validation for invalid node version
2025-04-15T08:41:16.3852955Z 
2025-04-15T08:41:16.3853152Z PASS src/dto/auth/__tests__/login-request.dto.test.ts
2025-04-15T08:41:16.3853444Z   LoginRequestDto
2025-04-15T08:41:16.3853632Z     Valid requests
2025-04-15T08:41:16.3853949Z       âœ“ should validate complete valid login request (4 ms)
2025-04-15T08:41:16.3854371Z       âœ“ should validate login request without optional MFA (1 ms)
2025-04-15T08:41:16.3854847Z       âœ“ should validate login request with both mfaCode and mfaRecoveryCode
2025-04-15T08:41:16.3855317Z       âœ“ should validate login request with only mfaRecoveryCode
2025-04-15T08:41:16.3855621Z     Invalid requests
2025-04-15T08:41:16.3856219Z       âœ“ should fail validation for invalid emailOrLdapLoginId (1 ms)
2025-04-15T08:41:16.3856688Z       âœ“ should fail validation for empty password
2025-04-15T08:41:16.3857120Z       âœ“ should fail validation for missing emailOrLdapLoginId (1 ms)
2025-04-15T08:41:16.3857533Z       âœ“ should fail validation for missing password
2025-04-15T08:41:16.3857718Z 
2025-04-15T08:41:16.3858031Z PASS src/dto/dynamic-node-parameters/__tests__/action-result-request.dto.test.ts
2025-04-15T08:41:16.3858418Z   ActionResultRequestDto
2025-04-15T08:41:16.3858618Z     Valid requests
2025-04-15T08:41:16.3858902Z       âœ“ should validate minimal valid request (2 ms)
2025-04-15T08:41:16.3859229Z       âœ“ should validate request with payload
2025-04-15T08:41:16.3859584Z       âœ“ should validate request with credentials (1 ms)
2025-04-15T08:41:16.3859966Z       âœ“ should validate request with current node parameters
2025-04-15T08:41:16.3860250Z     Invalid requests
2025-04-15T08:41:16.3860543Z       âœ“ should fail validation for missing path (2 ms)
2025-04-15T08:41:16.3861116Z       âœ“ should fail validation for missing handler
2025-04-15T08:41:16.3861524Z       âœ“ should fail validation for invalid node version (1 ms)
2025-04-15T08:41:16.3861758Z 
2025-04-15T08:41:16.3861988Z PASS src/dto/auth/__tests__/resolve-signup-token-query.dto.test.ts
2025-04-15T08:41:16.3862353Z   ResolveSignupTokenQueryDto
2025-04-15T08:41:16.3862582Z     Valid requests
2025-04-15T08:41:16.3862858Z       âœ“ should validate standard UUID (3 ms)
2025-04-15T08:41:16.3863125Z     Invalid requests
2025-04-15T08:41:16.3863477Z       âœ“ should fail validation for invalid inviterId UUID (1 ms)
2025-04-15T08:41:16.3863912Z       âœ“ should fail validation for invalid inviteeId UUID
2025-04-15T08:41:16.3864333Z       âœ“ should fail validation for missing inviterId (1 ms)
2025-04-15T08:41:16.3864753Z       âœ“ should fail validation for missing inviteeId (1 ms)
2025-04-15T08:41:16.3865182Z       âœ“ should fail validation for UUID with invalid characters
2025-04-15T08:41:16.3865585Z       âœ“ should fail validation for UUID too long
2025-04-15T08:41:16.3865924Z       âœ“ should fail validation for UUID too short
2025-04-15T08:41:16.3866112Z 
2025-04-15T08:41:16.3866342Z PASS src/dto/insights/__tests__/list-workflow-query.dto.test.ts
2025-04-15T08:41:16.3866723Z   ListInsightsWorkflowQueryDto
2025-04-15T08:41:16.3866956Z     Valid requests
2025-04-15T08:41:16.3867258Z       âœ“ should validate empty object (no filters) (3 ms)
2025-04-15T08:41:16.3867598Z       âœ“ should validate valid sortBy (6 ms)
2025-04-15T08:41:16.3867935Z       âœ“ should validate valid skip and take (1 ms)
2025-04-15T08:41:16.3868284Z       âœ“ should validate full query parameters
2025-04-15T08:41:16.3868537Z     Invalid requests
2025-04-15T08:41:16.3868865Z       âœ“ should fail validation for invalid skip format (1 ms)
2025-04-15T08:41:16.3869249Z       âœ“ should fail validation for invalid take format
2025-04-15T08:41:16.3869669Z       âœ“ should fail validation for invalid sortBy value (1 ms)
2025-04-15T08:41:16.3869903Z 
2025-04-15T08:41:16.3870245Z PASS src/dto/dynamic-node-parameters/__tests__/resource-mapper-fields-request.dto.test.ts
2025-04-15T08:41:16.3870694Z   ResourceMapperFieldsRequestDto
2025-04-15T08:41:16.3870926Z     Valid requests
2025-04-15T08:41:16.3871188Z       âœ“ should validate minimal valid request (4 ms)
2025-04-15T08:41:16.3871511Z       âœ“ should validate request with credentials
2025-04-15T08:41:16.3871892Z       âœ“ should validate request with current node parameters
2025-04-15T08:41:16.3872187Z     Invalid requests
2025-04-15T08:41:16.3872491Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:41:16.3872860Z       âœ“ should fail validation for missing method name
2025-04-15T08:41:16.3873258Z       âœ“ should fail validation for invalid node version (1 ms)
2025-04-15T08:41:16.3873474Z 
2025-04-15T08:41:16.3873708Z PASS src/dto/user/__tests__/settings-update-request.dto.test.ts
2025-04-15T08:41:16.3874043Z   SettingsUpdateRequestDto
2025-04-15T08:41:16.3874405Z     âœ“ should pass validation with missing userActivated (4 ms)
2025-04-15T08:41:16.3875063Z     âœ“ should pass validation with missing allowSSOManualLogin (1 ms)
2025-04-15T08:41:16.3875545Z     âœ“ should pass validation with missing userActivated and allowSSOManualLogin
2025-04-15T08:41:16.3876008Z     âœ“ should fail validation with invalid userActivated (1 ms)
2025-04-15T08:41:16.3876490Z     âœ“ should fail validation with invalid allowSSOManualLogin (1 ms)
2025-04-15T08:41:16.3876858Z     âœ“ should pass validation with valid data
2025-04-15T08:41:16.3877012Z 
2025-04-15T08:41:16.3877189Z PASS src/dto/project/__tests__/create-project.dto.test.ts
2025-04-15T08:41:16.3877472Z   CreateProjectDto
2025-04-15T08:41:16.3877659Z     Valid requests
2025-04-15T08:41:16.3877934Z       âœ“ should validate with just the name (4 ms)
2025-04-15T08:41:16.3878280Z       âœ“ should validate with name and emoji icon
2025-04-15T08:41:16.3878651Z       âœ“ should validate with name and regular icon (1 ms)
2025-04-15T08:41:16.3878924Z     Invalid requests
2025-04-15T08:41:16.3879405Z       âœ“ should fail validation for missing name (1 ms)
2025-04-15T08:41:16.3879772Z       âœ“ should fail validation for empty name (1 ms)
2025-04-15T08:41:16.3880116Z       âœ“ should fail validation for name too long
2025-04-15T08:41:16.3880488Z       âœ“ should fail validation for invalid icon type (1 ms)
2025-04-15T08:41:16.3880895Z       âœ“ should fail validation for invalid icon value (1 ms)
2025-04-15T08:41:16.3881102Z 
2025-04-15T08:41:16.3881321Z PASS src/dto/workflows/__tests__/transfer-workflow.dto.test.ts
2025-04-15T08:41:16.3881645Z   ImportWorkflowFromUrlDto
2025-04-15T08:41:16.3881855Z     Valid requests
2025-04-15T08:41:16.3882162Z       âœ“ should validate only destinationProjectId (3 ms)
2025-04-15T08:41:16.3882620Z       âœ“ should validate destinationProjectId with empty shareCredentials
2025-04-15T08:41:16.3883097Z       âœ“ should validate destinationProjectId with shareCredentials
2025-04-15T08:41:16.3883396Z     Invalid requests
2025-04-15T08:41:16.3883774Z       âœ“ should fail validation for no destinationProjectId (1 ms)
2025-04-15T08:41:16.3884280Z       âœ“ should fail validation for destinationProjectId not being a string
2025-04-15T08:41:16.3884784Z       âœ“ should fail validation for shareCredentials not being an array (1 ms)
2025-04-15T08:41:16.3885289Z       âœ“ should fail validation for shareCredentials not containing strings
2025-04-15T08:41:16.3885537Z 
2025-04-15T08:41:16.3885755Z PASS src/dto/binary-data/__tests__/binary-data-query.dto.test.ts
2025-04-15T08:41:16.3886552Z   BinaryDataQueryDto
2025-04-15T08:41:16.3886917Z     Valid requests
2025-04-15T08:41:16.3887330Z       âœ“ should validate filesystem mode with view action (4 ms)
2025-04-15T08:41:16.3887799Z       âœ“ should validate filesystem-v2 mode with download action (1 ms)
2025-04-15T08:41:16.3888290Z       âœ“ should validate s3 mode with view action and optional fields (1 ms)
2025-04-15T08:41:16.3888614Z     Invalid requests
2025-04-15T08:41:16.3888942Z       âœ“ should fail validation for missing mode separator (1 ms)
2025-04-15T08:41:16.3889348Z       âœ“ should fail validation for invalid mode
2025-04-15T08:41:16.3889727Z       âœ“ should fail validation for invalid action (1 ms)
2025-04-15T08:41:16.3890110Z       âœ“ should fail validation for missing id (1 ms)
2025-04-15T08:41:16.3890455Z       âœ“ should fail validation for missing action
2025-04-15T08:41:16.3890642Z 
2025-04-15T08:41:16.3890910Z PASS src/dto/binary-data/__tests__/binary-data-signed-query.dto.test.ts
2025-04-15T08:41:16.3891160Z   BinaryDataSignedQueryDto
2025-04-15T08:41:16.3891306Z     Valid requests
2025-04-15T08:41:16.3891485Z       âœ“ should validate valid JWT token (5 ms)
2025-04-15T08:41:16.3891649Z     Invalid requests
2025-04-15T08:41:16.3891847Z       âœ“ should fail validation for missing token (2 ms)
2025-04-15T08:41:16.3892086Z       âœ“ should fail validation for empty token (1 ms)
2025-04-15T08:41:16.3892320Z       âœ“ should fail validation for non-string token
2025-04-15T08:41:16.3892572Z       âœ“ should fail validation for token without three segments
2025-04-15T08:41:16.3893049Z       âœ“ should fail validation for token with invalid characters (1 ms)
2025-04-15T08:41:16.3893327Z       âœ“ should fail validation for token with too many segments
2025-04-15T08:41:16.3893457Z 
2025-04-15T08:41:16.3893586Z PASS src/schemas/__tests__/paswword.schema.test.ts
2025-04-15T08:41:16.3893788Z   passwordSchema
2025-04-15T08:41:16.3893977Z     âœ“ should throw on empty password (10 ms)
2025-04-15T08:41:16.3894203Z     âœ“ should return same password if valid (1 ms)
2025-04-15T08:41:16.3894459Z     âœ“ should require at least one uppercase letter (1 ms)
2025-04-15T08:41:16.3894704Z     âœ“ should require at least one number (1 ms)
2025-04-15T08:41:16.3894962Z     âœ“ should require a minimum length of 8 characters (1 ms)
2025-04-15T08:41:16.3895238Z     âœ“ should require a maximum length of 64 characters (1 ms)
2025-04-15T08:41:16.3895373Z 
2025-04-15T08:41:16.3895531Z PASS src/dto/owner/__tests__/dismiss-banner-request.dto.test.ts
2025-04-15T08:41:16.3895757Z   DismissBannerRequestDto
2025-04-15T08:41:16.3896095Z     Valid requests
2025-04-15T08:41:16.3896297Z       âœ“ should validate valid banner: V1 (5 ms)
2025-04-15T08:41:16.3896620Z       âœ“ should validate valid banner: TRIAL_OVER (1 ms)
2025-04-15T08:41:16.3896849Z       âœ“ should validate valid banner: TRIAL
2025-04-15T08:41:16.3897091Z       âœ“ should validate valid banner: NON_PRODUCTION_LICENSE
2025-04-15T08:41:16.3897349Z       âœ“ should validate valid banner: EMAIL_CONFIRMATION
2025-04-15T08:41:16.3897533Z     Invalid requests
2025-04-15T08:41:16.3897757Z       âœ“ should fail validation for invalid banner string (1 ms)
2025-04-15T08:41:16.3898031Z       âœ“ should fail validation for non-string banner (1 ms)
2025-04-15T08:41:16.3898221Z     Optional banner
2025-04-15T08:41:16.3898401Z       âœ“ should validate empty request
2025-04-15T08:41:16.3898582Z     Exhaustive banner name check
2025-04-15T08:41:16.3898792Z       âœ“ should have all banner names defined (1 ms)
2025-04-15T08:41:16.3898919Z 
2025-04-15T08:41:16.3899112Z PASS src/dto/credentials/__tests__/credentials-get-many-request.dto.test.ts
2025-04-15T08:41:16.3899372Z   CredentialsGetManyRequestQuery
2025-04-15T08:41:16.3899536Z     should pass validation
2025-04-15T08:41:16.3899718Z       âœ“ with empty object (4 ms)
2025-04-15T08:41:16.3899919Z       âœ“ with includeScopes set to true (1 ms)
2025-04-15T08:41:16.3900140Z       âœ“ with includeScopes set to false (1 ms)
2025-04-15T08:41:16.3900344Z       âœ“ with includeData set to true
2025-04-15T08:41:16.3900552Z       âœ“ with includeData set to false (1 ms)
2025-04-15T08:41:16.3900756Z       âœ“ with both parameters set
2025-04-15T08:41:16.3900914Z     should fail validation
2025-04-15T08:41:16.3901123Z       âœ“ with invalid value true for includeScopes (1 ms)
2025-04-15T08:41:16.3901372Z       âœ“ with invalid value false for includeScopes (1 ms)
2025-04-15T08:41:16.3901613Z       âœ“ with invalid value invalid for includeScopes
2025-04-15T08:41:16.3901855Z       âœ“ with invalid value true for includeData (1 ms)
2025-04-15T08:41:16.3902119Z       âœ“ with invalid value false for includeData
2025-04-15T08:41:16.3902370Z       âœ“ with invalid value invalid for includeData (1 ms)
2025-04-15T08:41:16.3902499Z 
2025-04-15T08:41:16.3902650Z PASS src/dto/invitation/__tests__/invite-users-request.dto.test.ts
2025-04-15T08:41:16.3902872Z   InviteUsersRequestDto
2025-04-15T08:41:16.3903019Z     Valid requests
2025-04-15T08:41:16.3903195Z       âœ“ should validate empty array (3 ms)
2025-04-15T08:41:16.3903462Z       âœ“ should validate single user invitation with default role (1 ms)
2025-04-15T08:41:16.3903763Z       âœ“ should validate multiple user invitations with different roles
2025-04-15T08:41:16.3904019Z       âœ“ should default role to global:member
2025-04-15T08:41:16.3904183Z     Invalid requests
2025-04-15T08:41:16.3904387Z       âœ“ should fail validation for invalid email (1 ms)
2025-04-15T08:41:16.3904620Z       âœ“ should fail validation for invalid role
2025-04-15T08:41:16.3904739Z 
2025-04-15T08:41:16.3904902Z PASS src/dto/workflows/__tests__/import-workflow-from-url.dto.test.ts
2025-04-15T08:41:16.3905282Z   ImportWorkflowFromUrlDto
2025-04-15T08:41:16.3905440Z     Valid requests
2025-04-15T08:41:16.3905616Z       âœ“ should validate $name (5 ms)
2025-04-15T08:41:16.3905772Z     Invalid requests
2025-04-15T08:41:16.3906021Z       âœ“ should fail validation for invalid URL (not ending with .json) (1 ms)
2025-04-15T08:41:16.3906334Z       âœ“ should fail validation for invalid URL (missing protocol) (1 ms)
2025-04-15T08:41:16.3906673Z       âœ“ should fail validation for invalid URL (not a URL) (1 ms)
2025-04-15T08:41:16.3906916Z       âœ“ should fail validation for missing URL
2025-04-15T08:41:16.3907145Z       âœ“ should fail validation for null URL (1 ms)
2025-04-15T08:41:16.3907446Z       âœ“ should fail validation for invalid URL (ends with .json but not a valid URL)
2025-04-15T08:41:16.3907764Z       âœ“ should fail validation for valid URL with query parameters
2025-04-15T08:41:16.3908038Z       âœ“ should fail validation for valid URL with fragments
2025-04-15T08:41:16.3908276Z 
2025-04-15T08:41:16.3908429Z PASS src/dto/folders/__tests__/update-folder.request.dto.test.ts
2025-04-15T08:41:16.3908642Z   UpdateFolderDto
2025-04-15T08:41:16.3908771Z     Valid requests
2025-04-15T08:41:16.3908941Z       âœ“ should validate name (5 ms)
2025-04-15T08:41:16.3909137Z       âœ“ should validate tagIds (1 ms)
2025-04-15T08:41:16.3909332Z       âœ“ should validate empty tagIds
2025-04-15T08:41:16.3909541Z       âœ“ should validate string parentFolderId
2025-04-15T08:41:16.3909710Z     Invalid requests
2025-04-15T08:41:16.3909904Z       âœ“ should fail validation for empty name (1 ms)
2025-04-15T08:41:16.3910136Z       âœ“ should fail validation for non string tagIds
2025-04-15T08:41:16.3910378Z       âœ“ should fail validation for non array tagIds (1 ms)
2025-04-15T08:41:16.3910639Z       âœ“ should fail validation for non string parentFolderId
2025-04-15T08:41:16.3910804Z 
2025-04-15T08:41:16.3911087Z PASS src/dto/credentials/__tests__/credentials-get-one-request.dto.test.ts
2025-04-15T08:41:16.3911516Z   CredentialsGetManyRequestQuery
2025-04-15T08:41:16.3911717Z     should pass validation
2025-04-15T08:41:16.3911899Z       âœ“ with empty object (4 ms)
2025-04-15T08:41:16.3912094Z       âœ“ with includeData set to true
2025-04-15T08:41:16.3912290Z       âœ“ with includeData set to false
2025-04-15T08:41:16.3912479Z       âœ“ with both parameters set
2025-04-15T08:41:16.3912634Z     should fail validation
2025-04-15T08:41:16.3912825Z       âœ“ with invalid value true for includeData
2025-04-15T08:41:16.3913062Z       âœ“ with invalid value false for includeData (1 ms)
2025-04-15T08:41:16.3913296Z       âœ“ with invalid value invalid for includeData
2025-04-15T08:41:16.3913411Z 
2025-04-15T08:41:16.3913553Z PASS src/dto/workflows/__tests__/manual-run-query.dto.test.ts
2025-04-15T08:41:16.3913759Z   ManualRunQueryDto
2025-04-15T08:41:16.3913892Z     Valid requests
2025-04-15T08:41:16.3914069Z       âœ“ should validate version number 1 (4 ms)
2025-04-15T08:41:16.3914298Z       âœ“ should validate version number 2 (1 ms)
2025-04-15T08:41:16.3914521Z       âœ“ should validate missing version
2025-04-15T08:41:16.3914704Z     Invalid requests
2025-04-15T08:41:16.3914954Z       âœ“ should fail validation for invalid version 0 (1 ms)
2025-04-15T08:41:16.3915221Z       âœ“ should fail validation for invalid type (boolean) (1 ms)
2025-04-15T08:41:16.3915482Z       âœ“ should fail validation for invalid type (number)
2025-04-15T08:41:16.3915606Z 
2025-04-15T08:41:16.3915741Z PASS src/dto/tag/__tests__/retrieve-tag-query.dto.test.ts
2025-04-15T08:41:16.3915937Z   RetrieveTagQueryDto
2025-04-15T08:41:16.3916072Z     Valid requests
2025-04-15T08:41:16.3916304Z       âœ“ should pass validation for withUsageCount with "true" (5 ms)
2025-04-15T08:41:16.3916637Z       âœ“ should pass validation for withUsageCount with "false" (1 ms)
2025-04-15T08:41:16.3916843Z     Invalid requests
2025-04-15T08:41:16.3917069Z       âœ“ should fail validation for withUsageCount with number (1 ms)
2025-04-15T08:41:16.3917383Z       âœ“ should fail validation for withUsageCount with boolean (true)  (1 ms)
2025-04-15T08:41:16.3917920Z       âœ“ should fail validation for withUsageCount with boolean (false)
2025-04-15T08:41:16.3918427Z       âœ“ should fail validation for withUsageCount with invalid string (1 ms)
2025-04-15T08:41:16.3918701Z 
2025-04-15T08:41:16.3918941Z PASS src/dto/folders/__tests__/create-folder-request.dto.test.ts
2025-04-15T08:41:16.3919279Z   CreateFolderDto
2025-04-15T08:41:16.3919474Z     Valid requests
2025-04-15T08:41:16.3919774Z       âœ“ should validate name without parentId (4 ms)
2025-04-15T08:41:16.3920163Z       âœ“ should validate name and parentFolderId (1 ms)
2025-04-15T08:41:16.3920442Z     Invalid requests
2025-04-15T08:41:16.3920749Z       âœ“ should fail validation for missing name (1 ms)
2025-04-15T08:41:16.3921109Z       âœ“ should fail validation for empty name
2025-04-15T08:41:16.3921529Z       âœ“ should fail validation for parentFolderId and no name (1 ms)
2025-04-15T08:41:16.3921968Z       âœ“ should fail validation for invalid parentFolderId
2025-04-15T08:41:16.3922337Z 
2025-04-15T08:41:16.3922569Z PASS src/dto/user/__tests__/password-update-request.dto.test.ts
2025-04-15T08:41:16.3922914Z   PasswordUpdateRequestDto
2025-04-15T08:41:16.3923295Z     âœ“ should fail validation with missing currentPassword (4 ms)
2025-04-15T08:41:16.3923601Z     âœ“ should fail validation with missing newPassword
2025-04-15T08:41:16.3923841Z     âœ“ should pass validation with missing mfaCode
2025-04-15T08:41:16.3924080Z     âœ“ should pass validation with valid data (1 ms)
2025-04-15T08:41:16.3924207Z 
2025-04-15T08:41:16.3924359Z PASS src/dto/api-keys/__tests__/create-api-key-request.dto.test.ts
2025-04-15T08:41:16.3924579Z   CreateApiKeyRequestDto
2025-04-15T08:41:16.3924728Z     Valid requests
2025-04-15T08:41:16.3924959Z       âœ“ should succeed validation for expiresAt in the future (8 ms)
2025-04-15T08:41:16.3925234Z       âœ“ should succeed validation for expiresAt null (1 ms)
2025-04-15T08:41:16.3925421Z     Invalid requests
2025-04-15T08:41:16.3925637Z       âœ“ should fail validation for expiresAt in the past (1 ms)
2025-04-15T08:41:16.3925905Z       âœ“ should fail validation for expiresAt with string
2025-04-15T08:41:16.3926286Z       âœ“ should fail validation for expiresAt with [] (1 ms)
2025-04-15T08:41:16.3926702Z       âœ“ should fail validation for expiresAt with {}
2025-04-15T08:41:16.3926895Z 
2025-04-15T08:41:16.3927183Z PASS src/dto/password-reset/__tests__/forgot-password-request.dto.test.ts
2025-04-15T08:41:16.3927570Z   ForgotPasswordRequestDto
2025-04-15T08:41:16.3927796Z     Valid requests
2025-04-15T08:41:16.3928072Z       âœ“ should validate valid email (4 ms)
2025-04-15T08:41:16.3928426Z       âœ“ should validate email with subdomain (1 ms)
2025-04-15T08:41:16.3928695Z     Invalid requests
2025-04-15T08:41:16.3929036Z       âœ“ should fail validation for invalid email format (1 ms)
2025-04-15T08:41:16.3929361Z       âœ“ should fail validation for missing email
2025-04-15T08:41:16.3929583Z       âœ“ should fail validation for empty email
2025-04-15T08:41:16.3929709Z 
2025-04-15T08:41:16.3929887Z PASS src/dto/credentials/__tests__/generate-credential-name.dto.test.ts
2025-04-15T08:41:16.3930148Z   GenerateCredentialNameRequestQuery
2025-04-15T08:41:16.3930340Z     should pass validation
2025-04-15T08:41:16.3930521Z       âœ“ with empty object (3 ms)
2025-04-15T08:41:16.3930686Z       âœ“ with valid name
2025-04-15T08:41:16.3930826Z     should fail validation
2025-04-15T08:41:16.3931020Z       âœ“ with invalid value 123 for name (1 ms)
2025-04-15T08:41:16.3931231Z       âœ“ with invalid value true for name
2025-04-15T08:41:16.3931438Z       âœ“ with invalid value {} for name (1 ms)
2025-04-15T08:41:16.3931643Z       âœ“ with invalid value [] for name
2025-04-15T08:41:16.3931746Z 
2025-04-15T08:41:16.3931886Z PASS src/dto/user/__tests__/role-change-request.dto.test.ts
2025-04-15T08:41:16.3932088Z   RoleChangeRequestDto
2025-04-15T08:41:16.3932309Z     âœ“ should fail validation with missing newRoleName (4 ms)
2025-04-15T08:41:16.3932573Z     âœ“ should fail validation with invalid newRoleName (1 ms)
2025-04-15T08:41:16.3932958Z     âœ“ should pass validation with valid data
2025-04-15T08:41:16.3933073Z 
2025-04-15T08:41:16.3933222Z PASS src/dto/api-keys/__tests__/update-api-key-request.dto.test.ts
2025-04-15T08:41:16.3933440Z   UpdateApiKeyRequestDto
2025-04-15T08:41:16.3933583Z     Valid requests
2025-04-15T08:41:16.3933798Z       âœ“ should allow valid label (4 ms)
2025-04-15T08:41:16.3934040Z     Invalid requests
2025-04-15T08:41:16.3934343Z       âœ“ should fail validation for empty label (1 ms)
2025-04-15T08:41:16.3934793Z       âœ“ should fail validation for label exceeding 50 characters (1 ms)
2025-04-15T08:41:16.3935204Z       âœ“ should fail validation for label with xss injection
2025-04-15T08:41:16.3935361Z 
2025-04-15T08:41:16.3935541Z PASS src/dto/password-reset/__tests__/resolve-password-token-query.dto.test.ts
2025-04-15T08:41:16.3935937Z   ResolvePasswordTokenQueryDto
2025-04-15T08:41:16.3936092Z     Valid requests
2025-04-15T08:41:16.3936315Z       âœ“ should validate valid token (4 ms)
2025-04-15T08:41:16.3936841Z       âœ“ should validate long token
2025-04-15T08:41:16.3937078Z     Invalid requests
2025-04-15T08:41:16.3937391Z       âœ“ should fail validation for missing token (2 ms)
2025-04-15T08:41:16.3937752Z       âœ“ should fail validation for empty token
2025-04-15T08:41:16.3937937Z 
2025-04-15T08:41:16.3938184Z PASS src/dto/ai/__tests__/ai-apply-suggestion-request.dto.test.ts
2025-04-15T08:41:16.3938541Z   AiApplySuggestionRequestDto
2025-04-15T08:41:16.3938938Z     âœ“ should validate a valid suggestion application request (4 ms)
2025-04-15T08:41:16.3939345Z     âœ“ should fail if sessionId is missing (1 ms)
2025-04-15T08:41:16.3939685Z     âœ“ should fail if suggestionId is missing
2025-04-15T08:41:16.3939862Z 
2025-04-15T08:41:16.3940135Z PASS src/dto/source-control/__tests__/pull-work-folder-request.dto.test.ts
2025-04-15T08:41:16.3940498Z   PullWorkFolderRequestDto
2025-04-15T08:41:16.3940720Z     Valid requests
2025-04-15T08:41:16.3940992Z       âœ“ should validate with force (3 ms)
2025-04-15T08:41:16.3941325Z       âœ“ should validate without force
2025-04-15T08:41:16.3941556Z     Invalid requests
2025-04-15T08:41:16.3941869Z       âœ“ should fail validation for invalid force type (1 ms)
2025-04-15T08:41:16.3942113Z 
2025-04-15T08:41:16.3942360Z PASS src/dto/tag/__tests__/create-or-update-tag-request.dto.test.ts
2025-04-15T08:41:16.3942702Z   CreateOrUpdateTagRequestDto
2025-04-15T08:41:16.3942931Z     Valid requests
2025-04-15T08:41:16.3943195Z       âœ“ should validate valid name (4 ms)
2025-04-15T08:41:16.3943433Z     Invalid requests
2025-04-15T08:41:16.3943740Z       âœ“ should fail validation for empty tag name (1 ms)
2025-04-15T08:41:16.3943933Z 
2025-04-15T08:41:16.3944130Z PASS src/schemas/__tests__/nodeVersion.schema.test.ts
2025-04-15T08:41:16.3944423Z   nodeVersionSchema
2025-04-15T08:41:16.3944620Z     valid versions
2025-04-15T08:41:16.3944948Z       âœ“ should accept 1 as a valid version (single digit) (3 ms)
2025-04-15T08:41:16.3945362Z       âœ“ should accept 2 as a valid version (single digit)
2025-04-15T08:41:16.3945809Z       âœ“ should accept 1 as a valid version (major.minor with zero minor)
2025-04-15T08:41:16.3946245Z       âœ“ should accept 1.2 as a valid version (major.minor)
2025-04-15T08:41:16.3946771Z       âœ“ should accept 10.5 as a valid version (major.minor with double digits) (1 ms)
2025-04-15T08:41:16.3947115Z     invalid versions
2025-04-15T08:41:16.3947519Z       âœ“ should reject not-a-number as an invalid version (non-number input) (3 ms)
2025-04-15T08:41:16.3948023Z       âœ“ should reject 1.2.3 as an invalid version (more than two parts) (1 ms)
2025-04-15T08:41:16.3948525Z       âœ“ should reject 1.a as an invalid version (non-numeric characters) (1 ms)
2025-04-15T08:41:16.3949061Z       âœ“ should reject 1.2.3 as an invalid version (more than two parts as string) (1 ms)
2025-04-15T08:41:16.3949322Z 
2025-04-15T08:41:16.3949582Z PASS src/dto/license/__tests__/community-registered-request.dto.test.ts
2025-04-15T08:41:16.3949965Z   CommunityRegisteredRequestDto
2025-04-15T08:41:16.3950481Z     âœ“ should fail validation for missing email (3 ms)
2025-04-15T08:41:16.3950843Z     âœ“ should fail validation for an invalid email
2025-04-15T08:41:16.3951029Z 
2025-04-15T08:41:16.3951215Z PASS src/dto/ai/__tests__/ai-chat-request.dto.test.ts
2025-04-15T08:41:16.3951497Z   AiChatRequestDto
2025-04-15T08:41:16.3951834Z     âœ“ should validate a request with a payload and session ID (4 ms)
2025-04-15T08:41:16.3952243Z     âœ“ should validate a request with only a payload
2025-04-15T08:41:16.3952595Z     âœ“ should fail if payload is missing (1 ms)
2025-04-15T08:41:16.3952775Z 
2025-04-15T08:41:16.3952977Z PASS src/dto/ai/__tests__/ai-free-credits-request.dto.test.ts
2025-04-15T08:41:16.3953286Z   AiChatRequestDto
2025-04-15T08:41:16.3953602Z     âœ“ should succeed if projectId is a valid nanoid (4 ms)
2025-04-15T08:41:16.3953954Z     âœ“ should succeed if no projectId is sent
2025-04-15T08:41:16.3954337Z     âœ“ should fail is projectId invalid value
2025-04-15T08:41:16.3954507Z 
2025-04-15T08:41:16.3954785Z Test Suites: 48 passed, 48 total
2025-04-15T08:41:16.3955055Z Tests:       353 passed, 353 total
2025-04-15T08:41:16.3955295Z Snapshots:   0 total
2025-04-15T08:41:16.3955503Z Time:        7.965 s
2025-04-15T08:41:16.3955703Z Ran all test suites.
2025-04-15T08:41:16.3956212Z ##[endgroup]
2025-04-15T08:41:16.4121405Z 
2025-04-15T08:41:16.4121967Z  Tasks:    10 successful, 10 total
2025-04-15T08:41:16.4122324Z Cached:    0 cached, 10 total
2025-04-15T08:41:16.4122554Z   Time:    3m53.283s 
2025-04-15T08:41:16.4122687Z 
