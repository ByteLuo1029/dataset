2025-04-15T08:16:19.4975080Z ##[group]Run pnpm test:backend
2025-04-15T08:16:19.4975513Z [36;1mpnpm test:backend[0m
2025-04-15T08:16:19.5031821Z shell: /usr/bin/bash -e {0}
2025-04-15T08:16:19.5031977Z env:
2025-04-15T08:16:19.5032097Z   TURBO_FORCE: true
2025-04-15T08:16:19.5032229Z   COVERAGE_ENABLED: true
2025-04-15T08:16:19.5032503Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:19.5032832Z   TURBOGHA_PORT: 41230
2025-04-15T08:16:19.5033014Z   TURBO_API: http://localhost:41230
2025-04-15T08:16:19.5033178Z   TURBO_TOKEN: turbogha
2025-04-15T08:16:19.5033310Z   TURBO_TEAM: turbogha
2025-04-15T08:16:19.5033435Z ##[endgroup]
2025-04-15T08:16:19.8413600Z 
2025-04-15T08:16:19.8414262Z > n8n-monorepo@1.89.0 test:backend /home/runner/_work/n8n/n8n
2025-04-15T08:16:19.8414565Z > turbo run test:backend --concurrency=1
2025-04-15T08:16:19.8414679Z 
2025-04-15T08:16:19.8943756Z 
2025-04-15T08:16:19.8944422Z Attention:
2025-04-15T08:16:19.8944730Z Turborepo now collects completely anonymous telemetry regarding usage.
2025-04-15T08:16:19.8945138Z This information is used to shape the Turborepo roadmap and prioritize features.
2025-04-15T08:16:19.8946179Z You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-04-15T08:16:19.8946539Z https://turbo.build/repo/docs/telemetry
2025-04-15T08:16:19.8946658Z 
2025-04-15T08:16:20.0668812Z â€¢ Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
2025-04-15T08:16:20.0670432Z â€¢ Running test:backend in 28 packages
2025-04-15T08:16:20.0670627Z â€¢ Remote caching enabled
2025-04-15T08:16:25.3395489Z ##[group]@n8n/task-runner:test
2025-04-15T08:16:25.3396020Z cache bypass, force executing a298d5de6ac02d43
2025-04-15T08:16:25.3396147Z 
2025-04-15T08:16:25.3396464Z > @n8n/task-runner@1.26.0 test /home/runner/_work/n8n/n8n/packages/@n8n/task-runner
2025-04-15T08:16:25.3396774Z > jest
2025-04-15T08:16:25.3396847Z 
2025-04-15T08:16:25.3397112Z PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser-state.test.ts
2025-04-15T08:16:25.3397378Z   BuiltInsParserState
2025-04-15T08:16:25.3397540Z     toDataRequestParams
2025-04-15T08:16:25.3398068Z       âœ“ should return empty array when no properties are marked as needed (5 ms)
2025-04-15T08:16:25.3398452Z       âœ“ should return all nodes and input when markNeedsAllNodes is called (1 ms)
2025-04-15T08:16:25.3398799Z       âœ“ should return specific node names when nodes are marked as needed individually
2025-04-15T08:16:25.3399142Z       âœ“ should ignore individual nodes when needsAllNodes is marked as true
2025-04-15T08:16:25.3399454Z       âœ“ should mark env as needed when markEnvAsNeeded is called (1 ms)
2025-04-15T08:16:25.3399771Z       âœ“ should mark input as needed when markInputAsNeeded is called
2025-04-15T08:16:25.3400015Z       âœ“ should use the given chunk
2025-04-15T08:16:25.3400276Z       âœ“ should mark prevNode as needed when markPrevNodeAsNeeded is called
2025-04-15T08:16:25.3400642Z       âœ“ should return correct specification when multiple properties are marked as needed
2025-04-15T08:16:25.3401295Z       âœ“ should return correct specification when all properties are marked as needed (1 ms)
2025-04-15T08:16:25.3401504Z 
2025-04-15T08:16:25.3401631Z PASS src/__tests__/task-runner-sentry.test.ts
2025-04-15T08:16:25.3401935Z   TaskRunnerSentry
2025-04-15T08:16:25.3402136Z     filterOutUserCodeErrors
2025-04-15T08:16:25.3402430Z       âœ“ should filter out user code errors (4 ms)
2025-04-15T08:16:25.3402651Z     initIfEnabled
2025-04-15T08:16:25.3403075Z       âœ“ should not configure sentry if dsn is not set (1 ms)
2025-04-15T08:16:25.3403432Z       âœ“ should configure sentry if dsn is set (1 ms)
2025-04-15T08:16:25.3404479Z     shutdown
2025-04-15T08:16:25.3404754Z       âœ“ should not shutdown sentry if dsn is not set (1 ms)
2025-04-15T08:16:25.3405066Z       âœ“ should shutdown sentry if dsn is set
2025-04-15T08:16:25.3405212Z 
2025-04-15T08:16:25.3405465Z PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser.test.ts
2025-04-15T08:16:25.3405769Z   BuiltInsParser
2025-04-15T08:16:25.3405982Z     Env, input, execution and prevNode
2025-04-15T08:16:25.3406273Z       âœ“ should identify built-ins in '$env' (11 ms)
2025-04-15T08:16:25.3406595Z       âœ“ should identify built-ins in '$execution' (1 ms)
2025-04-15T08:16:25.3406915Z       âœ“ should identify built-ins in '$prevNode' (1 ms)
2025-04-15T08:16:25.3407158Z     Input
2025-04-15T08:16:25.3407595Z       âœ“ should mark input as needed when $input is used (4 ms)
2025-04-15T08:16:25.3408054Z       âœ“ should mark input as needed when $json is used
2025-04-15T08:16:25.3410489Z       âœ“ should mark input as needed when items is used (1 ms)
2025-04-15T08:16:25.3411152Z       âœ“ should mark input as needed when item is used
2025-04-15T08:16:25.3411325Z     $(...)
2025-04-15T08:16:25.3411534Z       âœ“ should identify nodes in '$("nodeName").first()' (1 ms)
2025-04-15T08:16:25.3411865Z       âœ“ should identify nodes in '$("nodeName").all(); $("secondNode").matchingItem()' (1 ms)
2025-04-15T08:16:25.3412179Z       âœ“ should need all nodes when $() is called with a variable
2025-04-15T08:16:25.3412625Z       âœ“ should require all nodes when there are multiple usages of $() and one is with a variable (1 ms)
2025-04-15T08:16:25.3413078Z       âœ“ should ignore when $ is called without parameters
2025-04-15T08:16:25.3413451Z       âœ“ should ignore when $ is called number literal
2025-04-15T08:16:25.3413694Z       âœ“ should require all nodes if $("node").item is used
2025-04-15T08:16:25.3413997Z       âœ“ should require all nodes if $("node")["item"] is used (1 ms)
2025-04-15T08:16:25.3414437Z       âœ“ should require all nodes if $("node").pairedItem() is used
2025-04-15T08:16:25.3414926Z       âœ“ should require all nodes if $("node")["pairedItem"]() is used (1 ms)
2025-04-15T08:16:25.3415277Z       âœ“ should require all nodes if $("node").itemMatching(0) is used
2025-04-15T08:16:25.3415593Z       âœ“ should require all nodes if $("node")["itemMatching"](0) is used
2025-04-15T08:16:25.3415886Z       âœ“ should require all nodes if $("node")[variable] is used (1 ms)
2025-04-15T08:16:25.3416179Z       âœ“ should require all nodes if var a = $("node") is used
2025-04-15T08:16:25.3416431Z       âœ“ should require all nodes if let a = $("node") is used
2025-04-15T08:16:25.3416790Z       âœ“ should require all nodes if const a = $("node") is used
2025-04-15T08:16:25.3417127Z       âœ“ should require all nodes if a = $("node") is used
2025-04-15T08:16:25.3417482Z       âœ“ should require only accessed node if $("node").first() is used (2 ms)
2025-04-15T08:16:25.3417777Z       âœ“ should require only accessed node if $("node").last() is used
2025-04-15T08:16:25.3418091Z       âœ“ should require only accessed node if $("node").all() is used
2025-04-15T08:16:25.3418426Z       âœ“ should require only accessed node if $("node").params is used (1 ms)
2025-04-15T08:16:25.3418627Z     $items(...)
2025-04-15T08:16:25.3418855Z       âœ“ should mark input as needed when $items() is used without arguments
2025-04-15T08:16:25.3419167Z       âœ“ should require the given node when $items() is used with a static value
2025-04-15T08:16:25.3419480Z       âœ“ should require all nodes when $items() is used with a variable (1 ms)
2025-04-15T08:16:25.3419677Z     $node
2025-04-15T08:16:25.3419918Z       âœ“ should require all nodes when $node is used
2025-04-15T08:16:25.3420108Z     $item
2025-04-15T08:16:25.3420299Z       âœ“ should require all nodes and input when $item is used
2025-04-15T08:16:25.3420486Z     ECMAScript syntax
2025-04-15T08:16:25.3420617Z       ES2020
2025-04-15T08:16:25.3420774Z         âœ“ should parse optional chaining
2025-04-15T08:16:25.3420967Z         âœ“ should parse nullish coalescing
2025-04-15T08:16:25.3421590Z       ES2021
2025-04-15T08:16:25.3421759Z         âœ“ should parse numeric separators
2025-04-15T08:16:25.3421949Z     WorkflowDataProxy built-ins
2025-04-15T08:16:25.3422174Z       âœ“ should have a known list of built-ins (56 ms)
2025-04-15T08:16:25.3422311Z 
2025-04-15T08:16:25.3422456Z PASS src/js-task-runner/__tests__/task-runner.test.ts
2025-04-15T08:16:25.3422664Z   TestRunner
2025-04-15T08:16:25.3422780Z     constructor
2025-04-15T08:16:25.3423030Z       âœ“ should correctly construct WebSocket URI with provided taskBrokerUri (4 ms)
2025-04-15T08:16:25.3423365Z       âœ“ should handle different taskBrokerUri formats correctly
2025-04-15T08:16:25.3423636Z       âœ“ should throw an error if taskBrokerUri is invalid (8 ms)
2025-04-15T08:16:25.3423817Z     sendOffers
2025-04-15T08:16:25.3424013Z       âœ“ should not send offers if canSendOffers is false (2 ms)
2025-04-15T08:16:25.3424298Z       âœ“ should enable sending of offer on runnerregistered message (1 ms)
2025-04-15T08:16:25.3424747Z       âœ“ should send maxConcurrency offers when there are no offers (1 ms)
2025-04-15T08:16:25.3425065Z       âœ“ should send up to maxConcurrency offers when there is a running task (1 ms)
2025-04-15T08:16:25.3425350Z       âœ“ should delete stale offers and send new ones (2 ms)
2025-04-15T08:16:25.3425523Z     taskCancelled
2025-04-15T08:16:25.3425753Z       âœ“ should not do anything if task status is aborting:cancelled (1 ms)
2025-04-15T08:16:25.3426056Z       âœ“ should not do anything if task status is aborting:timeout (1 ms)
2025-04-15T08:16:25.3426393Z       âœ“ should delete task if task is waiting for settings when task is cancelled (1 ms)
2025-04-15T08:16:25.3426712Z       âœ“ should reject pending requests when task is cancelled (2 ms)
2025-04-15T08:16:25.3426914Z     taskTimedOut
2025-04-15T08:16:25.3427117Z       âœ“ should error task if task is waiting for settings (1 ms)
2025-04-15T08:16:25.3427389Z       âœ“ should reject pending requests when task is running (10 ms)
2025-04-15T08:16:25.3427525Z 
2025-04-15T08:16:25.3427686Z PASS src/js-task-runner/__tests__/result-validation.test.ts
2025-04-15T08:16:25.3427889Z   result validation
2025-04-15T08:16:25.3428048Z     validateRunForAllItemsOutput
2025-04-15T08:16:25.3428294Z       âœ“ should throw an error if the output is not an object (11 ms)
2025-04-15T08:16:25.3428643Z       âœ“ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
2025-04-15T08:16:25.3429010Z       âœ“ should not throw an error if the output is an array and all items are json wrapped
2025-04-15T08:16:25.3429372Z       âœ“ should not throw an error if the output item has binary key in addition to json (1 ms)
2025-04-15T08:16:25.3429726Z       âœ“ should not throw an error if the output item has pairedItem key in addition to json
2025-04-15T08:16:25.3430079Z       âœ“ should not throw an error if the output item has error key in addition to json (1 ms)
2025-04-15T08:16:25.3430419Z       âœ“ should not throw an error if the output item has index key in addition to json
2025-04-15T08:16:25.3430773Z       âœ“ should not throw an error if the output is an array and all items are not json wrapped
2025-04-15T08:16:25.3431055Z       âœ“ should throw if json is not an object (4 ms)
2025-04-15T08:16:25.3431280Z     validateRunForEachItemOutput
2025-04-15T08:16:25.3431503Z       âœ“ should throw an error if the output is not an object
2025-04-15T08:16:25.3431766Z       âœ“ should throw an error if the output is an array (1 ms)
2025-04-15T08:16:25.3432000Z       âœ“ should throw if json is not an object
2025-04-15T08:16:25.3432317Z       âœ“ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
2025-04-15T08:16:25.3432671Z       âœ“ should not throw an error if the output item has binary key in addition to json
2025-04-15T08:16:25.3433019Z       âœ“ should not throw an error if the output item has pairedItem key in addition to json
2025-04-15T08:16:25.3433360Z       âœ“ should not throw an error if the output item has error key in addition to json
2025-04-15T08:16:25.3433686Z 
2025-04-15T08:16:25.3433863Z PASS src/data-request/__tests__/data-request-response-reconstruct.test.ts
2025-04-15T08:16:25.3434104Z   DataRequestResponseReconstruct
2025-04-15T08:16:25.3434273Z     reconstructConnectionInputItems
2025-04-15T08:16:25.3434532Z       âœ“ should return all input items if no chunk is provided (4 ms)
2025-04-15T08:16:25.3434808Z       âœ“ should reconstruct sparse array when chunk is provided
2025-04-15T08:16:25.3435057Z       âœ“ should handle empty input data gracefully (1 ms)
2025-04-15T08:16:25.3435238Z     reconstructExecuteData
2025-04-15T08:16:25.3435490Z       âœ“ should reconstruct execute data with the provided input items (1 ms)
2025-04-15T08:16:25.3435754Z       âœ“ should handle empty input items gracefully
2025-04-15T08:16:25.3435874Z 
2025-04-15T08:16:25.3435959Z PASS src/__tests__/node-types.test.ts
2025-04-15T08:16:25.3436132Z   TaskRunnerNodeTypes
2025-04-15T08:16:25.3436275Z     getByNameAndVersion
2025-04-15T08:16:25.3436524Z       âœ“ should return undefined if not found (5 ms)
2025-04-15T08:16:25.3437304Z       âœ“ should return highest versioned node type if no version is given (1 ms)
2025-04-15T08:16:25.3438117Z       âœ“ should return specified version for split version (1 ms)
2025-04-15T08:16:25.3438488Z       âœ“ should return undefined on unknown version
2025-04-15T08:16:25.3438730Z       âœ“ should return specified version for multi version (1 ms)
2025-04-15T08:16:25.3439194Z       âœ“ should default to DEFAULT_NODETYPE_VERSION if no version specified
2025-04-15T08:16:25.3439542Z     addNodeTypeDescriptions
2025-04-15T08:16:25.3439870Z       âœ“ should add new node types (2 ms)
2025-04-15T08:16:25.3440097Z     onlyUnknown
2025-04-15T08:16:25.3440356Z       âœ“ should return only unknown node types
2025-04-15T08:16:25.3440461Z 
2025-04-15T08:16:25.3440623Z PASS src/js-task-runner/errors/__tests__/execution-error.test.ts
2025-04-15T08:16:25.3440961Z   ExecutionError
2025-04-15T08:16:25.3441307Z     âœ“ should parse error details from stack trace without itemIndex (6 ms)
2025-04-15T08:16:25.3441645Z     âœ“ should parse error details from stack trace with itemIndex (1 ms)
2025-04-15T08:16:25.3441902Z     âœ“ should serialize correctly (1 ms)
2025-04-15T08:16:25.3442009Z 
2025-04-15T08:16:25.3442267Z PASS src/js-task-runner/__tests__/require-resolver.test.ts
2025-04-15T08:16:25.3442619Z   require resolver
2025-04-15T08:16:25.3442844Z     built-in modules
2025-04-15T08:16:25.3443220Z       âœ“ should allow requiring whitelisted built-in modules (4 ms)
2025-04-15T08:16:25.3443766Z       âœ“ should throw when requiring non-whitelisted built-in modules (9 ms)
2025-04-15T08:16:25.3444084Z       âœ“ should allow all built-in modules when allowedBuiltInModules is "*"
2025-04-15T08:16:25.3444282Z     external modules
2025-04-15T08:16:25.3444502Z       âœ“ should allow requiring whitelisted external modules (1 ms)
2025-04-15T08:16:25.3444797Z       âœ“ should throw when requiring non-whitelisted external modules (1 ms)
2025-04-15T08:16:25.3445121Z       âœ“ should allow all external modules when allowedExternalModules is "*" (70 ms)
2025-04-15T08:16:25.3445359Z     error handling
2025-04-15T08:16:25.3445586Z       âœ“ should wrap ApplicationError in ExecutionError (1 ms)
2025-04-15T08:16:25.3445861Z       âœ“ should include the module name in the error message (1 ms)
2025-04-15T08:16:25.3446005Z 
2025-04-15T08:16:25.3446205Z (node:2970) [DEP0125] DeprecationWarning: The _stream_wrap module is deprecated.
2025-04-15T08:16:25.3446551Z (Use `node --trace-deprecation ...` to show where the warning was created)
2025-04-15T08:16:25.3446995Z (node:2970) [DEP0025] DeprecationWarning: sys is deprecated. Use util instead.
2025-04-15T08:16:25.3447454Z (node:2970) ExperimentalWarning: WASI is an experimental feature and might change at any time
2025-04-15T08:16:25.3447762Z PASS src/js-task-runner/__tests__/js-task-runner.test.ts
2025-04-15T08:16:25.3448031Z   JsTaskRunner
2025-04-15T08:16:25.3448456Z     console
2025-04-15T08:16:25.3448711Z       âœ“ should make an rpc call for console log in runOnceForAllItems mode (29 ms)
2025-04-15T08:16:25.3449331Z       âœ“ should make an rpc call for console log in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3449831Z       âœ“ should not throw when using unsupported console methods (5 ms)
2025-04-15T08:16:25.3450253Z       âœ“ should not throw when trying to log the context object (2 ms)
2025-04-15T08:16:25.3450679Z       âœ“ should log the context object as [[ExecutionContext]] (1 ms)
2025-04-15T08:16:25.3451350Z     built-in methods and variables available in the context
2025-04-15T08:16:25.3451703Z       âœ“ should allow access to Node.js Buffers (3 ms)
2025-04-15T08:16:25.3451913Z       current node input runOnceForAllItems
2025-04-15T08:16:25.3452273Z         âœ“ should have the $input.first() available in the context (2 ms)
2025-04-15T08:16:25.3452690Z         âœ“ should have the $input.last() available in the context (2 ms)
2025-04-15T08:16:25.3453058Z         âœ“ should have the $input.params available in the context (2 ms)
2025-04-15T08:16:25.3453411Z       current node input runOnceForEachItem
2025-04-15T08:16:25.3453879Z         âœ“ should have the $input.first() available in the context (2 ms)
2025-04-15T08:16:25.3454197Z         âœ“ should have the $input.last() available in the context (2 ms)
2025-04-15T08:16:25.3454715Z         âœ“ should have the $input.params available in the context (1 ms)
2025-04-15T08:16:25.3455063Z       output of other nodes runOnceForAllItems
2025-04-15T08:16:25.3455554Z         âœ“ should have the $("Trigger").first() available in the context (2 ms)
2025-04-15T08:16:25.3455880Z         âœ“ should have the $("Trigger").last() available in the context (8 ms)
2025-04-15T08:16:25.3456396Z         âœ“ should have the $("Trigger").params available in the context (2 ms)
2025-04-15T08:16:25.3456980Z       output of other nodes runOnceForEachItem
2025-04-15T08:16:25.3457574Z         âœ“ should have the $("Trigger").first() available in the context (1 ms)
2025-04-15T08:16:25.3458070Z         âœ“ should have the $("Trigger").last() available in the context (2 ms)
2025-04-15T08:16:25.3458462Z         âœ“ should have the $("Trigger").params available in the context (1 ms)
2025-04-15T08:16:25.3458686Z       date and time runOnceForAllItems
2025-04-15T08:16:25.3458931Z         âœ“ should have the $now available in the context (2 ms)
2025-04-15T08:16:25.3459189Z         âœ“ should have the $today available in the context (1 ms)
2025-04-15T08:16:25.3459469Z         âœ“ should have the {dt: DateTime} available in the context (1 ms)
2025-04-15T08:16:25.3459686Z       date and time runOnceForEachItem
2025-04-15T08:16:25.3459905Z         âœ“ should have the $now available in the context
2025-04-15T08:16:25.3460153Z         âœ“ should have the $today available in the context (1 ms)
2025-04-15T08:16:25.3460452Z         âœ“ should have the {dt: DateTime} available in the context (1 ms)
2025-04-15T08:16:25.3460658Z       JMESPath runOnceForAllItems
2025-04-15T08:16:25.3460956Z         âœ“ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (2 ms)
2025-04-15T08:16:25.3461395Z       JMESPath runOnceForEachItem
2025-04-15T08:16:25.3461841Z         âœ“ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (9 ms)
2025-04-15T08:16:25.3462103Z       n8n metadata runOnceForAllItems
2025-04-15T08:16:25.3462346Z         âœ“ should have the $execution available in the context (3 ms)
2025-04-15T08:16:25.3462643Z         âœ“ should have the $("Trigger").isExecuted available in the context (4 ms)
2025-04-15T08:16:25.3462931Z         âœ“ should have the $nodeVersion available in the context (2 ms)
2025-04-15T08:16:25.3463215Z         âœ“ should have the $prevNode.name available in the context (1 ms)
2025-04-15T08:16:25.3463522Z         âœ“ should have the $prevNode.outputIndex available in the context (3 ms)
2025-04-15T08:16:25.3463840Z         âœ“ should have the $runIndex available in the context (3 ms)
2025-04-15T08:16:25.3464146Z         âœ“ should have the { wf: $workflow } available in the context (2 ms)
2025-04-15T08:16:25.3464429Z         âœ“ should have the $vars available in the context (1 ms)
2025-04-15T08:16:25.3464924Z         âœ“ should have the $getWorkflowStaticData("global") available in the context (2 ms)
2025-04-15T08:16:25.3465179Z       n8n metadata runOnceForEachItem
2025-04-15T08:16:25.3465412Z         âœ“ should have the $execution available in the context (1 ms)
2025-04-15T08:16:25.3465699Z         âœ“ should have the $("Trigger").isExecuted available in the context (1 ms)
2025-04-15T08:16:25.3465992Z         âœ“ should have the $nodeVersion available in the context (1 ms)
2025-04-15T08:16:25.3466267Z         âœ“ should have the $prevNode.name available in the context (2 ms)
2025-04-15T08:16:25.3466560Z         âœ“ should have the $prevNode.outputIndex available in the context (1 ms)
2025-04-15T08:16:25.3466850Z         âœ“ should have the $runIndex available in the context (2 ms)
2025-04-15T08:16:25.3467129Z         âœ“ should have the { wf: $workflow } available in the context (2 ms)
2025-04-15T08:16:25.3467397Z         âœ“ should have the $vars available in the context (1 ms)
2025-04-15T08:16:25.3467837Z         âœ“ should have the $getWorkflowStaticData("global") available in the context (1 ms)
2025-04-15T08:16:25.3468103Z       Node.js internal functions runOnceForAllItems
2025-04-15T08:16:25.3468388Z         âœ“ should have the typeof Function available in the context (7 ms)
2025-04-15T08:16:25.3468691Z         âœ“ should have the typeof eval available in the context (3 ms)
2025-04-15T08:16:25.3468994Z         âœ“ should have the typeof setTimeout available in the context (2 ms)
2025-04-15T08:16:25.3469315Z         âœ“ should have the typeof setInterval available in the context (2 ms)
2025-04-15T08:16:25.3469623Z         âœ“ should have the typeof setImmediate available in the context (4 ms)
2025-04-15T08:16:25.3469928Z         âœ“ should have the typeof clearTimeout available in the context (3 ms)
2025-04-15T08:16:25.3470227Z         âœ“ should have the typeof clearInterval available in the context (2 ms)
2025-04-15T08:16:25.3470927Z         âœ“ should have the typeof clearImmediate available in the context (1 ms)
2025-04-15T08:16:25.3471519Z       Node.js internal functions runOnceForEachItem
2025-04-15T08:16:25.3471861Z         âœ“ should have the typeof Function available in the context (1 ms)
2025-04-15T08:16:25.3472162Z         âœ“ should have the typeof eval available in the context (1 ms)
2025-04-15T08:16:25.3472457Z         âœ“ should have the typeof setTimeout available in the context (1 ms)
2025-04-15T08:16:25.3472831Z         âœ“ should have the typeof setInterval available in the context (1 ms)
2025-04-15T08:16:25.3473141Z         âœ“ should have the typeof setImmediate available in the context (4 ms)
2025-04-15T08:16:25.3473437Z         âœ“ should have the typeof clearTimeout available in the context (1 ms)
2025-04-15T08:16:25.3473742Z         âœ“ should have the typeof clearInterval available in the context (1 ms)
2025-04-15T08:16:25.3474154Z         âœ“ should have the typeof clearImmediate available in the context (6 ms)
2025-04-15T08:16:25.3474512Z       eval runOnceForAllItems
2025-04-15T08:16:25.3474920Z         âœ“ should have the eval("1+2") available in the context (1 ms)
2025-04-15T08:16:25.3475188Z       eval runOnceForEachItem
2025-04-15T08:16:25.3475442Z         âœ“ should have the eval("1+2") available in the context (2 ms)
2025-04-15T08:16:25.3475795Z       JS built-ins runOnceForAllItems
2025-04-15T08:16:25.3476220Z         âœ“ should have the typeof btoa available in the context (2 ms)
2025-04-15T08:16:25.3476739Z         âœ“ should have the typeof atob available in the context (1 ms)
2025-04-15T08:16:25.3477224Z         âœ“ should have the typeof TextDecoder available in the context (1 ms)
2025-04-15T08:16:25.3477541Z         âœ“ should have the typeof TextDecoderStream available in the context (2 ms)
2025-04-15T08:16:25.3477845Z         âœ“ should have the typeof TextEncoder available in the context (1 ms)
2025-04-15T08:16:25.3478146Z         âœ“ should have the typeof TextEncoderStream available in the context (1 ms)
2025-04-15T08:16:25.3478448Z         âœ“ should have the typeof FormData available in the context (1 ms)
2025-04-15T08:16:25.3478892Z       JS built-ins runOnceForEachItem
2025-04-15T08:16:25.3479129Z         âœ“ should have the typeof btoa available in the context (1 ms)
2025-04-15T08:16:25.3479405Z         âœ“ should have the typeof atob available in the context (2 ms)
2025-04-15T08:16:25.3479689Z         âœ“ should have the typeof TextDecoder available in the context (2 ms)
2025-04-15T08:16:25.3479992Z         âœ“ should have the typeof TextDecoderStream available in the context (1 ms)
2025-04-15T08:16:25.3480301Z         âœ“ should have the typeof TextEncoder available in the context (1 ms)
2025-04-15T08:16:25.3480625Z         âœ“ should have the typeof TextEncoderStream available in the context (1 ms)
2025-04-15T08:16:25.3480956Z         âœ“ should have the typeof FormData available in the context (1 ms)
2025-04-15T08:16:25.3481226Z       $env
2025-04-15T08:16:25.3481499Z         âœ“ should have the env available in context when access has not been blocked (3 ms)
2025-04-15T08:16:25.3481821Z         âœ“ should be possible to access env if it has been blocked (26 ms)
2025-04-15T08:16:25.3482198Z         âœ“ should not be possible to iterate $env (3 ms)
2025-04-15T08:16:25.3482518Z         âœ“ should not expose task runner's env variables even if no env state is received (4 ms)
2025-04-15T08:16:25.3482751Z       timezone
2025-04-15T08:16:25.3482960Z         âœ“ should use the specified timezone in the workflow (2 ms)
2025-04-15T08:16:25.3483200Z         âœ“ should use the default timezone (4 ms)
2025-04-15T08:16:25.3483387Z       $getWorkflowStaticData('global')
2025-04-15T08:16:25.3483682Z         âœ“ should have the global workflow static data available in runOnceForAllItems (3 ms)
2025-04-15T08:16:25.3484044Z         âœ“ should have the global workflow static data available in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3484397Z         âœ“ does not return static data if it hasn't been modified in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3484922Z         âœ“ does not return static data if it hasn't been modified in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3485486Z         âœ“ returns the updated static data in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3485828Z         âœ“ returns the updated static data in runOnceForEachItem (5 ms)
2025-04-15T08:16:25.3486107Z       $getWorkflowStaticData('node')
2025-04-15T08:16:25.3486588Z         âœ“ should have the node workflow static data available in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3487140Z         âœ“ should have the node workflow static data available in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3487494Z         âœ“ does not return static data if it hasn't been modified in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3488395Z         âœ“ does not return static data if it hasn't been modified in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3488849Z         âœ“ returns the updated static data in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3489347Z         âœ“ returns the updated static data in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3489693Z       helpers
2025-04-15T08:16:25.3490067Z         âœ“ helpers.assertBinaryData for runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3490621Z         âœ“ helpers.assertBinaryData for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3490925Z         âœ“ helpers.getBinaryDataBuffer for runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3491371Z         âœ“ helpers.getBinaryDataBuffer for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3491898Z         âœ“ helpers.prepareBinaryData for runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3492309Z         âœ“ helpers.prepareBinaryData for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3492653Z         âœ“ helpers.setBinaryDataBuffer for runOnceForAllItems (3 ms)
2025-04-15T08:16:25.3493140Z         âœ“ helpers.setBinaryDataBuffer for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3493426Z         âœ“ helpers.binaryToString for runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3493710Z         âœ“ helpers.binaryToString for runOnceForEachItem (3 ms)
2025-04-15T08:16:25.3493980Z         âœ“ helpers.httpRequest for runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3494485Z         âœ“ helpers.httpRequest for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3494677Z         unsupported methods
2025-04-15T08:16:25.3495020Z           âœ“ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3495691Z           âœ“ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3496291Z           âœ“ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3496868Z           âœ“ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForEachItem (18 ms)
2025-04-15T08:16:25.3497369Z           âœ“ should throw an error if helpers.copyBinaryFile is used in runOnceForAllItems (4 ms)
2025-04-15T08:16:25.3497792Z           âœ“ should throw an error if helpers.copyBinaryFile is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3498345Z           âœ“ should throw an error if helpers.createReadStream is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3498859Z           âœ“ should throw an error if helpers.createReadStream is used in runOnceForEachItem (3 ms)
2025-04-15T08:16:25.3499235Z           âœ“ should throw an error if helpers.getBinaryStream is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3499614Z           âœ“ should throw an error if helpers.getBinaryStream is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3499996Z           âœ“ should throw an error if helpers.binaryToBuffer is used in runOnceForAllItems (6 ms)
2025-04-15T08:16:25.3500363Z           âœ“ should throw an error if helpers.binaryToBuffer is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3500748Z           âœ“ should throw an error if helpers.getBinaryMetadata is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3501319Z           âœ“ should throw an error if helpers.getBinaryMetadata is used in runOnceForEachItem (5 ms)
2025-04-15T08:16:25.3501705Z           âœ“ should throw an error if helpers.getStoragePath is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3502090Z           âœ“ should throw an error if helpers.getStoragePath is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3502463Z           âœ“ should throw an error if helpers.getBinaryPath is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3502828Z           âœ“ should throw an error if helpers.getBinaryPath is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3503272Z           âœ“ should throw an error if helpers.writeContentToFile is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3503671Z           âœ“ should throw an error if helpers.writeContentToFile is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3504048Z           âœ“ should throw an error if helpers.copyInputItems is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3504416Z           âœ“ should throw an error if helpers.copyInputItems is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3504787Z           âœ“ should throw an error if helpers.returnJsonArray is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3505174Z           âœ“ should throw an error if helpers.returnJsonArray is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3505590Z           âœ“ should throw an error if helpers.normalizeItems is used in runOnceForAllItems (6 ms)
2025-04-15T08:16:25.3505962Z           âœ“ should throw an error if helpers.normalizeItems is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3506340Z           âœ“ should throw an error if helpers.getSSHClient is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3506724Z           âœ“ should throw an error if helpers.getSSHClient is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3507129Z           âœ“ should throw an error if helpers.createDeferredPromise is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3507546Z           âœ“ should throw an error if helpers.createDeferredPromise is used in runOnceForEachItem (3 ms)
2025-04-15T08:16:25.3507968Z           âœ“ should throw an error if helpers.constructExecutionMetaData is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3508562Z           âœ“ should throw an error if helpers.constructExecutionMetaData is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3508817Z     runOnceForAllItems
2025-04-15T08:16:25.3509000Z       âœ“ should return static items (1 ms)
2025-04-15T08:16:25.3509213Z       âœ“ maps null into an empty array (1 ms)
2025-04-15T08:16:25.3509440Z       âœ“ should wrap items into json if they aren't (1 ms)
2025-04-15T08:16:25.3509686Z       âœ“ should wrap single item into an array and json (1 ms)
2025-04-15T08:16:25.3509950Z       âœ“ should have all input items in the context as items (6 ms)
2025-04-15T08:16:25.3510228Z       âœ“ should have all input items in the context as $input.all() (2 ms)
2025-04-15T08:16:25.3510536Z       âœ“ should have all input items in the context as $('Trigger').all() (1 ms)
2025-04-15T08:16:25.3511017Z       âœ“ should have all input items in the context as $items() (2 ms)
2025-04-15T08:16:25.3511481Z       continue on fail
2025-04-15T08:16:25.3511786Z         âœ“ should return an item with the error if continueOnFail is true (5 ms)
2025-04-15T08:16:25.3512230Z         âœ“ should throw an error if continueOnFail is false (2 ms)
2025-04-15T08:16:25.3512564Z       invalid output
2025-04-15T08:16:25.3512809Z         âœ“ should throw a ValidationError if the code output is undefined (3 ms)
2025-04-15T08:16:25.3513104Z         âœ“ should throw a ValidationError if the code output is 42 (2 ms)
2025-04-15T08:16:25.3513405Z         âœ“ should throw a ValidationError if the code output is "a string" (1 ms)
2025-04-15T08:16:25.3513762Z         âœ“ should throw a ValidationError if some items are wrapped in json and some are not (1 ms)
2025-04-15T08:16:25.3514185Z     runForEachItem
2025-04-15T08:16:25.3514362Z       âœ“ should return static items (2 ms)
2025-04-15T08:16:25.3514621Z       âœ“ should filter out null values (3 ms)
2025-04-15T08:16:25.3515014Z       âœ“ should have the current input item in the context as item (3 ms)
2025-04-15T08:16:25.3515390Z       âœ“ should have the current input item in the context as $input.item (2 ms)
2025-04-15T08:16:25.3515844Z       âœ“ should have the current input item in the context as { json: $json } (2 ms)
2025-04-15T08:16:25.3516070Z       continue on fail
2025-04-15T08:16:25.3516307Z         âœ“ should return an item with the error if continueOnFail is true (3 ms)
2025-04-15T08:16:25.3516674Z         âœ“ should throw an error if continueOnFail is false (1 ms)
2025-04-15T08:16:25.3516973Z       invalid output
2025-04-15T08:16:25.3517211Z         âœ“ should throw a ValidationError if the code output is undefined (2 ms)
2025-04-15T08:16:25.3517556Z         âœ“ should throw a ValidationError if the code output is 42 (1 ms)
2025-04-15T08:16:25.3517945Z         âœ“ should throw a ValidationError if the code output is "a string" (1 ms)
2025-04-15T08:16:25.3518247Z         âœ“ should throw a ValidationError if the code output is [] (2 ms)
2025-04-15T08:16:25.3518649Z         âœ“ should throw a ValidationError if the code output is [1,2,3] (1 ms)
2025-04-15T08:16:25.3518957Z       chunked execution
2025-04-15T08:16:25.3519152Z         âœ“ should use correct index for each item (6 ms)
2025-04-15T08:16:25.3519316Z     require
2025-04-15T08:16:25.3519437Z       blocked by default
2025-04-15T08:16:25.3519713Z         âœ“ should throw an error when requiring _http_agent in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3520105Z         âœ“ should throw an error when requiring _http_client in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3520514Z         âœ“ should throw an error when requiring _http_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3520878Z         âœ“ should throw an error when requiring _http_incoming in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3521385Z         âœ“ should throw an error when requiring _http_outgoing in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3521761Z         âœ“ should throw an error when requiring _http_server in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3522317Z         âœ“ should throw an error when requiring _stream_duplex in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3522786Z         âœ“ should throw an error when requiring _stream_passthrough in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3523175Z         âœ“ should throw an error when requiring _stream_readable in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3523549Z         âœ“ should throw an error when requiring _stream_transform in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3523908Z         âœ“ should throw an error when requiring _stream_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3524268Z         âœ“ should throw an error when requiring _stream_writable in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3524689Z         âœ“ should throw an error when requiring _tls_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3525113Z         âœ“ should throw an error when requiring _tls_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3525701Z         âœ“ should throw an error when requiring assert in runOnceForAllItems mode (6 ms)
2025-04-15T08:16:25.3526284Z         âœ“ should throw an error when requiring assert/strict in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3526655Z         âœ“ should throw an error when requiring async_hooks in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3527065Z         âœ“ should throw an error when requiring buffer in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3527528Z         âœ“ should throw an error when requiring child_process in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3527917Z         âœ“ should throw an error when requiring cluster in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3528669Z         âœ“ should throw an error when requiring console in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3529012Z         âœ“ should throw an error when requiring constants in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3529358Z         âœ“ should throw an error when requiring crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3529709Z         âœ“ should throw an error when requiring dgram in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3530090Z         âœ“ should throw an error when requiring diagnostics_channel in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3530444Z         âœ“ should throw an error when requiring dns in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3530879Z         âœ“ should throw an error when requiring dns/promises in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3531307Z         âœ“ should throw an error when requiring domain in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3531679Z         âœ“ should throw an error when requiring events in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3532003Z         âœ“ should throw an error when requiring fs in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3532343Z         âœ“ should throw an error when requiring fs/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3532679Z         âœ“ should throw an error when requiring http in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3533169Z         âœ“ should throw an error when requiring http2 in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3533525Z         âœ“ should throw an error when requiring https in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3533864Z         âœ“ should throw an error when requiring inspector in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3534240Z         âœ“ should throw an error when requiring inspector/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3534604Z         âœ“ should throw an error when requiring module in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3535066Z         âœ“ should throw an error when requiring net in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3535454Z         âœ“ should throw an error when requiring os in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3535812Z         âœ“ should throw an error when requiring path in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3536455Z         âœ“ should throw an error when requiring path/posix in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3536892Z         âœ“ should throw an error when requiring path/win32 in runOnceForAllItems mode (7 ms)
2025-04-15T08:16:25.3537242Z         âœ“ should throw an error when requiring perf_hooks in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3537589Z         âœ“ should throw an error when requiring process in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3537938Z         âœ“ should throw an error when requiring punycode in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3538295Z         âœ“ should throw an error when requiring querystring in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3538643Z         âœ“ should throw an error when requiring readline in runOnceForAllItems mode (4 ms)
2025-04-15T08:16:25.3539003Z         âœ“ should throw an error when requiring readline/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3539426Z         âœ“ should throw an error when requiring repl in runOnceForAllItems mode (7 ms)
2025-04-15T08:16:25.3539924Z         âœ“ should throw an error when requiring stream in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3540367Z         âœ“ should throw an error when requiring stream/consumers in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3540753Z         âœ“ should throw an error when requiring stream/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3541232Z         âœ“ should throw an error when requiring stream/web in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3541602Z         âœ“ should throw an error when requiring string_decoder in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3541944Z         âœ“ should throw an error when requiring sys in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3542270Z         âœ“ should throw an error when requiring timers in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3542644Z         âœ“ should throw an error when requiring timers/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3543021Z         âœ“ should throw an error when requiring tls in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3543373Z         âœ“ should throw an error when requiring trace_events in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3543725Z         âœ“ should throw an error when requiring tty in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3544051Z         âœ“ should throw an error when requiring url in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3544375Z         âœ“ should throw an error when requiring util in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3544714Z         âœ“ should throw an error when requiring util/types in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3545050Z         âœ“ should throw an error when requiring v8 in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3545367Z         âœ“ should throw an error when requiring vm in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3545686Z         âœ“ should throw an error when requiring wasi in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3546045Z         âœ“ should throw an error when requiring worker_threads in runOnceForAllItems mode (8 ms)
2025-04-15T08:16:25.3546383Z         âœ“ should throw an error when requiring zlib in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3546729Z         âœ“ should throw an error when requiring @n8n/config in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3547080Z         âœ“ should throw an error when requiring @n8n/di in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3547448Z         âœ“ should throw an error when requiring @sentry/node in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3547805Z         âœ“ should throw an error when requiring acorn in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3548155Z         âœ“ should throw an error when requiring acorn-walk in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3548528Z         âœ“ should throw an error when requiring lodash in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3548889Z         âœ“ should throw an error when requiring luxon in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3549367Z         âœ“ should throw an error when requiring n8n-core in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3549714Z         âœ“ should throw an error when requiring n8n-workflow in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3550056Z         âœ“ should throw an error when requiring nanoid in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3550385Z         âœ“ should throw an error when requiring ws in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3550733Z         âœ“ should throw an error when requiring _http_agent in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3551203Z         âœ“ should throw an error when requiring _http_client in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3551571Z         âœ“ should throw an error when requiring _http_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3551934Z         âœ“ should throw an error when requiring _http_incoming in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3552403Z         âœ“ should throw an error when requiring _http_outgoing in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3552913Z         âœ“ should throw an error when requiring _http_server in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3553287Z         âœ“ should throw an error when requiring _stream_duplex in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3553744Z         âœ“ should throw an error when requiring _stream_passthrough in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3554131Z         âœ“ should throw an error when requiring _stream_readable in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3554583Z         âœ“ should throw an error when requiring _stream_transform in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3555081Z         âœ“ should throw an error when requiring _stream_wrap in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3555522Z         âœ“ should throw an error when requiring _stream_writable in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3555897Z         âœ“ should throw an error when requiring _tls_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3556260Z         âœ“ should throw an error when requiring _tls_wrap in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3556616Z         âœ“ should throw an error when requiring assert in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3556982Z         âœ“ should throw an error when requiring assert/strict in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3557342Z         âœ“ should throw an error when requiring async_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3557689Z         âœ“ should throw an error when requiring buffer in runOnceForEachItem mode (4 ms)
2025-04-15T08:16:25.3558047Z         âœ“ should throw an error when requiring child_process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3558395Z         âœ“ should throw an error when requiring cluster in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3558746Z         âœ“ should throw an error when requiring console in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3559126Z         âœ“ should throw an error when requiring constants in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3559489Z         âœ“ should throw an error when requiring crypto in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3559840Z         âœ“ should throw an error when requiring dgram in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3560224Z         âœ“ should throw an error when requiring diagnostics_channel in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3560588Z         âœ“ should throw an error when requiring dns in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3560931Z         âœ“ should throw an error when requiring dns/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3561322Z         âœ“ should throw an error when requiring domain in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3561657Z         âœ“ should throw an error when requiring events in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3561987Z         âœ“ should throw an error when requiring fs in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3562456Z         âœ“ should throw an error when requiring fs/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3562792Z         âœ“ should throw an error when requiring http in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3563121Z         âœ“ should throw an error when requiring http2 in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3563450Z         âœ“ should throw an error when requiring https in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3563787Z         âœ“ should throw an error when requiring inspector in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3564168Z         âœ“ should throw an error when requiring inspector/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3564526Z         âœ“ should throw an error when requiring module in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3564872Z         âœ“ should throw an error when requiring net in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3565328Z         âœ“ should throw an error when requiring os in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3565655Z         âœ“ should throw an error when requiring path in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3566018Z         âœ“ should throw an error when requiring path/posix in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3566377Z         âœ“ should throw an error when requiring path/win32 in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3566716Z         âœ“ should throw an error when requiring perf_hooks in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3567059Z         âœ“ should throw an error when requiring process in runOnceForEachItem mode (4 ms)
2025-04-15T08:16:25.3567402Z         âœ“ should throw an error when requiring punycode in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3567752Z         âœ“ should throw an error when requiring querystring in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3568259Z         âœ“ should throw an error when requiring readline in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3568681Z         âœ“ should throw an error when requiring readline/promises in runOnceForEachItem mode (4 ms)
2025-04-15T08:16:25.3569034Z         âœ“ should throw an error when requiring repl in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3569365Z         âœ“ should throw an error when requiring stream in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3569724Z         âœ“ should throw an error when requiring stream/consumers in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3570110Z         âœ“ should throw an error when requiring stream/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3570507Z         âœ“ should throw an error when requiring stream/web in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3570884Z         âœ“ should throw an error when requiring string_decoder in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3571284Z         âœ“ should throw an error when requiring sys in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3571730Z         âœ“ should throw an error when requiring timers in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3572093Z         âœ“ should throw an error when requiring timers/promises in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3572433Z         âœ“ should throw an error when requiring tls in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3572777Z         âœ“ should throw an error when requiring trace_events in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3573115Z         âœ“ should throw an error when requiring tty in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3573474Z         âœ“ should throw an error when requiring url in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3573805Z         âœ“ should throw an error when requiring util in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3574149Z         âœ“ should throw an error when requiring util/types in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3574524Z         âœ“ should throw an error when requiring v8 in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3574997Z         âœ“ should throw an error when requiring vm in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3575434Z         âœ“ should throw an error when requiring wasi in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3575786Z         âœ“ should throw an error when requiring worker_threads in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3576300Z         âœ“ should throw an error when requiring zlib in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3576676Z         âœ“ should throw an error when requiring @n8n/config in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3577096Z         âœ“ should throw an error when requiring @n8n/di in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3577513Z         âœ“ should throw an error when requiring @sentry/node in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3577886Z         âœ“ should throw an error when requiring acorn in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3578263Z         âœ“ should throw an error when requiring acorn-walk in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3578864Z         âœ“ should throw an error when requiring lodash in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3579295Z         âœ“ should throw an error when requiring luxon in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3579833Z         âœ“ should throw an error when requiring n8n-core in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3580296Z         âœ“ should throw an error when requiring n8n-workflow in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3580708Z         âœ“ should throw an error when requiring nanoid in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3581070Z         âœ“ should throw an error when requiring ws in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3581380Z       all built-ins allowed with *
2025-04-15T08:16:25.3581727Z         âœ“ should be able to require _http_agent in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3582237Z         âœ“ should be able to require _http_client in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3582628Z         âœ“ should be able to require _http_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3582957Z         âœ“ should be able to require _http_incoming in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3583293Z         âœ“ should be able to require _http_outgoing in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3583611Z         âœ“ should be able to require _http_server in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3583928Z         âœ“ should be able to require _stream_duplex in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3584259Z         âœ“ should be able to require _stream_passthrough in runOnceForAllItems mode (5 ms)
2025-04-15T08:16:25.3584612Z         âœ“ should be able to require _stream_readable in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3584941Z         âœ“ should be able to require _stream_transform in runOnceForAllItems mode (6 ms)
2025-04-15T08:16:25.3585257Z         âœ“ should be able to require _stream_wrap in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3585588Z         âœ“ should be able to require _stream_writable in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3585902Z         âœ“ should be able to require _tls_common in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3586207Z         âœ“ should be able to require _tls_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3586514Z         âœ“ should be able to require assert in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3586822Z         âœ“ should be able to require assert/strict in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3587132Z         âœ“ should be able to require async_hooks in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3587458Z         âœ“ should be able to require buffer in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3587776Z         âœ“ should be able to require child_process in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3588094Z         âœ“ should be able to require cluster in runOnceForAllItems mode (29 ms)
2025-04-15T08:16:25.3588531Z         âœ“ should be able to require console in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3588886Z         âœ“ should be able to require constants in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3589181Z         âœ“ should be able to require crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3589476Z         âœ“ should be able to require dgram in runOnceForAllItems mode (5 ms)
2025-04-15T08:16:25.3589797Z         âœ“ should be able to require diagnostics_channel in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3590109Z         âœ“ should be able to require dns in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3590422Z         âœ“ should be able to require dns/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3590736Z         âœ“ should be able to require domain in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3591032Z         âœ“ should be able to require events in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3591493Z         âœ“ should be able to require fs in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3591934Z         âœ“ should be able to require fs/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3592239Z         âœ“ should be able to require http in runOnceForAllItems mode
2025-04-15T08:16:25.3592515Z         âœ“ should be able to require http2 in runOnceForAllItems mode
2025-04-15T08:16:25.3592803Z         âœ“ should be able to require https in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3593153Z         âœ“ should be able to require inspector in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3593544Z         âœ“ should be able to require inspector/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3593884Z         âœ“ should be able to require module in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3594176Z         âœ“ should be able to require net in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3594458Z         âœ“ should be able to require os in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3594761Z         âœ“ should be able to require path in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3595068Z         âœ“ should be able to require path/posix in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3595389Z         âœ“ should be able to require path/win32 in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3595706Z         âœ“ should be able to require perf_hooks in runOnceForAllItems mode
2025-04-15T08:16:25.3595992Z         âœ“ should be able to require process in runOnceForAllItems mode
2025-04-15T08:16:25.3596287Z         âœ“ should be able to require punycode in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3596604Z         âœ“ should be able to require querystring in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3596911Z         âœ“ should be able to require readline in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3597242Z         âœ“ should be able to require readline/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3597554Z         âœ“ should be able to require repl in runOnceForAllItems mode (4 ms)
2025-04-15T08:16:25.3597860Z         âœ“ should be able to require stream in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3598163Z         âœ“ should be able to require stream/consumers in runOnceForAllItems mode
2025-04-15T08:16:25.3598478Z         âœ“ should be able to require stream/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3598795Z         âœ“ should be able to require stream/web in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3599117Z         âœ“ should be able to require string_decoder in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3599419Z         âœ“ should be able to require sys in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3599701Z         âœ“ should be able to require timers in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3600009Z         âœ“ should be able to require timers/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3600321Z         âœ“ should be able to require tls in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3600796Z         âœ“ should be able to require trace_events in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3601147Z         âœ“ should be able to require tty in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3601438Z         âœ“ should be able to require url in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3601726Z         âœ“ should be able to require util in runOnceForAllItems mode
2025-04-15T08:16:25.3602019Z         âœ“ should be able to require util/types in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3602305Z         âœ“ should be able to require v8 in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3602582Z         âœ“ should be able to require vm in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3602863Z         âœ“ should be able to require wasi in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3603182Z         âœ“ should be able to require worker_threads in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3603495Z         âœ“ should be able to require zlib in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3603967Z         âœ“ should be able to require _http_agent in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3604279Z         âœ“ should be able to require _http_client in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3604601Z         âœ“ should be able to require _http_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3605005Z         âœ“ should be able to require _http_incoming in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3605341Z         âœ“ should be able to require _http_outgoing in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3605714Z         âœ“ should be able to require _http_server in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3606051Z         âœ“ should be able to require _stream_duplex in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3606390Z         âœ“ should be able to require _stream_passthrough in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3606730Z         âœ“ should be able to require _stream_readable in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3607158Z         âœ“ should be able to require _stream_transform in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3607540Z         âœ“ should be able to require _stream_wrap in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3607864Z         âœ“ should be able to require _stream_writable in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3608335Z         âœ“ should be able to require _tls_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3608638Z         âœ“ should be able to require _tls_wrap in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3609079Z         âœ“ should be able to require assert in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3609545Z         âœ“ should be able to require assert/strict in runOnceForEachItem mode
2025-04-15T08:16:25.3609905Z         âœ“ should be able to require async_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3610207Z         âœ“ should be able to require buffer in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3610695Z         âœ“ should be able to require child_process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3611115Z         âœ“ should be able to require cluster in runOnceForEachItem mode
2025-04-15T08:16:25.3611391Z         âœ“ should be able to require console in runOnceForEachItem mode
2025-04-15T08:16:25.3611687Z         âœ“ should be able to require constants in runOnceForEachItem mode
2025-04-15T08:16:25.3611993Z         âœ“ should be able to require crypto in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3612320Z         âœ“ should be able to require dgram in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3612658Z         âœ“ should be able to require diagnostics_channel in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3612978Z         âœ“ should be able to require dns in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3613282Z         âœ“ should be able to require dns/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3613592Z         âœ“ should be able to require domain in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614047Z         âœ“ should be able to require events in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614332Z         âœ“ should be able to require fs in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614627Z         âœ“ should be able to require fs/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614926Z         âœ“ should be able to require http in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3615217Z         âœ“ should be able to require http2 in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3615509Z         âœ“ should be able to require https in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3615804Z         âœ“ should be able to require inspector in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3616129Z         âœ“ should be able to require inspector/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3616449Z         âœ“ should be able to require module in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3616832Z         âœ“ should be able to require net in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3617128Z         âœ“ should be able to require os in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3617477Z         âœ“ should be able to require path in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3617805Z         âœ“ should be able to require path/posix in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3618111Z         âœ“ should be able to require path/win32 in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3618413Z         âœ“ should be able to require perf_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3618717Z         âœ“ should be able to require process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3619028Z         âœ“ should be able to require punycode in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3619357Z         âœ“ should be able to require querystring in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3619675Z         âœ“ should be able to require readline in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620026Z         âœ“ should be able to require readline/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620330Z         âœ“ should be able to require repl in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620614Z         âœ“ should be able to require stream in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620927Z         âœ“ should be able to require stream/consumers in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3621318Z         âœ“ should be able to require stream/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3621631Z         âœ“ should be able to require stream/web in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3621951Z         âœ“ should be able to require string_decoder in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3622248Z         âœ“ should be able to require sys in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3622535Z         âœ“ should be able to require timers in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3623027Z         âœ“ should be able to require timers/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3623323Z         âœ“ should be able to require tls in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3623621Z         âœ“ should be able to require trace_events in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3623924Z         âœ“ should be able to require tty in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3624216Z         âœ“ should be able to require url in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3624508Z         âœ“ should be able to require util in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3624813Z         âœ“ should be able to require util/types in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3625116Z         âœ“ should be able to require v8 in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3625403Z         âœ“ should be able to require vm in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3625687Z         âœ“ should be able to require wasi in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3626135Z         âœ“ should be able to require worker_threads in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3626430Z         âœ“ should be able to require zlib in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3626649Z       all external modules allowed with *
2025-04-15T08:16:25.3626910Z         âœ“ should be able to require @n8n/config in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3627217Z         âœ“ should be able to require @n8n/di in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3627654Z         âœ“ should be able to require @sentry/node in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3627956Z         âœ“ should be able to require acorn in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3628334Z         âœ“ should be able to require acorn-walk in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3628770Z         âœ“ should be able to require lodash in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3629178Z         âœ“ should be able to require luxon in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3629510Z         âœ“ should be able to require n8n-core in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3629859Z         âœ“ should be able to require n8n-workflow in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3630189Z         âœ“ should be able to require nanoid in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3630482Z         âœ“ should be able to require ws in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3630788Z         âœ“ should be able to require @n8n/config in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3631304Z         âœ“ should be able to require @n8n/di in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3631712Z         âœ“ should be able to require @sentry/node in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3632109Z         âœ“ should be able to require acorn in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3632500Z         âœ“ should be able to require acorn-walk in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3632900Z         âœ“ should be able to require lodash in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3633285Z         âœ“ should be able to require luxon in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3633671Z         âœ“ should be able to require n8n-core in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3634069Z         âœ“ should be able to require n8n-workflow in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3634454Z         âœ“ should be able to require nanoid in runOnceForEachItem mode
2025-04-15T08:16:25.3634862Z         âœ“ should be able to require ws in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3635275Z       specifically allowed built-in modules
2025-04-15T08:16:25.3635625Z         âœ“ should allow requiring crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3636070Z         âœ“ should allow requiring path in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3636451Z         âœ“ should allow requiring crypto in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3637053Z         âœ“ should allow requiring path in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3637477Z         âœ“ should throw when trying to require http in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3637917Z         âœ“ should throw when trying to require process in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3638341Z         âœ“ should throw when trying to require http in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3638813Z         âœ“ should throw when trying to require process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3639147Z       specifically allowed external modules
2025-04-15T08:16:25.3639497Z         âœ“ should allow requiring nanoid in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3639886Z         âœ“ should allow requiring nanoid in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3640297Z         âœ“ should throw when trying to require n8n-core in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3640761Z         âœ“ should throw when trying to require n8n-core in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3641278Z     errors
2025-04-15T08:16:25.3641649Z       âœ“ should throw an ExecutionError if the code is invalid in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3642135Z       âœ“ should throw an ExecutionError if the code is invalid in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3642532Z       âœ“ sends serializes an error correctly (8 ms)
2025-04-15T08:16:25.3642803Z     idle timeout
2025-04-15T08:16:25.3643095Z       âœ“ should set idle timer when instantiated (2 ms)
2025-04-15T08:16:25.3643436Z       âœ“ should reset idle timer when accepting a task (1 ms)
2025-04-15T08:16:25.3643825Z       âœ“ should reset idle timer when finishing a task (1 ms)
2025-04-15T08:16:25.3644197Z       âœ“ should never reach idle timeout if idle timeout is set to 0 (1 ms)
2025-04-15T08:16:25.3644587Z       âœ“ should not reach idle timeout if there are running tasks (1 ms)
2025-04-15T08:16:25.3644897Z     prototype pollution prevention
2025-04-15T08:16:25.3645243Z       âœ“ Object.setPrototypeOf should no-op for local object (1 ms)
2025-04-15T08:16:25.3645680Z       âœ“ Reflect.setPrototypeOf should no-op for local object (3 ms)
2025-04-15T08:16:25.3646191Z       âœ“ Object.setPrototypeOf should no-op for incoming object (1 ms)
2025-04-15T08:16:25.3646594Z       âœ“ Reflect.setPrototypeOf should no-op for incoming object (1 ms)
2025-04-15T08:16:25.3646940Z       âœ“ should freeze luxon prototypes (1 ms)
2025-04-15T08:16:25.3647328Z       âœ“ should allow prototype mutation when `allowPrototypeMutation` is true (1 ms)
2025-04-15T08:16:25.3647661Z     stack trace
2025-04-15T08:16:25.3648071Z       âœ“ should extract correct line number from user-defined function stack trace (2 ms)
2025-04-15T08:16:25.3648465Z 
2025-04-15T08:16:25.3648707Z Test Suites: 10 passed, 10 total
2025-04-15T08:16:25.3649020Z Tests:       614 passed, 614 total
2025-04-15T08:16:25.3649295Z Snapshots:   0 total
2025-04-15T08:16:25.3649541Z Time:        4.356 s
2025-04-15T08:16:25.3649782Z Ran all test suites.
2025-04-15T08:16:25.3650457Z ##[endgroup]
2025-04-15T08:16:39.8639614Z ##[group]n8n-core:test
2025-04-15T08:16:39.8640069Z cache bypass, force executing 339d1de8e62ae4a3
2025-04-15T08:16:39.8640300Z 
2025-04-15T08:16:39.8640542Z > n8n-core@1.88.0 test /home/runner/_work/n8n/n8n/packages/core
2025-04-15T08:16:39.8641061Z > jest
2025-04-15T08:16:39.8641397Z 
2025-04-15T08:16:39.8641753Z PASS src/execution-engine/partial-execution-utils/__tests__/recreate-node-execution-stack.test.ts
2025-04-15T08:16:39.8642186Z   recreateNodeExecutionStack
2025-04-15T08:16:39.8642797Z     âœ“ all nodes except destination node have data (4 ms)
2025-04-15T08:16:39.8643093Z     âœ“ no nodes have data
2025-04-15T08:16:39.8643390Z     âœ“ node before destination node has pinned data (1 ms)
2025-04-15T08:16:39.8643734Z     âœ“ throws if a disabled node is found (4 ms)
2025-04-15T08:16:39.8644047Z     âœ“ multiple incoming connections (5 ms)
2025-04-15T08:16:39.8644324Z     âœ“ multiple inputs (1 ms)
2025-04-15T08:16:39.8644529Z     multiple inputs
2025-04-15T08:16:39.8645370Z       âœ“ only the trigger has run data (1 ms)
2025-04-15T08:16:39.8645679Z       âœ“ the trigger and node1 have run data (1 ms)
2025-04-15T08:16:39.8645986Z       âœ“ the trigger and node2 have run data
2025-04-15T08:16:39.8646479Z       âœ“ the trigger, node1 and node2 have run data (1 ms)
2025-04-15T08:16:39.8646793Z   addWaitingExecution
2025-04-15T08:16:39.8647052Z     âœ“ allow adding data partially (1 ms)
2025-04-15T08:16:39.8647289Z   addWaitingExecutionSource
2025-04-15T08:16:39.8647549Z     âœ“ allow adding data partially
2025-04-15T08:16:39.8647693Z 
2025-04-15T08:16:39.8647884Z PASS src/nodes-loader/__tests__/directory-loader.test.ts
2025-04-15T08:16:39.8648324Z   DirectoryLoader
2025-04-15T08:16:39.8648613Z     CustomDirectoryLoader
2025-04-15T08:16:39.8648909Z       âœ“ should load custom nodes and credentials (8 ms)
2025-04-15T08:16:39.8649167Z     PackageDirectoryLoader
2025-04-15T08:16:39.8649519Z       âœ“ should load nodes and credentials from an installed package (2 ms)
2025-04-15T08:16:39.8650158Z       âœ“ should throw error when package.json is missing (26 ms)
2025-04-15T08:16:39.8650571Z       âœ“ should throw error when package.json is invalid (1 ms)
2025-04-15T08:16:39.8650846Z       âœ“ should do nothing if package.json has no n8n field (4 ms)
2025-04-15T08:16:39.8651181Z       âœ“ should hide httpRequestNode property when credential has supported nodes (1 ms)
2025-04-15T08:16:39.8651549Z       âœ“ should not modify httpRequestNode when credential has no supported nodes (1 ms)
2025-04-15T08:16:39.8651917Z       âœ“ should inherit iconUrl from supported node when credential has no icon (1 ms)
2025-04-15T08:16:39.8652163Z     LazyPackageDirectoryLoader
2025-04-15T08:16:39.8652452Z       âœ“ should skip loading nodes and credentials from a lazy-loadable package (1 ms)
2025-04-15T08:16:39.8652793Z       âœ“ should fall back to non-lazy loading if any json file fails to parse (7 ms)
2025-04-15T08:16:39.8653097Z       âœ“ should only load included nodes when includeNodes is set
2025-04-15T08:16:39.8653408Z       âœ“ should load no nodes when includeNodes does not match any nodes (1 ms)
2025-04-15T08:16:39.8653717Z       âœ“ should exclude specified nodes when excludeNodes is set (1 ms)
2025-04-15T08:16:39.8653918Z     reset()
2025-04-15T08:16:39.8654120Z       âœ“ should reset all properties to their initial state (2 ms)
2025-04-15T08:16:39.8654321Z     getVersionedNodeTypeAll
2025-04-15T08:16:39.8654556Z       âœ“ should return array with single node for non-versioned node
2025-04-15T08:16:39.8654829Z       âœ“ should return all versions of a versioned node (11 ms)
2025-04-15T08:16:39.8655018Z     getCredentialsForNode
2025-04-15T08:16:39.8655252Z       âœ“ should return empty array if node has no credentials
2025-04-15T08:16:39.8655551Z       âœ“ should return credentials for non-versioned node
2025-04-15T08:16:39.8655925Z       âœ“ should return unique credentials from all versions of a versioned node (1 ms)
2025-04-15T08:16:39.8656464Z       âœ“ should remove duplicate credentials from different versions
2025-04-15T08:16:39.8656723Z     loadCredentialFromFile
2025-04-15T08:16:39.8656989Z       âœ“ should load credential and store it correctly (1 ms)
2025-04-15T08:16:39.8657221Z       âœ“ should update credential icon paths
2025-04-15T08:16:39.8657457Z       âœ“ should add toJSON method to credential type (1 ms)
2025-04-15T08:16:39.8657725Z       âœ“ should store credential extends and supported nodes info
2025-04-15T08:16:39.8658017Z       âœ“ should throw error if credential class cannot be loaded (4 ms)
2025-04-15T08:16:39.8658213Z     getCredential
2025-04-15T08:16:39.8658405Z       âœ“ should return existing loaded credential type
2025-04-15T08:16:39.8658705Z       âœ“ should load credential from known credentials if not already loaded (1 ms)
2025-04-15T08:16:39.8659083Z       âœ“ should throw UnrecognizedCredentialTypeError if credential type is not found (1 ms)
2025-04-15T08:16:39.8659338Z     loadNodeFromFile
2025-04-15T08:16:39.8659526Z       âœ“ should load node and store it correctly
2025-04-15T08:16:39.8659741Z       âœ“ should update node icon paths (2 ms)
2025-04-15T08:16:39.8660107Z       âœ“ should skip node if not in includeNodes (1 ms)
2025-04-15T08:16:39.8660341Z       âœ“ should handle versioned nodes correctly (1 ms)
2025-04-15T08:16:39.8660634Z       âœ“ should store credential associations correctly (7 ms)
2025-04-15T08:16:39.8660901Z       âœ“ should throw error if node class cannot be loaded (1 ms)
2025-04-15T08:16:39.8661088Z     getNode
2025-04-15T08:16:39.8661270Z       âœ“ should return existing loaded node type (1 ms)
2025-04-15T08:16:39.8661535Z       âœ“ should load node from known nodes if not already loaded (1 ms)
2025-04-15T08:16:39.8661837Z       âœ“ should throw UnrecognizedNodeTypeError if node type is not found
2025-04-15T08:16:39.8661989Z 
2025-04-15T08:16:39.8662239Z PASS src/execution-engine/node-execution-context/utils/__tests__/request-helper-functions.test.ts
2025-04-15T08:16:39.8662527Z   Request Helper Functions
2025-04-15T08:16:39.8662673Z     proxyRequestToAxios
2025-04-15T08:16:39.8662896Z       âœ“ should rethrow an error with `status` property (90 ms)
2025-04-15T08:16:39.8663295Z       âœ“ should not throw if the response status is 200 (6 ms)
2025-04-15T08:16:39.8663560Z       âœ“ should throw if the response status is 403 (10 ms)
2025-04-15T08:16:39.8663901Z       âœ“ should not throw if the response status is 404, but `simple` option is set to `false` (7 ms)
2025-04-15T08:16:39.8664298Z       âœ“ should return full response when `resolveWithFullResponse` is set to true (9 ms)
2025-04-15T08:16:39.8664534Z       redirects
2025-04-15T08:16:39.8664728Z         âœ“ should forward authorization header (10 ms)
2025-04-15T08:16:39.8664959Z         âœ“ should follow redirects by default (18 ms)
2025-04-15T08:16:39.8665204Z         âœ“ should not follow redirects when configured (7 ms)
2025-04-15T08:16:39.8665454Z     invokeAxios
2025-04-15T08:16:39.8665649Z       âœ“ should throw error for non-401 status codes (9 ms)
2025-04-15T08:16:39.8665933Z       âœ“ should throw error on 401 without digest auth challenge (7 ms)
2025-04-15T08:16:39.8666322Z       âœ“ should make successful requests (5 ms)
2025-04-15T08:16:39.8666653Z       âœ“ should handle digest auth when receiving 401 with nonce (10 ms)
2025-04-15T08:16:39.8666855Z     removeEmptyBody
2025-04-15T08:16:39.8667036Z       âœ“ Should remove empty body for GET (5 ms)
2025-04-15T08:16:39.8667247Z       âœ“ Should remove empty body for HEAD
2025-04-15T08:16:39.8667456Z       âœ“ Should remove empty body for OPTIONS
2025-04-15T08:16:39.8667678Z       âœ“ Should not remove non-empty body for GET
2025-04-15T08:16:39.8667924Z       âœ“ Should not remove non-empty body for HEAD
2025-04-15T08:16:39.8668172Z       âœ“ Should not remove non-empty body for OPTIONS (1 ms)
2025-04-15T08:16:39.8668409Z       âœ“ Should not remove empty body for POST
2025-04-15T08:16:39.8668621Z       âœ“ Should not remove empty body for PUT
2025-04-15T08:16:39.8668849Z       âœ“ Should not remove empty body for PATCH (1 ms)
2025-04-15T08:16:39.8669074Z       âœ“ Should not remove empty body for DELETE
2025-04-15T08:16:39.8669242Z     parseRequestObject
2025-04-15T08:16:39.8669455Z       âœ“ should handle basic request options (1 ms)
2025-04-15T08:16:39.8669687Z       âœ“ should set correct headers for FormData (1 ms)
2025-04-15T08:16:39.8669905Z       âœ“ should not use Host header for SNI
2025-04-15T08:16:39.8670081Z       should set SSL certificates
2025-04-15T08:16:39.8670298Z         âœ“ on regular requests (1 ms)
2025-04-15T08:16:39.8670490Z         âœ“ on redirected requests
2025-04-15T08:16:39.8670698Z       when followRedirect is true
2025-04-15T08:16:39.8670903Z         âœ“ should set maxRedirects on GET  (1 ms)
2025-04-15T08:16:39.8671114Z         âœ“ should set maxRedirects on HEAD 
2025-04-15T08:16:39.8671325Z         âœ“ should not set maxRedirects on POST 
2025-04-15T08:16:39.8671545Z         âœ“ should not set maxRedirects on PUT  (1 ms)
2025-04-15T08:16:39.8671763Z         âœ“ should not set maxRedirects on PATCH 
2025-04-15T08:16:39.8671969Z         âœ“ should not set maxRedirects on DELETE 
2025-04-15T08:16:39.8672155Z       when followAllRedirects is true
2025-04-15T08:16:39.8672506Z         âœ“ should set maxRedirects on GET  (1 ms)
2025-04-15T08:16:39.8672711Z         âœ“ should set maxRedirects on HEAD 
2025-04-15T08:16:39.8672925Z         âœ“ should set maxRedirects on POST  (3 ms)
2025-04-15T08:16:39.8673337Z         âœ“ should set maxRedirects on PUT 
2025-04-15T08:16:39.8673649Z         âœ“ should set maxRedirects on PATCH 
2025-04-15T08:16:39.8673967Z         âœ“ should set maxRedirects on DELETE  (1 ms)
2025-04-15T08:16:39.8674269Z     createFormDataObject
2025-04-15T08:16:39.8674578Z       âœ“ should create FormData with simple key-value pairs
2025-04-15T08:16:39.8674885Z       âœ“ should handle array values (1 ms)
2025-04-15T08:16:39.8675230Z       âœ“ should handle complex form data with options
2025-04-15T08:16:39.8675506Z     convertN8nRequestToAxios
2025-04-15T08:16:39.8675823Z       âœ“ should convert basic HTTP request options (1 ms)
2025-04-15T08:16:39.8676229Z       âœ“ should handle body and content type (1 ms)
2025-04-15T08:16:39.8676654Z       âœ“ should handle form data
2025-04-15T08:16:39.8677109Z       âœ“ should handle disable follow redirect (1 ms)
2025-04-15T08:16:39.8677421Z       âœ“ should handle SSL certificate validation
2025-04-15T08:16:39.8677676Z     applyPaginationRequestData
2025-04-15T08:16:39.8678081Z       âœ“ should merge pagination request data with original request options (1 ms)
2025-04-15T08:16:39.8678447Z       âœ“ should handle formData correctly (9 ms)
2025-04-15T08:16:39.8678759Z       âœ“ should handle form data correctly
2025-04-15T08:16:39.8679093Z       âœ“ should prefer pagination body over original body
2025-04-15T08:16:39.8679397Z       âœ“ should merge complex request options
2025-04-15T08:16:39.8679747Z       âœ“ should handle edge cases with empty pagination data
2025-04-15T08:16:39.8680027Z     httpRequest
2025-04-15T08:16:39.8680264Z       âœ“ should make a simple GET request (6 ms)
2025-04-15T08:16:39.8680683Z       âœ“ should make a POST request with JSON body (23 ms)
2025-04-15T08:16:39.8681051Z       âœ“ should return full response when returnFullResponse is true (3 ms)
2025-04-15T08:16:39.8681421Z       âœ“ should handle form data request (6 ms)
2025-04-15T08:16:39.8681741Z       âœ“ should handle query parameters (6 ms)
2025-04-15T08:16:39.8682072Z       âœ“ should ignore HTTP status errors when configured (4 ms)
2025-04-15T08:16:39.8682488Z       âœ“ should handle different array formats in query parameters (8 ms)
2025-04-15T08:16:39.8682838Z       âœ“ should remove empty body for GET requests (5 ms)
2025-04-15T08:16:39.8683117Z       âœ“ should set default user agent (6 ms)
2025-04-15T08:16:39.8683482Z       âœ“ should respect custom headers (10 ms)
2025-04-15T08:16:39.8683654Z 
2025-04-15T08:16:39.8683912Z PASS src/execution-engine/partial-execution-utils/__tests__/find-start-nodes.test.ts
2025-04-15T08:16:39.8684279Z   isDirty
2025-04-15T08:16:39.8684541Z     âœ“ if the node has pinned data it's not dirty (3 ms)
2025-04-15T08:16:39.8684848Z     âœ“ if the node has run data it's not dirty (1 ms)
2025-04-15T08:16:39.8685153Z   findStartNodes
2025-04-15T08:16:39.8685454Z     âœ“ finds the start node if there is only a trigger (1 ms)
2025-04-15T08:16:39.8685803Z     âœ“ finds the start node in a simple graph
2025-04-15T08:16:39.8686085Z     âœ“ multiple outputs
2025-04-15T08:16:39.8686556Z     âœ“ complex example with multiple outputs and inputs (1 ms)
2025-04-15T08:16:39.8687051Z     âœ“ multiple connections with the first one having data (1 ms)
2025-04-15T08:16:39.8687423Z     âœ“ multiple connections with the second one having data (1 ms)
2025-04-15T08:16:39.8687749Z     âœ“ multiple connections with both having data
2025-04-15T08:16:39.8688225Z     âœ“ multiple connections with both having data (1 ms)
2025-04-15T08:16:39.8688547Z     âœ“ multiple connections with trigger
2025-04-15T08:16:39.8688915Z     âœ“ terminates when called with graph that contains cycles (3 ms)
2025-04-15T08:16:39.8689211Z     pinData
2025-04-15T08:16:39.8689576Z       âœ“ does not stop recursing when the first node that has no run data has pinned data (1 ms)
2025-04-15T08:16:39.8689934Z     custom loop logic
2025-04-15T08:16:39.8690475Z       âœ“ if the last run of loop node has no data (null) on the done output, then the loop is the start node
2025-04-15T08:16:39.8691030Z       âœ“ if the last run of loop node has no data (empty array) on the done output, then the loop is the start  node (1 ms)
2025-04-15T08:16:39.8691593Z       âœ“ if the loop has data on the done output in the last run it does not become a start node
2025-04-15T08:16:39.8691828Z 
2025-04-15T08:16:39.8692056Z PASS src/execution-engine/partial-execution-utils/__tests__/directed-graph.test.ts
2025-04-15T08:16:39.8692412Z   DirectedGraph
2025-04-15T08:16:39.8692672Z     âœ“ roundtrip (4 ms)
2025-04-15T08:16:39.8692942Z     âœ“ linear workflow with null connections
2025-04-15T08:16:39.8693235Z     getChildren
2025-04-15T08:16:39.8693486Z       âœ“ returns all children (1 ms)
2025-04-15T08:16:39.8693750Z       âœ“ terminates when finding a cycle
2025-04-15T08:16:39.8694081Z     getStronglyConnectedComponents
2025-04-15T08:16:39.8694374Z       âœ“ find strongly connected components
2025-04-15T08:16:39.8694935Z       âœ“ find strongly connected components even if they use different output indexes
2025-04-15T08:16:39.8695264Z     depthFirstSearch
2025-04-15T08:16:39.8695603Z       âœ“ calls nodes in the correct order and stops when it found the node (1 ms)
2025-04-15T08:16:39.8695954Z     getParentConnections
2025-04-15T08:16:39.8696325Z       âœ“ returns all parent connections
2025-04-15T08:16:39.8696680Z       âœ“ terminates when finding a cycle (1 ms)
2025-04-15T08:16:39.8696994Z     removeNode
2025-04-15T08:16:39.8697235Z       âœ“ remove node and all connections
2025-04-15T08:16:39.8697563Z       âœ“ remove node, but reconnect connections
2025-04-15T08:16:39.8697955Z       âœ“ remove node, reconnect connections and retaining the input indexes (2 ms)
2025-04-15T08:16:39.8698558Z       âœ“ remove node, reconnect connections and retaining the input indexes, even if the child has less inputs than the than the removed node had (1 ms)
2025-04-15T08:16:39.8699127Z       âœ“ remove node, reconnect connections and multiplexes them
2025-04-15T08:16:39.8699422Z     hasNode
2025-04-15T08:16:39.8699696Z       âœ“ returns node if it's part of the graph
2025-04-15T08:16:39.8700062Z       âœ“ returns undefined if there is no node with that name in the graph
2025-04-15T08:16:39.8700367Z     getNodesByNames
2025-04-15T08:16:39.8700683Z       âœ“ returns empty Set when no names are provided
2025-04-15T08:16:39.8701049Z       âœ“ returns Set with only nodes that exist in the graph (1 ms)
2025-04-15T08:16:39.8701220Z 
2025-04-15T08:16:39.8701485Z PASS src/execution-engine/node-execution-context/utils/__tests__/create-node-as-tool.test.ts
2025-04-15T08:16:39.8701886Z   createNodeAsTool
2025-04-15T08:16:39.8702136Z     Tool Creation and Basic Properties
2025-04-15T08:16:39.8702515Z       âœ“ should create a DynamicStructuredTool with correct properties (4 ms)
2025-04-15T08:16:39.8702892Z       âœ“ should use toolDescription if provided
2025-04-15T08:16:39.8703164Z     Schema Creation and Parameter Handling
2025-04-15T08:16:39.8703560Z       âœ“ should create a schema based on fromAI arguments in nodeParameters
2025-04-15T08:16:39.8703927Z       âœ“ should handle fromAI arguments correctly (1 ms)
2025-04-15T08:16:39.8704237Z       âœ“ should handle default values correctly (1 ms)
2025-04-15T08:16:39.8704622Z       âœ“ should handle nested parameters correctly
2025-04-15T08:16:39.8704936Z       âœ“ should handle array parameters correctly (1 ms)
2025-04-15T08:16:39.8705232Z     Error Handling and Edge Cases
2025-04-15T08:16:39.8705548Z       âœ“ should handle error during node execution
2025-04-15T08:16:39.8705887Z       âœ“ should throw an error for invalid parameter names (12 ms)
2025-04-15T08:16:39.8706447Z       âœ“ should throw an error for $fromAI calls with unsupported types
2025-04-15T08:16:39.8706856Z       âœ“ should handle empty parameters and parameters with no fromAI calls
2025-04-15T08:16:39.8707156Z     Parameter Name and Description Handling
2025-04-15T08:16:39.8707572Z       âœ“ should accept parameter names with underscores and hyphens (2 ms)
2025-04-15T08:16:39.8708117Z       âœ“ should throw an error for parameter names with invalid special characters (1 ms)
2025-04-15T08:16:39.8708548Z       âœ“ should throw an error for empty parameter name (1 ms)
2025-04-15T08:16:39.8708949Z       âœ“ should handle parameter names with exact and exceeding character limits
2025-04-15T08:16:39.8709338Z       âœ“ should handle $fromAI calls with empty description
2025-04-15T08:16:39.8709795Z       âœ“ should throw an error for calls with the same parameter but different descriptions (1 ms)
2025-04-15T08:16:39.8710238Z       âœ“ should throw an error for calls with the same parameter but different types
2025-04-15T08:16:39.8710547Z     Complex Parsing Scenarios
2025-04-15T08:16:39.8711080Z       âœ“ should correctly parse $fromAI calls with varying spaces, capitalization, and within template literals (1 ms)
2025-04-15T08:16:39.8711608Z       âœ“ should correctly parse multiple $fromAI calls interleaved with regular text
2025-04-15T08:16:39.8712060Z       âœ“ should correctly parse $fromAI calls with complex JSON default values
2025-04-15T08:16:39.8712585Z       âœ“ should ignore $fromAI calls embedded in non-string node parameters (1 ms)
2025-04-15T08:16:39.8712889Z     Escaping and Special Characters
2025-04-15T08:16:39.8713297Z       âœ“ should handle escaped single quotes in parameter names and descriptions
2025-04-15T08:16:39.8713735Z       âœ“ should handle escaped double quotes in parameter names and descriptions (1 ms)
2025-04-15T08:16:39.8714179Z       âœ“ should handle escaped backslashes in parameter names and descriptions
2025-04-15T08:16:39.8714637Z       âœ“ should handle mixed escaped characters in parameter names and descriptions (1 ms)
2025-04-15T08:16:39.8714971Z     Edge Cases and Limitations
2025-04-15T08:16:39.8715371Z       âœ“ should ignore excess arguments in $fromAI calls beyond the fourth argument
2025-04-15T08:16:39.8715781Z       âœ“ should correctly parse $fromAI calls with nested parentheses
2025-04-15T08:16:39.8716194Z       âœ“ should handle $fromAI calls with very long descriptions (1 ms)
2025-04-15T08:16:39.8716740Z       âœ“ should handle $fromAI calls with only some parameters
2025-04-15T08:16:39.8717031Z     Unicode and Internationalization
2025-04-15T08:16:39.8717387Z       âœ“ should handle $fromAI calls with unicode characters (1 ms)
2025-04-15T08:16:39.8717610Z 
2025-04-15T08:16:39.8717768Z PASS src/execution-engine/__tests__/routing-node.test.ts
2025-04-15T08:16:39.8718040Z   RoutingNode
2025-04-15T08:16:39.8718367Z     âœ“ applyDeclarativeNodeOptionParameters (3 ms)
2025-04-15T08:16:39.8718645Z     getRequestOptionsFromParameters
2025-04-15T08:16:39.8718959Z       âœ“ single parameter, only send defined, fixed value (3 ms)
2025-04-15T08:16:39.8719388Z       âœ“ single parameter, only send defined, using expression (11 ms)
2025-04-15T08:16:39.8719769Z       âœ“ single parameter, send and operations defined, fixed value (1 ms)
2025-04-15T08:16:39.8720194Z       âœ“ multiple parameters, complex example with everything (9 ms)
2025-04-15T08:16:39.8720482Z     runNode
2025-04-15T08:16:39.8720860Z       âœ“ single parameter, only send defined, fixed value, using requestDefaults (2 ms)
2025-04-15T08:16:39.8721315Z       âœ“ single parameter, only send defined, fixed value, using requestDefaults
2025-04-15T08:16:39.8721768Z       âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite (1 ms)
2025-04-15T08:16:39.8722307Z       âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite and expressions (2 ms)
2025-04-15T08:16:39.8722868Z       âœ“ single parameter, send and operations defined, fixed value with pagination (1 ms)
2025-04-15T08:16:39.8723303Z       âœ“ multiple parameters, from applyDeclarativeNodeOptionParameters (3 ms)
2025-04-15T08:16:39.8723739Z       âœ“ multiple parameters, complex example with everything (6 ms)
2025-04-15T08:16:39.8724059Z       âœ“ single parameter, postReceive: set (1 ms)
2025-04-15T08:16:39.8724367Z       âœ“ single parameter, postReceive: rootProperty (1 ms)
2025-04-15T08:16:39.8724914Z       âœ“ single parameter, multiple postReceive: rootProperty, setKeyValue, sort (2 ms)
2025-04-15T08:16:39.8725221Z     itemIndex
2025-04-15T08:16:39.8725576Z       âœ“ single parameter, only send defined, fixed value, using requestDefaults (1 ms)
2025-04-15T08:16:39.8725776Z 
2025-04-15T08:16:39.8726798Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8727731Z PASS src/execution-engine/partial-execution-utils/__tests__/get-source-data-groups.test.ts
2025-04-15T08:16:39.8728588Z   getSourceDataGroups
2025-04-15T08:16:39.8728966Z     âœ“ groups sources into possibly complete sets if all of them have data (10 ms)
2025-04-15T08:16:39.8729367Z     âœ“ groups sources into possibly complete sets if all of them have data (1 ms)
2025-04-15T08:16:39.8730033Z     âœ“ groups sources into one complete set with 2 connections and one incomplete set with 1 connection
2025-04-15T08:16:39.8730573Z     âœ“ groups sources into one complete set with 2 connections and one incomplete set with 2 connection (3 ms)
2025-04-15T08:16:39.8731252Z     âœ“ groups sources into two incomplete sets, one with 1 connection without and one with 2 connections one with data and one without (1 ms)
2025-04-15T08:16:39.8731726Z     âœ“ return an incomplete group when there is no data on input 2
2025-04-15T08:16:39.8732063Z     âœ“ return an incomplete group when there is no data on input 1
2025-04-15T08:16:39.8732444Z     âœ“ terminates with negative input indexes (1 ms)
2025-04-15T08:16:39.8732752Z     âœ“ terminates inputs with missing connections
2025-04-15T08:16:39.8733072Z     âœ“ terminates if the graph has no connections
2025-04-15T08:16:39.8733225Z 
2025-04-15T08:16:39.8733418Z PASS src/execution-engine/__tests__/workflow-execute.test.ts
2025-04-15T08:16:39.8733705Z   WorkflowExecute
2025-04-15T08:16:39.8733959Z     v0 execution order
2025-04-15T08:16:39.8734416Z       âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (33 ms)
2025-04-15T08:16:39.8734934Z       âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (24 ms)
2025-04-15T08:16:39.8735364Z       âœ“ should run basic two node workflow (4 ms)
2025-04-15T08:16:39.8735694Z       âœ“ should run node twice when it has two input connections3 (2 ms)
2025-04-15T08:16:39.8736070Z       âœ“ should run complicated multi node workflow (3 ms)
2025-04-15T08:16:39.8736692Z       âœ“ should run workflow also if node has multiple input connections and one is empty (4 ms)
2025-04-15T08:16:39.8737110Z       âœ“ should use empty data if second input does not have any data (2 ms)
2025-04-15T08:16:39.8737568Z       âœ“ should use empty data if input of sibling does not receive any data from parent (2 ms)
2025-04-15T08:16:39.8738003Z       âœ“ should not use empty data in sibling if parent did not send any data (2 ms)
2025-04-15T08:16:39.8738481Z       âœ“ should display the correct parameters and so correct data when simplified node-versioning is used (7 ms)
2025-04-15T08:16:39.8739013Z       âœ“ should execute nodes in the correct order, breath-first & order of connection (5 ms)
2025-04-15T08:16:39.8739335Z     v1 execution order
2025-04-15T08:16:39.8739661Z       âœ“ should run node twice when it has two input connections (1 ms)
2025-04-15T08:16:39.8740016Z       âœ“ should run complicated multi node workflow (2 ms)
2025-04-15T08:16:39.8740453Z       âœ“ should execute nodes in the correct order, depth-first & the most top-left one first (9 ms)
2025-04-15T08:16:39.8741003Z       âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (9 ms)
2025-04-15T08:16:39.8741442Z       âœ“ should run keep on executing even if data from input 1 is missing (2 ms)
2025-04-15T08:16:39.8742003Z       âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (4 ms)
2025-04-15T08:16:39.8742728Z       âœ“ Should output successful branches on multi-output nodes with continueErrorOutput selected (6 ms)
2025-04-15T08:16:39.8743065Z     run test workflows
2025-04-15T08:16:39.8743523Z       âœ“ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/error_outputs (75 ms)
2025-04-15T08:16:39.8744098Z       âœ“ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/paired_items_fix (36 ms)
2025-04-15T08:16:39.8744452Z     runPartialWorkflow2
2025-04-15T08:16:39.8744777Z       âœ“ deletes dirty nodes' run data (4 ms)
2025-04-15T08:16:39.8745108Z       âœ“ deletes run data of children of dirty nodes as well (2 ms)
2025-04-15T08:16:39.8745461Z       âœ“ removes disabled nodes from the workflow (1 ms)
2025-04-15T08:16:39.8745847Z       âœ“ passes filtered run data to `recreateNodeExecutionStack` (2 ms)
2025-04-15T08:16:39.8746239Z       âœ“ passes subgraph to `cleanRunData` (1 ms)
2025-04-15T08:16:39.8746785Z       âœ“ passes pruned dirty nodes to `cleanRunData`
2025-04-15T08:16:39.8747068Z       âœ“ works with a single node
2025-04-15T08:16:39.8747293Z     checkReadyForExecution
2025-04-15T08:16:39.8747634Z       âœ“ should return null if there are no nodes (1 ms)
2025-04-15T08:16:39.8747949Z       âœ“ should return null if there are no enabled nodes
2025-04-15T08:16:39.8748298Z       âœ“ should return typeUnknown for unknown nodes (3 ms)
2025-04-15T08:16:39.8748614Z       âœ“ should return issues for regular nodes
2025-04-15T08:16:39.8748862Z     runNode
2025-04-15T08:16:39.8749199Z       âœ“ should call closeFunction when manual trigger is aborted (11 ms)
2025-04-15T08:16:39.8749485Z     handleNodeErrorOutput
2025-04-15T08:16:39.8749786Z       âœ“ should handle undefined error data input correctly (1 ms)
2025-04-15T08:16:39.8750155Z       âœ“ should handle empty input (1 ms)
2025-04-15T08:16:39.8750465Z       âœ“ should route error items to last output (1 ms)
2025-04-15T08:16:39.8750867Z       âœ“ should handle error in json with message property
2025-04-15T08:16:39.8751231Z       âœ“ should preserve pairedItem data when routing errors (1 ms)
2025-04-15T08:16:39.8751587Z       âœ“ should route multiple error items correctly (1 ms)
2025-04-15T08:16:39.8751974Z       âœ“ should handle complex pairedItem data correctly (2 ms)
2025-04-15T08:16:39.8752270Z     prepareWaitingToExecution
2025-04-15T08:16:39.8752563Z       âœ“ should initialize waitingExecutionSource if undefined
2025-04-15T08:16:39.8752979Z       âœ“ should create arrays of correct length with null values (1 ms)
2025-04-15T08:16:39.8753314Z       âœ“ should work with zero connections
2025-04-15T08:16:39.8753615Z       âœ“ should handle multiple run indices
2025-04-15T08:16:39.8753900Z     incomingConnectionIsEmpty
2025-04-15T08:16:39.8754208Z       âœ“ should return true when there are no input connections
2025-04-15T08:16:39.8754629Z       âœ“ should return true when all input connections have no data
2025-04-15T08:16:39.8755036Z       âœ“ should return true when input connection node does not exist in runData
2025-04-15T08:16:39.8755425Z       âœ“ should return false when any input connection has data
2025-04-15T08:16:39.8755759Z       âœ“ should check correct run index
2025-04-15T08:16:39.8756077Z       âœ“ should handle undefined data in runData correctly (1 ms)
2025-04-15T08:16:39.8756490Z     moveNodeMetadata
2025-04-15T08:16:39.8756807Z       âœ“ should do nothing when there is no metadata
2025-04-15T08:16:39.8757114Z       âœ“ should merge metadata into runData for single node
2025-04-15T08:16:39.8757544Z       âœ“ should merge metadata into runData for multiple nodes (1 ms)
2025-04-15T08:16:39.8757881Z       âœ“ should preserve existing metadata when merging
2025-04-15T08:16:39.8758222Z       âœ“ should handle multiple run indices (1 ms)
2025-04-15T08:16:39.8758505Z     getFullRunData
2025-04-15T08:16:39.8758839Z       âœ“ should return complete IRun object with all properties correctly set (1 ms)
2025-04-15T08:16:39.8759207Z     processSuccessExecution
2025-04-15T08:16:39.8759716Z       âœ“ should handle different workflow completion scenarios (28 ms)
2025-04-15T08:16:39.8760090Z       âœ“ should handle static data, hooks, and cleanup correctly (2 ms)
2025-04-15T08:16:39.8760427Z     assignPairedItems
2025-04-15T08:16:39.8760695Z       âœ“ should handle undefined node output
2025-04-15T08:16:39.8761076Z       âœ“ should auto-fix pairedItem for single input/output scenario
2025-04-15T08:16:39.8761461Z       âœ“ should auto-fix pairedItem when number of items match (1 ms)
2025-04-15T08:16:39.8761800Z       âœ“ should not modify existing pairedItem data
2025-04-15T08:16:39.8762152Z       âœ“ should process multiple output branches correctly
2025-04-15T08:16:39.8762410Z     ensureInputData
2025-04-15T08:16:39.8762701Z       âœ“ should return true when node has no input connections (1 ms)
2025-04-15T08:16:39.8763132Z       âœ“ should return false when execution data does not have main connection
2025-04-15T08:16:39.8763558Z       âœ“ should return true when input data is available for force input node execution
2025-04-15T08:16:39.8764131Z       âœ“ should return false when input data is not available for force input node execution (1 ms)
2025-04-15T08:16:39.8764475Z     customOperations
2025-04-15T08:16:39.8764736Z       âœ“ should execute customOperations
2025-04-15T08:16:39.8765123Z       âœ“ should throw error if customOperation and execute both defined (1 ms)
2025-04-15T08:16:39.8765349Z 
2025-04-15T08:16:39.8765602Z PASS src/execution-engine/node-execution-context/utils/__tests__/binary-helper-functions.test.ts
2025-04-15T08:16:39.8765965Z   test binary data helper methods
2025-04-15T08:16:39.8766573Z     âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'default' mode (4 ms)
2025-04-15T08:16:39.8767088Z     âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'filesystem' mode (243 ms)
2025-04-15T08:16:39.8767512Z   binaryToString
2025-04-15T08:16:39.8767774Z     âœ“ should handle undefined encoding
2025-04-15T08:16:39.8768074Z     âœ“ should handle stream with no explicit encoding (1 ms)
2025-04-15T08:16:39.8768529Z     should handle Buffer
2025-04-15T08:16:39.8768778Z       âœ“ with utf8 (5 ms)
2025-04-15T08:16:39.8769033Z       âœ“ with iso-8859-15
2025-04-15T08:16:39.8769280Z       âœ“ with latin1
2025-04-15T08:16:39.8769494Z       âœ“ with ascii
2025-04-15T08:16:39.8769764Z       âœ“ with windows-1252
2025-04-15T08:16:39.8770023Z       âœ“ with shift-jis (6 ms)
2025-04-15T08:16:39.8770270Z       âœ“ with big5 (6 ms)
2025-04-15T08:16:39.8770551Z       âœ“ with koi8-r
2025-04-15T08:16:39.8770796Z     should handle streams
2025-04-15T08:16:39.8771069Z       âœ“ with utf8 (2 ms)
2025-04-15T08:16:39.8771314Z       âœ“ with iso-8859-15
2025-04-15T08:16:39.8771550Z       âœ“ with latin1 (1 ms)
2025-04-15T08:16:39.8771828Z       âœ“ with ascii
2025-04-15T08:16:39.8772047Z       âœ“ with windows-1252
2025-04-15T08:16:39.8772271Z       âœ“ with shift-jis
2025-04-15T08:16:39.8772550Z       âœ“ with big5
2025-04-15T08:16:39.8772793Z       âœ“ with koi8-r (1 ms)
2025-04-15T08:16:39.8773080Z     should handle IncomingMessage
2025-04-15T08:16:39.8773342Z       âœ“ with utf8
2025-04-15T08:16:39.8773575Z       âœ“ with iso-8859-15
2025-04-15T08:16:39.8773838Z       âœ“ with latin1 (1 ms)
2025-04-15T08:16:39.8774081Z       âœ“ with ascii (3 ms)
2025-04-15T08:16:39.8774330Z       âœ“ with windows-1252 (1 ms)
2025-04-15T08:16:39.8774622Z       âœ“ with shift-jis
2025-04-15T08:16:39.8774859Z       âœ“ with big5 (1 ms)
2025-04-15T08:16:39.8775102Z       âœ“ with koi8-r
2025-04-15T08:16:39.8775325Z   detectBinaryEncoding
2025-04-15T08:16:39.8775631Z     âœ“ should detect encoding for utf-8 buffers (1 ms)
2025-04-15T08:16:39.8775987Z     âœ“ should detect encoding for latin1 buffers (1 ms)
2025-04-15T08:16:39.8776403Z     âœ“ should handle empty buffer
2025-04-15T08:16:39.8776679Z   assertBinaryData
2025-04-15T08:16:39.8777032Z     âœ“ should throw error when no binary data exists (20 ms)
2025-04-15T08:16:39.8777410Z     âœ“ should throw error when specific binary property does not exist
2025-04-15T08:16:39.8777907Z     âœ“ should return binary data when it exists
2025-04-15T08:16:39.8778185Z   copyBinaryFile
2025-04-15T08:16:39.8778466Z     âœ“ should handle files without explicit mime type (1 ms)
2025-04-15T08:16:39.8778814Z     âœ“ should use provided mime type
2025-04-15T08:16:39.8779071Z   prepareBinaryData
2025-04-15T08:16:39.8779312Z     âœ“ parses filenames correctly (3 ms)
2025-04-15T08:16:39.8779676Z     âœ“ handles IncomingMessage with responseUrl
2025-04-15T08:16:39.8779980Z     âœ“ handles buffer with no detectable mime type
2025-04-15T08:16:39.8780351Z     âœ“ handles IncomingMessage with no content type or filename
2025-04-15T08:16:39.8780640Z   setBinaryDataBuffer
2025-04-15T08:16:39.8780897Z     âœ“ should handle empty buffer (1 ms)
2025-04-15T08:16:39.8781191Z   getBinaryHelperFunctions
2025-04-15T08:16:39.8781501Z     âœ“ should return helper functions with correct context (1 ms)
2025-04-15T08:16:39.8781779Z   createBinarySignedUrl
2025-04-15T08:16:39.8782102Z     âœ“ should get a signed url
2025-04-15T08:16:39.8782227Z 
2025-04-15T08:16:39.8783206Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8784084Z PASS src/instance-settings/__tests__/instance-settings.test.ts
2025-04-15T08:16:39.8784386Z   InstanceSettings
2025-04-15T08:16:39.8784627Z     If the settings file exists
2025-04-15T08:16:39.8784962Z       âœ“ should load settings from the file (4 ms)
2025-04-15T08:16:39.8785321Z       âœ“ should throw error if settings file is not valid JSON (14 ms)
2025-04-15T08:16:39.8785667Z       âœ“ should throw if the env and file keys do not match (1 ms)
2025-04-15T08:16:39.8786098Z       âœ“ should check if the settings file has the correct permissions (1 ms)
2025-04-15T08:16:39.8786776Z       âœ“ should check the permissions but not fix them if settings file has incorrect permissions by default
2025-04-15T08:16:39.8787490Z       âœ“ should not check the permissions if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is false (1 ms)
2025-04-15T08:16:39.8787996Z       âœ“ should fix the permissions of the settings file if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is true
2025-04-15T08:16:39.8788334Z     If the settings file does not exist
2025-04-15T08:16:39.8788837Z       âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS is not set
2025-04-15T08:16:39.8789426Z       âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false (1 ms)
2025-04-15T08:16:39.8790000Z       âœ“ should create a new settings file with explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
2025-04-15T08:16:39.8790494Z       âœ“ should pick up the encryption key from env var N8N_ENCRYPTION_KEY (2 ms)
2025-04-15T08:16:39.8790963Z       âœ“ should not set the permissions of the settings file if 'N8N_IGNORE_SETTINGS_FILE_PERMISSIONS' is true
2025-04-15T08:16:39.8791480Z       âœ“ should throw on a worker process, if encryption key isn't set via env (3 ms)
2025-04-15T08:16:39.8791791Z     constructor
2025-04-15T08:16:39.8792027Z       âœ“ should generate a `hostId` (1 ms)
2025-04-15T08:16:39.8792354Z     isDocker
2025-04-15T08:16:39.8792619Z       âœ“ should return true if /.dockerenv exists (1 ms)
2025-04-15T08:16:39.8792958Z       âœ“ should return true if /run/.containerenv exists
2025-04-15T08:16:39.8793331Z       âœ“ should return true if /proc/self/cgroup contains docker (1 ms)
2025-04-15T08:16:39.8793712Z       âœ“ should return true if /proc/self/cgroup contains kubepods (1 ms)
2025-04-15T08:16:39.8794141Z       âœ“ should return true if /proc/self/cgroup contains containerd (6 ms)
2025-04-15T08:16:39.8794520Z       âœ“ should return true if /proc/self/mountinfo contains docker (1 ms)
2025-04-15T08:16:39.8794874Z       âœ“ should return true if /proc/self/mountinfo contains kubelet
2025-04-15T08:16:39.8795438Z       âœ“ should return true if /proc/self/mountinfo contains containerd (1 ms)
2025-04-15T08:16:39.8795798Z       âœ“ should return false if no docker indicators are found
2025-04-15T08:16:39.8796295Z       âœ“ should return false if reading any of these files throws an error
2025-04-15T08:16:39.8796777Z       âœ“ should cache the result of isDocker check (1 ms)
2025-04-15T08:16:39.8796963Z 
2025-04-15T08:16:39.8797240Z PASS src/execution-engine/node-execution-context/utils/__tests__/get-input-connection-data.test.ts
2025-04-15T08:16:39.8797676Z   getInputConnectionData
2025-04-15T08:16:39.8797907Z     ai_agent
2025-04-15T08:16:39.8798199Z       âœ“ should throw when no inputs are defined (31 ms)
2025-04-15T08:16:39.8798618Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:16:39.8799019Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8799409Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8799853Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8800189Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8800563Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8800876Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:16:39.8801142Z     ai_chain
2025-04-15T08:16:39.8801436Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8801830Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:16:39.8802242Z       âœ“ should throw when too many nodes are connected
2025-04-15T08:16:39.8802583Z       âœ“ should throw when required node is not connected (2 ms)
2025-04-15T08:16:39.8802880Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8803236Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8803588Z       âœ“ should propagate configuration errors
2025-04-15T08:16:39.8803895Z       âœ“ should handle close functions
2025-04-15T08:16:39.8804179Z     ai_document
2025-04-15T08:16:39.8804452Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8804901Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8805291Z       âœ“ should throw when too many nodes are connected (6 ms)
2025-04-15T08:16:39.8805614Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8805989Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8806410Z       âœ“ should handle node execution errors (6 ms)
2025-04-15T08:16:39.8806778Z       âœ“ should propagate configuration errors
2025-04-15T08:16:39.8807089Z       âœ“ should handle close functions (1 ms)
2025-04-15T08:16:39.8807379Z     ai_embedding
2025-04-15T08:16:39.8807695Z       âœ“ should throw when no inputs are defined
2025-04-15T08:16:39.8808340Z       âœ“ should return undefined when no nodes are connected and input is not required (2 ms)
2025-04-15T08:16:39.8808730Z       âœ“ should throw when too many nodes are connected
2025-04-15T08:16:39.8809116Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8809432Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8809755Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8810069Z       âœ“ should propagate configuration errors
2025-04-15T08:16:39.8810368Z       âœ“ should handle close functions
2025-04-15T08:16:39.8810641Z     ai_languageModel
2025-04-15T08:16:39.8810957Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8811330Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8811766Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8812114Z       âœ“ should throw when required node is not connected
2025-04-15T08:16:39.8812442Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8812741Z       âœ“ should handle node execution errors
2025-04-15T08:16:39.8813200Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8813533Z       âœ“ should handle close functions
2025-04-15T08:16:39.8813781Z     ai_memory
2025-04-15T08:16:39.8814022Z       âœ“ should throw when no inputs are defined
2025-04-15T08:16:39.8814502Z       âœ“ should return undefined when no nodes are connected and input is not required (5 ms)
2025-04-15T08:16:39.8814887Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8815298Z       âœ“ should throw when required node is not connected
2025-04-15T08:16:39.8815604Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8815863Z       âœ“ should handle node execution errors
2025-04-15T08:16:39.8816295Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8816685Z       âœ“ should handle close functions
2025-04-15T08:16:39.8816949Z     ai_outputParser
2025-04-15T08:16:39.8817231Z       âœ“ should throw when no inputs are defined
2025-04-15T08:16:39.8817609Z       âœ“ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:16:39.8818198Z       âœ“ should throw when too many nodes are connected (2 ms)
2025-04-15T08:16:39.8818536Z       âœ“ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8818846Z       âœ“ should handle disabled nodes
2025-04-15T08:16:39.8819186Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8819493Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8819820Z       âœ“ should handle close functions
2025-04-15T08:16:39.8820068Z     ai_retriever
2025-04-15T08:16:39.8820349Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8820766Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8821181Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8821495Z       âœ“ should throw when required node is not connected
2025-04-15T08:16:39.8821977Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8822263Z       âœ“ should handle node execution errors
2025-04-15T08:16:39.8822613Z       âœ“ should propagate configuration errors (3 ms)
2025-04-15T08:16:39.8822918Z       âœ“ should handle close functions (6 ms)
2025-04-15T08:16:39.8823187Z     ai_textSplitter
2025-04-15T08:16:39.8823483Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8823860Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8824271Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8824621Z       âœ“ should throw when required node is not connected (2 ms)
2025-04-15T08:16:39.8824905Z       âœ“ should handle disabled nodes
2025-04-15T08:16:39.8825268Z       âœ“ should handle node execution errors
2025-04-15T08:16:39.8825565Z       âœ“ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8825869Z       âœ“ should handle close functions
2025-04-15T08:16:39.8826128Z     ai_vectorStore
2025-04-15T08:16:39.8826632Z       âœ“ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8827072Z       âœ“ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8827443Z       âœ“ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8827751Z       âœ“ should throw when required node is not connected
2025-04-15T08:16:39.8828112Z       âœ“ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8828403Z       âœ“ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8828768Z       âœ“ should propagate configuration errors
2025-04-15T08:16:39.8829086Z       âœ“ should handle close functions (2 ms)
2025-04-15T08:16:39.8829321Z     ai_tool
2025-04-15T08:16:39.8829709Z       âœ“ should return empty array when no tools are connected and input is not required (1 ms)
2025-04-15T08:16:39.8830093Z       âœ“ should throw when required tool node is not connected
2025-04-15T08:16:39.8830407Z       âœ“ should handle disabled tool nodes (1 ms)
2025-04-15T08:16:39.8830882Z       âœ“ should handle multiple connected tools (1 ms)
2025-04-15T08:16:39.8831197Z       âœ“ should handle tool execution errors (1 ms)
2025-04-15T08:16:39.8831577Z       âœ“ should return the tool when there are no issues (5 ms)
2025-04-15T08:16:39.8831883Z   makeHandleToolInvocation
2025-04-15T08:16:39.8832208Z     âœ“ should return stringified results when execution is successful (1 ms)
2025-04-15T08:16:39.8832633Z     âœ“ should handle binary data and return a warning message
2025-04-15T08:16:39.8832981Z     âœ“ should continue if json and binary data exist (1 ms)
2025-04-15T08:16:39.8833354Z     âœ“ should handle execution errors and return an error message
2025-04-15T08:16:39.8833753Z     âœ“ should increment the toolRunIndex for each invocation (1 ms)
2025-04-15T08:16:39.8833926Z 
2025-04-15T08:16:39.8834155Z PASS src/binary-data/object-store/__tests__/object-store.service.test.ts
2025-04-15T08:16:39.8834498Z   checkConnection()
2025-04-15T08:16:39.8834840Z     âœ“ should send a HEAD request to the correct host (5 ms)
2025-04-15T08:16:39.8835212Z     âœ“ should throw an error on request failure (15 ms)
2025-04-15T08:16:39.8835553Z   getMetadata()
2025-04-15T08:16:39.8835877Z     âœ“ should send a HEAD request to the correct host and path (1 ms)
2025-04-15T08:16:39.8836352Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8836707Z   put()
2025-04-15T08:16:39.8837013Z     âœ“ should send a PUT request to upload an object (1 ms)
2025-04-15T08:16:39.8837394Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8837640Z   get()
2025-04-15T08:16:39.8837919Z     âœ“ should send a GET request to download an object as a buffer (1 ms)
2025-04-15T08:16:39.8838356Z     âœ“ should send a GET request to download an object as a stream
2025-04-15T08:16:39.8838711Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8838980Z   deleteOne()
2025-04-15T08:16:39.8839320Z     âœ“ should send a DELETE request to delete a single object (1 ms)
2025-04-15T08:16:39.8839664Z     âœ“ should throw an error on request failure
2025-04-15T08:16:39.8839980Z   deleteMany()
2025-04-15T08:16:39.8840274Z     âœ“ should send a POST request to delete multiple objects (1 ms)
2025-04-15T08:16:39.8840618Z     âœ“ should not send a deletion request if no prefix match (1 ms)
2025-04-15T08:16:39.8841013Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8841260Z   list()
2025-04-15T08:16:39.8841558Z     âœ“ should list objects with a common prefix
2025-04-15T08:16:39.8841848Z     âœ“ should consolidate pages
2025-04-15T08:16:39.8842144Z     âœ“ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8842341Z 
2025-04-15T08:16:39.8842570Z PASS src/execution-engine/partial-execution-utils/__tests__/find-subgraph.test.ts
2025-04-15T08:16:39.8842909Z   findSubgraph
2025-04-15T08:16:39.8843127Z     âœ“ simple (4 ms)
2025-04-15T08:16:39.8843414Z     âœ“ works with a single node
2025-04-15T08:16:39.8843685Z     âœ“ multiple connections (1 ms)
2025-04-15T08:16:39.8844010Z     âœ“ disregard nodes after destination
2025-04-15T08:16:39.8844467Z     âœ“ terminates when called with graph that contains cycles
2025-04-15T08:16:39.8845068Z     âœ“ terminates when called with graph that contains cycles (1 ms)
2025-04-15T08:16:39.8845433Z     âœ“ terminates if the destination node is part of a cycle
2025-04-15T08:16:39.8845692Z     root nodes
2025-04-15T08:16:39.8846215Z       âœ“ always retain connections that have a different type than `NodeConnectionTypes.Main`
2025-04-15T08:16:39.8846719Z       âœ“ skip non-Main connection types (1 ms)
2025-04-15T08:16:39.8847025Z       âœ“ remove orphaned nodes (1 ms)
2025-04-15T08:16:39.8847167Z 
2025-04-15T08:16:39.8847500Z PASS src/execution-engine/node-execution-context/utils/__tests__/validate-value-against-schema.test.ts
2025-04-15T08:16:39.8847871Z   validateValueAgainstSchema
2025-04-15T08:16:39.8848425Z     âœ“ should validate fixedCollection values parameter (4 ms)
2025-04-15T08:16:39.8848745Z     âœ“ should validate single value parameter
2025-04-15T08:16:39.8849137Z     when validating a resource mapper value
2025-04-15T08:16:39.8849472Z       when attemptToConvertTypes === true
2025-04-15T08:16:39.8849737Z         should correctly validate values for
2025-04-15T08:16:39.8850037Z           âœ“ { num: 0 }
2025-04-15T08:16:39.8850307Z           âœ“ { num: 23 }
2025-04-15T08:16:39.8850603Z           âœ“ { num: -0 } (1 ms)
2025-04-15T08:16:39.8850917Z           âœ“ { num: -Infinity }
2025-04-15T08:16:39.8851154Z           âœ“ { num: Infinity }
2025-04-15T08:16:39.8851398Z           âœ“ { str: '' } (1 ms)
2025-04-15T08:16:39.8851719Z           âœ“ { str: ' ' }
2025-04-15T08:16:39.8851956Z           âœ“ { str: 'hello' }
2025-04-15T08:16:39.8852241Z           âœ“ { arr: [] } (1 ms)
2025-04-15T08:16:39.8852488Z           âœ“ { obj: {} }
2025-04-15T08:16:39.8852725Z         should throw an error for
2025-04-15T08:16:39.8853043Z           âœ“ { num: NaN } (15 ms)
2025-04-15T08:16:39.8853307Z           âœ“ { num: undefined } (1 ms)
2025-04-15T08:16:39.8853557Z           âœ“ { num: null }
2025-04-15T08:16:39.8853896Z       when showTypeConversionOptions is not set (=default)
2025-04-15T08:16:39.8854228Z         âœ“ should correctly convert types (1 ms)
2025-04-15T08:16:39.8854530Z       when showTypeConversionOptions is true
2025-04-15T08:16:39.8854849Z         âœ“ should throw an error
2025-04-15T08:16:39.8855015Z 
2025-04-15T08:16:39.8855232Z PASS src/execution-engine/partial-execution-utils/__tests__/clean-run-data.test.ts
2025-04-15T08:16:39.8855590Z   cleanRunData
2025-04-15T08:16:39.8855936Z     âœ“ deletes all run data of all children and the node being passed in (3 ms)
2025-04-15T08:16:39.8856500Z     âœ“ retains the run data of parent nodes of the node being passed in (1 ms)
2025-04-15T08:16:39.8856885Z     âœ“ terminates when finding a cycle
2025-04-15T08:16:39.8857211Z     âœ“ removes run data of nodes that are not in the subgraph
2025-04-15T08:16:39.8857594Z     âœ“ removes run data of sub nodes when the start node is a root node
2025-04-15T08:16:39.8858012Z     âœ“ removes run data of sub nodes for root nodes downstream of the start node
2025-04-15T08:16:39.8858476Z     âœ“ removes run data of sub nodes as well if the sub node is shared between multiple root nodes (1 ms)
2025-04-15T08:16:39.8858745Z 
2025-04-15T08:16:39.8859011Z PASS src/execution-engine/node-execution-context/utils/__tests__/parse-incoming-message.test.ts
2025-04-15T08:16:39.8859477Z   parseContentType
2025-04-15T08:16:39.8859777Z     âœ“ should parse basic content type (3 ms)
2025-04-15T08:16:39.8860091Z     âœ“ should convert type to lowercase
2025-04-15T08:16:39.8860418Z     âœ“ should parse content type with charset
2025-04-15T08:16:39.8860812Z     âœ“ should parse content type with multiple parameters
2025-04-15T08:16:39.8861123Z     âœ“ should handle quoted parameter values
2025-04-15T08:16:39.8861411Z     âœ“ should handle encoded parameter values (1 ms)
2025-04-15T08:16:39.8861778Z     âœ“ should return null for undefined input
2025-04-15T08:16:39.8862088Z     âœ“ should return null for empty string
2025-04-15T08:16:39.8862393Z   parseContentDisposition
2025-04-15T08:16:39.8862876Z     âœ“ should parse basic content disposition
2025-04-15T08:16:39.8863206Z     âœ“ should parse filename without quotes (1 ms)
2025-04-15T08:16:39.8863574Z     âœ“ should parse inline disposition
2025-04-15T08:16:39.8863867Z     âœ“ should parse filename with spaces
2025-04-15T08:16:39.8864160Z     âœ“ should parse filename* parameter (RFC 5987)
2025-04-15T08:16:39.8864531Z     âœ“ should handle invalid syntax but with filename (1 ms)
2025-04-15T08:16:39.8864893Z     âœ“ should handle invalid syntax with only filename parameter
2025-04-15T08:16:39.8865226Z     âœ“ should return null for undefined input
2025-04-15T08:16:39.8865564Z     âœ“ should return null for empty string
2025-04-15T08:16:39.8865857Z     âœ“ should handle encoded filenames
2025-04-15T08:16:39.8866241Z     âœ“ should handle multiple parameters (1 ms)
2025-04-15T08:16:39.8866594Z   parseIncomingMessage
2025-04-15T08:16:39.8866844Z     âœ“ parses valid content-type header
2025-04-15T08:16:39.8867225Z     âœ“ parses valid content-type header with parameters (1 ms)
2025-04-15T08:16:39.8867733Z     âœ“ parses valid content-type header with encoding wrapped in quotes
2025-04-15T08:16:39.8868144Z     âœ“ parses valid content-disposition header with filename* (3 ms)
2025-04-15T08:16:39.8868544Z     âœ“ parses valid content-disposition header with filename* (quoted)
2025-04-15T08:16:39.8869004Z     âœ“ parses valid content-disposition header with filename and trailing ";" (1 ms)
2025-04-15T08:16:39.8869431Z     âœ“ parses non standard content-disposition with missing type
2025-04-15T08:16:39.8869645Z 
2025-04-15T08:16:39.8869915Z PASS src/execution-engine/partial-execution-utils/__tests__/find-trigger-for-partial-execution.test.ts
2025-04-15T08:16:39.8870329Z   findTriggerForPartialExecution
2025-04-15T08:16:39.8870629Z     Single trigger node
2025-04-15T08:16:39.8870941Z       âœ“ should return the destination node if it is a trigger (4 ms)
2025-04-15T08:16:39.8871357Z       âœ“ should return a parent trigger node for a non-trigger destination (1 ms)
2025-04-15T08:16:39.8871712Z     Multiple trigger nodes
2025-04-15T08:16:39.8872053Z       âœ“ should prioritize webhook nodes when multiple parent triggers exist
2025-04-15T08:16:39.8872456Z       âœ“ should handle multiple webhook triggers (1 ms)
2025-04-15T08:16:39.8872809Z       âœ“ should prioritize webhook node, even if it is further up (1 ms)
2025-04-15T08:16:39.8873151Z       âœ“ should ignore disabled parent trigger nodes (1 ms)
2025-04-15T08:16:39.8873473Z     No trigger nodes
2025-04-15T08:16:39.8873779Z       âœ“ should return undefined when no valid parent triggers found
2025-04-15T08:16:39.8874116Z     Trigger node with pinned data
2025-04-15T08:16:39.8874431Z       âœ“ should prioritize pinned trigger nodes (1 ms)
2025-04-15T08:16:39.8874757Z       âœ“ should prioritize pinned webhook triggers (1 ms)
2025-04-15T08:16:39.8875223Z       âœ“ should prioritize the first connected pinned webhook triggers (1 ms)
2025-04-15T08:16:39.8875648Z       âœ“ should prioritize the first connected pinned webhook triggers (reverse) (5 ms)
2025-04-15T08:16:39.8876020Z     Error and Edge Case Handling
2025-04-15T08:16:39.8876437Z       âœ“ should handle non-existent destination node gracefully
2025-04-15T08:16:39.8876815Z       âœ“ should handle empty workflow
2025-04-15T08:16:39.8877147Z       âœ“ should handle workflow with no connections
2025-04-15T08:16:39.8877292Z 
2025-04-15T08:16:39.8877564Z PASS src/execution-engine/node-execution-context/__tests__/node-execution-context.test.ts
2025-04-15T08:16:39.8877911Z   NodeExecutionContext
2025-04-15T08:16:39.8878176Z     getNode
2025-04-15T08:16:39.8878456Z       âœ“ should return a deep copy of the node (3 ms)
2025-04-15T08:16:39.8878731Z     getWorkflow
2025-04-15T08:16:39.8879077Z       âœ“ should return the id, name, and active properties of the workflow
2025-04-15T08:16:39.8879369Z     getMode
2025-04-15T08:16:39.8879658Z       âœ“ should return the mode property (1 ms)
2025-04-15T08:16:39.8879928Z     getWorkflowStaticData
2025-04-15T08:16:39.8880207Z       âœ“ should call getStaticData method of workflow (1 ms)
2025-04-15T08:16:39.8880644Z     getChildNodes
2025-04-15T08:16:39.8881013Z       âœ“ should return an array of NodeTypeAndVersion objects for the child nodes of the given node
2025-04-15T08:16:39.8881401Z     getParentNodes
2025-04-15T08:16:39.8881797Z       âœ“ should return an array of NodeTypeAndVersion objects for the parent nodes of the given node
2025-04-15T08:16:39.8882126Z     getKnownNodeTypes
2025-04-15T08:16:39.8882493Z       âœ“ should call getKnownTypes method of nodeTypes (1 ms)
2025-04-15T08:16:39.8882753Z     getRestApiUrl
2025-04-15T08:16:39.8883027Z       âœ“ should return the restApiUrl property of additionalData
2025-04-15T08:16:39.8883361Z     getInstanceBaseUrl
2025-04-15T08:16:39.8883729Z       âœ“ should return the instanceBaseUrl property of additionalData (1 ms)
2025-04-15T08:16:39.8884035Z     getInstanceId
2025-04-15T08:16:39.8884348Z       âœ“ should return the instanceId property of instanceSettings
2025-04-15T08:16:39.8884673Z     getTimezone
2025-04-15T08:16:39.8885091Z       âœ“ should return the timezone property of workflow
2025-04-15T08:16:39.8885690Z     getCredentialsProperties
2025-04-15T08:16:39.8886078Z       âœ“ should call getCredentialsProperties method of additionalData.credentialsHelper
2025-04-15T08:16:39.8886601Z     prepareOutputData
2025-04-15T08:16:39.8886899Z       âœ“ should return the input array wrapped in another array
2025-04-15T08:16:39.8887225Z     getNodeInputs
2025-04-15T08:16:39.8887561Z       âœ“ should return static inputs array when inputs is an array (1 ms)
2025-04-15T08:16:39.8887984Z       âœ“ should return input objects when inputs contains configurations
2025-04-15T08:16:39.8888991Z       âœ“ should evaluate dynamic inputs when inputs is a function (1 ms)
2025-04-15T08:16:39.8889311Z     getNodeOutputs
2025-04-15T08:16:39.8889617Z       âœ“ should return static outputs array when outputs is an array
2025-04-15T08:16:39.8890062Z       âœ“ should return output objects when outputs contains configurations (1 ms)
2025-04-15T08:16:39.8890459Z       âœ“ should evaluate dynamic outputs when outputs is a function
2025-04-15T08:16:39.8890904Z       âœ“ should add error output when node has continueOnFail error handling (1 ms)
2025-04-15T08:16:39.8891267Z     getConnectedNodes
2025-04-15T08:16:39.8891563Z       âœ“ should return connected nodes of given type (1 ms)
2025-04-15T08:16:39.8891940Z       âœ“ should filter out disabled nodes
2025-04-15T08:16:39.8892255Z       âœ“ should filter out non-existent nodes (1 ms)
2025-04-15T08:16:39.8892400Z 
2025-04-15T08:16:39.8892621Z PASS src/execution-engine/__tests__/active-workflows.test.ts
2025-04-15T08:16:39.8892932Z   ActiveWorkflows
2025-04-15T08:16:39.8893184Z     add()
2025-04-15T08:16:39.8893436Z       should activate workflow
2025-04-15T08:16:39.8893712Z         âœ“ with trigger nodes (4 ms)
2025-04-15T08:16:39.8893981Z         âœ“ with polling nodes (1 ms)
2025-04-15T08:16:39.8894332Z         âœ“ with both trigger and polling nodes (1 ms)
2025-04-15T08:16:39.8894590Z       should throw error
2025-04-15T08:16:39.8894876Z         âœ“ if trigger activation fails (16 ms)
2025-04-15T08:16:39.8895205Z         âœ“ if polling activation fails (8 ms)
2025-04-15T08:16:39.8895539Z         âœ“ if the polling interval is too short (1 ms)
2025-04-15T08:16:39.8895857Z       should handle polling errors
2025-04-15T08:16:39.8896256Z         âœ“ should throw error when poll fails during initial testing (1 ms)
2025-04-15T08:16:39.8896726Z         âœ“ should emit error when poll fails during regular polling (4 ms)
2025-04-15T08:16:39.8897075Z     remove()
2025-04-15T08:16:39.8897354Z       âœ“ should remove an active workflow (1 ms)
2025-04-15T08:16:39.8897718Z       âœ“ should return false when removing non-existent workflow
2025-04-15T08:16:39.8898096Z       âœ“ should handle TriggerCloseError when closing trigger (1 ms)
2025-04-15T08:16:39.8898528Z       âœ“ should throw WorkflowDeactivationError when closeFunction throws regular error (1 ms)
2025-04-15T08:16:39.8898903Z     get() and isActive()
2025-04-15T08:16:39.8899189Z       âœ“ should return workflow data for active workflow
2025-04-15T08:16:39.8899650Z       âœ“ should return undefined for non-active workflow
2025-04-15T08:16:39.8899958Z     allActiveWorkflows()
2025-04-15T08:16:39.8900237Z       âœ“ should return all active workflow IDs
2025-04-15T08:16:39.8900539Z     removeAllTriggerAndPollerBasedWorkflows()
2025-04-15T08:16:39.8900900Z       âœ“ should remove all active workflows
2025-04-15T08:16:39.8901137Z 
2025-04-15T08:16:39.8901948Z Permissions 00 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8902933Z PASS src/execution-engine/node-execution-context/utils/__tests__/file-system-helper-functions.test.ts
2025-04-15T08:16:39.8903343Z   isFilePathBlocked
2025-04-15T08:16:39.8903686Z     âœ“ should return true for static cache dir (18 ms)
2025-04-15T08:16:39.8904191Z     âœ“ should return true for restricted paths (1 ms)
2025-04-15T08:16:39.8904492Z     âœ“ should handle empty allowed paths
2025-04-15T08:16:39.8904808Z     âœ“ should handle multiple allowed paths
2025-04-15T08:16:39.8905119Z     âœ“ should handle empty strings in allowed paths
2025-04-15T08:16:39.8905414Z     âœ“ should trim whitespace in allowed paths (1 ms)
2025-04-15T08:16:39.8905842Z     âœ“ should return false when BLOCK_FILE_ACCESS_TO_N8N_FILES is false
2025-04-15T08:16:39.8906315Z     âœ“ should return true when path is in allowed paths but still restricted
2025-04-15T08:16:39.8906790Z     âœ“ should return false when path is in allowed paths
2025-04-15T08:16:39.8907158Z     âœ“ should return true when file paths in CONFIG_FILES (1 ms)
2025-04-15T08:16:39.8907514Z     âœ“ should return true when file paths in CUSTOM_EXTENSION_ENV
2025-04-15T08:16:39.8907923Z     âœ“ should return true when file paths in BINARY_DATA_STORAGE_PATH
2025-04-15T08:16:39.8908264Z     âœ“ should block file paths in email template paths
2025-04-15T08:16:39.8908548Z   getFileSystemHelperFunctions
2025-04-15T08:16:39.8908923Z     âœ“ should create helper functions with correct context (1 ms)
2025-04-15T08:16:39.8909240Z     getStoragePath
2025-04-15T08:16:39.8981061Z       âœ“ returns correct path
2025-04-15T08:16:39.8981317Z     createReadStream
2025-04-15T08:16:39.8981642Z       âœ“ should throw error for non-existent file (14 ms)
2025-04-15T08:16:39.8981880Z       âœ“ should throw when file access is blocked
2025-04-15T08:16:39.8982152Z       âœ“ should create a read stream if file access is permitted (1 ms)
2025-04-15T08:16:39.8982355Z     writeContentToFile
2025-04-15T08:16:39.8982555Z       âœ“ should throw error for blocked file path (4 ms)
2025-04-15T08:16:39.8982685Z 
2025-04-15T08:16:39.8982840Z PASS src/binary-data/__tests__/file-system.manager.test.ts
2025-04-15T08:16:39.8983036Z   store()
2025-04-15T08:16:39.8983192Z     âœ“ should store a buffer (5 ms)
2025-04-15T08:16:39.8983357Z   getPath()
2025-04-15T08:16:39.8983517Z     âœ“ should return a path
2025-04-15T08:16:39.8983660Z   getAsBuffer()
2025-04-15T08:16:39.8983826Z     âœ“ should return a buffer (1 ms)
2025-04-15T08:16:39.8983980Z   getAsStream()
2025-04-15T08:16:39.8984130Z     âœ“ should return a stream (3 ms)
2025-04-15T08:16:39.8984272Z   getMetadata()
2025-04-15T08:16:39.8984413Z     âœ“ should return metadata
2025-04-15T08:16:39.8984551Z   copyByFileId()
2025-04-15T08:16:39.8984754Z     âœ“ should copy by file ID and return the file ID (1 ms)
2025-04-15T08:16:39.8984936Z   copyByFilePath()
2025-04-15T08:16:39.8985150Z     âœ“ should copy by file path and return the file ID and size
2025-04-15T08:16:39.8985333Z   deleteMany()
2025-04-15T08:16:39.8985552Z     âœ“ should delete many files by workflow ID and execution ID (1 ms)
2025-04-15T08:16:39.8985809Z     âœ“ should suppress error on non-existing filepath
2025-04-15T08:16:39.8985982Z   rename()
2025-04-15T08:16:39.8986137Z     âœ“ should rename a file (1 ms)
2025-04-15T08:16:39.8986338Z 
2025-04-15T08:16:39.8986657Z PASS src/errors/__tests__/error-reporter.test.ts
2025-04-15T08:16:39.8986840Z   ErrorReporter
2025-04-15T08:16:39.8986997Z     beforeSend
2025-04-15T08:16:39.8987347Z       âœ“ should ignore errors with level warning (3 ms)
2025-04-15T08:16:39.8987625Z       âœ“ should keep events with a cause with error level (8 ms)
2025-04-15T08:16:39.8987908Z       âœ“ should ignore events with error cause with warning level
2025-04-15T08:16:39.8988176Z       âœ“ should set level, extra, and tags from ApplicationError
2025-04-15T08:16:39.8988444Z       âœ“ should deduplicate errors with same stack trace (1 ms)
2025-04-15T08:16:39.8988681Z       âœ“ should handle Promise rejections (1 ms)
2025-04-15T08:16:39.8988912Z       âœ“ should ignore if originalException is undefined
2025-04-15T08:16:39.8989143Z       âœ“ should ignore if originalException is null
2025-04-15T08:16:39.8989399Z       âœ“ should ignore if originalException is an AxiosError (1 ms)
2025-04-15T08:16:39.8989705Z       âœ“ should ignore if originalException is a rejected Promise with AxiosError
2025-04-15T08:16:39.8990223Z       âœ“ should ignore if originalException is a QueryFailedError with SQLITE_FULL
2025-04-15T08:16:39.8990563Z       âœ“ should ignore if originalException is a QueryFailedError with SQLITE_IOERR
2025-04-15T08:16:39.8990929Z       âœ“ should ignore if originalException is an ApplicationError with "warning" level (1 ms)
2025-04-15T08:16:39.8991357Z       âœ“ should ignore if originalException is an Error with ApplicationError as cause with "warning" level
2025-04-15T08:16:39.8991625Z       beforeSendFilter
2025-04-15T08:16:39.8991856Z         âœ“ should filter out based on the beforeSendFilter (1 ms)
2025-04-15T08:16:39.8992134Z         âœ“ should not filter out when beforeSendFilter returns false
2025-04-15T08:16:39.8992330Z       BaseError
2025-04-15T08:16:39.8992512Z         âœ“ should drop errors with shouldReport false
2025-04-15T08:16:39.8992756Z         âœ“ should keep events with shouldReport true (1 ms)
2025-04-15T08:16:39.8992998Z         âœ“ should set level, extra, and tags from BaseError
2025-04-15T08:16:39.8993176Z     error
2025-04-15T08:16:39.8993411Z       âœ“ should include stack trace for error-level `ApplicationError` (1 ms)
2025-04-15T08:16:39.8993726Z       âœ“ should exclude stack trace for warning-level `ApplicationError`
2025-04-15T08:16:39.8993875Z 
2025-04-15T08:16:39.8994699Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8995532Z PASS src/execution-engine/node-execution-context/__tests__/execute-context.test.ts
2025-04-15T08:16:39.8995779Z   ExecuteContext
2025-04-15T08:16:39.8995921Z     getExecutionCancelSignal
2025-04-15T08:16:39.8996127Z       âœ“ should return the abort signal (2 ms)
2025-04-15T08:16:39.8996433Z     continueOnFail
2025-04-15T08:16:39.8996725Z       âœ“ should return false for nodes by default (1 ms)
2025-04-15T08:16:39.8996997Z       âœ“ should return true if node has continueOnFail set to true
2025-04-15T08:16:39.8997318Z       âœ“ if node has onError set to continueRegularOutput, it should return true (1 ms)
2025-04-15T08:16:39.8997642Z       âœ“ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:16:39.8997934Z       âœ“ if node has onError set to stopWorkflow, it should return false
2025-04-15T08:16:39.8998127Z     getContext
2025-04-15T08:16:39.8998298Z       âœ“ should return the context object (1 ms)
2025-04-15T08:16:39.8998459Z     sendMessageToUI
2025-04-15T08:16:39.8998644Z       âœ“ should send console messages to the frontend
2025-04-15T08:16:39.8998803Z     logAiEvent
2025-04-15T08:16:39.8998966Z       âœ“ should log the AI event correctly
2025-04-15T08:16:39.8999124Z     getInputSourceData
2025-04-15T08:16:39.8999317Z       âœ“ should return the input source data correctly
2025-04-15T08:16:39.8999691Z       âœ“ should throw an error if the source data is missing (11 ms)
2025-04-15T08:16:39.8999879Z     setMetadata
2025-04-15T08:16:39.9000035Z       âœ“ sets metadata on execution data
2025-04-15T08:16:39.9000185Z     evaluateExpression
2025-04-15T08:16:39.9000380Z       âœ“ should evaluate the expression correctly (1 ms)
2025-04-15T08:16:39.9000550Z     putExecutionToWait
2025-04-15T08:16:39.9000729Z       âœ“ should set waitTill and execution status
2025-04-15T08:16:39.9000889Z     executeWorkflow
2025-04-15T08:16:39.9001071Z       âœ“ should execute workflow and return data (1 ms)
2025-04-15T08:16:39.9001316Z       âœ“ should put execution to wait if waitTill is returned
2025-04-15T08:16:39.9001499Z     getInputData
2025-04-15T08:16:39.9001680Z       âœ“ should return the input data correctly (1 ms)
2025-04-15T08:16:39.9001960Z       âœ“ should return an empty array if the input name does not exist (3 ms)
2025-04-15T08:16:39.9002263Z       âœ“ should throw an error if the input index is out of range (3 ms)
2025-04-15T08:16:39.9002630Z       âœ“ should throw an error if the input index was not set
2025-04-15T08:16:39.9002814Z     getNodeParameter
2025-04-15T08:16:39.9003064Z       âœ“ should throw if parameter is not defined on the node.parameters (3 ms)
2025-04-15T08:16:39.9003387Z       âœ“ should return null if the parameter exists but has a null value (1 ms)
2025-04-15T08:16:39.9003652Z       âœ“ should return parameter value when it exists
2025-04-15T08:16:39.9003933Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9004212Z       âœ“ should handle expression evaluation errors (1 ms)
2025-04-15T08:16:39.9004496Z       âœ“ should handle expression errors on Set nodes (Ticket #PAY-684)
2025-04-15T08:16:39.9004703Z     getCredentials
2025-04-15T08:16:39.9004885Z       âœ“ should get decrypted credentials
2025-04-15T08:16:39.9005053Z     getExecuteData
2025-04-15T08:16:39.9005231Z       âœ“ should return the execute data correctly
2025-04-15T08:16:39.9005405Z     getWorkflowDataProxy
2025-04-15T08:16:39.9005637Z       âœ“ should return the workflow data proxy correctly (11 ms)
2025-04-15T08:16:39.9005785Z 
2025-04-15T08:16:39.9005877Z PASS src/__tests__/credentials.test.ts
2025-04-15T08:16:39.9006040Z   Credentials
2025-04-15T08:16:39.9006249Z     without nodeType set
2025-04-15T08:16:39.9006596Z       âœ“ should be able to set and read key data without initial data set (5 ms)
2025-04-15T08:16:39.9006900Z       âœ“ should be able to set and read key data with initial data set
2025-04-15T08:16:39.9007090Z     getData
2025-04-15T08:16:39.9007285Z       âœ“ should throw an error when data is missing (7 ms)
2025-04-15T08:16:39.9007533Z       âœ“ should throw an error when decryption fails (1 ms)
2025-04-15T08:16:39.9007789Z       âœ“ should throw an error when JSON parsing fails (1 ms)
2025-04-15T08:16:39.9008199Z       âœ“ should successfully decrypt and parse valid JSON credentials (1 ms)
2025-04-15T08:16:39.9008414Z     setData
2025-04-15T08:16:39.9008614Z       âœ“ should throw an AssertionError when data is 123 (2 ms)
2025-04-15T08:16:39.9008937Z       âœ“ should throw an AssertionError when data is null (1 ms)
2025-04-15T08:16:39.9009202Z       âœ“ should throw an AssertionError when data is undefined
2025-04-15T08:16:39.9009381Z     updateData
2025-04-15T08:16:39.9009543Z       âœ“ should update existing data (1 ms)
2025-04-15T08:16:39.9009745Z       âœ“ should delete specified keys (1 ms)
2025-04-15T08:16:39.9009964Z       âœ“ should update and delete keys in same operation
2025-04-15T08:16:39.9010222Z       âœ“ should throw an error if no data was previously set (2 ms)
2025-04-15T08:16:39.9010357Z 
2025-04-15T08:16:39.9010576Z PASS src/execution-engine/partial-execution-utils/__tests__/filter-disabled-nodes.test.ts
2025-04-15T08:16:39.9010834Z   filterDisabledNodes
2025-04-15T08:16:39.9011000Z     âœ“ filter disabled nodes (3 ms)
2025-04-15T08:16:39.9011236Z     âœ“ filter multiple disabled nodes in a row (1 ms)
2025-04-15T08:16:39.9011443Z     root nodes
2025-04-15T08:16:39.9011629Z       âœ“ filter disabled root nodes
2025-04-15T08:16:39.9011896Z 
2025-04-15T08:16:39.9012142Z PASS src/execution-engine/node-execution-context/utils/__tests__/execution-metadata.test.ts
2025-04-15T08:16:39.9012468Z   Execution Metadata functions
2025-04-15T08:16:39.9012696Z     âœ“ setWorkflowExecutionMetadata will set a value (3 ms)
2025-04-15T08:16:39.9012992Z     âœ“ setAllWorkflowExecutionMetadata will set multiple values (1 ms)
2025-04-15T08:16:39.9013342Z     âœ“ setWorkflowExecutionMetadata should only convert numbers to strings (10 ms)
2025-04-15T08:16:39.9013789Z     âœ“ setAllWorkflowExecutionMetadata should not convert values to strings and should set other values correctly
2025-04-15T08:16:39.9014191Z     âœ“ setWorkflowExecutionMetadata should validate key characters (1 ms)
2025-04-15T08:16:39.9014542Z     âœ“ setWorkflowExecutionMetadata should limit the number of metadata entries
2025-04-15T08:16:39.9014907Z     âœ“ getWorkflowExecutionMetadata should return a single value for an existing key
2025-04-15T08:16:39.9015285Z     âœ“ getWorkflowExecutionMetadata should return undefined for an unset key (1 ms)
2025-04-15T08:16:39.9015724Z     âœ“ getAllWorkflowExecutionMetadata should return all metadata
2025-04-15T08:16:39.9016077Z     âœ“ getAllWorkflowExecutionMetadata should not an object that modifies internal state
2025-04-15T08:16:39.9016590Z     âœ“ setWorkflowExecutionMetadata should truncate long keys
2025-04-15T08:16:39.9016886Z     âœ“ setWorkflowExecutionMetadata should truncate long values (1 ms)
2025-04-15T08:16:39.9017050Z 
2025-04-15T08:16:39.9017879Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9018723Z PASS src/execution-engine/node-execution-context/__tests__/execute-single-context.test.ts
2025-04-15T08:16:39.9018996Z   ExecuteSingleContext
2025-04-15T08:16:39.9019138Z     getExecutionCancelSignal
2025-04-15T08:16:39.9019331Z       âœ“ should return the abort signal (2 ms)
2025-04-15T08:16:39.9019496Z     continueOnFail
2025-04-15T08:16:39.9019675Z       âœ“ should return false for nodes by default
2025-04-15T08:16:39.9019941Z       âœ“ should return true if node has continueOnFail set to true (1 ms)
2025-04-15T08:16:39.9020256Z       âœ“ if node has onError set to continueRegularOutput, it should return true
2025-04-15T08:16:39.9020570Z       âœ“ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:16:39.9020882Z       âœ“ if node has onError set to stopWorkflow, it should return false (1 ms)
2025-04-15T08:16:39.9021080Z     getContext
2025-04-15T08:16:39.9021273Z       âœ“ should return the context object
2025-04-15T08:16:39.9021526Z     sendMessageToUI
2025-04-15T08:16:39.9021822Z       âœ“ should send console messages to the frontend (1 ms)
2025-04-15T08:16:39.9022086Z     logAiEvent
2025-04-15T08:16:39.9022350Z       âœ“ should log the AI event correctly
2025-04-15T08:16:39.9022598Z     getInputSourceData
2025-04-15T08:16:39.9022883Z       âœ“ should return the input source data correctly
2025-04-15T08:16:39.9023234Z       âœ“ should throw an error if the source data is missing (16 ms)
2025-04-15T08:16:39.9023506Z     setMetadata
2025-04-15T08:16:39.9023767Z       âœ“ sets metadata on execution data (1 ms)
2025-04-15T08:16:39.9024016Z     evaluateExpression
2025-04-15T08:16:39.9024289Z       âœ“ should evaluate the expression correctly
2025-04-15T08:16:39.9024543Z     putExecutionToWait
2025-04-15T08:16:39.9024810Z       âœ“ should set waitTill and execution status
2025-04-15T08:16:39.9025059Z     executeWorkflow
2025-04-15T08:16:39.9025272Z       âœ“ should execute workflow and return data (1 ms)
2025-04-15T08:16:39.9025528Z       âœ“ should put execution to wait if waitTill is returned (1 ms)
2025-04-15T08:16:39.9025710Z     getInputData
2025-04-15T08:16:39.9025873Z       âœ“ should return the input data correctly
2025-04-15T08:16:39.9026421Z       âœ“ should return an empty object if the input name does not exist (1 ms)
2025-04-15T08:16:39.9026846Z       âœ“ should throw an error if the input index is out of range (2 ms)
2025-04-15T08:16:39.9027201Z       âœ“ should throw an error if the input index was not set
2025-04-15T08:16:39.9027591Z       âœ“ should throw an error if the value of input with given index was not set (1 ms)
2025-04-15T08:16:39.9027890Z     getItemIndex
2025-04-15T08:16:39.9028144Z       âœ“ should return the item index correctly
2025-04-15T08:16:39.9028393Z     getNodeParameter
2025-04-15T08:16:39.9028670Z       âœ“ should return parameter value when it exists
2025-04-15T08:16:39.9029044Z       âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:16:39.9029344Z     getCredentials
2025-04-15T08:16:39.9029604Z       âœ“ should get decrypted credentials
2025-04-15T08:16:39.9029845Z     getExecuteData
2025-04-15T08:16:39.9030103Z       âœ“ should return the execute data correctly
2025-04-15T08:16:39.9030485Z     getWorkflowDataProxy
2025-04-15T08:16:39.9030793Z       âœ“ should return the workflow data proxy correctly (14 ms)
2025-04-15T08:16:39.9030995Z 
2025-04-15T08:16:39.9031214Z PASS src/execution-engine/partial-execution-utils/__tests__/handle-cycles.test.ts
2025-04-15T08:16:39.9031537Z   handleCycles
2025-04-15T08:16:39.9031910Z     âœ“ if the start node is within a cycle it returns the start of the cycle as the new start node (4 ms)
2025-04-15T08:16:39.9032292Z     âœ“ does not mutate `startNodes`
2025-04-15T08:16:39.9032685Z     âœ“ if the start node is not within a cycle it returns the same node as the new start node (1 ms)
2025-04-15T08:16:39.9032930Z 
2025-04-15T08:16:39.9033109Z PASS src/execution-engine/__tests__/triggers-and-pollers.test.ts
2025-04-15T08:16:39.9033413Z   TriggersAndPollers
2025-04-15T08:16:39.9033631Z     runTrigger()
2025-04-15T08:16:39.9033958Z       âœ“ should throw error if node type does not have trigger function (14 ms)
2025-04-15T08:16:39.9034351Z       âœ“ should call trigger function in regular mode (1 ms)
2025-04-15T08:16:39.9034642Z       manual mode
2025-04-15T08:16:39.9034907Z         âœ“ should handle promise resolution
2025-04-15T08:16:39.9035208Z         âœ“ should handle error emission (1 ms)
2025-04-15T08:16:39.9035510Z         âœ“ should handle response promise (1 ms)
2025-04-15T08:16:39.9035828Z         âœ“ should handle both response and done promises
2025-04-15T08:16:39.9036092Z     runPoll()
2025-04-15T08:16:39.9036546Z       âœ“ should throw error if node type does not have poll function (1 ms)
2025-04-15T08:16:39.9036919Z       âœ“ should call poll function and return result (1 ms)
2025-04-15T08:16:39.9037261Z       âœ“ should return null if poll function returns no data
2025-04-15T08:16:39.9037601Z       âœ“ should propagate errors from poll function (1 ms)
2025-04-15T08:16:39.9037789Z 
2025-04-15T08:16:39.9037947Z PASS src/logging/__tests__/logger.test.ts
2025-04-15T08:16:39.9038191Z   Logger
2025-04-15T08:16:39.9038399Z     constructor
2025-04-15T08:16:39.9038715Z       âœ“ if root, should initialize `LoggerProxy` with instance (6 ms)
2025-04-15T08:16:39.9039074Z       âœ“ if scoped, should not initialize `LoggerProxy` (1 ms)
2025-04-15T08:16:39.9039342Z     transports
2025-04-15T08:16:39.9039638Z       âœ“ if `console` selected, should set console transport (1 ms)
2025-04-15T08:16:39.9039984Z       âœ“ if `file` selected, should set file transport (10 ms)
2025-04-15T08:16:39.9040241Z     levels
2025-04-15T08:16:39.9040524Z       âœ“ if `error` selected, should enable `error` level (1 ms)
2025-04-15T08:16:39.9040887Z       âœ“ if `warn` selected, should enable `error` and `warn` levels (1 ms)
2025-04-15T08:16:39.9041287Z       âœ“ if `info` selected, should enable `error`, `warn`, and `info` levels (1 ms)
2025-04-15T08:16:39.9041647Z       âœ“ if `debug` selected, should enable all levels
2025-04-15T08:16:39.9041981Z       âœ“ if `silent` selected, should disable all levels (2 ms)
2025-04-15T08:16:39.9042138Z 
2025-04-15T08:16:39.9043000Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9044046Z PASS src/execution-engine/node-execution-context/utils/__tests__/get-additional-keys.test.ts
2025-04-15T08:16:39.9044392Z   getAdditionalKeys
2025-04-15T08:16:39.9044705Z     âœ“ should use placeholder execution ID when none provided (3 ms)
2025-04-15T08:16:39.9045063Z     âœ“ should return production mode when not manual (1 ms)
2025-04-15T08:16:39.9045445Z     âœ“ should include customData methods when runExecutionData is provided
2025-04-15T08:16:39.9045812Z     âœ“ should handle customData operations correctly (1 ms)
2025-04-15T08:16:39.9046133Z     âœ“ should include secrets when enabled (1 ms)
2025-04-15T08:16:39.9046586Z     âœ“ should not include secrets when disabled
2025-04-15T08:16:39.9047003Z     âœ“ should throw errors in manual mode (13 ms)
2025-04-15T08:16:39.9047296Z     âœ“ should correctly set resume URLs
2025-04-15T08:16:39.9047585Z     âœ“ should return test mode when manual
2025-04-15T08:16:39.9047885Z     âœ“ should return variables from additionalData
2025-04-15T08:16:39.9048828Z     âœ“ should handle errors in non-manual mode without throwing (1 ms)
2025-04-15T08:16:39.9049217Z     âœ“ should return undefined customData when runExecutionData is null
2025-04-15T08:16:39.9049557Z     âœ“ should respect metadata KV limit (1 ms)
2025-04-15T08:16:39.9049732Z 
2025-04-15T08:16:39.9049994Z There was a problem logging input data of node "Test Node": additionalData.hooks?.runHook is not a function
2025-04-15T08:16:39.9050497Z PASS src/execution-engine/node-execution-context/__tests__/supply-data-context.test.ts
2025-04-15T08:16:39.9050856Z   SupplyDataContext
2025-04-15T08:16:39.9051086Z     getExecutionCancelSignal
2025-04-15T08:16:39.9051374Z       âœ“ should return the abort signal (3 ms)
2025-04-15T08:16:39.9051638Z     continueOnFail
2025-04-15T08:16:39.9051918Z       âœ“ should return false for nodes by default (9 ms)
2025-04-15T08:16:39.9052285Z       âœ“ should return true if node has continueOnFail set to true (1 ms)
2025-04-15T08:16:39.9052682Z       âœ“ if node has onError set to continueRegularOutput, it should return true
2025-04-15T08:16:39.9053122Z       âœ“ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:16:39.9053524Z       âœ“ if node has onError set to stopWorkflow, it should return false (1 ms)
2025-04-15T08:16:39.9053813Z     getContext
2025-04-15T08:16:39.9054073Z       âœ“ should return the context object (1 ms)
2025-04-15T08:16:39.9054322Z     sendMessageToUI
2025-04-15T08:16:39.9054606Z       âœ“ should send console messages to the frontend (2 ms)
2025-04-15T08:16:39.9054872Z     logAiEvent
2025-04-15T08:16:39.9055132Z       âœ“ should log the AI event correctly (1 ms)
2025-04-15T08:16:39.9055383Z     getInputSourceData
2025-04-15T08:16:39.9055677Z       âœ“ should return the input source data correctly
2025-04-15T08:16:39.9056032Z       âœ“ should throw an error if the source data is missing (13 ms)
2025-04-15T08:16:39.9056412Z     setMetadata
2025-04-15T08:16:39.9056738Z       âœ“ sets metadata on execution data (1 ms)
2025-04-15T08:16:39.9056988Z     evaluateExpression
2025-04-15T08:16:39.9057274Z       âœ“ should evaluate the expression correctly (1 ms)
2025-04-15T08:16:39.9057534Z     putExecutionToWait
2025-04-15T08:16:39.9057799Z       âœ“ should set waitTill and execution status
2025-04-15T08:16:39.9058047Z     executeWorkflow
2025-04-15T08:16:39.9058320Z       âœ“ should execute workflow and return data (1 ms)
2025-04-15T08:16:39.9058662Z       âœ“ should put execution to wait if waitTill is returned (2 ms)
2025-04-15T08:16:39.9058936Z     getInputData
2025-04-15T08:16:39.9059194Z       âœ“ should return the input data correctly
2025-04-15T08:16:39.9059534Z       âœ“ should return an empty array if the input name does not exist
2025-04-15T08:16:39.9059853Z       âœ“ should throw an error if the input index is out of range (4 ms)
2025-04-15T08:16:39.9060041Z       âœ“ should throw an error if the input index was not set
2025-04-15T08:16:39.9060125Z     getNodeParameter
2025-04-15T08:16:39.9060313Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9060498Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9060612Z     getCredentials
2025-04-15T08:16:39.9060745Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:16:39.9060868Z     getWorkflowDataProxy
2025-04-15T08:16:39.9061031Z       âœ“ should return the workflow data proxy correctly (12 ms)
2025-04-15T08:16:39.9061148Z     cloneWith
2025-04-15T08:16:39.9061272Z       âœ“ should return a new copy (1 ms)
2025-04-15T08:16:39.9061277Z 
2025-04-15T08:16:39.9061442Z PASS src/decorators/__tests__/memoized.test.ts
2025-04-15T08:16:39.9061525Z   Memoized Decorator
2025-04-15T08:16:39.9061696Z     âœ“ should only compute the value once (3 ms)
2025-04-15T08:16:39.9062040Z     âœ“ should cache values independently for different instances (1 ms)
2025-04-15T08:16:39.9062186Z     âœ“ should throw error when used on non-getter (7 ms)
2025-04-15T08:16:39.9062362Z     âœ“ should make cached value non-enumerable (1 ms)
2025-04-15T08:16:39.9062518Z     âœ“ should not allow reconfiguring the cached value (5 ms)
2025-04-15T08:16:39.9062765Z     âœ“ should work when child class references memoized getter in parent class (1 ms)
2025-04-15T08:16:39.9062944Z     âœ“ should have correct property descriptor after memoization (1 ms)
2025-04-15T08:16:39.9063143Z     âœ“ should not prevent garbage collection of instances (30 ms)
2025-04-15T08:16:39.9063148Z 
2025-04-15T08:16:39.9063304Z PASS src/binary-data/__tests__/object-store.manager.test.ts
2025-04-15T08:16:39.9063419Z   store()
2025-04-15T08:16:39.9063539Z     âœ“ should store a buffer (2 ms)
2025-04-15T08:16:39.9063669Z   getPath()
2025-04-15T08:16:39.9063771Z     âœ“ should return a path
2025-04-15T08:16:39.9063896Z   getAsBuffer()
2025-04-15T08:16:39.9064027Z     âœ“ should return a buffer (1 ms)
2025-04-15T08:16:39.9064146Z   getAsStream()
2025-04-15T08:16:39.9064250Z     âœ“ should return a stream
2025-04-15T08:16:39.9064365Z   getMetadata()
2025-04-15T08:16:39.9064482Z     âœ“ should return metadata (1 ms)
2025-04-15T08:16:39.9064599Z   copyByFileId()
2025-04-15T08:16:39.9064775Z     âœ“ should copy by file ID and return the file ID
2025-04-15T08:16:39.9064864Z   copyByFilePath()
2025-04-15T08:16:39.9065047Z     âœ“ should copy by file path and return the file ID and size
2025-04-15T08:16:39.9065094Z   rename()
2025-04-15T08:16:39.9065184Z     âœ“ should rename a file (1 ms)
2025-04-15T08:16:39.9065188Z 
2025-04-15T08:16:39.9065421Z PASS src/execution-engine/node-execution-context/utils/__tests__/webhook-helper-functions.test.ts
2025-04-15T08:16:39.9065484Z   Webhook Helper Functions
2025-04-15T08:16:39.9065539Z     getWebhookDescription
2025-04-15T08:16:39.9065675Z       âœ“ should return undefined for invalid webhook type (18 ms)
2025-04-15T08:16:39.9065804Z       âœ“ should return undefined when node has no webhooks
2025-04-15T08:16:39.9065956Z       âœ“ should return webhook description when webhook exists (1 ms)
2025-04-15T08:16:39.9066008Z     getNodeWebhookUrl
2025-04-15T08:16:39.9066112Z       âœ“ should return webhook URL with path
2025-04-15T08:16:39.9066300Z       âœ“ should handle path starting with /
2025-04-15T08:16:39.9066456Z       âœ“ should return webhook URL with webhookId
2025-04-15T08:16:39.9066637Z       âœ“ should return test webhook URL for test webhooks
2025-04-15T08:16:39.9066642Z 
2025-04-15T08:16:39.9067431Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9067618Z PASS src/execution-engine/node-execution-context/__tests__/webhook-context.test.ts
2025-04-15T08:16:39.9067782Z   WebhookContext
2025-04-15T08:16:39.9067837Z     getCredentials
2025-04-15T08:16:39.9067942Z       âœ“ should get decrypted credentials (4 ms)
2025-04-15T08:16:39.9067987Z     getBodyData
2025-04-15T08:16:39.9068089Z       âœ“ should return the body data of the request
2025-04-15T08:16:39.9068136Z     getHeaderData
2025-04-15T08:16:39.9068259Z       âœ“ should return the header data of the request (1 ms)
2025-04-15T08:16:39.9068310Z     getParamsData
2025-04-15T08:16:39.9068422Z       âœ“ should return the params data of the request
2025-04-15T08:16:39.9068471Z     getQueryData
2025-04-15T08:16:39.9068572Z       âœ“ should return the query data of the request
2025-04-15T08:16:39.9068623Z     getRequestObject
2025-04-15T08:16:39.9068722Z       âœ“ should return the request object (1 ms)
2025-04-15T08:16:39.9068774Z     getResponseObject
2025-04-15T08:16:39.9068872Z       âœ“ should return the response object
2025-04-15T08:16:39.9068924Z     getWebhookName
2025-04-15T08:16:39.9069142Z       âœ“ should return the name of the webhook (1 ms)
2025-04-15T08:16:39.9069192Z     getNodeParameter
2025-04-15T08:16:39.9069319Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9069471Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9069476Z 
2025-04-15T08:16:39.9069675Z PASS src/execution-engine/node-execution-context/utils/__tests__/normalize-items.test.ts
2025-04-15T08:16:39.9069731Z   normalizeItems
2025-04-15T08:16:39.9069777Z     should handle
2025-04-15T08:16:39.9069880Z       âœ“ single object without json key (2 ms)
2025-04-15T08:16:39.9069975Z       âœ“ array of objects without json key
2025-04-15T08:16:39.9070090Z       âœ“ single object with json key
2025-04-15T08:16:39.9070182Z       âœ“ array of objects with json key
2025-04-15T08:16:39.9070308Z       âœ“ array of objects with binary data (1 ms)
2025-04-15T08:16:39.9070421Z       âœ“ object with null or undefined values
2025-04-15T08:16:39.9070535Z       âœ“ array with mixed non-standard objects
2025-04-15T08:16:39.9070601Z       âœ“ empty object
2025-04-15T08:16:39.9070691Z       âœ“ array with primitive values
2025-04-15T08:16:39.9070742Z     should throw error
2025-04-15T08:16:39.9070876Z       âœ“ for inconsistent items with some having json key (7 ms)
2025-04-15T08:16:39.9071015Z       âœ“ for inconsistent items with some having binary key (1 ms)
2025-04-15T08:16:39.9071168Z       âœ“ when mixing json and non-json objects with non-json properties
2025-04-15T08:16:39.9071282Z       âœ“ when mixing binary and non-binary objects (1 ms)
2025-04-15T08:16:39.9071287Z 
2025-04-15T08:16:39.9071449Z PASS src/execution-engine/__tests__/execution-lifecycle-hooks.test.ts
2025-04-15T08:16:39.9071553Z   ExecutionLifecycleHooks
2025-04-15T08:16:39.9071604Z     constructor()
2025-04-15T08:16:39.9071728Z       âœ“ should initialize with correct properties (4 ms)
2025-04-15T08:16:39.9071777Z     addHandler()
2025-04-15T08:16:39.9071937Z       âœ“ should add handlers to nodeExecuteBefore hook and call them (1 ms)
2025-04-15T08:16:39.9072086Z       âœ“ should add handlers to nodeExecuteAfter hook and call them
2025-04-15T08:16:39.9072253Z       âœ“ should add handlers to workflowExecuteBefore hook and call them (1 ms)
2025-04-15T08:16:39.9072397Z       âœ“ should add handlers to workflowExecuteAfter hook and call them
2025-04-15T08:16:39.9072546Z       âœ“ should add handlers to sendResponse hook and call them (1 ms)
2025-04-15T08:16:39.9072677Z       âœ“ should add handlers to nodeFetchedData hook and call them
2025-04-15T08:16:39.9072730Z     runHook()
2025-04-15T08:16:39.9072843Z       âœ“ should execute multiple hooks in order (1 ms)
2025-04-15T08:16:39.9072953Z       âœ“ should maintain correct "this" context
2025-04-15T08:16:39.9073050Z       âœ“ should handle errors in hooks (5 ms)
2025-04-15T08:16:39.9073054Z 
2025-04-15T08:16:39.9073851Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9074159Z PASS src/execution-engine/node-execution-context/__tests__/hook-context.test.ts
2025-04-15T08:16:39.9074210Z   HookContext
2025-04-15T08:16:39.9074267Z     getActivationMode
2025-04-15T08:16:39.9074380Z       âœ“ should return the activation property (3 ms)
2025-04-15T08:16:39.9074437Z     getCredentials
2025-04-15T08:16:39.9074537Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:16:39.9074598Z     getNodeParameter
2025-04-15T08:16:39.9074719Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9074816Z     getNodeWebhookUrl
2025-04-15T08:16:39.9074925Z       âœ“ should return node webhook url
2025-04-15T08:16:39.9074983Z     getWebhookName
2025-04-15T08:16:39.9075074Z       âœ“ should return webhook name (1 ms)
2025-04-15T08:16:39.9075313Z       âœ“ should throw an error if webhookData is undefined (9 ms)
2025-04-15T08:16:39.9075374Z     getWebhookDescription
2025-04-15T08:16:39.9075475Z       âœ“ should return webhook description (1 ms)
2025-04-15T08:16:39.9075479Z 
2025-04-15T08:16:39.9075671Z PASS src/execution-engine/node-execution-context/utils/__tests__/ensure-type.test.ts
2025-04-15T08:16:39.9075719Z   ensureType
2025-04-15T08:16:39.9075819Z     âœ“ throws error for null value (15 ms)
2025-04-15T08:16:39.9075918Z     âœ“ throws error for undefined value (1 ms)
2025-04-15T08:16:39.9076023Z     âœ“ returns string value without modification
2025-04-15T08:16:39.9076123Z     âœ“ returns number value without modification
2025-04-15T08:16:39.9076281Z     âœ“ returns boolean value without modification
2025-04-15T08:16:39.9076480Z     âœ“ converts object to string if toType is string (1 ms)
2025-04-15T08:16:39.9076632Z     âœ“ converts string to number if toType is number
2025-04-15T08:16:39.9076739Z     âœ“ throws error for invalid conversion to number
2025-04-15T08:16:39.9076886Z     âœ“ parses valid JSON string to object if toType is object
2025-04-15T08:16:39.9077032Z     âœ“ throws error for invalid JSON string to object conversion (1 ms)
2025-04-15T08:16:39.9077170Z     âœ“ throws error for non-array value if toType is array (1 ms)
2025-04-15T08:16:39.9077174Z 
2025-04-15T08:16:39.9077963Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9078167Z PASS src/execution-engine/node-execution-context/__tests__/load-options-context.test.ts
2025-04-15T08:16:39.9078227Z   LoadOptionsContext
2025-04-15T08:16:39.9078274Z     getCredentials
2025-04-15T08:16:39.9078379Z       âœ“ should get decrypted credentials (3 ms)
2025-04-15T08:16:39.9078437Z     getCurrentNodeParameter
2025-04-15T08:16:39.9078566Z       âœ“ should return parameter value when it exists
2025-04-15T08:16:39.9078616Z     getNodeParameter
2025-04-15T08:16:39.9078738Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9078893Z       âœ“ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9078897Z 
2025-04-15T08:16:39.9079028Z PASS src/binary-data/__tests__/binary-data-service.test.ts
2025-04-15T08:16:39.9079080Z   BinaryDataService
2025-04-15T08:16:39.9079132Z     constructor
2025-04-15T08:16:39.9079366Z       âœ“ should derive the signingSecret from the encryption-key, if not provided via BinaryDataConfig (3 ms)
2025-04-15T08:16:39.9079521Z       âœ“ should use signingSecret as provided in BinaryDataConfig (1 ms)
2025-04-15T08:16:39.9079575Z     createSignedToken
2025-04-15T08:16:39.9079691Z       âœ“ should throw for binary-data without an id (13 ms)
2025-04-15T08:16:39.9079812Z       âœ“ should create a signed token for valid binary-data
2025-04-15T08:16:39.9079972Z     validateSignedToken
2025-04-15T08:16:39.9080076Z       âœ“ should throw on invalid tokens (2 ms)
2025-04-15T08:16:39.9080166Z       âœ“ should throw on expired tokens
2025-04-15T08:16:39.9080288Z       âœ“ should return binary-data id on valid tokens (1 ms)
2025-04-15T08:16:39.9080293Z 
2025-04-15T08:16:39.9081072Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9081260Z PASS src/execution-engine/node-execution-context/__tests__/trigger-context.test.ts
2025-04-15T08:16:39.9081315Z   TriggerContext
2025-04-15T08:16:39.9081364Z     getActivationMode
2025-04-15T08:16:39.9081481Z       âœ“ should return the activation property (3 ms)
2025-04-15T08:16:39.9081625Z     getCredentials
2025-04-15T08:16:39.9081733Z       âœ“ should get decrypted credentials (2 ms)
2025-04-15T08:16:39.9081785Z     getNodeParameter
2025-04-15T08:16:39.9081906Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9082076Z       âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:16:39.9082081Z 
2025-04-15T08:16:39.9082854Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9083033Z PASS src/execution-engine/node-execution-context/__tests__/poll-context.test.ts
2025-04-15T08:16:39.9083081Z   PollContext
2025-04-15T08:16:39.9083139Z     getActivationMode
2025-04-15T08:16:39.9083244Z       âœ“ should return the activation property (3 ms)
2025-04-15T08:16:39.9083304Z     getCredentials
2025-04-15T08:16:39.9083404Z       âœ“ should get decrypted credentials (1 ms)
2025-04-15T08:16:39.9083456Z     getNodeParameter
2025-04-15T08:16:39.9083572Z       âœ“ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9083741Z       âœ“ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:16:39.9083746Z 
2025-04-15T08:16:39.9083850Z PASS src/utils/__tests__/serialized-buffer.test.ts
2025-04-15T08:16:39.9083904Z   toBuffer
2025-04-15T08:16:39.9084027Z     âœ“ should convert a SerializedBuffer to a Buffer (3 ms)
2025-04-15T08:16:39.9084178Z     âœ“ should serialize stringified buffer to the same buffer (1 ms)
2025-04-15T08:16:39.9084235Z   isSerializedBuffer
2025-04-15T08:16:39.9084347Z     âœ“ should return true for a valid SerializedBuffer
2025-04-15T08:16:39.9084452Z     âœ“ should return false for { data: [Array] }
2025-04-15T08:16:39.9084551Z     âœ“ should return false for { data: [Array] }
2025-04-15T08:16:39.9084707Z     âœ“ should return false for { type: 'Buffer', data: 'notAnArray' }
2025-04-15T08:16:39.9084802Z     âœ“ should return false for { data: 42 }
2025-04-15T08:16:39.9084916Z     âœ“ should return false for { data: 'test' } (1 ms)
2025-04-15T08:16:39.9085009Z     âœ“ should return false for { data: true }
2025-04-15T08:16:39.9085102Z     âœ“ should return false for null
2025-04-15T08:16:39.9085202Z     âœ“ should return false for undefined (1 ms)
2025-04-15T08:16:39.9085289Z     âœ“ should return false for 42
2025-04-15T08:16:39.9085370Z     âœ“ should return false for {}
2025-04-15T08:16:39.9085461Z   Integration: toBuffer and isSerializedBuffer
2025-04-15T08:16:39.9085608Z     âœ“ should correctly validate and convert a SerializedBuffer (1 ms)
2025-04-15T08:16:39.9085613Z 
2025-04-15T08:16:39.9085755Z PASS src/execution-engine/__tests__/ssh-clients-manager.test.ts
2025-04-15T08:16:39.9085807Z   SSHClientsManager
2025-04-15T08:16:39.9085909Z     âœ“ should create a new SSH client (5 ms)
2025-04-15T08:16:39.9086209Z     âœ“ should not create a new SSH client when connect fails (15 ms)
2025-04-15T08:16:39.9086362Z     âœ“ should reuse an existing SSH client (1 ms)
2025-04-15T08:16:39.9086549Z     âœ“ should close all SSH connections on process exit
2025-04-15T08:16:39.9086680Z     âœ“ should cleanup stale SSH connections (1 ms)
2025-04-15T08:16:39.9086684Z 
2025-04-15T08:16:39.9086827Z PASS src/nodes-loader/__tests__/load-class-in-isolation.test.ts
2025-04-15T08:16:39.9086883Z   loadClassInIsolation
2025-04-15T08:16:39.9087025Z     âœ“ should create script with correct require statement (3 ms)
2025-04-15T08:16:39.9087118Z     âœ“ should handle Windows-style paths
2025-04-15T08:16:39.9087245Z     âœ“ should throw error when script execution fails (6 ms)
2025-04-15T08:16:39.9087250Z 
2025-04-15T08:16:39.9087395Z PASS src/execution-engine/__tests__/scheduled-task-manager.test.ts
2025-04-15T08:16:39.9087458Z   ScheduledTaskManager
2025-04-15T08:16:39.9087592Z     âœ“ should throw when workflow timezone is invalid (23 ms)
2025-04-15T08:16:39.9087821Z     âœ“ should throw when cron expression is invalid (1 ms)
2025-04-15T08:16:39.9087926Z     âœ“ should register valid CronJobs (10 ms)
2025-04-15T08:16:39.9088049Z     âœ“ should should not invoke on follower instances (8 ms)
2025-04-15T08:16:39.9088264Z     âœ“ should deregister CronJobs for a workflow (3 ms)
2025-04-15T08:16:39.9088268Z 
2025-04-15T08:16:39.9088503Z PASS src/execution-engine/node-execution-context/utils/__tests__/construct-execution-metadata.test.ts
2025-04-15T08:16:39.9088572Z   constructExecutionMetaData
2025-04-15T08:16:39.9088689Z     âœ“ should add pairedItem to single input data (2 ms)
2025-04-15T08:16:39.9088871Z     âœ“ should add pairedItem to multiple input data with different properties (1 ms)
2025-04-15T08:16:39.9088972Z     âœ“ should handle empty input data and itemData
2025-04-15T08:16:39.9089112Z     âœ“ should handle multiple pairedItem with single input data
2025-04-15T08:16:39.9089117Z 
2025-04-15T08:16:39.9089231Z PASS src/utils/__tests__/is-object-literal.test.ts
2025-04-15T08:16:39.9089290Z   isObjectLiteral
2025-04-15T08:16:39.9089408Z     âœ“ should return empty object literal for {} (3 ms)
2025-04-15T08:16:39.9089571Z     âœ“ should return object with properties for { foo: 'bar', num: 123 } (1 ms)
2025-04-15T08:16:39.9089716Z     âœ“ should return nested object literal for { nested: [Object] }
2025-04-15T08:16:39.9089866Z     âœ“ should return object with symbol key for { [Symbol(foo)]: 'bar' }
2025-04-15T08:16:39.9089963Z     âœ“ should return null for null (1 ms)
2025-04-15T08:16:39.9090052Z     âœ“ should return empty array for []
2025-04-15T08:16:39.9090166Z     âœ“ should return array with values for [ 1, 2, 3 ]
2025-04-15T08:16:39.9090252Z     âœ“ should return number for 42
2025-04-15T08:16:39.9090354Z     âœ“ should return string for string (1 ms)
2025-04-15T08:16:39.9090441Z     âœ“ should return boolean for true
2025-04-15T08:16:39.9090544Z     âœ“ should return undefined for undefined
2025-04-15T08:16:39.9090762Z     âœ“ should return Date object for Tue Apr 15 2025 08:16:37 GMT+0000 (Coordinated Universal Time) (1 ms)
2025-04-15T08:16:39.9090877Z     âœ“ should return RegExp object for /(?:)/
2025-04-15T08:16:39.9090978Z     âœ“ should return Map object for Map(0) {}
2025-04-15T08:16:39.9091085Z     âœ“ should return Set object for Set(0) {} (1 ms)
2025-04-15T08:16:39.9091197Z     âœ“ should return arrow function for () => { }
2025-04-15T08:16:39.9091314Z     âœ“ should return regular function for function () { }
2025-04-15T08:16:39.9091469Z     âœ“ should return class instance for TestClass {}
2025-04-15T08:16:39.9091599Z     âœ“ should return object with custom prototype for {} (1 ms)
2025-04-15T08:16:39.9091752Z     âœ“ should return Object.create(null) for [Object: null prototype] {}
2025-04-15T08:16:39.9091839Z     âœ“ should return Buffer for test
2025-04-15T08:16:39.9092012Z     âœ“ should return Serialized Buffer for { type: 'Buffer', data: [Array] }
2025-04-15T08:16:39.9092137Z     âœ“ should return Promise for Promise { <pending> } (1 ms)
2025-04-15T08:16:39.9092238Z     âœ“ should return false for Error objects
2025-04-15T08:16:39.9092366Z 
2025-04-15T08:16:39.9092591Z PASS src/execution-engine/node-execution-context/utils/__tests__/cleanup-parameter-data.test.ts
2025-04-15T08:16:39.9092653Z   cleanupParameterData
2025-04-15T08:16:39.9092764Z     âœ“ should stringify Luxon dates in-place (11 ms)
2025-04-15T08:16:39.9092888Z     âœ“ should stringify plain Luxon dates in-place (1 ms)
2025-04-15T08:16:39.9093006Z     âœ“ should handle objects with nameless constructors
2025-04-15T08:16:39.9093123Z     âœ“ should handle objects without a constructor (1 ms)
2025-04-15T08:16:39.9093127Z 
2025-04-15T08:16:39.9093225Z PASS src/binary-data/__tests__/utils.test.ts
2025-04-15T08:16:39.9093276Z   BinaryData/utils
2025-04-15T08:16:39.9093331Z     binaryToBuffer
2025-04-15T08:16:39.9093425Z       âœ“ should handle buffer objects (3 ms)
2025-04-15T08:16:39.9093563Z       âœ“ should handle valid uncompressed Readable streams (2 ms)
2025-04-15T08:16:39.9093690Z       âœ“ should handle valid compressed Readable streams (2 ms)
2025-04-15T08:16:39.9093941Z       âœ“ should throw on invalid compressed Readable streams (4 ms)
2025-04-15T08:16:39.9093946Z 
2025-04-15T08:16:39.9094149Z PASS src/execution-engine/node-execution-context/utils/__tests__/return-json-array.test.ts
2025-04-15T08:16:39.9094204Z   returnJsonArray
2025-04-15T08:16:39.9094360Z     âœ“ should convert a single object to an array with json key (3 ms)
2025-04-15T08:16:39.9094470Z     âœ“ should return an array of objects with json key
2025-04-15T08:16:39.9094578Z     âœ“ should preserve existing json key in object
2025-04-15T08:16:39.9094674Z     âœ“ should handle empty array input (1 ms)
2025-04-15T08:16:39.9094815Z     âœ“ should handle mixed input with some objects having json key
2025-04-15T08:16:39.9094819Z 
2025-04-15T08:16:39.9095003Z PASS src/execution-engine/partial-execution-utils/__tests__/to-itask-data.test.ts
2025-04-15T08:16:39.9095084Z   âœ“ toITaskData (4 ms)
2025-04-15T08:16:39.9095089Z 
2025-04-15T08:16:39.9095339Z PASS src/execution-engine/node-execution-context/utils/__tests__/deduplication-helper-functions.test.ts
2025-04-15T08:16:39.9095429Z   getDeduplicationHelperFunctions
2025-04-15T08:16:39.9095569Z     âœ“ should create helper functions with correct context (3 ms)
2025-04-15T08:16:39.9095573Z 
2025-04-15T08:16:39.9095667Z PASS src/encryption/__tests__/cipher.test.ts
2025-04-15T08:16:39.9095719Z   Cipher
2025-04-15T08:16:39.9095767Z     encrypt
2025-04-15T08:16:39.9095862Z       âœ“ should encrypt strings (3 ms)
2025-04-15T08:16:39.9095946Z       âœ“ should encrypt objects
2025-04-15T08:16:39.9095996Z     decrypt
2025-04-15T08:16:39.9096080Z       âœ“ should decrypt string (1 ms)
2025-04-15T08:16:39.9096330Z       âœ“ should not try to decrypt if the input is shorter than 16 bytes
2025-04-15T08:16:39.9096337Z 
2025-04-15T08:16:39.9096680Z PASS src/execution-engine/node-execution-context/utils/__tests__/ssh-tunnel-helper-functions.test.ts
2025-04-15T08:16:39.9096742Z   getSSHTunnelFunctions
2025-04-15T08:16:39.9096844Z     âœ“ should return SSH tunnel functions (3 ms)
2025-04-15T08:16:39.9097026Z     getSSHClient
2025-04-15T08:16:39.9097148Z       âœ“ should invoke sshClientsManager.getClient (1 ms)
2025-04-15T08:16:39.9097153Z 
2025-04-15T08:16:39.9097377Z PASS src/execution-engine/node-execution-context/utils/__tests__/scheduling-helper-functions.test.ts
2025-04-15T08:16:39.9097439Z   getSchedulingFunctions
2025-04-15T08:16:39.9097537Z     âœ“ should return scheduling functions (3 ms)
2025-04-15T08:16:39.9097594Z     registerCron
2025-04-15T08:16:39.9097724Z       âœ“ should invoke scheduledTaskManager.registerCron (1 ms)
2025-04-15T08:16:39.9097729Z 
2025-04-15T08:16:39.9097932Z PASS src/execution-engine/node-execution-context/utils/__tests__/copy-input-items.test.ts
2025-04-15T08:16:39.9097986Z   copyInputItems
2025-04-15T08:16:39.9098096Z     âœ“ should pick only selected properties (3 ms)
2025-04-15T08:16:39.9098193Z     âœ“ should convert undefined to null (1 ms)
2025-04-15T08:16:39.9098268Z     âœ“ should clone objects
2025-04-15T08:16:39.9098272Z 
2025-04-15T08:16:39.9098558Z PASS src/execution-engine/partial-execution-utils/__tests__/to-iconnections.test.ts
2025-04-15T08:16:39.9098628Z   âœ“ toIConnections (3 ms)
2025-04-15T08:16:39.9098633Z 
2025-04-15T08:16:39.9098714Z Test Suites: 61 passed, 61 total
2025-04-15T08:16:39.9098794Z Tests:       929 passed, 929 total
2025-04-15T08:16:39.9098862Z Snapshots:   0 total
2025-04-15T08:16:39.9098916Z Time:        13.65 s
2025-04-15T08:16:39.9098978Z Ran all test suites.
2025-04-15T08:16:39.9099225Z ##[endgroup]
2025-04-15T08:16:48.4834659Z ##[group]n8n-workflow:test
2025-04-15T08:16:48.4835141Z cache bypass, force executing 8eeffe7c176d5550
2025-04-15T08:16:48.4835269Z 
2025-04-15T08:16:48.4835430Z > n8n-workflow@1.87.0 test /home/runner/_work/n8n/n8n/packages/workflow
2025-04-15T08:16:48.4835656Z > jest
2025-04-15T08:16:48.4835732Z 
2025-04-15T08:16:48.4835826Z PASS test/NodeHelpers.conditions.test.ts
2025-04-15T08:16:48.4835997Z   NodeHelpers
2025-04-15T08:16:48.4836198Z     getNodeParameters, displayOptions set using DisplayCondition
2025-04-15T08:16:48.4836805Z       âœ“ simple values with displayOptions "show" number (gt). No values set. (4 ms)
2025-04-15T08:16:48.4837147Z       âœ“ simple values with displayOptions "show" number (lt). No values set.
2025-04-15T08:16:48.4837497Z       âœ“ simple values with displayOptions "show" number (between). No values set. (1 ms)
2025-04-15T08:16:48.4837836Z       âœ“ simple values with displayOptions "show" number (lte). No values set.
2025-04-15T08:16:48.4838172Z       âœ“ simple values with displayOptions "show" number (gte). No values set. (1 ms)
2025-04-15T08:16:48.4838532Z       âœ“ simple values with displayOptions "show" (match) which is boolean. All values set.
2025-04-15T08:16:48.4838914Z       âœ“ simple values with displayOptions "hide" (match) which is boolean. All values set. (1 ms)
2025-04-15T08:16:48.4839358Z       âœ“ simple values with displayOptions "show" (match) which is boolean. One values set. (1 ms)
2025-04-15T08:16:48.4839696Z       âœ“ simple values with displayOptions "show" (match). No values set.
2025-04-15T08:16:48.4840260Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default). (5 ms)
2025-04-15T08:16:48.4840929Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default)
2025-04-15T08:16:48.4841398Z       âœ“ simple values with displayOptions "show" (match). All values set. (1 ms)
2025-04-15T08:16:48.4841712Z       âœ“ simple values with displayOptions "show" (no-match). No values set.
2025-04-15T08:16:48.4842040Z       âœ“ simple values with displayOptions "show" (no-match). All values set. (1 ms)
2025-04-15T08:16:48.4842498Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
2025-04-15T08:16:48.4843100Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4843990Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4844614Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4845221Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4845839Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4846453Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4847237Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (1 ms)
2025-04-15T08:16:48.4847793Z       âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:16:48.4848499Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:16:48.4849190Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed
2025-04-15T08:16:48.4849818Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:16:48.4850521Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
2025-04-15T08:16:48.4851057Z       âœ“ simple values with displayOptions "show" using exists condition. No values set.
2025-04-15T08:16:48.4851421Z       âœ“ simple values with displayOptions "show" using exists condition. Field1 has a value.
2025-04-15T08:16:48.4851877Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" using exists condition. (1 ms)
2025-04-15T08:16:48.4852360Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" using exists condition.
2025-04-15T08:16:48.4852578Z 
2025-04-15T08:16:48.4852664Z PASS test/FilterParameter.test.ts
2025-04-15T08:16:48.4852837Z   FilterParameter
2025-04-15T08:16:48.4852962Z     executeFilter
2025-04-15T08:16:48.4853134Z       âœ“ should support and/or combinators (3 ms)
2025-04-15T08:16:48.4853312Z       options.caseSensitive
2025-04-15T08:16:48.4853541Z         âœ“ should evaluate strings case insensitive (=default)
2025-04-15T08:16:48.4853769Z         âœ“ should evaluate strings case sensitive
2025-04-15T08:16:48.4853936Z       options.typeValidation
2025-04-15T08:16:48.4854081Z         strict (=default)
2025-04-15T08:16:48.4854339Z           âœ“ should throw an error when types are not as expected (primitives) (38 ms)
2025-04-15T08:16:48.4854652Z           âœ“ should throw an error when types are not as expected (arrays) (1 ms)
2025-04-15T08:16:48.4854987Z           âœ“ should throw an error when types are not as expected (objects) (1 ms)
2025-04-15T08:16:48.4855190Z         loose
2025-04-15T08:16:48.4855391Z           âœ“ should evaluate conditions when type can be converted
2025-04-15T08:16:48.4855669Z           âœ“ should throw an error when types cannot be converted (10 ms)
2025-04-15T08:16:48.4855865Z       options.version
2025-04-15T08:16:48.4856001Z         version 1
2025-04-15T08:16:48.4856173Z           âœ“ should parse "false" as true (1 ms)
2025-04-15T08:16:48.4856460Z         version 2
2025-04-15T08:16:48.4856630Z           âœ“ should parse "false" as false
2025-04-15T08:16:48.4856785Z       operators
2025-04-15T08:16:48.4856906Z         exists
2025-04-15T08:16:48.4857072Z           âœ“ string:exists() === true (1 ms)
2025-04-15T08:16:48.4857272Z           âœ“ string:exists(null) === false
2025-04-15T08:16:48.4857476Z           âœ“ string:exists(undefined) === false
2025-04-15T08:16:48.4857681Z           âœ“ string:exists(foo) === true
2025-04-15T08:16:48.4857877Z           âœ“ string:notExists() === false
2025-04-15T08:16:48.4858074Z           âœ“ string:notExists(null) === true
2025-04-15T08:16:48.4858282Z           âœ“ string:notExists(undefined) === true
2025-04-15T08:16:48.4858481Z           âœ“ string:notExists(foo) === false
2025-04-15T08:16:48.4858629Z         string
2025-04-15T08:16:48.4858793Z           âœ“ string:empty(null) === true
2025-04-15T08:16:48.4858996Z           âœ“ string:empty(undefined) === true
2025-04-15T08:16:48.4859262Z           âœ“ string:empty() === true
2025-04-15T08:16:48.4859599Z           âœ“ string:empty(ðŸ›) === false (1 ms)
2025-04-15T08:16:48.4859797Z           âœ“ string:notEmpty(null) === false
2025-04-15T08:16:48.4860013Z           âœ“ string:notEmpty(undefined) === false (10 ms)
2025-04-15T08:16:48.4860233Z           âœ“ string:notEmpty() === false (1 ms)
2025-04-15T08:16:48.4860431Z           âœ“ string:notEmpty(ðŸ›) === true
2025-04-15T08:16:48.4860663Z           âœ“ string:equals("first string","first string") === true
2025-04-15T08:16:48.4860924Z           âœ“ string:equals("first string","second string") === false
2025-04-15T08:16:48.4861148Z           âœ“ string:equals("","ðŸ›") === false
2025-04-15T08:16:48.4861345Z           âœ“ string:equals("ðŸ›","ðŸ›") === true
2025-04-15T08:16:48.4861586Z           âœ“ string:notEquals("first string","first string") === false
2025-04-15T08:16:48.4861856Z           âœ“ string:notEquals("first string","second string") === true
2025-04-15T08:16:48.4862093Z           âœ“ string:notEquals("","ðŸ›") === true
2025-04-15T08:16:48.4862320Z           âœ“ string:notEquals("ðŸ›","ðŸ›") === false
2025-04-15T08:16:48.4862565Z           âœ“ string:contains("first string","first string") === true
2025-04-15T08:16:48.4862816Z           âœ“ string:contains("first string","first") === true
2025-04-15T08:16:48.4863055Z           âœ“ string:contains("first string","irs") === true
2025-04-15T08:16:48.4863285Z           âœ“ string:contains("first string","") === true
2025-04-15T08:16:48.4863511Z           âœ“ string:contains("first string","?") === false
2025-04-15T08:16:48.4863787Z           âœ“ string:notContains("first string","first string") === false (1 ms)
2025-04-15T08:16:48.4864069Z           âœ“ string:notContains("first string","first") === false
2025-04-15T08:16:48.4864320Z           âœ“ string:notContains("first string","irs") === false
2025-04-15T08:16:48.4864564Z           âœ“ string:notContains("first string","") === false
2025-04-15T08:16:48.4864804Z           âœ“ string:notContains("first string","?") === true
2025-04-15T08:16:48.4865059Z           âœ“ string:startsWith("first string","first string") === true
2025-04-15T08:16:48.4865329Z           âœ“ string:startsWith("first string","first") === true
2025-04-15T08:16:48.4865583Z           âœ“ string:startsWith("first string","irs") === false (1 ms)
2025-04-15T08:16:48.4865829Z           âœ“ string:startsWith("first string","") === true
2025-04-15T08:16:48.4866054Z           âœ“ string:startsWith("first string","?") === false
2025-04-15T08:16:48.4866315Z           âœ“ string:notStartsWith("first string","first string") === false
2025-04-15T08:16:48.4866596Z           âœ“ string:notStartsWith("first string","first") === false
2025-04-15T08:16:48.4866853Z           âœ“ string:notStartsWith("first string","irs") === true
2025-04-15T08:16:48.4867116Z           âœ“ string:notStartsWith("first string","") === false (1 ms)
2025-04-15T08:16:48.4867372Z           âœ“ string:notStartsWith("first string","?") === true
2025-04-15T08:16:48.4867632Z           âœ“ string:endsWith("first string","first string") === true
2025-04-15T08:16:48.4867992Z           âœ“ string:endsWith("first string","string") === true
2025-04-15T08:16:48.4868231Z           âœ“ string:endsWith("first string","g") === true
2025-04-15T08:16:48.4868455Z           âœ“ string:endsWith("first string","") === true
2025-04-15T08:16:48.4868679Z           âœ“ string:endsWith("first string","?") === false
2025-04-15T08:16:48.4868959Z           âœ“ string:notEndsWith("first string","first string") === false (1 ms)
2025-04-15T08:16:48.4869293Z           âœ“ string:notEndsWith("first string","string") === false
2025-04-15T08:16:48.4869543Z           âœ“ string:notEndsWith("first string","g") === false
2025-04-15T08:16:48.4869787Z           âœ“ string:notEndsWith("first string","") === false
2025-04-15T08:16:48.4870016Z           âœ“ string:notEndsWith("first string","?") === true
2025-04-15T08:16:48.4870245Z           âœ“ string:regex("first string","first") === true
2025-04-15T08:16:48.4870496Z           âœ“ string:regex("first string","second") === false (1 ms)
2025-04-15T08:16:48.4870738Z           âœ“ string:regex("first string",".*") === true
2025-04-15T08:16:48.4871064Z           âœ“ string:regex("any string","[0-9]") === false
2025-04-15T08:16:48.4871288Z           âœ“ string:regex("any string","[a-z]") === true
2025-04-15T08:16:48.4871510Z           âœ“ string:regex("lowercase","[A-Z]") === false
2025-04-15T08:16:48.4871721Z           âœ“ string:regex("foo","/^fo{2}$/g") === true
2025-04-15T08:16:48.4871973Z           âœ“ string:notRegex("first string","first") === false (1 ms)
2025-04-15T08:16:48.4872234Z           âœ“ string:notRegex("first string","second") === true
2025-04-15T08:16:48.4872473Z           âœ“ string:notRegex("first string",".*") === false
2025-04-15T08:16:48.4872706Z           âœ“ string:notRegex("any string","[0-9]") === true
2025-04-15T08:16:48.4872935Z           âœ“ string:notRegex("any string","[a-z]") === false
2025-04-15T08:16:48.4873165Z           âœ“ string:notRegex("lowercase","[A-Z]") === true
2025-04-15T08:16:48.4873403Z           âœ“ string:notRegex("foo","/^fo{2}$/g") === false (1 ms)
2025-04-15T08:16:48.4873591Z         number
2025-04-15T08:16:48.4873752Z           âœ“ number:exists(0) === true
2025-04-15T08:16:48.4873936Z           âœ“ number:exists(15) === true
2025-04-15T08:16:48.4874231Z           âœ“ number:exists(-15.4) === true
2025-04-15T08:16:48.4874433Z           âœ“ number:exists(NaN) === false
2025-04-15T08:16:48.4874626Z           âœ“ number:exists(null) === false
2025-04-15T08:16:48.4874811Z           âœ“ number:notExists(0) === false
2025-04-15T08:16:48.4875001Z           âœ“ number:notExists(15) === false
2025-04-15T08:16:48.4875214Z           âœ“ number:notExists(-15.4) === false (1 ms)
2025-04-15T08:16:48.4875416Z           âœ“ number:notExists(NaN) === true
2025-04-15T08:16:48.4875611Z           âœ“ number:notExists(null) === true
2025-04-15T08:16:48.4875801Z           âœ“ number:empty(0) === false
2025-04-15T08:16:48.4875992Z           âœ“ number:empty(15) === false
2025-04-15T08:16:48.4876179Z           âœ“ number:empty(-15.4) === false
2025-04-15T08:16:48.4876362Z           âœ“ number:empty(NaN) === true
2025-04-15T08:16:48.4876559Z           âœ“ number:empty(null) === true
2025-04-15T08:16:48.4876750Z           âœ“ number:notEmpty(0) === true
2025-04-15T08:16:48.4876938Z           âœ“ number:notEmpty(15) === true
2025-04-15T08:16:48.4877124Z           âœ“ number:notEmpty(-15.4) === true
2025-04-15T08:16:48.4877309Z           âœ“ number:notEmpty(NaN) === false
2025-04-15T08:16:48.4877500Z           âœ“ number:notEmpty(null) === false
2025-04-15T08:16:48.4877687Z           âœ“ number:equals(0,0) === true
2025-04-15T08:16:48.4877882Z           âœ“ number:equals(15,15) === true (7 ms)
2025-04-15T08:16:48.4878094Z           âœ“ number:equals(15.34,15.34) === true
2025-04-15T08:16:48.4878302Z           âœ“ number:equals(15,15.3249038) === false
2025-04-15T08:16:48.4878508Z           âœ“ number:equals(15,NaN) === false
2025-04-15T08:16:48.4878707Z           âœ“ number:equals(NaN,NaN) === false
2025-04-15T08:16:48.4878908Z           âœ“ number:notEquals(0,0) === false (1 ms)
2025-04-15T08:16:48.4879113Z           âœ“ number:notEquals(15,15) === false
2025-04-15T08:16:48.4879474Z           âœ“ number:notEquals(15.34,15.34) === false
2025-04-15T08:16:48.4879683Z           âœ“ number:notEquals(15,15.3249038) === true
2025-04-15T08:16:48.4879888Z           âœ“ number:notEquals(15,NaN) === true
2025-04-15T08:16:48.4880090Z           âœ“ number:notEquals(NaN,NaN) === true
2025-04-15T08:16:48.4880287Z           âœ“ number:gt(0,0) === false
2025-04-15T08:16:48.4880481Z           âœ“ number:gt(15,16) === false
2025-04-15T08:16:48.4880669Z           âœ“ number:gt(16,15) === true (1 ms)
2025-04-15T08:16:48.4880870Z           âœ“ number:gt(15.34001,15.34) === true
2025-04-15T08:16:48.4881061Z           âœ“ number:gt(15,NaN) === false
2025-04-15T08:16:48.4881241Z           âœ“ number:lt(0,0) === false
2025-04-15T08:16:48.4881424Z           âœ“ number:lt(15,16) === true
2025-04-15T08:16:48.4881603Z           âœ“ number:lt(16,15) === false
2025-04-15T08:16:48.4881792Z           âœ“ number:lt(15.34001,15.34) === false
2025-04-15T08:16:48.4881981Z           âœ“ number:lt(15,NaN) === false
2025-04-15T08:16:48.4882276Z           âœ“ number:gte(0,0) === true
2025-04-15T08:16:48.4882463Z           âœ“ number:gte(15,16) === false
2025-04-15T08:16:48.4882638Z           âœ“ number:gte(16,15) === true
2025-04-15T08:16:48.4882821Z           âœ“ number:gte(15.34001,15.34) === true
2025-04-15T08:16:48.4883012Z           âœ“ number:gte(15,NaN) === false
2025-04-15T08:16:48.4883192Z           âœ“ number:lte(0,0) === true
2025-04-15T08:16:48.4883375Z           âœ“ number:lte(15,16) === true
2025-04-15T08:16:48.4883550Z           âœ“ number:lte(16,15) === false
2025-04-15T08:16:48.4883745Z           âœ“ number:lte(15.34001,15.34) === false
2025-04-15T08:16:48.4883939Z           âœ“ number:lte(15,NaN) === false
2025-04-15T08:16:48.4884091Z         dateTime
2025-04-15T08:16:48.4884291Z           âœ“ dateTime:empty(2023-11-15T17:10:49.113Z) === false
2025-04-15T08:16:48.4884501Z           âœ“ dateTime:empty(null) === true
2025-04-15T08:16:48.4884744Z           âœ“ dateTime:notEmpty(2023-11-15T17:10:49.113Z) === true (1 ms)
2025-04-15T08:16:48.4884997Z           âœ“ dateTime:notEmpty(null) === false
2025-04-15T08:16:48.4885280Z           âœ“ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true
2025-04-15T08:16:48.4885617Z           âœ“ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:16:48.4885973Z           âœ“ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false (1 ms)
2025-04-15T08:16:48.4886334Z           âœ“ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:16:48.4886668Z           âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:16:48.4887001Z           âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false (1 ms)
2025-04-15T08:16:48.4887328Z           âœ“ dateTime:after("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:16:48.4887627Z           âœ“ dateTime:after("2024-01-01", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:16:48.4887950Z           âœ“ dateTime:after(""2024-01-01T00:00:00.000+00:00"", "1-Feb-2024") === false (2 ms)
2025-04-15T08:16:48.4888632Z           âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:16:48.4888954Z           âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:16:48.4889310Z           âœ“ dateTime:before("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
2025-04-15T08:16:48.4889668Z           âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true (1 ms)
2025-04-15T08:16:48.4890041Z           âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:16:48.4890397Z           âœ“ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:16:48.4890755Z           âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true
2025-04-15T08:16:48.4891244Z           âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:16:48.4891596Z           âœ“ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
2025-04-15T08:16:48.4891823Z         boolean
2025-04-15T08:16:48.4891985Z           âœ“ boolean:empty(true) === false (1 ms)
2025-04-15T08:16:48.4892192Z           âœ“ boolean:empty(false) === false
2025-04-15T08:16:48.4892388Z           âœ“ boolean:empty(null) === true
2025-04-15T08:16:48.4892576Z           âœ“ boolean:notEmpty(true) === true
2025-04-15T08:16:48.4892771Z           âœ“ boolean:notEmpty(false) === true
2025-04-15T08:16:48.4892968Z           âœ“ boolean:notEmpty(null) === false
2025-04-15T08:16:48.4893156Z           âœ“ boolean:true(true) === true
2025-04-15T08:16:48.4893346Z           âœ“ boolean:true(false) === false
2025-04-15T08:16:48.4893543Z           âœ“ boolean:false(true) === false (1 ms)
2025-04-15T08:16:48.4893734Z           âœ“ boolean:false(false) === true
2025-04-15T08:16:48.4894036Z           âœ“ boolean:equals(true,true) === true
2025-04-15T08:16:48.4894228Z           âœ“ boolean:equals(false,false) === true
2025-04-15T08:16:48.4894432Z           âœ“ boolean:equals(true,false) === false
2025-04-15T08:16:48.4894632Z           âœ“ boolean:notEquals(true,true) === false
2025-04-15T08:16:48.4894847Z           âœ“ boolean:notEquals(false,false) === false
2025-04-15T08:16:48.4895056Z           âœ“ boolean:notEquals(true,false) === true
2025-04-15T08:16:48.4895207Z         array
2025-04-15T08:16:48.4895391Z           âœ“ array:contains(["foo", "bar"],foo) === true (1 ms)
2025-04-15T08:16:48.4895618Z           âœ“ array:contains(["foo", "bar"],ba) === false
2025-04-15T08:16:48.4895845Z           âœ“ array:notContains(["foo", "bar"],foo) === false
2025-04-15T08:16:48.4896071Z           âœ“ array:notContains(["foo", "bar"],ba) === true
2025-04-15T08:16:48.4896293Z           âœ“ array:lengthEquals(["foo", "bar"],2) === true
2025-04-15T08:16:48.4896501Z           âœ“ array:lengthEquals([],0) === true
2025-04-15T08:16:48.4896725Z           âœ“ array:lengthEquals(["foo", "bar"],1) === false
2025-04-15T08:16:48.4896954Z           âœ“ array:lengthNotEquals(["foo", "bar"],2) === false
2025-04-15T08:16:48.4897171Z           âœ“ array:lengthNotEquals([],0) === false
2025-04-15T08:16:48.4897391Z           âœ“ array:lengthNotEquals(["foo", "bar"],1) === true
2025-04-15T08:16:48.4897614Z           âœ“ array:lengthGt(["foo", "bar"],2) === false
2025-04-15T08:16:48.4897809Z           âœ“ array:lengthGt([],0) === false
2025-04-15T08:16:48.4898010Z           âœ“ array:lengthGt(["foo", "bar"],1) === true
2025-04-15T08:16:48.4898217Z           âœ“ array:lengthLt(["foo", "bar"],2) === false
2025-04-15T08:16:48.4898449Z           âœ“ array:lengthLt([],0) === false
2025-04-15T08:16:48.4898643Z           âœ“ array:lengthLt(["foo", "bar"],1) === false
2025-04-15T08:16:48.4898848Z           âœ“ array:lengthLt(["foo", "bar"],3) === true
2025-04-15T08:16:48.4899049Z           âœ“ array:lengthGte(["foo", "bar"],2) === true
2025-04-15T08:16:48.4899299Z           âœ“ array:lengthGte([],0) === true
2025-04-15T08:16:48.4899505Z           âœ“ array:lengthGte(["foo", "bar"],1) === true (1 ms)
2025-04-15T08:16:48.4899718Z           âœ“ array:lengthGte(["foo", "bar"],3) === false
2025-04-15T08:16:48.4899924Z           âœ“ array:lengthLte(["foo", "bar"],2) === true
2025-04-15T08:16:48.4900114Z           âœ“ array:lengthLte([],0) === true
2025-04-15T08:16:48.4900309Z           âœ“ array:lengthLte(["foo", "bar"],1) === false
2025-04-15T08:16:48.4900509Z           âœ“ array:lengthLte(["foo", "bar"],3) === true
2025-04-15T08:16:48.4900664Z         object
2025-04-15T08:16:48.4900820Z           âœ“ object:empty({}) === true (1 ms)
2025-04-15T08:16:48.4901016Z           âœ“ object:empty({"foo": "bar"}) === false
2025-04-15T08:16:48.4901211Z           âœ“ object:empty(undefined) === true
2025-04-15T08:16:48.4901396Z           âœ“ object:empty(null) === true
2025-04-15T08:16:48.4901582Z           âœ“ object:notEmpty({}) === false
2025-04-15T08:16:48.4901781Z           âœ“ object:notEmpty({"foo": "bar"}) === true
2025-04-15T08:16:48.4902098Z           âœ“ object:notEmpty(undefined) === false (1 ms)
2025-04-15T08:16:48.4902296Z           âœ“ object:notEmpty(null) === false
2025-04-15T08:16:48.4902452Z         arrayContainsValue
2025-04-15T08:16:48.4902655Z           âœ“ should return true if the array contains the value
2025-04-15T08:16:48.4902911Z           âœ“ should return false if the array does not contain the value
2025-04-15T08:16:48.4903224Z           âœ“ should return true if the array contains the string value and ignoreCase is true
2025-04-15T08:16:48.4903567Z           âœ“ should return false if the array contains the string value but ignoreCase is false
2025-04-15T08:16:48.4903927Z           âœ“ should return false if the array does not contain the string value and ignoreCase is true
2025-04-15T08:16:48.4904254Z           âœ“ should handle non-string values correctly when ignoreCase is true
2025-04-15T08:16:48.4904532Z           âœ“ should handle mixed types in the array correctly (1 ms)
2025-04-15T08:16:48.4904764Z 
2025-04-15T08:16:48.4904840Z PASS test/NodeHelpers.test.ts
2025-04-15T08:16:48.4904983Z   NodeHelpers
2025-04-15T08:16:48.4905100Z     getNodeParameters
2025-04-15T08:16:48.4905248Z       âœ“ simple values. (5 ms)
2025-04-15T08:16:48.4905538Z       âœ“ simple values with displayOptions "show" (match) which is boolean. All values set. (9 ms)
2025-04-15T08:16:48.4905903Z       âœ“ simple values with displayOptions "hide" (match) which is boolean. All values set.
2025-04-15T08:16:48.4906251Z       âœ“ simple values with displayOptions "show" (match) which is boolean. One values set.
2025-04-15T08:16:48.4906579Z       âœ“ simple values with displayOptions "show" (match). No values set. (1 ms)
2025-04-15T08:16:48.4907078Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default).
2025-04-15T08:16:48.4907713Z       âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default) (1 ms)
2025-04-15T08:16:48.4908201Z       âœ“ simple values with displayOptions "show" (match). All values set.
2025-04-15T08:16:48.4908497Z       âœ“ simple values with displayOptions "show" (no-match). No values set.
2025-04-15T08:16:48.4908822Z       âœ“ simple values with displayOptions "show" (no-match). All values set. (1 ms)
2025-04-15T08:16:48.4909202Z       âœ“ complex type "fixedCollection" with "multipleValues: true". One value set.
2025-04-15T08:16:48.4909552Z       âœ“ complex type "fixedCollection" with "multipleValues: false". One value set. (1 ms)
2025-04-15T08:16:48.4909927Z       âœ“ complex type "fixedCollection" with "multipleValues: false". Two values set one single one.
2025-04-15T08:16:48.4910442Z       âœ“ complex type "fixedCollection" with "multipleValues: true" and complex type "collection"  with "multipleValues: true". One value set each. (1 ms)
2025-04-15T08:16:48.4911000Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
2025-04-15T08:16:48.4911594Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:16:48.4912213Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4912809Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:16:48.4913412Z       âœ“ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4914013Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:16:48.4914697Z       âœ“ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4915313Z       âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (4 ms)
2025-04-15T08:16:48.4915788Z       âœ“ complex type "collection" with "multipleValues: true". One none-default value set.
2025-04-15T08:16:48.4916135Z       âœ“ complex type "collection" with "multipleValues: true". One default value set.
2025-04-15T08:16:48.4916511Z       âœ“ complex type "collection" with "multipleValues: false". One none-default value set. (1 ms)
2025-04-15T08:16:48.4916879Z       âœ“ complex type "collection" with "multipleValues: false". One default value set.
2025-04-15T08:16:48.4917230Z       âœ“ complex type "collection" with "multipleValues: false". Only outer value set. (6 ms)
2025-04-15T08:16:48.4917671Z       âœ“ complex type "collection" with "multipleValues: false". No value set at all.
2025-04-15T08:16:48.4918016Z       âœ“ complex type "collection" with "multipleValues: true". No value set at all. (1 ms)
2025-04-15T08:16:48.4918474Z       âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:16:48.4919007Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:16:48.4919659Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed
2025-04-15T08:16:48.4920285Z       âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:16:48.4920909Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains complex type "fixedCollection" with "multipleValues: true". One value set. (1 ms)
2025-04-15T08:16:48.4921617Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
2025-04-15T08:16:48.4922278Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "multiOptions" and has so an array default value (1 ms)
2025-04-15T08:16:48.4922897Z       âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "string" with "multipleValues: true" and a custom default value
2025-04-15T08:16:48.4923652Z       âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) in combination with another value (1 ms)
2025-04-15T08:16:48.4924373Z       âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object)
2025-04-15T08:16:48.4925048Z       âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having each value set) (1 ms)
2025-04-15T08:16:48.4925508Z       âœ“ nodeValues is null (for example when resolving expression fails) (2 ms)
2025-04-15T08:16:48.4925714Z     getNodeHints
2025-04-15T08:16:48.4925903Z       âœ“ should return node hints if present in node type
2025-04-15T08:16:48.4926149Z       âœ“ should not include hint if displayCondition is false
2025-04-15T08:16:48.4926386Z       âœ“ should include hint if displayCondition is true
2025-04-15T08:16:48.4926555Z     isSubNodeType
2025-04-15T08:16:48.4926715Z       âœ“ should return false for null
2025-04-15T08:16:48.4926958Z       âœ“ should return false for { outputs: '={{random_expression}}' }
2025-04-15T08:16:48.4927233Z       âœ“ should return false for { outputs: [ [length]: 0 ] } (1 ms)
2025-04-15T08:16:48.4927616Z       âœ“ should return false for { outputs: [ 'main', [length]: 1 ] }
2025-04-15T08:16:48.4927889Z       âœ“ should return true for { outputs: [ 'ai_agent', [length]: 1 ] }
2025-04-15T08:16:48.4930975Z       âœ“ should return true for { outputs: [ 'main', 'ai_agent', [length]: 2 ] }
2025-04-15T08:16:48.4931214Z     applyDeclarativeNodeOptionParameters
2025-04-15T08:16:48.4931516Z       âœ“ should not modify properties on node with node with execute method method (1 ms)
2025-04-15T08:16:48.4931848Z       âœ“ should not modify properties on node with node with trigger method method
2025-04-15T08:16:48.4932166Z       âœ“ should not modify properties on node with node with webhook method method
2025-04-15T08:16:48.4932469Z       âœ“ should not modify properties on node with a polling node-type method
2025-04-15T08:16:48.4932805Z       âœ“ should not modify properties on node with a node-type with a non-main output method
2025-04-15T08:16:48.4933166Z     getParameterIssues
2025-04-15T08:16:48.4934000Z       âœ“ Fixed collection::Should not return issues if minimum or maximum field count is not set (1 ms)
2025-04-15T08:16:48.4934426Z       âœ“ Fixed collection::Should not return issues if field count is within the specified range (1 ms)
2025-04-15T08:16:48.4934825Z       âœ“ Fixed collection::Should return an issue if field count is lower than minimum specified
2025-04-15T08:16:48.4935209Z       âœ“ Fixed collection::Should return an issue if field count is higher than maximum specified
2025-04-15T08:16:48.4935577Z       âœ“ Fixed collection::Should not return issues if the collection is hidden (1 ms)
2025-04-15T08:16:48.4935838Z     getParameterIssues, required parameters validation
2025-04-15T08:16:48.4936110Z       âœ“ Should validate required dateTime parameters if empty string
2025-04-15T08:16:48.4936396Z       âœ“ Should validate required dateTime parameters if empty undefined
2025-04-15T08:16:48.4936587Z     isTriggerNode
2025-04-15T08:16:48.4936799Z       âœ“ Should return true for node with trigger in group (1 ms)
2025-04-15T08:16:48.4937086Z       âœ“ Should return true for node with multiple groups including trigger
2025-04-15T08:16:48.4937360Z       âœ“ Should return false for node without trigger in group
2025-04-15T08:16:48.4937608Z       âœ“ Should return false for node with empty group array
2025-04-15T08:16:48.4937920Z       âœ“ Should return false when trigger is called Trigger, but does not have a trigger group
2025-04-15T08:16:48.4938145Z     isExecutable
2025-04-15T08:16:48.4938328Z       âœ“ Should return true for trigger node (1 ms)
2025-04-15T08:16:48.4938581Z       âœ“ Should return true for node with Main output
2025-04-15T08:16:48.4938845Z       âœ“ Should return false for node without Main output and not a trigger
2025-04-15T08:16:48.4939171Z       âœ“ Should return true for node with mixed outputs including Main
2025-04-15T08:16:48.4939489Z       âœ“ Should return false for node with only AiTool output and not a trigger (1 ms)
2025-04-15T08:16:48.4939803Z       âœ“ Should return false for node with dynamic outputs set to AiTool only
2025-04-15T08:16:48.4940022Z     displayParameter
2025-04-15T08:16:48.4940228Z       âœ“ Should return true if no displayOptions are defined
2025-04-15T08:16:48.4940506Z       âœ“ Should return true if displayOptions.show conditions are met (4 ms)
2025-04-15T08:16:48.4940821Z       âœ“ Should return false if displayOptions.show conditions are not met (1 ms)
2025-04-15T08:16:48.4941119Z       âœ“ Should return false if displayOptions.hide conditions are met
2025-04-15T08:16:48.4941402Z       âœ“ Should return true if displayOptions.hide conditions are not met
2025-04-15T08:16:48.4941721Z       âœ“ Should return true if displayOptions.show and hide conditions are both met
2025-04-15T08:16:48.4942065Z       âœ“ Should return true if displayOptions.show conditions are met with multiple values
2025-04-15T08:16:48.4942448Z       âœ“ Should return false if displayOptions.hide conditions are met with multiple values (1 ms)
2025-04-15T08:16:48.4942780Z       âœ“ Should return true if @tool is true in nodeTypeDescription of tool
2025-04-15T08:16:48.4943228Z       âœ“ Should return false if @tool is true in nodeTypeDescription of non-tool
2025-04-15T08:16:48.4943493Z       âœ“ Should return true if @version condition is met
2025-04-15T08:16:48.4943735Z       âœ“ Should return false if @version condition is not met
2025-04-15T08:16:48.4944001Z       âœ“ Should return true if @tool and @version conditions are both met
2025-04-15T08:16:48.4944301Z       âœ“ Should return false if @tool is true but @version condition is not met
2025-04-15T08:16:48.4944566Z       âœ“ Should return true if no disabledOptions are defined
2025-04-15T08:16:48.4944831Z       âœ“ Should return false if disabledOptions.hide conditions are met
2025-04-15T08:16:48.4945116Z       âœ“ Should return true if disabledOptions.hide conditions are not met
2025-04-15T08:16:48.4945460Z       âœ“ Should return true if nodeValuesRoot contains a matching value for displayOptions.show
2025-04-15T08:16:48.4945857Z       âœ“ Should return false if nodeValuesRoot does not contain a matching value for displayOptions.show
2025-04-15T08:16:48.4946160Z 
2025-04-15T08:16:48.4946249Z PASS test/TelemetryHelpers.test.ts
2025-04-15T08:16:48.4946455Z   getDomainBase should return protocol plus domain
2025-04-15T08:16:48.4946648Z     âœ“ in valid URLs (3 ms)
2025-04-15T08:16:48.4946804Z     âœ“ in malformed URLs
2025-04-15T08:16:48.4946998Z   getDomainPath should return pathname, excluding query string
2025-04-15T08:16:48.4947236Z     anonymizing strings containing at least one number
2025-04-15T08:16:48.4947427Z       âœ“ in valid URLs (7 ms)
2025-04-15T08:16:48.4947594Z       âœ“ in malformed URLs (1 ms)
2025-04-15T08:16:48.4947741Z     anonymizing UUIDs
2025-04-15T08:16:48.4947886Z       âœ“ in valid URLs (4 ms)
2025-04-15T08:16:48.4948055Z       âœ“ in malformed URLs (1 ms)
2025-04-15T08:16:48.4948200Z     anonymizing emails
2025-04-15T08:16:48.4948338Z       âœ“ in valid URLs
2025-04-15T08:16:48.4948491Z       âœ“ in malformed URLs (1 ms)
2025-04-15T08:16:48.4948639Z   generateNodesGraph
2025-04-15T08:16:48.4948852Z     âœ“ should return node graph when node type is unknown (1 ms)
2025-04-15T08:16:48.4949098Z     âœ“ should return node graph when workflow is empty
2025-04-15T08:16:48.4949377Z     âœ“ should return node graph when workflow keys are not set
2025-04-15T08:16:48.4949737Z     âœ“ should return node graph when node has multiple operation fields with different display options (1 ms)
2025-04-15T08:16:48.4950081Z     âœ“ should return node graph with stickies of default size
2025-04-15T08:16:48.4950360Z     âœ“ should return node graph with stickies indicating overlap (1 ms)
2025-04-15T08:16:48.4950622Z     âœ“ should return node graph indicating pinned data (1 ms)
2025-04-15T08:16:48.4950848Z     âœ“ should return graph with webhook node
2025-04-15T08:16:48.4951085Z     âœ“ should return graph with http v4 node with generic auth
2025-04-15T08:16:48.4951355Z     âœ“ should return graph with HTTP V4 with predefined cred (1 ms)
2025-04-15T08:16:48.4951594Z     âœ“ should return graph with merge v3 node
2025-04-15T08:16:48.4951814Z     âœ“ should return graph with merge v3 node
2025-04-15T08:16:48.4952003Z     âœ“ should return graph with merge v3 node
2025-04-15T08:16:48.4952214Z     âœ“ should return graph with http v1 node (1 ms)
2025-04-15T08:16:48.4952503Z     âœ“ should return graph with http v4 node with no parameters and no credentials
2025-04-15T08:16:48.4952793Z     âœ“ should support custom connections like in AI nodes (1 ms)
2025-04-15T08:16:48.4953099Z     âœ“ should not fail on error to resolve a node parameter for sticky node type (1 ms)
2025-04-15T08:16:48.4953361Z     âœ“ should add run and items count (1 ms)
2025-04-15T08:16:48.4953546Z   extractLastExecutedNodeCredentialData
2025-04-15T08:16:48.4953825Z     âœ“ should return credentialId and credentialsType with null if no data
2025-04-15T08:16:48.4954149Z     âœ“ should return credentialId and credentialsType with null if no executionData
2025-04-15T08:16:48.4954512Z     âœ“ should return credentialId and credentialsType with null if no nodeExecutionStack
2025-04-15T08:16:48.4954965Z     âœ“ should return credentialId and credentialsType with null if no node (1 ms)
2025-04-15T08:16:48.4955382Z     âœ“ should return credentialId and credentialsType with null if no credentials
2025-04-15T08:16:48.4955752Z     âœ“ should return correct credentialId and credentialsType when last node executed has credential
2025-04-15T08:16:48.4956065Z   userInInstanceRanOutOfFreeAiCredits
2025-04-15T08:16:48.4956322Z     âœ“ should return false if could not find node credentials (2 ms)
2025-04-15T08:16:48.4956622Z     âœ“ should return false if could not credential type it is not openAiApi
2025-04-15T08:16:48.4956913Z     âœ“ should return false if error is not NodeApiError
2025-04-15T08:16:48.4957176Z     âœ“ should return false if error is not a free ai credit error (1 ms)
2025-04-15T08:16:48.4957480Z     âœ“ should return true if the user has ran out of free AI credits
2025-04-15T08:16:48.4957664Z   makeAIMetrics
2025-04-15T08:16:48.4957861Z     âœ“ should count applicable nodes and parameters (1 ms)
2025-04-15T08:16:48.4958256Z     âœ“ should not count non-applicable nodes and parameters (1 ms)
2025-04-15T08:16:48.4958485Z     âœ“ should count ai nodes without tools
2025-04-15T08:16:48.4958590Z 
2025-04-15T08:16:48.4958666Z PASS test/Workflow.test.ts
2025-04-15T08:16:48.4958813Z   Workflow
2025-04-15T08:16:48.4958974Z     renameNodeInParameterValue
2025-04-15T08:16:48.4959123Z       for expressions
2025-04-15T08:16:48.4959377Z         âœ“ do nothing if there is no expression (3 ms)
2025-04-15T08:16:48.4959582Z         âœ“ should work with dot notation
2025-04-15T08:16:48.4959775Z         âœ“ should work with ["nodeName"] (1 ms)
2025-04-15T08:16:48.4959993Z         âœ“ should work with $("Node1")
2025-04-15T08:16:48.4960180Z         âœ“ should work with $items("Node1")
2025-04-15T08:16:48.4960380Z         âœ“ should work with $items("Node1", 0, 1)
2025-04-15T08:16:48.4960674Z         âœ“ should work with dot notation that contains space and special character (1 ms)
2025-04-15T08:16:48.4960997Z         âœ“ should work with dot notation that contains space and trailing $
2025-04-15T08:16:48.4961305Z         âœ“ should work with dot notation that contains space and special character
2025-04-15T08:16:48.4961608Z         âœ“ should work with dot notation without trailing dot
2025-04-15T08:16:48.4961818Z         âœ“ should work with ['nodeName'] (1 ms)
2025-04-15T08:16:48.4962006Z         âœ“ should work on lower levels
2025-04-15T08:16:48.4962195Z       for node with renamable content
2025-04-15T08:16:48.4962376Z         âœ“ should work with $('name')
2025-04-15T08:16:48.4962584Z         âœ“ should work with $node['name'] and $node.name
2025-04-15T08:16:48.4962792Z         âœ“ should work with $items() (1 ms)
2025-04-15T08:16:48.4962965Z     renameNode
2025-04-15T08:16:48.4963122Z       âœ“ rename node without connections
2025-04-15T08:16:48.4963332Z       âœ“ rename node with one output connection (2 ms)
2025-04-15T08:16:48.4963563Z       âœ“ rename node with one input connection (1 ms)
2025-04-15T08:16:48.4963838Z       âœ“ rename node with multiple input and output connection (1 ms)
2025-04-15T08:16:48.4964149Z       âœ“ change name also in expressions which use node-name (dot notation) (2 ms)
2025-04-15T08:16:48.4964358Z     getParameterValue
2025-04-15T08:16:48.4964534Z       âœ“ read simple not expression value (1 ms)
2025-04-15T08:16:48.4964739Z       âœ“ read simple math expression (11 ms)
2025-04-15T08:16:48.4965025Z       âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax (2 ms)
2025-04-15T08:16:48.4965426Z       âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax add value and append text (1 ms)
2025-04-15T08:16:48.4965856Z       âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax with JavaScript Code (9 ms)
2025-04-15T08:16:48.4966217Z       âœ“ read data from incoming-node-data with with short "data" syntax (1 ms)
2025-04-15T08:16:48.4966543Z       âœ“ read deep-data from incoming-node-data with with short "data" syntax (1 ms)
2025-04-15T08:16:48.4966992Z       âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax
2025-04-15T08:16:48.4967356Z       âœ“ read binary-string-data from incoming-node-data with with short "$binary" syntax (1 ms)
2025-04-15T08:16:48.4967933Z       âœ“ read binary-string-data from node-output-data with with long "$node.{NODE}.binary" syntax
2025-04-15T08:16:48.4968407Z       âœ“ read parameter from other node with with long "$node.parameter" syntax (3 ms)
2025-04-15T08:16:48.4968702Z       âœ“ read environment data "$env" syntax which exists (1 ms)
2025-04-15T08:16:48.4968979Z       âœ“ read environment data "$env" syntax which does not exists (9 ms)
2025-04-15T08:16:48.4969332Z       âœ“ read parameter from current node with short "$parameter" syntax (1 ms)
2025-04-15T08:16:48.4969759Z       âœ“ return resolved value when referencing another property with expression (long "$node.{NODE}.data" syntax) (1 ms)
2025-04-15T08:16:48.4970210Z       âœ“ return resolved value when referencing another property with expression (short "data" syntax) (1 ms)
2025-04-15T08:16:48.4970856Z       âœ“ return resolved value when referencing another property with expression when a node has spaces (long "$node["{NODE}"].parameter" syntax)
2025-04-15T08:16:48.4971417Z       âœ“ return resolved value when referencing another property with expression on another node (long "$node["{NODE}"].parameter" syntax) (1 ms)
2025-04-15T08:16:48.4971849Z       âœ“ should also resolve all child parameters when the parent get requested (1 ms)
2025-04-15T08:16:48.4972078Z     getParentNodesByDepth
2025-04-15T08:16:48.4972264Z       âœ“ Should return parent nodes of nodes
2025-04-15T08:16:48.4972460Z       âœ“ Should return parent up to depth
2025-04-15T08:16:48.4972672Z       âœ“ Should return all parents with depth of -1
2025-04-15T08:16:48.4972961Z       âœ“ Should return parents of nodes with all connected output indicies (1 ms)
2025-04-15T08:16:48.4973214Z       âœ“ Should handle loops within workflows
2025-04-15T08:16:48.4973392Z     getConnectionsByDestination
2025-04-15T08:16:48.4973651Z       âœ“ should return empty object when there are no connections (1 ms)
2025-04-15T08:16:48.4973906Z       âœ“ should return connections by destination node
2025-04-15T08:16:48.4974126Z       âœ“ should handle multiple connection types
2025-04-15T08:16:48.4974334Z       âœ“ should handle nodes with no connections
2025-04-15T08:16:48.4974547Z       âœ“ should handle nodes with null connections
2025-04-15T08:16:48.4974801Z       âœ“ should handle nodes with multiple input connections (1 ms)
2025-04-15T08:16:48.4974994Z     getHighestNode
2025-04-15T08:16:48.4975184Z       âœ“ should return node name if node is not disabled
2025-04-15T08:16:48.4975408Z       âœ“ should return empty array if node is disabled
2025-04-15T08:16:48.4975660Z       âœ“ should return highest nodes when multiple parent nodes exist
2025-04-15T08:16:48.4975904Z       âœ“ should ignore disabled parent nodes (1 ms)
2025-04-15T08:16:48.4976104Z       âœ“ should handle nested connections
2025-04-15T08:16:48.4976307Z       âœ“ should handle specified connection index
2025-04-15T08:16:48.4976558Z       âœ“ should prevent infinite loops with cyclic connections
2025-04-15T08:16:48.4976859Z       âœ“ should handle connections to nodes that are not defined in the workflow (1 ms)
2025-04-15T08:16:48.4977190Z       âœ“ should handle connections from nodes that are not defined in the workflow
2025-04-15T08:16:48.4977405Z     getParentMainInputNode
2025-04-15T08:16:48.4977631Z       âœ“ should return the node itself if no parent connections exist
2025-04-15T08:16:48.4977875Z       âœ“ should return direct main input parent node
2025-04-15T08:16:48.4978139Z       âœ“ should traverse through non-main connections to find main input
2025-04-15T08:16:48.4978393Z       âœ“ should handle nested non-main connections
2025-04-15T08:16:48.4978601Z     getNodeConnectionIndexes
2025-04-15T08:16:48.4978815Z       âœ“ should return undefined for non-existent parent node
2025-04-15T08:16:48.4979087Z       âœ“ should return undefined for nodes without connections (1 ms)
2025-04-15T08:16:48.4979582Z       âœ“ should return correct connection indexes for direct connections
2025-04-15T08:16:48.4979879Z       âœ“ should return correct connection indexes for multi-step connections
2025-04-15T08:16:48.4980140Z       âœ“ should return undefined when depth is 0
2025-04-15T08:16:48.4980385Z       âœ“ should handle workflows with multiple connection indexes
2025-04-15T08:16:48.4980568Z     getStartNode
2025-04-15T08:16:48.4980791Z       âœ“ returns first trigger node when multiple start nodes exist (1 ms)
2025-04-15T08:16:48.4981088Z       âœ“ returns first starting node type when no trigger nodes are present
2025-04-15T08:16:48.4981353Z       âœ“ returns undefined when all nodes are disabled
2025-04-15T08:16:48.4981512Z     getNode
2025-04-15T08:16:48.4981703Z       âœ“ should return the node with the given name if it exists
2025-04-15T08:16:48.4981937Z       âœ“ should return null if the node does not exist
2025-04-15T08:16:48.4982097Z     getNodes
2025-04-15T08:16:48.4982276Z       âœ“ should return all requested nodes that exist
2025-04-15T08:16:48.4982617Z       âœ“ should return nodes in the order they were requested
2025-04-15T08:16:48.4982883Z       âœ“ should skip nodes that do not exist and log a warning (2 ms)
2025-04-15T08:16:48.4983165Z       âœ“ should return an empty array if none of the requested nodes exist
2025-04-15T08:16:48.4983409Z       âœ“ should handle an empty array of node names
2025-04-15T08:16:48.4983525Z 
2025-04-15T08:16:48.4983611Z PASS test/WorkflowDataProxy.test.ts
2025-04-15T08:16:48.4983770Z   WorkflowDataProxy
2025-04-15T08:16:48.4983894Z     $(If))
2025-04-15T08:16:48.4984114Z       âœ“ last() should use the output the node is connected to by default (3 ms)
2025-04-15T08:16:48.4984364Z       âœ“ last(0) should use the first output
2025-04-15T08:16:48.4984563Z       âœ“ last(1) should use the second output
2025-04-15T08:16:48.4984828Z       âœ“ first() should use the output the node is connected to by default (1 ms)
2025-04-15T08:16:48.4985123Z       âœ“ first(0) should use the output the node is connected to by default
2025-04-15T08:16:48.4985421Z       âœ“ first(1) should use the output the node is connected to by default
2025-04-15T08:16:48.4985711Z       âœ“ all() should use the output the node is connected to by default (1 ms)
2025-04-15T08:16:48.4986005Z       âœ“ all(0) should use the output the node is connected to by default
2025-04-15T08:16:48.4986277Z       âœ“ all(1) should use the output the node is connected to by default
2025-04-15T08:16:48.4986463Z     Base
2025-04-15T08:16:48.4986594Z       âœ“ $("NodeName").all()
2025-04-15T08:16:48.4986769Z       âœ“ $("NodeName").all() length
2025-04-15T08:16:48.4986949Z       âœ“ $("NodeName").item (1 ms)
2025-04-15T08:16:48.4987124Z       âœ“ $("NodeNameEarlier").item
2025-04-15T08:16:48.4987304Z       âœ“ $("NodeName").itemMatching(2)
2025-04-15T08:16:48.4987474Z       âœ“ $("NodeName").first()
2025-04-15T08:16:48.4987644Z       âœ“ $("NodeName").last() (1 ms)
2025-04-15T08:16:48.4987808Z       âœ“ $("NodeName").params
2025-04-15T08:16:48.4988016Z       âœ“ $("NodeName") not in workflow should throw (58 ms)
2025-04-15T08:16:48.4988284Z       âœ“ $("NodeName").item on Node that has not executed (1 ms)
2025-04-15T08:16:48.4988490Z       âœ“ $("NodeName").isExecuted
2025-04-15T08:16:48.4988645Z       âœ“ $input.all()
2025-04-15T08:16:48.4988794Z       âœ“ $input.all() length
2025-04-15T08:16:48.4988967Z       âœ“ $input.first() (1 ms)
2025-04-15T08:16:48.4989119Z       âœ“ $input.last()
2025-04-15T08:16:48.4989339Z       âœ“ $input.item
2025-04-15T08:16:48.4989476Z       âœ“ $thisItem
2025-04-15T08:16:48.4989607Z       âœ“ $binary
2025-04-15T08:16:48.4989737Z       âœ“ $json
2025-04-15T08:16:48.4989864Z       âœ“ $itemIndex
2025-04-15T08:16:48.4989997Z       âœ“ $prevNode
2025-04-15T08:16:48.4990129Z       âœ“ $runIndex
2025-04-15T08:16:48.4990253Z       âœ“ $workflow
2025-04-15T08:16:48.4990372Z     Errors
2025-04-15T08:16:48.4990547Z       âœ“ $("NodeName").item, Node does not exist (2 ms)
2025-04-15T08:16:48.4990814Z       âœ“ $("NodeName").item, node has no connection to referenced node (1 ms)
2025-04-15T08:16:48.4991226Z       âœ“ $("NodeName").first(), node has no connection to referenced node (2 ms)
2025-04-15T08:16:48.4991471Z       âœ“ $json, Node has no connections (7 ms)
2025-04-15T08:16:48.4991682Z       âœ“ $("NodeName").item, Node has not run (1 ms)
2025-04-15T08:16:48.4991882Z       âœ“ $json, Node has not run (2 ms)
2025-04-15T08:16:48.4992149Z       âœ“ $("NodeName").item, paired item error: more than 1 matching item (2 ms)
2025-04-15T08:16:48.4992435Z       âœ“ $("NodeName").item, paired item error: missing paired item (1 ms)
2025-04-15T08:16:48.4992715Z       âœ“ $("NodeName").item, paired item error: invalid paired item (4 ms)
2025-04-15T08:16:48.4992924Z     Pinned data with manual execution
2025-04-15T08:16:48.4993102Z       âœ“ $(PinnedSet).item.json (1 ms)
2025-04-15T08:16:48.4993294Z       âœ“ $(PinnedSet).item.json.firstName
2025-04-15T08:16:48.4993498Z       âœ“ $(PinnedSet).pairedItem().json.firstName
2025-04-15T08:16:48.4993708Z       âœ“ $(PinnedSet).first().json.firstName
2025-04-15T08:16:48.4993897Z       âœ“ $(PinnedSet).first().json.firstName
2025-04-15T08:16:48.4994195Z       âœ“ $(PinnedSet).last().json.firstName
2025-04-15T08:16:48.4994397Z       âœ“ $(PinnedSet).all()[0].json.firstName (1 ms)
2025-04-15T08:16:48.4994596Z       âœ“ $(PinnedSet).all()[1].json.firstName
2025-04-15T08:16:48.4994770Z       âœ“ $(PinnedSet).all()[2]
2025-04-15T08:16:48.4994958Z       âœ“ $(PinnedSet).itemMatching(0).json.firstName
2025-04-15T08:16:48.4995168Z       âœ“ $(PinnedSet).itemMatching(1).json.firstName
2025-04-15T08:16:48.4995366Z       âœ“ $(PinnedSet).itemMatching(2)
2025-04-15T08:16:48.4995558Z       âœ“ $node[PinnedSet].json.firstName (1 ms)
2025-04-15T08:16:48.4995734Z     Pinned data with paired items
2025-04-15T08:16:48.4995970Z       âœ“ itemMatching should throw when it cannot find a paired item
2025-04-15T08:16:48.4996248Z       âœ“ pairedItem should throw when it cannot find a paired item
2025-04-15T08:16:48.4996499Z       âœ“ item should throw when it cannot find a paired item
2025-04-15T08:16:48.4996672Z     Partial data
2025-04-15T08:16:48.4996844Z       Default behaviour (throw on missing execution data)
2025-04-15T08:16:48.4997025Z         âœ“ $binary
2025-04-15T08:16:48.4997157Z         âœ“ $json (1 ms)
2025-04-15T08:16:48.4997290Z         âœ“ $data
2025-04-15T08:16:48.4997432Z       Don't throw on missing execution data)
2025-04-15T08:16:48.4997595Z         âœ“ $binary
2025-04-15T08:16:48.4997724Z         âœ“ $json
2025-04-15T08:16:48.4997848Z         âœ“ $data
2025-04-15T08:16:48.4997952Z     $fromAI
2025-04-15T08:16:48.4998106Z       âœ“ Retrieves values for first item
2025-04-15T08:16:48.4998349Z       âœ“ Retrieves values for second item (1 ms)
2025-04-15T08:16:48.4998554Z       âœ“ Case variants: $fromAi and $fromai (1 ms)
2025-04-15T08:16:48.4998762Z       âœ“ Returns default value when key not found
2025-04-15T08:16:48.4999014Z       âœ“ Throws an error when a key is invalid (e.g. empty string) (1 ms)
2025-04-15T08:16:48.4999257Z     $rawParameter
2025-04-15T08:16:48.4999425Z       âœ“ returns simple raw parameter value (1 ms)
2025-04-15T08:16:48.4999667Z       âœ“ returns raw parameter value for resource locator values
2025-04-15T08:16:48.5000030Z       âœ“ returns raw parameter value when there is no run data
2025-04-15T08:16:48.5000225Z     DateTime and Time-related functions
2025-04-15T08:16:48.5000413Z       âœ“ $now should return current datetime
2025-04-15T08:16:48.5000635Z       âœ“ $today should return datetime at start of day (1 ms)
2025-04-15T08:16:48.5000873Z       âœ“ should expose DateTime, Interval, and Duration
2025-04-15T08:16:48.5001104Z       âœ“ $now should be configurable with timezone (3 ms)
2025-04-15T08:16:48.5001271Z     Node version and ID
2025-04-15T08:16:48.5001455Z       âœ“ $nodeVersion should return node type version
2025-04-15T08:16:48.5001652Z       âœ“ $nodeId should return node ID
2025-04-15T08:16:48.5001843Z       âœ“ $webhookId should be optional (1 ms)
2025-04-15T08:16:48.5001990Z     $jmesPath
2025-04-15T08:16:48.5002141Z       âœ“ should query simple object
2025-04-15T08:16:48.5002314Z       âœ“ should query nested object
2025-04-15T08:16:48.5002570Z       âœ“ should query array
2025-04-15T08:16:48.5002768Z       âœ“ should throw error for invalid arguments (1 ms)
2025-04-15T08:16:48.5002974Z       âœ“ $jmespath should alias $jmesPath
2025-04-15T08:16:48.5003119Z     $mode
2025-04-15T08:16:48.5003263Z       âœ“ should return execution mode
2025-04-15T08:16:48.5003402Z     $item
2025-04-15T08:16:48.5003604Z       âœ“ should return data proxy for specific item
2025-04-15T08:16:48.5003805Z       âœ“ should allow specifying run index
2025-04-15T08:16:48.5003952Z     $items
2025-04-15T08:16:48.5004109Z       Default behavior (no arguments)
2025-04-15T08:16:48.5004324Z         âœ“ should return input items from previous node (1 ms)
2025-04-15T08:16:48.5004562Z         âœ“ should limit items for nodes with executeOnce=true
2025-04-15T08:16:48.5004735Z       With node name argument
2025-04-15T08:16:48.5004932Z         âœ“ should return items for specified node
2025-04-15T08:16:48.5005150Z         âœ“ should throw error for non-existent node (1 ms)
2025-04-15T08:16:48.5005357Z       With node name and output index
2025-04-15T08:16:48.5005564Z         âœ“ should return items from specific output
2025-04-15T08:16:48.5005750Z       With node name, output index, and run index
2025-04-15T08:16:48.5005946Z         âœ“ should handle negative run index
2025-04-15T08:16:48.5006097Z       Error handling
2025-04-15T08:16:48.5006270Z         âœ“ should throw error for invalid run index
2025-04-15T08:16:48.5006492Z         âœ“ should handle nodes with no execution data (1 ms)
2025-04-15T08:16:48.5006660Z     $agentInfo
2025-04-15T08:16:48.5006857Z       âœ“ $agentInfo should return undefined for non-agent nodes
2025-04-15T08:16:48.5007165Z       âœ“ $agentInfo should return memoryConnectedToAgent as true if memory is connected
2025-04-15T08:16:48.5007541Z       âœ“ $agentInfo should return memoryConnectedToAgent as false if no memory is connected (1 ms)
2025-04-15T08:16:48.5007889Z       âœ“ $agentInfo.tools should include connected tools with correct details
2025-04-15T08:16:48.5008840Z       âœ“ $agentInfo.tools should correctly identify AI-defined fields
2025-04-15T08:16:48.5008994Z 
2025-04-15T08:16:48.5009090Z PASS test/AugmentObject.test.ts
2025-04-15T08:16:48.5009267Z   AugmentObject
2025-04-15T08:16:48.5009385Z     augmentArray
2025-04-15T08:16:48.5009548Z       âœ“ should work with arrays (8 ms)
2025-04-15T08:16:48.5009748Z       âœ“ should work with arrays on any level (5 ms)
2025-04-15T08:16:48.5009910Z     augmentObject
2025-04-15T08:16:48.5010103Z       âœ“ should work with simple values on first level (1 ms)
2025-04-15T08:16:48.5010343Z       âœ“ should work with simple values on sub-level (1 ms)
2025-04-15T08:16:48.5010576Z       âœ“ should work with complex values on first level
2025-04-15T08:16:48.5010786Z       âœ“ should work with delete and reset (1 ms)
2025-04-15T08:16:48.5011020Z       âœ“ should work with setting to undefined and reset (2 ms)
2025-04-15T08:16:48.5011262Z       âœ“ should be faster than doing a deepCopy (632 ms)
2025-04-15T08:16:48.5011470Z       âœ“ should ignore non-enumerable keys
2025-04-15T08:16:48.5011812Z       âœ“ should return property descriptors (1 ms)
2025-04-15T08:16:48.5012022Z       âœ“ should return valid values on `has` calls
2025-04-15T08:16:48.5012225Z       âœ“ should ignore non-enumerable keys (1 ms)
2025-04-15T08:16:48.5012454Z       âœ“ should handle constructor property correctly
2025-04-15T08:16:48.5012582Z 
2025-04-15T08:16:48.5012706Z PASS test/ExpressionExtensions/StringExtensions.test.ts
2025-04-15T08:16:48.5012902Z   Data Transformation Functions
2025-04-15T08:16:48.5013064Z     String Data Transformation Functions
2025-04-15T08:16:48.5013271Z       âœ“ .length should return the string length (3 ms)
2025-04-15T08:16:48.5013506Z       âœ“ .urlDecode should work correctly on a string (1 ms)
2025-04-15T08:16:48.5013745Z       âœ“ .urlEncode should work correctly on a string (1 ms)
2025-04-15T08:16:48.5013976Z       âœ“ .removeTags should work correctly on a string (1 ms)
2025-04-15T08:16:48.5014229Z       âœ“ .removeMarkdown should work correctly on a string (1 ms)
2025-04-15T08:16:48.5014627Z       âœ“ .toLowerCase should work correctly on a string (1 ms)
2025-04-15T08:16:48.5014866Z       âœ“ .toFloat should work correctly on a string (1 ms)
2025-04-15T08:16:48.5015089Z       âœ“ .toInt should work correctly on a string (3 ms)
2025-04-15T08:16:48.5015309Z       âœ“ .quote should work correctly on a string (2 ms)
2025-04-15T08:16:48.5015535Z       âœ“ .isNumeric should work correctly on a string (4 ms)
2025-04-15T08:16:48.5015747Z       âœ“ .isUrl should work on a string (23 ms)
2025-04-15T08:16:48.5015952Z       âœ“ .isDomain should work on a string (13 ms)
2025-04-15T08:16:48.5016162Z       âœ“ .toSnakeCase should work on a string (3 ms)
2025-04-15T08:16:48.5016379Z       âœ“ .toSentenceCase should work on a string (3 ms)
2025-04-15T08:16:48.5016594Z       âœ“ .extractUrl should work on a string (12 ms)
2025-04-15T08:16:48.5016810Z       âœ“ .extractDomain should work on a string (32 ms)
2025-04-15T08:16:48.5017024Z       âœ“ .extractEmail should work on a string (1 ms)
2025-04-15T08:16:48.5017229Z       âœ“ .isEmail should work on a string (3 ms)
2025-04-15T08:16:48.5017476Z       âœ“ .toDateTime should work on a variety of formats (15 ms)
2025-04-15T08:16:48.5017710Z       âœ“ .extractUrlPath should work on a string (2 ms)
2025-04-15T08:16:48.5017922Z       âœ“ .parseJson should work on a string (1 ms)
2025-04-15T08:16:48.5018137Z       âœ“ .parseJson should throw on invalid JSON (2 ms)
2025-04-15T08:16:48.5018394Z       âœ“ .toJsonString should work on a string (2 ms)
2025-04-15T08:16:48.5018607Z       âœ“ .toBoolean should work on a string (14 ms)
2025-04-15T08:16:48.5018819Z       âœ“ .base64Encode should work on a string (5 ms)
2025-04-15T08:16:48.5019045Z       âœ“ .base64Decode should work on a string (1 ms)
2025-04-15T08:16:48.5019250Z       .isEmpty
2025-04-15T08:16:48.5019460Z         âœ“ should work correctly on a string that is not empty (21 ms)
2025-04-15T08:16:48.5019731Z         âœ“ should work correctly on a string that is empty (2 ms)
2025-04-15T08:16:48.5019907Z       .isNotEmpty
2025-04-15T08:16:48.5020120Z         âœ“ should work correctly on a string that is not empty (2 ms)
2025-04-15T08:16:48.5020389Z         âœ“ should work correctly on a string that is empty (3 ms)
2025-04-15T08:16:48.5020562Z       .hash()
2025-04-15T08:16:48.5020723Z         âœ“ should work for "base64" (2 ms)
2025-04-15T08:16:48.5020917Z         âœ“ should work for "md5" (2 ms)
2025-04-15T08:16:48.5021105Z         âœ“ should work for "sha1" (2 ms)
2025-04-15T08:16:48.5021291Z         âœ“ should work for "sha224" (2 ms)
2025-04-15T08:16:48.5021475Z         âœ“ should work for "sha256" (1 ms)
2025-04-15T08:16:48.5021661Z         âœ“ should work for "sha384" (2 ms)
2025-04-15T08:16:48.5021842Z         âœ“ should work for "sha512" (3 ms)
2025-04-15T08:16:48.5022023Z         âœ“ should work for "sha3" (11 ms)
2025-04-15T08:16:48.5022230Z         âœ“ should throw on invalid algorithm (29 ms)
2025-04-15T08:16:48.5022400Z       .toDate
2025-04-15T08:16:48.5022574Z         âœ“ should work correctly on a date string (1 ms)
2025-04-15T08:16:48.5022787Z         âœ“ should throw on invalid date (2 ms)
2025-04-15T08:16:48.5023009Z 
2025-04-15T08:16:48.5023070Z PASS test/utils.test.ts
2025-04-15T08:16:48.5023254Z   isObjectEmpty
2025-04-15T08:16:48.5023439Z     âœ“ should handle null and undefined (4 ms)
2025-04-15T08:16:48.5023613Z     âœ“ should handle arrays
2025-04-15T08:16:48.5023788Z     âœ“ should handle Set and Map (1 ms)
2025-04-15T08:16:48.5024018Z     âœ“ should handle Buffer, ArrayBuffer, and Uint8Array (8 ms)
2025-04-15T08:16:48.5024236Z     âœ“ should handle plain objects
2025-04-15T08:16:48.5024432Z     âœ“ should handle instantiated classes (1 ms)
2025-04-15T08:16:48.5024657Z     âœ“ should not call Object.keys unless a plain object
2025-04-15T08:16:48.5024822Z   jsonParse
2025-04-15T08:16:48.5024950Z     âœ“ parses JSON
2025-04-15T08:16:48.5025121Z     âœ“ optionally throws `errorMessage (26 ms)
2025-04-15T08:16:48.5025326Z     âœ“ optionally returns a `fallbackValue`
2025-04-15T08:16:48.5025482Z   jsonStringify
2025-04-15T08:16:48.5025692Z     âœ“ should throw errors on circular references by default (22 ms)
2025-04-15T08:16:48.5026071Z     âœ“ should break circular references when requested (1 ms)
2025-04-15T08:16:48.5026336Z     âœ“ should not detect duplicates as circular references (1 ms)
2025-04-15T08:16:48.5026517Z   deepCopy
2025-04-15T08:16:48.5026672Z     âœ“ should deep copy an object (1 ms)
2025-04-15T08:16:48.5026915Z     âœ“ should avoid max call stack in case of circular deps (1 ms)
2025-04-15T08:16:48.5027105Z   fileTypeFromMimeType
2025-04-15T08:16:48.5027256Z     âœ“ should recognize json
2025-04-15T08:16:48.5027409Z     âœ“ should recognize html
2025-04-15T08:16:48.5027561Z     âœ“ should recognize image
2025-04-15T08:16:48.5027732Z     âœ“ should recognize audio (1 ms)
2025-04-15T08:16:48.5027907Z     âœ“ should recognize video
2025-04-15T08:16:48.5028079Z     âœ“ should recognize text (1 ms)
2025-04-15T08:16:48.5028243Z     âœ“ should recognize pdf
2025-04-15T08:16:48.5028377Z   randomInt
2025-04-15T08:16:48.5028540Z     âœ“ should generate random integers (5 ms)
2025-04-15T08:16:48.5028739Z     âœ“ should generate random in range (2 ms)
2025-04-15T08:16:48.5028906Z   randomString
2025-04-15T08:16:48.5029108Z     âœ“ should return a random string of the specified length (1 ms)
2025-04-15T08:16:48.5029434Z     âœ“ should return a random string of the in the length range (5 ms)
2025-04-15T08:16:48.5029726Z     âœ“ should only contain characters from the specified character set (1 ms)
2025-04-15T08:16:48.5029926Z   hasKey
2025-04-15T08:16:48.5030084Z     âœ“ should return false if the input is null
2025-04-15T08:16:48.5030296Z     âœ“ should return false if the input is undefined
2025-04-15T08:16:48.5030516Z     âœ“ should return false if the input is a number
2025-04-15T08:16:48.5030756Z     âœ“ should return false if the input is an array out of bounds
2025-04-15T08:16:48.5031018Z     âœ“ should return true if the input is an array within bounds
2025-04-15T08:16:48.5031292Z     âœ“ should return true if the input is an array with the key `length`
2025-04-15T08:16:48.5031586Z     âœ“ should return false if the input is an array with the key `toString`
2025-04-15T08:16:48.5031879Z     âœ“ should return false if the input is an object without the key
2025-04-15T08:16:48.5032145Z     âœ“ should return true if the input is an object with the key
2025-04-15T08:16:48.5032359Z     âœ“ should provide a type guard
2025-04-15T08:16:48.5032452Z 
2025-04-15T08:16:48.5032523Z PASS test/NodeErrors.test.ts
2025-04-15T08:16:48.5032672Z   NodeErrors tests
2025-04-15T08:16:48.5032850Z     âœ“ should return unknown error message (4 ms)
2025-04-15T08:16:48.5033051Z     âœ“ should return the error message
2025-04-15T08:16:48.5033260Z     âœ“ should return the error message defined in reason
2025-04-15T08:16:48.5033496Z     âœ“ should return the error message defined in options
2025-04-15T08:16:48.5033746Z     âœ“ should return description error message
2025-04-15T08:16:48.5033992Z     âœ“ should return description as error message defined in reason
2025-04-15T08:16:48.5034285Z     âœ“ should return description as error message defined in options (1 ms)
2025-04-15T08:16:48.5034656Z     âœ“ should return default message for ECONNREFUSED
2025-04-15T08:16:48.5034874Z     âœ“ should return default message for 502 (1 ms)
2025-04-15T08:16:48.5035133Z     âœ“ should return default message for ENOTFOUND, NodeOperationError
2025-04-15T08:16:48.5035419Z     âœ“ should return default message for ENOTFOUND, NodeApiError (1 ms)
2025-04-15T08:16:48.5035711Z     âœ“ should return default message for EEXIST based on code, NodeApiError
2025-04-15T08:16:48.5036006Z     âœ“ should update description GETADDRINFO, NodeOperationError (1 ms)
2025-04-15T08:16:48.5036310Z     âœ“ should remove description if it is equal to message, NodeOperationError
2025-04-15T08:16:48.5036745Z     âœ“ should remove description if it is equal to message, message provided in options take precedence over original, NodeApiError
2025-04-15T08:16:48.5037147Z     âœ“ should return mapped message for MYMAPPEDMESSAGE, NodeOperationError (1 ms)
2025-04-15T08:16:48.5037453Z     âœ“ should return mapped message for MYMAPPEDMESSAGE, NodeApiError
2025-04-15T08:16:48.5037887Z     âœ“ should return default message for EACCES, custom mapping not found, NodeOperationError
2025-04-15T08:16:48.5038144Z   NodeApiError message and description logic
2025-04-15T08:16:48.5038567Z     âœ“ case: customMessage && customDescription, result: message === customMessage; description === customDescription (1 ms)
2025-04-15T08:16:48.5039105Z     âœ“ case: customMessage && !customDescription && extractedMessage, result: message === customMessage; description === extractedMessage (3 ms)
2025-04-15T08:16:48.5039761Z     âœ“ case: customMessage && !customDescription && !extractedMessage, result: message === customMessage; !description (1 ms)
2025-04-15T08:16:48.5040298Z     âœ“ case: !customMessage && httpCodeMapping && extractedMessage, result: message === httpCodeMapping; description === extractedMessage (1 ms)
2025-04-15T08:16:48.5040806Z     âœ“ case: !customMessage && httpCodeMapping && !extractedMessage, result: message === httpCodeMapping; !description
2025-04-15T08:16:48.5041284Z     âœ“ case: !customMessage && !httpCodeMapping && extractedMessage, result: message === extractedMessage; !description (1 ms)
2025-04-15T08:16:48.5041844Z     âœ“ case: !customMessage && !httpCodeMapping && !extractedMessage, result: message === UNKNOWN_ERROR_MESSAGE; description === UNKNOWN_ERROR_DESCRIPTION
2025-04-15T08:16:48.5042202Z     âœ“ case: Error code sent as "any"
2025-04-15T08:16:48.5042307Z 
2025-04-15T08:16:48.5042442Z PASS test/ExpressionExtensions/ExpressionExtension.test.ts
2025-04-15T08:16:48.5042649Z   Expression Extension Transforms
2025-04-15T08:16:48.5042796Z     extend() transform
2025-04-15T08:16:48.5042968Z       âœ“ Basic transform with .isEmpty (3 ms)
2025-04-15T08:16:48.5043209Z       âœ“ Chained transform with .toSnakeCase.toSentenceCase (1 ms)
2025-04-15T08:16:48.5043532Z       âœ“ Chained transform with native functions .toSnakeCase.trim.toSentenceCase (1 ms)
2025-04-15T08:16:48.5043756Z   tmpl Expression Parser
2025-04-15T08:16:48.5043891Z     Compatible splitting
2025-04-15T08:16:48.5044061Z       âœ“ Lone expression (1 ms)
2025-04-15T08:16:48.5044219Z       âœ“ Multiple expression
2025-04-15T08:16:48.5044386Z       âœ“ Unclosed expression (1 ms)
2025-04-15T08:16:48.5044557Z       âœ“ Escaped opening bracket
2025-04-15T08:16:48.5044725Z       âœ“ Escaped closinging bracket
2025-04-15T08:16:48.5044865Z     Compatible joining
2025-04-15T08:16:48.5045012Z       âœ“ Lone expression
2025-04-15T08:16:48.5045176Z       âœ“ Multiple expression (1 ms)
2025-04-15T08:16:48.5045335Z       âœ“ Unclosed expression
2025-04-15T08:16:48.5045493Z       âœ“ Escaped opening bracket
2025-04-15T08:16:48.5045657Z       âœ“ Escaped closing bracket
2025-04-15T08:16:48.5045789Z     Edge cases
2025-04-15T08:16:48.5046076Z       âœ“ Nested member access with name of function inside a function doesn't result in function call (3 ms)
2025-04-15T08:16:48.5046322Z     Test newer ES syntax
2025-04-15T08:16:48.5046498Z       âœ“ Optional chaining transforms (17 ms)
2025-04-15T08:16:48.5046714Z       âœ“ Optional chaining transforms on calls (18 ms)
2025-04-15T08:16:48.5047063Z       âœ“ Multiple optional chains in an expression (7 ms)
2025-04-15T08:16:48.5047231Z     Non dot extensions
2025-04-15T08:16:48.5047369Z       âœ“ min (1 ms)
2025-04-15T08:16:48.5047500Z       âœ“ max (1 ms)
2025-04-15T08:16:48.5047628Z       âœ“ average (1 ms)
2025-04-15T08:16:48.5047766Z       âœ“ numberList (4 ms)
2025-04-15T08:16:48.5047909Z       âœ“ zip (1 ms)
2025-04-15T08:16:48.5048030Z       âœ“ $if (6 ms)
2025-04-15T08:16:48.5048260Z       âœ“ $not (2 ms)
2025-04-15T08:16:48.5048389Z       âœ“ $ifEmpty (3 ms)
2025-04-15T08:16:48.5048529Z     Test extend with undefined
2025-04-15T08:16:48.5048689Z       âœ“ input is undefined
2025-04-15T08:16:48.5048841Z       âœ“ input is null (1 ms)
2025-04-15T08:16:48.5049025Z       âœ“ input should be converted to upper case
2025-04-15T08:16:48.5049175Z 
2025-04-15T08:16:48.5049302Z PASS test/ExpressionExtensions/DateExtensions.test.ts
2025-04-15T08:16:48.5049490Z   Data Transformation Functions
2025-04-15T08:16:48.5049646Z     Date Data Transformation Functions
2025-04-15T08:16:48.5049990Z       âœ“ .isWeekend() should work correctly on a date (27 ms)
2025-04-15T08:16:48.5050232Z       âœ“ .endOfMonth() should work correctly on a date (7 ms)
2025-04-15T08:16:48.5050447Z       âœ“ .toDate() should work on a string (1 ms)
2025-04-15T08:16:48.5050602Z       .beginningOf
2025-04-15T08:16:48.5050811Z         âœ“ .beginningOf("week") should work correctly on a date (4 ms)
2025-04-15T08:16:48.5051083Z         âœ“ .beginningOf("week") should work correctly on a string (1 ms)
2025-04-15T08:16:48.5051362Z         âœ“ .beginningOf("month") should work correctly on a string (2 ms)
2025-04-15T08:16:48.5051638Z         âœ“ .beginningOf("year") should work correctly on a string (2 ms)
2025-04-15T08:16:48.5051820Z       .extract
2025-04-15T08:16:48.5052009Z         âœ“ .extract("day") should work correctly on a date (2 ms)
2025-04-15T08:16:48.5052234Z         âœ“ should extract year from a date (2 ms)
2025-04-15T08:16:48.5052452Z         âœ“ should extract yearDayNumber from a date (2 ms)
2025-04-15T08:16:48.5052683Z         âœ“ should extract month from a date (2 ms)
2025-04-15T08:16:48.5052884Z         âœ“ should extract week from a date (4 ms)
2025-04-15T08:16:48.5053081Z         âœ“ should extract day from a date (2 ms)
2025-04-15T08:16:48.5053277Z         âœ“ should extract hour from a date (7 ms)
2025-04-15T08:16:48.5053477Z         âœ“ should extract minute from a date (2 ms)
2025-04-15T08:16:48.5053680Z         âœ“ should extract second from a date (2 ms)
2025-04-15T08:16:48.5053894Z         âœ“ should extract millisecond from a date (1 ms)
2025-04-15T08:16:48.5054120Z         âœ“ should return undefined for invalid unit (2 ms)
2025-04-15T08:16:48.5054284Z       .format
2025-04-15T08:16:48.5054457Z         âœ“ should format date with custom format (3 ms)
2025-04-15T08:16:48.5054670Z         âœ“ should format date with ISO format (4 ms)
2025-04-15T08:16:48.5054828Z       .inBetween
2025-04-15T08:16:48.5054988Z         âœ“ should work on string and Date (3 ms)
2025-04-15T08:16:48.5055192Z         âœ“ should work on string and DateTime (1 ms)
2025-04-15T08:16:48.5055417Z         âœ“ should not work for invalid strings (1 ms)
2025-04-15T08:16:48.5055618Z         âœ“ should not work for numbers (1 ms)
2025-04-15T08:16:48.5055829Z         âœ“ should not work for a single argument (41 ms)
2025-04-15T08:16:48.5056060Z         âœ“ should not work for a more than two arguments (2 ms)
2025-04-15T08:16:48.5056235Z       .diffTo
2025-04-15T08:16:48.5056393Z         âœ“ should work with a single unit (4 ms)
2025-04-15T08:16:48.5056593Z         âœ“ should work with an array of units (8 ms)
2025-04-15T08:16:48.5056798Z         âœ“ should return difference in days (2 ms)
2025-04-15T08:16:48.5057004Z         âœ“ should return difference in hours (1 ms)
2025-04-15T08:16:48.5057212Z         âœ“ should return difference in minutes (2 ms)
2025-04-15T08:16:48.5057419Z         âœ“ should return difference in seconds (1 ms)
2025-04-15T08:16:48.5057640Z         âœ“ should return difference in milliseconds (1 ms)
2025-04-15T08:16:48.5057854Z         âœ“ should throw for invalid unit (2 ms)
2025-04-15T08:16:48.5058145Z       .toDateTime
2025-04-15T08:16:48.5058313Z         âœ“ should return itself for DateTime (2 ms)
2025-04-15T08:16:48.5058566Z         âœ“ should return a DateTime for JS Date (1 ms)
2025-04-15T08:16:48.5058725Z       .toInt/.toFloat
2025-04-15T08:16:48.5058908Z         âœ“ should return milliseconds for DateTime (3 ms)
2025-04-15T08:16:48.5059130Z         âœ“ should return milliseconds for JS Date (3 ms)
2025-04-15T08:16:48.5059414Z         âœ“ should not have a doc (hidden from autocomplete) (2 ms)
2025-04-15T08:16:48.5059590Z       .toBoolean
2025-04-15T08:16:48.5059746Z         âœ“ should return undefined (2 ms)
2025-04-15T08:16:48.5059972Z         âœ“ should not have a doc (hidden from autocomplete) (2 ms)
2025-04-15T08:16:48.5060141Z       .isInLast
2025-04-15T08:16:48.5060360Z         âœ“ should return true if the date is within the last n minutes (2 ms)
2025-04-15T08:16:48.5060665Z         âœ“ should return false if the date is not within the last n minutes (1 ms)
2025-04-15T08:16:48.5061038Z         âœ“ should handle default unit as minutes (2 ms)
2025-04-15T08:16:48.5061197Z       .minus
2025-04-15T08:16:48.5061362Z         âœ“ should subtract days from the date (1 ms)
2025-04-15T08:16:48.5061573Z         âœ“ should subtract years from the date (8 ms)
2025-04-15T08:16:48.5061797Z         âœ“ should handle default unit as milliseconds (1 ms)
2025-04-15T08:16:48.5062017Z         âœ“ should handle DateTime instances (1 ms)
2025-04-15T08:16:48.5062167Z       .plus
2025-04-15T08:16:48.5062330Z         âœ“ should subtract days from the date (1 ms)
2025-04-15T08:16:48.5062537Z         âœ“ should subtract years from the date (1 ms)
2025-04-15T08:16:48.5062752Z         âœ“ should handle default unit as milliseconds (1 ms)
2025-04-15T08:16:48.5062965Z         âœ“ should handle DateTime instances (1 ms)
2025-04-15T08:16:48.5063114Z       .isDst
2025-04-15T08:16:48.5063279Z         âœ“ should return true for a date in DST (1 ms)
2025-04-15T08:16:48.5063499Z         âœ“ should return false for a date not in DST (2 ms)
2025-04-15T08:16:48.5063629Z 
2025-04-15T08:16:48.5063712Z PASS test/TypeValidation.test.ts
2025-04-15T08:16:48.5063857Z   Type Validation
2025-04-15T08:16:48.5064038Z     âœ“ should validate boolean values properly (7 ms)
2025-04-15T08:16:48.5064265Z     âœ“ should not validate invalid boolean values (1 ms)
2025-04-15T08:16:48.5064475Z     âœ“ should validate and cast numbers (1 ms)
2025-04-15T08:16:48.5064709Z     âœ“ should validate and cast JSON & JS objects properly (5 ms)
2025-04-15T08:16:48.5064953Z     âœ“ should validate and cast arrays properly (1 ms)
2025-04-15T08:16:48.5065157Z     âœ“ should validate options properly
2025-04-15T08:16:48.5065359Z     âœ“ should validate and cast time properly (1 ms)
2025-04-15T08:16:48.5065512Z     Dates
2025-04-15T08:16:48.5065681Z       âœ“ should validate and cast ISO dates (15 ms)
2025-04-15T08:16:48.5065901Z       âœ“ should validate and cast RFC2822 dates (2 ms)
2025-04-15T08:16:48.5066115Z       âœ“ should validate and cast HTTP dates (1 ms)
2025-04-15T08:16:48.5066335Z       âœ“ should validate and cast SQL dates (1 ms)
2025-04-15T08:16:48.5066558Z       âœ“ should validate and cast other valid dates (2 ms)
2025-04-15T08:16:48.5066775Z       âœ“ should not validate invalid dates (2 ms)
2025-04-15T08:16:48.5066927Z     options
2025-04-15T08:16:48.5067039Z       strict=true
2025-04-15T08:16:48.5067201Z         âœ“ should not convert/cast types (4 ms)
2025-04-15T08:16:48.5067356Z       parseStrings=true
2025-04-15T08:16:48.5067532Z         âœ“ should parse strings from other types
2025-04-15T08:16:48.5067711Z     getValueDescription util function
2025-04-15T08:16:48.5067908Z       âœ“ should return correct description (1 ms)
2025-04-15T08:16:48.5068017Z 
2025-04-15T08:16:48.5068100Z PASS test/ObservableObject.test.ts
2025-04-15T08:16:48.5068252Z   ObservableObject
2025-04-15T08:16:48.5068487Z     âœ“ should recognize that item on parent level got added (init empty) (3 ms)
2025-04-15T08:16:48.5068954Z     âœ“ should not recognize that item on parent level changed if it is empty object and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:16:48.5069657Z     âœ“ should recognize that item on parent level changed if it is not empty object and option "ignoreEmptyOnFirstChild" === true (init empty)
2025-04-15T08:16:48.5070198Z     âœ“ should not recognize that item on parent level changed if it is empty array and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:16:48.5070727Z     âœ“ should recognize that item on parent level changed if it is not empty []] and option "ignoreEmptyOnFirstChild" === true (init empty)
2025-04-15T08:16:48.5071120Z     âœ“ should recognize that item on parent level changed (init data exists) (1 ms)
2025-04-15T08:16:48.5071433Z     âœ“ should recognize that array on parent level changed (init data exists)
2025-04-15T08:16:48.5071756Z     âœ“ should recognize that item on first child level changed (init data exists) (1 ms)
2025-04-15T08:16:48.5072212Z     âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === true (init data exists)
2025-04-15T08:16:48.5072865Z     âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === false (init data exists) (1 ms)
2025-04-15T08:16:48.5073292Z     âœ“ should recognize that array on first child level changed (init data exists)
2025-04-15T08:16:48.5073609Z     âœ“ should recognize that item on second child level changed (init data exists)
2025-04-15T08:16:48.5073934Z     âœ“ should recognize that item on parent level got deleted (init data exists) (1 ms)
2025-04-15T08:16:48.5074377Z     âœ“ should recognize that item on parent level got deleted even with and option "ignoreEmptyOnFirstChild" === true (init data exists)
2025-04-15T08:16:48.5074806Z     âœ“ should recognize that item on second child level got deleted (init data exists) (1 ms)
2025-04-15T08:16:48.5075180Z     âœ“ should recognize that item on second child level changed with null (init data exists) (1 ms)
2025-04-15T08:16:48.5075373Z 
2025-04-15T08:16:48.5075489Z PASS test/ExpressionExtensions/ArrayExtensions.test.ts
2025-04-15T08:16:48.5075682Z   Data Transformation Functions
2025-04-15T08:16:48.5075844Z     Array Data Transformation Functions
2025-04-15T08:16:48.5076076Z       âœ“ .randomItem() should work correctly on an array (30 ms)
2025-04-15T08:16:48.5076333Z       âœ“ .isNotEmpty() should work correctly on an array (4 ms)
2025-04-15T08:16:48.5076575Z       âœ“ .pluck() should work correctly on an array (6 ms)
2025-04-15T08:16:48.5076825Z       âœ“ .pluck() should work correctly for multiple values (5 ms)
2025-04-15T08:16:48.5077093Z       âœ“ .pluck() should work return everything with no args (4 ms)
2025-04-15T08:16:48.5077338Z       âœ“ .unique() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5077625Z       âœ“ .unique() should work on an arrays containing nulls, objects and arrays (3 ms)
2025-04-15T08:16:48.5077901Z       âœ“ .unique() should work on an arrays of objects (17 ms)
2025-04-15T08:16:48.5078142Z       âœ“ .isEmpty() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5078420Z       âœ“ .isEmpty() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5078658Z       âœ“ .last() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5078884Z       âœ“ .first() should work correctly on an array (2 ms)
2025-04-15T08:16:48.5079108Z       âœ“ .merge() should work correctly on an array (2 ms)
2025-04-15T08:16:48.5079474Z       âœ“ .merge() should work correctly without arguments (1 ms)
2025-04-15T08:16:48.5079780Z       âœ“ .smartJoin() should work correctly on an array of objects (10 ms)
2025-04-15T08:16:48.5080073Z       âœ“ .renameKeys() should work correctly on an array of objects (2 ms)
2025-04-15T08:16:48.5080324Z       âœ“ .sum() should work on an array of numbers (41 ms)
2025-04-15T08:16:48.5080563Z       âœ“ .average() should work on an array of numbers (3 ms)
2025-04-15T08:16:48.5080794Z       âœ“ .min() should work on an array of numbers (3 ms)
2025-04-15T08:16:48.5081013Z       âœ“ .max() should work on an array of numbers (3 ms)
2025-04-15T08:16:48.5081349Z       âœ“ .union() should work on an array of objects (8 ms)
2025-04-15T08:16:48.5081627Z       âœ“ .union() should work on an arrays containing nulls, objects and arrays (3 ms)
2025-04-15T08:16:48.5081922Z       âœ“ .intersection() should work on an array of objects (12 ms)
2025-04-15T08:16:48.5082238Z       âœ“ .intersection() should work on an arrays containing nulls, objects and arrays (3 ms)
2025-04-15T08:16:48.5082529Z       âœ“ .difference() should work on an array of objects (5 ms)
2025-04-15T08:16:48.5082824Z       âœ“ .difference() should work on an arrays containing nulls, objects and arrays (2 ms)
2025-04-15T08:16:48.5083088Z       âœ“ .compact() should work on an array (1 ms)
2025-04-15T08:16:48.5083299Z       âœ“ .chunk() should work on an array (1 ms)
2025-04-15T08:16:48.5083516Z       âœ“ .toJsonString() should work on an array (1 ms)
2025-04-15T08:16:48.5083729Z       âœ“ .append() should work on an array (1 ms)
2025-04-15T08:16:48.5083892Z       Conversion methods
2025-04-15T08:16:48.5084371Z         âœ“ should exist but return undefined (to not break expressions with mixed data) (4 ms)
2025-04-15T08:16:48.5084664Z         âœ“ should not have a doc (hidden from autocomplete)
2025-04-15T08:16:48.5084783Z 
2025-04-15T08:16:48.5084913Z PASS test/ExpressionExtensions/ObjectExtensions.test.ts
2025-04-15T08:16:48.5085112Z   Data Transformation Functions
2025-04-15T08:16:48.5085276Z     Object Data Transformation Functions
2025-04-15T08:16:48.5085490Z       âœ“ .removeField should work on an object (4 ms)
2025-04-15T08:16:48.5085703Z       âœ“ .urlEncode should work on an object (1 ms)
2025-04-15T08:16:48.5085925Z       âœ“ .toJsonString() should work on an object (1 ms)
2025-04-15T08:16:48.5086087Z       .isEmpty
2025-04-15T08:16:48.5086266Z         âœ“ should return true for an empty object (31 ms)
2025-04-15T08:16:48.5086504Z         âœ“ should return false for a non-empty object (3 ms)
2025-04-15T08:16:48.5086789Z         âœ“ should return true for an object with only null/undefined values (3 ms)
2025-04-15T08:16:48.5087000Z       .hasField
2025-04-15T08:16:48.5087204Z         âœ“ should return true if the key exists in the object (2 ms)
2025-04-15T08:16:48.5087486Z         âœ“ should return false if the key does not exist in the object (2 ms)
2025-04-15T08:16:48.5087689Z       .removeFieldsContaining
2025-04-15T08:16:48.5087875Z         âœ“ should work on an object (2 ms)
2025-04-15T08:16:48.5088237Z         âœ“ should not work for empty string (24 ms)
2025-04-15T08:16:48.5088412Z       .keepFieldsContaining
2025-04-15T08:16:48.5088689Z         âœ“ .keepFieldsContaining should work on an object (2 ms)
2025-04-15T08:16:48.5088962Z         âœ“ .keepFieldsContaining should work on a nested object (1 ms)
2025-04-15T08:16:48.5089296Z         âœ“ .keepFieldsContaining should not work for empty string (2 ms)
2025-04-15T08:16:48.5089487Z       .compact
2025-04-15T08:16:48.5089640Z         âœ“ should work on an object (2 ms)
2025-04-15T08:16:48.5089902Z         âœ“ should remove fields with null, undefined, empty string, or "nil" (2 ms)
2025-04-15T08:16:48.5090165Z         âœ“ should work on an empty object (1 ms)
2025-04-15T08:16:48.5090410Z         âœ“ should work on an object with all null/undefined values (1 ms)
2025-04-15T08:16:48.5090690Z         âœ“ should work on an object with nested null/undefined values (1 ms)
2025-04-15T08:16:48.5090943Z         âœ“ should not allow prototype pollution (4 ms)
2025-04-15T08:16:48.5091100Z       .keys
2025-04-15T08:16:48.5091287Z         âœ“ should return an array of keys from the object (1 ms)
2025-04-15T08:16:48.5091523Z         âœ“ should return an empty array for an empty object
2025-04-15T08:16:48.5091688Z       .values
2025-04-15T08:16:48.5091879Z         âœ“ should return an array of values from the object (1 ms)
2025-04-15T08:16:48.5092116Z         âœ“ should return an empty array for an empty object
2025-04-15T08:16:48.5092280Z       Conversion methods
2025-04-15T08:16:48.5092545Z         âœ“ should exist but return undefined (to not break expressions with mixed data) (3 ms)
2025-04-15T08:16:48.5092956Z         âœ“ should not have a doc (hidden from autocomplete)
2025-04-15T08:16:48.5093074Z 
2025-04-15T08:16:48.5093145Z PASS test/Expression.test.ts
2025-04-15T08:16:48.5093294Z   Expression (with tmpl)
2025-04-15T08:16:48.5093427Z     getParameterValue()
2025-04-15T08:16:48.5093644Z       âœ“ should not be able to use global built-ins from denylist (151 ms)
2025-04-15T08:16:48.5093919Z       âœ“ should be able to use global built-ins from allowlist (208 ms)
2025-04-15T08:16:48.5094185Z       âœ“ should not able to do arbitrary code execution (3 ms)
2025-04-15T08:16:48.5094381Z     Test all expression value fixtures
2025-04-15T08:16:48.5094576Z       âœ“ ={{$json["contact"]["FirstName"]}} (4 ms)
2025-04-15T08:16:48.5094767Z       âœ“ ={{ $json["test"] }} (3 ms)
2025-04-15T08:16:48.5094979Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (2 ms)
2025-04-15T08:16:48.5095200Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (3 ms)
2025-04-15T08:16:48.5095428Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}} (7 ms)
2025-04-15T08:16:48.5095981Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (13 ms)
2025-04-15T08:16:48.5096357Z       âœ“ = {{$json["dig check CF"].data["stdout"]}} (6 ms)
2025-04-15T08:16:48.5096624Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (14 ms)
2025-04-15T08:16:48.5096847Z       âœ“ ={{$runIndex}} (3 ms)
2025-04-15T08:16:48.5097025Z       âœ“ ={{ new String().toString() }} (9 ms)
2025-04-15T08:16:48.5097427Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (5 ms)
2025-04-15T08:16:48.5097776Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}} (3 ms)
2025-04-15T08:16:48.5097976Z       âœ“ ={{ $json.toString() }} (5 ms)
2025-04-15T08:16:48.5098180Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (8 ms)
2025-04-15T08:16:48.5098443Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (3 ms)
2025-04-15T08:16:48.5098672Z       âœ“ ={{ $json["phone"] ?? 0}} (38 ms)
2025-04-15T08:16:48.5098966Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (5 ms)
2025-04-15T08:16:48.5099357Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (4 ms)
2025-04-15T08:16:48.5099652Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (2 ms)
2025-04-15T08:16:48.5099963Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (6 ms)
2025-04-15T08:16:48.5100274Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (4 ms)
2025-04-15T08:16:48.5100644Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (7 ms)
2025-04-15T08:16:48.5101077Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (13 ms)
2025-04-15T08:16:48.5101201Z       âœ“ ={{new Date($json["created_at"]).toISOString()}} (5 ms)
2025-04-15T08:16:48.5101347Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (3 ms)
2025-04-15T08:16:48.5101582Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (5 ms)
2025-04-15T08:16:48.5101641Z       âœ“ ={
2025-04-15T08:16:48.5101699Z 	"article": {
2025-04-15T08:16:48.5101785Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5101843Z 		"published": true,
2025-04-15T08:16:48.5101958Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5102040Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5102089Z 	}
2025-04-15T08:16:48.5102146Z } (8 ms)
2025-04-15T08:16:48.5102395Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (9 ms)
2025-04-15T08:16:48.5102540Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (3 ms)
2025-04-15T08:16:48.5102746Z       âœ“ ={{Math.min(1, 2);}} (3 ms)
2025-04-15T08:16:48.5102848Z       âœ“ ={{new String().toString();}} (2 ms)
2025-04-15T08:16:48.5103002Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (3 ms)
2025-04-15T08:16:48.5103072Z       âœ“ ={{200}} (1 ms)
2025-04-15T08:16:48.5103187Z       âœ“ ={{$json.assetValue * $json.value / 100}} (3 ms)
2025-04-15T08:16:48.5103297Z       âœ“ ={{/^\d+$/.test($json["search_term"])}} (4 ms)
2025-04-15T08:16:48.5103362Z       âœ“ ={{ `test
2025-04-15T08:16:48.5103411Z value
2025-04-15T08:16:48.5103463Z multi
2025-04-15T08:16:48.5103512Z line` }} (2 ms)
2025-04-15T08:16:48.5103623Z       âœ“ ={{ { "data": $json.body.choices } }} (3 ms)
2025-04-15T08:16:48.5103771Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (4 ms)
2025-04-15T08:16:48.5103844Z       âœ“ ={{asdas}} (5 ms)
2025-04-15T08:16:48.5103939Z       âœ“ ={{!!$json["data"]["errors"]}} (4 ms)
2025-04-15T08:16:48.5104008Z       âœ“ =TRUE (1 ms)
2025-04-15T08:16:48.5104239Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (13 ms)
2025-04-15T08:16:48.5104404Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (2 ms)
2025-04-15T08:16:48.5104539Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (3 ms)
2025-04-15T08:16:48.5104668Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (4 ms)
2025-04-15T08:16:48.5104790Z       âœ“ ={{ 'domain' in $json && $json.domain != null}} (8 ms)
2025-04-15T08:16:48.5104895Z       âœ“ ={{ String("testing").length }} (2 ms)
2025-04-15T08:16:48.5104977Z     Test all expression transform fixtures
2025-04-15T08:16:48.5105076Z       âœ“ ={{$json["contact"]["FirstName"]}} (1 ms)
2025-04-15T08:16:48.5105152Z       âœ“ ={{ $json["test"] }}
2025-04-15T08:16:48.5105272Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:16:48.5105384Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}} (1 ms)
2025-04-15T08:16:48.5105492Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:16:48.5105826Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
2025-04-15T08:16:48.5105938Z       âœ“ = {{$json["dig check CF"].data["stdout"]}} (1 ms)
2025-04-15T08:16:48.5106097Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:16:48.5106161Z       âœ“ ={{$runIndex}}
2025-04-15T08:16:48.5106262Z       âœ“ ={{ new String().toString() }} (1 ms)
2025-04-15T08:16:48.5106561Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (1 ms)
2025-04-15T08:16:48.5106689Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
2025-04-15T08:16:48.5106771Z       âœ“ ={{ $json.toString() }}
2025-04-15T08:16:48.5106883Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (1 ms)
2025-04-15T08:16:48.5106996Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (1 ms)
2025-04-15T08:16:48.5107094Z       âœ“ ={{ $json["phone"] ?? 0}} (1 ms)
2025-04-15T08:16:48.5107293Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (2 ms)
2025-04-15T08:16:48.5107469Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (1 ms)
2025-04-15T08:16:48.5107600Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }}
2025-04-15T08:16:48.5107777Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
2025-04-15T08:16:48.5107921Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (1 ms)
2025-04-15T08:16:48.5108143Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:16:48.5108376Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (1 ms)
2025-04-15T08:16:48.5108496Z       âœ“ ={{new Date($json["created_at"]).toISOString()}} (1 ms)
2025-04-15T08:16:48.5108747Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (2 ms)
2025-04-15T08:16:48.5108998Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (2 ms)
2025-04-15T08:16:48.5109058Z       âœ“ ={
2025-04-15T08:16:48.5109112Z 	"article": {
2025-04-15T08:16:48.5109237Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5109294Z 		"published": true,
2025-04-15T08:16:48.5109406Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5109488Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5109531Z 	}
2025-04-15T08:16:48.5109580Z } (5 ms)
2025-04-15T08:16:48.5109803Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
2025-04-15T08:16:48.5109944Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:16:48.5110028Z       âœ“ ={{Math.min(1, 2);}} (1 ms)
2025-04-15T08:16:48.5110217Z       âœ“ ={{new String().toString();}}
2025-04-15T08:16:48.5110368Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (1 ms)
2025-04-15T08:16:48.5110437Z       âœ“ ={{200}} (1 ms)
2025-04-15T08:16:48.5110537Z       âœ“ ={{$json.assetValue * $json.value / 100}}
2025-04-15T08:16:48.5110651Z       âœ“ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
2025-04-15T08:16:48.5110720Z       âœ“ ={{ `test
2025-04-15T08:16:48.5110764Z value
2025-04-15T08:16:48.5110813Z multi
2025-04-15T08:16:48.5110861Z line` }}
2025-04-15T08:16:48.5110968Z       âœ“ ={{ { "data": $json.body.choices } }} (1 ms)
2025-04-15T08:16:48.5111111Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (1 ms)
2025-04-15T08:16:48.5111185Z       âœ“ ={{asdas}} (1 ms)
2025-04-15T08:16:48.5111271Z       âœ“ ={{!!$json["data"]["errors"]}}
2025-04-15T08:16:48.5111340Z       âœ“ =TRUE (1 ms)
2025-04-15T08:16:48.5111472Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (4 ms)
2025-04-15T08:16:48.5111631Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
2025-04-15T08:16:48.5111764Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}} (1 ms)
2025-04-15T08:16:48.5111894Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
2025-04-15T08:16:48.5112000Z       âœ“ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:16:48.5112093Z       âœ“ ={{ String("testing").length }}
2025-04-15T08:16:48.5112165Z   Expression (with tournament)
2025-04-15T08:16:48.5112218Z     getParameterValue()
2025-04-15T08:16:48.5112361Z       âœ“ should not be able to use global built-ins from denylist (6 ms)
2025-04-15T08:16:48.5112497Z       âœ“ should be able to use global built-ins from allowlist (14 ms)
2025-04-15T08:16:48.5112626Z       âœ“ should not able to do arbitrary code execution (1 ms)
2025-04-15T08:16:48.5112696Z     Test all expression value fixtures
2025-04-15T08:16:48.5112793Z       âœ“ ={{$json["contact"]["FirstName"]}}
2025-04-15T08:16:48.5112869Z       âœ“ ={{ $json["test"] }}
2025-04-15T08:16:48.5112990Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:16:48.5113088Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}}
2025-04-15T08:16:48.5113197Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:16:48.5113505Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
2025-04-15T08:16:48.5113618Z       âœ“ = {{$json["dig check CF"].data["stdout"]}} (2 ms)
2025-04-15T08:16:48.5113756Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}}
2025-04-15T08:16:48.5113831Z       âœ“ ={{$runIndex}} (1 ms)
2025-04-15T08:16:48.5113914Z       âœ“ ={{ new String().toString() }}
2025-04-15T08:16:48.5114199Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}}
2025-04-15T08:16:48.5114321Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
2025-04-15T08:16:48.5114501Z       âœ“ ={{ $json.toString() }}
2025-04-15T08:16:48.5114599Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}}
2025-04-15T08:16:48.5114706Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}} (1 ms)
2025-04-15T08:16:48.5114802Z       âœ“ ={{ $json["phone"] ?? 0}} (1 ms)
2025-04-15T08:16:48.5114992Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
2025-04-15T08:16:48.5115162Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
2025-04-15T08:16:48.5115293Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }} (1 ms)
2025-04-15T08:16:48.5115467Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}}
2025-04-15T08:16:48.5115602Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (1 ms)
2025-04-15T08:16:48.5115825Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:16:48.5116157Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (1 ms)
2025-04-15T08:16:48.5116284Z       âœ“ ={{new Date($json["created_at"]).toISOString()}}
2025-04-15T08:16:48.5116415Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (1 ms)
2025-04-15T08:16:48.5116648Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
2025-04-15T08:16:48.5116710Z       âœ“ ={
2025-04-15T08:16:48.5116757Z 	"article": {
2025-04-15T08:16:48.5116842Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5116898Z 		"published": true,
2025-04-15T08:16:48.5117014Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5117086Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5117136Z 	}
2025-04-15T08:16:48.5117181Z } (1 ms)
2025-04-15T08:16:48.5117419Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (1 ms)
2025-04-15T08:16:48.5117564Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:16:48.5117638Z       âœ“ ={{Math.min(1, 2);}}
2025-04-15T08:16:48.5117748Z       âœ“ ={{new String().toString();}} (1 ms)
2025-04-15T08:16:48.5117906Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (1 ms)
2025-04-15T08:16:48.5117973Z       âœ“ ={{200}}
2025-04-15T08:16:48.5118083Z       âœ“ ={{$json.assetValue * $json.value / 100}} (1 ms)
2025-04-15T08:16:48.5118187Z       âœ“ ={{/^\d+$/.test($json["search_term"])}}
2025-04-15T08:16:48.5118246Z       âœ“ ={{ `test
2025-04-15T08:16:48.5118300Z value
2025-04-15T08:16:48.5118359Z multi
2025-04-15T08:16:48.5118412Z line` }} (1 ms)
2025-04-15T08:16:48.5118547Z       âœ“ ={{ { "data": $json.body.choices } }}
2025-04-15T08:16:48.5118700Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (1 ms)
2025-04-15T08:16:48.5118771Z       âœ“ ={{asdas}}
2025-04-15T08:16:48.5118877Z       âœ“ ={{!!$json["data"]["errors"]}} (1 ms)
2025-04-15T08:16:48.5118945Z       âœ“ =TRUE
2025-04-15T08:16:48.5119106Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (1 ms)
2025-04-15T08:16:48.5119306Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (1 ms)
2025-04-15T08:16:48.5119439Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}}
2025-04-15T08:16:48.5119561Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
2025-04-15T08:16:48.5119675Z       âœ“ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:16:48.5119769Z       âœ“ ={{ String("testing").length }}
2025-04-15T08:16:48.5119847Z     Test all expression transform fixtures
2025-04-15T08:16:48.5119941Z       âœ“ ={{$json["contact"]["FirstName"]}}
2025-04-15T08:16:48.5120009Z       âœ“ ={{ $json["test"] }}
2025-04-15T08:16:48.5120130Z       âœ“ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:16:48.5120414Z       âœ“ ={{$json[$json["Set2"].json["apiKey"]]}}
2025-04-15T08:16:48.5120523Z       âœ“ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:16:48.5120839Z       âœ“ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}}
2025-04-15T08:16:48.5120947Z       âœ“ = {{$json["dig check CF"].data["stdout"]}}
2025-04-15T08:16:48.5121118Z       âœ“ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:16:48.5121189Z       âœ“ ={{$runIndex}}
2025-04-15T08:16:48.5121282Z       âœ“ ={{ new String().toString() }} (1 ms)
2025-04-15T08:16:48.5121569Z       âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}}
2025-04-15T08:16:48.5121674Z       âœ“ ={{$json["GetTicket"].json["tickets"].length}}
2025-04-15T08:16:48.5121762Z       âœ“ ={{ $json.toString() }}
2025-04-15T08:16:48.5121869Z       âœ“ ={{Math.floor(Math.min(1, 2) * 100);}} (2 ms)
2025-04-15T08:16:48.5121979Z       âœ“ ={{$json["å›¾ç‰‡æ•°é‡åˆ¤æ–­"].data["imgList"][0]}}
2025-04-15T08:16:48.5122068Z       âœ“ ={{ $json["phone"] ?? 0}}
2025-04-15T08:16:48.5122258Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
2025-04-15T08:16:48.5122423Z       âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
2025-04-15T08:16:48.5122541Z       âœ“ ={{ [].concat($json["Create or update"].json["vid"]) }}
2025-04-15T08:16:48.5122711Z       âœ“ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}}
2025-04-15T08:16:48.5122850Z       âœ“ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (1 ms)
2025-04-15T08:16:48.5123078Z       âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:16:48.5123295Z       âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }}
2025-04-15T08:16:48.5123423Z       âœ“ ={{new Date($json["created_at"]).toISOString()}}
2025-04-15T08:16:48.5123547Z       âœ“ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (1 ms)
2025-04-15T08:16:48.5123767Z       âœ“ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
2025-04-15T08:16:48.5123829Z       âœ“ ={
2025-04-15T08:16:48.5123877Z 	"article": {
2025-04-15T08:16:48.5123961Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5124014Z 		"published": true,
2025-04-15T08:16:48.5124131Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5124204Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5124254Z 	}
2025-04-15T08:16:48.5124301Z }
2025-04-15T08:16:48.5124533Z       âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
2025-04-15T08:16:48.5124666Z       âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:16:48.5124862Z       âœ“ ={{Math.min(1, 2);}}
2025-04-15T08:16:48.5124955Z       âœ“ ={{new String().toString();}} (2 ms)
2025-04-15T08:16:48.5125103Z       âœ“ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }}
2025-04-15T08:16:48.5125167Z       âœ“ ={{200}}
2025-04-15T08:16:48.5125276Z       âœ“ ={{$json.assetValue * $json.value / 100}}
2025-04-15T08:16:48.5125377Z       âœ“ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
2025-04-15T08:16:48.5125445Z       âœ“ ={{ `test
2025-04-15T08:16:48.5125497Z value
2025-04-15T08:16:48.5125549Z multi
2025-04-15T08:16:48.5125605Z line` }}
2025-04-15T08:16:48.5125699Z       âœ“ ={{ { "data": $json.body.choices } }}
2025-04-15T08:16:48.5125842Z       âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }}
2025-04-15T08:16:48.5125901Z       âœ“ ={{asdas}}
2025-04-15T08:16:48.5125997Z       âœ“ ={{!!$json["data"]["errors"]}}
2025-04-15T08:16:48.5126057Z       âœ“ =TRUE
2025-04-15T08:16:48.5126200Z       âœ“ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (1 ms)
2025-04-15T08:16:48.5126442Z       âœ“ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
2025-04-15T08:16:48.5126574Z       âœ“ ={{typeof $json["person"].json["name"] != "undefined"}}
2025-04-15T08:16:48.5126684Z       âœ“ ={{ $json?.data == undefined ? '' : $json.data }}
2025-04-15T08:16:48.5126801Z       âœ“ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:16:48.5126891Z       âœ“ ={{ String("testing").length }}
2025-04-15T08:16:48.5126899Z 
2025-04-15T08:16:48.5126985Z PASS test/FromAIParseUtils.test.ts
2025-04-15T08:16:48.5127049Z   extractFromAICalls
2025-04-15T08:16:48.5127203Z     âœ“ should parse args as expected for $fromAI("a", "b", "string") (4 ms)
2025-04-15T08:16:48.5127365Z     âœ“ should parse args as expected for $fromAI("a", "b", "number", 5) (1 ms)
2025-04-15T08:16:48.5127504Z     âœ“ should parse args as expected for $fromAI("a", "`", "number", 5)
2025-04-15T08:16:48.5127663Z     âœ“ should parse args as expected for $fromAI("a", "\`", "number", 5) (1 ms)
2025-04-15T08:16:48.5127813Z     âœ“ should parse args as expected for $fromAI("a", "\n", "number", 5)
2025-04-15T08:16:48.5127969Z     âœ“ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
2025-04-15T08:16:48.5128215Z     âœ“ should throw as expected for $fromAI("a", "b", "c") (16 ms)
2025-04-15T08:16:48.5128369Z     âœ“ should throw as expected for $fromAI("a", "b", "string" (1 ms)
2025-04-15T08:16:48.5128503Z     âœ“ should throw as expected for $fromAI("a", "b", "string, "d")
2025-04-15T08:16:48.5128603Z     âœ“ supports multiple calls (1 ms)
2025-04-15T08:16:48.5128673Z     âœ“ supports no calls
2025-04-15T08:16:48.5128736Z   traverseNodeParameters
2025-04-15T08:16:48.5128872Z     âœ“ should parse args as expected for $fromAI("a", "b", "string")
2025-04-15T08:16:48.5129015Z     âœ“ should parse args as expected for $fromAI("a", "b", "number", 5)
2025-04-15T08:16:48.5129200Z     âœ“ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
2025-04-15T08:16:48.5129384Z     âœ“ should parse args as expected for { a: '{{ $fromAI("a", "b", "boolean") }}', b: 'five' }
2025-04-15T08:16:48.5129583Z     âœ“ should parse args as expected for [ 'red', '{{ $fromAI("a", "b", "boolean") }}' ] (1 ms)
2025-04-15T08:16:48.5129660Z   JSON Type Parsing via generateZodSchema
2025-04-15T08:16:48.5129811Z     âœ“ should correctly parse a JSON parameter without default (3 ms)
2025-04-15T08:16:48.5129948Z     âœ“ should correctly parse a JSON parameter with a valid default
2025-04-15T08:16:48.5130088Z     âœ“ should parse a JSON parameter with an empty default (1 ms)
2025-04-15T08:16:48.5130222Z     âœ“ should use provided JSON value over the default value (1 ms)
2025-04-15T08:16:48.5130226Z 
2025-04-15T08:16:48.5130340Z PASS test/WorkflowDataProxyEnvProvider.test.ts
2025-04-15T08:16:48.5130397Z   createEnvProviderState
2025-04-15T08:16:48.5130576Z     âœ“ should return the state with process available and env access allowed (4 ms)
2025-04-15T08:16:48.5130748Z     âœ“ should block env access when N8N_BLOCK_ENV_ACCESS_IN_NODE is set to "true"
2025-04-15T08:16:48.5130971Z     âœ“ should handle process not being available
2025-04-15T08:16:48.5131036Z   createEnvProvider
2025-04-15T08:16:48.5131170Z     âœ“ should return true when checking for a property using "has"
2025-04-15T08:16:48.5131311Z     âœ“ should return the value from process.env if access is allowed
2025-04-15T08:16:48.5131459Z     âœ“ should throw ExpressionError when process is unavailable (10 ms)
2025-04-15T08:16:48.5131604Z     âœ“ should throw ExpressionError when env access is blocked (1 ms)
2025-04-15T08:16:48.5131608Z 
2025-04-15T08:16:48.5131668Z PASS test/Cron.test.ts
2025-04-15T08:16:48.5131722Z   Cron
2025-04-15T08:16:48.5131771Z     toCronExpression
2025-04-15T08:16:48.5131921Z       âœ“ should generate a valid cron for `everyMinute` triggers (3 ms)
2025-04-15T08:16:48.5132060Z       âœ“ should generate a valid cron for `everyHour` triggers (1 ms)
2025-04-15T08:16:48.5132198Z       âœ“ should generate a valid cron for `everyX[minutes]` triggers
2025-04-15T08:16:48.5132328Z       âœ“ should generate a valid cron for `everyX[hours]` triggers
2025-04-15T08:16:48.5132577Z       âœ“ should generate a valid cron for `everyDay` triggers (1 ms)
2025-04-15T08:16:48.5132703Z       âœ“ should generate a valid cron for `everyWeek` triggers
2025-04-15T08:16:48.5132829Z       âœ“ should generate a valid cron for `everyMonth` triggers
2025-04-15T08:16:48.5132939Z       âœ“ should trim custom cron expressions (1 ms)
2025-04-15T08:16:48.5132943Z 
2025-04-15T08:16:48.5133067Z PASS test/ExpressionExtensions/NumberExtensions.test.ts
2025-04-15T08:16:48.5133144Z   Data Transformation Functions
2025-04-15T08:16:48.5133216Z     Number Data Transformation Functions
2025-04-15T08:16:48.5133347Z       âœ“ .format() should work correctly on a number (26 ms)
2025-04-15T08:16:48.5133446Z       âœ“ .ceil() should work on a number (8 ms)
2025-04-15T08:16:48.5133558Z       âœ“ .floor() should work on a number (6 ms)
2025-04-15T08:16:48.5133652Z       âœ“ .round() should work on a number (6 ms)
2025-04-15T08:16:48.5133751Z       âœ“ .isOdd() should work on a number (4 ms)
2025-04-15T08:16:48.5133878Z       âœ“ .isOdd() should not work on a float or NaN (35 ms)
2025-04-15T08:16:48.5133985Z       âœ“ .isEven() should work on a number (2 ms)
2025-04-15T08:16:48.5134104Z       âœ“ .isEven() should not work on a float or NaN (3 ms)
2025-04-15T08:16:48.5134153Z       toDateTime
2025-04-15T08:16:48.5134261Z         âœ“ from milliseconds (default) (4 ms)
2025-04-15T08:16:48.5134334Z         âœ“ from seconds (2 ms)
2025-04-15T08:16:48.5134431Z         âœ“ from Excel 1900 format (2 ms)
2025-04-15T08:16:48.5134519Z         âœ“ from microseconds (1 ms)
2025-04-15T08:16:48.5134572Z       toInt
2025-04-15T08:16:48.5134664Z         âœ“ should round numbers (3 ms)
2025-04-15T08:16:48.5134722Z       toFloat
2025-04-15T08:16:48.5134810Z         âœ“ should return itself (1 ms)
2025-04-15T08:16:48.5134866Z       toBoolean
2025-04-15T08:16:48.5134994Z         âœ“ should return false for 0, 1 for other numbers (3 ms)
2025-04-15T08:16:48.5135055Z     Multiple expressions
2025-04-15T08:16:48.5135163Z       âœ“ Basic multiple expressions (1 ms)
2025-04-15T08:16:48.5135168Z 
2025-04-15T08:16:48.5135253Z PASS test/MetadataUtils.test.ts
2025-04-15T08:16:48.5135304Z   MetadataUtils
2025-04-15T08:16:48.5135372Z     parseMetadataFromError
2025-04-15T08:16:48.5135574Z       âœ“ should return undefined if error does not have response or both keys on the object (3 ms)
2025-04-15T08:16:48.5135735Z       âœ“ should return undefined if errorResponse only has workflowId key
2025-04-15T08:16:48.5135875Z       âœ“ should return undefined if error only has executionId key
2025-04-15T08:16:48.5136068Z       âœ“ should support executionId and workflowId key directly on the error object (1 ms)
2025-04-15T08:16:48.5136240Z       âœ“ should return undefined if error response does not have subworkflow data
2025-04-15T08:16:48.5136396Z       âœ“ should return metadata if error response has subworkflow data (1 ms)
2025-04-15T08:16:48.5136400Z 
2025-04-15T08:16:48.5136494Z PASS test/ExpressionSandboxing.test.ts
2025-04-15T08:16:48.5136646Z   PrototypeSanitizer
2025-04-15T08:16:48.5136701Z     Static analysis
2025-04-15T08:16:48.5136812Z       âœ“ should not allow access to __proto__ (20 ms)
2025-04-15T08:16:48.5136931Z       âœ“ should not allow access to prototype (3 ms)
2025-04-15T08:16:48.5137046Z       âœ“ should not allow access to constructor (3 ms)
2025-04-15T08:16:48.5137103Z     Runtime
2025-04-15T08:16:48.5137203Z       âœ“ should not allow access to __proto__ (5 ms)
2025-04-15T08:16:48.5137314Z       âœ“ should not allow access to prototype (6 ms)
2025-04-15T08:16:48.5137419Z       âœ“ should not allow access to constructor (3 ms)
2025-04-15T08:16:48.5137430Z 
2025-04-15T08:16:48.5137541Z PASS test/errors/workflow-activation.error.test.ts
2025-04-15T08:16:48.5137608Z   WorkflowActivationError
2025-04-15T08:16:48.5137707Z     âœ“ should default to `error` level (3 ms)
2025-04-15T08:16:48.5137805Z     âœ“ should set `level` based on arg
2025-04-15T08:16:48.5137932Z     âœ“ should set `level` to `warning` for `ETIMEDOUT` (1 ms)
2025-04-15T08:16:48.5138157Z     âœ“ should set `level` to `warning` for `ECONNREFUSED`
2025-04-15T08:16:48.5138268Z     âœ“ should set `level` to `warning` for `EAUTH` (1 ms)
2025-04-15T08:16:48.5138426Z     âœ“ should set `level` to `warning` for `Temporary authentication failure`
2025-04-15T08:16:48.5138586Z     âœ“ should set `level` to `warning` for `Invalid credentials`
2025-04-15T08:16:48.5138595Z 
2025-04-15T08:16:48.5138716Z PASS test/errors/base/operational.error.test.ts
2025-04-15T08:16:48.5138771Z   OperationalError
2025-04-15T08:16:48.5138893Z     âœ“ should be an instance of OperationalError (3 ms)
2025-04-15T08:16:48.5138996Z     âœ“ should be an instance of BaseError (1 ms)
2025-04-15T08:16:48.5139084Z     âœ“ should have correct defaults
2025-04-15T08:16:48.5139305Z     âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:16:48.5139310Z 
2025-04-15T08:16:48.5139406Z PASS test/errors/base/unexpected.error.test.ts
2025-04-15T08:16:48.5139465Z   UnexpectedError
2025-04-15T08:16:48.5139573Z     âœ“ should be an instance of UnexpectedError (3 ms)
2025-04-15T08:16:48.5139689Z     âœ“ should be an instance of BaseError (1 ms)
2025-04-15T08:16:48.5139773Z     âœ“ should have correct defaults
2025-04-15T08:16:48.5139925Z     âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:16:48.5139929Z 
2025-04-15T08:16:48.5140012Z PASS test/errors/base/user.error.test.ts
2025-04-15T08:16:48.5140066Z   UserError
2025-04-15T08:16:48.5140171Z     âœ“ should be an instance of UserError (3 ms)
2025-04-15T08:16:48.5140266Z     âœ“ should be an instance of BaseError (1 ms)
2025-04-15T08:16:48.5140350Z     âœ“ should have correct defaults
2025-04-15T08:16:48.5140494Z     âœ“ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:16:48.5140498Z 
2025-04-15T08:16:48.5140621Z PASS test/ExpressionExtensions/BooleanExtensions.test.ts
2025-04-15T08:16:48.5140687Z   Data Transformation Functions
2025-04-15T08:16:48.5140769Z     Boolean Data Transformation Functions
2025-04-15T08:16:48.5140831Z       Conversion methods
2025-04-15T08:16:48.5140972Z         âœ“ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:16:48.5141021Z         toInt/toFloat
2025-04-15T08:16:48.5141142Z           âœ“ should return 1 for true, 0 for false (26 ms)
2025-04-15T08:16:48.5141194Z         toDateTime
2025-04-15T08:16:48.5141294Z           âœ“ should return undefined (2 ms)
2025-04-15T08:16:48.5141343Z         toBoolean
2025-04-15T08:16:48.5141438Z           âœ“ should return itself
2025-04-15T08:16:48.5141443Z 
2025-04-15T08:16:48.5141530Z PASS test/errors/node.error.test.ts
2025-04-15T08:16:48.5141576Z   NodeError
2025-04-15T08:16:48.5141721Z     âœ“ should update re-wrapped error level and message (4 ms)
2025-04-15T08:16:48.5141726Z 
2025-04-15T08:16:48.5141804Z PASS test/DeferredPromise.test.ts
2025-04-15T08:16:48.5141860Z   DeferredPromise
2025-04-15T08:16:48.5141986Z     âœ“ should resolve the promise with the correct value (3 ms)
2025-04-15T08:16:48.5142119Z     âœ“ should reject the promise with the correct error (2 ms)
2025-04-15T08:16:48.5142224Z 
2025-04-15T08:16:48.5142342Z PASS test/ExpressionExtensions/GenericExtensions.test.ts
2025-04-15T08:16:48.5142413Z   Data Transformation Functions
2025-04-15T08:16:48.5142483Z     Genric Data Transformation Functions
2025-04-15T08:16:48.5142613Z       âœ“ .isEmpty() should work correctly on undefined (21 ms)
2025-04-15T08:16:48.5142617Z 
2025-04-15T08:16:48.5142696Z Test Suites: 31 passed, 31 total
2025-04-15T08:16:48.5142776Z Tests:       1121 passed, 1121 total
2025-04-15T08:16:48.5142845Z Snapshots:   0 total
2025-04-15T08:16:48.5142900Z Time:        8.1 s
2025-04-15T08:16:48.5142965Z Ran all test suites.
2025-04-15T08:16:48.5143383Z ##[endgroup]
2025-04-15T08:16:50.0899249Z ##[group]@n8n/permissions:test
2025-04-15T08:16:50.0899629Z cache bypass, force executing 0b715e7f3d90e2cd
2025-04-15T08:16:50.0899866Z 
2025-04-15T08:16:50.0900046Z > @n8n/permissions@0.21.0 test /home/runner/_work/n8n/n8n/packages/@n8n/permissions
2025-04-15T08:16:50.0900294Z > jest
2025-04-15T08:16:50.0900842Z 
2025-04-15T08:16:50.0900909Z PASS test/hasScope.test.ts
2025-04-15T08:16:50.0901049Z   hasScope
2025-04-15T08:16:50.0901551Z     âœ“ should work with a single permission on both modes with only global scopes (4 ms)
2025-04-15T08:16:50.0901850Z     âœ“ should work with oneOf mode
2025-04-15T08:16:50.0902047Z     âœ“ should work with allOf mode (1 ms)
2025-04-15T08:16:50.0902228Z   hasScope masking
2025-04-15T08:16:50.0902426Z     âœ“ should return true without mask when scopes present
2025-04-15T08:16:50.0902699Z     âœ“ should return false without mask when scopes are not present
2025-04-15T08:16:50.0903097Z     âœ“ should return false when mask does not include scope but scopes list does contain required scope (1 ms)
2025-04-15T08:16:50.0903769Z     âœ“ should return true when mask does include scope and scope list includes scope
2025-04-15T08:16:50.0904477Z     âœ“ should return true when mask does include scope and scopes list includes scope on multiple levels
2025-04-15T08:16:50.0904858Z     âœ“ should not mask out global scopes
2025-04-15T08:16:50.0905211Z     âœ“ should return false when scope is not in mask or scope list (1 ms)
2025-04-15T08:16:50.0905540Z     âœ“ should return false when scope is in mask or not scope list
2025-04-15T08:16:50.0905717Z 
2025-04-15T08:16:50.0905812Z Test Suites: 1 passed, 1 total
2025-04-15T08:16:50.0906029Z Tests:       11 passed, 11 total
2025-04-15T08:16:50.0906188Z Snapshots:   0 total
2025-04-15T08:16:50.0906363Z Time:        1.101 s
2025-04-15T08:16:50.0906491Z Ran all test suites.
2025-04-15T08:16:50.0906968Z ##[endgroup]
2025-04-15T08:16:52.1086961Z ##[group]@n8n/config:test
2025-04-15T08:16:52.1087525Z cache bypass, force executing 4f4adc92e05059f1
2025-04-15T08:16:52.1087762Z 
2025-04-15T08:16:52.1088040Z > @n8n/config@1.36.0 test /home/runner/_work/n8n/n8n/packages/@n8n/config
2025-04-15T08:16:52.1088614Z > jest
2025-04-15T08:16:52.1088725Z 
2025-04-15T08:16:52.1088872Z PASS test/custom-types.test.ts
2025-04-15T08:16:52.1089146Z   CommaSeparatedStringArray
2025-04-15T08:16:52.1089876Z     âœ“ should parse comma-separated string into array (3 ms)
2025-04-15T08:16:52.1090310Z     âœ“ should handle empty strings
2025-04-15T08:16:52.1090680Z   ColonSeparatedStringArray
2025-04-15T08:16:52.1091086Z     âœ“ should parse colon-separated string into array (1 ms)
2025-04-15T08:16:52.1091441Z     âœ“ should handle empty strings
2025-04-15T08:16:52.1091603Z 
2025-04-15T08:16:52.1091746Z PASS test/decorators.test.ts
2025-04-15T08:16:52.1092027Z   decorators
2025-04-15T08:16:52.1092390Z     âœ“ should throw when explicit typing is missing (11 ms)
2025-04-15T08:16:52.1092635Z 
2025-04-15T08:16:52.1092763Z PASS test/config.test.ts
2025-04-15T08:16:52.1093001Z   GlobalConfig
2025-04-15T08:16:52.1093433Z     âœ“ should use all default values when no env variables are defined (5 ms)
2025-04-15T08:16:52.1093989Z     âœ“ should use values from env variables when defined (1 ms)
2025-04-15T08:16:52.1094516Z     âœ“ should read values from files using _FILE env variables (2 ms)
2025-04-15T08:16:52.1095263Z     âœ“ should handle invalid numbers
2025-04-15T08:16:52.1095570Z     string unions
2025-04-15T08:16:52.1095950Z       âœ“ on invalid value, should warn and fall back to default value (2 ms)
2025-04-15T08:16:52.1096252Z 
2025-04-15T08:16:52.1096395Z Test Suites: 3 passed, 3 total
2025-04-15T08:16:52.1096682Z Tests:       10 passed, 10 total
2025-04-15T08:16:52.1096933Z Snapshots:   0 total
2025-04-15T08:16:52.1097179Z Time:        1.11 s
2025-04-15T08:16:52.1097421Z Ran all test suites.
2025-04-15T08:16:52.1097856Z ##[endgroup]
2025-04-15T08:16:53.9955118Z ##[group]@n8n/client-oauth2:test
2025-04-15T08:16:53.9955474Z cache bypass, force executing 5d41e0aa72934740
2025-04-15T08:16:53.9955605Z 
2025-04-15T08:16:53.9955806Z > @n8n/client-oauth2@0.23.0 test /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2
2025-04-15T08:16:53.9956044Z > jest
2025-04-15T08:16:53.9956113Z 
2025-04-15T08:16:53.9956190Z PASS test/CodeFlow.test.ts
2025-04-15T08:16:53.9956334Z   CodeFlow
2025-04-15T08:16:53.9956449Z     #getUri
2025-04-15T08:16:53.9957142Z       âœ“ should return a valid uri (3 ms)
2025-04-15T08:16:53.9957422Z       âœ“ should include empty scopes array as an empty string (1 ms)
2025-04-15T08:16:53.9957705Z       âœ“ should include empty scopes string as an empty string
2025-04-15T08:16:53.9957907Z       when scopes are undefined
2025-04-15T08:16:53.9958107Z         âœ“ should not include scope in the uri
2025-04-15T08:16:53.9958313Z       when authorizationUri contains query parameters
2025-04-15T08:16:53.9958717Z         âœ“ should preserve query string parameters
2025-04-15T08:16:53.9958977Z     #getToken
2025-04-15T08:16:53.9959220Z       âœ“ should request the token (28 ms)
2025-04-15T08:16:53.9959457Z       âœ“ should reject with auth errors (1 ms)
2025-04-15T08:16:53.9959619Z       #sign
2025-04-15T08:16:53.9959834Z         âœ“ should be able to sign a standard request object (6 ms)
2025-04-15T08:16:53.9960016Z       #refresh
2025-04-15T08:16:53.9960217Z         âœ“ should make a request to get a new access token (10 ms)
2025-04-15T08:16:53.9960363Z 
2025-04-15T08:16:53.9960466Z PASS test/CredentialsFlow.test.ts
2025-04-15T08:16:53.9960633Z   CredentialsFlow
2025-04-15T08:16:53.9960759Z     #getToken
2025-04-15T08:16:53.9960920Z       âœ“ should request the token (25 ms)
2025-04-15T08:16:53.9961480Z       âœ“ when scopes are undefined, it should not send scopes to an auth server (6 ms)
2025-04-15T08:16:53.9961855Z       âœ“ when scopes is an empty array, it should send empty scope string to an auth server (5 ms)
2025-04-15T08:16:53.9962154Z       âœ“ should handle authentication = "header" (4 ms)
2025-04-15T08:16:53.9962388Z       âœ“ should handle authentication = "body" (6 ms)
2025-04-15T08:16:53.9962554Z       #sign
2025-04-15T08:16:53.9962755Z         âœ“ should be able to sign a standard request object (6 ms)
2025-04-15T08:16:53.9962936Z       #refresh
2025-04-15T08:16:53.9963138Z         âœ“ should make a request to get a new access token (10 ms)
2025-04-15T08:16:53.9963452Z         âœ“ should make a request to get a new access token with authentication = "body" (8 ms)
2025-04-15T08:16:53.9963822Z         âœ“ should make a request to get a new access token with authentication = "header" (9 ms)
2025-04-15T08:16:53.9964000Z 
2025-04-15T08:16:53.9964082Z PASS test/ClientOAuth2.test.ts
2025-04-15T08:16:53.9964223Z   ClientOAuth2
2025-04-15T08:16:53.9964340Z     accessTokenRequest
2025-04-15T08:16:53.9964569Z       âœ“ should send the correct request based on given options (31 ms)
2025-04-15T08:16:53.9964879Z       âœ“ should parse response with content type application/json (5 ms)
2025-04-15T08:16:53.9965256Z       âœ“ should parse response with content type application/json; charset=utf-8 (8 ms)
2025-04-15T08:16:53.9965617Z       âœ“ should parse response with content type application/x-www-form-urlencoded (5 ms)
2025-04-15T08:16:53.9965911Z       âœ“ should reject content type text/html (3 ms)
2025-04-15T08:16:53.9966160Z       âœ“ should reject content type application/xml (4 ms)
2025-04-15T08:16:53.9966404Z       âœ“ should reject content type text/plain (3 ms)
2025-04-15T08:16:53.9966881Z       âœ“ should reject 4xx responses with auth errors (5 ms)
2025-04-15T08:16:53.9967142Z       âœ“ should reject 3xx responses with response errors (3 ms)
2025-04-15T08:16:53.9967282Z 
2025-04-15T08:16:53.9967369Z Test Suites: 3 passed, 3 total
2025-04-15T08:16:53.9967544Z Tests:       27 passed, 27 total
2025-04-15T08:16:53.9967698Z Snapshots:   0 total
2025-04-15T08:16:53.9967837Z Time:        1.286 s
2025-04-15T08:16:53.9967968Z Ran all test suites.
2025-04-15T08:16:53.9968342Z ##[endgroup]
2025-04-15T08:17:00.9187535Z ##[group]@n8n/api-types:test
2025-04-15T08:17:00.9187960Z cache bypass, force executing 58a81a1e5c93f91d
2025-04-15T08:17:00.9188111Z 
2025-04-15T08:17:00.9188444Z > @n8n/api-types@0.24.0 test /home/runner/_work/n8n/n8n/packages/@n8n/api-types
2025-04-15T08:17:00.9188753Z > jest
2025-04-15T08:17:00.9188835Z 
2025-04-15T08:17:00.9188999Z PASS src/dto/credentials/__tests__/create-credential.dto.test.ts
2025-04-15T08:17:00.9189221Z   CreateCredentialDto
2025-04-15T08:17:00.9189828Z     Valid requests
2025-04-15T08:17:00.9190291Z       âœ“ should validate with required fields (3 ms)
2025-04-15T08:17:00.9190526Z       âœ“ should validate with optional projectId
2025-04-15T08:17:00.9190743Z       âœ“ should validate with data object (1 ms)
2025-04-15T08:17:00.9190938Z       âœ“ should validate longer type
2025-04-15T08:17:00.9191184Z       âœ“ should not strip out properties from the data object (1 ms)
2025-04-15T08:17:00.9191381Z     Invalid requests
2025-04-15T08:17:00.9191573Z       âœ“ should fail validation for missing name (1 ms)
2025-04-15T08:17:00.9191794Z       âœ“ should fail validation for empty name
2025-04-15T08:17:00.9192004Z       âœ“ should fail validation for name too long
2025-04-15T08:17:00.9192220Z       âœ“ should fail validation for missing type
2025-04-15T08:17:00.9192437Z       âœ“ should fail validation for empty type (1 ms)
2025-04-15T08:17:00.9192653Z       âœ“ should fail validation for type too long
2025-04-15T08:17:00.9192859Z       âœ“ should fail validation for missing data
2025-04-15T08:17:00.9193087Z       âœ“ should fail validation for invalid data type
2025-04-15T08:17:00.9193208Z 
2025-04-15T08:17:00.9193334Z PASS src/dto/saml/__tests__/saml-preferences.dto.test.ts
2025-04-15T08:17:00.9193631Z   SamlPreferences
2025-04-15T08:17:00.9193754Z     Valid requests
2025-04-15T08:17:00.9193953Z       âœ“ should validate valid minimal configuration (3 ms)
2025-04-15T08:17:00.9194190Z       âœ“ should validate valid full configuration (1 ms)
2025-04-15T08:17:00.9194357Z     Invalid requests
2025-04-15T08:17:00.9194560Z       âœ“ should fail validation for invalid loginBinding (1 ms)
2025-04-15T08:17:00.9194800Z       âœ“ should fail validation for invalid acsBinding
2025-04-15T08:17:00.9195131Z       âœ“ should fail validation for invalid signatureConfig location action (1 ms)
2025-04-15T08:17:00.9195458Z       âœ“ should fail validation for missing signatureConfig location reference
2025-04-15T08:17:00.9195738Z       âœ“ should fail validation for invalid mapping email
2025-04-15T08:17:00.9195925Z       Edge cases
2025-04-15T08:17:00.9196104Z         âœ“ should handle optional fields correctly
2025-04-15T08:17:00.9196341Z         âœ“ should handle default values correctly (1 ms)
2025-04-15T08:17:00.9196467Z 
2025-04-15T08:17:00.9196585Z PASS src/dto/ai/__tests__/ai-ask-request.dto.test.ts
2025-04-15T08:17:00.9196775Z   AiAskRequestDto
2025-04-15T08:17:00.9196961Z     âœ“ should validate a valid AI ask request (4 ms)
2025-04-15T08:17:00.9197181Z     âœ“ should fail if question is missing (1 ms)
2025-04-15T08:17:00.9197389Z     âœ“ should fail if context is invalid (1 ms)
2025-04-15T08:17:00.9197584Z     âœ“ should fail if forNode is missing
2025-04-15T08:17:00.9197804Z     âœ“ should validate all possible schema types (1 ms)
2025-04-15T08:17:00.9198007Z     âœ“ should fail with invalid type
2025-04-15T08:17:00.9198217Z     âœ“ should validate multiple schema entries (1 ms)
2025-04-15T08:17:00.9198343Z 
2025-04-15T08:17:00.9198451Z PASS src/schemas/__tests__/insights.schema.test.ts
2025-04-15T08:17:00.9198647Z   insightsSummarySchema
2025-04-15T08:17:00.9199082Z     âœ“ should validate valid insights summary (4 ms)
2025-04-15T08:17:00.9199313Z     âœ“ should validate invalid failureRate unit
2025-04-15T08:17:00.9199530Z     âœ“ should validate missing total (1 ms)
2025-04-15T08:17:00.9199799Z     âœ“ should validate wrong data type for value
2025-04-15T08:17:00.9200005Z     âœ“ should validate invalid key in object
2025-04-15T08:17:00.9200166Z   insightsByWorkflowSchema
2025-04-15T08:17:00.9200366Z     âœ“ should validate valid workflow insights (1 ms)
2025-04-15T08:17:00.9200580Z     âœ“ should validate wrong data type (4 ms)
2025-04-15T08:17:00.9200781Z     âœ“ should validate missing required field
2025-04-15T08:17:00.9200974Z     âœ“ should validate unexpected key
2025-04-15T08:17:00.9201130Z   insightsByTimeSchema
2025-04-15T08:17:00.9201322Z     âœ“ should validate valid insights by time (1 ms)
2025-04-15T08:17:00.9201529Z     âœ“ should validate invalid date format
2025-04-15T08:17:00.9201724Z     âœ“ should validate invalid field type
2025-04-15T08:17:00.9202025Z     âœ“ should validate missing required key
2025-04-15T08:17:00.9202220Z     âœ“ should validate unexpected key (1 ms)
2025-04-15T08:17:00.9202323Z 
2025-04-15T08:17:00.9202458Z PASS src/dto/folders/__tests__/list-folder-query.dto.test.ts
2025-04-15T08:17:00.9202654Z   ListFolderQueryDto
2025-04-15T08:17:00.9202791Z     Valid requests
2025-04-15T08:17:00.9203003Z       âœ“ should validate empty object (no filters) (3 ms)
2025-04-15T08:17:00.9203213Z       âœ“ should validate valid filter
2025-04-15T08:17:00.9203437Z       âœ“ should validate filter with parentFolderId (1 ms)
2025-04-15T08:17:00.9203731Z       âœ“ should validate filter with name and parentFolderId
2025-04-15T08:17:00.9203974Z       âœ“ should validate filter with tags array (1 ms)
2025-04-15T08:17:00.9204199Z       âœ“ should validate filter with empty tags array
2025-04-15T08:17:00.9204467Z       âœ“ should validate filter with all properties
2025-04-15T08:17:00.9204677Z       âœ“ should validate valid select (1 ms)
2025-04-15T08:17:00.9204882Z       âœ“ should validate valid sortBy
2025-04-15T08:17:00.9205062Z       âœ“ should validate valid skip and take
2025-04-15T08:17:00.9205268Z       âœ“ should validate full query parameters (1 ms)
2025-04-15T08:17:00.9205438Z     Invalid requests
2025-04-15T08:17:00.9205625Z       âœ“ should fail validation for invalid filter format
2025-04-15T08:17:00.9205904Z       âœ“ should fail validation for filter with invalid field (3 ms)
2025-04-15T08:17:00.9206194Z       âœ“ should fail validation for filter with tags not as array
2025-04-15T08:17:00.9206534Z       âœ“ should fail validation for filter with tags array containing non-string values (1 ms)
2025-04-15T08:17:00.9206831Z       âœ“ should fail validation for invalid select format
2025-04-15T08:17:00.9207069Z       âœ“ should fail validation for select with invalid field
2025-04-15T08:17:00.9207313Z       âœ“ should fail validation for invalid skip format
2025-04-15T08:17:00.9207563Z       âœ“ should fail validation for invalid take format (1 ms)
2025-04-15T08:17:00.9207822Z       âœ“ should fail validation for invalid sortBy value
2025-04-15T08:17:00.9207944Z 
2025-04-15T08:17:00.9208497Z PASS src/dto/source-control/__tests__/push-work-folder-request.dto.test.ts
2025-04-15T08:17:00.9208733Z   PushWorkFolderRequestDto
2025-04-15T08:17:00.9208878Z     Valid requests
2025-04-15T08:17:00.9209102Z       âœ“ should validate complete valid push request with all fields (2 ms)
2025-04-15T08:17:00.9209385Z       âœ“ should validate push request with only required fields
2025-04-15T08:17:00.9209567Z     Invalid requests
2025-04-15T08:17:00.9209812Z       âœ“ should fail validation for missing required fileNames field (1 ms)
2025-04-15T08:17:00.9210101Z       âœ“ should fail validation for invalid fileNames type
2025-04-15T08:17:00.9210362Z       âœ“ should fail validation for invalid fileNames array element
2025-04-15T08:17:00.9210614Z       âœ“ should fail validation for invalid force type (1 ms)
2025-04-15T08:17:00.9210742Z 
2025-04-15T08:17:00.9210843Z PASS src/schemas/__tests__/project.schema.test.ts
2025-04-15T08:17:00.9211149Z   project.schema
2025-04-15T08:17:00.9211272Z     projectNameSchema
2025-04-15T08:17:00.9211457Z       âœ“ should validate valid name (3 ms)
2025-04-15T08:17:00.9211653Z       âœ“ should validate empty name
2025-04-15T08:17:00.9211837Z       âœ“ should validate name too long
2025-04-15T08:17:00.9211985Z     projectTypeSchema
2025-04-15T08:17:00.9212163Z       âœ“ should validate valid type: personal (1 ms)
2025-04-15T08:17:00.9212373Z       âœ“ should validate valid type: team
2025-04-15T08:17:00.9212570Z       âœ“ should validate invalid type
2025-04-15T08:17:00.9212726Z     projectIconSchema
2025-04-15T08:17:00.9212907Z       âœ“ should validate valid emoji icon
2025-04-15T08:17:00.9213119Z       âœ“ should validate valid icon (1 ms)
2025-04-15T08:17:00.9213330Z       âœ“ should validate invalid icon type
2025-04-15T08:17:00.9213571Z       âœ“ should validate empty icon value
2025-04-15T08:17:00.9213721Z     projectRoleSchema
2025-04-15T08:17:00.9213913Z       âœ“ should validate valid role: project:personalOwner
2025-04-15T08:17:00.9214259Z       âœ“ should validate valid role: project:admin
2025-04-15T08:17:00.9214481Z       âœ“ should validate valid role: project:editor (1 ms)
2025-04-15T08:17:00.9214697Z       âœ“ should validate valid role: project:viewer
2025-04-15T08:17:00.9214888Z       âœ“ should validate invalid role
2025-04-15T08:17:00.9215038Z     projectRelationSchema
2025-04-15T08:17:00.9215209Z       âœ“ should validate valid relation
2025-04-15T08:17:00.9215405Z       âœ“ should validate invalid userId type
2025-04-15T08:17:00.9215594Z       âœ“ should validate invalid role
2025-04-15T08:17:00.9215773Z       âœ“ should validate missing userId
2025-04-15T08:17:00.9215967Z       âœ“ should validate missing role (1 ms)
2025-04-15T08:17:00.9216071Z 
2025-04-15T08:17:00.9216235Z PASS src/dto/password-reset/__tests__/change-password-request.dto.test.ts
2025-04-15T08:17:00.9216471Z   ChangePasswordRequestDto
2025-04-15T08:17:00.9216600Z     Valid requests
2025-04-15T08:17:00.9216804Z       âœ“ should validate valid password reset with token (3 ms)
2025-04-15T08:17:00.9217061Z       âœ“ should validate valid password reset with MFA code
2025-04-15T08:17:00.9217283Z     Invalid requests
2025-04-15T08:17:00.9217464Z       âœ“ should fail validation for missing token (1 ms)
2025-04-15T08:17:00.9217811Z       âœ“ should fail validation for empty token (1 ms)
2025-04-15T08:17:00.9218099Z       âœ“ should fail validation for short token
2025-04-15T08:17:00.9218311Z       âœ“ should fail validation for missing password
2025-04-15T08:17:00.9218558Z       âœ“ should fail validation for password too short (1 ms)
2025-04-15T08:17:00.9218787Z       âœ“ should fail validation for password too long
2025-04-15T08:17:00.9219023Z       âœ“ should fail validation for password without number
2025-04-15T08:17:00.9219304Z       âœ“ should fail validation for password without uppercase letter (1 ms)
2025-04-15T08:17:00.9219510Z       Edge cases
2025-04-15T08:17:00.9219704Z         âœ“ should handle optional MFA code correctly (4 ms)
2025-04-15T08:17:00.9219969Z         âœ“ should handle token with special characters (1 ms)
2025-04-15T08:17:00.9220093Z 
2025-04-15T08:17:00.9220224Z PASS src/dto/project/__tests__/update-project.dto.test.ts
2025-04-15T08:17:00.9220416Z   UpdateProjectDto
2025-04-15T08:17:00.9220545Z     Valid requests
2025-04-15T08:17:00.9220718Z       âœ“ should validate with just the name (4 ms)
2025-04-15T08:17:00.9220931Z       âœ“ should validate with name and emoji icon
2025-04-15T08:17:00.9221160Z       âœ“ should validate with name and regular icon (1 ms)
2025-04-15T08:17:00.9221370Z       âœ“ should validate with relations
2025-04-15T08:17:00.9221574Z       âœ“ should validate with all fields (1 ms)
2025-04-15T08:17:00.9221730Z     Invalid requests
2025-04-15T08:17:00.9221931Z       âœ“ should fail validation for invalid name type (1 ms)
2025-04-15T08:17:00.9222163Z       âœ“ should fail validation for name too long
2025-04-15T08:17:00.9222400Z       âœ“ should fail validation for invalid icon type (1 ms)
2025-04-15T08:17:00.9222651Z       âœ“ should fail validation for invalid icon value
2025-04-15T08:17:00.9223044Z       âœ“ should fail validation for invalid relations userId
2025-04-15T08:17:00.9223293Z       âœ“ should fail validation for invalid relations role (1 ms)
2025-04-15T08:17:00.9223425Z 
2025-04-15T08:17:00.9223603Z PASS src/dto/user/__tests__/user-update-request.dto.test.ts
2025-04-15T08:17:00.9223794Z   UserUpdateRequestDto
2025-04-15T08:17:00.9223996Z     âœ“ should fail validation for an invalid email (5 ms)
2025-04-15T08:17:00.9224263Z     âœ“ should fail validation for a firstName with potential XSS attack
2025-04-15T08:17:00.9224526Z     âœ“ should fail validation for a firstName with a URL
2025-04-15T08:17:00.9224801Z     âœ“ should fail validation for a lastName with potential XSS attack (1 ms)
2025-04-15T08:17:00.9225069Z     âœ“ should fail validation for a lastName with a URL
2025-04-15T08:17:00.9225306Z     âœ“ should validate a valid user update request (1 ms)
2025-04-15T08:17:00.9225430Z 
2025-04-15T08:17:00.9225619Z PASS src/dto/dynamic-node-parameters/__tests__/resource-locator-request.dto.test.ts
2025-04-15T08:17:00.9225980Z   ResourceLocatorRequestDto
2025-04-15T08:17:00.9226116Z     Valid requests
2025-04-15T08:17:00.9226301Z       âœ“ should validate minimal valid request (3 ms)
2025-04-15T08:17:00.9226509Z       âœ“ should validate request with filter
2025-04-15T08:17:00.9226751Z       âœ“ should validate request with pagination token (1 ms)
2025-04-15T08:17:00.9226977Z       âœ“ should validate request with credentials
2025-04-15T08:17:00.9227210Z       âœ“ should validate request with current node parameters
2025-04-15T08:17:00.9227473Z       âœ“ should validate request with a semver node version (1 ms)
2025-04-15T08:17:00.9227659Z     Invalid requests
2025-04-15T08:17:00.9227846Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9228067Z       âœ“ should fail validation for missing method name
2025-04-15T08:17:00.9228321Z       âœ“ should fail validation for invalid node version (1 ms)
2025-04-15T08:17:00.9228455Z 
2025-04-15T08:17:00.9228621Z PASS src/dto/invitation/__tests__/accept-invitation-request.dto.test.ts
2025-04-15T08:17:00.9228845Z   AcceptInvitationRequestDto
2025-04-15T08:17:00.9228990Z     Valid requests
2025-04-15T08:17:00.9229205Z       âœ“ should validate complete valid invitation acceptance (3 ms)
2025-04-15T08:17:00.9229397Z     Invalid requests
2025-04-15T08:17:00.9229593Z       âœ“ should fail validation for missing inviterId (1 ms)
2025-04-15T08:17:00.9229841Z       âœ“ should fail validation for invalid inviterId (1 ms)
2025-04-15T08:17:00.9230075Z       âœ“ should fail validation for missing first name
2025-04-15T08:17:00.9230302Z       âœ“ should fail validation for missing last name
2025-04-15T08:17:00.9230544Z       âœ“ should fail validation for password too short (1 ms)
2025-04-15T08:17:00.9230795Z       âœ“ should fail validation for password without number
2025-04-15T08:17:00.9230925Z 
2025-04-15T08:17:00.9231087Z PASS src/dto/dynamic-node-parameters/__tests__/options-request.dto.test.ts
2025-04-15T08:17:00.9231373Z   OptionsRequestDto
2025-04-15T08:17:00.9231500Z     Valid requests
2025-04-15T08:17:00.9231700Z       âœ“ should validate minimal valid request (3 ms)
2025-04-15T08:17:00.9231931Z       âœ“ should validate request with method name (1 ms)
2025-04-15T08:17:00.9232152Z       âœ“ should validate request with load options
2025-04-15T08:17:00.9232365Z       âœ“ should validate request with credentials
2025-04-15T08:17:00.9232600Z       âœ“ should validate request with current node parameters
2025-04-15T08:17:00.9232775Z     Invalid requests
2025-04-15T08:17:00.9232965Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9233229Z       âœ“ should fail validation for missing node type and version (1 ms)
2025-04-15T08:17:00.9233519Z       âœ“ should fail validation for invalid node version
2025-04-15T08:17:00.9233637Z 
2025-04-15T08:17:00.9233764Z PASS src/dto/owner/__tests__/owner-setup-request.dto.test.ts
2025-04-15T08:17:00.9233959Z   OwnerSetupRequestDto
2025-04-15T08:17:00.9234087Z     Valid requests
2025-04-15T08:17:00.9234404Z       âœ“ should validate complete valid setup request (4 ms)
2025-04-15T08:17:00.9234578Z     Invalid requests
2025-04-15T08:17:00.9234759Z       âœ“ should fail validation for invalid email (1 ms)
2025-04-15T08:17:00.9234979Z       âœ“ should fail validation for missing first name
2025-04-15T08:17:00.9235211Z       âœ“ should fail validation for missing last name (1 ms)
2025-04-15T08:17:00.9235438Z       âœ“ should fail validation for password too short
2025-04-15T08:17:00.9235691Z       âœ“ should fail validation for password without number (1 ms)
2025-04-15T08:17:00.9235969Z       âœ“ should fail validation for password without uppercase letter
2025-04-15T08:17:00.9236108Z 
2025-04-15T08:17:00.9236225Z PASS src/dto/auth/__tests__/login-request.dto.test.ts
2025-04-15T08:17:00.9236403Z   LoginRequestDto
2025-04-15T08:17:00.9236529Z     Valid requests
2025-04-15T08:17:00.9236719Z       âœ“ should validate complete valid login request (3 ms)
2025-04-15T08:17:00.9236970Z       âœ“ should validate login request without optional MFA
2025-04-15T08:17:00.9237366Z       âœ“ should validate login request with both mfaCode and mfaRecoveryCode
2025-04-15T08:17:00.9237651Z       âœ“ should validate login request with only mfaRecoveryCode
2025-04-15T08:17:00.9237835Z     Invalid requests
2025-04-15T08:17:00.9245714Z       âœ“ should fail validation for invalid emailOrLdapLoginId (1 ms)
2025-04-15T08:17:00.9246072Z       âœ“ should fail validation for empty password
2025-04-15T08:17:00.9246339Z       âœ“ should fail validation for missing emailOrLdapLoginId
2025-04-15T08:17:00.9246587Z       âœ“ should fail validation for missing password
2025-04-15T08:17:00.9246704Z 
2025-04-15T08:17:00.9246874Z PASS src/dto/auth/__tests__/resolve-signup-token-query.dto.test.ts
2025-04-15T08:17:00.9247105Z   ResolveSignupTokenQueryDto
2025-04-15T08:17:00.9247256Z     Valid requests
2025-04-15T08:17:00.9247439Z       âœ“ should validate standard UUID (3 ms)
2025-04-15T08:17:00.9247603Z     Invalid requests
2025-04-15T08:17:00.9247816Z       âœ“ should fail validation for invalid inviterId UUID (1 ms)
2025-04-15T08:17:00.9248225Z       âœ“ should fail validation for invalid inviteeId UUID (1 ms)
2025-04-15T08:17:00.9248476Z       âœ“ should fail validation for missing inviterId
2025-04-15T08:17:00.9248703Z       âœ“ should fail validation for missing inviteeId
2025-04-15T08:17:00.9248945Z       âœ“ should fail validation for UUID with invalid characters
2025-04-15T08:17:00.9249181Z       âœ“ should fail validation for UUID too long
2025-04-15T08:17:00.9249395Z       âœ“ should fail validation for UUID too short
2025-04-15T08:17:00.9249504Z 
2025-04-15T08:17:00.9249656Z PASS src/dto/insights/__tests__/list-workflow-query.dto.test.ts
2025-04-15T08:17:00.9249881Z   ListInsightsWorkflowQueryDto
2025-04-15T08:17:00.9250040Z     Valid requests
2025-04-15T08:17:00.9250233Z       âœ“ should validate empty object (no filters) (3 ms)
2025-04-15T08:17:00.9250461Z       âœ“ should validate valid sortBy
2025-04-15T08:17:00.9250715Z       âœ“ should validate valid skip and take (1 ms)
2025-04-15T08:17:00.9250974Z       âœ“ should validate full query parameters
2025-04-15T08:17:00.9251158Z     Invalid requests
2025-04-15T08:17:00.9251369Z       âœ“ should fail validation for invalid skip format (1 ms)
2025-04-15T08:17:00.9251615Z       âœ“ should fail validation for invalid take format
2025-04-15T08:17:00.9251864Z       âœ“ should fail validation for invalid sortBy value (1 ms)
2025-04-15T08:17:00.9252003Z 
2025-04-15T08:17:00.9252195Z PASS src/dto/dynamic-node-parameters/__tests__/action-result-request.dto.test.ts
2025-04-15T08:17:00.9252446Z   ActionResultRequestDto
2025-04-15T08:17:00.9252589Z     Valid requests
2025-04-15T08:17:00.9252774Z       âœ“ should validate minimal valid request (4 ms)
2025-04-15T08:17:00.9253003Z       âœ“ should validate request with payload (1 ms)
2025-04-15T08:17:00.9253240Z       âœ“ should validate request with credentials (1 ms)
2025-04-15T08:17:00.9253533Z       âœ“ should validate request with current node parameters
2025-04-15T08:17:00.9253716Z     Invalid requests
2025-04-15T08:17:00.9254092Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9254313Z       âœ“ should fail validation for missing handler
2025-04-15T08:17:00.9254541Z       âœ“ should fail validation for invalid node version
2025-04-15T08:17:00.9254664Z 
2025-04-15T08:17:00.9254868Z PASS src/dto/dynamic-node-parameters/__tests__/resource-mapper-fields-request.dto.test.ts
2025-04-15T08:17:00.9255141Z   ResourceMapperFieldsRequestDto
2025-04-15T08:17:00.9255287Z     Valid requests
2025-04-15T08:17:00.9255470Z       âœ“ should validate minimal valid request (3 ms)
2025-04-15T08:17:00.9255695Z       âœ“ should validate request with credentials
2025-04-15T08:17:00.9255955Z       âœ“ should validate request with current node parameters (1 ms)
2025-04-15T08:17:00.9256150Z     Invalid requests
2025-04-15T08:17:00.9256346Z       âœ“ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9256577Z       âœ“ should fail validation for missing method name
2025-04-15T08:17:00.9256805Z       âœ“ should fail validation for invalid node version
2025-04-15T08:17:00.9257055Z 
2025-04-15T08:17:00.9257199Z PASS src/dto/user/__tests__/settings-update-request.dto.test.ts
2025-04-15T08:17:00.9257405Z   SettingsUpdateRequestDto
2025-04-15T08:17:00.9257641Z     âœ“ should pass validation with missing userActivated (3 ms)
2025-04-15T08:17:00.9257913Z     âœ“ should pass validation with missing allowSSOManualLogin
2025-04-15T08:17:00.9258236Z     âœ“ should pass validation with missing userActivated and allowSSOManualLogin (2 ms)
2025-04-15T08:17:00.9258537Z     âœ“ should fail validation with invalid userActivated
2025-04-15T08:17:00.9258804Z     âœ“ should fail validation with invalid allowSSOManualLogin (1 ms)
2025-04-15T08:17:00.9259055Z     âœ“ should pass validation with valid data
2025-04-15T08:17:00.9259164Z 
2025-04-15T08:17:00.9259306Z PASS src/dto/project/__tests__/create-project.dto.test.ts
2025-04-15T08:17:00.9259499Z   CreateProjectDto
2025-04-15T08:17:00.9259622Z     Valid requests
2025-04-15T08:17:00.9259807Z       âœ“ should validate with just the name (3 ms)
2025-04-15T08:17:00.9260046Z       âœ“ should validate with name and emoji icon (1 ms)
2025-04-15T08:17:00.9260267Z       âœ“ should validate with name and regular icon
2025-04-15T08:17:00.9260432Z     Invalid requests
2025-04-15T08:17:00.9260619Z       âœ“ should fail validation for missing name (1 ms)
2025-04-15T08:17:00.9260852Z       âœ“ should fail validation for empty name (1 ms)
2025-04-15T08:17:00.9261070Z       âœ“ should fail validation for name too long
2025-04-15T08:17:00.9261289Z       âœ“ should fail validation for invalid icon type
2025-04-15T08:17:00.9261529Z       âœ“ should fail validation for invalid icon value (1 ms)
2025-04-15T08:17:00.9261656Z 
2025-04-15T08:17:00.9261825Z PASS src/dto/binary-data/__tests__/binary-data-signed-query.dto.test.ts
2025-04-15T08:17:00.9262051Z   BinaryDataSignedQueryDto
2025-04-15T08:17:00.9262193Z     Valid requests
2025-04-15T08:17:00.9262366Z       âœ“ should validate valid JWT token (2 ms)
2025-04-15T08:17:00.9262531Z     Invalid requests
2025-04-15T08:17:00.9262734Z       âœ“ should fail validation for missing token (1 ms)
2025-04-15T08:17:00.9262965Z       âœ“ should fail validation for empty token (1 ms)
2025-04-15T08:17:00.9263193Z       âœ“ should fail validation for non-string token
2025-04-15T08:17:00.9263449Z       âœ“ should fail validation for token without three segments
2025-04-15T08:17:00.9263820Z       âœ“ should fail validation for token with invalid characters
2025-04-15T08:17:00.9264115Z       âœ“ should fail validation for token with too many segments (1 ms)
2025-04-15T08:17:00.9264265Z 
2025-04-15T08:17:00.9264407Z PASS src/dto/binary-data/__tests__/binary-data-query.dto.test.ts
2025-04-15T08:17:00.9264606Z   BinaryDataQueryDto
2025-04-15T08:17:00.9264736Z     Valid requests
2025-04-15T08:17:00.9264935Z       âœ“ should validate filesystem mode with view action (3 ms)
2025-04-15T08:17:00.9265215Z       âœ“ should validate filesystem-v2 mode with download action (1 ms)
2025-04-15T08:17:00.9265505Z       âœ“ should validate s3 mode with view action and optional fields
2025-04-15T08:17:00.9265810Z     Invalid requests
2025-04-15T08:17:00.9266020Z       âœ“ should fail validation for missing mode separator (1 ms)
2025-04-15T08:17:00.9266259Z       âœ“ should fail validation for invalid mode
2025-04-15T08:17:00.9266498Z       âœ“ should fail validation for invalid action (1 ms)
2025-04-15T08:17:00.9266725Z       âœ“ should fail validation for missing id
2025-04-15T08:17:00.9266933Z       âœ“ should fail validation for missing action
2025-04-15T08:17:00.9267052Z 
2025-04-15T08:17:00.9267190Z PASS src/dto/workflows/__tests__/transfer-workflow.dto.test.ts
2025-04-15T08:17:00.9267394Z   ImportWorkflowFromUrlDto
2025-04-15T08:17:00.9267532Z     Valid requests
2025-04-15T08:17:00.9267722Z       âœ“ should validate only destinationProjectId (3 ms)
2025-04-15T08:17:00.9268023Z       âœ“ should validate destinationProjectId with empty shareCredentials (1 ms)
2025-04-15T08:17:00.9268336Z       âœ“ should validate destinationProjectId with shareCredentials
2025-04-15T08:17:00.9268635Z     Invalid requests
2025-04-15T08:17:00.9268850Z       âœ“ should fail validation for no destinationProjectId (1 ms)
2025-04-15T08:17:00.9269147Z       âœ“ should fail validation for destinationProjectId not being a string
2025-04-15T08:17:00.9269448Z       âœ“ should fail validation for shareCredentials not being an array
2025-04-15T08:17:00.9269759Z       âœ“ should fail validation for shareCredentials not containing strings (1 ms)
2025-04-15T08:17:00.9269930Z 
2025-04-15T08:17:00.9270071Z PASS src/dto/owner/__tests__/dismiss-banner-request.dto.test.ts
2025-04-15T08:17:00.9270276Z   DismissBannerRequestDto
2025-04-15T08:17:00.9270416Z     Valid requests
2025-04-15T08:17:00.9270588Z       âœ“ should validate valid banner: V1 (4 ms)
2025-04-15T08:17:00.9270802Z       âœ“ should validate valid banner: TRIAL_OVER
2025-04-15T08:17:00.9271013Z       âœ“ should validate valid banner: TRIAL
2025-04-15T08:17:00.9271246Z       âœ“ should validate valid banner: NON_PRODUCTION_LICENSE
2025-04-15T08:17:00.9271503Z       âœ“ should validate valid banner: EMAIL_CONFIRMATION
2025-04-15T08:17:00.9271677Z     Invalid requests
2025-04-15T08:17:00.9271881Z       âœ“ should fail validation for invalid banner string (1 ms)
2025-04-15T08:17:00.9272137Z       âœ“ should fail validation for non-string banner (1 ms)
2025-04-15T08:17:00.9272316Z     Optional banner
2025-04-15T08:17:00.9272484Z       âœ“ should validate empty request
2025-04-15T08:17:00.9272655Z     Exhaustive banner name check
2025-04-15T08:17:00.9272840Z       âœ“ should have all banner names defined
2025-04-15T08:17:00.9272948Z 
2025-04-15T08:17:00.9273063Z PASS src/schemas/__tests__/paswword.schema.test.ts
2025-04-15T08:17:00.9273242Z   passwordSchema
2025-04-15T08:17:00.9273409Z     âœ“ should throw on empty password (7 ms)
2025-04-15T08:17:00.9273678Z     âœ“ should return same password if valid (1 ms)
2025-04-15T08:17:00.9273900Z     âœ“ should require at least one uppercase letter
2025-04-15T08:17:00.9274104Z     âœ“ should require at least one number
2025-04-15T08:17:00.9274349Z     âœ“ should require a minimum length of 8 characters (1 ms)
2025-04-15T08:17:00.9274608Z     âœ“ should require a maximum length of 64 characters (1 ms)
2025-04-15T08:17:00.9274742Z 
2025-04-15T08:17:00.9274896Z PASS src/dto/workflows/__tests__/import-workflow-from-url.dto.test.ts
2025-04-15T08:17:00.9275112Z   ImportWorkflowFromUrlDto
2025-04-15T08:17:00.9275255Z     Valid requests
2025-04-15T08:17:00.9275415Z       âœ“ should validate $name (2 ms)
2025-04-15T08:17:00.9275571Z     Invalid requests
2025-04-15T08:17:00.9275810Z       âœ“ should fail validation for invalid URL (not ending with .json) (1 ms)
2025-04-15T08:17:00.9276123Z       âœ“ should fail validation for invalid URL (missing protocol) (1 ms)
2025-04-15T08:17:00.9276622Z       âœ“ should fail validation for invalid URL (not a URL)
2025-04-15T08:17:00.9276955Z       âœ“ should fail validation for missing URL
2025-04-15T08:17:00.9277180Z       âœ“ should fail validation for null URL (1 ms)
2025-04-15T08:17:00.9277482Z       âœ“ should fail validation for invalid URL (ends with .json but not a valid URL)
2025-04-15T08:17:00.9278020Z       âœ“ should fail validation for valid URL with query parameters
2025-04-15T08:17:00.9278310Z       âœ“ should fail validation for valid URL with fragments
2025-04-15T08:17:00.9278462Z 
2025-04-15T08:17:00.9278648Z PASS src/dto/credentials/__tests__/credentials-get-many-request.dto.test.ts
2025-04-15T08:17:00.9278907Z   CredentialsGetManyRequestQuery
2025-04-15T08:17:00.9279066Z     should pass validation
2025-04-15T08:17:00.9279236Z       âœ“ with empty object (3 ms)
2025-04-15T08:17:00.9279413Z       âœ“ with includeScopes set to true
2025-04-15T08:17:00.9279613Z       âœ“ with includeScopes set to false
2025-04-15T08:17:00.9279808Z       âœ“ with includeData set to true (1 ms)
2025-04-15T08:17:00.9280042Z       âœ“ with includeData set to false
2025-04-15T08:17:00.9280219Z       âœ“ with both parameters set
2025-04-15T08:17:00.9280363Z     should fail validation
2025-04-15T08:17:00.9280559Z       âœ“ with invalid value true for includeScopes (1 ms)
2025-04-15T08:17:00.9281132Z       âœ“ with invalid value false for includeScopes
2025-04-15T08:17:00.9281362Z       âœ“ with invalid value invalid for includeScopes
2025-04-15T08:17:00.9281579Z       âœ“ with invalid value true for includeData
2025-04-15T08:17:00.9281805Z       âœ“ with invalid value false for includeData (1 ms)
2025-04-15T08:17:00.9282027Z       âœ“ with invalid value invalid for includeData
2025-04-15T08:17:00.9282147Z 
2025-04-15T08:17:00.9282307Z PASS src/dto/invitation/__tests__/invite-users-request.dto.test.ts
2025-04-15T08:17:00.9282519Z   InviteUsersRequestDto
2025-04-15T08:17:00.9282652Z     Valid requests
2025-04-15T08:17:00.9282822Z       âœ“ should validate empty array (3 ms)
2025-04-15T08:17:00.9283080Z       âœ“ should validate single user invitation with default role (1 ms)
2025-04-15T08:17:00.9283376Z       âœ“ should validate multiple user invitations with different roles
2025-04-15T08:17:00.9283694Z       âœ“ should default role to global:member
2025-04-15T08:17:00.9283850Z     Invalid requests
2025-04-15T08:17:00.9284042Z       âœ“ should fail validation for invalid email
2025-04-15T08:17:00.9284256Z       âœ“ should fail validation for invalid role
2025-04-15T08:17:00.9284365Z 
2025-04-15T08:17:00.9284514Z PASS src/dto/folders/__tests__/update-folder.request.dto.test.ts
2025-04-15T08:17:00.9284710Z   UpdateFolderDto
2025-04-15T08:17:00.9284836Z     Valid requests
2025-04-15T08:17:00.9285002Z       âœ“ should validate name (3 ms)
2025-04-15T08:17:00.9285187Z       âœ“ should validate tagIds
2025-04-15T08:17:00.9285394Z       âœ“ should validate empty tagIds (1 ms)
2025-04-15T08:17:00.9285599Z       âœ“ should validate string parentFolderId
2025-04-15T08:17:00.9285759Z     Invalid requests
2025-04-15T08:17:00.9285944Z       âœ“ should fail validation for empty name (1 ms)
2025-04-15T08:17:00.9286166Z       âœ“ should fail validation for non string tagIds
2025-04-15T08:17:00.9286396Z       âœ“ should fail validation for non array tagIds (1 ms)
2025-04-15T08:17:00.9286644Z       âœ“ should fail validation for non string parentFolderId
2025-04-15T08:17:00.9286784Z 
2025-04-15T08:17:00.9286952Z PASS src/dto/credentials/__tests__/credentials-get-one-request.dto.test.ts
2025-04-15T08:17:00.9287199Z   CredentialsGetManyRequestQuery
2025-04-15T08:17:00.9287353Z     should pass validation
2025-04-15T08:17:00.9287522Z       âœ“ with empty object (3 ms)
2025-04-15T08:17:00.9287711Z       âœ“ with includeData set to true (1 ms)
2025-04-15T08:17:00.9287903Z       âœ“ with includeData set to false
2025-04-15T08:17:00.9288430Z       âœ“ with both parameters set (1 ms)
2025-04-15T08:17:00.9288591Z     should fail validation
2025-04-15T08:17:00.9288788Z       âœ“ with invalid value true for includeData (1 ms)
2025-04-15T08:17:00.9289008Z       âœ“ with invalid value false for includeData
2025-04-15T08:17:00.9289224Z       âœ“ with invalid value invalid for includeData
2025-04-15T08:17:00.9289334Z 
2025-04-15T08:17:00.9289471Z PASS src/dto/workflows/__tests__/manual-run-query.dto.test.ts
2025-04-15T08:17:00.9289666Z   ManualRunQueryDto
2025-04-15T08:17:00.9289937Z     Valid requests
2025-04-15T08:17:00.9290106Z       âœ“ should validate version number 1 (3 ms)
2025-04-15T08:17:00.9290308Z       âœ“ should validate version number 2 (1 ms)
2025-04-15T08:17:00.9290500Z       âœ“ should validate missing version
2025-04-15T08:17:00.9290649Z     Invalid requests
2025-04-15T08:17:00.9290845Z       âœ“ should fail validation for invalid version 0 (1 ms)
2025-04-15T08:17:00.9291089Z       âœ“ should fail validation for invalid type (boolean)
2025-04-15T08:17:00.9291340Z       âœ“ should fail validation for invalid type (number) (1 ms)
2025-04-15T08:17:00.9291477Z 
2025-04-15T08:17:00.9291613Z PASS src/dto/folders/__tests__/create-folder-request.dto.test.ts
2025-04-15T08:17:00.9291806Z   CreateFolderDto
2025-04-15T08:17:00.9291921Z     Valid requests
2025-04-15T08:17:00.9292097Z       âœ“ should validate name without parentId (3 ms)
2025-04-15T08:17:00.9292334Z       âœ“ should validate name and parentFolderId (1 ms)
2025-04-15T08:17:00.9292504Z     Invalid requests
2025-04-15T08:17:00.9292791Z       âœ“ should fail validation for missing name
2025-04-15T08:17:00.9292999Z       âœ“ should fail validation for empty name
2025-04-15T08:17:00.9293229Z       âœ“ should fail validation for parentFolderId and no name
2025-04-15T08:17:00.9293533Z       âœ“ should fail validation for invalid parentFolderId (1 ms)
2025-04-15T08:17:00.9293669Z 
2025-04-15T08:17:00.9293788Z PASS src/dto/tag/__tests__/retrieve-tag-query.dto.test.ts
2025-04-15T08:17:00.9293971Z   RetrieveTagQueryDto
2025-04-15T08:17:00.9294100Z     Valid requests
2025-04-15T08:17:00.9294311Z       âœ“ should pass validation for withUsageCount with "true" (3 ms)
2025-04-15T08:17:00.9294579Z       âœ“ should pass validation for withUsageCount with "false"
2025-04-15T08:17:00.9294760Z     Invalid requests
2025-04-15T08:17:00.9294970Z       âœ“ should fail validation for withUsageCount with number (1 ms)
2025-04-15T08:17:00.9295246Z       âœ“ should fail validation for withUsageCount with boolean (true) 
2025-04-15T08:17:00.9295528Z       âœ“ should fail validation for withUsageCount with boolean (false)
2025-04-15T08:17:00.9295837Z       âœ“ should fail validation for withUsageCount with invalid string (1 ms)
2025-04-15T08:17:00.9295992Z 
2025-04-15T08:17:00.9296128Z PASS src/dto/user/__tests__/password-update-request.dto.test.ts
2025-04-15T08:17:00.9296335Z   PasswordUpdateRequestDto
2025-04-15T08:17:00.9296562Z     âœ“ should fail validation with missing currentPassword (4 ms)
2025-04-15T08:17:00.9296808Z     âœ“ should fail validation with missing newPassword
2025-04-15T08:17:00.9297042Z     âœ“ should pass validation with missing mfaCode (1 ms)
2025-04-15T08:17:00.9297262Z     âœ“ should pass validation with valid data
2025-04-15T08:17:00.9297365Z 
2025-04-15T08:17:00.9297514Z PASS src/dto/api-keys/__tests__/create-api-key-request.dto.test.ts
2025-04-15T08:17:00.9297717Z   CreateApiKeyRequestDto
2025-04-15T08:17:00.9297846Z     Valid requests
2025-04-15T08:17:00.9298050Z       âœ“ should succeed validation for expiresAt in the future (4 ms)
2025-04-15T08:17:00.9298309Z       âœ“ should succeed validation for expiresAt null
2025-04-15T08:17:00.9298470Z     Invalid requests
2025-04-15T08:17:00.9298669Z       âœ“ should fail validation for expiresAt in the past (1 ms)
2025-04-15T08:17:00.9298925Z       âœ“ should fail validation for expiresAt with string (1 ms)
2025-04-15T08:17:00.9299171Z       âœ“ should fail validation for expiresAt with []
2025-04-15T08:17:00.9299408Z       âœ“ should fail validation for expiresAt with {} (1 ms)
2025-04-15T08:17:00.9299531Z 
2025-04-15T08:17:00.9299696Z PASS src/dto/password-reset/__tests__/forgot-password-request.dto.test.ts
2025-04-15T08:17:00.9299921Z   ForgotPasswordRequestDto
2025-04-15T08:17:00.9300058Z     Valid requests
2025-04-15T08:17:00.9300226Z       âœ“ should validate valid email (3 ms)
2025-04-15T08:17:00.9300426Z       âœ“ should validate email with subdomain
2025-04-15T08:17:00.9300584Z     Invalid requests
2025-04-15T08:17:00.9300797Z       âœ“ should fail validation for invalid email format (1 ms)
2025-04-15T08:17:00.9301185Z       âœ“ should fail validation for missing email (1 ms)
2025-04-15T08:17:00.9301415Z       âœ“ should fail validation for empty email
2025-04-15T08:17:00.9301526Z 
2025-04-15T08:17:00.9301653Z PASS src/dto/user/__tests__/role-change-request.dto.test.ts
2025-04-15T08:17:00.9301843Z   RoleChangeRequestDto
2025-04-15T08:17:00.9302050Z     âœ“ should fail validation with missing newRoleName (6 ms)
2025-04-15T08:17:00.9302293Z     âœ“ should fail validation with invalid newRoleName
2025-04-15T08:17:00.9302521Z     âœ“ should pass validation with valid data (1 ms)
2025-04-15T08:17:00.9302640Z 
2025-04-15T08:17:00.9302796Z PASS src/dto/credentials/__tests__/generate-credential-name.dto.test.ts
2025-04-15T08:17:00.9303038Z   GenerateCredentialNameRequestQuery
2025-04-15T08:17:00.9303198Z     should pass validation
2025-04-15T08:17:00.9303370Z       âœ“ with empty object (3 ms)
2025-04-15T08:17:00.9303593Z       âœ“ with valid name (1 ms)
2025-04-15T08:17:00.9303732Z     should fail validation
2025-04-15T08:17:00.9304004Z       âœ“ with invalid value 123 for name
2025-04-15T08:17:00.9304193Z       âœ“ with invalid value true for name
2025-04-15T08:17:00.9304397Z       âœ“ with invalid value {} for name (1 ms)
2025-04-15T08:17:00.9304587Z       âœ“ with invalid value [] for name
2025-04-15T08:17:00.9304691Z 
2025-04-15T08:17:00.9304834Z PASS src/dto/api-keys/__tests__/update-api-key-request.dto.test.ts
2025-04-15T08:17:00.9305039Z   UpdateApiKeyRequestDto
2025-04-15T08:17:00.9305184Z     Valid requests
2025-04-15T08:17:00.9305339Z       âœ“ should allow valid label (3 ms)
2025-04-15T08:17:00.9305486Z     Invalid requests
2025-04-15T08:17:00.9305674Z       âœ“ should fail validation for empty label (1 ms)
2025-04-15T08:17:00.9305919Z       âœ“ should fail validation for label exceeding 50 characters
2025-04-15T08:17:00.9306184Z       âœ“ should fail validation for label with xss injection (1 ms)
2025-04-15T08:17:00.9306324Z 
2025-04-15T08:17:00.9306497Z PASS src/dto/password-reset/__tests__/resolve-password-token-query.dto.test.ts
2025-04-15T08:17:00.9306752Z   ResolvePasswordTokenQueryDto
2025-04-15T08:17:00.9306894Z     Valid requests
2025-04-15T08:17:00.9307057Z       âœ“ should validate valid token (2 ms)
2025-04-15T08:17:00.9307245Z       âœ“ should validate long token
2025-04-15T08:17:00.9307390Z     Invalid requests
2025-04-15T08:17:00.9307577Z       âœ“ should fail validation for missing token (1 ms)
2025-04-15T08:17:00.9307793Z       âœ“ should fail validation for empty token
2025-04-15T08:17:00.9307904Z 
2025-04-15T08:17:00.9308045Z PASS src/dto/ai/__tests__/ai-apply-suggestion-request.dto.test.ts
2025-04-15T08:17:00.9308254Z   AiApplySuggestionRequestDto
2025-04-15T08:17:00.9308492Z     âœ“ should validate a valid suggestion application request (3 ms)
2025-04-15T08:17:00.9308744Z     âœ“ should fail if sessionId is missing (1 ms)
2025-04-15T08:17:00.9308951Z     âœ“ should fail if suggestionId is missing
2025-04-15T08:17:00.9309053Z 
2025-04-15T08:17:00.9309214Z PASS src/dto/source-control/__tests__/pull-work-folder-request.dto.test.ts
2025-04-15T08:17:00.9309545Z   PullWorkFolderRequestDto
2025-04-15T08:17:00.9309677Z     Valid requests
2025-04-15T08:17:00.9309843Z       âœ“ should validate with force (4 ms)
2025-04-15T08:17:00.9310039Z       âœ“ should validate without force (1 ms)
2025-04-15T08:17:00.9310191Z     Invalid requests
2025-04-15T08:17:00.9310386Z       âœ“ should fail validation for invalid force type (1 ms)
2025-04-15T08:17:00.9310510Z 
2025-04-15T08:17:00.9310655Z PASS src/dto/tag/__tests__/create-or-update-tag-request.dto.test.ts
2025-04-15T08:17:00.9310871Z   CreateOrUpdateTagRequestDto
2025-04-15T08:17:00.9311008Z     Valid requests
2025-04-15T08:17:00.9311166Z       âœ“ should validate valid name (3 ms)
2025-04-15T08:17:00.9311318Z     Invalid requests
2025-04-15T08:17:00.9311523Z       âœ“ should fail validation for empty tag name (1 ms)
2025-04-15T08:17:00.9311641Z 
2025-04-15T08:17:00.9311765Z PASS src/schemas/__tests__/nodeVersion.schema.test.ts
2025-04-15T08:17:00.9311956Z   nodeVersionSchema
2025-04-15T08:17:00.9312079Z     valid versions
2025-04-15T08:17:00.9312395Z       âœ“ should accept 1 as a valid version (single digit) (2 ms)
2025-04-15T08:17:00.9312651Z       âœ“ should accept 2 as a valid version (single digit) (1 ms)
2025-04-15T08:17:00.9312917Z       âœ“ should accept 1 as a valid version (major.minor with zero minor)
2025-04-15T08:17:00.9313185Z       âœ“ should accept 1.2 as a valid version (major.minor)
2025-04-15T08:17:00.9313523Z       âœ“ should accept 10.5 as a valid version (major.minor with double digits)
2025-04-15T08:17:00.9313724Z     invalid versions
2025-04-15T08:17:00.9313971Z       âœ“ should reject not-a-number as an invalid version (non-number input) (3 ms)
2025-04-15T08:17:00.9314282Z       âœ“ should reject 1.2.3 as an invalid version (more than two parts) (1 ms)
2025-04-15T08:17:00.9314572Z       âœ“ should reject 1.a as an invalid version (non-numeric characters)
2025-04-15T08:17:00.9314884Z       âœ“ should reject 1.2.3 as an invalid version (more than two parts as string) (1 ms)
2025-04-15T08:17:00.9315054Z 
2025-04-15T08:17:00.9315179Z PASS src/dto/ai/__tests__/ai-chat-request.dto.test.ts
2025-04-15T08:17:00.9315353Z   AiChatRequestDto
2025-04-15T08:17:00.9315567Z     âœ“ should validate a request with a payload and session ID (3 ms)
2025-04-15T08:17:00.9315818Z     âœ“ should validate a request with only a payload
2025-04-15T08:17:00.9316029Z     âœ“ should fail if payload is missing
2025-04-15T08:17:00.9316139Z 
2025-04-15T08:17:00.9316289Z PASS src/dto/license/__tests__/community-registered-request.dto.test.ts
2025-04-15T08:17:00.9316513Z   CommunityRegisteredRequestDto
2025-04-15T08:17:00.9316722Z     âœ“ should fail validation for missing email (3 ms)
2025-04-15T08:17:00.9316943Z     âœ“ should fail validation for an invalid email
2025-04-15T08:17:00.9317065Z 
2025-04-15T08:17:00.9317191Z PASS src/dto/ai/__tests__/ai-free-credits-request.dto.test.ts
2025-04-15T08:17:00.9317388Z   AiChatRequestDto
2025-04-15T08:17:00.9317582Z     âœ“ should succeed if projectId is a valid nanoid (3 ms)
2025-04-15T08:17:00.9317810Z     âœ“ should succeed if no projectId is sent
2025-04-15T08:17:00.9318025Z     âœ“ should fail is projectId invalid value
2025-04-15T08:17:00.9318129Z 
2025-04-15T08:17:00.9318214Z Test Suites: 48 passed, 48 total
2025-04-15T08:17:00.9318386Z Tests:       353 passed, 353 total
2025-04-15T08:17:00.9318540Z Snapshots:   0 total
2025-04-15T08:17:00.9318675Z Time:        6.441 s
2025-04-15T08:17:00.9318800Z Ran all test suites.
2025-04-15T08:17:00.9319150Z ##[endgroup]
2025-04-15T08:17:02.5240464Z ##[group]@n8n/imap:test
2025-04-15T08:17:02.5240876Z cache bypass, force executing f7b9a92ea8bfe464
2025-04-15T08:17:02.5241071Z 
2025-04-15T08:17:02.5241292Z > @n8n/imap@0.9.0 test /home/runner/_work/n8n/n8n/packages/@n8n/imap
2025-04-15T08:17:02.5241578Z > jest
2025-04-15T08:17:02.5241675Z 
2025-04-15T08:17:02.5241784Z PASS test/PartData.test.ts
2025-04-15T08:17:02.5241988Z   PartData
2025-04-15T08:17:02.5242148Z     fromData
2025-04-15T08:17:02.5242732Z       âœ“ should return an instance of Base64PartData when encoding is BASE64 (3 ms)
2025-04-15T08:17:02.5243836Z       âœ“ should return an instance of QuotedPrintablePartData when encoding is QUOTED-PRINTABLE
2025-04-15T08:17:02.5244418Z       âœ“ should return an instance of SevenBitPartData when encoding is 7BIT
2025-04-15T08:17:02.5244906Z       âœ“ should return an instance of BinaryPartData when encoding is 8BIT or BINARY
2025-04-15T08:17:02.5245389Z       âœ“ should return an instance of UuencodedPartData when encoding is UUENCODE
2025-04-15T08:17:02.5245834Z       âœ“ should throw an error when encoding is not supported (5 ms)
2025-04-15T08:17:02.5246117Z   Base64PartData
2025-04-15T08:17:02.5246365Z     âœ“ should correctly decode base64 data
2025-04-15T08:17:02.5246608Z   QuotedPrintablePartData
2025-04-15T08:17:02.5246902Z     âœ“ should correctly decode quoted-printable data
2025-04-15T08:17:02.5247153Z   SevenBitPartData
2025-04-15T08:17:02.5247415Z     âœ“ should correctly decode 7bit data (1 ms)
2025-04-15T08:17:02.5247646Z   BinaryPartData
2025-04-15T08:17:02.5247895Z     âœ“ should correctly decode binary data (4 ms)
2025-04-15T08:17:02.5248490Z   UuencodedPartData
2025-04-15T08:17:02.5248744Z     âœ“ should correctly decode uuencoded data
2025-04-15T08:17:02.5248898Z 
2025-04-15T08:17:02.5249025Z Test Suites: 1 passed, 1 total
2025-04-15T08:17:02.5249281Z Tests:       11 passed, 11 total
2025-04-15T08:17:02.5249502Z Snapshots:   0 total
2025-04-15T08:17:02.5249690Z Time:        1.121 s
2025-04-15T08:17:02.5249874Z Ran all test suites.
2025-04-15T08:17:02.5250204Z ##[endgroup]
2025-04-15T08:19:34.4837278Z ##[group]n8n:test
2025-04-15T08:19:34.4837580Z cache bypass, force executing 828b44784d0baac3
2025-04-15T08:19:34.4837706Z 
2025-04-15T08:19:34.4837828Z > n8n@1.89.0 test /home/runner/_work/n8n/n8n/packages/cli
2025-04-15T08:19:34.4838022Z > pnpm test:sqlite
2025-04-15T08:19:34.4838104Z 
2025-04-15T08:19:34.4838108Z 
2025-04-15T08:19:34.4838228Z > n8n@1.89.0 test:sqlite /home/runner/_work/n8n/n8n/packages/cli
2025-04-15T08:19:34.4838450Z > N8N_LOG_LEVEL=silent DB_TYPE=sqlite jest
2025-04-15T08:19:34.4838604Z 
2025-04-15T08:19:34.4838792Z PASS src/modules/insights/__tests__/insights.service.test.ts (7.962 s)
2025-04-15T08:19:34.4839023Z   workflowExecuteAfterHandler
2025-04-15T08:19:34.4839481Z     âœ“ stores events for executions with the status `success` (29 ms)
2025-04-15T08:19:34.4839765Z     âœ“ stores events for executions with the status `error` (13 ms)
2025-04-15T08:19:34.4840037Z     âœ“ stores events for executions with the status `crashed` (19 ms)
2025-04-15T08:19:34.4840367Z     âœ“ does not store events for executions with the status `waiting` (13 ms)
2025-04-15T08:19:34.4840671Z     âœ“ does not store events for executions with the status `canceled` (19 ms)
2025-04-15T08:19:34.4840966Z     âœ“ does not store events for executions with the status `unknown` (20 ms)
2025-04-15T08:19:34.4841249Z     âœ“ does not store events for executions with the status `new` (18 ms)
2025-04-15T08:19:34.4841544Z     âœ“ does not store events for executions with the status `running` (22 ms)
2025-04-15T08:19:34.4841840Z     âœ“ does not store events for executions with the mode `internal` (21 ms)
2025-04-15T08:19:34.4842181Z     âœ“ does not store events for executions with the mode `manual` (8 ms)
2025-04-15T08:19:34.4842474Z     âœ“ does not store events for executions with the mode `integrated` (17 ms)
2025-04-15T08:19:34.4842762Z     âœ“ stores events for executions with the mode `evaluation` (27 ms)
2025-04-15T08:19:34.4843132Z     âœ“ stores events for executions with the mode `error` (24 ms)
2025-04-15T08:19:34.4843404Z     âœ“ stores events for executions with the mode `cli` (30 ms)
2025-04-15T08:19:34.4843705Z     âœ“ stores events for executions with the mode `retry` (14 ms)
2025-04-15T08:19:34.4843966Z     âœ“ stores events for executions with the mode `trigger` (30 ms)
2025-04-15T08:19:34.4844220Z     âœ“ stores events for executions with the mode `webhook` (40 ms)
2025-04-15T08:19:34.4844438Z   workflowExecuteAfterHandler - cacheMetadata
2025-04-15T08:19:34.4844723Z     âœ“ reuses cached metadata for subsequent executions of the same workflow (18 ms)
2025-04-15T08:19:34.4845308Z     âœ“ updates cached metadata if workflow details change (9 ms)
2025-04-15T08:19:34.4845523Z   workflowExecuteAfterHandler - flushEvents
2025-04-15T08:19:34.4845764Z     âœ“ flushes events to the database once buffer is full (68 ms)
2025-04-15T08:19:34.4846043Z     âœ“ flushes events to the database after a timeout (43 ms)
2025-04-15T08:19:34.4846290Z     âœ“ reschedule flush on flushing end (11 ms)
2025-04-15T08:19:34.4846515Z     âœ“ flushes events to the database on shutdown (14 ms)
2025-04-15T08:19:34.4846763Z     âœ“ flushes events synchronously while shutting down (29 ms)
2025-04-15T08:19:34.4847048Z     âœ“ restore buffer events on flushing error (10 ms)
2025-04-15T08:19:34.4847271Z     âœ“ waits for ongoing flush during shutdown (11 ms)
2025-04-15T08:19:34.4847434Z   compaction
2025-04-15T08:19:34.4847553Z     compactRawToHour
2025-04-15T08:19:34.4847729Z       âœ“ compact into 2 rows (40 ms)
2025-04-15T08:19:34.4847908Z       âœ“ compact into 3 rows (25 ms)
2025-04-15T08:19:34.4848450Z       âœ“ batch compaction split events in hourly insight periods (272 ms)
2025-04-15T08:19:34.4848785Z       âœ“ batch compaction split events in hourly insight periods by type and workflow (267 ms)
2025-04-15T08:19:34.4849096Z       âœ“ should return the number of compacted events (242 ms)
2025-04-15T08:19:34.4849367Z       âœ“ works with data in the compacted table (82 ms)
2025-04-15T08:19:34.4849610Z       âœ“ works with data bigger than the batch size (256 ms)
2025-04-15T08:19:34.4849778Z     compactionSchedule
2025-04-15T08:19:34.4849955Z       âœ“ compaction is running on schedule (7 ms)
2025-04-15T08:19:34.4850111Z     compactHourToDay
2025-04-15T08:19:34.4850266Z       âœ“ compact into 2 rows (19 ms)
2025-04-15T08:19:34.4850463Z       âœ“ compact into 3 rows (25 ms)
2025-04-15T08:19:34.4850677Z       âœ“ recent insight periods should not be compacted (16 ms)
2025-04-15T08:19:34.4850850Z     compactDayToWeek
2025-04-15T08:19:34.4850995Z       âœ“ compact into 2 rows (20 ms)
2025-04-15T08:19:34.4851171Z       âœ“ compact into 3 rows (35 ms)
2025-04-15T08:19:34.4851388Z       âœ“ recent insight periods should not be compacted (23 ms)
2025-04-15T08:19:34.4851583Z     compaction threshold configuration
2025-04-15T08:19:34.4851866Z       âœ“ insights by period older than the hourly to daily threshold are not compacted (23 ms)
2025-04-15T08:19:34.4852206Z       âœ“ insights by period older than the daily to weekly threshold are not compacted (47 ms)
2025-04-15T08:19:34.4852424Z   getInsightsSummary
2025-04-15T08:19:34.4852605Z     âœ“ compacted data are summarized correctly (37 ms)
2025-04-15T08:19:34.4852864Z     âœ“ no data for previous period should return null deviation (18 ms)
2025-04-15T08:19:34.4853115Z     âœ“ mixed period data are summarized correctly (71 ms)
2025-04-15T08:19:34.4853311Z   getInsightsByWorkflow
2025-04-15T08:19:34.4853540Z     âœ“ compacted data are are grouped by workflow correctly (73 ms)
2025-04-15T08:19:34.4853824Z     âœ“ compacted data are grouped by workflow correctly with sorting (55 ms)
2025-04-15T08:19:34.4854139Z     âœ“ compacted data are grouped by workflow correctly with pagination (43 ms)
2025-04-15T08:19:34.4854513Z     âœ“ compacted data are grouped by workflow correctly even with 0 data (check division by 0) (23 ms)
2025-04-15T08:19:34.4854748Z   getInsightsByTime
2025-04-15T08:19:34.4854940Z     âœ“ returns empty array when no insights exist (14 ms)
2025-04-15T08:19:34.4855212Z     âœ“ returns empty array when no insights in the time range exists (23 ms)
2025-04-15T08:19:34.4855485Z     âœ“ compacted data are are grouped by time correctly (43 ms)
2025-04-15T08:19:34.4855613Z 
2025-04-15T08:19:34.4855752Z PASS test/integration/public-api/workflows.test.ts (9.933 s)
2025-04-15T08:19:34.4855940Z   GET /workflows
2025-04-15T08:19:34.4856104Z     âœ“ should fail due to missing API Key (18 ms)
2025-04-15T08:19:34.4856308Z     âœ“ should fail due to invalid API Key (5 ms)
2025-04-15T08:19:34.4856506Z     âœ“ should return all owned workflows (827 ms)
2025-04-15T08:19:34.4856741Z     âœ“ should return all owned workflows with pagination (35 ms)
2025-04-15T08:19:34.4857166Z     âœ“ should return all owned workflows filtered by tag (51 ms)
2025-04-15T08:19:34.4857418Z     âœ“ should return all owned workflows filtered by tags (37 ms)
2025-04-15T08:19:34.4857699Z     âœ“ for owner, should return all workflows filtered by `projectId` (32 ms)
2025-04-15T08:19:34.4858053Z     âœ“ for member, should return all member-accessible workflows filtered by `projectId` (27 ms)
2025-04-15T08:19:34.4858361Z     âœ“ should return all owned workflows filtered by name (26 ms)
2025-04-15T08:19:34.4858593Z     âœ“ should return all workflows for owner (27 ms)
2025-04-15T08:19:34.4858844Z     âœ“ should return all owned workflows without pinned data (21 ms)
2025-04-15T08:19:34.4859028Z   GET /workflows/:id
2025-04-15T08:19:34.4859201Z     âœ“ should fail due to missing API Key (5 ms)
2025-04-15T08:19:34.4859397Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4859610Z     âœ“ should fail due to non-existing workflow (12 ms)
2025-04-15T08:19:34.4859933Z     âœ“ should retrieve workflow (12 ms)
2025-04-15T08:19:34.4860146Z     âœ“ should retrieve non-owned workflow for owner (11 ms)
2025-04-15T08:19:34.4860381Z     âœ“ should retrieve workflow without pinned data (19 ms)
2025-04-15T08:19:34.4860548Z   DELETE /workflows/:id
2025-04-15T08:19:34.4860724Z     âœ“ should fail due to missing API Key (8 ms)
2025-04-15T08:19:34.4860921Z     âœ“ should fail due to invalid API Key (13 ms)
2025-04-15T08:19:34.4861128Z     âœ“ should fail due to non-existing workflow (18 ms)
2025-04-15T08:19:34.4861330Z     âœ“ should delete the workflow (18 ms)
2025-04-15T08:19:34.4861545Z     âœ“ should delete non-owned workflow when owner (18 ms)
2025-04-15T08:19:34.4861728Z   POST /workflows/:id/activate
2025-04-15T08:19:34.4861904Z     âœ“ should fail due to missing API Key (5 ms)
2025-04-15T08:19:34.4862094Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4862306Z     âœ“ should fail due to non-existing workflow (8 ms)
2025-04-15T08:19:34.4862577Z     âœ“ should fail due to trying to activate a workflow without any nodes (14 ms)
2025-04-15T08:19:34.4862891Z     âœ“ should fail due to trying to activate a workflow without a trigger (24 ms)
2025-04-15T08:19:34.4863127Z     âœ“ should set workflow as active (44 ms)
2025-04-15T08:19:34.4863356Z     âœ“ should set non-owned workflow as active when owner (37 ms)
2025-04-15T08:19:34.4863551Z   POST /workflows/:id/deactivate
2025-04-15T08:19:34.4863734Z     âœ“ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.4863929Z     âœ“ should fail due to invalid API Key (11 ms)
2025-04-15T08:19:34.4864139Z     âœ“ should fail due to non-existing workflow (9 ms)
2025-04-15T08:19:34.4864333Z     âœ“ should deactivate workflow (32 ms)
2025-04-15T08:19:34.4864555Z     âœ“ should deactivate non-owned workflow when owner (53 ms)
2025-04-15T08:19:34.4864728Z   POST /workflows
2025-04-15T08:19:34.4864892Z     âœ“ should fail due to missing API Key (11 ms)
2025-04-15T08:19:34.4865087Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4865408Z     âœ“ should fail due to invalid body (17 ms)
2025-04-15T08:19:34.4865607Z     âœ“ should create workflow (20 ms)
2025-04-15T08:19:34.4865836Z     âœ“ should create workflow history version when licensed (13 ms)
2025-04-15T08:19:34.4866116Z     âœ“ should not create workflow history version when not licensed (18 ms)
2025-04-15T08:19:34.4866421Z     âœ“ should not add a starting node if the payload has no starting nodes (13 ms)
2025-04-15T08:19:34.4866618Z   PUT /workflows/:id
2025-04-15T08:19:34.4866783Z     âœ“ should fail due to missing API Key (6 ms)
2025-04-15T08:19:34.4867022Z     âœ“ should fail due to invalid API Key (5 ms)
2025-04-15T08:19:34.4867227Z     âœ“ should fail due to non-existing workflow (16 ms)
2025-04-15T08:19:34.4867428Z     âœ“ should fail due to invalid body (4 ms)
2025-04-15T08:19:34.4867610Z     âœ“ should update workflow (19 ms)
2025-04-15T08:19:34.4867838Z     âœ“ should create workflow history version when licensed (30 ms)
2025-04-15T08:19:34.4868099Z     âœ“ should not create workflow history when not licensed (18 ms)
2025-04-15T08:19:34.4868446Z     âœ“ should update non-owned workflow if owner (26 ms)
2025-04-15T08:19:34.4868615Z   GET /workflows/:id/tags
2025-04-15T08:19:34.4868793Z     âœ“ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.4868987Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4869194Z     âœ“ should fail if N8N_WORKFLOW_TAGS_DISABLED (10 ms)
2025-04-15T08:19:34.4869410Z     âœ“ should fail due to non-existing workflow (9 ms)
2025-04-15T08:19:34.4869626Z     âœ“ should return all tags of owned workflow (19 ms)
2025-04-15T08:19:34.4869877Z     âœ“ should return empty array if workflow does not have tags (19 ms)
2025-04-15T08:19:34.4870066Z   PUT /workflows/:id/tags
2025-04-15T08:19:34.4870236Z     âœ“ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.4870430Z     âœ“ should fail due to invalid API Key (10 ms)
2025-04-15T08:19:34.4870639Z     âœ“ should fail if N8N_WORKFLOW_TAGS_DISABLED (12 ms)
2025-04-15T08:19:34.4870849Z     âœ“ should fail due to non-existing workflow (5 ms)
2025-04-15T08:19:34.4871197Z     âœ“ should add the tags, workflow have not got tags previously (23 ms)
2025-04-15T08:19:34.4871475Z     âœ“ should add the tags, workflow have some tags previously (36 ms)
2025-04-15T08:19:34.4871804Z     âœ“ should fail to add the tags as one does not exist, workflow should maintain previous tags (30 ms)
2025-04-15T08:19:34.4872040Z   PUT /workflows/:id/transfer
2025-04-15T08:19:34.4872231Z     âœ“ should transfer workflow to project (46 ms)
2025-04-15T08:19:34.4872441Z     âœ“ if no destination project, should reject (11 ms)
2025-04-15T08:19:34.4872548Z 
2025-04-15T08:19:34.4872704Z PASS test/integration/credentials/credentials.api.test.ts (10.299 s)
2025-04-15T08:19:34.4872907Z   GET /credentials
2025-04-15T08:19:34.4873071Z     âœ“ should return all creds for owner (115 ms)
2025-04-15T08:19:34.4873277Z     âœ“ should return only own creds for member (70 ms)
2025-04-15T08:19:34.4873547Z     âœ“ should return scopes when ?includeScopes=true (122 ms)
2025-04-15T08:19:34.4873786Z     âœ“ should return data when ?includeData=true (73 ms)
2025-04-15T08:19:34.4874028Z     âœ“ should return data when ?includeData=true for owners (48 ms)
2025-04-15T08:19:34.4874203Z     should return
2025-04-15T08:19:34.4874358Z       âœ“ all credentials for owner (72 ms)
2025-04-15T08:19:34.4874554Z       âœ“ only own credentials for member (59 ms)
2025-04-15T08:19:34.4874704Z     filter
2025-04-15T08:19:34.4874916Z       âœ“ should filter credentials by field: name - full match (46 ms)
2025-04-15T08:19:34.4875201Z       âœ“ should filter credentials by field: name - partial match (58 ms)
2025-04-15T08:19:34.4875482Z       âœ“ should filter credentials by field: type - full match (56 ms)
2025-04-15T08:19:34.4875753Z       âœ“ should filter credentials by field: type - partial match (47 ms)
2025-04-15T08:19:34.4876000Z       âœ“ should filter credentials by projectId (56 ms)
2025-04-15T08:19:34.4876278Z       âœ“ should return homeProject when filtering credentials by projectId (52 ms)
2025-04-15T08:19:34.4876599Z       âœ“ should return all credentials in a team project that member is part of (41 ms)
2025-04-15T08:19:34.4876982Z       âœ“ should return no credentials in a team project that member not is part of (54 ms)
2025-04-15T08:19:34.4877388Z       âœ“ should return only owned and explicitly shared credentials when filtering by any personal project id (74 ms)
2025-04-15T08:19:34.4877831Z       âœ“ should not ignore the project filter when the request is done by an owner and also includes the scopes (39 ms)
2025-04-15T08:19:34.4878078Z     select
2025-04-15T08:19:34.4878241Z       âœ“ should select credential field: id (61 ms)
2025-04-15T08:19:34.4878458Z       âœ“ should select credential field: name (46 ms)
2025-04-15T08:19:34.4878666Z       âœ“ should select credential field: type (50 ms)
2025-04-15T08:19:34.4878822Z     take
2025-04-15T08:19:34.4879010Z       âœ“ should return n credentials or less, without skip (55 ms)
2025-04-15T08:19:34.4879265Z       âœ“ should return n credentials or less, with skip (59 ms)
2025-04-15T08:19:34.4879544Z   POST /credentials
2025-04-15T08:19:34.4879704Z     âœ“ should create cred (32 ms)
2025-04-15T08:19:34.4879892Z     âœ“ should fail with invalid inputs (31 ms)
2025-04-15T08:19:34.4880087Z     âœ“ should ignore ID in payload (40 ms)
2025-04-15T08:19:34.4880319Z     âœ“ creates credential in personal project by default (43 ms)
2025-04-15T08:19:34.4880619Z     âœ“ creates credential in a specific project if the projectId is passed (31 ms)
2025-04-15T08:19:34.4880984Z     âœ“ does not create the credential in a specific project if the user is not part of the project (57 ms)
2025-04-15T08:19:34.4881231Z   DELETE /credentials/:id
2025-04-15T08:19:34.4881418Z     âœ“ should delete owned cred for owner (34 ms)
2025-04-15T08:19:34.4881633Z     âœ“ should delete non-owned cred for owner (46 ms)
2025-04-15T08:19:34.4881847Z     âœ“ should delete owned cred for member (50 ms)
2025-04-15T08:19:34.4882065Z     âœ“ should not delete non-owned cred for member (31 ms)
2025-04-15T08:19:34.4882319Z     âœ“ should not delete non-owned but shared cred for member (43 ms)
2025-04-15T08:19:34.4882654Z     âœ“ should fail if cred not found (29 ms)
2025-04-15T08:19:34.4882811Z   PATCH /credentials/:id
2025-04-15T08:19:34.4882991Z     âœ“ should update owned cred for owner (49 ms)
2025-04-15T08:19:34.4883198Z     âœ“ should update non-owned cred for owner (43 ms)
2025-04-15T08:19:34.4883409Z     âœ“ should update owned cred for member (26 ms)
2025-04-15T08:19:34.4883631Z     âœ“ should not update non-owned cred for member (34 ms)
2025-04-15T08:19:34.4883874Z     âœ“ should not update non-owned but shared cred for member (30 ms)
2025-04-15T08:19:34.4884152Z     âœ“ should update non-owned but shared cred for instance owner (39 ms)
2025-04-15T08:19:34.4884412Z     âœ“ should not allow to overwrite oauthTokenData (53 ms)
2025-04-15T08:19:34.4884626Z     âœ“ should fail with invalid inputs (63 ms)
2025-04-15T08:19:34.4884970Z     âœ“ should fail with a 404 if the credential does not exist and the actor has the global credential:update scope (32 ms)
2025-04-15T08:19:34.4885440Z     âœ“ should fail with a 403 if the credential does not exist and the actor does not have the global credential:update scope (24 ms)
2025-04-15T08:19:34.4885788Z     âœ“ should fail with a 400 is credential is managed (48 ms)
2025-04-15T08:19:34.4885966Z   GET /credentials/new
2025-04-15T08:19:34.4886197Z     âœ“ should return default name for new credential or its increment (60 ms)
2025-04-15T08:19:34.4886503Z     âœ“ should return name from query for new credential or its increment (59 ms)
2025-04-15T08:19:34.4886706Z   GET /credentials/:id
2025-04-15T08:19:34.4886880Z     âœ“ should retrieve owned cred for owner (32 ms)
2025-04-15T08:19:34.4887165Z     âœ“ should redact the data when `includeData:true` is passed (35 ms)
2025-04-15T08:19:34.4887440Z     âœ“ should omit oauth data when `includeData:true` is passed (28 ms)
2025-04-15T08:19:34.4887677Z     âœ“ should retrieve owned cred for member (58 ms)
2025-04-15T08:19:34.4887899Z     âœ“ should retrieve non-owned cred for owner (32 ms)
2025-04-15T08:19:34.4888230Z     âœ“ should not retrieve non-owned cred for member (32 ms)
2025-04-15T08:19:34.4888468Z     âœ“ should return 404 if cred not found (33 ms)
2025-04-15T08:19:34.4888628Z   POST /credentials/test
2025-04-15T08:19:34.4888835Z     âœ“ should test a credential with unredacted data (47 ms)
2025-04-15T08:19:34.4889069Z     âœ“ should test a credential with redacted data (33 ms)
2025-04-15T08:19:34.4889186Z 
2025-04-15T08:19:34.4889357Z PASS test/integration/workflows/workflows.controller.ee.test.ts (10.471 s)
2025-04-15T08:19:34.4889613Z   router should switch based on flag
2025-04-15T08:19:34.4889804Z     âœ“ when sharing is disabled (78 ms)
2025-04-15T08:19:34.4889992Z     âœ“ when sharing is enabled (30 ms)
2025-04-15T08:19:34.4890164Z   PUT /workflows/:workflowId/share
2025-04-15T08:19:34.4890390Z     âœ“ should save sharing with new users (22 ms)
2025-04-15T08:19:34.4890646Z     âœ“ should succeed when sharing with invalid user-id (19 ms)
2025-04-15T08:19:34.4890903Z     âœ“ should allow sharing with pending users (37 ms)
2025-04-15T08:19:34.4891437Z     âœ“ should allow sharing with multiple users (48 ms)
2025-04-15T08:19:34.4891655Z     âœ“ should override sharing (28 ms)
2025-04-15T08:19:34.4891890Z     âœ“ should allow sharing by the owner of the workflow (38 ms)
2025-04-15T08:19:34.4892150Z     âœ“ should allow sharing by the instance owner (28 ms)
2025-04-15T08:19:34.4892405Z     âœ“ should not allow sharing by another shared member (18 ms)
2025-04-15T08:19:34.4892682Z     âœ“ should not allow sharing with self by another non-shared member (30 ms)
2025-04-15T08:19:34.4892972Z     âœ“ should not allow sharing by another non-shared member (22 ms)
2025-04-15T08:19:34.4893298Z     âœ“ should not call internal hooks listener for email sent if emailing is disabled (17 ms)
2025-04-15T08:19:34.4893584Z     âœ“ should ignore sharing with owner project (29 ms)
2025-04-15T08:19:34.4893857Z     âœ“ should ignore sharing with project that already has it shared (38 ms)
2025-04-15T08:19:34.4894056Z   GET /workflows/new
2025-04-15T08:19:34.4894298Z     âœ“ should return an auto-incremented name, even when sharing is enabled (22 ms)
2025-04-15T08:19:34.4894768Z     âœ“ should return an auto-incremented name, even when sharing is disabled (26 ms)
2025-04-15T08:19:34.4894992Z   GET /workflows/:workflowId
2025-04-15T08:19:34.4895204Z     âœ“ should fail with invalid id due to route rule (26 ms)
2025-04-15T08:19:34.4895441Z     âœ“ should return 404 for non existing workflow (6 ms)
2025-04-15T08:19:34.4895676Z     âœ“ project viewers can view workflows (26 ms)
2025-04-15T08:19:34.4895887Z     âœ“ should return a workflow with owner (20 ms)
2025-04-15T08:19:34.4896111Z     âœ“ should return tags (26 ms)
2025-04-15T08:19:34.4896328Z     âœ“ should return shared workflow with user data (18 ms)
2025-04-15T08:19:34.4896544Z     âœ“ should return all sharees (34 ms)
2025-04-15T08:19:34.4896792Z     âœ“ should return workflow with credentials owned by user (39 ms)
2025-04-15T08:19:34.4897191Z     âœ“ should return workflow with credentials saying owner does have access even when not shared (29 ms)
2025-04-15T08:19:34.4897618Z     âœ“ should return workflow with credentials saying admin does have access even when not shared (38 ms)
2025-04-15T08:19:34.4897998Z     âœ“ should return workflow with credentials for all users with or without access (61 ms)
2025-04-15T08:19:34.4898335Z     âœ“ should return workflow with credentials for all users with access (65 ms)
2025-04-15T08:19:34.4898667Z     âœ“ should return workflow credentials home project and shared with projects (34 ms)
2025-04-15T08:19:34.4898894Z   POST /workflows
2025-04-15T08:19:34.4899079Z     âœ“ project viewers cannot create workflows (21 ms)
2025-04-15T08:19:34.4899332Z     âœ“ Should create a workflow that uses no credential (17 ms)
2025-04-15T08:19:34.4899574Z     âœ“ Should save a new workflow with credentials (20 ms)
2025-04-15T08:19:34.4899867Z     âœ“ Should not allow saving a workflow using credential you have no access (14 ms)
2025-04-15T08:19:34.4900213Z     âœ“ Should allow owner to save a workflow using credential owned by others (25 ms)
2025-04-15T08:19:34.4900584Z     âœ“ Should allow saving a workflow using a credential owned by others and shared with you (47 ms)
2025-04-15T08:19:34.4900912Z     âœ“ Should create workflow history version when licensed (15 ms)
2025-04-15T08:19:34.4901219Z     âœ“ Should not create workflow history version when not licensed (13 ms)
2025-04-15T08:19:34.4901435Z   PATCH /workflows/:workflowId
2025-04-15T08:19:34.4901642Z     âœ“ project viewers cannot update workflows (13 ms)
2025-04-15T08:19:34.4901841Z     validate credential permissions to user
2025-04-15T08:19:34.4902085Z       âœ“ Should succeed when saving unchanged workflow nodes (33 ms)
2025-04-15T08:19:34.4902410Z       âœ“ Should allow owner to add node containing credential not shared with the owner (46 ms)
2025-04-15T08:19:34.4902995Z       âœ“ Tamper proofing kicks in if the workflow is owned by the owner and shared with the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (31 ms)
2025-04-15T08:19:34.4903695Z       âœ“ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by the member, and the member tries to use the credential in the workflow (19 ms)
2025-04-15T08:19:34.4904414Z       âœ“ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by team 2, and the member tries to use the credential in the workflow (31 ms)
2025-04-15T08:19:34.4905031Z       âœ“ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (23 ms)
2025-04-15T08:19:34.4905647Z       âœ“ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by team 2, and the member tries to use the credential in the workflow (16 ms)
2025-04-15T08:19:34.4906141Z       âœ“ Should succeed but prevent modifying node attributes other than position, name and disabled (56 ms)
2025-04-15T08:19:34.4906412Z     validate interim updates
2025-04-15T08:19:34.4906675Z       âœ“ should block owner updating workflow nodes on interim update by member (73 ms)
2025-04-15T08:19:34.4907148Z       âœ“ should block member updating workflow nodes on interim update by owner (80 ms)
2025-04-15T08:19:34.4907466Z       âœ“ should block owner activation on interim activation by member (61 ms)
2025-04-15T08:19:34.4907772Z       âœ“ should block member activation on interim activation by owner (81 ms)
2025-04-15T08:19:34.4908103Z       âœ“ should block member updating workflow settings on interim update by owner (45 ms)
2025-04-15T08:19:34.4908449Z       âœ“ should block member updating workflow name on interim update by owner (68 ms)
2025-04-15T08:19:34.4908667Z     workflow history
2025-04-15T08:19:34.4908885Z       âœ“ Should create workflow history version when licensed (21 ms)
2025-04-15T08:19:34.4909175Z       âœ“ Should not create workflow history version when not licensed (27 ms)
2025-04-15T08:19:34.4909375Z     activate workflow
2025-04-15T08:19:34.4909594Z       âœ“ should activate workflow without changing version ID (17 ms)
2025-04-15T08:19:34.4909879Z       âœ“ should deactivate workflow without changing version ID (26 ms)
2025-04-15T08:19:34.4910082Z   PUT /:workflowId/transfer
2025-04-15T08:19:34.4910280Z     âœ“ cannot transfer into the same project (19 ms)
2025-04-15T08:19:34.4910502Z     âœ“ cannot transfer somebody elses workflow (20 ms)
2025-04-15T08:19:34.4910775Z     âœ“ cannot transfer if you're not a member of the destination project (22 ms)
2025-04-15T08:19:34.4911044Z     âœ“ project:editors cannot transfer workflows (24 ms)
2025-04-15T08:19:34.4911273Z     âœ“ project:viewers cannot transfer workflows (29 ms)
2025-04-15T08:19:34.4911570Z     âœ“ global owners can transfer workflows from a team project to a team project (45 ms)
2025-04-15T08:19:34.4911922Z     âœ“ global owners can transfer workflows from a team project to a personal project (25 ms)
2025-04-15T08:19:34.4912280Z     âœ“ global owners can transfer workflows from a personal project to a team project (27 ms)
2025-04-15T08:19:34.4912632Z     âœ“ global admins can transfer workflows from a team project to a team project (33 ms)
2025-04-15T08:19:34.4912990Z     âœ“ global admins can transfer workflows from a team project to a personal project (27 ms)
2025-04-15T08:19:34.4913347Z     âœ“ global admins can transfer workflows from a personal project to a team project (29 ms)
2025-04-15T08:19:34.4913718Z     âœ“ removes and re-adds the workflow from the active workflow manager during the transfer (35 ms)
2025-04-15T08:19:34.4914054Z     âœ“ should detach workflow from parent folder in source project (38 ms)
2025-04-15T08:19:34.4914511Z     âœ“ deactivates the workflow if it cannot be added to the active workflow manager again and returns the WorkflowActivationError as data (27 ms)
2025-04-15T08:19:34.4914987Z     âœ“ owner transfers workflow from project they are not part of, e.g. test global cred sharing scope (30 ms)
2025-04-15T08:19:34.4915399Z     âœ“ admin transfers workflow from project they are not part of, e.g. test global cred sharing scope (42 ms)
2025-04-15T08:19:34.4915994Z     âœ“ member transfers workflow from personal project to team project and wf contains a credential that they can use but not share (38 ms)
2025-04-15T08:19:34.4916495Z     âœ“ member transfers workflow from their personal project to another team project in which they have editor role (45 ms)
2025-04-15T08:19:34.4917043Z     âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role (45 ms)
2025-04-15T08:19:34.4917703Z     âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share the credential that is only shared into the source project (31 ms)
2025-04-15T08:19:34.4918398Z     âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share all the credentials (43 ms)
2025-04-15T08:19:34.4918862Z     âœ“ returns a 500 if the workflow cannot be activated due to an unknown error (44 ms)
2025-04-15T08:19:34.4919196Z   POST /workflows/:workflowId/run
2025-04-15T08:19:34.4919403Z     âœ“ project viewers cannot run workflows (19 ms)
2025-04-15T08:19:34.4919519Z 
2025-04-15T08:19:34.4919692Z PASS test/integration/workflows/workflows.controller.test.ts (11.576 s)
2025-04-15T08:19:34.4919903Z   POST /workflows
2025-04-15T08:19:34.4920090Z     âœ“ should store pin data for node in workflow (91 ms)
2025-04-15T08:19:34.4920319Z     âœ“ should set pin data to null if no pin data (61 ms)
2025-04-15T08:19:34.4920546Z     âœ“ should return scopes on created workflow (46 ms)
2025-04-15T08:19:34.4920801Z     âœ“ should create workflow history version when licensed (51 ms)
2025-04-15T08:19:34.4921093Z     âœ“ should not create workflow history version when not licensed (67 ms)
2025-04-15T08:19:34.4921368Z     âœ“ create workflow in personal project by default (70 ms)
2025-04-15T08:19:34.4921657Z     âœ“ creates workflow in a specific project if the projectId is passed (56 ms)
2025-04-15T08:19:34.4922022Z     âœ“ does not create the workflow in a specific project if the user is not part of the project (51 ms)
2025-04-15T08:19:34.4922452Z     âœ“ does not create the workflow in a specific project if the user does not have the right role to do so (61 ms)
2025-04-15T08:19:34.4922791Z     âœ“ create link workflow with folder if one is provided (63 ms)
2025-04-15T08:19:34.4923086Z     âœ“ create workflow without parent folder if no folder is provided (52 ms)
2025-04-15T08:19:34.4923465Z     âœ“ create workflow without parent is provided folder does not exist in the project (36 ms)
2025-04-15T08:19:34.4923704Z   GET /workflows/:workflowId
2025-04-15T08:19:34.4923877Z     âœ“ should return pin data (60 ms)
2025-04-15T08:19:34.4924060Z     âœ“ should return tags (46 ms)
2025-04-15T08:19:34.4924204Z   GET /workflows
2025-04-15T08:19:34.4924387Z     âœ“ should return zero workflows if none exist (43 ms)
2025-04-15T08:19:34.4924590Z     âœ“ should return workflows (61 ms)
2025-04-15T08:19:34.4924847Z     âœ“ should return workflows with scopes when ?includeScopes=true (121 ms)
2025-04-15T08:19:34.4925058Z     filter
2025-04-15T08:19:34.4925233Z       âœ“ should filter workflows by field: name (50 ms)
2025-04-15T08:19:34.4925459Z       âœ“ should filter workflows by field: active (65 ms)
2025-04-15T08:19:34.4925718Z       âœ“ should filter workflows by field: tags (AND operator) (90 ms)
2025-04-15T08:19:34.4925964Z       âœ“ should filter workflows by projectId (38 ms)
2025-04-15T08:19:34.4926198Z       âœ“ should filter workflows by parentFolderId (47 ms)
2025-04-15T08:19:34.4926483Z       âœ“ should return homeProject when filtering workflows by projectId (48 ms)
2025-04-15T08:19:34.4926680Z     select
2025-04-15T08:19:34.4926848Z       âœ“ should select workflow field: name (49 ms)
2025-04-15T08:19:34.4927108Z       âœ“ should select workflow field: active (36 ms)
2025-04-15T08:19:34.4927325Z       âœ“ should select workflow field: tags (60 ms)
2025-04-15T08:19:34.4927578Z       âœ“ should select workflow fields: createdAt and updatedAt (39 ms)
2025-04-15T08:19:34.4927829Z       âœ“ should select workflow field: versionId (50 ms)
2025-04-15T08:19:34.4928289Z       âœ“ should select workflow field: ownedBy (40 ms)
2025-04-15T08:19:34.4928525Z       âœ“ should select workflow field: parentFolder (59 ms)
2025-04-15T08:19:34.4928690Z     sortBy
2025-04-15T08:19:34.4928892Z       âœ“ should fail when trying to sort by non sortable column (56 ms)
2025-04-15T08:19:34.4929128Z       âœ“ should sort by createdAt column (42 ms)
2025-04-15T08:19:34.4929326Z       âœ“ should sort by name column (81 ms)
2025-04-15T08:19:34.4929526Z       âœ“ should sort by updatedAt column (53 ms)
2025-04-15T08:19:34.4929680Z     pagination
2025-04-15T08:19:34.4929887Z       âœ“ should fail when skip is provided without take (54 ms)
2025-04-15T08:19:34.4930120Z       âœ“ should handle skip with take parameter (59 ms)
2025-04-15T08:19:34.4930339Z       âœ“ should handle pagination with sorting (58 ms)
2025-04-15T08:19:34.4930561Z       âœ“ should handle pagination with filtering (64 ms)
2025-04-15T08:19:34.4930831Z       âœ“ should return empty array when pagination exceeds total count (54 ms)
2025-04-15T08:19:34.4931433Z       âœ“ should return all results when no pagination parameters are provided (51 ms)
2025-04-15T08:19:34.4931665Z   GET /workflows?includeFolders=true
2025-04-15T08:19:34.4931903Z     âœ“ should return zero workflows and folders if none exist (34 ms)
2025-04-15T08:19:34.4932143Z     âœ“ should return workflows and folders (61 ms)
2025-04-15T08:19:34.4932428Z     âœ“ should return workflows with scopes and folders when ?includeScopes=true (84 ms)
2025-04-15T08:19:34.4932646Z     filter
2025-04-15T08:19:34.4932840Z       âœ“ should filter workflows and folders by field: name (48 ms)
2025-04-15T08:19:34.4933115Z       âœ“ should filter workflows and folders by field: active (42 ms)
2025-04-15T08:19:34.4933405Z       âœ“ should filter workflows and folders by field: tags (AND operator) (61 ms)
2025-04-15T08:19:34.4933709Z       âœ“ should filter workflows by projectId (56 ms)
2025-04-15T08:19:34.4934026Z       âœ“ should filter workflows by parentFolderId and its descendants when filtering by name (47 ms)
2025-04-15T08:19:34.4934416Z       âœ“ should return homeProject when filtering workflows and folders by projectId (38 ms)
2025-04-15T08:19:34.4934639Z     sortBy
2025-04-15T08:19:34.4934840Z       âœ“ should fail when trying to sort by non sortable column (35 ms)
2025-04-15T08:19:34.4935078Z       âœ“ should sort by createdAt column (43 ms)
2025-04-15T08:19:34.4935273Z       âœ“ should sort by name column (37 ms)
2025-04-15T08:19:34.4935469Z       âœ“ should sort by updatedAt column (31 ms)
2025-04-15T08:19:34.4935622Z     pagination
2025-04-15T08:19:34.4935809Z       âœ“ should fail when skip is provided without take (34 ms)
2025-04-15T08:19:34.4936044Z       âœ“ should handle skip with take parameter (44 ms)
2025-04-15T08:19:34.4936271Z       âœ“ should handle pagination with sorting (47 ms)
2025-04-15T08:19:34.4936498Z       âœ“ should handle pagination with filtering (89 ms)
2025-04-15T08:19:34.4936768Z       âœ“ should return empty array when pagination exceeds total count (53 ms)
2025-04-15T08:19:34.4937139Z       âœ“ should return all results when no pagination parameters are provided (42 ms)
2025-04-15T08:19:34.4937364Z   PATCH /workflows/:workflowId
2025-04-15T08:19:34.4937593Z     âœ“ should create workflow history version when licensed (59 ms)
2025-04-15T08:19:34.4937880Z     âœ“ should not create workflow history version when not licensed (43 ms)
2025-04-15T08:19:34.4938162Z     âœ“ should activate workflow without changing version ID (46 ms)
2025-04-15T08:19:34.4938438Z     âœ“ should deactivate workflow without changing version ID (41 ms)
2025-04-15T08:19:34.4938667Z     âœ“ should update workflow meta (37 ms)
2025-04-15T08:19:34.4938865Z     âœ“ should move workflow to folder (58 ms)
2025-04-15T08:19:34.4939080Z     âœ“ should move workflow to project root (40 ms)
2025-04-15T08:19:34.4939416Z     âœ“ should fail if trying update workflow parent folder with a folder that does not belong to project (49 ms)
2025-04-15T08:19:34.4939687Z   POST /workflows/:workflowId/run
2025-04-15T08:19:34.4940037Z     âœ“ should prevent tampering if sharing is enabled (39 ms)
2025-04-15T08:19:34.4940311Z     âœ“ should skip tampering prevention if sharing is disabled (34 ms)
2025-04-15T08:19:34.4940530Z   DELETE /workflows/:workflowId
2025-04-15T08:19:34.4940729Z     âœ“ deletes a workflow owned by the user (34 ms)
2025-04-15T08:19:34.4941011Z     âœ“ deletes a workflow owned by the user, even if the user is just a member (30 ms)
2025-04-15T08:19:34.4941311Z     âœ“ does not delete a workflow that is not owned by the user (41 ms)
2025-04-15T08:19:34.4941579Z     âœ“ allows the owner to delete workflows they don't own (40 ms)
2025-04-15T08:19:34.4941717Z 
2025-04-15T08:19:34.4941838Z PASS src/events/__tests__/telemetry-event-relay.test.ts
2025-04-15T08:19:34.4942025Z   TelemetryEventRelay
2025-04-15T08:19:34.4942150Z     init
2025-04-15T08:19:34.4942388Z       âœ“ with diagnostics enabled, should init telemetry and register listeners (3 ms)
2025-04-15T08:19:34.4942739Z       âœ“ with diagnostics disabled, should neither init telemetry nor register listeners (1 ms)
2025-04-15T08:19:34.4943066Z     project events
2025-04-15T08:19:34.4943263Z       âœ“ should track on `team-project-updated` event (1 ms)
2025-04-15T08:19:34.4943502Z       âœ“ should track on `team-project-deleted` event
2025-04-15T08:19:34.4943721Z       âœ“ should track on `team-project-created` event
2025-04-15T08:19:34.4943886Z     source control events
2025-04-15T08:19:34.4944119Z       âœ“ should track on `source-control-settings-updated` event (1 ms)
2025-04-15T08:19:34.4944396Z       âœ“ should track on `source-control-user-started-pull-ui` event
2025-04-15T08:19:34.4944672Z       âœ“ should track on `source-control-user-finished-pull-ui` event
2025-04-15T08:19:34.4944958Z       âœ“ should track on `source-control-user-pulled-api` event (1 ms)
2025-04-15T08:19:34.4945233Z       âœ“ should track on `source-control-user-started-push-ui` event
2025-04-15T08:19:34.4945508Z       âœ“ should track on `source-control-user-finished-push-ui` event
2025-04-15T08:19:34.4945697Z     license events
2025-04-15T08:19:34.4945902Z       âœ“ should track on `license-renewal-attempted` event
2025-04-15T08:19:34.4946071Z     variable events
2025-04-15T08:19:34.4946247Z       âœ“ should track on `variable-created` event
2025-04-15T08:19:34.4946411Z     external secrets events
2025-04-15T08:19:34.4946648Z       âœ“ should track on `external-secrets-provider-settings-saved` event
2025-04-15T08:19:34.4946851Z     public API events
2025-04-15T08:19:34.4947409Z       âœ“ should track on `public-api-invoked` event
2025-04-15T08:19:34.4947807Z       âœ“ should track on `public-api-key-created` event (1 ms)
2025-04-15T08:19:34.4948060Z       âœ“ should track on `public-api-key-deleted` event
2025-04-15T08:19:34.4948244Z     community package events
2025-04-15T08:19:34.4948462Z       âœ“ should track on `community-package-installed` event
2025-04-15T08:19:34.4948711Z       âœ“ should track on `community-package-updated` event
2025-04-15T08:19:34.4948975Z       âœ“ should track on `community-package-deleted` event (1 ms)
2025-04-15T08:19:34.4949186Z     credentials events
2025-04-15T08:19:34.4949389Z       âœ“ should track on `credentials-created` event (3 ms)
2025-04-15T08:19:34.4949625Z       âœ“ should track on `credentials-shared` event
2025-04-15T08:19:34.4949853Z       âœ“ should track on `credentials-updated` event
2025-04-15T08:19:34.4950083Z       âœ“ should track on `credentials-deleted` event (1 ms)
2025-04-15T08:19:34.4950252Z     LDAP events
2025-04-15T08:19:34.4950438Z       âœ“ should track on `ldap-general-sync-finished` event
2025-04-15T08:19:34.4950665Z       âœ“ should track on `ldap-settings-updated` event
2025-04-15T08:19:34.4950891Z       âœ“ should track on `ldap-login-sync-failed` event
2025-04-15T08:19:34.4951159Z       âœ“ should track on `login-failed-due-to-ldap-disabled` event (1 ms)
2025-04-15T08:19:34.4951357Z     workflow events
2025-04-15T08:19:34.4951540Z       âœ“ should track on `workflow-created` event (1 ms)
2025-04-15T08:19:34.4951766Z       âœ“ should track on `workflow-deleted` event (1 ms)
2025-04-15T08:19:34.4952193Z       âœ“ should track on `workflow-post-execute` event (68 ms)
2025-04-15T08:19:34.4952430Z       âœ“ should track on `workflow-saved` event (6 ms)
2025-04-15T08:19:34.4952666Z       âœ“ should track on `workflow-sharing-updated` event
2025-04-15T08:19:34.4952833Z     user events
2025-04-15T08:19:34.4952989Z       âœ“ should track on `user-updated` event
2025-04-15T08:19:34.4953185Z       âœ“ should track on `user-deleted` event
2025-04-15T08:19:34.4953375Z       âœ“ should track on `user-invited` event
2025-04-15T08:19:34.4953616Z       âœ“ should track on `user-signed-up` event
2025-04-15T08:19:34.4953887Z       âœ“ should track on `user-submitted-personalization-survey` event (1 ms)
2025-04-15T08:19:34.4954148Z       âœ“ should track on `user-changed-role` event
2025-04-15T08:19:34.4954358Z       âœ“ should track on `user-retrieved-user` event
2025-04-15T08:19:34.4954598Z       âœ“ should track on `user-retrieved-all-users` event (1 ms)
2025-04-15T08:19:34.4954778Z     lifecycle events
2025-04-15T08:19:34.4954978Z       âœ“ should track on `server-started` event (2 ms)
2025-04-15T08:19:34.4955304Z       âœ“ should track on `session-started` event
2025-04-15T08:19:34.4955513Z       âœ“ should track on `instance-stopped` event
2025-04-15T08:19:34.4955731Z       âœ“ should track on `instance-owner-setup` event
2025-04-15T08:19:34.4955903Z     workflow execution events
2025-04-15T08:19:34.4956135Z       âœ“ should track on `first-production-workflow-succeeded` event
2025-04-15T08:19:34.4956408Z       âœ“ should track on `first-workflow-data-loaded` event (1 ms)
2025-04-15T08:19:34.4956586Z     email events
2025-04-15T08:19:34.4956750Z       âœ“ should track on `email-failed` event
2025-04-15T08:19:34.4956909Z     Community+ registered
2025-04-15T08:19:34.4957193Z       âœ“ should track `license-community-plus-registered` event
2025-04-15T08:19:34.4957395Z     workflow post execute events
2025-04-15T08:19:34.4957585Z       âœ“ should not track when workflow has no id
2025-04-15T08:19:34.4957806Z       âœ“ should track successful workflow execution (2 ms)
2025-04-15T08:19:34.4958098Z       âœ“ should call telemetry.track when manual node execution finished (1 ms)
2025-04-15T08:19:34.4958469Z       âœ“ should call telemetry.track when manual node execution finished with canceled error message (1 ms)
2025-04-15T08:19:34.4958838Z       âœ“ should call telemetry.track when manual workflow execution finished (16 ms)
2025-04-15T08:19:34.4959264Z       âœ“ should call telemetry.track when manual node execution finished with is_managed and credential_type properties (1 ms)
2025-04-15T08:19:34.4959648Z       âœ“ should call telemetry.track when user ran out of free AI credits (2 ms)
2025-04-15T08:19:34.4959798Z 
2025-04-15T08:19:34.4959917Z PASS src/ldap.ee/__tests__/ldap.service.test.ts
2025-04-15T08:19:34.4960093Z   LdapService
2025-04-15T08:19:34.4960209Z     init()
2025-04-15T08:19:34.4960379Z       âœ“ should load the LDAP configuration (3 ms)
2025-04-15T08:19:34.4960692Z       âœ“ should set expected configuration variables from LDAP config if LDAP is enabled (1 ms)
2025-04-15T08:19:34.4961086Z       âœ“ should set expected configuration variables from LDAP config if LDAP is disabled (1 ms)
2025-04-15T08:19:34.4961440Z       âœ“ should show logger warning if authentication method is not ldap or email (1 ms)
2025-04-15T08:19:34.4961743Z       âœ“ should schedule syncing if config has enabled synchronization
2025-04-15T08:19:34.4962118Z       âœ“ should throw an error if config has enabled synchronization but no synchronizationInterval is set (24 ms)
2025-04-15T08:19:34.4962374Z     loadConfig()
2025-04-15T08:19:34.4962595Z       âœ“ should retrieve the LDAP configuration from the settings repository
2025-04-15T08:19:34.4962914Z       âœ“ should throw an expected error if the LDAP configuration is not found (1 ms)
2025-04-15T08:19:34.4963213Z       âœ“ should decipher the LDAP configuration admin password (2 ms)
2025-04-15T08:19:34.4963474Z       âœ“ should return the expected LDAP configuration (1 ms)
2025-04-15T08:19:34.4963652Z     updateConfig()
2025-04-15T08:19:34.4963887Z       âœ“ should throw expected error if the LDAP configuration is invalid (2 ms)
2025-04-15T08:19:34.4964372Z       âœ“ should throw expected error if login is enabled and the current authentication method is "saml" (1 ms)
2025-04-15T08:19:34.4964682Z       âœ“ should encrypt the binding admin password (3 ms)
2025-04-15T08:19:34.4964980Z       âœ“ should delete all ldap identities if login is disabled and ldap users exist (2 ms)
2025-04-15T08:19:34.4965358Z       âœ“ should not delete ldap identities if login is disabled and there are no ldap identities (1 ms)
2025-04-15T08:19:34.4965690Z       âœ“ should update the LDAP configuration in the settings repository
2025-04-15T08:19:34.4965959Z       âœ“ should update the LDAP login label in the config (1 ms)
2025-04-15T08:19:34.4966140Z     setConfig()
2025-04-15T08:19:34.4966395Z       âœ“ should stop synchronization if the timer is running and the config is disabled
2025-04-15T08:19:34.4966766Z       âœ“ should schedule synchronization if the timer is not running and the config is enabled (1 ms)
2025-04-15T08:19:34.4967350Z       âœ“ should throw an error if the timer is not running and the config is enabled but the synchronizationInterval is not set
2025-04-15T08:19:34.4967756Z       âœ“ should restart synchronization if the timer is running and the config is enabled (1 ms)
2025-04-15T08:19:34.4967993Z     searchWithAdminBinding()
2025-04-15T08:19:34.4968274Z       âœ“ should bind admin client
2025-04-15T08:19:34.4968507Z       âœ“ should call client search with expected parameters (1 ms)
2025-04-15T08:19:34.4968809Z       âœ“ should call client search with expected parameters when searchPageSize is 0
2025-04-15T08:19:34.4969066Z       âœ“ should unbind client after search (1 ms)
2025-04-15T08:19:34.4969274Z       âœ“ should return expected search entries
2025-04-15T08:19:34.4969426Z     validUser()
2025-04-15T08:19:34.4969650Z       âœ“ should throw expected error if no configuration has been set (1 ms)
2025-04-15T08:19:34.4969984Z       âœ“ should bind the ldap client with the expected distinguished name and password
2025-04-15T08:19:34.4970287Z       âœ“ should throw expected error if binding fails
2025-04-15T08:19:34.4970495Z       âœ“ should unbind the client binding
2025-04-15T08:19:34.4970680Z     findAndAuthenticateLdapUser()
2025-04-15T08:19:34.4970881Z       âœ“ should search for expected admin login ID
2025-04-15T08:19:34.4971131Z       âœ“ should emit expected error if admin search fails (1 ms)
2025-04-15T08:19:34.4971370Z       âœ“ should return undefined if no user is found
2025-04-15T08:19:34.4971573Z       âœ“ should validate found user
2025-04-15T08:19:34.4971801Z       âœ“ should validate last user if more than one is found (2 ms)
2025-04-15T08:19:34.4972045Z       âœ“ should return undefined if invalid user is found
2025-04-15T08:19:34.4972274Z       âœ“ should resolve binary attributes for found user
2025-04-15T08:19:34.4972492Z       âœ“ should return found user (1 ms)
2025-04-15T08:19:34.4972642Z     testConnection()
2025-04-15T08:19:34.4972845Z       âœ“ should throw expected error if init() is not called first
2025-04-15T08:19:34.4973180Z       âœ“ should create a new client without TLS if connectionSecurity is set to "none" (1 ms)
2025-04-15T08:19:34.4973665Z       âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and allowing unauthorized certificates
2025-04-15T08:19:34.4974157Z       âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and not allowing unauthorized certificates
2025-04-15T08:19:34.4974582Z       âœ“ should create a new client and start TLS if connectionSecurity is set to "startTls"
2025-04-15T08:19:34.4974914Z       âœ“ should not create a new client if one has already been created (5 ms)
2025-04-15T08:19:34.4975116Z     runSync()
2025-04-15T08:19:34.4975324Z       âœ“ should search for users with expected parameters (1 ms)
2025-04-15T08:19:34.4975586Z       âœ“ should resolve binary attributes for users (2 ms)
2025-04-15T08:19:34.4975823Z       âœ“ should throw expected error if search fails (1 ms)
2025-04-15T08:19:34.4976069Z       âœ“ should process expected users if mode is "live" (1 ms)
2025-04-15T08:19:34.4976470Z       âœ“ should sync expected LDAP data when no errors (1 ms)
2025-04-15T08:19:34.4976750Z       âœ“ should sync expected LDAP data when users fail to process (1 ms)
2025-04-15T08:19:34.4977094Z       âœ“ should emit expected event if synchronization is enabled (3 ms)
2025-04-15T08:19:34.4977382Z       âœ“ should emit expected event if synchronization is disabled (1 ms)
2025-04-15T08:19:34.4977672Z       âœ“ should emit expected event with error message if processUsers fails
2025-04-15T08:19:34.4977870Z     stopSync()
2025-04-15T08:19:34.4978029Z       âœ“ should clear the scheduled timer
2025-04-15T08:19:34.4978137Z 
2025-04-15T08:19:34.4978306Z PASS test/integration/credentials/credentials.api.ee.test.ts (6.406 s)
2025-04-15T08:19:34.4978522Z   POST /credentials
2025-04-15T08:19:34.4978713Z     âœ“ project viewers cannot create credentials (89 ms)
2025-04-15T08:19:34.4978886Z   GET /credentials
2025-04-15T08:19:34.4979054Z     âœ“ should return all creds for owner (61 ms)
2025-04-15T08:19:34.4979398Z     âœ“ should return only relevant creds for member (45 ms)
2025-04-15T08:19:34.4979736Z     âœ“ should show credentials that the user has access to through a team project they are part of (51 ms)
2025-04-15T08:19:34.4980001Z   GET /credentials/for-workflow
2025-04-15T08:19:34.4980146Z     for team projects
2025-04-15T08:19:34.4980513Z       âœ“ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "member" (57 ms)
2025-04-15T08:19:34.4981024Z       âœ“ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "member" (63 ms)
2025-04-15T08:19:34.4981529Z       âœ“ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "owner" (74 ms)
2025-04-15T08:19:34.4982026Z       âœ“ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "owner" (75 ms)
2025-04-15T08:19:34.4982330Z     for personal projects
2025-04-15T08:19:34.4982649Z       âœ“ it returns only personal credentials for a members, if "projectId" is used as the query parameter (111 ms)
2025-04-15T08:19:34.4983080Z       âœ“ it returns only personal credentials for a members, if "workflowId" is used as the query parameter (88 ms)
2025-04-15T08:19:34.4983647Z       âœ“ if the actor is a global owner and the workflow has not been shared with them, it returns all credentials of all projects the workflow is part of (109 ms)
2025-04-15T08:19:34.4984226Z       âœ“ if the actor is a global owner and the workflow has been shared with them, it returns all credentials of all projects the workflow is part of (96 ms)
2025-04-15T08:19:34.4984693Z       âœ“ if the projectId is passed by a global owner it will return all credentials in that project (90 ms)
2025-04-15T08:19:34.4985196Z       âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using "workflowId" as the query parameter (67 ms)
2025-04-15T08:19:34.4985777Z       âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using "projectId" as the query parameter (47 ms)
2025-04-15T08:19:34.4986088Z   GET /credentials/:id
2025-04-15T08:19:34.4986272Z     âœ“ project viewers can view credentials (33 ms)
2025-04-15T08:19:34.4986505Z     âœ“ should retrieve owned cred for owner (50 ms)
2025-04-15T08:19:34.4986758Z     âœ“ should redact the data when `includeData:true` is passed (49 ms)
2025-04-15T08:19:34.4987075Z     âœ“ should retrieve non-owned cred for owner (96 ms)
2025-04-15T08:19:34.4987306Z     âœ“ should retrieve owned cred for member (63 ms)
2025-04-15T08:19:34.4987548Z     âœ“ should not retrieve non-owned cred for member (103 ms)
2025-04-15T08:19:34.4987780Z     âœ“ should return 404 if cred not found (52 ms)
2025-04-15T08:19:34.4987950Z   PATCH /credentials/:id
2025-04-15T08:19:34.4988152Z     âœ“ project viewer cannot update credentials (61 ms)
2025-04-15T08:19:34.4988441Z   PUT /credentials/:id/share
2025-04-15T08:19:34.4988736Z     âœ“ should share the credential with the provided userIds and unshare it for missing ones (96 ms)
2025-04-15T08:19:34.4989064Z     âœ“ should share the credential with the provided userIds (56 ms)
2025-04-15T08:19:34.4989327Z     âœ“ should respond 403 for non-existing credentials (40 ms)
2025-04-15T08:19:34.4989615Z     âœ“ should respond 403 for non-owned credentials for shared members (77 ms)
2025-04-15T08:19:34.4989966Z     âœ“ should respond 403 for non-owned credentials for non-shared members sharing with self (64 ms)
2025-04-15T08:19:34.4990331Z     âœ“ should respond 403 for non-owned credentials for non-shared members sharing (73 ms)
2025-04-15T08:19:34.4990644Z     âœ“ should respond 200 for non-owned credentials for owners (46 ms)
2025-04-15T08:19:34.4990885Z     âœ“ should not ignore pending sharee (46 ms)
2025-04-15T08:19:34.4991093Z     âœ“ should ignore non-existing sharee (41 ms)
2025-04-15T08:19:34.4991316Z     âœ“ should ignore sharing with owner project (45 ms)
2025-04-15T08:19:34.4991689Z     âœ“ should ignore sharing with project that already has it shared (73 ms)
2025-04-15T08:19:34.4991974Z     âœ“ should respond 400 if invalid payload is provided (71 ms)
2025-04-15T08:19:34.4992200Z     âœ“ should unshare the credential (51 ms)
2025-04-15T08:19:34.4992491Z     âœ“ should not call internal hooks listener for email sent if emailing is disabled (53 ms)
2025-04-15T08:19:34.4992885Z     âœ“ member should be able to share from personal project to team project that member has access to (47 ms)
2025-04-15T08:19:34.4993246Z     âœ“ member should be able to share from team project to personal project (61 ms)
2025-04-15T08:19:34.4993658Z     âœ“ member should be able to share from team project to team project that member has access to (57 ms)
2025-04-15T08:19:34.4994018Z     âœ“ admins should be able to share from any team project to any team project  (62 ms)
2025-04-15T08:19:34.4994381Z     âœ“ admins should be able to share from any team project to any user's personal project  (50 ms)
2025-04-15T08:19:34.4994753Z     âœ“ admins should be able to share from any personal project to any team project  (73 ms)
2025-04-15T08:19:34.4994985Z   PUT /:credentialId/transfer
2025-04-15T08:19:34.4995185Z     âœ“ cannot transfer into the same project (64 ms)
2025-04-15T08:19:34.4995422Z     âœ“ cannot transfer somebody elses credential (57 ms)
2025-04-15T08:19:34.4995705Z     âœ“ cannot transfer if you're not a member of the destination project (47 ms)
2025-04-15T08:19:34.4995979Z     âœ“ project:editors cannot transfer credentials (61 ms)
2025-04-15T08:19:34.4996213Z     âœ“ project:viewers cannot transfer credentials (60 ms)
2025-04-15T08:19:34.4996494Z     âœ“ owners can always transfer from a team project to a team project (61 ms)
2025-04-15T08:19:34.4996816Z     âœ“ owners can always transfer from a team project to a personal project (66 ms)
2025-04-15T08:19:34.4997183Z     âœ“ owners can always transfer from a personal project to a team project (60 ms)
2025-04-15T08:19:34.4997489Z     âœ“ admins can always transfer from a team project to a team project (48 ms)
2025-04-15T08:19:34.4997912Z     âœ“ admins can always transfer from a team project to a personal project (39 ms)
2025-04-15T08:19:34.4998228Z     âœ“ admins can always transfer from a personal project to a team project (47 ms)
2025-04-15T08:19:34.4998385Z 
2025-04-15T08:19:34.4998553Z PASS src/evaluation.ee/test-runner/__tests__/test-runner.service.ee.test.ts
2025-04-15T08:19:34.4998772Z   TestRunnerService
2025-04-15T08:19:34.4998973Z     âœ“ should create an instance of TestRunnerService (3 ms)
2025-04-15T08:19:34.4999238Z     âœ“ should create and run test cases from past executions (6 ms)
2025-04-15T08:19:34.4999527Z     âœ“ should run both workflow under test and evaluation workflow (14 ms)
2025-04-15T08:19:34.4999805Z     âœ“ should properly count passed and failed executions (5 ms)
2025-04-15T08:19:34.5000057Z     âœ“ should properly count failed test executions (3 ms)
2025-04-15T08:19:34.5000291Z     âœ“ should properly count failed evaluations (3 ms)
2025-04-15T08:19:34.5000720Z     âœ“ should specify correct start nodes when running workflow under test (6 ms)
2025-04-15T08:19:34.5000997Z     âœ“ should properly choose trigger and start nodes (2 ms)
2025-04-15T08:19:34.5001243Z     âœ“ should properly choose trigger and start nodes 2
2025-04-15T08:19:34.5001493Z     âœ“ should properly run test when nodes were renamed (3 ms)
2025-04-15T08:19:34.5001737Z     âœ“ should properly choose trigger when it was renamed
2025-04-15T08:19:34.5002018Z     âœ“ should create proper execution data for queue mode in runTestCase (1 ms)
2025-04-15T08:19:34.5002341Z     âœ“ should create proper execution data for regular mode in runTestCase (6 ms)
2025-04-15T08:19:34.5002676Z     âœ“ should run workflow with metrics defined in the middle of the workflow (4 ms)
2025-04-15T08:19:34.5003009Z     âœ“ should properly override metrics from earlier nodes with later ones (3 ms)
2025-04-15T08:19:34.5003223Z     Test Run cancellation
2025-04-15T08:19:34.5003395Z       âœ“ should cancel test run (5 ms)
2025-04-15T08:19:34.5003512Z 
2025-04-15T08:19:34.5003644Z PASS test/integration/project.api.test.ts
2025-04-15T08:19:34.5003806Z   GET /projects/
2025-04-15T08:19:34.5004065Z     âœ“ member should get all personal projects and team projects they are apart of (53 ms)
2025-04-15T08:19:34.5004341Z     âœ“ owner should get all projects (30 ms)
2025-04-15T08:19:34.5004495Z   GET /projects/count
2025-04-15T08:19:34.5004679Z     âœ“ should return correct number of projects (20 ms)
2025-04-15T08:19:34.5004859Z   GET /projects/my-projects
2025-04-15T08:19:34.5005070Z     âœ“ member should get all projects they are apart of (35 ms)
2025-04-15T08:19:34.5005327Z     âœ“ owner should get all projects they are apart of (37 ms)
2025-04-15T08:19:34.5005503Z   GET /projects/personal
2025-04-15T08:19:34.5005699Z     âœ“ should return the user's personal project (28 ms)
2025-04-15T08:19:34.5005965Z     âœ“ should return 404 if user doesn't have a personal project (29 ms)
2025-04-15T08:19:34.5006158Z   POST /projects/
2025-04-15T08:19:34.5006335Z     âœ“ should create a team project (17 ms)
2025-04-15T08:19:34.5006580Z     âœ“ should allow to create a team projects if below the quota (19 ms)
2025-04-15T08:19:34.5006848Z     âœ“ should fail to create a team project if at quota (40 ms)
2025-04-15T08:19:34.5007142Z     âœ“ should fail to create a team project if above the quota (32 ms)
2025-04-15T08:19:34.5007337Z   PATCH /projects/:projectId
2025-04-15T08:19:34.5007531Z     âœ“ should update a team project name (31 ms)
2025-04-15T08:19:34.5007773Z     âœ“ should not allow viewers to edit team project name (16 ms)
2025-04-15T08:19:34.5008043Z     âœ“ should not allow owners to edit personal project name (18 ms)
2025-04-15T08:19:34.5008749Z     member management
2025-04-15T08:19:34.5008950Z       âœ“ should add or remove users from a project (66 ms)
2025-04-15T08:19:34.5009266Z       âœ“ `project:viewer`s should not be able to add, update or remove users from a project (21 ms)
2025-04-15T08:19:34.5009641Z       âœ“ `project:editor`s should not be able to add, update or remove users from a project (25 ms)
2025-04-15T08:19:34.5010313Z       âœ“ should not be able to add a user with the role project:viewer if it's not licensed (75 ms)
2025-04-15T08:19:34.5010664Z       âœ“ should not be able to add a user with the role project:editor if it's not licensed (35 ms)
2025-04-15T08:19:34.5011044Z       âœ“ should not edit a relation of a project when changing a user's role to an unlicensed role (33 ms)
2025-04-15T08:19:34.5011505Z       âœ“ should  edit a relation of a project when changing a user's role to an licensed role but unlicensed roles are present (30 ms)
2025-04-15T08:19:34.5011872Z       âœ“ should not add or remove users from a personal project (17 ms)
2025-04-15T08:19:34.5012062Z   GET /project/:projectId
2025-04-15T08:19:34.5012257Z     âœ“ should get project details and relations (25 ms)
2025-04-15T08:19:34.5012430Z   DELETE /project/:projectId
2025-04-15T08:19:34.5012638Z     âœ“ allows the project:owner to delete a project (56 ms)
2025-04-15T08:19:34.5012943Z     âœ“ allows the instance owner to delete a team project their are not related to (23 ms)
2025-04-15T08:19:34.5013405Z     âœ“ does not allow instance members to delete their personal project (13 ms)
2025-04-15T08:19:34.5013758Z     âœ“ does not allow instance owners to delete their personal projects (12 ms)
2025-04-15T08:19:34.5014078Z     âœ“ does not allow users with the role project:editor to delete a project (20 ms)
2025-04-15T08:19:34.5014401Z     âœ“ does not allow users with the role project:viewer to delete a project (14 ms)
2025-04-15T08:19:34.5014771Z     âœ“ deletes all workflows and credentials it owns as well as the sharings into other projects (75 ms)
2025-04-15T08:19:34.5015151Z     âœ“ unshares all workflows and credentials that were shared with the project (66 ms)
2025-04-15T08:19:34.5015423Z     âœ“ deletes the project relations (43 ms)
2025-04-15T08:19:34.5015668Z     âœ“ should fail if the project to delete does not exist (11 ms)
2025-04-15T08:19:34.5016003Z     âœ“ should fail to delete if project to migrate to and the project to delete are the same (15 ms)
2025-04-15T08:19:34.5016521Z     âœ“ does not migrate credentials and projects if the user does not have the permissions to create workflows or credentials in the target project (16 ms)
2025-04-15T08:19:34.5017084Z     âœ“ migrates folders, workflows and credentials to another project if `migrateToProject` is passed (77 ms)
2025-04-15T08:19:34.5017508Z     âœ“ should upgrade a projects role if the workflow/credential is already shared with it (65 ms)
2025-04-15T08:19:34.5017704Z 
2025-04-15T08:19:34.5017857Z PASS test/integration/folder/folder.controller.test.ts (5.979 s)
2025-04-15T08:19:34.5018081Z   POST /projects/:projectId/folders
2025-04-15T08:19:34.5018323Z     âœ“ should not create folder when project does not exist (63 ms)
2025-04-15T08:19:34.5018581Z     âœ“ should not create folder when name is empty (34 ms)
2025-04-15T08:19:34.5018876Z     âœ“ should not create folder if user has project:viewer role in team project (36 ms)
2025-04-15T08:19:34.5019213Z     âœ“ should not allow creating folder in another user's personal project (27 ms)
2025-04-15T08:19:34.5019555Z     âœ“ should create folder if user has project:editor role in team project (43 ms)
2025-04-15T08:19:34.5019876Z     âœ“ should create folder if user has project:admin role in team project (45 ms)
2025-04-15T08:19:34.5020220Z     âœ“ should not allow creating folder with parent that exists in another project (51 ms)
2025-04-15T08:19:34.5020526Z     âœ“ should create folder in root of specified project (42 ms)
2025-04-15T08:19:34.5020822Z     âœ“ should create folder in specified project within another folder (31 ms)
2025-04-15T08:19:34.5021090Z     âœ“ should create folder in personal project (38 ms)
2025-04-15T08:19:34.5021293Z   GET /projects/:projectId/folders/:folderId/tree
2025-04-15T08:19:34.5021549Z     âœ“ should not get folder tree when project does not exist (21 ms)
2025-04-15T08:19:34.5021823Z     âœ“ should not get folder tree when folder does not exist (33 ms)
2025-04-15T08:19:34.5022108Z     âœ“ should not get folder tree if user has no access to project (54 ms)
2025-04-15T08:19:34.5022544Z     âœ“ should not allow getting folder tree from another user's personal project (58 ms)
2025-04-15T08:19:34.5022819Z     âœ“ should get nested folder structure (35 ms)
2025-04-15T08:19:34.5023012Z   PATCH /projects/:projectId/folders/:folderId
2025-04-15T08:19:34.5023261Z     âœ“ should not update folder when project does not exist (24 ms)
2025-04-15T08:19:34.5023532Z     âœ“ should not update folder when folder does not exist (24 ms)
2025-04-15T08:19:34.5023783Z     âœ“ should not update folder when name is empty (41 ms)
2025-04-15T08:19:34.5024116Z     âœ“ should not update folder if user has project:viewer role in team project (23 ms)
2025-04-15T08:19:34.5024444Z     âœ“ should not allow updating folder in another user's personal project (51 ms)
2025-04-15T08:19:34.5024764Z     âœ“ should update folder if user has project:editor role in team project (53 ms)
2025-04-15T08:19:34.5025078Z     âœ“ should update folder if user has project:admin role in team project (33 ms)
2025-04-15T08:19:34.5025447Z     âœ“ should update folder in personal project (30 ms)
2025-04-15T08:19:34.5025651Z     âœ“ should update folder tags (35 ms)
2025-04-15T08:19:34.5025879Z     âœ“ should replace existing folder tags with new ones (26 ms)
2025-04-15T08:19:34.5026120Z     âœ“ should update folder parent folder ID (28 ms)
2025-04-15T08:19:34.5026398Z     âœ“ should not update folder parent when target folder does not exist (25 ms)
2025-04-15T08:19:34.5026726Z     âœ“ should not update folder parent when target folder is in another project (36 ms)
2025-04-15T08:19:34.5027109Z     âœ“ should allow moving a folder to root level by setting parentFolderId to "0" (43 ms)
2025-04-15T08:19:34.5027466Z     âœ“ should not update folder parent if user has project:viewer role in team project (52 ms)
2025-04-15T08:19:34.5027842Z     âœ“ should update folder parent folder if user has project:editor role in team project (37 ms)
2025-04-15T08:19:34.5028158Z     âœ“ should not allow setting a folder as its own parent (32 ms)
2025-04-15T08:19:34.5028383Z   DELETE /projects/:projectId/folders/:folderId
2025-04-15T08:19:34.5028626Z     âœ“ should not delete folder when project does not exist (17 ms)
2025-04-15T08:19:34.5028889Z     âœ“ should not delete folder when folder does not exist (43 ms)
2025-04-15T08:19:34.5029190Z     âœ“ should not delete folder if user has project:viewer role in team project (23 ms)
2025-04-15T08:19:34.5029511Z     âœ“ should not allow deleting folder in another user's personal project (30 ms)
2025-04-15T08:19:34.5029828Z     âœ“ should delete folder if user has project:editor role in team project (60 ms)
2025-04-15T08:19:34.5030150Z     âœ“ should delete folder if user has project:admin role in team project (31 ms)
2025-04-15T08:19:34.5030415Z     âœ“ should delete folder in personal project (21 ms)
2025-04-15T08:19:34.5030771Z     âœ“ should delete folder, all child folders, and contained workflows when no transfer folder is specified (48 ms)
2025-04-15T08:19:34.5031159Z     âœ“ should transfer folder contents when transferToFolderId is specified (56 ms)
2025-04-15T08:19:34.5031503Z     âœ“ should not transfer folder contents when transfer folder does not exist (54 ms)
2025-04-15T08:19:34.5031855Z     âœ“ should not transfer folder contents when transfer folder is in another project (54 ms)
2025-04-15T08:19:34.5032202Z     âœ“ should not allow transferring contents to the same folder being deleted (51 ms)
2025-04-15T08:19:34.5032554Z     âœ“ should transfer folder contents to project root when transferToFolderId is "0" (56 ms)
2025-04-15T08:19:34.5032800Z   GET /projects/:projectId/folders
2025-04-15T08:19:34.5033027Z     âœ“ should not list folders when project does not exist (19 ms)
2025-04-15T08:19:34.5033307Z     âœ“ should not list folders if user has no access to project (22 ms)
2025-04-15T08:19:34.5033619Z     âœ“ should not allow listing folders from another user's personal project (22 ms)
2025-04-15T08:19:34.5033940Z     âœ“ should list folders if user has project:viewer role in team project (24 ms)
2025-04-15T08:19:34.5034317Z     âœ“ should list folders from personal project (28 ms)
2025-04-15T08:19:34.5034538Z     âœ“ should filter folders by name (28 ms)
2025-04-15T08:19:34.5034751Z     âœ“ should filter folders by parent folder ID (35 ms)
2025-04-15T08:19:34.5035008Z     âœ“ should filter root-level folders when parentFolderId=0 (39 ms)
2025-04-15T08:19:34.5035239Z     âœ“ should filter folders by tag (57 ms)
2025-04-15T08:19:34.5035478Z     âœ“ should filter folders by multiple tags (AND operator) (40 ms)
2025-04-15T08:19:34.5035755Z     âœ“ should filter folders by excludeFolderIdAndDescendants (37 ms)
2025-04-15T08:19:34.5036026Z     âœ“ should apply pagination with take parameter (41 ms)
2025-04-15T08:19:34.5036265Z     âœ“ should apply pagination with skip parameter (34 ms)
2025-04-15T08:19:34.5036509Z     âœ“ should apply combined skip and take parameters (39 ms)
2025-04-15T08:19:34.5036747Z     âœ“ should sort folders by name ascending (48 ms)
2025-04-15T08:19:34.5037015Z     âœ“ should sort folders by name descending (29 ms)
2025-04-15T08:19:34.5037337Z     âœ“ should sort folders by updatedAt (31 ms)
2025-04-15T08:19:34.5037565Z     âœ“ should select specific fields when requested (27 ms)
2025-04-15T08:19:34.5037822Z     âœ“ should combine multiple query parameters correctly (50 ms)
2025-04-15T08:19:34.5038093Z     âœ“ should filter by projectId automatically based on URL (26 ms)
2025-04-15T08:19:34.5038306Z   GET /projects/:projectId/folders/content
2025-04-15T08:19:34.5038543Z     âœ“ should not list folders when project does not exist (29 ms)
2025-04-15T08:19:34.5038833Z     âœ“ should not return folder content if user has no access to project (26 ms)
2025-04-15T08:19:34.5039156Z     âœ“ should not return folder content if folder does not belong to project (26 ms)
2025-04-15T08:19:34.5039497Z     âœ“ should return folder content if user has project:viewer role in team project (37 ms)
2025-04-15T08:19:34.5039755Z     âœ“ should return folder content (39 ms)
2025-04-15T08:19:34.5039861Z 
2025-04-15T08:19:34.5039951Z PASS test/integration/users.api.test.ts
2025-04-15T08:19:34.5040120Z   GET /users
2025-04-15T08:19:34.5040273Z     âœ“ should return all users (34 ms)
2025-04-15T08:19:34.5040424Z     list query options
2025-04-15T08:19:34.5040545Z       filter
2025-04-15T08:19:34.5040713Z         âœ“ should filter users by field: email (25 ms)
2025-04-15T08:19:34.5040939Z         âœ“ should filter users by field: firstName (19 ms)
2025-04-15T08:19:34.5041171Z         âœ“ should filter users by field: lastName (12 ms)
2025-04-15T08:19:34.5041410Z         âœ“ should filter users by computed field: isOwner (8 ms)
2025-04-15T08:19:34.5041581Z       select
2025-04-15T08:19:34.5041737Z         âœ“ should select user field: id (4 ms)
2025-04-15T08:19:34.5041938Z         âœ“ should select user field: email (3 ms)
2025-04-15T08:19:34.5042149Z         âœ“ should select user field: firstName (3 ms)
2025-04-15T08:19:34.5042365Z         âœ“ should select user field: lastName (4 ms)
2025-04-15T08:19:34.5042519Z       take
2025-04-15T08:19:34.5042705Z         âœ“ should return n users or less, without skip (9 ms)
2025-04-15T08:19:34.5042955Z         âœ“ should return n users or less, with skip (6 ms)
2025-04-15T08:19:34.5043123Z       auxiliary fields
2025-04-15T08:19:34.5043341Z         âœ“ should support options that require auxiliary fields (3 ms)
2025-04-15T08:19:34.5043549Z   GET /users/:id/password-reset-link
2025-04-15T08:19:34.5043832Z     âœ“ should allow owners to generate password reset links for admins and members (10 ms)
2025-04-15T08:19:34.5044226Z     âœ“ should allow admins to generate password reset links for admins and members, but not owners (27 ms)
2025-04-15T08:19:34.5044587Z     âœ“ should not allow members to generate password reset links for anyone (9 ms)
2025-04-15T08:19:34.5044797Z   DELETE /users/:id
2025-04-15T08:19:34.5044975Z     âœ“ should delete user and their resources (61 ms)
2025-04-15T08:19:34.5045291Z     âœ“ should delete user and team relations and transfer their personal resources to user (75 ms)
2025-04-15T08:19:34.5045656Z     âœ“ should delete user and transfer their personal resources to team project (31 ms)
2025-04-15T08:19:34.5046019Z     âœ“ should fail to delete self (3 ms)
2025-04-15T08:19:34.5046232Z     âœ“ should fail to delete the instance owner (11 ms)
2025-04-15T08:19:34.5046468Z     âœ“ should fail to delete a user that does not exist (3 ms)
2025-04-15T08:19:34.5046729Z     âœ“ should fail to transfer to a project that does not exist (7 ms)
2025-04-15T08:19:34.5047041Z     âœ“ should fail to delete if user to delete is transferee (24 ms)
2025-04-15T08:19:34.5047231Z   PATCH /users/:id/role
2025-04-15T08:19:34.5047526Z     âœ“ should clear credential external secrets usability cache when changing a user's role (22 ms)
2025-04-15T08:19:34.5047773Z     unauthenticated user
2025-04-15T08:19:34.5047941Z       âœ“ should receive 401 (1 ms)
2025-04-15T08:19:34.5048214Z     Invalid payload should return 400 when newRoleName
2025-04-15T08:19:34.5048405Z       âœ“ is missing (3 ms)
2025-04-15T08:19:34.5048553Z       âœ“ is `owner` (2 ms)
2025-04-15T08:19:34.5048694Z       âœ“ is an array (2 ms)
2025-04-15T08:19:34.5048951Z     member
2025-04-15T08:19:34.5049119Z       âœ“ should fail to demote owner to member (3 ms)
2025-04-15T08:19:34.5049334Z       âœ“ should fail to demote owner to admin (2 ms)
2025-04-15T08:19:34.5049543Z       âœ“ should fail to demote admin to member (2 ms)
2025-04-15T08:19:34.5049773Z       âœ“ should fail to promote other member to owner (2 ms)
2025-04-15T08:19:34.5050014Z       âœ“ should fail to promote other member to admin (2 ms)
2025-04-15T08:19:34.5050230Z       âœ“ should fail to promote self to admin (2 ms)
2025-04-15T08:19:34.5050438Z       âœ“ should fail to promote self to owner (2 ms)
2025-04-15T08:19:34.5050589Z     admin
2025-04-15T08:19:34.5050767Z       âœ“ should receive 404 on unknown target user (3 ms)
2025-04-15T08:19:34.5050985Z       âœ“ should fail to demote owner to admin (2 ms)
2025-04-15T08:19:34.5051217Z       âœ“ should fail to demote owner to member (3 ms)
2025-04-15T08:19:34.5051463Z       âœ“ should fail to promote member to admin if not licensed (2 ms)
2025-04-15T08:19:34.5051721Z       âœ“ should be able to demote admin to member (14 ms)
2025-04-15T08:19:34.5051947Z       âœ“ should be able to demote self to member (21 ms)
2025-04-15T08:19:34.5052201Z       âœ“ should be able to promote member to admin if licensed (10 ms)
2025-04-15T08:19:34.5052378Z     owner
2025-04-15T08:19:34.5052537Z       âœ“ should fail to demote self to admin (2 ms)
2025-04-15T08:19:34.5052749Z       âœ“ should fail to demote self to member (3 ms)
2025-04-15T08:19:34.5052997Z       âœ“ should fail to promote member to admin if not licensed (2 ms)
2025-04-15T08:19:34.5053267Z       âœ“ should be able to promote member to admin if licensed (10 ms)
2025-04-15T08:19:34.5053502Z       âœ“ should be able to demote admin to member (12 ms)
2025-04-15T08:19:34.5053614Z 
2025-04-15T08:19:34.5053778Z PASS src/task-runners/task-broker/__tests__/task-broker.service.test.ts
2025-04-15T08:19:34.5053988Z   TaskBroker
2025-04-15T08:19:34.5054107Z     expireTasks
2025-04-15T08:19:34.5054332Z       âœ“ should remove expired task offers and keep valid task offers (3 ms)
2025-04-15T08:19:34.5054595Z       âœ“ should not expire non-expiring task offers
2025-04-15T08:19:34.5054756Z     registerRunner
2025-04-15T08:19:34.5054929Z       âœ“ should add a runner to known runners (1 ms)
2025-04-15T08:19:34.5055131Z       âœ“ should send node types to runner
2025-04-15T08:19:34.5055288Z     registerRequester
2025-04-15T08:19:34.5055467Z       âœ“ should add a requester to known requesters
2025-04-15T08:19:34.5055629Z     deregisterRunner
2025-04-15T08:19:34.5055815Z       âœ“ should remove a runner from known runners (1 ms)
2025-04-15T08:19:34.5056042Z       âœ“ should remove any pending offers for that runner
2025-04-15T08:19:34.5056280Z       âœ“ should fail any running tasks for that runner (1 ms)
2025-04-15T08:19:34.5056479Z     deregisterRequester
2025-04-15T08:19:34.5056672Z       âœ“ should remove a requester from known requesters
2025-04-15T08:19:34.5056836Z     taskRequested
2025-04-15T08:19:34.5057092Z       âœ“ should match a pending offer to an incoming request (1 ms)
2025-04-15T08:19:34.5057396Z     taskOffered
2025-04-15T08:19:34.5057590Z       âœ“ should match a pending request to an incoming offer
2025-04-15T08:19:34.5057761Z     settleTasks
2025-04-15T08:19:34.5057972Z       âœ“ should match task offers with task requests by task type (1 ms)
2025-04-15T08:19:34.5058247Z       âœ“ should not match a request whose acceptance is in progress
2025-04-15T08:19:34.5058479Z       âœ“ should expire tasks before settling (1 ms)
2025-04-15T08:19:34.5058642Z     onRunnerMessage
2025-04-15T08:19:34.5058813Z       âœ“ should handle `runner:taskaccepted` message
2025-04-15T08:19:34.5059040Z       âœ“ should handle `runner:taskrejected` message (1 ms)
2025-04-15T08:19:34.5059258Z       âœ“ should handle `runner:taskdone` message
2025-04-15T08:19:34.5059465Z       âœ“ should handle `runner:taskerror` message
2025-04-15T08:19:34.5059689Z       âœ“ should handle `runner:taskdatarequest` message
2025-04-15T08:19:34.5059899Z       âœ“ should handle `runner:rpc` message
2025-04-15T08:19:34.5060231Z       âœ“ should handle `runner:nodetypesrequest` message
2025-04-15T08:19:34.5060500Z       âœ“ should handle `runner:taskoffer` message with expiring offer (1 ms)
2025-04-15T08:19:34.5060799Z       âœ“ should handle `runner:taskoffer` message with non-expiring offer
2025-04-15T08:19:34.5061004Z     onRequesterMessage
2025-04-15T08:19:34.5061214Z       âœ“ should handle `requester:nodetypesresponse` message (1 ms)
2025-04-15T08:19:34.5061402Z     task timeouts
2025-04-15T08:19:34.5061599Z       âœ“ on sending task, we should set up task timeout (1 ms)
2025-04-15T08:19:34.5061827Z       âœ“ on task completion, we should clear timeout
2025-04-15T08:19:34.5062037Z       âœ“ on task error, we should clear timeout
2025-04-15T08:19:34.5062399Z       âœ“ [internal mode] on timeout, we should emit `runner:timed-out-during-task` event and send error to requester (1 ms)
2025-04-15T08:19:34.5062837Z       âœ“ [external mode] on timeout, we should instruct the runner to cancel and send error to requester (1 ms)
2025-04-15T08:19:34.5063047Z 
2025-04-15T08:19:34.5063174Z PASS src/events/__tests__/log-streaming-event-relay.test.ts
2025-04-15T08:19:34.5063374Z   LogStreamingEventRelay
2025-04-15T08:19:34.5063509Z     workflow events
2025-04-15T08:19:34.5063688Z       âœ“ should log on `workflow-created` event (3 ms)
2025-04-15T08:19:34.5063916Z       âœ“ should log on `workflow-deleted` event (1 ms)
2025-04-15T08:19:34.5064120Z       âœ“ should log on `workflow-saved` event
2025-04-15T08:19:34.5064341Z       âœ“ should log on `workflow-pre-execute` event (1 ms)
2025-04-15T08:19:34.5064602Z       âœ“ should log on `workflow-post-execute` for successful execution
2025-04-15T08:19:34.5064883Z       âœ“ should log on `workflow-post-execute` event for failed execution
2025-04-15T08:19:34.5065074Z     user events
2025-04-15T08:19:34.5065238Z       âœ“ should log on `user-updated` event
2025-04-15T08:19:34.5065438Z       âœ“ should log on `user-deleted` event (1 ms)
2025-04-15T08:19:34.5065640Z       âœ“ should log on `user-invited` event
2025-04-15T08:19:34.5065848Z       âœ“ should log on `user-reinvited` event
2025-04-15T08:19:34.5066040Z       âœ“ should log on `user-signed-up` event
2025-04-15T08:19:34.5066239Z       âœ“ should log on `user-logged-in` event
2025-04-15T08:19:34.5066394Z     click events
2025-04-15T08:19:34.5066601Z       âœ“ should log on `user-password-reset-request-click` event
2025-04-15T08:19:34.5066848Z       âœ“ should log on `user-invite-email-click` event
2025-04-15T08:19:34.5067165Z       âœ“ should log on `user-password-reset-email-click` event (1 ms)
2025-04-15T08:19:34.5067350Z     node events
2025-04-15T08:19:34.5067514Z       âœ“ should log on `node-pre-execute` event
2025-04-15T08:19:34.5067721Z       âœ“ should log on `node-post-execute` event
2025-04-15T08:19:34.5067881Z     credentials events
2025-04-15T08:19:34.5068074Z       âœ“ should log on `credentials-shared` event (3 ms)
2025-04-15T08:19:34.5068289Z       âœ“ should log on `credentials-created` event
2025-04-15T08:19:34.5068501Z       âœ“ should log on `credentials-deleted` event
2025-04-15T08:19:34.5068838Z       âœ“ should log on `credentials-updated` event (1 ms)
2025-04-15T08:19:34.5069006Z     auth events
2025-04-15T08:19:34.5069170Z       âœ“ should log on `user-login-failed` event
2025-04-15T08:19:34.5069332Z     community package events
2025-04-15T08:19:34.5069551Z       âœ“ should log on `community-package-updated` event (1 ms)
2025-04-15T08:19:34.5069798Z       âœ“ should log on `community-package-installed` event
2025-04-15T08:19:34.5070032Z       âœ“ should log on `community-package-deleted` event
2025-04-15T08:19:34.5070206Z     email events
2025-04-15T08:19:34.5070368Z       âœ“ should log on `email-failed` event
2025-04-15T08:19:34.5070522Z     public API events
2025-04-15T08:19:34.5070725Z       âœ“ should log on `public-api-key-created` event (1 ms)
2025-04-15T08:19:34.5070959Z       âœ“ should log on `public-api-key-deleted` event
2025-04-15T08:19:34.5071126Z     execution events
2025-04-15T08:19:34.5071328Z       âœ“ should log on `execution-started-during-bootup` event
2025-04-15T08:19:34.5071680Z       âœ“ should log on `execution-throttled` event (2 ms)
2025-04-15T08:19:34.5071848Z     AI events
2025-04-15T08:19:34.5072045Z       âœ“ should log on `ai-messages-retrieved-from-memory` event
2025-04-15T08:19:34.5072297Z       âœ“ should log on `ai-message-added-to-memory` event
2025-04-15T08:19:34.5072529Z       âœ“ should log on `ai-output-parsed` event (1 ms)
2025-04-15T08:19:34.5072747Z       âœ“ should log on `ai-documents-retrieved` event
2025-04-15T08:19:34.5072964Z       âœ“ should log on `ai-document-embedded` event
2025-04-15T08:19:34.5073170Z       âœ“ should log on `ai-query-embedded` event
2025-04-15T08:19:34.5073378Z       âœ“ should log on `ai-document-processed` event
2025-04-15T08:19:34.5073600Z       âœ“ should log on `ai-text-split` event (1 ms)
2025-04-15T08:19:34.5073798Z       âœ“ should log on `ai-tool-called` event
2025-04-15T08:19:34.5074016Z       âœ“ should log on `ai-vector-store-searched` event
2025-04-15T08:19:34.5074242Z       âœ“ should log on `ai-llm-generated-output` event
2025-04-15T08:19:34.5074458Z       âœ“ should log on `ai-llm-errored` event
2025-04-15T08:19:34.5074677Z       âœ“ should log on `ai-vector-store-populated` event
2025-04-15T08:19:34.5074916Z       âœ“ should log on `ai-vector-store-updated` event (1 ms)
2025-04-15T08:19:34.5075035Z 
2025-04-15T08:19:34.5075201Z PASS src/execution-lifecycle/__tests__/execution-lifecycle-hooks.test.ts
2025-04-15T08:19:34.5075418Z   Execution Lifecycle Hooks
2025-04-15T08:19:34.5075577Z     getLifecycleHooksForRegularMain
2025-04-15T08:19:34.5075790Z       âœ“ should setup the correct set of hooks (1 ms)
2025-04-15T08:19:34.5075955Z       workflowExecuteBefore
2025-04-15T08:19:34.5076155Z         âœ“ should emit workflow-pre-execute events (4 ms)
2025-04-15T08:19:34.5076377Z         âœ“ should run workflow.preExecute hook (1 ms)
2025-04-15T08:19:34.5076591Z         âœ“ should send executionStarted push event
2025-04-15T08:19:34.5076823Z         âœ“ should run workflow.preExecute external hook (1 ms)
2025-04-15T08:19:34.5077047Z       workflowExecuteAfter
2025-04-15T08:19:34.5077261Z         âœ“ should emit workflow-post-execute events (2 ms)
2025-04-15T08:19:34.5077547Z         âœ“ should not emit workflow-post-execute events for waiting executions (1 ms)
2025-04-15T08:19:34.5077822Z         âœ“ should run workflow.postExecute hook (1 ms)
2025-04-15T08:19:34.5078044Z         âœ“ should send executionFinished push event (1 ms)
2025-04-15T08:19:34.5078258Z         âœ“ should send executionWaiting push event
2025-04-15T08:19:34.5078534Z         âœ“ should restore binary data IDs after workflow execution for webhooks (1 ms)
2025-04-15T08:19:34.5078751Z         saving static data
2025-04-15T08:19:34.5078976Z           âœ“ should skip saving static data for manual executions (4 ms)
2025-04-15T08:19:34.5079239Z           âœ“ should save static data for prod executions (1 ms)
2025-04-15T08:19:34.5079463Z           âœ“ should handle static data saving errors
2025-04-15T08:19:34.5079628Z         saving execution data
2025-04-15T08:19:34.5079836Z           âœ“ should update execution with proper data (1 ms)
2025-04-15T08:19:34.5080190Z           âœ“ should not delete unfinished executions (1 ms)
2025-04-15T08:19:34.5080408Z           âœ“ should not delete waiting executions
2025-04-15T08:19:34.5080671Z           âœ“ should soft delete manual executions when manual saving is disabled
2025-04-15T08:19:34.5080971Z           âœ“ should not soft delete manual executions with waitTill (1 ms)
2025-04-15T08:19:34.5081164Z         error workflow
2025-04-15T08:19:34.5081376Z           âœ“ should not execute error workflow for manual executions
2025-04-15T08:19:34.5081666Z           âœ“ should execute error workflow for failed non-manual executions (1 ms)
2025-04-15T08:19:34.5081878Z       nodeExecuteBefore
2025-04-15T08:19:34.5082061Z         âœ“ should emit node-pre-execute event (1 ms)
2025-04-15T08:19:34.5082288Z         âœ“ should send nodeExecuteBefore push event (1 ms)
2025-04-15T08:19:34.5082454Z       nodeExecuteAfter
2025-04-15T08:19:34.5082625Z         âœ“ should emit node-post-execute event
2025-04-15T08:19:34.5082939Z         âœ“ should send nodeExecuteAfter push event
2025-04-15T08:19:34.5083168Z         âœ“ should save execution progress when enabled (1 ms)
2025-04-15T08:19:34.5083422Z         âœ“ should not save execution progress when disabled (1 ms)
2025-04-15T08:19:34.5083613Z       statistics events
2025-04-15T08:19:34.5083880Z         âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event
2025-04-15T08:19:34.5084223Z         âœ“ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
2025-04-15T08:19:34.5084438Z       when pushRef isn't set
2025-04-15T08:19:34.5084618Z         âœ“ should not setup any push hooks
2025-04-15T08:19:34.5084792Z     getLifecycleHooksForScalingMain
2025-04-15T08:19:34.5084987Z       âœ“ should setup the correct set of hooks
2025-04-15T08:19:34.5085148Z       workflowExecuteBefore
2025-04-15T08:19:34.5085350Z         âœ“ should emit workflow-pre-execute events (11 ms)
2025-04-15T08:19:34.5085566Z         âœ“ should run workflow.preExecute hook
2025-04-15T08:19:34.5085802Z         âœ“ should run the workflow.preExecute external hook
2025-04-15T08:19:34.5085978Z       workflowExecuteAfter
2025-04-15T08:19:34.5086174Z         âœ“ should emit workflow-post-execute events (1 ms)
2025-04-15T08:19:34.5086442Z         âœ“ should not emit workflow-post-execute events for waiting executions
2025-04-15T08:19:34.5086703Z         âœ“ should run workflow.postExecute hook (1 ms)
2025-04-15T08:19:34.5087030Z         âœ“ should delete successful executions when success saving is disabled (1 ms)
2025-04-15T08:19:34.5087356Z         âœ“ should delete failed executions when error saving is disabled (1 ms)
2025-04-15T08:19:34.5087592Z     getLifecycleHooksForScalingWorker
2025-04-15T08:19:34.5087794Z       âœ“ should setup the correct set of hooks
2025-04-15T08:19:34.5087954Z       nodeExecuteBefore
2025-04-15T08:19:34.5088217Z         âœ“ should emit node-pre-execute event
2025-04-15T08:19:34.5088380Z       nodeExecuteAfter
2025-04-15T08:19:34.5088563Z         âœ“ should emit node-post-execute event (1 ms)
2025-04-15T08:19:34.5088740Z       workflowExecuteBefore
2025-04-15T08:19:34.5088920Z         âœ“ should run workflow.preExecute hook
2025-04-15T08:19:34.5089078Z       workflowExecuteAfter
2025-04-15T08:19:34.5089268Z         âœ“ should run workflow.postExecute hook (1 ms)
2025-04-15T08:19:34.5089429Z       statistics events
2025-04-15T08:19:34.5089684Z         âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event
2025-04-15T08:19:34.5090022Z         âœ“ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
2025-04-15T08:19:34.5090232Z       saving static data
2025-04-15T08:19:34.5090446Z         âœ“ should skip saving static data for manual executions (2 ms)
2025-04-15T08:19:34.5090689Z         âœ“ should save static data for prod executions
2025-04-15T08:19:34.5090907Z         âœ“ should handle static data saving errors (1 ms)
2025-04-15T08:19:34.5091071Z       error workflow
2025-04-15T08:19:34.5091273Z         âœ“ should not execute error workflow for manual executions
2025-04-15T08:19:34.5091689Z         âœ“ should execute error workflow for failed non-manual executions
2025-04-15T08:19:34.5091908Z     getLifecycleHooksForSubExecutions
2025-04-15T08:19:34.5092107Z       âœ“ should setup the correct set of hooks
2025-04-15T08:19:34.5092264Z       workflowExecuteBefore
2025-04-15T08:19:34.5092456Z         âœ“ should emit workflow-pre-execute events
2025-04-15T08:19:34.5092665Z         âœ“ should run workflow.preExecute hook
2025-04-15T08:19:34.5092821Z       workflowExecuteAfter
2025-04-15T08:19:34.5093013Z         âœ“ should emit workflow-post-execute events
2025-04-15T08:19:34.5093276Z         âœ“ should not emit workflow-post-execute events for waiting executions
2025-04-15T08:19:34.5093524Z         âœ“ should run workflow.postExecute hook
2025-04-15T08:19:34.5093686Z       nodeExecuteBefore
2025-04-15T08:19:34.5093867Z         âœ“ should emit node-pre-execute event (1 ms)
2025-04-15T08:19:34.5094028Z       nodeExecuteAfter
2025-04-15T08:19:34.5094203Z         âœ“ should emit node-post-execute event
2025-04-15T08:19:34.5094470Z       statistics events
2025-04-15T08:19:34.5094746Z         âœ“ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (1 ms)
2025-04-15T08:19:34.5095084Z         âœ“ nodeFetchedData should handle nodeFetchedData statistics event
2025-04-15T08:19:34.5095241Z 
2025-04-15T08:19:34.5095355Z PASS src/sso.ee/saml/__tests__/saml-validator.test.ts
2025-04-15T08:19:34.5095538Z   saml-validator
2025-04-15T08:19:34.5095666Z     validateMetadata
2025-04-15T08:19:34.5095905Z       âœ“ successfully validates metadata containing ws federation tags (111 ms)
2025-04-15T08:19:34.5096156Z       âœ“ rejects invalid metadata (68 ms)
2025-04-15T08:19:34.5096359Z       âœ“ rejects malformed XML metadata (81 ms)
2025-04-15T08:19:34.5096591Z       âœ“ rejects metadata missing SingleSignOnService (85 ms)
2025-04-15T08:19:34.5096849Z       âœ“ rejects metadata with invalid X.509 certificate (113 ms)
2025-04-15T08:19:34.5097076Z     validateResponse
2025-04-15T08:19:34.5097251Z       âœ“ successfully validates response (67 ms)
2025-04-15T08:19:34.5097461Z       âœ“ rejects invalid response (57 ms)
2025-04-15T08:19:34.5097658Z       âœ“ rejects expired SAML response (73 ms)
2025-04-15T08:19:34.5097759Z 
2025-04-15T08:19:34.5097897Z PASS test/integration/execution.service.integration.test.ts
2025-04-15T08:19:34.5098094Z   ExecutionService
2025-04-15T08:19:34.5098226Z     findRangeWithCount
2025-04-15T08:19:34.5098407Z       âœ“ should return execution summaries (37 ms)
2025-04-15T08:19:34.5098605Z       âœ“ should limit executions (32 ms)
2025-04-15T08:19:34.5098850Z       âœ“ should retrieve executions before `lastId`, excluding it (15 ms)
2025-04-15T08:19:34.5099136Z       âœ“ should retrieve executions after `firstId`, excluding it (40 ms)
2025-04-15T08:19:34.5099386Z       âœ“ should filter executions by `status` (17 ms)
2025-04-15T08:19:34.5099615Z       âœ“ should filter executions by `workflowId` (12 ms)
2025-04-15T08:19:34.5099849Z       âœ“ should filter executions by `startedBefore` (12 ms)
2025-04-15T08:19:34.5100097Z       âœ“ should filter executions by `startedAfter` (12 ms)
2025-04-15T08:19:34.5100324Z       âœ“ should filter executions by `metadata` (15 ms)
2025-04-15T08:19:34.5100551Z       âœ“ should filter executions by `projectId` (53 ms)
2025-04-15T08:19:34.5100828Z       âœ“ should filter executions by `projectId` and expected `status` (58 ms)
2025-04-15T08:19:34.5101141Z       âœ“ should filter executions by `projectId` and expected `waitTill` (25 ms)
2025-04-15T08:19:34.5101453Z       âœ“ should filter executions by `projectId` and expected `metadata` (30 ms)
2025-04-15T08:19:34.5101772Z       âœ“ should filter executions by `projectId` and expected `startedAfter` (39 ms)
2025-04-15T08:19:34.5102109Z       âœ“ should filter executions by `projectId` and expected `startedBefore` (15 ms)
2025-04-15T08:19:34.5102414Z       âœ“ should exclude executions by inaccessible `workflowId` (16 ms)
2025-04-15T08:19:34.5102519Z       âœ“ should support advanced filters (13 ms)
2025-04-15T08:19:34.5102593Z     findLatestCurrentAndCompleted
2025-04-15T08:19:34.5102875Z       âœ“ should return latest current and completed executions (51 ms)
2025-04-15T08:19:34.5102981Z       âœ“ should handle zero current executions (9 ms)
2025-04-15T08:19:34.5103097Z       âœ“ should handle zero completed executions (14 ms)
2025-04-15T08:19:34.5103195Z       âœ“ should handle zero executions (4 ms)
2025-04-15T08:19:34.5103339Z       âœ“ should prioritize `running` over `new` executions (32 ms)
2025-04-15T08:19:34.5103388Z     annotation
2025-04-15T08:19:34.5103495Z       âœ“ should add and retrieve annotation (31 ms)
2025-04-15T08:19:34.5103587Z       âœ“ should update annotation (31 ms)
2025-04-15T08:19:34.5103696Z       âœ“ should filter by annotation tags (61 ms)
2025-04-15T08:19:34.5103795Z       âœ“ should filter by annotation vote (25 ms)
2025-04-15T08:19:34.5103799Z 
2025-04-15T08:19:34.5103916Z PASS src/scaling/__tests__/pubsub-handler.test.ts
2025-04-15T08:19:34.5103969Z   PubSubHandler
2025-04-15T08:19:34.5104070Z     in webhook process
2025-04-15T08:19:34.5104283Z       âœ“ should set up handlers in webhook process (4 ms)
2025-04-15T08:19:34.5104403Z       âœ“ should reload license on `reload-license` event
2025-04-15T08:19:34.5104550Z       âœ“ should restart event bus on `restart-event-bus` event (1 ms)
2025-04-15T08:19:34.5104711Z       âœ“ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:19:34.5104898Z       âœ“ should install community package on `community-package-install` event (1 ms)
2025-04-15T08:19:34.5105053Z       âœ“ should update community package on `community-package-update` event
2025-04-15T08:19:34.5105227Z       âœ“ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:19:34.5105278Z     in worker process
2025-04-15T08:19:34.5105393Z       âœ“ should set up handlers in worker process (1 ms)
2025-04-15T08:19:34.5105502Z       âœ“ should reload license on `reload-license` event
2025-04-15T08:19:34.5105634Z       âœ“ should restart event bus on `restart-event-bus` event
2025-04-15T08:19:34.5105789Z       âœ“ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:19:34.5105961Z       âœ“ should install community package on `community-package-install` event
2025-04-15T08:19:34.5106113Z       âœ“ should update community package on `community-package-update` event
2025-04-15T08:19:34.5106285Z       âœ“ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:19:34.5106410Z       âœ“ should generate status on `get-worker-status` event
2025-04-15T08:19:34.5106463Z     in main process
2025-04-15T08:19:34.5106617Z       âœ“ should set up command and worker response handlers in main process
2025-04-15T08:19:34.5106725Z       âœ“ should reload license on `reload-license` event
2025-04-15T08:19:34.5106868Z       âœ“ should restart event bus on `restart-event-bus` event (1 ms)
2025-04-15T08:19:34.5107072Z       âœ“ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:19:34.5107234Z       âœ“ should install community package on `community-package-install` event
2025-04-15T08:19:34.5107394Z       âœ“ should update community package on `community-package-update` event
2025-04-15T08:19:34.5107565Z       âœ“ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:19:34.5107616Z       multi-main setup
2025-04-15T08:19:34.5107794Z         âœ“ if leader, should handle `add-webhooks-triggers-and-pollers` event (2 ms)
2025-04-15T08:19:34.5107961Z         âœ“ if follower, should skip `add-webhooks-triggers-and-pollers` event (6 ms)
2025-04-15T08:19:34.5108118Z         âœ“ if leader, should handle `remove-triggers-and-pollers` event (10 ms)
2025-04-15T08:19:34.5108266Z         âœ“ if follower, should skip `remove-triggers-and-pollers` event (1 ms)
2025-04-15T08:19:34.5108395Z         âœ“ should handle `display-workflow-activation` event
2025-04-15T08:19:34.5108527Z         âœ“ should handle `display-workflow-deactivation` event
2025-04-15T08:19:34.5108675Z         âœ“ should handle `display-workflow-activation-error` event (1 ms)
2025-04-15T08:19:34.5108910Z         âœ“ should handle `relay-execution-lifecycle-event` event
2025-04-15T08:19:34.5109029Z         âœ“ should handle `clear-test-webhooks` event (1 ms)
2025-04-15T08:19:34.5109157Z         âœ“ should handle `response-to-get-worker-status event
2025-04-15T08:19:34.5109162Z 
2025-04-15T08:19:34.5109306Z PASS src/concurrency/__tests__/concurrency-control.service.test.ts
2025-04-15T08:19:34.5109372Z   ConcurrencyControlService
2025-04-15T08:19:34.5109421Z     constructor
2025-04-15T08:19:34.5109556Z       âœ“ should be enabled if production cap is positive (3 ms)
2025-04-15T08:19:34.5109666Z       âœ“ should be enabled if evaluation cap is positive
2025-04-15T08:19:34.5109774Z       âœ“ should throw if production cap is 0 (1 ms)
2025-04-15T08:19:34.5109870Z       âœ“ should throw if evaluation cap is 0
2025-04-15T08:19:34.5110022Z       âœ“ should be disabled if both production and evaluation caps are -1
2025-04-15T08:19:34.5110144Z       âœ“ should be disabled if production cap is lower than -1
2025-04-15T08:19:34.5110541Z       âœ“ should be disabled if evaluation cap is lower than -1 (1 ms)
2025-04-15T08:19:34.5110634Z       âœ“ should be disabled on queue mode
2025-04-15T08:19:34.5110681Z     if enabled
2025-04-15T08:19:34.5110739Z       throttle
2025-04-15T08:19:34.5110840Z         âœ“ should do nothing on cli mode (1 ms)
2025-04-15T08:19:34.5110938Z         âœ“ should do nothing on error mode
2025-04-15T08:19:34.5111043Z         âœ“ should do nothing on integrated mode (1 ms)
2025-04-15T08:19:34.5111143Z         âœ“ should do nothing on internal mode
2025-04-15T08:19:34.5111243Z         âœ“ should do nothing on manual mode (1 ms)
2025-04-15T08:19:34.5111338Z         âœ“ should do nothing on retry mode
2025-04-15T08:19:34.5111437Z         âœ“ should enqueue on webhook mode (1 ms)
2025-04-15T08:19:34.5111531Z         âœ“ should enqueue on trigger mode
2025-04-15T08:19:34.5111624Z         âœ“ should enqueue on evaluation mode
2025-04-15T08:19:34.5111681Z       release
2025-04-15T08:19:34.5111777Z         âœ“ should do nothing on cli mode (1 ms)
2025-04-15T08:19:34.5111882Z         âœ“ should do nothing on error mode
2025-04-15T08:19:34.5111975Z         âœ“ should do nothing on integrated mode
2025-04-15T08:19:34.5112074Z         âœ“ should do nothing on internal mode
2025-04-15T08:19:34.5112165Z         âœ“ should do nothing on manual mode
2025-04-15T08:19:34.5112266Z         âœ“ should do nothing on retry mode (1 ms)
2025-04-15T08:19:34.5112353Z         âœ“ should dequeue on webhook mode
2025-04-15T08:19:34.5112446Z         âœ“ should dequeue on trigger mode
2025-04-15T08:19:34.5112561Z         âœ“ should dequeue on evaluation mode (1 ms)
2025-04-15T08:19:34.5112621Z       remove
2025-04-15T08:19:34.5112724Z         âœ“ should do nothing on cli mode
2025-04-15T08:19:34.5112811Z         âœ“ should do nothing on error mode
2025-04-15T08:19:34.5112918Z         âœ“ should do nothing on integrated mode (1 ms)
2025-04-15T08:19:34.5113013Z         âœ“ should do nothing on internal mode
2025-04-15T08:19:34.5113115Z         âœ“ should do nothing on manual mode
2025-04-15T08:19:34.5113221Z         âœ“ should do nothing on retry mode (1 ms)
2025-04-15T08:19:34.5113339Z         âœ“ should remove an execution on webhook mode (1 ms)
2025-04-15T08:19:34.5113443Z         âœ“ should remove an execution on trigger mode
2025-04-15T08:19:34.5113571Z         âœ“ should remove an execution on evaluation mode (1 ms)
2025-04-15T08:19:34.5113619Z       removeAll
2025-04-15T08:19:34.5113770Z         âœ“ should remove all executions from the production queue (1 ms)
2025-04-15T08:19:34.5113908Z         âœ“ should remove all executions from the evaluation queue (4 ms)
2025-04-15T08:19:34.5113966Z       get queue
2025-04-15T08:19:34.5114056Z         âœ“ should choose the production queue
2025-04-15T08:19:34.5114173Z         âœ“ should choose the evaluation queue (1 ms)
2025-04-15T08:19:34.5114219Z     if disabled
2025-04-15T08:19:34.5114275Z       throttle
2025-04-15T08:19:34.5114341Z         âœ“ should do nothing
2025-04-15T08:19:34.5114456Z         âœ“ should do nothing for evaluation executions
2025-04-15T08:19:34.5114606Z       release
2025-04-15T08:19:34.5114689Z         âœ“ should do nothing
2025-04-15T08:19:34.5114799Z         âœ“ should do nothing for evaluation executions
2025-04-15T08:19:34.5114846Z       remove
2025-04-15T08:19:34.5114921Z         âœ“ should do nothing
2025-04-15T08:19:34.5115024Z         âœ“ should do nothing for evaluation executions
2025-04-15T08:19:34.5115075Z     telemetry
2025-04-15T08:19:34.5115120Z       on cloud
2025-04-15T08:19:34.5115271Z         âœ“ for capacity 5, should report temp cloud threshold if reached
2025-04-15T08:19:34.5115426Z         âœ“ for capacity 10, should report temp cloud threshold if reached (1 ms)
2025-04-15T08:19:34.5115573Z         âœ“ for capacity 20, should report temp cloud threshold if reached
2025-04-15T08:19:34.5115712Z         âœ“ for capacity 50, should report temp cloud threshold if reached
2025-04-15T08:19:34.5115864Z         âœ“ for capacity 100, should report temp cloud threshold if reached
2025-04-15T08:19:34.5116002Z         âœ“ for capacity 200, should report temp cloud threshold if reached
2025-04-15T08:19:34.5116278Z         âœ“ for capacity 4, should not report temp cloud threshold if not reached (1 ms)
2025-04-15T08:19:34.5116428Z         âœ“ for capacity 9, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5116593Z         âœ“ for capacity 19, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5116742Z         âœ“ for capacity 49, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5116902Z         âœ“ for capacity 99, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5117129Z         âœ“ for capacity 199, should not report temp cloud threshold if not reached (1 ms)
2025-04-15T08:19:34.5117279Z         âœ“ for capacity 6, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117434Z         âœ“ for capacity 11, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117582Z         âœ“ for capacity 21, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117749Z         âœ“ for capacity 51, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117898Z         âœ“ for capacity 101, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5118078Z         âœ“ for capacity 201, should not report temp cloud threshold if exceeded (1 ms)
2025-04-15T08:19:34.5118082Z 
2025-04-15T08:19:34.5118230Z PASS src/databases/repositories/__tests__/folder.repository.test.ts
2025-04-15T08:19:34.5118298Z   FolderRepository
2025-04-15T08:19:34.5118349Z     getMany
2025-04-15T08:19:34.5118415Z       filters
2025-04-15T08:19:34.5118561Z         âœ“ should return all folders if not filter is provided (27 ms)
2025-04-15T08:19:34.5118661Z         âœ“ should filter folders by IDs (13 ms)
2025-04-15T08:19:34.5118775Z         âœ“ should filter folders by project ID (15 ms)
2025-04-15T08:19:34.5118909Z         âœ“ should filter folders by name case-insensitively (14 ms)
2025-04-15T08:19:34.5119040Z         âœ“ should filter folders by parent folder ID (17 ms)
2025-04-15T08:19:34.5119160Z         âœ“ should filter folders by a single tag (11 ms)
2025-04-15T08:19:34.5119309Z         âœ“ should filter folders by multiple tags (AND operator) (29 ms)
2025-04-15T08:19:34.5119424Z         âœ“ should apply multiple filters together (18 ms)
2025-04-15T08:19:34.5119482Z       select
2025-04-15T08:19:34.5119606Z         âœ“ should select only id and name when specified (19 ms)
2025-04-15T08:19:34.5119744Z         âœ“ should return id, name and tags when specified (12 ms)
2025-04-15T08:19:34.5119875Z         âœ“ should return id, name and project when specified (12 ms)
2025-04-15T08:19:34.5120029Z         âœ“ should return id, name and parentFolder when specified (15 ms)
2025-04-15T08:19:34.5120170Z         âœ“ should return id, name and workflowCount when specified (11 ms)
2025-04-15T08:19:34.5120322Z         âœ“ should return id, name and subFolderCount when specified (13 ms)
2025-04-15T08:19:34.5120436Z         âœ“ should return timestamps when specified (16 ms)
2025-04-15T08:19:34.5120593Z         âœ“ should return all properties when no select is specified (18 ms)
2025-04-15T08:19:34.5120783Z       pagination
2025-04-15T08:19:34.5120901Z         âœ“ should limit results when take is specified (29 ms)
2025-04-15T08:19:34.5121033Z         âœ“ should skip results when skip is specified (15 ms)
2025-04-15T08:19:34.5121144Z         âœ“ should handle skip and take together (29 ms)
2025-04-15T08:19:34.5121283Z         âœ“ should handle take larger than remaining items (18 ms)
2025-04-15T08:19:34.5121413Z         âœ“ should handle zero take by returning all results (11 ms)
2025-04-15T08:19:34.5121472Z       sorting
2025-04-15T08:19:34.5121582Z         âœ“ should sort by default (updatedAt:desc) (9 ms)
2025-04-15T08:19:34.5121687Z         âœ“ should sort by name:asc (15 ms)
2025-04-15T08:19:34.5121781Z         âœ“ should sort by name:desc (11 ms)
2025-04-15T08:19:34.5121943Z         âœ“ should sort by name:desc when select does not include the name (10 ms)
2025-04-15T08:19:34.5122038Z         âœ“ should sort by createdAt:asc (11 ms)
2025-04-15T08:19:34.5122282Z         âœ“ should sort by createdAt:desc (10 ms)
2025-04-15T08:19:34.5122380Z         âœ“ should sort by updatedAt:asc (7 ms)
2025-04-15T08:19:34.5122482Z         âœ“ should sort by updatedAt:desc (8 ms)
2025-04-15T08:19:34.5122602Z         âœ“ should default to asc if order not specified (15 ms)
2025-04-15T08:19:34.5122614Z 
2025-04-15T08:19:34.5122707Z PASS test/integration/ldap/ldap.api.test.ts
2025-04-15T08:19:34.5122850Z   âœ“ Member role should not be able to access ldap routes (78 ms)
2025-04-15T08:19:34.5123002Z   âœ“ GET /ldap/config route should retrieve current configuration (17 ms)
2025-04-15T08:19:34.5123150Z   âœ“ GET /ldap/sync should return paginated synchronizations (12 ms)
2025-04-15T08:19:34.5123205Z   PUT /ldap/config
2025-04-15T08:19:34.5123306Z     âœ“ route should validate payload (36 ms)
2025-04-15T08:19:34.5123395Z     âœ“ route should update model (14 ms)
2025-04-15T08:19:34.5123625Z     âœ“ route should fail due to trying to enable LDAP login with SSO as current authentication method (22 ms)
2025-04-15T08:19:34.5123841Z     âœ“ should apply "Convert all LDAP users to email users" strategy when LDAP login disabled (30 ms)
2025-04-15T08:19:34.5123905Z   POST /ldap/test-connection
2025-04-15T08:19:34.5123991Z     âœ“ route should success (7 ms)
2025-04-15T08:19:34.5124079Z     âœ“ route should fail (18 ms)
2025-04-15T08:19:34.5124128Z   POST /ldap/sync
2025-04-15T08:19:34.5124179Z     dry mode
2025-04-15T08:19:34.5124320Z       âœ“ should detect new user but not persist change in model (40 ms)
2025-04-15T08:19:34.5124477Z       âœ“ should detect updated user but not persist change in model (29 ms)
2025-04-15T08:19:34.5124634Z       âœ“ should detect disabled user but not persist change in model (29 ms)
2025-04-15T08:19:34.5124681Z     live mode
2025-04-15T08:19:34.5124818Z       âœ“ should detect new user and persist change in model (36 ms)
2025-04-15T08:19:34.5124957Z       âœ“ should detect updated user and persist change in model (74 ms)
2025-04-15T08:19:34.5125104Z       âœ“ should detect disabled user and persist change in model (25 ms)
2025-04-15T08:19:34.5125314Z       âœ“ should remove user instance access once the user is disabled during synchronization (35 ms)
2025-04-15T08:19:34.5125370Z   POST /login
2025-04-15T08:19:34.5125509Z     âœ“ should allow new LDAP user to login and synchronize data (23 ms)
2025-04-15T08:19:34.5125668Z     âœ“ should allow existing LDAP user to login and synchronize data (97 ms)
2025-04-15T08:19:34.5125859Z     âœ“ should allow instance owner to sign in with email/password when LDAP is enabled (69 ms)
2025-04-15T08:19:34.5126016Z     âœ“ should transform email user into LDAP user when match found (91 ms)
2025-04-15T08:19:34.5126102Z   Instance owner should able to delete LDAP users
2025-04-15T08:19:34.5126199Z     âœ“ don't transfer workflows (19 ms)
2025-04-15T08:19:34.5126300Z     âœ“ transfer workflows and credentials (18 ms)
2025-04-15T08:19:34.5126311Z 
2025-04-15T08:19:34.5126403Z PASS src/auth/__tests__/auth.service.test.ts
2025-04-15T08:19:34.5126457Z   AuthService
2025-04-15T08:19:34.5126624Z     createJWTHash
2025-04-15T08:19:34.5126725Z       âœ“ should generate unique hashes (4 ms)
2025-04-15T08:19:34.5126779Z     authMiddleware
2025-04-15T08:19:34.5126879Z       âœ“ should 401 if no cookie is set (1 ms)
2025-04-15T08:19:34.5127056Z       âœ“ should 401 and clear the cookie if the JWT is expired (3 ms)
2025-04-15T08:19:34.5127216Z       âœ“ should 401 and clear the cookie if the JWT has been invalidated (1 ms)
2025-04-15T08:19:34.5127334Z       âœ“ should refresh the cookie before it expires (12 ms)
2025-04-15T08:19:34.5127389Z     issueCookie
2025-04-15T08:19:34.5127512Z       âœ“ should issue a cookie with the correct options (1 ms)
2025-04-15T08:19:34.5127621Z       âœ“ should allow changing cookie options (1 ms)
2025-04-15T08:19:34.5127673Z     issueJWT
2025-04-15T08:19:34.5127772Z       when not setting userManagement.jwtSessionDuration
2025-04-15T08:19:34.5127921Z         âœ“ should default to expire in 7 days (1 ms)
2025-04-15T08:19:34.5128049Z       when setting userManagement.jwtSessionDuration
2025-04-15T08:19:34.5128346Z         âœ“ should apply it to tokens (3 ms)
2025-04-15T08:19:34.5128401Z     resolveJwt
2025-04-15T08:19:34.5128497Z       âœ“ should throw on invalid tokens (12 ms)
2025-04-15T08:19:34.5128603Z       âœ“ should throw on expired tokens (1 ms)
2025-04-15T08:19:34.5128702Z       âœ“ should throw on tampered tokens (1 ms)
2025-04-15T08:19:34.5128800Z       âœ“ should throw on hijacked tokens (2 ms)
2025-04-15T08:19:34.5128909Z       âœ“ should throw if no user is found (2 ms)
2025-04-15T08:19:34.5129012Z       âœ“ should throw if the user is disabled (1 ms)
2025-04-15T08:19:34.5129179Z       âœ“ should throw if user password does not match the one on the token (1 ms)
2025-04-15T08:19:34.5129316Z       âœ“ should throw if user email does not match the one on the token
2025-04-15T08:19:34.5129438Z       âœ“ should refresh the cookie before it expires (3 ms)
2025-04-15T08:19:34.5129599Z       âœ“ should refresh the cookie only if less than 1/4th of time is left (4 ms)
2025-04-15T08:19:34.5129785Z       âœ“ should not refresh the cookie if jwtRefreshTimeoutHours is set to -1 (3 ms)
2025-04-15T08:19:34.5129844Z     generatePasswordResetUrl
2025-04-15T08:19:34.5129952Z       âœ“ should generate a valid url (2 ms)
2025-04-15T08:19:34.5130019Z     generatePasswordResetToken
2025-04-15T08:19:34.5130141Z       âœ“ should generate valid password-reset tokens (1 ms)
2025-04-15T08:19:34.5130203Z     resolvePasswordResetToken
2025-04-15T08:19:34.5130321Z       âœ“ should not return a user if the token in invalid
2025-04-15T08:19:34.5130445Z       âœ“ should not return a user if the token in expired (2 ms)
2025-04-15T08:19:34.5130601Z       âœ“ should not return a user if the user does not exist in the DB (1 ms)
2025-04-15T08:19:34.5130782Z       âœ“ should not return a user if the password sha does not match (1 ms)
2025-04-15T08:19:34.5130905Z       âœ“ should not return the user if all checks pass (1 ms)
2025-04-15T08:19:34.5130963Z     invalidateToken
2025-04-15T08:19:34.5131048Z       âœ“ should invalidate the token
2025-04-15T08:19:34.5131171Z 
2025-04-15T08:19:34.5131289Z PASS test/integration/public-api/executions.test.ts
2025-04-15T08:19:34.5131345Z   GET /executions/:id
2025-04-15T08:19:34.5131457Z     âœ“ should fail due to missing API Key (26 ms)
2025-04-15T08:19:34.5131553Z     âœ“ should fail due to invalid API Key (22 ms)
2025-04-15T08:19:34.5131701Z     âœ“ owner should be able to get an execution owned by him (187 ms)
2025-04-15T08:19:34.5131832Z     âœ“ owner should be able to read executions of other users (20 ms)
2025-04-15T08:19:34.5131966Z     âœ“ member should be able to fetch his own executions (18 ms)
2025-04-15T08:19:34.5132141Z     âœ“ member should not be able to fetch custom data when includeData is not set (53 ms)
2025-04-15T08:19:34.5132301Z     âœ“ member should be able to fetch custom data when includeData=true (42 ms)
2025-04-15T08:19:34.5132503Z     âœ“ member should not get an execution of another user without the workflow being shared (27 ms)
2025-04-15T08:19:34.5132671Z     âœ“ member should be able to fetch executions of workflows shared with him (30 ms)
2025-04-15T08:19:34.5132847Z   DELETE /executions/:id
2025-04-15T08:19:34.5132947Z     âœ“ should fail due to missing API Key (9 ms)
2025-04-15T08:19:34.5133053Z     âœ“ should fail due to invalid API Key (8 ms)
2025-04-15T08:19:34.5133142Z     âœ“ should delete an execution (33 ms)
2025-04-15T08:19:34.5133201Z   GET /executions
2025-04-15T08:19:34.5133298Z     âœ“ should fail due to missing API Key (11 ms)
2025-04-15T08:19:34.5133405Z     âœ“ should fail due to invalid API Key (5 ms)
2025-04-15T08:19:34.5133522Z     âœ“ should retrieve all successful executions (41 ms)
2025-04-15T08:19:34.5133626Z     âœ“ should paginate two executions (77 ms)
2025-04-15T08:19:34.5133736Z     âœ“ should retrieve all error executions (20 ms)
2025-04-15T08:19:34.5133847Z     âœ“ should return all waiting executions (36 ms)
2025-04-15T08:19:34.5133985Z     âœ“ should retrieve all executions of specific workflow (37 ms)
2025-04-15T08:19:34.5134120Z     âœ“ should return executions filtered by project ID (38 ms)
2025-04-15T08:19:34.5134281Z     âœ“ owner should retrieve all executions regardless of ownership (45 ms)
2025-04-15T08:19:34.5134451Z     âœ“ member should not see executions of workflows not shared with him (56 ms)
2025-04-15T08:19:34.5134606Z     âœ“ member should also see executions of workflows shared with him (53 ms)
2025-04-15T08:19:34.5134618Z 
2025-04-15T08:19:34.5134752Z PASS src/services/__tests__/community-packages.service.test.ts
2025-04-15T08:19:34.5134818Z   CommunityPackagesService
2025-04-15T08:19:34.5134875Z     parseNpmPackageName()
2025-04-15T08:19:34.5134983Z       âœ“ should fail with empty package name (22 ms)
2025-04-15T08:19:34.5135104Z       âœ“ should fail with invalid package prefix name (1 ms)
2025-04-15T08:19:34.5135201Z       âœ“ should parse valid package name
2025-04-15T08:19:34.5135319Z       âœ“ should parse valid package name and version (1 ms)
2025-04-15T08:19:34.5135441Z       âœ“ should parse valid package name, scope and version
2025-04-15T08:19:34.5135494Z     executeCommand()
2025-04-15T08:19:34.5135617Z       âœ“ should call command with valid options (1 ms)
2025-04-15T08:19:34.5135712Z       âœ“ should make sure folder exists (1 ms)
2025-04-15T08:19:34.5135843Z       âœ“ should try to create folder if it does not exist (3 ms)
2025-04-15T08:19:34.5135980Z       âœ“ should throw especial error when package is not found (1 ms)
2025-04-15T08:19:34.5136049Z     crossInformationPackage()
2025-04-15T08:19:34.5136193Z       âœ“ should return same list if availableUpdates is undefined (2 ms)
2025-04-15T08:19:34.5136338Z       âœ“ should correctly match update versions for packages (1 ms)
2025-04-15T08:19:34.5136474Z       âœ“ should correctly match update versions for single package
2025-04-15T08:19:34.5136531Z     matchMissingPackages()
2025-04-15T08:19:34.5136661Z       âœ“ should not match failed packages that do not exist (1 ms)
2025-04-15T08:19:34.5136778Z       âœ“ should match failed packages that should be present
2025-04-15T08:19:34.5136920Z       âœ“ should match failed packages even if version is wrong (6 ms)
2025-04-15T08:19:34.5137122Z     checkNpmPackageStatus()
2025-04-15T08:19:34.5137207Z       âœ“ should call axios.post
2025-04-15T08:19:34.5137306Z       âœ“ should not fail if request fails (1 ms)
2025-04-15T08:19:34.5137405Z       âœ“ should warn if package is banned
2025-04-15T08:19:34.5137479Z     hasPackageLoadedSuccessfully()
2025-04-15T08:19:34.5137616Z       âœ“ should return true when failed package list does not exist
2025-04-15T08:19:34.5137774Z       âœ“ should return true when package is not in the list of missing packages
2025-04-15T08:19:34.5137933Z       âœ“ should return false when package is in the list of missing packages
2025-04-15T08:19:34.5138001Z     removePackageFromMissingList()
2025-04-15T08:19:34.5138118Z       âœ“ should do nothing if key does not exist (1 ms)
2025-04-15T08:19:34.5138223Z       âœ“ should remove only correct package from list
2025-04-15T08:19:34.5138339Z       âœ“ should not remove if package is not in the list
2025-04-15T08:19:34.5138402Z     updateNpmModule
2025-04-15T08:19:34.5138669Z       âœ“ should call `exec` with the correct command and registry (2 ms)
2025-04-15T08:19:34.5138774Z       âœ“ should throw when not licensed (1 ms)
2025-04-15T08:19:34.5138777Z 
2025-04-15T08:19:34.5138939Z PASS test/integration/deduplication/deduplication-helper.test.ts
2025-04-15T08:19:34.5139024Z   Deduplication.DeduplicationHelper
2025-04-15T08:19:34.5139256Z     âœ“ Deduplication (mode: entries): DeduplicationHelper should record and check data correctly (16 ms)
2025-04-15T08:19:34.5139530Z     âœ“ Deduplication (mode: entries): DeduplicationHelper different contexts should not interfere with each other (13 ms)
2025-04-15T08:19:34.5139699Z     âœ“ Deduplication (mode: entries): DeduplicationHelper check maxEntries (8 ms)
2025-04-15T08:19:34.5139847Z     âœ“ removeProcessed should throw error for latest modes (16 ms)
2025-04-15T08:19:34.5140044Z     âœ“ clearAllProcessedItems should delete all processed items for workflow scope (14 ms)
2025-04-15T08:19:34.5140236Z     âœ“ clearAllProcessedItems should delete all processed items for node scope (10 ms)
2025-04-15T08:19:34.5140473Z     âœ“ clearAllProcessedItems should not clear workflow processed items when clearing node scope (10 ms)
2025-04-15T08:19:34.5140695Z     âœ“ clearAllProcessedItems should not clear node processed items when clearing workflow scope (8 ms)
2025-04-15T08:19:34.5140883Z     âœ“ getProcessedDataCount should return correct count for different modes (12 ms)
2025-04-15T08:19:34.5141084Z     Deduplication (mode: latestIncrementalKey): DeduplicationHelper should record and check data correctly
2025-04-15T08:19:34.5141157Z       âœ“ dates (19 ms)
2025-04-15T08:19:34.5141223Z       âœ“ numbers (5 ms)
2025-04-15T08:19:34.5141228Z 
2025-04-15T08:19:34.5141394Z PASS test/integration/evaluation/test-definitions.api.test.ts (5.16 s)
2025-04-15T08:19:34.5141464Z   GET /evaluation/test-definitions
2025-04-15T08:19:34.5141619Z     âœ“ should retrieve empty test definitions list (105 ms)
2025-04-15T08:19:34.5141728Z     âœ“ should retrieve test definitions list (41 ms)
2025-04-15T08:19:34.5141886Z     âœ“ should retrieve test definitions list with pagination (91 ms)
2025-04-15T08:19:34.5142030Z     âœ“ should retrieve test definitions list for a workflow (97 ms)
2025-04-15T08:19:34.5142216Z     âœ“ should return error if user has no access to the workflowId specified in filter (50 ms)
2025-04-15T08:19:34.5142320Z   GET /evaluation/test-definitions/:id
2025-04-15T08:19:34.5142420Z     âœ“ should retrieve test definition (31 ms)
2025-04-15T08:19:34.5142555Z     âœ“ should return 404 for non-existent test definition (32 ms)
2025-04-15T08:19:34.5142716Z     âœ“ should retrieve test definition with evaluation workflow (29 ms)
2025-04-15T08:19:34.5142929Z     âœ“ should not retrieve test definition if user does not have access to workflow under test (40 ms)
2025-04-15T08:19:34.5143001Z   POST /evaluation/test-definitions
2025-04-15T08:19:34.5143105Z     âœ“ should create test definition (83 ms)
2025-04-15T08:19:34.5143244Z     âœ“ should create test definition with evaluation workflow (46 ms)
2025-04-15T08:19:34.5143473Z     âœ“ should create test definition with all fields (35 ms)
2025-04-15T08:19:34.5143575Z     âœ“ should return error if name is empty (33 ms)
2025-04-15T08:19:34.5143724Z     âœ“ should return error if user has no access to the workflow (24 ms)
2025-04-15T08:19:34.5143892Z     âœ“ should return error if user has no access to the evaluation workflow (25 ms)
2025-04-15T08:19:34.5143978Z   PATCH /evaluation/test-definitions/:id
2025-04-15T08:19:34.5144075Z     âœ“ should update test definition (48 ms)
2025-04-15T08:19:34.5144217Z     âœ“ should return 404 if user has no access to the workflow (39 ms)
2025-04-15T08:19:34.5144367Z     âœ“ should update test definition with evaluation workflow (47 ms)
2025-04-15T08:19:34.5144528Z     âœ“ should return error if user has no access to the evaluation workflow (55 ms)
2025-04-15T08:19:34.5144629Z     âœ“ should disallow workflowId (25 ms)
2025-04-15T08:19:34.5144724Z     âœ“ should update annotationTagId (39 ms)
2025-04-15T08:19:34.5144865Z     âœ“ should return error if annotationTagId is invalid (45 ms)
2025-04-15T08:19:34.5145057Z     âœ“ should update pinned nodes (43 ms)
2025-04-15T08:19:34.5145189Z     âœ“ should return error if pinned nodes are invalid (29 ms)
2025-04-15T08:19:34.5145343Z     âœ“ should return error if pinned nodes are not in the workflow (30 ms)
2025-04-15T08:19:34.5145425Z   DELETE /evaluation/test-definitions/:id
2025-04-15T08:19:34.5145519Z     âœ“ should delete test definition (50 ms)
2025-04-15T08:19:34.5145660Z     âœ“ should return 404 if test definition does not exist (40 ms)
2025-04-15T08:19:34.5145796Z     âœ“ should return 404 if user has no access to the workflow (31 ms)
2025-04-15T08:19:34.5145883Z   POST /evaluation/test-definitions/:id/run
2025-04-15T08:19:34.5145992Z     âœ“ should trigger the test run (35 ms)
2025-04-15T08:19:34.5146003Z 
2025-04-15T08:19:34.5146119Z PASS src/__tests__/load-nodes-and-credentials.test.ts
2025-04-15T08:19:34.5146183Z   LoadNodesAndCredentials
2025-04-15T08:19:34.5146234Z     resolveIcon
2025-04-15T08:19:34.5146417Z       âœ“ should return undefined if the loader for the package is not found (2 ms)
2025-04-15T08:19:34.5146600Z       âœ“ should return undefined if the resolved file path is outside the loader directory
2025-04-15T08:19:34.5146763Z       âœ“ should return the file path if the file is within the loader directory
2025-04-15T08:19:34.5146914Z       âœ“ should return undefined if the URL is outside the package directory
2025-04-15T08:19:34.5147014Z     convertNodeToAiTool
2025-04-15T08:19:34.5147128Z       âœ“ should modify the name and displayName correctly
2025-04-15T08:19:34.5147237Z       âœ“ should update inputs and outputs (1 ms)
2025-04-15T08:19:34.5147335Z       âœ“ should remove the usableAsTool property
2025-04-15T08:19:34.5147470Z       âœ“ should add toolDescription property if it doesn't exist
2025-04-15T08:19:34.5147567Z       âœ“ should set codex categories correctly
2025-04-15T08:19:34.5147681Z       âœ“ should preserve existing properties (1 ms)
2025-04-15T08:19:34.5147783Z       âœ“ should handle nodes with resource property
2025-04-15T08:19:34.5147920Z       âœ“ should handle nodes with operation property (1 ms)
2025-04-15T08:19:34.5148082Z       âœ“ should handle nodes with both resource and operation properties (2 ms)
2025-04-15T08:19:34.5148184Z       âœ“ should handle nodes with empty properties
2025-04-15T08:19:34.5148316Z       âœ“ should handle nodes with existing codex property (1 ms)
2025-04-15T08:19:34.5148479Z       âœ“ should handle nodes with existing codex with tool subcategory overwrite
2025-04-15T08:19:34.5148597Z       âœ“ should handle nodes with very long names (4 ms)
2025-04-15T08:19:34.5148745Z       âœ“ should handle nodes with special characters in name and displayName
2025-04-15T08:19:34.5148803Z     resolveSchema
2025-04-15T08:19:34.5148933Z       âœ“ should return undefined if the node is not known (1 ms)
2025-04-15T08:19:34.5149065Z       âœ“ should return the correct path if the node is known
2025-04-15T08:19:34.5149219Z       âœ“ should return the correct path if there is no resource or operation
2025-04-15T08:19:34.5149380Z     createAiTools
2025-04-15T08:19:34.5149502Z       âœ“ should create AI tools for nodes marked as usableAsTool
2025-04-15T08:19:34.5149620Z       âœ“ should duplicate supportedNodes for AI tools
2025-04-15T08:19:34.5149742Z       âœ“ should not modify nodes without usableAsTool property
2025-04-15T08:19:34.5149901Z       âœ“ should handle nodes with usableAsTool as an object with replacements
2025-04-15T08:19:34.5149905Z 
2025-04-15T08:19:34.5150109Z PASS test/integration/controllers/invitation/invitation.controller.integration.test.ts
2025-04-15T08:19:34.5150163Z   InvitationController
2025-04-15T08:19:34.5150239Z     POST /invitations/:id/accept
2025-04-15T08:19:34.5150334Z       âœ“ should fill out a member shell (134 ms)
2025-04-15T08:19:34.5150439Z       âœ“ should fill out an admin shell (114 ms)
2025-04-15T08:19:34.5150540Z       âœ“ should fail with invalid payloads (18 ms)
2025-04-15T08:19:34.5150662Z       âœ“ should fail with already accepted invite (109 ms)
2025-04-15T08:19:34.5150811Z     POST /invitations
2025-04-15T08:19:34.5150920Z       âœ“ should fail with invalid payloads (43 ms)
2025-04-15T08:19:34.5151023Z       âœ“ should return 200 on empty payload (9 ms)
2025-04-15T08:19:34.5151147Z       âœ“ should return 200 if emailing is not set up (11 ms)
2025-04-15T08:19:34.5151239Z       âœ“ should create member shell (22 ms)
2025-04-15T08:19:34.5151379Z       âœ“ should create personal project for shell account (11 ms)
2025-04-15T08:19:34.5151536Z       âœ“ should create admin shell when advanced permissions is licensed (12 ms)
2025-04-15T08:19:34.5151669Z       âœ“ should reinvite member when sharing is licensed (24 ms)
2025-04-15T08:19:34.5151828Z       âœ“ should reinvite admin when advanced permissions is licensed (23 ms)
2025-04-15T08:19:34.5152028Z       âœ“ should return 403 on creating admin shell when advanced permissions is unlicensed (5 ms)
2025-04-15T08:19:34.5152221Z       âœ“ should email invites and create user shells, without inviting existing users (37 ms)
2025-04-15T08:19:34.5152399Z       âœ“ should return 200 and surface error when invite method throws error (11 ms)
2025-04-15T08:19:34.5152404Z 
2025-04-15T08:19:34.5152576Z PASS src/controllers/oauth/__tests__/oauth2-credential.controller.test.ts
2025-04-15T08:19:34.5152639Z   OAuth2CredentialController
2025-04-15T08:19:34.5152700Z     getAuthUri
2025-04-15T08:19:34.5152884Z       âœ“ should throw a BadRequestError when credentialId is missing in the query (16 ms)
2025-04-15T08:19:34.5153078Z       âœ“ should throw a NotFoundError when no matching credential is found for the user (1 ms)
2025-04-15T08:19:34.5153174Z       âœ“ should return a valid auth URI (3 ms)
2025-04-15T08:19:34.5153234Z     handleCallback
2025-04-15T08:19:34.5153381Z       âœ“ should render the error page when required query params are missing
2025-04-15T08:19:34.5153548Z       âœ“ should render the error page when `state` query param is invalid (1 ms)
2025-04-15T08:19:34.5153708Z       âœ“ should render the error page when credential is not found in DB (1 ms)
2025-04-15T08:19:34.5153919Z       âœ“ should render the error page when csrfSecret on the saved credential does not match the state
2025-04-15T08:19:34.5154073Z       âœ“ should render the error page when state is older than 5 minutes (1 ms)
2025-04-15T08:19:34.5154208Z       âœ“ should render the error page when code exchange fails (44 ms)
2025-04-15T08:19:34.5154367Z       âœ“ should exchange the code for a valid token, and save it to DB (21 ms)
2025-04-15T08:19:34.5154484Z       âœ“ merges oauthTokenData if it already exists (21 ms)
2025-04-15T08:19:34.5154611Z       âœ“ overwrites oauthTokenData if it is a string (17 ms)
2025-04-15T08:19:34.5154615Z 
2025-04-15T08:19:34.5154707Z PASS test/integration/variables.test.ts
2025-04-15T08:19:34.5154765Z   GET /variables
2025-04-15T08:19:34.5154912Z     âœ“ should return an empty array if there is nothing in the cache (35 ms)
2025-04-15T08:19:34.5155033Z     âœ“ should return all variables for an owner (21 ms)
2025-04-15T08:19:34.5155151Z     âœ“ should return all variables for a member (16 ms)
2025-04-15T08:19:34.5155302Z     state:empty
2025-04-15T08:19:34.5155402Z       âœ“ only return empty variables (19 ms)
2025-04-15T08:19:34.5155453Z   GET /variables/:id
2025-04-15T08:19:34.5155582Z     âœ“ should return a single variable for an owner (16 ms)
2025-04-15T08:19:34.5155700Z     âœ“ should return a single variable for a member (15 ms)
2025-04-15T08:19:34.5155755Z   POST /variables
2025-04-15T08:19:34.5155893Z     âœ“ should create a new variable and return it for an owner (13 ms)
2025-04-15T08:19:34.5156048Z     âœ“ should not create a new variable and return it for a member (9 ms)
2025-04-15T08:19:34.5156246Z     âœ“ should not create a new variable and return it if the instance doesn't have a license (7 ms)
2025-04-15T08:19:34.5156421Z     âœ“ should fail to create a new variable and if one with the same key exists (20 ms)
2025-04-15T08:19:34.5156536Z     âœ“ should not fail if variable limit not reached (16 ms)
2025-04-15T08:19:34.5156651Z     âœ“ should fail if variable limit reached (44 ms)
2025-04-15T08:19:34.5156838Z     âœ“ should fail if key too long (13 ms)
2025-04-15T08:19:34.5156977Z     âœ“ should fail if value too long (7 ms)
2025-04-15T08:19:34.5157105Z     âœ“ should fail if key contain's prohibited characters (6 ms)
2025-04-15T08:19:34.5157165Z   PATCH /variables/:id
2025-04-15T08:19:34.5157305Z     âœ“ should modify existing variable if use is an owner (23 ms)
2025-04-15T08:19:34.5157431Z     âœ“ should modify existing variable if use is an owner (26 ms)
2025-04-15T08:19:34.5157579Z     âœ“ should not modify existing variable if use is a member (15 ms)
2025-04-15T08:19:34.5157743Z     âœ“ should not modify existing variable if one with the same key exists (10 ms)
2025-04-15T08:19:34.5157803Z   DELETE /variables/:id
2025-04-15T08:19:34.5157917Z     âœ“ should delete a single variable for an owner (31 ms)
2025-04-15T08:19:34.5158050Z     âœ“ should not delete a single variable for a member (29 ms)
2025-04-15T08:19:34.5158054Z 
2025-04-15T08:19:34.5158189Z PASS src/workflows/__tests__/workflow-execution.service.test.ts
2025-04-15T08:19:34.5158261Z   WorkflowExecutionService
2025-04-15T08:19:34.5158312Z     runWorkflow()
2025-04-15T08:19:34.5158419Z       âœ“ should call `WorkflowRunner.run()` (5 ms)
2025-04-15T08:19:34.5158470Z     executeManually()
2025-04-15T08:19:34.5158712Z       âœ“ should call `WorkflowRunner.run()` with correct parameters with default partial execution logic (14 ms)
2025-04-15T08:19:34.5158856Z       âœ“ removes runData if the destination node is a trigger (1 ms)
2025-04-15T08:19:34.5159080Z       âœ“ should call WorkflowRunner.run() with pinned trigger with type trigger (1 ms)
2025-04-15T08:19:34.5159261Z       âœ“ should call WorkflowRunner.run() with pinned trigger with type webhook
2025-04-15T08:19:34.5159398Z       âœ“ should start from pinned trigger (1 ms)
2025-04-15T08:19:34.5159595Z       âœ“ should ignore pinned trigger and start from unexecuted trigger
2025-04-15T08:19:34.5159700Z     selectPinnedActivatorStarter()
2025-04-15T08:19:34.5159860Z       âœ“ should return `null` if no pindata
2025-04-15T08:19:34.5160003Z       âœ“ should return `null` if no starter nodes
2025-04-15T08:19:34.5160172Z       âœ“ should select webhook node if only choice
2025-04-15T08:19:34.5160298Z       âœ“ should return `null` if no choice (1 ms)
2025-04-15T08:19:34.5160465Z       âœ“ should return ignore Respond to Webhook
2025-04-15T08:19:34.5160620Z       âœ“ should select execute workflow trigger if only choice
2025-04-15T08:19:34.5160809Z       âœ“ should favor webhook node over execute workflow trigger
2025-04-15T08:19:34.5160965Z       âœ“ should favor first webhook node over second webhook node
2025-04-15T08:19:34.5161108Z       offloading manual executions to workers
2025-04-15T08:19:34.5161340Z         âœ“ when receiving no `runData`, should set `runData` to undefined in `executionData` (2 ms)
2025-04-15T08:19:34.5161383Z 
2025-04-15T08:19:34.5161523Z PASS src/__tests__/manual-execution.service.test.ts
2025-04-15T08:19:34.5161656Z   ManualExecutionService
2025-04-15T08:19:34.5161743Z     getExecutionStartNode
2025-04-15T08:19:34.5162016Z       âœ“ Should return undefined (3 ms)
2025-04-15T08:19:34.5162139Z       âœ“ Should return startNode (1 ms)
2025-04-15T08:19:34.5162319Z       âœ“ Should return triggerToStartFrom trigger node
2025-04-15T08:19:34.5162399Z     runManually
2025-04-15T08:19:34.5162704Z       âœ“ should correctly process triggerToStartFrom data when data.triggerToStartFrom.data is present (3 ms)
2025-04-15T08:19:34.5162915Z       âœ“ should correctly include destinationNode in executionData when provided (1 ms)
2025-04-15T08:19:34.5163180Z       âœ“ should call workflowExecute.run for full execution when no runData or startNodes
2025-04-15T08:19:34.5163376Z       âœ“ should use execution start node when available for full execution (1 ms)
2025-04-15T08:19:34.5163662Z       âœ“ should handle partial execution with provided runData, startNodes and no destinationNode (1 ms)
2025-04-15T08:19:34.5163857Z       âœ“ should handle partial execution with partialExecutionVersion=2 (1 ms)
2025-04-15T08:19:34.5164032Z       âœ“ should validate nodes exist before execution
2025-04-15T08:19:34.5164330Z       âœ“ should handle pinData correctly when provided (9 ms)
2025-04-15T08:19:34.5164335Z 
2025-04-15T08:19:34.5164455Z PASS test/integration/mfa/mfa.api.test.ts
2025-04-15T08:19:34.5164577Z   Enable MFA setup
2025-04-15T08:19:34.5164657Z     Step one
2025-04-15T08:19:34.5164851Z       âœ“ GET /qr should fail due to unauthenticated user (61 ms)
2025-04-15T08:19:34.5165056Z       âœ“ GET /qr should reuse secret and recovery codes until setup is complete (96 ms)
2025-04-15T08:19:34.5165253Z       âœ“ GET /qr should return qr, secret and recovery codes (28 ms)
2025-04-15T08:19:34.5165332Z     Step two
2025-04-15T08:19:34.5165545Z       âœ“ POST /verify should fail due to unauthenticated user (16 ms)
2025-04-15T08:19:34.5165704Z       âœ“ POST /verify should fail due to invalid MFA code (26 ms)
2025-04-15T08:19:34.5165926Z       âœ“ POST /verify should fail due to missing mfaCode parameter (23 ms)
2025-04-15T08:19:34.5166068Z       âœ“ POST /verify should validate MFA code (62 ms)
2025-04-15T08:19:34.5166198Z     Step three
2025-04-15T08:19:34.5166367Z       âœ“ POST /enable should fail due to unauthenticated user (12 ms)
2025-04-15T08:19:34.5166580Z       âœ“ POST /verify should fail due to missing mfaCode parameter (38 ms)
2025-04-15T08:19:34.5166773Z       âœ“ POST /enable should fail due to invalid MFA code (64 ms)
2025-04-15T08:19:34.5166967Z       âœ“ POST /enable should fail due to empty secret and recovery codes (12 ms)
2025-04-15T08:19:34.5167175Z       âœ“ POST /enable should enable MFA in account (43 ms)
2025-04-15T08:19:34.5167347Z       âœ“ POST /enable should not enable MFA if pre check fails (39 ms)
2025-04-15T08:19:34.5167485Z   Disable MFA setup
2025-04-15T08:19:34.5167632Z     âœ“ POST /disable should disable login with MFA (38 ms)
2025-04-15T08:19:34.5167857Z     âœ“ POST /disable should fail if invalid MFA recovery code is given (24 ms)
2025-04-15T08:19:34.5168026Z     âœ“ POST /disable should fail if invalid MFA code is given (30 ms)
2025-04-15T08:19:34.5168357Z     âœ“ POST /disable should fail if neither MFA code nor recovery code is sent (41 ms)
2025-04-15T08:19:34.5168467Z   Change password with MFA enabled
2025-04-15T08:19:34.5168684Z     âœ“ POST /change-password should fail due to missing MFA code (62 ms)
2025-04-15T08:19:34.5168858Z     âœ“ POST /change-password should fail due to invalid MFA code (29 ms)
2025-04-15T08:19:34.5169805Z     âœ“ POST /change-password should update password (173 ms)
2025-04-15T08:19:34.5169925Z   MFA before enable checks
2025-04-15T08:19:34.5170131Z     âœ“ POST /can-enable should throw error if mfa.beforeSetup returns error (23 ms)
2025-04-15T08:19:34.5170377Z     âœ“ POST /can-enable should not throw error if mfa.beforeSetup does not exist (17 ms)
2025-04-15T08:19:34.5170458Z   Login
2025-04-15T08:19:34.5170692Z     âœ“ POST /login with email/password should succeed when mfa is disabled (28 ms)
2025-04-15T08:19:34.5170926Z     âœ“ GET /login should not include mfaSecret and mfaRecoveryCodes property in response (21 ms)
2025-04-15T08:19:34.5171136Z     âœ“ POST /login with email/password should fail when mfa is enabled (20 ms)
2025-04-15T08:19:34.5171337Z     Login with MFA token
2025-04-15T08:19:34.5171472Z       âœ“ POST /login should fail due to invalid MFA token (40 ms)
2025-04-15T08:19:34.5171596Z       âœ“ POST /login should fail due two MFA step needed (24 ms)
2025-04-15T08:19:34.5171714Z       âœ“ POST /login should succeed with MFA token (16 ms)
2025-04-15T08:19:34.5171767Z     Login with recovery code
2025-04-15T08:19:34.5171923Z       âœ“ POST /login should fail due to invalid MFA recovery code (27 ms)
2025-04-15T08:19:34.5172054Z       âœ“ POST /login should succeed with MFA recovery code (23 ms)
2025-04-15T08:19:34.5172063Z 
2025-04-15T08:19:34.5172173Z PASS src/controllers/__tests__/me.controller.test.ts
2025-04-15T08:19:34.5172231Z   MeController
2025-04-15T08:19:34.5172282Z     updateCurrentUser
2025-04-15T08:19:34.5172431Z       âœ“ should update the user in the DB, and issue a new cookie (11 ms)
2025-04-15T08:19:34.5172616Z       âœ“ should throw BadRequestError if beforeUpdate hook throws BadRequestError (26 ms)
2025-04-15T08:19:34.5172883Z       when mfa is enabled
2025-04-15T08:19:34.5173018Z         âœ“ should throw BadRequestError if mfa code is missing (1 ms)
2025-04-15T08:19:34.5173154Z         âœ“ should throw InvalidMfaCodeError if mfa code is invalid
2025-04-15T08:19:34.5173283Z         âœ“ should update the user's email if mfa code is valid (1 ms)
2025-04-15T08:19:34.5173346Z     updatePassword
2025-04-15T08:19:34.5173477Z       âœ“ should throw if the user does not have a password set (1 ms)
2025-04-15T08:19:34.5173651Z       âœ“ should throw if currentPassword does not match the user's password (65 ms)
2025-04-15T08:19:34.5173802Z       âœ“ should update the password in the DB, and issue a new cookie (110 ms)
2025-04-15T08:19:34.5173891Z       should throw if newPassword is not valid
2025-04-15T08:19:34.5173955Z         âœ“ pass (59 ms)
2025-04-15T08:19:34.5174031Z         âœ“ password (61 ms)
2025-04-15T08:19:34.5174107Z         âœ“ password1 (57 ms)
2025-04-15T08:19:34.5174167Z       mfa enabled
2025-04-15T08:19:34.5174314Z         âœ“ should throw BadRequestError if mfa code is missing (54 ms)
2025-04-15T08:19:34.5174475Z         âœ“ should throw InvalidMfaCodeError if invalid mfa code is given (54 ms)
2025-04-15T08:19:34.5174598Z         âœ“ should succeed when mfa code is correct (110 ms)
2025-04-15T08:19:34.5174655Z     storeSurveyAnswers
2025-04-15T08:19:34.5174823Z       âœ“ should throw BadRequestError if answers are missing in the payload (1 ms)
2025-04-15T08:19:34.5174967Z       âœ“ should not flag XSS attempt for `<` sign in company size (4 ms)
2025-04-15T08:19:34.5175180Z       âœ“ should throw BadRequestError on XSS attempt for an array field automationGoalDevops (1 ms)
2025-04-15T08:19:34.5175391Z       âœ“ should throw BadRequestError on XSS attempt for an array field companyIndustryExtended (1 ms)
2025-04-15T08:19:34.5175619Z       âœ“ should throw BadRequestError on XSS attempt for an array field otherCompanyIndustryExtended (1 ms)
2025-04-15T08:19:34.5175796Z       âœ“ should throw BadRequestError on XSS attempt for an array field automationGoalSm
2025-04-15T08:19:34.5175988Z       âœ“ should throw BadRequestError on XSS attempt for an array field usageModes (1 ms)
2025-04-15T08:19:34.5176185Z       âœ“ should throw BadRequestError on XSS attempt for a string field automationGoalDevopsOther
2025-04-15T08:19:34.5176376Z       âœ“ should throw BadRequestError on XSS attempt for a string field companySize (1 ms)
2025-04-15T08:19:34.5176548Z       âœ“ should throw BadRequestError on XSS attempt for a string field companyType
2025-04-15T08:19:34.5176748Z       âœ“ should throw BadRequestError on XSS attempt for a string field automationGoalSmOther (1 ms)
2025-04-15T08:19:34.5176969Z       âœ“ should throw BadRequestError on XSS attempt for a string field roleOther (1 ms)
2025-04-15T08:19:34.5177143Z       âœ“ should throw BadRequestError on XSS attempt for a string field reportedSource
2025-04-15T08:19:34.5177353Z       âœ“ should throw BadRequestError on XSS attempt for a string field reportedSourceOther (1 ms)
2025-04-15T08:19:34.5177462Z 
2025-04-15T08:19:34.5177569Z PASS src/webhooks/__tests__/webhook-helpers.test.ts
2025-04-15T08:19:34.5177645Z   autoDetectResponseMode
2025-04-15T08:19:34.5177842Z     âœ“ should return undefined if start node is WAIT_NODE_TYPE with resume not equal to form (14 ms)
2025-04-15T08:19:34.5178044Z     âœ“ should return responseNode when start node is FORM_NODE_TYPE and method is POST (15 ms)
2025-04-15T08:19:34.5178255Z     âœ“ should return undefined when start node is FORM_NODE_TYPE with no other form child nodes (7 ms)
2025-04-15T08:19:34.5178411Z     âœ“ should return undefined for non-matching node type and method (1 ms)
2025-04-15T08:19:34.5178478Z   handleFormRedirectionCase
2025-04-15T08:19:34.5178689Z     âœ“ should return data unchanged if start node is WAIT_NODE_TYPE with resume not equal to form (1 ms)
2025-04-15T08:19:34.5178857Z     âœ“ should modify data if start node type matches and responseCode is a redirect
2025-04-15T08:19:34.5178975Z     âœ“ should not modify data if location header is missing
2025-04-15T08:19:34.5179156Z   getResponseOnReceived
2025-04-15T08:19:34.5179316Z     âœ“ should return response with no data when responseData is "noData" (1 ms)
2025-04-15T08:19:34.5179477Z     âœ“ should return response with responseData when it is defined
2025-04-15T08:19:34.5179714Z     âœ“ should return response with webhookResponse when responseData is falsy but webhookResponse exists (1 ms)
2025-04-15T08:19:34.5179917Z     âœ“ should return default response message when responseData and webhookResponse are falsy
2025-04-15T08:19:34.5179975Z   setupResponseNodePromise
2025-04-15T08:19:34.5180089Z     âœ“ should handle regular response object (2 ms)
2025-04-15T08:19:34.5180193Z     âœ“ should handle binary data with ID (2 ms)
2025-04-15T08:19:34.5180291Z     âœ“ should handle buffer response (13 ms)
2025-04-15T08:19:34.5180395Z     âœ“ should handle errors properly (1 ms)
2025-04-15T08:19:34.5180448Z   prepareExecutionData
2025-04-15T08:19:34.5180583Z     âœ“ should create new execution data when not provided (1 ms)
2025-04-15T08:19:34.5180742Z     âœ“ should update existing runExecutionData when executionId is defined
2025-04-15T08:19:34.5180872Z     âœ“ should set destination node when provided
2025-04-15T08:19:34.5181010Z     âœ“ should update execution data with execution data merge (1 ms)
2025-04-15T08:19:34.5181132Z     âœ“ should set pinData when execution mode is manual
2025-04-15T08:19:34.5181285Z     âœ“ should not set pinData when execution mode is not manual or evaluation
2025-04-15T08:19:34.5181290Z 
2025-04-15T08:19:34.5181381Z PASS test/integration/me.api.test.ts
2025-04-15T08:19:34.5181429Z   Owner shell
2025-04-15T08:19:34.5181552Z     âœ“ PATCH /me should succeed with valid inputs (60 ms)
2025-04-15T08:19:34.5181667Z     âœ“ PATCH /me should fail with invalid inputs (81 ms)
2025-04-15T08:19:34.5181784Z     âœ“ PATCH /me/password should fail for shell (71 ms)
2025-04-15T08:19:34.5181918Z     âœ“ POST /me/survey should succeed with valid inputs (23 ms)
2025-04-15T08:19:34.5181968Z   Member
2025-04-15T08:19:34.5182088Z     âœ“ PATCH /me should succeed with valid inputs (34 ms)
2025-04-15T08:19:34.5182195Z     âœ“ PATCH /me should fail with invalid inputs (56 ms)
2025-04-15T08:19:34.5182341Z     âœ“ PATCH /me/password should succeed with valid inputs (82 ms)
2025-04-15T08:19:34.5182475Z     âœ“ PATCH /me/password should fail with invalid inputs (51 ms)
2025-04-15T08:19:34.5182605Z     âœ“ POST /me/survey should succeed with valid inputs (33 ms)
2025-04-15T08:19:34.5182653Z   Owner
2025-04-15T08:19:34.5182768Z     âœ“ PATCH /me should succeed with valid inputs (41 ms)
2025-04-15T08:19:34.5182772Z 
2025-04-15T08:19:34.5182875Z PASS src/webhooks/__tests__/webhook.service.test.ts
2025-04-15T08:19:34.5182933Z   WebhookService
2025-04-15T08:19:34.5183012Z     findWebhook() - static case [cache enabled]
2025-04-15T08:19:34.5183163Z       âœ“ should return the webhook if found (3 ms)
2025-04-15T08:19:34.5183254Z       âœ“ should return null if not found
2025-04-15T08:19:34.5183339Z     findWebhook() - dynamic case [cache enabled]
2025-04-15T08:19:34.5183550Z       âœ“ should return the webhook if found (1 ms)
2025-04-15T08:19:34.5183659Z       âœ“ should handle subset dynamic path case (1 ms)
2025-04-15T08:19:34.5183779Z       âœ“ should handle single-segment dynamic path case
2025-04-15T08:19:34.5183867Z       âœ“ should return null if not found
2025-04-15T08:19:34.5183951Z     findWebhook() - static case [cache disabled]
2025-04-15T08:19:34.5184046Z       âœ“ should return the webhook if found (1 ms)
2025-04-15T08:19:34.5184136Z       âœ“ should return null if not found
2025-04-15T08:19:34.5184256Z     findWebhook() - dynamic case [cache disabled]
2025-04-15T08:19:34.5184351Z       âœ“ should return the webhook if found
2025-04-15T08:19:34.5184457Z       âœ“ should handle subset dynamic path case (1 ms)
2025-04-15T08:19:34.5184568Z       âœ“ should handle single-segment dynamic path case
2025-04-15T08:19:34.5184662Z       âœ“ should return null if not found (1 ms)
2025-04-15T08:19:34.5184725Z     getWebhookMethods()
2025-04-15T08:19:34.5184933Z       âœ“ should return all methods for webhook
2025-04-15T08:19:34.5185062Z       âœ“ should return empty array if no webhooks found (1 ms)
2025-04-15T08:19:34.5185118Z     deleteWorkflowWebhooks()
2025-04-15T08:19:34.5185226Z       âœ“ should delete all webhooks of the workflow
2025-04-15T08:19:34.5185331Z       âœ“ should not delete any webhooks if none found
2025-04-15T08:19:34.5185391Z     createWebhook()
2025-04-15T08:19:34.5185487Z       âœ“ should store webhook in DB (1 ms)
2025-04-15T08:19:34.5185553Z     getNodeWebhooks()
2025-04-15T08:19:34.5185667Z       âœ“ should return empty array if node is disabled
2025-04-15T08:19:34.5185828Z       âœ“ should return webhooks for node with webhook definitions (1 ms)
2025-04-15T08:19:34.5185905Z     createWebhookIfNotExists()
2025-04-15T08:19:34.5186024Z       âœ“ should create webhook if it does not exist (1 ms)
2025-04-15T08:19:34.5186143Z       âœ“ should not create webhook if it already exists
2025-04-15T08:19:34.5186273Z       âœ“ should handle case when webhook methods are not defined
2025-04-15T08:19:34.5186344Z     deleteWebhook()
2025-04-15T08:19:34.5186456Z       âœ“ should call runWebhookMethod with delete (1 ms)
2025-04-15T08:19:34.5186519Z     runWebhook()
2025-04-15T08:19:34.5186653Z       âœ“ should throw error if node does not have webhooks (11 ms)
2025-04-15T08:19:34.5186789Z       âœ“ should execute webhook and return response data (1 ms)
2025-04-15T08:19:34.5186793Z 
2025-04-15T08:19:34.5186881Z PASS test/integration/auth.api.test.ts
2025-04-15T08:19:34.5186983Z   POST /login
2025-04-15T08:19:34.5187071Z     âœ“ should log user in (54 ms)
2025-04-15T08:19:34.5187177Z     âœ“ should log user with MFA enabled (43 ms)
2025-04-15T08:19:34.5187347Z     âœ“ should throw AuthError for non-owner if not within users limit quota (52 ms)
2025-04-15T08:19:34.5187527Z     âœ“ should not throw AuthError for owner if not within users limit quota (31 ms)
2025-04-15T08:19:34.5187755Z     âœ“ should fail with invalid email in the payload is the current authentication method is "email" (17 ms)
2025-04-15T08:19:34.5187816Z   GET /login
2025-04-15T08:19:34.5187941Z     âœ“ should return 401 Unauthorized if no cookie (19 ms)
2025-04-15T08:19:34.5188069Z     âœ“ should return 401 Unauthorized if invalid cookie (15 ms)
2025-04-15T08:19:34.5188178Z     âœ“ should return logged-in owner shell (23 ms)
2025-04-15T08:19:34.5188281Z     âœ“ should return logged-in member shell (21 ms)
2025-04-15T08:19:34.5188385Z     âœ“ should return logged-in owner (28 ms)
2025-04-15T08:19:34.5188479Z     âœ“ should return logged-in member (15 ms)
2025-04-15T08:19:34.5188545Z   GET /resolve-signup-token
2025-04-15T08:19:34.5188638Z     âœ“ should validate invite token (33 ms)
2025-04-15T08:19:34.5188756Z     âœ“ should return 403 if user quota reached (25 ms)
2025-04-15T08:19:34.5188854Z     âœ“ should fail with invalid inputs (40 ms)
2025-04-15T08:19:34.5188910Z   POST /logout
2025-04-15T08:19:34.5188991Z     âœ“ should log user out (19 ms)
2025-04-15T08:19:34.5188995Z 
2025-04-15T08:19:34.5189166Z PASS test/integration/environments/source-control-import.service.test.ts
2025-04-15T08:19:34.5189336Z   SourceControlImportService
2025-04-15T08:19:34.5189412Z     importCredentialsFromWorkFolder()
2025-04-15T08:19:34.5189531Z       if user email specified by `ownedBy` exists at target instance
2025-04-15T08:19:34.5189673Z         âœ“ should assign credential ownership to original user (29 ms)
2025-04-15T08:19:34.5189763Z       if user email specified by `ownedBy` is `null`
2025-04-15T08:19:34.5189898Z         âœ“ should assign credential ownership to importing user (7 ms)
2025-04-15T08:19:34.5190024Z       if user email specified by `ownedBy` does not exist at target instance
2025-04-15T08:19:34.5190185Z         âœ“ should assign credential ownership to importing user (9 ms)
2025-04-15T08:19:34.5190301Z     if owner specified by `ownedBy` does not exist at target instance
2025-04-15T08:19:34.5190585Z       âœ“ should assign the credential ownership to the importing user if it was owned by a personal project in the source instance (9 ms)
2025-04-15T08:19:34.5190928Z       âœ“ should create a new team project if the credential was owned by a team project in the source instance (10 ms)
2025-04-15T08:19:34.5191038Z     if owner specified by `ownedBy` does exist at target instance
2025-04-15T08:19:34.5191230Z       âœ“ should use the existing team project if credential owning project is found (13 ms)
2025-04-15T08:19:34.5191453Z       âœ“ should not change the owner if the credential is owned by somebody else on the target instance (14 ms)
2025-04-15T08:19:34.5191458Z 
2025-04-15T08:19:34.5191915Z (node:6051) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 uncaughtException listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
2025-04-15T08:19:34.5192067Z (Use `node --trace-warnings ...` to show where the warning was created)
2025-04-15T08:19:34.5192169Z PASS test/integration/commands/ldap/reset.test.ts
2025-04-15T08:19:34.5192420Z   âœ“ fails if neither `--userId` nor `--projectId` nor `--deleteWorkflowsAndCredentials` is passed (27 ms)
2025-04-15T08:19:34.5192655Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (4 ms)
2025-04-15T08:19:34.5192864Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (5 ms)
2025-04-15T08:19:34.5193080Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (1 ms)
2025-04-15T08:19:34.5193288Z   âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
2025-04-15T08:19:34.5193371Z   --deleteWorkflowsAndCredentials
2025-04-15T08:19:34.5193581Z     âœ“ deletes personal projects, workflows and credentials owned by LDAP managed users (101 ms)
2025-04-15T08:19:34.5193687Z     âœ“ deletes the LDAP sync history (8 ms)
2025-04-15T08:19:34.5193773Z     âœ“ resets LDAP settings (17 ms)
2025-04-15T08:19:34.5193833Z   --userId
2025-04-15T08:19:34.5193933Z     âœ“ fails if the user does not exist (6 ms)
2025-04-15T08:19:34.5194084Z     âœ“ fails if the user to migrate to is also an LDAP user (11 ms)
2025-04-15T08:19:34.5194261Z     âœ“ transfers all workflows and credentials to the user's personal project (87 ms)
2025-04-15T08:19:34.5194319Z   --projectId
2025-04-15T08:19:34.5194423Z     âœ“ fails if the project does not exist (4 ms)
2025-04-15T08:19:34.5194559Z     âœ“ fails if the user to migrate to is also an LDAP user (8 ms)
2025-04-15T08:19:34.5194722Z     âœ“ transfers all workflows and credentials to a personal project (63 ms)
2025-04-15T08:19:34.5194869Z     âœ“ transfers all workflows and credentials to a team project (52 ms)
2025-04-15T08:19:34.5194874Z 
2025-04-15T08:19:34.5195070Z PASS src/executions/pre-execution-checks/__tests__/subworkflow-policy-checker.test.ts
2025-04-15T08:19:34.5195130Z   SubworkflowPolicyChecker
2025-04-15T08:19:34.5195186Z     no caller policy
2025-04-15T08:19:34.5195342Z       âœ“ should fall back to `N8N_WORKFLOW_CALLER_POLICY_DEFAULT_OPTION` (16 ms)
2025-04-15T08:19:34.5195423Z     `workflows-from-list` caller policy
2025-04-15T08:19:34.5195678Z       âœ“ should allow if caller list contains parent workflow ID (1 ms)
2025-04-15T08:19:34.5195843Z       âœ“ should deny if caller list does not contain parent workflow ID (1 ms)
2025-04-15T08:19:34.5195896Z     `any` caller policy
2025-04-15T08:19:34.5196015Z       âœ“ should not throw on a regular subworkflow call
2025-04-15T08:19:34.5196098Z     `workflows-from-same-owner` caller policy
2025-04-15T08:19:34.5196250Z       âœ“ should deny if the two workflows are owned by different projects
2025-04-15T08:19:34.5196406Z       âœ“ should allow if both workflows are owned by the same project (1 ms)
2025-04-15T08:19:34.5196458Z     error details
2025-04-15T08:19:34.5196590Z       âœ“ should contain description for accessible case (1 ms)
2025-04-15T08:19:34.5196742Z       âœ“ should contain description for inaccessible personal project case
2025-04-15T08:19:34.5196903Z       âœ“ should contain description for inaccessible team project case (1 ms)
2025-04-15T08:19:34.5197209Z       âœ“ should contain description for default (e.g. error workflow) case (1 ms)
2025-04-15T08:19:34.5197213Z 
2025-04-15T08:19:34.5197318Z PASS src/__tests__/active-executions.test.ts
2025-04-15T08:19:34.5197371Z   ActiveExecutions
2025-04-15T08:19:34.5197538Z     âœ“ Should initialize activeExecutions with empty list (3 ms)
2025-04-15T08:19:34.5197659Z     âœ“ Should add execution to active execution list (1 ms)
2025-04-15T08:19:34.5197812Z     âœ“ Should update execution if add is called with execution ID (1 ms)
2025-04-15T08:19:34.5197969Z     âœ“ Should attach and resolve response promise to existing execution (1 ms)
2025-04-15T08:19:34.5198199Z     âœ“ Should copy over startedAt and responsePromise when resuming a waiting execution (1 ms)
2025-04-15T08:19:34.5198264Z     attachWorkflowExecution
2025-04-15T08:19:34.5198407Z       âœ“ Should fail attaching execution to invalid executionId (12 ms)
2025-04-15T08:19:34.5198567Z       âœ“ Should successfully attach execution to valid executionId (1 ms)
2025-04-15T08:19:34.5198633Z     finalizeExecution
2025-04-15T08:19:34.5198746Z       âœ“ Should not remove a waiting execution (1 ms)
2025-04-15T08:19:34.5198851Z       âœ“ Should remove an existing execution (4 ms)
2025-04-15T08:19:34.5199039Z       âœ“ Should not try to resolve a post-execute promise for an inactive execution (1 ms)
2025-04-15T08:19:34.5199165Z       âœ“ Should resolve post execute promise on removal (5 ms)
2025-04-15T08:19:34.5199233Z     getPostExecutePromise
2025-04-15T08:19:34.5199411Z       âœ“ Should throw error when trying to create a promise with invalid execution (1 ms)
2025-04-15T08:19:34.5199488Z     stopExecution
2025-04-15T08:19:34.5199589Z       âœ“ Should cancel ongoing executions (1 ms)
2025-04-15T08:19:34.5199695Z       âœ“ Should cancel waiting executions (1 ms)
2025-04-15T08:19:34.5199740Z     shutdown
2025-04-15T08:19:34.5199912Z       âœ“ Should cancel only executions with response-promises by default (8 ms)
2025-04-15T08:19:34.5200044Z       âœ“ Should cancel all executions when cancelAll is true (1 ms)
2025-04-15T08:19:34.5200068Z 
2025-04-15T08:19:34.5200164Z PASS src/telemetry/__tests__/telemetry.test.ts
2025-04-15T08:19:34.5200223Z   Telemetry
2025-04-15T08:19:34.5200281Z     trackWorkflowExecution
2025-04-15T08:19:34.5200388Z       âœ“ should count executions correctly (4 ms)
2025-04-15T08:19:34.5200557Z       âœ“ should fire "Workflow execution errored" event for failed executions (1 ms)
2025-04-15T08:19:34.5200700Z       âœ“ should track production executions count correctly (5 ms)
2025-04-15T08:19:34.5200753Z     Rudderstack
2025-04-15T08:19:34.5201029Z       âœ“ should call rudderStack.identify() with a fake IP address to instruct Rudderstack to not use the user's IP address (1 ms)
2025-04-15T08:19:34.5201283Z       âœ“ should call rudderStack.track() with a fake IP address to instruct Rudderstack to not use the user's IP address (1 ms)
2025-04-15T08:19:34.5201287Z 
2025-04-15T08:19:34.5201401Z PASS test/integration/public-api/credentials.test.ts
2025-04-15T08:19:34.5201475Z   POST /credentials
2025-04-15T08:19:34.5201668Z     âœ“ should create credentials (178 ms)
2025-04-15T08:19:34.5201774Z     âœ“ should fail with invalid inputs (25 ms)
2025-04-15T08:19:34.5201828Z   DELETE /credentials/:id
2025-04-15T08:19:34.5201936Z     âœ“ should delete owned cred for owner (17 ms)
2025-04-15T08:19:34.5202041Z     âœ“ should delete non-owned cred for owner (23 ms)
2025-04-15T08:19:34.5202152Z     âœ“ should delete owned cred for member (25 ms)
2025-04-15T08:19:34.5202305Z     âœ“ should delete owned cred for member but leave others untouched (37 ms)
2025-04-15T08:19:34.5202428Z     âœ“ should not delete non-owned cred for member (52 ms)
2025-04-15T08:19:34.5202519Z     âœ“ should fail if cred not found (6 ms)
2025-04-15T08:19:34.5202601Z   GET /credentials/schema/:credentialType
2025-04-15T08:19:34.5202698Z     âœ“ should fail due to not found type (8 ms)
2025-04-15T08:19:34.5202801Z     âœ“ should retrieve credential type (4 ms)
2025-04-15T08:19:34.5202870Z   PUT /credentials/:id/transfer
2025-04-15T08:19:34.5202986Z     âœ“ should transfer credential to project (40 ms)
2025-04-15T08:19:34.5203242Z     âœ“ should transfer the right credential, not the first one it finds (26 ms)
2025-04-15T08:19:34.5203362Z     âœ“ if no destination project, should reject (12 ms)
2025-04-15T08:19:34.5203366Z 
2025-04-15T08:19:34.5203461Z PASS test/integration/eventbus.ee.test.ts
2025-04-15T08:19:34.5203575Z   âœ“ should have a running logwriter process (3 ms)
2025-04-15T08:19:34.5203680Z   âœ“ should have logwriter log messages (16 ms)
2025-04-15T08:19:34.5203786Z   âœ“ should anonymize audit message to syslog  (6 ms)
2025-04-15T08:19:34.5203884Z   âœ“ should send message to webhook  (3 ms)
2025-04-15T08:19:34.5203972Z   âœ“ should send message to sentry  (3 ms)
2025-04-15T08:19:34.5204133Z   âœ“ DELETE /eventbus/destination delete all destinations by id (13 ms)
2025-04-15T08:19:34.5204187Z   GET /eventbus/destination
2025-04-15T08:19:34.5204311Z     âœ“ should fail due to missing authentication (10 ms)
2025-04-15T08:19:34.5204443Z     âœ“ all returned destinations should exist in eventbus (5 ms)
2025-04-15T08:19:34.5204516Z   POST /eventbus/destination
2025-04-15T08:19:34.5204605Z     âœ“ create syslog destination (6 ms)
2025-04-15T08:19:34.5204702Z     âœ“ create sentry destination (4 ms)
2025-04-15T08:19:34.5204794Z     âœ“ create webhook destination (4 ms)
2025-04-15T08:19:34.5204798Z 
2025-04-15T08:19:34.5204953Z PASS test/integration/external-secrets/external-secrets.api.test.ts
2025-04-15T08:19:34.5205027Z   GET /external-secrets/providers
2025-04-15T08:19:34.5205127Z     âœ“ can retrieve providers as owner (25 ms)
2025-04-15T08:19:34.5205237Z     âœ“ can not retrieve providers as non-owner (9 ms)
2025-04-15T08:19:34.5205322Z     âœ“ does obscure passwords (12 ms)
2025-04-15T08:19:34.5205410Z   GET /external-secrets/providers/:provider
2025-04-15T08:19:34.5205501Z     âœ“ can retrieve provider as owner (6 ms)
2025-04-15T08:19:34.5205615Z     âœ“ can not retrieve provider as non-owner (11 ms)
2025-04-15T08:19:34.5205701Z     âœ“ does obscure passwords (8 ms)
2025-04-15T08:19:34.5205801Z   POST /external-secrets/providers/:provider
2025-04-15T08:19:34.5205917Z     âœ“ can update provider settings (11 ms)
2025-04-15T08:19:34.5206052Z     âœ“ can update provider settings with blanking value (14 ms)
2025-04-15T08:19:34.5206142Z   POST /external-secrets/providers/:provider/connect
2025-04-15T08:19:34.5206258Z     âœ“ can change provider connected state (13 ms)
2025-04-15T08:19:34.5206342Z   POST /external-secrets/providers/:provider/test
2025-04-15T08:19:34.5206434Z     âœ“ can test provider (6 ms)
2025-04-15T08:19:34.5206519Z     âœ“ can test provider fail (10 ms)
2025-04-15T08:19:34.5206613Z   POST /external-secrets/providers/:provider/update
2025-04-15T08:19:34.5206695Z     âœ“ can update provider (5 ms)
2025-04-15T08:19:34.5206795Z     âœ“ can not update errored provider (5 ms)
2025-04-15T08:19:34.5206922Z     âœ“ can not update provider without a valid license (6 ms)
2025-04-15T08:19:34.5207030Z   GET /external-secrets/secrets
2025-04-15T08:19:34.5207127Z     âœ“ can get secret names as owner (4 ms)
2025-04-15T08:19:34.5207341Z     âœ“ can not get secret names as non-owner (4 ms)
2025-04-15T08:19:34.5207345Z 
2025-04-15T08:19:34.5207467Z PASS test/integration/active-workflow-manager.test.ts
2025-04-15T08:19:34.5207517Z   init()
2025-04-15T08:19:34.5207627Z     âœ“ should load workflows into memory (35 ms)
2025-04-15T08:19:34.5207713Z     âœ“ should call external hook (3 ms)
2025-04-15T08:19:34.5207837Z     âœ“ should check that workflow can be activated (24 ms)
2025-04-15T08:19:34.5207889Z   isActive()
2025-04-15T08:19:34.5208029Z     âœ“ should return `true` for active workflow in storage (20 ms)
2025-04-15T08:19:34.5208261Z     âœ“ should return `false` for inactive workflow in storage (10 ms)
2025-04-15T08:19:34.5208314Z   add()
2025-04-15T08:19:34.5208495Z     âœ“ should count workflow triggers correctly when node has multiple webhooks (10 ms)
2025-04-15T08:19:34.5208563Z     in single-main mode
2025-04-15T08:19:34.5208767Z       âœ“ should add webhooks, triggers and pollers for workflow in 'activate' activation mode (22 ms)
2025-04-15T08:19:34.5209100Z       âœ“ should add webhooks, triggers and pollers for workflow in 'update' activation mode (10 ms)
2025-04-15T08:19:34.5209159Z   removeAll()
2025-04-15T08:19:34.5209282Z     âœ“ should remove all active workflows from memory (16 ms)
2025-04-15T08:19:34.5209378Z   remove()
2025-04-15T08:19:34.5209431Z     in single-main mode
2025-04-15T08:19:34.5209581Z       âœ“ should remove all webhooks of a workflow from database (14 ms)
2025-04-15T08:19:34.5209741Z       âœ“ should remove all webhooks of a workflow from external service (13 ms)
2025-04-15T08:19:34.5209866Z       âœ“ should stop running triggers and pollers (12 ms)
2025-04-15T08:19:34.5209922Z   executeErrorWorkflow()
2025-04-15T08:19:34.5210064Z     âœ“ should be called on failure to activate due to 401 (19 ms)
2025-04-15T08:19:34.5210115Z   addWebhooks()
2025-04-15T08:19:34.5210240Z     âœ“ should call `WebhookService.storeWebhook()` (9 ms)
2025-04-15T08:19:34.5210244Z 
2025-04-15T08:19:34.5210357Z PASS test/integration/evaluation/test-runs.api.test.ts
2025-04-15T08:19:34.5210479Z   GET /evaluation/test-definitions/:testDefinitionId/runs
2025-04-15T08:19:34.5210623Z     âœ“ should retrieve empty list of runs for a test definition (44 ms)
2025-04-15T08:19:34.5210765Z     âœ“ should return 404 if test definition does not exist (84 ms)
2025-04-15T08:19:34.5210929Z     âœ“ should return 404 if user does not have access to test definition (35 ms)
2025-04-15T08:19:34.5211059Z     âœ“ should retrieve list of runs for a test definition (40 ms)
2025-04-15T08:19:34.5211227Z     âœ“ should retrieve list of runs for a test definition with pagination (80 ms)
2025-04-15T08:19:34.5211335Z   GET /evaluation/test-definitions/:testDefinitionId/runs/:id
2025-04-15T08:19:34.5211467Z     âœ“ should retrieve test run for a test definition (37 ms)
2025-04-15T08:19:34.5211586Z     âœ“ should return 404 if test run does not exist (39 ms)
2025-04-15T08:19:34.5211751Z     âœ“ should return 404 if user does not have access to test definition (32 ms)
2025-04-15T08:19:34.5211918Z     âœ“ should retrieve test run for a test definition of a shared workflow (63 ms)
2025-04-15T08:19:34.5212052Z   DELETE /evaluation/test-definitions/:testDefinitionId/runs/:id
2025-04-15T08:19:34.5212166Z     âœ“ should delete test run for a test definition (33 ms)
2025-04-15T08:19:34.5212288Z     âœ“ should return 404 if test run does not exist (38 ms)
2025-04-15T08:19:34.5212441Z     âœ“ should return 404 if user does not have access to test definition (19 ms)
2025-04-15T08:19:34.5212575Z   POST /evaluation/test-definitions/:testDefinitionId/runs/:id/cancel
2025-04-15T08:19:34.5212674Z     âœ“ should cancel test run (21 ms)
2025-04-15T08:19:34.5212795Z     âœ“ should return 404 if test run does not exist (16 ms)
2025-04-15T08:19:34.5212933Z     âœ“ should return 404 if test definition does not exist (21 ms)
2025-04-15T08:19:34.5213086Z     âœ“ should return 404 if user does not have access to test definition (30 ms)
2025-04-15T08:19:34.5213090Z 
2025-04-15T08:19:34.5213199Z PASS test/integration/prometheus-metrics.test.ts
2025-04-15T08:19:34.5213381Z   PrometheusMetricsService
2025-04-15T08:19:34.5213478Z     âœ“ should return n8n version (19 ms)
2025-04-15T08:19:34.5213588Z     âœ“ should return default metrics if enabled (5 ms)
2025-04-15T08:19:34.5213713Z     âœ“ should not return default metrics if disabled (2 ms)
2025-04-15T08:19:34.5213821Z     âœ“ should return cache metrics if enabled (2 ms)
2025-04-15T08:19:34.5213941Z     âœ“ should not return cache metrics if disabled (2 ms)
2025-04-15T08:19:34.5214045Z     âœ“ should return route metrics if enabled (5 ms)
2025-04-15T08:19:34.5214235Z     âœ“ should include last activity metric with route metrics (8 ms)
2025-04-15T08:19:34.5214360Z     âœ“ should return labels in route metrics if enabled (8 ms)
2025-04-15T08:19:34.5214468Z     âœ“ should return queue metrics if enabled (2 ms)
2025-04-15T08:19:34.5214634Z     âœ“ should set queue metrics in response to `job-counts-updated` event (2 ms)
2025-04-15T08:19:34.5214738Z     âœ“ should return active workflow count (26 ms)
2025-04-15T08:19:34.5214843Z 
2025-04-15T08:19:34.5214950Z PASS src/commands/__tests__/community-node.test.ts
2025-04-15T08:19:34.5215008Z   uninstallCredential
2025-04-15T08:19:34.5215106Z     âœ“ should delete a credential (4 ms)
2025-04-15T08:19:34.5215209Z     âœ“ should return if the user is not found (1 ms)
2025-04-15T08:19:34.5215331Z     âœ“ should return if the credential is not found (1 ms)
2025-04-15T08:19:34.5215430Z     âœ“ should delete multiple credentials (1 ms)
2025-04-15T08:19:34.5215491Z   uninstallPackage
2025-04-15T08:19:34.5215587Z     âœ“ should uninstall the package (1 ms)
2025-04-15T08:19:34.5215709Z     âœ“ should uninstall all nodes from a package (1 ms)
2025-04-15T08:19:34.5215807Z     âœ“ should return if a package is not found
2025-04-15T08:19:34.5215917Z     âœ“ should return if nodes are not found (1 ms)
2025-04-15T08:19:34.5215921Z 
2025-04-15T08:19:34.5216024Z PASS test/integration/public-api/projects.test.ts
2025-04-15T08:19:34.5216081Z   Projects in Public API
2025-04-15T08:19:34.5216135Z     GET /projects
2025-04-15T08:19:34.5216293Z       âœ“ if licensed, should return all projects with pagination (351 ms)
2025-04-15T08:19:34.5216402Z       âœ“ if not authenticated, should reject (5 ms)
2025-04-15T08:19:34.5216499Z       âœ“ if not licensed, should reject (20 ms)
2025-04-15T08:19:34.5216605Z       âœ“ if missing scope, should reject (13 ms)
2025-04-15T08:19:34.5216655Z     POST /projects
2025-04-15T08:19:34.5216778Z       âœ“ if licensed, should create a new project (45 ms)
2025-04-15T08:19:34.5216882Z       âœ“ if not authenticated, should reject (6 ms)
2025-04-15T08:19:34.5217033Z       âœ“ if not licensed, should reject (13 ms)
2025-04-15T08:19:34.5217129Z       âœ“ if missing scope, should reject (22 ms)
2025-04-15T08:19:34.5217193Z     DELETE /projects/:id
2025-04-15T08:19:34.5217302Z       âœ“ if licensed, should delete a project (42 ms)
2025-04-15T08:19:34.5217410Z       âœ“ if not authenticated, should reject (8 ms)
2025-04-15T08:19:34.5217504Z       âœ“ if not licensed, should reject (15 ms)
2025-04-15T08:19:34.5217606Z       âœ“ if missing scope, should reject (15 ms)
2025-04-15T08:19:34.5217672Z     PUT /projects/:id
2025-04-15T08:19:34.5217785Z       âœ“ if licensed, should update a project (22 ms)
2025-04-15T08:19:34.5217897Z       âœ“ if not authenticated, should reject (11 ms)
2025-04-15T08:19:34.5217991Z       âœ“ if not licensed, should reject (30 ms)
2025-04-15T08:19:34.5218098Z       âœ“ if missing scope, should reject (28 ms)
2025-04-15T08:19:34.5218102Z 
2025-04-15T08:19:34.5218238Z PASS src/executions/__tests__/execution-recovery.service.test.ts
2025-04-15T08:19:34.5218304Z   ExecutionRecoveryService
2025-04-15T08:19:34.5218353Z     recoverFromLogs
2025-04-15T08:19:34.5218411Z       if follower
2025-04-15T08:19:34.5218495Z         âœ“ should do nothing (19 ms)
2025-04-15T08:19:34.5218563Z       if leader, with 0 messages
2025-04-15T08:19:34.5218680Z         âœ“ should return `null` if no execution found (3 ms)
2025-04-15T08:19:34.5218805Z         âœ“ should update `status` and `stoppedAt` (76 ms)
2025-04-15T08:19:34.5218871Z       if leader, with 1+ messages
2025-04-15T08:19:34.5219145Z         âœ“ for successful dataful execution, should return `null` (11 ms)
2025-04-15T08:19:34.5219257Z         âœ“ should return `null` if no execution found (2 ms)
2025-04-15T08:19:34.5219471Z         âœ“ for successful dataless execution, should update `status`, `stoppedAt` and `data` (42 ms)
2025-04-15T08:19:34.5219706Z         âœ“ for running execution, should update `status`, `stoppedAt` and `data` if last node did not finish (13 ms)
2025-04-15T08:19:34.5219877Z         âœ“ should update `status`, `stoppedAt` and `data` if last node finished (24 ms)
2025-04-15T08:19:34.5219881Z 
2025-04-15T08:19:34.5219979Z PASS test/integration/api-keys.api.test.ts
2025-04-15T08:19:34.5220038Z   When public API is disabled
2025-04-15T08:19:34.5220136Z     âœ“ POST /api-keys should 404 (43 ms)
2025-04-15T08:19:34.5220225Z     âœ“ GET /api-keys should 404 (16 ms)
2025-04-15T08:19:34.5220331Z     âœ“ DELETE /api-key/:id should 404 (13 ms)
2025-04-15T08:19:34.5220379Z   Owner shell
2025-04-15T08:19:34.5220636Z     âœ“ POST /api-keys should create an api key with no expiration (36 ms)
2025-04-15T08:19:34.5220777Z     âœ“ POST /api-keys should create an api key with expiration (20 ms)
2025-04-15T08:19:34.5220907Z     âœ“ GET /api-keys should fetch the api key redacted (22 ms)
2025-04-15T08:19:34.5221060Z     âœ“ DELETE /api-keys/:id should delete the api key (19 ms)
2025-04-15T08:19:34.5221121Z   Member
2025-04-15T08:19:34.5221264Z     âœ“ POST /api-keys should create an api key with no expiration (17 ms)
2025-04-15T08:19:34.5221411Z     âœ“ POST /api-keys should create an api key with expiration (21 ms)
2025-04-15T08:19:34.5221567Z     âœ“ POST /api-keys should fail if max number of API keys reached (21 ms)
2025-04-15T08:19:34.5221684Z     âœ“ GET /api-keys should fetch the api key redacted (24 ms)
2025-04-15T08:19:34.5221811Z     âœ“ DELETE /api-keys/:id should delete the api key (19 ms)
2025-04-15T08:19:34.5221815Z 
2025-04-15T08:19:34.5221972Z PASS src/controllers/oauth/__tests__/oauth1-credential.controller.test.ts
2025-04-15T08:19:34.5222049Z   OAuth1CredentialController
2025-04-15T08:19:34.5222098Z     getAuthUri
2025-04-15T08:19:34.5222294Z       âœ“ should throw a BadRequestError when credentialId is missing in the query (19 ms)
2025-04-15T08:19:34.5222485Z       âœ“ should throw a NotFoundError when no matching credential is found for the user (1 ms)
2025-04-15T08:19:34.5222594Z       âœ“ should return a valid auth URI (67 ms)
2025-04-15T08:19:34.5222643Z     handleCallback
2025-04-15T08:19:34.5222802Z       âœ“ should render the error page when required query params are missing
2025-04-15T08:19:34.5222959Z       âœ“ should render the error page when `state` query param is invalid (6 ms)
2025-04-15T08:19:34.5223123Z       âœ“ should render the error page when credential is not found in DB (1 ms)
2025-04-15T08:19:34.5223339Z       âœ“ should render the error page when state differs from the stored state in the credential (1 ms)
2025-04-15T08:19:34.5223482Z       âœ“ should render the error page when state is older than 5 minutes
2025-04-15T08:19:34.5223740Z       âœ“ should exchange the code for a valid token, and save it to DB (7 ms)
2025-04-15T08:19:34.5223744Z 
2025-04-15T08:19:34.5223928Z PASS src/task-runners/task-managers/__tests__/data-request-response-stripper.test.ts
2025-04-15T08:19:34.5224001Z   DataRequestResponseStripper
2025-04-15T08:19:34.5224052Z     all data
2025-04-15T08:19:34.5224276Z       âœ“ should build the runExecutionData as is when everything is requested (3 ms)
2025-04-15T08:19:34.5224330Z     envProviderState
2025-04-15T08:19:34.5224474Z       âœ“ should filter out envProviderState when it's not requested
2025-04-15T08:19:34.5224522Z     input data
2025-04-15T08:19:34.5224628Z       âœ“ drops input data from result (1 ms)
2025-04-15T08:19:34.5224715Z       âœ“ returns only chunked data
2025-04-15T08:19:34.5224769Z     nodes
2025-04-15T08:19:34.5224928Z       âœ“ should return empty run data when only Code node is requested (1 ms)
2025-04-15T08:19:34.5225065Z       âœ“ should return empty run data when only Code node is requested
2025-04-15T08:19:34.5225356Z       âœ“ should return only DebugHelper's data when only DebugHelper node is requested (1 ms)
2025-04-15T08:19:34.5225515Z       âœ“ should return DebugHelper's data when only prevNode node is requested
2025-04-15T08:19:34.5225583Z     passthrough properties
2025-04-15T08:19:34.5225674Z       âœ“ it doesn't change workflow (1 ms)
2025-04-15T08:19:34.5225786Z       âœ“ it doesn't change connectionInputSource
2025-04-15T08:19:34.5225870Z       âœ“ it doesn't change node
2025-04-15T08:19:34.5225963Z       âœ“ it doesn't change runIndex
2025-04-15T08:19:34.5226049Z       âœ“ it doesn't change itemIndex
2025-04-15T08:19:34.5226169Z       âœ“ it doesn't change activeNodeName
2025-04-15T08:19:34.5226262Z       âœ“ it doesn't change siblingParameters
2025-04-15T08:19:34.5226348Z       âœ“ it doesn't change mode
2025-04-15T08:19:34.5226451Z       âœ“ it doesn't change defaultReturnRunIndex
2025-04-15T08:19:34.5226541Z       âœ“ it doesn't change selfData
2025-04-15T08:19:34.5226633Z       âœ“ it doesn't change contextNodeName
2025-04-15T08:19:34.5226751Z       âœ“ it doesn't change additionalData (1 ms)
2025-04-15T08:19:34.5226755Z 
2025-04-15T08:19:34.5226871Z PASS src/scaling/__tests__/scaling.service.test.ts
2025-04-15T08:19:34.5226921Z   ScalingService
2025-04-15T08:19:34.5227034Z     setupQueue
2025-04-15T08:19:34.5227088Z       if leader main
2025-04-15T08:19:34.5227230Z         âœ“ should set up queue + listeners + queue recovery (4 ms)
2025-04-15T08:19:34.5227282Z       if follower main
2025-04-15T08:19:34.5227391Z         âœ“ should set up queue + listeners (1 ms)
2025-04-15T08:19:34.5227442Z       if worker
2025-04-15T08:19:34.5227547Z         âœ“ should set up queue + listeners (1 ms)
2025-04-15T08:19:34.5227594Z       webhook
2025-04-15T08:19:34.5227702Z         âœ“ should set up a queue + listeners (1 ms)
2025-04-15T08:19:34.5227750Z     setupWorker
2025-04-15T08:19:34.5227855Z       âœ“ should set up a worker with concurrency
2025-04-15T08:19:34.5227984Z       âœ“ should throw if called on a non-worker instance (17 ms)
2025-04-15T08:19:34.5228122Z       âœ“ should throw if called before queue is ready (1 ms)
2025-04-15T08:19:34.5228172Z     stop
2025-04-15T08:19:34.5228248Z       if main
2025-04-15T08:19:34.5228385Z         âœ“ should pause queue, stop queue recovery and queue metrics
2025-04-15T08:19:34.5228462Z       if worker
2025-04-15T08:19:34.5228593Z         âœ“ should pause queue and wait for running jobs to finish
2025-04-15T08:19:34.5228654Z     pingQueue
2025-04-15T08:19:34.5228760Z       âœ“ should ping the queue (1 ms)
2025-04-15T08:19:34.5228823Z     addJob
2025-04-15T08:19:34.5228909Z       âœ“ should add a job (1 ms)
2025-04-15T08:19:34.5228997Z     getJob
2025-04-15T08:19:34.5229083Z       âœ“ should get a job (1 ms)
2025-04-15T08:19:34.5229169Z     findJobsByStatus
2025-04-15T08:19:34.5229270Z       âœ“ should find jobs by status (1 ms)
2025-04-15T08:19:34.5229374Z       âœ“ should filter out `null` in Redis response
2025-04-15T08:19:34.5229427Z     stopJob
2025-04-15T08:19:34.5229516Z       âœ“ should stop an active job (5 ms)
2025-04-15T08:19:34.5229803Z       âœ“ should stop an inactive job
2025-04-15T08:19:34.5229905Z       âœ“ should report failure to stop a job (1 ms)
2025-04-15T08:19:34.5229909Z 
2025-04-15T08:19:34.5230019Z PASS test/integration/public-api/tags.test.ts
2025-04-15T08:19:34.5230066Z   GET /tags
2025-04-15T08:19:34.5230176Z     âœ“ should fail due to missing API Key (18 ms)
2025-04-15T08:19:34.5230277Z     âœ“ should fail due to invalid API Key (3 ms)
2025-04-15T08:19:34.5230377Z     âœ“ should return all tags (151 ms)
2025-04-15T08:19:34.5230491Z     âœ“ should return all tags with pagination (15 ms)
2025-04-15T08:19:34.5230552Z   GET /tags/:id
2025-04-15T08:19:34.5230645Z     âœ“ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.5230758Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.5230867Z     âœ“ should fail due to non-existing tag (13 ms)
2025-04-15T08:19:34.5230961Z     âœ“ should retrieve tag (8 ms)
2025-04-15T08:19:34.5231020Z   DELETE /tags/:id
2025-04-15T08:19:34.5231217Z     âœ“ should fail due to missing API Key (5 ms)
2025-04-15T08:19:34.5231321Z     âœ“ should fail due to invalid API Key (3 ms)
2025-04-15T08:19:34.5231425Z     âœ“ should fail due to non-existing tag (11 ms)
2025-04-15T08:19:34.5231523Z     âœ“ owner should delete the tag (9 ms)
2025-04-15T08:19:34.5231620Z     âœ“ non-owner should not delete tag (7 ms)
2025-04-15T08:19:34.5231678Z   POST /tags
2025-04-15T08:19:34.5231774Z     âœ“ should fail due to missing API Key (3 ms)
2025-04-15T08:19:34.5231877Z     âœ“ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.5231971Z     âœ“ should fail due to invalid body (8 ms)
2025-04-15T08:19:34.5232060Z     âœ“ should create tag (15 ms)
2025-04-15T08:19:34.5232190Z     âœ“ should not create tag if tag with same name exists (10 ms)
2025-04-15T08:19:34.5232247Z   PUT /tags/:id
2025-04-15T08:19:34.5232340Z     âœ“ should fail due to missing API Key (4 ms)
2025-04-15T08:19:34.5232442Z     âœ“ should fail due to invalid API Key (1 ms)
2025-04-15T08:19:34.5232542Z     âœ“ should fail due to non-existing tag (8 ms)
2025-04-15T08:19:34.5232655Z     âœ“ should fail due to invalid body (3 ms)
2025-04-15T08:19:34.5232734Z     âœ“ should update tag (19 ms)
2025-04-15T08:19:34.5232884Z     âœ“ should fail if there is already a tag with a the new name (26 ms)
2025-04-15T08:19:34.5232889Z 
2025-04-15T08:19:34.5233012Z PASS src/executions/__tests__/execution.service.test.ts
2025-04-15T08:19:34.5233063Z   ExecutionService
2025-04-15T08:19:34.5233118Z     retry
2025-04-15T08:19:34.5233291Z       âœ“ should error on retrying a execution that was aborted before starting (21 ms)
2025-04-15T08:19:34.5233343Z     stop
2025-04-15T08:19:34.5233466Z       âœ“ should throw when stopping a missing execution (1 ms)
2025-04-15T08:19:34.5233603Z       âœ“ should throw when stopping a not-in-progress execution
2025-04-15T08:19:34.5233657Z       regular mode
2025-04-15T08:19:34.5233796Z         âœ“ should stop a `running` execution in regular mode (1 ms)
2025-04-15T08:19:34.5233922Z         âœ“ should stop a `waiting` execution in regular mode (1 ms)
2025-04-15T08:19:34.5234097Z         âœ“ should stop a concurrency-controlled `new` execution in regular mode
2025-04-15T08:19:34.5234146Z       scaling mode
2025-04-15T08:19:34.5234208Z         manual execution
2025-04-15T08:19:34.5234323Z           âœ“ should stop a `running` execution in scaling mode
2025-04-15T08:19:34.5234387Z         production execution
2025-04-15T08:19:34.5234517Z           âœ“ should stop a `running` execution in scaling mode (1 ms)
2025-04-15T08:19:34.5234639Z           âœ“ should stop a `waiting` execution in scaling mode
2025-04-15T08:19:34.5234643Z 
2025-04-15T08:19:34.5234744Z PASS test/integration/pruning.service.test.ts
2025-04-15T08:19:34.5234806Z   softDeleteOnPruningCycle()
2025-04-15T08:19:34.5234887Z     when EXECUTIONS_DATA_PRUNE_MAX_COUNT is set
2025-04-15T08:19:34.5235046Z       âœ“ should mark as deleted based on EXECUTIONS_DATA_PRUNE_MAX_COUNT (25 ms)
2025-04-15T08:19:34.5235174Z       âœ“ should not re-mark already marked executions (15 ms)
2025-04-15T08:19:34.5235376Z       âœ“ should prune unknown executions (9 ms)
2025-04-15T08:19:34.5235516Z       âœ“ should prune canceled executions (14 ms)
2025-04-15T08:19:34.5235619Z       âœ“ should prune crashed executions (20 ms)
2025-04-15T08:19:34.5235719Z       âœ“ should prune error executions (19 ms)
2025-04-15T08:19:34.5235817Z       âœ“ should prune success executions (12 ms)
2025-04-15T08:19:34.5235922Z       âœ“ should not prune new executions (9 ms)
2025-04-15T08:19:34.5236025Z       âœ“ should not prune running executions (23 ms)
2025-04-15T08:19:34.5236131Z       âœ“ should not prune waiting executions (24 ms)
2025-04-15T08:19:34.5236239Z       âœ“ should not prune annotated executions (44 ms)
2025-04-15T08:19:34.5236321Z     when EXECUTIONS_DATA_MAX_AGE is set
2025-04-15T08:19:34.5236464Z       âœ“ should mark as deleted based on EXECUTIONS_DATA_MAX_AGE (13 ms)
2025-04-15T08:19:34.5236591Z       âœ“ should not re-mark already marked executions (15 ms)
2025-04-15T08:19:34.5236693Z       âœ“ should prune unknown executions (6 ms)
2025-04-15T08:19:34.5236905Z       âœ“ should prune canceled executions (5 ms)
2025-04-15T08:19:34.5237047Z       âœ“ should prune crashed executions (7 ms)
2025-04-15T08:19:34.5237141Z       âœ“ should prune error executions (19 ms)
2025-04-15T08:19:34.5237237Z       âœ“ should prune success executions (5 ms)
2025-04-15T08:19:34.5237329Z       âœ“ should not prune new executions (9 ms)
2025-04-15T08:19:34.5237437Z       âœ“ should not prune running executions (11 ms)
2025-04-15T08:19:34.5237539Z       âœ“ should not prune waiting executions (9 ms)
2025-04-15T08:19:34.5237650Z       âœ“ should not prune annotated executions (17 ms)
2025-04-15T08:19:34.5237654Z 
2025-04-15T08:19:34.5237742Z PASS test/integration/saml/saml.api.test.ts
2025-04-15T08:19:34.5237806Z   Instance owner
2025-04-15T08:19:34.5237853Z     PATCH /me
2025-04-15T08:19:34.5237954Z       âœ“ should succeed with valid inputs (34 ms)
2025-04-15T08:19:34.5238127Z       âœ“ should throw BadRequestError if email is changed when SAML is enabled (22 ms)
2025-04-15T08:19:34.5238197Z     PATCH /password
2025-04-15T08:19:34.5238379Z       âœ“ should throw BadRequestError if password is changed when SAML is enabled (7 ms)
2025-04-15T08:19:34.5238439Z     POST /sso/saml/config
2025-04-15T08:19:34.5238533Z       âœ“ should post saml config (150 ms)
2025-04-15T08:19:34.5238634Z       âœ“ should return 400 on invalid config (12 ms)
2025-04-15T08:19:34.5238706Z     POST /sso/saml/config/toggle
2025-04-15T08:19:34.5238850Z       âœ“ should toggle saml as default authentication method (29 ms)
2025-04-15T08:19:34.5251153Z       âœ“ should fail enable saml if default authentication is not email (31 ms)
2025-04-15T08:19:34.5251305Z   Check endpoint permissions
2025-04-15T08:19:34.5251356Z     Owner
2025-04-15T08:19:34.5251589Z       âœ“ should be able to access GET /sso/saml/metadata (7 ms)
2025-04-15T08:19:34.5251730Z       âœ“ should be able to access GET /sso/saml/config (15 ms)
2025-04-15T08:19:34.5251859Z       âœ“ should be able to access POST /sso/saml/config (14 ms)
2025-04-15T08:19:34.5252031Z       âœ“ should be able to access POST /sso/saml/config/toggle (7 ms)
2025-04-15T08:19:34.5252146Z       âœ“ should be able to access GET /sso/saml/acs (8 ms)
2025-04-15T08:19:34.5252265Z       âœ“ should be able to access POST /sso/saml/acs (4 ms)
2025-04-15T08:19:34.5252382Z       âœ“ should be able to access GET /sso/saml/initsso (10 ms)
2025-04-15T08:19:34.5252517Z       âœ“ should be able to access GET /sso/saml/config/test (7 ms)
2025-04-15T08:19:34.5252575Z     Authenticated Member
2025-04-15T08:19:34.5252706Z       âœ“ should be able to access GET /sso/saml/metadata (14 ms)
2025-04-15T08:19:34.5252823Z       âœ“ should be able to access GET /sso/saml/config (5 ms)
2025-04-15T08:19:34.5252954Z       âœ“ should NOT be able to access POST /sso/saml/config (5 ms)
2025-04-15T08:19:34.5253097Z       âœ“ should NOT be able to access POST /sso/saml/config/toggle (6 ms)
2025-04-15T08:19:34.5253218Z       âœ“ should be able to access GET /sso/saml/acs (7 ms)
2025-04-15T08:19:34.5253329Z       âœ“ should be able to access POST /sso/saml/acs (5 ms)
2025-04-15T08:19:34.5253650Z       âœ“ should be able to access GET /sso/saml/initsso (7 ms)
2025-04-15T08:19:34.5253795Z       âœ“ should NOT be able to access GET /sso/saml/config/test (5 ms)
2025-04-15T08:19:34.5253857Z     Non-Authenticated User
2025-04-15T08:19:34.5253975Z       âœ“ should be able to access /sso/saml/metadata (5 ms)
2025-04-15T08:19:34.5254101Z       âœ“ should NOT be able to access GET /sso/saml/config (3 ms)
2025-04-15T08:19:34.5254279Z       âœ“ should NOT be able to access POST /sso/saml/config (4 ms)
2025-04-15T08:19:34.5254418Z       âœ“ should NOT be able to access POST /sso/saml/config/toggle (7 ms)
2025-04-15T08:19:34.5254535Z       âœ“ should be able to access GET /sso/saml/acs (6 ms)
2025-04-15T08:19:34.5254646Z       âœ“ should be able to access POST /sso/saml/acs (5 ms)
2025-04-15T08:19:34.5254771Z       âœ“ should be able to access GET /sso/saml/initsso (4 ms)
2025-04-15T08:19:34.5254905Z       âœ“ should NOT be able to access GET /sso/saml/config/test (3 ms)
2025-04-15T08:19:34.5255028Z 
2025-04-15T08:19:34.5255155Z PASS test/integration/password-reset.api.test.ts
2025-04-15T08:19:34.5255214Z   POST /forgot-password
2025-04-15T08:19:34.5255327Z     âœ“ should send password reset email (107 ms)
2025-04-15T08:19:34.5255436Z     âœ“ should fail if emailing is not set up (56 ms)
2025-04-15T08:19:34.5255566Z     âœ“ should fail if SAML is authentication method (71 ms)
2025-04-15T08:19:34.5255749Z     âœ“ should succeed if SAML is authentication method and requestor is owner (27 ms)
2025-04-15T08:19:34.5255851Z     âœ“ should fail with invalid inputs (37 ms)
2025-04-15T08:19:34.5255950Z     âœ“ should fail if user is not found (35 ms)
2025-04-15T08:19:34.5256010Z   GET /resolve-password-token
2025-04-15T08:19:34.5256110Z     âœ“ should succeed with valid inputs (42 ms)
2025-04-15T08:19:34.5256201Z     âœ“ should fail with invalid inputs (41 ms)
2025-04-15T08:19:34.5256299Z     âœ“ should fail if user is not found (27 ms)
2025-04-15T08:19:34.5256389Z     âœ“ should fail if token is expired (22 ms)
2025-04-15T08:19:34.5256518Z     âœ“ should fail after password has changed (21 ms)
2025-04-15T08:19:34.5256573Z   POST /change-password
2025-04-15T08:19:34.5256674Z     âœ“ should succeed with valid inputs (153 ms)
2025-04-15T08:19:34.5256767Z     âœ“ should fail with invalid inputs (57 ms)
2025-04-15T08:19:34.5256870Z     âœ“ should fail when token has expired (27 ms)
2025-04-15T08:19:34.5257067Z     âœ“ owner should be able to reset its password when quota:users = 1 (166 ms)
2025-04-15T08:19:34.5257238Z     âœ“ member should not be able to reset its password when quota:users = 1 (99 ms)
2025-04-15T08:19:34.5257243Z 
2025-04-15T08:19:34.5257333Z PASS src/__tests__/node-types.test.ts
2025-04-15T08:19:34.5257382Z   NodeTypes
2025-04-15T08:19:34.5257438Z     getByName
2025-04-15T08:19:34.5257553Z       âœ“ should return node type when it exists (3 ms)
2025-04-15T08:19:34.5257613Z     getByNameAndVersion
2025-04-15T08:19:34.5257751Z       âœ“ should throw an error if the package does not exist (10 ms)
2025-04-15T08:19:34.5257906Z       âœ“ should throw an error if the node-type does not exist (1 ms)
2025-04-15T08:19:34.5258036Z       âœ“ should return a regular node-type without version (1 ms)
2025-04-15T08:19:34.5258155Z       âœ“ should return a regular node-type with version
2025-04-15T08:19:34.5258370Z       âœ“ should throw when a node-type is requested as tool, but does not support being used as one (1 ms)
2025-04-15T08:19:34.5258576Z       âœ“ should throw when a node-type is requested as tool, but the original node is already a tool
2025-04-15T08:19:34.5258718Z       âœ“ should return the tool node-type when requested as tool (3 ms)
2025-04-15T08:19:34.5258894Z       âœ“ should return a tool node-type from a community node,  when requested as tool
2025-04-15T08:19:34.5259054Z       âœ“ should return a declarative node-type with an `.execute` method (1 ms)
2025-04-15T08:19:34.5259242Z       âœ“ should return a declarative node-type as a tool with an `.execute` method (1 ms)
2025-04-15T08:19:34.5259302Z     getWithSourcePath
2025-04-15T08:19:34.5259556Z       âœ“ should return description and source path for existing node (1 ms)
2025-04-15T08:19:34.5259676Z       âœ“ should throw error for non-existent node (4 ms)
2025-04-15T08:19:34.5259727Z     getKnownTypes
2025-04-15T08:19:34.5259828Z       âœ“ should return known node types (1 ms)
2025-04-15T08:19:34.5259889Z     getNodeTypeDescriptions
2025-04-15T08:19:34.5260005Z       âœ“ should return descriptions for valid node types
2025-04-15T08:19:34.5260105Z       âœ“ should throw error for invalid node type
2025-04-15T08:19:34.5260108Z 
2025-04-15T08:19:34.5260221Z PASS test/integration/commands/import.cmd.test.ts
2025-04-15T08:19:34.5260387Z   âœ“ import:workflow should import active workflow and deactivate it (58 ms)
2025-04-15T08:19:34.5260591Z   âœ“ import:workflow should import active workflow from combined file and deactivate it (34 ms)
2025-04-15T08:19:34.5260726Z   âœ“ import:workflow can import a single workflow object (20 ms)
2025-04-15T08:19:34.5260967Z   âœ“ `import:workflow --userId ...` should fail if the workflow exists already and is owned by somebody else (44 ms)
2025-04-15T08:19:34.5261279Z   âœ“ only update the workflow, don't create or update the owner if `--userId` is not passed (39 ms)
2025-04-15T08:19:34.5261538Z   âœ“ `import:workflow --projectId ...` should fail if the credential already exists and is owned by another project (46 ms)
2025-04-15T08:19:34.5261817Z   âœ“ `import:workflow --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (12 ms)
2025-04-15T08:19:34.5261822Z 
2025-04-15T08:19:34.5261955Z PASS src/middlewares/list-query/__tests__/list-query.test.ts
2025-04-15T08:19:34.5262019Z   List query middleware
2025-04-15T08:19:34.5262068Z     Query filter
2025-04-15T08:19:34.5262193Z       âœ“ should not set filter on request if none sent (3 ms)
2025-04-15T08:19:34.5262287Z       âœ“ should parse valid filter (2 ms)
2025-04-15T08:19:34.5262388Z       âœ“ should ignore invalid filter (1 ms)
2025-04-15T08:19:34.5262485Z       âœ“ should throw on invalid JSON (18 ms)
2025-04-15T08:19:34.5262624Z       âœ“ should throw on valid filter with invalid type (2 ms)
2025-04-15T08:19:34.5262677Z     Query select
2025-04-15T08:19:34.5262784Z       âœ“ should not set select on request if none sent
2025-04-15T08:19:34.5262876Z       âœ“ should parse valid select (1 ms)
2025-04-15T08:19:34.5262949Z       âœ“ ignore invalid select
2025-04-15T08:19:34.5263043Z       âœ“ throw on invalid JSON (1 ms)
2025-04-15T08:19:34.5263159Z       âœ“ throw on non-string-array JSON for select (1 ms)
2025-04-15T08:19:34.5263214Z     Query pagination
2025-04-15T08:19:34.5263344Z       âœ“ should not set pagination options on request if none sent
2025-04-15T08:19:34.5263446Z       âœ“ should parse valid pagination (1 ms)
2025-04-15T08:19:34.5263545Z       âœ“ should throw on skip without take (1 ms)
2025-04-15T08:19:34.5263635Z       âœ“ should default skip to 0
2025-04-15T08:19:34.5263720Z       âœ“ should cap take at 50 (1 ms)
2025-04-15T08:19:34.5263842Z       âœ“ should throw on non-numeric-integer take (1 ms)
2025-04-15T08:19:34.5263950Z       âœ“ should throw on non-numeric-integer skip
2025-04-15T08:19:34.5264005Z     Query sort by
2025-04-15T08:19:34.5264136Z       âœ“ should succeed validation when sorting by name asc (1 ms)
2025-04-15T08:19:34.5264266Z       âœ“ should succeed validation when sorting by name desc
2025-04-15T08:19:34.5264408Z       âœ“ should succeed validation when sorting by createdAt asc (1 ms)
2025-04-15T08:19:34.5264543Z       âœ“ should succeed validation when sorting by createdAt desc
2025-04-15T08:19:34.5264671Z       âœ“ should succeed validation when sorting by updatedAt asc
2025-04-15T08:19:34.5264822Z       âœ“ should succeed validation when sorting by updatedAt desc (1 ms)
2025-04-15T08:19:34.5264966Z       âœ“ should fail validation when sorting by invalid column (1 ms)
2025-04-15T08:19:34.5265115Z       âœ“ should fail validation when sorting by valid column without order
2025-04-15T08:19:34.5265293Z       âœ“ should fail validation when sorting by valid column with invalid order (1 ms)
2025-04-15T08:19:34.5265529Z       âœ“ should not pass sortBy to listQueryOptions if not provided
2025-04-15T08:19:34.5265583Z     Combinations
2025-04-15T08:19:34.5265682Z       âœ“ should combine filter with select (4 ms)
2025-04-15T08:19:34.5265809Z       âœ“ should combine filter with pagination options (1 ms)
2025-04-15T08:19:34.5265918Z       âœ“ should combine select with pagination options
2025-04-15T08:19:34.5265923Z 
2025-04-15T08:19:34.5266006Z PASS src/__tests__/license.test.ts
2025-04-15T08:19:34.5266053Z   License
2025-04-15T08:19:34.5266151Z     âœ“ initializes license manager (5 ms)
2025-04-15T08:19:34.5266259Z     âœ“ initializes license manager for worker (1 ms)
2025-04-15T08:19:34.5266389Z     âœ“ attempts to activate license with provided key (1 ms)
2025-04-15T08:19:34.5266464Z     âœ“ renews license (1 ms)
2025-04-15T08:19:34.5266546Z     âœ“ check if feature is enabled
2025-04-15T08:19:34.5266653Z     âœ“ check if sharing feature is enabled (7 ms)
2025-04-15T08:19:34.5266742Z     âœ“ check fetching entitlements (1 ms)
2025-04-15T08:19:34.5266972Z     âœ“ check fetching feature values
2025-04-15T08:19:34.5267061Z     âœ“ check management jwt (1 ms)
2025-04-15T08:19:34.5267199Z     âœ“ getMainPlan() returns the latest main entitlement (1 ms)
2025-04-15T08:19:34.5267342Z     âœ“ getMainPlan() returns undefined if there is no main plan (1 ms)
2025-04-15T08:19:34.5267393Z     init
2025-04-15T08:19:34.5267585Z       âœ“ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal (1 ms)
2025-04-15T08:19:34.5267768Z       âœ“ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal
2025-04-15T08:19:34.5267968Z       âœ“ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should disable renewal (1 ms)
2025-04-15T08:19:34.5268170Z       âœ“ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal (1 ms)
2025-04-15T08:19:34.5268343Z       âœ“ when CLI command with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal
2025-04-15T08:19:34.5268347Z 
2025-04-15T08:19:34.5268560Z PASS src/environments.ee/source-control/__tests__/source-control-export.service.test.ts
2025-04-15T08:19:34.5268627Z   SourceControlExportService
2025-04-15T08:19:34.5268695Z     exportCredentialsToWorkFolder
2025-04-15T08:19:34.5268818Z       âœ“ should export credentials to work folder (6 ms)
2025-04-15T08:19:34.5268930Z       âœ“ should handle team project credentials (1 ms)
2025-04-15T08:19:34.5269034Z       âœ“ should handle missing credentials (1 ms)
2025-04-15T08:19:34.5269092Z     exportTagsToWorkFolder
2025-04-15T08:19:34.5269191Z       âœ“ should export tags to work folder
2025-04-15T08:19:34.5269280Z       âœ“ should not export empty tags
2025-04-15T08:19:34.5269346Z     exportFoldersToWorkFolder
2025-04-15T08:19:34.5269448Z       âœ“ should export folders to work folder (1 ms)
2025-04-15T08:19:34.5269543Z       âœ“ should not export empty folders
2025-04-15T08:19:34.5269609Z     exportVariablesToWorkFolder
2025-04-15T08:19:34.5269720Z       âœ“ should export variables to work folder (1 ms)
2025-04-15T08:19:34.5269816Z       âœ“ should not export empty variables
2025-04-15T08:19:34.5269896Z     exportWorkflowsToWorkFolder
2025-04-15T08:19:34.5270000Z       âœ“ should export workflows to work folder (3 ms)
2025-04-15T08:19:34.5270133Z       âœ“ should throw an error if workflow has no owner (17 ms)
2025-04-15T08:19:34.5270137Z 
2025-04-15T08:19:34.5270317Z PASS src/environments.ee/source-control/__tests__/source-control.service.test.ts
2025-04-15T08:19:34.5270373Z   SourceControlService
2025-04-15T08:19:34.5270434Z     pushWorkfolder
2025-04-15T08:19:34.5270598Z       âœ“ should throw an error if a file is given that is not in the workfolder (25 ms)
2025-04-15T08:19:34.5270654Z     pullWorkfolder
2025-04-15T08:19:34.5270771Z       âœ“ does not filter locally created credentials (2 ms)
2025-04-15T08:19:34.5270885Z       âœ“ does not filter remotely deleted credentials
2025-04-15T08:19:34.5271048Z       âœ“ should throw an error if a file is given that is not in the workfolder (1 ms)
2025-04-15T08:19:34.5271102Z     getStatus
2025-04-15T08:19:34.5271337Z       âœ“ conflict depends on the value of `direction` (10 ms)
2025-04-15T08:19:34.5271341Z 
2025-04-15T08:19:34.5271469Z PASS src/__tests__/workflow-execute-additional-data.test.ts
2025-04-15T08:19:34.5271536Z   WorkflowExecuteAdditionalData
2025-04-15T08:19:34.5271648Z     âœ“ logAiEvent should call MessageEventBus (5 ms)
2025-04-15T08:19:34.5271706Z     executeWorkflow
2025-04-15T08:19:34.5271848Z       âœ“ should execute workflow, return data and execution id (20 ms)
2025-04-15T08:19:34.5271965Z       âœ“ should execute workflow, skip waiting (5 ms)
2025-04-15T08:19:34.5272085Z       âœ“ should set sub workflow execution as running (3 ms)
2025-04-15T08:19:34.5272259Z       âœ“ should return waitTill property when workflow execution is waiting (2 ms)
2025-04-15T08:19:34.5272309Z     getRunData
2025-04-15T08:19:34.5272424Z       âœ“ should throw error to add trigger ndoe (36 ms)
2025-04-15T08:19:34.5272516Z       âœ“ should return default data (1 ms)
2025-04-15T08:19:34.5272657Z       âœ“ should return run data with input data and metadata (1 ms)
2025-04-15T08:19:34.5272756Z 
2025-04-15T08:19:34.5272889Z PASS src/metrics/__tests__/prometheus-metrics.service.test.ts
2025-04-15T08:19:34.5272958Z   PrometheusMetricsService
2025-04-15T08:19:34.5273006Z     constructor
2025-04-15T08:19:34.5273128Z       âœ“ should enable metrics based on global config (5 ms)
2025-04-15T08:19:34.5273174Z     init
2025-04-15T08:19:34.5273281Z       âœ“ should set up `n8n_version_info` (1 ms)
2025-04-15T08:19:34.5273422Z       âœ“ should set up default metrics collection with `prom-client`
2025-04-15T08:19:34.5273516Z       âœ“ should set up `n8n_cache_hits_total`
2025-04-15T08:19:34.5273629Z       âœ“ should set up `n8n_cache_misses_total` (1 ms)
2025-04-15T08:19:34.5273736Z       âœ“ should set up `n8n_cache_updates_total` (1 ms)
2025-04-15T08:19:34.5273884Z       âœ“ should set up route metrics with `express-prom-bundle` (1 ms)
2025-04-15T08:19:34.5273974Z       âœ“ should set up event bus metrics
2025-04-15T08:19:34.5274084Z       âœ“ should set up queue metrics if enabled (7 ms)
2025-04-15T08:19:34.5274237Z       âœ“ should not set up queue metrics if enabled but not on scaling mode
2025-04-15T08:19:34.5274445Z       âœ“ should not set up queue metrics if enabled and on scaling mode but instance is not main (1 ms)
2025-04-15T08:19:34.5274560Z       âœ“ should setup active workflow count metric (4 ms)
2025-04-15T08:19:34.5274564Z 
2025-04-15T08:19:34.5274681Z PASS test/integration/community-packages.api.test.ts
2025-04-15T08:19:34.5274737Z   GET /community-packages
2025-04-15T08:19:34.5274864Z     âœ“ should respond 200 if no nodes are installed (28 ms)
2025-04-15T08:19:34.5275006Z     âœ“ should return list of one installed package and node (6 ms)
2025-04-15T08:19:34.5275155Z     âœ“ should return list of multiple installed packages and nodes (4 ms)
2025-04-15T08:19:34.5275298Z     âœ“ should not check for updates if no packages installed (16 ms)
2025-04-15T08:19:34.5275420Z     âœ“ should check for updates if packages installed (5 ms)
2025-04-15T08:19:34.5275547Z     âœ“ should report package updates if available (6 ms)
2025-04-15T08:19:34.5275604Z   POST /community-packages
2025-04-15T08:19:34.5275715Z     âœ“ should reject if package name is missing (4 ms)
2025-04-15T08:19:34.5275820Z     âœ“ should reject if package is duplicate (4 ms)
2025-04-15T08:19:34.5275971Z     âœ“ should allow installing packages that could not be loaded (4 ms)
2025-04-15T08:19:34.5276070Z     âœ“ should not install a banned package (5 ms)
2025-04-15T08:19:34.5276134Z   DELETE /community-packages
2025-04-15T08:19:34.5276242Z     âœ“ should not delete if package name is empty (5 ms)
2025-04-15T08:19:34.5276357Z     âœ“ should reject if package is not installed (8 ms)
2025-04-15T08:19:34.5276444Z     âœ“ should uninstall package (5 ms)
2025-04-15T08:19:34.5276505Z   PATCH /community-packages
2025-04-15T08:19:34.5276608Z     âœ“ should reject if package name is empty (5 ms)
2025-04-15T08:19:34.5276724Z     âœ“ should reject if package is not installed (11 ms)
2025-04-15T08:19:34.5276808Z     âœ“ should update a package (6 ms)
2025-04-15T08:19:34.5276916Z 
2025-04-15T08:19:34.5277065Z PASS test/integration/workflow-history.api.test.ts
2025-04-15T08:19:34.5277142Z   GET /workflow-history/:workflowId
2025-04-15T08:19:34.5277261Z     âœ“ should not work when license is not available (20 ms)
2025-04-15T08:19:34.5277403Z     âœ“ should not return anything on an invalid workflow ID (37 ms)
2025-04-15T08:19:34.5277531Z     âœ“ should not return anything if not shared with user (18 ms)
2025-04-15T08:19:34.5277653Z     âœ“ should return any empty list if no versions (19 ms)
2025-04-15T08:19:34.5277753Z     âœ“ should return versions for workflow (27 ms)
2025-04-15T08:19:34.5277893Z     âœ“ should return versions only for workflow id provided (38 ms)
2025-04-15T08:19:34.5277991Z     âœ“ should work with take parameter (23 ms)
2025-04-15T08:19:34.5278097Z     âœ“ should work with skip parameter (20 ms)
2025-04-15T08:19:34.5278208Z   GET /workflow-history/workflow/:workflowId/version/:versionId
2025-04-15T08:19:34.5278330Z     âœ“ should not work when license is not available (5 ms)
2025-04-15T08:19:34.5278561Z     âœ“ should not return anything on an invalid workflow ID (18 ms)
2025-04-15T08:19:34.5278714Z     âœ“ should not return anything on an invalid version ID (22 ms)
2025-04-15T08:19:34.5278801Z     âœ“ should return version (19 ms)
2025-04-15T08:19:34.5278926Z     âœ“ should not return anything if not shared with user (24 ms)
2025-04-15T08:19:34.5279145Z     âœ“ should not return anything if not shared with user and using workflow owned by unshared user (33 ms)
2025-04-15T08:19:34.5279150Z 
2025-04-15T08:19:34.5279289Z PASS src/services/__tests__/workflow-statistics.service.test.ts
2025-04-15T08:19:34.5279345Z   WorkflowStatisticsService
2025-04-15T08:19:34.5279422Z     workflowExecutionCompleted
2025-04-15T08:19:34.5279546Z       âœ“ should create metrics for production successes (5 ms)
2025-04-15T08:19:34.5279683Z       âœ“ should only create metrics for production successes (1 ms)
2025-04-15T08:19:34.5279785Z       âœ“ should not send metrics for updated entries
2025-04-15T08:19:34.5279849Z     nodeFetchedData
2025-04-15T08:19:34.5279951Z       âœ“ should create metrics when the db is updated
2025-04-15T08:19:34.5280127Z       âœ“ should emit event with no `userId` if workflow is owned by team project (1 ms)
2025-04-15T08:19:34.5280266Z       âœ“ should create metrics with credentials when the db is updated
2025-04-15T08:19:34.5280432Z       âœ“ should not send metrics for entries that already have the flag set (14 ms)
2025-04-15T08:19:34.5280436Z 
2025-04-15T08:19:34.5280546Z PASS test/integration/commands/credentials.cmd.test.ts
2025-04-15T08:19:34.5280673Z   âœ“ import:credentials should import a credential (37 ms)
2025-04-15T08:19:34.5280844Z   âœ“ import:credentials should import a credential from separated files (30 ms)
2025-04-15T08:19:34.5281096Z   âœ“ `import:credentials --userId ...` should fail if the credential exists already and is owned by somebody else (43 ms)
2025-04-15T08:19:34.5281337Z   âœ“ only update credential, don't create or update owner if neither `--userId` nor `--projectId` is passed (45 ms)
2025-04-15T08:19:34.5281602Z   âœ“ `import:credential --projectId ...` should fail if the credential already exists and is owned by another project (37 ms)
2025-04-15T08:19:34.5281868Z   âœ“ `import:credential --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (4 ms)
2025-04-15T08:19:34.5281872Z 
2025-04-15T08:19:34.5281956Z PASS src/__tests__/wait-tracker.test.ts
2025-04-15T08:19:34.5282012Z   WaitTracker
2025-04-15T08:19:34.5282058Z     init()
2025-04-15T08:19:34.5282189Z       âœ“ should query DB for waiting executions if leader (3 ms)
2025-04-15T08:19:34.5282281Z       âœ“ if follower, should do nothing
2025-04-15T08:19:34.5282395Z       âœ“ if no executions to start, should do nothing (1 ms)
2025-04-15T08:19:34.5282453Z       if execution to start
2025-04-15T08:19:34.5282593Z         âœ“ if not enough time passed, should not start execution (1 ms)
2025-04-15T08:19:34.5282721Z         âœ“ if enough time passed, should start execution (1 ms)
2025-04-15T08:19:34.5282870Z     startExecution()
2025-04-15T08:19:34.5282976Z       âœ“ should query for execution to start (1 ms)
2025-04-15T08:19:34.5283133Z       âœ“ should also resume parent execution once sub-workflow finishes (1 ms)
2025-04-15T08:19:34.5283189Z     single-main setup
2025-04-15T08:19:34.5283273Z       âœ“ should start tracking (1 ms)
2025-04-15T08:19:34.5283328Z     multi-main setup
2025-04-15T08:19:34.5283415Z       âœ“ should start tracking if leader
2025-04-15T08:19:34.5283527Z       âœ“ should not start tracking if follower (1 ms)
2025-04-15T08:19:34.5283531Z 
2025-04-15T08:19:34.5283642Z PASS src/services/__tests__/ownership.service.test.ts
2025-04-15T08:19:34.5283701Z   OwnershipService
2025-04-15T08:19:34.5283769Z     getWorkflowProjectCached()
2025-04-15T08:19:34.5283887Z       âœ“ should retrieve a workflow owner project (3 ms)
2025-04-15T08:19:34.5284015Z       âœ“ should throw if no workflow owner project found (6 ms)
2025-04-15T08:19:34.5284086Z     getPersonalProjectOwnerCached()
2025-04-15T08:19:34.5284284Z       âœ“ should retrieve a project owner (1 ms)
2025-04-15T08:19:34.5284452Z       âœ“ should not throw if no project owner found, should return null instead (1 ms)
2025-04-15T08:19:34.5284619Z       âœ“ should not use the repository if the owner was found in the cache (1 ms)
2025-04-15T08:19:34.5284673Z     getProjectOwnerCached()
2025-04-15T08:19:34.5284769Z       âœ“ should retrieve a project owner
2025-04-15T08:19:34.5284920Z       âœ“ should not throw if no project owner found, should return null instead
2025-04-15T08:19:34.5284985Z     addOwnedByAndSharedWith()
2025-04-15T08:19:34.5285118Z       âœ“ should add `ownedBy` and `sharedWith` to credential (1 ms)
2025-04-15T08:19:34.5285240Z       âœ“ should add `ownedBy` and `sharedWith` to workflow
2025-04-15T08:19:34.5285352Z       âœ“ should produce an empty sharedWith if no sharee
2025-04-15T08:19:34.5285416Z     getInstanceOwner()
2025-04-15T08:19:34.5285523Z       âœ“ should find owner using global owner role ID
2025-04-15T08:19:34.5285535Z 
2025-04-15T08:19:34.5285654Z PASS src/services/cache/__tests__/cache.service.test.ts
2025-04-15T08:19:34.5285710Z   memory
2025-04-15T08:19:34.5285756Z     init
2025-04-15T08:19:34.5285871Z       âœ“ should select backend based on config (9 ms)
2025-04-15T08:19:34.5285974Z       âœ“ should honor max size when enough (1 ms)
2025-04-15T08:19:34.5286092Z       âœ“ should honor max size when not enough (1 ms)
2025-04-15T08:19:34.5286143Z     set
2025-04-15T08:19:34.5286243Z       âœ“ should set a string value (1 ms)
2025-04-15T08:19:34.5286323Z       âœ“ should set a number value
2025-04-15T08:19:34.5286424Z       âœ“ should set an object value (4 ms)
2025-04-15T08:19:34.5286545Z       âœ“ should not cache `null` or `undefined` values (1 ms)
2025-04-15T08:19:34.5286645Z       âœ“ should disregard zero-length keys
2025-04-15T08:19:34.5286727Z       âœ“ should honor ttl (202 ms)
2025-04-15T08:19:34.5286780Z     get
2025-04-15T08:19:34.5286867Z       âœ“ should fall back to fallback value
2025-04-15T08:19:34.5286979Z       âœ“ should refresh value
2025-04-15T08:19:34.5287074Z       âœ“ should handle non-ASCII key
2025-04-15T08:19:34.5287130Z     delete
2025-04-15T08:19:34.5287210Z       âœ“ should delete a key (1 ms)
2025-04-15T08:19:34.5287311Z       âœ“ should handle non-ASCII key (10 ms)
2025-04-15T08:19:34.5287358Z     setMany
2025-04-15T08:19:34.5287464Z       âœ“ should set multiple string values (1 ms)
2025-04-15T08:19:34.5287552Z       âœ“ should set multiple number values
2025-04-15T08:19:34.5287660Z       âœ“ should disregard zero-length keys (1 ms)
2025-04-15T08:19:34.5287702Z     getMany
2025-04-15T08:19:34.5287812Z       âœ“ should return undefined on missing result
2025-04-15T08:19:34.5287856Z     setHash
2025-04-15T08:19:34.5287958Z       âœ“ should set a hash if non-existing (1 ms)
2025-04-15T08:19:34.5288075Z       âœ“ should add to a hash value if existing (1 ms)
2025-04-15T08:19:34.5288227Z     deleteFromHash
2025-04-15T08:19:34.5288318Z       âœ“ should delete a hash field
2025-04-15T08:19:34.5288367Z     getHashValue
2025-04-15T08:19:34.5288585Z       âœ“ should return a hash field value
2025-04-15T08:19:34.5288628Z   redis
2025-04-15T08:19:34.5288680Z     init
2025-04-15T08:19:34.5288782Z       âœ“ should select backend based on config (1 ms)
2025-04-15T08:19:34.5288930Z       âœ“ with auto backend and queue mode, should select redis (1 ms)
2025-04-15T08:19:34.5288977Z     set
2025-04-15T08:19:34.5289068Z       âœ“ should set a string value (7 ms)
2025-04-15T08:19:34.5289155Z       âœ“ should set a number value (1 ms)
2025-04-15T08:19:34.5289249Z       âœ“ should set an object value
2025-04-15T08:19:34.5289359Z       âœ“ should not cache `null` or `undefined` values
2025-04-15T08:19:34.5289457Z       âœ“ should disregard zero-length keys
2025-04-15T08:19:34.5289541Z       âœ“ should honor ttl (201 ms)
2025-04-15T08:19:34.5289596Z     get
2025-04-15T08:19:34.5289688Z       âœ“ should fall back to fallback value
2025-04-15T08:19:34.5289780Z       âœ“ should refresh value (1 ms)
2025-04-15T08:19:34.5289866Z       âœ“ should handle non-ASCII key
2025-04-15T08:19:34.5290055Z     delete
2025-04-15T08:19:34.5290123Z       âœ“ should delete a key
2025-04-15T08:19:34.5290214Z       âœ“ should handle non-ASCII key
2025-04-15T08:19:34.5290259Z     setMany
2025-04-15T08:19:34.5290364Z       âœ“ should set multiple string values (1 ms)
2025-04-15T08:19:34.5290453Z       âœ“ should set multiple number values
2025-04-15T08:19:34.5290550Z       âœ“ should disregard zero-length keys
2025-04-15T08:19:34.5290600Z     getMany
2025-04-15T08:19:34.5290714Z       âœ“ should return undefined on missing result (1 ms)
2025-04-15T08:19:34.5290763Z     setHash
2025-04-15T08:19:34.5290851Z       âœ“ should set a hash if non-existing
2025-04-15T08:19:34.5290957Z       âœ“ should add to a hash value if existing (1 ms)
2025-04-15T08:19:34.5291007Z     deleteFromHash
2025-04-15T08:19:34.5291092Z       âœ“ should delete a hash field
2025-04-15T08:19:34.5291138Z     getHashValue
2025-04-15T08:19:34.5291230Z       âœ“ should return a hash field value
2025-04-15T08:19:34.5291234Z 
2025-04-15T08:19:34.5291445Z PASS test/integration/executions/pre-execution-checks/credentials-permission-checker.test.ts
2025-04-15T08:19:34.5291508Z   check()
2025-04-15T08:19:34.5291612Z     âœ“ should allow if workflow has no creds (17 ms)
2025-04-15T08:19:34.5291746Z     âœ“ should allow if workflow creds are valid subset (43 ms)
2025-04-15T08:19:34.5291876Z     âœ“ should deny if workflow creds are not valid subset (31 ms)
2025-04-15T08:19:34.5292036Z     âœ“ should allow all credentials if current user is instance owner (36 ms)
2025-04-15T08:19:34.5292040Z 
2025-04-15T08:19:34.5292220Z PASS src/environments.ee/source-control/__tests__/source-control-helper.ee.test.ts
2025-04-15T08:19:34.5292269Z   Source Control
2025-04-15T08:19:34.5292372Z     âœ“ should generate an SSH key pair (64 ms)
2025-04-15T08:19:34.5292469Z     âœ“ should generate an RSA key pair (1151 ms)
2025-04-15T08:19:34.5292624Z     âœ“ should check for git and ssh folders and create them if required (1 ms)
2025-04-15T08:19:34.5292708Z     âœ“ should get repo type from url
2025-04-15T08:19:34.5292863Z     âœ“ should get tracking information from pre-push results (1 ms)
2025-04-15T08:19:34.5292984Z     âœ“ should get tracking information from post-push results
2025-04-15T08:19:34.5293117Z     âœ“ should get tracking information from pull results (1 ms)
2025-04-15T08:19:34.5293121Z 
2025-04-15T08:19:34.5293220Z PASS test/integration/public-api/users.ee.test.ts
2025-04-15T08:19:34.5293297Z   With license unlimited quota:users
2025-04-15T08:19:34.5293344Z     GET /users
2025-04-15T08:19:34.5293453Z       âœ“ should fail due to missing API Key (216 ms)
2025-04-15T08:19:34.5293559Z       âœ“ should fail due to invalid API Key (16 ms)
2025-04-15T08:19:34.5293712Z       âœ“ should fail due to member trying to access owner only endpoint (209 ms)
2025-04-15T08:19:34.5293805Z       âœ“ should return all users (40 ms)
2025-04-15T08:19:34.5293920Z       âœ“ should return users filtered by project ID (51 ms)
2025-04-15T08:19:34.5293976Z     GET /users/:id
2025-04-15T08:19:34.5294071Z       âœ“ should fail due to missing API Key (41 ms)
2025-04-15T08:19:34.5294291Z       âœ“ should fail due to invalid API Key (20 ms)
2025-04-15T08:19:34.5294440Z       âœ“ should fail due to member trying to access owner only endpoint (22 ms)
2025-04-15T08:19:34.5294554Z       âœ“ should return 404 for non-existing id  (24 ms)
2025-04-15T08:19:34.5294649Z       âœ“ should return a pending user (34 ms)
2025-04-15T08:19:34.5294706Z     GET /users/:email
2025-04-15T08:19:34.5294819Z       âœ“ with non-existing email should return 404 (37 ms)
2025-04-15T08:19:34.5294907Z       âœ“ should return a user (20 ms)
2025-04-15T08:19:34.5294971Z   With license without quota:users
2025-04-15T08:19:34.5295095Z     âœ“ GET /users should fail due to invalid license (22 ms)
2025-04-15T08:19:34.5295217Z     âœ“ GET /users/:id should fail due to invalid license (19 ms)
2025-04-15T08:19:34.5295221Z 
2025-04-15T08:19:34.5295357Z PASS src/controllers/__tests__/binary-data.controller.test.ts
2025-04-15T08:19:34.5295413Z   BinaryDataController
2025-04-15T08:19:34.5295457Z     get
2025-04-15T08:19:34.5295679Z       âœ“ should return 400 if binary data mode is missing (9 ms)
2025-04-15T08:19:34.5295797Z       âœ“ should return 400 if binary data mode is invalid (1 ms)
2025-04-15T08:19:34.5295896Z       âœ“ should return 404 if file is not found
2025-04-15T08:19:34.5296044Z       âœ“ should set Content-Type and Content-Length from query if provided
2025-04-15T08:19:34.5296228Z       âœ“ should set Content-Type and Content-Length from metadata if not provided (1 ms)
2025-04-15T08:19:34.5296346Z       âœ“ should set Content-Disposition for download action
2025-04-15T08:19:34.5296493Z       âœ“ should set Content-Security-Policy for HTML in view mode (1 ms)
2025-04-15T08:19:34.5296635Z       âœ“ should not set Content-Security-Policy for HTML in download mode
2025-04-15T08:19:34.5296750Z       âœ“ should return the file stream on success (1 ms)
2025-04-15T08:19:34.5296797Z     getSigned
2025-04-15T08:19:34.5296915Z       âœ“ should return 400 if binary data mode is missing
2025-04-15T08:19:34.5297084Z       âœ“ should return 400 if binary data mode is invalid (1 ms)
2025-04-15T08:19:34.5297196Z       âœ“ should return 400 if token is invalid
2025-04-15T08:19:34.5297287Z       âœ“ should return 404 if file is not found
2025-04-15T08:19:34.5297414Z       âœ“ should return the file stream on a valid signed token
2025-04-15T08:19:34.5297419Z 
2025-04-15T08:19:34.5297550Z PASS test/integration/workflows/workflow.service.ee.test.ts
2025-04-15T08:19:34.5297611Z   EnterpriseWorkflowService
2025-04-15T08:19:34.5297688Z     validateWorkflowCredentialUsage
2025-04-15T08:19:34.5297857Z       âœ“ Should throw error saving a workflow using credential without access (30 ms)
2025-04-15T08:19:34.5298039Z       âœ“ Should not throw error when saving a workflow using credential with access (3 ms)
2025-04-15T08:19:34.5298240Z       âœ“ Should not throw error when saving a workflow removing node without credential access (1 ms)
2025-04-15T08:19:34.5298406Z       âœ“ Should save fine when not making changes to workflow without access (2 ms)
2025-04-15T08:19:34.5298588Z       âœ“ Should throw error saving a workflow adding node without credential access (3 ms)
2025-04-15T08:19:34.5298671Z     getNodesWithInaccessibleCreds
2025-04-15T08:19:34.5298813Z       âœ“ Should return an empty list for a workflow without nodes (1 ms)
2025-04-15T08:19:34.5298988Z       âœ“ Should return an empty list for a workflow with nodes without credentials (1 ms)
2025-04-15T08:19:34.5299156Z       âœ“ Should return an element for a node with a credential without access (1 ms)
2025-04-15T08:19:34.5299312Z       âœ“ Should return an empty list for a node with a credential with access (1 ms)
2025-04-15T08:19:34.5299485Z       âœ“ Should return an element for a node with two credentials and mixed access (2 ms)
2025-04-15T08:19:34.5299653Z       âœ“ Should return one node for a workflow with two nodes and two credentials (1 ms)
2025-04-15T08:19:34.5299835Z       âœ“ Should return one element for a workflows with two nodes and one credential (1 ms)
2025-04-15T08:19:34.5300038Z       âœ“ Should return one element for a workflows with two nodes and partial credential access (1 ms)
2025-04-15T08:19:34.5300482Z       âœ“ Should return two elements for a workflows with two nodes and partial credential access (1 ms)
2025-04-15T08:19:34.5300675Z       âœ“ Should return two elements for a workflows with two nodes and no credential access (1 ms)
2025-04-15T08:19:34.5300679Z 
2025-04-15T08:19:34.5300882Z PASS src/environments.ee/source-control/__tests__/source-control-import.service.ee.test.ts
2025-04-15T08:19:34.5300945Z   SourceControlImportService
2025-04-15T08:19:34.5301013Z     getRemoteVersionIdsFromFiles
2025-04-15T08:19:34.5301128Z       âœ“ should parse workflow files correctly (3 ms)
2025-04-15T08:19:34.5301243Z       âœ“ should filter out files without valid workflow data
2025-04-15T08:19:34.5301318Z     getRemoteCredentialsFromFiles
2025-04-15T08:19:34.5301415Z       âœ“ should parse credential files correctly
2025-04-15T08:19:34.5301542Z       âœ“ should filter out files without valid credential data
2025-04-15T08:19:34.5301702Z     getRemoteVariablesFromFile
2025-04-15T08:19:34.5301812Z       âœ“ should parse variables file correctly (1 ms)
2025-04-15T08:19:34.5301929Z       âœ“ should return empty array if no variables file found
2025-04-15T08:19:34.5302010Z     getRemoteTagsAndMappingsFromFile
2025-04-15T08:19:34.5302118Z       âœ“ should parse tags and mappings file correctly
2025-04-15T08:19:34.5302245Z       âœ“ should return empty tags and mappings if no file found
2025-04-15T08:19:34.5302319Z     getRemoteFoldersAndMappingsFromFile
2025-04-15T08:19:34.5302440Z       âœ“ should parse folders and mappings file correctly
2025-04-15T08:19:34.5302568Z       âœ“ should return empty folders and mappings if no file found
2025-04-15T08:19:34.5302627Z     getLocalVersionIdsFromDb
2025-04-15T08:19:34.5302777Z       âœ“ should replace invalid updatedAt with current timestamp (1 ms)
2025-04-15T08:19:34.5302848Z     getLocalFoldersAndMappingsFromDb
2025-04-15T08:19:34.5302940Z       âœ“ should return data from DB (1 ms)
2025-04-15T08:19:34.5302955Z 
2025-04-15T08:19:34.5303109Z PASS src/controllers/__tests__/dynamic-node-parameters.controller.test.ts
2025-04-15T08:19:34.5303185Z   DynamicNodeParametersController
2025-04-15T08:19:34.5303232Z     getOptions
2025-04-15T08:19:34.5303403Z       âœ“ should call getOptionsViaMethodName when methodName is provided (6 ms)
2025-04-15T08:19:34.5303573Z       âœ“ should call getOptionsViaLoadOptions when loadOptions is provided (1 ms)
2025-04-15T08:19:34.5303734Z       âœ“ should return empty array when no method or load options are provided
2025-04-15T08:19:34.5303791Z     getResourceLocatorResults
2025-04-15T08:19:34.5303953Z       âœ“ should call getResourceLocatorResults with correct parameters (1 ms)
2025-04-15T08:19:34.5304013Z     getResourceMappingFields
2025-04-15T08:19:34.5304162Z       âœ“ should call getResourceMappingFields with correct parameters
2025-04-15T08:19:34.5304229Z     getLocalResourceMappingFields
2025-04-15T08:19:34.5304405Z       âœ“ should call getLocalResourceMappingFields with correct parameters (1 ms)
2025-04-15T08:19:34.5304468Z     getActionResult
2025-04-15T08:19:34.5304585Z       âœ“ should call getActionResult with correct parameters
2025-04-15T08:19:34.5304589Z 
2025-04-15T08:19:34.5304741Z PASS test/integration/security-audit/instance-risk-reporter.test.ts
2025-04-15T08:19:34.5304862Z   âœ“ should report webhook lacking authentication (254 ms)
2025-04-15T08:19:34.5305006Z   âœ“ should not report webhooks having basic or header auth (10 ms)
2025-04-15T08:19:34.5305141Z   âœ“ should not report webhooks validated by direct children (26 ms)
2025-04-15T08:19:34.5305252Z   âœ“ should not report non-webhook node (17 ms)
2025-04-15T08:19:34.5305366Z   âœ“ should report outdated instance when outdated (16 ms)
2025-04-15T08:19:34.5305501Z   âœ“ should not report outdated instance when up to date (66 ms)
2025-04-15T08:19:34.5305594Z   âœ“ should report security settings (8 ms)
2025-04-15T08:19:34.5305598Z 
2025-04-15T08:19:34.5305723Z PASS src/webhooks/__tests__/webhook-request-handler.test.ts
2025-04-15T08:19:34.5305882Z   WebhookRequestHandler
2025-04-15T08:19:34.5305985Z     âœ“ should throw for unsupported methods (14 ms)
2025-04-15T08:19:34.5306045Z     preflight requests
2025-04-15T08:19:34.5306175Z       âœ“ should handle missing header for requested method (2 ms)
2025-04-15T08:19:34.5306293Z       âœ“ should handle default origin and max-age (1 ms)
2025-04-15T08:19:34.5306378Z       âœ“ should handle wildcard origin
2025-04-15T08:19:34.5306475Z       âœ“ should handle custom origin (4 ms)
2025-04-15T08:19:34.5306526Z     webhook requests
2025-04-15T08:19:34.5306709Z       âœ“ should delegate the request to the webhook manager and send the response (1 ms)
2025-04-15T08:19:34.5306850Z       âœ“ should send an error response if webhook execution throws (2 ms)
2025-04-15T08:19:34.5306994Z       âœ“ should handle 'DELETE' method (2 ms)
2025-04-15T08:19:34.5307084Z       âœ“ should handle 'GET' method (1 ms)
2025-04-15T08:19:34.5307171Z       âœ“ should handle 'HEAD' method
2025-04-15T08:19:34.5307262Z       âœ“ should handle 'PATCH' method (1 ms)
2025-04-15T08:19:34.5307449Z       âœ“ should handle 'POST' method
2025-04-15T08:19:34.5307533Z       âœ“ should handle 'PUT' method
2025-04-15T08:19:34.5307544Z 
2025-04-15T08:19:34.5307641Z PASS test/integration/public-api/users.test.ts
2025-04-15T08:19:34.5307701Z   Users in Public API
2025-04-15T08:19:34.5307749Z     POST /users
2025-04-15T08:19:34.5307857Z       âœ“ if not authenticated, should reject (206 ms)
2025-04-15T08:19:34.5307955Z       âœ“ if missing scope, should reject (161 ms)
2025-04-15T08:19:34.5308046Z       âœ“ should create a user (59 ms)
2025-04-15T08:19:34.5308095Z     DELETE /users/:id
2025-04-15T08:19:34.5308200Z       âœ“ if not authenticated, should reject (21 ms)
2025-04-15T08:19:34.5308299Z       âœ“ if missing scope, should reject (24 ms)
2025-04-15T08:19:34.5308385Z       âœ“ should delete a user (45 ms)
2025-04-15T08:19:34.5308438Z     PATCH /users/:id/role
2025-04-15T08:19:34.5308545Z       âœ“ if not authenticated, should reject (10 ms)
2025-04-15T08:19:34.5308637Z       âœ“ if not licensed, should reject (40 ms)
2025-04-15T08:19:34.5308747Z       âœ“ if missing scope, should reject (37 ms)
2025-04-15T08:19:34.5308858Z       âœ“ should return a 400 on invalid payload (43 ms)
2025-04-15T08:19:34.5308959Z       âœ“ should change a user's role (45 ms)
2025-04-15T08:19:34.5308963Z 
2025-04-15T08:19:34.5309050Z PASS test/integration/webhooks.api.test.ts
2025-04-15T08:19:34.5309107Z   Webhook API
2025-04-15T08:19:34.5309163Z     Content-Type support
2025-04-15T08:19:34.5309244Z       âœ“ should handle JSON (24 ms)
2025-04-15T08:19:34.5309330Z       âœ“ should handle XML (7 ms)
2025-04-15T08:19:34.5309429Z       âœ“ should handle form-urlencoded (7 ms)
2025-04-15T08:19:34.5309522Z       âœ“ should handle plain text (15 ms)
2025-04-15T08:19:34.5309622Z       âœ“ should handle multipart/form-data (12 ms)
2025-04-15T08:19:34.5309681Z     Params support
2025-04-15T08:19:34.5309763Z       âœ“ should handle params (17 ms)
2025-04-15T08:19:34.5309766Z 
2025-04-15T08:19:34.5309870Z PASS src/webhooks/__tests__/test-webhooks.test.ts
2025-04-15T08:19:34.5309929Z   TestWebhooks
2025-04-15T08:19:34.5309981Z     needsWebhook()
2025-04-15T08:19:34.5310156Z       âœ“ if webhook is needed, should register then create webhook and return true (3 ms)
2025-04-15T08:19:34.5310325Z       âœ“ if webhook activation fails, should deactivate workflow webhooks (11 ms)
2025-04-15T08:19:34.5310457Z       âœ“ if no webhook is found to start workflow, should return false
2025-04-15T08:19:34.5310621Z       âœ“ returns false if a triggerToStartFrom with triggerData is given (1 ms)
2025-04-15T08:19:34.5310866Z       âœ“ returns true, registers and then creates webhook if triggerToStartFrom is given with no triggerData (1 ms)
2025-04-15T08:19:34.5310919Z     executeWebhook()
2025-04-15T08:19:34.5311040Z       âœ“ if webhook is not registered, should throw (15 ms)
2025-04-15T08:19:34.5311181Z       âœ“ if webhook is registered but missing from workflow, should throw
2025-04-15T08:19:34.5311241Z     deactivateWebhooks()
2025-04-15T08:19:34.5311349Z       âœ“ should add additional data to workflow (1 ms)
2025-04-15T08:19:34.5311456Z 
2025-04-15T08:19:34.5311552Z PASS test/integration/import.service.test.ts
2025-04-15T08:19:34.5311600Z   ImportService
2025-04-15T08:19:34.5311721Z     âœ“ should import credless and tagless workflow (18 ms)
2025-04-15T08:19:34.5311833Z     âœ“ should make user owner of imported workflow (6 ms)
2025-04-15T08:19:34.5311965Z     âœ“ should not change the owner if it already exists (21 ms)
2025-04-15T08:19:34.5312080Z     âœ“ should deactivate imported workflow if active (7 ms)
2025-04-15T08:19:34.5312199Z     âœ“ should leave intact new-format credentials (8 ms)
2025-04-15T08:19:34.5312295Z     âœ“ should set tag by identical match (19 ms)
2025-04-15T08:19:34.5312393Z     âœ“ should set tag by name match (20 ms)
2025-04-15T08:19:34.5312504Z     âœ“ should set tag by creating if no match (16 ms)
2025-04-15T08:19:34.5312509Z 
2025-04-15T08:19:34.5312592Z PASS src/__tests__/workflow-runner.test.ts
2025-04-15T08:19:34.5312649Z   processError
2025-04-15T08:19:34.5312907Z     âœ“ processError should return early in Bull stalled edge case (61 ms)
2025-04-15T08:19:34.5313094Z     âœ“ processError should return early if the error is `ExecutionNotFoundError` (22 ms)
2025-04-15T08:19:34.5313188Z     âœ“ processError should process error (29 ms)
2025-04-15T08:19:34.5313240Z   run
2025-04-15T08:19:34.5313497Z     âœ“ uses recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom with data is sent (25 ms)
2025-04-15T08:19:34.5313780Z     âœ“ does not use recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom without data is sent (4 ms)
2025-04-15T08:19:34.5313784Z 
2025-04-15T08:19:34.5313945Z PASS test/integration/security-audit/credentials-risk-reporter.test.ts
2025-04-15T08:19:34.5314062Z   âœ“ should report credentials not in any use (253 ms)
2025-04-15T08:19:34.5314186Z   âœ“ should report credentials not in active use (19 ms)
2025-04-15T08:19:34.5314340Z   âœ“ should report credential in not recently executed workflow (16 ms)
2025-04-15T08:19:34.5314508Z   âœ“ should not report credentials in recently executed workflow (18 ms)
2025-04-15T08:19:34.5314513Z 
2025-04-15T08:19:34.5314611Z PASS src/webhooks/__tests__/waiting-forms.test.ts
2025-04-15T08:19:34.5314664Z   WaitingForms
2025-04-15T08:19:34.5314716Z     findCompletionPage
2025-04-15T08:19:34.5314915Z       âœ“ should return lastNodeExecuted if it is a non-disabled form completion node (4 ms)
2025-04-15T08:19:34.5315044Z       âœ“ should return undefined if lastNodeExecuted is disabled
2025-04-15T08:19:34.5315210Z       âœ“ should return undefined if lastNodeExecuted is not a form node (1 ms)
2025-04-15T08:19:34.5315392Z       âœ“ should return undefined if lastNodeExecuted operation is not completion (1 ms)
2025-04-15T08:19:34.5315607Z       âœ“ should find first valid completion form in parent nodes if lastNodeExecuted is not valid (1 ms)
2025-04-15T08:19:34.5315795Z       âœ“ should return undefined if no valid completion form is found in parent nodes (1 ms)
2025-04-15T08:19:34.5315907Z       âœ“ should skip parent nodes without runData (1 ms)
2025-04-15T08:19:34.5316072Z       âœ“ should mark as test form webhook when execution mode is manual (1 ms)
2025-04-15T08:19:34.5316259Z       âœ“ should return status of execution if suffix is WAITING_FORMS_EXECUTION_STATUS (24 ms)
2025-04-15T08:19:34.5316264Z 
2025-04-15T08:19:34.5316349Z PASS src/push/__tests__/index.test.ts
2025-04-15T08:19:34.5316394Z   Push
2025-04-15T08:19:34.5316454Z     setupPushServer
2025-04-15T08:19:34.5316501Z       sse backend
2025-04-15T08:19:34.5316615Z         âœ“ should not create a WebSocket server (3 ms)
2025-04-15T08:19:34.5316666Z       websocket backend
2025-04-15T08:19:34.5316775Z         âœ“ should not upgrade non-push urls (1 ms)
2025-04-15T08:19:34.5316903Z         âœ“ should upgrade push url, and route it to express (1 ms)
2025-04-15T08:19:34.5317000Z     handleRequest
2025-04-15T08:19:34.5317058Z       sse backend
2025-04-15T08:19:34.5317154Z         âœ“ should throw if pushRef is invalid
2025-04-15T08:19:34.5317267Z         âœ“ should add the connection if pushRef is valid
2025-04-15T08:19:34.5317438Z         should throw on invalid origin
2025-04-15T08:19:34.5317552Z           âœ“ https://subdomain.example.com (21 ms)
2025-04-15T08:19:34.5317652Z           âœ“ https://123example.com (1 ms)
2025-04-15T08:19:34.5317731Z           âœ“ undefined (1 ms)
2025-04-15T08:19:34.5317784Z       websocket backend
2025-04-15T08:19:34.5317885Z         âœ“ should throw if pushRef is invalid
2025-04-15T08:19:34.5317991Z         âœ“ should add the connection if pushRef is valid
2025-04-15T08:19:34.5318119Z         âœ“ should respond with 401 if request is not WebSocket
2025-04-15T08:19:34.5318189Z         should throw on invalid origin
2025-04-15T08:19:34.5318297Z           âœ“ https://subdomain.example.com (1 ms)
2025-04-15T08:19:34.5318386Z           âœ“ https://123example.com (1 ms)
2025-04-15T08:19:34.5318453Z           âœ“ undefined
2025-04-15T08:19:34.5318457Z 
2025-04-15T08:19:34.5318584Z PASS src/services/__tests__/public-api-key.service.test.ts
2025-04-15T08:19:34.5318732Z   PublicApiKeyService
2025-04-15T08:19:34.5318787Z     getAuthMiddleware
2025-04-15T08:19:34.5318901Z       âœ“ should return false if api key is invalid (9 ms)
2025-04-15T08:19:34.5319048Z       âœ“ should return false if valid api key is not in database (4 ms)
2025-04-15T08:19:34.5319191Z       âœ“ should return true if valid api key exist in the database (18 ms)
2025-04-15T08:19:34.5319311Z       âœ“ should return false if expired JWT is used (32 ms)
2025-04-15T08:19:34.5319422Z       âœ“ should work with non JWT (legacy) api keys (20 ms)
2025-04-15T08:19:34.5319481Z     redactApiKey
2025-04-15T08:19:34.5319565Z       âœ“ should redact api key (6 ms)
2025-04-15T08:19:34.5319569Z 
2025-04-15T08:19:34.5319698Z PASS src/services/pruning/__tests__/pruning.service.test.ts
2025-04-15T08:19:34.5319748Z   PruningService
2025-04-15T08:19:34.5319806Z     init
2025-04-15T08:19:34.5319951Z       âœ“ should start pruning on main instance that is the leader (5 ms)
2025-04-15T08:19:34.5320109Z       âœ“ should not start pruning on main instance that is a follower (1 ms)
2025-04-15T08:19:34.5320284Z       âœ“ should register leadership events if main on multi-main setup (1 ms)
2025-04-15T08:19:34.5320330Z     isEnabled
2025-04-15T08:19:34.5320468Z       âœ“ should return `true` based on config if leader main (1 ms)
2025-04-15T08:19:34.5320591Z       âœ“ should return `false` based on config if leader main
2025-04-15T08:19:34.5320730Z       âœ“ should return `false` if non-main even if config is enabled
2025-04-15T08:19:34.5320886Z       âœ“ should return `false` if follower main even if config is enabled (1 ms)
2025-04-15T08:19:34.5320945Z     startPruning
2025-04-15T08:19:34.5321052Z       âœ“ should not start pruning if service is disabled
2025-04-15T08:19:34.5321215Z       âœ“ should start pruning if service is enabled and DB is migrated (6 ms)
2025-04-15T08:19:34.5321219Z 
2025-04-15T08:19:34.5321316Z PASS src/__tests__/credentials-helper.test.ts
2025-04-15T08:19:34.5321372Z   CredentialsHelper
2025-04-15T08:19:34.5321417Z     authenticate
2025-04-15T08:19:34.5321623Z       âœ“ basicAuth, default property names (15 ms)
2025-04-15T08:19:34.5321691Z       âœ“ headerAuth (1 ms)
2025-04-15T08:19:34.5321808Z       âœ“ headerAuth, key and value expressions (1 ms)
2025-04-15T08:19:34.5321876Z       âœ“ queryAuth
2025-04-15T08:19:34.5321964Z       âœ“ custom authentication (1 ms)
2025-04-15T08:19:34.5321968Z 
2025-04-15T08:19:34.5322063Z PASS src/commands/db/__tests__/revert.test.ts
2025-04-15T08:19:34.5322184Z   âœ“ don't revert migrations if there is no migration (4 ms)
2025-04-15T08:19:34.5322333Z   âœ“ don't revert the last migration if it had no down migration (1 ms)
2025-04-15T08:19:34.5322521Z   âœ“ print migration name instead of class name in error message if the migration has a name
2025-04-15T08:19:34.5322701Z   âœ“ don't revert the last migration if we cannot find the migration in the code (1 ms)
2025-04-15T08:19:34.5322817Z   âœ“ revert the last migration if it has a down migration
2025-04-15T08:19:34.5322980Z   âœ“ don't use transaction if the last migration has transaction = false (1 ms)
2025-04-15T08:19:34.5323078Z 
2025-04-15T08:19:34.5323246Z PASS test/integration/controllers/dynamic-node-parameters.controller.test.ts
2025-04-15T08:19:34.5323327Z   DynamicNodeParametersController
2025-04-15T08:19:34.5323406Z     POST /dynamic-node-parameters/options
2025-04-15T08:19:34.5323498Z       âœ“ should take params via body (52 ms)
2025-04-15T08:19:34.5323612Z       âœ“ should take params with loadOptions (10 ms)
2025-04-15T08:19:34.5323767Z       âœ“ should return empty array when no method or loadOptions provided (5 ms)
2025-04-15T08:19:34.5323870Z     POST /dynamic-node-parameters/resource-locator-results
2025-04-15T08:19:34.5323979Z       âœ“ should return resource locator results (4 ms)
2025-04-15T08:19:34.5324131Z       âœ“ should handle resource locator results without pagination (4 ms)
2025-04-15T08:19:34.5324259Z       âœ“ should return a 400 if methodName is not defined (4 ms)
2025-04-15T08:19:34.5324362Z     POST /dynamic-node-parameters/resource-mapper-fields
2025-04-15T08:19:34.5324474Z       âœ“ should return resource mapper fields (7 ms)
2025-04-15T08:19:34.5324612Z       âœ“ should return a 400 if methodName is not defined (12 ms)
2025-04-15T08:19:34.5324720Z     POST /dynamic-node-parameters/local-resource-mapper-fields
2025-04-15T08:19:34.5324841Z       âœ“ should return local resource mapper fields (4 ms)
2025-04-15T08:19:34.5324964Z       âœ“ should return a 400 if methodName is not defined (3 ms)
2025-04-15T08:19:34.5325052Z     POST /dynamic-node-parameters/action-result
2025-04-15T08:19:34.5325171Z       âœ“ should return action result with handler (3 ms)
2025-04-15T08:19:34.5325292Z       âœ“ should return a 400 if handler is not defined (3 ms)
2025-04-15T08:19:34.5325296Z 
2025-04-15T08:19:34.5325477Z PASS test/integration/task-runners/js-task-runner-execution.integration.test.ts
2025-04-15T08:19:34.5325557Z   JS TaskRunner execution on internal mode
2025-04-15T08:19:34.5325615Z     Basic code execution
2025-04-15T08:19:34.5325714Z       âœ“ should execute a simple JS task (820 ms)
2025-04-15T08:19:34.5325797Z     Internal and external libs
2025-04-15T08:19:34.5325922Z       âœ“ should allow importing allowed internal module (893 ms)
2025-04-15T08:19:34.5326067Z       âœ“ should not allow importing disallowed internal module (8 ms)
2025-04-15T08:19:34.5326189Z       âœ“ should allow importing allowed external module (8 ms)
2025-04-15T08:19:34.5326330Z       âœ“ should not allow importing disallowed external module (7 ms)
2025-04-15T08:19:34.5326335Z 
2025-04-15T08:19:34.5326460Z PASS src/deprecation/__tests__/deprecation.service.test.ts
2025-04-15T08:19:34.5326518Z   DeprecationService
2025-04-15T08:19:34.5326637Z     âœ“ should detect when N8N_BINARY_DATA_TTL is `1` (1 ms)
2025-04-15T08:19:34.5326760Z     âœ“ should detect when N8N_PERSISTED_BINARY_DATA_TTL is `1`
2025-04-15T08:19:34.5326901Z     âœ“ should detect when EXECUTIONS_DATA_PRUNE_TIMEOUT is `1` (1 ms)
2025-04-15T08:19:34.5327044Z     âœ“ should detect when N8N_CONFIG_FILES is `1`
2025-04-15T08:19:34.5327205Z     âœ“ should detect when N8N_SKIP_WEBHOOK_DEREGISTRATION_SHUTDOWN is `1` (1 ms)
2025-04-15T08:19:34.5327446Z     âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `1`
2025-04-15T08:19:34.5327587Z     âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `2`
2025-04-15T08:19:34.5327747Z     âœ“ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `undefined`
2025-04-15T08:19:34.5327861Z     âœ“ should handle N8N_BINARY_DATA_MODE as default
2025-04-15T08:19:34.5327970Z     âœ“ should handle N8N_BINARY_DATA_MODE as filesystem
2025-04-15T08:19:34.5328077Z     âœ“ should handle N8N_BINARY_DATA_MODE as s3
2025-04-15T08:19:34.5328263Z     âœ“ should handle DB_TYPE as sqlite (1 ms)
2025-04-15T08:19:34.5328361Z     âœ“ should handle DB_TYPE as postgresdb
2025-04-15T08:19:34.5328451Z     âœ“ should handle DB_TYPE as mysqldb
2025-04-15T08:19:34.5328538Z     âœ“ should handle DB_TYPE as mariadb
2025-04-15T08:19:34.5328614Z     N8N_PARTIAL_EXECUTION_VERSION_DEFAULT
2025-04-15T08:19:34.5328772Z       âœ“ supports multiple warnings for the same environment variable (4 ms)
2025-04-15T08:19:34.5328947Z     N8N_RUNNERS_ENABLED
2025-04-15T08:19:34.5329046Z       âœ“ should handle value: false (1 ms)
2025-04-15T08:19:34.5329121Z       âœ“ should handle value: 
2025-04-15T08:19:34.5329216Z       âœ“ should handle value: true
2025-04-15T08:19:34.5329304Z       âœ“ should handle value: undefined
2025-04-15T08:19:34.5329387Z     OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS
2025-04-15T08:19:34.5329456Z       when executions.mode is queue
2025-04-15T08:19:34.5329618Z         âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is false (1 ms)
2025-04-15T08:19:34.5329758Z         âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is empty
2025-04-15T08:19:34.5329907Z         âœ“ should not warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is true
2025-04-15T08:19:34.5330075Z         âœ“ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is undefined (1 ms)
2025-04-15T08:19:34.5330147Z       when executions.mode is not queue
2025-04-15T08:19:34.5330218Z         âœ“ should not warn
2025-04-15T08:19:34.5330231Z 
2025-04-15T08:19:34.5330334Z PASS src/scaling/__tests__/worker-server.test.ts
2025-04-15T08:19:34.5330392Z   WorkerServer
2025-04-15T08:19:34.5330438Z     constructor
2025-04-15T08:19:34.5330562Z       âœ“ should throw if non-worker instance type (16 ms)
2025-04-15T08:19:34.5330651Z       âœ“ should exit if port taken (3 ms)
2025-04-15T08:19:34.5330702Z     init
2025-04-15T08:19:34.5330827Z       âœ“ should mount all endpoints when all are enabled (1 ms)
2025-04-15T08:19:34.5331020Z       âœ“ should mount only health and overwrites endpoints if only those are enabled (1 ms)
2025-04-15T08:19:34.5331132Z       âœ“ should throw if no endpoints are enabled (1 ms)
2025-04-15T08:19:34.5331248Z       âœ“ should call `worker.ready` external hook (1 ms)
2025-04-15T08:19:34.5331253Z 
2025-04-15T08:19:34.5331406Z PASS test/integration/collaboration/collaboration.service.test.ts
2025-04-15T08:19:34.5331460Z   CollaborationService
2025-04-15T08:19:34.5331519Z     workflow opened message
2025-04-15T08:19:34.5331672Z       âœ“ should emit collaboratorsChanged after workflowOpened (17 ms)
2025-04-15T08:19:34.5331876Z       âœ“ should not emit collaboratorsChanged if user don't have access to the workflow (2 ms)
2025-04-15T08:19:34.5331927Z     workflow closed message
2025-04-15T08:19:34.5332150Z       âœ“ should not emit collaboratorsChanged after workflowClosed when there are no active users (6 ms)
2025-04-15T08:19:34.5332354Z       âœ“ should emit collaboratorsChanged after workflowClosed when there are active users (12 ms)
2025-04-15T08:19:34.5332555Z       âœ“ should not emit collaboratorsChanged if user don't have access to the workflow (19 ms)
2025-04-15T08:19:34.5332560Z 
2025-04-15T08:19:34.5332663Z PASS src/__tests__/active-workflow-manager.test.ts
2025-04-15T08:19:34.5332723Z   ActiveWorkflowManager
2025-04-15T08:19:34.5332799Z     checkIfWorkflowCanBeActivated
2025-04-15T08:19:34.5332891Z       âœ“ should skip disabled nodes (6 ms)
2025-04-15T08:19:34.5332997Z       âœ“ should skip nodes marked as ignored (10 ms)
2025-04-15T08:19:34.5333208Z       âœ“ should skip unknown nodes (2 ms)
2025-04-15T08:19:34.5333328Z       âœ“ should skip nodes with no trigger method (2 ms)
2025-04-15T08:19:34.5333436Z       âœ“ should activate if poll method exists (1 ms)
2025-04-15T08:19:34.5333548Z       âœ“ should activate if trigger method exists (2 ms)
2025-04-15T08:19:34.5333652Z       âœ“ should activate if webhook method exists (2 ms)
2025-04-15T08:19:34.5333711Z     shouldAddWebhooks
2025-04-15T08:19:34.5333759Z       if leader
2025-04-15T08:19:34.5333855Z         âœ“ should return `true` for `init`
2025-04-15T08:19:34.5333976Z         âœ“ should return `false` for `leadershipChange` (1 ms)
2025-04-15T08:19:34.5334119Z         âœ“ should return `true` for `update` or `activate` (1 ms)
2025-04-15T08:19:34.5334176Z       if follower
2025-04-15T08:19:34.5334309Z         âœ“ should return `false` for `update` or `activate`
2025-04-15T08:19:34.5334359Z       add
2025-04-15T08:19:34.5334522Z         âœ“ should skip inactive workflow in `init` activation mode (2 ms)
2025-04-15T08:19:34.5334830Z         âœ“ should skip inactive workflow in `leadershipChange` activation mode (1 ms)
2025-04-15T08:19:34.5334848Z 
2025-04-15T08:19:34.5334984Z PASS src/executions/__tests__/executions.controller.test.ts
2025-04-15T08:19:34.5335052Z   ExecutionsController
2025-04-15T08:19:34.5335100Z     getOne
2025-04-15T08:19:34.5335231Z       âœ“ should 400 when execution is not a number (11 ms)
2025-04-15T08:19:34.5335281Z     getMany
2025-04-15T08:19:34.5335362Z       if either status or range provided
2025-04-15T08:19:34.5335467Z         âœ“ should fetch executions per query (2 ms)
2025-04-15T08:19:34.5335563Z         âœ“ should fetch executions per query
2025-04-15T08:19:34.5335659Z         âœ“ should fetch executions per query (1 ms)
2025-04-15T08:19:34.5335756Z         âœ“ should fetch executions per query
2025-04-15T08:19:34.5335826Z       if neither status nor range provided
2025-04-15T08:19:34.5335932Z         âœ“ should fetch executions per query (1 ms)
2025-04-15T08:19:34.5336031Z         âœ“ should fetch executions per query
2025-04-15T08:19:34.5336111Z       if both status and range provided
2025-04-15T08:19:34.5336207Z         âœ“ should fetch executions per query (6 ms)
2025-04-15T08:19:34.5336258Z     stop
2025-04-15T08:19:34.5336373Z       âœ“ should 404 when execution is inaccessible for user
2025-04-15T08:19:34.5336498Z       âœ“ should call ask for an execution to be stopped
2025-04-15T08:19:34.5336502Z 
2025-04-15T08:19:34.5336663Z PASS src/metrics/__tests__/prometheus-metrics.service.unmocked.test.ts
2025-04-15T08:19:34.5336720Z   workflow_success_total
2025-04-15T08:19:34.5336818Z     âœ“ support workflow id labels (18 ms)
2025-04-15T08:19:34.5336906Z     âœ“ support a custom prefix (1 ms)
2025-04-15T08:19:34.5337016Z   Active workflow count
2025-04-15T08:19:34.5337111Z     âœ“ should prioritize cached value (2 ms)
2025-04-15T08:19:34.5337245Z     âœ“ should query value from database if cache misses (2 ms)
2025-04-15T08:19:34.5337249Z 
2025-04-15T08:19:34.5337360Z PASS src/shutdown/__tests__/shutdown.service.test.ts
2025-04-15T08:19:34.5337434Z   ShutdownService
2025-04-15T08:19:34.5337482Z     shutdown
2025-04-15T08:19:34.5337576Z       âœ“ should signal shutdown (7 ms)
2025-04-15T08:19:34.5337686Z       âœ“ should signal shutdown in the priority order
2025-04-15T08:19:34.5337828Z       âœ“ should throw error if shutdown is already in progress (15 ms)
2025-04-15T08:19:34.5337962Z       âœ“ should report error if component shutdown fails (1 ms)
2025-04-15T08:19:34.5338013Z     waitForShutdown
2025-04-15T08:19:34.5338105Z       âœ“ should wait for shutdown (1 ms)
2025-04-15T08:19:34.5338224Z       âœ“ should throw error if app is not shutting down (1 ms)
2025-04-15T08:19:34.5338290Z     isShuttingDown
2025-04-15T08:19:34.5338388Z       âœ“ should return true if app is shutting down
2025-04-15T08:19:34.5338507Z       âœ“ should return false if app is not shutting down
2025-04-15T08:19:34.5338555Z     validate
2025-04-15T08:19:34.5338741Z       âœ“ should throw error if component is not registered with the DI container (1 ms)
2025-04-15T08:19:34.5339006Z       âœ“ should throw error if component is missing the shutdown method (1 ms)
2025-04-15T08:19:34.5339011Z 
2025-04-15T08:19:34.5339133Z PASS test/integration/services/project.service.test.ts
2025-04-15T08:19:34.5339183Z   ProjectService
2025-04-15T08:19:34.5339243Z     addUser
2025-04-15T08:19:34.5339450Z       âœ“ creates a relation between the user and the project using the role project:viewer (37 ms)
2025-04-15T08:19:34.5339661Z       âœ“ creates a relation between the user and the project using the role project:admin (15 ms)
2025-04-15T08:19:34.5339856Z       âœ“ creates a relation between the user and the project using the role project:editor (12 ms)
2025-04-15T08:19:34.5340068Z       âœ“ creates a relation between the user and the project using the role project:personalOwner (8 ms)
2025-04-15T08:19:34.5340358Z       âœ“ changes the role the user has in the project if the user is already part of the project, instead of creating a new relationship (12 ms)
2025-04-15T08:19:34.5340512Z     getProjectWithScope
2025-04-15T08:19:34.5340751Z       âœ“ should return the project if the user has the role project:admin and wants the scope workflow:list (15 ms)
2025-04-15T08:19:34.5340982Z       âœ“ should return the project if the user has the role project:admin and wants the scope workflow:create (12 ms)
2025-04-15T08:19:34.5341216Z       âœ“ should return the project if the user has the role project:viewer and wants the scope workflow:create (9 ms)
2025-04-15T08:19:34.5341452Z       âœ“ should return the project if the user has the role project:viewer and wants the scope credential:create (11 ms)
2025-04-15T08:19:34.5341611Z       âœ“ should not return the project if the user is not part of it (11 ms)
2025-04-15T08:19:34.5341615Z 
2025-04-15T08:19:34.5341722Z PASS src/services/__tests__/hooks.service.test.ts
2025-04-15T08:19:34.5341772Z   HooksService
2025-04-15T08:19:34.5341945Z     âœ“ hooksService.inviteUsers should call userService.inviteUsers (3 ms)
2025-04-15T08:19:34.5342098Z     âœ“ hooksService.issueCookie should call authService.issueCookie (1 ms)
2025-04-15T08:19:34.5342262Z     âœ“ hooksService.findOneUser should call authUserRepository.findOne
2025-04-15T08:19:34.5342409Z     âœ“ hooksService.saveUser should call userRepository.save (1 ms)
2025-04-15T08:19:34.5342571Z     âœ“ hooksService.updateSettings should call settingRepository.update
2025-04-15T08:19:34.5342720Z     âœ“ hooksService.workflowsCount should call workflowRepository.count
2025-04-15T08:19:34.5342890Z     âœ“ hooksService.credentialsCount should call credentialRepository.count
2025-04-15T08:19:34.5343039Z     âœ“ hooksService.settingsCount should call settingsRepository.count
2025-04-15T08:19:34.5343219Z     âœ“ hooksService.authMiddleware should call authService.authMiddleware (1 ms)
2025-04-15T08:19:34.5343357Z     âœ“ hooksService.dbCollections should return valid repositories
2025-04-15T08:19:34.5343458Z     âœ“ hooksService.getRudderStackClient
2025-04-15T08:19:34.5343462Z 
2025-04-15T08:19:34.5343611Z PASS src/execution-lifecycle/__tests__/restore-binary-data-id.test.ts
2025-04-15T08:19:34.5343673Z   on filesystem-v2 mode
2025-04-15T08:19:34.5343818Z     âœ“ should restore if binary data ID is missing execution ID (3 ms)
2025-04-15T08:19:34.5343969Z     âœ“ should do nothing if binary data ID is not missing execution ID (1 ms)
2025-04-15T08:19:34.5344068Z     âœ“ should do nothing if no binary data ID
2025-04-15T08:19:34.5344168Z     âœ“ should do nothing on itemless case (1 ms)
2025-04-15T08:19:34.5344265Z     âœ“ should do nothing if data is undefined
2025-04-15T08:19:34.5344407Z     âœ“ should do nothing if workflow execution mode is not `webhook` (1 ms)
2025-04-15T08:19:34.5344522Z     âœ“ should ignore error thrown on renaming (1 ms)
2025-04-15T08:19:34.5344567Z   on s3 mode
2025-04-15T08:19:34.5344698Z     âœ“ should restore if binary data ID is missing execution ID
2025-04-15T08:19:34.5344832Z     âœ“ should do nothing if binary data ID is not missing execution ID
2025-04-15T08:19:34.5344939Z     âœ“ should do nothing if no binary data ID (1 ms)
2025-04-15T08:19:34.5345134Z     âœ“ should do nothing on itemless case
2025-04-15T08:19:34.5345240Z     âœ“ should do nothing if data is undefined (1 ms)
2025-04-15T08:19:34.5345379Z     âœ“ should do nothing if workflow execution mode is not `webhook`
2025-04-15T08:19:34.5345484Z     âœ“ should ignore error thrown on renaming (1 ms)
2025-04-15T08:19:34.5345544Z   on default mode
2025-04-15T08:19:34.5345614Z     âœ“ should do nothing
2025-04-15T08:19:34.5345618Z 
2025-04-15T08:19:34.5345725Z PASS test/integration/credentials-helper.test.ts
2025-04-15T08:19:34.5345780Z   CredentialsHelper
2025-04-15T08:19:34.5345855Z     credentialOwnedBySuperUsers
2025-04-15T08:19:34.5345942Z       âœ“ owners are super users (22 ms)
2025-04-15T08:19:34.5346036Z       âœ“ admins are super users (7 ms)
2025-04-15T08:19:34.5346134Z       âœ“ owners need to own the credential (5 ms)
2025-04-15T08:19:34.5346233Z       âœ“ admins need to own the credential (7 ms)
2025-04-15T08:19:34.5346326Z       âœ“ members are no super users (20 ms)
2025-04-15T08:19:34.5346632Z       âœ“ credential in team project with instance owner as an admin can use external secrets (17 ms)
2025-04-15T08:19:34.5346825Z       âœ“ credential in team project with instance admin as an admin can use external secrets (16 ms)
2025-04-15T08:19:34.5347089Z       âœ“ credential in team project with instance owner as an editor cannot use external secrets (12 ms)
2025-04-15T08:19:34.5347301Z       âœ“ credential in team project with instance admin as an editor cannot use external secrets (19 ms)
2025-04-15T08:19:34.5347550Z       âœ“ credential in team project with no instance admin or owner as part of the project cannot use external secrets (25 ms)
2025-04-15T08:19:34.5347555Z 
2025-04-15T08:19:34.5347663Z PASS src/__tests__/credentials-overwrites.test.ts
2025-04-15T08:19:34.5347715Z   CredentialsOverwrites
2025-04-15T08:19:34.5347778Z     constructor
2025-04-15T08:19:34.5347905Z       âœ“ should parse and set overwrite data from config (8 ms)
2025-04-15T08:19:34.5347958Z     setData
2025-04-15T08:19:34.5348083Z       âœ“ should reset resolvedTypes when setting new data
2025-04-15T08:19:34.5348140Z     applyOverwrite
2025-04-15T08:19:34.5348252Z       âœ“ should apply overwrites only for empty fields
2025-04-15T08:19:34.5348389Z       âœ“ should return original data if no overwrites exist (1 ms)
2025-04-15T08:19:34.5348439Z     getOverwrites
2025-04-15T08:19:34.5348593Z       âœ“ should return undefined for unrecognized credential type (1 ms)
2025-04-15T08:19:34.5348689Z       âœ“ should cache resolved types (1 ms)
2025-04-15T08:19:34.5348792Z       âœ“ should merge overwrites from parent types
2025-04-15T08:19:34.5348796Z 
2025-04-15T08:19:34.5348949Z PASS test/integration/security-audit/database-risk-reporter.test.ts
2025-04-15T08:19:34.5349058Z   âœ“ should report expressions in queries (241 ms)
2025-04-15T08:19:34.5349179Z   âœ“ should report expressions in query params (12 ms)
2025-04-15T08:19:34.5349278Z   âœ“ should report unused query params (10 ms)
2025-04-15T08:19:34.5349382Z   âœ“ should not report non-database node (9 ms)
2025-04-15T08:19:34.5349395Z 
2025-04-15T08:19:34.5349534Z PASS src/executions/__tests__/parse-range-query.middleware.test.ts
2025-04-15T08:19:34.5349611Z   `parseRangeQuery` middleware
2025-04-15T08:19:34.5349655Z     errors
2025-04-15T08:19:34.5349756Z       âœ“ should fail on invalid JSON (8 ms)
2025-04-15T08:19:34.5349860Z       âœ“ should fail on invalid schema (2 ms)
2025-04-15T08:19:34.5349905Z     filter
2025-04-15T08:19:34.5350009Z       âœ“ should parse status and mode fields (2 ms)
2025-04-15T08:19:34.5350107Z       âœ“ should parse date-related fields (1 ms)
2025-04-15T08:19:34.5350210Z       âœ“ should parse ID-related fields (1 ms)
2025-04-15T08:19:34.5350298Z       âœ“ should parse `projectId` field
2025-04-15T08:19:34.5350398Z       âœ“ should delete invalid fields (1 ms)
2025-04-15T08:19:34.5350443Z     range
2025-04-15T08:19:34.5350536Z       âœ“ should parse first and last IDs
2025-04-15T08:19:34.5350618Z       âœ“ should parse limit (1 ms)
2025-04-15T08:19:34.5350725Z       âœ“ should default limit to 20 if absent (1 ms)
2025-04-15T08:19:34.5350837Z 
2025-04-15T08:19:34.5350948Z PASS src/controllers/__tests__/owner.controller.test.ts
2025-04-15T08:19:34.5351007Z   OwnerController
2025-04-15T08:19:34.5351056Z     setupOwner
2025-04-15T08:19:34.5351241Z       âœ“ should throw a BadRequestError if the instance owner is already setup (14 ms)
2025-04-15T08:19:34.5351361Z       âœ“ should setup the instance owner successfully (2 ms)
2025-04-15T08:19:34.5351420Z     dismissBanner
2025-04-15T08:19:34.5351542Z       âœ“ should not call dismissBanner if no banner is provided
2025-04-15T08:19:34.5351670Z       âœ“ should call dismissBanner with the correct banner name
2025-04-15T08:19:34.5351674Z 
2025-04-15T08:19:34.5351826Z PASS src/execution-lifecycle/__tests__/save-execution-progress.test.ts
2025-04-15T08:19:34.5351884Z   saveExecutionProgress
2025-04-15T08:19:34.5352018Z     âœ“ should not try to update non-existent executions (3 ms)
2025-04-15T08:19:34.5352120Z     âœ“ should handle DB errors on execution lookup
2025-04-15T08:19:34.5352443Z     âœ“ should handle DB errors when updating the execution
2025-04-15T08:19:34.5352557Z     âœ“ should not try to update finished executions (1 ms)
2025-04-15T08:19:34.5352675Z     âœ“ should populate `.data` when it is missing (1 ms)
2025-04-15T08:19:34.5352773Z     âœ“ should augment `.data` if it already exists
2025-04-15T08:19:34.5352889Z     âœ“ should set last executed node correctly (1 ms)
2025-04-15T08:19:34.5352893Z 
2025-04-15T08:19:34.5352986Z PASS src/push/__tests__/websocket.push.test.ts
2025-04-15T08:19:34.5353041Z   WebSocketPush
2025-04-15T08:19:34.5353129Z     âœ“ can add a connection (3 ms)
2025-04-15T08:19:34.5353211Z     âœ“ closes a connection (1 ms)
2025-04-15T08:19:34.5353311Z     âœ“ sends data to one connection (1 ms)
2025-04-15T08:19:34.5353399Z     âœ“ sends data to all connections (1 ms)
2025-04-15T08:19:34.5353474Z     âœ“ pings all connections
2025-04-15T08:19:34.5353576Z     âœ“ sends data to all users connections (1 ms)
2025-04-15T08:19:34.5353714Z     âœ“ emits message event when connection receives data (1 ms)
2025-04-15T08:19:34.5353831Z     âœ“ emits doesn' emit message for client heartbeat
2025-04-15T08:19:34.5353835Z 
2025-04-15T08:19:34.5354002Z PASS test/integration/database/repositories/project.repository.test.ts
2025-04-15T08:19:34.5354056Z   ProjectRepository
2025-04-15T08:19:34.5354121Z     getPersonalProjectForUser
2025-04-15T08:19:34.5354214Z       âœ“ returns the personal project (60 ms)
2025-04-15T08:19:34.5354334Z       âœ“ does not return non personal projects (18 ms)
2025-04-15T08:19:34.5354406Z     getPersonalProjectForUserOrFail
2025-04-15T08:19:34.5354507Z       âœ“ returns the personal project (21 ms)
2025-04-15T08:19:34.5354616Z       âœ“ does not return non personal projects (47 ms)
2025-04-15T08:19:34.5354691Z     update personal project name
2025-04-15T08:19:34.5354900Z       âœ“ do not pass a User instance with circular references into `UserRepository.create` (30 ms)
2025-04-15T08:19:34.5354904Z 
2025-04-15T08:19:34.5355064Z PASS src/external-secrets.ee/__tests__/external-secrets-manager.ee.test.ts
2025-04-15T08:19:34.5355141Z   External Secrets Manager
2025-04-15T08:19:34.5355222Z     âœ“ should get secret (6 ms)
2025-04-15T08:19:34.5355329Z     âœ“ should not throw errors during init (2 ms)
2025-04-15T08:19:34.5355439Z     âœ“ should not throw errors during shutdown (1 ms)
2025-04-15T08:19:34.5355540Z     âœ“ should save provider settings (2 ms)
2025-04-15T08:19:34.5355662Z     âœ“ should call provider update functions on a timer (3 ms)
2025-04-15T08:19:34.5355823Z     âœ“ should not call provider update functions if the not licensed (1 ms)
2025-04-15T08:19:34.5355998Z     âœ“ should not call provider update functions if the provider has an error (1 ms)
2025-04-15T08:19:34.5356154Z     âœ“ should reinitialize a provider when save provider settings (1 ms)
2025-04-15T08:19:34.5356159Z 
2025-04-15T08:19:34.5356258Z PASS test/integration/binary-data.api.test.ts
2025-04-15T08:19:34.5356310Z   GET /binary-data
2025-04-15T08:19:34.5356414Z     should reject on missing or invalid binary data ID
2025-04-15T08:19:34.5356616Z       âœ“ on request to view (31 ms)
2025-04-15T08:19:34.5356711Z       âœ“ on request to download (10 ms)
2025-04-15T08:19:34.5356784Z     should return binary data [filesystem]
2025-04-15T08:19:34.5356868Z       âœ“ on request to view (7 ms)
2025-04-15T08:19:34.5356989Z       âœ“ on request to download (5 ms)
2025-04-15T08:19:34.5357081Z     should handle non-ASCII filename [filesystem]
2025-04-15T08:19:34.5357162Z       âœ“ on request to download (4 ms)
2025-04-15T08:19:34.5357255Z     should return 404 on file not found [filesystem]
2025-04-15T08:19:34.5357338Z       âœ“ on request to view (7 ms)
2025-04-15T08:19:34.5357426Z       âœ“ on request to download (4 ms)
2025-04-15T08:19:34.5357492Z     should return binary data [s3]
2025-04-15T08:19:34.5357578Z       âœ“ on request to view (4 ms)
2025-04-15T08:19:34.5357660Z       âœ“ on request to download (30 ms)
2025-04-15T08:19:34.5357740Z     should return 404 on file not found [s3]
2025-04-15T08:19:34.5357819Z       âœ“ on request to view (5 ms)
2025-04-15T08:19:34.5358050Z       âœ“ on request to download (3 ms)
2025-04-15T08:19:34.5358054Z 
2025-04-15T08:19:34.5358193Z PASS src/execution-lifecycle/__tests__/to-save-settings.test.ts
2025-04-15T08:19:34.5358257Z   failed production executions
2025-04-15T08:19:34.5358378Z     âœ“ should favor workflow settings over defaults (3 ms)
2025-04-15T08:19:34.5358507Z     âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:19:34.5358581Z   successful production executions
2025-04-15T08:19:34.5358683Z     âœ“ should favor workflow settings over defaults
2025-04-15T08:19:34.5358813Z     âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:19:34.5358861Z   manual executions
2025-04-15T08:19:34.5358966Z     âœ“ should favor workflow setting over default
2025-04-15T08:19:34.5359127Z     âœ“ should favor fall back to default if workflow setting is explicit default
2025-04-15T08:19:34.5359259Z     âœ“ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:19:34.5359319Z   execution progress
2025-04-15T08:19:34.5359425Z     âœ“ should favor workflow setting over default
2025-04-15T08:19:34.5359598Z     âœ“ should favor fall back to default if workflow setting is explicit default (1 ms)
2025-04-15T08:19:34.5359721Z     âœ“ should fall back to default if no workflow setting
2025-04-15T08:19:34.5359726Z 
2025-04-15T08:19:34.5359818Z PASS test/integration/role.api.test.ts
2025-04-15T08:19:34.5359867Z   GET /roles/
2025-04-15T08:19:34.5359971Z     âœ“ should return all role categories (29 ms)
2025-04-15T08:19:34.5360065Z     âœ“ should return fixed global roles (7 ms)
2025-04-15T08:19:34.5360169Z     âœ“ should return fixed project roles (5 ms)
2025-04-15T08:19:34.5360283Z     âœ“ should return fixed credential sharing roles (9 ms)
2025-04-15T08:19:34.5360403Z     âœ“ should return fixed workflow sharing roles (7 ms)
2025-04-15T08:19:34.5360407Z 
2025-04-15T08:19:34.5360516Z PASS src/webhooks/__tests__/webhook-form-data.test.ts
2025-04-15T08:19:34.5360572Z   webhook-form-data
2025-04-15T08:19:34.5360639Z     createMultiFormDataParser
2025-04-15T08:19:34.5360773Z       âœ“ should parse fields from the multipart form data (26 ms)
2025-04-15T08:19:34.5360928Z       âœ“ should parse text/plain file from the multipart form data (11 ms)
2025-04-15T08:19:34.5361097Z       âœ“ should parse multiple files and fields from the multipart form data (10 ms)
2025-04-15T08:19:34.5361209Z       âœ“ should ignore file that is too large (4 ms)
2025-04-15T08:19:34.5361213Z 
2025-04-15T08:19:34.5361335Z PASS src/task-runners/__tests__/task-runner-process.test.ts
2025-04-15T08:19:34.5361394Z   TaskRunnerProcess
2025-04-15T08:19:34.5361442Z     constructor
2025-04-15T08:19:34.5361563Z       âœ“ should throw if runner mode is external (18 ms)
2025-04-15T08:19:34.5361732Z       âœ“ should register listener for `runner:failed-heartbeat-check` event (1 ms)
2025-04-15T08:19:34.5361887Z       âœ“ should register listener for `runner:timed-out-during-task` event
2025-04-15T08:19:34.5361933Z     start
2025-04-15T08:19:34.5362043Z       âœ“ should propagate PATH from env as is (2 ms)
2025-04-15T08:19:34.5362279Z       âœ“ should propagate NODE_FUNCTION_ALLOW_BUILTIN from env as is
2025-04-15T08:19:34.5362424Z       âœ“ should propagate NODE_FUNCTION_ALLOW_EXTERNAL from env as is
2025-04-15T08:19:34.5362534Z       âœ“ should propagate N8N_SENTRY_DSN from env as is
2025-04-15T08:19:34.5362644Z       âœ“ should propagate N8N_VERSION from env as is
2025-04-15T08:19:34.5362750Z       âœ“ should propagate ENVIRONMENT from env as is
2025-04-15T08:19:34.5362863Z       âœ“ should propagate DEPLOYMENT_NAME from env as is
2025-04-15T08:19:34.5362981Z       âœ“ should propagate NODE_PATH from env as is (1 ms)
2025-04-15T08:19:34.5363093Z       âœ“ should propagate GENERIC_TIMEZONE from env as is
2025-04-15T08:19:34.5363254Z       âœ“ should pass NODE_OPTIONS env if maxOldSpaceSize is configured (1 ms)
2025-04-15T08:19:34.5363419Z       âœ“ should not pass NODE_OPTIONS env if maxOldSpaceSize is not configured (1 ms)
2025-04-15T08:19:34.5363626Z       âœ“ should use --disallow-code-generation-from-strings and --disable-proto=delete flags
2025-04-15T08:19:34.5363727Z 
2025-04-15T08:19:34.5363815Z PASS test/integration/license.api.test.ts
2025-04-15T08:19:34.5363872Z   GET /license
2025-04-15T08:19:34.5364013Z     âœ“ should return license information to the instance owner (53 ms)
2025-04-15T08:19:34.5364149Z     âœ“ should return license information to a regular user (8 ms)
2025-04-15T08:19:34.5364221Z   POST /license/enterprise/request_trial
2025-04-15T08:19:34.5364364Z     âœ“ should work for instance owner (33 ms)
2025-04-15T08:19:34.5364464Z     âœ“ does not work for regular users (6 ms)
2025-04-15T08:19:34.5364519Z   POST /license/activate
2025-04-15T08:19:34.5364616Z     âœ“ should work for instance owner (11 ms)
2025-04-15T08:19:34.5364709Z     âœ“ does not work for regular users (18 ms)
2025-04-15T08:19:34.5364803Z     âœ“ errors out properly (21 ms)
2025-04-15T08:19:34.5364855Z   POST /license/renew
2025-04-15T08:19:34.5364960Z     âœ“ should work for instance owner (10 ms)
2025-04-15T08:19:34.5365063Z     âœ“ does not work for regular users (6 ms)
2025-04-15T08:19:34.5365155Z     âœ“ errors out properly (8 ms)
2025-04-15T08:19:34.5365159Z 
2025-04-15T08:19:34.5365267Z PASS src/sso.ee/saml/__tests__/saml.service.ee.test.ts
2025-04-15T08:19:34.5365325Z   SamlService
2025-04-15T08:19:34.5365397Z     getAttributesFromLoginResponse
2025-04-15T08:19:34.5365515Z       âœ“ throws when any attribute is missing (72 ms)
2025-04-15T08:19:34.5365561Z     init
2025-04-15T08:19:34.5365706Z       âœ“ calls `reset` if an InvalidSamlMetadataError is thrown (2 ms)
2025-04-15T08:19:34.5365806Z       âœ“ calls `reset` if a SyntaxError is thrown
2025-04-15T08:19:34.5365965Z       âœ“ does not call reset and rethrows if another error is thrown (6 ms)
2025-04-15T08:19:34.5366073Z       âœ“ does not call reset if no error is thrown
2025-04-15T08:19:34.5366120Z     reset
2025-04-15T08:19:34.5366298Z       âœ“ disables saml login and deletes the saml `features.saml` key in the db (1 ms)
2025-04-15T08:19:34.5366302Z 
2025-04-15T08:19:34.5366446Z PASS test/integration/credentials/credentials.service.test.ts
2025-04-15T08:19:34.5366512Z   credentials service
2025-04-15T08:19:34.5366592Z     replaceCredentialContentsForSharee
2025-04-15T08:19:34.5366745Z       âœ“ should replace the contents of the credential for sharee (11 ms)
2025-04-15T08:19:34.5366909Z       âœ“ should replace the contents of the credential for project viewer (32 ms)
2025-04-15T08:19:34.5367131Z       âœ“ should not replace the contents of the credential for project editor (14 ms)
2025-04-15T08:19:34.5367135Z 
2025-04-15T08:19:34.5367255Z PASS test/integration/controllers/oauth/oauth2.api.test.ts
2025-04-15T08:19:34.5367313Z   OAuth2 API
2025-04-15T08:19:34.5367484Z     âœ“ should return a valid auth URL when the auth flow is initiated (58 ms)
2025-04-15T08:19:34.5367633Z     âœ“ should fail on auth when callback is called as another user (31 ms)
2025-04-15T08:19:34.5367758Z     âœ“ should handle a valid callback without auth (41 ms)
2025-04-15T08:19:34.5367762Z 
2025-04-15T08:19:34.5367955Z PASS src/__tests__/external-hooks.test.ts
2025-04-15T08:19:34.5368020Z   ExternalHooks
2025-04-15T08:19:34.5368067Z     init()
2025-04-15T08:19:34.5368317Z       âœ“ should not load hooks if no external hook files are configured (4 ms)
2025-04-15T08:19:34.5368450Z       âœ“ should throw an error if hook file cannot be loaded (9 ms)
2025-04-15T08:19:34.5368592Z       âœ“ should successfully load hooks from valid hook file (2 ms)
2025-04-15T08:19:34.5368639Z     run()
2025-04-15T08:19:34.5368766Z       âœ“ should not throw if no hooks are registered (1 ms)
2025-04-15T08:19:34.5368867Z       âœ“ should execute registered hooks (1 ms)
2025-04-15T08:19:34.5368991Z       âœ“ should report error if hook execution fails (1 ms)
2025-04-15T08:19:34.5368996Z 
2025-04-15T08:19:34.5369139Z PASS test/integration/workflows/workflow-sharing.service.test.ts
2025-04-15T08:19:34.5369199Z   WorkflowSharingService
2025-04-15T08:19:34.5369263Z     getSharedWorkflowIds
2025-04-15T08:19:34.5369370Z       âœ“ should show all workflows to owners (37 ms)
2025-04-15T08:19:34.5369599Z       âœ“ should show shared workflows to users (33 ms)
2025-04-15T08:19:34.5369812Z       âœ“ should show workflows that the user has access to through a team project they are part of (26 ms)
2025-04-15T08:19:34.5369963Z       âœ“ should show workflows that the user has update access to (43 ms)
2025-04-15T08:19:34.5369967Z 
2025-04-15T08:19:34.5370089Z PASS src/credentials/__tests__/credentials.service.test.ts
2025-04-15T08:19:34.5370151Z   CredentialsService
2025-04-15T08:19:34.5370197Z     redact
2025-04-15T08:19:34.5370303Z       âœ“ should redact sensitive values (4 ms)
2025-04-15T08:19:34.5370349Z     decrypt
2025-04-15T08:19:34.5370470Z       âœ“ should redact sensitive values by default (1 ms)
2025-04-15T08:19:34.5370629Z       âœ“ should return sensitive values if `includeRawData` is true (1 ms)
2025-04-15T08:19:34.5370776Z       âœ“ should return return an empty object if decryption fails (1 ms)
2025-04-15T08:19:34.5370780Z 
2025-04-15T08:19:34.5370871Z PASS test/integration/owner.api.test.ts
2025-04-15T08:19:34.5370936Z   POST /owner/setup
2025-04-15T08:19:34.5371084Z     âœ“ should create owner and enable isInstanceOwnerSetUp (149 ms)
2025-04-15T08:19:34.5371200Z     âœ“ should create owner with lowercased email (80 ms)
2025-04-15T08:19:34.5371305Z     âœ“ should fail with invalid inputs (26 ms)
2025-04-15T08:19:34.5371309Z 
2025-04-15T08:19:34.5371414Z PASS test/integration/executions.controller.test.ts
2025-04-15T08:19:34.5371473Z   GET /executions
2025-04-15T08:19:34.5371642Z     âœ“ only returns executions of shared workflows if sharing is enabled (138 ms)
2025-04-15T08:19:34.5371773Z     âœ“ should return a scopes array for each execution (58 ms)
2025-04-15T08:19:34.5371830Z   GET /executions/:id
2025-04-15T08:19:34.5371991Z     âœ“ project viewers can view executions for workflows in the project (86 ms)
2025-04-15T08:19:34.5372163Z     âœ“ only returns executions of shared workflows if sharing is enabled (62 ms)
2025-04-15T08:19:34.5372221Z   POST /executions/delete
2025-04-15T08:19:34.5372336Z     âœ“ should hard-delete an execution (60 ms)
2025-04-15T08:19:34.5372340Z 
2025-04-15T08:19:34.5372431Z PASS src/services/__tests__/ai.service.test.ts
2025-04-15T08:19:34.5372490Z   AiService
2025-04-15T08:19:34.5372535Z     init
2025-04-15T08:19:34.5372693Z       âœ“ should not initialize client if AI assistant is not enabled (5 ms)
2025-04-15T08:19:34.5372835Z       âœ“ should initialize client when AI assistant is enabled (2 ms)
2025-04-15T08:19:34.5372890Z     chat
2025-04-15T08:19:34.5373019Z       âœ“ should call client chat method after initialization (1 ms)
2025-04-15T08:19:34.5373159Z       âœ“ should throw error if client is not initialized (15 ms)
2025-04-15T08:19:34.5373211Z     applySuggestion
2025-04-15T08:19:34.5373324Z       âœ“ should call client applySuggestion (1 ms)
2025-04-15T08:19:34.5373446Z       âœ“ should throw error if client is not initialized
2025-04-15T08:19:34.5373496Z     askAi
2025-04-15T08:19:34.5373636Z       âœ“ should call client askAi method after initialization (1 ms)
2025-04-15T08:19:34.5373861Z       âœ“ should throw error if client is not initialized
2025-04-15T08:19:34.5373865Z 
2025-04-15T08:19:34.5373973Z PASS test/integration/public-api/variables.test.ts
2025-04-15T08:19:34.5374029Z   Variables in Public API
2025-04-15T08:19:34.5374086Z     GET /variables
2025-04-15T08:19:34.5374230Z       âœ“ if licensed, should return all variables with pagination (397 ms)
2025-04-15T08:19:34.5374335Z       âœ“ if not licensed, should reject (27 ms)
2025-04-15T08:19:34.5374388Z     POST /variables
2025-04-15T08:19:34.5374517Z       âœ“ if licensed, should create a new variable (39 ms)
2025-04-15T08:19:34.5374609Z       âœ“ if not licensed, should reject (21 ms)
2025-04-15T08:19:34.5374671Z     DELETE /variables/:id
2025-04-15T08:19:34.5374782Z       âœ“ if licensed, should delete a variable (58 ms)
2025-04-15T08:19:34.5374884Z       âœ“ if not licensed, should reject (18 ms)
2025-04-15T08:19:34.5374888Z 
2025-04-15T08:19:34.5375008Z PASS src/decorators/__tests__/controller.registry.test.ts
2025-04-15T08:19:34.5375157Z   ControllerRegistry
2025-04-15T08:19:34.5375217Z     Rate limiting
2025-04-15T08:19:34.5375316Z       âœ“ should not rate-limit by default (51 ms)
2025-04-15T08:19:34.5375427Z       âœ“ should rate-limit when configured (28 ms)
2025-04-15T08:19:34.5375478Z     Authorization
2025-04-15T08:19:34.5375610Z       âœ“ should not require auth if configured to skip (4 ms)
2025-04-15T08:19:34.5375708Z       âœ“ should require auth by default (2 ms)
2025-04-15T08:19:34.5375764Z     License checks
2025-04-15T08:19:34.5375876Z       âœ“ should disallow when feature is missing (3 ms)
2025-04-15T08:19:34.5375989Z       âœ“ should allow when feature is available (2 ms)
2025-04-15T08:19:34.5376034Z     Args
2025-04-15T08:19:34.5376165Z       âœ“ should pass in correct args to the route handler (4 ms)
2025-04-15T08:19:34.5376170Z 
2025-04-15T08:19:34.5376257Z PASS src/__tests__/credential-types.test.ts
2025-04-15T08:19:34.5376317Z   CredentialTypes
2025-04-15T08:19:34.5376371Z     getByName
2025-04-15T08:19:34.5376523Z       âœ“ Should throw error when calling invalid credential name (11 ms)
2025-04-15T08:19:34.5376665Z       âœ“ Should return correct credential type for valid name (1 ms)
2025-04-15T08:19:34.5376711Z     recognizes
2025-04-15T08:19:34.5376862Z       âœ“ Should recognize credential type that exists in knownCredentials
2025-04-15T08:19:34.5377065Z       âœ“ Should recognize credential type that exists in loadedCredentials (1 ms)
2025-04-15T08:19:34.5377188Z       âœ“ Should not recognize unknown credential type
2025-04-15T08:19:34.5377250Z     getSupportedNodes
2025-04-15T08:19:34.5377397Z       âœ“ Should return supported nodes for known credential type (1 ms)
2025-04-15T08:19:34.5377551Z       âœ“ Should return empty array for unknown credential type supported nodes
2025-04-15T08:19:34.5377608Z     getParentTypes
2025-04-15T08:19:34.5377757Z       âœ“ Should return parent types for credential type with extends (1 ms)
2025-04-15T08:19:34.5377905Z       âœ“ Should return empty array for credential type without extends
2025-04-15T08:19:34.5378060Z       âœ“ Should return empty array for unknown credential type parent types
2025-04-15T08:19:34.5378064Z 
2025-04-15T08:19:34.5378289Z PASS src/executions/pre-execution-checks/__tests__/credentials-permission-checker.test.ts
2025-04-15T08:19:34.5378402Z   CredentialsPermissionChecker
2025-04-15T08:19:34.5378553Z     âœ“ should throw if a node has a credential without an id (25 ms)
2025-04-15T08:19:34.5378705Z     âœ“ should throw if a credential is not accessible (1 ms)
2025-04-15T08:19:34.5378853Z     âœ“ should not throw an error if the workflow has no credentials (1 ms)
2025-04-15T08:19:34.5379004Z     âœ“ should not throw an error if all credentials are accessible (1 ms)
2025-04-15T08:19:34.5379167Z     âœ“ should skip credential checks if the home project owner has global scope
2025-04-15T08:19:34.5379171Z 
2025-04-15T08:19:34.5379328Z PASS src/controllers/__tests__/user-settings.controller.test.ts
2025-04-15T08:19:34.5379386Z   UserSettingsController
2025-04-15T08:19:34.5379445Z     NPS Survey
2025-04-15T08:19:34.5379723Z       âœ“ updates user settings, setting response state to done (4 ms)
2025-04-15T08:19:34.5379947Z       âœ“ updates user settings, setting response state to done, ignoring other keys like waitForResponse
2025-04-15T08:19:34.5380167Z       âœ“ updates user settings, setting response state to done, ignoring other keys like ignoredCount
2025-04-15T08:19:34.5380357Z       âœ“ updates user settings, setting response state to done, ignoring other unknown keys
2025-04-15T08:19:34.5380482Z       âœ“ updates user settings, updating ignore count
2025-04-15T08:19:34.5380621Z       âœ“ updates user settings, resetting to waiting state (1 ms)
2025-04-15T08:19:34.5380793Z       âœ“ updates user settings, updating ignore count, ignoring unknown keys
2025-04-15T08:19:34.5380951Z       âœ“ updates user settings, setting response state to done (1 ms)
2025-04-15T08:19:34.5381116Z       âœ“ updates user settings, updating ignore count (1 ms)
2025-04-15T08:19:34.5381271Z       âœ“ throws error when request payload is is missing (9 ms)
2025-04-15T08:19:34.5381538Z       âœ“ throws error when request payload is is undefined (1 ms)
2025-04-15T08:19:34.5381706Z       âœ“ throws error when request payload is is responded but missing lastShownAt
2025-04-15T08:19:34.5381915Z       âœ“ throws error when request payload is is waitingForResponse but missing lastShownAt (2 ms)
2025-04-15T08:19:34.5382118Z       âœ“ throws error when request payload is is waitingForResponse but missing ignoredCount (1 ms)
2025-04-15T08:19:34.5382129Z 
2025-04-15T08:19:34.5382243Z PASS src/scaling/__tests__/publisher.service.test.ts
2025-04-15T08:19:34.5382308Z   Publisher
2025-04-15T08:19:34.5382354Z     constructor
2025-04-15T08:19:34.5382476Z       âœ“ should init Redis client in scaling mode (4 ms)
2025-04-15T08:19:34.5382581Z       âœ“ should not init Redis client in regular mode
2025-04-15T08:19:34.5382648Z     shutdown
2025-04-15T08:19:34.5382754Z       âœ“ should disconnect Redis client (1 ms)
2025-04-15T08:19:34.5382821Z     publishCommand
2025-04-15T08:19:34.5382934Z       âœ“ should do nothing if not in scaling mode
2025-04-15T08:19:34.5383092Z       âœ“ should publish command into `n8n.commands` pubsub channel (1 ms)
2025-04-15T08:19:34.5383224Z       âœ“ should not debounce `add-webhooks-triggers-and-pollers`
2025-04-15T08:19:34.5383355Z       âœ“ should not debounce `remove-triggers-and-pollers`
2025-04-15T08:19:34.5383410Z     publishWorkerResponse
2025-04-15T08:19:34.5383603Z       âœ“ should publish worker response into `n8n.worker-response` pubsub channel (1 ms)
2025-04-15T08:19:34.5383607Z 
2025-04-15T08:19:34.5383707Z PASS test/integration/webhooks.test.ts
2025-04-15T08:19:34.5383757Z   WebhookServer
2025-04-15T08:19:34.5383812Z     CORS
2025-04-15T08:19:34.5383861Z       for webhook
2025-04-15T08:19:34.5383982Z         âœ“ should handle preflight requests (24 ms)
2025-04-15T08:19:34.5384086Z         âœ“ should handle regular requests (4 ms)
2025-04-15T08:19:34.5384147Z       for webhookTest
2025-04-15T08:19:34.5384253Z         âœ“ should handle preflight requests (3 ms)
2025-04-15T08:19:34.5384374Z         âœ“ should handle regular requests (3 ms)
2025-04-15T08:19:34.5384440Z     Routing for Waiting Webhooks
2025-04-15T08:19:34.5384552Z       âœ“ should handle URLs without suffix (2 ms)
2025-04-15T08:19:34.5384647Z       âœ“ should handle URLs with suffix (2 ms)
2025-04-15T08:19:34.5384651Z 
2025-04-15T08:19:34.5384786Z PASS test/integration/workflow-history-manager.test.ts
2025-04-15T08:19:34.5384844Z   Workflow History Manager
2025-04-15T08:19:34.5384945Z     âœ“ should prune on interval (6 ms)
2025-04-15T08:19:34.5385048Z     âœ“ should not prune when not licensed (38 ms)
2025-04-15T08:19:34.5385191Z     âœ“ should not prune when licensed but disabled (17 ms)
2025-04-15T08:19:34.5385344Z     âœ“ should not prune when both prune times are -1 (infinite) (13 ms)
2025-04-15T08:19:34.5385483Z     âœ“ should prune when config prune time is not -1 (infinite) (18 ms)
2025-04-15T08:19:34.5385638Z     âœ“ should prune when license prune time is not -1 (infinite) (18 ms)
2025-04-15T08:19:34.5385873Z     âœ“ should only prune versions older than prune time (28 ms)
2025-04-15T08:19:34.5385877Z 
2025-04-15T08:19:34.5385987Z PASS src/license/__tests__/license.service.test.ts
2025-04-15T08:19:34.5386041Z   LicenseService
2025-04-15T08:19:34.5386096Z     getLicenseData
2025-04-15T08:19:34.5386199Z       âœ“ should return usage and license data (3 ms)
2025-04-15T08:19:34.5386256Z     activateLicense
2025-04-15T08:19:34.5386363Z       âœ“ should handle SCHEMA_VALIDATION error (15 ms)
2025-04-15T08:19:34.5386486Z       âœ“ should handle RESERVATION_EXHAUSTED error (1 ms)
2025-04-15T08:19:34.5386587Z       âœ“ should handle RESERVATION_EXPIRED error
2025-04-15T08:19:34.5386686Z       âœ“ should handle NOT_FOUND error
2025-04-15T08:19:34.5386784Z       âœ“ should handle RESERVATION_CONFLICT error
2025-04-15T08:19:34.5386906Z       âœ“ should handle RESERVATION_DUPLICATE error (1 ms)
2025-04-15T08:19:34.5386994Z     renewLicense
2025-04-15T08:19:34.5387076Z       âœ“ on success
2025-04-15T08:19:34.5387153Z       âœ“ on failure (1 ms)
2025-04-15T08:19:34.5387349Z     registerCommunityEdition
2025-04-15T08:19:34.5387432Z       âœ“ on success (2 ms)
2025-04-15T08:19:34.5387502Z       âœ“ on failure (1 ms)
2025-04-15T08:19:34.5387505Z 
2025-04-15T08:19:34.5387657Z PASS src/task-runners/task-managers/__tests__/task-manager.test.ts
2025-04-15T08:19:34.5387706Z   TaskRequester
2025-04-15T08:19:34.5387763Z     handleRpc
2025-04-15T08:19:34.5387866Z       âœ“ should handle logNodeOutput rpc call (5 ms)
2025-04-15T08:19:34.5388002Z       âœ“ should handle helpers.assertBinaryData rpc call (1 ms)
2025-04-15T08:19:34.5388140Z       âœ“ should handle helpers.getBinaryDataBuffer rpc call (1 ms)
2025-04-15T08:19:34.5388276Z       âœ“ should handle helpers.prepareBinaryData rpc call (1 ms)
2025-04-15T08:19:34.5388395Z       âœ“ should handle helpers.setBinaryDataBuffer rpc call
2025-04-15T08:19:34.5388529Z       âœ“ should handle helpers.binaryToString rpc call (1 ms)
2025-04-15T08:19:34.5388643Z       âœ“ should handle helpers.httpRequest rpc call (5 ms)
2025-04-15T08:19:34.5388804Z       âœ“ converts any serialized buffer arguments into buffers (1 ms)
2025-04-15T08:19:34.5388853Z       errors
2025-04-15T08:19:34.5389024Z         âœ“ sends method not allowed error if method is not in the allow list (1 ms)
2025-04-15T08:19:34.5389127Z         âœ“ sends error if method throws (1 ms)
2025-04-15T08:19:34.5389131Z 
2025-04-15T08:19:34.5389264Z PASS src/modules/insights/__tests__/insights.controller.test.ts
2025-04-15T08:19:34.5389327Z   InsightsController
2025-04-15T08:19:34.5389377Z     getInsightsSummary
2025-04-15T08:19:34.5389500Z       âœ“ should return default insights if no data (5 ms)
2025-04-15T08:19:34.5389714Z       âœ“ should return the insights summary with null deviation if insights exist only for current period
2025-04-15T08:19:34.5389894Z       âœ“ should return the insights summary if insights exist for both periods (1 ms)
2025-04-15T08:19:34.5389899Z 
2025-04-15T08:19:34.5390049Z PASS src/databases/repositories/__tests__/execution.repository.test.ts
2025-04-15T08:19:34.5390121Z   ExecutionRepository
2025-04-15T08:19:34.5390181Z     getWaitingExecutions()
2025-04-15T08:19:34.5390300Z       âœ“ on sqlite, should be called with expected args (4 ms)
2025-04-15T08:19:34.5390433Z       âœ“ on postgresdb, should be called with expected args (1 ms)
2025-04-15T08:19:34.5390491Z     deleteExecutionsByFilter
2025-04-15T08:19:34.5390592Z       âœ“ should delete binary data (6 ms)
2025-04-15T08:19:34.5390649Z     updateExistingExecution
2025-04-15T08:19:34.5390803Z       âœ“ should update execution and data in transaction on sqlite (1 ms)
2025-04-15T08:19:34.5390959Z       âœ“ should update execution and data in transaction on postgresdb (1 ms)
2025-04-15T08:19:34.5391117Z       âœ“ should update execution and data in transaction on mysqldb (1 ms)
2025-04-15T08:19:34.5391121Z 
2025-04-15T08:19:34.5391204Z PASS src/push/__tests__/sse.push.test.ts
2025-04-15T08:19:34.5391260Z   SSEPush
2025-04-15T08:19:34.5391346Z     âœ“ pings all connections (1 ms)
2025-04-15T08:19:34.5391439Z     âœ“ closes all connections (5 ms)
2025-04-15T08:19:34.5391592Z     add
2025-04-15T08:19:34.5391682Z       âœ“ adds a connection (5 ms)
2025-04-15T08:19:34.5391732Z     closes a connection
2025-04-15T08:19:34.5391816Z       âœ“ on "end" event (1 ms)
2025-04-15T08:19:34.5391896Z       âœ“ on "close" event (1 ms)
2025-04-15T08:19:34.5391984Z       âœ“ on "finish" event (1 ms)
2025-04-15T08:19:34.5392039Z     sends data
2025-04-15T08:19:34.5392121Z       âœ“ to one connection (7 ms)
2025-04-15T08:19:34.5392209Z       âœ“ to all connections (1 ms)
2025-04-15T08:19:34.5392292Z       âœ“ to a specific user (3 ms)
2025-04-15T08:19:34.5392296Z 
2025-04-15T08:19:34.5392426Z PASS src/services/__tests__/active-workflows.service.test.ts
2025-04-15T08:19:34.5392486Z   ActiveWorkflowsService
2025-04-15T08:19:34.5392547Z     getAllActiveIdsInStorage
2025-04-15T08:19:34.5392703Z       âœ“ should filter out any workflow ids that have activation errors (4 ms)
2025-04-15T08:19:34.5392766Z     getAllActiveIdsFor
2025-04-15T08:19:34.5392907Z       âœ“ should return all workflow ids when user has full access (1 ms)
2025-04-15T08:19:34.5393179Z       âœ“ should filter out workflow ids that the user does not have access to (8 ms)
2025-04-15T08:19:34.5393234Z     getActivationError
2025-04-15T08:19:34.5393431Z       âœ“ should throw a BadRequestError a user does not have access to the workflow id (7 ms)
2025-04-15T08:19:34.5393557Z       âœ“ should return the error when the user has access (1 ms)
2025-04-15T08:19:34.5393568Z 
2025-04-15T08:19:34.5393758Z PASS src/environments.ee/source-control/__tests__/source-control.controller.ee.test.ts
2025-04-15T08:19:34.5393826Z   SourceControlController
2025-04-15T08:19:34.5393877Z     pushWorkfolder
2025-04-15T08:19:34.5394014Z       âœ“ should push workfolder with expected parameters (4 ms)
2025-04-15T08:19:34.5394065Z     pullWorkfolder
2025-04-15T08:19:34.5394190Z       âœ“ should pull workfolder with expected parameters
2025-04-15T08:19:34.5394240Z     getStatus
2025-04-15T08:19:34.5394376Z       âœ“ should call getStatus with expected parameters (1 ms)
2025-04-15T08:19:34.5394429Z     status
2025-04-15T08:19:34.5394553Z       âœ“ should call getStatus with expected parameters
2025-04-15T08:19:34.5394557Z 
2025-04-15T08:19:34.5394699Z PASS test/integration/security-audit/nodes-risk-reporter.test.ts
2025-04-15T08:19:34.5394815Z   âœ“ should report risky official nodes (252 ms)
2025-04-15T08:19:34.5394925Z   âœ“ should not report non-risky official nodes (5 ms)
2025-04-15T08:19:34.5395027Z   âœ“ should report community nodes (2 ms)
2025-04-15T08:19:34.5395031Z 
2025-04-15T08:19:34.5395221Z PASS src/workflows/workflow-history.ee/__tests__/workflow-history.service.ee.test.ts
2025-04-15T08:19:34.5395276Z   WorkflowHistoryService
2025-04-15T08:19:34.5395326Z     saveVersion
2025-04-15T08:19:34.5395553Z       âœ“ should save a new version when workflow history is enabled and nodes and connections are present (3 ms)
2025-04-15T08:19:34.5395702Z       âœ“ should not save a new version when workflow history is disabled
2025-04-15T08:19:34.5395853Z       âœ“ should not save a new version when nodes or connections are missing
2025-04-15T08:19:34.5396024Z       âœ“ should log an error when failed to save workflow history version (1 ms)
2025-04-15T08:19:34.5396029Z 
2025-04-15T08:19:34.5396124Z PASS test/integration/commands/reset.cmd.test.ts
2025-04-15T08:19:34.5396291Z   âœ“ user-management:reset should reset DB to default user state (121 ms)
2025-04-15T08:19:34.5396296Z 
2025-04-15T08:19:34.5396478Z PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.controller.test.ts
2025-04-15T08:19:34.5396536Z   TaskBrokerAuthController
2025-04-15T08:19:34.5396600Z     createGrantToken
2025-04-15T08:19:34.5396743Z       âœ“ should throw BadRequestError when auth token is missing (11 ms)
2025-04-15T08:19:34.5396893Z       âœ“ should throw ForbiddenError when auth token is invalid (2 ms)
2025-04-15T08:19:34.5397069Z       âœ“ should return rant token when auth token is valid (3 ms)
2025-04-15T08:19:34.5397129Z     authMiddleware
2025-04-15T08:19:34.5397264Z       âœ“ should respond with 401 when grant token is missing (1 ms)
2025-04-15T08:19:34.5397493Z       âœ“ should respond with 403 when grant token is invalid
2025-04-15T08:19:34.5397609Z       âœ“ should call next() when grant token is valid (1 ms)
2025-04-15T08:19:34.5397613Z 
2025-04-15T08:19:34.5397813Z PASS src/task-runners/task-managers/__tests__/data-request-response-builder.test.ts
2025-04-15T08:19:34.5397887Z   DataRequestResponseBuilder
2025-04-15T08:19:34.5398020Z     âœ“ picks only specific properties for additional data (3 ms)
2025-04-15T08:19:34.5398136Z     âœ“ picks only specific properties for workflow
2025-04-15T08:19:34.5398374Z     âœ“ clears nodeExecutionStack, waitingExecution and waitingExecutionSource from runExecutionData (1 ms)
2025-04-15T08:19:34.5398379Z 
2025-04-15T08:19:34.5398509Z PASS test/integration/project.service.integration.test.ts
2025-04-15T08:19:34.5398565Z   ProjectService
2025-04-15T08:19:34.5398625Z     findRolesInProjects
2025-04-15T08:19:34.5398731Z       when user has roles in projects where workflow is accessible
2025-04-15T08:19:34.5398954Z         âœ“ should return roles and project IDs (43 ms)
2025-04-15T08:19:34.5399062Z       when user has no roles in projects where workflow is accessible
2025-04-15T08:19:34.5399182Z         âœ“ should return project IDs but no roles (11 ms)
2025-04-15T08:19:34.5399292Z       when user has roles in projects where workflow is inaccessible
2025-04-15T08:19:34.5399400Z         âœ“ should return project IDs but no roles (19 ms)
2025-04-15T08:19:34.5399404Z 
2025-04-15T08:19:34.5399525Z PASS src/task-runners/__tests__/forward-to-logger.test.ts
2025-04-15T08:19:34.5399576Z   forwardToLogger
2025-04-15T08:19:34.5399695Z     âœ“ should forward stdout data to logger.info (4 ms)
2025-04-15T08:19:34.5399808Z     âœ“ should forward stderr data to logger.error (1 ms)
2025-04-15T08:19:34.5399927Z     âœ“ should remove trailing newline from stdout (1 ms)
2025-04-15T08:19:34.5400026Z     âœ“ should remove trailing newline from stderr
2025-04-15T08:19:34.5400138Z     âœ“ should forward stderr data to logger.error
2025-04-15T08:19:34.5400267Z     âœ“ should include prefix if provided for stdout (1 ms)
2025-04-15T08:19:34.5400380Z     âœ“ should include prefix if provided for stderr
2025-04-15T08:19:34.5400546Z     âœ“ should make sure there is no duplicate space after prefix for stdout (1 ms)
2025-04-15T08:19:34.5400703Z     âœ“ should make sure there is no duplicate space after prefix for stderr
2025-04-15T08:19:34.5400707Z 
2025-04-15T08:19:34.5400890Z PASS src/databases/repositories/__tests__/shared-credentials.repository.test.ts
2025-04-15T08:19:34.5400952Z   SharedCredentialsRepository
2025-04-15T08:19:34.5401013Z     findCredentialForUser
2025-04-15T08:19:34.5401150Z       âœ“ should allow instance owner access to all credentials (4 ms)
2025-04-15T08:19:34.5401244Z       âœ“ should allow members (1 ms)
2025-04-15T08:19:34.5401371Z       âœ“ should return null when no shared credential is found
2025-04-15T08:19:34.5401376Z 
2025-04-15T08:19:34.5401488Z PASS src/controllers/__tests__/ai.controller.test.ts
2025-04-15T08:19:34.5401548Z   AiController
2025-04-15T08:19:34.5401607Z     chat
2025-04-15T08:19:34.5401716Z       âœ“ should handle chat request successfully (4 ms)
2025-04-15T08:19:34.5401852Z       âœ“ should throw InternalServerError if chat fails (12 ms)
2025-04-15T08:19:34.5401904Z     applySuggestion
2025-04-15T08:19:34.5402014Z       âœ“ should apply suggestion successfully (1 ms)
2025-04-15T08:19:34.5402178Z       âœ“ should throw InternalServerError if applying suggestion fails (1 ms)
2025-04-15T08:19:34.5402229Z     askAi method
2025-04-15T08:19:34.5402318Z       âœ“ should ask AI successfully
2025-04-15T08:19:34.5402438Z       âœ“ should throw InternalServerError if asking AI fails
2025-04-15T08:19:34.5402442Z 
2025-04-15T08:19:34.5402550Z PASS src/services/__tests__/user.service.test.ts
2025-04-15T08:19:34.5402598Z   UserService
2025-04-15T08:19:34.5402658Z     toPublic
2025-04-15T08:19:34.5402763Z       âœ“ should remove sensitive properties (3 ms)
2025-04-15T08:19:34.5402863Z       âœ“ should add scopes if requested (1 ms)
2025-04-15T08:19:34.5403065Z       âœ“ should add invite URL if requested (5 ms)
2025-04-15T08:19:34.5403119Z     update
2025-04-15T08:19:34.5403221Z       âœ“ should use `save` instead of `update` (1 ms)
2025-04-15T08:19:34.5403225Z 
2025-04-15T08:19:34.5403396Z PASS test/integration/task-runners/task-runner-process.test.ts (5.674 s)
2025-04-15T08:19:34.5403458Z   TaskRunnerProcess
2025-04-15T08:19:34.5403568Z     âœ“ should start and connect the task runner (826 ms)
2025-04-15T08:19:34.5403687Z     âœ“ should stop an disconnect the task runner (818 ms)
2025-04-15T08:19:34.5403806Z     âœ“ should restart the task runner if it exits (1433 ms)
2025-04-15T08:19:34.5403944Z     âœ“ should work together with restart loop detector (1024 ms)
2025-04-15T08:19:34.5403948Z 
2025-04-15T08:19:34.5404069Z PASS src/controllers/__tests__/api-keys.controller.test.ts
2025-04-15T08:19:34.5404131Z   ApiKeysController
2025-04-15T08:19:34.5404178Z     createAPIKey
2025-04-15T08:19:34.5404281Z       âœ“ should create and save an API key (4 ms)
2025-04-15T08:19:34.5404436Z     getAPIKeys
2025-04-15T08:19:34.5404584Z       âœ“ should return the users api keys redacted (1 ms)
2025-04-15T08:19:34.5404630Z     deleteAPIKey
2025-04-15T08:19:34.5404727Z       âœ“ should delete the API key (1 ms)
2025-04-15T08:19:34.5404731Z 
2025-04-15T08:19:34.5404838Z PASS src/validators/__tests__/no-xss.validator.test.ts
2025-04-15T08:19:34.5404893Z   NoXss
2025-04-15T08:19:34.5404944Z     Scripts
2025-04-15T08:19:34.5405032Z       âœ“ should block <script src/> (4 ms)
2025-04-15T08:19:34.5405137Z       âœ“ should block <script>alert('xss')</script>
2025-04-15T08:19:34.5405241Z       âœ“ should block <a href="#">Jack</a> (1 ms)
2025-04-15T08:19:34.5405294Z     Names
2025-04-15T08:19:34.5405385Z       âœ“ should allow Johann StrauÃŸ
2025-04-15T08:19:34.5405495Z       âœ“ should allow Ð’Ð°Ð³Ð¸Ñ„ Ð¡Ó™Ð¼Ó™Ð´Ð¾Ò“Ð»Ñƒ
2025-04-15T08:19:34.5405582Z       âœ“ should allow RenÃ© Magritte
2025-04-15T08:19:34.5405685Z       âœ“ should allow à¦¸à§à¦•à§à¦®à¦¾à¦° à¦°à¦¾à§Ÿ
2025-04-15T08:19:34.5405781Z       âœ“ should allow à½˜à½‚à½¼à½“à¼‹à½”à½¼à¼‹à½¢à¾¡à½¼à¼‹à½¢à¾—à½ºà¼
2025-04-15T08:19:34.5405893Z       âœ“ should allow Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù„ÙŠÙ… Ø­Ø§ÙØ¸ (1 ms)
2025-04-15T08:19:34.5405949Z     ISO-8601 timestamps
2025-04-15T08:19:34.5406063Z       âœ“ should allow 2022-01-01T00:00:00.000Z (1 ms)
2025-04-15T08:19:34.5406165Z       âœ“ should allow 2022-01-01T00:00:00.000+02:00
2025-04-15T08:19:34.5406224Z     Semver versions
2025-04-15T08:19:34.5406292Z       âœ“ should allow 1.0.0
2025-04-15T08:19:34.5406388Z       âœ“ should allow 1.0.0-alpha.1 (1 ms)
2025-04-15T08:19:34.5406442Z     Miscellaneous strings
2025-04-15T08:19:34.5406515Z       âœ“ should allow CI/CD
2025-04-15T08:19:34.5406564Z     Array of strings
2025-04-15T08:19:34.5406753Z       âœ“ should allow array: ["cloud-infrastructure-orchestration","ci-cd","reporting"]
2025-04-15T08:19:34.5406998Z       âœ“ should allow array: ["automationGoalDevops","cloudComputing","containerization"] (1 ms)
2025-04-15T08:19:34.5407303Z       âœ“ should reject array containing invalid string: ["valid-string","<script>alert(\"xss\")</script>","another-valid-string"] (3 ms)
2025-04-15T08:19:34.5407647Z       âœ“ should reject array containing invalid string: ["<img src=\"x\" onerror=\"alert('XSS')\">","valid-string"]
2025-04-15T08:19:34.5407652Z 
2025-04-15T08:19:34.5407810Z PASS src/webhooks/__tests__/test-webhook-registrations.service.test.ts
2025-04-15T08:19:34.5407893Z   TestWebhookRegistrationsService
2025-04-15T08:19:34.5407941Z     register()
2025-04-15T08:19:34.5408067Z       âœ“ should register a test webhook registration (6 ms)
2025-04-15T08:19:34.5408257Z       âœ“ should skip setting TTL in single-main setup
2025-04-15T08:19:34.5408316Z     deregister()
2025-04-15T08:19:34.5408438Z       âœ“ should deregister a test webhook registration (1 ms)
2025-04-15T08:19:34.5408490Z     get()
2025-04-15T08:19:34.5408592Z       âœ“ should retrieve a test webhook registration
2025-04-15T08:19:34.5408773Z       âœ“ should return undefined if no such test webhook registration was found (1 ms)
2025-04-15T08:19:34.5408821Z     getAllKeys()
2025-04-15T08:19:34.5408938Z       âœ“ should retrieve all test webhook registration keys
2025-04-15T08:19:34.5409222Z     getAllRegistrations()
2025-04-15T08:19:34.5409347Z       âœ“ should retrieve all test webhook registrations (1 ms)
2025-04-15T08:19:34.5409401Z     deregisterAll()
2025-04-15T08:19:34.5409514Z       âœ“ should deregister all test webhook registrations
2025-04-15T08:19:34.5409568Z     toKey()
2025-04-15T08:19:34.5409684Z       âœ“ should convert a test webhook registration to a key
2025-04-15T08:19:34.5409688Z 
2025-04-15T08:19:34.5409815Z PASS test/integration/activation-errors.service.test.ts
2025-04-15T08:19:34.5409870Z   ActivationErrorsService
2025-04-15T08:19:34.5409921Z     register
2025-04-15T08:19:34.5410054Z       âœ“ should register an activation error for a workflow (4 ms)
2025-04-15T08:19:34.5410105Z     deregister
2025-04-15T08:19:34.5410222Z       âœ“ should deregister an activation error for a workflow
2025-04-15T08:19:34.5410274Z     get
2025-04-15T08:19:34.5410403Z       âœ“ should retrieve an activation error for a workflow (1 ms)
2025-04-15T08:19:34.5410561Z       âœ“ should return `null` if no activation error found for a workflow
2025-04-15T08:19:34.5410605Z     getAll
2025-04-15T08:19:34.5410716Z       âœ“ should retrieve all activation errors (1 ms)
2025-04-15T08:19:34.5410842Z       âœ“ should return an empty object if no activation errors
2025-04-15T08:19:34.5410888Z     clearAll()
2025-04-15T08:19:34.5410990Z       âœ“ should clear activation errors (1 ms)
2025-04-15T08:19:34.5410994Z 
2025-04-15T08:19:34.5411079Z PASS test/integration/ai/ai.api.test.ts
2025-04-15T08:19:34.5411141Z   POST /ai/free-credits
2025-04-15T08:19:34.5411256Z     âœ“ should create OpenAI managed credential (65 ms)
2025-04-15T08:19:34.5411260Z 
2025-04-15T08:19:34.5411368Z PASS src/services/__tests__/naming.service.test.ts
2025-04-15T08:19:34.5411417Z   NamingService
2025-04-15T08:19:34.5411482Z     getUniqueWorkflowName()
2025-04-15T08:19:34.5411603Z       âœ“ should return requested name if already unique (7 ms)
2025-04-15T08:19:34.5411753Z       âœ“ should return requested name suffixed if already existing once
2025-04-15T08:19:34.5411939Z       âœ“ should return requested name with incremented suffix if already suffixed (1 ms)
2025-04-15T08:19:34.5412006Z     getUniqueCredentialName()
2025-04-15T08:19:34.5412121Z       âœ“ should return requested name if already unique
2025-04-15T08:19:34.5412278Z       âœ“ should return requested name suffixed if already existing once (1 ms)
2025-04-15T08:19:34.5412445Z       âœ“ should return requested name with incremented suffix if already suffixed
2025-04-15T08:19:34.5412449Z 
2025-04-15T08:19:34.5412532Z PASS test/integration/tags.api.test.ts
2025-04-15T08:19:34.5412592Z   POST /tags
2025-04-15T08:19:34.5412673Z     âœ“ should create tag (44 ms)
2025-04-15T08:19:34.5412778Z     âœ“ should not create duplicate tag (16 ms)
2025-04-15T08:19:34.5412857Z     âœ“ should delete tag (6 ms)
2025-04-15T08:19:34.5412954Z     âœ“ should update tag name (10 ms)
2025-04-15T08:19:34.5413042Z     âœ“ should retrieve all tags (8 ms)
2025-04-15T08:19:34.5413418Z     âœ“ should retrieve all tags with with usage count (7 ms)
2025-04-15T08:19:34.5413552Z 
2025-04-15T08:19:34.5413652Z PASS test/integration/commands/worker.cmd.test.ts
2025-04-15T08:19:34.5413877Z   âœ“ worker initializes all its components (56 ms)
2025-04-15T08:19:34.5413997Z 
2025-04-15T08:19:34.5414162Z PASS test/integration/database/repositories/execution.repository.test.ts
2025-04-15T08:19:34.5414385Z   ExecutionRepository
2025-04-15T08:19:34.5414521Z     createNewExecution
2025-04-15T08:19:34.5414694Z       âœ“ should save execution data (35 ms)
2025-04-15T08:19:34.5414945Z       âœ“ should not create execution if execution data insert fails (3 ms)
2025-04-15T08:19:34.5415087Z 
2025-04-15T08:19:34.5415247Z PASS src/user-management/email/__tests__/user-management-mailer.test.ts
2025-04-15T08:19:34.5415461Z   UserManagementMailer
2025-04-15T08:19:34.5415604Z     when SMTP is not configured
2025-04-15T08:19:34.5415805Z       âœ“ should not setup email transport (10 ms)
2025-04-15T08:19:34.5416020Z       âœ“ should not send emails (1 ms)
2025-04-15T08:19:34.5416269Z     when SMTP is configured
2025-04-15T08:19:34.5416455Z       âœ“ should setup email transport (1 ms)
2025-04-15T08:19:34.5416659Z       âœ“ should send invitation emails (28 ms)
2025-04-15T08:19:34.5416876Z       âœ“ should send password reset emails (10 ms)
2025-04-15T08:19:34.5417029Z 
2025-04-15T08:19:34.5417145Z PASS test/integration/insights/insights.api.test.ts
2025-04-15T08:19:34.5417414Z   GET /insights routes work for owner and admins for server with dashboard license
2025-04-15T08:19:34.5417738Z     âœ“ Call should work and return empty summary for user owner (33 ms)
2025-04-15T08:19:34.5418026Z     âœ“ Call should work and return empty summary for user admin (23 ms)
2025-04-15T08:19:34.5418325Z     âœ“ Call should work and return empty summary for user member (11 ms)
2025-04-15T08:19:34.5418628Z   GET /insights routes return 403 for dashboard routes when summary license only
2025-04-15T08:19:34.5418937Z     âœ“ Call should work and return empty summary for user owner (16 ms)
2025-04-15T08:19:34.5419225Z     âœ“ Call should work and return empty summary for user admin (17 ms)
2025-04-15T08:19:34.5419506Z     âœ“ Call should work and return empty summary for user member (7 ms)
2025-04-15T08:19:34.5419700Z   GET /insights/by-workflow
2025-04-15T08:19:34.5419910Z     âœ“ Call should work with valid query parameters (4 ms)
2025-04-15T08:19:34.5420231Z     âœ“ Call should return internal server error with invalid pagination query parameters (23 ms)
2025-04-15T08:19:34.5420608Z     âœ“ Call should return internal server error with invalid pagination query parameters (6 ms)
2025-04-15T08:19:34.5420948Z     âœ“ Call should return bad request with invalid sortby query parameters (6 ms)
2025-04-15T08:19:34.5421108Z 
2025-04-15T08:19:34.5421239Z PASS test/integration/license-metrics.repository.test.ts
2025-04-15T08:19:34.5421433Z   LicenseMetricsRepository
2025-04-15T08:19:34.5421580Z     getLicenseRenewalMetrics
2025-04-15T08:19:34.5421783Z       âœ“ should return license renewal metrics (108 ms)
2025-04-15T08:19:34.5422038Z       âœ“ should handle zero execution statistics correctly (17 ms)
2025-04-15T08:19:34.5422167Z 
2025-04-15T08:19:34.5422293Z PASS src/modules/insights/__tests__/insights.module.test.ts
2025-04-15T08:19:34.5422484Z   InsightsModule
2025-04-15T08:19:34.5422609Z     backgroundProcess
2025-04-15T08:19:34.5422850Z       âœ“ should start background process if instance is main and leader (4 ms)
2025-04-15T08:19:34.5423163Z       âœ“ should not start background process if instance is main but not leader
2025-04-15T08:19:34.5423427Z       âœ“ should start background process on leader takeover
2025-04-15T08:19:34.5423668Z       âœ“ should stop background process on leader stepdown
2025-04-15T08:19:34.5423784Z 
2025-04-15T08:19:34.5423899Z PASS src/webhooks/__tests__/waiting-webhooks.test.ts
2025-04-15T08:19:34.5424074Z   WaitingWebhooks
2025-04-15T08:19:34.5424320Z     âœ“ should throw NotFoundError if there is no execution to resume (17 ms)
2025-04-15T08:19:34.5424633Z     âœ“ should throw ConflictError if the execution to resume is already running
2025-04-15T08:19:34.5425066Z     âœ“ should throw ConflictError if the execution to resume already finished (1 ms)
2025-04-15T08:19:34.5425356Z     âœ“ should mark as test webhook when execution mode is manual
2025-04-15T08:19:34.5425487Z 
2025-04-15T08:19:34.5425637Z PASS src/evaluation.ee/test-runner/__tests__/create-pin-data.ee.test.ts
2025-04-15T08:19:34.5425849Z   createPinData
2025-04-15T08:19:34.5426057Z     âœ“ should create pin data from past execution data (3 ms)
2025-04-15T08:19:34.5426314Z     âœ“ should not create pin data for non-existing mocked nodes
2025-04-15T08:19:34.5426560Z     âœ“ should create pin data for all mocked nodes (1 ms)
2025-04-15T08:19:34.5426814Z     âœ“ should return empty object if no mocked nodes are provided
2025-04-15T08:19:34.5427132Z     âœ“ should create pin data for all mocked nodes with renamed nodes
2025-04-15T08:19:34.5427272Z 
2025-04-15T08:19:34.5427389Z PASS test/integration/workflows/workflow.service.test.ts
2025-04-15T08:19:34.5427685Z   update()
2025-04-15T08:19:34.5427921Z     âœ“ should remove and re-add to active workflows on `active: true` payload (77 ms)
2025-04-15T08:19:34.5428244Z     âœ“ should remove from active workflows on `active: false` payload (57 ms)
2025-04-15T08:19:34.5428400Z 
2025-04-15T08:19:34.5428517Z PASS src/concurrency/__tests__/concurrency-queue.test.ts
2025-04-15T08:19:34.5428703Z   ConcurrencyQueue
2025-04-15T08:19:34.5428869Z     âœ“ should limit concurrency (15 ms)
2025-04-15T08:19:34.5429121Z     âœ“ should debounce emitting of the `concurrency-check` event (1 ms)
2025-04-15T08:19:34.5429265Z 
2025-04-15T08:19:34.5429388Z PASS test/integration/commands/update/workflow.test.ts
2025-04-15T08:19:34.5429636Z   âœ“ update:workflow can activate all workflows (45 ms)
2025-04-15T08:19:34.5429876Z   âœ“ update:workflow can deactivate all workflows (10 ms)
2025-04-15T08:19:34.5430119Z   âœ“ update:workflow can activate a specific workflow (33 ms)
2025-04-15T08:19:34.5430384Z   âœ“ update:workflow can deactivate a specific workflow (18 ms)
2025-04-15T08:19:34.5430521Z 
2025-04-15T08:19:34.5430640Z PASS src/controllers/__tests__/auth.controller.test.ts
2025-04-15T08:19:34.5430818Z   AuthController
2025-04-15T08:19:34.5430935Z     login
2025-04-15T08:19:34.5431170Z       âœ“ should not validate email in "emailOrLdapLoginId" if LDAP is enabled (4 ms)
2025-04-15T08:19:34.5431331Z 
2025-04-15T08:19:34.5431520Z PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.service.test.ts
2025-04-15T08:19:34.5431755Z   TaskBrokerAuthService
2025-04-15T08:19:34.5431892Z     isValidAuthToken
2025-04-15T08:19:34.5432079Z       âœ“ should be valid for the configured token (3 ms)
2025-04-15T08:19:34.5432300Z       âœ“ should be invalid for anything else
2025-04-15T08:19:34.5432456Z     createGrantToken
2025-04-15T08:19:34.5432631Z       âœ“ should generate a random token (2 ms)
2025-04-15T08:19:34.5432849Z       âœ“ should store the generated token in cache (1 ms)
2025-04-15T08:19:34.5433016Z     tryConsumeGrantToken
2025-04-15T08:19:34.5433238Z       âœ“ should return false for an invalid grant token (2 ms)
2025-04-15T08:19:34.5433471Z       âœ“ should return true for a valid grant token
2025-04-15T08:19:34.5433693Z       âœ“ should return false for a already used grant token
2025-04-15T08:19:34.5433945Z       âœ“ should return false for an expired grant token (301 ms)
2025-04-15T08:19:34.5434077Z 
2025-04-15T08:19:34.5434239Z PASS src/external-secrets.ee/providers/__tests__/gcp-secrets-manager.test.ts
2025-04-15T08:19:34.5434462Z   GCP Secrets Manager
2025-04-15T08:19:34.5434636Z     âœ“ should update cached secrets (9 ms)
2025-04-15T08:19:34.5434744Z 
2025-04-15T08:19:34.5434904Z PASS test/integration/database/repositories/workflow.repository.test.ts
2025-04-15T08:19:34.5435122Z   WorkflowRepository
2025-04-15T08:19:34.5435244Z     activateAll
2025-04-15T08:19:34.5435424Z       âœ“ should activate all workflows (17 ms)
2025-04-15T08:19:34.5435580Z     deactivateAll
2025-04-15T08:19:34.5435750Z       âœ“ should deactivate all workflows (12 ms)
2025-04-15T08:19:34.5436019Z     getActiveIds
2025-04-15T08:19:34.5436260Z       âœ“ should return all active workflow IDs when invoked without maxResults (8 ms)
2025-04-15T08:19:34.5436613Z       âœ“ should return a capped number of active workflow IDs when invoked with maxResults (6 ms)
2025-04-15T08:19:34.5436795Z 
2025-04-15T08:19:34.5436919Z PASS src/collaboration/__tests__/collaboration.state.test.ts
2025-04-15T08:19:34.5437166Z   CollaborationState
2025-04-15T08:19:34.5437284Z     addCollaborator
2025-04-15T08:19:34.5437507Z       âœ“ should add workflow user with correct cache key and value (7 ms)
2025-04-15T08:19:34.5437701Z     removeCollaborator
2025-04-15T08:19:34.5437922Z       âœ“ should remove workflow user with correct cache key (1 ms)
2025-04-15T08:19:34.5438105Z     getCollaborators
2025-04-15T08:19:34.5438281Z       âœ“ should get workflows with correct cache key
2025-04-15T08:19:34.5438525Z       âœ“ should get workflow users that are not expired (1 ms)
2025-04-15T08:19:34.5438656Z 
2025-04-15T08:19:34.5438857Z PASS src/decorators/__tests__/on-shutdown.test.ts
2025-04-15T08:19:34.5439030Z   OnShutdown
2025-04-15T08:19:34.5439246Z     âœ“ should register a methods that is decorated with OnShutdown (4 ms)
2025-04-15T08:19:34.5439534Z     âœ“ should register multiple methods in the same class (1 ms)
2025-04-15T08:19:34.5439750Z     âœ“ should use the given priority
2025-04-15T08:19:34.5440007Z     âœ“ should throw an error if the decorated member is not a function (7 ms)
2025-04-15T08:19:34.5440267Z     âœ“ should throw if the priority is invalid (5 ms)
2025-04-15T08:19:34.5440384Z 
2025-04-15T08:19:34.5440547Z PASS test/integration/environments/source-control.api.test.ts (5.386 s)
2025-04-15T08:19:34.5440779Z   GET /sourceControl/preferences
2025-04-15T08:19:34.5440985Z     âœ“ should return Source Control preferences (17 ms)
2025-04-15T08:19:34.5441196Z     âœ“ should return repo sync status (9 ms)
2025-04-15T08:19:34.5441446Z     âœ“ refreshing key pairsshould return new rsa key (1498 ms)
2025-04-15T08:19:34.5441583Z 
2025-04-15T08:19:34.5441725Z PASS src/credentials/__tests__/credentials.controller.test.ts
2025-04-15T08:19:34.5441926Z   CredentialsController
2025-04-15T08:19:34.5442066Z     createCredentials
2025-04-15T08:19:34.5442297Z       âœ“ should create new credentials and emit "credentials-created" (4 ms)
2025-04-15T08:19:34.5442441Z 
2025-04-15T08:19:34.5442564Z PASS src/scaling/__tests__/job-processor.service.test.ts
2025-04-15T08:19:34.5442746Z   JobProcessor
2025-04-15T08:19:34.5442950Z     âœ“ should refrain from processing a crashed execution (3 ms)
2025-04-15T08:19:34.5443266Z     âœ“ should use manualExecutionService to process a job in "manual" mode (2 ms)
2025-04-15T08:19:34.5443607Z     âœ“ should use manualExecutionService to process a job in "evaluation" mode (1 ms)
2025-04-15T08:19:34.5443775Z 
2025-04-15T08:19:34.5443943Z PASS src/evaluation.ee/test-runner/__tests__/evaluation-metrics.ee.test.ts
2025-04-15T08:19:34.5444154Z   EvaluationMetrics
2025-04-15T08:19:34.5444329Z     âœ“ should aggregate metrics correctly (3 ms)
2025-04-15T08:19:34.5444567Z     âœ“ should throw when metric value is not number (6 ms)
2025-04-15T08:19:34.5444771Z     âœ“ should handle empty metrics
2025-04-15T08:19:34.5444960Z     âœ“ should handle empty testMetrics (1 ms)
2025-04-15T08:19:34.5445160Z     âœ“ should ignore non-relevant values
2025-04-15T08:19:34.5445364Z     âœ“ should report info on added metrics (1 ms)
2025-04-15T08:19:34.5445470Z 
2025-04-15T08:19:34.5445630Z PASS src/task-runners/task-broker/__tests__/task-broker-ws-server.test.ts
2025-04-15T08:19:34.5445840Z   TaskBrokerWsServer
2025-04-15T08:19:34.5445964Z     removeConnection
2025-04-15T08:19:34.5446155Z       âœ“ should close with 1000 status code by default (4 ms)
2025-04-15T08:19:34.5446328Z     heartbeat timer
2025-04-15T08:19:34.5446516Z       âœ“ should set up heartbeat timer on server start (1 ms)
2025-04-15T08:19:34.5446753Z       âœ“ should clear heartbeat timer on server stop (1 ms)
2025-04-15T08:19:34.5446921Z     sendMessage
2025-04-15T08:19:34.5447481Z       âœ“ should work with a message containing circular references
2025-04-15T08:19:34.5447893Z 
2025-04-15T08:19:34.5448200Z PASS test/integration/workflow-tag-mapping.repository.integration.test.ts
2025-04-15T08:19:34.5448474Z   WorkflowTagMappingRepository
2025-04-15T08:19:34.5448627Z     overwriteTaggings
2025-04-15T08:19:34.5448930Z       âœ“ should overwrite taggings in a workflow (28 ms)
2025-04-15T08:19:34.5449183Z       âœ“ should delete taggings if no tags are provided (9 ms)
2025-04-15T08:19:34.5449321Z 
2025-04-15T08:19:34.5449450Z PASS src/metrics/__tests__/license-metrics.service.test.ts
2025-04-15T08:19:34.5449643Z   LicenseMetricsService
2025-04-15T08:19:34.5449782Z     collectPassthroughData
2025-04-15T08:19:34.5450003Z       âœ“ should return an object with active workflow IDs (4 ms)
2025-04-15T08:19:34.5450190Z     collectUsageMetrics
2025-04-15T08:19:34.5450395Z       âœ“ should return an array of expected usage metrics (1 ms)
2025-04-15T08:19:34.5450528Z 
2025-04-15T08:19:34.5450649Z PASS src/workflows/__tests__/workflows.controller.test.ts
2025-04-15T08:19:34.5450957Z   WorkflowsController
2025-04-15T08:19:34.5451086Z     getFromUrl
2025-04-15T08:19:34.5451225Z       should return workflow data
2025-04-15T08:19:34.5451430Z         âœ“ when the URL points to a valid JSON file (3 ms)
2025-04-15T08:19:34.5451615Z       should throw a BadRequestError
2025-04-15T08:19:34.5451844Z         âœ“ when the URL does not point to a valid JSON file (18 ms)
2025-04-15T08:19:34.5452084Z         âœ“ when the data is not a valid n8n workflow JSON
2025-04-15T08:19:34.5452300Z         âœ“ when the data is missing required fields
2025-04-15T08:19:34.5452414Z 
2025-04-15T08:19:34.5452624Z PASS src/evaluation.ee/test-runner/__tests__/format-test-case-execution-input-data.ee.test.ts
2025-04-15T08:19:34.5452893Z   formatTestCaseExecutionInputData
2025-04-15T08:19:34.5453134Z     âœ“ should format the test case execution input data correctly (5 ms)
2025-04-15T08:19:34.5453275Z 
2025-04-15T08:19:34.5453374Z PASS test/integration/debug.controller.test.ts
2025-04-15T08:19:34.5453546Z   DebugController
2025-04-15T08:19:34.5453685Z     GET /debug/multi-main-setup
2025-04-15T08:19:34.5453886Z       âœ“ should return multi-main setup details (15 ms)
2025-04-15T08:19:34.5453998Z 
2025-04-15T08:19:34.5454090Z PASS src/posthog/__tests__/posthog.test.ts
2025-04-15T08:19:34.5454245Z   PostHog
2025-04-15T08:19:34.5454394Z     âœ“ inits PostHog correctly (4 ms)
2025-04-15T08:19:34.5454688Z     âœ“ does not initialize or track if diagnostics are not enabled (1 ms)
2025-04-15T08:19:34.5454926Z     âœ“ captures PostHog events (1 ms)
2025-04-15T08:19:34.5455115Z     âœ“ gets feature flags (1 ms)
2025-04-15T08:19:34.5455198Z 
2025-04-15T08:19:34.5455388Z PASS src/task-runners/__tests__/task-runner-process-restart-loop-detector.test.ts
2025-04-15T08:19:34.5455654Z   TaskRunnerProcessRestartLoopDetector
2025-04-15T08:19:34.5455924Z     âœ“ should detect a restart loop if process exits 5 times within 5s (2 ms)
2025-04-15T08:19:34.5456268Z     âœ“ should not detect a restart loop if process exits less than 5 times within 5s (1 ms)
2025-04-15T08:19:34.5456451Z 
2025-04-15T08:19:34.5456539Z PASS test/integration/eventbus.test.ts
2025-04-15T08:19:34.5456704Z   GET /eventbus/destination
2025-04-15T08:19:34.5456906Z     âœ“ should fail due to missing authentication (10 ms)
2025-04-15T08:19:34.5457225Z     âœ“ should fail due to missing license when authenticated (5 ms)
2025-04-15T08:19:34.5457416Z   POST /eventbus/destination
2025-04-15T08:19:34.5457617Z     âœ“ should fail due to missing authentication (2 ms)
2025-04-15T08:19:34.5457867Z     âœ“ should fail due to missing license when authenticated (2 ms)
2025-04-15T08:19:34.5458066Z   DELETE /eventbus/destination
2025-04-15T08:19:34.5458262Z     âœ“ should fail due to missing authentication (2 ms)
2025-04-15T08:19:34.5458507Z     âœ“ should fail due to missing license when authenticated (2 ms)
2025-04-15T08:19:34.5458642Z 
2025-04-15T08:19:34.5458808Z PASS src/modules/insights/database/entities/__tests__/insights-raw.test.ts
2025-04-15T08:19:34.5459155Z   Insights Raw Entity
2025-04-15T08:19:34.5459376Z     âœ“ `success` can be serialized and deserialized correctly (4 ms)
2025-04-15T08:19:34.5459640Z     âœ“ `failure` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5459907Z     âœ“ `runtime_ms` can be serialized and deserialized correctly (3 ms)
2025-04-15T08:19:34.5460192Z     âœ“ `time_saved_min` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5460473Z     âœ“ `timestamp` can be serialized and deserialized correctly (2 ms)
2025-04-15T08:19:34.5460719Z     âœ“ timestamp uses the correct default value (30 ms)
2025-04-15T08:19:34.5460841Z 
2025-04-15T08:19:34.5460979Z PASS src/sso.ee/saml/routes/__tests__/saml.controller.ee.test.ts
2025-04-15T08:19:34.5461172Z   Test views
2025-04-15T08:19:34.5461338Z     âœ“ Should render success with template (3 ms)
2025-04-15T08:19:34.5461557Z     âœ“ Should render failure with template (1 ms)
2025-04-15T08:19:34.5461758Z     âœ“ Should render error with template
2025-04-15T08:19:34.5461862Z 
2025-04-15T08:19:34.5462118Z PASS test/integration/security-audit/filesystem-risk-reporter.test.ts
2025-04-15T08:19:34.5462398Z   âœ“ should report filesystem interaction nodes (175 ms)
2025-04-15T08:19:34.5462653Z   âœ“ should not report non-filesystem-interaction node (8 ms)
2025-04-15T08:19:34.5462783Z 
2025-04-15T08:19:34.5462923Z PASS src/task-runners/__tests__/sliding-window-signal.test.ts
2025-04-15T08:19:34.5463114Z   SlidingWindowSignal
2025-04-15T08:19:34.5463323Z     âœ“ should return the last signal if within window size (4 ms)
2025-04-15T08:19:34.5463596Z     âœ“ should return null if there is no signal within the window (2 ms)
2025-04-15T08:19:34.5463875Z     âœ“ should return null if "exit" event is not emitted before timeout
2025-04-15T08:19:34.5464164Z     âœ“ should return the signal emitted on "exit" event before timeout (1 ms)
2025-04-15T08:19:34.5464310Z 
2025-04-15T08:19:34.5464543Z PASS src/environments.ee/source-control/__tests__/source-control-git.service.test.ts
2025-04-15T08:19:34.5464781Z   SourceControlGitService
2025-04-15T08:19:34.5464925Z     getBranches
2025-04-15T08:19:34.5465124Z       âœ“ should support branch names containing slashes (10 ms)
2025-04-15T08:19:34.5465308Z     initRepository
2025-04-15T08:19:34.5465468Z       when local repo is set up after remote is ready
2025-04-15T08:19:34.5465666Z         âœ“ should track remote (1 ms)
2025-04-15T08:19:34.5465767Z 
2025-04-15T08:19:34.5465888Z PASS src/services/cache/__tests__/cache-mock.service.test.ts
2025-04-15T08:19:34.5466079Z   CacheService (Mock)
2025-04-15T08:19:34.5466225Z     should prevent use of empty keys
2025-04-15T08:19:34.5466392Z       âœ“ get (4 ms)
2025-04-15T08:19:34.5466531Z       âœ“ getMany (1 ms)
2025-04-15T08:19:34.5466665Z       âœ“ set
2025-04-15T08:19:34.5466792Z       âœ“ setMany (1 ms)
2025-04-15T08:19:34.5466928Z       âœ“ delete (1 ms)
2025-04-15T08:19:34.5467105Z       âœ“ deleteMany
2025-04-15T08:19:34.5467183Z 
2025-04-15T08:19:34.5467275Z PASS src/services/__tests__/jwt.service.test.ts
2025-04-15T08:19:34.5467440Z   JwtService
2025-04-15T08:19:34.5467567Z     secret initialization
2025-04-15T08:19:34.5467768Z       âœ“ should read the secret from config, when set (3 ms)
2025-04-15T08:19:34.5468053Z       âœ“ should derive the secret from encryption key when not set in config
2025-04-15T08:19:34.5468252Z     with a secret set
2025-04-15T08:19:34.5468398Z       âœ“ should sign (1 ms)
2025-04-15T08:19:34.5468582Z       âœ“ should decode and verify payload (1 ms)
2025-04-15T08:19:34.5468831Z       âœ“ should throw an error on verify if the token is expired (7 ms)
2025-04-15T08:19:34.5468970Z 
2025-04-15T08:19:34.5469131Z PASS src/external-secrets.ee/providers/__tests__/azure-key-vault.test.ts
2025-04-15T08:19:34.5469339Z   AzureKeyVault
2025-04-15T08:19:34.5469505Z     âœ“ should update cached secrets (52 ms)
2025-04-15T08:19:34.5469611Z 
2025-04-15T08:19:34.5469764Z PASS test/integration/services/workflow-static-data.service.test.ts
2025-04-15T08:19:34.5469975Z   WorkflowStaticDataService
2025-04-15T08:19:34.5470224Z     âœ“ should not change workflow updatedAt when calling saveStaticData (15 ms)
2025-04-15T08:19:34.5470680Z     âœ“ should not change workflow updatedAt when calling saveStaticDataById (3 ms)
2025-04-15T08:19:34.5470851Z 
2025-04-15T08:19:34.5470998Z PASS src/task-runners/task-broker/__tests__/task-broker-server.test.ts
2025-04-15T08:19:34.5471200Z   TaskBrokerServer
2025-04-15T08:19:34.5471330Z     handleUpgradeRequest
2025-04-15T08:19:34.5471558Z       âœ“ should close WebSocket when response status code is > 200 (4 ms)
2025-04-15T08:19:34.5471844Z       âœ“ should not close WebSocket when response status code is 200 (1 ms)
2025-04-15T08:19:34.5471985Z 
2025-04-15T08:19:34.5472119Z PASS src/executions/__tests__/execution-data.service.test.ts
2025-04-15T08:19:34.5472309Z   ExecutionDataService
2025-04-15T08:19:34.5472460Z     generateFailedExecutionFromError
2025-04-15T08:19:34.5472702Z       âœ“ should generate a failed execution with error details (7 ms)
2025-04-15T08:19:34.5473032Z       âœ“ should generate a failed execution without node details if node is undefined (1 ms)
2025-04-15T08:19:34.5473301Z 
2025-04-15T08:19:34.5473475Z PASS src/task-runners/errors/__tests__/task-runner-disconnected-error.test.ts
2025-04-15T08:19:34.5473704Z   TaskRunnerDisconnectedError
2025-04-15T08:19:34.5473920Z     âœ“ should have the correct default error message (3 ms)
2025-04-15T08:19:34.5474156Z     âœ“ should have the error level set to "error" (1 ms)
2025-04-15T08:19:34.5474413Z     âœ“ should set the correct description for non-cloud deployments
2025-04-15T08:19:34.5474737Z     âœ“ should set the correct description for cloud deployments (1 ms)
2025-04-15T08:19:34.5474882Z 
2025-04-15T08:19:34.5475030Z PASS src/databases/repositories/__tests__/workflow-statistics.test.ts
2025-04-15T08:19:34.5475244Z   insertWorkflowStatistics
2025-04-15T08:19:34.5475481Z     âœ“ Successfully inserts data when it is not yet present (4 ms)
2025-04-15T08:19:34.5475729Z     âœ“ Does not insert when data is present (1 ms)
2025-04-15T08:19:34.5475948Z     âœ“ throws an error when insertion fails
2025-04-15T08:19:34.5476067Z 
2025-04-15T08:19:34.5476167Z PASS src/modules/__tests__/modules.config.test.ts
2025-04-15T08:19:34.5476342Z   ModulesConfig
2025-04-15T08:19:34.5476600Z     âœ“ should initialize with insights modules if no environment variable is set (3 ms)
2025-04-15T08:19:34.5476911Z     âœ“ should parse valid module names from environment variable
2025-04-15T08:19:34.5477236Z     âœ“ should disable valid module names from environment variable
2025-04-15T08:19:34.5477520Z     âœ“ should throw UnexpectedError for invalid module names (9 ms)
2025-04-15T08:19:34.5477843Z     âœ“ should throw UnexpectedError if any module is both enabled and disabled (1 ms)
2025-04-15T08:19:34.5478166Z     âœ“ should throw UnexpectedError if any enabled module name is invalid
2025-04-15T08:19:34.5478488Z     âœ“ should throw UnexpectedError if any disabled module name is invalid (1 ms)
2025-04-15T08:19:34.5478662Z 
2025-04-15T08:19:34.5478744Z PASS src/__tests__/utils.test.ts
2025-04-15T08:19:34.5478902Z   shouldAssignExecuteMethod
2025-04-15T08:19:34.5479238Z     âœ“ should return true when node has no execute, poll, trigger, webhook (unless declarative), or methods (3 ms)
2025-04-15T08:19:34.5479565Z     âœ“ should return false when node has execute (1 ms)
2025-04-15T08:19:34.5479789Z     âœ“ should return false when node has poll
2025-04-15T08:19:34.5480000Z     âœ“ should return false when node has trigger
2025-04-15T08:19:34.5480273Z     âœ“ should return false when node has webhook and is not declarative (1 ms)
2025-04-15T08:19:34.5480568Z     âœ“ should return true when node has webhook but is declarative
2025-04-15T08:19:34.5480804Z     âœ“ should return false when node has methods
2025-04-15T08:19:34.5480905Z 
2025-04-15T08:19:34.5481014Z PASS src/sso.ee/saml/__tests__/saml-helpers.test.ts
2025-04-15T08:19:34.5481193Z   sso/saml/samlHelpers
2025-04-15T08:19:34.5481344Z     updateUserFromSamlAttributes
2025-04-15T08:19:34.5481608Z       âœ“ does not user `Repository.update`, but `Repository.save` instead (6 ms)
2025-04-15T08:19:34.5481870Z 
2025-04-15T08:19:34.5482008Z PASS src/modules/insights/__tests__/insights.pre-init.test.ts
2025-04-15T08:19:34.5482206Z   InsightsModulePreInit
2025-04-15T08:19:34.5482419Z     âœ“ should return false if instance type is not "main" (2 ms)
2025-04-15T08:19:34.5482701Z     âœ“ should return false if database type is "sqlite" and poolSize is < 1
2025-04-15T08:19:34.5483009Z     âœ“ should return true if instance type is "main" and database is not sqlite
2025-04-15T08:19:34.5483331Z     âœ“ should return true if instance type is "main" and database is not sqlite (1 ms)
2025-04-15T08:19:34.5483645Z     âœ“ should return true if instance type is "main" and database is not sqlite
2025-04-15T08:19:34.5483967Z     âœ“ should return true if instance type is "main" and sqlite poolSize is >= 1 (1 ms)
2025-04-15T08:19:34.5484133Z 
2025-04-15T08:19:34.5484290Z PASS test/integration/task-runners/task-runner-module.external.test.ts
2025-04-15T08:19:34.5484522Z   TaskRunnerModule in external mode
2025-04-15T08:19:34.5484805Z     start
2025-04-15T08:19:34.5484984Z       âœ“ should throw if the task runner is disabled (9 ms)
2025-04-15T08:19:34.5485537Z       âœ“ should throw if auth token is missing (6 ms)
2025-04-15T08:19:34.5485745Z       âœ“ should start the task runner (245 ms)
2025-04-15T08:19:34.5485963Z       âœ“ should use DefaultTaskRunnerDisconnectAnalyzer
2025-04-15T08:19:34.5486086Z 
2025-04-15T08:19:34.5486216Z PASS src/controllers/__tests__/translation.controller.test.ts
2025-04-15T08:19:34.5486415Z   TranslationController
2025-04-15T08:19:34.5486550Z     getCredentialTranslation
2025-04-15T08:19:34.5486761Z       âœ“ should throw 400 on invalid credential types (7 ms)
2025-04-15T08:19:34.5487083Z       âœ“ should return translation json on valid credential types (1 ms)
2025-04-15T08:19:34.5487229Z 
2025-04-15T08:19:34.5487384Z PASS src/errors/response-errors/__tests__/webhook-not-found.error.test.ts
2025-04-15T08:19:34.5487629Z   utils test webhookNotFoundErrorMessage 
2025-04-15T08:19:34.5487849Z     âœ“ should return a message with path and method (4 ms)
2025-04-15T08:19:34.5488072Z     âœ“ should return a message with path
2025-04-15T08:19:34.5488368Z     âœ“ should return a message with method with tip
2025-04-15T08:19:34.5488581Z     âœ“ should return a message with method with tip
2025-04-15T08:19:34.5488787Z     âœ“ should return a message with method with tip
2025-04-15T08:19:34.5488890Z 
2025-04-15T08:19:34.5488993Z PASS test/integration/user.repository.test.ts
2025-04-15T08:19:34.5489153Z   UserRepository
2025-04-15T08:19:34.5489275Z     countUsersByRole()
2025-04-15T08:19:34.5489480Z       âœ“ should return the number of users in each role (47 ms)
2025-04-15T08:19:34.5489666Z     createUserWithProject()
2025-04-15T08:19:34.5489865Z       âœ“ should create personal project for a user (8 ms)
2025-04-15T08:19:34.5489980Z 
2025-04-15T08:19:34.5490067Z PASS test/integration/auth.mw.test.ts
2025-04-15T08:19:34.5490216Z   Auth Middleware
2025-04-15T08:19:34.5490355Z     Routes requiring Authentication
2025-04-15T08:19:34.5490587Z       âœ“ patch /me should return 401 Unauthorized if no cookie (16 ms)
2025-04-15T08:19:34.5490885Z       âœ“ patch /me/password should return 401 Unauthorized if no cookie (3 ms)
2025-04-15T08:19:34.5491180Z       âœ“ post /me/survey should return 401 Unauthorized if no cookie (1 ms)
2025-04-15T08:19:34.5491470Z       âœ“ post /invitations should return 401 Unauthorized if no cookie (2 ms)
2025-04-15T08:19:34.5491770Z       âœ“ delete /users/123 should return 401 Unauthorized if no cookie (2 ms)
2025-04-15T08:19:34.5491981Z     Routes requiring Authorization
2025-04-15T08:19:34.5492225Z       âœ“ post /invitations should return 403 Forbidden for member (14 ms)
2025-04-15T08:19:34.5492505Z       âœ“ delete /users/123 should return 403 Forbidden for member (2 ms)
2025-04-15T08:19:34.5492649Z 
2025-04-15T08:19:34.5492759Z PASS src/scaling/__tests__/subscriber.service.test.ts
2025-04-15T08:19:34.5492935Z   Subscriber
2025-04-15T08:19:34.5493046Z     constructor
2025-04-15T08:19:34.5493226Z       âœ“ should init Redis client in scaling mode (3 ms)
2025-04-15T08:19:34.5493595Z       âœ“ should not init Redis client in regular mode (1 ms)
2025-04-15T08:19:34.5493761Z     shutdown
2025-04-15T08:19:34.5493913Z       âœ“ should disconnect Redis client
2025-04-15T08:19:34.5494062Z     subscribe
2025-04-15T08:19:34.5494230Z       âœ“ should subscribe to pubsub channel (1 ms)
2025-04-15T08:19:34.5494344Z 
2025-04-15T08:19:34.5494436Z PASS src/services/__tests__/url.service.test.ts
2025-04-15T08:19:34.5494592Z   UrlService
2025-04-15T08:19:34.5494707Z     getInstanceBaseUrl
2025-04-15T08:19:34.5494891Z       âœ“ should set URL from N8N_EDITOR_BASE_URL (3 ms)
2025-04-15T08:19:34.5495101Z       âœ“ should set URL from WEBHOOK_URL (1 ms)
2025-04-15T08:19:34.5495342Z       âœ“ should trim quotes when setting URL from N8N_EDITOR_BASE_URL
2025-04-15T08:19:34.5495617Z       âœ“ should trim quotes when setting URL from WEBHOOK_URL (1 ms)
2025-04-15T08:19:34.5495751Z 
2025-04-15T08:19:34.5495904Z PASS src/databases/repositories/__tests__/credentials.repository.test.ts
2025-04-15T08:19:34.5496225Z   findMany
2025-04-15T08:19:34.5496487Z     âœ“ return `data` property if `includeData:true` and select is using the record syntax (3 ms)
2025-04-15T08:19:34.5496840Z     âœ“ return `data` property if `includeData:true` and select is using the record syntax
2025-04-15T08:19:34.5497057Z 
2025-04-15T08:19:34.5497186Z PASS test/integration/task-runners/task-runner-server.test.ts
2025-04-15T08:19:34.5497380Z   TaskBrokerServer
2025-04-15T08:19:34.5497496Z     /healthz
2025-04-15T08:19:34.5497644Z       âœ“ should return 200 (18 ms)
2025-04-15T08:19:34.5497781Z     /runners/_ws
2025-04-15T08:19:34.5497980Z       âœ“ should return 429 when too many requests are made (13 ms)
2025-04-15T08:19:34.5498155Z     /runners/auth
2025-04-15T08:19:34.5498346Z       âœ“ should return 429 when too many requests are made (13 ms)
2025-04-15T08:19:34.5498473Z 
2025-04-15T08:19:34.5498614Z PASS test/integration/services/execution-metadata.service.test.ts
2025-04-15T08:19:34.5498810Z   ProjectService
2025-04-15T08:19:34.5498931Z     save
2025-04-15T08:19:34.5499178Z       âœ“ should deduplicate entries by exeuctionId and key, keeping the latest one (23 ms)
2025-04-15T08:19:34.5499347Z 
2025-04-15T08:19:34.5499478Z PASS test/integration/task-runners/task-broker-server.test.ts
2025-04-15T08:19:34.5499667Z   TaskBrokerServer
2025-04-15T08:19:34.5499777Z     /healthz
2025-04-15T08:19:34.5499920Z       âœ“ should return 200 (21 ms)
2025-04-15T08:19:34.5500053Z     /runners/_ws
2025-04-15T08:19:34.5500239Z       âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:19:34.5500411Z     /runners/auth
2025-04-15T08:19:34.5500604Z       âœ“ should return 429 when too many requests are made (12 ms)
2025-04-15T08:19:34.5500726Z 
2025-04-15T08:19:34.5500912Z PASS src/workflows/workflow-history.ee/__tests__/workflow-history-helper.ee.test.ts
2025-04-15T08:19:34.5501153Z   getWorkflowHistoryPruneTime
2025-04-15T08:19:34.5501391Z     âœ“ should return -1 (infinite) if config and license are -1 (3 ms)
2025-04-15T08:19:34.5501702Z     âœ“ should return config time if license is infinite and config is not (1 ms)
2025-04-15T08:19:34.5502009Z     âœ“ should return license time if config is infinite and license is not
2025-04-15T08:19:34.5502299Z     âœ“ should return lowest of config and license time if both are not -1
2025-04-15T08:19:34.5502439Z 
2025-04-15T08:19:34.5502535Z PASS test/integration/cta.service.test.ts
2025-04-15T08:19:34.5502690Z   CtaService
2025-04-15T08:19:34.5502807Z     getBecomeCreatorCta()
2025-04-15T08:19:34.5503106Z       âœ“ should return false if user has 0 active workflows with 0 successful production executions (8 ms)
2025-04-15T08:19:34.5503513Z       âœ“ should return false if user has 2 active workflows with 5 successful production executions (21 ms)
2025-04-15T08:19:34.5503906Z       âœ“ should return false if user has 3 active workflows with 4 successful production executions (18 ms)
2025-04-15T08:19:34.5504295Z       âœ“ should return true if user has 3 active workflows with 5 successful production executions (17 ms)
2025-04-15T08:19:34.5504636Z 
2025-04-15T08:19:34.5504746Z PASS src/services/__tests__/password.utility.test.ts
2025-04-15T08:19:34.5504922Z   PasswordUtility
2025-04-15T08:19:34.5505045Z     hash()
2025-04-15T08:19:34.5505214Z       âœ“ should hash a plaintext password (76 ms)
2025-04-15T08:19:34.5505370Z     compare()
2025-04-15T08:19:34.5505527Z       âœ“ should return true on match (110 ms)
2025-04-15T08:19:34.5505732Z       âœ“ should return false on mismatch (133 ms)
2025-04-15T08:19:34.5505842Z 
2025-04-15T08:19:34.5505956Z PASS src/controllers/__tests__/users.controller.test.ts
2025-04-15T08:19:34.5506134Z   UsersController
2025-04-15T08:19:34.5506257Z     changeGlobalRole
2025-04-15T08:19:34.5506443Z       âœ“ should emit event user-changed-role (3 ms)
2025-04-15T08:19:34.5506561Z 
2025-04-15T08:19:34.5506735Z PASS src/evaluation.ee/test-runner/__tests__/get-test-run-final-result.ee.test.ts
2025-04-15T08:19:34.5507022Z   getTestRunFinalResult
2025-04-15T08:19:34.5507240Z     âœ“ should return success if all test cases are successful (3 ms)
2025-04-15T08:19:34.5507635Z     âœ“ should return error if at least one test case is errored (1 ms)
2025-04-15T08:19:34.5507906Z     âœ“ should return warning if at least one test case is warned
2025-04-15T08:19:34.5508170Z     âœ“ should return error if there are errors and warnings (1 ms)
2025-04-15T08:19:34.5508305Z 
2025-04-15T08:19:34.5508533Z PASS test/integration/workflows/workflows.controller-with-active-workflow-manager.ee.test.ts
2025-04-15T08:19:34.5508806Z   PUT /:workflowId/transfer
2025-04-15T08:19:34.5508992Z     âœ“ can transfer an active workflow (50 ms)
2025-04-15T08:19:34.5509096Z 
2025-04-15T08:19:34.5509193Z PASS src/ldap.ee/__tests__/helpers.test.ts
2025-04-15T08:19:34.5509348Z   Ldap/helpers
2025-04-15T08:19:34.5509472Z     updateLdapUserOnLocalDb
2025-04-15T08:19:34.5509717Z       âœ“ does not use `Repository.update`, but `Repository.save` instead (4 ms)
2025-04-15T08:19:34.5509865Z 
2025-04-15T08:19:34.5510021Z PASS src/evaluation.ee/test-runner/__tests__/get-start-node.ee.test.ts
2025-04-15T08:19:34.5510241Z   getPastExecutionStartNode
2025-04-15T08:19:34.5510455Z     âœ“ should return the start node of the past execution (3 ms)
2025-04-15T08:19:34.5510759Z     âœ“ should return the start node of the past execution with multiple triggers (1 ms)
2025-04-15T08:19:34.5511114Z     âœ“ should return the start node of the past execution with multiple triggers - chat trigger
2025-04-15T08:19:34.5511294Z 
2025-04-15T08:19:34.5511412Z PASS src/services/__tests__/orchestration.service.test.ts
2025-04-15T08:19:34.5511597Z   Orchestration Service
2025-04-15T08:19:34.5511753Z     âœ“ should initialize (4 ms)
2025-04-15T08:19:34.5511850Z 
2025-04-15T08:19:34.5511964Z PASS test/integration/middlewares/body-parser.test.ts
2025-04-15T08:19:34.5512143Z   bodyParser
2025-04-15T08:19:34.5512312Z     âœ“ should handle uncompressed data (15 ms)
2025-04-15T08:19:34.5512506Z     âœ“ should handle gzip data (3 ms)
2025-04-15T08:19:34.5512695Z     âœ“ should handle deflate data (2 ms)
2025-04-15T08:19:34.5512811Z 
2025-04-15T08:19:34.5512933Z PASS src/databases/entities/__tests__/user.entity.test.ts
2025-04-15T08:19:34.5513120Z   User Entity
2025-04-15T08:19:34.5513237Z     JSON.stringify
2025-04-15T08:19:34.5513414Z       âœ“ should not serialize sensitive data (3 ms)
2025-04-15T08:19:34.5513583Z     createPersonalProjectName
2025-04-15T08:19:34.5514022Z       âœ“ given fistName: Nathan, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "Nathan Nathaniel <nathan@nathaniel.n8n>" (1 ms)
2025-04-15T08:19:34.5514604Z       âœ“ given fistName: undefined, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:19:34.5515145Z       âœ“ given fistName: Nathan, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:19:34.5515685Z       âœ“ given fistName: undefined, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>" (1 ms)
2025-04-15T08:19:34.5516470Z       âœ“ given fistName: undefined, lastName: undefined and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:19:34.5516930Z       âœ“ given fistName: Nathan, lastName: Nathaniel and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:19:34.5517189Z 
2025-04-15T08:19:34.5517384Z PASS src/modules/insights/database/entities/__tests__/insights-by-period.test.ts
2025-04-15T08:19:34.5517627Z   Insights By Period
2025-04-15T08:19:34.5517867Z     âœ“ `time_saved_min` can be serialized and deserialized correctly (6 ms)
2025-04-15T08:19:34.5518148Z     âœ“ `runtime_ms` can be serialized and deserialized correctly
2025-04-15T08:19:34.5518411Z     âœ“ `failure` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5518665Z     âœ“ `success` can be serialized and deserialized correctly
2025-04-15T08:19:34.5518914Z     âœ“ `hour` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5519171Z     âœ“ `day` can be serialized and deserialized correctly
2025-04-15T08:19:34.5519504Z     âœ“ `week` can be serialized and deserialized correctly
2025-04-15T08:19:34.5519623Z 
2025-04-15T08:19:34.5519779Z PASS test/integration/task-runners/task-runner-module.internal.test.ts
2025-04-15T08:19:34.5520013Z   TaskRunnerModule in internal mode
2025-04-15T08:19:34.5520155Z     start
2025-04-15T08:19:34.5520338Z       âœ“ should throw if the task runner is disabled (9 ms)
2025-04-15T08:19:34.5520557Z       âœ“ should start the task runner (260 ms)
2025-04-15T08:19:34.5520783Z       âœ“ should use InternalTaskRunnerDisconnectAnalyzer
2025-04-15T08:19:34.5520912Z 
2025-04-15T08:19:34.5521012Z PASS src/utils/__tests__/object-to-error.test.ts
2025-04-15T08:19:34.5521179Z   objectToError
2025-04-15T08:19:34.5521305Z     node error handling
2025-04-15T08:19:34.5521527Z       âœ“ should create `NodeOperationError` when node is found (4 ms)
2025-04-15T08:19:34.5521778Z       âœ“ should create `Error` when node is not found
2025-04-15T08:19:34.5521900Z 
2025-04-15T08:19:34.5522041Z PASS src/task-runners/__tests__/node-process-oom-detector.test.ts
2025-04-15T08:19:34.5522242Z   NodeProcessOomDetector
2025-04-15T08:19:34.5522480Z     âœ“ should detect an out-of-memory error in a monitored process (328 ms)
2025-04-15T08:19:34.5522817Z     âœ“ should not detect an out-of-memory error in a process that exits normally (22 ms)
2025-04-15T08:19:34.5522991Z 
2025-04-15T08:19:34.5523160Z PASS src/execution-lifecycle/shared/__tests__/shared-hook-functions.test.ts
2025-04-15T08:19:34.5523398Z   determineFinalExecutionStatus
2025-04-15T08:19:34.5523625Z     âœ“ should return "error" when resultData.error exists (1 ms)
2025-04-15T08:19:34.5523883Z     âœ“ should return "waiting" when waitTill is defined
2025-04-15T08:19:34.5524055Z     When waitTill is not set
2025-04-15T08:19:34.5524230Z       âœ“ should return "canceled" (2 ms)
2025-04-15T08:19:34.5524406Z       âœ“ should return "crashed"
2025-04-15T08:19:34.5524564Z       âœ“ should return "error"
2025-04-15T08:19:34.5524733Z       âœ“ should return "success"
2025-04-15T08:19:34.5524837Z 
2025-04-15T08:19:34.5524977Z PASS src/services/__tests__/credentials-tester.service.test.ts
2025-04-15T08:19:34.5525168Z   CredentialsTester
2025-04-15T08:19:34.5525426Z     âœ“ should find the OAuth2 credential test for a generic OAuth2 API credential (4 ms)
2025-04-15T08:19:34.5525596Z 
2025-04-15T08:19:34.5525704Z PASS test/integration/saml/saml-helpers.test.ts
2025-04-15T08:19:34.5525871Z   sso/saml/samlHelpers
2025-04-15T08:19:34.5526019Z     createUserFromSamlAttributes
2025-04-15T08:19:34.5526220Z       âœ“ Creates personal project for user (76 ms)
2025-04-15T08:19:34.5526329Z 
2025-04-15T08:19:34.5526422Z PASS src/utils/__tests__/path-util.test.ts
2025-04-15T08:19:34.5526578Z   isContainedWithin
2025-04-15T08:19:34.5526794Z     âœ“ should return true when parent and child paths are the same (3 ms)
2025-04-15T08:19:34.5527207Z     âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/file.txt
2025-04-15T08:19:34.5527752Z     âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/../folder/subfolder/file.txt
2025-04-15T08:19:34.5528269Z     âœ“ should return true for parent /some/parent/folder/ and child /some/parent/folder/subfolder/file.txt
2025-04-15T08:19:34.5528671Z     âœ“ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/
2025-04-15T08:19:34.5529070Z     âœ“ should return false for parent /some/parent/folder and child /some/other/folder/file.txt (1 ms)
2025-04-15T08:19:34.5529467Z     âœ“ should return false for parent /some/parent/folder and child /some/parent/folder_but_not_really
2025-04-15T08:19:34.5529798Z     âœ“ should return false for parent /one/path and child /another/path
2025-04-15T08:19:34.5529941Z 
2025-04-15T08:19:34.5530070Z PASS src/services/__tests__/execution-metadata.service.test.ts
2025-04-15T08:19:34.5530272Z   ExecutionMetadataService
2025-04-15T08:19:34.5530468Z     âœ“ Execution metadata is saved in a batch (4 ms)
2025-04-15T08:19:34.5530708Z 
2025-04-15T08:19:34.5530822Z PASS test/integration/commands/license.cmd.test.ts
2025-04-15T08:19:34.5531200Z   âœ“ license:clear invokes clear() to release any floating entitlements and deletes the license cert from the DB (14 ms)
2025-04-15T08:19:34.5531421Z 
2025-04-15T08:19:34.5531524Z PASS src/decorators/__tests__/module.test.ts
2025-04-15T08:19:34.5531691Z   registerLifecycleHooks
2025-04-15T08:19:34.5531943Z     âœ“ is called when ModuleRegistry.registerLifecycleHooks is called (4 ms)
2025-04-15T08:19:34.5532099Z 
2025-04-15T08:19:34.5532324Z PASS src/environments.ee/source-control/__tests__/source-control-preferences.service.ee.test.ts
2025-04-15T08:19:34.5532604Z   SourceControlPreferencesService
2025-04-15T08:19:34.5532819Z     âœ“ should class validate correct preferences (3 ms)
2025-04-15T08:19:34.5532934Z 
2025-04-15T08:19:34.5533053Z PASS src/validators/__tests__/no-url.validator.test.ts
2025-04-15T08:19:34.5533220Z   NoUrl
2025-04-15T08:19:34.5533328Z     URLs
2025-04-15T08:19:34.5533505Z       âœ“ should block http://google.com (4 ms)
2025-04-15T08:19:34.5533712Z       âœ“ should block www.domain.tld
2025-04-15T08:19:34.5533896Z       âœ“ should block n8n.io (1 ms)
2025-04-15T08:19:34.5533901Z 
2025-04-15T08:19:34.5533987Z PASS src/config/__tests__/index.test.ts
2025-04-15T08:19:34.5534062Z   userManagement.jwtRefreshTimeoutHours
2025-04-15T08:19:34.5534294Z     âœ“ resets jwtRefreshTimeoutHours to 0 if it's greater than or equal to jwtSessionDurationHours (2 ms)
2025-04-15T08:19:34.5534298Z 
2025-04-15T08:19:34.5534407Z PASS test/integration/healthcheck.controller.test.ts
2025-04-15T08:19:34.5534470Z   HealthcheckController
2025-04-15T08:19:34.5534600Z     âœ“ should return ok when DB is connected and migrated (11 ms)
2025-04-15T08:19:34.5534729Z     âœ“ should return error when DB is not connected (2 ms)
2025-04-15T08:19:34.5534734Z 
2025-04-15T08:19:34.5534812Z Test Suites: 250 passed, 250 total
2025-04-15T08:19:34.5534940Z Tests:       2810 passed, 2810 total
2025-04-15T08:19:34.5535019Z Snapshots:   3 passed, 3 total
2025-04-15T08:19:34.5535083Z Time:        149.876 s
2025-04-15T08:19:34.5535145Z Ran all test suites.
2025-04-15T08:19:34.5535457Z ##[endgroup]
2025-04-15T08:19:36.5262141Z ##[group]@n8n/di:test
2025-04-15T08:19:36.5262509Z cache bypass, force executing 2a23c466591973d6
2025-04-15T08:19:36.5262666Z 
2025-04-15T08:19:36.5262841Z > @n8n/di@0.4.0 test /home/runner/_work/n8n/n8n/packages/@n8n/di
2025-04-15T08:19:36.5263112Z > jest
2025-04-15T08:19:36.5263194Z 
2025-04-15T08:19:36.5263334Z PASS src/__tests__/circular-depedency.test.ts
2025-04-15T08:19:36.5263554Z   DI Container
2025-04-15T08:19:36.5263699Z     circular dependency
2025-04-15T08:19:36.5264201Z       âœ“ should detect multilevel circular dependencies (7 ms)
2025-04-15T08:19:36.5264371Z 
2025-04-15T08:19:36.5264454Z PASS src/__tests__/di.test.ts
2025-04-15T08:19:36.5264622Z   DI Container
2025-04-15T08:19:36.5264765Z     basic functionality
2025-04-15T08:19:36.5264978Z       âœ“ should create a simple instance (3 ms)
2025-04-15T08:19:36.5265544Z       âœ“ should return same instance on multiple gets
2025-04-15T08:19:36.5265864Z       âœ“ should handle classes with no dependencies (empty constructor)
2025-04-15T08:19:36.5266212Z       âœ“ should throw when trying to resolve an undecorated class (6 ms)
2025-04-15T08:19:36.5266452Z     dependency injection
2025-04-15T08:19:36.5266684Z       âœ“ should inject dependencies correctly
2025-04-15T08:19:36.5266940Z       âœ“ should handle deep dependency chains (1 ms)
2025-04-15T08:19:36.5267284Z       âœ“ should return undefined for non-decorated dependencies in resolution chain
2025-04-15T08:19:36.5267546Z     factory handling
2025-04-15T08:19:36.5267802Z       âœ“ should use factory when provided
2025-04-15T08:19:36.5268103Z       âœ“ should preserve factory metadata when setting instance (1 ms)
2025-04-15T08:19:36.5268413Z       âœ“ should preserve factory when resetting container
2025-04-15T08:19:36.5268806Z       âœ“ should throw error when factory throws
2025-04-15T08:19:36.5269140Z     instance management
2025-04-15T08:19:36.5269768Z       âœ“ should allow manual instance setting (1 ms)
2025-04-15T08:19:36.5270106Z     abstract classes
2025-04-15T08:19:36.5270625Z       âœ“ should throw when trying to instantiate an abstract class directly (4 ms)
2025-04-15T08:19:36.5271216Z       âœ“ should allow setting an implementation for an abstract class
2025-04-15T08:19:36.5271508Z       âœ“ should allow factory for abstract class
2025-04-15T08:19:36.5271693Z     inheritance
2025-04-15T08:19:36.5271930Z       âœ“ should handle inheritance in injectable classes (1 ms)
2025-04-15T08:19:36.5272260Z       âœ“ should maintain separate instances for base and derived classes
2025-04-15T08:19:36.5272514Z     type registration checking
2025-04-15T08:19:36.5272742Z       âœ“ should return true for registered classes
2025-04-15T08:19:36.5273069Z       âœ“ should return false for unregistered classes
2025-04-15T08:19:36.5273351Z       âœ“ should return true for abstract classes with implementations
2025-04-15T08:19:36.5273699Z       âœ“ should return true for factory-provided services before instantiation (1 ms)
2025-04-15T08:19:36.5274007Z       âœ“ should maintain registration after reset
2025-04-15T08:19:36.5274263Z       âœ“ should return true after manual instance setting
2025-04-15T08:19:36.5274397Z 
2025-04-15T08:19:36.5274493Z Test Suites: 2 passed, 2 total
2025-04-15T08:19:36.5274676Z Tests:       24 passed, 24 total
2025-04-15T08:19:36.5274839Z Snapshots:   0 total
2025-04-15T08:19:36.5274980Z Time:        1.14 s
2025-04-15T08:19:36.5275123Z Ran all test suites.
2025-04-15T08:19:36.5275378Z ##[endgroup]
2025-04-15T08:19:36.5493918Z 
2025-04-15T08:19:36.5494050Z  Tasks:    10 successful, 10 total
2025-04-15T08:19:36.5494249Z Cached:    0 cached, 10 total
2025-04-15T08:19:36.5494418Z   Time:    3m16.638s 
2025-04-15T08:19:36.5494501Z 
