2025-04-15T08:15:38.5660969Z Requested labels: blacksmith-4vcpu-ubuntu-2204
2025-04-15T08:15:38.5661197Z Job defined at: n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master
2025-04-15T08:15:38.5661785Z Reusable workflow chain:
2025-04-15T08:15:38.5661949Z n8n-io/n8n/.github/workflows/ci-master.yml@refs/heads/master (a12c9522d5992a7fc2719644a9cfa4af5cdc3712)
2025-04-15T08:15:38.5662082Z -> n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master (a12c9522d5992a7fc2719644a9cfa4af5cdc3712)
2025-04-15T08:15:38.5662218Z Waiting for a runner to pick up this job...
2025-04-15T08:15:51.2361578Z Job is about to start running on the runner: blacksmith-01jrw89a5yhk1w75f57peat92n-4vcpu (organization)
2025-04-15T08:15:54.3762120Z Current runner version: '2.323.0'
2025-04-15T08:15:54.3766899Z Runner name: 'blacksmith-01jrw89a5yhk1w75f57peat92n-4vcpu'
2025-04-15T08:15:54.3767662Z Runner group name: 'Default'
2025-04-15T08:15:54.3768798Z Machine name: 'localhost'
2025-04-15T08:15:54.3771785Z ##[group]GITHUB_TOKEN Permissions
2025-04-15T08:15:54.3774072Z Actions: write
2025-04-15T08:15:54.3774639Z Attestations: write
2025-04-15T08:15:54.3775226Z Checks: write
2025-04-15T08:15:54.3775764Z Contents: write
2025-04-15T08:15:54.3776276Z Deployments: write
2025-04-15T08:15:54.3776819Z Discussions: write
2025-04-15T08:15:54.3777266Z Issues: write
2025-04-15T08:15:54.3777756Z Metadata: read
2025-04-15T08:15:54.3778286Z Models: read
2025-04-15T08:15:54.3778776Z Packages: write
2025-04-15T08:15:54.3779226Z Pages: write
2025-04-15T08:15:54.3779799Z PullRequests: write
2025-04-15T08:15:54.3780390Z RepositoryProjects: write
2025-04-15T08:15:54.3780999Z SecurityEvents: write
2025-04-15T08:15:54.3781469Z Statuses: write
2025-04-15T08:15:54.3782203Z ##[endgroup]
2025-04-15T08:15:54.3784533Z Secret source: Actions
2025-04-15T08:15:54.3785064Z Prepare workflow directory
2025-04-15T08:15:54.4093611Z Prepare all required actions
2025-04-15T08:15:54.4116759Z Getting action download info
2025-04-15T08:15:54.8096635Z Download action repository 'actions/checkout@v4.1.1' (SHA:b4ffde65f46336ab88eb53be808477a3936bae11)
2025-04-15T08:15:54.8779670Z Download action repository 'useblacksmith/setup-node@v5' (SHA:65c6ca86fdeb0ab3d85e78f57e4f6a7e4780b391)
2025-04-15T08:15:55.3113005Z Download action repository 'useblacksmith/caching-for-turbo@v1' (SHA:bafb57e7ebdbf1185762286ec94d24648cd3938a)
2025-04-15T08:15:55.7705735Z Download action repository 'useblacksmith/cache@v5' (SHA:c5fe29eb0efdf1cf4186b9f7fcbbcbc0cf025662)
2025-04-15T08:15:56.2135634Z Download action repository 'codecov/test-results-action@v1' (SHA:f2dba722c67b86c6caa034178c6e4d35335f6706)
2025-04-15T08:15:56.5930832Z Download action repository 'codecov/codecov-action@v5.1.2' (SHA:1e68e06f1dbfde0e4cefc87efeba9e4643565303)
2025-04-15T08:15:57.0025802Z Uses: n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master (a12c9522d5992a7fc2719644a9cfa4af5cdc3712)
2025-04-15T08:15:57.0027854Z ##[group] Inputs
2025-04-15T08:15:57.0028438Z   ref: 
2025-04-15T08:15:57.0028892Z   nodeVersion: 20.x
2025-04-15T08:15:57.0029605Z   cacheKey: a12c9522d5992a7fc2719644a9cfa4af5cdc3712-base:build
2025-04-15T08:15:57.0030620Z   collectCoverage: true
2025-04-15T08:15:57.0031169Z   ignoreTurboCache: true
2025-04-15T08:15:57.0031884Z   skipFrontendTests: false
2025-04-15T08:15:57.0032467Z ##[endgroup]
2025-04-15T08:15:57.0033060Z Complete job name: Unit tests (20.x) / Unit tests
2025-04-15T08:15:57.0331064Z A job started hook has been configured by the self-hosted runner administrator
2025-04-15T08:15:57.0587678Z ##[group]Run '/setup.sh'
2025-04-15T08:15:57.0631828Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:15:57.0633007Z ##[endgroup]
2025-04-15T08:15:57.0811886Z System setup complete for blacksmith-01jrw89a5yhk1w75f57peat92n-4vcpu on production-wise-bug-1d646688
2025-04-15T08:15:57.0978449Z ##[group]Run actions/checkout@v4.1.1
2025-04-15T08:15:57.0979324Z with:
2025-04-15T08:15:57.0980028Z   repository: n8n-io/n8n
2025-04-15T08:15:57.0980887Z   token: ***
2025-04-15T08:15:57.0981556Z   ssh-strict: true
2025-04-15T08:15:57.0982269Z   persist-credentials: true
2025-04-15T08:15:57.0982995Z   clean: true
2025-04-15T08:15:57.0983732Z   sparse-checkout-cone-mode: true
2025-04-15T08:15:57.0984493Z   fetch-depth: 1
2025-04-15T08:15:57.0985218Z   fetch-tags: false
2025-04-15T08:15:57.0985908Z   show-progress: true
2025-04-15T08:15:57.0986491Z   lfs: false
2025-04-15T08:15:57.0987206Z   submodules: false
2025-04-15T08:15:57.0987910Z   set-safe-directory: true
2025-04-15T08:15:57.0988565Z env:
2025-04-15T08:15:57.0989280Z   TURBO_FORCE: true
2025-04-15T08:15:57.0989981Z   COVERAGE_ENABLED: true
2025-04-15T08:15:57.0990710Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:15:57.0991598Z ##[endgroup]
2025-04-15T08:15:58.2274121Z Syncing repository: n8n-io/n8n
2025-04-15T08:15:58.2275157Z ##[group]Getting Git version info
2025-04-15T08:15:58.2275535Z Working directory is '/home/runner/_work/n8n/n8n'
2025-04-15T08:15:58.2275970Z [command]/usr/bin/git version
2025-04-15T08:15:58.2328534Z git version 2.46.0
2025-04-15T08:15:58.2346034Z ##[endgroup]
2025-04-15T08:15:58.2354376Z Temporarily overriding HOME='/home/runner/_work/_temp/e607ca12-85fa-44a2-8dd5-052306e7d709' before making global git config changes
2025-04-15T08:15:58.2354920Z Adding repository directory to the temporary git global config as a safe directory
2025-04-15T08:15:58.2356248Z [command]/usr/bin/git config --global --add safe.directory /home/runner/_work/n8n/n8n
2025-04-15T08:15:58.2383382Z Deleting the contents of '/home/runner/_work/n8n/n8n'
2025-04-15T08:15:58.2385594Z ##[group]Initializing the repository
2025-04-15T08:15:58.2387270Z [command]/usr/bin/git init /home/runner/_work/n8n/n8n
2025-04-15T08:15:58.2435517Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-04-15T08:15:58.2436117Z hint: is subject to change. To configure the initial branch name to use in all
2025-04-15T08:15:58.2436473Z hint: of your new repositories, which will suppress this warning, call:
2025-04-15T08:15:58.2436804Z hint:
2025-04-15T08:15:58.2437064Z hint: 	git config --global init.defaultBranch <name>
2025-04-15T08:15:58.2437329Z hint:
2025-04-15T08:15:58.2437615Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-04-15T08:15:58.2438013Z hint: 'development'. The just-created branch can be renamed via this command:
2025-04-15T08:15:58.2438299Z hint:
2025-04-15T08:15:58.2438549Z hint: 	git branch -m <name>
2025-04-15T08:15:58.2447181Z Initialized empty Git repository in /home/runner/_work/n8n/n8n/.git/
2025-04-15T08:15:58.2452102Z [command]/usr/bin/git remote add origin https://github.com/n8n-io/n8n
2025-04-15T08:15:58.2480572Z ##[endgroup]
2025-04-15T08:15:58.2481191Z ##[group]Disabling automatic garbage collection
2025-04-15T08:15:58.2481872Z [command]/usr/bin/git config --local gc.auto 0
2025-04-15T08:15:58.2502102Z ##[endgroup]
2025-04-15T08:15:58.2503187Z ##[group]Setting up auth
2025-04-15T08:15:58.2505287Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-15T08:15:58.2522843Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-15T08:15:58.2793240Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-15T08:15:58.2812651Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-15T08:15:58.2977533Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-04-15T08:15:58.3042219Z ##[endgroup]
2025-04-15T08:15:58.3042841Z ##[group]Fetching the repository
2025-04-15T08:15:58.3047938Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +a12c9522d5992a7fc2719644a9cfa4af5cdc3712:refs/remotes/origin/master
2025-04-15T08:15:59.8237463Z From https://github.com/n8n-io/n8n
2025-04-15T08:15:59.8238231Z  * [new ref]         a12c9522d5992a7fc2719644a9cfa4af5cdc3712 -> origin/master
2025-04-15T08:15:59.8257749Z ##[endgroup]
2025-04-15T08:15:59.8260880Z ##[group]Determining the checkout info
2025-04-15T08:15:59.8261491Z ##[endgroup]
2025-04-15T08:15:59.8262149Z ##[group]Checking out the ref
2025-04-15T08:15:59.8262724Z [command]/usr/bin/git checkout --progress --force -B master refs/remotes/origin/master
2025-04-15T08:16:00.3330267Z Reset branch 'master'
2025-04-15T08:16:00.3330981Z branch 'master' set up to track 'origin/master'.
2025-04-15T08:16:00.3344975Z ##[endgroup]
2025-04-15T08:16:00.3375404Z [command]/usr/bin/git log -1 --format='%H'
2025-04-15T08:16:00.3391215Z 'a12c9522d5992a7fc2719644a9cfa4af5cdc3712'
2025-04-15T08:16:00.3510874Z ##[group]Run useblacksmith/setup-node@v5
2025-04-15T08:16:00.3511209Z with:
2025-04-15T08:16:00.3511406Z   node-version: 20.x
2025-04-15T08:16:00.3511666Z   always-auth: false
2025-04-15T08:16:00.3511884Z   check-latest: false
2025-04-15T08:16:00.3512152Z   token: ***
2025-04-15T08:16:00.3512453Z env:
2025-04-15T08:16:00.3512651Z   TURBO_FORCE: true
2025-04-15T08:16:00.3512863Z   COVERAGE_ENABLED: true
2025-04-15T08:16:00.3513134Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:00.3513349Z ##[endgroup]
2025-04-15T08:16:00.4727844Z Found in cache @ /opt/hostedtoolcache/node/20.16.0/x64
2025-04-15T08:16:00.4732770Z ##[group]Environment details
2025-04-15T08:16:00.7202564Z node: v20.16.0
2025-04-15T08:16:00.7202966Z npm: 10.8.1
2025-04-15T08:16:00.7203190Z yarn: 1.22.22
2025-04-15T08:16:00.7203935Z ##[endgroup]
2025-04-15T08:16:00.7292907Z ##[group]Run npm i -g corepack@0.31
2025-04-15T08:16:00.7293256Z [36;1mnpm i -g corepack@0.31[0m
2025-04-15T08:16:00.7293570Z [36;1mcorepack enable[0m
2025-04-15T08:16:00.7338723Z shell: /usr/bin/bash -e {0}
2025-04-15T08:16:00.7338993Z env:
2025-04-15T08:16:00.7339211Z   TURBO_FORCE: true
2025-04-15T08:16:00.7339444Z   COVERAGE_ENABLED: true
2025-04-15T08:16:00.7339714Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:00.7339954Z ##[endgroup]
2025-04-15T08:16:01.1414135Z 
2025-04-15T08:16:01.1418578Z changed 1 package in 365ms
2025-04-15T08:16:01.1910629Z ##[group]Run pnpm install --frozen-lockfile
2025-04-15T08:16:01.1911027Z [36;1mpnpm install --frozen-lockfile[0m
2025-04-15T08:16:01.1952178Z shell: /usr/bin/bash -e {0}
2025-04-15T08:16:01.1952475Z env:
2025-04-15T08:16:01.1952768Z   TURBO_FORCE: true
2025-04-15T08:16:01.2042159Z   COVERAGE_ENABLED: true
2025-04-15T08:16:01.2042408Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:01.2043036Z ##[endgroup]
2025-04-15T08:16:01.3469512Z ! Corepack is about to download https://registry.npmjs.org/pnpm/-/pnpm-10.2.1.tgz
2025-04-15T08:16:01.9718416Z Scope: all 29 workspace projects
2025-04-15T08:16:14.5602133Z .../sqlite3@5.1.7/node_modules/sqlite3 install$ prebuild-install -r napi || node-gyp rebuild
2025-04-15T08:16:15.1514791Z .../sqlite3@5.1.7/node_modules/sqlite3 install: Done
2025-04-15T08:16:15.6602759Z 
2025-04-15T08:16:15.6603638Z devDependencies:
2025-04-15T08:16:15.6603934Z + @biomejs/biome 1.9.0
2025-04-15T08:16:15.6604381Z + @n8n/eslint-config 0.0.1 <- packages/@n8n/eslint-config
2025-04-15T08:16:15.6604683Z + @types/jest 29.5.3
2025-04-15T08:16:15.6604878Z + @types/node 18.16.16
2025-04-15T08:16:15.6605077Z + @types/supertest 6.0.2
2025-04-15T08:16:15.6605273Z + cross-env 7.0.3
2025-04-15T08:16:15.6605443Z + jest 29.6.2
2025-04-15T08:16:15.6605672Z + jest-environment-jsdom 29.6.2
2025-04-15T08:16:15.6605906Z + jest-expect-message 1.1.3
2025-04-15T08:16:15.6606116Z + jest-junit 16.0.0
2025-04-15T08:16:15.6606354Z + jest-mock 29.6.2
2025-04-15T08:16:15.6606598Z + jest-mock-extended 3.0.4
2025-04-15T08:16:15.6606815Z + lefthook 1.7.15
2025-04-15T08:16:15.6606983Z + nock 14.0.1
2025-04-15T08:16:15.6607290Z + nodemon 3.0.1
2025-04-15T08:16:15.6607470Z + npm-run-all2 7.0.2
2025-04-15T08:16:15.6607652Z + p-limit 3.1.0
2025-04-15T08:16:15.6608015Z + rimraf 5.0.1
2025-04-15T08:16:15.6608973Z + run-script-os 1.1.6
2025-04-15T08:16:15.6609178Z + supertest 7.0.0
2025-04-15T08:16:15.6609396Z + ts-jest 29.1.1
2025-04-15T08:16:15.6609572Z + tsc-alias 1.8.10
2025-04-15T08:16:15.6609761Z + tsc-watch 6.2.0
2025-04-15T08:16:15.6609939Z + turbo 2.3.3
2025-04-15T08:16:15.6610114Z + typescript 5.8.2
2025-04-15T08:16:15.6610357Z + zx 8.1.4
2025-04-15T08:16:15.6610423Z 
2025-04-15T08:16:15.6611453Z Ignored build scripts: @biomejs/biome, @fortawesome/fontawesome-common-types, @fortawesome/fontawesome-svg-core, @fortawesome/free-regular-svg-icons, @fortawesome/free-solid-svg-icons, core-js, cpu-features, cypress, esbuild, eslint-plugin-n8n-nodes-base, lefthook, msgpackr-extract, protobufjs, sharp, ssh2, tree-sitter, tree-sitter-bash, vue-demi. Run "pnpm approve-builds" to pick which dependencies should be allowed to run scripts.
2025-04-15T08:16:15.6612549Z 
2025-04-15T08:16:15.8939294Z . preinstall$ node scripts/block-npm-install.js
2025-04-15T08:16:15.9292418Z . preinstall: Done
2025-04-15T08:16:15.9293987Z . prepare$ node scripts/prepare.mjs
2025-04-15T08:16:15.9646784Z . prepare: Done
2025-04-15T08:16:16.0366982Z Done in 14.3s
2025-04-15T08:16:16.1461609Z ##[group]Run useblacksmith/caching-for-turbo@v1
2025-04-15T08:16:16.1461785Z with:
2025-04-15T08:16:16.1461909Z   cache-prefix: turbogha_
2025-04-15T08:16:16.1462040Z env:
2025-04-15T08:16:16.1462154Z   TURBO_FORCE: true
2025-04-15T08:16:16.1462287Z   COVERAGE_ENABLED: true
2025-04-15T08:16:16.1462417Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:16.1462556Z ##[endgroup]
2025-04-15T08:16:16.3343317Z Cache version: turbogha_v2
2025-04-15T08:16:16.3343762Z Cache prefix: turbogha_
2025-04-15T08:16:16.3344047Z Launched child process: 2599
2025-04-15T08:16:16.3344381Z Server log file: /home/runner/_work/_temp/turbogha.log
2025-04-15T08:16:16.6079763Z Server is now up and running.
2025-04-15T08:16:16.6080014Z The following environment variables are exported:
2025-04-15T08:16:16.6082923Z   TURBOGHA_PORT=41230
2025-04-15T08:16:16.6083216Z   TURBO_API=http://localhost:41230
2025-04-15T08:16:16.6083463Z   TURBO_TOKEN=turbogha
2025-04-15T08:16:16.6084256Z   TURBO_TEAM=turbogha
2025-04-15T08:16:16.6227037Z ##[group]Run useblacksmith/cache/restore@v5
2025-04-15T08:16:16.6227208Z with:
2025-04-15T08:16:16.6227335Z   path: ./packages/**/dist
2025-04-15T08:16:16.6227509Z   key: a12c9522d5992a7fc2719644a9cfa4af5cdc3712-base:build
2025-04-15T08:16:16.6227699Z   fail-on-cache-miss: true
2025-04-15T08:16:16.6227841Z   enableCrossOsArchive: false
2025-04-15T08:16:16.6227985Z   lookup-only: false
2025-04-15T08:16:16.6228177Z env:
2025-04-15T08:16:16.6228291Z   TURBO_FORCE: true
2025-04-15T08:16:16.6228418Z   COVERAGE_ENABLED: true
2025-04-15T08:16:16.6228561Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:16.6228714Z   TURBOGHA_PORT: 41230
2025-04-15T08:16:16.6228859Z   TURBO_API: http://localhost:41230
2025-04-15T08:16:16.6229058Z   TURBO_TOKEN: turbogha
2025-04-15T08:16:16.6229185Z   TURBO_TEAM: turbogha
2025-04-15T08:16:16.6229314Z ##[endgroup]
2025-04-15T08:16:16.7090539Z Checking cache for keys a12c9522d5992a7fc2719644a9cfa4af5cdc3712-base:build and version 8ff21097fb625f6ce3d80c86e84f67a27f98e54bf7f192e455a1b3f2578f3ce3
2025-04-15T08:16:16.9515357Z Received 46783659 of 46783659 (100.0%), 450.7 MBs/sec
2025-04-15T08:16:16.9522792Z Cache Size: ~45 MB (46783659 B)
2025-04-15T08:16:16.9540259Z [command]/usr/bin/tar -xf /home/runner/_work/_temp/cb509684-10f3-4c1a-a3bf-9a25d21de761/cache.tzst -P -C /home/runner/_work/n8n/n8n --use-compress-program unzstd
2025-04-15T08:16:19.4593775Z Cache extraction completed in 2.51 seconds
2025-04-15T08:16:19.4594063Z Cache restored successfully
2025-04-15T08:16:19.4829786Z Cache restored from key: a12c9522d5992a7fc2719644a9cfa4af5cdc3712-base:build
2025-04-15T08:16:19.4975088Z ##[group]Run pnpm test:backend
2025-04-15T08:16:19.4975515Z [36;1mpnpm test:backend[0m
2025-04-15T08:16:19.5031828Z shell: /usr/bin/bash -e {0}
2025-04-15T08:16:19.5031978Z env:
2025-04-15T08:16:19.5032099Z   TURBO_FORCE: true
2025-04-15T08:16:19.5032231Z   COVERAGE_ENABLED: true
2025-04-15T08:16:19.5032505Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:16:19.5032835Z   TURBOGHA_PORT: 41230
2025-04-15T08:16:19.5033018Z   TURBO_API: http://localhost:41230
2025-04-15T08:16:19.5033179Z   TURBO_TOKEN: turbogha
2025-04-15T08:16:19.5033311Z   TURBO_TEAM: turbogha
2025-04-15T08:16:19.5033443Z ##[endgroup]
2025-04-15T08:16:19.8413676Z 
2025-04-15T08:16:19.8414267Z > n8n-monorepo@1.89.0 test:backend /home/runner/_work/n8n/n8n
2025-04-15T08:16:19.8414566Z > turbo run test:backend --concurrency=1
2025-04-15T08:16:19.8414681Z 
2025-04-15T08:16:19.8943782Z 
2025-04-15T08:16:19.8944426Z Attention:
2025-04-15T08:16:19.8944776Z Turborepo now collects completely anonymous telemetry regarding usage.
2025-04-15T08:16:19.8945140Z This information is used to shape the Turborepo roadmap and prioritize features.
2025-04-15T08:16:19.8946182Z You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-04-15T08:16:19.8946541Z https://turbo.build/repo/docs/telemetry
2025-04-15T08:16:19.8946659Z 
2025-04-15T08:16:20.0668864Z • Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
2025-04-15T08:16:20.0670434Z • Running test:backend in 28 packages
2025-04-15T08:16:20.0670629Z • Remote caching enabled
2025-04-15T08:16:25.3395582Z ##[group]@n8n/task-runner:test
2025-04-15T08:16:25.3396022Z cache bypass, force executing a298d5de6ac02d43
2025-04-15T08:16:25.3396149Z 
2025-04-15T08:16:25.3396466Z > @n8n/task-runner@1.26.0 test /home/runner/_work/n8n/n8n/packages/@n8n/task-runner
2025-04-15T08:16:25.3396776Z > jest
2025-04-15T08:16:25.3396848Z 
2025-04-15T08:16:25.3397114Z PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser-state.test.ts
2025-04-15T08:16:25.3397380Z   BuiltInsParserState
2025-04-15T08:16:25.3397541Z     toDataRequestParams
2025-04-15T08:16:25.3398070Z       ✓ should return empty array when no properties are marked as needed (5 ms)
2025-04-15T08:16:25.3398453Z       ✓ should return all nodes and input when markNeedsAllNodes is called (1 ms)
2025-04-15T08:16:25.3398801Z       ✓ should return specific node names when nodes are marked as needed individually
2025-04-15T08:16:25.3399144Z       ✓ should ignore individual nodes when needsAllNodes is marked as true
2025-04-15T08:16:25.3399463Z       ✓ should mark env as needed when markEnvAsNeeded is called (1 ms)
2025-04-15T08:16:25.3399773Z       ✓ should mark input as needed when markInputAsNeeded is called
2025-04-15T08:16:25.3400017Z       ✓ should use the given chunk
2025-04-15T08:16:25.3400278Z       ✓ should mark prevNode as needed when markPrevNodeAsNeeded is called
2025-04-15T08:16:25.3400644Z       ✓ should return correct specification when multiple properties are marked as needed
2025-04-15T08:16:25.3401301Z       ✓ should return correct specification when all properties are marked as needed (1 ms)
2025-04-15T08:16:25.3401506Z 
2025-04-15T08:16:25.3401634Z PASS src/__tests__/task-runner-sentry.test.ts
2025-04-15T08:16:25.3401939Z   TaskRunnerSentry
2025-04-15T08:16:25.3402137Z     filterOutUserCodeErrors
2025-04-15T08:16:25.3402434Z       ✓ should filter out user code errors (4 ms)
2025-04-15T08:16:25.3402656Z     initIfEnabled
2025-04-15T08:16:25.3403079Z       ✓ should not configure sentry if dsn is not set (1 ms)
2025-04-15T08:16:25.3404196Z       ✓ should configure sentry if dsn is set (1 ms)
2025-04-15T08:16:25.3404482Z     shutdown
2025-04-15T08:16:25.3404757Z       ✓ should not shutdown sentry if dsn is not set (1 ms)
2025-04-15T08:16:25.3405069Z       ✓ should shutdown sentry if dsn is set
2025-04-15T08:16:25.3405215Z 
2025-04-15T08:16:25.3405468Z PASS src/js-task-runner/built-ins-parser/__tests__/built-ins-parser.test.ts
2025-04-15T08:16:25.3405782Z   BuiltInsParser
2025-04-15T08:16:25.3405984Z     Env, input, execution and prevNode
2025-04-15T08:16:25.3406276Z       ✓ should identify built-ins in '$env' (11 ms)
2025-04-15T08:16:25.3406605Z       ✓ should identify built-ins in '$execution' (1 ms)
2025-04-15T08:16:25.3406928Z       ✓ should identify built-ins in '$prevNode' (1 ms)
2025-04-15T08:16:25.3407167Z     Input
2025-04-15T08:16:25.3407611Z       ✓ should mark input as needed when $input is used (4 ms)
2025-04-15T08:16:25.3410058Z       ✓ should mark input as needed when $json is used
2025-04-15T08:16:25.3410528Z       ✓ should mark input as needed when items is used (1 ms)
2025-04-15T08:16:25.3411154Z       ✓ should mark input as needed when item is used
2025-04-15T08:16:25.3411326Z     $(...)
2025-04-15T08:16:25.3411536Z       ✓ should identify nodes in '$("nodeName").first()' (1 ms)
2025-04-15T08:16:25.3411867Z       ✓ should identify nodes in '$("nodeName").all(); $("secondNode").matchingItem()' (1 ms)
2025-04-15T08:16:25.3412181Z       ✓ should need all nodes when $() is called with a variable
2025-04-15T08:16:25.3412628Z       ✓ should require all nodes when there are multiple usages of $() and one is with a variable (1 ms)
2025-04-15T08:16:25.3413083Z       ✓ should ignore when $ is called without parameters
2025-04-15T08:16:25.3413453Z       ✓ should ignore when $ is called number literal
2025-04-15T08:16:25.3413696Z       ✓ should require all nodes if $("node").item is used
2025-04-15T08:16:25.3414000Z       ✓ should require all nodes if $("node")["item"] is used (1 ms)
2025-04-15T08:16:25.3414452Z       ✓ should require all nodes if $("node").pairedItem() is used
2025-04-15T08:16:25.3414929Z       ✓ should require all nodes if $("node")["pairedItem"]() is used (1 ms)
2025-04-15T08:16:25.3415280Z       ✓ should require all nodes if $("node").itemMatching(0) is used
2025-04-15T08:16:25.3415595Z       ✓ should require all nodes if $("node")["itemMatching"](0) is used
2025-04-15T08:16:25.3415887Z       ✓ should require all nodes if $("node")[variable] is used (1 ms)
2025-04-15T08:16:25.3416181Z       ✓ should require all nodes if var a = $("node") is used
2025-04-15T08:16:25.3416433Z       ✓ should require all nodes if let a = $("node") is used
2025-04-15T08:16:25.3416793Z       ✓ should require all nodes if const a = $("node") is used
2025-04-15T08:16:25.3417130Z       ✓ should require all nodes if a = $("node") is used
2025-04-15T08:16:25.3417484Z       ✓ should require only accessed node if $("node").first() is used (2 ms)
2025-04-15T08:16:25.3417788Z       ✓ should require only accessed node if $("node").last() is used
2025-04-15T08:16:25.3418092Z       ✓ should require only accessed node if $("node").all() is used
2025-04-15T08:16:25.3418428Z       ✓ should require only accessed node if $("node").params is used (1 ms)
2025-04-15T08:16:25.3418629Z     $items(...)
2025-04-15T08:16:25.3418857Z       ✓ should mark input as needed when $items() is used without arguments
2025-04-15T08:16:25.3419169Z       ✓ should require the given node when $items() is used with a static value
2025-04-15T08:16:25.3419481Z       ✓ should require all nodes when $items() is used with a variable (1 ms)
2025-04-15T08:16:25.3419679Z     $node
2025-04-15T08:16:25.3419919Z       ✓ should require all nodes when $node is used
2025-04-15T08:16:25.3420109Z     $item
2025-04-15T08:16:25.3420301Z       ✓ should require all nodes and input when $item is used
2025-04-15T08:16:25.3420488Z     ECMAScript syntax
2025-04-15T08:16:25.3420619Z       ES2020
2025-04-15T08:16:25.3420776Z         ✓ should parse optional chaining
2025-04-15T08:16:25.3421417Z         ✓ should parse nullish coalescing
2025-04-15T08:16:25.3421592Z       ES2021
2025-04-15T08:16:25.3421761Z         ✓ should parse numeric separators
2025-04-15T08:16:25.3421951Z     WorkflowDataProxy built-ins
2025-04-15T08:16:25.3422176Z       ✓ should have a known list of built-ins (56 ms)
2025-04-15T08:16:25.3422314Z 
2025-04-15T08:16:25.3422458Z PASS src/js-task-runner/__tests__/task-runner.test.ts
2025-04-15T08:16:25.3422666Z   TestRunner
2025-04-15T08:16:25.3422782Z     constructor
2025-04-15T08:16:25.3423032Z       ✓ should correctly construct WebSocket URI with provided taskBrokerUri (4 ms)
2025-04-15T08:16:25.3423367Z       ✓ should handle different taskBrokerUri formats correctly
2025-04-15T08:16:25.3423638Z       ✓ should throw an error if taskBrokerUri is invalid (8 ms)
2025-04-15T08:16:25.3423818Z     sendOffers
2025-04-15T08:16:25.3424015Z       ✓ should not send offers if canSendOffers is false (2 ms)
2025-04-15T08:16:25.3424311Z       ✓ should enable sending of offer on runnerregistered message (1 ms)
2025-04-15T08:16:25.3424749Z       ✓ should send maxConcurrency offers when there are no offers (1 ms)
2025-04-15T08:16:25.3425066Z       ✓ should send up to maxConcurrency offers when there is a running task (1 ms)
2025-04-15T08:16:25.3425357Z       ✓ should delete stale offers and send new ones (2 ms)
2025-04-15T08:16:25.3425529Z     taskCancelled
2025-04-15T08:16:25.3425761Z       ✓ should not do anything if task status is aborting:cancelled (1 ms)
2025-04-15T08:16:25.3426058Z       ✓ should not do anything if task status is aborting:timeout (1 ms)
2025-04-15T08:16:25.3426395Z       ✓ should delete task if task is waiting for settings when task is cancelled (1 ms)
2025-04-15T08:16:25.3426714Z       ✓ should reject pending requests when task is cancelled (2 ms)
2025-04-15T08:16:25.3426915Z     taskTimedOut
2025-04-15T08:16:25.3427119Z       ✓ should error task if task is waiting for settings (1 ms)
2025-04-15T08:16:25.3427391Z       ✓ should reject pending requests when task is running (10 ms)
2025-04-15T08:16:25.3427534Z 
2025-04-15T08:16:25.3427688Z PASS src/js-task-runner/__tests__/result-validation.test.ts
2025-04-15T08:16:25.3427891Z   result validation
2025-04-15T08:16:25.3428049Z     validateRunForAllItemsOutput
2025-04-15T08:16:25.3428295Z       ✓ should throw an error if the output is not an object (11 ms)
2025-04-15T08:16:25.3428645Z       ✓ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
2025-04-15T08:16:25.3429012Z       ✓ should not throw an error if the output is an array and all items are json wrapped
2025-04-15T08:16:25.3429374Z       ✓ should not throw an error if the output item has binary key in addition to json (1 ms)
2025-04-15T08:16:25.3429728Z       ✓ should not throw an error if the output item has pairedItem key in addition to json
2025-04-15T08:16:25.3430080Z       ✓ should not throw an error if the output item has error key in addition to json (1 ms)
2025-04-15T08:16:25.3430427Z       ✓ should not throw an error if the output item has index key in addition to json
2025-04-15T08:16:25.3430775Z       ✓ should not throw an error if the output is an array and all items are not json wrapped
2025-04-15T08:16:25.3431056Z       ✓ should throw if json is not an object (4 ms)
2025-04-15T08:16:25.3431282Z     validateRunForEachItemOutput
2025-04-15T08:16:25.3431505Z       ✓ should throw an error if the output is not an object
2025-04-15T08:16:25.3431768Z       ✓ should throw an error if the output is an array (1 ms)
2025-04-15T08:16:25.3432001Z       ✓ should throw if json is not an object
2025-04-15T08:16:25.3432319Z       ✓ should throw an error if the output is an array and at least one item has a non-n8n key (1 ms)
2025-04-15T08:16:25.3432673Z       ✓ should not throw an error if the output item has binary key in addition to json
2025-04-15T08:16:25.3433020Z       ✓ should not throw an error if the output item has pairedItem key in addition to json
2025-04-15T08:16:25.3433519Z       ✓ should not throw an error if the output item has error key in addition to json
2025-04-15T08:16:25.3433687Z 
2025-04-15T08:16:25.3433864Z PASS src/data-request/__tests__/data-request-response-reconstruct.test.ts
2025-04-15T08:16:25.3434105Z   DataRequestResponseReconstruct
2025-04-15T08:16:25.3434274Z     reconstructConnectionInputItems
2025-04-15T08:16:25.3434534Z       ✓ should return all input items if no chunk is provided (4 ms)
2025-04-15T08:16:25.3434810Z       ✓ should reconstruct sparse array when chunk is provided
2025-04-15T08:16:25.3435059Z       ✓ should handle empty input data gracefully (1 ms)
2025-04-15T08:16:25.3435240Z     reconstructExecuteData
2025-04-15T08:16:25.3435492Z       ✓ should reconstruct execute data with the provided input items (1 ms)
2025-04-15T08:16:25.3435755Z       ✓ should handle empty input items gracefully
2025-04-15T08:16:25.3435876Z 
2025-04-15T08:16:25.3435970Z PASS src/__tests__/node-types.test.ts
2025-04-15T08:16:25.3436134Z   TaskRunnerNodeTypes
2025-04-15T08:16:25.3436276Z     getByNameAndVersion
2025-04-15T08:16:25.3436559Z       ✓ should return undefined if not found (5 ms)
2025-04-15T08:16:25.3437310Z       ✓ should return highest versioned node type if no version is given (1 ms)
2025-04-15T08:16:25.3438120Z       ✓ should return specified version for split version (1 ms)
2025-04-15T08:16:25.3438491Z       ✓ should return undefined on unknown version
2025-04-15T08:16:25.3438732Z       ✓ should return specified version for multi version (1 ms)
2025-04-15T08:16:25.3439196Z       ✓ should default to DEFAULT_NODETYPE_VERSION if no version specified
2025-04-15T08:16:25.3439545Z     addNodeTypeDescriptions
2025-04-15T08:16:25.3439872Z       ✓ should add new node types (2 ms)
2025-04-15T08:16:25.3440099Z     onlyUnknown
2025-04-15T08:16:25.3440358Z       ✓ should return only unknown node types
2025-04-15T08:16:25.3440462Z 
2025-04-15T08:16:25.3440626Z PASS src/js-task-runner/errors/__tests__/execution-error.test.ts
2025-04-15T08:16:25.3440965Z   ExecutionError
2025-04-15T08:16:25.3441319Z     ✓ should parse error details from stack trace without itemIndex (6 ms)
2025-04-15T08:16:25.3441647Z     ✓ should parse error details from stack trace with itemIndex (1 ms)
2025-04-15T08:16:25.3441903Z     ✓ should serialize correctly (1 ms)
2025-04-15T08:16:25.3442011Z 
2025-04-15T08:16:25.3442271Z PASS src/js-task-runner/__tests__/require-resolver.test.ts
2025-04-15T08:16:25.3442622Z   require resolver
2025-04-15T08:16:25.3442847Z     built-in modules
2025-04-15T08:16:25.3443237Z       ✓ should allow requiring whitelisted built-in modules (4 ms)
2025-04-15T08:16:25.3443769Z       ✓ should throw when requiring non-whitelisted built-in modules (9 ms)
2025-04-15T08:16:25.3444085Z       ✓ should allow all built-in modules when allowedBuiltInModules is "*"
2025-04-15T08:16:25.3444284Z     external modules
2025-04-15T08:16:25.3444503Z       ✓ should allow requiring whitelisted external modules (1 ms)
2025-04-15T08:16:25.3444798Z       ✓ should throw when requiring non-whitelisted external modules (1 ms)
2025-04-15T08:16:25.3445130Z       ✓ should allow all external modules when allowedExternalModules is "*" (70 ms)
2025-04-15T08:16:25.3445360Z     error handling
2025-04-15T08:16:25.3445588Z       ✓ should wrap ApplicationError in ExecutionError (1 ms)
2025-04-15T08:16:25.3445863Z       ✓ should include the module name in the error message (1 ms)
2025-04-15T08:16:25.3446007Z 
2025-04-15T08:16:25.3446206Z (node:2970) [DEP0125] DeprecationWarning: The _stream_wrap module is deprecated.
2025-04-15T08:16:25.3446553Z (Use `node --trace-deprecation ...` to show where the warning was created)
2025-04-15T08:16:25.3446997Z (node:2970) [DEP0025] DeprecationWarning: sys is deprecated. Use util instead.
2025-04-15T08:16:25.3447456Z (node:2970) ExperimentalWarning: WASI is an experimental feature and might change at any time
2025-04-15T08:16:25.3447764Z PASS src/js-task-runner/__tests__/js-task-runner.test.ts
2025-04-15T08:16:25.3448033Z   JsTaskRunner
2025-04-15T08:16:25.3448458Z     console
2025-04-15T08:16:25.3448938Z       ✓ should make an rpc call for console log in runOnceForAllItems mode (29 ms)
2025-04-15T08:16:25.3449340Z       ✓ should make an rpc call for console log in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3449832Z       ✓ should not throw when using unsupported console methods (5 ms)
2025-04-15T08:16:25.3450256Z       ✓ should not throw when trying to log the context object (2 ms)
2025-04-15T08:16:25.3450684Z       ✓ should log the context object as [[ExecutionContext]] (1 ms)
2025-04-15T08:16:25.3451354Z     built-in methods and variables available in the context
2025-04-15T08:16:25.3451705Z       ✓ should allow access to Node.js Buffers (3 ms)
2025-04-15T08:16:25.3451915Z       current node input runOnceForAllItems
2025-04-15T08:16:25.3452275Z         ✓ should have the $input.first() available in the context (2 ms)
2025-04-15T08:16:25.3452692Z         ✓ should have the $input.last() available in the context (2 ms)
2025-04-15T08:16:25.3453060Z         ✓ should have the $input.params available in the context (2 ms)
2025-04-15T08:16:25.3453425Z       current node input runOnceForEachItem
2025-04-15T08:16:25.3453881Z         ✓ should have the $input.first() available in the context (2 ms)
2025-04-15T08:16:25.3454214Z         ✓ should have the $input.last() available in the context (2 ms)
2025-04-15T08:16:25.3454718Z         ✓ should have the $input.params available in the context (1 ms)
2025-04-15T08:16:25.3455066Z       output of other nodes runOnceForAllItems
2025-04-15T08:16:25.3455556Z         ✓ should have the $("Trigger").first() available in the context (2 ms)
2025-04-15T08:16:25.3455881Z         ✓ should have the $("Trigger").last() available in the context (8 ms)
2025-04-15T08:16:25.3456411Z         ✓ should have the $("Trigger").params available in the context (2 ms)
2025-04-15T08:16:25.3456995Z       output of other nodes runOnceForEachItem
2025-04-15T08:16:25.3457576Z         ✓ should have the $("Trigger").first() available in the context (1 ms)
2025-04-15T08:16:25.3458093Z         ✓ should have the $("Trigger").last() available in the context (2 ms)
2025-04-15T08:16:25.3458464Z         ✓ should have the $("Trigger").params available in the context (1 ms)
2025-04-15T08:16:25.3458688Z       date and time runOnceForAllItems
2025-04-15T08:16:25.3458933Z         ✓ should have the $now available in the context (2 ms)
2025-04-15T08:16:25.3459190Z         ✓ should have the $today available in the context (1 ms)
2025-04-15T08:16:25.3459470Z         ✓ should have the {dt: DateTime} available in the context (1 ms)
2025-04-15T08:16:25.3459687Z       date and time runOnceForEachItem
2025-04-15T08:16:25.3459907Z         ✓ should have the $now available in the context
2025-04-15T08:16:25.3460155Z         ✓ should have the $today available in the context (1 ms)
2025-04-15T08:16:25.3460454Z         ✓ should have the {dt: DateTime} available in the context (1 ms)
2025-04-15T08:16:25.3460660Z       JMESPath runOnceForAllItems
2025-04-15T08:16:25.3460958Z         ✓ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (2 ms)
2025-04-15T08:16:25.3461405Z       JMESPath runOnceForEachItem
2025-04-15T08:16:25.3461855Z         ✓ should have the { val: $jmespath([{ f: 1 },{ f: 2 }], "[*].f") } available in the context (9 ms)
2025-04-15T08:16:25.3462105Z       n8n metadata runOnceForAllItems
2025-04-15T08:16:25.3462349Z         ✓ should have the $execution available in the context (3 ms)
2025-04-15T08:16:25.3462645Z         ✓ should have the $("Trigger").isExecuted available in the context (4 ms)
2025-04-15T08:16:25.3462932Z         ✓ should have the $nodeVersion available in the context (2 ms)
2025-04-15T08:16:25.3463216Z         ✓ should have the $prevNode.name available in the context (1 ms)
2025-04-15T08:16:25.3463524Z         ✓ should have the $prevNode.outputIndex available in the context (3 ms)
2025-04-15T08:16:25.3463842Z         ✓ should have the $runIndex available in the context (3 ms)
2025-04-15T08:16:25.3464148Z         ✓ should have the { wf: $workflow } available in the context (2 ms)
2025-04-15T08:16:25.3464592Z         ✓ should have the $vars available in the context (1 ms)
2025-04-15T08:16:25.3464927Z         ✓ should have the $getWorkflowStaticData("global") available in the context (2 ms)
2025-04-15T08:16:25.3465181Z       n8n metadata runOnceForEachItem
2025-04-15T08:16:25.3465414Z         ✓ should have the $execution available in the context (1 ms)
2025-04-15T08:16:25.3465701Z         ✓ should have the $("Trigger").isExecuted available in the context (1 ms)
2025-04-15T08:16:25.3465994Z         ✓ should have the $nodeVersion available in the context (1 ms)
2025-04-15T08:16:25.3466269Z         ✓ should have the $prevNode.name available in the context (2 ms)
2025-04-15T08:16:25.3466562Z         ✓ should have the $prevNode.outputIndex available in the context (1 ms)
2025-04-15T08:16:25.3466851Z         ✓ should have the $runIndex available in the context (2 ms)
2025-04-15T08:16:25.3467131Z         ✓ should have the { wf: $workflow } available in the context (2 ms)
2025-04-15T08:16:25.3467404Z         ✓ should have the $vars available in the context (1 ms)
2025-04-15T08:16:25.3467838Z         ✓ should have the $getWorkflowStaticData("global") available in the context (1 ms)
2025-04-15T08:16:25.3468104Z       Node.js internal functions runOnceForAllItems
2025-04-15T08:16:25.3468390Z         ✓ should have the typeof Function available in the context (7 ms)
2025-04-15T08:16:25.3468693Z         ✓ should have the typeof eval available in the context (3 ms)
2025-04-15T08:16:25.3468995Z         ✓ should have the typeof setTimeout available in the context (2 ms)
2025-04-15T08:16:25.3469316Z         ✓ should have the typeof setInterval available in the context (2 ms)
2025-04-15T08:16:25.3469625Z         ✓ should have the typeof setImmediate available in the context (4 ms)
2025-04-15T08:16:25.3469929Z         ✓ should have the typeof clearTimeout available in the context (3 ms)
2025-04-15T08:16:25.3470229Z         ✓ should have the typeof clearInterval available in the context (2 ms)
2025-04-15T08:16:25.3470956Z         ✓ should have the typeof clearImmediate available in the context (1 ms)
2025-04-15T08:16:25.3471529Z       Node.js internal functions runOnceForEachItem
2025-04-15T08:16:25.3471863Z         ✓ should have the typeof Function available in the context (1 ms)
2025-04-15T08:16:25.3472164Z         ✓ should have the typeof eval available in the context (1 ms)
2025-04-15T08:16:25.3472459Z         ✓ should have the typeof setTimeout available in the context (1 ms)
2025-04-15T08:16:25.3472833Z         ✓ should have the typeof setInterval available in the context (1 ms)
2025-04-15T08:16:25.3473148Z         ✓ should have the typeof setImmediate available in the context (4 ms)
2025-04-15T08:16:25.3473447Z         ✓ should have the typeof clearTimeout available in the context (1 ms)
2025-04-15T08:16:25.3473744Z         ✓ should have the typeof clearInterval available in the context (1 ms)
2025-04-15T08:16:25.3474157Z         ✓ should have the typeof clearImmediate available in the context (6 ms)
2025-04-15T08:16:25.3474538Z       eval runOnceForAllItems
2025-04-15T08:16:25.3474923Z         ✓ should have the eval("1+2") available in the context (1 ms)
2025-04-15T08:16:25.3475191Z       eval runOnceForEachItem
2025-04-15T08:16:25.3475443Z         ✓ should have the eval("1+2") available in the context (2 ms)
2025-04-15T08:16:25.3475798Z       JS built-ins runOnceForAllItems
2025-04-15T08:16:25.3476222Z         ✓ should have the typeof btoa available in the context (2 ms)
2025-04-15T08:16:25.3476742Z         ✓ should have the typeof atob available in the context (1 ms)
2025-04-15T08:16:25.3477227Z         ✓ should have the typeof TextDecoder available in the context (1 ms)
2025-04-15T08:16:25.3477543Z         ✓ should have the typeof TextDecoderStream available in the context (2 ms)
2025-04-15T08:16:25.3477846Z         ✓ should have the typeof TextEncoder available in the context (1 ms)
2025-04-15T08:16:25.3478148Z         ✓ should have the typeof TextEncoderStream available in the context (1 ms)
2025-04-15T08:16:25.3478666Z         ✓ should have the typeof FormData available in the context (1 ms)
2025-04-15T08:16:25.3478893Z       JS built-ins runOnceForEachItem
2025-04-15T08:16:25.3479131Z         ✓ should have the typeof btoa available in the context (1 ms)
2025-04-15T08:16:25.3479406Z         ✓ should have the typeof atob available in the context (2 ms)
2025-04-15T08:16:25.3479691Z         ✓ should have the typeof TextDecoder available in the context (2 ms)
2025-04-15T08:16:25.3479994Z         ✓ should have the typeof TextDecoderStream available in the context (1 ms)
2025-04-15T08:16:25.3480302Z         ✓ should have the typeof TextEncoder available in the context (1 ms)
2025-04-15T08:16:25.3480627Z         ✓ should have the typeof TextEncoderStream available in the context (1 ms)
2025-04-15T08:16:25.3480957Z         ✓ should have the typeof FormData available in the context (1 ms)
2025-04-15T08:16:25.3481228Z       $env
2025-04-15T08:16:25.3481501Z         ✓ should have the env available in context when access has not been blocked (3 ms)
2025-04-15T08:16:25.3481830Z         ✓ should be possible to access env if it has been blocked (26 ms)
2025-04-15T08:16:25.3482201Z         ✓ should not be possible to iterate $env (3 ms)
2025-04-15T08:16:25.3482519Z         ✓ should not expose task runner's env variables even if no env state is received (4 ms)
2025-04-15T08:16:25.3482752Z       timezone
2025-04-15T08:16:25.3482962Z         ✓ should use the specified timezone in the workflow (2 ms)
2025-04-15T08:16:25.3483201Z         ✓ should use the default timezone (4 ms)
2025-04-15T08:16:25.3483389Z       $getWorkflowStaticData('global')
2025-04-15T08:16:25.3483684Z         ✓ should have the global workflow static data available in runOnceForAllItems (3 ms)
2025-04-15T08:16:25.3484045Z         ✓ should have the global workflow static data available in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3484399Z         ✓ does not return static data if it hasn't been modified in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3484933Z         ✓ does not return static data if it hasn't been modified in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3485489Z         ✓ returns the updated static data in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3485830Z         ✓ returns the updated static data in runOnceForEachItem (5 ms)
2025-04-15T08:16:25.3486110Z       $getWorkflowStaticData('node')
2025-04-15T08:16:25.3486590Z         ✓ should have the node workflow static data available in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3487143Z         ✓ should have the node workflow static data available in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3487496Z         ✓ does not return static data if it hasn't been modified in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3488398Z         ✓ does not return static data if it hasn't been modified in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3488852Z         ✓ returns the updated static data in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3489355Z         ✓ returns the updated static data in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3489709Z       helpers
2025-04-15T08:16:25.3490092Z         ✓ helpers.assertBinaryData for runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3490633Z         ✓ helpers.assertBinaryData for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3490926Z         ✓ helpers.getBinaryDataBuffer for runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3491374Z         ✓ helpers.getBinaryDataBuffer for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3491901Z         ✓ helpers.prepareBinaryData for runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3492312Z         ✓ helpers.prepareBinaryData for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3492656Z         ✓ helpers.setBinaryDataBuffer for runOnceForAllItems (3 ms)
2025-04-15T08:16:25.3493142Z         ✓ helpers.setBinaryDataBuffer for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3493428Z         ✓ helpers.binaryToString for runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3493711Z         ✓ helpers.binaryToString for runOnceForEachItem (3 ms)
2025-04-15T08:16:25.3494203Z         ✓ helpers.httpRequest for runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3494487Z         ✓ helpers.httpRequest for runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3494679Z         unsupported methods
2025-04-15T08:16:25.3495022Z           ✓ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3495694Z           ✓ should throw an error if helpers.httpRequestWithAuthentication is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3496294Z           ✓ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3496871Z           ✓ should throw an error if helpers.requestWithAuthenticationPaginated is used in runOnceForEachItem (18 ms)
2025-04-15T08:16:25.3497371Z           ✓ should throw an error if helpers.copyBinaryFile is used in runOnceForAllItems (4 ms)
2025-04-15T08:16:25.3497795Z           ✓ should throw an error if helpers.copyBinaryFile is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3498353Z           ✓ should throw an error if helpers.createReadStream is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3498861Z           ✓ should throw an error if helpers.createReadStream is used in runOnceForEachItem (3 ms)
2025-04-15T08:16:25.3499236Z           ✓ should throw an error if helpers.getBinaryStream is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3499615Z           ✓ should throw an error if helpers.getBinaryStream is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3499997Z           ✓ should throw an error if helpers.binaryToBuffer is used in runOnceForAllItems (6 ms)
2025-04-15T08:16:25.3500365Z           ✓ should throw an error if helpers.binaryToBuffer is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3500750Z           ✓ should throw an error if helpers.getBinaryMetadata is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3501321Z           ✓ should throw an error if helpers.getBinaryMetadata is used in runOnceForEachItem (5 ms)
2025-04-15T08:16:25.3501714Z           ✓ should throw an error if helpers.getStoragePath is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3502091Z           ✓ should throw an error if helpers.getStoragePath is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3502464Z           ✓ should throw an error if helpers.getBinaryPath is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3502830Z           ✓ should throw an error if helpers.getBinaryPath is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3503278Z           ✓ should throw an error if helpers.writeContentToFile is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3503672Z           ✓ should throw an error if helpers.writeContentToFile is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3504050Z           ✓ should throw an error if helpers.copyInputItems is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3504417Z           ✓ should throw an error if helpers.copyInputItems is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3504795Z           ✓ should throw an error if helpers.returnJsonArray is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3505175Z           ✓ should throw an error if helpers.returnJsonArray is used in runOnceForEachItem (1 ms)
2025-04-15T08:16:25.3505592Z           ✓ should throw an error if helpers.normalizeItems is used in runOnceForAllItems (6 ms)
2025-04-15T08:16:25.3505963Z           ✓ should throw an error if helpers.normalizeItems is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3506342Z           ✓ should throw an error if helpers.getSSHClient is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3506726Z           ✓ should throw an error if helpers.getSSHClient is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3507131Z           ✓ should throw an error if helpers.createDeferredPromise is used in runOnceForAllItems (2 ms)
2025-04-15T08:16:25.3507547Z           ✓ should throw an error if helpers.createDeferredPromise is used in runOnceForEachItem (3 ms)
2025-04-15T08:16:25.3508127Z           ✓ should throw an error if helpers.constructExecutionMetaData is used in runOnceForAllItems (1 ms)
2025-04-15T08:16:25.3508564Z           ✓ should throw an error if helpers.constructExecutionMetaData is used in runOnceForEachItem (2 ms)
2025-04-15T08:16:25.3508819Z     runOnceForAllItems
2025-04-15T08:16:25.3509002Z       ✓ should return static items (1 ms)
2025-04-15T08:16:25.3509215Z       ✓ maps null into an empty array (1 ms)
2025-04-15T08:16:25.3509441Z       ✓ should wrap items into json if they aren't (1 ms)
2025-04-15T08:16:25.3509687Z       ✓ should wrap single item into an array and json (1 ms)
2025-04-15T08:16:25.3509952Z       ✓ should have all input items in the context as items (6 ms)
2025-04-15T08:16:25.3510229Z       ✓ should have all input items in the context as $input.all() (2 ms)
2025-04-15T08:16:25.3510538Z       ✓ should have all input items in the context as $('Trigger').all() (1 ms)
2025-04-15T08:16:25.3511028Z       ✓ should have all input items in the context as $items() (2 ms)
2025-04-15T08:16:25.3511483Z       continue on fail
2025-04-15T08:16:25.3511788Z         ✓ should return an item with the error if continueOnFail is true (5 ms)
2025-04-15T08:16:25.3512246Z         ✓ should throw an error if continueOnFail is false (2 ms)
2025-04-15T08:16:25.3512566Z       invalid output
2025-04-15T08:16:25.3512810Z         ✓ should throw a ValidationError if the code output is undefined (3 ms)
2025-04-15T08:16:25.3513105Z         ✓ should throw a ValidationError if the code output is 42 (2 ms)
2025-04-15T08:16:25.3513407Z         ✓ should throw a ValidationError if the code output is "a string" (1 ms)
2025-04-15T08:16:25.3513763Z         ✓ should throw a ValidationError if some items are wrapped in json and some are not (1 ms)
2025-04-15T08:16:25.3514187Z     runForEachItem
2025-04-15T08:16:25.3514363Z       ✓ should return static items (2 ms)
2025-04-15T08:16:25.3514636Z       ✓ should filter out null values (3 ms)
2025-04-15T08:16:25.3515023Z       ✓ should have the current input item in the context as item (3 ms)
2025-04-15T08:16:25.3515392Z       ✓ should have the current input item in the context as $input.item (2 ms)
2025-04-15T08:16:25.3515847Z       ✓ should have the current input item in the context as { json: $json } (2 ms)
2025-04-15T08:16:25.3516072Z       continue on fail
2025-04-15T08:16:25.3516308Z         ✓ should return an item with the error if continueOnFail is true (3 ms)
2025-04-15T08:16:25.3516682Z         ✓ should throw an error if continueOnFail is false (1 ms)
2025-04-15T08:16:25.3516983Z       invalid output
2025-04-15T08:16:25.3517218Z         ✓ should throw a ValidationError if the code output is undefined (2 ms)
2025-04-15T08:16:25.3517567Z         ✓ should throw a ValidationError if the code output is 42 (1 ms)
2025-04-15T08:16:25.3517947Z         ✓ should throw a ValidationError if the code output is "a string" (1 ms)
2025-04-15T08:16:25.3518249Z         ✓ should throw a ValidationError if the code output is [] (2 ms)
2025-04-15T08:16:25.3518670Z         ✓ should throw a ValidationError if the code output is [1,2,3] (1 ms)
2025-04-15T08:16:25.3518959Z       chunked execution
2025-04-15T08:16:25.3519153Z         ✓ should use correct index for each item (6 ms)
2025-04-15T08:16:25.3519317Z     require
2025-04-15T08:16:25.3519438Z       blocked by default
2025-04-15T08:16:25.3519715Z         ✓ should throw an error when requiring _http_agent in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3520107Z         ✓ should throw an error when requiring _http_client in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3520516Z         ✓ should throw an error when requiring _http_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3520880Z         ✓ should throw an error when requiring _http_incoming in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3521387Z         ✓ should throw an error when requiring _http_outgoing in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3521943Z         ✓ should throw an error when requiring _http_server in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3522319Z         ✓ should throw an error when requiring _stream_duplex in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3522789Z         ✓ should throw an error when requiring _stream_passthrough in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3523177Z         ✓ should throw an error when requiring _stream_readable in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3523550Z         ✓ should throw an error when requiring _stream_transform in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3523909Z         ✓ should throw an error when requiring _stream_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3524269Z         ✓ should throw an error when requiring _stream_writable in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3524692Z         ✓ should throw an error when requiring _tls_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3525116Z         ✓ should throw an error when requiring _tls_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3525710Z         ✓ should throw an error when requiring assert in runOnceForAllItems mode (6 ms)
2025-04-15T08:16:25.3526286Z         ✓ should throw an error when requiring assert/strict in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3526656Z         ✓ should throw an error when requiring async_hooks in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3527067Z         ✓ should throw an error when requiring buffer in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3527530Z         ✓ should throw an error when requiring child_process in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3527919Z         ✓ should throw an error when requiring cluster in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3528672Z         ✓ should throw an error when requiring console in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3529013Z         ✓ should throw an error when requiring constants in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3529366Z         ✓ should throw an error when requiring crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3529718Z         ✓ should throw an error when requiring dgram in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3530092Z         ✓ should throw an error when requiring diagnostics_channel in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3530446Z         ✓ should throw an error when requiring dns in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3530881Z         ✓ should throw an error when requiring dns/promises in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3531310Z         ✓ should throw an error when requiring domain in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3531681Z         ✓ should throw an error when requiring events in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3532005Z         ✓ should throw an error when requiring fs in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3532344Z         ✓ should throw an error when requiring fs/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3532688Z         ✓ should throw an error when requiring http in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3533172Z         ✓ should throw an error when requiring http2 in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3533527Z         ✓ should throw an error when requiring https in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3533866Z         ✓ should throw an error when requiring inspector in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3534241Z         ✓ should throw an error when requiring inspector/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3534605Z         ✓ should throw an error when requiring module in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3535068Z         ✓ should throw an error when requiring net in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3535457Z         ✓ should throw an error when requiring os in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3536024Z         ✓ should throw an error when requiring path in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3536457Z         ✓ should throw an error when requiring path/posix in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3536894Z         ✓ should throw an error when requiring path/win32 in runOnceForAllItems mode (7 ms)
2025-04-15T08:16:25.3537244Z         ✓ should throw an error when requiring perf_hooks in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3537590Z         ✓ should throw an error when requiring process in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3537939Z         ✓ should throw an error when requiring punycode in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3538297Z         ✓ should throw an error when requiring querystring in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3538644Z         ✓ should throw an error when requiring readline in runOnceForAllItems mode (4 ms)
2025-04-15T08:16:25.3539005Z         ✓ should throw an error when requiring readline/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3539434Z         ✓ should throw an error when requiring repl in runOnceForAllItems mode (7 ms)
2025-04-15T08:16:25.3539926Z         ✓ should throw an error when requiring stream in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3540377Z         ✓ should throw an error when requiring stream/consumers in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3540754Z         ✓ should throw an error when requiring stream/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3541234Z         ✓ should throw an error when requiring stream/web in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3541604Z         ✓ should throw an error when requiring string_decoder in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3541945Z         ✓ should throw an error when requiring sys in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3542271Z         ✓ should throw an error when requiring timers in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3542654Z         ✓ should throw an error when requiring timers/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3543023Z         ✓ should throw an error when requiring tls in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3543375Z         ✓ should throw an error when requiring trace_events in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3543727Z         ✓ should throw an error when requiring tty in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3544052Z         ✓ should throw an error when requiring url in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3544376Z         ✓ should throw an error when requiring util in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3544715Z         ✓ should throw an error when requiring util/types in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3545051Z         ✓ should throw an error when requiring v8 in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3545368Z         ✓ should throw an error when requiring vm in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3545695Z         ✓ should throw an error when requiring wasi in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3546046Z         ✓ should throw an error when requiring worker_threads in runOnceForAllItems mode (8 ms)
2025-04-15T08:16:25.3546385Z         ✓ should throw an error when requiring zlib in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3546731Z         ✓ should throw an error when requiring @n8n/config in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3547082Z         ✓ should throw an error when requiring @n8n/di in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3547450Z         ✓ should throw an error when requiring @sentry/node in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3547807Z         ✓ should throw an error when requiring acorn in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3548156Z         ✓ should throw an error when requiring acorn-walk in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3548531Z         ✓ should throw an error when requiring lodash in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3549020Z         ✓ should throw an error when requiring luxon in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3549368Z         ✓ should throw an error when requiring n8n-core in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3549716Z         ✓ should throw an error when requiring n8n-workflow in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3550057Z         ✓ should throw an error when requiring nanoid in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3550392Z         ✓ should throw an error when requiring ws in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3550735Z         ✓ should throw an error when requiring _http_agent in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3551204Z         ✓ should throw an error when requiring _http_client in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3551572Z         ✓ should throw an error when requiring _http_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3551941Z         ✓ should throw an error when requiring _http_incoming in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3552405Z         ✓ should throw an error when requiring _http_outgoing in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3552916Z         ✓ should throw an error when requiring _http_server in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3553288Z         ✓ should throw an error when requiring _stream_duplex in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3553746Z         ✓ should throw an error when requiring _stream_passthrough in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3554133Z         ✓ should throw an error when requiring _stream_readable in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3554586Z         ✓ should throw an error when requiring _stream_transform in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3555083Z         ✓ should throw an error when requiring _stream_wrap in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3555531Z         ✓ should throw an error when requiring _stream_writable in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3555899Z         ✓ should throw an error when requiring _tls_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3556262Z         ✓ should throw an error when requiring _tls_wrap in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3556617Z         ✓ should throw an error when requiring assert in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3556984Z         ✓ should throw an error when requiring assert/strict in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3557344Z         ✓ should throw an error when requiring async_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3557691Z         ✓ should throw an error when requiring buffer in runOnceForEachItem mode (4 ms)
2025-04-15T08:16:25.3558049Z         ✓ should throw an error when requiring child_process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3558396Z         ✓ should throw an error when requiring cluster in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3558757Z         ✓ should throw an error when requiring console in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3559128Z         ✓ should throw an error when requiring constants in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3559491Z         ✓ should throw an error when requiring crypto in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3559841Z         ✓ should throw an error when requiring dgram in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3560234Z         ✓ should throw an error when requiring diagnostics_channel in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3560589Z         ✓ should throw an error when requiring dns in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3560933Z         ✓ should throw an error when requiring dns/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3561324Z         ✓ should throw an error when requiring domain in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3561659Z         ✓ should throw an error when requiring events in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3562106Z         ✓ should throw an error when requiring fs in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3562458Z         ✓ should throw an error when requiring fs/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3562793Z         ✓ should throw an error when requiring http in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3563123Z         ✓ should throw an error when requiring http2 in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3563451Z         ✓ should throw an error when requiring https in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3563789Z         ✓ should throw an error when requiring inspector in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3564170Z         ✓ should throw an error when requiring inspector/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3564527Z         ✓ should throw an error when requiring module in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3564883Z         ✓ should throw an error when requiring net in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3565330Z         ✓ should throw an error when requiring os in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3565657Z         ✓ should throw an error when requiring path in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3566020Z         ✓ should throw an error when requiring path/posix in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3566379Z         ✓ should throw an error when requiring path/win32 in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3566718Z         ✓ should throw an error when requiring perf_hooks in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3567061Z         ✓ should throw an error when requiring process in runOnceForEachItem mode (4 ms)
2025-04-15T08:16:25.3567403Z         ✓ should throw an error when requiring punycode in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3567754Z         ✓ should throw an error when requiring querystring in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3568268Z         ✓ should throw an error when requiring readline in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3568683Z         ✓ should throw an error when requiring readline/promises in runOnceForEachItem mode (4 ms)
2025-04-15T08:16:25.3569035Z         ✓ should throw an error when requiring repl in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3569366Z         ✓ should throw an error when requiring stream in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3569726Z         ✓ should throw an error when requiring stream/consumers in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3570124Z         ✓ should throw an error when requiring stream/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3570509Z         ✓ should throw an error when requiring stream/web in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3570886Z         ✓ should throw an error when requiring string_decoder in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3571292Z         ✓ should throw an error when requiring sys in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3571732Z         ✓ should throw an error when requiring timers in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3572094Z         ✓ should throw an error when requiring timers/promises in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3572435Z         ✓ should throw an error when requiring tls in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3572778Z         ✓ should throw an error when requiring trace_events in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3573116Z         ✓ should throw an error when requiring tty in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3573476Z         ✓ should throw an error when requiring url in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3573806Z         ✓ should throw an error when requiring util in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3574150Z         ✓ should throw an error when requiring util/types in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3574664Z         ✓ should throw an error when requiring v8 in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3574999Z         ✓ should throw an error when requiring vm in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3575438Z         ✓ should throw an error when requiring wasi in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3575787Z         ✓ should throw an error when requiring worker_threads in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3576303Z         ✓ should throw an error when requiring zlib in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3576677Z         ✓ should throw an error when requiring @n8n/config in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3577111Z         ✓ should throw an error when requiring @n8n/di in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3577515Z         ✓ should throw an error when requiring @sentry/node in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3577887Z         ✓ should throw an error when requiring acorn in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3578274Z         ✓ should throw an error when requiring acorn-walk in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3578866Z         ✓ should throw an error when requiring lodash in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3579298Z         ✓ should throw an error when requiring luxon in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3579835Z         ✓ should throw an error when requiring n8n-core in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3580297Z         ✓ should throw an error when requiring n8n-workflow in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3580710Z         ✓ should throw an error when requiring nanoid in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3581124Z         ✓ should throw an error when requiring ws in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3581420Z       all built-ins allowed with *
2025-04-15T08:16:25.3581772Z         ✓ should be able to require _http_agent in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3582249Z         ✓ should be able to require _http_client in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3582630Z         ✓ should be able to require _http_common in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3582959Z         ✓ should be able to require _http_incoming in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3583295Z         ✓ should be able to require _http_outgoing in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3583613Z         ✓ should be able to require _http_server in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3583929Z         ✓ should be able to require _stream_duplex in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3584260Z         ✓ should be able to require _stream_passthrough in runOnceForAllItems mode (5 ms)
2025-04-15T08:16:25.3584613Z         ✓ should be able to require _stream_readable in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3584942Z         ✓ should be able to require _stream_transform in runOnceForAllItems mode (6 ms)
2025-04-15T08:16:25.3585264Z         ✓ should be able to require _stream_wrap in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3585590Z         ✓ should be able to require _stream_writable in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3585903Z         ✓ should be able to require _tls_common in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3586209Z         ✓ should be able to require _tls_wrap in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3586516Z         ✓ should be able to require assert in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3586824Z         ✓ should be able to require assert/strict in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3587133Z         ✓ should be able to require async_hooks in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3587460Z         ✓ should be able to require buffer in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3587777Z         ✓ should be able to require child_process in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3588215Z         ✓ should be able to require cluster in runOnceForAllItems mode (29 ms)
2025-04-15T08:16:25.3588533Z         ✓ should be able to require console in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3588888Z         ✓ should be able to require constants in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3589183Z         ✓ should be able to require crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3589478Z         ✓ should be able to require dgram in runOnceForAllItems mode (5 ms)
2025-04-15T08:16:25.3589798Z         ✓ should be able to require diagnostics_channel in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3590111Z         ✓ should be able to require dns in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3590424Z         ✓ should be able to require dns/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3590738Z         ✓ should be able to require domain in runOnceForAllItems mode (3 ms)
2025-04-15T08:16:25.3591034Z         ✓ should be able to require events in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3591504Z         ✓ should be able to require fs in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3591935Z         ✓ should be able to require fs/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3592240Z         ✓ should be able to require http in runOnceForAllItems mode
2025-04-15T08:16:25.3592522Z         ✓ should be able to require http2 in runOnceForAllItems mode
2025-04-15T08:16:25.3592810Z         ✓ should be able to require https in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3593158Z         ✓ should be able to require inspector in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3593546Z         ✓ should be able to require inspector/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3593886Z         ✓ should be able to require module in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3594178Z         ✓ should be able to require net in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3594468Z         ✓ should be able to require os in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3594763Z         ✓ should be able to require path in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3595070Z         ✓ should be able to require path/posix in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3595390Z         ✓ should be able to require path/win32 in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3595707Z         ✓ should be able to require perf_hooks in runOnceForAllItems mode
2025-04-15T08:16:25.3595993Z         ✓ should be able to require process in runOnceForAllItems mode
2025-04-15T08:16:25.3596289Z         ✓ should be able to require punycode in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3596606Z         ✓ should be able to require querystring in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3596912Z         ✓ should be able to require readline in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3597244Z         ✓ should be able to require readline/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3597561Z         ✓ should be able to require repl in runOnceForAllItems mode (4 ms)
2025-04-15T08:16:25.3597862Z         ✓ should be able to require stream in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3598165Z         ✓ should be able to require stream/consumers in runOnceForAllItems mode
2025-04-15T08:16:25.3598480Z         ✓ should be able to require stream/promises in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3598796Z         ✓ should be able to require stream/web in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3599118Z         ✓ should be able to require string_decoder in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3599421Z         ✓ should be able to require sys in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3599703Z         ✓ should be able to require timers in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3600011Z         ✓ should be able to require timers/promises in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3600462Z         ✓ should be able to require tls in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3600797Z         ✓ should be able to require trace_events in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3601148Z         ✓ should be able to require tty in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3601440Z         ✓ should be able to require url in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3601728Z         ✓ should be able to require util in runOnceForAllItems mode
2025-04-15T08:16:25.3602021Z         ✓ should be able to require util/types in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3602306Z         ✓ should be able to require v8 in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3602584Z         ✓ should be able to require vm in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3602864Z         ✓ should be able to require wasi in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3603183Z         ✓ should be able to require worker_threads in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3603505Z         ✓ should be able to require zlib in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3603976Z         ✓ should be able to require _http_agent in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3604291Z         ✓ should be able to require _http_client in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3604602Z         ✓ should be able to require _http_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3605007Z         ✓ should be able to require _http_incoming in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3605343Z         ✓ should be able to require _http_outgoing in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3605717Z         ✓ should be able to require _http_server in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3606052Z         ✓ should be able to require _stream_duplex in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3606392Z         ✓ should be able to require _stream_passthrough in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3606738Z         ✓ should be able to require _stream_readable in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3607160Z         ✓ should be able to require _stream_transform in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3607543Z         ✓ should be able to require _stream_wrap in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3607866Z         ✓ should be able to require _stream_writable in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3608337Z         ✓ should be able to require _tls_common in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3608639Z         ✓ should be able to require _tls_wrap in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3609083Z         ✓ should be able to require assert in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3609547Z         ✓ should be able to require assert/strict in runOnceForEachItem mode
2025-04-15T08:16:25.3609907Z         ✓ should be able to require async_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3610376Z         ✓ should be able to require buffer in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3610697Z         ✓ should be able to require child_process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3611116Z         ✓ should be able to require cluster in runOnceForEachItem mode
2025-04-15T08:16:25.3611393Z         ✓ should be able to require console in runOnceForEachItem mode
2025-04-15T08:16:25.3611689Z         ✓ should be able to require constants in runOnceForEachItem mode
2025-04-15T08:16:25.3611995Z         ✓ should be able to require crypto in runOnceForEachItem mode (3 ms)
2025-04-15T08:16:25.3612321Z         ✓ should be able to require dgram in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3612660Z         ✓ should be able to require diagnostics_channel in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3612980Z         ✓ should be able to require dns in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3613284Z         ✓ should be able to require dns/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3613601Z         ✓ should be able to require domain in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614049Z         ✓ should be able to require events in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614333Z         ✓ should be able to require fs in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614628Z         ✓ should be able to require fs/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3614928Z         ✓ should be able to require http in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3615218Z         ✓ should be able to require http2 in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3615510Z         ✓ should be able to require https in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3615815Z         ✓ should be able to require inspector in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3616137Z         ✓ should be able to require inspector/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3616459Z         ✓ should be able to require module in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3616835Z         ✓ should be able to require net in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3617129Z         ✓ should be able to require os in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3617480Z         ✓ should be able to require path in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3617807Z         ✓ should be able to require path/posix in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3618112Z         ✓ should be able to require path/win32 in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3618414Z         ✓ should be able to require perf_hooks in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3618718Z         ✓ should be able to require process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3619030Z         ✓ should be able to require punycode in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3619358Z         ✓ should be able to require querystring in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3619686Z         ✓ should be able to require readline in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620027Z         ✓ should be able to require readline/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620332Z         ✓ should be able to require repl in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620615Z         ✓ should be able to require stream in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3620929Z         ✓ should be able to require stream/consumers in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3621319Z         ✓ should be able to require stream/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3621633Z         ✓ should be able to require stream/web in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3621952Z         ✓ should be able to require string_decoder in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3622250Z         ✓ should be able to require sys in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3622705Z         ✓ should be able to require timers in runOnceForEachItem mode (2 ms)
2025-04-15T08:16:25.3623028Z         ✓ should be able to require timers/promises in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3623325Z         ✓ should be able to require tls in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3623623Z         ✓ should be able to require trace_events in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3623925Z         ✓ should be able to require tty in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3624217Z         ✓ should be able to require url in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3624509Z         ✓ should be able to require util in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3624815Z         ✓ should be able to require util/types in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3625118Z         ✓ should be able to require v8 in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3625405Z         ✓ should be able to require vm in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3625694Z         ✓ should be able to require wasi in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3626136Z         ✓ should be able to require worker_threads in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3626431Z         ✓ should be able to require zlib in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3626651Z       all external modules allowed with *
2025-04-15T08:16:25.3626912Z         ✓ should be able to require @n8n/config in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3627224Z         ✓ should be able to require @n8n/di in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3627656Z         ✓ should be able to require @sentry/node in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3627957Z         ✓ should be able to require acorn in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3628335Z         ✓ should be able to require acorn-walk in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3628773Z         ✓ should be able to require lodash in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3629193Z         ✓ should be able to require luxon in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3629512Z         ✓ should be able to require n8n-core in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3629861Z         ✓ should be able to require n8n-workflow in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3630191Z         ✓ should be able to require nanoid in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3630484Z         ✓ should be able to require ws in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3630790Z         ✓ should be able to require @n8n/config in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3631306Z         ✓ should be able to require @n8n/di in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3631713Z         ✓ should be able to require @sentry/node in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3632110Z         ✓ should be able to require acorn in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3632508Z         ✓ should be able to require acorn-walk in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3632902Z         ✓ should be able to require lodash in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3633286Z         ✓ should be able to require luxon in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3633673Z         ✓ should be able to require n8n-core in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3634070Z         ✓ should be able to require n8n-workflow in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3634455Z         ✓ should be able to require nanoid in runOnceForEachItem mode
2025-04-15T08:16:25.3634880Z         ✓ should be able to require ws in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3635277Z       specifically allowed built-in modules
2025-04-15T08:16:25.3635626Z         ✓ should allow requiring crypto in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3636072Z         ✓ should allow requiring path in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3636600Z         ✓ should allow requiring crypto in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3637055Z         ✓ should allow requiring path in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3637478Z         ✓ should throw when trying to require http in runOnceForAllItems mode (2 ms)
2025-04-15T08:16:25.3637919Z         ✓ should throw when trying to require process in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3638342Z         ✓ should throw when trying to require http in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3638814Z         ✓ should throw when trying to require process in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3639148Z       specifically allowed external modules
2025-04-15T08:16:25.3639499Z         ✓ should allow requiring nanoid in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3639887Z         ✓ should allow requiring nanoid in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3640299Z         ✓ should throw when trying to require n8n-core in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3640778Z         ✓ should throw when trying to require n8n-core in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3641280Z     errors
2025-04-15T08:16:25.3641650Z       ✓ should throw an ExecutionError if the code is invalid in runOnceForAllItems mode (1 ms)
2025-04-15T08:16:25.3642137Z       ✓ should throw an ExecutionError if the code is invalid in runOnceForEachItem mode (1 ms)
2025-04-15T08:16:25.3642572Z       ✓ sends serializes an error correctly (8 ms)
2025-04-15T08:16:25.3642842Z     idle timeout
2025-04-15T08:16:25.3643134Z       ✓ should set idle timer when instantiated (2 ms)
2025-04-15T08:16:25.3643477Z       ✓ should reset idle timer when accepting a task (1 ms)
2025-04-15T08:16:25.3643826Z       ✓ should reset idle timer when finishing a task (1 ms)
2025-04-15T08:16:25.3644199Z       ✓ should never reach idle timeout if idle timeout is set to 0 (1 ms)
2025-04-15T08:16:25.3644589Z       ✓ should not reach idle timeout if there are running tasks (1 ms)
2025-04-15T08:16:25.3644899Z     prototype pollution prevention
2025-04-15T08:16:25.3645251Z       ✓ Object.setPrototypeOf should no-op for local object (1 ms)
2025-04-15T08:16:25.3645699Z       ✓ Reflect.setPrototypeOf should no-op for local object (3 ms)
2025-04-15T08:16:25.3646194Z       ✓ Object.setPrototypeOf should no-op for incoming object (1 ms)
2025-04-15T08:16:25.3646596Z       ✓ Reflect.setPrototypeOf should no-op for incoming object (1 ms)
2025-04-15T08:16:25.3646941Z       ✓ should freeze luxon prototypes (1 ms)
2025-04-15T08:16:25.3647330Z       ✓ should allow prototype mutation when `allowPrototypeMutation` is true (1 ms)
2025-04-15T08:16:25.3647663Z     stack trace
2025-04-15T08:16:25.3648254Z       ✓ should extract correct line number from user-defined function stack trace (2 ms)
2025-04-15T08:16:25.3648468Z 
2025-04-15T08:16:25.3648708Z Test Suites: 10 passed, 10 total
2025-04-15T08:16:25.3649021Z Tests:       614 passed, 614 total
2025-04-15T08:16:25.3649297Z Snapshots:   0 total
2025-04-15T08:16:25.3649542Z Time:        4.356 s
2025-04-15T08:16:25.3649791Z Ran all test suites.
2025-04-15T08:16:25.3650459Z ##[endgroup]
2025-04-15T08:16:39.8639656Z ##[group]n8n-core:test
2025-04-15T08:16:39.8640072Z cache bypass, force executing 339d1de8e62ae4a3
2025-04-15T08:16:39.8640302Z 
2025-04-15T08:16:39.8640545Z > n8n-core@1.88.0 test /home/runner/_work/n8n/n8n/packages/core
2025-04-15T08:16:39.8641063Z > jest
2025-04-15T08:16:39.8641400Z 
2025-04-15T08:16:39.8641756Z PASS src/execution-engine/partial-execution-utils/__tests__/recreate-node-execution-stack.test.ts
2025-04-15T08:16:39.8642188Z   recreateNodeExecutionStack
2025-04-15T08:16:39.8642801Z     ✓ all nodes except destination node have data (4 ms)
2025-04-15T08:16:39.8643095Z     ✓ no nodes have data
2025-04-15T08:16:39.8643393Z     ✓ node before destination node has pinned data (1 ms)
2025-04-15T08:16:39.8643737Z     ✓ throws if a disabled node is found (4 ms)
2025-04-15T08:16:39.8644050Z     ✓ multiple incoming connections (5 ms)
2025-04-15T08:16:39.8644326Z     ✓ multiple inputs (1 ms)
2025-04-15T08:16:39.8645091Z     multiple inputs
2025-04-15T08:16:39.8645374Z       ✓ only the trigger has run data (1 ms)
2025-04-15T08:16:39.8645681Z       ✓ the trigger and node1 have run data (1 ms)
2025-04-15T08:16:39.8645988Z       ✓ the trigger and node2 have run data
2025-04-15T08:16:39.8646482Z       ✓ the trigger, node1 and node2 have run data (1 ms)
2025-04-15T08:16:39.8646796Z   addWaitingExecution
2025-04-15T08:16:39.8647054Z     ✓ allow adding data partially (1 ms)
2025-04-15T08:16:39.8647291Z   addWaitingExecutionSource
2025-04-15T08:16:39.8647551Z     ✓ allow adding data partially
2025-04-15T08:16:39.8647695Z 
2025-04-15T08:16:39.8647886Z PASS src/nodes-loader/__tests__/directory-loader.test.ts
2025-04-15T08:16:39.8648326Z   DirectoryLoader
2025-04-15T08:16:39.8648615Z     CustomDirectoryLoader
2025-04-15T08:16:39.8648911Z       ✓ should load custom nodes and credentials (8 ms)
2025-04-15T08:16:39.8649169Z     PackageDirectoryLoader
2025-04-15T08:16:39.8649535Z       ✓ should load nodes and credentials from an installed package (2 ms)
2025-04-15T08:16:39.8650161Z       ✓ should throw error when package.json is missing (26 ms)
2025-04-15T08:16:39.8650572Z       ✓ should throw error when package.json is invalid (1 ms)
2025-04-15T08:16:39.8650847Z       ✓ should do nothing if package.json has no n8n field (4 ms)
2025-04-15T08:16:39.8651183Z       ✓ should hide httpRequestNode property when credential has supported nodes (1 ms)
2025-04-15T08:16:39.8651550Z       ✓ should not modify httpRequestNode when credential has no supported nodes (1 ms)
2025-04-15T08:16:39.8651918Z       ✓ should inherit iconUrl from supported node when credential has no icon (1 ms)
2025-04-15T08:16:39.8652164Z     LazyPackageDirectoryLoader
2025-04-15T08:16:39.8652460Z       ✓ should skip loading nodes and credentials from a lazy-loadable package (1 ms)
2025-04-15T08:16:39.8652800Z       ✓ should fall back to non-lazy loading if any json file fails to parse (7 ms)
2025-04-15T08:16:39.8653105Z       ✓ should only load included nodes when includeNodes is set
2025-04-15T08:16:39.8653410Z       ✓ should load no nodes when includeNodes does not match any nodes (1 ms)
2025-04-15T08:16:39.8653719Z       ✓ should exclude specified nodes when excludeNodes is set (1 ms)
2025-04-15T08:16:39.8653920Z     reset()
2025-04-15T08:16:39.8654122Z       ✓ should reset all properties to their initial state (2 ms)
2025-04-15T08:16:39.8654322Z     getVersionedNodeTypeAll
2025-04-15T08:16:39.8654558Z       ✓ should return array with single node for non-versioned node
2025-04-15T08:16:39.8654831Z       ✓ should return all versions of a versioned node (11 ms)
2025-04-15T08:16:39.8655019Z     getCredentialsForNode
2025-04-15T08:16:39.8655254Z       ✓ should return empty array if node has no credentials
2025-04-15T08:16:39.8655553Z       ✓ should return credentials for non-versioned node
2025-04-15T08:16:39.8655927Z       ✓ should return unique credentials from all versions of a versioned node (1 ms)
2025-04-15T08:16:39.8656477Z       ✓ should remove duplicate credentials from different versions
2025-04-15T08:16:39.8656724Z     loadCredentialFromFile
2025-04-15T08:16:39.8656990Z       ✓ should load credential and store it correctly (1 ms)
2025-04-15T08:16:39.8657222Z       ✓ should update credential icon paths
2025-04-15T08:16:39.8657459Z       ✓ should add toJSON method to credential type (1 ms)
2025-04-15T08:16:39.8657726Z       ✓ should store credential extends and supported nodes info
2025-04-15T08:16:39.8658019Z       ✓ should throw error if credential class cannot be loaded (4 ms)
2025-04-15T08:16:39.8658215Z     getCredential
2025-04-15T08:16:39.8658407Z       ✓ should return existing loaded credential type
2025-04-15T08:16:39.8658706Z       ✓ should load credential from known credentials if not already loaded (1 ms)
2025-04-15T08:16:39.8659085Z       ✓ should throw UnrecognizedCredentialTypeError if credential type is not found (1 ms)
2025-04-15T08:16:39.8659339Z     loadNodeFromFile
2025-04-15T08:16:39.8659527Z       ✓ should load node and store it correctly
2025-04-15T08:16:39.8659872Z       ✓ should update node icon paths (2 ms)
2025-04-15T08:16:39.8660108Z       ✓ should skip node if not in includeNodes (1 ms)
2025-04-15T08:16:39.8660343Z       ✓ should handle versioned nodes correctly (1 ms)
2025-04-15T08:16:39.8660635Z       ✓ should store credential associations correctly (7 ms)
2025-04-15T08:16:39.8660902Z       ✓ should throw error if node class cannot be loaded (1 ms)
2025-04-15T08:16:39.8661089Z     getNode
2025-04-15T08:16:39.8661271Z       ✓ should return existing loaded node type (1 ms)
2025-04-15T08:16:39.8661536Z       ✓ should load node from known nodes if not already loaded (1 ms)
2025-04-15T08:16:39.8661839Z       ✓ should throw UnrecognizedNodeTypeError if node type is not found
2025-04-15T08:16:39.8661991Z 
2025-04-15T08:16:39.8662241Z PASS src/execution-engine/node-execution-context/utils/__tests__/request-helper-functions.test.ts
2025-04-15T08:16:39.8662529Z   Request Helper Functions
2025-04-15T08:16:39.8662674Z     proxyRequestToAxios
2025-04-15T08:16:39.8662903Z       ✓ should rethrow an error with `status` property (90 ms)
2025-04-15T08:16:39.8663297Z       ✓ should not throw if the response status is 200 (6 ms)
2025-04-15T08:16:39.8663561Z       ✓ should throw if the response status is 403 (10 ms)
2025-04-15T08:16:39.8663903Z       ✓ should not throw if the response status is 404, but `simple` option is set to `false` (7 ms)
2025-04-15T08:16:39.8664299Z       ✓ should return full response when `resolveWithFullResponse` is set to true (9 ms)
2025-04-15T08:16:39.8664536Z       redirects
2025-04-15T08:16:39.8664729Z         ✓ should forward authorization header (10 ms)
2025-04-15T08:16:39.8664961Z         ✓ should follow redirects by default (18 ms)
2025-04-15T08:16:39.8665205Z         ✓ should not follow redirects when configured (7 ms)
2025-04-15T08:16:39.8665455Z     invokeAxios
2025-04-15T08:16:39.8665651Z       ✓ should throw error for non-401 status codes (9 ms)
2025-04-15T08:16:39.8665942Z       ✓ should throw error on 401 without digest auth challenge (7 ms)
2025-04-15T08:16:39.8666325Z       ✓ should make successful requests (5 ms)
2025-04-15T08:16:39.8666654Z       ✓ should handle digest auth when receiving 401 with nonce (10 ms)
2025-04-15T08:16:39.8666857Z     removeEmptyBody
2025-04-15T08:16:39.8667038Z       ✓ Should remove empty body for GET (5 ms)
2025-04-15T08:16:39.8667249Z       ✓ Should remove empty body for HEAD
2025-04-15T08:16:39.8667457Z       ✓ Should remove empty body for OPTIONS
2025-04-15T08:16:39.8667680Z       ✓ Should not remove non-empty body for GET
2025-04-15T08:16:39.8667925Z       ✓ Should not remove non-empty body for HEAD
2025-04-15T08:16:39.8668174Z       ✓ Should not remove non-empty body for OPTIONS (1 ms)
2025-04-15T08:16:39.8668411Z       ✓ Should not remove empty body for POST
2025-04-15T08:16:39.8668622Z       ✓ Should not remove empty body for PUT
2025-04-15T08:16:39.8668851Z       ✓ Should not remove empty body for PATCH (1 ms)
2025-04-15T08:16:39.8669075Z       ✓ Should not remove empty body for DELETE
2025-04-15T08:16:39.8669253Z     parseRequestObject
2025-04-15T08:16:39.8669456Z       ✓ should handle basic request options (1 ms)
2025-04-15T08:16:39.8669688Z       ✓ should set correct headers for FormData (1 ms)
2025-04-15T08:16:39.8669907Z       ✓ should not use Host header for SNI
2025-04-15T08:16:39.8670083Z       should set SSL certificates
2025-04-15T08:16:39.8670299Z         ✓ on regular requests (1 ms)
2025-04-15T08:16:39.8670493Z         ✓ on redirected requests
2025-04-15T08:16:39.8670699Z       when followRedirect is true
2025-04-15T08:16:39.8670904Z         ✓ should set maxRedirects on GET  (1 ms)
2025-04-15T08:16:39.8671115Z         ✓ should set maxRedirects on HEAD 
2025-04-15T08:16:39.8671327Z         ✓ should not set maxRedirects on POST 
2025-04-15T08:16:39.8671546Z         ✓ should not set maxRedirects on PUT  (1 ms)
2025-04-15T08:16:39.8671764Z         ✓ should not set maxRedirects on PATCH 
2025-04-15T08:16:39.8671970Z         ✓ should not set maxRedirects on DELETE 
2025-04-15T08:16:39.8672285Z       when followAllRedirects is true
2025-04-15T08:16:39.8672507Z         ✓ should set maxRedirects on GET  (1 ms)
2025-04-15T08:16:39.8672713Z         ✓ should set maxRedirects on HEAD 
2025-04-15T08:16:39.8672926Z         ✓ should set maxRedirects on POST  (3 ms)
2025-04-15T08:16:39.8673339Z         ✓ should set maxRedirects on PUT 
2025-04-15T08:16:39.8673651Z         ✓ should set maxRedirects on PATCH 
2025-04-15T08:16:39.8673969Z         ✓ should set maxRedirects on DELETE  (1 ms)
2025-04-15T08:16:39.8674271Z     createFormDataObject
2025-04-15T08:16:39.8674580Z       ✓ should create FormData with simple key-value pairs
2025-04-15T08:16:39.8674887Z       ✓ should handle array values (1 ms)
2025-04-15T08:16:39.8675231Z       ✓ should handle complex form data with options
2025-04-15T08:16:39.8675508Z     convertN8nRequestToAxios
2025-04-15T08:16:39.8675825Z       ✓ should convert basic HTTP request options (1 ms)
2025-04-15T08:16:39.8676231Z       ✓ should handle body and content type (1 ms)
2025-04-15T08:16:39.8676666Z       ✓ should handle form data
2025-04-15T08:16:39.8677110Z       ✓ should handle disable follow redirect (1 ms)
2025-04-15T08:16:39.8677422Z       ✓ should handle SSL certificate validation
2025-04-15T08:16:39.8677678Z     applyPaginationRequestData
2025-04-15T08:16:39.8678083Z       ✓ should merge pagination request data with original request options (1 ms)
2025-04-15T08:16:39.8678449Z       ✓ should handle formData correctly (9 ms)
2025-04-15T08:16:39.8678760Z       ✓ should handle form data correctly
2025-04-15T08:16:39.8679095Z       ✓ should prefer pagination body over original body
2025-04-15T08:16:39.8679398Z       ✓ should merge complex request options
2025-04-15T08:16:39.8679748Z       ✓ should handle edge cases with empty pagination data
2025-04-15T08:16:39.8680028Z     httpRequest
2025-04-15T08:16:39.8680265Z       ✓ should make a simple GET request (6 ms)
2025-04-15T08:16:39.8680685Z       ✓ should make a POST request with JSON body (23 ms)
2025-04-15T08:16:39.8681062Z       ✓ should return full response when returnFullResponse is true (3 ms)
2025-04-15T08:16:39.8681423Z       ✓ should handle form data request (6 ms)
2025-04-15T08:16:39.8681743Z       ✓ should handle query parameters (6 ms)
2025-04-15T08:16:39.8682073Z       ✓ should ignore HTTP status errors when configured (4 ms)
2025-04-15T08:16:39.8682490Z       ✓ should handle different array formats in query parameters (8 ms)
2025-04-15T08:16:39.8682840Z       ✓ should remove empty body for GET requests (5 ms)
2025-04-15T08:16:39.8683118Z       ✓ should set default user agent (6 ms)
2025-04-15T08:16:39.8683485Z       ✓ should respect custom headers (10 ms)
2025-04-15T08:16:39.8683656Z 
2025-04-15T08:16:39.8683913Z PASS src/execution-engine/partial-execution-utils/__tests__/find-start-nodes.test.ts
2025-04-15T08:16:39.8684280Z   isDirty
2025-04-15T08:16:39.8684542Z     ✓ if the node has pinned data it's not dirty (3 ms)
2025-04-15T08:16:39.8684849Z     ✓ if the node has run data it's not dirty (1 ms)
2025-04-15T08:16:39.8685161Z   findStartNodes
2025-04-15T08:16:39.8685456Z     ✓ finds the start node if there is only a trigger (1 ms)
2025-04-15T08:16:39.8685804Z     ✓ finds the start node in a simple graph
2025-04-15T08:16:39.8686087Z     ✓ multiple outputs
2025-04-15T08:16:39.8686557Z     ✓ complex example with multiple outputs and inputs (1 ms)
2025-04-15T08:16:39.8687052Z     ✓ multiple connections with the first one having data (1 ms)
2025-04-15T08:16:39.8687425Z     ✓ multiple connections with the second one having data (1 ms)
2025-04-15T08:16:39.8687750Z     ✓ multiple connections with both having data
2025-04-15T08:16:39.8688229Z     ✓ multiple connections with both having data (1 ms)
2025-04-15T08:16:39.8688549Z     ✓ multiple connections with trigger
2025-04-15T08:16:39.8688916Z     ✓ terminates when called with graph that contains cycles (3 ms)
2025-04-15T08:16:39.8689213Z     pinData
2025-04-15T08:16:39.8689578Z       ✓ does not stop recursing when the first node that has no run data has pinned data (1 ms)
2025-04-15T08:16:39.8690064Z     custom loop logic
2025-04-15T08:16:39.8690477Z       ✓ if the last run of loop node has no data (null) on the done output, then the loop is the start node
2025-04-15T08:16:39.8691032Z       ✓ if the last run of loop node has no data (empty array) on the done output, then the loop is the start  node (1 ms)
2025-04-15T08:16:39.8691595Z       ✓ if the loop has data on the done output in the last run it does not become a start node
2025-04-15T08:16:39.8691830Z 
2025-04-15T08:16:39.8692058Z PASS src/execution-engine/partial-execution-utils/__tests__/directed-graph.test.ts
2025-04-15T08:16:39.8692413Z   DirectedGraph
2025-04-15T08:16:39.8692673Z     ✓ roundtrip (4 ms)
2025-04-15T08:16:39.8692943Z     ✓ linear workflow with null connections
2025-04-15T08:16:39.8693236Z     getChildren
2025-04-15T08:16:39.8693488Z       ✓ returns all children (1 ms)
2025-04-15T08:16:39.8693752Z       ✓ terminates when finding a cycle
2025-04-15T08:16:39.8694083Z     getStronglyConnectedComponents
2025-04-15T08:16:39.8694385Z       ✓ find strongly connected components
2025-04-15T08:16:39.8694937Z       ✓ find strongly connected components even if they use different output indexes
2025-04-15T08:16:39.8695266Z     depthFirstSearch
2025-04-15T08:16:39.8695605Z       ✓ calls nodes in the correct order and stops when it found the node (1 ms)
2025-04-15T08:16:39.8695955Z     getParentConnections
2025-04-15T08:16:39.8696326Z       ✓ returns all parent connections
2025-04-15T08:16:39.8696682Z       ✓ terminates when finding a cycle (1 ms)
2025-04-15T08:16:39.8696995Z     removeNode
2025-04-15T08:16:39.8697237Z       ✓ remove node and all connections
2025-04-15T08:16:39.8697564Z       ✓ remove node, but reconnect connections
2025-04-15T08:16:39.8697956Z       ✓ remove node, reconnect connections and retaining the input indexes (2 ms)
2025-04-15T08:16:39.8698560Z       ✓ remove node, reconnect connections and retaining the input indexes, even if the child has less inputs than the than the removed node had (1 ms)
2025-04-15T08:16:39.8699136Z       ✓ remove node, reconnect connections and multiplexes them
2025-04-15T08:16:39.8699424Z     hasNode
2025-04-15T08:16:39.8699697Z       ✓ returns node if it's part of the graph
2025-04-15T08:16:39.8700064Z       ✓ returns undefined if there is no node with that name in the graph
2025-04-15T08:16:39.8700369Z     getNodesByNames
2025-04-15T08:16:39.8700685Z       ✓ returns empty Set when no names are provided
2025-04-15T08:16:39.8701051Z       ✓ returns Set with only nodes that exist in the graph (1 ms)
2025-04-15T08:16:39.8701221Z 
2025-04-15T08:16:39.8701487Z PASS src/execution-engine/node-execution-context/utils/__tests__/create-node-as-tool.test.ts
2025-04-15T08:16:39.8701888Z   createNodeAsTool
2025-04-15T08:16:39.8702137Z     Tool Creation and Basic Properties
2025-04-15T08:16:39.8702516Z       ✓ should create a DynamicStructuredTool with correct properties (4 ms)
2025-04-15T08:16:39.8702894Z       ✓ should use toolDescription if provided
2025-04-15T08:16:39.8703172Z     Schema Creation and Parameter Handling
2025-04-15T08:16:39.8703561Z       ✓ should create a schema based on fromAI arguments in nodeParameters
2025-04-15T08:16:39.8703928Z       ✓ should handle fromAI arguments correctly (1 ms)
2025-04-15T08:16:39.8704238Z       ✓ should handle default values correctly (1 ms)
2025-04-15T08:16:39.8704624Z       ✓ should handle nested parameters correctly
2025-04-15T08:16:39.8704937Z       ✓ should handle array parameters correctly (1 ms)
2025-04-15T08:16:39.8705233Z     Error Handling and Edge Cases
2025-04-15T08:16:39.8705549Z       ✓ should handle error during node execution
2025-04-15T08:16:39.8705888Z       ✓ should throw an error for invalid parameter names (12 ms)
2025-04-15T08:16:39.8706449Z       ✓ should throw an error for $fromAI calls with unsupported types
2025-04-15T08:16:39.8706857Z       ✓ should handle empty parameters and parameters with no fromAI calls
2025-04-15T08:16:39.8707158Z     Parameter Name and Description Handling
2025-04-15T08:16:39.8707683Z       ✓ should accept parameter names with underscores and hyphens (2 ms)
2025-04-15T08:16:39.8708119Z       ✓ should throw an error for parameter names with invalid special characters (1 ms)
2025-04-15T08:16:39.8708550Z       ✓ should throw an error for empty parameter name (1 ms)
2025-04-15T08:16:39.8708951Z       ✓ should handle parameter names with exact and exceeding character limits
2025-04-15T08:16:39.8709339Z       ✓ should handle $fromAI calls with empty description
2025-04-15T08:16:39.8709797Z       ✓ should throw an error for calls with the same parameter but different descriptions (1 ms)
2025-04-15T08:16:39.8710240Z       ✓ should throw an error for calls with the same parameter but different types
2025-04-15T08:16:39.8710616Z     Complex Parsing Scenarios
2025-04-15T08:16:39.8711114Z       ✓ should correctly parse $fromAI calls with varying spaces, capitalization, and within template literals (1 ms)
2025-04-15T08:16:39.8711610Z       ✓ should correctly parse multiple $fromAI calls interleaved with regular text
2025-04-15T08:16:39.8712069Z       ✓ should correctly parse $fromAI calls with complex JSON default values
2025-04-15T08:16:39.8712586Z       ✓ should ignore $fromAI calls embedded in non-string node parameters (1 ms)
2025-04-15T08:16:39.8712891Z     Escaping and Special Characters
2025-04-15T08:16:39.8713299Z       ✓ should handle escaped single quotes in parameter names and descriptions
2025-04-15T08:16:39.8713737Z       ✓ should handle escaped double quotes in parameter names and descriptions (1 ms)
2025-04-15T08:16:39.8714181Z       ✓ should handle escaped backslashes in parameter names and descriptions
2025-04-15T08:16:39.8714639Z       ✓ should handle mixed escaped characters in parameter names and descriptions (1 ms)
2025-04-15T08:16:39.8714972Z     Edge Cases and Limitations
2025-04-15T08:16:39.8715372Z       ✓ should ignore excess arguments in $fromAI calls beyond the fourth argument
2025-04-15T08:16:39.8715783Z       ✓ should correctly parse $fromAI calls with nested parentheses
2025-04-15T08:16:39.8716204Z       ✓ should handle $fromAI calls with very long descriptions (1 ms)
2025-04-15T08:16:39.8716742Z       ✓ should handle $fromAI calls with only some parameters
2025-04-15T08:16:39.8717033Z     Unicode and Internationalization
2025-04-15T08:16:39.8717389Z       ✓ should handle $fromAI calls with unicode characters (1 ms)
2025-04-15T08:16:39.8717611Z 
2025-04-15T08:16:39.8717770Z PASS src/execution-engine/__tests__/routing-node.test.ts
2025-04-15T08:16:39.8718042Z   RoutingNode
2025-04-15T08:16:39.8718368Z     ✓ applyDeclarativeNodeOptionParameters (3 ms)
2025-04-15T08:16:39.8718646Z     getRequestOptionsFromParameters
2025-04-15T08:16:39.8718960Z       ✓ single parameter, only send defined, fixed value (3 ms)
2025-04-15T08:16:39.8719389Z       ✓ single parameter, only send defined, using expression (11 ms)
2025-04-15T08:16:39.8719771Z       ✓ single parameter, send and operations defined, fixed value (1 ms)
2025-04-15T08:16:39.8720195Z       ✓ multiple parameters, complex example with everything (9 ms)
2025-04-15T08:16:39.8720489Z     runNode
2025-04-15T08:16:39.8720861Z       ✓ single parameter, only send defined, fixed value, using requestDefaults (2 ms)
2025-04-15T08:16:39.8721317Z       ✓ single parameter, only send defined, fixed value, using requestDefaults
2025-04-15T08:16:39.8721769Z       ✓ single parameter, only send defined, using expression, using requestDefaults with overwrite (1 ms)
2025-04-15T08:16:39.8722366Z       ✓ single parameter, only send defined, using expression, using requestDefaults with overwrite and expressions (2 ms)
2025-04-15T08:16:39.8722870Z       ✓ single parameter, send and operations defined, fixed value with pagination (1 ms)
2025-04-15T08:16:39.8723304Z       ✓ multiple parameters, from applyDeclarativeNodeOptionParameters (3 ms)
2025-04-15T08:16:39.8723740Z       ✓ multiple parameters, complex example with everything (6 ms)
2025-04-15T08:16:39.8724061Z       ✓ single parameter, postReceive: set (1 ms)
2025-04-15T08:16:39.8724473Z       ✓ single parameter, postReceive: rootProperty (1 ms)
2025-04-15T08:16:39.8724916Z       ✓ single parameter, multiple postReceive: rootProperty, setKeyValue, sort (2 ms)
2025-04-15T08:16:39.8725223Z     itemIndex
2025-04-15T08:16:39.8725577Z       ✓ single parameter, only send defined, fixed value, using requestDefaults (1 ms)
2025-04-15T08:16:39.8725777Z 
2025-04-15T08:16:39.8726800Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8727732Z PASS src/execution-engine/partial-execution-utils/__tests__/get-source-data-groups.test.ts
2025-04-15T08:16:39.8728590Z   getSourceDataGroups
2025-04-15T08:16:39.8728967Z     ✓ groups sources into possibly complete sets if all of them have data (10 ms)
2025-04-15T08:16:39.8729378Z     ✓ groups sources into possibly complete sets if all of them have data (1 ms)
2025-04-15T08:16:39.8730064Z     ✓ groups sources into one complete set with 2 connections and one incomplete set with 1 connection
2025-04-15T08:16:39.8730575Z     ✓ groups sources into one complete set with 2 connections and one incomplete set with 2 connection (3 ms)
2025-04-15T08:16:39.8731255Z     ✓ groups sources into two incomplete sets, one with 1 connection without and one with 2 connections one with data and one without (1 ms)
2025-04-15T08:16:39.8731728Z     ✓ return an incomplete group when there is no data on input 2
2025-04-15T08:16:39.8732064Z     ✓ return an incomplete group when there is no data on input 1
2025-04-15T08:16:39.8732446Z     ✓ terminates with negative input indexes (1 ms)
2025-04-15T08:16:39.8732754Z     ✓ terminates inputs with missing connections
2025-04-15T08:16:39.8733073Z     ✓ terminates if the graph has no connections
2025-04-15T08:16:39.8733227Z 
2025-04-15T08:16:39.8733427Z PASS src/execution-engine/__tests__/workflow-execute.test.ts
2025-04-15T08:16:39.8733706Z   WorkflowExecute
2025-04-15T08:16:39.8733961Z     v0 execution order
2025-04-15T08:16:39.8734418Z       ✓ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (33 ms)
2025-04-15T08:16:39.8734936Z       ✓ should simply execute the next multi-input-node (totally ignoring the runIndex) (24 ms)
2025-04-15T08:16:39.8735365Z       ✓ should run basic two node workflow (4 ms)
2025-04-15T08:16:39.8735696Z       ✓ should run node twice when it has two input connections3 (2 ms)
2025-04-15T08:16:39.8736071Z       ✓ should run complicated multi node workflow (3 ms)
2025-04-15T08:16:39.8736694Z       ✓ should run workflow also if node has multiple input connections and one is empty (4 ms)
2025-04-15T08:16:39.8737111Z       ✓ should use empty data if second input does not have any data (2 ms)
2025-04-15T08:16:39.8737578Z       ✓ should use empty data if input of sibling does not receive any data from parent (2 ms)
2025-04-15T08:16:39.8738005Z       ✓ should not use empty data in sibling if parent did not send any data (2 ms)
2025-04-15T08:16:39.8738483Z       ✓ should display the correct parameters and so correct data when simplified node-versioning is used (7 ms)
2025-04-15T08:16:39.8739015Z       ✓ should execute nodes in the correct order, breath-first & order of connection (5 ms)
2025-04-15T08:16:39.8739337Z     v1 execution order
2025-04-15T08:16:39.8739709Z       ✓ should run node twice when it has two input connections (1 ms)
2025-04-15T08:16:39.8740051Z       ✓ should run complicated multi node workflow (2 ms)
2025-04-15T08:16:39.8740454Z       ✓ should execute nodes in the correct order, depth-first & the most top-left one first (9 ms)
2025-04-15T08:16:39.8741005Z       ✓ should simply execute the next multi-input-node (totally ignoring the runIndex) (9 ms)
2025-04-15T08:16:39.8741444Z       ✓ should run keep on executing even if data from input 1 is missing (2 ms)
2025-04-15T08:16:39.8742129Z       ✓ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (4 ms)
2025-04-15T08:16:39.8742729Z       ✓ Should output successful branches on multi-output nodes with continueErrorOutput selected (6 ms)
2025-04-15T08:16:39.8743067Z     run test workflows
2025-04-15T08:16:39.8743525Z       ✓ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/error_outputs (75 ms)
2025-04-15T08:16:39.8744100Z       ✓ /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/__tests__/workflows/paired_items_fix (36 ms)
2025-04-15T08:16:39.8744453Z     runPartialWorkflow2
2025-04-15T08:16:39.8744778Z       ✓ deletes dirty nodes' run data (4 ms)
2025-04-15T08:16:39.8745110Z       ✓ deletes run data of children of dirty nodes as well (2 ms)
2025-04-15T08:16:39.8745463Z       ✓ removes disabled nodes from the workflow (1 ms)
2025-04-15T08:16:39.8745848Z       ✓ passes filtered run data to `recreateNodeExecutionStack` (2 ms)
2025-04-15T08:16:39.8746250Z       ✓ passes subgraph to `cleanRunData` (1 ms)
2025-04-15T08:16:39.8746786Z       ✓ passes pruned dirty nodes to `cleanRunData`
2025-04-15T08:16:39.8747069Z       ✓ works with a single node
2025-04-15T08:16:39.8747295Z     checkReadyForExecution
2025-04-15T08:16:39.8747635Z       ✓ should return null if there are no nodes (1 ms)
2025-04-15T08:16:39.8747950Z       ✓ should return null if there are no enabled nodes
2025-04-15T08:16:39.8748299Z       ✓ should return typeUnknown for unknown nodes (3 ms)
2025-04-15T08:16:39.8748615Z       ✓ should return issues for regular nodes
2025-04-15T08:16:39.8748863Z     runNode
2025-04-15T08:16:39.8749200Z       ✓ should call closeFunction when manual trigger is aborted (11 ms)
2025-04-15T08:16:39.8749486Z     handleNodeErrorOutput
2025-04-15T08:16:39.8749787Z       ✓ should handle undefined error data input correctly (1 ms)
2025-04-15T08:16:39.8750156Z       ✓ should handle empty input (1 ms)
2025-04-15T08:16:39.8750476Z       ✓ should route error items to last output (1 ms)
2025-04-15T08:16:39.8750869Z       ✓ should handle error in json with message property
2025-04-15T08:16:39.8751232Z       ✓ should preserve pairedItem data when routing errors (1 ms)
2025-04-15T08:16:39.8751589Z       ✓ should route multiple error items correctly (1 ms)
2025-04-15T08:16:39.8751976Z       ✓ should handle complex pairedItem data correctly (2 ms)
2025-04-15T08:16:39.8752271Z     prepareWaitingToExecution
2025-04-15T08:16:39.8752564Z       ✓ should initialize waitingExecutionSource if undefined
2025-04-15T08:16:39.8752980Z       ✓ should create arrays of correct length with null values (1 ms)
2025-04-15T08:16:39.8753316Z       ✓ should work with zero connections
2025-04-15T08:16:39.8753667Z       ✓ should handle multiple run indices
2025-04-15T08:16:39.8753936Z     incomingConnectionIsEmpty
2025-04-15T08:16:39.8754230Z       ✓ should return true when there are no input connections
2025-04-15T08:16:39.8754638Z       ✓ should return true when all input connections have no data
2025-04-15T08:16:39.8755038Z       ✓ should return true when input connection node does not exist in runData
2025-04-15T08:16:39.8755427Z       ✓ should return false when any input connection has data
2025-04-15T08:16:39.8755760Z       ✓ should check correct run index
2025-04-15T08:16:39.8756078Z       ✓ should handle undefined data in runData correctly (1 ms)
2025-04-15T08:16:39.8756492Z     moveNodeMetadata
2025-04-15T08:16:39.8756809Z       ✓ should do nothing when there is no metadata
2025-04-15T08:16:39.8757115Z       ✓ should merge metadata into runData for single node
2025-04-15T08:16:39.8757546Z       ✓ should merge metadata into runData for multiple nodes (1 ms)
2025-04-15T08:16:39.8757882Z       ✓ should preserve existing metadata when merging
2025-04-15T08:16:39.8758224Z       ✓ should handle multiple run indices (1 ms)
2025-04-15T08:16:39.8758506Z     getFullRunData
2025-04-15T08:16:39.8758840Z       ✓ should return complete IRun object with all properties correctly set (1 ms)
2025-04-15T08:16:39.8759380Z     processSuccessExecution
2025-04-15T08:16:39.8759718Z       ✓ should handle different workflow completion scenarios (28 ms)
2025-04-15T08:16:39.8760092Z       ✓ should handle static data, hooks, and cleanup correctly (2 ms)
2025-04-15T08:16:39.8760428Z     assignPairedItems
2025-04-15T08:16:39.8760697Z       ✓ should handle undefined node output
2025-04-15T08:16:39.8761077Z       ✓ should auto-fix pairedItem for single input/output scenario
2025-04-15T08:16:39.8761462Z       ✓ should auto-fix pairedItem when number of items match (1 ms)
2025-04-15T08:16:39.8761802Z       ✓ should not modify existing pairedItem data
2025-04-15T08:16:39.8762153Z       ✓ should process multiple output branches correctly
2025-04-15T08:16:39.8762412Z     ensureInputData
2025-04-15T08:16:39.8762703Z       ✓ should return true when node has no input connections (1 ms)
2025-04-15T08:16:39.8763134Z       ✓ should return false when execution data does not have main connection
2025-04-15T08:16:39.8763567Z       ✓ should return true when input data is available for force input node execution
2025-04-15T08:16:39.8764133Z       ✓ should return false when input data is not available for force input node execution (1 ms)
2025-04-15T08:16:39.8764476Z     customOperations
2025-04-15T08:16:39.8764738Z       ✓ should execute customOperations
2025-04-15T08:16:39.8765125Z       ✓ should throw error if customOperation and execute both defined (1 ms)
2025-04-15T08:16:39.8765350Z 
2025-04-15T08:16:39.8765603Z PASS src/execution-engine/node-execution-context/utils/__tests__/binary-helper-functions.test.ts
2025-04-15T08:16:39.8765966Z   test binary data helper methods
2025-04-15T08:16:39.8766575Z     ✓ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'default' mode (4 ms)
2025-04-15T08:16:39.8767123Z     ✓ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in 'filesystem' mode (243 ms)
2025-04-15T08:16:39.8767513Z   binaryToString
2025-04-15T08:16:39.8767776Z     ✓ should handle undefined encoding
2025-04-15T08:16:39.8768186Z     ✓ should handle stream with no explicit encoding (1 ms)
2025-04-15T08:16:39.8768531Z     should handle Buffer
2025-04-15T08:16:39.8768780Z       ✓ with utf8 (5 ms)
2025-04-15T08:16:39.8769034Z       ✓ with iso-8859-15
2025-04-15T08:16:39.8769282Z       ✓ with latin1
2025-04-15T08:16:39.8769495Z       ✓ with ascii
2025-04-15T08:16:39.8769766Z       ✓ with windows-1252
2025-04-15T08:16:39.8770024Z       ✓ with shift-jis (6 ms)
2025-04-15T08:16:39.8770271Z       ✓ with big5 (6 ms)
2025-04-15T08:16:39.8770553Z       ✓ with koi8-r
2025-04-15T08:16:39.8770798Z     should handle streams
2025-04-15T08:16:39.8771070Z       ✓ with utf8 (2 ms)
2025-04-15T08:16:39.8771315Z       ✓ with iso-8859-15
2025-04-15T08:16:39.8771551Z       ✓ with latin1 (1 ms)
2025-04-15T08:16:39.8771829Z       ✓ with ascii
2025-04-15T08:16:39.8772049Z       ✓ with windows-1252
2025-04-15T08:16:39.8772272Z       ✓ with shift-jis
2025-04-15T08:16:39.8772552Z       ✓ with big5
2025-04-15T08:16:39.8772803Z       ✓ with koi8-r (1 ms)
2025-04-15T08:16:39.8773082Z     should handle IncomingMessage
2025-04-15T08:16:39.8773343Z       ✓ with utf8
2025-04-15T08:16:39.8773576Z       ✓ with iso-8859-15
2025-04-15T08:16:39.8773840Z       ✓ with latin1 (1 ms)
2025-04-15T08:16:39.8774082Z       ✓ with ascii (3 ms)
2025-04-15T08:16:39.8774332Z       ✓ with windows-1252 (1 ms)
2025-04-15T08:16:39.8774624Z       ✓ with shift-jis
2025-04-15T08:16:39.8774860Z       ✓ with big5 (1 ms)
2025-04-15T08:16:39.8775103Z       ✓ with koi8-r
2025-04-15T08:16:39.8775326Z   detectBinaryEncoding
2025-04-15T08:16:39.8775632Z     ✓ should detect encoding for utf-8 buffers (1 ms)
2025-04-15T08:16:39.8775989Z     ✓ should detect encoding for latin1 buffers (1 ms)
2025-04-15T08:16:39.8776405Z     ✓ should handle empty buffer
2025-04-15T08:16:39.8776688Z   assertBinaryData
2025-04-15T08:16:39.8777033Z     ✓ should throw error when no binary data exists (20 ms)
2025-04-15T08:16:39.8777544Z     ✓ should throw error when specific binary property does not exist
2025-04-15T08:16:39.8777908Z     ✓ should return binary data when it exists
2025-04-15T08:16:39.8778186Z   copyBinaryFile
2025-04-15T08:16:39.8778467Z     ✓ should handle files without explicit mime type (1 ms)
2025-04-15T08:16:39.8778816Z     ✓ should use provided mime type
2025-04-15T08:16:39.8779072Z   prepareBinaryData
2025-04-15T08:16:39.8779314Z     ✓ parses filenames correctly (3 ms)
2025-04-15T08:16:39.8779677Z     ✓ handles IncomingMessage with responseUrl
2025-04-15T08:16:39.8779982Z     ✓ handles buffer with no detectable mime type
2025-04-15T08:16:39.8780353Z     ✓ handles IncomingMessage with no content type or filename
2025-04-15T08:16:39.8780641Z   setBinaryDataBuffer
2025-04-15T08:16:39.8780898Z     ✓ should handle empty buffer (1 ms)
2025-04-15T08:16:39.8781192Z   getBinaryHelperFunctions
2025-04-15T08:16:39.8781502Z     ✓ should return helper functions with correct context (1 ms)
2025-04-15T08:16:39.8781780Z   createBinarySignedUrl
2025-04-15T08:16:39.8782113Z     ✓ should get a signed url
2025-04-15T08:16:39.8782229Z 
2025-04-15T08:16:39.8783208Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8784085Z PASS src/instance-settings/__tests__/instance-settings.test.ts
2025-04-15T08:16:39.8784387Z   InstanceSettings
2025-04-15T08:16:39.8784628Z     If the settings file exists
2025-04-15T08:16:39.8784963Z       ✓ should load settings from the file (4 ms)
2025-04-15T08:16:39.8785322Z       ✓ should throw error if settings file is not valid JSON (14 ms)
2025-04-15T08:16:39.8785668Z       ✓ should throw if the env and file keys do not match (1 ms)
2025-04-15T08:16:39.8786099Z       ✓ should check if the settings file has the correct permissions (1 ms)
2025-04-15T08:16:39.8786784Z       ✓ should check the permissions but not fix them if settings file has incorrect permissions by default
2025-04-15T08:16:39.8787492Z       ✓ should not check the permissions if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is false (1 ms)
2025-04-15T08:16:39.8787997Z       ✓ should fix the permissions of the settings file if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is true
2025-04-15T08:16:39.8788336Z     If the settings file does not exist
2025-04-15T08:16:39.8788839Z       ✓ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS is not set
2025-04-15T08:16:39.8789428Z       ✓ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false (1 ms)
2025-04-15T08:16:39.8790002Z       ✓ should create a new settings file with explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
2025-04-15T08:16:39.8790496Z       ✓ should pick up the encryption key from env var N8N_ENCRYPTION_KEY (2 ms)
2025-04-15T08:16:39.8790971Z       ✓ should not set the permissions of the settings file if 'N8N_IGNORE_SETTINGS_FILE_PERMISSIONS' is true
2025-04-15T08:16:39.8791482Z       ✓ should throw on a worker process, if encryption key isn't set via env (3 ms)
2025-04-15T08:16:39.8791792Z     constructor
2025-04-15T08:16:39.8792029Z       ✓ should generate a `hostId` (1 ms)
2025-04-15T08:16:39.8792355Z     isDocker
2025-04-15T08:16:39.8792620Z       ✓ should return true if /.dockerenv exists (1 ms)
2025-04-15T08:16:39.8792959Z       ✓ should return true if /run/.containerenv exists
2025-04-15T08:16:39.8793332Z       ✓ should return true if /proc/self/cgroup contains docker (1 ms)
2025-04-15T08:16:39.8793713Z       ✓ should return true if /proc/self/cgroup contains kubepods (1 ms)
2025-04-15T08:16:39.8794143Z       ✓ should return true if /proc/self/cgroup contains containerd (6 ms)
2025-04-15T08:16:39.8794521Z       ✓ should return true if /proc/self/mountinfo contains docker (1 ms)
2025-04-15T08:16:39.8794995Z       ✓ should return true if /proc/self/mountinfo contains kubelet
2025-04-15T08:16:39.8795440Z       ✓ should return true if /proc/self/mountinfo contains containerd (1 ms)
2025-04-15T08:16:39.8795800Z       ✓ should return false if no docker indicators are found
2025-04-15T08:16:39.8796298Z       ✓ should return false if reading any of these files throws an error
2025-04-15T08:16:39.8796779Z       ✓ should cache the result of isDocker check (1 ms)
2025-04-15T08:16:39.8796964Z 
2025-04-15T08:16:39.8797241Z PASS src/execution-engine/node-execution-context/utils/__tests__/get-input-connection-data.test.ts
2025-04-15T08:16:39.8797678Z   getInputConnectionData
2025-04-15T08:16:39.8797909Z     ai_agent
2025-04-15T08:16:39.8798201Z       ✓ should throw when no inputs are defined (31 ms)
2025-04-15T08:16:39.8798620Z       ✓ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:16:39.8799020Z       ✓ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8799419Z       ✓ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8799855Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8800191Z       ✓ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8800565Z       ✓ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8800878Z       ✓ should handle close functions (1 ms)
2025-04-15T08:16:39.8801144Z     ai_chain
2025-04-15T08:16:39.8801438Z       ✓ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8801831Z       ✓ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:16:39.8802244Z       ✓ should throw when too many nodes are connected
2025-04-15T08:16:39.8802585Z       ✓ should throw when required node is not connected (2 ms)
2025-04-15T08:16:39.8802881Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8803238Z       ✓ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8803589Z       ✓ should propagate configuration errors
2025-04-15T08:16:39.8803904Z       ✓ should handle close functions
2025-04-15T08:16:39.8804181Z     ai_document
2025-04-15T08:16:39.8804454Z       ✓ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8804902Z       ✓ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8805293Z       ✓ should throw when too many nodes are connected (6 ms)
2025-04-15T08:16:39.8805615Z       ✓ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8805990Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8806413Z       ✓ should handle node execution errors (6 ms)
2025-04-15T08:16:39.8806780Z       ✓ should propagate configuration errors
2025-04-15T08:16:39.8807090Z       ✓ should handle close functions (1 ms)
2025-04-15T08:16:39.8807381Z     ai_embedding
2025-04-15T08:16:39.8807697Z       ✓ should throw when no inputs are defined
2025-04-15T08:16:39.8808350Z       ✓ should return undefined when no nodes are connected and input is not required (2 ms)
2025-04-15T08:16:39.8808731Z       ✓ should throw when too many nodes are connected
2025-04-15T08:16:39.8809118Z       ✓ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8809433Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8809756Z       ✓ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8810070Z       ✓ should propagate configuration errors
2025-04-15T08:16:39.8810370Z       ✓ should handle close functions
2025-04-15T08:16:39.8810643Z     ai_languageModel
2025-04-15T08:16:39.8810958Z       ✓ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8811331Z       ✓ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8811768Z       ✓ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8812115Z       ✓ should throw when required node is not connected
2025-04-15T08:16:39.8812444Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8812891Z       ✓ should handle node execution errors
2025-04-15T08:16:39.8813201Z       ✓ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8813535Z       ✓ should handle close functions
2025-04-15T08:16:39.8813783Z     ai_memory
2025-04-15T08:16:39.8814024Z       ✓ should throw when no inputs are defined
2025-04-15T08:16:39.8814504Z       ✓ should return undefined when no nodes are connected and input is not required (5 ms)
2025-04-15T08:16:39.8814920Z       ✓ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8815299Z       ✓ should throw when required node is not connected
2025-04-15T08:16:39.8815605Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8815864Z       ✓ should handle node execution errors
2025-04-15T08:16:39.8816299Z       ✓ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8816687Z       ✓ should handle close functions
2025-04-15T08:16:39.8816950Z     ai_outputParser
2025-04-15T08:16:39.8817232Z       ✓ should throw when no inputs are defined
2025-04-15T08:16:39.8817619Z       ✓ should return undefined when no nodes are connected and input is not required (1 ms)
2025-04-15T08:16:39.8818200Z       ✓ should throw when too many nodes are connected (2 ms)
2025-04-15T08:16:39.8818537Z       ✓ should throw when required node is not connected (1 ms)
2025-04-15T08:16:39.8818848Z       ✓ should handle disabled nodes
2025-04-15T08:16:39.8819187Z       ✓ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8819494Z       ✓ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8819821Z       ✓ should handle close functions
2025-04-15T08:16:39.8820070Z     ai_retriever
2025-04-15T08:16:39.8820350Z       ✓ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8820767Z       ✓ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8821183Z       ✓ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8821497Z       ✓ should throw when required node is not connected
2025-04-15T08:16:39.8821985Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8822265Z       ✓ should handle node execution errors
2025-04-15T08:16:39.8822615Z       ✓ should propagate configuration errors (3 ms)
2025-04-15T08:16:39.8822920Z       ✓ should handle close functions (6 ms)
2025-04-15T08:16:39.8823189Z     ai_textSplitter
2025-04-15T08:16:39.8823484Z       ✓ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8823862Z       ✓ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8824272Z       ✓ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8824623Z       ✓ should throw when required node is not connected (2 ms)
2025-04-15T08:16:39.8824906Z       ✓ should handle disabled nodes
2025-04-15T08:16:39.8825270Z       ✓ should handle node execution errors
2025-04-15T08:16:39.8825566Z       ✓ should propagate configuration errors (1 ms)
2025-04-15T08:16:39.8825870Z       ✓ should handle close functions
2025-04-15T08:16:39.8826294Z     ai_vectorStore
2025-04-15T08:16:39.8826634Z       ✓ should throw when no inputs are defined (1 ms)
2025-04-15T08:16:39.8827073Z       ✓ should return undefined when no nodes are connected and input is not required
2025-04-15T08:16:39.8827444Z       ✓ should throw when too many nodes are connected (1 ms)
2025-04-15T08:16:39.8827752Z       ✓ should throw when required node is not connected
2025-04-15T08:16:39.8828113Z       ✓ should handle disabled nodes (1 ms)
2025-04-15T08:16:39.8828404Z       ✓ should handle node execution errors (1 ms)
2025-04-15T08:16:39.8828770Z       ✓ should propagate configuration errors
2025-04-15T08:16:39.8829087Z       ✓ should handle close functions (2 ms)
2025-04-15T08:16:39.8829322Z     ai_tool
2025-04-15T08:16:39.8829710Z       ✓ should return empty array when no tools are connected and input is not required (1 ms)
2025-04-15T08:16:39.8830095Z       ✓ should throw when required tool node is not connected
2025-04-15T08:16:39.8830415Z       ✓ should handle disabled tool nodes (1 ms)
2025-04-15T08:16:39.8830883Z       ✓ should handle multiple connected tools (1 ms)
2025-04-15T08:16:39.8831228Z       ✓ should handle tool execution errors (1 ms)
2025-04-15T08:16:39.8831578Z       ✓ should return the tool when there are no issues (5 ms)
2025-04-15T08:16:39.8831884Z   makeHandleToolInvocation
2025-04-15T08:16:39.8832210Z     ✓ should return stringified results when execution is successful (1 ms)
2025-04-15T08:16:39.8832634Z     ✓ should handle binary data and return a warning message
2025-04-15T08:16:39.8832982Z     ✓ should continue if json and binary data exist (1 ms)
2025-04-15T08:16:39.8833355Z     ✓ should handle execution errors and return an error message
2025-04-15T08:16:39.8833754Z     ✓ should increment the toolRunIndex for each invocation (1 ms)
2025-04-15T08:16:39.8833927Z 
2025-04-15T08:16:39.8834157Z PASS src/binary-data/object-store/__tests__/object-store.service.test.ts
2025-04-15T08:16:39.8834499Z   checkConnection()
2025-04-15T08:16:39.8834849Z     ✓ should send a HEAD request to the correct host (5 ms)
2025-04-15T08:16:39.8835217Z     ✓ should throw an error on request failure (15 ms)
2025-04-15T08:16:39.8835554Z   getMetadata()
2025-04-15T08:16:39.8835879Z     ✓ should send a HEAD request to the correct host and path (1 ms)
2025-04-15T08:16:39.8836354Z     ✓ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8836709Z   put()
2025-04-15T08:16:39.8837015Z     ✓ should send a PUT request to upload an object (1 ms)
2025-04-15T08:16:39.8837395Z     ✓ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8837641Z   get()
2025-04-15T08:16:39.8837920Z     ✓ should send a GET request to download an object as a buffer (1 ms)
2025-04-15T08:16:39.8838358Z     ✓ should send a GET request to download an object as a stream
2025-04-15T08:16:39.8838713Z     ✓ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8838981Z   deleteOne()
2025-04-15T08:16:39.8839332Z     ✓ should send a DELETE request to delete a single object (1 ms)
2025-04-15T08:16:39.8839666Z     ✓ should throw an error on request failure
2025-04-15T08:16:39.8839981Z   deleteMany()
2025-04-15T08:16:39.8840276Z     ✓ should send a POST request to delete multiple objects (1 ms)
2025-04-15T08:16:39.8840619Z     ✓ should not send a deletion request if no prefix match (1 ms)
2025-04-15T08:16:39.8841014Z     ✓ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8841261Z   list()
2025-04-15T08:16:39.8841560Z     ✓ should list objects with a common prefix
2025-04-15T08:16:39.8841850Z     ✓ should consolidate pages
2025-04-15T08:16:39.8842146Z     ✓ should throw an error on request failure (1 ms)
2025-04-15T08:16:39.8842342Z 
2025-04-15T08:16:39.8842572Z PASS src/execution-engine/partial-execution-utils/__tests__/find-subgraph.test.ts
2025-04-15T08:16:39.8842911Z   findSubgraph
2025-04-15T08:16:39.8843128Z     ✓ simple (4 ms)
2025-04-15T08:16:39.8843415Z     ✓ works with a single node
2025-04-15T08:16:39.8843687Z     ✓ multiple connections (1 ms)
2025-04-15T08:16:39.8844124Z     ✓ disregard nodes after destination
2025-04-15T08:16:39.8844469Z     ✓ terminates when called with graph that contains cycles
2025-04-15T08:16:39.8845070Z     ✓ terminates when called with graph that contains cycles (1 ms)
2025-04-15T08:16:39.8845434Z     ✓ terminates if the destination node is part of a cycle
2025-04-15T08:16:39.8845693Z     root nodes
2025-04-15T08:16:39.8846217Z       ✓ always retain connections that have a different type than `NodeConnectionTypes.Main`
2025-04-15T08:16:39.8846721Z       ✓ skip non-Main connection types (1 ms)
2025-04-15T08:16:39.8847027Z       ✓ remove orphaned nodes (1 ms)
2025-04-15T08:16:39.8847169Z 
2025-04-15T08:16:39.8847502Z PASS src/execution-engine/node-execution-context/utils/__tests__/validate-value-against-schema.test.ts
2025-04-15T08:16:39.8847872Z   validateValueAgainstSchema
2025-04-15T08:16:39.8848426Z     ✓ should validate fixedCollection values parameter (4 ms)
2025-04-15T08:16:39.8848757Z     ✓ should validate single value parameter
2025-04-15T08:16:39.8849139Z     when validating a resource mapper value
2025-04-15T08:16:39.8849474Z       when attemptToConvertTypes === true
2025-04-15T08:16:39.8849738Z         should correctly validate values for
2025-04-15T08:16:39.8850039Z           ✓ { num: 0 }
2025-04-15T08:16:39.8850308Z           ✓ { num: 23 }
2025-04-15T08:16:39.8850605Z           ✓ { num: -0 } (1 ms)
2025-04-15T08:16:39.8850918Z           ✓ { num: -Infinity }
2025-04-15T08:16:39.8851155Z           ✓ { num: Infinity }
2025-04-15T08:16:39.8851400Z           ✓ { str: '' } (1 ms)
2025-04-15T08:16:39.8851721Z           ✓ { str: ' ' }
2025-04-15T08:16:39.8851957Z           ✓ { str: 'hello' }
2025-04-15T08:16:39.8852242Z           ✓ { arr: [] } (1 ms)
2025-04-15T08:16:39.8852489Z           ✓ { obj: {} }
2025-04-15T08:16:39.8852727Z         should throw an error for
2025-04-15T08:16:39.8853045Z           ✓ { num: NaN } (15 ms)
2025-04-15T08:16:39.8853309Z           ✓ { num: undefined } (1 ms)
2025-04-15T08:16:39.8853568Z           ✓ { num: null }
2025-04-15T08:16:39.8853898Z       when showTypeConversionOptions is not set (=default)
2025-04-15T08:16:39.8854230Z         ✓ should correctly convert types (1 ms)
2025-04-15T08:16:39.8854531Z       when showTypeConversionOptions is true
2025-04-15T08:16:39.8854851Z         ✓ should throw an error
2025-04-15T08:16:39.8855017Z 
2025-04-15T08:16:39.8855233Z PASS src/execution-engine/partial-execution-utils/__tests__/clean-run-data.test.ts
2025-04-15T08:16:39.8855591Z   cleanRunData
2025-04-15T08:16:39.8855938Z     ✓ deletes all run data of all children and the node being passed in (3 ms)
2025-04-15T08:16:39.8856502Z     ✓ retains the run data of parent nodes of the node being passed in (1 ms)
2025-04-15T08:16:39.8856887Z     ✓ terminates when finding a cycle
2025-04-15T08:16:39.8857213Z     ✓ removes run data of nodes that are not in the subgraph
2025-04-15T08:16:39.8857595Z     ✓ removes run data of sub nodes when the start node is a root node
2025-04-15T08:16:39.8858021Z     ✓ removes run data of sub nodes for root nodes downstream of the start node
2025-04-15T08:16:39.8858477Z     ✓ removes run data of sub nodes as well if the sub node is shared between multiple root nodes (1 ms)
2025-04-15T08:16:39.8858746Z 
2025-04-15T08:16:39.8859058Z PASS src/execution-engine/node-execution-context/utils/__tests__/parse-incoming-message.test.ts
2025-04-15T08:16:39.8859478Z   parseContentType
2025-04-15T08:16:39.8859779Z     ✓ should parse basic content type (3 ms)
2025-04-15T08:16:39.8860093Z     ✓ should convert type to lowercase
2025-04-15T08:16:39.8860420Z     ✓ should parse content type with charset
2025-04-15T08:16:39.8860813Z     ✓ should parse content type with multiple parameters
2025-04-15T08:16:39.8861125Z     ✓ should handle quoted parameter values
2025-04-15T08:16:39.8861412Z     ✓ should handle encoded parameter values (1 ms)
2025-04-15T08:16:39.8861780Z     ✓ should return null for undefined input
2025-04-15T08:16:39.8862089Z     ✓ should return null for empty string
2025-04-15T08:16:39.8862521Z   parseContentDisposition
2025-04-15T08:16:39.8862877Z     ✓ should parse basic content disposition
2025-04-15T08:16:39.8863208Z     ✓ should parse filename without quotes (1 ms)
2025-04-15T08:16:39.8863576Z     ✓ should parse inline disposition
2025-04-15T08:16:39.8863869Z     ✓ should parse filename with spaces
2025-04-15T08:16:39.8864161Z     ✓ should parse filename* parameter (RFC 5987)
2025-04-15T08:16:39.8864533Z     ✓ should handle invalid syntax but with filename (1 ms)
2025-04-15T08:16:39.8864894Z     ✓ should handle invalid syntax with only filename parameter
2025-04-15T08:16:39.8865227Z     ✓ should return null for undefined input
2025-04-15T08:16:39.8865565Z     ✓ should return null for empty string
2025-04-15T08:16:39.8865859Z     ✓ should handle encoded filenames
2025-04-15T08:16:39.8866243Z     ✓ should handle multiple parameters (1 ms)
2025-04-15T08:16:39.8866595Z   parseIncomingMessage
2025-04-15T08:16:39.8866845Z     ✓ parses valid content-type header
2025-04-15T08:16:39.8867235Z     ✓ parses valid content-type header with parameters (1 ms)
2025-04-15T08:16:39.8867734Z     ✓ parses valid content-type header with encoding wrapped in quotes
2025-04-15T08:16:39.8868146Z     ✓ parses valid content-disposition header with filename* (3 ms)
2025-04-15T08:16:39.8868546Z     ✓ parses valid content-disposition header with filename* (quoted)
2025-04-15T08:16:39.8869006Z     ✓ parses valid content-disposition header with filename and trailing ";" (1 ms)
2025-04-15T08:16:39.8869432Z     ✓ parses non standard content-disposition with missing type
2025-04-15T08:16:39.8869646Z 
2025-04-15T08:16:39.8869916Z PASS src/execution-engine/partial-execution-utils/__tests__/find-trigger-for-partial-execution.test.ts
2025-04-15T08:16:39.8870331Z   findTriggerForPartialExecution
2025-04-15T08:16:39.8870631Z     Single trigger node
2025-04-15T08:16:39.8870943Z       ✓ should return the destination node if it is a trigger (4 ms)
2025-04-15T08:16:39.8871365Z       ✓ should return a parent trigger node for a non-trigger destination (1 ms)
2025-04-15T08:16:39.8871713Z     Multiple trigger nodes
2025-04-15T08:16:39.8872054Z       ✓ should prioritize webhook nodes when multiple parent triggers exist
2025-04-15T08:16:39.8872458Z       ✓ should handle multiple webhook triggers (1 ms)
2025-04-15T08:16:39.8872810Z       ✓ should prioritize webhook node, even if it is further up (1 ms)
2025-04-15T08:16:39.8873153Z       ✓ should ignore disabled parent trigger nodes (1 ms)
2025-04-15T08:16:39.8873474Z     No trigger nodes
2025-04-15T08:16:39.8873780Z       ✓ should return undefined when no valid parent triggers found
2025-04-15T08:16:39.8874164Z     Trigger node with pinned data
2025-04-15T08:16:39.8874466Z       ✓ should prioritize pinned trigger nodes (1 ms)
2025-04-15T08:16:39.8874788Z       ✓ should prioritize pinned webhook triggers (1 ms)
2025-04-15T08:16:39.8875225Z       ✓ should prioritize the first connected pinned webhook triggers (1 ms)
2025-04-15T08:16:39.8875656Z       ✓ should prioritize the first connected pinned webhook triggers (reverse) (5 ms)
2025-04-15T08:16:39.8876021Z     Error and Edge Case Handling
2025-04-15T08:16:39.8876440Z       ✓ should handle non-existent destination node gracefully
2025-04-15T08:16:39.8876819Z       ✓ should handle empty workflow
2025-04-15T08:16:39.8877149Z       ✓ should handle workflow with no connections
2025-04-15T08:16:39.8877293Z 
2025-04-15T08:16:39.8877565Z PASS src/execution-engine/node-execution-context/__tests__/node-execution-context.test.ts
2025-04-15T08:16:39.8877912Z   NodeExecutionContext
2025-04-15T08:16:39.8878177Z     getNode
2025-04-15T08:16:39.8878458Z       ✓ should return a deep copy of the node (3 ms)
2025-04-15T08:16:39.8878733Z     getWorkflow
2025-04-15T08:16:39.8879078Z       ✓ should return the id, name, and active properties of the workflow
2025-04-15T08:16:39.8879370Z     getMode
2025-04-15T08:16:39.8879659Z       ✓ should return the mode property (1 ms)
2025-04-15T08:16:39.8879930Z     getWorkflowStaticData
2025-04-15T08:16:39.8880315Z       ✓ should call getStaticData method of workflow (1 ms)
2025-04-15T08:16:39.8880645Z     getChildNodes
2025-04-15T08:16:39.8881015Z       ✓ should return an array of NodeTypeAndVersion objects for the child nodes of the given node
2025-04-15T08:16:39.8881402Z     getParentNodes
2025-04-15T08:16:39.8881799Z       ✓ should return an array of NodeTypeAndVersion objects for the parent nodes of the given node
2025-04-15T08:16:39.8882128Z     getKnownNodeTypes
2025-04-15T08:16:39.8882494Z       ✓ should call getKnownTypes method of nodeTypes (1 ms)
2025-04-15T08:16:39.8882754Z     getRestApiUrl
2025-04-15T08:16:39.8883029Z       ✓ should return the restApiUrl property of additionalData
2025-04-15T08:16:39.8883362Z     getInstanceBaseUrl
2025-04-15T08:16:39.8883730Z       ✓ should return the instanceBaseUrl property of additionalData (1 ms)
2025-04-15T08:16:39.8884037Z     getInstanceId
2025-04-15T08:16:39.8884350Z       ✓ should return the instanceId property of instanceSettings
2025-04-15T08:16:39.8884674Z     getTimezone
2025-04-15T08:16:39.8885101Z       ✓ should return the timezone property of workflow
2025-04-15T08:16:39.8885692Z     getCredentialsProperties
2025-04-15T08:16:39.8886080Z       ✓ should call getCredentialsProperties method of additionalData.credentialsHelper
2025-04-15T08:16:39.8886603Z     prepareOutputData
2025-04-15T08:16:39.8886901Z       ✓ should return the input array wrapped in another array
2025-04-15T08:16:39.8887226Z     getNodeInputs
2025-04-15T08:16:39.8887562Z       ✓ should return static inputs array when inputs is an array (1 ms)
2025-04-15T08:16:39.8887985Z       ✓ should return input objects when inputs contains configurations
2025-04-15T08:16:39.8888994Z       ✓ should evaluate dynamic inputs when inputs is a function (1 ms)
2025-04-15T08:16:39.8889312Z     getNodeOutputs
2025-04-15T08:16:39.8889618Z       ✓ should return static outputs array when outputs is an array
2025-04-15T08:16:39.8890064Z       ✓ should return output objects when outputs contains configurations (1 ms)
2025-04-15T08:16:39.8890469Z       ✓ should evaluate dynamic outputs when outputs is a function
2025-04-15T08:16:39.8890906Z       ✓ should add error output when node has continueOnFail error handling (1 ms)
2025-04-15T08:16:39.8891312Z     getConnectedNodes
2025-04-15T08:16:39.8891582Z       ✓ should return connected nodes of given type (1 ms)
2025-04-15T08:16:39.8891941Z       ✓ should filter out disabled nodes
2025-04-15T08:16:39.8892257Z       ✓ should filter out non-existent nodes (1 ms)
2025-04-15T08:16:39.8892401Z 
2025-04-15T08:16:39.8892623Z PASS src/execution-engine/__tests__/active-workflows.test.ts
2025-04-15T08:16:39.8892933Z   ActiveWorkflows
2025-04-15T08:16:39.8893186Z     add()
2025-04-15T08:16:39.8893437Z       should activate workflow
2025-04-15T08:16:39.8893714Z         ✓ with trigger nodes (4 ms)
2025-04-15T08:16:39.8893983Z         ✓ with polling nodes (1 ms)
2025-04-15T08:16:39.8894333Z         ✓ with both trigger and polling nodes (1 ms)
2025-04-15T08:16:39.8894591Z       should throw error
2025-04-15T08:16:39.8894884Z         ✓ if trigger activation fails (16 ms)
2025-04-15T08:16:39.8895207Z         ✓ if polling activation fails (8 ms)
2025-04-15T08:16:39.8895541Z         ✓ if the polling interval is too short (1 ms)
2025-04-15T08:16:39.8895859Z       should handle polling errors
2025-04-15T08:16:39.8896258Z         ✓ should throw error when poll fails during initial testing (1 ms)
2025-04-15T08:16:39.8896727Z         ✓ should emit error when poll fails during regular polling (4 ms)
2025-04-15T08:16:39.8897076Z     remove()
2025-04-15T08:16:39.8897356Z       ✓ should remove an active workflow (1 ms)
2025-04-15T08:16:39.8897720Z       ✓ should return false when removing non-existent workflow
2025-04-15T08:16:39.8898097Z       ✓ should handle TriggerCloseError when closing trigger (1 ms)
2025-04-15T08:16:39.8898529Z       ✓ should throw WorkflowDeactivationError when closeFunction throws regular error (1 ms)
2025-04-15T08:16:39.8898905Z     get() and isActive()
2025-04-15T08:16:39.8899329Z       ✓ should return workflow data for active workflow
2025-04-15T08:16:39.8899652Z       ✓ should return undefined for non-active workflow
2025-04-15T08:16:39.8899959Z     allActiveWorkflows()
2025-04-15T08:16:39.8900239Z       ✓ should return all active workflow IDs
2025-04-15T08:16:39.8900540Z     removeAllTriggerAndPollerBasedWorkflows()
2025-04-15T08:16:39.8900901Z       ✓ should remove all active workflows
2025-04-15T08:16:39.8901138Z 
2025-04-15T08:16:39.8901950Z Permissions 00 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8902968Z PASS src/execution-engine/node-execution-context/utils/__tests__/file-system-helper-functions.test.ts
2025-04-15T08:16:39.8903344Z   isFilePathBlocked
2025-04-15T08:16:39.8903693Z     ✓ should return true for static cache dir (18 ms)
2025-04-15T08:16:39.8904192Z     ✓ should return true for restricted paths (1 ms)
2025-04-15T08:16:39.8904494Z     ✓ should handle empty allowed paths
2025-04-15T08:16:39.8904809Z     ✓ should handle multiple allowed paths
2025-04-15T08:16:39.8905120Z     ✓ should handle empty strings in allowed paths
2025-04-15T08:16:39.8905416Z     ✓ should trim whitespace in allowed paths (1 ms)
2025-04-15T08:16:39.8905844Z     ✓ should return false when BLOCK_FILE_ACCESS_TO_N8N_FILES is false
2025-04-15T08:16:39.8906318Z     ✓ should return true when path is in allowed paths but still restricted
2025-04-15T08:16:39.8906791Z     ✓ should return false when path is in allowed paths
2025-04-15T08:16:39.8907160Z     ✓ should return true when file paths in CONFIG_FILES (1 ms)
2025-04-15T08:16:39.8907516Z     ✓ should return true when file paths in CUSTOM_EXTENSION_ENV
2025-04-15T08:16:39.8907925Z     ✓ should return true when file paths in BINARY_DATA_STORAGE_PATH
2025-04-15T08:16:39.8908273Z     ✓ should block file paths in email template paths
2025-04-15T08:16:39.8908549Z   getFileSystemHelperFunctions
2025-04-15T08:16:39.8908925Z     ✓ should create helper functions with correct context (1 ms)
2025-04-15T08:16:39.8909241Z     getStoragePath
2025-04-15T08:16:39.8981081Z       ✓ returns correct path
2025-04-15T08:16:39.8981319Z     createReadStream
2025-04-15T08:16:39.8981644Z       ✓ should throw error for non-existent file (14 ms)
2025-04-15T08:16:39.8981881Z       ✓ should throw when file access is blocked
2025-04-15T08:16:39.8982153Z       ✓ should create a read stream if file access is permitted (1 ms)
2025-04-15T08:16:39.8982356Z     writeContentToFile
2025-04-15T08:16:39.8982556Z       ✓ should throw error for blocked file path (4 ms)
2025-04-15T08:16:39.8982686Z 
2025-04-15T08:16:39.8982841Z PASS src/binary-data/__tests__/file-system.manager.test.ts
2025-04-15T08:16:39.8983037Z   store()
2025-04-15T08:16:39.8983194Z     ✓ should store a buffer (5 ms)
2025-04-15T08:16:39.8983369Z   getPath()
2025-04-15T08:16:39.8983519Z     ✓ should return a path
2025-04-15T08:16:39.8983661Z   getAsBuffer()
2025-04-15T08:16:39.8983828Z     ✓ should return a buffer (1 ms)
2025-04-15T08:16:39.8983981Z   getAsStream()
2025-04-15T08:16:39.8984132Z     ✓ should return a stream (3 ms)
2025-04-15T08:16:39.8984274Z   getMetadata()
2025-04-15T08:16:39.8984414Z     ✓ should return metadata
2025-04-15T08:16:39.8984552Z   copyByFileId()
2025-04-15T08:16:39.8984756Z     ✓ should copy by file ID and return the file ID (1 ms)
2025-04-15T08:16:39.8984937Z   copyByFilePath()
2025-04-15T08:16:39.8985152Z     ✓ should copy by file path and return the file ID and size
2025-04-15T08:16:39.8985334Z   deleteMany()
2025-04-15T08:16:39.8985554Z     ✓ should delete many files by workflow ID and execution ID (1 ms)
2025-04-15T08:16:39.8985811Z     ✓ should suppress error on non-existing filepath
2025-04-15T08:16:39.8985984Z   rename()
2025-04-15T08:16:39.8986138Z     ✓ should rename a file (1 ms)
2025-04-15T08:16:39.8986538Z 
2025-04-15T08:16:39.8986659Z PASS src/errors/__tests__/error-reporter.test.ts
2025-04-15T08:16:39.8986842Z   ErrorReporter
2025-04-15T08:16:39.8987001Z     beforeSend
2025-04-15T08:16:39.8987351Z       ✓ should ignore errors with level warning (3 ms)
2025-04-15T08:16:39.8987627Z       ✓ should keep events with a cause with error level (8 ms)
2025-04-15T08:16:39.8987909Z       ✓ should ignore events with error cause with warning level
2025-04-15T08:16:39.8988177Z       ✓ should set level, extra, and tags from ApplicationError
2025-04-15T08:16:39.8988446Z       ✓ should deduplicate errors with same stack trace (1 ms)
2025-04-15T08:16:39.8988682Z       ✓ should handle Promise rejections (1 ms)
2025-04-15T08:16:39.8988914Z       ✓ should ignore if originalException is undefined
2025-04-15T08:16:39.8989144Z       ✓ should ignore if originalException is null
2025-04-15T08:16:39.8989401Z       ✓ should ignore if originalException is an AxiosError (1 ms)
2025-04-15T08:16:39.8989718Z       ✓ should ignore if originalException is a rejected Promise with AxiosError
2025-04-15T08:16:39.8990225Z       ✓ should ignore if originalException is a QueryFailedError with SQLITE_FULL
2025-04-15T08:16:39.8990565Z       ✓ should ignore if originalException is a QueryFailedError with SQLITE_IOERR
2025-04-15T08:16:39.8990940Z       ✓ should ignore if originalException is an ApplicationError with "warning" level (1 ms)
2025-04-15T08:16:39.8991359Z       ✓ should ignore if originalException is an Error with ApplicationError as cause with "warning" level
2025-04-15T08:16:39.8991626Z       beforeSendFilter
2025-04-15T08:16:39.8991858Z         ✓ should filter out based on the beforeSendFilter (1 ms)
2025-04-15T08:16:39.8992135Z         ✓ should not filter out when beforeSendFilter returns false
2025-04-15T08:16:39.8992331Z       BaseError
2025-04-15T08:16:39.8992513Z         ✓ should drop errors with shouldReport false
2025-04-15T08:16:39.8992758Z         ✓ should keep events with shouldReport true (1 ms)
2025-04-15T08:16:39.8993006Z         ✓ should set level, extra, and tags from BaseError
2025-04-15T08:16:39.8993178Z     error
2025-04-15T08:16:39.8993413Z       ✓ should include stack trace for error-level `ApplicationError` (1 ms)
2025-04-15T08:16:39.8993728Z       ✓ should exclude stack trace for warning-level `ApplicationError`
2025-04-15T08:16:39.8993877Z 
2025-04-15T08:16:39.8994701Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.8995534Z PASS src/execution-engine/node-execution-context/__tests__/execute-context.test.ts
2025-04-15T08:16:39.8995781Z   ExecuteContext
2025-04-15T08:16:39.8995922Z     getExecutionCancelSignal
2025-04-15T08:16:39.8996129Z       ✓ should return the abort signal (2 ms)
2025-04-15T08:16:39.8996441Z     continueOnFail
2025-04-15T08:16:39.8996727Z       ✓ should return false for nodes by default (1 ms)
2025-04-15T08:16:39.8996999Z       ✓ should return true if node has continueOnFail set to true
2025-04-15T08:16:39.8997320Z       ✓ if node has onError set to continueRegularOutput, it should return true (1 ms)
2025-04-15T08:16:39.8997644Z       ✓ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:16:39.8997935Z       ✓ if node has onError set to stopWorkflow, it should return false
2025-04-15T08:16:39.8998128Z     getContext
2025-04-15T08:16:39.8998300Z       ✓ should return the context object (1 ms)
2025-04-15T08:16:39.8998461Z     sendMessageToUI
2025-04-15T08:16:39.8998645Z       ✓ should send console messages to the frontend
2025-04-15T08:16:39.8998804Z     logAiEvent
2025-04-15T08:16:39.8998967Z       ✓ should log the AI event correctly
2025-04-15T08:16:39.8999126Z     getInputSourceData
2025-04-15T08:16:39.8999428Z       ✓ should return the input source data correctly
2025-04-15T08:16:39.8999692Z       ✓ should throw an error if the source data is missing (11 ms)
2025-04-15T08:16:39.8999880Z     setMetadata
2025-04-15T08:16:39.9000036Z       ✓ sets metadata on execution data
2025-04-15T08:16:39.9000186Z     evaluateExpression
2025-04-15T08:16:39.9000382Z       ✓ should evaluate the expression correctly (1 ms)
2025-04-15T08:16:39.9000551Z     putExecutionToWait
2025-04-15T08:16:39.9000731Z       ✓ should set waitTill and execution status
2025-04-15T08:16:39.9000890Z     executeWorkflow
2025-04-15T08:16:39.9001072Z       ✓ should execute workflow and return data (1 ms)
2025-04-15T08:16:39.9001317Z       ✓ should put execution to wait if waitTill is returned
2025-04-15T08:16:39.9001500Z     getInputData
2025-04-15T08:16:39.9001682Z       ✓ should return the input data correctly (1 ms)
2025-04-15T08:16:39.9001961Z       ✓ should return an empty array if the input name does not exist (3 ms)
2025-04-15T08:16:39.9002270Z       ✓ should throw an error if the input index is out of range (3 ms)
2025-04-15T08:16:39.9002632Z       ✓ should throw an error if the input index was not set
2025-04-15T08:16:39.9002815Z     getNodeParameter
2025-04-15T08:16:39.9003066Z       ✓ should throw if parameter is not defined on the node.parameters (3 ms)
2025-04-15T08:16:39.9003388Z       ✓ should return null if the parameter exists but has a null value (1 ms)
2025-04-15T08:16:39.9003653Z       ✓ should return parameter value when it exists
2025-04-15T08:16:39.9003935Z       ✓ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9004214Z       ✓ should handle expression evaluation errors (1 ms)
2025-04-15T08:16:39.9004497Z       ✓ should handle expression errors on Set nodes (Ticket #PAY-684)
2025-04-15T08:16:39.9004705Z     getCredentials
2025-04-15T08:16:39.9004887Z       ✓ should get decrypted credentials
2025-04-15T08:16:39.9005054Z     getExecuteData
2025-04-15T08:16:39.9005233Z       ✓ should return the execute data correctly
2025-04-15T08:16:39.9005412Z     getWorkflowDataProxy
2025-04-15T08:16:39.9005638Z       ✓ should return the workflow data proxy correctly (11 ms)
2025-04-15T08:16:39.9005787Z 
2025-04-15T08:16:39.9005879Z PASS src/__tests__/credentials.test.ts
2025-04-15T08:16:39.9006041Z   Credentials
2025-04-15T08:16:39.9006251Z     without nodeType set
2025-04-15T08:16:39.9006598Z       ✓ should be able to set and read key data without initial data set (5 ms)
2025-04-15T08:16:39.9006902Z       ✓ should be able to set and read key data with initial data set
2025-04-15T08:16:39.9007092Z     getData
2025-04-15T08:16:39.9007287Z       ✓ should throw an error when data is missing (7 ms)
2025-04-15T08:16:39.9007535Z       ✓ should throw an error when decryption fails (1 ms)
2025-04-15T08:16:39.9007790Z       ✓ should throw an error when JSON parsing fails (1 ms)
2025-04-15T08:16:39.9008201Z       ✓ should successfully decrypt and parse valid JSON credentials (1 ms)
2025-04-15T08:16:39.9008416Z     setData
2025-04-15T08:16:39.9008622Z       ✓ should throw an AssertionError when data is 123 (2 ms)
2025-04-15T08:16:39.9008946Z       ✓ should throw an AssertionError when data is null (1 ms)
2025-04-15T08:16:39.9009208Z       ✓ should throw an AssertionError when data is undefined
2025-04-15T08:16:39.9009382Z     updateData
2025-04-15T08:16:39.9009546Z       ✓ should update existing data (1 ms)
2025-04-15T08:16:39.9009747Z       ✓ should delete specified keys (1 ms)
2025-04-15T08:16:39.9009965Z       ✓ should update and delete keys in same operation
2025-04-15T08:16:39.9010223Z       ✓ should throw an error if no data was previously set (2 ms)
2025-04-15T08:16:39.9010358Z 
2025-04-15T08:16:39.9010577Z PASS src/execution-engine/partial-execution-utils/__tests__/filter-disabled-nodes.test.ts
2025-04-15T08:16:39.9010836Z   filterDisabledNodes
2025-04-15T08:16:39.9011002Z     ✓ filter disabled nodes (3 ms)
2025-04-15T08:16:39.9011238Z     ✓ filter multiple disabled nodes in a row (1 ms)
2025-04-15T08:16:39.9011444Z     root nodes
2025-04-15T08:16:39.9011758Z       ✓ filter disabled root nodes
2025-04-15T08:16:39.9011897Z 
2025-04-15T08:16:39.9012143Z PASS src/execution-engine/node-execution-context/utils/__tests__/execution-metadata.test.ts
2025-04-15T08:16:39.9012470Z   Execution Metadata functions
2025-04-15T08:16:39.9012698Z     ✓ setWorkflowExecutionMetadata will set a value (3 ms)
2025-04-15T08:16:39.9012994Z     ✓ setAllWorkflowExecutionMetadata will set multiple values (1 ms)
2025-04-15T08:16:39.9013344Z     ✓ setWorkflowExecutionMetadata should only convert numbers to strings (10 ms)
2025-04-15T08:16:39.9013791Z     ✓ setAllWorkflowExecutionMetadata should not convert values to strings and should set other values correctly
2025-04-15T08:16:39.9014193Z     ✓ setWorkflowExecutionMetadata should validate key characters (1 ms)
2025-04-15T08:16:39.9014543Z     ✓ setWorkflowExecutionMetadata should limit the number of metadata entries
2025-04-15T08:16:39.9014909Z     ✓ getWorkflowExecutionMetadata should return a single value for an existing key
2025-04-15T08:16:39.9015291Z     ✓ getWorkflowExecutionMetadata should return undefined for an unset key (1 ms)
2025-04-15T08:16:39.9015726Z     ✓ getAllWorkflowExecutionMetadata should return all metadata
2025-04-15T08:16:39.9016078Z     ✓ getAllWorkflowExecutionMetadata should not an object that modifies internal state
2025-04-15T08:16:39.9016592Z     ✓ setWorkflowExecutionMetadata should truncate long keys
2025-04-15T08:16:39.9016888Z     ✓ setWorkflowExecutionMetadata should truncate long values (1 ms)
2025-04-15T08:16:39.9017052Z 
2025-04-15T08:16:39.9017881Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9018731Z PASS src/execution-engine/node-execution-context/__tests__/execute-single-context.test.ts
2025-04-15T08:16:39.9018997Z   ExecuteSingleContext
2025-04-15T08:16:39.9019139Z     getExecutionCancelSignal
2025-04-15T08:16:39.9019332Z       ✓ should return the abort signal (2 ms)
2025-04-15T08:16:39.9019498Z     continueOnFail
2025-04-15T08:16:39.9019676Z       ✓ should return false for nodes by default
2025-04-15T08:16:39.9019942Z       ✓ should return true if node has continueOnFail set to true (1 ms)
2025-04-15T08:16:39.9020258Z       ✓ if node has onError set to continueRegularOutput, it should return true
2025-04-15T08:16:39.9020572Z       ✓ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:16:39.9020883Z       ✓ if node has onError set to stopWorkflow, it should return false (1 ms)
2025-04-15T08:16:39.9021082Z     getContext
2025-04-15T08:16:39.9021275Z       ✓ should return the context object
2025-04-15T08:16:39.9021527Z     sendMessageToUI
2025-04-15T08:16:39.9021824Z       ✓ should send console messages to the frontend (1 ms)
2025-04-15T08:16:39.9022095Z     logAiEvent
2025-04-15T08:16:39.9022351Z       ✓ should log the AI event correctly
2025-04-15T08:16:39.9022600Z     getInputSourceData
2025-04-15T08:16:39.9022885Z       ✓ should return the input source data correctly
2025-04-15T08:16:39.9023236Z       ✓ should throw an error if the source data is missing (16 ms)
2025-04-15T08:16:39.9023508Z     setMetadata
2025-04-15T08:16:39.9023769Z       ✓ sets metadata on execution data (1 ms)
2025-04-15T08:16:39.9024017Z     evaluateExpression
2025-04-15T08:16:39.9024290Z       ✓ should evaluate the expression correctly
2025-04-15T08:16:39.9024544Z     putExecutionToWait
2025-04-15T08:16:39.9024811Z       ✓ should set waitTill and execution status
2025-04-15T08:16:39.9025060Z     executeWorkflow
2025-04-15T08:16:39.9025273Z       ✓ should execute workflow and return data (1 ms)
2025-04-15T08:16:39.9025529Z       ✓ should put execution to wait if waitTill is returned (1 ms)
2025-04-15T08:16:39.9025711Z     getInputData
2025-04-15T08:16:39.9025984Z       ✓ should return the input data correctly
2025-04-15T08:16:39.9026423Z       ✓ should return an empty object if the input name does not exist (1 ms)
2025-04-15T08:16:39.9026848Z       ✓ should throw an error if the input index is out of range (2 ms)
2025-04-15T08:16:39.9027202Z       ✓ should throw an error if the input index was not set
2025-04-15T08:16:39.9027593Z       ✓ should throw an error if the value of input with given index was not set (1 ms)
2025-04-15T08:16:39.9027891Z     getItemIndex
2025-04-15T08:16:39.9028146Z       ✓ should return the item index correctly
2025-04-15T08:16:39.9028394Z     getNodeParameter
2025-04-15T08:16:39.9028672Z       ✓ should return parameter value when it exists
2025-04-15T08:16:39.9029046Z       ✓ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:16:39.9029345Z     getCredentials
2025-04-15T08:16:39.9029606Z       ✓ should get decrypted credentials
2025-04-15T08:16:39.9029847Z     getExecuteData
2025-04-15T08:16:39.9030113Z       ✓ should return the execute data correctly
2025-04-15T08:16:39.9030487Z     getWorkflowDataProxy
2025-04-15T08:16:39.9030795Z       ✓ should return the workflow data proxy correctly (14 ms)
2025-04-15T08:16:39.9030996Z 
2025-04-15T08:16:39.9031216Z PASS src/execution-engine/partial-execution-utils/__tests__/handle-cycles.test.ts
2025-04-15T08:16:39.9031539Z   handleCycles
2025-04-15T08:16:39.9031912Z     ✓ if the start node is within a cycle it returns the start of the cycle as the new start node (4 ms)
2025-04-15T08:16:39.9032293Z     ✓ does not mutate `startNodes`
2025-04-15T08:16:39.9032687Z     ✓ if the start node is not within a cycle it returns the same node as the new start node (1 ms)
2025-04-15T08:16:39.9032931Z 
2025-04-15T08:16:39.9033111Z PASS src/execution-engine/__tests__/triggers-and-pollers.test.ts
2025-04-15T08:16:39.9033415Z   TriggersAndPollers
2025-04-15T08:16:39.9033633Z     runTrigger()
2025-04-15T08:16:39.9033960Z       ✓ should throw error if node type does not have trigger function (14 ms)
2025-04-15T08:16:39.9034359Z       ✓ should call trigger function in regular mode (1 ms)
2025-04-15T08:16:39.9034643Z       manual mode
2025-04-15T08:16:39.9034908Z         ✓ should handle promise resolution
2025-04-15T08:16:39.9035209Z         ✓ should handle error emission (1 ms)
2025-04-15T08:16:39.9035511Z         ✓ should handle response promise (1 ms)
2025-04-15T08:16:39.9035829Z         ✓ should handle both response and done promises
2025-04-15T08:16:39.9036093Z     runPoll()
2025-04-15T08:16:39.9036548Z       ✓ should throw error if node type does not have poll function (1 ms)
2025-04-15T08:16:39.9036921Z       ✓ should call poll function and return result (1 ms)
2025-04-15T08:16:39.9037263Z       ✓ should return null if poll function returns no data
2025-04-15T08:16:39.9037602Z       ✓ should propagate errors from poll function (1 ms)
2025-04-15T08:16:39.9037790Z 
2025-04-15T08:16:39.9037948Z PASS src/logging/__tests__/logger.test.ts
2025-04-15T08:16:39.9038193Z   Logger
2025-04-15T08:16:39.9038407Z     constructor
2025-04-15T08:16:39.9038717Z       ✓ if root, should initialize `LoggerProxy` with instance (6 ms)
2025-04-15T08:16:39.9039076Z       ✓ if scoped, should not initialize `LoggerProxy` (1 ms)
2025-04-15T08:16:39.9039343Z     transports
2025-04-15T08:16:39.9039639Z       ✓ if `console` selected, should set console transport (1 ms)
2025-04-15T08:16:39.9039986Z       ✓ if `file` selected, should set file transport (10 ms)
2025-04-15T08:16:39.9040242Z     levels
2025-04-15T08:16:39.9040525Z       ✓ if `error` selected, should enable `error` level (1 ms)
2025-04-15T08:16:39.9040888Z       ✓ if `warn` selected, should enable `error` and `warn` levels (1 ms)
2025-04-15T08:16:39.9041288Z       ✓ if `info` selected, should enable `error`, `warn`, and `info` levels (1 ms)
2025-04-15T08:16:39.9041648Z       ✓ if `debug` selected, should enable all levels
2025-04-15T08:16:39.9041983Z       ✓ if `silent` selected, should disable all levels (2 ms)
2025-04-15T08:16:39.9042139Z 
2025-04-15T08:16:39.9043111Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9044047Z PASS src/execution-engine/node-execution-context/utils/__tests__/get-additional-keys.test.ts
2025-04-15T08:16:39.9044393Z   getAdditionalKeys
2025-04-15T08:16:39.9044707Z     ✓ should use placeholder execution ID when none provided (3 ms)
2025-04-15T08:16:39.9045065Z     ✓ should return production mode when not manual (1 ms)
2025-04-15T08:16:39.9045446Z     ✓ should include customData methods when runExecutionData is provided
2025-04-15T08:16:39.9045814Z     ✓ should handle customData operations correctly (1 ms)
2025-04-15T08:16:39.9046135Z     ✓ should include secrets when enabled (1 ms)
2025-04-15T08:16:39.9046594Z     ✓ should not include secrets when disabled
2025-04-15T08:16:39.9047005Z     ✓ should throw errors in manual mode (13 ms)
2025-04-15T08:16:39.9047297Z     ✓ should correctly set resume URLs
2025-04-15T08:16:39.9047587Z     ✓ should return test mode when manual
2025-04-15T08:16:39.9047886Z     ✓ should return variables from additionalData
2025-04-15T08:16:39.9048830Z     ✓ should handle errors in non-manual mode without throwing (1 ms)
2025-04-15T08:16:39.9049219Z     ✓ should return undefined customData when runExecutionData is null
2025-04-15T08:16:39.9049559Z     ✓ should respect metadata KV limit (1 ms)
2025-04-15T08:16:39.9049733Z 
2025-04-15T08:16:39.9049996Z There was a problem logging input data of node "Test Node": additionalData.hooks?.runHook is not a function
2025-04-15T08:16:39.9050499Z PASS src/execution-engine/node-execution-context/__tests__/supply-data-context.test.ts
2025-04-15T08:16:39.9050857Z   SupplyDataContext
2025-04-15T08:16:39.9051087Z     getExecutionCancelSignal
2025-04-15T08:16:39.9051382Z       ✓ should return the abort signal (3 ms)
2025-04-15T08:16:39.9051639Z     continueOnFail
2025-04-15T08:16:39.9051919Z       ✓ should return false for nodes by default (9 ms)
2025-04-15T08:16:39.9052286Z       ✓ should return true if node has continueOnFail set to true (1 ms)
2025-04-15T08:16:39.9052718Z       ✓ if node has onError set to continueRegularOutput, it should return true
2025-04-15T08:16:39.9053124Z       ✓ if node has onError set to continueErrorOutput, it should return true
2025-04-15T08:16:39.9053526Z       ✓ if node has onError set to stopWorkflow, it should return false (1 ms)
2025-04-15T08:16:39.9053814Z     getContext
2025-04-15T08:16:39.9054075Z       ✓ should return the context object (1 ms)
2025-04-15T08:16:39.9054323Z     sendMessageToUI
2025-04-15T08:16:39.9054607Z       ✓ should send console messages to the frontend (2 ms)
2025-04-15T08:16:39.9054873Z     logAiEvent
2025-04-15T08:16:39.9055134Z       ✓ should log the AI event correctly (1 ms)
2025-04-15T08:16:39.9055390Z     getInputSourceData
2025-04-15T08:16:39.9055679Z       ✓ should return the input source data correctly
2025-04-15T08:16:39.9056033Z       ✓ should throw an error if the source data is missing (13 ms)
2025-04-15T08:16:39.9056414Z     setMetadata
2025-04-15T08:16:39.9056740Z       ✓ sets metadata on execution data (1 ms)
2025-04-15T08:16:39.9056989Z     evaluateExpression
2025-04-15T08:16:39.9057276Z       ✓ should evaluate the expression correctly (1 ms)
2025-04-15T08:16:39.9057535Z     putExecutionToWait
2025-04-15T08:16:39.9057801Z       ✓ should set waitTill and execution status
2025-04-15T08:16:39.9058048Z     executeWorkflow
2025-04-15T08:16:39.9058322Z       ✓ should execute workflow and return data (1 ms)
2025-04-15T08:16:39.9058664Z       ✓ should put execution to wait if waitTill is returned (2 ms)
2025-04-15T08:16:39.9058937Z     getInputData
2025-04-15T08:16:39.9059195Z       ✓ should return the input data correctly
2025-04-15T08:16:39.9059670Z       ✓ should return an empty array if the input name does not exist
2025-04-15T08:16:39.9059855Z       ✓ should throw an error if the input index is out of range (4 ms)
2025-04-15T08:16:39.9060043Z       ✓ should throw an error if the input index was not set
2025-04-15T08:16:39.9060127Z     getNodeParameter
2025-04-15T08:16:39.9060314Z       ✓ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9060500Z       ✓ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9060614Z     getCredentials
2025-04-15T08:16:39.9060746Z       ✓ should get decrypted credentials (1 ms)
2025-04-15T08:16:39.9060869Z     getWorkflowDataProxy
2025-04-15T08:16:39.9061033Z       ✓ should return the workflow data proxy correctly (12 ms)
2025-04-15T08:16:39.9061150Z     cloneWith
2025-04-15T08:16:39.9061273Z       ✓ should return a new copy (1 ms)
2025-04-15T08:16:39.9061277Z 
2025-04-15T08:16:39.9061443Z PASS src/decorators/__tests__/memoized.test.ts
2025-04-15T08:16:39.9061566Z   Memoized Decorator
2025-04-15T08:16:39.9061703Z     ✓ should only compute the value once (3 ms)
2025-04-15T08:16:39.9062041Z     ✓ should cache values independently for different instances (1 ms)
2025-04-15T08:16:39.9062187Z     ✓ should throw error when used on non-getter (7 ms)
2025-04-15T08:16:39.9062363Z     ✓ should make cached value non-enumerable (1 ms)
2025-04-15T08:16:39.9062519Z     ✓ should not allow reconfiguring the cached value (5 ms)
2025-04-15T08:16:39.9062766Z     ✓ should work when child class references memoized getter in parent class (1 ms)
2025-04-15T08:16:39.9062946Z     ✓ should have correct property descriptor after memoization (1 ms)
2025-04-15T08:16:39.9063145Z     ✓ should not prevent garbage collection of instances (30 ms)
2025-04-15T08:16:39.9063149Z 
2025-04-15T08:16:39.9063306Z PASS src/binary-data/__tests__/object-store.manager.test.ts
2025-04-15T08:16:39.9063420Z   store()
2025-04-15T08:16:39.9063540Z     ✓ should store a buffer (2 ms)
2025-04-15T08:16:39.9063670Z   getPath()
2025-04-15T08:16:39.9063773Z     ✓ should return a path
2025-04-15T08:16:39.9063903Z   getAsBuffer()
2025-04-15T08:16:39.9064029Z     ✓ should return a buffer (1 ms)
2025-04-15T08:16:39.9064148Z   getAsStream()
2025-04-15T08:16:39.9064286Z     ✓ should return a stream
2025-04-15T08:16:39.9064367Z   getMetadata()
2025-04-15T08:16:39.9064517Z     ✓ should return metadata (1 ms)
2025-04-15T08:16:39.9064601Z   copyByFileId()
2025-04-15T08:16:39.9064777Z     ✓ should copy by file ID and return the file ID
2025-04-15T08:16:39.9064865Z   copyByFilePath()
2025-04-15T08:16:39.9065048Z     ✓ should copy by file path and return the file ID and size
2025-04-15T08:16:39.9065095Z   rename()
2025-04-15T08:16:39.9065185Z     ✓ should rename a file (1 ms)
2025-04-15T08:16:39.9065189Z 
2025-04-15T08:16:39.9065422Z PASS src/execution-engine/node-execution-context/utils/__tests__/webhook-helper-functions.test.ts
2025-04-15T08:16:39.9065485Z   Webhook Helper Functions
2025-04-15T08:16:39.9065540Z     getWebhookDescription
2025-04-15T08:16:39.9065682Z       ✓ should return undefined for invalid webhook type (18 ms)
2025-04-15T08:16:39.9065806Z       ✓ should return undefined when node has no webhooks
2025-04-15T08:16:39.9065958Z       ✓ should return webhook description when webhook exists (1 ms)
2025-04-15T08:16:39.9066016Z     getNodeWebhookUrl
2025-04-15T08:16:39.9066113Z       ✓ should return webhook URL with path
2025-04-15T08:16:39.9066302Z       ✓ should handle path starting with /
2025-04-15T08:16:39.9066458Z       ✓ should return webhook URL with webhookId
2025-04-15T08:16:39.9066639Z       ✓ should return test webhook URL for test webhooks
2025-04-15T08:16:39.9066643Z 
2025-04-15T08:16:39.9067433Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9067729Z PASS src/execution-engine/node-execution-context/__tests__/webhook-context.test.ts
2025-04-15T08:16:39.9067789Z   WebhookContext
2025-04-15T08:16:39.9067838Z     getCredentials
2025-04-15T08:16:39.9067944Z       ✓ should get decrypted credentials (4 ms)
2025-04-15T08:16:39.9067989Z     getBodyData
2025-04-15T08:16:39.9068091Z       ✓ should return the body data of the request
2025-04-15T08:16:39.9068138Z     getHeaderData
2025-04-15T08:16:39.9068260Z       ✓ should return the header data of the request (1 ms)
2025-04-15T08:16:39.9068311Z     getParamsData
2025-04-15T08:16:39.9068424Z       ✓ should return the params data of the request
2025-04-15T08:16:39.9068472Z     getQueryData
2025-04-15T08:16:39.9068574Z       ✓ should return the query data of the request
2025-04-15T08:16:39.9068624Z     getRequestObject
2025-04-15T08:16:39.9068723Z       ✓ should return the request object (1 ms)
2025-04-15T08:16:39.9068775Z     getResponseObject
2025-04-15T08:16:39.9068874Z       ✓ should return the response object
2025-04-15T08:16:39.9068931Z     getWebhookName
2025-04-15T08:16:39.9069143Z       ✓ should return the name of the webhook (1 ms)
2025-04-15T08:16:39.9069193Z     getNodeParameter
2025-04-15T08:16:39.9069320Z       ✓ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9069473Z       ✓ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9069477Z 
2025-04-15T08:16:39.9069677Z PASS src/execution-engine/node-execution-context/utils/__tests__/normalize-items.test.ts
2025-04-15T08:16:39.9069732Z   normalizeItems
2025-04-15T08:16:39.9069778Z     should handle
2025-04-15T08:16:39.9069882Z       ✓ single object without json key (2 ms)
2025-04-15T08:16:39.9069977Z       ✓ array of objects without json key
2025-04-15T08:16:39.9070092Z       ✓ single object with json key
2025-04-15T08:16:39.9070184Z       ✓ array of objects with json key
2025-04-15T08:16:39.9070309Z       ✓ array of objects with binary data (1 ms)
2025-04-15T08:16:39.9070428Z       ✓ object with null or undefined values
2025-04-15T08:16:39.9070537Z       ✓ array with mixed non-standard objects
2025-04-15T08:16:39.9070603Z       ✓ empty object
2025-04-15T08:16:39.9070692Z       ✓ array with primitive values
2025-04-15T08:16:39.9070743Z     should throw error
2025-04-15T08:16:39.9070878Z       ✓ for inconsistent items with some having json key (7 ms)
2025-04-15T08:16:39.9071016Z       ✓ for inconsistent items with some having binary key (1 ms)
2025-04-15T08:16:39.9071170Z       ✓ when mixing json and non-json objects with non-json properties
2025-04-15T08:16:39.9071284Z       ✓ when mixing binary and non-binary objects (1 ms)
2025-04-15T08:16:39.9071287Z 
2025-04-15T08:16:39.9071450Z PASS src/execution-engine/__tests__/execution-lifecycle-hooks.test.ts
2025-04-15T08:16:39.9071554Z   ExecutionLifecycleHooks
2025-04-15T08:16:39.9071605Z     constructor()
2025-04-15T08:16:39.9071729Z       ✓ should initialize with correct properties (4 ms)
2025-04-15T08:16:39.9071778Z     addHandler()
2025-04-15T08:16:39.9071945Z       ✓ should add handlers to nodeExecuteBefore hook and call them (1 ms)
2025-04-15T08:16:39.9072087Z       ✓ should add handlers to nodeExecuteAfter hook and call them
2025-04-15T08:16:39.9072255Z       ✓ should add handlers to workflowExecuteBefore hook and call them (1 ms)
2025-04-15T08:16:39.9072399Z       ✓ should add handlers to workflowExecuteAfter hook and call them
2025-04-15T08:16:39.9072548Z       ✓ should add handlers to sendResponse hook and call them (1 ms)
2025-04-15T08:16:39.9072678Z       ✓ should add handlers to nodeFetchedData hook and call them
2025-04-15T08:16:39.9072731Z     runHook()
2025-04-15T08:16:39.9072844Z       ✓ should execute multiple hooks in order (1 ms)
2025-04-15T08:16:39.9072954Z       ✓ should maintain correct "this" context
2025-04-15T08:16:39.9073052Z       ✓ should handle errors in hooks (5 ms)
2025-04-15T08:16:39.9073055Z 
2025-04-15T08:16:39.9073967Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9074161Z PASS src/execution-engine/node-execution-context/__tests__/hook-context.test.ts
2025-04-15T08:16:39.9074211Z   HookContext
2025-04-15T08:16:39.9074268Z     getActivationMode
2025-04-15T08:16:39.9074382Z       ✓ should return the activation property (3 ms)
2025-04-15T08:16:39.9074438Z     getCredentials
2025-04-15T08:16:39.9074538Z       ✓ should get decrypted credentials (1 ms)
2025-04-15T08:16:39.9074599Z     getNodeParameter
2025-04-15T08:16:39.9074721Z       ✓ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9074817Z     getNodeWebhookUrl
2025-04-15T08:16:39.9074927Z       ✓ should return node webhook url
2025-04-15T08:16:39.9074984Z     getWebhookName
2025-04-15T08:16:39.9075083Z       ✓ should return webhook name (1 ms)
2025-04-15T08:16:39.9075315Z       ✓ should throw an error if webhookData is undefined (9 ms)
2025-04-15T08:16:39.9075375Z     getWebhookDescription
2025-04-15T08:16:39.9075476Z       ✓ should return webhook description (1 ms)
2025-04-15T08:16:39.9075480Z 
2025-04-15T08:16:39.9075672Z PASS src/execution-engine/node-execution-context/utils/__tests__/ensure-type.test.ts
2025-04-15T08:16:39.9075720Z   ensureType
2025-04-15T08:16:39.9075821Z     ✓ throws error for null value (15 ms)
2025-04-15T08:16:39.9075919Z     ✓ throws error for undefined value (1 ms)
2025-04-15T08:16:39.9076025Z     ✓ returns string value without modification
2025-04-15T08:16:39.9076124Z     ✓ returns number value without modification
2025-04-15T08:16:39.9076283Z     ✓ returns boolean value without modification
2025-04-15T08:16:39.9076482Z     ✓ converts object to string if toType is string (1 ms)
2025-04-15T08:16:39.9076634Z     ✓ converts string to number if toType is number
2025-04-15T08:16:39.9076748Z     ✓ throws error for invalid conversion to number
2025-04-15T08:16:39.9076888Z     ✓ parses valid JSON string to object if toType is object
2025-04-15T08:16:39.9077033Z     ✓ throws error for invalid JSON string to object conversion (1 ms)
2025-04-15T08:16:39.9077171Z     ✓ throws error for non-array value if toType is array (1 ms)
2025-04-15T08:16:39.9077175Z 
2025-04-15T08:16:39.9077965Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9078169Z PASS src/execution-engine/node-execution-context/__tests__/load-options-context.test.ts
2025-04-15T08:16:39.9078228Z   LoadOptionsContext
2025-04-15T08:16:39.9078275Z     getCredentials
2025-04-15T08:16:39.9078381Z       ✓ should get decrypted credentials (3 ms)
2025-04-15T08:16:39.9078443Z     getCurrentNodeParameter
2025-04-15T08:16:39.9078568Z       ✓ should return parameter value when it exists
2025-04-15T08:16:39.9078617Z     getNodeParameter
2025-04-15T08:16:39.9078739Z       ✓ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9078894Z       ✓ should return the fallback value when the parameter does not exist
2025-04-15T08:16:39.9078898Z 
2025-04-15T08:16:39.9079030Z PASS src/binary-data/__tests__/binary-data-service.test.ts
2025-04-15T08:16:39.9079081Z   BinaryDataService
2025-04-15T08:16:39.9079133Z     constructor
2025-04-15T08:16:39.9079368Z       ✓ should derive the signingSecret from the encryption-key, if not provided via BinaryDataConfig (3 ms)
2025-04-15T08:16:39.9079523Z       ✓ should use signingSecret as provided in BinaryDataConfig (1 ms)
2025-04-15T08:16:39.9079576Z     createSignedToken
2025-04-15T08:16:39.9079693Z       ✓ should throw for binary-data without an id (13 ms)
2025-04-15T08:16:39.9079916Z       ✓ should create a signed token for valid binary-data
2025-04-15T08:16:39.9079973Z     validateSignedToken
2025-04-15T08:16:39.9080078Z       ✓ should throw on invalid tokens (2 ms)
2025-04-15T08:16:39.9080167Z       ✓ should throw on expired tokens
2025-04-15T08:16:39.9080290Z       ✓ should return binary-data id on valid tokens (1 ms)
2025-04-15T08:16:39.9080294Z 
2025-04-15T08:16:39.9081073Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9081261Z PASS src/execution-engine/node-execution-context/__tests__/trigger-context.test.ts
2025-04-15T08:16:39.9081316Z   TriggerContext
2025-04-15T08:16:39.9081365Z     getActivationMode
2025-04-15T08:16:39.9081487Z       ✓ should return the activation property (3 ms)
2025-04-15T08:16:39.9081626Z     getCredentials
2025-04-15T08:16:39.9081734Z       ✓ should get decrypted credentials (2 ms)
2025-04-15T08:16:39.9081786Z     getNodeParameter
2025-04-15T08:16:39.9081907Z       ✓ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9082078Z       ✓ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:16:39.9082082Z 
2025-04-15T08:16:39.9082856Z Permissions 0644 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
2025-04-15T08:16:39.9083034Z PASS src/execution-engine/node-execution-context/__tests__/poll-context.test.ts
2025-04-15T08:16:39.9083083Z   PollContext
2025-04-15T08:16:39.9083141Z     getActivationMode
2025-04-15T08:16:39.9083250Z       ✓ should return the activation property (3 ms)
2025-04-15T08:16:39.9083306Z     getCredentials
2025-04-15T08:16:39.9083405Z       ✓ should get decrypted credentials (1 ms)
2025-04-15T08:16:39.9083457Z     getNodeParameter
2025-04-15T08:16:39.9083574Z       ✓ should return parameter value when it exists (1 ms)
2025-04-15T08:16:39.9083743Z       ✓ should return the fallback value when the parameter does not exist (1 ms)
2025-04-15T08:16:39.9083746Z 
2025-04-15T08:16:39.9083852Z PASS src/utils/__tests__/serialized-buffer.test.ts
2025-04-15T08:16:39.9083905Z   toBuffer
2025-04-15T08:16:39.9084028Z     ✓ should convert a SerializedBuffer to a Buffer (3 ms)
2025-04-15T08:16:39.9084180Z     ✓ should serialize stringified buffer to the same buffer (1 ms)
2025-04-15T08:16:39.9084236Z   isSerializedBuffer
2025-04-15T08:16:39.9084349Z     ✓ should return true for a valid SerializedBuffer
2025-04-15T08:16:39.9084454Z     ✓ should return false for { data: [Array] }
2025-04-15T08:16:39.9084557Z     ✓ should return false for { data: [Array] }
2025-04-15T08:16:39.9084709Z     ✓ should return false for { type: 'Buffer', data: 'notAnArray' }
2025-04-15T08:16:39.9084804Z     ✓ should return false for { data: 42 }
2025-04-15T08:16:39.9084917Z     ✓ should return false for { data: 'test' } (1 ms)
2025-04-15T08:16:39.9085011Z     ✓ should return false for { data: true }
2025-04-15T08:16:39.9085103Z     ✓ should return false for null
2025-04-15T08:16:39.9085203Z     ✓ should return false for undefined (1 ms)
2025-04-15T08:16:39.9085291Z     ✓ should return false for 42
2025-04-15T08:16:39.9085371Z     ✓ should return false for {}
2025-04-15T08:16:39.9085462Z   Integration: toBuffer and isSerializedBuffer
2025-04-15T08:16:39.9085610Z     ✓ should correctly validate and convert a SerializedBuffer (1 ms)
2025-04-15T08:16:39.9085614Z 
2025-04-15T08:16:39.9085757Z PASS src/execution-engine/__tests__/ssh-clients-manager.test.ts
2025-04-15T08:16:39.9085814Z   SSHClientsManager
2025-04-15T08:16:39.9086005Z     ✓ should create a new SSH client (5 ms)
2025-04-15T08:16:39.9086212Z     ✓ should not create a new SSH client when connect fails (15 ms)
2025-04-15T08:16:39.9086363Z     ✓ should reuse an existing SSH client (1 ms)
2025-04-15T08:16:39.9086551Z     ✓ should close all SSH connections on process exit
2025-04-15T08:16:39.9086681Z     ✓ should cleanup stale SSH connections (1 ms)
2025-04-15T08:16:39.9086685Z 
2025-04-15T08:16:39.9086829Z PASS src/nodes-loader/__tests__/load-class-in-isolation.test.ts
2025-04-15T08:16:39.9086884Z   loadClassInIsolation
2025-04-15T08:16:39.9087027Z     ✓ should create script with correct require statement (3 ms)
2025-04-15T08:16:39.9087120Z     ✓ should handle Windows-style paths
2025-04-15T08:16:39.9087247Z     ✓ should throw error when script execution fails (6 ms)
2025-04-15T08:16:39.9087251Z 
2025-04-15T08:16:39.9087403Z PASS src/execution-engine/__tests__/scheduled-task-manager.test.ts
2025-04-15T08:16:39.9087459Z   ScheduledTaskManager
2025-04-15T08:16:39.9087602Z     ✓ should throw when workflow timezone is invalid (23 ms)
2025-04-15T08:16:39.9087822Z     ✓ should throw when cron expression is invalid (1 ms)
2025-04-15T08:16:39.9087928Z     ✓ should register valid CronJobs (10 ms)
2025-04-15T08:16:39.9088050Z     ✓ should should not invoke on follower instances (8 ms)
2025-04-15T08:16:39.9088265Z     ✓ should deregister CronJobs for a workflow (3 ms)
2025-04-15T08:16:39.9088269Z 
2025-04-15T08:16:39.9088504Z PASS src/execution-engine/node-execution-context/utils/__tests__/construct-execution-metadata.test.ts
2025-04-15T08:16:39.9088573Z   constructExecutionMetaData
2025-04-15T08:16:39.9088691Z     ✓ should add pairedItem to single input data (2 ms)
2025-04-15T08:16:39.9088872Z     ✓ should add pairedItem to multiple input data with different properties (1 ms)
2025-04-15T08:16:39.9088974Z     ✓ should handle empty input data and itemData
2025-04-15T08:16:39.9089114Z     ✓ should handle multiple pairedItem with single input data
2025-04-15T08:16:39.9089118Z 
2025-04-15T08:16:39.9089239Z PASS src/utils/__tests__/is-object-literal.test.ts
2025-04-15T08:16:39.9089291Z   isObjectLiteral
2025-04-15T08:16:39.9089409Z     ✓ should return empty object literal for {} (3 ms)
2025-04-15T08:16:39.9089573Z     ✓ should return object with properties for { foo: 'bar', num: 123 } (1 ms)
2025-04-15T08:16:39.9089718Z     ✓ should return nested object literal for { nested: [Object] }
2025-04-15T08:16:39.9089867Z     ✓ should return object with symbol key for { [Symbol(foo)]: 'bar' }
2025-04-15T08:16:39.9089964Z     ✓ should return null for null (1 ms)
2025-04-15T08:16:39.9090053Z     ✓ should return empty array for []
2025-04-15T08:16:39.9090168Z     ✓ should return array with values for [ 1, 2, 3 ]
2025-04-15T08:16:39.9090253Z     ✓ should return number for 42
2025-04-15T08:16:39.9090356Z     ✓ should return string for string (1 ms)
2025-04-15T08:16:39.9090442Z     ✓ should return boolean for true
2025-04-15T08:16:39.9090545Z     ✓ should return undefined for undefined
2025-04-15T08:16:39.9090769Z     ✓ should return Date object for Tue Apr 15 2025 08:16:37 GMT+0000 (Coordinated Universal Time) (1 ms)
2025-04-15T08:16:39.9090878Z     ✓ should return RegExp object for /(?:)/
2025-04-15T08:16:39.9090979Z     ✓ should return Map object for Map(0) {}
2025-04-15T08:16:39.9091087Z     ✓ should return Set object for Set(0) {} (1 ms)
2025-04-15T08:16:39.9091198Z     ✓ should return arrow function for () => { }
2025-04-15T08:16:39.9091315Z     ✓ should return regular function for function () { }
2025-04-15T08:16:39.9091470Z     ✓ should return class instance for TestClass {}
2025-04-15T08:16:39.9091600Z     ✓ should return object with custom prototype for {} (1 ms)
2025-04-15T08:16:39.9091754Z     ✓ should return Object.create(null) for [Object: null prototype] {}
2025-04-15T08:16:39.9091841Z     ✓ should return Buffer for test
2025-04-15T08:16:39.9092014Z     ✓ should return Serialized Buffer for { type: 'Buffer', data: [Array] }
2025-04-15T08:16:39.9092138Z     ✓ should return Promise for Promise { <pending> } (1 ms)
2025-04-15T08:16:39.9092358Z     ✓ should return false for Error objects
2025-04-15T08:16:39.9092367Z 
2025-04-15T08:16:39.9092592Z PASS src/execution-engine/node-execution-context/utils/__tests__/cleanup-parameter-data.test.ts
2025-04-15T08:16:39.9092654Z   cleanupParameterData
2025-04-15T08:16:39.9092771Z     ✓ should stringify Luxon dates in-place (11 ms)
2025-04-15T08:16:39.9092889Z     ✓ should stringify plain Luxon dates in-place (1 ms)
2025-04-15T08:16:39.9093007Z     ✓ should handle objects with nameless constructors
2025-04-15T08:16:39.9093124Z     ✓ should handle objects without a constructor (1 ms)
2025-04-15T08:16:39.9093128Z 
2025-04-15T08:16:39.9093226Z PASS src/binary-data/__tests__/utils.test.ts
2025-04-15T08:16:39.9093277Z   BinaryData/utils
2025-04-15T08:16:39.9093333Z     binaryToBuffer
2025-04-15T08:16:39.9093427Z       ✓ should handle buffer objects (3 ms)
2025-04-15T08:16:39.9093564Z       ✓ should handle valid uncompressed Readable streams (2 ms)
2025-04-15T08:16:39.9093697Z       ✓ should handle valid compressed Readable streams (2 ms)
2025-04-15T08:16:39.9093943Z       ✓ should throw on invalid compressed Readable streams (4 ms)
2025-04-15T08:16:39.9093946Z 
2025-04-15T08:16:39.9094154Z PASS src/execution-engine/node-execution-context/utils/__tests__/return-json-array.test.ts
2025-04-15T08:16:39.9094205Z   returnJsonArray
2025-04-15T08:16:39.9094362Z     ✓ should convert a single object to an array with json key (3 ms)
2025-04-15T08:16:39.9094472Z     ✓ should return an array of objects with json key
2025-04-15T08:16:39.9094580Z     ✓ should preserve existing json key in object
2025-04-15T08:16:39.9094675Z     ✓ should handle empty array input (1 ms)
2025-04-15T08:16:39.9094816Z     ✓ should handle mixed input with some objects having json key
2025-04-15T08:16:39.9094820Z 
2025-04-15T08:16:39.9095004Z PASS src/execution-engine/partial-execution-utils/__tests__/to-itask-data.test.ts
2025-04-15T08:16:39.9095086Z   ✓ toITaskData (4 ms)
2025-04-15T08:16:39.9095090Z 
2025-04-15T08:16:39.9095346Z PASS src/execution-engine/node-execution-context/utils/__tests__/deduplication-helper-functions.test.ts
2025-04-15T08:16:39.9095431Z   getDeduplicationHelperFunctions
2025-04-15T08:16:39.9095570Z     ✓ should create helper functions with correct context (3 ms)
2025-04-15T08:16:39.9095574Z 
2025-04-15T08:16:39.9095669Z PASS src/encryption/__tests__/cipher.test.ts
2025-04-15T08:16:39.9095720Z   Cipher
2025-04-15T08:16:39.9095768Z     encrypt
2025-04-15T08:16:39.9095864Z       ✓ should encrypt strings (3 ms)
2025-04-15T08:16:39.9095947Z       ✓ should encrypt objects
2025-04-15T08:16:39.9095997Z     decrypt
2025-04-15T08:16:39.9096082Z       ✓ should decrypt string (1 ms)
2025-04-15T08:16:39.9096333Z       ✓ should not try to decrypt if the input is shorter than 16 bytes
2025-04-15T08:16:39.9096339Z 
2025-04-15T08:16:39.9096681Z PASS src/execution-engine/node-execution-context/utils/__tests__/ssh-tunnel-helper-functions.test.ts
2025-04-15T08:16:39.9096743Z   getSSHTunnelFunctions
2025-04-15T08:16:39.9096969Z     ✓ should return SSH tunnel functions (3 ms)
2025-04-15T08:16:39.9097027Z     getSSHClient
2025-04-15T08:16:39.9097150Z       ✓ should invoke sshClientsManager.getClient (1 ms)
2025-04-15T08:16:39.9097154Z 
2025-04-15T08:16:39.9097378Z PASS src/execution-engine/node-execution-context/utils/__tests__/scheduling-helper-functions.test.ts
2025-04-15T08:16:39.9097440Z   getSchedulingFunctions
2025-04-15T08:16:39.9097539Z     ✓ should return scheduling functions (3 ms)
2025-04-15T08:16:39.9097595Z     registerCron
2025-04-15T08:16:39.9097726Z       ✓ should invoke scheduledTaskManager.registerCron (1 ms)
2025-04-15T08:16:39.9097730Z 
2025-04-15T08:16:39.9097934Z PASS src/execution-engine/node-execution-context/utils/__tests__/copy-input-items.test.ts
2025-04-15T08:16:39.9097987Z   copyInputItems
2025-04-15T08:16:39.9098097Z     ✓ should pick only selected properties (3 ms)
2025-04-15T08:16:39.9098200Z     ✓ should convert undefined to null (1 ms)
2025-04-15T08:16:39.9098269Z     ✓ should clone objects
2025-04-15T08:16:39.9098279Z 
2025-04-15T08:16:39.9098559Z PASS src/execution-engine/partial-execution-utils/__tests__/to-iconnections.test.ts
2025-04-15T08:16:39.9098630Z   ✓ toIConnections (3 ms)
2025-04-15T08:16:39.9098634Z 
2025-04-15T08:16:39.9098715Z Test Suites: 61 passed, 61 total
2025-04-15T08:16:39.9098796Z Tests:       929 passed, 929 total
2025-04-15T08:16:39.9098863Z Snapshots:   0 total
2025-04-15T08:16:39.9098922Z Time:        13.65 s
2025-04-15T08:16:39.9098979Z Ran all test suites.
2025-04-15T08:16:39.9099227Z ##[endgroup]
2025-04-15T08:16:48.4834702Z ##[group]n8n-workflow:test
2025-04-15T08:16:48.4835143Z cache bypass, force executing 8eeffe7c176d5550
2025-04-15T08:16:48.4835271Z 
2025-04-15T08:16:48.4835432Z > n8n-workflow@1.87.0 test /home/runner/_work/n8n/n8n/packages/workflow
2025-04-15T08:16:48.4835657Z > jest
2025-04-15T08:16:48.4835733Z 
2025-04-15T08:16:48.4835828Z PASS test/NodeHelpers.conditions.test.ts
2025-04-15T08:16:48.4835999Z   NodeHelpers
2025-04-15T08:16:48.4836230Z     getNodeParameters, displayOptions set using DisplayCondition
2025-04-15T08:16:48.4836808Z       ✓ simple values with displayOptions "show" number (gt). No values set. (4 ms)
2025-04-15T08:16:48.4837149Z       ✓ simple values with displayOptions "show" number (lt). No values set.
2025-04-15T08:16:48.4837498Z       ✓ simple values with displayOptions "show" number (between). No values set. (1 ms)
2025-04-15T08:16:48.4837837Z       ✓ simple values with displayOptions "show" number (lte). No values set.
2025-04-15T08:16:48.4838173Z       ✓ simple values with displayOptions "show" number (gte). No values set. (1 ms)
2025-04-15T08:16:48.4838534Z       ✓ simple values with displayOptions "show" (match) which is boolean. All values set.
2025-04-15T08:16:48.4838916Z       ✓ simple values with displayOptions "hide" (match) which is boolean. All values set. (1 ms)
2025-04-15T08:16:48.4839360Z       ✓ simple values with displayOptions "show" (match) which is boolean. One values set. (1 ms)
2025-04-15T08:16:48.4839707Z       ✓ simple values with displayOptions "show" (match). No values set.
2025-04-15T08:16:48.4840268Z       ✓ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default). (5 ms)
2025-04-15T08:16:48.4840931Z       ✓ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default)
2025-04-15T08:16:48.4841399Z       ✓ simple values with displayOptions "show" (match). All values set. (1 ms)
2025-04-15T08:16:48.4841714Z       ✓ simple values with displayOptions "show" (no-match). No values set.
2025-04-15T08:16:48.4842042Z       ✓ simple values with displayOptions "show" (no-match). All values set. (1 ms)
2025-04-15T08:16:48.4842500Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
2025-04-15T08:16:48.4843342Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4843992Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4844615Z       ✓ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4845223Z       ✓ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4845841Z       ✓ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4846460Z       ✓ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4847239Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (1 ms)
2025-04-15T08:16:48.4847800Z       ✓ two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:16:48.4848501Z       ✓ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:16:48.4849192Z       ✓ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed
2025-04-15T08:16:48.4849820Z       ✓ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:16:48.4850528Z       ✓ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
2025-04-15T08:16:48.4851059Z       ✓ simple values with displayOptions "show" using exists condition. No values set.
2025-04-15T08:16:48.4851423Z       ✓ simple values with displayOptions "show" using exists condition. Field1 has a value.
2025-04-15T08:16:48.4851879Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" using exists condition. (1 ms)
2025-04-15T08:16:48.4852362Z       ✓ complex type "collection" with "multipleValues: true" and with displayOptions "show" using exists condition.
2025-04-15T08:16:48.4852579Z 
2025-04-15T08:16:48.4852666Z PASS test/FilterParameter.test.ts
2025-04-15T08:16:48.4852839Z   FilterParameter
2025-04-15T08:16:48.4852963Z     executeFilter
2025-04-15T08:16:48.4853136Z       ✓ should support and/or combinators (3 ms)
2025-04-15T08:16:48.4853319Z       options.caseSensitive
2025-04-15T08:16:48.4853543Z         ✓ should evaluate strings case insensitive (=default)
2025-04-15T08:16:48.4853770Z         ✓ should evaluate strings case sensitive
2025-04-15T08:16:48.4853938Z       options.typeValidation
2025-04-15T08:16:48.4854082Z         strict (=default)
2025-04-15T08:16:48.4854341Z           ✓ should throw an error when types are not as expected (primitives) (38 ms)
2025-04-15T08:16:48.4854654Z           ✓ should throw an error when types are not as expected (arrays) (1 ms)
2025-04-15T08:16:48.4854988Z           ✓ should throw an error when types are not as expected (objects) (1 ms)
2025-04-15T08:16:48.4855191Z         loose
2025-04-15T08:16:48.4855393Z           ✓ should evaluate conditions when type can be converted
2025-04-15T08:16:48.4855671Z           ✓ should throw an error when types cannot be converted (10 ms)
2025-04-15T08:16:48.4855867Z       options.version
2025-04-15T08:16:48.4856002Z         version 1
2025-04-15T08:16:48.4856298Z           ✓ should parse "false" as true (1 ms)
2025-04-15T08:16:48.4856461Z         version 2
2025-04-15T08:16:48.4856632Z           ✓ should parse "false" as false
2025-04-15T08:16:48.4856786Z       operators
2025-04-15T08:16:48.4856907Z         exists
2025-04-15T08:16:48.4857074Z           ✓ string:exists() === true (1 ms)
2025-04-15T08:16:48.4857274Z           ✓ string:exists(null) === false
2025-04-15T08:16:48.4857478Z           ✓ string:exists(undefined) === false
2025-04-15T08:16:48.4857682Z           ✓ string:exists(foo) === true
2025-04-15T08:16:48.4857878Z           ✓ string:notExists() === false
2025-04-15T08:16:48.4858075Z           ✓ string:notExists(null) === true
2025-04-15T08:16:48.4858283Z           ✓ string:notExists(undefined) === true
2025-04-15T08:16:48.4858483Z           ✓ string:notExists(foo) === false
2025-04-15T08:16:48.4858630Z         string
2025-04-15T08:16:48.4858794Z           ✓ string:empty(null) === true
2025-04-15T08:16:48.4858997Z           ✓ string:empty(undefined) === true
2025-04-15T08:16:48.4859274Z           ✓ string:empty() === true
2025-04-15T08:16:48.4859601Z           ✓ string:empty(🐛) === false (1 ms)
2025-04-15T08:16:48.4859798Z           ✓ string:notEmpty(null) === false
2025-04-15T08:16:48.4860015Z           ✓ string:notEmpty(undefined) === false (10 ms)
2025-04-15T08:16:48.4860234Z           ✓ string:notEmpty() === false (1 ms)
2025-04-15T08:16:48.4860433Z           ✓ string:notEmpty(🐛) === true
2025-04-15T08:16:48.4860665Z           ✓ string:equals("first string","first string") === true
2025-04-15T08:16:48.4860925Z           ✓ string:equals("first string","second string") === false
2025-04-15T08:16:48.4861149Z           ✓ string:equals("","🐛") === false
2025-04-15T08:16:48.4861346Z           ✓ string:equals("🐛","🐛") === true
2025-04-15T08:16:48.4861587Z           ✓ string:notEquals("first string","first string") === false
2025-04-15T08:16:48.4861857Z           ✓ string:notEquals("first string","second string") === true
2025-04-15T08:16:48.4862104Z           ✓ string:notEquals("","🐛") === true
2025-04-15T08:16:48.4862322Z           ✓ string:notEquals("🐛","🐛") === false
2025-04-15T08:16:48.4862566Z           ✓ string:contains("first string","first string") === true
2025-04-15T08:16:48.4862817Z           ✓ string:contains("first string","first") === true
2025-04-15T08:16:48.4863057Z           ✓ string:contains("first string","irs") === true
2025-04-15T08:16:48.4863286Z           ✓ string:contains("first string","") === true
2025-04-15T08:16:48.4863512Z           ✓ string:contains("first string","?") === false
2025-04-15T08:16:48.4863789Z           ✓ string:notContains("first string","first string") === false (1 ms)
2025-04-15T08:16:48.4864071Z           ✓ string:notContains("first string","first") === false
2025-04-15T08:16:48.4864321Z           ✓ string:notContains("first string","irs") === false
2025-04-15T08:16:48.4864566Z           ✓ string:notContains("first string","") === false
2025-04-15T08:16:48.4864805Z           ✓ string:notContains("first string","?") === true
2025-04-15T08:16:48.4865068Z           ✓ string:startsWith("first string","first string") === true
2025-04-15T08:16:48.4865330Z           ✓ string:startsWith("first string","first") === true
2025-04-15T08:16:48.4865584Z           ✓ string:startsWith("first string","irs") === false (1 ms)
2025-04-15T08:16:48.4865831Z           ✓ string:startsWith("first string","") === true
2025-04-15T08:16:48.4866055Z           ✓ string:startsWith("first string","?") === false
2025-04-15T08:16:48.4866317Z           ✓ string:notStartsWith("first string","first string") === false
2025-04-15T08:16:48.4866598Z           ✓ string:notStartsWith("first string","first") === false
2025-04-15T08:16:48.4866855Z           ✓ string:notStartsWith("first string","irs") === true
2025-04-15T08:16:48.4867117Z           ✓ string:notStartsWith("first string","") === false (1 ms)
2025-04-15T08:16:48.4867374Z           ✓ string:notStartsWith("first string","?") === true
2025-04-15T08:16:48.4867737Z           ✓ string:endsWith("first string","first string") === true
2025-04-15T08:16:48.4867993Z           ✓ string:endsWith("first string","string") === true
2025-04-15T08:16:48.4868232Z           ✓ string:endsWith("first string","g") === true
2025-04-15T08:16:48.4868457Z           ✓ string:endsWith("first string","") === true
2025-04-15T08:16:48.4868681Z           ✓ string:endsWith("first string","?") === false
2025-04-15T08:16:48.4868961Z           ✓ string:notEndsWith("first string","first string") === false (1 ms)
2025-04-15T08:16:48.4869294Z           ✓ string:notEndsWith("first string","string") === false
2025-04-15T08:16:48.4869544Z           ✓ string:notEndsWith("first string","g") === false
2025-04-15T08:16:48.4869788Z           ✓ string:notEndsWith("first string","") === false
2025-04-15T08:16:48.4870017Z           ✓ string:notEndsWith("first string","?") === true
2025-04-15T08:16:48.4870246Z           ✓ string:regex("first string","first") === true
2025-04-15T08:16:48.4870497Z           ✓ string:regex("first string","second") === false (1 ms)
2025-04-15T08:16:48.4870753Z           ✓ string:regex("first string",".*") === true
2025-04-15T08:16:48.4871070Z           ✓ string:regex("any string","[0-9]") === false
2025-04-15T08:16:48.4871294Z           ✓ string:regex("any string","[a-z]") === true
2025-04-15T08:16:48.4871511Z           ✓ string:regex("lowercase","[A-Z]") === false
2025-04-15T08:16:48.4871722Z           ✓ string:regex("foo","/^fo{2}$/g") === true
2025-04-15T08:16:48.4871974Z           ✓ string:notRegex("first string","first") === false (1 ms)
2025-04-15T08:16:48.4872235Z           ✓ string:notRegex("first string","second") === true
2025-04-15T08:16:48.4872475Z           ✓ string:notRegex("first string",".*") === false
2025-04-15T08:16:48.4872707Z           ✓ string:notRegex("any string","[0-9]") === true
2025-04-15T08:16:48.4872936Z           ✓ string:notRegex("any string","[a-z]") === false
2025-04-15T08:16:48.4873166Z           ✓ string:notRegex("lowercase","[A-Z]") === true
2025-04-15T08:16:48.4873410Z           ✓ string:notRegex("foo","/^fo{2}$/g") === false (1 ms)
2025-04-15T08:16:48.4873592Z         number
2025-04-15T08:16:48.4873754Z           ✓ number:exists(0) === true
2025-04-15T08:16:48.4873938Z           ✓ number:exists(15) === true
2025-04-15T08:16:48.4874232Z           ✓ number:exists(-15.4) === true
2025-04-15T08:16:48.4874434Z           ✓ number:exists(NaN) === false
2025-04-15T08:16:48.4874627Z           ✓ number:exists(null) === false
2025-04-15T08:16:48.4874812Z           ✓ number:notExists(0) === false
2025-04-15T08:16:48.4875002Z           ✓ number:notExists(15) === false
2025-04-15T08:16:48.4875216Z           ✓ number:notExists(-15.4) === false (1 ms)
2025-04-15T08:16:48.4875418Z           ✓ number:notExists(NaN) === true
2025-04-15T08:16:48.4875612Z           ✓ number:notExists(null) === true
2025-04-15T08:16:48.4875803Z           ✓ number:empty(0) === false
2025-04-15T08:16:48.4875993Z           ✓ number:empty(15) === false
2025-04-15T08:16:48.4876180Z           ✓ number:empty(-15.4) === false
2025-04-15T08:16:48.4876372Z           ✓ number:empty(NaN) === true
2025-04-15T08:16:48.4876560Z           ✓ number:empty(null) === true
2025-04-15T08:16:48.4876751Z           ✓ number:notEmpty(0) === true
2025-04-15T08:16:48.4876939Z           ✓ number:notEmpty(15) === true
2025-04-15T08:16:48.4877125Z           ✓ number:notEmpty(-15.4) === true
2025-04-15T08:16:48.4877311Z           ✓ number:notEmpty(NaN) === false
2025-04-15T08:16:48.4877502Z           ✓ number:notEmpty(null) === false
2025-04-15T08:16:48.4877688Z           ✓ number:equals(0,0) === true
2025-04-15T08:16:48.4877883Z           ✓ number:equals(15,15) === true (7 ms)
2025-04-15T08:16:48.4878095Z           ✓ number:equals(15.34,15.34) === true
2025-04-15T08:16:48.4878303Z           ✓ number:equals(15,15.3249038) === false
2025-04-15T08:16:48.4878509Z           ✓ number:equals(15,NaN) === false
2025-04-15T08:16:48.4878708Z           ✓ number:equals(NaN,NaN) === false
2025-04-15T08:16:48.4878909Z           ✓ number:notEquals(0,0) === false (1 ms)
2025-04-15T08:16:48.4879257Z           ✓ number:notEquals(15,15) === false
2025-04-15T08:16:48.4879475Z           ✓ number:notEquals(15.34,15.34) === false
2025-04-15T08:16:48.4879684Z           ✓ number:notEquals(15,15.3249038) === true
2025-04-15T08:16:48.4879889Z           ✓ number:notEquals(15,NaN) === true
2025-04-15T08:16:48.4880092Z           ✓ number:notEquals(NaN,NaN) === true
2025-04-15T08:16:48.4880288Z           ✓ number:gt(0,0) === false
2025-04-15T08:16:48.4880482Z           ✓ number:gt(15,16) === false
2025-04-15T08:16:48.4880670Z           ✓ number:gt(16,15) === true (1 ms)
2025-04-15T08:16:48.4880872Z           ✓ number:gt(15.34001,15.34) === true
2025-04-15T08:16:48.4881062Z           ✓ number:gt(15,NaN) === false
2025-04-15T08:16:48.4881242Z           ✓ number:lt(0,0) === false
2025-04-15T08:16:48.4881426Z           ✓ number:lt(15,16) === true
2025-04-15T08:16:48.4881604Z           ✓ number:lt(16,15) === false
2025-04-15T08:16:48.4881793Z           ✓ number:lt(15.34001,15.34) === false
2025-04-15T08:16:48.4881989Z           ✓ number:lt(15,NaN) === false
2025-04-15T08:16:48.4882277Z           ✓ number:gte(0,0) === true
2025-04-15T08:16:48.4882464Z           ✓ number:gte(15,16) === false
2025-04-15T08:16:48.4882640Z           ✓ number:gte(16,15) === true
2025-04-15T08:16:48.4882822Z           ✓ number:gte(15.34001,15.34) === true
2025-04-15T08:16:48.4883013Z           ✓ number:gte(15,NaN) === false
2025-04-15T08:16:48.4883193Z           ✓ number:lte(0,0) === true
2025-04-15T08:16:48.4883376Z           ✓ number:lte(15,16) === true
2025-04-15T08:16:48.4883551Z           ✓ number:lte(16,15) === false
2025-04-15T08:16:48.4883746Z           ✓ number:lte(15.34001,15.34) === false
2025-04-15T08:16:48.4883940Z           ✓ number:lte(15,NaN) === false
2025-04-15T08:16:48.4884092Z         dateTime
2025-04-15T08:16:48.4884292Z           ✓ dateTime:empty(2023-11-15T17:10:49.113Z) === false
2025-04-15T08:16:48.4884503Z           ✓ dateTime:empty(null) === true
2025-04-15T08:16:48.4884753Z           ✓ dateTime:notEmpty(2023-11-15T17:10:49.113Z) === true (1 ms)
2025-04-15T08:16:48.4884998Z           ✓ dateTime:notEmpty(null) === false
2025-04-15T08:16:48.4885282Z           ✓ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true
2025-04-15T08:16:48.4885618Z           ✓ dateTime:equals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:16:48.4885975Z           ✓ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false (1 ms)
2025-04-15T08:16:48.4886335Z           ✓ dateTime:notEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:16:48.4886669Z           ✓ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:16:48.4887003Z           ✓ dateTime:after("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false (1 ms)
2025-04-15T08:16:48.4887329Z           ✓ dateTime:after("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:16:48.4887635Z           ✓ dateTime:after("2024-01-01", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:16:48.4887952Z           ✓ dateTime:after(""2024-01-01T00:00:00.000+00:00"", "1-Feb-2024") === false (2 ms)
2025-04-15T08:16:48.4888636Z           ✓ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === false
2025-04-15T08:16:48.4888956Z           ✓ dateTime:before("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:16:48.4889312Z           ✓ dateTime:before("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
2025-04-15T08:16:48.4889670Z           ✓ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true (1 ms)
2025-04-15T08:16:48.4890042Z           ✓ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === false
2025-04-15T08:16:48.4890398Z           ✓ dateTime:afterOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === true
2025-04-15T08:16:48.4890883Z           ✓ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:10:49.113Z") === true
2025-04-15T08:16:48.4891246Z           ✓ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-11-15T17:12:49.113Z") === true
2025-04-15T08:16:48.4891603Z           ✓ dateTime:beforeOrEquals("2023-11-15T17:10:49.113Z", "2023-01-01T00:00:00.000Z") === false
2025-04-15T08:16:48.4891825Z         boolean
2025-04-15T08:16:48.4891991Z           ✓ boolean:empty(true) === false (1 ms)
2025-04-15T08:16:48.4892193Z           ✓ boolean:empty(false) === false
2025-04-15T08:16:48.4892389Z           ✓ boolean:empty(null) === true
2025-04-15T08:16:48.4892577Z           ✓ boolean:notEmpty(true) === true
2025-04-15T08:16:48.4892773Z           ✓ boolean:notEmpty(false) === true
2025-04-15T08:16:48.4892969Z           ✓ boolean:notEmpty(null) === false
2025-04-15T08:16:48.4893158Z           ✓ boolean:true(true) === true
2025-04-15T08:16:48.4893347Z           ✓ boolean:true(false) === false
2025-04-15T08:16:48.4893544Z           ✓ boolean:false(true) === false (1 ms)
2025-04-15T08:16:48.4893741Z           ✓ boolean:false(false) === true
2025-04-15T08:16:48.4894037Z           ✓ boolean:equals(true,true) === true
2025-04-15T08:16:48.4894230Z           ✓ boolean:equals(false,false) === true
2025-04-15T08:16:48.4894433Z           ✓ boolean:equals(true,false) === false
2025-04-15T08:16:48.4894633Z           ✓ boolean:notEquals(true,true) === false
2025-04-15T08:16:48.4894848Z           ✓ boolean:notEquals(false,false) === false
2025-04-15T08:16:48.4895057Z           ✓ boolean:notEquals(true,false) === true
2025-04-15T08:16:48.4895208Z         array
2025-04-15T08:16:48.4895392Z           ✓ array:contains(["foo", "bar"],foo) === true (1 ms)
2025-04-15T08:16:48.4895620Z           ✓ array:contains(["foo", "bar"],ba) === false
2025-04-15T08:16:48.4895846Z           ✓ array:notContains(["foo", "bar"],foo) === false
2025-04-15T08:16:48.4896072Z           ✓ array:notContains(["foo", "bar"],ba) === true
2025-04-15T08:16:48.4896294Z           ✓ array:lengthEquals(["foo", "bar"],2) === true
2025-04-15T08:16:48.4896509Z           ✓ array:lengthEquals([],0) === true
2025-04-15T08:16:48.4896726Z           ✓ array:lengthEquals(["foo", "bar"],1) === false
2025-04-15T08:16:48.4896955Z           ✓ array:lengthNotEquals(["foo", "bar"],2) === false
2025-04-15T08:16:48.4897172Z           ✓ array:lengthNotEquals([],0) === false
2025-04-15T08:16:48.4897392Z           ✓ array:lengthNotEquals(["foo", "bar"],1) === true
2025-04-15T08:16:48.4897615Z           ✓ array:lengthGt(["foo", "bar"],2) === false
2025-04-15T08:16:48.4897811Z           ✓ array:lengthGt([],0) === false
2025-04-15T08:16:48.4898011Z           ✓ array:lengthGt(["foo", "bar"],1) === true
2025-04-15T08:16:48.4898219Z           ✓ array:lengthLt(["foo", "bar"],2) === false
2025-04-15T08:16:48.4898451Z           ✓ array:lengthLt([],0) === false
2025-04-15T08:16:48.4898644Z           ✓ array:lengthLt(["foo", "bar"],1) === false
2025-04-15T08:16:48.4898850Z           ✓ array:lengthLt(["foo", "bar"],3) === true
2025-04-15T08:16:48.4899058Z           ✓ array:lengthGte(["foo", "bar"],2) === true
2025-04-15T08:16:48.4899301Z           ✓ array:lengthGte([],0) === true
2025-04-15T08:16:48.4899506Z           ✓ array:lengthGte(["foo", "bar"],1) === true (1 ms)
2025-04-15T08:16:48.4899720Z           ✓ array:lengthGte(["foo", "bar"],3) === false
2025-04-15T08:16:48.4899925Z           ✓ array:lengthLte(["foo", "bar"],2) === true
2025-04-15T08:16:48.4900115Z           ✓ array:lengthLte([],0) === true
2025-04-15T08:16:48.4900310Z           ✓ array:lengthLte(["foo", "bar"],1) === false
2025-04-15T08:16:48.4900510Z           ✓ array:lengthLte(["foo", "bar"],3) === true
2025-04-15T08:16:48.4900665Z         object
2025-04-15T08:16:48.4900821Z           ✓ object:empty({}) === true (1 ms)
2025-04-15T08:16:48.4901017Z           ✓ object:empty({"foo": "bar"}) === false
2025-04-15T08:16:48.4901212Z           ✓ object:empty(undefined) === true
2025-04-15T08:16:48.4901397Z           ✓ object:empty(null) === true
2025-04-15T08:16:48.4901583Z           ✓ object:notEmpty({}) === false
2025-04-15T08:16:48.4901883Z           ✓ object:notEmpty({"foo": "bar"}) === true
2025-04-15T08:16:48.4902100Z           ✓ object:notEmpty(undefined) === false (1 ms)
2025-04-15T08:16:48.4902297Z           ✓ object:notEmpty(null) === false
2025-04-15T08:16:48.4902453Z         arrayContainsValue
2025-04-15T08:16:48.4902657Z           ✓ should return true if the array contains the value
2025-04-15T08:16:48.4902912Z           ✓ should return false if the array does not contain the value
2025-04-15T08:16:48.4903225Z           ✓ should return true if the array contains the string value and ignoreCase is true
2025-04-15T08:16:48.4903569Z           ✓ should return false if the array contains the string value but ignoreCase is false
2025-04-15T08:16:48.4903929Z           ✓ should return false if the array does not contain the string value and ignoreCase is true
2025-04-15T08:16:48.4904256Z           ✓ should handle non-string values correctly when ignoreCase is true
2025-04-15T08:16:48.4904540Z           ✓ should handle mixed types in the array correctly (1 ms)
2025-04-15T08:16:48.4904766Z 
2025-04-15T08:16:48.4904842Z PASS test/NodeHelpers.test.ts
2025-04-15T08:16:48.4904985Z   NodeHelpers
2025-04-15T08:16:48.4905102Z     getNodeParameters
2025-04-15T08:16:48.4905249Z       ✓ simple values. (5 ms)
2025-04-15T08:16:48.4905539Z       ✓ simple values with displayOptions "show" (match) which is boolean. All values set. (9 ms)
2025-04-15T08:16:48.4905904Z       ✓ simple values with displayOptions "hide" (match) which is boolean. All values set.
2025-04-15T08:16:48.4906252Z       ✓ simple values with displayOptions "show" (match) which is boolean. One values set.
2025-04-15T08:16:48.4906580Z       ✓ simple values with displayOptions "show" (match). No values set. (1 ms)
2025-04-15T08:16:48.4907080Z       ✓ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set (none-default).
2025-04-15T08:16:48.4907721Z       ✓ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values set. (default) (1 ms)
2025-04-15T08:16:48.4908207Z       ✓ simple values with displayOptions "show" (match). All values set.
2025-04-15T08:16:48.4908503Z       ✓ simple values with displayOptions "show" (no-match). No values set.
2025-04-15T08:16:48.4908823Z       ✓ simple values with displayOptions "show" (no-match). All values set. (1 ms)
2025-04-15T08:16:48.4909203Z       ✓ complex type "fixedCollection" with "multipleValues: true". One value set.
2025-04-15T08:16:48.4909554Z       ✓ complex type "fixedCollection" with "multipleValues: false". One value set. (1 ms)
2025-04-15T08:16:48.4909929Z       ✓ complex type "fixedCollection" with "multipleValues: false". Two values set one single one.
2025-04-15T08:16:48.4910444Z       ✓ complex type "fixedCollection" with "multipleValues: true" and complex type "collection"  with "multipleValues: true". One value set each. (1 ms)
2025-04-15T08:16:48.4911008Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
2025-04-15T08:16:48.4911595Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:16:48.4912215Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4912810Z       ✓ complex type "collection" with "multipleValues: false" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:16:48.4913414Z       ✓ complex type "collection" with "multipleValues: false" and with displayOptions "show" (no-match) on option which references root-value. One value set. (1 ms)
2025-04-15T08:16:48.4914113Z       ✓ complex type "collection" with "multipleValues: true" and with displayOptions "show" (match) on option which references root-value. One value set.
2025-04-15T08:16:48.4914699Z       ✓ complex type "collection" with "multipleValues: true" and with displayOptions "show" (no-match) on option which references root-value. One value set.
2025-04-15T08:16:48.4915315Z       ✓ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (4 ms)
2025-04-15T08:16:48.4915789Z       ✓ complex type "collection" with "multipleValues: true". One none-default value set.
2025-04-15T08:16:48.4916143Z       ✓ complex type "collection" with "multipleValues: true". One default value set.
2025-04-15T08:16:48.4916512Z       ✓ complex type "collection" with "multipleValues: false". One none-default value set. (1 ms)
2025-04-15T08:16:48.4916880Z       ✓ complex type "collection" with "multipleValues: false". One default value set.
2025-04-15T08:16:48.4917240Z       ✓ complex type "collection" with "multipleValues: false". Only outer value set. (6 ms)
2025-04-15T08:16:48.4917672Z       ✓ complex type "collection" with "multipleValues: false". No value set at all.
2025-04-15T08:16:48.4918018Z       ✓ complex type "collection" with "multipleValues: true". No value set at all. (1 ms)
2025-04-15T08:16:48.4918476Z       ✓ two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:16:48.4919008Z       ✓ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
2025-04-15T08:16:48.4919661Z       ✓ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. Order reversed
2025-04-15T08:16:48.4920286Z       ✓ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. (1 ms)
2025-04-15T08:16:48.4920916Z       ✓ complex type "fixedCollection" with "multipleValues: true". Which contains complex type "fixedCollection" with "multipleValues: true". One value set. (1 ms)
2025-04-15T08:16:48.4921619Z       ✓ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
2025-04-15T08:16:48.4922280Z       ✓ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "multiOptions" and has so an array default value (1 ms)
2025-04-15T08:16:48.4922899Z       ✓ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "string" with "multipleValues: true" and a custom default value
2025-04-15T08:16:48.4923654Z       ✓ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) in combination with another value (1 ms)
2025-04-15T08:16:48.4924381Z       ✓ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object)
2025-04-15T08:16:48.4925050Z       ✓ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having each value set) (1 ms)
2025-04-15T08:16:48.4925509Z       ✓ nodeValues is null (for example when resolving expression fails) (2 ms)
2025-04-15T08:16:48.4925715Z     getNodeHints
2025-04-15T08:16:48.4925905Z       ✓ should return node hints if present in node type
2025-04-15T08:16:48.4926150Z       ✓ should not include hint if displayCondition is false
2025-04-15T08:16:48.4926387Z       ✓ should include hint if displayCondition is true
2025-04-15T08:16:48.4926557Z     isSubNodeType
2025-04-15T08:16:48.4926716Z       ✓ should return false for null
2025-04-15T08:16:48.4926960Z       ✓ should return false for { outputs: '={{random_expression}}' }
2025-04-15T08:16:48.4927342Z       ✓ should return false for { outputs: [ [length]: 0 ] } (1 ms)
2025-04-15T08:16:48.4927617Z       ✓ should return false for { outputs: [ 'main', [length]: 1 ] }
2025-04-15T08:16:48.4927891Z       ✓ should return true for { outputs: [ 'ai_agent', [length]: 1 ] }
2025-04-15T08:16:48.4930982Z       ✓ should return true for { outputs: [ 'main', 'ai_agent', [length]: 2 ] }
2025-04-15T08:16:48.4931216Z     applyDeclarativeNodeOptionParameters
2025-04-15T08:16:48.4931518Z       ✓ should not modify properties on node with node with execute method method (1 ms)
2025-04-15T08:16:48.4931849Z       ✓ should not modify properties on node with node with trigger method method
2025-04-15T08:16:48.4932167Z       ✓ should not modify properties on node with node with webhook method method
2025-04-15T08:16:48.4932470Z       ✓ should not modify properties on node with a polling node-type method
2025-04-15T08:16:48.4932815Z       ✓ should not modify properties on node with a node-type with a non-main output method
2025-04-15T08:16:48.4933168Z     getParameterIssues
2025-04-15T08:16:48.4934006Z       ✓ Fixed collection::Should not return issues if minimum or maximum field count is not set (1 ms)
2025-04-15T08:16:48.4934431Z       ✓ Fixed collection::Should not return issues if field count is within the specified range (1 ms)
2025-04-15T08:16:48.4934826Z       ✓ Fixed collection::Should return an issue if field count is lower than minimum specified
2025-04-15T08:16:48.4935210Z       ✓ Fixed collection::Should return an issue if field count is higher than maximum specified
2025-04-15T08:16:48.4935578Z       ✓ Fixed collection::Should not return issues if the collection is hidden (1 ms)
2025-04-15T08:16:48.4935840Z     getParameterIssues, required parameters validation
2025-04-15T08:16:48.4936111Z       ✓ Should validate required dateTime parameters if empty string
2025-04-15T08:16:48.4936397Z       ✓ Should validate required dateTime parameters if empty undefined
2025-04-15T08:16:48.4936589Z     isTriggerNode
2025-04-15T08:16:48.4936807Z       ✓ Should return true for node with trigger in group (1 ms)
2025-04-15T08:16:48.4937088Z       ✓ Should return true for node with multiple groups including trigger
2025-04-15T08:16:48.4937361Z       ✓ Should return false for node without trigger in group
2025-04-15T08:16:48.4937616Z       ✓ Should return false for node with empty group array
2025-04-15T08:16:48.4937926Z       ✓ Should return false when trigger is called Trigger, but does not have a trigger group
2025-04-15T08:16:48.4938146Z     isExecutable
2025-04-15T08:16:48.4938331Z       ✓ Should return true for trigger node (1 ms)
2025-04-15T08:16:48.4938583Z       ✓ Should return true for node with Main output
2025-04-15T08:16:48.4938846Z       ✓ Should return false for node without Main output and not a trigger
2025-04-15T08:16:48.4939173Z       ✓ Should return true for node with mixed outputs including Main
2025-04-15T08:16:48.4939491Z       ✓ Should return false for node with only AiTool output and not a trigger (1 ms)
2025-04-15T08:16:48.4939813Z       ✓ Should return false for node with dynamic outputs set to AiTool only
2025-04-15T08:16:48.4940023Z     displayParameter
2025-04-15T08:16:48.4940230Z       ✓ Should return true if no displayOptions are defined
2025-04-15T08:16:48.4940507Z       ✓ Should return true if displayOptions.show conditions are met (4 ms)
2025-04-15T08:16:48.4940822Z       ✓ Should return false if displayOptions.show conditions are not met (1 ms)
2025-04-15T08:16:48.4941120Z       ✓ Should return false if displayOptions.hide conditions are met
2025-04-15T08:16:48.4941403Z       ✓ Should return true if displayOptions.hide conditions are not met
2025-04-15T08:16:48.4941722Z       ✓ Should return true if displayOptions.show and hide conditions are both met
2025-04-15T08:16:48.4942067Z       ✓ Should return true if displayOptions.show conditions are met with multiple values
2025-04-15T08:16:48.4942449Z       ✓ Should return false if displayOptions.hide conditions are met with multiple values (1 ms)
2025-04-15T08:16:48.4942911Z       ✓ Should return true if @tool is true in nodeTypeDescription of tool
2025-04-15T08:16:48.4943230Z       ✓ Should return false if @tool is true in nodeTypeDescription of non-tool
2025-04-15T08:16:48.4943495Z       ✓ Should return true if @version condition is met
2025-04-15T08:16:48.4943737Z       ✓ Should return false if @version condition is not met
2025-04-15T08:16:48.4944002Z       ✓ Should return true if @tool and @version conditions are both met
2025-04-15T08:16:48.4944302Z       ✓ Should return false if @tool is true but @version condition is not met
2025-04-15T08:16:48.4944567Z       ✓ Should return true if no disabledOptions are defined
2025-04-15T08:16:48.4944832Z       ✓ Should return false if disabledOptions.hide conditions are met
2025-04-15T08:16:48.4945117Z       ✓ Should return true if disabledOptions.hide conditions are not met
2025-04-15T08:16:48.4945461Z       ✓ Should return true if nodeValuesRoot contains a matching value for displayOptions.show
2025-04-15T08:16:48.4945864Z       ✓ Should return false if nodeValuesRoot does not contain a matching value for displayOptions.show
2025-04-15T08:16:48.4946162Z 
2025-04-15T08:16:48.4946251Z PASS test/TelemetryHelpers.test.ts
2025-04-15T08:16:48.4946456Z   getDomainBase should return protocol plus domain
2025-04-15T08:16:48.4946650Z     ✓ in valid URLs (3 ms)
2025-04-15T08:16:48.4946805Z     ✓ in malformed URLs
2025-04-15T08:16:48.4947000Z   getDomainPath should return pathname, excluding query string
2025-04-15T08:16:48.4947238Z     anonymizing strings containing at least one number
2025-04-15T08:16:48.4947428Z       ✓ in valid URLs (7 ms)
2025-04-15T08:16:48.4947595Z       ✓ in malformed URLs (1 ms)
2025-04-15T08:16:48.4947743Z     anonymizing UUIDs
2025-04-15T08:16:48.4947887Z       ✓ in valid URLs (4 ms)
2025-04-15T08:16:48.4948056Z       ✓ in malformed URLs (1 ms)
2025-04-15T08:16:48.4948201Z     anonymizing emails
2025-04-15T08:16:48.4948340Z       ✓ in valid URLs
2025-04-15T08:16:48.4948498Z       ✓ in malformed URLs (1 ms)
2025-04-15T08:16:48.4948640Z   generateNodesGraph
2025-04-15T08:16:48.4948854Z     ✓ should return node graph when node type is unknown (1 ms)
2025-04-15T08:16:48.4949099Z     ✓ should return node graph when workflow is empty
2025-04-15T08:16:48.4949379Z     ✓ should return node graph when workflow keys are not set
2025-04-15T08:16:48.4949739Z     ✓ should return node graph when node has multiple operation fields with different display options (1 ms)
2025-04-15T08:16:48.4950083Z     ✓ should return node graph with stickies of default size
2025-04-15T08:16:48.4950362Z     ✓ should return node graph with stickies indicating overlap (1 ms)
2025-04-15T08:16:48.4950623Z     ✓ should return node graph indicating pinned data (1 ms)
2025-04-15T08:16:48.4950849Z     ✓ should return graph with webhook node
2025-04-15T08:16:48.4951087Z     ✓ should return graph with http v4 node with generic auth
2025-04-15T08:16:48.4951356Z     ✓ should return graph with HTTP V4 with predefined cred (1 ms)
2025-04-15T08:16:48.4951604Z     ✓ should return graph with merge v3 node
2025-04-15T08:16:48.4951815Z     ✓ should return graph with merge v3 node
2025-04-15T08:16:48.4952005Z     ✓ should return graph with merge v3 node
2025-04-15T08:16:48.4952215Z     ✓ should return graph with http v1 node (1 ms)
2025-04-15T08:16:48.4952505Z     ✓ should return graph with http v4 node with no parameters and no credentials
2025-04-15T08:16:48.4952795Z     ✓ should support custom connections like in AI nodes (1 ms)
2025-04-15T08:16:48.4953100Z     ✓ should not fail on error to resolve a node parameter for sticky node type (1 ms)
2025-04-15T08:16:48.4953363Z     ✓ should add run and items count (1 ms)
2025-04-15T08:16:48.4953547Z   extractLastExecutedNodeCredentialData
2025-04-15T08:16:48.4953826Z     ✓ should return credentialId and credentialsType with null if no data
2025-04-15T08:16:48.4954161Z     ✓ should return credentialId and credentialsType with null if no executionData
2025-04-15T08:16:48.4954620Z     ✓ should return credentialId and credentialsType with null if no nodeExecutionStack
2025-04-15T08:16:48.4954966Z     ✓ should return credentialId and credentialsType with null if no node (1 ms)
2025-04-15T08:16:48.4955383Z     ✓ should return credentialId and credentialsType with null if no credentials
2025-04-15T08:16:48.4955754Z     ✓ should return correct credentialId and credentialsType when last node executed has credential
2025-04-15T08:16:48.4956066Z   userInInstanceRanOutOfFreeAiCredits
2025-04-15T08:16:48.4956323Z     ✓ should return false if could not find node credentials (2 ms)
2025-04-15T08:16:48.4956624Z     ✓ should return false if could not credential type it is not openAiApi
2025-04-15T08:16:48.4956915Z     ✓ should return false if error is not NodeApiError
2025-04-15T08:16:48.4957177Z     ✓ should return false if error is not a free ai credit error (1 ms)
2025-04-15T08:16:48.4957481Z     ✓ should return true if the user has ran out of free AI credits
2025-04-15T08:16:48.4957665Z   makeAIMetrics
2025-04-15T08:16:48.4957870Z     ✓ should count applicable nodes and parameters (1 ms)
2025-04-15T08:16:48.4958258Z     ✓ should not count non-applicable nodes and parameters (1 ms)
2025-04-15T08:16:48.4958487Z     ✓ should count ai nodes without tools
2025-04-15T08:16:48.4958591Z 
2025-04-15T08:16:48.4958667Z PASS test/Workflow.test.ts
2025-04-15T08:16:48.4958815Z   Workflow
2025-04-15T08:16:48.4958976Z     renameNodeInParameterValue
2025-04-15T08:16:48.4959124Z       for expressions
2025-04-15T08:16:48.4959379Z         ✓ do nothing if there is no expression (3 ms)
2025-04-15T08:16:48.4959583Z         ✓ should work with dot notation
2025-04-15T08:16:48.4959776Z         ✓ should work with ["nodeName"] (1 ms)
2025-04-15T08:16:48.4959995Z         ✓ should work with $("Node1")
2025-04-15T08:16:48.4960182Z         ✓ should work with $items("Node1")
2025-04-15T08:16:48.4960381Z         ✓ should work with $items("Node1", 0, 1)
2025-04-15T08:16:48.4960686Z         ✓ should work with dot notation that contains space and special character (1 ms)
2025-04-15T08:16:48.4960998Z         ✓ should work with dot notation that contains space and trailing $
2025-04-15T08:16:48.4961307Z         ✓ should work with dot notation that contains space and special character
2025-04-15T08:16:48.4961609Z         ✓ should work with dot notation without trailing dot
2025-04-15T08:16:48.4961820Z         ✓ should work with ['nodeName'] (1 ms)
2025-04-15T08:16:48.4962007Z         ✓ should work on lower levels
2025-04-15T08:16:48.4962197Z       for node with renamable content
2025-04-15T08:16:48.4962378Z         ✓ should work with $('name')
2025-04-15T08:16:48.4962585Z         ✓ should work with $node['name'] and $node.name
2025-04-15T08:16:48.4962793Z         ✓ should work with $items() (1 ms)
2025-04-15T08:16:48.4962967Z     renameNode
2025-04-15T08:16:48.4963124Z       ✓ rename node without connections
2025-04-15T08:16:48.4963333Z       ✓ rename node with one output connection (2 ms)
2025-04-15T08:16:48.4963566Z       ✓ rename node with one input connection (1 ms)
2025-04-15T08:16:48.4963848Z       ✓ rename node with multiple input and output connection (1 ms)
2025-04-15T08:16:48.4964151Z       ✓ change name also in expressions which use node-name (dot notation) (2 ms)
2025-04-15T08:16:48.4964359Z     getParameterValue
2025-04-15T08:16:48.4964536Z       ✓ read simple not expression value (1 ms)
2025-04-15T08:16:48.4964740Z       ✓ read simple math expression (11 ms)
2025-04-15T08:16:48.4965027Z       ✓ read data from node-output-data with with long "$node.{NODE}.data" syntax (2 ms)
2025-04-15T08:16:48.4965427Z       ✓ read data from node-output-data with with long "$node.{NODE}.data" syntax add value and append text (1 ms)
2025-04-15T08:16:48.4965858Z       ✓ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax with JavaScript Code (9 ms)
2025-04-15T08:16:48.4966218Z       ✓ read data from incoming-node-data with with short "data" syntax (1 ms)
2025-04-15T08:16:48.4966654Z       ✓ read deep-data from incoming-node-data with with short "data" syntax (1 ms)
2025-04-15T08:16:48.4966993Z       ✓ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax
2025-04-15T08:16:48.4967357Z       ✓ read binary-string-data from incoming-node-data with with short "$binary" syntax (1 ms)
2025-04-15T08:16:48.4967935Z       ✓ read binary-string-data from node-output-data with with long "$node.{NODE}.binary" syntax
2025-04-15T08:16:48.4968408Z       ✓ read parameter from other node with with long "$node.parameter" syntax (3 ms)
2025-04-15T08:16:48.4968703Z       ✓ read environment data "$env" syntax which exists (1 ms)
2025-04-15T08:16:48.4968980Z       ✓ read environment data "$env" syntax which does not exists (9 ms)
2025-04-15T08:16:48.4969343Z       ✓ read parameter from current node with short "$parameter" syntax (1 ms)
2025-04-15T08:16:48.4969760Z       ✓ return resolved value when referencing another property with expression (long "$node.{NODE}.data" syntax) (1 ms)
2025-04-15T08:16:48.4970218Z       ✓ return resolved value when referencing another property with expression (short "data" syntax) (1 ms)
2025-04-15T08:16:48.4970858Z       ✓ return resolved value when referencing another property with expression when a node has spaces (long "$node["{NODE}"].parameter" syntax)
2025-04-15T08:16:48.4971419Z       ✓ return resolved value when referencing another property with expression on another node (long "$node["{NODE}"].parameter" syntax) (1 ms)
2025-04-15T08:16:48.4971850Z       ✓ should also resolve all child parameters when the parent get requested (1 ms)
2025-04-15T08:16:48.4972079Z     getParentNodesByDepth
2025-04-15T08:16:48.4972265Z       ✓ Should return parent nodes of nodes
2025-04-15T08:16:48.4972461Z       ✓ Should return parent up to depth
2025-04-15T08:16:48.4972674Z       ✓ Should return all parents with depth of -1
2025-04-15T08:16:48.4972962Z       ✓ Should return parents of nodes with all connected output indicies (1 ms)
2025-04-15T08:16:48.4973215Z       ✓ Should handle loops within workflows
2025-04-15T08:16:48.4973400Z     getConnectionsByDestination
2025-04-15T08:16:48.4973653Z       ✓ should return empty object when there are no connections (1 ms)
2025-04-15T08:16:48.4973907Z       ✓ should return connections by destination node
2025-04-15T08:16:48.4974127Z       ✓ should handle multiple connection types
2025-04-15T08:16:48.4974335Z       ✓ should handle nodes with no connections
2025-04-15T08:16:48.4974548Z       ✓ should handle nodes with null connections
2025-04-15T08:16:48.4974803Z       ✓ should handle nodes with multiple input connections (1 ms)
2025-04-15T08:16:48.4974996Z     getHighestNode
2025-04-15T08:16:48.4975186Z       ✓ should return node name if node is not disabled
2025-04-15T08:16:48.4975409Z       ✓ should return empty array if node is disabled
2025-04-15T08:16:48.4975661Z       ✓ should return highest nodes when multiple parent nodes exist
2025-04-15T08:16:48.4975905Z       ✓ should ignore disabled parent nodes (1 ms)
2025-04-15T08:16:48.4976105Z       ✓ should handle nested connections
2025-04-15T08:16:48.4976313Z       ✓ should handle specified connection index
2025-04-15T08:16:48.4976559Z       ✓ should prevent infinite loops with cyclic connections
2025-04-15T08:16:48.4976861Z       ✓ should handle connections to nodes that are not defined in the workflow (1 ms)
2025-04-15T08:16:48.4977192Z       ✓ should handle connections from nodes that are not defined in the workflow
2025-04-15T08:16:48.4977406Z     getParentMainInputNode
2025-04-15T08:16:48.4977632Z       ✓ should return the node itself if no parent connections exist
2025-04-15T08:16:48.4977876Z       ✓ should return direct main input parent node
2025-04-15T08:16:48.4978140Z       ✓ should traverse through non-main connections to find main input
2025-04-15T08:16:48.4978395Z       ✓ should handle nested non-main connections
2025-04-15T08:16:48.4978602Z     getNodeConnectionIndexes
2025-04-15T08:16:48.4978816Z       ✓ should return undefined for non-existent parent node
2025-04-15T08:16:48.4979288Z       ✓ should return undefined for nodes without connections (1 ms)
2025-04-15T08:16:48.4979584Z       ✓ should return correct connection indexes for direct connections
2025-04-15T08:16:48.4979881Z       ✓ should return correct connection indexes for multi-step connections
2025-04-15T08:16:48.4980142Z       ✓ should return undefined when depth is 0
2025-04-15T08:16:48.4980386Z       ✓ should handle workflows with multiple connection indexes
2025-04-15T08:16:48.4980569Z     getStartNode
2025-04-15T08:16:48.4980792Z       ✓ returns first trigger node when multiple start nodes exist (1 ms)
2025-04-15T08:16:48.4981089Z       ✓ returns first starting node type when no trigger nodes are present
2025-04-15T08:16:48.4981354Z       ✓ returns undefined when all nodes are disabled
2025-04-15T08:16:48.4981513Z     getNode
2025-04-15T08:16:48.4981704Z       ✓ should return the node with the given name if it exists
2025-04-15T08:16:48.4981938Z       ✓ should return null if the node does not exist
2025-04-15T08:16:48.4982098Z     getNodes
2025-04-15T08:16:48.4982286Z       ✓ should return all requested nodes that exist
2025-04-15T08:16:48.4982618Z       ✓ should return nodes in the order they were requested
2025-04-15T08:16:48.4982884Z       ✓ should skip nodes that do not exist and log a warning (2 ms)
2025-04-15T08:16:48.4983167Z       ✓ should return an empty array if none of the requested nodes exist
2025-04-15T08:16:48.4983411Z       ✓ should handle an empty array of node names
2025-04-15T08:16:48.4983527Z 
2025-04-15T08:16:48.4983612Z PASS test/WorkflowDataProxy.test.ts
2025-04-15T08:16:48.4983771Z   WorkflowDataProxy
2025-04-15T08:16:48.4983895Z     $(If))
2025-04-15T08:16:48.4984115Z       ✓ last() should use the output the node is connected to by default (3 ms)
2025-04-15T08:16:48.4984366Z       ✓ last(0) should use the first output
2025-04-15T08:16:48.4984565Z       ✓ last(1) should use the second output
2025-04-15T08:16:48.4984829Z       ✓ first() should use the output the node is connected to by default (1 ms)
2025-04-15T08:16:48.4985133Z       ✓ first(0) should use the output the node is connected to by default
2025-04-15T08:16:48.4985422Z       ✓ first(1) should use the output the node is connected to by default
2025-04-15T08:16:48.4985719Z       ✓ all() should use the output the node is connected to by default (1 ms)
2025-04-15T08:16:48.4986006Z       ✓ all(0) should use the output the node is connected to by default
2025-04-15T08:16:48.4986279Z       ✓ all(1) should use the output the node is connected to by default
2025-04-15T08:16:48.4986464Z     Base
2025-04-15T08:16:48.4986595Z       ✓ $("NodeName").all()
2025-04-15T08:16:48.4986771Z       ✓ $("NodeName").all() length
2025-04-15T08:16:48.4986950Z       ✓ $("NodeName").item (1 ms)
2025-04-15T08:16:48.4987126Z       ✓ $("NodeNameEarlier").item
2025-04-15T08:16:48.4987305Z       ✓ $("NodeName").itemMatching(2)
2025-04-15T08:16:48.4987475Z       ✓ $("NodeName").first()
2025-04-15T08:16:48.4987646Z       ✓ $("NodeName").last() (1 ms)
2025-04-15T08:16:48.4987810Z       ✓ $("NodeName").params
2025-04-15T08:16:48.4988031Z       ✓ $("NodeName") not in workflow should throw (58 ms)
2025-04-15T08:16:48.4988286Z       ✓ $("NodeName").item on Node that has not executed (1 ms)
2025-04-15T08:16:48.4988491Z       ✓ $("NodeName").isExecuted
2025-04-15T08:16:48.4988647Z       ✓ $input.all()
2025-04-15T08:16:48.4988795Z       ✓ $input.all() length
2025-04-15T08:16:48.4988968Z       ✓ $input.first() (1 ms)
2025-04-15T08:16:48.4989127Z       ✓ $input.last()
2025-04-15T08:16:48.4989346Z       ✓ $input.item
2025-04-15T08:16:48.4989477Z       ✓ $thisItem
2025-04-15T08:16:48.4989609Z       ✓ $binary
2025-04-15T08:16:48.4989738Z       ✓ $json
2025-04-15T08:16:48.4989866Z       ✓ $itemIndex
2025-04-15T08:16:48.4989998Z       ✓ $prevNode
2025-04-15T08:16:48.4990130Z       ✓ $runIndex
2025-04-15T08:16:48.4990254Z       ✓ $workflow
2025-04-15T08:16:48.4990373Z     Errors
2025-04-15T08:16:48.4990548Z       ✓ $("NodeName").item, Node does not exist (2 ms)
2025-04-15T08:16:48.4990928Z       ✓ $("NodeName").item, node has no connection to referenced node (1 ms)
2025-04-15T08:16:48.4991227Z       ✓ $("NodeName").first(), node has no connection to referenced node (2 ms)
2025-04-15T08:16:48.4991473Z       ✓ $json, Node has no connections (7 ms)
2025-04-15T08:16:48.4991683Z       ✓ $("NodeName").item, Node has not run (1 ms)
2025-04-15T08:16:48.4991884Z       ✓ $json, Node has not run (2 ms)
2025-04-15T08:16:48.4992150Z       ✓ $("NodeName").item, paired item error: more than 1 matching item (2 ms)
2025-04-15T08:16:48.4992436Z       ✓ $("NodeName").item, paired item error: missing paired item (1 ms)
2025-04-15T08:16:48.4992724Z       ✓ $("NodeName").item, paired item error: invalid paired item (4 ms)
2025-04-15T08:16:48.4992926Z     Pinned data with manual execution
2025-04-15T08:16:48.4993110Z       ✓ $(PinnedSet).item.json (1 ms)
2025-04-15T08:16:48.4993301Z       ✓ $(PinnedSet).item.json.firstName
2025-04-15T08:16:48.4993507Z       ✓ $(PinnedSet).pairedItem().json.firstName
2025-04-15T08:16:48.4993709Z       ✓ $(PinnedSet).first().json.firstName
2025-04-15T08:16:48.4993908Z       ✓ $(PinnedSet).first().json.firstName
2025-04-15T08:16:48.4994196Z       ✓ $(PinnedSet).last().json.firstName
2025-04-15T08:16:48.4994398Z       ✓ $(PinnedSet).all()[0].json.firstName (1 ms)
2025-04-15T08:16:48.4994597Z       ✓ $(PinnedSet).all()[1].json.firstName
2025-04-15T08:16:48.4994771Z       ✓ $(PinnedSet).all()[2]
2025-04-15T08:16:48.4994959Z       ✓ $(PinnedSet).itemMatching(0).json.firstName
2025-04-15T08:16:48.4995169Z       ✓ $(PinnedSet).itemMatching(1).json.firstName
2025-04-15T08:16:48.4995367Z       ✓ $(PinnedSet).itemMatching(2)
2025-04-15T08:16:48.4995560Z       ✓ $node[PinnedSet].json.firstName (1 ms)
2025-04-15T08:16:48.4995735Z     Pinned data with paired items
2025-04-15T08:16:48.4995972Z       ✓ itemMatching should throw when it cannot find a paired item
2025-04-15T08:16:48.4996249Z       ✓ pairedItem should throw when it cannot find a paired item
2025-04-15T08:16:48.4996500Z       ✓ item should throw when it cannot find a paired item
2025-04-15T08:16:48.4996681Z     Partial data
2025-04-15T08:16:48.4996846Z       Default behaviour (throw on missing execution data)
2025-04-15T08:16:48.4997026Z         ✓ $binary
2025-04-15T08:16:48.4997159Z         ✓ $json (1 ms)
2025-04-15T08:16:48.4997292Z         ✓ $data
2025-04-15T08:16:48.4997433Z       Don't throw on missing execution data)
2025-04-15T08:16:48.4997597Z         ✓ $binary
2025-04-15T08:16:48.4997726Z         ✓ $json
2025-04-15T08:16:48.4997850Z         ✓ $data
2025-04-15T08:16:48.4997959Z     $fromAI
2025-04-15T08:16:48.4998115Z       ✓ Retrieves values for first item
2025-04-15T08:16:48.4998356Z       ✓ Retrieves values for second item (1 ms)
2025-04-15T08:16:48.4998561Z       ✓ Case variants: $fromAi and $fromai (1 ms)
2025-04-15T08:16:48.4998771Z       ✓ Returns default value when key not found
2025-04-15T08:16:48.4999020Z       ✓ Throws an error when a key is invalid (e.g. empty string) (1 ms)
2025-04-15T08:16:48.4999258Z     $rawParameter
2025-04-15T08:16:48.4999431Z       ✓ returns simple raw parameter value (1 ms)
2025-04-15T08:16:48.4999776Z       ✓ returns raw parameter value for resource locator values
2025-04-15T08:16:48.5000032Z       ✓ returns raw parameter value when there is no run data
2025-04-15T08:16:48.5000226Z     DateTime and Time-related functions
2025-04-15T08:16:48.5000414Z       ✓ $now should return current datetime
2025-04-15T08:16:48.5000636Z       ✓ $today should return datetime at start of day (1 ms)
2025-04-15T08:16:48.5000875Z       ✓ should expose DateTime, Interval, and Duration
2025-04-15T08:16:48.5001106Z       ✓ $now should be configurable with timezone (3 ms)
2025-04-15T08:16:48.5001272Z     Node version and ID
2025-04-15T08:16:48.5001456Z       ✓ $nodeVersion should return node type version
2025-04-15T08:16:48.5001654Z       ✓ $nodeId should return node ID
2025-04-15T08:16:48.5001845Z       ✓ $webhookId should be optional (1 ms)
2025-04-15T08:16:48.5001991Z     $jmesPath
2025-04-15T08:16:48.5002142Z       ✓ should query simple object
2025-04-15T08:16:48.5002323Z       ✓ should query nested object
2025-04-15T08:16:48.5002571Z       ✓ should query array
2025-04-15T08:16:48.5002769Z       ✓ should throw error for invalid arguments (1 ms)
2025-04-15T08:16:48.5002975Z       ✓ $jmespath should alias $jmesPath
2025-04-15T08:16:48.5003120Z     $mode
2025-04-15T08:16:48.5003264Z       ✓ should return execution mode
2025-04-15T08:16:48.5003403Z     $item
2025-04-15T08:16:48.5003606Z       ✓ should return data proxy for specific item
2025-04-15T08:16:48.5003806Z       ✓ should allow specifying run index
2025-04-15T08:16:48.5003953Z     $items
2025-04-15T08:16:48.5004110Z       Default behavior (no arguments)
2025-04-15T08:16:48.5004326Z         ✓ should return input items from previous node (1 ms)
2025-04-15T08:16:48.5004564Z         ✓ should limit items for nodes with executeOnce=true
2025-04-15T08:16:48.5004736Z       With node name argument
2025-04-15T08:16:48.5004933Z         ✓ should return items for specified node
2025-04-15T08:16:48.5005158Z         ✓ should throw error for non-existent node (1 ms)
2025-04-15T08:16:48.5005359Z       With node name and output index
2025-04-15T08:16:48.5005565Z         ✓ should return items from specific output
2025-04-15T08:16:48.5005752Z       With node name, output index, and run index
2025-04-15T08:16:48.5005947Z         ✓ should handle negative run index
2025-04-15T08:16:48.5006098Z       Error handling
2025-04-15T08:16:48.5006271Z         ✓ should throw error for invalid run index
2025-04-15T08:16:48.5006493Z         ✓ should handle nodes with no execution data (1 ms)
2025-04-15T08:16:48.5006661Z     $agentInfo
2025-04-15T08:16:48.5006859Z       ✓ $agentInfo should return undefined for non-agent nodes
2025-04-15T08:16:48.5007167Z       ✓ $agentInfo should return memoryConnectedToAgent as true if memory is connected
2025-04-15T08:16:48.5007542Z       ✓ $agentInfo should return memoryConnectedToAgent as false if no memory is connected (1 ms)
2025-04-15T08:16:48.5007890Z       ✓ $agentInfo.tools should include connected tools with correct details
2025-04-15T08:16:48.5008851Z       ✓ $agentInfo.tools should correctly identify AI-defined fields
2025-04-15T08:16:48.5008996Z 
2025-04-15T08:16:48.5009091Z PASS test/AugmentObject.test.ts
2025-04-15T08:16:48.5009268Z   AugmentObject
2025-04-15T08:16:48.5009386Z     augmentArray
2025-04-15T08:16:48.5009550Z       ✓ should work with arrays (8 ms)
2025-04-15T08:16:48.5009750Z       ✓ should work with arrays on any level (5 ms)
2025-04-15T08:16:48.5009911Z     augmentObject
2025-04-15T08:16:48.5010105Z       ✓ should work with simple values on first level (1 ms)
2025-04-15T08:16:48.5010344Z       ✓ should work with simple values on sub-level (1 ms)
2025-04-15T08:16:48.5010578Z       ✓ should work with complex values on first level
2025-04-15T08:16:48.5010788Z       ✓ should work with delete and reset (1 ms)
2025-04-15T08:16:48.5011021Z       ✓ should work with setting to undefined and reset (2 ms)
2025-04-15T08:16:48.5011263Z       ✓ should be faster than doing a deepCopy (632 ms)
2025-04-15T08:16:48.5011600Z       ✓ should ignore non-enumerable keys
2025-04-15T08:16:48.5011813Z       ✓ should return property descriptors (1 ms)
2025-04-15T08:16:48.5012023Z       ✓ should return valid values on `has` calls
2025-04-15T08:16:48.5012226Z       ✓ should ignore non-enumerable keys (1 ms)
2025-04-15T08:16:48.5012456Z       ✓ should handle constructor property correctly
2025-04-15T08:16:48.5012583Z 
2025-04-15T08:16:48.5012708Z PASS test/ExpressionExtensions/StringExtensions.test.ts
2025-04-15T08:16:48.5012903Z   Data Transformation Functions
2025-04-15T08:16:48.5013065Z     String Data Transformation Functions
2025-04-15T08:16:48.5013272Z       ✓ .length should return the string length (3 ms)
2025-04-15T08:16:48.5013507Z       ✓ .urlDecode should work correctly on a string (1 ms)
2025-04-15T08:16:48.5013746Z       ✓ .urlEncode should work correctly on a string (1 ms)
2025-04-15T08:16:48.5013977Z       ✓ .removeTags should work correctly on a string (1 ms)
2025-04-15T08:16:48.5014238Z       ✓ .removeMarkdown should work correctly on a string (1 ms)
2025-04-15T08:16:48.5014629Z       ✓ .toLowerCase should work correctly on a string (1 ms)
2025-04-15T08:16:48.5014867Z       ✓ .toFloat should work correctly on a string (1 ms)
2025-04-15T08:16:48.5015091Z       ✓ .toInt should work correctly on a string (3 ms)
2025-04-15T08:16:48.5015310Z       ✓ .quote should work correctly on a string (2 ms)
2025-04-15T08:16:48.5015536Z       ✓ .isNumeric should work correctly on a string (4 ms)
2025-04-15T08:16:48.5015748Z       ✓ .isUrl should work on a string (23 ms)
2025-04-15T08:16:48.5015953Z       ✓ .isDomain should work on a string (13 ms)
2025-04-15T08:16:48.5016164Z       ✓ .toSnakeCase should work on a string (3 ms)
2025-04-15T08:16:48.5016380Z       ✓ .toSentenceCase should work on a string (3 ms)
2025-04-15T08:16:48.5016595Z       ✓ .extractUrl should work on a string (12 ms)
2025-04-15T08:16:48.5016812Z       ✓ .extractDomain should work on a string (32 ms)
2025-04-15T08:16:48.5017025Z       ✓ .extractEmail should work on a string (1 ms)
2025-04-15T08:16:48.5017237Z       ✓ .isEmail should work on a string (3 ms)
2025-04-15T08:16:48.5017477Z       ✓ .toDateTime should work on a variety of formats (15 ms)
2025-04-15T08:16:48.5017711Z       ✓ .extractUrlPath should work on a string (2 ms)
2025-04-15T08:16:48.5017923Z       ✓ .parseJson should work on a string (1 ms)
2025-04-15T08:16:48.5018138Z       ✓ .parseJson should throw on invalid JSON (2 ms)
2025-04-15T08:16:48.5018395Z       ✓ .toJsonString should work on a string (2 ms)
2025-04-15T08:16:48.5018608Z       ✓ .toBoolean should work on a string (14 ms)
2025-04-15T08:16:48.5018820Z       ✓ .base64Encode should work on a string (5 ms)
2025-04-15T08:16:48.5019046Z       ✓ .base64Decode should work on a string (1 ms)
2025-04-15T08:16:48.5019252Z       .isEmpty
2025-04-15T08:16:48.5019461Z         ✓ should work correctly on a string that is not empty (21 ms)
2025-04-15T08:16:48.5019733Z         ✓ should work correctly on a string that is empty (2 ms)
2025-04-15T08:16:48.5019908Z       .isNotEmpty
2025-04-15T08:16:48.5020127Z         ✓ should work correctly on a string that is not empty (2 ms)
2025-04-15T08:16:48.5020390Z         ✓ should work correctly on a string that is empty (3 ms)
2025-04-15T08:16:48.5020563Z       .hash()
2025-04-15T08:16:48.5020725Z         ✓ should work for "base64" (2 ms)
2025-04-15T08:16:48.5020918Z         ✓ should work for "md5" (2 ms)
2025-04-15T08:16:48.5021106Z         ✓ should work for "sha1" (2 ms)
2025-04-15T08:16:48.5021292Z         ✓ should work for "sha224" (2 ms)
2025-04-15T08:16:48.5021476Z         ✓ should work for "sha256" (1 ms)
2025-04-15T08:16:48.5021662Z         ✓ should work for "sha384" (2 ms)
2025-04-15T08:16:48.5021843Z         ✓ should work for "sha512" (3 ms)
2025-04-15T08:16:48.5022025Z         ✓ should work for "sha3" (11 ms)
2025-04-15T08:16:48.5022232Z         ✓ should throw on invalid algorithm (29 ms)
2025-04-15T08:16:48.5022401Z       .toDate
2025-04-15T08:16:48.5022576Z         ✓ should work correctly on a date string (1 ms)
2025-04-15T08:16:48.5022895Z         ✓ should throw on invalid date (2 ms)
2025-04-15T08:16:48.5023010Z 
2025-04-15T08:16:48.5023072Z PASS test/utils.test.ts
2025-04-15T08:16:48.5023255Z   isObjectEmpty
2025-04-15T08:16:48.5023441Z     ✓ should handle null and undefined (4 ms)
2025-04-15T08:16:48.5023615Z     ✓ should handle arrays
2025-04-15T08:16:48.5023789Z     ✓ should handle Set and Map (1 ms)
2025-04-15T08:16:48.5024020Z     ✓ should handle Buffer, ArrayBuffer, and Uint8Array (8 ms)
2025-04-15T08:16:48.5024238Z     ✓ should handle plain objects
2025-04-15T08:16:48.5024434Z     ✓ should handle instantiated classes (1 ms)
2025-04-15T08:16:48.5024658Z     ✓ should not call Object.keys unless a plain object
2025-04-15T08:16:48.5024823Z   jsonParse
2025-04-15T08:16:48.5024952Z     ✓ parses JSON
2025-04-15T08:16:48.5025123Z     ✓ optionally throws `errorMessage (26 ms)
2025-04-15T08:16:48.5025327Z     ✓ optionally returns a `fallbackValue`
2025-04-15T08:16:48.5025483Z   jsonStringify
2025-04-15T08:16:48.5025700Z     ✓ should throw errors on circular references by default (22 ms)
2025-04-15T08:16:48.5026072Z     ✓ should break circular references when requested (1 ms)
2025-04-15T08:16:48.5026338Z     ✓ should not detect duplicates as circular references (1 ms)
2025-04-15T08:16:48.5026519Z   deepCopy
2025-04-15T08:16:48.5026673Z     ✓ should deep copy an object (1 ms)
2025-04-15T08:16:48.5026916Z     ✓ should avoid max call stack in case of circular deps (1 ms)
2025-04-15T08:16:48.5027106Z   fileTypeFromMimeType
2025-04-15T08:16:48.5027258Z     ✓ should recognize json
2025-04-15T08:16:48.5027410Z     ✓ should recognize html
2025-04-15T08:16:48.5027562Z     ✓ should recognize image
2025-04-15T08:16:48.5027734Z     ✓ should recognize audio (1 ms)
2025-04-15T08:16:48.5027908Z     ✓ should recognize video
2025-04-15T08:16:48.5028081Z     ✓ should recognize text (1 ms)
2025-04-15T08:16:48.5028244Z     ✓ should recognize pdf
2025-04-15T08:16:48.5028378Z   randomInt
2025-04-15T08:16:48.5028541Z     ✓ should generate random integers (5 ms)
2025-04-15T08:16:48.5028750Z     ✓ should generate random in range (2 ms)
2025-04-15T08:16:48.5028908Z   randomString
2025-04-15T08:16:48.5029109Z     ✓ should return a random string of the specified length (1 ms)
2025-04-15T08:16:48.5029436Z     ✓ should return a random string of the in the length range (5 ms)
2025-04-15T08:16:48.5029727Z     ✓ should only contain characters from the specified character set (1 ms)
2025-04-15T08:16:48.5029927Z   hasKey
2025-04-15T08:16:48.5030085Z     ✓ should return false if the input is null
2025-04-15T08:16:48.5030297Z     ✓ should return false if the input is undefined
2025-04-15T08:16:48.5030517Z     ✓ should return false if the input is a number
2025-04-15T08:16:48.5030757Z     ✓ should return false if the input is an array out of bounds
2025-04-15T08:16:48.5031019Z     ✓ should return true if the input is an array within bounds
2025-04-15T08:16:48.5031293Z     ✓ should return true if the input is an array with the key `length`
2025-04-15T08:16:48.5031598Z     ✓ should return false if the input is an array with the key `toString`
2025-04-15T08:16:48.5031887Z     ✓ should return false if the input is an object without the key
2025-04-15T08:16:48.5032147Z     ✓ should return true if the input is an object with the key
2025-04-15T08:16:48.5032360Z     ✓ should provide a type guard
2025-04-15T08:16:48.5032453Z 
2025-04-15T08:16:48.5032525Z PASS test/NodeErrors.test.ts
2025-04-15T08:16:48.5032673Z   NodeErrors tests
2025-04-15T08:16:48.5032851Z     ✓ should return unknown error message (4 ms)
2025-04-15T08:16:48.5033053Z     ✓ should return the error message
2025-04-15T08:16:48.5033261Z     ✓ should return the error message defined in reason
2025-04-15T08:16:48.5033497Z     ✓ should return the error message defined in options
2025-04-15T08:16:48.5033748Z     ✓ should return description error message
2025-04-15T08:16:48.5033993Z     ✓ should return description as error message defined in reason
2025-04-15T08:16:48.5034391Z     ✓ should return description as error message defined in options (1 ms)
2025-04-15T08:16:48.5034658Z     ✓ should return default message for ECONNREFUSED
2025-04-15T08:16:48.5034875Z     ✓ should return default message for 502 (1 ms)
2025-04-15T08:16:48.5035134Z     ✓ should return default message for ENOTFOUND, NodeOperationError
2025-04-15T08:16:48.5035420Z     ✓ should return default message for ENOTFOUND, NodeApiError (1 ms)
2025-04-15T08:16:48.5035713Z     ✓ should return default message for EEXIST based on code, NodeApiError
2025-04-15T08:16:48.5036007Z     ✓ should update description GETADDRINFO, NodeOperationError (1 ms)
2025-04-15T08:16:48.5036311Z     ✓ should remove description if it is equal to message, NodeOperationError
2025-04-15T08:16:48.5036746Z     ✓ should remove description if it is equal to message, message provided in options take precedence over original, NodeApiError
2025-04-15T08:16:48.5037148Z     ✓ should return mapped message for MYMAPPEDMESSAGE, NodeOperationError (1 ms)
2025-04-15T08:16:48.5037460Z     ✓ should return mapped message for MYMAPPEDMESSAGE, NodeApiError
2025-04-15T08:16:48.5037888Z     ✓ should return default message for EACCES, custom mapping not found, NodeOperationError
2025-04-15T08:16:48.5038146Z   NodeApiError message and description logic
2025-04-15T08:16:48.5038568Z     ✓ case: customMessage && customDescription, result: message === customMessage; description === customDescription (1 ms)
2025-04-15T08:16:48.5039107Z     ✓ case: customMessage && !customDescription && extractedMessage, result: message === customMessage; description === extractedMessage (3 ms)
2025-04-15T08:16:48.5039762Z     ✓ case: customMessage && !customDescription && !extractedMessage, result: message === customMessage; !description (1 ms)
2025-04-15T08:16:48.5040299Z     ✓ case: !customMessage && httpCodeMapping && extractedMessage, result: message === httpCodeMapping; description === extractedMessage (1 ms)
2025-04-15T08:16:48.5040807Z     ✓ case: !customMessage && httpCodeMapping && !extractedMessage, result: message === httpCodeMapping; !description
2025-04-15T08:16:48.5041290Z     ✓ case: !customMessage && !httpCodeMapping && extractedMessage, result: message === extractedMessage; !description (1 ms)
2025-04-15T08:16:48.5041846Z     ✓ case: !customMessage && !httpCodeMapping && !extractedMessage, result: message === UNKNOWN_ERROR_MESSAGE; description === UNKNOWN_ERROR_DESCRIPTION
2025-04-15T08:16:48.5042209Z     ✓ case: Error code sent as "any"
2025-04-15T08:16:48.5042308Z 
2025-04-15T08:16:48.5042443Z PASS test/ExpressionExtensions/ExpressionExtension.test.ts
2025-04-15T08:16:48.5042650Z   Expression Extension Transforms
2025-04-15T08:16:48.5042797Z     extend() transform
2025-04-15T08:16:48.5042969Z       ✓ Basic transform with .isEmpty (3 ms)
2025-04-15T08:16:48.5043211Z       ✓ Chained transform with .toSnakeCase.toSentenceCase (1 ms)
2025-04-15T08:16:48.5043533Z       ✓ Chained transform with native functions .toSnakeCase.trim.toSentenceCase (1 ms)
2025-04-15T08:16:48.5043757Z   tmpl Expression Parser
2025-04-15T08:16:48.5043898Z     Compatible splitting
2025-04-15T08:16:48.5044063Z       ✓ Lone expression (1 ms)
2025-04-15T08:16:48.5044221Z       ✓ Multiple expression
2025-04-15T08:16:48.5044387Z       ✓ Unclosed expression (1 ms)
2025-04-15T08:16:48.5044558Z       ✓ Escaped opening bracket
2025-04-15T08:16:48.5044726Z       ✓ Escaped closinging bracket
2025-04-15T08:16:48.5044867Z     Compatible joining
2025-04-15T08:16:48.5045014Z       ✓ Lone expression
2025-04-15T08:16:48.5045177Z       ✓ Multiple expression (1 ms)
2025-04-15T08:16:48.5045337Z       ✓ Unclosed expression
2025-04-15T08:16:48.5045495Z       ✓ Escaped opening bracket
2025-04-15T08:16:48.5045658Z       ✓ Escaped closing bracket
2025-04-15T08:16:48.5045790Z     Edge cases
2025-04-15T08:16:48.5046078Z       ✓ Nested member access with name of function inside a function doesn't result in function call (3 ms)
2025-04-15T08:16:48.5046323Z     Test newer ES syntax
2025-04-15T08:16:48.5046499Z       ✓ Optional chaining transforms (17 ms)
2025-04-15T08:16:48.5046825Z       ✓ Optional chaining transforms on calls (18 ms)
2025-04-15T08:16:48.5047064Z       ✓ Multiple optional chains in an expression (7 ms)
2025-04-15T08:16:48.5047232Z     Non dot extensions
2025-04-15T08:16:48.5047371Z       ✓ min (1 ms)
2025-04-15T08:16:48.5047502Z       ✓ max (1 ms)
2025-04-15T08:16:48.5047629Z       ✓ average (1 ms)
2025-04-15T08:16:48.5047768Z       ✓ numberList (4 ms)
2025-04-15T08:16:48.5047910Z       ✓ zip (1 ms)
2025-04-15T08:16:48.5048031Z       ✓ $if (6 ms)
2025-04-15T08:16:48.5048261Z       ✓ $not (2 ms)
2025-04-15T08:16:48.5048395Z       ✓ $ifEmpty (3 ms)
2025-04-15T08:16:48.5048537Z     Test extend with undefined
2025-04-15T08:16:48.5048690Z       ✓ input is undefined
2025-04-15T08:16:48.5048843Z       ✓ input is null (1 ms)
2025-04-15T08:16:48.5049027Z       ✓ input should be converted to upper case
2025-04-15T08:16:48.5049177Z 
2025-04-15T08:16:48.5049304Z PASS test/ExpressionExtensions/DateExtensions.test.ts
2025-04-15T08:16:48.5049491Z   Data Transformation Functions
2025-04-15T08:16:48.5049656Z     Date Data Transformation Functions
2025-04-15T08:16:48.5049992Z       ✓ .isWeekend() should work correctly on a date (27 ms)
2025-04-15T08:16:48.5050233Z       ✓ .endOfMonth() should work correctly on a date (7 ms)
2025-04-15T08:16:48.5050448Z       ✓ .toDate() should work on a string (1 ms)
2025-04-15T08:16:48.5050603Z       .beginningOf
2025-04-15T08:16:48.5050813Z         ✓ .beginningOf("week") should work correctly on a date (4 ms)
2025-04-15T08:16:48.5051084Z         ✓ .beginningOf("week") should work correctly on a string (1 ms)
2025-04-15T08:16:48.5051363Z         ✓ .beginningOf("month") should work correctly on a string (2 ms)
2025-04-15T08:16:48.5051639Z         ✓ .beginningOf("year") should work correctly on a string (2 ms)
2025-04-15T08:16:48.5051821Z       .extract
2025-04-15T08:16:48.5052010Z         ✓ .extract("day") should work correctly on a date (2 ms)
2025-04-15T08:16:48.5052235Z         ✓ should extract year from a date (2 ms)
2025-04-15T08:16:48.5052462Z         ✓ should extract yearDayNumber from a date (2 ms)
2025-04-15T08:16:48.5052684Z         ✓ should extract month from a date (2 ms)
2025-04-15T08:16:48.5052885Z         ✓ should extract week from a date (4 ms)
2025-04-15T08:16:48.5053083Z         ✓ should extract day from a date (2 ms)
2025-04-15T08:16:48.5053279Z         ✓ should extract hour from a date (7 ms)
2025-04-15T08:16:48.5053478Z         ✓ should extract minute from a date (2 ms)
2025-04-15T08:16:48.5053681Z         ✓ should extract second from a date (2 ms)
2025-04-15T08:16:48.5053896Z         ✓ should extract millisecond from a date (1 ms)
2025-04-15T08:16:48.5054121Z         ✓ should return undefined for invalid unit (2 ms)
2025-04-15T08:16:48.5054285Z       .format
2025-04-15T08:16:48.5054458Z         ✓ should format date with custom format (3 ms)
2025-04-15T08:16:48.5054671Z         ✓ should format date with ISO format (4 ms)
2025-04-15T08:16:48.5054830Z       .inBetween
2025-04-15T08:16:48.5054989Z         ✓ should work on string and Date (3 ms)
2025-04-15T08:16:48.5055200Z         ✓ should work on string and DateTime (1 ms)
2025-04-15T08:16:48.5055418Z         ✓ should not work for invalid strings (1 ms)
2025-04-15T08:16:48.5055620Z         ✓ should not work for numbers (1 ms)
2025-04-15T08:16:48.5055830Z         ✓ should not work for a single argument (41 ms)
2025-04-15T08:16:48.5056062Z         ✓ should not work for a more than two arguments (2 ms)
2025-04-15T08:16:48.5056237Z       .diffTo
2025-04-15T08:16:48.5056394Z         ✓ should work with a single unit (4 ms)
2025-04-15T08:16:48.5056594Z         ✓ should work with an array of units (8 ms)
2025-04-15T08:16:48.5056799Z         ✓ should return difference in days (2 ms)
2025-04-15T08:16:48.5057006Z         ✓ should return difference in hours (1 ms)
2025-04-15T08:16:48.5057213Z         ✓ should return difference in minutes (2 ms)
2025-04-15T08:16:48.5057420Z         ✓ should return difference in seconds (1 ms)
2025-04-15T08:16:48.5057642Z         ✓ should return difference in milliseconds (1 ms)
2025-04-15T08:16:48.5057988Z         ✓ should throw for invalid unit (2 ms)
2025-04-15T08:16:48.5058146Z       .toDateTime
2025-04-15T08:16:48.5058314Z         ✓ should return itself for DateTime (2 ms)
2025-04-15T08:16:48.5058567Z         ✓ should return a DateTime for JS Date (1 ms)
2025-04-15T08:16:48.5058726Z       .toInt/.toFloat
2025-04-15T08:16:48.5058909Z         ✓ should return milliseconds for DateTime (3 ms)
2025-04-15T08:16:48.5059132Z         ✓ should return milliseconds for JS Date (3 ms)
2025-04-15T08:16:48.5059416Z         ✓ should not have a doc (hidden from autocomplete) (2 ms)
2025-04-15T08:16:48.5059591Z       .toBoolean
2025-04-15T08:16:48.5059748Z         ✓ should return undefined (2 ms)
2025-04-15T08:16:48.5059973Z         ✓ should not have a doc (hidden from autocomplete) (2 ms)
2025-04-15T08:16:48.5060142Z       .isInLast
2025-04-15T08:16:48.5060361Z         ✓ should return true if the date is within the last n minutes (2 ms)
2025-04-15T08:16:48.5060673Z         ✓ should return false if the date is not within the last n minutes (1 ms)
2025-04-15T08:16:48.5061040Z         ✓ should handle default unit as minutes (2 ms)
2025-04-15T08:16:48.5061198Z       .minus
2025-04-15T08:16:48.5061363Z         ✓ should subtract days from the date (1 ms)
2025-04-15T08:16:48.5061575Z         ✓ should subtract years from the date (8 ms)
2025-04-15T08:16:48.5061799Z         ✓ should handle default unit as milliseconds (1 ms)
2025-04-15T08:16:48.5062018Z         ✓ should handle DateTime instances (1 ms)
2025-04-15T08:16:48.5062168Z       .plus
2025-04-15T08:16:48.5062331Z         ✓ should subtract days from the date (1 ms)
2025-04-15T08:16:48.5062538Z         ✓ should subtract years from the date (1 ms)
2025-04-15T08:16:48.5062753Z         ✓ should handle default unit as milliseconds (1 ms)
2025-04-15T08:16:48.5062966Z         ✓ should handle DateTime instances (1 ms)
2025-04-15T08:16:48.5063115Z       .isDst
2025-04-15T08:16:48.5063280Z         ✓ should return true for a date in DST (1 ms)
2025-04-15T08:16:48.5063506Z         ✓ should return false for a date not in DST (2 ms)
2025-04-15T08:16:48.5063631Z 
2025-04-15T08:16:48.5063713Z PASS test/TypeValidation.test.ts
2025-04-15T08:16:48.5063858Z   Type Validation
2025-04-15T08:16:48.5064040Z     ✓ should validate boolean values properly (7 ms)
2025-04-15T08:16:48.5064266Z     ✓ should not validate invalid boolean values (1 ms)
2025-04-15T08:16:48.5064476Z     ✓ should validate and cast numbers (1 ms)
2025-04-15T08:16:48.5064710Z     ✓ should validate and cast JSON & JS objects properly (5 ms)
2025-04-15T08:16:48.5064954Z     ✓ should validate and cast arrays properly (1 ms)
2025-04-15T08:16:48.5065158Z     ✓ should validate options properly
2025-04-15T08:16:48.5065361Z     ✓ should validate and cast time properly (1 ms)
2025-04-15T08:16:48.5065513Z     Dates
2025-04-15T08:16:48.5065683Z       ✓ should validate and cast ISO dates (15 ms)
2025-04-15T08:16:48.5065902Z       ✓ should validate and cast RFC2822 dates (2 ms)
2025-04-15T08:16:48.5066123Z       ✓ should validate and cast HTTP dates (1 ms)
2025-04-15T08:16:48.5066337Z       ✓ should validate and cast SQL dates (1 ms)
2025-04-15T08:16:48.5066559Z       ✓ should validate and cast other valid dates (2 ms)
2025-04-15T08:16:48.5066776Z       ✓ should not validate invalid dates (2 ms)
2025-04-15T08:16:48.5066929Z     options
2025-04-15T08:16:48.5067040Z       strict=true
2025-04-15T08:16:48.5067202Z         ✓ should not convert/cast types (4 ms)
2025-04-15T08:16:48.5067357Z       parseStrings=true
2025-04-15T08:16:48.5067533Z         ✓ should parse strings from other types
2025-04-15T08:16:48.5067712Z     getValueDescription util function
2025-04-15T08:16:48.5067909Z       ✓ should return correct description (1 ms)
2025-04-15T08:16:48.5068018Z 
2025-04-15T08:16:48.5068101Z PASS test/ObservableObject.test.ts
2025-04-15T08:16:48.5068253Z   ObservableObject
2025-04-15T08:16:48.5068488Z     ✓ should recognize that item on parent level got added (init empty) (3 ms)
2025-04-15T08:16:48.5069061Z     ✓ should not recognize that item on parent level changed if it is empty object and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:16:48.5069659Z     ✓ should recognize that item on parent level changed if it is not empty object and option "ignoreEmptyOnFirstChild" === true (init empty)
2025-04-15T08:16:48.5070199Z     ✓ should not recognize that item on parent level changed if it is empty array and option "ignoreEmptyOnFirstChild" === true (init empty) (1 ms)
2025-04-15T08:16:48.5070728Z     ✓ should recognize that item on parent level changed if it is not empty []] and option "ignoreEmptyOnFirstChild" === true (init empty)
2025-04-15T08:16:48.5071122Z     ✓ should recognize that item on parent level changed (init data exists) (1 ms)
2025-04-15T08:16:48.5071434Z     ✓ should recognize that array on parent level changed (init data exists)
2025-04-15T08:16:48.5071758Z     ✓ should recognize that item on first child level changed (init data exists) (1 ms)
2025-04-15T08:16:48.5072220Z     ✓ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === true (init data exists)
2025-04-15T08:16:48.5072867Z     ✓ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === false (init data exists) (1 ms)
2025-04-15T08:16:48.5073293Z     ✓ should recognize that array on first child level changed (init data exists)
2025-04-15T08:16:48.5073611Z     ✓ should recognize that item on second child level changed (init data exists)
2025-04-15T08:16:48.5073936Z     ✓ should recognize that item on parent level got deleted (init data exists) (1 ms)
2025-04-15T08:16:48.5074378Z     ✓ should recognize that item on parent level got deleted even with and option "ignoreEmptyOnFirstChild" === true (init data exists)
2025-04-15T08:16:48.5074807Z     ✓ should recognize that item on second child level got deleted (init data exists) (1 ms)
2025-04-15T08:16:48.5075186Z     ✓ should recognize that item on second child level changed with null (init data exists) (1 ms)
2025-04-15T08:16:48.5075374Z 
2025-04-15T08:16:48.5075491Z PASS test/ExpressionExtensions/ArrayExtensions.test.ts
2025-04-15T08:16:48.5075683Z   Data Transformation Functions
2025-04-15T08:16:48.5075846Z     Array Data Transformation Functions
2025-04-15T08:16:48.5076077Z       ✓ .randomItem() should work correctly on an array (30 ms)
2025-04-15T08:16:48.5076334Z       ✓ .isNotEmpty() should work correctly on an array (4 ms)
2025-04-15T08:16:48.5076576Z       ✓ .pluck() should work correctly on an array (6 ms)
2025-04-15T08:16:48.5076827Z       ✓ .pluck() should work correctly for multiple values (5 ms)
2025-04-15T08:16:48.5077094Z       ✓ .pluck() should work return everything with no args (4 ms)
2025-04-15T08:16:48.5077339Z       ✓ .unique() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5077626Z       ✓ .unique() should work on an arrays containing nulls, objects and arrays (3 ms)
2025-04-15T08:16:48.5077903Z       ✓ .unique() should work on an arrays of objects (17 ms)
2025-04-15T08:16:48.5078149Z       ✓ .isEmpty() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5078423Z       ✓ .isEmpty() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5078659Z       ✓ .last() should work correctly on an array (1 ms)
2025-04-15T08:16:48.5078885Z       ✓ .first() should work correctly on an array (2 ms)
2025-04-15T08:16:48.5079110Z       ✓ .merge() should work correctly on an array (2 ms)
2025-04-15T08:16:48.5079476Z       ✓ .merge() should work correctly without arguments (1 ms)
2025-04-15T08:16:48.5079782Z       ✓ .smartJoin() should work correctly on an array of objects (10 ms)
2025-04-15T08:16:48.5080078Z       ✓ .renameKeys() should work correctly on an array of objects (2 ms)
2025-04-15T08:16:48.5080332Z       ✓ .sum() should work on an array of numbers (41 ms)
2025-04-15T08:16:48.5080564Z       ✓ .average() should work on an array of numbers (3 ms)
2025-04-15T08:16:48.5080796Z       ✓ .min() should work on an array of numbers (3 ms)
2025-04-15T08:16:48.5081116Z       ✓ .max() should work on an array of numbers (3 ms)
2025-04-15T08:16:48.5081350Z       ✓ .union() should work on an array of objects (8 ms)
2025-04-15T08:16:48.5081629Z       ✓ .union() should work on an arrays containing nulls, objects and arrays (3 ms)
2025-04-15T08:16:48.5081923Z       ✓ .intersection() should work on an array of objects (12 ms)
2025-04-15T08:16:48.5082240Z       ✓ .intersection() should work on an arrays containing nulls, objects and arrays (3 ms)
2025-04-15T08:16:48.5082530Z       ✓ .difference() should work on an array of objects (5 ms)
2025-04-15T08:16:48.5082826Z       ✓ .difference() should work on an arrays containing nulls, objects and arrays (2 ms)
2025-04-15T08:16:48.5083090Z       ✓ .compact() should work on an array (1 ms)
2025-04-15T08:16:48.5083300Z       ✓ .chunk() should work on an array (1 ms)
2025-04-15T08:16:48.5083517Z       ✓ .toJsonString() should work on an array (1 ms)
2025-04-15T08:16:48.5083730Z       ✓ .append() should work on an array (1 ms)
2025-04-15T08:16:48.5083900Z       Conversion methods
2025-04-15T08:16:48.5084373Z         ✓ should exist but return undefined (to not break expressions with mixed data) (4 ms)
2025-04-15T08:16:48.5084666Z         ✓ should not have a doc (hidden from autocomplete)
2025-04-15T08:16:48.5084784Z 
2025-04-15T08:16:48.5084914Z PASS test/ExpressionExtensions/ObjectExtensions.test.ts
2025-04-15T08:16:48.5085113Z   Data Transformation Functions
2025-04-15T08:16:48.5085277Z     Object Data Transformation Functions
2025-04-15T08:16:48.5085491Z       ✓ .removeField should work on an object (4 ms)
2025-04-15T08:16:48.5085704Z       ✓ .urlEncode should work on an object (1 ms)
2025-04-15T08:16:48.5085926Z       ✓ .toJsonString() should work on an object (1 ms)
2025-04-15T08:16:48.5086088Z       .isEmpty
2025-04-15T08:16:48.5086268Z         ✓ should return true for an empty object (31 ms)
2025-04-15T08:16:48.5086506Z         ✓ should return false for a non-empty object (3 ms)
2025-04-15T08:16:48.5086796Z         ✓ should return true for an object with only null/undefined values (3 ms)
2025-04-15T08:16:48.5087001Z       .hasField
2025-04-15T08:16:48.5087205Z         ✓ should return true if the key exists in the object (2 ms)
2025-04-15T08:16:48.5087488Z         ✓ should return false if the key does not exist in the object (2 ms)
2025-04-15T08:16:48.5087691Z       .removeFieldsContaining
2025-04-15T08:16:48.5087876Z         ✓ should work on an object (2 ms)
2025-04-15T08:16:48.5088238Z         ✓ should not work for empty string (24 ms)
2025-04-15T08:16:48.5088414Z       .keepFieldsContaining
2025-04-15T08:16:48.5088690Z         ✓ .keepFieldsContaining should work on an object (2 ms)
2025-04-15T08:16:48.5088963Z         ✓ .keepFieldsContaining should work on a nested object (1 ms)
2025-04-15T08:16:48.5089298Z         ✓ .keepFieldsContaining should not work for empty string (2 ms)
2025-04-15T08:16:48.5089488Z       .compact
2025-04-15T08:16:48.5089641Z         ✓ should work on an object (2 ms)
2025-04-15T08:16:48.5089912Z         ✓ should remove fields with null, undefined, empty string, or "nil" (2 ms)
2025-04-15T08:16:48.5090167Z         ✓ should work on an empty object (1 ms)
2025-04-15T08:16:48.5090411Z         ✓ should work on an object with all null/undefined values (1 ms)
2025-04-15T08:16:48.5090692Z         ✓ should work on an object with nested null/undefined values (1 ms)
2025-04-15T08:16:48.5090944Z         ✓ should not allow prototype pollution (4 ms)
2025-04-15T08:16:48.5091101Z       .keys
2025-04-15T08:16:48.5091288Z         ✓ should return an array of keys from the object (1 ms)
2025-04-15T08:16:48.5091524Z         ✓ should return an empty array for an empty object
2025-04-15T08:16:48.5091689Z       .values
2025-04-15T08:16:48.5091881Z         ✓ should return an array of values from the object (1 ms)
2025-04-15T08:16:48.5092117Z         ✓ should return an empty array for an empty object
2025-04-15T08:16:48.5092281Z       Conversion methods
2025-04-15T08:16:48.5092668Z         ✓ should exist but return undefined (to not break expressions with mixed data) (3 ms)
2025-04-15T08:16:48.5092957Z         ✓ should not have a doc (hidden from autocomplete)
2025-04-15T08:16:48.5093075Z 
2025-04-15T08:16:48.5093147Z PASS test/Expression.test.ts
2025-04-15T08:16:48.5093295Z   Expression (with tmpl)
2025-04-15T08:16:48.5093428Z     getParameterValue()
2025-04-15T08:16:48.5093646Z       ✓ should not be able to use global built-ins from denylist (151 ms)
2025-04-15T08:16:48.5093920Z       ✓ should be able to use global built-ins from allowlist (208 ms)
2025-04-15T08:16:48.5094186Z       ✓ should not able to do arbitrary code execution (3 ms)
2025-04-15T08:16:48.5094382Z     Test all expression value fixtures
2025-04-15T08:16:48.5094577Z       ✓ ={{$json["contact"]["FirstName"]}} (4 ms)
2025-04-15T08:16:48.5094769Z       ✓ ={{ $json["test"] }} (3 ms)
2025-04-15T08:16:48.5094980Z       ✓ ={{$json["test"].json["message"]["message_id"]}} (2 ms)
2025-04-15T08:16:48.5095201Z       ✓ ={{$json[$json["Set2"].json["apiKey"]]}} (3 ms)
2025-04-15T08:16:48.5095436Z       ✓ ={{$json["get"].json["recipes"][0]["image"]}} (7 ms)
2025-04-15T08:16:48.5095983Z       ✓ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (13 ms)
2025-04-15T08:16:48.5096367Z       ✓ = {{$json["dig check CF"].data["stdout"]}} (6 ms)
2025-04-15T08:16:48.5096633Z       ✓ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (14 ms)
2025-04-15T08:16:48.5096848Z       ✓ ={{$runIndex}} (3 ms)
2025-04-15T08:16:48.5097026Z       ✓ ={{ new String().toString() }} (9 ms)
2025-04-15T08:16:48.5097429Z       ✓ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (5 ms)
2025-04-15T08:16:48.5097777Z       ✓ ={{$json["GetTicket"].json["tickets"].length}} (3 ms)
2025-04-15T08:16:48.5097978Z       ✓ ={{ $json.toString() }} (5 ms)
2025-04-15T08:16:48.5098181Z       ✓ ={{Math.floor(Math.min(1, 2) * 100);}} (8 ms)
2025-04-15T08:16:48.5098456Z       ✓ ={{$json["图片数量判断"].data["imgList"][0]}} (3 ms)
2025-04-15T08:16:48.5098673Z       ✓ ={{ $json["phone"] ?? 0}} (38 ms)
2025-04-15T08:16:48.5098968Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (5 ms)
2025-04-15T08:16:48.5099359Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (4 ms)
2025-04-15T08:16:48.5099653Z       ✓ ={{ [].concat($json["Create or update"].json["vid"]) }} (2 ms)
2025-04-15T08:16:48.5099965Z       ✓ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (6 ms)
2025-04-15T08:16:48.5100275Z       ✓ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (4 ms)
2025-04-15T08:16:48.5100646Z       ✓ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}} (7 ms)
2025-04-15T08:16:48.5101079Z       ✓ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (13 ms)
2025-04-15T08:16:48.5101209Z       ✓ ={{new Date($json["created_at"]).toISOString()}} (5 ms)
2025-04-15T08:16:48.5101348Z       ✓ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (3 ms)
2025-04-15T08:16:48.5101583Z       ✓ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (5 ms)
2025-04-15T08:16:48.5101642Z       ✓ ={
2025-04-15T08:16:48.5101700Z 	"article": {
2025-04-15T08:16:48.5101786Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5101844Z 		"published": true,
2025-04-15T08:16:48.5101960Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5102041Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5102090Z 	}
2025-04-15T08:16:48.5102147Z } (8 ms)
2025-04-15T08:16:48.5102397Z       ✓ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (9 ms)
2025-04-15T08:16:48.5102655Z       ✓ ={{$json["HTTP Request"].json["paging"] ? true : false}} (3 ms)
2025-04-15T08:16:48.5102748Z       ✓ ={{Math.min(1, 2);}} (3 ms)
2025-04-15T08:16:48.5102850Z       ✓ ={{new String().toString();}} (2 ms)
2025-04-15T08:16:48.5103003Z       ✓ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (3 ms)
2025-04-15T08:16:48.5103074Z       ✓ ={{200}} (1 ms)
2025-04-15T08:16:48.5103188Z       ✓ ={{$json.assetValue * $json.value / 100}} (3 ms)
2025-04-15T08:16:48.5103298Z       ✓ ={{/^\d+$/.test($json["search_term"])}} (4 ms)
2025-04-15T08:16:48.5103363Z       ✓ ={{ `test
2025-04-15T08:16:48.5103412Z value
2025-04-15T08:16:48.5103464Z multi
2025-04-15T08:16:48.5103513Z line` }} (2 ms)
2025-04-15T08:16:48.5103624Z       ✓ ={{ { "data": $json.body.choices } }} (3 ms)
2025-04-15T08:16:48.5103773Z       ✓ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (4 ms)
2025-04-15T08:16:48.5103846Z       ✓ ={{asdas}} (5 ms)
2025-04-15T08:16:48.5103940Z       ✓ ={{!!$json["data"]["errors"]}} (4 ms)
2025-04-15T08:16:48.5104016Z       ✓ =TRUE (1 ms)
2025-04-15T08:16:48.5104241Z       ✓ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (13 ms)
2025-04-15T08:16:48.5104406Z       ✓ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (2 ms)
2025-04-15T08:16:48.5104540Z       ✓ ={{typeof $json["person"].json["name"] != "undefined"}} (3 ms)
2025-04-15T08:16:48.5104670Z       ✓ ={{ $json?.data == undefined ? '' : $json.data }} (4 ms)
2025-04-15T08:16:48.5104798Z       ✓ ={{ 'domain' in $json && $json.domain != null}} (8 ms)
2025-04-15T08:16:48.5104897Z       ✓ ={{ String("testing").length }} (2 ms)
2025-04-15T08:16:48.5104979Z     Test all expression transform fixtures
2025-04-15T08:16:48.5105077Z       ✓ ={{$json["contact"]["FirstName"]}} (1 ms)
2025-04-15T08:16:48.5105153Z       ✓ ={{ $json["test"] }}
2025-04-15T08:16:48.5105274Z       ✓ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:16:48.5105386Z       ✓ ={{$json[$json["Set2"].json["apiKey"]]}} (1 ms)
2025-04-15T08:16:48.5105502Z       ✓ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:16:48.5105827Z       ✓ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
2025-04-15T08:16:48.5105939Z       ✓ = {{$json["dig check CF"].data["stdout"]}} (1 ms)
2025-04-15T08:16:48.5106098Z       ✓ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:16:48.5106162Z       ✓ ={{$runIndex}}
2025-04-15T08:16:48.5106263Z       ✓ ={{ new String().toString() }} (1 ms)
2025-04-15T08:16:48.5106562Z       ✓ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}} (1 ms)
2025-04-15T08:16:48.5106690Z       ✓ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
2025-04-15T08:16:48.5106782Z       ✓ ={{ $json.toString() }}
2025-04-15T08:16:48.5106884Z       ✓ ={{Math.floor(Math.min(1, 2) * 100);}} (1 ms)
2025-04-15T08:16:48.5107003Z       ✓ ={{$json["图片数量判断"].data["imgList"][0]}} (1 ms)
2025-04-15T08:16:48.5107095Z       ✓ ={{ $json["phone"] ?? 0}} (1 ms)
2025-04-15T08:16:48.5107294Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (2 ms)
2025-04-15T08:16:48.5107470Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}} (1 ms)
2025-04-15T08:16:48.5107602Z       ✓ ={{ [].concat($json["Create or update"].json["vid"]) }}
2025-04-15T08:16:48.5107779Z       ✓ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}} (1 ms)
2025-04-15T08:16:48.5107922Z       ✓ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (1 ms)
2025-04-15T08:16:48.5108144Z       ✓ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:16:48.5108378Z       ✓ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (1 ms)
2025-04-15T08:16:48.5108589Z       ✓ ={{new Date($json["created_at"]).toISOString()}} (1 ms)
2025-04-15T08:16:48.5108750Z       ✓ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (2 ms)
2025-04-15T08:16:48.5109003Z       ✓ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }} (2 ms)
2025-04-15T08:16:48.5109060Z       ✓ ={
2025-04-15T08:16:48.5109113Z 	"article": {
2025-04-15T08:16:48.5109238Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5109295Z 		"published": true,
2025-04-15T08:16:48.5109407Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5109489Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5109532Z 	}
2025-04-15T08:16:48.5109582Z } (5 ms)
2025-04-15T08:16:48.5109805Z       ✓ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
2025-04-15T08:16:48.5109945Z       ✓ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:16:48.5110035Z       ✓ ={{Math.min(1, 2);}} (1 ms)
2025-04-15T08:16:48.5110219Z       ✓ ={{new String().toString();}}
2025-04-15T08:16:48.5110370Z       ✓ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (1 ms)
2025-04-15T08:16:48.5110438Z       ✓ ={{200}} (1 ms)
2025-04-15T08:16:48.5110538Z       ✓ ={{$json.assetValue * $json.value / 100}}
2025-04-15T08:16:48.5110652Z       ✓ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
2025-04-15T08:16:48.5110721Z       ✓ ={{ `test
2025-04-15T08:16:48.5110765Z value
2025-04-15T08:16:48.5110814Z multi
2025-04-15T08:16:48.5110863Z line` }}
2025-04-15T08:16:48.5110969Z       ✓ ={{ { "data": $json.body.choices } }} (1 ms)
2025-04-15T08:16:48.5111113Z       ✓ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (1 ms)
2025-04-15T08:16:48.5111186Z       ✓ ={{asdas}} (1 ms)
2025-04-15T08:16:48.5111273Z       ✓ ={{!!$json["data"]["errors"]}}
2025-04-15T08:16:48.5111341Z       ✓ =TRUE (1 ms)
2025-04-15T08:16:48.5111480Z       ✓ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (4 ms)
2025-04-15T08:16:48.5111632Z       ✓ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
2025-04-15T08:16:48.5111765Z       ✓ ={{typeof $json["person"].json["name"] != "undefined"}} (1 ms)
2025-04-15T08:16:48.5111895Z       ✓ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
2025-04-15T08:16:48.5112007Z       ✓ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:16:48.5112094Z       ✓ ={{ String("testing").length }}
2025-04-15T08:16:48.5112166Z   Expression (with tournament)
2025-04-15T08:16:48.5112219Z     getParameterValue()
2025-04-15T08:16:48.5112362Z       ✓ should not be able to use global built-ins from denylist (6 ms)
2025-04-15T08:16:48.5112499Z       ✓ should be able to use global built-ins from allowlist (14 ms)
2025-04-15T08:16:48.5112628Z       ✓ should not able to do arbitrary code execution (1 ms)
2025-04-15T08:16:48.5112698Z     Test all expression value fixtures
2025-04-15T08:16:48.5112800Z       ✓ ={{$json["contact"]["FirstName"]}}
2025-04-15T08:16:48.5112870Z       ✓ ={{ $json["test"] }}
2025-04-15T08:16:48.5112992Z       ✓ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:16:48.5113090Z       ✓ ={{$json[$json["Set2"].json["apiKey"]]}}
2025-04-15T08:16:48.5113198Z       ✓ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:16:48.5113506Z       ✓ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}} (1 ms)
2025-04-15T08:16:48.5113619Z       ✓ = {{$json["dig check CF"].data["stdout"]}} (2 ms)
2025-04-15T08:16:48.5113757Z       ✓ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}}
2025-04-15T08:16:48.5113832Z       ✓ ={{$runIndex}} (1 ms)
2025-04-15T08:16:48.5113916Z       ✓ ={{ new String().toString() }}
2025-04-15T08:16:48.5114201Z       ✓ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}}
2025-04-15T08:16:48.5114418Z       ✓ ={{$json["GetTicket"].json["tickets"].length}} (1 ms)
2025-04-15T08:16:48.5114502Z       ✓ ={{ $json.toString() }}
2025-04-15T08:16:48.5114601Z       ✓ ={{Math.floor(Math.min(1, 2) * 100);}}
2025-04-15T08:16:48.5114708Z       ✓ ={{$json["图片数量判断"].data["imgList"][0]}} (1 ms)
2025-04-15T08:16:48.5114803Z       ✓ ={{ $json["phone"] ?? 0}} (1 ms)
2025-04-15T08:16:48.5114993Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
2025-04-15T08:16:48.5115163Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
2025-04-15T08:16:48.5115294Z       ✓ ={{ [].concat($json["Create or update"].json["vid"]) }} (1 ms)
2025-04-15T08:16:48.5115469Z       ✓ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}}
2025-04-15T08:16:48.5115603Z       ✓ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (1 ms)
2025-04-15T08:16:48.5115833Z       ✓ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:16:48.5116167Z       ✓ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }} (1 ms)
2025-04-15T08:16:48.5116285Z       ✓ ={{new Date($json["created_at"]).toISOString()}}
2025-04-15T08:16:48.5116416Z       ✓ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (1 ms)
2025-04-15T08:16:48.5116650Z       ✓ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
2025-04-15T08:16:48.5116711Z       ✓ ={
2025-04-15T08:16:48.5116758Z 	"article": {
2025-04-15T08:16:48.5116843Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5116899Z 		"published": true,
2025-04-15T08:16:48.5117015Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5117087Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5117137Z 	}
2025-04-15T08:16:48.5117182Z } (1 ms)
2025-04-15T08:16:48.5117429Z       ✓ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (1 ms)
2025-04-15T08:16:48.5117565Z       ✓ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:16:48.5117639Z       ✓ ={{Math.min(1, 2);}}
2025-04-15T08:16:48.5117749Z       ✓ ={{new String().toString();}} (1 ms)
2025-04-15T08:16:48.5117908Z       ✓ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }} (1 ms)
2025-04-15T08:16:48.5117975Z       ✓ ={{200}}
2025-04-15T08:16:48.5118084Z       ✓ ={{$json.assetValue * $json.value / 100}} (1 ms)
2025-04-15T08:16:48.5118189Z       ✓ ={{/^\d+$/.test($json["search_term"])}}
2025-04-15T08:16:48.5118247Z       ✓ ={{ `test
2025-04-15T08:16:48.5118302Z value
2025-04-15T08:16:48.5118360Z multi
2025-04-15T08:16:48.5118413Z line` }} (1 ms)
2025-04-15T08:16:48.5118549Z       ✓ ={{ { "data": $json.body.choices } }}
2025-04-15T08:16:48.5118707Z       ✓ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }} (1 ms)
2025-04-15T08:16:48.5118772Z       ✓ ={{asdas}}
2025-04-15T08:16:48.5118879Z       ✓ ={{!!$json["data"]["errors"]}} (1 ms)
2025-04-15T08:16:48.5118946Z       ✓ =TRUE
2025-04-15T08:16:48.5119107Z       ✓ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (1 ms)
2025-04-15T08:16:48.5119307Z       ✓ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }} (1 ms)
2025-04-15T08:16:48.5119441Z       ✓ ={{typeof $json["person"].json["name"] != "undefined"}}
2025-04-15T08:16:48.5119568Z       ✓ ={{ $json?.data == undefined ? '' : $json.data }} (1 ms)
2025-04-15T08:16:48.5119676Z       ✓ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:16:48.5119770Z       ✓ ={{ String("testing").length }}
2025-04-15T08:16:48.5119848Z     Test all expression transform fixtures
2025-04-15T08:16:48.5119942Z       ✓ ={{$json["contact"]["FirstName"]}}
2025-04-15T08:16:48.5120010Z       ✓ ={{ $json["test"] }}
2025-04-15T08:16:48.5120229Z       ✓ ={{$json["test"].json["message"]["message_id"]}} (1 ms)
2025-04-15T08:16:48.5120415Z       ✓ ={{$json[$json["Set2"].json["apiKey"]]}}
2025-04-15T08:16:48.5120524Z       ✓ ={{$json["get"].json["recipes"][0]["image"]}}
2025-04-15T08:16:48.5120841Z       ✓ =https://example.com/api/v1/workspaces/{{$json["Clockify1"].parameter["workspaceId"]}}/projects/{{$json["Clockify1"].json["id"]}}
2025-04-15T08:16:48.5120948Z       ✓ = {{$json["dig check CF"].data["stdout"]}}
2025-04-15T08:16:48.5121119Z       ✓ ={{$item(0).$json["Set URL"].json["base_domain"]}}{{$json["link"]}} (1 ms)
2025-04-15T08:16:48.5121190Z       ✓ ={{$runIndex}}
2025-04-15T08:16:48.5121284Z       ✓ ={{ new String().toString() }} (1 ms)
2025-04-15T08:16:48.5121571Z       ✓ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(60*1000)}}
2025-04-15T08:16:48.5121682Z       ✓ ={{$json["GetTicket"].json["tickets"].length}}
2025-04-15T08:16:48.5121763Z       ✓ ={{ $json.toString() }}
2025-04-15T08:16:48.5121879Z       ✓ ={{Math.floor(Math.min(1, 2) * 100);}} (2 ms)
2025-04-15T08:16:48.5121980Z       ✓ ={{$json["图片数量判断"].data["imgList"][0]}}
2025-04-15T08:16:48.5122069Z       ✓ ={{ $json["phone"] ?? 0}}
2025-04-15T08:16:48.5122260Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ new String('test').toString()}} (1 ms)
2025-04-15T08:16:48.5122425Z       ✓ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
2025-04-15T08:16:48.5122542Z       ✓ ={{ [].concat($json["Create or update"].json["vid"]) }}
2025-04-15T08:16:48.5122712Z       ✓ =https://example.com/test?id={{$json["Crypto"].json["data"].substr(0,6)}}
2025-04-15T08:16:48.5122851Z       ✓ ={{ $json["body"]["project"]["name"].match(/\[(\d+)]/)[1] }} (1 ms)
2025-04-15T08:16:48.5123080Z       ✓ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (1000 * 3600 * 24)}}
2025-04-15T08:16:48.5123302Z       ✓ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + 1) : $json["projectName"] }}
2025-04-15T08:16:48.5123425Z       ✓ ={{new Date($json["created_at"]).toISOString()}}
2025-04-15T08:16:48.5123549Z       ✓ ={{$json["Find by ID1"].json["fields"]["clicks"]+1}} (1 ms)
2025-04-15T08:16:48.5123769Z       ✓ ={{ (parseFloat($json["Bid"].replace(',', '.')) * parseFloat($json["Baserow"].json["Count"])).toFixed(2) }}
2025-04-15T08:16:48.5123831Z       ✓ ={
2025-04-15T08:16:48.5123878Z 	"article": {
2025-04-15T08:16:48.5123962Z 		"title": "{{$json["body"]["entry"]["Title"]}}",
2025-04-15T08:16:48.5124016Z 		"published": true,
2025-04-15T08:16:48.5124132Z 		"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
2025-04-15T08:16:48.5124205Z 		"tags":["{{$json["body"]["entry"]["Tag"]}}"]
2025-04-15T08:16:48.5124255Z 	}
2025-04-15T08:16:48.5124302Z }
2025-04-15T08:16:48.5124534Z       ✓ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
2025-04-15T08:16:48.5124779Z       ✓ ={{$json["HTTP Request"].json["paging"] ? true : false}} (1 ms)
2025-04-15T08:16:48.5124863Z       ✓ ={{Math.min(1, 2);}}
2025-04-15T08:16:48.5124956Z       ✓ ={{new String().toString();}} (2 ms)
2025-04-15T08:16:48.5125105Z       ✓ ={{ !!$json["different"]["name"] || !!$json["different"]["phone"] }}
2025-04-15T08:16:48.5125169Z       ✓ ={{200}}
2025-04-15T08:16:48.5125277Z       ✓ ={{$json.assetValue * $json.value / 100}}
2025-04-15T08:16:48.5125379Z       ✓ ={{/^\d+$/.test($json["search_term"])}} (1 ms)
2025-04-15T08:16:48.5125446Z       ✓ ={{ `test
2025-04-15T08:16:48.5125498Z value
2025-04-15T08:16:48.5125550Z multi
2025-04-15T08:16:48.5125606Z line` }}
2025-04-15T08:16:48.5125700Z       ✓ ={{ { "data": $json.body.choices } }}
2025-04-15T08:16:48.5125843Z       ✓ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 0 }}
2025-04-15T08:16:48.5125902Z       ✓ ={{asdas}}
2025-04-15T08:16:48.5125998Z       ✓ ={{!!$json["data"]["errors"]}}
2025-04-15T08:16:48.5126058Z       ✓ =TRUE
2025-04-15T08:16:48.5126209Z       ✓ ={{ !$json?.data?.data?.issues?.pageInfo?.hasNextPage }} (1 ms)
2025-04-15T08:16:48.5126444Z       ✓ ={{ [{'name': 'something', 'batch_size':1000, 'ignore_cols':['x']}] }}
2025-04-15T08:16:48.5126575Z       ✓ ={{typeof $json["person"].json["name"] != "undefined"}}
2025-04-15T08:16:48.5126686Z       ✓ ={{ $json?.data == undefined ? '' : $json.data }}
2025-04-15T08:16:48.5126803Z       ✓ ={{ 'domain' in $json && $json.domain != null}}
2025-04-15T08:16:48.5126892Z       ✓ ={{ String("testing").length }}
2025-04-15T08:16:48.5126900Z 
2025-04-15T08:16:48.5126986Z PASS test/FromAIParseUtils.test.ts
2025-04-15T08:16:48.5127050Z   extractFromAICalls
2025-04-15T08:16:48.5127205Z     ✓ should parse args as expected for $fromAI("a", "b", "string") (4 ms)
2025-04-15T08:16:48.5127367Z     ✓ should parse args as expected for $fromAI("a", "b", "number", 5) (1 ms)
2025-04-15T08:16:48.5127505Z     ✓ should parse args as expected for $fromAI("a", "`", "number", 5)
2025-04-15T08:16:48.5127670Z     ✓ should parse args as expected for $fromAI("a", "\`", "number", 5) (1 ms)
2025-04-15T08:16:48.5127815Z     ✓ should parse args as expected for $fromAI("a", "\n", "number", 5)
2025-04-15T08:16:48.5127970Z     ✓ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
2025-04-15T08:16:48.5128217Z     ✓ should throw as expected for $fromAI("a", "b", "c") (16 ms)
2025-04-15T08:16:48.5128370Z     ✓ should throw as expected for $fromAI("a", "b", "string" (1 ms)
2025-04-15T08:16:48.5128505Z     ✓ should throw as expected for $fromAI("a", "b", "string, "d")
2025-04-15T08:16:48.5128604Z     ✓ supports multiple calls (1 ms)
2025-04-15T08:16:48.5128674Z     ✓ supports no calls
2025-04-15T08:16:48.5128737Z   traverseNodeParameters
2025-04-15T08:16:48.5128878Z     ✓ should parse args as expected for $fromAI("a", "b", "string")
2025-04-15T08:16:48.5129017Z     ✓ should parse args as expected for $fromAI("a", "b", "number", 5)
2025-04-15T08:16:48.5129202Z     ✓ should parse args as expected for {{ $fromAI("a", "b", "boolean") }}
2025-04-15T08:16:48.5129391Z     ✓ should parse args as expected for { a: '{{ $fromAI("a", "b", "boolean") }}', b: 'five' }
2025-04-15T08:16:48.5129584Z     ✓ should parse args as expected for [ 'red', '{{ $fromAI("a", "b", "boolean") }}' ] (1 ms)
2025-04-15T08:16:48.5129661Z   JSON Type Parsing via generateZodSchema
2025-04-15T08:16:48.5129813Z     ✓ should correctly parse a JSON parameter without default (3 ms)
2025-04-15T08:16:48.5129950Z     ✓ should correctly parse a JSON parameter with a valid default
2025-04-15T08:16:48.5130090Z     ✓ should parse a JSON parameter with an empty default (1 ms)
2025-04-15T08:16:48.5130223Z     ✓ should use provided JSON value over the default value (1 ms)
2025-04-15T08:16:48.5130227Z 
2025-04-15T08:16:48.5130341Z PASS test/WorkflowDataProxyEnvProvider.test.ts
2025-04-15T08:16:48.5130403Z   createEnvProviderState
2025-04-15T08:16:48.5130577Z     ✓ should return the state with process available and env access allowed (4 ms)
2025-04-15T08:16:48.5130866Z     ✓ should block env access when N8N_BLOCK_ENV_ACCESS_IN_NODE is set to "true"
2025-04-15T08:16:48.5130972Z     ✓ should handle process not being available
2025-04-15T08:16:48.5131037Z   createEnvProvider
2025-04-15T08:16:48.5131171Z     ✓ should return true when checking for a property using "has"
2025-04-15T08:16:48.5131313Z     ✓ should return the value from process.env if access is allowed
2025-04-15T08:16:48.5131460Z     ✓ should throw ExpressionError when process is unavailable (10 ms)
2025-04-15T08:16:48.5131605Z     ✓ should throw ExpressionError when env access is blocked (1 ms)
2025-04-15T08:16:48.5131609Z 
2025-04-15T08:16:48.5131669Z PASS test/Cron.test.ts
2025-04-15T08:16:48.5131723Z   Cron
2025-04-15T08:16:48.5131772Z     toCronExpression
2025-04-15T08:16:48.5131922Z       ✓ should generate a valid cron for `everyMinute` triggers (3 ms)
2025-04-15T08:16:48.5132061Z       ✓ should generate a valid cron for `everyHour` triggers (1 ms)
2025-04-15T08:16:48.5132199Z       ✓ should generate a valid cron for `everyX[minutes]` triggers
2025-04-15T08:16:48.5132343Z       ✓ should generate a valid cron for `everyX[hours]` triggers
2025-04-15T08:16:48.5132578Z       ✓ should generate a valid cron for `everyDay` triggers (1 ms)
2025-04-15T08:16:48.5132705Z       ✓ should generate a valid cron for `everyWeek` triggers
2025-04-15T08:16:48.5132831Z       ✓ should generate a valid cron for `everyMonth` triggers
2025-04-15T08:16:48.5132940Z       ✓ should trim custom cron expressions (1 ms)
2025-04-15T08:16:48.5132944Z 
2025-04-15T08:16:48.5133069Z PASS test/ExpressionExtensions/NumberExtensions.test.ts
2025-04-15T08:16:48.5133145Z   Data Transformation Functions
2025-04-15T08:16:48.5133218Z     Number Data Transformation Functions
2025-04-15T08:16:48.5133348Z       ✓ .format() should work correctly on a number (26 ms)
2025-04-15T08:16:48.5133448Z       ✓ .ceil() should work on a number (8 ms)
2025-04-15T08:16:48.5133559Z       ✓ .floor() should work on a number (6 ms)
2025-04-15T08:16:48.5133653Z       ✓ .round() should work on a number (6 ms)
2025-04-15T08:16:48.5133759Z       ✓ .isOdd() should work on a number (4 ms)
2025-04-15T08:16:48.5133880Z       ✓ .isOdd() should not work on a float or NaN (35 ms)
2025-04-15T08:16:48.5133986Z       ✓ .isEven() should work on a number (2 ms)
2025-04-15T08:16:48.5134105Z       ✓ .isEven() should not work on a float or NaN (3 ms)
2025-04-15T08:16:48.5134154Z       toDateTime
2025-04-15T08:16:48.5134263Z         ✓ from milliseconds (default) (4 ms)
2025-04-15T08:16:48.5134335Z         ✓ from seconds (2 ms)
2025-04-15T08:16:48.5134433Z         ✓ from Excel 1900 format (2 ms)
2025-04-15T08:16:48.5134520Z         ✓ from microseconds (1 ms)
2025-04-15T08:16:48.5134573Z       toInt
2025-04-15T08:16:48.5134665Z         ✓ should round numbers (3 ms)
2025-04-15T08:16:48.5134723Z       toFloat
2025-04-15T08:16:48.5134811Z         ✓ should return itself (1 ms)
2025-04-15T08:16:48.5134867Z       toBoolean
2025-04-15T08:16:48.5134995Z         ✓ should return false for 0, 1 for other numbers (3 ms)
2025-04-15T08:16:48.5135062Z     Multiple expressions
2025-04-15T08:16:48.5135165Z       ✓ Basic multiple expressions (1 ms)
2025-04-15T08:16:48.5135168Z 
2025-04-15T08:16:48.5135254Z PASS test/MetadataUtils.test.ts
2025-04-15T08:16:48.5135305Z   MetadataUtils
2025-04-15T08:16:48.5135374Z     parseMetadataFromError
2025-04-15T08:16:48.5135576Z       ✓ should return undefined if error does not have response or both keys on the object (3 ms)
2025-04-15T08:16:48.5135737Z       ✓ should return undefined if errorResponse only has workflowId key
2025-04-15T08:16:48.5135876Z       ✓ should return undefined if error only has executionId key
2025-04-15T08:16:48.5136069Z       ✓ should support executionId and workflowId key directly on the error object (1 ms)
2025-04-15T08:16:48.5136241Z       ✓ should return undefined if error response does not have subworkflow data
2025-04-15T08:16:48.5136397Z       ✓ should return metadata if error response has subworkflow data (1 ms)
2025-04-15T08:16:48.5136401Z 
2025-04-15T08:16:48.5136589Z PASS test/ExpressionSandboxing.test.ts
2025-04-15T08:16:48.5136648Z   PrototypeSanitizer
2025-04-15T08:16:48.5136702Z     Static analysis
2025-04-15T08:16:48.5136814Z       ✓ should not allow access to __proto__ (20 ms)
2025-04-15T08:16:48.5136933Z       ✓ should not allow access to prototype (3 ms)
2025-04-15T08:16:48.5137048Z       ✓ should not allow access to constructor (3 ms)
2025-04-15T08:16:48.5137104Z     Runtime
2025-04-15T08:16:48.5137204Z       ✓ should not allow access to __proto__ (5 ms)
2025-04-15T08:16:48.5137315Z       ✓ should not allow access to prototype (6 ms)
2025-04-15T08:16:48.5137427Z       ✓ should not allow access to constructor (3 ms)
2025-04-15T08:16:48.5137430Z 
2025-04-15T08:16:48.5137542Z PASS test/errors/workflow-activation.error.test.ts
2025-04-15T08:16:48.5137609Z   WorkflowActivationError
2025-04-15T08:16:48.5137708Z     ✓ should default to `error` level (3 ms)
2025-04-15T08:16:48.5137806Z     ✓ should set `level` based on arg
2025-04-15T08:16:48.5137939Z     ✓ should set `level` to `warning` for `ETIMEDOUT` (1 ms)
2025-04-15T08:16:48.5138158Z     ✓ should set `level` to `warning` for `ECONNREFUSED`
2025-04-15T08:16:48.5138270Z     ✓ should set `level` to `warning` for `EAUTH` (1 ms)
2025-04-15T08:16:48.5138428Z     ✓ should set `level` to `warning` for `Temporary authentication failure`
2025-04-15T08:16:48.5138589Z     ✓ should set `level` to `warning` for `Invalid credentials`
2025-04-15T08:16:48.5138596Z 
2025-04-15T08:16:48.5138717Z PASS test/errors/base/operational.error.test.ts
2025-04-15T08:16:48.5138777Z   OperationalError
2025-04-15T08:16:48.5138894Z     ✓ should be an instance of OperationalError (3 ms)
2025-04-15T08:16:48.5138997Z     ✓ should be an instance of BaseError (1 ms)
2025-04-15T08:16:48.5139086Z     ✓ should have correct defaults
2025-04-15T08:16:48.5139307Z     ✓ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:16:48.5139310Z 
2025-04-15T08:16:48.5139407Z PASS test/errors/base/unexpected.error.test.ts
2025-04-15T08:16:48.5139466Z   UnexpectedError
2025-04-15T08:16:48.5139580Z     ✓ should be an instance of UnexpectedError (3 ms)
2025-04-15T08:16:48.5139690Z     ✓ should be an instance of BaseError (1 ms)
2025-04-15T08:16:48.5139774Z     ✓ should have correct defaults
2025-04-15T08:16:48.5139926Z     ✓ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:16:48.5139930Z 
2025-04-15T08:16:48.5140014Z PASS test/errors/base/user.error.test.ts
2025-04-15T08:16:48.5140067Z   UserError
2025-04-15T08:16:48.5140172Z     ✓ should be an instance of UserError (3 ms)
2025-04-15T08:16:48.5140267Z     ✓ should be an instance of BaseError (1 ms)
2025-04-15T08:16:48.5140351Z     ✓ should have correct defaults
2025-04-15T08:16:48.5140495Z     ✓ should allow overriding the default level and shouldReport (1 ms)
2025-04-15T08:16:48.5140499Z 
2025-04-15T08:16:48.5140622Z PASS test/ExpressionExtensions/BooleanExtensions.test.ts
2025-04-15T08:16:48.5140688Z   Data Transformation Functions
2025-04-15T08:16:48.5140775Z     Boolean Data Transformation Functions
2025-04-15T08:16:48.5140832Z       Conversion methods
2025-04-15T08:16:48.5140973Z         ✓ should not have a doc (hidden from autocomplete) (1 ms)
2025-04-15T08:16:48.5141022Z         toInt/toFloat
2025-04-15T08:16:48.5141143Z           ✓ should return 1 for true, 0 for false (26 ms)
2025-04-15T08:16:48.5141195Z         toDateTime
2025-04-15T08:16:48.5141296Z           ✓ should return undefined (2 ms)
2025-04-15T08:16:48.5141344Z         toBoolean
2025-04-15T08:16:48.5141440Z           ✓ should return itself
2025-04-15T08:16:48.5141443Z 
2025-04-15T08:16:48.5141531Z PASS test/errors/node.error.test.ts
2025-04-15T08:16:48.5141577Z   NodeError
2025-04-15T08:16:48.5141723Z     ✓ should update re-wrapped error level and message (4 ms)
2025-04-15T08:16:48.5141726Z 
2025-04-15T08:16:48.5141806Z PASS test/DeferredPromise.test.ts
2025-04-15T08:16:48.5141861Z   DeferredPromise
2025-04-15T08:16:48.5141987Z     ✓ should resolve the promise with the correct value (3 ms)
2025-04-15T08:16:48.5142217Z     ✓ should reject the promise with the correct error (2 ms)
2025-04-15T08:16:48.5142225Z 
2025-04-15T08:16:48.5142343Z PASS test/ExpressionExtensions/GenericExtensions.test.ts
2025-04-15T08:16:48.5142414Z   Data Transformation Functions
2025-04-15T08:16:48.5142485Z     Genric Data Transformation Functions
2025-04-15T08:16:48.5142614Z       ✓ .isEmpty() should work correctly on undefined (21 ms)
2025-04-15T08:16:48.5142618Z 
2025-04-15T08:16:48.5142697Z Test Suites: 31 passed, 31 total
2025-04-15T08:16:48.5142777Z Tests:       1121 passed, 1121 total
2025-04-15T08:16:48.5142846Z Snapshots:   0 total
2025-04-15T08:16:48.5142901Z Time:        8.1 s
2025-04-15T08:16:48.5142966Z Ran all test suites.
2025-04-15T08:16:48.5143384Z ##[endgroup]
2025-04-15T08:16:50.0899320Z ##[group]@n8n/permissions:test
2025-04-15T08:16:50.0899633Z cache bypass, force executing 0b715e7f3d90e2cd
2025-04-15T08:16:50.0899868Z 
2025-04-15T08:16:50.0900048Z > @n8n/permissions@0.21.0 test /home/runner/_work/n8n/n8n/packages/@n8n/permissions
2025-04-15T08:16:50.0900333Z > jest
2025-04-15T08:16:50.0900844Z 
2025-04-15T08:16:50.0900910Z PASS test/hasScope.test.ts
2025-04-15T08:16:50.0901051Z   hasScope
2025-04-15T08:16:50.0901554Z     ✓ should work with a single permission on both modes with only global scopes (4 ms)
2025-04-15T08:16:50.0901852Z     ✓ should work with oneOf mode
2025-04-15T08:16:50.0902049Z     ✓ should work with allOf mode (1 ms)
2025-04-15T08:16:50.0902230Z   hasScope masking
2025-04-15T08:16:50.0902428Z     ✓ should return true without mask when scopes present
2025-04-15T08:16:50.0902701Z     ✓ should return false without mask when scopes are not present
2025-04-15T08:16:50.0903107Z     ✓ should return false when mask does not include scope but scopes list does contain required scope (1 ms)
2025-04-15T08:16:50.0903775Z     ✓ should return true when mask does include scope and scope list includes scope
2025-04-15T08:16:50.0904479Z     ✓ should return true when mask does include scope and scopes list includes scope on multiple levels
2025-04-15T08:16:50.0904870Z     ✓ should not mask out global scopes
2025-04-15T08:16:50.0905213Z     ✓ should return false when scope is not in mask or scope list (1 ms)
2025-04-15T08:16:50.0905541Z     ✓ should return false when scope is in mask or not scope list
2025-04-15T08:16:50.0905718Z 
2025-04-15T08:16:50.0905814Z Test Suites: 1 passed, 1 total
2025-04-15T08:16:50.0906030Z Tests:       11 passed, 11 total
2025-04-15T08:16:50.0906189Z Snapshots:   0 total
2025-04-15T08:16:50.0906364Z Time:        1.101 s
2025-04-15T08:16:50.0906492Z Ran all test suites.
2025-04-15T08:16:50.0906969Z ##[endgroup]
2025-04-15T08:16:52.1087025Z ##[group]@n8n/config:test
2025-04-15T08:16:52.1087529Z cache bypass, force executing 4f4adc92e05059f1
2025-04-15T08:16:52.1087765Z 
2025-04-15T08:16:52.1088044Z > @n8n/config@1.36.0 test /home/runner/_work/n8n/n8n/packages/@n8n/config
2025-04-15T08:16:52.1088619Z > jest
2025-04-15T08:16:52.1088728Z 
2025-04-15T08:16:52.1088876Z PASS test/custom-types.test.ts
2025-04-15T08:16:52.1089191Z   CommaSeparatedStringArray
2025-04-15T08:16:52.1089881Z     ✓ should parse comma-separated string into array (3 ms)
2025-04-15T08:16:52.1090313Z     ✓ should handle empty strings
2025-04-15T08:16:52.1090683Z   ColonSeparatedStringArray
2025-04-15T08:16:52.1091089Z     ✓ should parse colon-separated string into array (1 ms)
2025-04-15T08:16:52.1091444Z     ✓ should handle empty strings
2025-04-15T08:16:52.1091605Z 
2025-04-15T08:16:52.1091749Z PASS test/decorators.test.ts
2025-04-15T08:16:52.1092030Z   decorators
2025-04-15T08:16:52.1092393Z     ✓ should throw when explicit typing is missing (11 ms)
2025-04-15T08:16:52.1092637Z 
2025-04-15T08:16:52.1092765Z PASS test/config.test.ts
2025-04-15T08:16:52.1093003Z   GlobalConfig
2025-04-15T08:16:52.1093436Z     ✓ should use all default values when no env variables are defined (5 ms)
2025-04-15T08:16:52.1093993Z     ✓ should use values from env variables when defined (1 ms)
2025-04-15T08:16:52.1094828Z     ✓ should read values from files using _FILE env variables (2 ms)
2025-04-15T08:16:52.1095267Z     ✓ should handle invalid numbers
2025-04-15T08:16:52.1095573Z     string unions
2025-04-15T08:16:52.1095954Z       ✓ on invalid value, should warn and fall back to default value (2 ms)
2025-04-15T08:16:52.1096254Z 
2025-04-15T08:16:52.1096397Z Test Suites: 3 passed, 3 total
2025-04-15T08:16:52.1096684Z Tests:       10 passed, 10 total
2025-04-15T08:16:52.1096935Z Snapshots:   0 total
2025-04-15T08:16:52.1097181Z Time:        1.11 s
2025-04-15T08:16:52.1097424Z Ran all test suites.
2025-04-15T08:16:52.1097859Z ##[endgroup]
2025-04-15T08:16:53.9955157Z ##[group]@n8n/client-oauth2:test
2025-04-15T08:16:53.9955476Z cache bypass, force executing 5d41e0aa72934740
2025-04-15T08:16:53.9955607Z 
2025-04-15T08:16:53.9955809Z > @n8n/client-oauth2@0.23.0 test /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2
2025-04-15T08:16:53.9956045Z > jest
2025-04-15T08:16:53.9956115Z 
2025-04-15T08:16:53.9956192Z PASS test/CodeFlow.test.ts
2025-04-15T08:16:53.9956336Z   CodeFlow
2025-04-15T08:16:53.9956479Z     #getUri
2025-04-15T08:16:53.9957144Z       ✓ should return a valid uri (3 ms)
2025-04-15T08:16:53.9957424Z       ✓ should include empty scopes array as an empty string (1 ms)
2025-04-15T08:16:53.9957707Z       ✓ should include empty scopes string as an empty string
2025-04-15T08:16:53.9957909Z       when scopes are undefined
2025-04-15T08:16:53.9958109Z         ✓ should not include scope in the uri
2025-04-15T08:16:53.9958314Z       when authorizationUri contains query parameters
2025-04-15T08:16:53.9958733Z         ✓ should preserve query string parameters
2025-04-15T08:16:53.9958979Z     #getToken
2025-04-15T08:16:53.9959222Z       ✓ should request the token (28 ms)
2025-04-15T08:16:53.9959458Z       ✓ should reject with auth errors (1 ms)
2025-04-15T08:16:53.9959621Z       #sign
2025-04-15T08:16:53.9959835Z         ✓ should be able to sign a standard request object (6 ms)
2025-04-15T08:16:53.9960017Z       #refresh
2025-04-15T08:16:53.9960231Z         ✓ should make a request to get a new access token (10 ms)
2025-04-15T08:16:53.9960366Z 
2025-04-15T08:16:53.9960468Z PASS test/CredentialsFlow.test.ts
2025-04-15T08:16:53.9960635Z   CredentialsFlow
2025-04-15T08:16:53.9960761Z     #getToken
2025-04-15T08:16:53.9960922Z       ✓ should request the token (25 ms)
2025-04-15T08:16:53.9961482Z       ✓ when scopes are undefined, it should not send scopes to an auth server (6 ms)
2025-04-15T08:16:53.9961856Z       ✓ when scopes is an empty array, it should send empty scope string to an auth server (5 ms)
2025-04-15T08:16:53.9962156Z       ✓ should handle authentication = "header" (4 ms)
2025-04-15T08:16:53.9962389Z       ✓ should handle authentication = "body" (6 ms)
2025-04-15T08:16:53.9962556Z       #sign
2025-04-15T08:16:53.9962757Z         ✓ should be able to sign a standard request object (6 ms)
2025-04-15T08:16:53.9962937Z       #refresh
2025-04-15T08:16:53.9963139Z         ✓ should make a request to get a new access token (10 ms)
2025-04-15T08:16:53.9963461Z         ✓ should make a request to get a new access token with authentication = "body" (8 ms)
2025-04-15T08:16:53.9963824Z         ✓ should make a request to get a new access token with authentication = "header" (9 ms)
2025-04-15T08:16:53.9964001Z 
2025-04-15T08:16:53.9964083Z PASS test/ClientOAuth2.test.ts
2025-04-15T08:16:53.9964224Z   ClientOAuth2
2025-04-15T08:16:53.9964342Z     accessTokenRequest
2025-04-15T08:16:53.9964570Z       ✓ should send the correct request based on given options (31 ms)
2025-04-15T08:16:53.9964880Z       ✓ should parse response with content type application/json (5 ms)
2025-04-15T08:16:53.9965257Z       ✓ should parse response with content type application/json; charset=utf-8 (8 ms)
2025-04-15T08:16:53.9965619Z       ✓ should parse response with content type application/x-www-form-urlencoded (5 ms)
2025-04-15T08:16:53.9965913Z       ✓ should reject content type text/html (3 ms)
2025-04-15T08:16:53.9966161Z       ✓ should reject content type application/xml (4 ms)
2025-04-15T08:16:53.9966627Z       ✓ should reject content type text/plain (3 ms)
2025-04-15T08:16:53.9966882Z       ✓ should reject 4xx responses with auth errors (5 ms)
2025-04-15T08:16:53.9967143Z       ✓ should reject 3xx responses with response errors (3 ms)
2025-04-15T08:16:53.9967283Z 
2025-04-15T08:16:53.9967370Z Test Suites: 3 passed, 3 total
2025-04-15T08:16:53.9967546Z Tests:       27 passed, 27 total
2025-04-15T08:16:53.9967699Z Snapshots:   0 total
2025-04-15T08:16:53.9967838Z Time:        1.286 s
2025-04-15T08:16:53.9967969Z Ran all test suites.
2025-04-15T08:16:53.9968344Z ##[endgroup]
2025-04-15T08:17:00.9187587Z ##[group]@n8n/api-types:test
2025-04-15T08:17:00.9187963Z cache bypass, force executing 58a81a1e5c93f91d
2025-04-15T08:17:00.9188113Z 
2025-04-15T08:17:00.9188460Z > @n8n/api-types@0.24.0 test /home/runner/_work/n8n/n8n/packages/@n8n/api-types
2025-04-15T08:17:00.9188755Z > jest
2025-04-15T08:17:00.9188837Z 
2025-04-15T08:17:00.9189001Z PASS src/dto/credentials/__tests__/create-credential.dto.test.ts
2025-04-15T08:17:00.9189255Z   CreateCredentialDto
2025-04-15T08:17:00.9189830Z     Valid requests
2025-04-15T08:17:00.9190293Z       ✓ should validate with required fields (3 ms)
2025-04-15T08:17:00.9190527Z       ✓ should validate with optional projectId
2025-04-15T08:17:00.9190744Z       ✓ should validate with data object (1 ms)
2025-04-15T08:17:00.9190940Z       ✓ should validate longer type
2025-04-15T08:17:00.9191186Z       ✓ should not strip out properties from the data object (1 ms)
2025-04-15T08:17:00.9191383Z     Invalid requests
2025-04-15T08:17:00.9191575Z       ✓ should fail validation for missing name (1 ms)
2025-04-15T08:17:00.9191795Z       ✓ should fail validation for empty name
2025-04-15T08:17:00.9192006Z       ✓ should fail validation for name too long
2025-04-15T08:17:00.9192221Z       ✓ should fail validation for missing type
2025-04-15T08:17:00.9192439Z       ✓ should fail validation for empty type (1 ms)
2025-04-15T08:17:00.9192654Z       ✓ should fail validation for type too long
2025-04-15T08:17:00.9192870Z       ✓ should fail validation for missing data
2025-04-15T08:17:00.9193089Z       ✓ should fail validation for invalid data type
2025-04-15T08:17:00.9193209Z 
2025-04-15T08:17:00.9193344Z PASS src/dto/saml/__tests__/saml-preferences.dto.test.ts
2025-04-15T08:17:00.9193633Z   SamlPreferences
2025-04-15T08:17:00.9193755Z     Valid requests
2025-04-15T08:17:00.9193954Z       ✓ should validate valid minimal configuration (3 ms)
2025-04-15T08:17:00.9194191Z       ✓ should validate valid full configuration (1 ms)
2025-04-15T08:17:00.9194358Z     Invalid requests
2025-04-15T08:17:00.9194561Z       ✓ should fail validation for invalid loginBinding (1 ms)
2025-04-15T08:17:00.9194801Z       ✓ should fail validation for invalid acsBinding
2025-04-15T08:17:00.9195133Z       ✓ should fail validation for invalid signatureConfig location action (1 ms)
2025-04-15T08:17:00.9195459Z       ✓ should fail validation for missing signatureConfig location reference
2025-04-15T08:17:00.9195747Z       ✓ should fail validation for invalid mapping email
2025-04-15T08:17:00.9195927Z       Edge cases
2025-04-15T08:17:00.9196106Z         ✓ should handle optional fields correctly
2025-04-15T08:17:00.9196343Z         ✓ should handle default values correctly (1 ms)
2025-04-15T08:17:00.9196468Z 
2025-04-15T08:17:00.9196587Z PASS src/dto/ai/__tests__/ai-ask-request.dto.test.ts
2025-04-15T08:17:00.9196776Z   AiAskRequestDto
2025-04-15T08:17:00.9196963Z     ✓ should validate a valid AI ask request (4 ms)
2025-04-15T08:17:00.9197183Z     ✓ should fail if question is missing (1 ms)
2025-04-15T08:17:00.9197390Z     ✓ should fail if context is invalid (1 ms)
2025-04-15T08:17:00.9197586Z     ✓ should fail if forNode is missing
2025-04-15T08:17:00.9197805Z     ✓ should validate all possible schema types (1 ms)
2025-04-15T08:17:00.9198008Z     ✓ should fail with invalid type
2025-04-15T08:17:00.9198218Z     ✓ should validate multiple schema entries (1 ms)
2025-04-15T08:17:00.9198344Z 
2025-04-15T08:17:00.9198453Z PASS src/schemas/__tests__/insights.schema.test.ts
2025-04-15T08:17:00.9198871Z   insightsSummarySchema
2025-04-15T08:17:00.9199084Z     ✓ should validate valid insights summary (4 ms)
2025-04-15T08:17:00.9199314Z     ✓ should validate invalid failureRate unit
2025-04-15T08:17:00.9199532Z     ✓ should validate missing total (1 ms)
2025-04-15T08:17:00.9199801Z     ✓ should validate wrong data type for value
2025-04-15T08:17:00.9200006Z     ✓ should validate invalid key in object
2025-04-15T08:17:00.9200167Z   insightsByWorkflowSchema
2025-04-15T08:17:00.9200367Z     ✓ should validate valid workflow insights (1 ms)
2025-04-15T08:17:00.9200582Z     ✓ should validate wrong data type (4 ms)
2025-04-15T08:17:00.9200783Z     ✓ should validate missing required field
2025-04-15T08:17:00.9200976Z     ✓ should validate unexpected key
2025-04-15T08:17:00.9201131Z   insightsByTimeSchema
2025-04-15T08:17:00.9201324Z     ✓ should validate valid insights by time (1 ms)
2025-04-15T08:17:00.9201530Z     ✓ should validate invalid date format
2025-04-15T08:17:00.9201734Z     ✓ should validate invalid field type
2025-04-15T08:17:00.9202026Z     ✓ should validate missing required key
2025-04-15T08:17:00.9202221Z     ✓ should validate unexpected key (1 ms)
2025-04-15T08:17:00.9202325Z 
2025-04-15T08:17:00.9202459Z PASS src/dto/folders/__tests__/list-folder-query.dto.test.ts
2025-04-15T08:17:00.9202656Z   ListFolderQueryDto
2025-04-15T08:17:00.9202792Z     Valid requests
2025-04-15T08:17:00.9203004Z       ✓ should validate empty object (no filters) (3 ms)
2025-04-15T08:17:00.9203214Z       ✓ should validate valid filter
2025-04-15T08:17:00.9203439Z       ✓ should validate filter with parentFolderId (1 ms)
2025-04-15T08:17:00.9203733Z       ✓ should validate filter with name and parentFolderId
2025-04-15T08:17:00.9203976Z       ✓ should validate filter with tags array (1 ms)
2025-04-15T08:17:00.9204200Z       ✓ should validate filter with empty tags array
2025-04-15T08:17:00.9204468Z       ✓ should validate filter with all properties
2025-04-15T08:17:00.9204685Z       ✓ should validate valid select (1 ms)
2025-04-15T08:17:00.9204884Z       ✓ should validate valid sortBy
2025-04-15T08:17:00.9205064Z       ✓ should validate valid skip and take
2025-04-15T08:17:00.9205269Z       ✓ should validate full query parameters (1 ms)
2025-04-15T08:17:00.9205439Z     Invalid requests
2025-04-15T08:17:00.9205626Z       ✓ should fail validation for invalid filter format
2025-04-15T08:17:00.9205906Z       ✓ should fail validation for filter with invalid field (3 ms)
2025-04-15T08:17:00.9206196Z       ✓ should fail validation for filter with tags not as array
2025-04-15T08:17:00.9206536Z       ✓ should fail validation for filter with tags array containing non-string values (1 ms)
2025-04-15T08:17:00.9206832Z       ✓ should fail validation for invalid select format
2025-04-15T08:17:00.9207071Z       ✓ should fail validation for select with invalid field
2025-04-15T08:17:00.9207314Z       ✓ should fail validation for invalid skip format
2025-04-15T08:17:00.9207571Z       ✓ should fail validation for invalid take format (1 ms)
2025-04-15T08:17:00.9207823Z       ✓ should fail validation for invalid sortBy value
2025-04-15T08:17:00.9207945Z 
2025-04-15T08:17:00.9208499Z PASS src/dto/source-control/__tests__/push-work-folder-request.dto.test.ts
2025-04-15T08:17:00.9208734Z   PushWorkFolderRequestDto
2025-04-15T08:17:00.9208879Z     Valid requests
2025-04-15T08:17:00.9209104Z       ✓ should validate complete valid push request with all fields (2 ms)
2025-04-15T08:17:00.9209386Z       ✓ should validate push request with only required fields
2025-04-15T08:17:00.9209568Z     Invalid requests
2025-04-15T08:17:00.9209815Z       ✓ should fail validation for missing required fileNames field (1 ms)
2025-04-15T08:17:00.9210102Z       ✓ should fail validation for invalid fileNames type
2025-04-15T08:17:00.9210363Z       ✓ should fail validation for invalid fileNames array element
2025-04-15T08:17:00.9210616Z       ✓ should fail validation for invalid force type (1 ms)
2025-04-15T08:17:00.9210743Z 
2025-04-15T08:17:00.9210973Z PASS src/schemas/__tests__/project.schema.test.ts
2025-04-15T08:17:00.9211151Z   project.schema
2025-04-15T08:17:00.9211274Z     projectNameSchema
2025-04-15T08:17:00.9211458Z       ✓ should validate valid name (3 ms)
2025-04-15T08:17:00.9211655Z       ✓ should validate empty name
2025-04-15T08:17:00.9211839Z       ✓ should validate name too long
2025-04-15T08:17:00.9211986Z     projectTypeSchema
2025-04-15T08:17:00.9212164Z       ✓ should validate valid type: personal (1 ms)
2025-04-15T08:17:00.9212374Z       ✓ should validate valid type: team
2025-04-15T08:17:00.9212572Z       ✓ should validate invalid type
2025-04-15T08:17:00.9212727Z     projectIconSchema
2025-04-15T08:17:00.9212908Z       ✓ should validate valid emoji icon
2025-04-15T08:17:00.9213120Z       ✓ should validate valid icon (1 ms)
2025-04-15T08:17:00.9213331Z       ✓ should validate invalid icon type
2025-04-15T08:17:00.9213572Z       ✓ should validate empty icon value
2025-04-15T08:17:00.9213722Z     projectRoleSchema
2025-04-15T08:17:00.9213922Z       ✓ should validate valid role: project:personalOwner
2025-04-15T08:17:00.9214261Z       ✓ should validate valid role: project:admin
2025-04-15T08:17:00.9214483Z       ✓ should validate valid role: project:editor (1 ms)
2025-04-15T08:17:00.9214698Z       ✓ should validate valid role: project:viewer
2025-04-15T08:17:00.9214890Z       ✓ should validate invalid role
2025-04-15T08:17:00.9215039Z     projectRelationSchema
2025-04-15T08:17:00.9215210Z       ✓ should validate valid relation
2025-04-15T08:17:00.9215407Z       ✓ should validate invalid userId type
2025-04-15T08:17:00.9215596Z       ✓ should validate invalid role
2025-04-15T08:17:00.9215774Z       ✓ should validate missing userId
2025-04-15T08:17:00.9215969Z       ✓ should validate missing role (1 ms)
2025-04-15T08:17:00.9216073Z 
2025-04-15T08:17:00.9216236Z PASS src/dto/password-reset/__tests__/change-password-request.dto.test.ts
2025-04-15T08:17:00.9216472Z   ChangePasswordRequestDto
2025-04-15T08:17:00.9216609Z     Valid requests
2025-04-15T08:17:00.9216819Z       ✓ should validate valid password reset with token (3 ms)
2025-04-15T08:17:00.9217066Z       ✓ should validate valid password reset with MFA code
2025-04-15T08:17:00.9217284Z     Invalid requests
2025-04-15T08:17:00.9217494Z       ✓ should fail validation for missing token (1 ms)
2025-04-15T08:17:00.9217813Z       ✓ should fail validation for empty token (1 ms)
2025-04-15T08:17:00.9218101Z       ✓ should fail validation for short token
2025-04-15T08:17:00.9218313Z       ✓ should fail validation for missing password
2025-04-15T08:17:00.9218559Z       ✓ should fail validation for password too short (1 ms)
2025-04-15T08:17:00.9218788Z       ✓ should fail validation for password too long
2025-04-15T08:17:00.9219025Z       ✓ should fail validation for password without number
2025-04-15T08:17:00.9219306Z       ✓ should fail validation for password without uppercase letter (1 ms)
2025-04-15T08:17:00.9219511Z       Edge cases
2025-04-15T08:17:00.9219716Z         ✓ should handle optional MFA code correctly (4 ms)
2025-04-15T08:17:00.9219970Z         ✓ should handle token with special characters (1 ms)
2025-04-15T08:17:00.9220094Z 
2025-04-15T08:17:00.9220226Z PASS src/dto/project/__tests__/update-project.dto.test.ts
2025-04-15T08:17:00.9220417Z   UpdateProjectDto
2025-04-15T08:17:00.9220546Z     Valid requests
2025-04-15T08:17:00.9220719Z       ✓ should validate with just the name (4 ms)
2025-04-15T08:17:00.9220932Z       ✓ should validate with name and emoji icon
2025-04-15T08:17:00.9221162Z       ✓ should validate with name and regular icon (1 ms)
2025-04-15T08:17:00.9221371Z       ✓ should validate with relations
2025-04-15T08:17:00.9221575Z       ✓ should validate with all fields (1 ms)
2025-04-15T08:17:00.9221731Z     Invalid requests
2025-04-15T08:17:00.9221932Z       ✓ should fail validation for invalid name type (1 ms)
2025-04-15T08:17:00.9222164Z       ✓ should fail validation for name too long
2025-04-15T08:17:00.9222401Z       ✓ should fail validation for invalid icon type (1 ms)
2025-04-15T08:17:00.9222792Z       ✓ should fail validation for invalid icon value
2025-04-15T08:17:00.9223045Z       ✓ should fail validation for invalid relations userId
2025-04-15T08:17:00.9223295Z       ✓ should fail validation for invalid relations role (1 ms)
2025-04-15T08:17:00.9223426Z 
2025-04-15T08:17:00.9223604Z PASS src/dto/user/__tests__/user-update-request.dto.test.ts
2025-04-15T08:17:00.9223795Z   UserUpdateRequestDto
2025-04-15T08:17:00.9223998Z     ✓ should fail validation for an invalid email (5 ms)
2025-04-15T08:17:00.9224265Z     ✓ should fail validation for a firstName with potential XSS attack
2025-04-15T08:17:00.9224527Z     ✓ should fail validation for a firstName with a URL
2025-04-15T08:17:00.9224803Z     ✓ should fail validation for a lastName with potential XSS attack (1 ms)
2025-04-15T08:17:00.9225070Z     ✓ should fail validation for a lastName with a URL
2025-04-15T08:17:00.9225307Z     ✓ should validate a valid user update request (1 ms)
2025-04-15T08:17:00.9225431Z 
2025-04-15T08:17:00.9225626Z PASS src/dto/dynamic-node-parameters/__tests__/resource-locator-request.dto.test.ts
2025-04-15T08:17:00.9225981Z   ResourceLocatorRequestDto
2025-04-15T08:17:00.9226117Z     Valid requests
2025-04-15T08:17:00.9226302Z       ✓ should validate minimal valid request (3 ms)
2025-04-15T08:17:00.9226511Z       ✓ should validate request with filter
2025-04-15T08:17:00.9226752Z       ✓ should validate request with pagination token (1 ms)
2025-04-15T08:17:00.9226979Z       ✓ should validate request with credentials
2025-04-15T08:17:00.9227211Z       ✓ should validate request with current node parameters
2025-04-15T08:17:00.9227474Z       ✓ should validate request with a semver node version (1 ms)
2025-04-15T08:17:00.9227660Z     Invalid requests
2025-04-15T08:17:00.9227847Z       ✓ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9228069Z       ✓ should fail validation for missing method name
2025-04-15T08:17:00.9228322Z       ✓ should fail validation for invalid node version (1 ms)
2025-04-15T08:17:00.9228462Z 
2025-04-15T08:17:00.9228623Z PASS src/dto/invitation/__tests__/accept-invitation-request.dto.test.ts
2025-04-15T08:17:00.9228846Z   AcceptInvitationRequestDto
2025-04-15T08:17:00.9228991Z     Valid requests
2025-04-15T08:17:00.9229206Z       ✓ should validate complete valid invitation acceptance (3 ms)
2025-04-15T08:17:00.9229398Z     Invalid requests
2025-04-15T08:17:00.9229594Z       ✓ should fail validation for missing inviterId (1 ms)
2025-04-15T08:17:00.9229843Z       ✓ should fail validation for invalid inviterId (1 ms)
2025-04-15T08:17:00.9230077Z       ✓ should fail validation for missing first name
2025-04-15T08:17:00.9230304Z       ✓ should fail validation for missing last name
2025-04-15T08:17:00.9230546Z       ✓ should fail validation for password too short (1 ms)
2025-04-15T08:17:00.9230796Z       ✓ should fail validation for password without number
2025-04-15T08:17:00.9230926Z 
2025-04-15T08:17:00.9231141Z PASS src/dto/dynamic-node-parameters/__tests__/options-request.dto.test.ts
2025-04-15T08:17:00.9231374Z   OptionsRequestDto
2025-04-15T08:17:00.9231501Z     Valid requests
2025-04-15T08:17:00.9231701Z       ✓ should validate minimal valid request (3 ms)
2025-04-15T08:17:00.9231932Z       ✓ should validate request with method name (1 ms)
2025-04-15T08:17:00.9232153Z       ✓ should validate request with load options
2025-04-15T08:17:00.9232367Z       ✓ should validate request with credentials
2025-04-15T08:17:00.9232601Z       ✓ should validate request with current node parameters
2025-04-15T08:17:00.9232776Z     Invalid requests
2025-04-15T08:17:00.9232966Z       ✓ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9233231Z       ✓ should fail validation for missing node type and version (1 ms)
2025-04-15T08:17:00.9233520Z       ✓ should fail validation for invalid node version
2025-04-15T08:17:00.9233638Z 
2025-04-15T08:17:00.9233766Z PASS src/dto/owner/__tests__/owner-setup-request.dto.test.ts
2025-04-15T08:17:00.9233960Z   OwnerSetupRequestDto
2025-04-15T08:17:00.9234212Z     Valid requests
2025-04-15T08:17:00.9234405Z       ✓ should validate complete valid setup request (4 ms)
2025-04-15T08:17:00.9234579Z     Invalid requests
2025-04-15T08:17:00.9234760Z       ✓ should fail validation for invalid email (1 ms)
2025-04-15T08:17:00.9234981Z       ✓ should fail validation for missing first name
2025-04-15T08:17:00.9235213Z       ✓ should fail validation for missing last name (1 ms)
2025-04-15T08:17:00.9235439Z       ✓ should fail validation for password too short
2025-04-15T08:17:00.9235692Z       ✓ should fail validation for password without number (1 ms)
2025-04-15T08:17:00.9235970Z       ✓ should fail validation for password without uppercase letter
2025-04-15T08:17:00.9236109Z 
2025-04-15T08:17:00.9236226Z PASS src/dto/auth/__tests__/login-request.dto.test.ts
2025-04-15T08:17:00.9236404Z   LoginRequestDto
2025-04-15T08:17:00.9236530Z     Valid requests
2025-04-15T08:17:00.9236720Z       ✓ should validate complete valid login request (3 ms)
2025-04-15T08:17:00.9236982Z       ✓ should validate login request without optional MFA
2025-04-15T08:17:00.9237368Z       ✓ should validate login request with both mfaCode and mfaRecoveryCode
2025-04-15T08:17:00.9237652Z       ✓ should validate login request with only mfaRecoveryCode
2025-04-15T08:17:00.9237836Z     Invalid requests
2025-04-15T08:17:00.9245722Z       ✓ should fail validation for invalid emailOrLdapLoginId (1 ms)
2025-04-15T08:17:00.9246074Z       ✓ should fail validation for empty password
2025-04-15T08:17:00.9246341Z       ✓ should fail validation for missing emailOrLdapLoginId
2025-04-15T08:17:00.9246588Z       ✓ should fail validation for missing password
2025-04-15T08:17:00.9246706Z 
2025-04-15T08:17:00.9246876Z PASS src/dto/auth/__tests__/resolve-signup-token-query.dto.test.ts
2025-04-15T08:17:00.9247106Z   ResolveSignupTokenQueryDto
2025-04-15T08:17:00.9247257Z     Valid requests
2025-04-15T08:17:00.9247441Z       ✓ should validate standard UUID (3 ms)
2025-04-15T08:17:00.9247604Z     Invalid requests
2025-04-15T08:17:00.9247827Z       ✓ should fail validation for invalid inviterId UUID (1 ms)
2025-04-15T08:17:00.9248227Z       ✓ should fail validation for invalid inviteeId UUID (1 ms)
2025-04-15T08:17:00.9248478Z       ✓ should fail validation for missing inviterId
2025-04-15T08:17:00.9248704Z       ✓ should fail validation for missing inviteeId
2025-04-15T08:17:00.9248946Z       ✓ should fail validation for UUID with invalid characters
2025-04-15T08:17:00.9249182Z       ✓ should fail validation for UUID too long
2025-04-15T08:17:00.9249397Z       ✓ should fail validation for UUID too short
2025-04-15T08:17:00.9249505Z 
2025-04-15T08:17:00.9249658Z PASS src/dto/insights/__tests__/list-workflow-query.dto.test.ts
2025-04-15T08:17:00.9249882Z   ListInsightsWorkflowQueryDto
2025-04-15T08:17:00.9250042Z     Valid requests
2025-04-15T08:17:00.9250234Z       ✓ should validate empty object (no filters) (3 ms)
2025-04-15T08:17:00.9250462Z       ✓ should validate valid sortBy
2025-04-15T08:17:00.9250728Z       ✓ should validate valid skip and take (1 ms)
2025-04-15T08:17:00.9250975Z       ✓ should validate full query parameters
2025-04-15T08:17:00.9251160Z     Invalid requests
2025-04-15T08:17:00.9251370Z       ✓ should fail validation for invalid skip format (1 ms)
2025-04-15T08:17:00.9251616Z       ✓ should fail validation for invalid take format
2025-04-15T08:17:00.9251865Z       ✓ should fail validation for invalid sortBy value (1 ms)
2025-04-15T08:17:00.9252004Z 
2025-04-15T08:17:00.9252197Z PASS src/dto/dynamic-node-parameters/__tests__/action-result-request.dto.test.ts
2025-04-15T08:17:00.9252447Z   ActionResultRequestDto
2025-04-15T08:17:00.9252590Z     Valid requests
2025-04-15T08:17:00.9252776Z       ✓ should validate minimal valid request (4 ms)
2025-04-15T08:17:00.9253004Z       ✓ should validate request with payload (1 ms)
2025-04-15T08:17:00.9253241Z       ✓ should validate request with credentials (1 ms)
2025-04-15T08:17:00.9253534Z       ✓ should validate request with current node parameters
2025-04-15T08:17:00.9253895Z     Invalid requests
2025-04-15T08:17:00.9254093Z       ✓ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9254315Z       ✓ should fail validation for missing handler
2025-04-15T08:17:00.9254542Z       ✓ should fail validation for invalid node version
2025-04-15T08:17:00.9254665Z 
2025-04-15T08:17:00.9254870Z PASS src/dto/dynamic-node-parameters/__tests__/resource-mapper-fields-request.dto.test.ts
2025-04-15T08:17:00.9255142Z   ResourceMapperFieldsRequestDto
2025-04-15T08:17:00.9255288Z     Valid requests
2025-04-15T08:17:00.9255472Z       ✓ should validate minimal valid request (3 ms)
2025-04-15T08:17:00.9255697Z       ✓ should validate request with credentials
2025-04-15T08:17:00.9255957Z       ✓ should validate request with current node parameters (1 ms)
2025-04-15T08:17:00.9256152Z     Invalid requests
2025-04-15T08:17:00.9256348Z       ✓ should fail validation for missing path (1 ms)
2025-04-15T08:17:00.9256578Z       ✓ should fail validation for missing method name
2025-04-15T08:17:00.9256815Z       ✓ should fail validation for invalid node version
2025-04-15T08:17:00.9257056Z 
2025-04-15T08:17:00.9257201Z PASS src/dto/user/__tests__/settings-update-request.dto.test.ts
2025-04-15T08:17:00.9257406Z   SettingsUpdateRequestDto
2025-04-15T08:17:00.9257642Z     ✓ should pass validation with missing userActivated (3 ms)
2025-04-15T08:17:00.9257915Z     ✓ should pass validation with missing allowSSOManualLogin
2025-04-15T08:17:00.9258238Z     ✓ should pass validation with missing userActivated and allowSSOManualLogin (2 ms)
2025-04-15T08:17:00.9258539Z     ✓ should fail validation with invalid userActivated
2025-04-15T08:17:00.9258806Z     ✓ should fail validation with invalid allowSSOManualLogin (1 ms)
2025-04-15T08:17:00.9259056Z     ✓ should pass validation with valid data
2025-04-15T08:17:00.9259165Z 
2025-04-15T08:17:00.9259307Z PASS src/dto/project/__tests__/create-project.dto.test.ts
2025-04-15T08:17:00.9259500Z   CreateProjectDto
2025-04-15T08:17:00.9259630Z     Valid requests
2025-04-15T08:17:00.9259809Z       ✓ should validate with just the name (3 ms)
2025-04-15T08:17:00.9260048Z       ✓ should validate with name and emoji icon (1 ms)
2025-04-15T08:17:00.9260269Z       ✓ should validate with name and regular icon
2025-04-15T08:17:00.9260433Z     Invalid requests
2025-04-15T08:17:00.9260621Z       ✓ should fail validation for missing name (1 ms)
2025-04-15T08:17:00.9260853Z       ✓ should fail validation for empty name (1 ms)
2025-04-15T08:17:00.9261071Z       ✓ should fail validation for name too long
2025-04-15T08:17:00.9261291Z       ✓ should fail validation for invalid icon type
2025-04-15T08:17:00.9261530Z       ✓ should fail validation for invalid icon value (1 ms)
2025-04-15T08:17:00.9261657Z 
2025-04-15T08:17:00.9261827Z PASS src/dto/binary-data/__tests__/binary-data-signed-query.dto.test.ts
2025-04-15T08:17:00.9262052Z   BinaryDataSignedQueryDto
2025-04-15T08:17:00.9262194Z     Valid requests
2025-04-15T08:17:00.9262368Z       ✓ should validate valid JWT token (2 ms)
2025-04-15T08:17:00.9262539Z     Invalid requests
2025-04-15T08:17:00.9262736Z       ✓ should fail validation for missing token (1 ms)
2025-04-15T08:17:00.9262967Z       ✓ should fail validation for empty token (1 ms)
2025-04-15T08:17:00.9263195Z       ✓ should fail validation for non-string token
2025-04-15T08:17:00.9263451Z       ✓ should fail validation for token without three segments
2025-04-15T08:17:00.9263822Z       ✓ should fail validation for token with invalid characters
2025-04-15T08:17:00.9264116Z       ✓ should fail validation for token with too many segments (1 ms)
2025-04-15T08:17:00.9264266Z 
2025-04-15T08:17:00.9264409Z PASS src/dto/binary-data/__tests__/binary-data-query.dto.test.ts
2025-04-15T08:17:00.9264607Z   BinaryDataQueryDto
2025-04-15T08:17:00.9264738Z     Valid requests
2025-04-15T08:17:00.9264937Z       ✓ should validate filesystem mode with view action (3 ms)
2025-04-15T08:17:00.9265217Z       ✓ should validate filesystem-v2 mode with download action (1 ms)
2025-04-15T08:17:00.9265615Z       ✓ should validate s3 mode with view action and optional fields
2025-04-15T08:17:00.9265811Z     Invalid requests
2025-04-15T08:17:00.9266022Z       ✓ should fail validation for missing mode separator (1 ms)
2025-04-15T08:17:00.9266261Z       ✓ should fail validation for invalid mode
2025-04-15T08:17:00.9266500Z       ✓ should fail validation for invalid action (1 ms)
2025-04-15T08:17:00.9266726Z       ✓ should fail validation for missing id
2025-04-15T08:17:00.9266935Z       ✓ should fail validation for missing action
2025-04-15T08:17:00.9267054Z 
2025-04-15T08:17:00.9267191Z PASS src/dto/workflows/__tests__/transfer-workflow.dto.test.ts
2025-04-15T08:17:00.9267395Z   ImportWorkflowFromUrlDto
2025-04-15T08:17:00.9267533Z     Valid requests
2025-04-15T08:17:00.9267724Z       ✓ should validate only destinationProjectId (3 ms)
2025-04-15T08:17:00.9268024Z       ✓ should validate destinationProjectId with empty shareCredentials (1 ms)
2025-04-15T08:17:00.9268344Z       ✓ should validate destinationProjectId with shareCredentials
2025-04-15T08:17:00.9268636Z     Invalid requests
2025-04-15T08:17:00.9268852Z       ✓ should fail validation for no destinationProjectId (1 ms)
2025-04-15T08:17:00.9269148Z       ✓ should fail validation for destinationProjectId not being a string
2025-04-15T08:17:00.9269450Z       ✓ should fail validation for shareCredentials not being an array
2025-04-15T08:17:00.9269761Z       ✓ should fail validation for shareCredentials not containing strings (1 ms)
2025-04-15T08:17:00.9269932Z 
2025-04-15T08:17:00.9270073Z PASS src/dto/owner/__tests__/dismiss-banner-request.dto.test.ts
2025-04-15T08:17:00.9270277Z   DismissBannerRequestDto
2025-04-15T08:17:00.9270417Z     Valid requests
2025-04-15T08:17:00.9270590Z       ✓ should validate valid banner: V1 (4 ms)
2025-04-15T08:17:00.9270803Z       ✓ should validate valid banner: TRIAL_OVER
2025-04-15T08:17:00.9271015Z       ✓ should validate valid banner: TRIAL
2025-04-15T08:17:00.9271254Z       ✓ should validate valid banner: NON_PRODUCTION_LICENSE
2025-04-15T08:17:00.9271505Z       ✓ should validate valid banner: EMAIL_CONFIRMATION
2025-04-15T08:17:00.9271678Z     Invalid requests
2025-04-15T08:17:00.9271882Z       ✓ should fail validation for invalid banner string (1 ms)
2025-04-15T08:17:00.9272139Z       ✓ should fail validation for non-string banner (1 ms)
2025-04-15T08:17:00.9272318Z     Optional banner
2025-04-15T08:17:00.9272485Z       ✓ should validate empty request
2025-04-15T08:17:00.9272656Z     Exhaustive banner name check
2025-04-15T08:17:00.9272842Z       ✓ should have all banner names defined
2025-04-15T08:17:00.9272950Z 
2025-04-15T08:17:00.9273065Z PASS src/schemas/__tests__/paswword.schema.test.ts
2025-04-15T08:17:00.9273243Z   passwordSchema
2025-04-15T08:17:00.9273411Z     ✓ should throw on empty password (7 ms)
2025-04-15T08:17:00.9273679Z     ✓ should return same password if valid (1 ms)
2025-04-15T08:17:00.9273901Z     ✓ should require at least one uppercase letter
2025-04-15T08:17:00.9274112Z     ✓ should require at least one number
2025-04-15T08:17:00.9274350Z     ✓ should require a minimum length of 8 characters (1 ms)
2025-04-15T08:17:00.9274609Z     ✓ should require a maximum length of 64 characters (1 ms)
2025-04-15T08:17:00.9274743Z 
2025-04-15T08:17:00.9274897Z PASS src/dto/workflows/__tests__/import-workflow-from-url.dto.test.ts
2025-04-15T08:17:00.9275114Z   ImportWorkflowFromUrlDto
2025-04-15T08:17:00.9275256Z     Valid requests
2025-04-15T08:17:00.9275416Z       ✓ should validate $name (2 ms)
2025-04-15T08:17:00.9275572Z     Invalid requests
2025-04-15T08:17:00.9275812Z       ✓ should fail validation for invalid URL (not ending with .json) (1 ms)
2025-04-15T08:17:00.9276124Z       ✓ should fail validation for invalid URL (missing protocol) (1 ms)
2025-04-15T08:17:00.9276634Z       ✓ should fail validation for invalid URL (not a URL)
2025-04-15T08:17:00.9276956Z       ✓ should fail validation for missing URL
2025-04-15T08:17:00.9277181Z       ✓ should fail validation for null URL (1 ms)
2025-04-15T08:17:00.9277688Z       ✓ should fail validation for invalid URL (ends with .json but not a valid URL)
2025-04-15T08:17:00.9278022Z       ✓ should fail validation for valid URL with query parameters
2025-04-15T08:17:00.9278311Z       ✓ should fail validation for valid URL with fragments
2025-04-15T08:17:00.9278464Z 
2025-04-15T08:17:00.9278650Z PASS src/dto/credentials/__tests__/credentials-get-many-request.dto.test.ts
2025-04-15T08:17:00.9278908Z   CredentialsGetManyRequestQuery
2025-04-15T08:17:00.9279067Z     should pass validation
2025-04-15T08:17:00.9279237Z       ✓ with empty object (3 ms)
2025-04-15T08:17:00.9279414Z       ✓ with includeScopes set to true
2025-04-15T08:17:00.9279614Z       ✓ with includeScopes set to false
2025-04-15T08:17:00.9279809Z       ✓ with includeData set to true (1 ms)
2025-04-15T08:17:00.9280044Z       ✓ with includeData set to false
2025-04-15T08:17:00.9280221Z       ✓ with both parameters set
2025-04-15T08:17:00.9280364Z     should fail validation
2025-04-15T08:17:00.9280567Z       ✓ with invalid value true for includeScopes (1 ms)
2025-04-15T08:17:00.9281134Z       ✓ with invalid value false for includeScopes
2025-04-15T08:17:00.9281364Z       ✓ with invalid value invalid for includeScopes
2025-04-15T08:17:00.9281580Z       ✓ with invalid value true for includeData
2025-04-15T08:17:00.9281806Z       ✓ with invalid value false for includeData (1 ms)
2025-04-15T08:17:00.9282029Z       ✓ with invalid value invalid for includeData
2025-04-15T08:17:00.9282149Z 
2025-04-15T08:17:00.9282308Z PASS src/dto/invitation/__tests__/invite-users-request.dto.test.ts
2025-04-15T08:17:00.9282520Z   InviteUsersRequestDto
2025-04-15T08:17:00.9282654Z     Valid requests
2025-04-15T08:17:00.9282824Z       ✓ should validate empty array (3 ms)
2025-04-15T08:17:00.9283082Z       ✓ should validate single user invitation with default role (1 ms)
2025-04-15T08:17:00.9283378Z       ✓ should validate multiple user invitations with different roles
2025-04-15T08:17:00.9283696Z       ✓ should default role to global:member
2025-04-15T08:17:00.9283859Z     Invalid requests
2025-04-15T08:17:00.9284043Z       ✓ should fail validation for invalid email
2025-04-15T08:17:00.9284257Z       ✓ should fail validation for invalid role
2025-04-15T08:17:00.9284367Z 
2025-04-15T08:17:00.9284515Z PASS src/dto/folders/__tests__/update-folder.request.dto.test.ts
2025-04-15T08:17:00.9284712Z   UpdateFolderDto
2025-04-15T08:17:00.9284837Z     Valid requests
2025-04-15T08:17:00.9285004Z       ✓ should validate name (3 ms)
2025-04-15T08:17:00.9285189Z       ✓ should validate tagIds
2025-04-15T08:17:00.9285396Z       ✓ should validate empty tagIds (1 ms)
2025-04-15T08:17:00.9285600Z       ✓ should validate string parentFolderId
2025-04-15T08:17:00.9285760Z     Invalid requests
2025-04-15T08:17:00.9285946Z       ✓ should fail validation for empty name (1 ms)
2025-04-15T08:17:00.9286167Z       ✓ should fail validation for non string tagIds
2025-04-15T08:17:00.9286397Z       ✓ should fail validation for non array tagIds (1 ms)
2025-04-15T08:17:00.9286653Z       ✓ should fail validation for non string parentFolderId
2025-04-15T08:17:00.9286785Z 
2025-04-15T08:17:00.9286954Z PASS src/dto/credentials/__tests__/credentials-get-one-request.dto.test.ts
2025-04-15T08:17:00.9287200Z   CredentialsGetManyRequestQuery
2025-04-15T08:17:00.9287354Z     should pass validation
2025-04-15T08:17:00.9287523Z       ✓ with empty object (3 ms)
2025-04-15T08:17:00.9287712Z       ✓ with includeData set to true (1 ms)
2025-04-15T08:17:00.9287904Z       ✓ with includeData set to false
2025-04-15T08:17:00.9288432Z       ✓ with both parameters set (1 ms)
2025-04-15T08:17:00.9288592Z     should fail validation
2025-04-15T08:17:00.9288790Z       ✓ with invalid value true for includeData (1 ms)
2025-04-15T08:17:00.9289009Z       ✓ with invalid value false for includeData
2025-04-15T08:17:00.9289225Z       ✓ with invalid value invalid for includeData
2025-04-15T08:17:00.9289335Z 
2025-04-15T08:17:00.9289473Z PASS src/dto/workflows/__tests__/manual-run-query.dto.test.ts
2025-04-15T08:17:00.9289808Z   ManualRunQueryDto
2025-04-15T08:17:00.9289938Z     Valid requests
2025-04-15T08:17:00.9290108Z       ✓ should validate version number 1 (3 ms)
2025-04-15T08:17:00.9290310Z       ✓ should validate version number 2 (1 ms)
2025-04-15T08:17:00.9290502Z       ✓ should validate missing version
2025-04-15T08:17:00.9290650Z     Invalid requests
2025-04-15T08:17:00.9290846Z       ✓ should fail validation for invalid version 0 (1 ms)
2025-04-15T08:17:00.9291090Z       ✓ should fail validation for invalid type (boolean)
2025-04-15T08:17:00.9291342Z       ✓ should fail validation for invalid type (number) (1 ms)
2025-04-15T08:17:00.9291479Z 
2025-04-15T08:17:00.9291614Z PASS src/dto/folders/__tests__/create-folder-request.dto.test.ts
2025-04-15T08:17:00.9291807Z   CreateFolderDto
2025-04-15T08:17:00.9291922Z     Valid requests
2025-04-15T08:17:00.9292099Z       ✓ should validate name without parentId (3 ms)
2025-04-15T08:17:00.9292336Z       ✓ should validate name and parentFolderId (1 ms)
2025-04-15T08:17:00.9292513Z     Invalid requests
2025-04-15T08:17:00.9292792Z       ✓ should fail validation for missing name
2025-04-15T08:17:00.9293000Z       ✓ should fail validation for empty name
2025-04-15T08:17:00.9293231Z       ✓ should fail validation for parentFolderId and no name
2025-04-15T08:17:00.9293535Z       ✓ should fail validation for invalid parentFolderId (1 ms)
2025-04-15T08:17:00.9293670Z 
2025-04-15T08:17:00.9293789Z PASS src/dto/tag/__tests__/retrieve-tag-query.dto.test.ts
2025-04-15T08:17:00.9293973Z   RetrieveTagQueryDto
2025-04-15T08:17:00.9294101Z     Valid requests
2025-04-15T08:17:00.9294312Z       ✓ should pass validation for withUsageCount with "true" (3 ms)
2025-04-15T08:17:00.9294580Z       ✓ should pass validation for withUsageCount with "false"
2025-04-15T08:17:00.9294761Z     Invalid requests
2025-04-15T08:17:00.9294972Z       ✓ should fail validation for withUsageCount with number (1 ms)
2025-04-15T08:17:00.9295247Z       ✓ should fail validation for withUsageCount with boolean (true) 
2025-04-15T08:17:00.9295537Z       ✓ should fail validation for withUsageCount with boolean (false)
2025-04-15T08:17:00.9295839Z       ✓ should fail validation for withUsageCount with invalid string (1 ms)
2025-04-15T08:17:00.9295993Z 
2025-04-15T08:17:00.9296134Z PASS src/dto/user/__tests__/password-update-request.dto.test.ts
2025-04-15T08:17:00.9296336Z   PasswordUpdateRequestDto
2025-04-15T08:17:00.9296564Z     ✓ should fail validation with missing currentPassword (4 ms)
2025-04-15T08:17:00.9296809Z     ✓ should fail validation with missing newPassword
2025-04-15T08:17:00.9297044Z     ✓ should pass validation with missing mfaCode (1 ms)
2025-04-15T08:17:00.9297263Z     ✓ should pass validation with valid data
2025-04-15T08:17:00.9297367Z 
2025-04-15T08:17:00.9297516Z PASS src/dto/api-keys/__tests__/create-api-key-request.dto.test.ts
2025-04-15T08:17:00.9297718Z   CreateApiKeyRequestDto
2025-04-15T08:17:00.9297847Z     Valid requests
2025-04-15T08:17:00.9298057Z       ✓ should succeed validation for expiresAt in the future (4 ms)
2025-04-15T08:17:00.9298310Z       ✓ should succeed validation for expiresAt null
2025-04-15T08:17:00.9298471Z     Invalid requests
2025-04-15T08:17:00.9298670Z       ✓ should fail validation for expiresAt in the past (1 ms)
2025-04-15T08:17:00.9298927Z       ✓ should fail validation for expiresAt with string (1 ms)
2025-04-15T08:17:00.9299172Z       ✓ should fail validation for expiresAt with []
2025-04-15T08:17:00.9299410Z       ✓ should fail validation for expiresAt with {} (1 ms)
2025-04-15T08:17:00.9299532Z 
2025-04-15T08:17:00.9299697Z PASS src/dto/password-reset/__tests__/forgot-password-request.dto.test.ts
2025-04-15T08:17:00.9299922Z   ForgotPasswordRequestDto
2025-04-15T08:17:00.9300059Z     Valid requests
2025-04-15T08:17:00.9300227Z       ✓ should validate valid email (3 ms)
2025-04-15T08:17:00.9300427Z       ✓ should validate email with subdomain
2025-04-15T08:17:00.9300585Z     Invalid requests
2025-04-15T08:17:00.9300912Z       ✓ should fail validation for invalid email format (1 ms)
2025-04-15T08:17:00.9301187Z       ✓ should fail validation for missing email (1 ms)
2025-04-15T08:17:00.9301416Z       ✓ should fail validation for empty email
2025-04-15T08:17:00.9301527Z 
2025-04-15T08:17:00.9301655Z PASS src/dto/user/__tests__/role-change-request.dto.test.ts
2025-04-15T08:17:00.9301844Z   RoleChangeRequestDto
2025-04-15T08:17:00.9302052Z     ✓ should fail validation with missing newRoleName (6 ms)
2025-04-15T08:17:00.9302294Z     ✓ should fail validation with invalid newRoleName
2025-04-15T08:17:00.9302522Z     ✓ should pass validation with valid data (1 ms)
2025-04-15T08:17:00.9302641Z 
2025-04-15T08:17:00.9302798Z PASS src/dto/credentials/__tests__/generate-credential-name.dto.test.ts
2025-04-15T08:17:00.9303039Z   GenerateCredentialNameRequestQuery
2025-04-15T08:17:00.9303199Z     should pass validation
2025-04-15T08:17:00.9303371Z       ✓ with empty object (3 ms)
2025-04-15T08:17:00.9303595Z       ✓ with valid name (1 ms)
2025-04-15T08:17:00.9303739Z     should fail validation
2025-04-15T08:17:00.9304005Z       ✓ with invalid value 123 for name
2025-04-15T08:17:00.9304194Z       ✓ with invalid value true for name
2025-04-15T08:17:00.9304398Z       ✓ with invalid value {} for name (1 ms)
2025-04-15T08:17:00.9304588Z       ✓ with invalid value [] for name
2025-04-15T08:17:00.9304692Z 
2025-04-15T08:17:00.9304836Z PASS src/dto/api-keys/__tests__/update-api-key-request.dto.test.ts
2025-04-15T08:17:00.9305040Z   UpdateApiKeyRequestDto
2025-04-15T08:17:00.9305185Z     Valid requests
2025-04-15T08:17:00.9305340Z       ✓ should allow valid label (3 ms)
2025-04-15T08:17:00.9305487Z     Invalid requests
2025-04-15T08:17:00.9305676Z       ✓ should fail validation for empty label (1 ms)
2025-04-15T08:17:00.9305921Z       ✓ should fail validation for label exceeding 50 characters
2025-04-15T08:17:00.9306186Z       ✓ should fail validation for label with xss injection (1 ms)
2025-04-15T08:17:00.9306325Z 
2025-04-15T08:17:00.9306504Z PASS src/dto/password-reset/__tests__/resolve-password-token-query.dto.test.ts
2025-04-15T08:17:00.9306754Z   ResolvePasswordTokenQueryDto
2025-04-15T08:17:00.9306895Z     Valid requests
2025-04-15T08:17:00.9307059Z       ✓ should validate valid token (2 ms)
2025-04-15T08:17:00.9307246Z       ✓ should validate long token
2025-04-15T08:17:00.9307391Z     Invalid requests
2025-04-15T08:17:00.9307578Z       ✓ should fail validation for missing token (1 ms)
2025-04-15T08:17:00.9307794Z       ✓ should fail validation for empty token
2025-04-15T08:17:00.9307905Z 
2025-04-15T08:17:00.9308046Z PASS src/dto/ai/__tests__/ai-apply-suggestion-request.dto.test.ts
2025-04-15T08:17:00.9308261Z   AiApplySuggestionRequestDto
2025-04-15T08:17:00.9308498Z     ✓ should validate a valid suggestion application request (3 ms)
2025-04-15T08:17:00.9308745Z     ✓ should fail if sessionId is missing (1 ms)
2025-04-15T08:17:00.9308952Z     ✓ should fail if suggestionId is missing
2025-04-15T08:17:00.9309054Z 
2025-04-15T08:17:00.9309318Z PASS src/dto/source-control/__tests__/pull-work-folder-request.dto.test.ts
2025-04-15T08:17:00.9309547Z   PullWorkFolderRequestDto
2025-04-15T08:17:00.9309678Z     Valid requests
2025-04-15T08:17:00.9309845Z       ✓ should validate with force (4 ms)
2025-04-15T08:17:00.9310040Z       ✓ should validate without force (1 ms)
2025-04-15T08:17:00.9310192Z     Invalid requests
2025-04-15T08:17:00.9310387Z       ✓ should fail validation for invalid force type (1 ms)
2025-04-15T08:17:00.9310511Z 
2025-04-15T08:17:00.9310656Z PASS src/dto/tag/__tests__/create-or-update-tag-request.dto.test.ts
2025-04-15T08:17:00.9310872Z   CreateOrUpdateTagRequestDto
2025-04-15T08:17:00.9311009Z     Valid requests
2025-04-15T08:17:00.9311168Z       ✓ should validate valid name (3 ms)
2025-04-15T08:17:00.9311319Z     Invalid requests
2025-04-15T08:17:00.9311525Z       ✓ should fail validation for empty tag name (1 ms)
2025-04-15T08:17:00.9311642Z 
2025-04-15T08:17:00.9311766Z PASS src/schemas/__tests__/nodeVersion.schema.test.ts
2025-04-15T08:17:00.9311958Z   nodeVersionSchema
2025-04-15T08:17:00.9312086Z     valid versions
2025-04-15T08:17:00.9312396Z       ✓ should accept 1 as a valid version (single digit) (2 ms)
2025-04-15T08:17:00.9312653Z       ✓ should accept 2 as a valid version (single digit) (1 ms)
2025-04-15T08:17:00.9312918Z       ✓ should accept 1 as a valid version (major.minor with zero minor)
2025-04-15T08:17:00.9313186Z       ✓ should accept 1.2 as a valid version (major.minor)
2025-04-15T08:17:00.9313525Z       ✓ should accept 10.5 as a valid version (major.minor with double digits)
2025-04-15T08:17:00.9313725Z     invalid versions
2025-04-15T08:17:00.9313973Z       ✓ should reject not-a-number as an invalid version (non-number input) (3 ms)
2025-04-15T08:17:00.9314284Z       ✓ should reject 1.2.3 as an invalid version (more than two parts) (1 ms)
2025-04-15T08:17:00.9314573Z       ✓ should reject 1.a as an invalid version (non-numeric characters)
2025-04-15T08:17:00.9314886Z       ✓ should reject 1.2.3 as an invalid version (more than two parts as string) (1 ms)
2025-04-15T08:17:00.9315062Z 
2025-04-15T08:17:00.9315180Z PASS src/dto/ai/__tests__/ai-chat-request.dto.test.ts
2025-04-15T08:17:00.9315354Z   AiChatRequestDto
2025-04-15T08:17:00.9315568Z     ✓ should validate a request with a payload and session ID (3 ms)
2025-04-15T08:17:00.9315820Z     ✓ should validate a request with only a payload
2025-04-15T08:17:00.9316031Z     ✓ should fail if payload is missing
2025-04-15T08:17:00.9316139Z 
2025-04-15T08:17:00.9316290Z PASS src/dto/license/__tests__/community-registered-request.dto.test.ts
2025-04-15T08:17:00.9316514Z   CommunityRegisteredRequestDto
2025-04-15T08:17:00.9316724Z     ✓ should fail validation for missing email (3 ms)
2025-04-15T08:17:00.9316944Z     ✓ should fail validation for an invalid email
2025-04-15T08:17:00.9317066Z 
2025-04-15T08:17:00.9317199Z PASS src/dto/ai/__tests__/ai-free-credits-request.dto.test.ts
2025-04-15T08:17:00.9317389Z   AiChatRequestDto
2025-04-15T08:17:00.9317583Z     ✓ should succeed if projectId is a valid nanoid (3 ms)
2025-04-15T08:17:00.9317818Z     ✓ should succeed if no projectId is sent
2025-04-15T08:17:00.9318026Z     ✓ should fail is projectId invalid value
2025-04-15T08:17:00.9318130Z 
2025-04-15T08:17:00.9318215Z Test Suites: 48 passed, 48 total
2025-04-15T08:17:00.9318388Z Tests:       353 passed, 353 total
2025-04-15T08:17:00.9318541Z Snapshots:   0 total
2025-04-15T08:17:00.9318676Z Time:        6.441 s
2025-04-15T08:17:00.9318801Z Ran all test suites.
2025-04-15T08:17:00.9319151Z ##[endgroup]
2025-04-15T08:17:02.5240510Z ##[group]@n8n/imap:test
2025-04-15T08:17:02.5240887Z cache bypass, force executing f7b9a92ea8bfe464
2025-04-15T08:17:02.5241073Z 
2025-04-15T08:17:02.5241295Z > @n8n/imap@0.9.0 test /home/runner/_work/n8n/n8n/packages/@n8n/imap
2025-04-15T08:17:02.5241580Z > jest
2025-04-15T08:17:02.5241677Z 
2025-04-15T08:17:02.5241786Z PASS test/PartData.test.ts
2025-04-15T08:17:02.5241990Z   PartData
2025-04-15T08:17:02.5242152Z     fromData
2025-04-15T08:17:02.5243227Z       ✓ should return an instance of Base64PartData when encoding is BASE64 (3 ms)
2025-04-15T08:17:02.5243839Z       ✓ should return an instance of QuotedPrintablePartData when encoding is QUOTED-PRINTABLE
2025-04-15T08:17:02.5244420Z       ✓ should return an instance of SevenBitPartData when encoding is 7BIT
2025-04-15T08:17:02.5244908Z       ✓ should return an instance of BinaryPartData when encoding is 8BIT or BINARY
2025-04-15T08:17:02.5245391Z       ✓ should return an instance of UuencodedPartData when encoding is UUENCODE
2025-04-15T08:17:02.5245836Z       ✓ should throw an error when encoding is not supported (5 ms)
2025-04-15T08:17:02.5246119Z   Base64PartData
2025-04-15T08:17:02.5246367Z     ✓ should correctly decode base64 data
2025-04-15T08:17:02.5246610Z   QuotedPrintablePartData
2025-04-15T08:17:02.5246905Z     ✓ should correctly decode quoted-printable data
2025-04-15T08:17:02.5247156Z   SevenBitPartData
2025-04-15T08:17:02.5247417Z     ✓ should correctly decode 7bit data (1 ms)
2025-04-15T08:17:02.5247648Z   BinaryPartData
2025-04-15T08:17:02.5247907Z     ✓ should correctly decode binary data (4 ms)
2025-04-15T08:17:02.5248492Z   UuencodedPartData
2025-04-15T08:17:02.5248747Z     ✓ should correctly decode uuencoded data
2025-04-15T08:17:02.5248900Z 
2025-04-15T08:17:02.5249027Z Test Suites: 1 passed, 1 total
2025-04-15T08:17:02.5249283Z Tests:       11 passed, 11 total
2025-04-15T08:17:02.5249504Z Snapshots:   0 total
2025-04-15T08:17:02.5249691Z Time:        1.121 s
2025-04-15T08:17:02.5249876Z Ran all test suites.
2025-04-15T08:17:02.5250206Z ##[endgroup]
2025-04-15T08:19:34.4837322Z ##[group]n8n:test
2025-04-15T08:19:34.4837582Z cache bypass, force executing 828b44784d0baac3
2025-04-15T08:19:34.4837708Z 
2025-04-15T08:19:34.4837830Z > n8n@1.89.0 test /home/runner/_work/n8n/n8n/packages/cli
2025-04-15T08:19:34.4838024Z > pnpm test:sqlite
2025-04-15T08:19:34.4838105Z 
2025-04-15T08:19:34.4838109Z 
2025-04-15T08:19:34.4838230Z > n8n@1.89.0 test:sqlite /home/runner/_work/n8n/n8n/packages/cli
2025-04-15T08:19:34.4838479Z > N8N_LOG_LEVEL=silent DB_TYPE=sqlite jest
2025-04-15T08:19:34.4838606Z 
2025-04-15T08:19:34.4838794Z PASS src/modules/insights/__tests__/insights.service.test.ts (7.962 s)
2025-04-15T08:19:34.4839024Z   workflowExecuteAfterHandler
2025-04-15T08:19:34.4839483Z     ✓ stores events for executions with the status `success` (29 ms)
2025-04-15T08:19:34.4839767Z     ✓ stores events for executions with the status `error` (13 ms)
2025-04-15T08:19:34.4840038Z     ✓ stores events for executions with the status `crashed` (19 ms)
2025-04-15T08:19:34.4840369Z     ✓ does not store events for executions with the status `waiting` (13 ms)
2025-04-15T08:19:34.4840672Z     ✓ does not store events for executions with the status `canceled` (19 ms)
2025-04-15T08:19:34.4840967Z     ✓ does not store events for executions with the status `unknown` (20 ms)
2025-04-15T08:19:34.4841251Z     ✓ does not store events for executions with the status `new` (18 ms)
2025-04-15T08:19:34.4841545Z     ✓ does not store events for executions with the status `running` (22 ms)
2025-04-15T08:19:34.4841849Z     ✓ does not store events for executions with the mode `internal` (21 ms)
2025-04-15T08:19:34.4842183Z     ✓ does not store events for executions with the mode `manual` (8 ms)
2025-04-15T08:19:34.4842475Z     ✓ does not store events for executions with the mode `integrated` (17 ms)
2025-04-15T08:19:34.4842763Z     ✓ stores events for executions with the mode `evaluation` (27 ms)
2025-04-15T08:19:34.4843133Z     ✓ stores events for executions with the mode `error` (24 ms)
2025-04-15T08:19:34.4843406Z     ✓ stores events for executions with the mode `cli` (30 ms)
2025-04-15T08:19:34.4843706Z     ✓ stores events for executions with the mode `retry` (14 ms)
2025-04-15T08:19:34.4843967Z     ✓ stores events for executions with the mode `trigger` (30 ms)
2025-04-15T08:19:34.4844221Z     ✓ stores events for executions with the mode `webhook` (40 ms)
2025-04-15T08:19:34.4844440Z   workflowExecuteAfterHandler - cacheMetadata
2025-04-15T08:19:34.4845001Z     ✓ reuses cached metadata for subsequent executions of the same workflow (18 ms)
2025-04-15T08:19:34.4845310Z     ✓ updates cached metadata if workflow details change (9 ms)
2025-04-15T08:19:34.4845525Z   workflowExecuteAfterHandler - flushEvents
2025-04-15T08:19:34.4845765Z     ✓ flushes events to the database once buffer is full (68 ms)
2025-04-15T08:19:34.4846045Z     ✓ flushes events to the database after a timeout (43 ms)
2025-04-15T08:19:34.4846291Z     ✓ reschedule flush on flushing end (11 ms)
2025-04-15T08:19:34.4846521Z     ✓ flushes events to the database on shutdown (14 ms)
2025-04-15T08:19:34.4846770Z     ✓ flushes events synchronously while shutting down (29 ms)
2025-04-15T08:19:34.4847049Z     ✓ restore buffer events on flushing error (10 ms)
2025-04-15T08:19:34.4847272Z     ✓ waits for ongoing flush during shutdown (11 ms)
2025-04-15T08:19:34.4847435Z   compaction
2025-04-15T08:19:34.4847555Z     compactRawToHour
2025-04-15T08:19:34.4847730Z       ✓ compact into 2 rows (40 ms)
2025-04-15T08:19:34.4847916Z       ✓ compact into 3 rows (25 ms)
2025-04-15T08:19:34.4848452Z       ✓ batch compaction split events in hourly insight periods (272 ms)
2025-04-15T08:19:34.4848786Z       ✓ batch compaction split events in hourly insight periods by type and workflow (267 ms)
2025-04-15T08:19:34.4849098Z       ✓ should return the number of compacted events (242 ms)
2025-04-15T08:19:34.4849368Z       ✓ works with data in the compacted table (82 ms)
2025-04-15T08:19:34.4849611Z       ✓ works with data bigger than the batch size (256 ms)
2025-04-15T08:19:34.4849779Z     compactionSchedule
2025-04-15T08:19:34.4849956Z       ✓ compaction is running on schedule (7 ms)
2025-04-15T08:19:34.4850112Z     compactHourToDay
2025-04-15T08:19:34.4850267Z       ✓ compact into 2 rows (19 ms)
2025-04-15T08:19:34.4850464Z       ✓ compact into 3 rows (25 ms)
2025-04-15T08:19:34.4850678Z       ✓ recent insight periods should not be compacted (16 ms)
2025-04-15T08:19:34.4850851Z     compactDayToWeek
2025-04-15T08:19:34.4850996Z       ✓ compact into 2 rows (20 ms)
2025-04-15T08:19:34.4851179Z       ✓ compact into 3 rows (35 ms)
2025-04-15T08:19:34.4851390Z       ✓ recent insight periods should not be compacted (23 ms)
2025-04-15T08:19:34.4851584Z     compaction threshold configuration
2025-04-15T08:19:34.4851867Z       ✓ insights by period older than the hourly to daily threshold are not compacted (23 ms)
2025-04-15T08:19:34.4852208Z       ✓ insights by period older than the daily to weekly threshold are not compacted (47 ms)
2025-04-15T08:19:34.4852425Z   getInsightsSummary
2025-04-15T08:19:34.4852607Z     ✓ compacted data are summarized correctly (37 ms)
2025-04-15T08:19:34.4852865Z     ✓ no data for previous period should return null deviation (18 ms)
2025-04-15T08:19:34.4853116Z     ✓ mixed period data are summarized correctly (71 ms)
2025-04-15T08:19:34.4853313Z   getInsightsByWorkflow
2025-04-15T08:19:34.4853541Z     ✓ compacted data are are grouped by workflow correctly (73 ms)
2025-04-15T08:19:34.4853831Z     ✓ compacted data are grouped by workflow correctly with sorting (55 ms)
2025-04-15T08:19:34.4854140Z     ✓ compacted data are grouped by workflow correctly with pagination (43 ms)
2025-04-15T08:19:34.4854515Z     ✓ compacted data are grouped by workflow correctly even with 0 data (check division by 0) (23 ms)
2025-04-15T08:19:34.4854749Z   getInsightsByTime
2025-04-15T08:19:34.4854941Z     ✓ returns empty array when no insights exist (14 ms)
2025-04-15T08:19:34.4855213Z     ✓ returns empty array when no insights in the time range exists (23 ms)
2025-04-15T08:19:34.4855486Z     ✓ compacted data are are grouped by time correctly (43 ms)
2025-04-15T08:19:34.4855615Z 
2025-04-15T08:19:34.4855754Z PASS test/integration/public-api/workflows.test.ts (9.933 s)
2025-04-15T08:19:34.4855941Z   GET /workflows
2025-04-15T08:19:34.4856105Z     ✓ should fail due to missing API Key (18 ms)
2025-04-15T08:19:34.4856309Z     ✓ should fail due to invalid API Key (5 ms)
2025-04-15T08:19:34.4856508Z     ✓ should return all owned workflows (827 ms)
2025-04-15T08:19:34.4856862Z     ✓ should return all owned workflows with pagination (35 ms)
2025-04-15T08:19:34.4857168Z     ✓ should return all owned workflows filtered by tag (51 ms)
2025-04-15T08:19:34.4857419Z     ✓ should return all owned workflows filtered by tags (37 ms)
2025-04-15T08:19:34.4857700Z     ✓ for owner, should return all workflows filtered by `projectId` (32 ms)
2025-04-15T08:19:34.4858055Z     ✓ for member, should return all member-accessible workflows filtered by `projectId` (27 ms)
2025-04-15T08:19:34.4858362Z     ✓ should return all owned workflows filtered by name (26 ms)
2025-04-15T08:19:34.4858594Z     ✓ should return all workflows for owner (27 ms)
2025-04-15T08:19:34.4858845Z     ✓ should return all owned workflows without pinned data (21 ms)
2025-04-15T08:19:34.4859030Z   GET /workflows/:id
2025-04-15T08:19:34.4859202Z     ✓ should fail due to missing API Key (5 ms)
2025-04-15T08:19:34.4859398Z     ✓ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4859618Z     ✓ should fail due to non-existing workflow (12 ms)
2025-04-15T08:19:34.4859935Z     ✓ should retrieve workflow (12 ms)
2025-04-15T08:19:34.4860148Z     ✓ should retrieve non-owned workflow for owner (11 ms)
2025-04-15T08:19:34.4860382Z     ✓ should retrieve workflow without pinned data (19 ms)
2025-04-15T08:19:34.4860549Z   DELETE /workflows/:id
2025-04-15T08:19:34.4860725Z     ✓ should fail due to missing API Key (8 ms)
2025-04-15T08:19:34.4860922Z     ✓ should fail due to invalid API Key (13 ms)
2025-04-15T08:19:34.4861129Z     ✓ should fail due to non-existing workflow (18 ms)
2025-04-15T08:19:34.4861331Z     ✓ should delete the workflow (18 ms)
2025-04-15T08:19:34.4861546Z     ✓ should delete non-owned workflow when owner (18 ms)
2025-04-15T08:19:34.4861729Z   POST /workflows/:id/activate
2025-04-15T08:19:34.4861905Z     ✓ should fail due to missing API Key (5 ms)
2025-04-15T08:19:34.4862095Z     ✓ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4862307Z     ✓ should fail due to non-existing workflow (8 ms)
2025-04-15T08:19:34.4862585Z     ✓ should fail due to trying to activate a workflow without any nodes (14 ms)
2025-04-15T08:19:34.4862892Z     ✓ should fail due to trying to activate a workflow without a trigger (24 ms)
2025-04-15T08:19:34.4863128Z     ✓ should set workflow as active (44 ms)
2025-04-15T08:19:34.4863358Z     ✓ should set non-owned workflow as active when owner (37 ms)
2025-04-15T08:19:34.4863552Z   POST /workflows/:id/deactivate
2025-04-15T08:19:34.4863735Z     ✓ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.4863930Z     ✓ should fail due to invalid API Key (11 ms)
2025-04-15T08:19:34.4864146Z     ✓ should fail due to non-existing workflow (9 ms)
2025-04-15T08:19:34.4864339Z     ✓ should deactivate workflow (32 ms)
2025-04-15T08:19:34.4864561Z     ✓ should deactivate non-owned workflow when owner (53 ms)
2025-04-15T08:19:34.4864734Z   POST /workflows
2025-04-15T08:19:34.4864897Z     ✓ should fail due to missing API Key (11 ms)
2025-04-15T08:19:34.4865093Z     ✓ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4865415Z     ✓ should fail due to invalid body (17 ms)
2025-04-15T08:19:34.4865608Z     ✓ should create workflow (20 ms)
2025-04-15T08:19:34.4865837Z     ✓ should create workflow history version when licensed (13 ms)
2025-04-15T08:19:34.4866117Z     ✓ should not create workflow history version when not licensed (18 ms)
2025-04-15T08:19:34.4866423Z     ✓ should not add a starting node if the payload has no starting nodes (13 ms)
2025-04-15T08:19:34.4866619Z   PUT /workflows/:id
2025-04-15T08:19:34.4866784Z     ✓ should fail due to missing API Key (6 ms)
2025-04-15T08:19:34.4867023Z     ✓ should fail due to invalid API Key (5 ms)
2025-04-15T08:19:34.4867228Z     ✓ should fail due to non-existing workflow (16 ms)
2025-04-15T08:19:34.4867429Z     ✓ should fail due to invalid body (4 ms)
2025-04-15T08:19:34.4867612Z     ✓ should update workflow (19 ms)
2025-04-15T08:19:34.4867839Z     ✓ should create workflow history version when licensed (30 ms)
2025-04-15T08:19:34.4868203Z     ✓ should not create workflow history when not licensed (18 ms)
2025-04-15T08:19:34.4868447Z     ✓ should update non-owned workflow if owner (26 ms)
2025-04-15T08:19:34.4868617Z   GET /workflows/:id/tags
2025-04-15T08:19:34.4868795Z     ✓ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.4868988Z     ✓ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.4869195Z     ✓ should fail if N8N_WORKFLOW_TAGS_DISABLED (10 ms)
2025-04-15T08:19:34.4869411Z     ✓ should fail due to non-existing workflow (9 ms)
2025-04-15T08:19:34.4869627Z     ✓ should return all tags of owned workflow (19 ms)
2025-04-15T08:19:34.4869879Z     ✓ should return empty array if workflow does not have tags (19 ms)
2025-04-15T08:19:34.4870067Z   PUT /workflows/:id/tags
2025-04-15T08:19:34.4870237Z     ✓ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.4870431Z     ✓ should fail due to invalid API Key (10 ms)
2025-04-15T08:19:34.4870641Z     ✓ should fail if N8N_WORKFLOW_TAGS_DISABLED (12 ms)
2025-04-15T08:19:34.4870857Z     ✓ should fail due to non-existing workflow (5 ms)
2025-04-15T08:19:34.4871198Z     ✓ should add the tags, workflow have not got tags previously (23 ms)
2025-04-15T08:19:34.4871476Z     ✓ should add the tags, workflow have some tags previously (36 ms)
2025-04-15T08:19:34.4871806Z     ✓ should fail to add the tags as one does not exist, workflow should maintain previous tags (30 ms)
2025-04-15T08:19:34.4872041Z   PUT /workflows/:id/transfer
2025-04-15T08:19:34.4872232Z     ✓ should transfer workflow to project (46 ms)
2025-04-15T08:19:34.4872442Z     ✓ if no destination project, should reject (11 ms)
2025-04-15T08:19:34.4872549Z 
2025-04-15T08:19:34.4872705Z PASS test/integration/credentials/credentials.api.test.ts (10.299 s)
2025-04-15T08:19:34.4872908Z   GET /credentials
2025-04-15T08:19:34.4873072Z     ✓ should return all creds for owner (115 ms)
2025-04-15T08:19:34.4873278Z     ✓ should return only own creds for member (70 ms)
2025-04-15T08:19:34.4873554Z     ✓ should return scopes when ?includeScopes=true (122 ms)
2025-04-15T08:19:34.4873787Z     ✓ should return data when ?includeData=true (73 ms)
2025-04-15T08:19:34.4874029Z     ✓ should return data when ?includeData=true for owners (48 ms)
2025-04-15T08:19:34.4874204Z     should return
2025-04-15T08:19:34.4874359Z       ✓ all credentials for owner (72 ms)
2025-04-15T08:19:34.4874555Z       ✓ only own credentials for member (59 ms)
2025-04-15T08:19:34.4874706Z     filter
2025-04-15T08:19:34.4874918Z       ✓ should filter credentials by field: name - full match (46 ms)
2025-04-15T08:19:34.4875202Z       ✓ should filter credentials by field: name - partial match (58 ms)
2025-04-15T08:19:34.4875484Z       ✓ should filter credentials by field: type - full match (56 ms)
2025-04-15T08:19:34.4875754Z       ✓ should filter credentials by field: type - partial match (47 ms)
2025-04-15T08:19:34.4876001Z       ✓ should filter credentials by projectId (56 ms)
2025-04-15T08:19:34.4876279Z       ✓ should return homeProject when filtering credentials by projectId (52 ms)
2025-04-15T08:19:34.4876610Z       ✓ should return all credentials in a team project that member is part of (41 ms)
2025-04-15T08:19:34.4876983Z       ✓ should return no credentials in a team project that member not is part of (54 ms)
2025-04-15T08:19:34.4877390Z       ✓ should return only owned and explicitly shared credentials when filtering by any personal project id (74 ms)
2025-04-15T08:19:34.4877832Z       ✓ should not ignore the project filter when the request is done by an owner and also includes the scopes (39 ms)
2025-04-15T08:19:34.4878079Z     select
2025-04-15T08:19:34.4878243Z       ✓ should select credential field: id (61 ms)
2025-04-15T08:19:34.4878459Z       ✓ should select credential field: name (46 ms)
2025-04-15T08:19:34.4878668Z       ✓ should select credential field: type (50 ms)
2025-04-15T08:19:34.4878823Z     take
2025-04-15T08:19:34.4879011Z       ✓ should return n credentials or less, without skip (55 ms)
2025-04-15T08:19:34.4879365Z       ✓ should return n credentials or less, with skip (59 ms)
2025-04-15T08:19:34.4879545Z   POST /credentials
2025-04-15T08:19:34.4879706Z     ✓ should create cred (32 ms)
2025-04-15T08:19:34.4879893Z     ✓ should fail with invalid inputs (31 ms)
2025-04-15T08:19:34.4880089Z     ✓ should ignore ID in payload (40 ms)
2025-04-15T08:19:34.4880321Z     ✓ creates credential in personal project by default (43 ms)
2025-04-15T08:19:34.4880620Z     ✓ creates credential in a specific project if the projectId is passed (31 ms)
2025-04-15T08:19:34.4880985Z     ✓ does not create the credential in a specific project if the user is not part of the project (57 ms)
2025-04-15T08:19:34.4881232Z   DELETE /credentials/:id
2025-04-15T08:19:34.4881419Z     ✓ should delete owned cred for owner (34 ms)
2025-04-15T08:19:34.4881635Z     ✓ should delete non-owned cred for owner (46 ms)
2025-04-15T08:19:34.4881848Z     ✓ should delete owned cred for member (50 ms)
2025-04-15T08:19:34.4882067Z     ✓ should not delete non-owned cred for member (31 ms)
2025-04-15T08:19:34.4882330Z     ✓ should not delete non-owned but shared cred for member (43 ms)
2025-04-15T08:19:34.4882662Z     ✓ should fail if cred not found (29 ms)
2025-04-15T08:19:34.4882819Z   PATCH /credentials/:id
2025-04-15T08:19:34.4882999Z     ✓ should update owned cred for owner (49 ms)
2025-04-15T08:19:34.4883204Z     ✓ should update non-owned cred for owner (43 ms)
2025-04-15T08:19:34.4883416Z     ✓ should update owned cred for member (26 ms)
2025-04-15T08:19:34.4883633Z     ✓ should not update non-owned cred for member (34 ms)
2025-04-15T08:19:34.4883876Z     ✓ should not update non-owned but shared cred for member (30 ms)
2025-04-15T08:19:34.4884154Z     ✓ should update non-owned but shared cred for instance owner (39 ms)
2025-04-15T08:19:34.4884413Z     ✓ should not allow to overwrite oauthTokenData (53 ms)
2025-04-15T08:19:34.4884628Z     ✓ should fail with invalid inputs (63 ms)
2025-04-15T08:19:34.4884976Z     ✓ should fail with a 404 if the credential does not exist and the actor has the global credential:update scope (32 ms)
2025-04-15T08:19:34.4885442Z     ✓ should fail with a 403 if the credential does not exist and the actor does not have the global credential:update scope (24 ms)
2025-04-15T08:19:34.4885790Z     ✓ should fail with a 400 is credential is managed (48 ms)
2025-04-15T08:19:34.4885967Z   GET /credentials/new
2025-04-15T08:19:34.4886198Z     ✓ should return default name for new credential or its increment (60 ms)
2025-04-15T08:19:34.4886504Z     ✓ should return name from query for new credential or its increment (59 ms)
2025-04-15T08:19:34.4886707Z   GET /credentials/:id
2025-04-15T08:19:34.4886882Z     ✓ should retrieve owned cred for owner (32 ms)
2025-04-15T08:19:34.4887166Z     ✓ should redact the data when `includeData:true` is passed (35 ms)
2025-04-15T08:19:34.4887442Z     ✓ should omit oauth data when `includeData:true` is passed (28 ms)
2025-04-15T08:19:34.4887679Z     ✓ should retrieve owned cred for member (58 ms)
2025-04-15T08:19:34.4887900Z     ✓ should retrieve non-owned cred for owner (32 ms)
2025-04-15T08:19:34.4888237Z     ✓ should not retrieve non-owned cred for member (32 ms)
2025-04-15T08:19:34.4888469Z     ✓ should return 404 if cred not found (33 ms)
2025-04-15T08:19:34.4888629Z   POST /credentials/test
2025-04-15T08:19:34.4888836Z     ✓ should test a credential with unredacted data (47 ms)
2025-04-15T08:19:34.4889070Z     ✓ should test a credential with redacted data (33 ms)
2025-04-15T08:19:34.4889187Z 
2025-04-15T08:19:34.4889359Z PASS test/integration/workflows/workflows.controller.ee.test.ts (10.471 s)
2025-04-15T08:19:34.4889615Z   router should switch based on flag
2025-04-15T08:19:34.4889805Z     ✓ when sharing is disabled (78 ms)
2025-04-15T08:19:34.4889994Z     ✓ when sharing is enabled (30 ms)
2025-04-15T08:19:34.4890165Z   PUT /workflows/:workflowId/share
2025-04-15T08:19:34.4890392Z     ✓ should save sharing with new users (22 ms)
2025-04-15T08:19:34.4890648Z     ✓ should succeed when sharing with invalid user-id (19 ms)
2025-04-15T08:19:34.4891184Z     ✓ should allow sharing with pending users (37 ms)
2025-04-15T08:19:34.4891438Z     ✓ should allow sharing with multiple users (48 ms)
2025-04-15T08:19:34.4891656Z     ✓ should override sharing (28 ms)
2025-04-15T08:19:34.4891891Z     ✓ should allow sharing by the owner of the workflow (38 ms)
2025-04-15T08:19:34.4892151Z     ✓ should allow sharing by the instance owner (28 ms)
2025-04-15T08:19:34.4892406Z     ✓ should not allow sharing by another shared member (18 ms)
2025-04-15T08:19:34.4892683Z     ✓ should not allow sharing with self by another non-shared member (30 ms)
2025-04-15T08:19:34.4892973Z     ✓ should not allow sharing by another non-shared member (22 ms)
2025-04-15T08:19:34.4893300Z     ✓ should not call internal hooks listener for email sent if emailing is disabled (17 ms)
2025-04-15T08:19:34.4893586Z     ✓ should ignore sharing with owner project (29 ms)
2025-04-15T08:19:34.4893859Z     ✓ should ignore sharing with project that already has it shared (38 ms)
2025-04-15T08:19:34.4894057Z   GET /workflows/new
2025-04-15T08:19:34.4894307Z     ✓ should return an auto-incremented name, even when sharing is enabled (22 ms)
2025-04-15T08:19:34.4894769Z     ✓ should return an auto-incremented name, even when sharing is disabled (26 ms)
2025-04-15T08:19:34.4894994Z   GET /workflows/:workflowId
2025-04-15T08:19:34.4895205Z     ✓ should fail with invalid id due to route rule (26 ms)
2025-04-15T08:19:34.4895443Z     ✓ should return 404 for non existing workflow (6 ms)
2025-04-15T08:19:34.4895677Z     ✓ project viewers can view workflows (26 ms)
2025-04-15T08:19:34.4895889Z     ✓ should return a workflow with owner (20 ms)
2025-04-15T08:19:34.4896113Z     ✓ should return tags (26 ms)
2025-04-15T08:19:34.4896330Z     ✓ should return shared workflow with user data (18 ms)
2025-04-15T08:19:34.4896545Z     ✓ should return all sharees (34 ms)
2025-04-15T08:19:34.4896793Z     ✓ should return workflow with credentials owned by user (39 ms)
2025-04-15T08:19:34.4897202Z     ✓ should return workflow with credentials saying owner does have access even when not shared (29 ms)
2025-04-15T08:19:34.4897623Z     ✓ should return workflow with credentials saying admin does have access even when not shared (38 ms)
2025-04-15T08:19:34.4898000Z     ✓ should return workflow with credentials for all users with or without access (61 ms)
2025-04-15T08:19:34.4898336Z     ✓ should return workflow with credentials for all users with access (65 ms)
2025-04-15T08:19:34.4898669Z     ✓ should return workflow credentials home project and shared with projects (34 ms)
2025-04-15T08:19:34.4898895Z   POST /workflows
2025-04-15T08:19:34.4899080Z     ✓ project viewers cannot create workflows (21 ms)
2025-04-15T08:19:34.4899333Z     ✓ Should create a workflow that uses no credential (17 ms)
2025-04-15T08:19:34.4899575Z     ✓ Should save a new workflow with credentials (20 ms)
2025-04-15T08:19:34.4899869Z     ✓ Should not allow saving a workflow using credential you have no access (14 ms)
2025-04-15T08:19:34.4900222Z     ✓ Should allow owner to save a workflow using credential owned by others (25 ms)
2025-04-15T08:19:34.4900586Z     ✓ Should allow saving a workflow using a credential owned by others and shared with you (47 ms)
2025-04-15T08:19:34.4900914Z     ✓ Should create workflow history version when licensed (15 ms)
2025-04-15T08:19:34.4901220Z     ✓ Should not create workflow history version when not licensed (13 ms)
2025-04-15T08:19:34.4901437Z   PATCH /workflows/:workflowId
2025-04-15T08:19:34.4901644Z     ✓ project viewers cannot update workflows (13 ms)
2025-04-15T08:19:34.4901842Z     validate credential permissions to user
2025-04-15T08:19:34.4902086Z       ✓ Should succeed when saving unchanged workflow nodes (33 ms)
2025-04-15T08:19:34.4902412Z       ✓ Should allow owner to add node containing credential not shared with the owner (46 ms)
2025-04-15T08:19:34.4902997Z       ✓ Tamper proofing kicks in if the workflow is owned by the owner and shared with the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (31 ms)
2025-04-15T08:19:34.4903799Z       ✓ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by the member, and the member tries to use the credential in the workflow (19 ms)
2025-04-15T08:19:34.4904416Z       ✓ Tamper proofing kicks in if the workflow is owned by team 1, the credentials is owned by team 2, and the member tries to use the credential in the workflow (31 ms)
2025-04-15T08:19:34.4905033Z       ✓ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (23 ms)
2025-04-15T08:19:34.4905649Z       ✓ Tamper proofing kicks in if the workflow is owned by the member, the credentials is owned by team 2, and the member tries to use the credential in the workflow (16 ms)
2025-04-15T08:19:34.4906143Z       ✓ Should succeed but prevent modifying node attributes other than position, name and disabled (56 ms)
2025-04-15T08:19:34.4906414Z     validate interim updates
2025-04-15T08:19:34.4906689Z       ✓ should block owner updating workflow nodes on interim update by member (73 ms)
2025-04-15T08:19:34.4907150Z       ✓ should block member updating workflow nodes on interim update by owner (80 ms)
2025-04-15T08:19:34.4907467Z       ✓ should block owner activation on interim activation by member (61 ms)
2025-04-15T08:19:34.4907774Z       ✓ should block member activation on interim activation by owner (81 ms)
2025-04-15T08:19:34.4908105Z       ✓ should block member updating workflow settings on interim update by owner (45 ms)
2025-04-15T08:19:34.4908451Z       ✓ should block member updating workflow name on interim update by owner (68 ms)
2025-04-15T08:19:34.4908668Z     workflow history
2025-04-15T08:19:34.4908887Z       ✓ Should create workflow history version when licensed (21 ms)
2025-04-15T08:19:34.4909177Z       ✓ Should not create workflow history version when not licensed (27 ms)
2025-04-15T08:19:34.4909376Z     activate workflow
2025-04-15T08:19:34.4909600Z       ✓ should activate workflow without changing version ID (17 ms)
2025-04-15T08:19:34.4909880Z       ✓ should deactivate workflow without changing version ID (26 ms)
2025-04-15T08:19:34.4910083Z   PUT /:workflowId/transfer
2025-04-15T08:19:34.4910281Z     ✓ cannot transfer into the same project (19 ms)
2025-04-15T08:19:34.4910503Z     ✓ cannot transfer somebody elses workflow (20 ms)
2025-04-15T08:19:34.4910776Z     ✓ cannot transfer if you're not a member of the destination project (22 ms)
2025-04-15T08:19:34.4911045Z     ✓ project:editors cannot transfer workflows (24 ms)
2025-04-15T08:19:34.4911274Z     ✓ project:viewers cannot transfer workflows (29 ms)
2025-04-15T08:19:34.4911571Z     ✓ global owners can transfer workflows from a team project to a team project (45 ms)
2025-04-15T08:19:34.4911924Z     ✓ global owners can transfer workflows from a team project to a personal project (25 ms)
2025-04-15T08:19:34.4912281Z     ✓ global owners can transfer workflows from a personal project to a team project (27 ms)
2025-04-15T08:19:34.4912639Z     ✓ global admins can transfer workflows from a team project to a team project (33 ms)
2025-04-15T08:19:34.4912991Z     ✓ global admins can transfer workflows from a team project to a personal project (27 ms)
2025-04-15T08:19:34.4913348Z     ✓ global admins can transfer workflows from a personal project to a team project (29 ms)
2025-04-15T08:19:34.4913720Z     ✓ removes and re-adds the workflow from the active workflow manager during the transfer (35 ms)
2025-04-15T08:19:34.4914056Z     ✓ should detach workflow from parent folder in source project (38 ms)
2025-04-15T08:19:34.4914513Z     ✓ deactivates the workflow if it cannot be added to the active workflow manager again and returns the WorkflowActivationError as data (27 ms)
2025-04-15T08:19:34.4914988Z     ✓ owner transfers workflow from project they are not part of, e.g. test global cred sharing scope (30 ms)
2025-04-15T08:19:34.4915499Z     ✓ admin transfers workflow from project they are not part of, e.g. test global cred sharing scope (42 ms)
2025-04-15T08:19:34.4915996Z     ✓ member transfers workflow from personal project to team project and wf contains a credential that they can use but not share (38 ms)
2025-04-15T08:19:34.4916497Z     ✓ member transfers workflow from their personal project to another team project in which they have editor role (45 ms)
2025-04-15T08:19:34.4917045Z     ✓ member transfers workflow from a team project as project admin to another team project in which they have editor role (45 ms)
2025-04-15T08:19:34.4917712Z     ✓ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share the credential that is only shared into the source project (31 ms)
2025-04-15T08:19:34.4918400Z     ✓ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share all the credentials (43 ms)
2025-04-15T08:19:34.4918870Z     ✓ returns a 500 if the workflow cannot be activated due to an unknown error (44 ms)
2025-04-15T08:19:34.4919198Z   POST /workflows/:workflowId/run
2025-04-15T08:19:34.4919404Z     ✓ project viewers cannot run workflows (19 ms)
2025-04-15T08:19:34.4919520Z 
2025-04-15T08:19:34.4919693Z PASS test/integration/workflows/workflows.controller.test.ts (11.576 s)
2025-04-15T08:19:34.4919904Z   POST /workflows
2025-04-15T08:19:34.4920092Z     ✓ should store pin data for node in workflow (91 ms)
2025-04-15T08:19:34.4920320Z     ✓ should set pin data to null if no pin data (61 ms)
2025-04-15T08:19:34.4920547Z     ✓ should return scopes on created workflow (46 ms)
2025-04-15T08:19:34.4920803Z     ✓ should create workflow history version when licensed (51 ms)
2025-04-15T08:19:34.4921094Z     ✓ should not create workflow history version when not licensed (67 ms)
2025-04-15T08:19:34.4921369Z     ✓ create workflow in personal project by default (70 ms)
2025-04-15T08:19:34.4921658Z     ✓ creates workflow in a specific project if the projectId is passed (56 ms)
2025-04-15T08:19:34.4922030Z     ✓ does not create the workflow in a specific project if the user is not part of the project (51 ms)
2025-04-15T08:19:34.4922454Z     ✓ does not create the workflow in a specific project if the user does not have the right role to do so (61 ms)
2025-04-15T08:19:34.4922793Z     ✓ create link workflow with folder if one is provided (63 ms)
2025-04-15T08:19:34.4923087Z     ✓ create workflow without parent folder if no folder is provided (52 ms)
2025-04-15T08:19:34.4923466Z     ✓ create workflow without parent is provided folder does not exist in the project (36 ms)
2025-04-15T08:19:34.4923705Z   GET /workflows/:workflowId
2025-04-15T08:19:34.4923878Z     ✓ should return pin data (60 ms)
2025-04-15T08:19:34.4924061Z     ✓ should return tags (46 ms)
2025-04-15T08:19:34.4924206Z   GET /workflows
2025-04-15T08:19:34.4924388Z     ✓ should return zero workflows if none exist (43 ms)
2025-04-15T08:19:34.4924591Z     ✓ should return workflows (61 ms)
2025-04-15T08:19:34.4924854Z     ✓ should return workflows with scopes when ?includeScopes=true (121 ms)
2025-04-15T08:19:34.4925059Z     filter
2025-04-15T08:19:34.4925234Z       ✓ should filter workflows by field: name (50 ms)
2025-04-15T08:19:34.4925460Z       ✓ should filter workflows by field: active (65 ms)
2025-04-15T08:19:34.4925719Z       ✓ should filter workflows by field: tags (AND operator) (90 ms)
2025-04-15T08:19:34.4925965Z       ✓ should filter workflows by projectId (38 ms)
2025-04-15T08:19:34.4926199Z       ✓ should filter workflows by parentFolderId (47 ms)
2025-04-15T08:19:34.4926485Z       ✓ should return homeProject when filtering workflows by projectId (48 ms)
2025-04-15T08:19:34.4926681Z     select
2025-04-15T08:19:34.4926850Z       ✓ should select workflow field: name (49 ms)
2025-04-15T08:19:34.4927109Z       ✓ should select workflow field: active (36 ms)
2025-04-15T08:19:34.4927326Z       ✓ should select workflow field: tags (60 ms)
2025-04-15T08:19:34.4927579Z       ✓ should select workflow fields: createdAt and updatedAt (39 ms)
2025-04-15T08:19:34.4927957Z       ✓ should select workflow field: versionId (50 ms)
2025-04-15T08:19:34.4928291Z       ✓ should select workflow field: ownedBy (40 ms)
2025-04-15T08:19:34.4928526Z       ✓ should select workflow field: parentFolder (59 ms)
2025-04-15T08:19:34.4928691Z     sortBy
2025-04-15T08:19:34.4928893Z       ✓ should fail when trying to sort by non sortable column (56 ms)
2025-04-15T08:19:34.4929129Z       ✓ should sort by createdAt column (42 ms)
2025-04-15T08:19:34.4929327Z       ✓ should sort by name column (81 ms)
2025-04-15T08:19:34.4929527Z       ✓ should sort by updatedAt column (53 ms)
2025-04-15T08:19:34.4929681Z     pagination
2025-04-15T08:19:34.4929889Z       ✓ should fail when skip is provided without take (54 ms)
2025-04-15T08:19:34.4930121Z       ✓ should handle skip with take parameter (59 ms)
2025-04-15T08:19:34.4930340Z       ✓ should handle pagination with sorting (58 ms)
2025-04-15T08:19:34.4930562Z       ✓ should handle pagination with filtering (64 ms)
2025-04-15T08:19:34.4930840Z       ✓ should return empty array when pagination exceeds total count (54 ms)
2025-04-15T08:19:34.4931434Z       ✓ should return all results when no pagination parameters are provided (51 ms)
2025-04-15T08:19:34.4931666Z   GET /workflows?includeFolders=true
2025-04-15T08:19:34.4931905Z     ✓ should return zero workflows and folders if none exist (34 ms)
2025-04-15T08:19:34.4932151Z     ✓ should return workflows and folders (61 ms)
2025-04-15T08:19:34.4932435Z     ✓ should return workflows with scopes and folders when ?includeScopes=true (84 ms)
2025-04-15T08:19:34.4932647Z     filter
2025-04-15T08:19:34.4932848Z       ✓ should filter workflows and folders by field: name (48 ms)
2025-04-15T08:19:34.4933116Z       ✓ should filter workflows and folders by field: active (42 ms)
2025-04-15T08:19:34.4933407Z       ✓ should filter workflows and folders by field: tags (AND operator) (61 ms)
2025-04-15T08:19:34.4933711Z       ✓ should filter workflows by projectId (56 ms)
2025-04-15T08:19:34.4934034Z       ✓ should filter workflows by parentFolderId and its descendants when filtering by name (47 ms)
2025-04-15T08:19:34.4934417Z       ✓ should return homeProject when filtering workflows and folders by projectId (38 ms)
2025-04-15T08:19:34.4934640Z     sortBy
2025-04-15T08:19:34.4934842Z       ✓ should fail when trying to sort by non sortable column (35 ms)
2025-04-15T08:19:34.4935080Z       ✓ should sort by createdAt column (43 ms)
2025-04-15T08:19:34.4935274Z       ✓ should sort by name column (37 ms)
2025-04-15T08:19:34.4935470Z       ✓ should sort by updatedAt column (31 ms)
2025-04-15T08:19:34.4935623Z     pagination
2025-04-15T08:19:34.4935810Z       ✓ should fail when skip is provided without take (34 ms)
2025-04-15T08:19:34.4936045Z       ✓ should handle skip with take parameter (44 ms)
2025-04-15T08:19:34.4936272Z       ✓ should handle pagination with sorting (47 ms)
2025-04-15T08:19:34.4936499Z       ✓ should handle pagination with filtering (89 ms)
2025-04-15T08:19:34.4936775Z       ✓ should return empty array when pagination exceeds total count (53 ms)
2025-04-15T08:19:34.4937140Z       ✓ should return all results when no pagination parameters are provided (42 ms)
2025-04-15T08:19:34.4937365Z   PATCH /workflows/:workflowId
2025-04-15T08:19:34.4937594Z     ✓ should create workflow history version when licensed (59 ms)
2025-04-15T08:19:34.4937882Z     ✓ should not create workflow history version when not licensed (43 ms)
2025-04-15T08:19:34.4938164Z     ✓ should activate workflow without changing version ID (46 ms)
2025-04-15T08:19:34.4938439Z     ✓ should deactivate workflow without changing version ID (41 ms)
2025-04-15T08:19:34.4938668Z     ✓ should update workflow meta (37 ms)
2025-04-15T08:19:34.4938866Z     ✓ should move workflow to folder (58 ms)
2025-04-15T08:19:34.4939081Z     ✓ should move workflow to project root (40 ms)
2025-04-15T08:19:34.4939417Z     ✓ should fail if trying update workflow parent folder with a folder that does not belong to project (49 ms)
2025-04-15T08:19:34.4939812Z   POST /workflows/:workflowId/run
2025-04-15T08:19:34.4940039Z     ✓ should prevent tampering if sharing is enabled (39 ms)
2025-04-15T08:19:34.4940312Z     ✓ should skip tampering prevention if sharing is disabled (34 ms)
2025-04-15T08:19:34.4940531Z   DELETE /workflows/:workflowId
2025-04-15T08:19:34.4940730Z     ✓ deletes a workflow owned by the user (34 ms)
2025-04-15T08:19:34.4941013Z     ✓ deletes a workflow owned by the user, even if the user is just a member (30 ms)
2025-04-15T08:19:34.4941312Z     ✓ does not delete a workflow that is not owned by the user (41 ms)
2025-04-15T08:19:34.4941580Z     ✓ allows the owner to delete workflows they don't own (40 ms)
2025-04-15T08:19:34.4941718Z 
2025-04-15T08:19:34.4941840Z PASS src/events/__tests__/telemetry-event-relay.test.ts
2025-04-15T08:19:34.4942026Z   TelemetryEventRelay
2025-04-15T08:19:34.4942151Z     init
2025-04-15T08:19:34.4942389Z       ✓ with diagnostics enabled, should init telemetry and register listeners (3 ms)
2025-04-15T08:19:34.4942747Z       ✓ with diagnostics disabled, should neither init telemetry nor register listeners (1 ms)
2025-04-15T08:19:34.4943067Z     project events
2025-04-15T08:19:34.4943264Z       ✓ should track on `team-project-updated` event (1 ms)
2025-04-15T08:19:34.4943503Z       ✓ should track on `team-project-deleted` event
2025-04-15T08:19:34.4943723Z       ✓ should track on `team-project-created` event
2025-04-15T08:19:34.4943887Z     source control events
2025-04-15T08:19:34.4944120Z       ✓ should track on `source-control-settings-updated` event (1 ms)
2025-04-15T08:19:34.4944398Z       ✓ should track on `source-control-user-started-pull-ui` event
2025-04-15T08:19:34.4944674Z       ✓ should track on `source-control-user-finished-pull-ui` event
2025-04-15T08:19:34.4944959Z       ✓ should track on `source-control-user-pulled-api` event (1 ms)
2025-04-15T08:19:34.4945234Z       ✓ should track on `source-control-user-started-push-ui` event
2025-04-15T08:19:34.4945510Z       ✓ should track on `source-control-user-finished-push-ui` event
2025-04-15T08:19:34.4945706Z     license events
2025-04-15T08:19:34.4945904Z       ✓ should track on `license-renewal-attempted` event
2025-04-15T08:19:34.4946073Z     variable events
2025-04-15T08:19:34.4946248Z       ✓ should track on `variable-created` event
2025-04-15T08:19:34.4946412Z     external secrets events
2025-04-15T08:19:34.4946649Z       ✓ should track on `external-secrets-provider-settings-saved` event
2025-04-15T08:19:34.4946853Z     public API events
2025-04-15T08:19:34.4947435Z       ✓ should track on `public-api-invoked` event
2025-04-15T08:19:34.4947809Z       ✓ should track on `public-api-key-created` event (1 ms)
2025-04-15T08:19:34.4948062Z       ✓ should track on `public-api-key-deleted` event
2025-04-15T08:19:34.4948246Z     community package events
2025-04-15T08:19:34.4948464Z       ✓ should track on `community-package-installed` event
2025-04-15T08:19:34.4948713Z       ✓ should track on `community-package-updated` event
2025-04-15T08:19:34.4948989Z       ✓ should track on `community-package-deleted` event (1 ms)
2025-04-15T08:19:34.4949188Z     credentials events
2025-04-15T08:19:34.4949391Z       ✓ should track on `credentials-created` event (3 ms)
2025-04-15T08:19:34.4949626Z       ✓ should track on `credentials-shared` event
2025-04-15T08:19:34.4949854Z       ✓ should track on `credentials-updated` event
2025-04-15T08:19:34.4950084Z       ✓ should track on `credentials-deleted` event (1 ms)
2025-04-15T08:19:34.4950254Z     LDAP events
2025-04-15T08:19:34.4950439Z       ✓ should track on `ldap-general-sync-finished` event
2025-04-15T08:19:34.4950666Z       ✓ should track on `ldap-settings-updated` event
2025-04-15T08:19:34.4950892Z       ✓ should track on `ldap-login-sync-failed` event
2025-04-15T08:19:34.4951160Z       ✓ should track on `login-failed-due-to-ldap-disabled` event (1 ms)
2025-04-15T08:19:34.4951358Z     workflow events
2025-04-15T08:19:34.4951541Z       ✓ should track on `workflow-created` event (1 ms)
2025-04-15T08:19:34.4951944Z       ✓ should track on `workflow-deleted` event (1 ms)
2025-04-15T08:19:34.4952199Z       ✓ should track on `workflow-post-execute` event (68 ms)
2025-04-15T08:19:34.4952444Z       ✓ should track on `workflow-saved` event (6 ms)
2025-04-15T08:19:34.4952673Z       ✓ should track on `workflow-sharing-updated` event
2025-04-15T08:19:34.4952834Z     user events
2025-04-15T08:19:34.4952995Z       ✓ should track on `user-updated` event
2025-04-15T08:19:34.4953192Z       ✓ should track on `user-deleted` event
2025-04-15T08:19:34.4953385Z       ✓ should track on `user-invited` event
2025-04-15T08:19:34.4953623Z       ✓ should track on `user-signed-up` event
2025-04-15T08:19:34.4953889Z       ✓ should track on `user-submitted-personalization-survey` event (1 ms)
2025-04-15T08:19:34.4954150Z       ✓ should track on `user-changed-role` event
2025-04-15T08:19:34.4954360Z       ✓ should track on `user-retrieved-user` event
2025-04-15T08:19:34.4954600Z       ✓ should track on `user-retrieved-all-users` event (1 ms)
2025-04-15T08:19:34.4954779Z     lifecycle events
2025-04-15T08:19:34.4954987Z       ✓ should track on `server-started` event (2 ms)
2025-04-15T08:19:34.4955306Z       ✓ should track on `session-started` event
2025-04-15T08:19:34.4955514Z       ✓ should track on `instance-stopped` event
2025-04-15T08:19:34.4955733Z       ✓ should track on `instance-owner-setup` event
2025-04-15T08:19:34.4955904Z     workflow execution events
2025-04-15T08:19:34.4956137Z       ✓ should track on `first-production-workflow-succeeded` event
2025-04-15T08:19:34.4956409Z       ✓ should track on `first-workflow-data-loaded` event (1 ms)
2025-04-15T08:19:34.4956587Z     email events
2025-04-15T08:19:34.4956751Z       ✓ should track on `email-failed` event
2025-04-15T08:19:34.4956910Z     Community+ registered
2025-04-15T08:19:34.4957195Z       ✓ should track `license-community-plus-registered` event
2025-04-15T08:19:34.4957396Z     workflow post execute events
2025-04-15T08:19:34.4957586Z       ✓ should not track when workflow has no id
2025-04-15T08:19:34.4957814Z       ✓ should track successful workflow execution (2 ms)
2025-04-15T08:19:34.4958099Z       ✓ should call telemetry.track when manual node execution finished (1 ms)
2025-04-15T08:19:34.4958471Z       ✓ should call telemetry.track when manual node execution finished with canceled error message (1 ms)
2025-04-15T08:19:34.4958840Z       ✓ should call telemetry.track when manual workflow execution finished (16 ms)
2025-04-15T08:19:34.4959266Z       ✓ should call telemetry.track when manual node execution finished with is_managed and credential_type properties (1 ms)
2025-04-15T08:19:34.4959650Z       ✓ should call telemetry.track when user ran out of free AI credits (2 ms)
2025-04-15T08:19:34.4959800Z 
2025-04-15T08:19:34.4959918Z PASS src/ldap.ee/__tests__/ldap.service.test.ts
2025-04-15T08:19:34.4960094Z   LdapService
2025-04-15T08:19:34.4960210Z     init()
2025-04-15T08:19:34.4960381Z       ✓ should load the LDAP configuration (3 ms)
2025-04-15T08:19:34.4960700Z       ✓ should set expected configuration variables from LDAP config if LDAP is enabled (1 ms)
2025-04-15T08:19:34.4961087Z       ✓ should set expected configuration variables from LDAP config if LDAP is disabled (1 ms)
2025-04-15T08:19:34.4961441Z       ✓ should show logger warning if authentication method is not ldap or email (1 ms)
2025-04-15T08:19:34.4961745Z       ✓ should schedule syncing if config has enabled synchronization
2025-04-15T08:19:34.4962119Z       ✓ should throw an error if config has enabled synchronization but no synchronizationInterval is set (24 ms)
2025-04-15T08:19:34.4962375Z     loadConfig()
2025-04-15T08:19:34.4962596Z       ✓ should retrieve the LDAP configuration from the settings repository
2025-04-15T08:19:34.4962916Z       ✓ should throw an expected error if the LDAP configuration is not found (1 ms)
2025-04-15T08:19:34.4963214Z       ✓ should decipher the LDAP configuration admin password (2 ms)
2025-04-15T08:19:34.4963475Z       ✓ should return the expected LDAP configuration (1 ms)
2025-04-15T08:19:34.4963653Z     updateConfig()
2025-04-15T08:19:34.4963993Z       ✓ should throw expected error if the LDAP configuration is invalid (2 ms)
2025-04-15T08:19:34.4964374Z       ✓ should throw expected error if login is enabled and the current authentication method is "saml" (1 ms)
2025-04-15T08:19:34.4964683Z       ✓ should encrypt the binding admin password (3 ms)
2025-04-15T08:19:34.4964981Z       ✓ should delete all ldap identities if login is disabled and ldap users exist (2 ms)
2025-04-15T08:19:34.4965359Z       ✓ should not delete ldap identities if login is disabled and there are no ldap identities (1 ms)
2025-04-15T08:19:34.4965692Z       ✓ should update the LDAP configuration in the settings repository
2025-04-15T08:19:34.4965960Z       ✓ should update the LDAP login label in the config (1 ms)
2025-04-15T08:19:34.4966141Z     setConfig()
2025-04-15T08:19:34.4966396Z       ✓ should stop synchronization if the timer is running and the config is disabled
2025-04-15T08:19:34.4966774Z       ✓ should schedule synchronization if the timer is not running and the config is enabled (1 ms)
2025-04-15T08:19:34.4967352Z       ✓ should throw an error if the timer is not running and the config is enabled but the synchronizationInterval is not set
2025-04-15T08:19:34.4967758Z       ✓ should restart synchronization if the timer is running and the config is enabled (1 ms)
2025-04-15T08:19:34.4967994Z     searchWithAdminBinding()
2025-04-15T08:19:34.4968276Z       ✓ should bind admin client
2025-04-15T08:19:34.4968508Z       ✓ should call client search with expected parameters (1 ms)
2025-04-15T08:19:34.4968811Z       ✓ should call client search with expected parameters when searchPageSize is 0
2025-04-15T08:19:34.4969068Z       ✓ should unbind client after search (1 ms)
2025-04-15T08:19:34.4969275Z       ✓ should return expected search entries
2025-04-15T08:19:34.4969427Z     validUser()
2025-04-15T08:19:34.4969651Z       ✓ should throw expected error if no configuration has been set (1 ms)
2025-04-15T08:19:34.4969993Z       ✓ should bind the ldap client with the expected distinguished name and password
2025-04-15T08:19:34.4970289Z       ✓ should throw expected error if binding fails
2025-04-15T08:19:34.4970497Z       ✓ should unbind the client binding
2025-04-15T08:19:34.4970681Z     findAndAuthenticateLdapUser()
2025-04-15T08:19:34.4970882Z       ✓ should search for expected admin login ID
2025-04-15T08:19:34.4971133Z       ✓ should emit expected error if admin search fails (1 ms)
2025-04-15T08:19:34.4971371Z       ✓ should return undefined if no user is found
2025-04-15T08:19:34.4971574Z       ✓ should validate found user
2025-04-15T08:19:34.4971802Z       ✓ should validate last user if more than one is found (2 ms)
2025-04-15T08:19:34.4972047Z       ✓ should return undefined if invalid user is found
2025-04-15T08:19:34.4972275Z       ✓ should resolve binary attributes for found user
2025-04-15T08:19:34.4972494Z       ✓ should return found user (1 ms)
2025-04-15T08:19:34.4972643Z     testConnection()
2025-04-15T08:19:34.4972852Z       ✓ should throw expected error if init() is not called first
2025-04-15T08:19:34.4973181Z       ✓ should create a new client without TLS if connectionSecurity is set to "none" (1 ms)
2025-04-15T08:19:34.4973667Z       ✓ should create a new client with TLS enabled if connectionSecurity is set to "tls" and allowing unauthorized certificates
2025-04-15T08:19:34.4974159Z       ✓ should create a new client with TLS enabled if connectionSecurity is set to "tls" and not allowing unauthorized certificates
2025-04-15T08:19:34.4974583Z       ✓ should create a new client and start TLS if connectionSecurity is set to "startTls"
2025-04-15T08:19:34.4974915Z       ✓ should not create a new client if one has already been created (5 ms)
2025-04-15T08:19:34.4975117Z     runSync()
2025-04-15T08:19:34.4975326Z       ✓ should search for users with expected parameters (1 ms)
2025-04-15T08:19:34.4975588Z       ✓ should resolve binary attributes for users (2 ms)
2025-04-15T08:19:34.4975824Z       ✓ should throw expected error if search fails (1 ms)
2025-04-15T08:19:34.4976217Z       ✓ should process expected users if mode is "live" (1 ms)
2025-04-15T08:19:34.4976471Z       ✓ should sync expected LDAP data when no errors (1 ms)
2025-04-15T08:19:34.4976752Z       ✓ should sync expected LDAP data when users fail to process (1 ms)
2025-04-15T08:19:34.4977095Z       ✓ should emit expected event if synchronization is enabled (3 ms)
2025-04-15T08:19:34.4977383Z       ✓ should emit expected event if synchronization is disabled (1 ms)
2025-04-15T08:19:34.4977673Z       ✓ should emit expected event with error message if processUsers fails
2025-04-15T08:19:34.4977871Z     stopSync()
2025-04-15T08:19:34.4978031Z       ✓ should clear the scheduled timer
2025-04-15T08:19:34.4978139Z 
2025-04-15T08:19:34.4978307Z PASS test/integration/credentials/credentials.api.ee.test.ts (6.406 s)
2025-04-15T08:19:34.4978523Z   POST /credentials
2025-04-15T08:19:34.4978714Z     ✓ project viewers cannot create credentials (89 ms)
2025-04-15T08:19:34.4978887Z   GET /credentials
2025-04-15T08:19:34.4979061Z     ✓ should return all creds for owner (61 ms)
2025-04-15T08:19:34.4979400Z     ✓ should return only relevant creds for member (45 ms)
2025-04-15T08:19:34.4979738Z     ✓ should show credentials that the user has access to through a team project they are part of (51 ms)
2025-04-15T08:19:34.4980003Z   GET /credentials/for-workflow
2025-04-15T08:19:34.4980147Z     for team projects
2025-04-15T08:19:34.4980515Z       ✓ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "member" (57 ms)
2025-04-15T08:19:34.4981025Z       ✓ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "member" (63 ms)
2025-04-15T08:19:34.4981531Z       ✓ it will only return the credentials in that project if "workflowId" is used as the query parameter and the actor is a "owner" (74 ms)
2025-04-15T08:19:34.4982041Z       ✓ it will only return the credentials in that project if "projectId" is used as the query parameter and the actor is a "owner" (75 ms)
2025-04-15T08:19:34.4982331Z     for personal projects
2025-04-15T08:19:34.4982651Z       ✓ it returns only personal credentials for a members, if "projectId" is used as the query parameter (111 ms)
2025-04-15T08:19:34.4983082Z       ✓ it returns only personal credentials for a members, if "workflowId" is used as the query parameter (88 ms)
2025-04-15T08:19:34.4983649Z       ✓ if the actor is a global owner and the workflow has not been shared with them, it returns all credentials of all projects the workflow is part of (109 ms)
2025-04-15T08:19:34.4984228Z       ✓ if the actor is a global owner and the workflow has been shared with them, it returns all credentials of all projects the workflow is part of (96 ms)
2025-04-15T08:19:34.4984694Z       ✓ if the projectId is passed by a global owner it will return all credentials in that project (90 ms)
2025-04-15T08:19:34.4985202Z       ✓ if the global owner owns the workflow it will return all credentials of all personal projects, when using "workflowId" as the query parameter (67 ms)
2025-04-15T08:19:34.4985779Z       ✓ if the global owner owns the workflow it will return all credentials of all personal projects, when using "projectId" as the query parameter (47 ms)
2025-04-15T08:19:34.4986089Z   GET /credentials/:id
2025-04-15T08:19:34.4986274Z     ✓ project viewers can view credentials (33 ms)
2025-04-15T08:19:34.4986506Z     ✓ should retrieve owned cred for owner (50 ms)
2025-04-15T08:19:34.4986760Z     ✓ should redact the data when `includeData:true` is passed (49 ms)
2025-04-15T08:19:34.4987076Z     ✓ should retrieve non-owned cred for owner (96 ms)
2025-04-15T08:19:34.4987307Z     ✓ should retrieve owned cred for member (63 ms)
2025-04-15T08:19:34.4987549Z     ✓ should not retrieve non-owned cred for member (103 ms)
2025-04-15T08:19:34.4987781Z     ✓ should return 404 if cred not found (52 ms)
2025-04-15T08:19:34.4987951Z   PATCH /credentials/:id
2025-04-15T08:19:34.4988261Z     ✓ project viewer cannot update credentials (61 ms)
2025-04-15T08:19:34.4988442Z   PUT /credentials/:id/share
2025-04-15T08:19:34.4988737Z     ✓ should share the credential with the provided userIds and unshare it for missing ones (96 ms)
2025-04-15T08:19:34.4989066Z     ✓ should share the credential with the provided userIds (56 ms)
2025-04-15T08:19:34.4989328Z     ✓ should respond 403 for non-existing credentials (40 ms)
2025-04-15T08:19:34.4989617Z     ✓ should respond 403 for non-owned credentials for shared members (77 ms)
2025-04-15T08:19:34.4989967Z     ✓ should respond 403 for non-owned credentials for non-shared members sharing with self (64 ms)
2025-04-15T08:19:34.4990333Z     ✓ should respond 403 for non-owned credentials for non-shared members sharing (73 ms)
2025-04-15T08:19:34.4990645Z     ✓ should respond 200 for non-owned credentials for owners (46 ms)
2025-04-15T08:19:34.4990887Z     ✓ should not ignore pending sharee (46 ms)
2025-04-15T08:19:34.4991094Z     ✓ should ignore non-existing sharee (41 ms)
2025-04-15T08:19:34.4991324Z     ✓ should ignore sharing with owner project (45 ms)
2025-04-15T08:19:34.4991691Z     ✓ should ignore sharing with project that already has it shared (73 ms)
2025-04-15T08:19:34.4991975Z     ✓ should respond 400 if invalid payload is provided (71 ms)
2025-04-15T08:19:34.4992201Z     ✓ should unshare the credential (51 ms)
2025-04-15T08:19:34.4992492Z     ✓ should not call internal hooks listener for email sent if emailing is disabled (53 ms)
2025-04-15T08:19:34.4992887Z     ✓ member should be able to share from personal project to team project that member has access to (47 ms)
2025-04-15T08:19:34.4993255Z     ✓ member should be able to share from team project to personal project (61 ms)
2025-04-15T08:19:34.4993660Z     ✓ member should be able to share from team project to team project that member has access to (57 ms)
2025-04-15T08:19:34.4994020Z     ✓ admins should be able to share from any team project to any team project  (62 ms)
2025-04-15T08:19:34.4994392Z     ✓ admins should be able to share from any team project to any user's personal project  (50 ms)
2025-04-15T08:19:34.4994755Z     ✓ admins should be able to share from any personal project to any team project  (73 ms)
2025-04-15T08:19:34.4994986Z   PUT /:credentialId/transfer
2025-04-15T08:19:34.4995187Z     ✓ cannot transfer into the same project (64 ms)
2025-04-15T08:19:34.4995423Z     ✓ cannot transfer somebody elses credential (57 ms)
2025-04-15T08:19:34.4995706Z     ✓ cannot transfer if you're not a member of the destination project (47 ms)
2025-04-15T08:19:34.4995980Z     ✓ project:editors cannot transfer credentials (61 ms)
2025-04-15T08:19:34.4996215Z     ✓ project:viewers cannot transfer credentials (60 ms)
2025-04-15T08:19:34.4996495Z     ✓ owners can always transfer from a team project to a team project (61 ms)
2025-04-15T08:19:34.4996817Z     ✓ owners can always transfer from a team project to a personal project (66 ms)
2025-04-15T08:19:34.4997184Z     ✓ owners can always transfer from a personal project to a team project (60 ms)
2025-04-15T08:19:34.4997595Z     ✓ admins can always transfer from a team project to a team project (48 ms)
2025-04-15T08:19:34.4997914Z     ✓ admins can always transfer from a team project to a personal project (39 ms)
2025-04-15T08:19:34.4998229Z     ✓ admins can always transfer from a personal project to a team project (47 ms)
2025-04-15T08:19:34.4998387Z 
2025-04-15T08:19:34.4998555Z PASS src/evaluation.ee/test-runner/__tests__/test-runner.service.ee.test.ts
2025-04-15T08:19:34.4998773Z   TestRunnerService
2025-04-15T08:19:34.4998974Z     ✓ should create an instance of TestRunnerService (3 ms)
2025-04-15T08:19:34.4999239Z     ✓ should create and run test cases from past executions (6 ms)
2025-04-15T08:19:34.4999528Z     ✓ should run both workflow under test and evaluation workflow (14 ms)
2025-04-15T08:19:34.4999807Z     ✓ should properly count passed and failed executions (5 ms)
2025-04-15T08:19:34.5000059Z     ✓ should properly count failed test executions (3 ms)
2025-04-15T08:19:34.5000298Z     ✓ should properly count failed evaluations (3 ms)
2025-04-15T08:19:34.5000721Z     ✓ should specify correct start nodes when running workflow under test (6 ms)
2025-04-15T08:19:34.5000999Z     ✓ should properly choose trigger and start nodes (2 ms)
2025-04-15T08:19:34.5001245Z     ✓ should properly choose trigger and start nodes 2
2025-04-15T08:19:34.5001495Z     ✓ should properly run test when nodes were renamed (3 ms)
2025-04-15T08:19:34.5001738Z     ✓ should properly choose trigger when it was renamed
2025-04-15T08:19:34.5002020Z     ✓ should create proper execution data for queue mode in runTestCase (1 ms)
2025-04-15T08:19:34.5002342Z     ✓ should create proper execution data for regular mode in runTestCase (6 ms)
2025-04-15T08:19:34.5002678Z     ✓ should run workflow with metrics defined in the middle of the workflow (4 ms)
2025-04-15T08:19:34.5003010Z     ✓ should properly override metrics from earlier nodes with later ones (3 ms)
2025-04-15T08:19:34.5003224Z     Test Run cancellation
2025-04-15T08:19:34.5003405Z       ✓ should cancel test run (5 ms)
2025-04-15T08:19:34.5003513Z 
2025-04-15T08:19:34.5003645Z PASS test/integration/project.api.test.ts
2025-04-15T08:19:34.5003813Z   GET /projects/
2025-04-15T08:19:34.5004072Z     ✓ member should get all personal projects and team projects they are apart of (53 ms)
2025-04-15T08:19:34.5004342Z     ✓ owner should get all projects (30 ms)
2025-04-15T08:19:34.5004496Z   GET /projects/count
2025-04-15T08:19:34.5004684Z     ✓ should return correct number of projects (20 ms)
2025-04-15T08:19:34.5004860Z   GET /projects/my-projects
2025-04-15T08:19:34.5005076Z     ✓ member should get all projects they are apart of (35 ms)
2025-04-15T08:19:34.5005329Z     ✓ owner should get all projects they are apart of (37 ms)
2025-04-15T08:19:34.5005504Z   GET /projects/personal
2025-04-15T08:19:34.5005701Z     ✓ should return the user's personal project (28 ms)
2025-04-15T08:19:34.5005966Z     ✓ should return 404 if user doesn't have a personal project (29 ms)
2025-04-15T08:19:34.5006165Z   POST /projects/
2025-04-15T08:19:34.5006336Z     ✓ should create a team project (17 ms)
2025-04-15T08:19:34.5006581Z     ✓ should allow to create a team projects if below the quota (19 ms)
2025-04-15T08:19:34.5006849Z     ✓ should fail to create a team project if at quota (40 ms)
2025-04-15T08:19:34.5007144Z     ✓ should fail to create a team project if above the quota (32 ms)
2025-04-15T08:19:34.5007338Z   PATCH /projects/:projectId
2025-04-15T08:19:34.5007532Z     ✓ should update a team project name (31 ms)
2025-04-15T08:19:34.5007775Z     ✓ should not allow viewers to edit team project name (16 ms)
2025-04-15T08:19:34.5008045Z     ✓ should not allow owners to edit personal project name (18 ms)
2025-04-15T08:19:34.5008752Z     member management
2025-04-15T08:19:34.5008951Z       ✓ should add or remove users from a project (66 ms)
2025-04-15T08:19:34.5009267Z       ✓ `project:viewer`s should not be able to add, update or remove users from a project (21 ms)
2025-04-15T08:19:34.5009935Z       ✓ `project:editor`s should not be able to add, update or remove users from a project (25 ms)
2025-04-15T08:19:34.5010314Z       ✓ should not be able to add a user with the role project:viewer if it's not licensed (75 ms)
2025-04-15T08:19:34.5010666Z       ✓ should not be able to add a user with the role project:editor if it's not licensed (35 ms)
2025-04-15T08:19:34.5011046Z       ✓ should not edit a relation of a project when changing a user's role to an unlicensed role (33 ms)
2025-04-15T08:19:34.5011506Z       ✓ should  edit a relation of a project when changing a user's role to an licensed role but unlicensed roles are present (30 ms)
2025-04-15T08:19:34.5011873Z       ✓ should not add or remove users from a personal project (17 ms)
2025-04-15T08:19:34.5012063Z   GET /project/:projectId
2025-04-15T08:19:34.5012259Z     ✓ should get project details and relations (25 ms)
2025-04-15T08:19:34.5012431Z   DELETE /project/:projectId
2025-04-15T08:19:34.5012640Z     ✓ allows the project:owner to delete a project (56 ms)
2025-04-15T08:19:34.5012951Z     ✓ allows the instance owner to delete a team project their are not related to (23 ms)
2025-04-15T08:19:34.5013407Z     ✓ does not allow instance members to delete their personal project (13 ms)
2025-04-15T08:19:34.5013760Z     ✓ does not allow instance owners to delete their personal projects (12 ms)
2025-04-15T08:19:34.5014079Z     ✓ does not allow users with the role project:editor to delete a project (20 ms)
2025-04-15T08:19:34.5014402Z     ✓ does not allow users with the role project:viewer to delete a project (14 ms)
2025-04-15T08:19:34.5014773Z     ✓ deletes all workflows and credentials it owns as well as the sharings into other projects (75 ms)
2025-04-15T08:19:34.5015153Z     ✓ unshares all workflows and credentials that were shared with the project (66 ms)
2025-04-15T08:19:34.5015424Z     ✓ deletes the project relations (43 ms)
2025-04-15T08:19:34.5015670Z     ✓ should fail if the project to delete does not exist (11 ms)
2025-04-15T08:19:34.5016011Z     ✓ should fail to delete if project to migrate to and the project to delete are the same (15 ms)
2025-04-15T08:19:34.5016523Z     ✓ does not migrate credentials and projects if the user does not have the permissions to create workflows or credentials in the target project (16 ms)
2025-04-15T08:19:34.5017085Z     ✓ migrates folders, workflows and credentials to another project if `migrateToProject` is passed (77 ms)
2025-04-15T08:19:34.5017510Z     ✓ should upgrade a projects role if the workflow/credential is already shared with it (65 ms)
2025-04-15T08:19:34.5017705Z 
2025-04-15T08:19:34.5017859Z PASS test/integration/folder/folder.controller.test.ts (5.979 s)
2025-04-15T08:19:34.5018082Z   POST /projects/:projectId/folders
2025-04-15T08:19:34.5018325Z     ✓ should not create folder when project does not exist (63 ms)
2025-04-15T08:19:34.5018583Z     ✓ should not create folder when name is empty (34 ms)
2025-04-15T08:19:34.5018877Z     ✓ should not create folder if user has project:viewer role in team project (36 ms)
2025-04-15T08:19:34.5019220Z     ✓ should not allow creating folder in another user's personal project (27 ms)
2025-04-15T08:19:34.5019556Z     ✓ should create folder if user has project:editor role in team project (43 ms)
2025-04-15T08:19:34.5019878Z     ✓ should create folder if user has project:admin role in team project (45 ms)
2025-04-15T08:19:34.5020221Z     ✓ should not allow creating folder with parent that exists in another project (51 ms)
2025-04-15T08:19:34.5020527Z     ✓ should create folder in root of specified project (42 ms)
2025-04-15T08:19:34.5020823Z     ✓ should create folder in specified project within another folder (31 ms)
2025-04-15T08:19:34.5021091Z     ✓ should create folder in personal project (38 ms)
2025-04-15T08:19:34.5021294Z   GET /projects/:projectId/folders/:folderId/tree
2025-04-15T08:19:34.5021551Z     ✓ should not get folder tree when project does not exist (21 ms)
2025-04-15T08:19:34.5021824Z     ✓ should not get folder tree when folder does not exist (33 ms)
2025-04-15T08:19:34.5022212Z     ✓ should not get folder tree if user has no access to project (54 ms)
2025-04-15T08:19:34.5022545Z     ✓ should not allow getting folder tree from another user's personal project (58 ms)
2025-04-15T08:19:34.5022820Z     ✓ should get nested folder structure (35 ms)
2025-04-15T08:19:34.5023013Z   PATCH /projects/:projectId/folders/:folderId
2025-04-15T08:19:34.5023262Z     ✓ should not update folder when project does not exist (24 ms)
2025-04-15T08:19:34.5023533Z     ✓ should not update folder when folder does not exist (24 ms)
2025-04-15T08:19:34.5023784Z     ✓ should not update folder when name is empty (41 ms)
2025-04-15T08:19:34.5024118Z     ✓ should not update folder if user has project:viewer role in team project (23 ms)
2025-04-15T08:19:34.5024446Z     ✓ should not allow updating folder in another user's personal project (51 ms)
2025-04-15T08:19:34.5024765Z     ✓ should update folder if user has project:editor role in team project (53 ms)
2025-04-15T08:19:34.5025085Z     ✓ should update folder if user has project:admin role in team project (33 ms)
2025-04-15T08:19:34.5025448Z     ✓ should update folder in personal project (30 ms)
2025-04-15T08:19:34.5025653Z     ✓ should update folder tags (35 ms)
2025-04-15T08:19:34.5025880Z     ✓ should replace existing folder tags with new ones (26 ms)
2025-04-15T08:19:34.5026122Z     ✓ should update folder parent folder ID (28 ms)
2025-04-15T08:19:34.5026400Z     ✓ should not update folder parent when target folder does not exist (25 ms)
2025-04-15T08:19:34.5026728Z     ✓ should not update folder parent when target folder is in another project (36 ms)
2025-04-15T08:19:34.5027111Z     ✓ should allow moving a folder to root level by setting parentFolderId to "0" (43 ms)
2025-04-15T08:19:34.5027468Z     ✓ should not update folder parent if user has project:viewer role in team project (52 ms)
2025-04-15T08:19:34.5027844Z     ✓ should update folder parent folder if user has project:editor role in team project (37 ms)
2025-04-15T08:19:34.5028165Z     ✓ should not allow setting a folder as its own parent (32 ms)
2025-04-15T08:19:34.5028384Z   DELETE /projects/:projectId/folders/:folderId
2025-04-15T08:19:34.5028628Z     ✓ should not delete folder when project does not exist (17 ms)
2025-04-15T08:19:34.5028890Z     ✓ should not delete folder when folder does not exist (43 ms)
2025-04-15T08:19:34.5029191Z     ✓ should not delete folder if user has project:viewer role in team project (23 ms)
2025-04-15T08:19:34.5029512Z     ✓ should not allow deleting folder in another user's personal project (30 ms)
2025-04-15T08:19:34.5029836Z     ✓ should delete folder if user has project:editor role in team project (60 ms)
2025-04-15T08:19:34.5030151Z     ✓ should delete folder if user has project:admin role in team project (31 ms)
2025-04-15T08:19:34.5030416Z     ✓ should delete folder in personal project (21 ms)
2025-04-15T08:19:34.5030773Z     ✓ should delete folder, all child folders, and contained workflows when no transfer folder is specified (48 ms)
2025-04-15T08:19:34.5031166Z     ✓ should transfer folder contents when transferToFolderId is specified (56 ms)
2025-04-15T08:19:34.5031504Z     ✓ should not transfer folder contents when transfer folder does not exist (54 ms)
2025-04-15T08:19:34.5031856Z     ✓ should not transfer folder contents when transfer folder is in another project (54 ms)
2025-04-15T08:19:34.5032203Z     ✓ should not allow transferring contents to the same folder being deleted (51 ms)
2025-04-15T08:19:34.5032555Z     ✓ should transfer folder contents to project root when transferToFolderId is "0" (56 ms)
2025-04-15T08:19:34.5032801Z   GET /projects/:projectId/folders
2025-04-15T08:19:34.5033028Z     ✓ should not list folders when project does not exist (19 ms)
2025-04-15T08:19:34.5033308Z     ✓ should not list folders if user has no access to project (22 ms)
2025-04-15T08:19:34.5033621Z     ✓ should not allow listing folders from another user's personal project (22 ms)
2025-04-15T08:19:34.5034046Z     ✓ should list folders if user has project:viewer role in team project (24 ms)
2025-04-15T08:19:34.5034319Z     ✓ should list folders from personal project (28 ms)
2025-04-15T08:19:34.5034539Z     ✓ should filter folders by name (28 ms)
2025-04-15T08:19:34.5034752Z     ✓ should filter folders by parent folder ID (35 ms)
2025-04-15T08:19:34.5035010Z     ✓ should filter root-level folders when parentFolderId=0 (39 ms)
2025-04-15T08:19:34.5035241Z     ✓ should filter folders by tag (57 ms)
2025-04-15T08:19:34.5035479Z     ✓ should filter folders by multiple tags (AND operator) (40 ms)
2025-04-15T08:19:34.5035756Z     ✓ should filter folders by excludeFolderIdAndDescendants (37 ms)
2025-04-15T08:19:34.5036028Z     ✓ should apply pagination with take parameter (41 ms)
2025-04-15T08:19:34.5036266Z     ✓ should apply pagination with skip parameter (34 ms)
2025-04-15T08:19:34.5036510Z     ✓ should apply combined skip and take parameters (39 ms)
2025-04-15T08:19:34.5036749Z     ✓ should sort folders by name ascending (48 ms)
2025-04-15T08:19:34.5037026Z     ✓ should sort folders by name descending (29 ms)
2025-04-15T08:19:34.5037338Z     ✓ should sort folders by updatedAt (31 ms)
2025-04-15T08:19:34.5037566Z     ✓ should select specific fields when requested (27 ms)
2025-04-15T08:19:34.5037823Z     ✓ should combine multiple query parameters correctly (50 ms)
2025-04-15T08:19:34.5038094Z     ✓ should filter by projectId automatically based on URL (26 ms)
2025-04-15T08:19:34.5038308Z   GET /projects/:projectId/folders/content
2025-04-15T08:19:34.5038544Z     ✓ should not list folders when project does not exist (29 ms)
2025-04-15T08:19:34.5038834Z     ✓ should not return folder content if user has no access to project (26 ms)
2025-04-15T08:19:34.5039157Z     ✓ should not return folder content if folder does not belong to project (26 ms)
2025-04-15T08:19:34.5039499Z     ✓ should return folder content if user has project:viewer role in team project (37 ms)
2025-04-15T08:19:34.5039756Z     ✓ should return folder content (39 ms)
2025-04-15T08:19:34.5039863Z 
2025-04-15T08:19:34.5039960Z PASS test/integration/users.api.test.ts
2025-04-15T08:19:34.5040121Z   GET /users
2025-04-15T08:19:34.5040275Z     ✓ should return all users (34 ms)
2025-04-15T08:19:34.5040425Z     list query options
2025-04-15T08:19:34.5040546Z       filter
2025-04-15T08:19:34.5040715Z         ✓ should filter users by field: email (25 ms)
2025-04-15T08:19:34.5040940Z         ✓ should filter users by field: firstName (19 ms)
2025-04-15T08:19:34.5041172Z         ✓ should filter users by field: lastName (12 ms)
2025-04-15T08:19:34.5041411Z         ✓ should filter users by computed field: isOwner (8 ms)
2025-04-15T08:19:34.5041583Z       select
2025-04-15T08:19:34.5041738Z         ✓ should select user field: id (4 ms)
2025-04-15T08:19:34.5041940Z         ✓ should select user field: email (3 ms)
2025-04-15T08:19:34.5042150Z         ✓ should select user field: firstName (3 ms)
2025-04-15T08:19:34.5042366Z         ✓ should select user field: lastName (4 ms)
2025-04-15T08:19:34.5042521Z       take
2025-04-15T08:19:34.5042716Z         ✓ should return n users or less, without skip (9 ms)
2025-04-15T08:19:34.5042956Z         ✓ should return n users or less, with skip (6 ms)
2025-04-15T08:19:34.5043124Z       auxiliary fields
2025-04-15T08:19:34.5043343Z         ✓ should support options that require auxiliary fields (3 ms)
2025-04-15T08:19:34.5043551Z   GET /users/:id/password-reset-link
2025-04-15T08:19:34.5043834Z     ✓ should allow owners to generate password reset links for admins and members (10 ms)
2025-04-15T08:19:34.5044228Z     ✓ should allow admins to generate password reset links for admins and members, but not owners (27 ms)
2025-04-15T08:19:34.5044588Z     ✓ should not allow members to generate password reset links for anyone (9 ms)
2025-04-15T08:19:34.5044802Z   DELETE /users/:id
2025-04-15T08:19:34.5044984Z     ✓ should delete user and their resources (61 ms)
2025-04-15T08:19:34.5045297Z     ✓ should delete user and team relations and transfer their personal resources to user (75 ms)
2025-04-15T08:19:34.5045759Z     ✓ should delete user and transfer their personal resources to team project (31 ms)
2025-04-15T08:19:34.5046020Z     ✓ should fail to delete self (3 ms)
2025-04-15T08:19:34.5046233Z     ✓ should fail to delete the instance owner (11 ms)
2025-04-15T08:19:34.5046470Z     ✓ should fail to delete a user that does not exist (3 ms)
2025-04-15T08:19:34.5046731Z     ✓ should fail to transfer to a project that does not exist (7 ms)
2025-04-15T08:19:34.5047043Z     ✓ should fail to delete if user to delete is transferee (24 ms)
2025-04-15T08:19:34.5047233Z   PATCH /users/:id/role
2025-04-15T08:19:34.5047527Z     ✓ should clear credential external secrets usability cache when changing a user's role (22 ms)
2025-04-15T08:19:34.5047774Z     unauthenticated user
2025-04-15T08:19:34.5047942Z       ✓ should receive 401 (1 ms)
2025-04-15T08:19:34.5048216Z     Invalid payload should return 400 when newRoleName
2025-04-15T08:19:34.5048406Z       ✓ is missing (3 ms)
2025-04-15T08:19:34.5048554Z       ✓ is `owner` (2 ms)
2025-04-15T08:19:34.5048703Z       ✓ is an array (2 ms)
2025-04-15T08:19:34.5048952Z     member
2025-04-15T08:19:34.5049121Z       ✓ should fail to demote owner to member (3 ms)
2025-04-15T08:19:34.5049336Z       ✓ should fail to demote owner to admin (2 ms)
2025-04-15T08:19:34.5049545Z       ✓ should fail to demote admin to member (2 ms)
2025-04-15T08:19:34.5049774Z       ✓ should fail to promote other member to owner (2 ms)
2025-04-15T08:19:34.5050016Z       ✓ should fail to promote other member to admin (2 ms)
2025-04-15T08:19:34.5050231Z       ✓ should fail to promote self to admin (2 ms)
2025-04-15T08:19:34.5050440Z       ✓ should fail to promote self to owner (2 ms)
2025-04-15T08:19:34.5050590Z     admin
2025-04-15T08:19:34.5050768Z       ✓ should receive 404 on unknown target user (3 ms)
2025-04-15T08:19:34.5050986Z       ✓ should fail to demote owner to admin (2 ms)
2025-04-15T08:19:34.5051218Z       ✓ should fail to demote owner to member (3 ms)
2025-04-15T08:19:34.5051471Z       ✓ should fail to promote member to admin if not licensed (2 ms)
2025-04-15T08:19:34.5051722Z       ✓ should be able to demote admin to member (14 ms)
2025-04-15T08:19:34.5051949Z       ✓ should be able to demote self to member (21 ms)
2025-04-15T08:19:34.5052202Z       ✓ should be able to promote member to admin if licensed (10 ms)
2025-04-15T08:19:34.5052379Z     owner
2025-04-15T08:19:34.5052539Z       ✓ should fail to demote self to admin (2 ms)
2025-04-15T08:19:34.5052750Z       ✓ should fail to demote self to member (3 ms)
2025-04-15T08:19:34.5052998Z       ✓ should fail to promote member to admin if not licensed (2 ms)
2025-04-15T08:19:34.5053268Z       ✓ should be able to promote member to admin if licensed (10 ms)
2025-04-15T08:19:34.5053503Z       ✓ should be able to demote admin to member (12 ms)
2025-04-15T08:19:34.5053615Z 
2025-04-15T08:19:34.5053780Z PASS src/task-runners/task-broker/__tests__/task-broker.service.test.ts
2025-04-15T08:19:34.5053989Z   TaskBroker
2025-04-15T08:19:34.5054108Z     expireTasks
2025-04-15T08:19:34.5054341Z       ✓ should remove expired task offers and keep valid task offers (3 ms)
2025-04-15T08:19:34.5054597Z       ✓ should not expire non-expiring task offers
2025-04-15T08:19:34.5054757Z     registerRunner
2025-04-15T08:19:34.5054930Z       ✓ should add a runner to known runners (1 ms)
2025-04-15T08:19:34.5055132Z       ✓ should send node types to runner
2025-04-15T08:19:34.5055289Z     registerRequester
2025-04-15T08:19:34.5055469Z       ✓ should add a requester to known requesters
2025-04-15T08:19:34.5055630Z     deregisterRunner
2025-04-15T08:19:34.5055816Z       ✓ should remove a runner from known runners (1 ms)
2025-04-15T08:19:34.5056044Z       ✓ should remove any pending offers for that runner
2025-04-15T08:19:34.5056281Z       ✓ should fail any running tasks for that runner (1 ms)
2025-04-15T08:19:34.5056480Z     deregisterRequester
2025-04-15T08:19:34.5056674Z       ✓ should remove a requester from known requesters
2025-04-15T08:19:34.5056837Z     taskRequested
2025-04-15T08:19:34.5057213Z       ✓ should match a pending offer to an incoming request (1 ms)
2025-04-15T08:19:34.5057398Z     taskOffered
2025-04-15T08:19:34.5057591Z       ✓ should match a pending request to an incoming offer
2025-04-15T08:19:34.5057762Z     settleTasks
2025-04-15T08:19:34.5057974Z       ✓ should match task offers with task requests by task type (1 ms)
2025-04-15T08:19:34.5058249Z       ✓ should not match a request whose acceptance is in progress
2025-04-15T08:19:34.5058480Z       ✓ should expire tasks before settling (1 ms)
2025-04-15T08:19:34.5058644Z     onRunnerMessage
2025-04-15T08:19:34.5058814Z       ✓ should handle `runner:taskaccepted` message
2025-04-15T08:19:34.5059041Z       ✓ should handle `runner:taskrejected` message (1 ms)
2025-04-15T08:19:34.5059260Z       ✓ should handle `runner:taskdone` message
2025-04-15T08:19:34.5059466Z       ✓ should handle `runner:taskerror` message
2025-04-15T08:19:34.5059691Z       ✓ should handle `runner:taskdatarequest` message
2025-04-15T08:19:34.5059907Z       ✓ should handle `runner:rpc` message
2025-04-15T08:19:34.5060232Z       ✓ should handle `runner:nodetypesrequest` message
2025-04-15T08:19:34.5060502Z       ✓ should handle `runner:taskoffer` message with expiring offer (1 ms)
2025-04-15T08:19:34.5060800Z       ✓ should handle `runner:taskoffer` message with non-expiring offer
2025-04-15T08:19:34.5061005Z     onRequesterMessage
2025-04-15T08:19:34.5061215Z       ✓ should handle `requester:nodetypesresponse` message (1 ms)
2025-04-15T08:19:34.5061403Z     task timeouts
2025-04-15T08:19:34.5061601Z       ✓ on sending task, we should set up task timeout (1 ms)
2025-04-15T08:19:34.5061829Z       ✓ on task completion, we should clear timeout
2025-04-15T08:19:34.5062039Z       ✓ on task error, we should clear timeout
2025-04-15T08:19:34.5062401Z       ✓ [internal mode] on timeout, we should emit `runner:timed-out-during-task` event and send error to requester (1 ms)
2025-04-15T08:19:34.5062846Z       ✓ [external mode] on timeout, we should instruct the runner to cancel and send error to requester (1 ms)
2025-04-15T08:19:34.5063048Z 
2025-04-15T08:19:34.5063175Z PASS src/events/__tests__/log-streaming-event-relay.test.ts
2025-04-15T08:19:34.5063375Z   LogStreamingEventRelay
2025-04-15T08:19:34.5063510Z     workflow events
2025-04-15T08:19:34.5063690Z       ✓ should log on `workflow-created` event (3 ms)
2025-04-15T08:19:34.5063917Z       ✓ should log on `workflow-deleted` event (1 ms)
2025-04-15T08:19:34.5064121Z       ✓ should log on `workflow-saved` event
2025-04-15T08:19:34.5064343Z       ✓ should log on `workflow-pre-execute` event (1 ms)
2025-04-15T08:19:34.5064603Z       ✓ should log on `workflow-post-execute` for successful execution
2025-04-15T08:19:34.5064885Z       ✓ should log on `workflow-post-execute` event for failed execution
2025-04-15T08:19:34.5065075Z     user events
2025-04-15T08:19:34.5065239Z       ✓ should log on `user-updated` event
2025-04-15T08:19:34.5065439Z       ✓ should log on `user-deleted` event (1 ms)
2025-04-15T08:19:34.5065648Z       ✓ should log on `user-invited` event
2025-04-15T08:19:34.5065850Z       ✓ should log on `user-reinvited` event
2025-04-15T08:19:34.5066041Z       ✓ should log on `user-signed-up` event
2025-04-15T08:19:34.5066240Z       ✓ should log on `user-logged-in` event
2025-04-15T08:19:34.5066395Z     click events
2025-04-15T08:19:34.5066602Z       ✓ should log on `user-password-reset-request-click` event
2025-04-15T08:19:34.5066849Z       ✓ should log on `user-invite-email-click` event
2025-04-15T08:19:34.5067167Z       ✓ should log on `user-password-reset-email-click` event (1 ms)
2025-04-15T08:19:34.5067351Z     node events
2025-04-15T08:19:34.5067515Z       ✓ should log on `node-pre-execute` event
2025-04-15T08:19:34.5067722Z       ✓ should log on `node-post-execute` event
2025-04-15T08:19:34.5067882Z     credentials events
2025-04-15T08:19:34.5068075Z       ✓ should log on `credentials-shared` event (3 ms)
2025-04-15T08:19:34.5068291Z       ✓ should log on `credentials-created` event
2025-04-15T08:19:34.5068613Z       ✓ should log on `credentials-deleted` event
2025-04-15T08:19:34.5068839Z       ✓ should log on `credentials-updated` event (1 ms)
2025-04-15T08:19:34.5069008Z     auth events
2025-04-15T08:19:34.5069172Z       ✓ should log on `user-login-failed` event
2025-04-15T08:19:34.5069334Z     community package events
2025-04-15T08:19:34.5069553Z       ✓ should log on `community-package-updated` event (1 ms)
2025-04-15T08:19:34.5069799Z       ✓ should log on `community-package-installed` event
2025-04-15T08:19:34.5070040Z       ✓ should log on `community-package-deleted` event
2025-04-15T08:19:34.5070214Z     email events
2025-04-15T08:19:34.5070369Z       ✓ should log on `email-failed` event
2025-04-15T08:19:34.5070523Z     public API events
2025-04-15T08:19:34.5070726Z       ✓ should log on `public-api-key-created` event (1 ms)
2025-04-15T08:19:34.5070968Z       ✓ should log on `public-api-key-deleted` event
2025-04-15T08:19:34.5071133Z     execution events
2025-04-15T08:19:34.5071343Z       ✓ should log on `execution-started-during-bootup` event
2025-04-15T08:19:34.5071689Z       ✓ should log on `execution-throttled` event (2 ms)
2025-04-15T08:19:34.5071856Z     AI events
2025-04-15T08:19:34.5072055Z       ✓ should log on `ai-messages-retrieved-from-memory` event
2025-04-15T08:19:34.5072305Z       ✓ should log on `ai-message-added-to-memory` event
2025-04-15T08:19:34.5072530Z       ✓ should log on `ai-output-parsed` event (1 ms)
2025-04-15T08:19:34.5072748Z       ✓ should log on `ai-documents-retrieved` event
2025-04-15T08:19:34.5072965Z       ✓ should log on `ai-document-embedded` event
2025-04-15T08:19:34.5073171Z       ✓ should log on `ai-query-embedded` event
2025-04-15T08:19:34.5073379Z       ✓ should log on `ai-document-processed` event
2025-04-15T08:19:34.5073601Z       ✓ should log on `ai-text-split` event (1 ms)
2025-04-15T08:19:34.5073799Z       ✓ should log on `ai-tool-called` event
2025-04-15T08:19:34.5074018Z       ✓ should log on `ai-vector-store-searched` event
2025-04-15T08:19:34.5074250Z       ✓ should log on `ai-llm-generated-output` event
2025-04-15T08:19:34.5074459Z       ✓ should log on `ai-llm-errored` event
2025-04-15T08:19:34.5074678Z       ✓ should log on `ai-vector-store-populated` event
2025-04-15T08:19:34.5074917Z       ✓ should log on `ai-vector-store-updated` event (1 ms)
2025-04-15T08:19:34.5075036Z 
2025-04-15T08:19:34.5075203Z PASS src/execution-lifecycle/__tests__/execution-lifecycle-hooks.test.ts
2025-04-15T08:19:34.5075420Z   Execution Lifecycle Hooks
2025-04-15T08:19:34.5075578Z     getLifecycleHooksForRegularMain
2025-04-15T08:19:34.5075791Z       ✓ should setup the correct set of hooks (1 ms)
2025-04-15T08:19:34.5075956Z       workflowExecuteBefore
2025-04-15T08:19:34.5076157Z         ✓ should emit workflow-pre-execute events (4 ms)
2025-04-15T08:19:34.5076378Z         ✓ should run workflow.preExecute hook (1 ms)
2025-04-15T08:19:34.5076592Z         ✓ should send executionStarted push event
2025-04-15T08:19:34.5076825Z         ✓ should run workflow.preExecute external hook (1 ms)
2025-04-15T08:19:34.5077053Z       workflowExecuteAfter
2025-04-15T08:19:34.5077262Z         ✓ should emit workflow-post-execute events (2 ms)
2025-04-15T08:19:34.5077549Z         ✓ should not emit workflow-post-execute events for waiting executions (1 ms)
2025-04-15T08:19:34.5077823Z         ✓ should run workflow.postExecute hook (1 ms)
2025-04-15T08:19:34.5078046Z         ✓ should send executionFinished push event (1 ms)
2025-04-15T08:19:34.5078259Z         ✓ should send executionWaiting push event
2025-04-15T08:19:34.5078536Z         ✓ should restore binary data IDs after workflow execution for webhooks (1 ms)
2025-04-15T08:19:34.5078752Z         saving static data
2025-04-15T08:19:34.5078977Z           ✓ should skip saving static data for manual executions (4 ms)
2025-04-15T08:19:34.5079241Z           ✓ should save static data for prod executions (1 ms)
2025-04-15T08:19:34.5079464Z           ✓ should handle static data saving errors
2025-04-15T08:19:34.5079629Z         saving execution data
2025-04-15T08:19:34.5079946Z           ✓ should update execution with proper data (1 ms)
2025-04-15T08:19:34.5080192Z           ✓ should not delete unfinished executions (1 ms)
2025-04-15T08:19:34.5080410Z           ✓ should not delete waiting executions
2025-04-15T08:19:34.5080672Z           ✓ should soft delete manual executions when manual saving is disabled
2025-04-15T08:19:34.5080973Z           ✓ should not soft delete manual executions with waitTill (1 ms)
2025-04-15T08:19:34.5081166Z         error workflow
2025-04-15T08:19:34.5081377Z           ✓ should not execute error workflow for manual executions
2025-04-15T08:19:34.5081667Z           ✓ should execute error workflow for failed non-manual executions (1 ms)
2025-04-15T08:19:34.5081879Z       nodeExecuteBefore
2025-04-15T08:19:34.5082063Z         ✓ should emit node-pre-execute event (1 ms)
2025-04-15T08:19:34.5082289Z         ✓ should send nodeExecuteBefore push event (1 ms)
2025-04-15T08:19:34.5082455Z       nodeExecuteAfter
2025-04-15T08:19:34.5082633Z         ✓ should emit node-post-execute event
2025-04-15T08:19:34.5082940Z         ✓ should send nodeExecuteAfter push event
2025-04-15T08:19:34.5083170Z         ✓ should save execution progress when enabled (1 ms)
2025-04-15T08:19:34.5083424Z         ✓ should not save execution progress when disabled (1 ms)
2025-04-15T08:19:34.5083614Z       statistics events
2025-04-15T08:19:34.5083882Z         ✓ workflowExecuteAfter should emit workflowExecutionCompleted statistics event
2025-04-15T08:19:34.5084224Z         ✓ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
2025-04-15T08:19:34.5084439Z       when pushRef isn't set
2025-04-15T08:19:34.5084619Z         ✓ should not setup any push hooks
2025-04-15T08:19:34.5084793Z     getLifecycleHooksForScalingMain
2025-04-15T08:19:34.5084988Z       ✓ should setup the correct set of hooks
2025-04-15T08:19:34.5085149Z       workflowExecuteBefore
2025-04-15T08:19:34.5085351Z         ✓ should emit workflow-pre-execute events (11 ms)
2025-04-15T08:19:34.5085575Z         ✓ should run workflow.preExecute hook
2025-04-15T08:19:34.5085803Z         ✓ should run the workflow.preExecute external hook
2025-04-15T08:19:34.5085980Z       workflowExecuteAfter
2025-04-15T08:19:34.5086176Z         ✓ should emit workflow-post-execute events (1 ms)
2025-04-15T08:19:34.5086443Z         ✓ should not emit workflow-post-execute events for waiting executions
2025-04-15T08:19:34.5086705Z         ✓ should run workflow.postExecute hook (1 ms)
2025-04-15T08:19:34.5087032Z         ✓ should delete successful executions when success saving is disabled (1 ms)
2025-04-15T08:19:34.5087357Z         ✓ should delete failed executions when error saving is disabled (1 ms)
2025-04-15T08:19:34.5087593Z     getLifecycleHooksForScalingWorker
2025-04-15T08:19:34.5087795Z       ✓ should setup the correct set of hooks
2025-04-15T08:19:34.5087955Z       nodeExecuteBefore
2025-04-15T08:19:34.5088218Z         ✓ should emit node-pre-execute event
2025-04-15T08:19:34.5088381Z       nodeExecuteAfter
2025-04-15T08:19:34.5088569Z         ✓ should emit node-post-execute event (1 ms)
2025-04-15T08:19:34.5088741Z       workflowExecuteBefore
2025-04-15T08:19:34.5088922Z         ✓ should run workflow.preExecute hook
2025-04-15T08:19:34.5089079Z       workflowExecuteAfter
2025-04-15T08:19:34.5089269Z         ✓ should run workflow.postExecute hook (1 ms)
2025-04-15T08:19:34.5089430Z       statistics events
2025-04-15T08:19:34.5089685Z         ✓ workflowExecuteAfter should emit workflowExecutionCompleted statistics event
2025-04-15T08:19:34.5090023Z         ✓ nodeFetchedData should handle nodeFetchedData statistics event (1 ms)
2025-04-15T08:19:34.5090233Z       saving static data
2025-04-15T08:19:34.5090448Z         ✓ should skip saving static data for manual executions (2 ms)
2025-04-15T08:19:34.5090690Z         ✓ should save static data for prod executions
2025-04-15T08:19:34.5090909Z         ✓ should handle static data saving errors (1 ms)
2025-04-15T08:19:34.5091072Z       error workflow
2025-04-15T08:19:34.5091402Z         ✓ should not execute error workflow for manual executions
2025-04-15T08:19:34.5091690Z         ✓ should execute error workflow for failed non-manual executions
2025-04-15T08:19:34.5091910Z     getLifecycleHooksForSubExecutions
2025-04-15T08:19:34.5092108Z       ✓ should setup the correct set of hooks
2025-04-15T08:19:34.5092265Z       workflowExecuteBefore
2025-04-15T08:19:34.5092457Z         ✓ should emit workflow-pre-execute events
2025-04-15T08:19:34.5092666Z         ✓ should run workflow.preExecute hook
2025-04-15T08:19:34.5092823Z       workflowExecuteAfter
2025-04-15T08:19:34.5093014Z         ✓ should emit workflow-post-execute events
2025-04-15T08:19:34.5093277Z         ✓ should not emit workflow-post-execute events for waiting executions
2025-04-15T08:19:34.5093526Z         ✓ should run workflow.postExecute hook
2025-04-15T08:19:34.5093687Z       nodeExecuteBefore
2025-04-15T08:19:34.5093868Z         ✓ should emit node-pre-execute event (1 ms)
2025-04-15T08:19:34.5094030Z       nodeExecuteAfter
2025-04-15T08:19:34.5094210Z         ✓ should emit node-post-execute event
2025-04-15T08:19:34.5094471Z       statistics events
2025-04-15T08:19:34.5094748Z         ✓ workflowExecuteAfter should emit workflowExecutionCompleted statistics event (1 ms)
2025-04-15T08:19:34.5095086Z         ✓ nodeFetchedData should handle nodeFetchedData statistics event
2025-04-15T08:19:34.5095242Z 
2025-04-15T08:19:34.5095356Z PASS src/sso.ee/saml/__tests__/saml-validator.test.ts
2025-04-15T08:19:34.5095539Z   saml-validator
2025-04-15T08:19:34.5095667Z     validateMetadata
2025-04-15T08:19:34.5095907Z       ✓ successfully validates metadata containing ws federation tags (111 ms)
2025-04-15T08:19:34.5096158Z       ✓ rejects invalid metadata (68 ms)
2025-04-15T08:19:34.5096360Z       ✓ rejects malformed XML metadata (81 ms)
2025-04-15T08:19:34.5096593Z       ✓ rejects metadata missing SingleSignOnService (85 ms)
2025-04-15T08:19:34.5096850Z       ✓ rejects metadata with invalid X.509 certificate (113 ms)
2025-04-15T08:19:34.5097078Z     validateResponse
2025-04-15T08:19:34.5097258Z       ✓ successfully validates response (67 ms)
2025-04-15T08:19:34.5097462Z       ✓ rejects invalid response (57 ms)
2025-04-15T08:19:34.5097659Z       ✓ rejects expired SAML response (73 ms)
2025-04-15T08:19:34.5097760Z 
2025-04-15T08:19:34.5097898Z PASS test/integration/execution.service.integration.test.ts
2025-04-15T08:19:34.5098095Z   ExecutionService
2025-04-15T08:19:34.5098227Z     findRangeWithCount
2025-04-15T08:19:34.5098409Z       ✓ should return execution summaries (37 ms)
2025-04-15T08:19:34.5098606Z       ✓ should limit executions (32 ms)
2025-04-15T08:19:34.5098852Z       ✓ should retrieve executions before `lastId`, excluding it (15 ms)
2025-04-15T08:19:34.5099137Z       ✓ should retrieve executions after `firstId`, excluding it (40 ms)
2025-04-15T08:19:34.5099387Z       ✓ should filter executions by `status` (17 ms)
2025-04-15T08:19:34.5099617Z       ✓ should filter executions by `workflowId` (12 ms)
2025-04-15T08:19:34.5099856Z       ✓ should filter executions by `startedBefore` (12 ms)
2025-04-15T08:19:34.5100098Z       ✓ should filter executions by `startedAfter` (12 ms)
2025-04-15T08:19:34.5100325Z       ✓ should filter executions by `metadata` (15 ms)
2025-04-15T08:19:34.5100553Z       ✓ should filter executions by `projectId` (53 ms)
2025-04-15T08:19:34.5100829Z       ✓ should filter executions by `projectId` and expected `status` (58 ms)
2025-04-15T08:19:34.5101143Z       ✓ should filter executions by `projectId` and expected `waitTill` (25 ms)
2025-04-15T08:19:34.5101454Z       ✓ should filter executions by `projectId` and expected `metadata` (30 ms)
2025-04-15T08:19:34.5101773Z       ✓ should filter executions by `projectId` and expected `startedAfter` (39 ms)
2025-04-15T08:19:34.5102110Z       ✓ should filter executions by `projectId` and expected `startedBefore` (15 ms)
2025-04-15T08:19:34.5102416Z       ✓ should exclude executions by inaccessible `workflowId` (16 ms)
2025-04-15T08:19:34.5102521Z       ✓ should support advanced filters (13 ms)
2025-04-15T08:19:34.5102720Z     findLatestCurrentAndCompleted
2025-04-15T08:19:34.5102876Z       ✓ should return latest current and completed executions (51 ms)
2025-04-15T08:19:34.5102982Z       ✓ should handle zero current executions (9 ms)
2025-04-15T08:19:34.5103099Z       ✓ should handle zero completed executions (14 ms)
2025-04-15T08:19:34.5103196Z       ✓ should handle zero executions (4 ms)
2025-04-15T08:19:34.5103341Z       ✓ should prioritize `running` over `new` executions (32 ms)
2025-04-15T08:19:34.5103389Z     annotation
2025-04-15T08:19:34.5103496Z       ✓ should add and retrieve annotation (31 ms)
2025-04-15T08:19:34.5103589Z       ✓ should update annotation (31 ms)
2025-04-15T08:19:34.5103697Z       ✓ should filter by annotation tags (61 ms)
2025-04-15T08:19:34.5103796Z       ✓ should filter by annotation vote (25 ms)
2025-04-15T08:19:34.5103800Z 
2025-04-15T08:19:34.5103917Z PASS src/scaling/__tests__/pubsub-handler.test.ts
2025-04-15T08:19:34.5103970Z   PubSubHandler
2025-04-15T08:19:34.5104078Z     in webhook process
2025-04-15T08:19:34.5104291Z       ✓ should set up handlers in webhook process (4 ms)
2025-04-15T08:19:34.5104404Z       ✓ should reload license on `reload-license` event
2025-04-15T08:19:34.5104551Z       ✓ should restart event bus on `restart-event-bus` event (1 ms)
2025-04-15T08:19:34.5104712Z       ✓ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:19:34.5104899Z       ✓ should install community package on `community-package-install` event (1 ms)
2025-04-15T08:19:34.5105055Z       ✓ should update community package on `community-package-update` event
2025-04-15T08:19:34.5105228Z       ✓ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:19:34.5105279Z     in worker process
2025-04-15T08:19:34.5105394Z       ✓ should set up handlers in worker process (1 ms)
2025-04-15T08:19:34.5105503Z       ✓ should reload license on `reload-license` event
2025-04-15T08:19:34.5105635Z       ✓ should restart event bus on `restart-event-bus` event
2025-04-15T08:19:34.5105797Z       ✓ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:19:34.5105963Z       ✓ should install community package on `community-package-install` event
2025-04-15T08:19:34.5106114Z       ✓ should update community package on `community-package-update` event
2025-04-15T08:19:34.5106286Z       ✓ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:19:34.5106412Z       ✓ should generate status on `get-worker-status` event
2025-04-15T08:19:34.5106465Z     in main process
2025-04-15T08:19:34.5106618Z       ✓ should set up command and worker response handlers in main process
2025-04-15T08:19:34.5106726Z       ✓ should reload license on `reload-license` event
2025-04-15T08:19:34.5106869Z       ✓ should restart event bus on `restart-event-bus` event (1 ms)
2025-04-15T08:19:34.5107074Z       ✓ should reload providers on `reload-external-secrets-providers` event
2025-04-15T08:19:34.5107240Z       ✓ should install community package on `community-package-install` event
2025-04-15T08:19:34.5107395Z       ✓ should update community package on `community-package-update` event
2025-04-15T08:19:34.5107567Z       ✓ should uninstall community package on `community-package-uninstall` event
2025-04-15T08:19:34.5107618Z       multi-main setup
2025-04-15T08:19:34.5107795Z         ✓ if leader, should handle `add-webhooks-triggers-and-pollers` event (2 ms)
2025-04-15T08:19:34.5107962Z         ✓ if follower, should skip `add-webhooks-triggers-and-pollers` event (6 ms)
2025-04-15T08:19:34.5108119Z         ✓ if leader, should handle `remove-triggers-and-pollers` event (10 ms)
2025-04-15T08:19:34.5108268Z         ✓ if follower, should skip `remove-triggers-and-pollers` event (1 ms)
2025-04-15T08:19:34.5108396Z         ✓ should handle `display-workflow-activation` event
2025-04-15T08:19:34.5108529Z         ✓ should handle `display-workflow-deactivation` event
2025-04-15T08:19:34.5108772Z         ✓ should handle `display-workflow-activation-error` event (1 ms)
2025-04-15T08:19:34.5108911Z         ✓ should handle `relay-execution-lifecycle-event` event
2025-04-15T08:19:34.5109030Z         ✓ should handle `clear-test-webhooks` event (1 ms)
2025-04-15T08:19:34.5109159Z         ✓ should handle `response-to-get-worker-status event
2025-04-15T08:19:34.5109163Z 
2025-04-15T08:19:34.5109307Z PASS src/concurrency/__tests__/concurrency-control.service.test.ts
2025-04-15T08:19:34.5109373Z   ConcurrencyControlService
2025-04-15T08:19:34.5109422Z     constructor
2025-04-15T08:19:34.5109557Z       ✓ should be enabled if production cap is positive (3 ms)
2025-04-15T08:19:34.5109667Z       ✓ should be enabled if evaluation cap is positive
2025-04-15T08:19:34.5109775Z       ✓ should throw if production cap is 0 (1 ms)
2025-04-15T08:19:34.5109871Z       ✓ should throw if evaluation cap is 0
2025-04-15T08:19:34.5110023Z       ✓ should be disabled if both production and evaluation caps are -1
2025-04-15T08:19:34.5110159Z       ✓ should be disabled if production cap is lower than -1
2025-04-15T08:19:34.5110542Z       ✓ should be disabled if evaluation cap is lower than -1 (1 ms)
2025-04-15T08:19:34.5110635Z       ✓ should be disabled on queue mode
2025-04-15T08:19:34.5110682Z     if enabled
2025-04-15T08:19:34.5110741Z       throttle
2025-04-15T08:19:34.5110841Z         ✓ should do nothing on cli mode (1 ms)
2025-04-15T08:19:34.5110939Z         ✓ should do nothing on error mode
2025-04-15T08:19:34.5111045Z         ✓ should do nothing on integrated mode (1 ms)
2025-04-15T08:19:34.5111144Z         ✓ should do nothing on internal mode
2025-04-15T08:19:34.5111244Z         ✓ should do nothing on manual mode (1 ms)
2025-04-15T08:19:34.5111339Z         ✓ should do nothing on retry mode
2025-04-15T08:19:34.5111438Z         ✓ should enqueue on webhook mode (1 ms)
2025-04-15T08:19:34.5111532Z         ✓ should enqueue on trigger mode
2025-04-15T08:19:34.5111625Z         ✓ should enqueue on evaluation mode
2025-04-15T08:19:34.5111682Z       release
2025-04-15T08:19:34.5111784Z         ✓ should do nothing on cli mode (1 ms)
2025-04-15T08:19:34.5111883Z         ✓ should do nothing on error mode
2025-04-15T08:19:34.5111976Z         ✓ should do nothing on integrated mode
2025-04-15T08:19:34.5112076Z         ✓ should do nothing on internal mode
2025-04-15T08:19:34.5112166Z         ✓ should do nothing on manual mode
2025-04-15T08:19:34.5112267Z         ✓ should do nothing on retry mode (1 ms)
2025-04-15T08:19:34.5112360Z         ✓ should dequeue on webhook mode
2025-04-15T08:19:34.5112448Z         ✓ should dequeue on trigger mode
2025-04-15T08:19:34.5112562Z         ✓ should dequeue on evaluation mode (1 ms)
2025-04-15T08:19:34.5112623Z       remove
2025-04-15T08:19:34.5112726Z         ✓ should do nothing on cli mode
2025-04-15T08:19:34.5112813Z         ✓ should do nothing on error mode
2025-04-15T08:19:34.5112919Z         ✓ should do nothing on integrated mode (1 ms)
2025-04-15T08:19:34.5113014Z         ✓ should do nothing on internal mode
2025-04-15T08:19:34.5113121Z         ✓ should do nothing on manual mode
2025-04-15T08:19:34.5113222Z         ✓ should do nothing on retry mode (1 ms)
2025-04-15T08:19:34.5113340Z         ✓ should remove an execution on webhook mode (1 ms)
2025-04-15T08:19:34.5113444Z         ✓ should remove an execution on trigger mode
2025-04-15T08:19:34.5113572Z         ✓ should remove an execution on evaluation mode (1 ms)
2025-04-15T08:19:34.5113620Z       removeAll
2025-04-15T08:19:34.5113771Z         ✓ should remove all executions from the production queue (1 ms)
2025-04-15T08:19:34.5113909Z         ✓ should remove all executions from the evaluation queue (4 ms)
2025-04-15T08:19:34.5113967Z       get queue
2025-04-15T08:19:34.5114057Z         ✓ should choose the production queue
2025-04-15T08:19:34.5114174Z         ✓ should choose the evaluation queue (1 ms)
2025-04-15T08:19:34.5114220Z     if disabled
2025-04-15T08:19:34.5114276Z       throttle
2025-04-15T08:19:34.5114343Z         ✓ should do nothing
2025-04-15T08:19:34.5114559Z         ✓ should do nothing for evaluation executions
2025-04-15T08:19:34.5114617Z       release
2025-04-15T08:19:34.5114691Z         ✓ should do nothing
2025-04-15T08:19:34.5114800Z         ✓ should do nothing for evaluation executions
2025-04-15T08:19:34.5114848Z       remove
2025-04-15T08:19:34.5114923Z         ✓ should do nothing
2025-04-15T08:19:34.5115025Z         ✓ should do nothing for evaluation executions
2025-04-15T08:19:34.5115077Z     telemetry
2025-04-15T08:19:34.5115121Z       on cloud
2025-04-15T08:19:34.5115273Z         ✓ for capacity 5, should report temp cloud threshold if reached
2025-04-15T08:19:34.5115427Z         ✓ for capacity 10, should report temp cloud threshold if reached (1 ms)
2025-04-15T08:19:34.5115575Z         ✓ for capacity 20, should report temp cloud threshold if reached
2025-04-15T08:19:34.5115713Z         ✓ for capacity 50, should report temp cloud threshold if reached
2025-04-15T08:19:34.5115865Z         ✓ for capacity 100, should report temp cloud threshold if reached
2025-04-15T08:19:34.5116010Z         ✓ for capacity 200, should report temp cloud threshold if reached
2025-04-15T08:19:34.5116279Z         ✓ for capacity 4, should not report temp cloud threshold if not reached (1 ms)
2025-04-15T08:19:34.5116429Z         ✓ for capacity 9, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5116594Z         ✓ for capacity 19, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5116748Z         ✓ for capacity 49, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5116903Z         ✓ for capacity 99, should not report temp cloud threshold if not reached
2025-04-15T08:19:34.5117131Z         ✓ for capacity 199, should not report temp cloud threshold if not reached (1 ms)
2025-04-15T08:19:34.5117280Z         ✓ for capacity 6, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117435Z         ✓ for capacity 11, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117589Z         ✓ for capacity 21, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117751Z         ✓ for capacity 51, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5117899Z         ✓ for capacity 101, should not report temp cloud threshold if exceeded
2025-04-15T08:19:34.5118079Z         ✓ for capacity 201, should not report temp cloud threshold if exceeded (1 ms)
2025-04-15T08:19:34.5118083Z 
2025-04-15T08:19:34.5118232Z PASS src/databases/repositories/__tests__/folder.repository.test.ts
2025-04-15T08:19:34.5118299Z   FolderRepository
2025-04-15T08:19:34.5118362Z     getMany
2025-04-15T08:19:34.5118416Z       filters
2025-04-15T08:19:34.5118562Z         ✓ should return all folders if not filter is provided (27 ms)
2025-04-15T08:19:34.5118662Z         ✓ should filter folders by IDs (13 ms)
2025-04-15T08:19:34.5118777Z         ✓ should filter folders by project ID (15 ms)
2025-04-15T08:19:34.5118910Z         ✓ should filter folders by name case-insensitively (14 ms)
2025-04-15T08:19:34.5119046Z         ✓ should filter folders by parent folder ID (17 ms)
2025-04-15T08:19:34.5119161Z         ✓ should filter folders by a single tag (11 ms)
2025-04-15T08:19:34.5119311Z         ✓ should filter folders by multiple tags (AND operator) (29 ms)
2025-04-15T08:19:34.5119425Z         ✓ should apply multiple filters together (18 ms)
2025-04-15T08:19:34.5119483Z       select
2025-04-15T08:19:34.5119607Z         ✓ should select only id and name when specified (19 ms)
2025-04-15T08:19:34.5119745Z         ✓ should return id, name and tags when specified (12 ms)
2025-04-15T08:19:34.5119876Z         ✓ should return id, name and project when specified (12 ms)
2025-04-15T08:19:34.5120030Z         ✓ should return id, name and parentFolder when specified (15 ms)
2025-04-15T08:19:34.5120171Z         ✓ should return id, name and workflowCount when specified (11 ms)
2025-04-15T08:19:34.5120323Z         ✓ should return id, name and subFolderCount when specified (13 ms)
2025-04-15T08:19:34.5120447Z         ✓ should return timestamps when specified (16 ms)
2025-04-15T08:19:34.5120709Z         ✓ should return all properties when no select is specified (18 ms)
2025-04-15T08:19:34.5120784Z       pagination
2025-04-15T08:19:34.5120902Z         ✓ should limit results when take is specified (29 ms)
2025-04-15T08:19:34.5121035Z         ✓ should skip results when skip is specified (15 ms)
2025-04-15T08:19:34.5121146Z         ✓ should handle skip and take together (29 ms)
2025-04-15T08:19:34.5121284Z         ✓ should handle take larger than remaining items (18 ms)
2025-04-15T08:19:34.5121414Z         ✓ should handle zero take by returning all results (11 ms)
2025-04-15T08:19:34.5121473Z       sorting
2025-04-15T08:19:34.5121584Z         ✓ should sort by default (updatedAt:desc) (9 ms)
2025-04-15T08:19:34.5121688Z         ✓ should sort by name:asc (15 ms)
2025-04-15T08:19:34.5121783Z         ✓ should sort by name:desc (11 ms)
2025-04-15T08:19:34.5121945Z         ✓ should sort by name:desc when select does not include the name (10 ms)
2025-04-15T08:19:34.5122046Z         ✓ should sort by createdAt:asc (11 ms)
2025-04-15T08:19:34.5122283Z         ✓ should sort by createdAt:desc (10 ms)
2025-04-15T08:19:34.5122382Z         ✓ should sort by updatedAt:asc (7 ms)
2025-04-15T08:19:34.5122483Z         ✓ should sort by updatedAt:desc (8 ms)
2025-04-15T08:19:34.5122604Z         ✓ should default to asc if order not specified (15 ms)
2025-04-15T08:19:34.5122615Z 
2025-04-15T08:19:34.5122709Z PASS test/integration/ldap/ldap.api.test.ts
2025-04-15T08:19:34.5122852Z   ✓ Member role should not be able to access ldap routes (78 ms)
2025-04-15T08:19:34.5123004Z   ✓ GET /ldap/config route should retrieve current configuration (17 ms)
2025-04-15T08:19:34.5123151Z   ✓ GET /ldap/sync should return paginated synchronizations (12 ms)
2025-04-15T08:19:34.5123207Z   PUT /ldap/config
2025-04-15T08:19:34.5123307Z     ✓ route should validate payload (36 ms)
2025-04-15T08:19:34.5123396Z     ✓ route should update model (14 ms)
2025-04-15T08:19:34.5123633Z     ✓ route should fail due to trying to enable LDAP login with SSO as current authentication method (22 ms)
2025-04-15T08:19:34.5123843Z     ✓ should apply "Convert all LDAP users to email users" strategy when LDAP login disabled (30 ms)
2025-04-15T08:19:34.5123906Z   POST /ldap/test-connection
2025-04-15T08:19:34.5123992Z     ✓ route should success (7 ms)
2025-04-15T08:19:34.5124080Z     ✓ route should fail (18 ms)
2025-04-15T08:19:34.5124129Z   POST /ldap/sync
2025-04-15T08:19:34.5124180Z     dry mode
2025-04-15T08:19:34.5124322Z       ✓ should detect new user but not persist change in model (40 ms)
2025-04-15T08:19:34.5124478Z       ✓ should detect updated user but not persist change in model (29 ms)
2025-04-15T08:19:34.5124635Z       ✓ should detect disabled user but not persist change in model (29 ms)
2025-04-15T08:19:34.5124682Z     live mode
2025-04-15T08:19:34.5124819Z       ✓ should detect new user and persist change in model (36 ms)
2025-04-15T08:19:34.5124959Z       ✓ should detect updated user and persist change in model (74 ms)
2025-04-15T08:19:34.5125111Z       ✓ should detect disabled user and persist change in model (25 ms)
2025-04-15T08:19:34.5125315Z       ✓ should remove user instance access once the user is disabled during synchronization (35 ms)
2025-04-15T08:19:34.5125371Z   POST /login
2025-04-15T08:19:34.5125511Z     ✓ should allow new LDAP user to login and synchronize data (23 ms)
2025-04-15T08:19:34.5125669Z     ✓ should allow existing LDAP user to login and synchronize data (97 ms)
2025-04-15T08:19:34.5125861Z     ✓ should allow instance owner to sign in with email/password when LDAP is enabled (69 ms)
2025-04-15T08:19:34.5126018Z     ✓ should transform email user into LDAP user when match found (91 ms)
2025-04-15T08:19:34.5126103Z   Instance owner should able to delete LDAP users
2025-04-15T08:19:34.5126201Z     ✓ don't transfer workflows (19 ms)
2025-04-15T08:19:34.5126301Z     ✓ transfer workflows and credentials (18 ms)
2025-04-15T08:19:34.5126312Z 
2025-04-15T08:19:34.5126405Z PASS src/auth/__tests__/auth.service.test.ts
2025-04-15T08:19:34.5126572Z   AuthService
2025-04-15T08:19:34.5126625Z     createJWTHash
2025-04-15T08:19:34.5126727Z       ✓ should generate unique hashes (4 ms)
2025-04-15T08:19:34.5126780Z     authMiddleware
2025-04-15T08:19:34.5126881Z       ✓ should 401 if no cookie is set (1 ms)
2025-04-15T08:19:34.5127057Z       ✓ should 401 and clear the cookie if the JWT is expired (3 ms)
2025-04-15T08:19:34.5127217Z       ✓ should 401 and clear the cookie if the JWT has been invalidated (1 ms)
2025-04-15T08:19:34.5127335Z       ✓ should refresh the cookie before it expires (12 ms)
2025-04-15T08:19:34.5127391Z     issueCookie
2025-04-15T08:19:34.5127513Z       ✓ should issue a cookie with the correct options (1 ms)
2025-04-15T08:19:34.5127623Z       ✓ should allow changing cookie options (1 ms)
2025-04-15T08:19:34.5127674Z     issueJWT
2025-04-15T08:19:34.5127773Z       when not setting userManagement.jwtSessionDuration
2025-04-15T08:19:34.5127923Z         ✓ should default to expire in 7 days (1 ms)
2025-04-15T08:19:34.5128057Z       when setting userManagement.jwtSessionDuration
2025-04-15T08:19:34.5128349Z         ✓ should apply it to tokens (3 ms)
2025-04-15T08:19:34.5128402Z     resolveJwt
2025-04-15T08:19:34.5128505Z       ✓ should throw on invalid tokens (12 ms)
2025-04-15T08:19:34.5128605Z       ✓ should throw on expired tokens (1 ms)
2025-04-15T08:19:34.5128704Z       ✓ should throw on tampered tokens (1 ms)
2025-04-15T08:19:34.5128801Z       ✓ should throw on hijacked tokens (2 ms)
2025-04-15T08:19:34.5128910Z       ✓ should throw if no user is found (2 ms)
2025-04-15T08:19:34.5129013Z       ✓ should throw if the user is disabled (1 ms)
2025-04-15T08:19:34.5129180Z       ✓ should throw if user password does not match the one on the token (1 ms)
2025-04-15T08:19:34.5129317Z       ✓ should throw if user email does not match the one on the token
2025-04-15T08:19:34.5129440Z       ✓ should refresh the cookie before it expires (3 ms)
2025-04-15T08:19:34.5129607Z       ✓ should refresh the cookie only if less than 1/4th of time is left (4 ms)
2025-04-15T08:19:34.5129787Z       ✓ should not refresh the cookie if jwtRefreshTimeoutHours is set to -1 (3 ms)
2025-04-15T08:19:34.5129845Z     generatePasswordResetUrl
2025-04-15T08:19:34.5129954Z       ✓ should generate a valid url (2 ms)
2025-04-15T08:19:34.5130020Z     generatePasswordResetToken
2025-04-15T08:19:34.5130142Z       ✓ should generate valid password-reset tokens (1 ms)
2025-04-15T08:19:34.5130204Z     resolvePasswordResetToken
2025-04-15T08:19:34.5130323Z       ✓ should not return a user if the token in invalid
2025-04-15T08:19:34.5130446Z       ✓ should not return a user if the token in expired (2 ms)
2025-04-15T08:19:34.5130602Z       ✓ should not return a user if the user does not exist in the DB (1 ms)
2025-04-15T08:19:34.5130783Z       ✓ should not return a user if the password sha does not match (1 ms)
2025-04-15T08:19:34.5130906Z       ✓ should not return the user if all checks pass (1 ms)
2025-04-15T08:19:34.5130964Z     invalidateToken
2025-04-15T08:19:34.5131164Z       ✓ should invalidate the token
2025-04-15T08:19:34.5131173Z 
2025-04-15T08:19:34.5131291Z PASS test/integration/public-api/executions.test.ts
2025-04-15T08:19:34.5131347Z   GET /executions/:id
2025-04-15T08:19:34.5131459Z     ✓ should fail due to missing API Key (26 ms)
2025-04-15T08:19:34.5131554Z     ✓ should fail due to invalid API Key (22 ms)
2025-04-15T08:19:34.5131702Z     ✓ owner should be able to get an execution owned by him (187 ms)
2025-04-15T08:19:34.5131833Z     ✓ owner should be able to read executions of other users (20 ms)
2025-04-15T08:19:34.5131968Z     ✓ member should be able to fetch his own executions (18 ms)
2025-04-15T08:19:34.5132143Z     ✓ member should not be able to fetch custom data when includeData is not set (53 ms)
2025-04-15T08:19:34.5132303Z     ✓ member should be able to fetch custom data when includeData=true (42 ms)
2025-04-15T08:19:34.5132505Z     ✓ member should not get an execution of another user without the workflow being shared (27 ms)
2025-04-15T08:19:34.5132677Z     ✓ member should be able to fetch executions of workflows shared with him (30 ms)
2025-04-15T08:19:34.5132849Z   DELETE /executions/:id
2025-04-15T08:19:34.5132948Z     ✓ should fail due to missing API Key (9 ms)
2025-04-15T08:19:34.5133055Z     ✓ should fail due to invalid API Key (8 ms)
2025-04-15T08:19:34.5133144Z     ✓ should delete an execution (33 ms)
2025-04-15T08:19:34.5133202Z   GET /executions
2025-04-15T08:19:34.5133299Z     ✓ should fail due to missing API Key (11 ms)
2025-04-15T08:19:34.5133406Z     ✓ should fail due to invalid API Key (5 ms)
2025-04-15T08:19:34.5133523Z     ✓ should retrieve all successful executions (41 ms)
2025-04-15T08:19:34.5133627Z     ✓ should paginate two executions (77 ms)
2025-04-15T08:19:34.5133738Z     ✓ should retrieve all error executions (20 ms)
2025-04-15T08:19:34.5133849Z     ✓ should return all waiting executions (36 ms)
2025-04-15T08:19:34.5133986Z     ✓ should retrieve all executions of specific workflow (37 ms)
2025-04-15T08:19:34.5134127Z     ✓ should return executions filtered by project ID (38 ms)
2025-04-15T08:19:34.5134282Z     ✓ owner should retrieve all executions regardless of ownership (45 ms)
2025-04-15T08:19:34.5134453Z     ✓ member should not see executions of workflows not shared with him (56 ms)
2025-04-15T08:19:34.5134615Z     ✓ member should also see executions of workflows shared with him (53 ms)
2025-04-15T08:19:34.5134619Z 
2025-04-15T08:19:34.5134754Z PASS src/services/__tests__/community-packages.service.test.ts
2025-04-15T08:19:34.5134820Z   CommunityPackagesService
2025-04-15T08:19:34.5134876Z     parseNpmPackageName()
2025-04-15T08:19:34.5134984Z       ✓ should fail with empty package name (22 ms)
2025-04-15T08:19:34.5135105Z       ✓ should fail with invalid package prefix name (1 ms)
2025-04-15T08:19:34.5135203Z       ✓ should parse valid package name
2025-04-15T08:19:34.5135321Z       ✓ should parse valid package name and version (1 ms)
2025-04-15T08:19:34.5135442Z       ✓ should parse valid package name, scope and version
2025-04-15T08:19:34.5135500Z     executeCommand()
2025-04-15T08:19:34.5135619Z       ✓ should call command with valid options (1 ms)
2025-04-15T08:19:34.5135713Z       ✓ should make sure folder exists (1 ms)
2025-04-15T08:19:34.5135844Z       ✓ should try to create folder if it does not exist (3 ms)
2025-04-15T08:19:34.5135981Z       ✓ should throw especial error when package is not found (1 ms)
2025-04-15T08:19:34.5136051Z     crossInformationPackage()
2025-04-15T08:19:34.5136200Z       ✓ should return same list if availableUpdates is undefined (2 ms)
2025-04-15T08:19:34.5136339Z       ✓ should correctly match update versions for packages (1 ms)
2025-04-15T08:19:34.5136475Z       ✓ should correctly match update versions for single package
2025-04-15T08:19:34.5136532Z     matchMissingPackages()
2025-04-15T08:19:34.5136663Z       ✓ should not match failed packages that do not exist (1 ms)
2025-04-15T08:19:34.5136779Z       ✓ should match failed packages that should be present
2025-04-15T08:19:34.5137061Z       ✓ should match failed packages even if version is wrong (6 ms)
2025-04-15T08:19:34.5137123Z     checkNpmPackageStatus()
2025-04-15T08:19:34.5137209Z       ✓ should call axios.post
2025-04-15T08:19:34.5137307Z       ✓ should not fail if request fails (1 ms)
2025-04-15T08:19:34.5137406Z       ✓ should warn if package is banned
2025-04-15T08:19:34.5137480Z     hasPackageLoadedSuccessfully()
2025-04-15T08:19:34.5137617Z       ✓ should return true when failed package list does not exist
2025-04-15T08:19:34.5137775Z       ✓ should return true when package is not in the list of missing packages
2025-04-15T08:19:34.5137935Z       ✓ should return false when package is in the list of missing packages
2025-04-15T08:19:34.5138002Z     removePackageFromMissingList()
2025-04-15T08:19:34.5138119Z       ✓ should do nothing if key does not exist (1 ms)
2025-04-15T08:19:34.5138231Z       ✓ should remove only correct package from list
2025-04-15T08:19:34.5138341Z       ✓ should not remove if package is not in the list
2025-04-15T08:19:34.5138408Z     updateNpmModule
2025-04-15T08:19:34.5138671Z       ✓ should call `exec` with the correct command and registry (2 ms)
2025-04-15T08:19:34.5138775Z       ✓ should throw when not licensed (1 ms)
2025-04-15T08:19:34.5138778Z 
2025-04-15T08:19:34.5138941Z PASS test/integration/deduplication/deduplication-helper.test.ts
2025-04-15T08:19:34.5139025Z   Deduplication.DeduplicationHelper
2025-04-15T08:19:34.5139257Z     ✓ Deduplication (mode: entries): DeduplicationHelper should record and check data correctly (16 ms)
2025-04-15T08:19:34.5139532Z     ✓ Deduplication (mode: entries): DeduplicationHelper different contexts should not interfere with each other (13 ms)
2025-04-15T08:19:34.5139700Z     ✓ Deduplication (mode: entries): DeduplicationHelper check maxEntries (8 ms)
2025-04-15T08:19:34.5139848Z     ✓ removeProcessed should throw error for latest modes (16 ms)
2025-04-15T08:19:34.5140045Z     ✓ clearAllProcessedItems should delete all processed items for workflow scope (14 ms)
2025-04-15T08:19:34.5140242Z     ✓ clearAllProcessedItems should delete all processed items for node scope (10 ms)
2025-04-15T08:19:34.5140474Z     ✓ clearAllProcessedItems should not clear workflow processed items when clearing node scope (10 ms)
2025-04-15T08:19:34.5140697Z     ✓ clearAllProcessedItems should not clear node processed items when clearing workflow scope (8 ms)
2025-04-15T08:19:34.5140884Z     ✓ getProcessedDataCount should return correct count for different modes (12 ms)
2025-04-15T08:19:34.5141086Z     Deduplication (mode: latestIncrementalKey): DeduplicationHelper should record and check data correctly
2025-04-15T08:19:34.5141159Z       ✓ dates (19 ms)
2025-04-15T08:19:34.5141225Z       ✓ numbers (5 ms)
2025-04-15T08:19:34.5141229Z 
2025-04-15T08:19:34.5141396Z PASS test/integration/evaluation/test-definitions.api.test.ts (5.16 s)
2025-04-15T08:19:34.5141465Z   GET /evaluation/test-definitions
2025-04-15T08:19:34.5141620Z     ✓ should retrieve empty test definitions list (105 ms)
2025-04-15T08:19:34.5141734Z     ✓ should retrieve test definitions list (41 ms)
2025-04-15T08:19:34.5141888Z     ✓ should retrieve test definitions list with pagination (91 ms)
2025-04-15T08:19:34.5142032Z     ✓ should retrieve test definitions list for a workflow (97 ms)
2025-04-15T08:19:34.5142217Z     ✓ should return error if user has no access to the workflowId specified in filter (50 ms)
2025-04-15T08:19:34.5142321Z   GET /evaluation/test-definitions/:id
2025-04-15T08:19:34.5142421Z     ✓ should retrieve test definition (31 ms)
2025-04-15T08:19:34.5142556Z     ✓ should return 404 for non-existent test definition (32 ms)
2025-04-15T08:19:34.5142717Z     ✓ should retrieve test definition with evaluation workflow (29 ms)
2025-04-15T08:19:34.5142930Z     ✓ should not retrieve test definition if user does not have access to workflow under test (40 ms)
2025-04-15T08:19:34.5143002Z   POST /evaluation/test-definitions
2025-04-15T08:19:34.5143106Z     ✓ should create test definition (83 ms)
2025-04-15T08:19:34.5143341Z     ✓ should create test definition with evaluation workflow (46 ms)
2025-04-15T08:19:34.5143474Z     ✓ should create test definition with all fields (35 ms)
2025-04-15T08:19:34.5143577Z     ✓ should return error if name is empty (33 ms)
2025-04-15T08:19:34.5143725Z     ✓ should return error if user has no access to the workflow (24 ms)
2025-04-15T08:19:34.5143893Z     ✓ should return error if user has no access to the evaluation workflow (25 ms)
2025-04-15T08:19:34.5143979Z   PATCH /evaluation/test-definitions/:id
2025-04-15T08:19:34.5144076Z     ✓ should update test definition (48 ms)
2025-04-15T08:19:34.5144218Z     ✓ should return 404 if user has no access to the workflow (39 ms)
2025-04-15T08:19:34.5144368Z     ✓ should update test definition with evaluation workflow (47 ms)
2025-04-15T08:19:34.5144530Z     ✓ should return error if user has no access to the evaluation workflow (55 ms)
2025-04-15T08:19:34.5144630Z     ✓ should disallow workflowId (25 ms)
2025-04-15T08:19:34.5144731Z     ✓ should update annotationTagId (39 ms)
2025-04-15T08:19:34.5144866Z     ✓ should return error if annotationTagId is invalid (45 ms)
2025-04-15T08:19:34.5145058Z     ✓ should update pinned nodes (43 ms)
2025-04-15T08:19:34.5145190Z     ✓ should return error if pinned nodes are invalid (29 ms)
2025-04-15T08:19:34.5145344Z     ✓ should return error if pinned nodes are not in the workflow (30 ms)
2025-04-15T08:19:34.5145427Z   DELETE /evaluation/test-definitions/:id
2025-04-15T08:19:34.5145520Z     ✓ should delete test definition (50 ms)
2025-04-15T08:19:34.5145661Z     ✓ should return 404 if test definition does not exist (40 ms)
2025-04-15T08:19:34.5145798Z     ✓ should return 404 if user has no access to the workflow (31 ms)
2025-04-15T08:19:34.5145884Z   POST /evaluation/test-definitions/:id/run
2025-04-15T08:19:34.5145993Z     ✓ should trigger the test run (35 ms)
2025-04-15T08:19:34.5146004Z 
2025-04-15T08:19:34.5146121Z PASS src/__tests__/load-nodes-and-credentials.test.ts
2025-04-15T08:19:34.5146184Z   LoadNodesAndCredentials
2025-04-15T08:19:34.5146241Z     resolveIcon
2025-04-15T08:19:34.5146419Z       ✓ should return undefined if the loader for the package is not found (2 ms)
2025-04-15T08:19:34.5146601Z       ✓ should return undefined if the resolved file path is outside the loader directory
2025-04-15T08:19:34.5146765Z       ✓ should return the file path if the file is within the loader directory
2025-04-15T08:19:34.5146916Z       ✓ should return undefined if the URL is outside the package directory
2025-04-15T08:19:34.5147016Z     convertNodeToAiTool
2025-04-15T08:19:34.5147129Z       ✓ should modify the name and displayName correctly
2025-04-15T08:19:34.5147238Z       ✓ should update inputs and outputs (1 ms)
2025-04-15T08:19:34.5147337Z       ✓ should remove the usableAsTool property
2025-04-15T08:19:34.5147471Z       ✓ should add toolDescription property if it doesn't exist
2025-04-15T08:19:34.5147568Z       ✓ should set codex categories correctly
2025-04-15T08:19:34.5147683Z       ✓ should preserve existing properties (1 ms)
2025-04-15T08:19:34.5147797Z       ✓ should handle nodes with resource property
2025-04-15T08:19:34.5147921Z       ✓ should handle nodes with operation property (1 ms)
2025-04-15T08:19:34.5148083Z       ✓ should handle nodes with both resource and operation properties (2 ms)
2025-04-15T08:19:34.5148185Z       ✓ should handle nodes with empty properties
2025-04-15T08:19:34.5148317Z       ✓ should handle nodes with existing codex property (1 ms)
2025-04-15T08:19:34.5148481Z       ✓ should handle nodes with existing codex with tool subcategory overwrite
2025-04-15T08:19:34.5148599Z       ✓ should handle nodes with very long names (4 ms)
2025-04-15T08:19:34.5148746Z       ✓ should handle nodes with special characters in name and displayName
2025-04-15T08:19:34.5148804Z     resolveSchema
2025-04-15T08:19:34.5148935Z       ✓ should return undefined if the node is not known (1 ms)
2025-04-15T08:19:34.5149066Z       ✓ should return the correct path if the node is known
2025-04-15T08:19:34.5149318Z       ✓ should return the correct path if there is no resource or operation
2025-04-15T08:19:34.5149381Z     createAiTools
2025-04-15T08:19:34.5149503Z       ✓ should create AI tools for nodes marked as usableAsTool
2025-04-15T08:19:34.5149622Z       ✓ should duplicate supportedNodes for AI tools
2025-04-15T08:19:34.5149744Z       ✓ should not modify nodes without usableAsTool property
2025-04-15T08:19:34.5149902Z       ✓ should handle nodes with usableAsTool as an object with replacements
2025-04-15T08:19:34.5149906Z 
2025-04-15T08:19:34.5150111Z PASS test/integration/controllers/invitation/invitation.controller.integration.test.ts
2025-04-15T08:19:34.5150164Z   InvitationController
2025-04-15T08:19:34.5150240Z     POST /invitations/:id/accept
2025-04-15T08:19:34.5150336Z       ✓ should fill out a member shell (134 ms)
2025-04-15T08:19:34.5150440Z       ✓ should fill out an admin shell (114 ms)
2025-04-15T08:19:34.5150542Z       ✓ should fail with invalid payloads (18 ms)
2025-04-15T08:19:34.5150667Z       ✓ should fail with already accepted invite (109 ms)
2025-04-15T08:19:34.5150812Z     POST /invitations
2025-04-15T08:19:34.5150921Z       ✓ should fail with invalid payloads (43 ms)
2025-04-15T08:19:34.5151024Z       ✓ should return 200 on empty payload (9 ms)
2025-04-15T08:19:34.5151148Z       ✓ should return 200 if emailing is not set up (11 ms)
2025-04-15T08:19:34.5151240Z       ✓ should create member shell (22 ms)
2025-04-15T08:19:34.5151380Z       ✓ should create personal project for shell account (11 ms)
2025-04-15T08:19:34.5151538Z       ✓ should create admin shell when advanced permissions is licensed (12 ms)
2025-04-15T08:19:34.5151670Z       ✓ should reinvite member when sharing is licensed (24 ms)
2025-04-15T08:19:34.5151830Z       ✓ should reinvite admin when advanced permissions is licensed (23 ms)
2025-04-15T08:19:34.5152029Z       ✓ should return 403 on creating admin shell when advanced permissions is unlicensed (5 ms)
2025-04-15T08:19:34.5152228Z       ✓ should email invites and create user shells, without inviting existing users (37 ms)
2025-04-15T08:19:34.5152401Z       ✓ should return 200 and surface error when invite method throws error (11 ms)
2025-04-15T08:19:34.5152405Z 
2025-04-15T08:19:34.5152578Z PASS src/controllers/oauth/__tests__/oauth2-credential.controller.test.ts
2025-04-15T08:19:34.5152640Z   OAuth2CredentialController
2025-04-15T08:19:34.5152701Z     getAuthUri
2025-04-15T08:19:34.5152886Z       ✓ should throw a BadRequestError when credentialId is missing in the query (16 ms)
2025-04-15T08:19:34.5153080Z       ✓ should throw a NotFoundError when no matching credential is found for the user (1 ms)
2025-04-15T08:19:34.5153176Z       ✓ should return a valid auth URI (3 ms)
2025-04-15T08:19:34.5153235Z     handleCallback
2025-04-15T08:19:34.5153388Z       ✓ should render the error page when required query params are missing
2025-04-15T08:19:34.5153550Z       ✓ should render the error page when `state` query param is invalid (1 ms)
2025-04-15T08:19:34.5153714Z       ✓ should render the error page when credential is not found in DB (1 ms)
2025-04-15T08:19:34.5153921Z       ✓ should render the error page when csrfSecret on the saved credential does not match the state
2025-04-15T08:19:34.5154075Z       ✓ should render the error page when state is older than 5 minutes (1 ms)
2025-04-15T08:19:34.5154210Z       ✓ should render the error page when code exchange fails (44 ms)
2025-04-15T08:19:34.5154368Z       ✓ should exchange the code for a valid token, and save it to DB (21 ms)
2025-04-15T08:19:34.5154486Z       ✓ merges oauthTokenData if it already exists (21 ms)
2025-04-15T08:19:34.5154612Z       ✓ overwrites oauthTokenData if it is a string (17 ms)
2025-04-15T08:19:34.5154616Z 
2025-04-15T08:19:34.5154708Z PASS test/integration/variables.test.ts
2025-04-15T08:19:34.5154766Z   GET /variables
2025-04-15T08:19:34.5154921Z     ✓ should return an empty array if there is nothing in the cache (35 ms)
2025-04-15T08:19:34.5155035Z     ✓ should return all variables for an owner (21 ms)
2025-04-15T08:19:34.5155247Z     ✓ should return all variables for a member (16 ms)
2025-04-15T08:19:34.5155303Z     state:empty
2025-04-15T08:19:34.5155403Z       ✓ only return empty variables (19 ms)
2025-04-15T08:19:34.5155454Z   GET /variables/:id
2025-04-15T08:19:34.5155584Z     ✓ should return a single variable for an owner (16 ms)
2025-04-15T08:19:34.5155701Z     ✓ should return a single variable for a member (15 ms)
2025-04-15T08:19:34.5155756Z   POST /variables
2025-04-15T08:19:34.5155894Z     ✓ should create a new variable and return it for an owner (13 ms)
2025-04-15T08:19:34.5156050Z     ✓ should not create a new variable and return it for a member (9 ms)
2025-04-15T08:19:34.5156247Z     ✓ should not create a new variable and return it if the instance doesn't have a license (7 ms)
2025-04-15T08:19:34.5156423Z     ✓ should fail to create a new variable and if one with the same key exists (20 ms)
2025-04-15T08:19:34.5156538Z     ✓ should not fail if variable limit not reached (16 ms)
2025-04-15T08:19:34.5156657Z     ✓ should fail if variable limit reached (44 ms)
2025-04-15T08:19:34.5156839Z     ✓ should fail if key too long (13 ms)
2025-04-15T08:19:34.5156979Z     ✓ should fail if value too long (7 ms)
2025-04-15T08:19:34.5157111Z     ✓ should fail if key contain's prohibited characters (6 ms)
2025-04-15T08:19:34.5157166Z   PATCH /variables/:id
2025-04-15T08:19:34.5157306Z     ✓ should modify existing variable if use is an owner (23 ms)
2025-04-15T08:19:34.5157433Z     ✓ should modify existing variable if use is an owner (26 ms)
2025-04-15T08:19:34.5157580Z     ✓ should not modify existing variable if use is a member (15 ms)
2025-04-15T08:19:34.5157744Z     ✓ should not modify existing variable if one with the same key exists (10 ms)
2025-04-15T08:19:34.5157804Z   DELETE /variables/:id
2025-04-15T08:19:34.5157919Z     ✓ should delete a single variable for an owner (31 ms)
2025-04-15T08:19:34.5158051Z     ✓ should not delete a single variable for a member (29 ms)
2025-04-15T08:19:34.5158055Z 
2025-04-15T08:19:34.5158195Z PASS src/workflows/__tests__/workflow-execution.service.test.ts
2025-04-15T08:19:34.5158262Z   WorkflowExecutionService
2025-04-15T08:19:34.5158313Z     runWorkflow()
2025-04-15T08:19:34.5158420Z       ✓ should call `WorkflowRunner.run()` (5 ms)
2025-04-15T08:19:34.5158471Z     executeManually()
2025-04-15T08:19:34.5158713Z       ✓ should call `WorkflowRunner.run()` with correct parameters with default partial execution logic (14 ms)
2025-04-15T08:19:34.5158857Z       ✓ removes runData if the destination node is a trigger (1 ms)
2025-04-15T08:19:34.5159081Z       ✓ should call WorkflowRunner.run() with pinned trigger with type trigger (1 ms)
2025-04-15T08:19:34.5159263Z       ✓ should call WorkflowRunner.run() with pinned trigger with type webhook
2025-04-15T08:19:34.5159399Z       ✓ should start from pinned trigger (1 ms)
2025-04-15T08:19:34.5159596Z       ✓ should ignore pinned trigger and start from unexecuted trigger
2025-04-15T08:19:34.5159701Z     selectPinnedActivatorStarter()
2025-04-15T08:19:34.5159868Z       ✓ should return `null` if no pindata
2025-04-15T08:19:34.5160005Z       ✓ should return `null` if no starter nodes
2025-04-15T08:19:34.5160173Z       ✓ should select webhook node if only choice
2025-04-15T08:19:34.5160300Z       ✓ should return `null` if no choice (1 ms)
2025-04-15T08:19:34.5160466Z       ✓ should return ignore Respond to Webhook
2025-04-15T08:19:34.5160621Z       ✓ should select execute workflow trigger if only choice
2025-04-15T08:19:34.5160810Z       ✓ should favor webhook node over execute workflow trigger
2025-04-15T08:19:34.5160966Z       ✓ should favor first webhook node over second webhook node
2025-04-15T08:19:34.5161109Z       offloading manual executions to workers
2025-04-15T08:19:34.5161341Z         ✓ when receiving no `runData`, should set `runData` to undefined in `executionData` (2 ms)
2025-04-15T08:19:34.5161384Z 
2025-04-15T08:19:34.5161524Z PASS src/__tests__/manual-execution.service.test.ts
2025-04-15T08:19:34.5161657Z   ManualExecutionService
2025-04-15T08:19:34.5161845Z     getExecutionStartNode
2025-04-15T08:19:34.5162017Z       ✓ Should return undefined (3 ms)
2025-04-15T08:19:34.5162140Z       ✓ Should return startNode (1 ms)
2025-04-15T08:19:34.5162321Z       ✓ Should return triggerToStartFrom trigger node
2025-04-15T08:19:34.5162400Z     runManually
2025-04-15T08:19:34.5162705Z       ✓ should correctly process triggerToStartFrom data when data.triggerToStartFrom.data is present (3 ms)
2025-04-15T08:19:34.5162916Z       ✓ should correctly include destinationNode in executionData when provided (1 ms)
2025-04-15T08:19:34.5163181Z       ✓ should call workflowExecute.run for full execution when no runData or startNodes
2025-04-15T08:19:34.5163377Z       ✓ should use execution start node when available for full execution (1 ms)
2025-04-15T08:19:34.5163663Z       ✓ should handle partial execution with provided runData, startNodes and no destinationNode (1 ms)
2025-04-15T08:19:34.5163892Z       ✓ should handle partial execution with partialExecutionVersion=2 (1 ms)
2025-04-15T08:19:34.5164040Z       ✓ should validate nodes exist before execution
2025-04-15T08:19:34.5164332Z       ✓ should handle pinData correctly when provided (9 ms)
2025-04-15T08:19:34.5164336Z 
2025-04-15T08:19:34.5164456Z PASS test/integration/mfa/mfa.api.test.ts
2025-04-15T08:19:34.5164578Z   Enable MFA setup
2025-04-15T08:19:34.5164658Z     Step one
2025-04-15T08:19:34.5164852Z       ✓ GET /qr should fail due to unauthenticated user (61 ms)
2025-04-15T08:19:34.5165057Z       ✓ GET /qr should reuse secret and recovery codes until setup is complete (96 ms)
2025-04-15T08:19:34.5165255Z       ✓ GET /qr should return qr, secret and recovery codes (28 ms)
2025-04-15T08:19:34.5165333Z     Step two
2025-04-15T08:19:34.5165546Z       ✓ POST /verify should fail due to unauthenticated user (16 ms)
2025-04-15T08:19:34.5165705Z       ✓ POST /verify should fail due to invalid MFA code (26 ms)
2025-04-15T08:19:34.5165928Z       ✓ POST /verify should fail due to missing mfaCode parameter (23 ms)
2025-04-15T08:19:34.5166074Z       ✓ POST /verify should validate MFA code (62 ms)
2025-04-15T08:19:34.5166199Z     Step three
2025-04-15T08:19:34.5166404Z       ✓ POST /enable should fail due to unauthenticated user (12 ms)
2025-04-15T08:19:34.5166582Z       ✓ POST /verify should fail due to missing mfaCode parameter (38 ms)
2025-04-15T08:19:34.5166774Z       ✓ POST /enable should fail due to invalid MFA code (64 ms)
2025-04-15T08:19:34.5166969Z       ✓ POST /enable should fail due to empty secret and recovery codes (12 ms)
2025-04-15T08:19:34.5167177Z       ✓ POST /enable should enable MFA in account (43 ms)
2025-04-15T08:19:34.5167348Z       ✓ POST /enable should not enable MFA if pre check fails (39 ms)
2025-04-15T08:19:34.5167486Z   Disable MFA setup
2025-04-15T08:19:34.5167634Z     ✓ POST /disable should disable login with MFA (38 ms)
2025-04-15T08:19:34.5167858Z     ✓ POST /disable should fail if invalid MFA recovery code is given (24 ms)
2025-04-15T08:19:34.5168027Z     ✓ POST /disable should fail if invalid MFA code is given (30 ms)
2025-04-15T08:19:34.5168365Z     ✓ POST /disable should fail if neither MFA code nor recovery code is sent (41 ms)
2025-04-15T08:19:34.5168469Z   Change password with MFA enabled
2025-04-15T08:19:34.5168685Z     ✓ POST /change-password should fail due to missing MFA code (62 ms)
2025-04-15T08:19:34.5168859Z     ✓ POST /change-password should fail due to invalid MFA code (29 ms)
2025-04-15T08:19:34.5169806Z     ✓ POST /change-password should update password (173 ms)
2025-04-15T08:19:34.5169926Z   MFA before enable checks
2025-04-15T08:19:34.5170133Z     ✓ POST /can-enable should throw error if mfa.beforeSetup returns error (23 ms)
2025-04-15T08:19:34.5170378Z     ✓ POST /can-enable should not throw error if mfa.beforeSetup does not exist (17 ms)
2025-04-15T08:19:34.5170459Z   Login
2025-04-15T08:19:34.5170694Z     ✓ POST /login with email/password should succeed when mfa is disabled (28 ms)
2025-04-15T08:19:34.5170928Z     ✓ GET /login should not include mfaSecret and mfaRecoveryCodes property in response (21 ms)
2025-04-15T08:19:34.5171260Z     ✓ POST /login with email/password should fail when mfa is enabled (20 ms)
2025-04-15T08:19:34.5171338Z     Login with MFA token
2025-04-15T08:19:34.5171473Z       ✓ POST /login should fail due to invalid MFA token (40 ms)
2025-04-15T08:19:34.5171597Z       ✓ POST /login should fail due two MFA step needed (24 ms)
2025-04-15T08:19:34.5171716Z       ✓ POST /login should succeed with MFA token (16 ms)
2025-04-15T08:19:34.5171769Z     Login with recovery code
2025-04-15T08:19:34.5171924Z       ✓ POST /login should fail due to invalid MFA recovery code (27 ms)
2025-04-15T08:19:34.5172055Z       ✓ POST /login should succeed with MFA recovery code (23 ms)
2025-04-15T08:19:34.5172064Z 
2025-04-15T08:19:34.5172175Z PASS src/controllers/__tests__/me.controller.test.ts
2025-04-15T08:19:34.5172232Z   MeController
2025-04-15T08:19:34.5172283Z     updateCurrentUser
2025-04-15T08:19:34.5172432Z       ✓ should update the user in the DB, and issue a new cookie (11 ms)
2025-04-15T08:19:34.5172622Z       ✓ should throw BadRequestError if beforeUpdate hook throws BadRequestError (26 ms)
2025-04-15T08:19:34.5172884Z       when mfa is enabled
2025-04-15T08:19:34.5173020Z         ✓ should throw BadRequestError if mfa code is missing (1 ms)
2025-04-15T08:19:34.5173156Z         ✓ should throw InvalidMfaCodeError if mfa code is invalid
2025-04-15T08:19:34.5173284Z         ✓ should update the user's email if mfa code is valid (1 ms)
2025-04-15T08:19:34.5173347Z     updatePassword
2025-04-15T08:19:34.5173478Z       ✓ should throw if the user does not have a password set (1 ms)
2025-04-15T08:19:34.5173652Z       ✓ should throw if currentPassword does not match the user's password (65 ms)
2025-04-15T08:19:34.5173803Z       ✓ should update the password in the DB, and issue a new cookie (110 ms)
2025-04-15T08:19:34.5173893Z       should throw if newPassword is not valid
2025-04-15T08:19:34.5173963Z         ✓ pass (59 ms)
2025-04-15T08:19:34.5174033Z         ✓ password (61 ms)
2025-04-15T08:19:34.5174114Z         ✓ password1 (57 ms)
2025-04-15T08:19:34.5174168Z       mfa enabled
2025-04-15T08:19:34.5174316Z         ✓ should throw BadRequestError if mfa code is missing (54 ms)
2025-04-15T08:19:34.5174477Z         ✓ should throw InvalidMfaCodeError if invalid mfa code is given (54 ms)
2025-04-15T08:19:34.5174600Z         ✓ should succeed when mfa code is correct (110 ms)
2025-04-15T08:19:34.5174656Z     storeSurveyAnswers
2025-04-15T08:19:34.5174824Z       ✓ should throw BadRequestError if answers are missing in the payload (1 ms)
2025-04-15T08:19:34.5174968Z       ✓ should not flag XSS attempt for `<` sign in company size (4 ms)
2025-04-15T08:19:34.5175181Z       ✓ should throw BadRequestError on XSS attempt for an array field automationGoalDevops (1 ms)
2025-04-15T08:19:34.5175393Z       ✓ should throw BadRequestError on XSS attempt for an array field companyIndustryExtended (1 ms)
2025-04-15T08:19:34.5175621Z       ✓ should throw BadRequestError on XSS attempt for an array field otherCompanyIndustryExtended (1 ms)
2025-04-15T08:19:34.5175803Z       ✓ should throw BadRequestError on XSS attempt for an array field automationGoalSm
2025-04-15T08:19:34.5175990Z       ✓ should throw BadRequestError on XSS attempt for an array field usageModes (1 ms)
2025-04-15T08:19:34.5176194Z       ✓ should throw BadRequestError on XSS attempt for a string field automationGoalDevopsOther
2025-04-15T08:19:34.5176378Z       ✓ should throw BadRequestError on XSS attempt for a string field companySize (1 ms)
2025-04-15T08:19:34.5176549Z       ✓ should throw BadRequestError on XSS attempt for a string field companyType
2025-04-15T08:19:34.5176750Z       ✓ should throw BadRequestError on XSS attempt for a string field automationGoalSmOther (1 ms)
2025-04-15T08:19:34.5176971Z       ✓ should throw BadRequestError on XSS attempt for a string field roleOther (1 ms)
2025-04-15T08:19:34.5177145Z       ✓ should throw BadRequestError on XSS attempt for a string field reportedSource
2025-04-15T08:19:34.5177453Z       ✓ should throw BadRequestError on XSS attempt for a string field reportedSourceOther (1 ms)
2025-04-15T08:19:34.5177463Z 
2025-04-15T08:19:34.5177570Z PASS src/webhooks/__tests__/webhook-helpers.test.ts
2025-04-15T08:19:34.5177646Z   autoDetectResponseMode
2025-04-15T08:19:34.5177850Z     ✓ should return undefined if start node is WAIT_NODE_TYPE with resume not equal to form (14 ms)
2025-04-15T08:19:34.5178045Z     ✓ should return responseNode when start node is FORM_NODE_TYPE and method is POST (15 ms)
2025-04-15T08:19:34.5178256Z     ✓ should return undefined when start node is FORM_NODE_TYPE with no other form child nodes (7 ms)
2025-04-15T08:19:34.5178412Z     ✓ should return undefined for non-matching node type and method (1 ms)
2025-04-15T08:19:34.5178479Z   handleFormRedirectionCase
2025-04-15T08:19:34.5178690Z     ✓ should return data unchanged if start node is WAIT_NODE_TYPE with resume not equal to form (1 ms)
2025-04-15T08:19:34.5178858Z     ✓ should modify data if start node type matches and responseCode is a redirect
2025-04-15T08:19:34.5178982Z     ✓ should not modify data if location header is missing
2025-04-15T08:19:34.5179157Z   getResponseOnReceived
2025-04-15T08:19:34.5179317Z     ✓ should return response with no data when responseData is "noData" (1 ms)
2025-04-15T08:19:34.5179478Z     ✓ should return response with responseData when it is defined
2025-04-15T08:19:34.5179716Z     ✓ should return response with webhookResponse when responseData is falsy but webhookResponse exists (1 ms)
2025-04-15T08:19:34.5179919Z     ✓ should return default response message when responseData and webhookResponse are falsy
2025-04-15T08:19:34.5179985Z   setupResponseNodePromise
2025-04-15T08:19:34.5180091Z     ✓ should handle regular response object (2 ms)
2025-04-15T08:19:34.5180195Z     ✓ should handle binary data with ID (2 ms)
2025-04-15T08:19:34.5180292Z     ✓ should handle buffer response (13 ms)
2025-04-15T08:19:34.5180396Z     ✓ should handle errors properly (1 ms)
2025-04-15T08:19:34.5180449Z   prepareExecutionData
2025-04-15T08:19:34.5180589Z     ✓ should create new execution data when not provided (1 ms)
2025-04-15T08:19:34.5180744Z     ✓ should update existing runExecutionData when executionId is defined
2025-04-15T08:19:34.5180873Z     ✓ should set destination node when provided
2025-04-15T08:19:34.5181011Z     ✓ should update execution data with execution data merge (1 ms)
2025-04-15T08:19:34.5181134Z     ✓ should set pinData when execution mode is manual
2025-04-15T08:19:34.5181287Z     ✓ should not set pinData when execution mode is not manual or evaluation
2025-04-15T08:19:34.5181290Z 
2025-04-15T08:19:34.5181382Z PASS test/integration/me.api.test.ts
2025-04-15T08:19:34.5181430Z   Owner shell
2025-04-15T08:19:34.5181554Z     ✓ PATCH /me should succeed with valid inputs (60 ms)
2025-04-15T08:19:34.5181674Z     ✓ PATCH /me should fail with invalid inputs (81 ms)
2025-04-15T08:19:34.5181785Z     ✓ PATCH /me/password should fail for shell (71 ms)
2025-04-15T08:19:34.5181919Z     ✓ POST /me/survey should succeed with valid inputs (23 ms)
2025-04-15T08:19:34.5181974Z   Member
2025-04-15T08:19:34.5182089Z     ✓ PATCH /me should succeed with valid inputs (34 ms)
2025-04-15T08:19:34.5182197Z     ✓ PATCH /me should fail with invalid inputs (56 ms)
2025-04-15T08:19:34.5182343Z     ✓ PATCH /me/password should succeed with valid inputs (82 ms)
2025-04-15T08:19:34.5182476Z     ✓ PATCH /me/password should fail with invalid inputs (51 ms)
2025-04-15T08:19:34.5182606Z     ✓ POST /me/survey should succeed with valid inputs (33 ms)
2025-04-15T08:19:34.5182654Z   Owner
2025-04-15T08:19:34.5182769Z     ✓ PATCH /me should succeed with valid inputs (41 ms)
2025-04-15T08:19:34.5182773Z 
2025-04-15T08:19:34.5182876Z PASS src/webhooks/__tests__/webhook.service.test.ts
2025-04-15T08:19:34.5182934Z   WebhookService
2025-04-15T08:19:34.5183013Z     findWebhook() - static case [cache enabled]
2025-04-15T08:19:34.5183164Z       ✓ should return the webhook if found (3 ms)
2025-04-15T08:19:34.5183255Z       ✓ should return null if not found
2025-04-15T08:19:34.5183443Z     findWebhook() - dynamic case [cache enabled]
2025-04-15T08:19:34.5183551Z       ✓ should return the webhook if found (1 ms)
2025-04-15T08:19:34.5183661Z       ✓ should handle subset dynamic path case (1 ms)
2025-04-15T08:19:34.5183781Z       ✓ should handle single-segment dynamic path case
2025-04-15T08:19:34.5183868Z       ✓ should return null if not found
2025-04-15T08:19:34.5183952Z     findWebhook() - static case [cache disabled]
2025-04-15T08:19:34.5184048Z       ✓ should return the webhook if found (1 ms)
2025-04-15T08:19:34.5184138Z       ✓ should return null if not found
2025-04-15T08:19:34.5184257Z     findWebhook() - dynamic case [cache disabled]
2025-04-15T08:19:34.5184352Z       ✓ should return the webhook if found
2025-04-15T08:19:34.5184459Z       ✓ should handle subset dynamic path case (1 ms)
2025-04-15T08:19:34.5184569Z       ✓ should handle single-segment dynamic path case
2025-04-15T08:19:34.5184664Z       ✓ should return null if not found (1 ms)
2025-04-15T08:19:34.5184731Z     getWebhookMethods()
2025-04-15T08:19:34.5184934Z       ✓ should return all methods for webhook
2025-04-15T08:19:34.5185063Z       ✓ should return empty array if no webhooks found (1 ms)
2025-04-15T08:19:34.5185119Z     deleteWorkflowWebhooks()
2025-04-15T08:19:34.5185228Z       ✓ should delete all webhooks of the workflow
2025-04-15T08:19:34.5185333Z       ✓ should not delete any webhooks if none found
2025-04-15T08:19:34.5185392Z     createWebhook()
2025-04-15T08:19:34.5185489Z       ✓ should store webhook in DB (1 ms)
2025-04-15T08:19:34.5185554Z     getNodeWebhooks()
2025-04-15T08:19:34.5185678Z       ✓ should return empty array if node is disabled
2025-04-15T08:19:34.5185830Z       ✓ should return webhooks for node with webhook definitions (1 ms)
2025-04-15T08:19:34.5185907Z     createWebhookIfNotExists()
2025-04-15T08:19:34.5186026Z       ✓ should create webhook if it does not exist (1 ms)
2025-04-15T08:19:34.5186144Z       ✓ should not create webhook if it already exists
2025-04-15T08:19:34.5186279Z       ✓ should handle case when webhook methods are not defined
2025-04-15T08:19:34.5186346Z     deleteWebhook()
2025-04-15T08:19:34.5186457Z       ✓ should call runWebhookMethod with delete (1 ms)
2025-04-15T08:19:34.5186520Z     runWebhook()
2025-04-15T08:19:34.5186654Z       ✓ should throw error if node does not have webhooks (11 ms)
2025-04-15T08:19:34.5186791Z       ✓ should execute webhook and return response data (1 ms)
2025-04-15T08:19:34.5186794Z 
2025-04-15T08:19:34.5186882Z PASS test/integration/auth.api.test.ts
2025-04-15T08:19:34.5186984Z   POST /login
2025-04-15T08:19:34.5187072Z     ✓ should log user in (54 ms)
2025-04-15T08:19:34.5187178Z     ✓ should log user with MFA enabled (43 ms)
2025-04-15T08:19:34.5187360Z     ✓ should throw AuthError for non-owner if not within users limit quota (52 ms)
2025-04-15T08:19:34.5187528Z     ✓ should not throw AuthError for owner if not within users limit quota (31 ms)
2025-04-15T08:19:34.5187763Z     ✓ should fail with invalid email in the payload is the current authentication method is "email" (17 ms)
2025-04-15T08:19:34.5187817Z   GET /login
2025-04-15T08:19:34.5187943Z     ✓ should return 401 Unauthorized if no cookie (19 ms)
2025-04-15T08:19:34.5188070Z     ✓ should return 401 Unauthorized if invalid cookie (15 ms)
2025-04-15T08:19:34.5188180Z     ✓ should return logged-in owner shell (23 ms)
2025-04-15T08:19:34.5188282Z     ✓ should return logged-in member shell (21 ms)
2025-04-15T08:19:34.5188386Z     ✓ should return logged-in owner (28 ms)
2025-04-15T08:19:34.5188480Z     ✓ should return logged-in member (15 ms)
2025-04-15T08:19:34.5188546Z   GET /resolve-signup-token
2025-04-15T08:19:34.5188639Z     ✓ should validate invite token (33 ms)
2025-04-15T08:19:34.5188758Z     ✓ should return 403 if user quota reached (25 ms)
2025-04-15T08:19:34.5188855Z     ✓ should fail with invalid inputs (40 ms)
2025-04-15T08:19:34.5188911Z   POST /logout
2025-04-15T08:19:34.5188992Z     ✓ should log user out (19 ms)
2025-04-15T08:19:34.5188995Z 
2025-04-15T08:19:34.5189265Z PASS test/integration/environments/source-control-import.service.test.ts
2025-04-15T08:19:34.5189337Z   SourceControlImportService
2025-04-15T08:19:34.5189413Z     importCredentialsFromWorkFolder()
2025-04-15T08:19:34.5189532Z       if user email specified by `ownedBy` exists at target instance
2025-04-15T08:19:34.5189675Z         ✓ should assign credential ownership to original user (29 ms)
2025-04-15T08:19:34.5189764Z       if user email specified by `ownedBy` is `null`
2025-04-15T08:19:34.5189900Z         ✓ should assign credential ownership to importing user (7 ms)
2025-04-15T08:19:34.5190025Z       if user email specified by `ownedBy` does not exist at target instance
2025-04-15T08:19:34.5190187Z         ✓ should assign credential ownership to importing user (9 ms)
2025-04-15T08:19:34.5190302Z     if owner specified by `ownedBy` does not exist at target instance
2025-04-15T08:19:34.5190592Z       ✓ should assign the credential ownership to the importing user if it was owned by a personal project in the source instance (9 ms)
2025-04-15T08:19:34.5190930Z       ✓ should create a new team project if the credential was owned by a team project in the source instance (10 ms)
2025-04-15T08:19:34.5191040Z     if owner specified by `ownedBy` does exist at target instance
2025-04-15T08:19:34.5191232Z       ✓ should use the existing team project if credential owning project is found (13 ms)
2025-04-15T08:19:34.5191455Z       ✓ should not change the owner if the credential is owned by somebody else on the target instance (14 ms)
2025-04-15T08:19:34.5191459Z 
2025-04-15T08:19:34.5191917Z (node:6051) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 uncaughtException listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
2025-04-15T08:19:34.5192068Z (Use `node --trace-warnings ...` to show where the warning was created)
2025-04-15T08:19:34.5192170Z PASS test/integration/commands/ldap/reset.test.ts
2025-04-15T08:19:34.5192426Z   ✓ fails if neither `--userId` nor `--projectId` nor `--deleteWorkflowsAndCredentials` is passed (27 ms)
2025-04-15T08:19:34.5192657Z   ✓ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (4 ms)
2025-04-15T08:19:34.5192865Z   ✓ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (5 ms)
2025-04-15T08:19:34.5193081Z   ✓ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (1 ms)
2025-04-15T08:19:34.5193289Z   ✓ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (2 ms)
2025-04-15T08:19:34.5193372Z   --deleteWorkflowsAndCredentials
2025-04-15T08:19:34.5193582Z     ✓ deletes personal projects, workflows and credentials owned by LDAP managed users (101 ms)
2025-04-15T08:19:34.5193688Z     ✓ deletes the LDAP sync history (8 ms)
2025-04-15T08:19:34.5193774Z     ✓ resets LDAP settings (17 ms)
2025-04-15T08:19:34.5193834Z   --userId
2025-04-15T08:19:34.5193940Z     ✓ fails if the user does not exist (6 ms)
2025-04-15T08:19:34.5194086Z     ✓ fails if the user to migrate to is also an LDAP user (11 ms)
2025-04-15T08:19:34.5194262Z     ✓ transfers all workflows and credentials to the user's personal project (87 ms)
2025-04-15T08:19:34.5194320Z   --projectId
2025-04-15T08:19:34.5194431Z     ✓ fails if the project does not exist (4 ms)
2025-04-15T08:19:34.5194561Z     ✓ fails if the user to migrate to is also an LDAP user (8 ms)
2025-04-15T08:19:34.5194724Z     ✓ transfers all workflows and credentials to a personal project (63 ms)
2025-04-15T08:19:34.5194871Z     ✓ transfers all workflows and credentials to a team project (52 ms)
2025-04-15T08:19:34.5194875Z 
2025-04-15T08:19:34.5195071Z PASS src/executions/pre-execution-checks/__tests__/subworkflow-policy-checker.test.ts
2025-04-15T08:19:34.5195131Z   SubworkflowPolicyChecker
2025-04-15T08:19:34.5195187Z     no caller policy
2025-04-15T08:19:34.5195344Z       ✓ should fall back to `N8N_WORKFLOW_CALLER_POLICY_DEFAULT_OPTION` (16 ms)
2025-04-15T08:19:34.5195532Z     `workflows-from-list` caller policy
2025-04-15T08:19:34.5195679Z       ✓ should allow if caller list contains parent workflow ID (1 ms)
2025-04-15T08:19:34.5195844Z       ✓ should deny if caller list does not contain parent workflow ID (1 ms)
2025-04-15T08:19:34.5195897Z     `any` caller policy
2025-04-15T08:19:34.5196016Z       ✓ should not throw on a regular subworkflow call
2025-04-15T08:19:34.5196105Z     `workflows-from-same-owner` caller policy
2025-04-15T08:19:34.5196251Z       ✓ should deny if the two workflows are owned by different projects
2025-04-15T08:19:34.5196407Z       ✓ should allow if both workflows are owned by the same project (1 ms)
2025-04-15T08:19:34.5196459Z     error details
2025-04-15T08:19:34.5196592Z       ✓ should contain description for accessible case (1 ms)
2025-04-15T08:19:34.5196744Z       ✓ should contain description for inaccessible personal project case
2025-04-15T08:19:34.5196909Z       ✓ should contain description for inaccessible team project case (1 ms)
2025-04-15T08:19:34.5197210Z       ✓ should contain description for default (e.g. error workflow) case (1 ms)
2025-04-15T08:19:34.5197214Z 
2025-04-15T08:19:34.5197319Z PASS src/__tests__/active-executions.test.ts
2025-04-15T08:19:34.5197372Z   ActiveExecutions
2025-04-15T08:19:34.5197539Z     ✓ Should initialize activeExecutions with empty list (3 ms)
2025-04-15T08:19:34.5197660Z     ✓ Should add execution to active execution list (1 ms)
2025-04-15T08:19:34.5197813Z     ✓ Should update execution if add is called with execution ID (1 ms)
2025-04-15T08:19:34.5198002Z     ✓ Should attach and resolve response promise to existing execution (1 ms)
2025-04-15T08:19:34.5198201Z     ✓ Should copy over startedAt and responsePromise when resuming a waiting execution (1 ms)
2025-04-15T08:19:34.5198265Z     attachWorkflowExecution
2025-04-15T08:19:34.5198408Z       ✓ Should fail attaching execution to invalid executionId (12 ms)
2025-04-15T08:19:34.5198575Z       ✓ Should successfully attach execution to valid executionId (1 ms)
2025-04-15T08:19:34.5198635Z     finalizeExecution
2025-04-15T08:19:34.5198747Z       ✓ Should not remove a waiting execution (1 ms)
2025-04-15T08:19:34.5198852Z       ✓ Should remove an existing execution (4 ms)
2025-04-15T08:19:34.5199040Z       ✓ Should not try to resolve a post-execute promise for an inactive execution (1 ms)
2025-04-15T08:19:34.5199166Z       ✓ Should resolve post execute promise on removal (5 ms)
2025-04-15T08:19:34.5199234Z     getPostExecutePromise
2025-04-15T08:19:34.5199412Z       ✓ Should throw error when trying to create a promise with invalid execution (1 ms)
2025-04-15T08:19:34.5199489Z     stopExecution
2025-04-15T08:19:34.5199590Z       ✓ Should cancel ongoing executions (1 ms)
2025-04-15T08:19:34.5199696Z       ✓ Should cancel waiting executions (1 ms)
2025-04-15T08:19:34.5199742Z     shutdown
2025-04-15T08:19:34.5199914Z       ✓ Should cancel only executions with response-promises by default (8 ms)
2025-04-15T08:19:34.5200062Z       ✓ Should cancel all executions when cancelAll is true (1 ms)
2025-04-15T08:19:34.5200069Z 
2025-04-15T08:19:34.5200166Z PASS src/telemetry/__tests__/telemetry.test.ts
2025-04-15T08:19:34.5200224Z   Telemetry
2025-04-15T08:19:34.5200282Z     trackWorkflowExecution
2025-04-15T08:19:34.5200389Z       ✓ should count executions correctly (4 ms)
2025-04-15T08:19:34.5200558Z       ✓ should fire "Workflow execution errored" event for failed executions (1 ms)
2025-04-15T08:19:34.5200702Z       ✓ should track production executions count correctly (5 ms)
2025-04-15T08:19:34.5200754Z     Rudderstack
2025-04-15T08:19:34.5201031Z       ✓ should call rudderStack.identify() with a fake IP address to instruct Rudderstack to not use the user's IP address (1 ms)
2025-04-15T08:19:34.5201285Z       ✓ should call rudderStack.track() with a fake IP address to instruct Rudderstack to not use the user's IP address (1 ms)
2025-04-15T08:19:34.5201288Z 
2025-04-15T08:19:34.5201402Z PASS test/integration/public-api/credentials.test.ts
2025-04-15T08:19:34.5201571Z   POST /credentials
2025-04-15T08:19:34.5201670Z     ✓ should create credentials (178 ms)
2025-04-15T08:19:34.5201775Z     ✓ should fail with invalid inputs (25 ms)
2025-04-15T08:19:34.5201829Z   DELETE /credentials/:id
2025-04-15T08:19:34.5201938Z     ✓ should delete owned cred for owner (17 ms)
2025-04-15T08:19:34.5202042Z     ✓ should delete non-owned cred for owner (23 ms)
2025-04-15T08:19:34.5202153Z     ✓ should delete owned cred for member (25 ms)
2025-04-15T08:19:34.5202307Z     ✓ should delete owned cred for member but leave others untouched (37 ms)
2025-04-15T08:19:34.5202430Z     ✓ should not delete non-owned cred for member (52 ms)
2025-04-15T08:19:34.5202520Z     ✓ should fail if cred not found (6 ms)
2025-04-15T08:19:34.5202603Z   GET /credentials/schema/:credentialType
2025-04-15T08:19:34.5202699Z     ✓ should fail due to not found type (8 ms)
2025-04-15T08:19:34.5202803Z     ✓ should retrieve credential type (4 ms)
2025-04-15T08:19:34.5202871Z   PUT /credentials/:id/transfer
2025-04-15T08:19:34.5202993Z     ✓ should transfer credential to project (40 ms)
2025-04-15T08:19:34.5203243Z     ✓ should transfer the right credential, not the first one it finds (26 ms)
2025-04-15T08:19:34.5203363Z     ✓ if no destination project, should reject (12 ms)
2025-04-15T08:19:34.5203367Z 
2025-04-15T08:19:34.5203463Z PASS test/integration/eventbus.ee.test.ts
2025-04-15T08:19:34.5203577Z   ✓ should have a running logwriter process (3 ms)
2025-04-15T08:19:34.5203681Z   ✓ should have logwriter log messages (16 ms)
2025-04-15T08:19:34.5203787Z   ✓ should anonymize audit message to syslog  (6 ms)
2025-04-15T08:19:34.5203886Z   ✓ should send message to webhook  (3 ms)
2025-04-15T08:19:34.5203974Z   ✓ should send message to sentry  (3 ms)
2025-04-15T08:19:34.5204134Z   ✓ DELETE /eventbus/destination delete all destinations by id (13 ms)
2025-04-15T08:19:34.5204189Z   GET /eventbus/destination
2025-04-15T08:19:34.5204313Z     ✓ should fail due to missing authentication (10 ms)
2025-04-15T08:19:34.5204449Z     ✓ all returned destinations should exist in eventbus (5 ms)
2025-04-15T08:19:34.5204517Z   POST /eventbus/destination
2025-04-15T08:19:34.5204607Z     ✓ create syslog destination (6 ms)
2025-04-15T08:19:34.5204704Z     ✓ create sentry destination (4 ms)
2025-04-15T08:19:34.5204795Z     ✓ create webhook destination (4 ms)
2025-04-15T08:19:34.5204799Z 
2025-04-15T08:19:34.5204955Z PASS test/integration/external-secrets/external-secrets.api.test.ts
2025-04-15T08:19:34.5205028Z   GET /external-secrets/providers
2025-04-15T08:19:34.5205128Z     ✓ can retrieve providers as owner (25 ms)
2025-04-15T08:19:34.5205238Z     ✓ can not retrieve providers as non-owner (9 ms)
2025-04-15T08:19:34.5205323Z     ✓ does obscure passwords (12 ms)
2025-04-15T08:19:34.5205411Z   GET /external-secrets/providers/:provider
2025-04-15T08:19:34.5205503Z     ✓ can retrieve provider as owner (6 ms)
2025-04-15T08:19:34.5205616Z     ✓ can not retrieve provider as non-owner (11 ms)
2025-04-15T08:19:34.5205708Z     ✓ does obscure passwords (8 ms)
2025-04-15T08:19:34.5205803Z   POST /external-secrets/providers/:provider
2025-04-15T08:19:34.5205918Z     ✓ can update provider settings (11 ms)
2025-04-15T08:19:34.5206054Z     ✓ can update provider settings with blanking value (14 ms)
2025-04-15T08:19:34.5206143Z   POST /external-secrets/providers/:provider/connect
2025-04-15T08:19:34.5206259Z     ✓ can change provider connected state (13 ms)
2025-04-15T08:19:34.5206343Z   POST /external-secrets/providers/:provider/test
2025-04-15T08:19:34.5206435Z     ✓ can test provider (6 ms)
2025-04-15T08:19:34.5206520Z     ✓ can test provider fail (10 ms)
2025-04-15T08:19:34.5206614Z   POST /external-secrets/providers/:provider/update
2025-04-15T08:19:34.5206697Z     ✓ can update provider (5 ms)
2025-04-15T08:19:34.5206797Z     ✓ can not update errored provider (5 ms)
2025-04-15T08:19:34.5206965Z     ✓ can not update provider without a valid license (6 ms)
2025-04-15T08:19:34.5207031Z   GET /external-secrets/secrets
2025-04-15T08:19:34.5207234Z     ✓ can get secret names as owner (4 ms)
2025-04-15T08:19:34.5207343Z     ✓ can not get secret names as non-owner (4 ms)
2025-04-15T08:19:34.5207346Z 
2025-04-15T08:19:34.5207468Z PASS test/integration/active-workflow-manager.test.ts
2025-04-15T08:19:34.5207519Z   init()
2025-04-15T08:19:34.5207628Z     ✓ should load workflows into memory (35 ms)
2025-04-15T08:19:34.5207715Z     ✓ should call external hook (3 ms)
2025-04-15T08:19:34.5207838Z     ✓ should check that workflow can be activated (24 ms)
2025-04-15T08:19:34.5207890Z   isActive()
2025-04-15T08:19:34.5208031Z     ✓ should return `true` for active workflow in storage (20 ms)
2025-04-15T08:19:34.5208263Z     ✓ should return `false` for inactive workflow in storage (10 ms)
2025-04-15T08:19:34.5208316Z   add()
2025-04-15T08:19:34.5208496Z     ✓ should count workflow triggers correctly when node has multiple webhooks (10 ms)
2025-04-15T08:19:34.5208564Z     in single-main mode
2025-04-15T08:19:34.5208784Z       ✓ should add webhooks, triggers and pollers for workflow in 'activate' activation mode (22 ms)
2025-04-15T08:19:34.5209102Z       ✓ should add webhooks, triggers and pollers for workflow in 'update' activation mode (10 ms)
2025-04-15T08:19:34.5209160Z   removeAll()
2025-04-15T08:19:34.5209283Z     ✓ should remove all active workflows from memory (16 ms)
2025-04-15T08:19:34.5209379Z   remove()
2025-04-15T08:19:34.5209433Z     in single-main mode
2025-04-15T08:19:34.5209582Z       ✓ should remove all webhooks of a workflow from database (14 ms)
2025-04-15T08:19:34.5209743Z       ✓ should remove all webhooks of a workflow from external service (13 ms)
2025-04-15T08:19:34.5209868Z       ✓ should stop running triggers and pollers (12 ms)
2025-04-15T08:19:34.5209923Z   executeErrorWorkflow()
2025-04-15T08:19:34.5210066Z     ✓ should be called on failure to activate due to 401 (19 ms)
2025-04-15T08:19:34.5210116Z   addWebhooks()
2025-04-15T08:19:34.5210242Z     ✓ should call `WebhookService.storeWebhook()` (9 ms)
2025-04-15T08:19:34.5210245Z 
2025-04-15T08:19:34.5210364Z PASS test/integration/evaluation/test-runs.api.test.ts
2025-04-15T08:19:34.5210481Z   GET /evaluation/test-definitions/:testDefinitionId/runs
2025-04-15T08:19:34.5210632Z     ✓ should retrieve empty list of runs for a test definition (44 ms)
2025-04-15T08:19:34.5210766Z     ✓ should return 404 if test definition does not exist (84 ms)
2025-04-15T08:19:34.5210930Z     ✓ should return 404 if user does not have access to test definition (35 ms)
2025-04-15T08:19:34.5211060Z     ✓ should retrieve list of runs for a test definition (40 ms)
2025-04-15T08:19:34.5211228Z     ✓ should retrieve list of runs for a test definition with pagination (80 ms)
2025-04-15T08:19:34.5211336Z   GET /evaluation/test-definitions/:testDefinitionId/runs/:id
2025-04-15T08:19:34.5211469Z     ✓ should retrieve test run for a test definition (37 ms)
2025-04-15T08:19:34.5211588Z     ✓ should return 404 if test run does not exist (39 ms)
2025-04-15T08:19:34.5211753Z     ✓ should return 404 if user does not have access to test definition (32 ms)
2025-04-15T08:19:34.5211926Z     ✓ should retrieve test run for a test definition of a shared workflow (63 ms)
2025-04-15T08:19:34.5212054Z   DELETE /evaluation/test-definitions/:testDefinitionId/runs/:id
2025-04-15T08:19:34.5212167Z     ✓ should delete test run for a test definition (33 ms)
2025-04-15T08:19:34.5212289Z     ✓ should return 404 if test run does not exist (38 ms)
2025-04-15T08:19:34.5212443Z     ✓ should return 404 if user does not have access to test definition (19 ms)
2025-04-15T08:19:34.5212577Z   POST /evaluation/test-definitions/:testDefinitionId/runs/:id/cancel
2025-04-15T08:19:34.5212675Z     ✓ should cancel test run (21 ms)
2025-04-15T08:19:34.5212796Z     ✓ should return 404 if test run does not exist (16 ms)
2025-04-15T08:19:34.5212934Z     ✓ should return 404 if test definition does not exist (21 ms)
2025-04-15T08:19:34.5213088Z     ✓ should return 404 if user does not have access to test definition (30 ms)
2025-04-15T08:19:34.5213091Z 
2025-04-15T08:19:34.5213313Z PASS test/integration/prometheus-metrics.test.ts
2025-04-15T08:19:34.5213382Z   PrometheusMetricsService
2025-04-15T08:19:34.5213479Z     ✓ should return n8n version (19 ms)
2025-04-15T08:19:34.5213589Z     ✓ should return default metrics if enabled (5 ms)
2025-04-15T08:19:34.5213714Z     ✓ should not return default metrics if disabled (2 ms)
2025-04-15T08:19:34.5213822Z     ✓ should return cache metrics if enabled (2 ms)
2025-04-15T08:19:34.5213942Z     ✓ should not return cache metrics if disabled (2 ms)
2025-04-15T08:19:34.5214047Z     ✓ should return route metrics if enabled (5 ms)
2025-04-15T08:19:34.5214237Z     ✓ should include last activity metric with route metrics (8 ms)
2025-04-15T08:19:34.5214366Z     ✓ should return labels in route metrics if enabled (8 ms)
2025-04-15T08:19:34.5214469Z     ✓ should return queue metrics if enabled (2 ms)
2025-04-15T08:19:34.5214636Z     ✓ should set queue metrics in response to `job-counts-updated` event (2 ms)
2025-04-15T08:19:34.5214745Z     ✓ should return active workflow count (26 ms)
2025-04-15T08:19:34.5214844Z 
2025-04-15T08:19:34.5214951Z PASS src/commands/__tests__/community-node.test.ts
2025-04-15T08:19:34.5215009Z   uninstallCredential
2025-04-15T08:19:34.5215107Z     ✓ should delete a credential (4 ms)
2025-04-15T08:19:34.5215210Z     ✓ should return if the user is not found (1 ms)
2025-04-15T08:19:34.5215333Z     ✓ should return if the credential is not found (1 ms)
2025-04-15T08:19:34.5215432Z     ✓ should delete multiple credentials (1 ms)
2025-04-15T08:19:34.5215492Z   uninstallPackage
2025-04-15T08:19:34.5215589Z     ✓ should uninstall the package (1 ms)
2025-04-15T08:19:34.5215710Z     ✓ should uninstall all nodes from a package (1 ms)
2025-04-15T08:19:34.5215808Z     ✓ should return if a package is not found
2025-04-15T08:19:34.5215918Z     ✓ should return if nodes are not found (1 ms)
2025-04-15T08:19:34.5215922Z 
2025-04-15T08:19:34.5216025Z PASS test/integration/public-api/projects.test.ts
2025-04-15T08:19:34.5216082Z   Projects in Public API
2025-04-15T08:19:34.5216142Z     GET /projects
2025-04-15T08:19:34.5216294Z       ✓ if licensed, should return all projects with pagination (351 ms)
2025-04-15T08:19:34.5216404Z       ✓ if not authenticated, should reject (5 ms)
2025-04-15T08:19:34.5216500Z       ✓ if not licensed, should reject (20 ms)
2025-04-15T08:19:34.5216606Z       ✓ if missing scope, should reject (13 ms)
2025-04-15T08:19:34.5216656Z     POST /projects
2025-04-15T08:19:34.5216780Z       ✓ if licensed, should create a new project (45 ms)
2025-04-15T08:19:34.5216884Z       ✓ if not authenticated, should reject (6 ms)
2025-04-15T08:19:34.5217034Z       ✓ if not licensed, should reject (13 ms)
2025-04-15T08:19:34.5217130Z       ✓ if missing scope, should reject (22 ms)
2025-04-15T08:19:34.5217194Z     DELETE /projects/:id
2025-04-15T08:19:34.5217303Z       ✓ if licensed, should delete a project (42 ms)
2025-04-15T08:19:34.5217412Z       ✓ if not authenticated, should reject (8 ms)
2025-04-15T08:19:34.5217505Z       ✓ if not licensed, should reject (15 ms)
2025-04-15T08:19:34.5217614Z       ✓ if missing scope, should reject (15 ms)
2025-04-15T08:19:34.5217680Z     PUT /projects/:id
2025-04-15T08:19:34.5217786Z       ✓ if licensed, should update a project (22 ms)
2025-04-15T08:19:34.5217898Z       ✓ if not authenticated, should reject (11 ms)
2025-04-15T08:19:34.5217992Z       ✓ if not licensed, should reject (30 ms)
2025-04-15T08:19:34.5218099Z       ✓ if missing scope, should reject (28 ms)
2025-04-15T08:19:34.5218103Z 
2025-04-15T08:19:34.5218239Z PASS src/executions/__tests__/execution-recovery.service.test.ts
2025-04-15T08:19:34.5218305Z   ExecutionRecoveryService
2025-04-15T08:19:34.5218354Z     recoverFromLogs
2025-04-15T08:19:34.5218412Z       if follower
2025-04-15T08:19:34.5218497Z         ✓ should do nothing (19 ms)
2025-04-15T08:19:34.5218565Z       if leader, with 0 messages
2025-04-15T08:19:34.5218682Z         ✓ should return `null` if no execution found (3 ms)
2025-04-15T08:19:34.5218806Z         ✓ should update `status` and `stoppedAt` (76 ms)
2025-04-15T08:19:34.5218988Z       if leader, with 1+ messages
2025-04-15T08:19:34.5219146Z         ✓ for successful dataful execution, should return `null` (11 ms)
2025-04-15T08:19:34.5219258Z         ✓ should return `null` if no execution found (2 ms)
2025-04-15T08:19:34.5219472Z         ✓ for successful dataless execution, should update `status`, `stoppedAt` and `data` (42 ms)
2025-04-15T08:19:34.5219708Z         ✓ for running execution, should update `status`, `stoppedAt` and `data` if last node did not finish (13 ms)
2025-04-15T08:19:34.5219879Z         ✓ should update `status`, `stoppedAt` and `data` if last node finished (24 ms)
2025-04-15T08:19:34.5219882Z 
2025-04-15T08:19:34.5219980Z PASS test/integration/api-keys.api.test.ts
2025-04-15T08:19:34.5220039Z   When public API is disabled
2025-04-15T08:19:34.5220137Z     ✓ POST /api-keys should 404 (43 ms)
2025-04-15T08:19:34.5220226Z     ✓ GET /api-keys should 404 (16 ms)
2025-04-15T08:19:34.5220332Z     ✓ DELETE /api-key/:id should 404 (13 ms)
2025-04-15T08:19:34.5220386Z   Owner shell
2025-04-15T08:19:34.5220637Z     ✓ POST /api-keys should create an api key with no expiration (36 ms)
2025-04-15T08:19:34.5220779Z     ✓ POST /api-keys should create an api key with expiration (20 ms)
2025-04-15T08:19:34.5220909Z     ✓ GET /api-keys should fetch the api key redacted (22 ms)
2025-04-15T08:19:34.5221061Z     ✓ DELETE /api-keys/:id should delete the api key (19 ms)
2025-04-15T08:19:34.5221122Z   Member
2025-04-15T08:19:34.5221271Z     ✓ POST /api-keys should create an api key with no expiration (17 ms)
2025-04-15T08:19:34.5221412Z     ✓ POST /api-keys should create an api key with expiration (21 ms)
2025-04-15T08:19:34.5221569Z     ✓ POST /api-keys should fail if max number of API keys reached (21 ms)
2025-04-15T08:19:34.5221685Z     ✓ GET /api-keys should fetch the api key redacted (24 ms)
2025-04-15T08:19:34.5221812Z     ✓ DELETE /api-keys/:id should delete the api key (19 ms)
2025-04-15T08:19:34.5221815Z 
2025-04-15T08:19:34.5221979Z PASS src/controllers/oauth/__tests__/oauth1-credential.controller.test.ts
2025-04-15T08:19:34.5222050Z   OAuth1CredentialController
2025-04-15T08:19:34.5222099Z     getAuthUri
2025-04-15T08:19:34.5222295Z       ✓ should throw a BadRequestError when credentialId is missing in the query (19 ms)
2025-04-15T08:19:34.5222486Z       ✓ should throw a NotFoundError when no matching credential is found for the user (1 ms)
2025-04-15T08:19:34.5222595Z       ✓ should return a valid auth URI (67 ms)
2025-04-15T08:19:34.5222644Z     handleCallback
2025-04-15T08:19:34.5222804Z       ✓ should render the error page when required query params are missing
2025-04-15T08:19:34.5222969Z       ✓ should render the error page when `state` query param is invalid (6 ms)
2025-04-15T08:19:34.5223125Z       ✓ should render the error page when credential is not found in DB (1 ms)
2025-04-15T08:19:34.5223341Z       ✓ should render the error page when state differs from the stored state in the credential (1 ms)
2025-04-15T08:19:34.5223578Z       ✓ should render the error page when state is older than 5 minutes
2025-04-15T08:19:34.5223742Z       ✓ should exchange the code for a valid token, and save it to DB (7 ms)
2025-04-15T08:19:34.5223745Z 
2025-04-15T08:19:34.5223930Z PASS src/task-runners/task-managers/__tests__/data-request-response-stripper.test.ts
2025-04-15T08:19:34.5224003Z   DataRequestResponseStripper
2025-04-15T08:19:34.5224054Z     all data
2025-04-15T08:19:34.5224277Z       ✓ should build the runExecutionData as is when everything is requested (3 ms)
2025-04-15T08:19:34.5224331Z     envProviderState
2025-04-15T08:19:34.5224475Z       ✓ should filter out envProviderState when it's not requested
2025-04-15T08:19:34.5224524Z     input data
2025-04-15T08:19:34.5224629Z       ✓ drops input data from result (1 ms)
2025-04-15T08:19:34.5224721Z       ✓ returns only chunked data
2025-04-15T08:19:34.5224770Z     nodes
2025-04-15T08:19:34.5224929Z       ✓ should return empty run data when only Code node is requested (1 ms)
2025-04-15T08:19:34.5225071Z       ✓ should return empty run data when only Code node is requested
2025-04-15T08:19:34.5225357Z       ✓ should return only DebugHelper's data when only DebugHelper node is requested (1 ms)
2025-04-15T08:19:34.5225516Z       ✓ should return DebugHelper's data when only prevNode node is requested
2025-04-15T08:19:34.5225584Z     passthrough properties
2025-04-15T08:19:34.5225675Z       ✓ it doesn't change workflow (1 ms)
2025-04-15T08:19:34.5225787Z       ✓ it doesn't change connectionInputSource
2025-04-15T08:19:34.5225871Z       ✓ it doesn't change node
2025-04-15T08:19:34.5225964Z       ✓ it doesn't change runIndex
2025-04-15T08:19:34.5226050Z       ✓ it doesn't change itemIndex
2025-04-15T08:19:34.5226170Z       ✓ it doesn't change activeNodeName
2025-04-15T08:19:34.5226264Z       ✓ it doesn't change siblingParameters
2025-04-15T08:19:34.5226349Z       ✓ it doesn't change mode
2025-04-15T08:19:34.5226452Z       ✓ it doesn't change defaultReturnRunIndex
2025-04-15T08:19:34.5226542Z       ✓ it doesn't change selfData
2025-04-15T08:19:34.5226642Z       ✓ it doesn't change contextNodeName
2025-04-15T08:19:34.5226753Z       ✓ it doesn't change additionalData (1 ms)
2025-04-15T08:19:34.5226756Z 
2025-04-15T08:19:34.5226872Z PASS src/scaling/__tests__/scaling.service.test.ts
2025-04-15T08:19:34.5226923Z   ScalingService
2025-04-15T08:19:34.5227036Z     setupQueue
2025-04-15T08:19:34.5227089Z       if leader main
2025-04-15T08:19:34.5227232Z         ✓ should set up queue + listeners + queue recovery (4 ms)
2025-04-15T08:19:34.5227283Z       if follower main
2025-04-15T08:19:34.5227392Z         ✓ should set up queue + listeners (1 ms)
2025-04-15T08:19:34.5227443Z       if worker
2025-04-15T08:19:34.5227548Z         ✓ should set up queue + listeners (1 ms)
2025-04-15T08:19:34.5227595Z       webhook
2025-04-15T08:19:34.5227703Z         ✓ should set up a queue + listeners (1 ms)
2025-04-15T08:19:34.5227751Z     setupWorker
2025-04-15T08:19:34.5227856Z       ✓ should set up a worker with concurrency
2025-04-15T08:19:34.5227990Z       ✓ should throw if called on a non-worker instance (17 ms)
2025-04-15T08:19:34.5228123Z       ✓ should throw if called before queue is ready (1 ms)
2025-04-15T08:19:34.5228173Z     stop
2025-04-15T08:19:34.5228249Z       if main
2025-04-15T08:19:34.5228387Z         ✓ should pause queue, stop queue recovery and queue metrics
2025-04-15T08:19:34.5228463Z       if worker
2025-04-15T08:19:34.5228595Z         ✓ should pause queue and wait for running jobs to finish
2025-04-15T08:19:34.5228655Z     pingQueue
2025-04-15T08:19:34.5228761Z       ✓ should ping the queue (1 ms)
2025-04-15T08:19:34.5228824Z     addJob
2025-04-15T08:19:34.5228948Z       ✓ should add a job (1 ms)
2025-04-15T08:19:34.5228998Z     getJob
2025-04-15T08:19:34.5229084Z       ✓ should get a job (1 ms)
2025-04-15T08:19:34.5229170Z     findJobsByStatus
2025-04-15T08:19:34.5229271Z       ✓ should find jobs by status (1 ms)
2025-04-15T08:19:34.5229375Z       ✓ should filter out `null` in Redis response
2025-04-15T08:19:34.5229428Z     stopJob
2025-04-15T08:19:34.5229709Z       ✓ should stop an active job (5 ms)
2025-04-15T08:19:34.5229805Z       ✓ should stop an inactive job
2025-04-15T08:19:34.5229906Z       ✓ should report failure to stop a job (1 ms)
2025-04-15T08:19:34.5229910Z 
2025-04-15T08:19:34.5230020Z PASS test/integration/public-api/tags.test.ts
2025-04-15T08:19:34.5230067Z   GET /tags
2025-04-15T08:19:34.5230177Z     ✓ should fail due to missing API Key (18 ms)
2025-04-15T08:19:34.5230279Z     ✓ should fail due to invalid API Key (3 ms)
2025-04-15T08:19:34.5230378Z     ✓ should return all tags (151 ms)
2025-04-15T08:19:34.5230492Z     ✓ should return all tags with pagination (15 ms)
2025-04-15T08:19:34.5230553Z   GET /tags/:id
2025-04-15T08:19:34.5230646Z     ✓ should fail due to missing API Key (7 ms)
2025-04-15T08:19:34.5230759Z     ✓ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.5230868Z     ✓ should fail due to non-existing tag (13 ms)
2025-04-15T08:19:34.5230963Z     ✓ should retrieve tag (8 ms)
2025-04-15T08:19:34.5231028Z   DELETE /tags/:id
2025-04-15T08:19:34.5231218Z     ✓ should fail due to missing API Key (5 ms)
2025-04-15T08:19:34.5231322Z     ✓ should fail due to invalid API Key (3 ms)
2025-04-15T08:19:34.5231426Z     ✓ should fail due to non-existing tag (11 ms)
2025-04-15T08:19:34.5231524Z     ✓ owner should delete the tag (9 ms)
2025-04-15T08:19:34.5231622Z     ✓ non-owner should not delete tag (7 ms)
2025-04-15T08:19:34.5231679Z   POST /tags
2025-04-15T08:19:34.5231775Z     ✓ should fail due to missing API Key (3 ms)
2025-04-15T08:19:34.5231878Z     ✓ should fail due to invalid API Key (4 ms)
2025-04-15T08:19:34.5231972Z     ✓ should fail due to invalid body (8 ms)
2025-04-15T08:19:34.5232062Z     ✓ should create tag (15 ms)
2025-04-15T08:19:34.5232192Z     ✓ should not create tag if tag with same name exists (10 ms)
2025-04-15T08:19:34.5232248Z   PUT /tags/:id
2025-04-15T08:19:34.5232341Z     ✓ should fail due to missing API Key (4 ms)
2025-04-15T08:19:34.5232443Z     ✓ should fail due to invalid API Key (1 ms)
2025-04-15T08:19:34.5232550Z     ✓ should fail due to non-existing tag (8 ms)
2025-04-15T08:19:34.5232656Z     ✓ should fail due to invalid body (3 ms)
2025-04-15T08:19:34.5232736Z     ✓ should update tag (19 ms)
2025-04-15T08:19:34.5232886Z     ✓ should fail if there is already a tag with a the new name (26 ms)
2025-04-15T08:19:34.5232889Z 
2025-04-15T08:19:34.5233013Z PASS src/executions/__tests__/execution.service.test.ts
2025-04-15T08:19:34.5233064Z   ExecutionService
2025-04-15T08:19:34.5233119Z     retry
2025-04-15T08:19:34.5233292Z       ✓ should error on retrying a execution that was aborted before starting (21 ms)
2025-04-15T08:19:34.5233344Z     stop
2025-04-15T08:19:34.5233468Z       ✓ should throw when stopping a missing execution (1 ms)
2025-04-15T08:19:34.5233604Z       ✓ should throw when stopping a not-in-progress execution
2025-04-15T08:19:34.5233658Z       regular mode
2025-04-15T08:19:34.5233798Z         ✓ should stop a `running` execution in regular mode (1 ms)
2025-04-15T08:19:34.5233928Z         ✓ should stop a `waiting` execution in regular mode (1 ms)
2025-04-15T08:19:34.5234098Z         ✓ should stop a concurrency-controlled `new` execution in regular mode
2025-04-15T08:19:34.5234147Z       scaling mode
2025-04-15T08:19:34.5234209Z         manual execution
2025-04-15T08:19:34.5234324Z           ✓ should stop a `running` execution in scaling mode
2025-04-15T08:19:34.5234388Z         production execution
2025-04-15T08:19:34.5234518Z           ✓ should stop a `running` execution in scaling mode (1 ms)
2025-04-15T08:19:34.5234640Z           ✓ should stop a `waiting` execution in scaling mode
2025-04-15T08:19:34.5234644Z 
2025-04-15T08:19:34.5234745Z PASS test/integration/pruning.service.test.ts
2025-04-15T08:19:34.5234807Z   softDeleteOnPruningCycle()
2025-04-15T08:19:34.5234888Z     when EXECUTIONS_DATA_PRUNE_MAX_COUNT is set
2025-04-15T08:19:34.5235048Z       ✓ should mark as deleted based on EXECUTIONS_DATA_PRUNE_MAX_COUNT (25 ms)
2025-04-15T08:19:34.5235274Z       ✓ should not re-mark already marked executions (15 ms)
2025-04-15T08:19:34.5235377Z       ✓ should prune unknown executions (9 ms)
2025-04-15T08:19:34.5235518Z       ✓ should prune canceled executions (14 ms)
2025-04-15T08:19:34.5235620Z       ✓ should prune crashed executions (20 ms)
2025-04-15T08:19:34.5235720Z       ✓ should prune error executions (19 ms)
2025-04-15T08:19:34.5235818Z       ✓ should prune success executions (12 ms)
2025-04-15T08:19:34.5235923Z       ✓ should not prune new executions (9 ms)
2025-04-15T08:19:34.5236026Z       ✓ should not prune running executions (23 ms)
2025-04-15T08:19:34.5236132Z       ✓ should not prune waiting executions (24 ms)
2025-04-15T08:19:34.5236240Z       ✓ should not prune annotated executions (44 ms)
2025-04-15T08:19:34.5236323Z     when EXECUTIONS_DATA_MAX_AGE is set
2025-04-15T08:19:34.5236466Z       ✓ should mark as deleted based on EXECUTIONS_DATA_MAX_AGE (13 ms)
2025-04-15T08:19:34.5236592Z       ✓ should not re-mark already marked executions (15 ms)
2025-04-15T08:19:34.5236701Z       ✓ should prune unknown executions (6 ms)
2025-04-15T08:19:34.5236906Z       ✓ should prune canceled executions (5 ms)
2025-04-15T08:19:34.5237049Z       ✓ should prune crashed executions (7 ms)
2025-04-15T08:19:34.5237142Z       ✓ should prune error executions (19 ms)
2025-04-15T08:19:34.5237238Z       ✓ should prune success executions (5 ms)
2025-04-15T08:19:34.5237330Z       ✓ should not prune new executions (9 ms)
2025-04-15T08:19:34.5237438Z       ✓ should not prune running executions (11 ms)
2025-04-15T08:19:34.5237540Z       ✓ should not prune waiting executions (9 ms)
2025-04-15T08:19:34.5237651Z       ✓ should not prune annotated executions (17 ms)
2025-04-15T08:19:34.5237655Z 
2025-04-15T08:19:34.5237743Z PASS test/integration/saml/saml.api.test.ts
2025-04-15T08:19:34.5237808Z   Instance owner
2025-04-15T08:19:34.5237855Z     PATCH /me
2025-04-15T08:19:34.5237956Z       ✓ should succeed with valid inputs (34 ms)
2025-04-15T08:19:34.5238133Z       ✓ should throw BadRequestError if email is changed when SAML is enabled (22 ms)
2025-04-15T08:19:34.5238198Z     PATCH /password
2025-04-15T08:19:34.5238385Z       ✓ should throw BadRequestError if password is changed when SAML is enabled (7 ms)
2025-04-15T08:19:34.5238440Z     POST /sso/saml/config
2025-04-15T08:19:34.5238534Z       ✓ should post saml config (150 ms)
2025-04-15T08:19:34.5238636Z       ✓ should return 400 on invalid config (12 ms)
2025-04-15T08:19:34.5238707Z     POST /sso/saml/config/toggle
2025-04-15T08:19:34.5238851Z       ✓ should toggle saml as default authentication method (29 ms)
2025-04-15T08:19:34.5251178Z       ✓ should fail enable saml if default authentication is not email (31 ms)
2025-04-15T08:19:34.5251307Z   Check endpoint permissions
2025-04-15T08:19:34.5251364Z     Owner
2025-04-15T08:19:34.5251591Z       ✓ should be able to access GET /sso/saml/metadata (7 ms)
2025-04-15T08:19:34.5251732Z       ✓ should be able to access GET /sso/saml/config (15 ms)
2025-04-15T08:19:34.5251876Z       ✓ should be able to access POST /sso/saml/config (14 ms)
2025-04-15T08:19:34.5252033Z       ✓ should be able to access POST /sso/saml/config/toggle (7 ms)
2025-04-15T08:19:34.5252147Z       ✓ should be able to access GET /sso/saml/acs (8 ms)
2025-04-15T08:19:34.5252266Z       ✓ should be able to access POST /sso/saml/acs (4 ms)
2025-04-15T08:19:34.5252384Z       ✓ should be able to access GET /sso/saml/initsso (10 ms)
2025-04-15T08:19:34.5252519Z       ✓ should be able to access GET /sso/saml/config/test (7 ms)
2025-04-15T08:19:34.5252577Z     Authenticated Member
2025-04-15T08:19:34.5252708Z       ✓ should be able to access GET /sso/saml/metadata (14 ms)
2025-04-15T08:19:34.5252824Z       ✓ should be able to access GET /sso/saml/config (5 ms)
2025-04-15T08:19:34.5252955Z       ✓ should NOT be able to access POST /sso/saml/config (5 ms)
2025-04-15T08:19:34.5253098Z       ✓ should NOT be able to access POST /sso/saml/config/toggle (6 ms)
2025-04-15T08:19:34.5253219Z       ✓ should be able to access GET /sso/saml/acs (7 ms)
2025-04-15T08:19:34.5253521Z       ✓ should be able to access POST /sso/saml/acs (5 ms)
2025-04-15T08:19:34.5253652Z       ✓ should be able to access GET /sso/saml/initsso (7 ms)
2025-04-15T08:19:34.5253797Z       ✓ should NOT be able to access GET /sso/saml/config/test (5 ms)
2025-04-15T08:19:34.5253859Z     Non-Authenticated User
2025-04-15T08:19:34.5253977Z       ✓ should be able to access /sso/saml/metadata (5 ms)
2025-04-15T08:19:34.5254102Z       ✓ should NOT be able to access GET /sso/saml/config (3 ms)
2025-04-15T08:19:34.5254280Z       ✓ should NOT be able to access POST /sso/saml/config (4 ms)
2025-04-15T08:19:34.5254419Z       ✓ should NOT be able to access POST /sso/saml/config/toggle (7 ms)
2025-04-15T08:19:34.5254537Z       ✓ should be able to access GET /sso/saml/acs (6 ms)
2025-04-15T08:19:34.5254648Z       ✓ should be able to access POST /sso/saml/acs (5 ms)
2025-04-15T08:19:34.5254773Z       ✓ should be able to access GET /sso/saml/initsso (4 ms)
2025-04-15T08:19:34.5254912Z       ✓ should NOT be able to access GET /sso/saml/config/test (3 ms)
2025-04-15T08:19:34.5255030Z 
2025-04-15T08:19:34.5255156Z PASS test/integration/password-reset.api.test.ts
2025-04-15T08:19:34.5255215Z   POST /forgot-password
2025-04-15T08:19:34.5255329Z     ✓ should send password reset email (107 ms)
2025-04-15T08:19:34.5255445Z     ✓ should fail if emailing is not set up (56 ms)
2025-04-15T08:19:34.5255568Z     ✓ should fail if SAML is authentication method (71 ms)
2025-04-15T08:19:34.5255750Z     ✓ should succeed if SAML is authentication method and requestor is owner (27 ms)
2025-04-15T08:19:34.5255852Z     ✓ should fail with invalid inputs (37 ms)
2025-04-15T08:19:34.5255951Z     ✓ should fail if user is not found (35 ms)
2025-04-15T08:19:34.5256011Z   GET /resolve-password-token
2025-04-15T08:19:34.5256111Z     ✓ should succeed with valid inputs (42 ms)
2025-04-15T08:19:34.5256202Z     ✓ should fail with invalid inputs (41 ms)
2025-04-15T08:19:34.5256301Z     ✓ should fail if user is not found (27 ms)
2025-04-15T08:19:34.5256397Z     ✓ should fail if token is expired (22 ms)
2025-04-15T08:19:34.5256520Z     ✓ should fail after password has changed (21 ms)
2025-04-15T08:19:34.5256574Z   POST /change-password
2025-04-15T08:19:34.5256676Z     ✓ should succeed with valid inputs (153 ms)
2025-04-15T08:19:34.5256768Z     ✓ should fail with invalid inputs (57 ms)
2025-04-15T08:19:34.5256872Z     ✓ should fail when token has expired (27 ms)
2025-04-15T08:19:34.5257069Z     ✓ owner should be able to reset its password when quota:users = 1 (166 ms)
2025-04-15T08:19:34.5257239Z     ✓ member should not be able to reset its password when quota:users = 1 (99 ms)
2025-04-15T08:19:34.5257244Z 
2025-04-15T08:19:34.5257334Z PASS src/__tests__/node-types.test.ts
2025-04-15T08:19:34.5257383Z   NodeTypes
2025-04-15T08:19:34.5257439Z     getByName
2025-04-15T08:19:34.5257554Z       ✓ should return node type when it exists (3 ms)
2025-04-15T08:19:34.5257614Z     getByNameAndVersion
2025-04-15T08:19:34.5257758Z       ✓ should throw an error if the package does not exist (10 ms)
2025-04-15T08:19:34.5257907Z       ✓ should throw an error if the node-type does not exist (1 ms)
2025-04-15T08:19:34.5258037Z       ✓ should return a regular node-type without version (1 ms)
2025-04-15T08:19:34.5258157Z       ✓ should return a regular node-type with version
2025-04-15T08:19:34.5258372Z       ✓ should throw when a node-type is requested as tool, but does not support being used as one (1 ms)
2025-04-15T08:19:34.5258577Z       ✓ should throw when a node-type is requested as tool, but the original node is already a tool
2025-04-15T08:19:34.5258719Z       ✓ should return the tool node-type when requested as tool (3 ms)
2025-04-15T08:19:34.5258895Z       ✓ should return a tool node-type from a community node,  when requested as tool
2025-04-15T08:19:34.5259062Z       ✓ should return a declarative node-type with an `.execute` method (1 ms)
2025-04-15T08:19:34.5259244Z       ✓ should return a declarative node-type as a tool with an `.execute` method (1 ms)
2025-04-15T08:19:34.5259400Z     getWithSourcePath
2025-04-15T08:19:34.5259557Z       ✓ should return description and source path for existing node (1 ms)
2025-04-15T08:19:34.5259678Z       ✓ should throw error for non-existent node (4 ms)
2025-04-15T08:19:34.5259728Z     getKnownTypes
2025-04-15T08:19:34.5259830Z       ✓ should return known node types (1 ms)
2025-04-15T08:19:34.5259890Z     getNodeTypeDescriptions
2025-04-15T08:19:34.5260006Z       ✓ should return descriptions for valid node types
2025-04-15T08:19:34.5260106Z       ✓ should throw error for invalid node type
2025-04-15T08:19:34.5260109Z 
2025-04-15T08:19:34.5260223Z PASS test/integration/commands/import.cmd.test.ts
2025-04-15T08:19:34.5260389Z   ✓ import:workflow should import active workflow and deactivate it (58 ms)
2025-04-15T08:19:34.5260593Z   ✓ import:workflow should import active workflow from combined file and deactivate it (34 ms)
2025-04-15T08:19:34.5260727Z   ✓ import:workflow can import a single workflow object (20 ms)
2025-04-15T08:19:34.5260975Z   ✓ `import:workflow --userId ...` should fail if the workflow exists already and is owned by somebody else (44 ms)
2025-04-15T08:19:34.5261280Z   ✓ only update the workflow, don't create or update the owner if `--userId` is not passed (39 ms)
2025-04-15T08:19:34.5261540Z   ✓ `import:workflow --projectId ...` should fail if the credential already exists and is owned by another project (46 ms)
2025-04-15T08:19:34.5261819Z   ✓ `import:workflow --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (12 ms)
2025-04-15T08:19:34.5261823Z 
2025-04-15T08:19:34.5261957Z PASS src/middlewares/list-query/__tests__/list-query.test.ts
2025-04-15T08:19:34.5262021Z   List query middleware
2025-04-15T08:19:34.5262069Z     Query filter
2025-04-15T08:19:34.5262195Z       ✓ should not set filter on request if none sent (3 ms)
2025-04-15T08:19:34.5262288Z       ✓ should parse valid filter (2 ms)
2025-04-15T08:19:34.5262390Z       ✓ should ignore invalid filter (1 ms)
2025-04-15T08:19:34.5262494Z       ✓ should throw on invalid JSON (18 ms)
2025-04-15T08:19:34.5262626Z       ✓ should throw on valid filter with invalid type (2 ms)
2025-04-15T08:19:34.5262678Z     Query select
2025-04-15T08:19:34.5262785Z       ✓ should not set select on request if none sent
2025-04-15T08:19:34.5262878Z       ✓ should parse valid select (1 ms)
2025-04-15T08:19:34.5262950Z       ✓ ignore invalid select
2025-04-15T08:19:34.5263044Z       ✓ throw on invalid JSON (1 ms)
2025-04-15T08:19:34.5263160Z       ✓ throw on non-string-array JSON for select (1 ms)
2025-04-15T08:19:34.5263215Z     Query pagination
2025-04-15T08:19:34.5263345Z       ✓ should not set pagination options on request if none sent
2025-04-15T08:19:34.5263447Z       ✓ should parse valid pagination (1 ms)
2025-04-15T08:19:34.5263546Z       ✓ should throw on skip without take (1 ms)
2025-04-15T08:19:34.5263637Z       ✓ should default skip to 0
2025-04-15T08:19:34.5263721Z       ✓ should cap take at 50 (1 ms)
2025-04-15T08:19:34.5263850Z       ✓ should throw on non-numeric-integer take (1 ms)
2025-04-15T08:19:34.5263951Z       ✓ should throw on non-numeric-integer skip
2025-04-15T08:19:34.5264006Z     Query sort by
2025-04-15T08:19:34.5264137Z       ✓ should succeed validation when sorting by name asc (1 ms)
2025-04-15T08:19:34.5264267Z       ✓ should succeed validation when sorting by name desc
2025-04-15T08:19:34.5264410Z       ✓ should succeed validation when sorting by createdAt asc (1 ms)
2025-04-15T08:19:34.5264544Z       ✓ should succeed validation when sorting by createdAt desc
2025-04-15T08:19:34.5264678Z       ✓ should succeed validation when sorting by updatedAt asc
2025-04-15T08:19:34.5264824Z       ✓ should succeed validation when sorting by updatedAt desc (1 ms)
2025-04-15T08:19:34.5264968Z       ✓ should fail validation when sorting by invalid column (1 ms)
2025-04-15T08:19:34.5265116Z       ✓ should fail validation when sorting by valid column without order
2025-04-15T08:19:34.5265390Z       ✓ should fail validation when sorting by valid column with invalid order (1 ms)
2025-04-15T08:19:34.5265531Z       ✓ should not pass sortBy to listQueryOptions if not provided
2025-04-15T08:19:34.5265584Z     Combinations
2025-04-15T08:19:34.5265683Z       ✓ should combine filter with select (4 ms)
2025-04-15T08:19:34.5265810Z       ✓ should combine filter with pagination options (1 ms)
2025-04-15T08:19:34.5265919Z       ✓ should combine select with pagination options
2025-04-15T08:19:34.5265924Z 
2025-04-15T08:19:34.5266008Z PASS src/__tests__/license.test.ts
2025-04-15T08:19:34.5266055Z   License
2025-04-15T08:19:34.5266153Z     ✓ initializes license manager (5 ms)
2025-04-15T08:19:34.5266260Z     ✓ initializes license manager for worker (1 ms)
2025-04-15T08:19:34.5266390Z     ✓ attempts to activate license with provided key (1 ms)
2025-04-15T08:19:34.5266466Z     ✓ renews license (1 ms)
2025-04-15T08:19:34.5266547Z     ✓ check if feature is enabled
2025-04-15T08:19:34.5266655Z     ✓ check if sharing feature is enabled (7 ms)
2025-04-15T08:19:34.5266749Z     ✓ check fetching entitlements (1 ms)
2025-04-15T08:19:34.5266974Z     ✓ check fetching feature values
2025-04-15T08:19:34.5267063Z     ✓ check management jwt (1 ms)
2025-04-15T08:19:34.5267200Z     ✓ getMainPlan() returns the latest main entitlement (1 ms)
2025-04-15T08:19:34.5267344Z     ✓ getMainPlan() returns undefined if there is no main plan (1 ms)
2025-04-15T08:19:34.5267394Z     init
2025-04-15T08:19:34.5267586Z       ✓ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal (1 ms)
2025-04-15T08:19:34.5267769Z       ✓ when leader main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal
2025-04-15T08:19:34.5267970Z       ✓ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should disable renewal (1 ms)
2025-04-15T08:19:34.5268172Z       ✓ when follower main with N8N_LICENSE_AUTO_RENEW_ENABLED=false, should disable renewal (1 ms)
2025-04-15T08:19:34.5268345Z       ✓ when CLI command with N8N_LICENSE_AUTO_RENEW_ENABLED=true, should enable renewal
2025-04-15T08:19:34.5268359Z 
2025-04-15T08:19:34.5268562Z PASS src/environments.ee/source-control/__tests__/source-control-export.service.test.ts
2025-04-15T08:19:34.5268628Z   SourceControlExportService
2025-04-15T08:19:34.5268696Z     exportCredentialsToWorkFolder
2025-04-15T08:19:34.5268820Z       ✓ should export credentials to work folder (6 ms)
2025-04-15T08:19:34.5268931Z       ✓ should handle team project credentials (1 ms)
2025-04-15T08:19:34.5269036Z       ✓ should handle missing credentials (1 ms)
2025-04-15T08:19:34.5269094Z     exportTagsToWorkFolder
2025-04-15T08:19:34.5269192Z       ✓ should export tags to work folder
2025-04-15T08:19:34.5269282Z       ✓ should not export empty tags
2025-04-15T08:19:34.5269347Z     exportFoldersToWorkFolder
2025-04-15T08:19:34.5269450Z       ✓ should export folders to work folder (1 ms)
2025-04-15T08:19:34.5269545Z       ✓ should not export empty folders
2025-04-15T08:19:34.5269610Z     exportVariablesToWorkFolder
2025-04-15T08:19:34.5269726Z       ✓ should export variables to work folder (1 ms)
2025-04-15T08:19:34.5269818Z       ✓ should not export empty variables
2025-04-15T08:19:34.5269897Z     exportWorkflowsToWorkFolder
2025-04-15T08:19:34.5270002Z       ✓ should export workflows to work folder (3 ms)
2025-04-15T08:19:34.5270134Z       ✓ should throw an error if workflow has no owner (17 ms)
2025-04-15T08:19:34.5270138Z 
2025-04-15T08:19:34.5270319Z PASS src/environments.ee/source-control/__tests__/source-control.service.test.ts
2025-04-15T08:19:34.5270374Z   SourceControlService
2025-04-15T08:19:34.5270435Z     pushWorkfolder
2025-04-15T08:19:34.5270600Z       ✓ should throw an error if a file is given that is not in the workfolder (25 ms)
2025-04-15T08:19:34.5270655Z     pullWorkfolder
2025-04-15T08:19:34.5270772Z       ✓ does not filter locally created credentials (2 ms)
2025-04-15T08:19:34.5270886Z       ✓ does not filter remotely deleted credentials
2025-04-15T08:19:34.5271050Z       ✓ should throw an error if a file is given that is not in the workfolder (1 ms)
2025-04-15T08:19:34.5271214Z     getStatus
2025-04-15T08:19:34.5271338Z       ✓ conflict depends on the value of `direction` (10 ms)
2025-04-15T08:19:34.5271342Z 
2025-04-15T08:19:34.5271470Z PASS src/__tests__/workflow-execute-additional-data.test.ts
2025-04-15T08:19:34.5271544Z   WorkflowExecuteAdditionalData
2025-04-15T08:19:34.5271650Z     ✓ logAiEvent should call MessageEventBus (5 ms)
2025-04-15T08:19:34.5271707Z     executeWorkflow
2025-04-15T08:19:34.5271849Z       ✓ should execute workflow, return data and execution id (20 ms)
2025-04-15T08:19:34.5271967Z       ✓ should execute workflow, skip waiting (5 ms)
2025-04-15T08:19:34.5272086Z       ✓ should set sub workflow execution as running (3 ms)
2025-04-15T08:19:34.5272260Z       ✓ should return waitTill property when workflow execution is waiting (2 ms)
2025-04-15T08:19:34.5272311Z     getRunData
2025-04-15T08:19:34.5272425Z       ✓ should throw error to add trigger ndoe (36 ms)
2025-04-15T08:19:34.5272517Z       ✓ should return default data (1 ms)
2025-04-15T08:19:34.5272665Z       ✓ should return run data with input data and metadata (1 ms)
2025-04-15T08:19:34.5272757Z 
2025-04-15T08:19:34.5272891Z PASS src/metrics/__tests__/prometheus-metrics.service.test.ts
2025-04-15T08:19:34.5272959Z   PrometheusMetricsService
2025-04-15T08:19:34.5273007Z     constructor
2025-04-15T08:19:34.5273130Z       ✓ should enable metrics based on global config (5 ms)
2025-04-15T08:19:34.5273175Z     init
2025-04-15T08:19:34.5273283Z       ✓ should set up `n8n_version_info` (1 ms)
2025-04-15T08:19:34.5273423Z       ✓ should set up default metrics collection with `prom-client`
2025-04-15T08:19:34.5273517Z       ✓ should set up `n8n_cache_hits_total`
2025-04-15T08:19:34.5273631Z       ✓ should set up `n8n_cache_misses_total` (1 ms)
2025-04-15T08:19:34.5273738Z       ✓ should set up `n8n_cache_updates_total` (1 ms)
2025-04-15T08:19:34.5273886Z       ✓ should set up route metrics with `express-prom-bundle` (1 ms)
2025-04-15T08:19:34.5273975Z       ✓ should set up event bus metrics
2025-04-15T08:19:34.5274090Z       ✓ should set up queue metrics if enabled (7 ms)
2025-04-15T08:19:34.5274238Z       ✓ should not set up queue metrics if enabled but not on scaling mode
2025-04-15T08:19:34.5274447Z       ✓ should not set up queue metrics if enabled and on scaling mode but instance is not main (1 ms)
2025-04-15T08:19:34.5274561Z       ✓ should setup active workflow count metric (4 ms)
2025-04-15T08:19:34.5274565Z 
2025-04-15T08:19:34.5274682Z PASS test/integration/community-packages.api.test.ts
2025-04-15T08:19:34.5274739Z   GET /community-packages
2025-04-15T08:19:34.5274866Z     ✓ should respond 200 if no nodes are installed (28 ms)
2025-04-15T08:19:34.5275008Z     ✓ should return list of one installed package and node (6 ms)
2025-04-15T08:19:34.5275156Z     ✓ should return list of multiple installed packages and nodes (4 ms)
2025-04-15T08:19:34.5275299Z     ✓ should not check for updates if no packages installed (16 ms)
2025-04-15T08:19:34.5275426Z     ✓ should check for updates if packages installed (5 ms)
2025-04-15T08:19:34.5275549Z     ✓ should report package updates if available (6 ms)
2025-04-15T08:19:34.5275605Z   POST /community-packages
2025-04-15T08:19:34.5275716Z     ✓ should reject if package name is missing (4 ms)
2025-04-15T08:19:34.5275821Z     ✓ should reject if package is duplicate (4 ms)
2025-04-15T08:19:34.5275973Z     ✓ should allow installing packages that could not be loaded (4 ms)
2025-04-15T08:19:34.5276071Z     ✓ should not install a banned package (5 ms)
2025-04-15T08:19:34.5276135Z   DELETE /community-packages
2025-04-15T08:19:34.5276244Z     ✓ should not delete if package name is empty (5 ms)
2025-04-15T08:19:34.5276358Z     ✓ should reject if package is not installed (8 ms)
2025-04-15T08:19:34.5276445Z     ✓ should uninstall package (5 ms)
2025-04-15T08:19:34.5276506Z   PATCH /community-packages
2025-04-15T08:19:34.5276610Z     ✓ should reject if package name is empty (5 ms)
2025-04-15T08:19:34.5276725Z     ✓ should reject if package is not installed (11 ms)
2025-04-15T08:19:34.5276903Z     ✓ should update a package (6 ms)
2025-04-15T08:19:34.5276917Z 
2025-04-15T08:19:34.5277067Z PASS test/integration/workflow-history.api.test.ts
2025-04-15T08:19:34.5277143Z   GET /workflow-history/:workflowId
2025-04-15T08:19:34.5277263Z     ✓ should not work when license is not available (20 ms)
2025-04-15T08:19:34.5277405Z     ✓ should not return anything on an invalid workflow ID (37 ms)
2025-04-15T08:19:34.5277533Z     ✓ should not return anything if not shared with user (18 ms)
2025-04-15T08:19:34.5277654Z     ✓ should return any empty list if no versions (19 ms)
2025-04-15T08:19:34.5277755Z     ✓ should return versions for workflow (27 ms)
2025-04-15T08:19:34.5277894Z     ✓ should return versions only for workflow id provided (38 ms)
2025-04-15T08:19:34.5277993Z     ✓ should work with take parameter (23 ms)
2025-04-15T08:19:34.5278099Z     ✓ should work with skip parameter (20 ms)
2025-04-15T08:19:34.5278210Z   GET /workflow-history/workflow/:workflowId/version/:versionId
2025-04-15T08:19:34.5278339Z     ✓ should not work when license is not available (5 ms)
2025-04-15T08:19:34.5278562Z     ✓ should not return anything on an invalid workflow ID (18 ms)
2025-04-15T08:19:34.5278715Z     ✓ should not return anything on an invalid version ID (22 ms)
2025-04-15T08:19:34.5278802Z     ✓ should return version (19 ms)
2025-04-15T08:19:34.5278928Z     ✓ should not return anything if not shared with user (24 ms)
2025-04-15T08:19:34.5279147Z     ✓ should not return anything if not shared with user and using workflow owned by unshared user (33 ms)
2025-04-15T08:19:34.5279151Z 
2025-04-15T08:19:34.5279290Z PASS src/services/__tests__/workflow-statistics.service.test.ts
2025-04-15T08:19:34.5279346Z   WorkflowStatisticsService
2025-04-15T08:19:34.5279423Z     workflowExecutionCompleted
2025-04-15T08:19:34.5279547Z       ✓ should create metrics for production successes (5 ms)
2025-04-15T08:19:34.5279684Z       ✓ should only create metrics for production successes (1 ms)
2025-04-15T08:19:34.5279791Z       ✓ should not send metrics for updated entries
2025-04-15T08:19:34.5279850Z     nodeFetchedData
2025-04-15T08:19:34.5279952Z       ✓ should create metrics when the db is updated
2025-04-15T08:19:34.5280129Z       ✓ should emit event with no `userId` if workflow is owned by team project (1 ms)
2025-04-15T08:19:34.5280267Z       ✓ should create metrics with credentials when the db is updated
2025-04-15T08:19:34.5280434Z       ✓ should not send metrics for entries that already have the flag set (14 ms)
2025-04-15T08:19:34.5280437Z 
2025-04-15T08:19:34.5280547Z PASS test/integration/commands/credentials.cmd.test.ts
2025-04-15T08:19:34.5280675Z   ✓ import:credentials should import a credential (37 ms)
2025-04-15T08:19:34.5280845Z   ✓ import:credentials should import a credential from separated files (30 ms)
2025-04-15T08:19:34.5281098Z   ✓ `import:credentials --userId ...` should fail if the credential exists already and is owned by somebody else (43 ms)
2025-04-15T08:19:34.5281343Z   ✓ only update credential, don't create or update owner if neither `--userId` nor `--projectId` is passed (45 ms)
2025-04-15T08:19:34.5281604Z   ✓ `import:credential --projectId ...` should fail if the credential already exists and is owned by another project (37 ms)
2025-04-15T08:19:34.5281869Z   ✓ `import:credential --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (4 ms)
2025-04-15T08:19:34.5281873Z 
2025-04-15T08:19:34.5281957Z PASS src/__tests__/wait-tracker.test.ts
2025-04-15T08:19:34.5282013Z   WaitTracker
2025-04-15T08:19:34.5282059Z     init()
2025-04-15T08:19:34.5282191Z       ✓ should query DB for waiting executions if leader (3 ms)
2025-04-15T08:19:34.5282283Z       ✓ if follower, should do nothing
2025-04-15T08:19:34.5282397Z       ✓ if no executions to start, should do nothing (1 ms)
2025-04-15T08:19:34.5282454Z       if execution to start
2025-04-15T08:19:34.5282594Z         ✓ if not enough time passed, should not start execution (1 ms)
2025-04-15T08:19:34.5282816Z         ✓ if enough time passed, should start execution (1 ms)
2025-04-15T08:19:34.5282872Z     startExecution()
2025-04-15T08:19:34.5282978Z       ✓ should query for execution to start (1 ms)
2025-04-15T08:19:34.5283134Z       ✓ should also resume parent execution once sub-workflow finishes (1 ms)
2025-04-15T08:19:34.5283190Z     single-main setup
2025-04-15T08:19:34.5283274Z       ✓ should start tracking (1 ms)
2025-04-15T08:19:34.5283329Z     multi-main setup
2025-04-15T08:19:34.5283416Z       ✓ should start tracking if leader
2025-04-15T08:19:34.5283528Z       ✓ should not start tracking if follower (1 ms)
2025-04-15T08:19:34.5283532Z 
2025-04-15T08:19:34.5283643Z PASS src/services/__tests__/ownership.service.test.ts
2025-04-15T08:19:34.5283702Z   OwnershipService
2025-04-15T08:19:34.5283770Z     getWorkflowProjectCached()
2025-04-15T08:19:34.5283888Z       ✓ should retrieve a workflow owner project (3 ms)
2025-04-15T08:19:34.5284016Z       ✓ should throw if no workflow owner project found (6 ms)
2025-04-15T08:19:34.5284091Z     getPersonalProjectOwnerCached()
2025-04-15T08:19:34.5284286Z       ✓ should retrieve a project owner (1 ms)
2025-04-15T08:19:34.5284453Z       ✓ should not throw if no project owner found, should return null instead (1 ms)
2025-04-15T08:19:34.5284620Z       ✓ should not use the repository if the owner was found in the cache (1 ms)
2025-04-15T08:19:34.5284674Z     getProjectOwnerCached()
2025-04-15T08:19:34.5284770Z       ✓ should retrieve a project owner
2025-04-15T08:19:34.5284922Z       ✓ should not throw if no project owner found, should return null instead
2025-04-15T08:19:34.5284986Z     addOwnedByAndSharedWith()
2025-04-15T08:19:34.5285119Z       ✓ should add `ownedBy` and `sharedWith` to credential (1 ms)
2025-04-15T08:19:34.5285241Z       ✓ should add `ownedBy` and `sharedWith` to workflow
2025-04-15T08:19:34.5285353Z       ✓ should produce an empty sharedWith if no sharee
2025-04-15T08:19:34.5285417Z     getInstanceOwner()
2025-04-15T08:19:34.5285529Z       ✓ should find owner using global owner role ID
2025-04-15T08:19:34.5285536Z 
2025-04-15T08:19:34.5285655Z PASS src/services/cache/__tests__/cache.service.test.ts
2025-04-15T08:19:34.5285711Z   memory
2025-04-15T08:19:34.5285757Z     init
2025-04-15T08:19:34.5285872Z       ✓ should select backend based on config (9 ms)
2025-04-15T08:19:34.5285975Z       ✓ should honor max size when enough (1 ms)
2025-04-15T08:19:34.5286093Z       ✓ should honor max size when not enough (1 ms)
2025-04-15T08:19:34.5286144Z     set
2025-04-15T08:19:34.5286244Z       ✓ should set a string value (1 ms)
2025-04-15T08:19:34.5286325Z       ✓ should set a number value
2025-04-15T08:19:34.5286425Z       ✓ should set an object value (4 ms)
2025-04-15T08:19:34.5286546Z       ✓ should not cache `null` or `undefined` values (1 ms)
2025-04-15T08:19:34.5286646Z       ✓ should disregard zero-length keys
2025-04-15T08:19:34.5286728Z       ✓ should honor ttl (202 ms)
2025-04-15T08:19:34.5286781Z     get
2025-04-15T08:19:34.5286868Z       ✓ should fall back to fallback value
2025-04-15T08:19:34.5286986Z       ✓ should refresh value
2025-04-15T08:19:34.5287075Z       ✓ should handle non-ASCII key
2025-04-15T08:19:34.5287131Z     delete
2025-04-15T08:19:34.5287212Z       ✓ should delete a key (1 ms)
2025-04-15T08:19:34.5287312Z       ✓ should handle non-ASCII key (10 ms)
2025-04-15T08:19:34.5287359Z     setMany
2025-04-15T08:19:34.5287466Z       ✓ should set multiple string values (1 ms)
2025-04-15T08:19:34.5287553Z       ✓ should set multiple number values
2025-04-15T08:19:34.5287662Z       ✓ should disregard zero-length keys (1 ms)
2025-04-15T08:19:34.5287703Z     getMany
2025-04-15T08:19:34.5287813Z       ✓ should return undefined on missing result
2025-04-15T08:19:34.5287864Z     setHash
2025-04-15T08:19:34.5287959Z       ✓ should set a hash if non-existing (1 ms)
2025-04-15T08:19:34.5288076Z       ✓ should add to a hash value if existing (1 ms)
2025-04-15T08:19:34.5288228Z     deleteFromHash
2025-04-15T08:19:34.5288319Z       ✓ should delete a hash field
2025-04-15T08:19:34.5288487Z     getHashValue
2025-04-15T08:19:34.5288586Z       ✓ should return a hash field value
2025-04-15T08:19:34.5288630Z   redis
2025-04-15T08:19:34.5288681Z     init
2025-04-15T08:19:34.5288783Z       ✓ should select backend based on config (1 ms)
2025-04-15T08:19:34.5288932Z       ✓ with auto backend and queue mode, should select redis (1 ms)
2025-04-15T08:19:34.5288978Z     set
2025-04-15T08:19:34.5289070Z       ✓ should set a string value (7 ms)
2025-04-15T08:19:34.5289156Z       ✓ should set a number value (1 ms)
2025-04-15T08:19:34.5289250Z       ✓ should set an object value
2025-04-15T08:19:34.5289360Z       ✓ should not cache `null` or `undefined` values
2025-04-15T08:19:34.5289458Z       ✓ should disregard zero-length keys
2025-04-15T08:19:34.5289542Z       ✓ should honor ttl (201 ms)
2025-04-15T08:19:34.5289597Z     get
2025-04-15T08:19:34.5289689Z       ✓ should fall back to fallback value
2025-04-15T08:19:34.5289782Z       ✓ should refresh value (1 ms)
2025-04-15T08:19:34.5289878Z       ✓ should handle non-ASCII key
2025-04-15T08:19:34.5290056Z     delete
2025-04-15T08:19:34.5290124Z       ✓ should delete a key
2025-04-15T08:19:34.5290215Z       ✓ should handle non-ASCII key
2025-04-15T08:19:34.5290261Z     setMany
2025-04-15T08:19:34.5290366Z       ✓ should set multiple string values (1 ms)
2025-04-15T08:19:34.5290454Z       ✓ should set multiple number values
2025-04-15T08:19:34.5290551Z       ✓ should disregard zero-length keys
2025-04-15T08:19:34.5290601Z     getMany
2025-04-15T08:19:34.5290716Z       ✓ should return undefined on missing result (1 ms)
2025-04-15T08:19:34.5290764Z     setHash
2025-04-15T08:19:34.5290852Z       ✓ should set a hash if non-existing
2025-04-15T08:19:34.5290958Z       ✓ should add to a hash value if existing (1 ms)
2025-04-15T08:19:34.5291008Z     deleteFromHash
2025-04-15T08:19:34.5291093Z       ✓ should delete a hash field
2025-04-15T08:19:34.5291139Z     getHashValue
2025-04-15T08:19:34.5291232Z       ✓ should return a hash field value
2025-04-15T08:19:34.5291235Z 
2025-04-15T08:19:34.5291453Z PASS test/integration/executions/pre-execution-checks/credentials-permission-checker.test.ts
2025-04-15T08:19:34.5291509Z   check()
2025-04-15T08:19:34.5291613Z     ✓ should allow if workflow has no creds (17 ms)
2025-04-15T08:19:34.5291747Z     ✓ should allow if workflow creds are valid subset (43 ms)
2025-04-15T08:19:34.5291878Z     ✓ should deny if workflow creds are not valid subset (31 ms)
2025-04-15T08:19:34.5292037Z     ✓ should allow all credentials if current user is instance owner (36 ms)
2025-04-15T08:19:34.5292041Z 
2025-04-15T08:19:34.5292222Z PASS src/environments.ee/source-control/__tests__/source-control-helper.ee.test.ts
2025-04-15T08:19:34.5292270Z   Source Control
2025-04-15T08:19:34.5292374Z     ✓ should generate an SSH key pair (64 ms)
2025-04-15T08:19:34.5292471Z     ✓ should generate an RSA key pair (1151 ms)
2025-04-15T08:19:34.5292625Z     ✓ should check for git and ssh folders and create them if required (1 ms)
2025-04-15T08:19:34.5292715Z     ✓ should get repo type from url
2025-04-15T08:19:34.5292865Z     ✓ should get tracking information from pre-push results (1 ms)
2025-04-15T08:19:34.5292986Z     ✓ should get tracking information from post-push results
2025-04-15T08:19:34.5293118Z     ✓ should get tracking information from pull results (1 ms)
2025-04-15T08:19:34.5293121Z 
2025-04-15T08:19:34.5293221Z PASS test/integration/public-api/users.ee.test.ts
2025-04-15T08:19:34.5293298Z   With license unlimited quota:users
2025-04-15T08:19:34.5293345Z     GET /users
2025-04-15T08:19:34.5293455Z       ✓ should fail due to missing API Key (216 ms)
2025-04-15T08:19:34.5293560Z       ✓ should fail due to invalid API Key (16 ms)
2025-04-15T08:19:34.5293714Z       ✓ should fail due to member trying to access owner only endpoint (209 ms)
2025-04-15T08:19:34.5293806Z       ✓ should return all users (40 ms)
2025-04-15T08:19:34.5293921Z       ✓ should return users filtered by project ID (51 ms)
2025-04-15T08:19:34.5293977Z     GET /users/:id
2025-04-15T08:19:34.5294181Z       ✓ should fail due to missing API Key (41 ms)
2025-04-15T08:19:34.5294292Z       ✓ should fail due to invalid API Key (20 ms)
2025-04-15T08:19:34.5294442Z       ✓ should fail due to member trying to access owner only endpoint (22 ms)
2025-04-15T08:19:34.5294556Z       ✓ should return 404 for non-existing id  (24 ms)
2025-04-15T08:19:34.5294650Z       ✓ should return a pending user (34 ms)
2025-04-15T08:19:34.5294707Z     GET /users/:email
2025-04-15T08:19:34.5294820Z       ✓ with non-existing email should return 404 (37 ms)
2025-04-15T08:19:34.5294909Z       ✓ should return a user (20 ms)
2025-04-15T08:19:34.5294972Z   With license without quota:users
2025-04-15T08:19:34.5295096Z     ✓ GET /users should fail due to invalid license (22 ms)
2025-04-15T08:19:34.5295219Z     ✓ GET /users/:id should fail due to invalid license (19 ms)
2025-04-15T08:19:34.5295228Z 
2025-04-15T08:19:34.5295358Z PASS src/controllers/__tests__/binary-data.controller.test.ts
2025-04-15T08:19:34.5295414Z   BinaryDataController
2025-04-15T08:19:34.5295464Z     get
2025-04-15T08:19:34.5295680Z       ✓ should return 400 if binary data mode is missing (9 ms)
2025-04-15T08:19:34.5295798Z       ✓ should return 400 if binary data mode is invalid (1 ms)
2025-04-15T08:19:34.5295897Z       ✓ should return 404 if file is not found
2025-04-15T08:19:34.5296045Z       ✓ should set Content-Type and Content-Length from query if provided
2025-04-15T08:19:34.5296230Z       ✓ should set Content-Type and Content-Length from metadata if not provided (1 ms)
2025-04-15T08:19:34.5296347Z       ✓ should set Content-Disposition for download action
2025-04-15T08:19:34.5296495Z       ✓ should set Content-Security-Policy for HTML in view mode (1 ms)
2025-04-15T08:19:34.5296636Z       ✓ should not set Content-Security-Policy for HTML in download mode
2025-04-15T08:19:34.5296752Z       ✓ should return the file stream on success (1 ms)
2025-04-15T08:19:34.5296798Z     getSigned
2025-04-15T08:19:34.5296916Z       ✓ should return 400 if binary data mode is missing
2025-04-15T08:19:34.5297091Z       ✓ should return 400 if binary data mode is invalid (1 ms)
2025-04-15T08:19:34.5297197Z       ✓ should return 400 if token is invalid
2025-04-15T08:19:34.5297296Z       ✓ should return 404 if file is not found
2025-04-15T08:19:34.5297416Z       ✓ should return the file stream on a valid signed token
2025-04-15T08:19:34.5297420Z 
2025-04-15T08:19:34.5297551Z PASS test/integration/workflows/workflow.service.ee.test.ts
2025-04-15T08:19:34.5297612Z   EnterpriseWorkflowService
2025-04-15T08:19:34.5297689Z     validateWorkflowCredentialUsage
2025-04-15T08:19:34.5297858Z       ✓ Should throw error saving a workflow using credential without access (30 ms)
2025-04-15T08:19:34.5298041Z       ✓ Should not throw error when saving a workflow using credential with access (3 ms)
2025-04-15T08:19:34.5298241Z       ✓ Should not throw error when saving a workflow removing node without credential access (1 ms)
2025-04-15T08:19:34.5298413Z       ✓ Should save fine when not making changes to workflow without access (2 ms)
2025-04-15T08:19:34.5298590Z       ✓ Should throw error saving a workflow adding node without credential access (3 ms)
2025-04-15T08:19:34.5298672Z     getNodesWithInaccessibleCreds
2025-04-15T08:19:34.5298820Z       ✓ Should return an empty list for a workflow without nodes (1 ms)
2025-04-15T08:19:34.5298990Z       ✓ Should return an empty list for a workflow with nodes without credentials (1 ms)
2025-04-15T08:19:34.5299157Z       ✓ Should return an element for a node with a credential without access (1 ms)
2025-04-15T08:19:34.5299314Z       ✓ Should return an empty list for a node with a credential with access (1 ms)
2025-04-15T08:19:34.5299486Z       ✓ Should return an element for a node with two credentials and mixed access (2 ms)
2025-04-15T08:19:34.5299654Z       ✓ Should return one node for a workflow with two nodes and two credentials (1 ms)
2025-04-15T08:19:34.5299837Z       ✓ Should return one element for a workflows with two nodes and one credential (1 ms)
2025-04-15T08:19:34.5300264Z       ✓ Should return one element for a workflows with two nodes and partial credential access (1 ms)
2025-04-15T08:19:34.5300484Z       ✓ Should return two elements for a workflows with two nodes and partial credential access (1 ms)
2025-04-15T08:19:34.5300677Z       ✓ Should return two elements for a workflows with two nodes and no credential access (1 ms)
2025-04-15T08:19:34.5300688Z 
2025-04-15T08:19:34.5300884Z PASS src/environments.ee/source-control/__tests__/source-control-import.service.ee.test.ts
2025-04-15T08:19:34.5300946Z   SourceControlImportService
2025-04-15T08:19:34.5301014Z     getRemoteVersionIdsFromFiles
2025-04-15T08:19:34.5301129Z       ✓ should parse workflow files correctly (3 ms)
2025-04-15T08:19:34.5301244Z       ✓ should filter out files without valid workflow data
2025-04-15T08:19:34.5301319Z     getRemoteCredentialsFromFiles
2025-04-15T08:19:34.5301416Z       ✓ should parse credential files correctly
2025-04-15T08:19:34.5301549Z       ✓ should filter out files without valid credential data
2025-04-15T08:19:34.5301703Z     getRemoteVariablesFromFile
2025-04-15T08:19:34.5301813Z       ✓ should parse variables file correctly (1 ms)
2025-04-15T08:19:34.5301930Z       ✓ should return empty array if no variables file found
2025-04-15T08:19:34.5302011Z     getRemoteTagsAndMappingsFromFile
2025-04-15T08:19:34.5302119Z       ✓ should parse tags and mappings file correctly
2025-04-15T08:19:34.5302247Z       ✓ should return empty tags and mappings if no file found
2025-04-15T08:19:34.5302320Z     getRemoteFoldersAndMappingsFromFile
2025-04-15T08:19:34.5302442Z       ✓ should parse folders and mappings file correctly
2025-04-15T08:19:34.5302570Z       ✓ should return empty folders and mappings if no file found
2025-04-15T08:19:34.5302628Z     getLocalVersionIdsFromDb
2025-04-15T08:19:34.5302778Z       ✓ should replace invalid updatedAt with current timestamp (1 ms)
2025-04-15T08:19:34.5302849Z     getLocalFoldersAndMappingsFromDb
2025-04-15T08:19:34.5302949Z       ✓ should return data from DB (1 ms)
2025-04-15T08:19:34.5302956Z 
2025-04-15T08:19:34.5303111Z PASS src/controllers/__tests__/dynamic-node-parameters.controller.test.ts
2025-04-15T08:19:34.5303186Z   DynamicNodeParametersController
2025-04-15T08:19:34.5303233Z     getOptions
2025-04-15T08:19:34.5303404Z       ✓ should call getOptionsViaMethodName when methodName is provided (6 ms)
2025-04-15T08:19:34.5303575Z       ✓ should call getOptionsViaLoadOptions when loadOptions is provided (1 ms)
2025-04-15T08:19:34.5303735Z       ✓ should return empty array when no method or load options are provided
2025-04-15T08:19:34.5303792Z     getResourceLocatorResults
2025-04-15T08:19:34.5303954Z       ✓ should call getResourceLocatorResults with correct parameters (1 ms)
2025-04-15T08:19:34.5304014Z     getResourceMappingFields
2025-04-15T08:19:34.5304164Z       ✓ should call getResourceMappingFields with correct parameters
2025-04-15T08:19:34.5304235Z     getLocalResourceMappingFields
2025-04-15T08:19:34.5304411Z       ✓ should call getLocalResourceMappingFields with correct parameters (1 ms)
2025-04-15T08:19:34.5304470Z     getActionResult
2025-04-15T08:19:34.5304587Z       ✓ should call getActionResult with correct parameters
2025-04-15T08:19:34.5304590Z 
2025-04-15T08:19:34.5304743Z PASS test/integration/security-audit/instance-risk-reporter.test.ts
2025-04-15T08:19:34.5304864Z   ✓ should report webhook lacking authentication (254 ms)
2025-04-15T08:19:34.5305007Z   ✓ should not report webhooks having basic or header auth (10 ms)
2025-04-15T08:19:34.5305142Z   ✓ should not report webhooks validated by direct children (26 ms)
2025-04-15T08:19:34.5305254Z   ✓ should not report non-webhook node (17 ms)
2025-04-15T08:19:34.5305368Z   ✓ should report outdated instance when outdated (16 ms)
2025-04-15T08:19:34.5305502Z   ✓ should not report outdated instance when up to date (66 ms)
2025-04-15T08:19:34.5305596Z   ✓ should report security settings (8 ms)
2025-04-15T08:19:34.5305604Z 
2025-04-15T08:19:34.5305822Z PASS src/webhooks/__tests__/webhook-request-handler.test.ts
2025-04-15T08:19:34.5305883Z   WebhookRequestHandler
2025-04-15T08:19:34.5305987Z     ✓ should throw for unsupported methods (14 ms)
2025-04-15T08:19:34.5306046Z     preflight requests
2025-04-15T08:19:34.5306177Z       ✓ should handle missing header for requested method (2 ms)
2025-04-15T08:19:34.5306294Z       ✓ should handle default origin and max-age (1 ms)
2025-04-15T08:19:34.5306380Z       ✓ should handle wildcard origin
2025-04-15T08:19:34.5306477Z       ✓ should handle custom origin (4 ms)
2025-04-15T08:19:34.5306528Z     webhook requests
2025-04-15T08:19:34.5306711Z       ✓ should delegate the request to the webhook manager and send the response (1 ms)
2025-04-15T08:19:34.5306852Z       ✓ should send an error response if webhook execution throws (2 ms)
2025-04-15T08:19:34.5306996Z       ✓ should handle 'DELETE' method (2 ms)
2025-04-15T08:19:34.5307085Z       ✓ should handle 'GET' method (1 ms)
2025-04-15T08:19:34.5307172Z       ✓ should handle 'HEAD' method
2025-04-15T08:19:34.5307269Z       ✓ should handle 'PATCH' method (1 ms)
2025-04-15T08:19:34.5307450Z       ✓ should handle 'POST' method
2025-04-15T08:19:34.5307534Z       ✓ should handle 'PUT' method
2025-04-15T08:19:34.5307545Z 
2025-04-15T08:19:34.5307643Z PASS test/integration/public-api/users.test.ts
2025-04-15T08:19:34.5307702Z   Users in Public API
2025-04-15T08:19:34.5307750Z     POST /users
2025-04-15T08:19:34.5307858Z       ✓ if not authenticated, should reject (206 ms)
2025-04-15T08:19:34.5307956Z       ✓ if missing scope, should reject (161 ms)
2025-04-15T08:19:34.5308048Z       ✓ should create a user (59 ms)
2025-04-15T08:19:34.5308096Z     DELETE /users/:id
2025-04-15T08:19:34.5308202Z       ✓ if not authenticated, should reject (21 ms)
2025-04-15T08:19:34.5308300Z       ✓ if missing scope, should reject (24 ms)
2025-04-15T08:19:34.5308387Z       ✓ should delete a user (45 ms)
2025-04-15T08:19:34.5308439Z     PATCH /users/:id/role
2025-04-15T08:19:34.5308546Z       ✓ if not authenticated, should reject (10 ms)
2025-04-15T08:19:34.5308643Z       ✓ if not licensed, should reject (40 ms)
2025-04-15T08:19:34.5308749Z       ✓ if missing scope, should reject (37 ms)
2025-04-15T08:19:34.5308859Z       ✓ should return a 400 on invalid payload (43 ms)
2025-04-15T08:19:34.5308961Z       ✓ should change a user's role (45 ms)
2025-04-15T08:19:34.5308964Z 
2025-04-15T08:19:34.5309058Z PASS test/integration/webhooks.api.test.ts
2025-04-15T08:19:34.5309108Z   Webhook API
2025-04-15T08:19:34.5309165Z     Content-Type support
2025-04-15T08:19:34.5309245Z       ✓ should handle JSON (24 ms)
2025-04-15T08:19:34.5309332Z       ✓ should handle XML (7 ms)
2025-04-15T08:19:34.5309430Z       ✓ should handle form-urlencoded (7 ms)
2025-04-15T08:19:34.5309524Z       ✓ should handle plain text (15 ms)
2025-04-15T08:19:34.5309623Z       ✓ should handle multipart/form-data (12 ms)
2025-04-15T08:19:34.5309682Z     Params support
2025-04-15T08:19:34.5309764Z       ✓ should handle params (17 ms)
2025-04-15T08:19:34.5309767Z 
2025-04-15T08:19:34.5309877Z PASS src/webhooks/__tests__/test-webhooks.test.ts
2025-04-15T08:19:34.5309930Z   TestWebhooks
2025-04-15T08:19:34.5309982Z     needsWebhook()
2025-04-15T08:19:34.5310157Z       ✓ if webhook is needed, should register then create webhook and return true (3 ms)
2025-04-15T08:19:34.5310326Z       ✓ if webhook activation fails, should deactivate workflow webhooks (11 ms)
2025-04-15T08:19:34.5310459Z       ✓ if no webhook is found to start workflow, should return false
2025-04-15T08:19:34.5310622Z       ✓ returns false if a triggerToStartFrom with triggerData is given (1 ms)
2025-04-15T08:19:34.5310868Z       ✓ returns true, registers and then creates webhook if triggerToStartFrom is given with no triggerData (1 ms)
2025-04-15T08:19:34.5310920Z     executeWebhook()
2025-04-15T08:19:34.5311041Z       ✓ if webhook is not registered, should throw (15 ms)
2025-04-15T08:19:34.5311182Z       ✓ if webhook is registered but missing from workflow, should throw
2025-04-15T08:19:34.5311242Z     deactivateWebhooks()
2025-04-15T08:19:34.5311449Z       ✓ should add additional data to workflow (1 ms)
2025-04-15T08:19:34.5311457Z 
2025-04-15T08:19:34.5311554Z PASS test/integration/import.service.test.ts
2025-04-15T08:19:34.5311601Z   ImportService
2025-04-15T08:19:34.5311723Z     ✓ should import credless and tagless workflow (18 ms)
2025-04-15T08:19:34.5311835Z     ✓ should make user owner of imported workflow (6 ms)
2025-04-15T08:19:34.5311967Z     ✓ should not change the owner if it already exists (21 ms)
2025-04-15T08:19:34.5312082Z     ✓ should deactivate imported workflow if active (7 ms)
2025-04-15T08:19:34.5312200Z     ✓ should leave intact new-format credentials (8 ms)
2025-04-15T08:19:34.5312302Z     ✓ should set tag by identical match (19 ms)
2025-04-15T08:19:34.5312394Z     ✓ should set tag by name match (20 ms)
2025-04-15T08:19:34.5312506Z     ✓ should set tag by creating if no match (16 ms)
2025-04-15T08:19:34.5312510Z 
2025-04-15T08:19:34.5312593Z PASS src/__tests__/workflow-runner.test.ts
2025-04-15T08:19:34.5312655Z   processError
2025-04-15T08:19:34.5312909Z     ✓ processError should return early in Bull stalled edge case (61 ms)
2025-04-15T08:19:34.5313095Z     ✓ processError should return early if the error is `ExecutionNotFoundError` (22 ms)
2025-04-15T08:19:34.5313189Z     ✓ processError should process error (29 ms)
2025-04-15T08:19:34.5313241Z   run
2025-04-15T08:19:34.5313499Z     ✓ uses recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom with data is sent (25 ms)
2025-04-15T08:19:34.5313781Z     ✓ does not use recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom without data is sent (4 ms)
2025-04-15T08:19:34.5313785Z 
2025-04-15T08:19:34.5313946Z PASS test/integration/security-audit/credentials-risk-reporter.test.ts
2025-04-15T08:19:34.5314063Z   ✓ should report credentials not in any use (253 ms)
2025-04-15T08:19:34.5314188Z   ✓ should report credentials not in active use (19 ms)
2025-04-15T08:19:34.5314346Z   ✓ should report credential in not recently executed workflow (16 ms)
2025-04-15T08:19:34.5314510Z   ✓ should not report credentials in recently executed workflow (18 ms)
2025-04-15T08:19:34.5314514Z 
2025-04-15T08:19:34.5314612Z PASS src/webhooks/__tests__/waiting-forms.test.ts
2025-04-15T08:19:34.5314666Z   WaitingForms
2025-04-15T08:19:34.5314717Z     findCompletionPage
2025-04-15T08:19:34.5314916Z       ✓ should return lastNodeExecuted if it is a non-disabled form completion node (4 ms)
2025-04-15T08:19:34.5315046Z       ✓ should return undefined if lastNodeExecuted is disabled
2025-04-15T08:19:34.5315212Z       ✓ should return undefined if lastNodeExecuted is not a form node (1 ms)
2025-04-15T08:19:34.5315393Z       ✓ should return undefined if lastNodeExecuted operation is not completion (1 ms)
2025-04-15T08:19:34.5315608Z       ✓ should find first valid completion form in parent nodes if lastNodeExecuted is not valid (1 ms)
2025-04-15T08:19:34.5315796Z       ✓ should return undefined if no valid completion form is found in parent nodes (1 ms)
2025-04-15T08:19:34.5315913Z       ✓ should skip parent nodes without runData (1 ms)
2025-04-15T08:19:34.5316074Z       ✓ should mark as test form webhook when execution mode is manual (1 ms)
2025-04-15T08:19:34.5316261Z       ✓ should return status of execution if suffix is WAITING_FORMS_EXECUTION_STATUS (24 ms)
2025-04-15T08:19:34.5316264Z 
2025-04-15T08:19:34.5316350Z PASS src/push/__tests__/index.test.ts
2025-04-15T08:19:34.5316395Z   Push
2025-04-15T08:19:34.5316455Z     setupPushServer
2025-04-15T08:19:34.5316502Z       sse backend
2025-04-15T08:19:34.5316617Z         ✓ should not create a WebSocket server (3 ms)
2025-04-15T08:19:34.5316668Z       websocket backend
2025-04-15T08:19:34.5316776Z         ✓ should not upgrade non-push urls (1 ms)
2025-04-15T08:19:34.5316909Z         ✓ should upgrade push url, and route it to express (1 ms)
2025-04-15T08:19:34.5317001Z     handleRequest
2025-04-15T08:19:34.5317059Z       sse backend
2025-04-15T08:19:34.5317155Z         ✓ should throw if pushRef is invalid
2025-04-15T08:19:34.5317366Z         ✓ should add the connection if pushRef is valid
2025-04-15T08:19:34.5317439Z         should throw on invalid origin
2025-04-15T08:19:34.5317553Z           ✓ https://subdomain.example.com (21 ms)
2025-04-15T08:19:34.5317653Z           ✓ https://123example.com (1 ms)
2025-04-15T08:19:34.5317732Z           ✓ undefined (1 ms)
2025-04-15T08:19:34.5317785Z       websocket backend
2025-04-15T08:19:34.5317886Z         ✓ should throw if pushRef is invalid
2025-04-15T08:19:34.5317993Z         ✓ should add the connection if pushRef is valid
2025-04-15T08:19:34.5318121Z         ✓ should respond with 401 if request is not WebSocket
2025-04-15T08:19:34.5318190Z         should throw on invalid origin
2025-04-15T08:19:34.5318299Z           ✓ https://subdomain.example.com (1 ms)
2025-04-15T08:19:34.5318387Z           ✓ https://123example.com (1 ms)
2025-04-15T08:19:34.5318454Z           ✓ undefined
2025-04-15T08:19:34.5318458Z 
2025-04-15T08:19:34.5318591Z PASS src/services/__tests__/public-api-key.service.test.ts
2025-04-15T08:19:34.5318734Z   PublicApiKeyService
2025-04-15T08:19:34.5318788Z     getAuthMiddleware
2025-04-15T08:19:34.5318903Z       ✓ should return false if api key is invalid (9 ms)
2025-04-15T08:19:34.5319050Z       ✓ should return false if valid api key is not in database (4 ms)
2025-04-15T08:19:34.5319192Z       ✓ should return true if valid api key exist in the database (18 ms)
2025-04-15T08:19:34.5319312Z       ✓ should return false if expired JWT is used (32 ms)
2025-04-15T08:19:34.5319423Z       ✓ should work with non JWT (legacy) api keys (20 ms)
2025-04-15T08:19:34.5319483Z     redactApiKey
2025-04-15T08:19:34.5319566Z       ✓ should redact api key (6 ms)
2025-04-15T08:19:34.5319570Z 
2025-04-15T08:19:34.5319699Z PASS src/services/pruning/__tests__/pruning.service.test.ts
2025-04-15T08:19:34.5319750Z   PruningService
2025-04-15T08:19:34.5319807Z     init
2025-04-15T08:19:34.5319952Z       ✓ should start pruning on main instance that is the leader (5 ms)
2025-04-15T08:19:34.5320116Z       ✓ should not start pruning on main instance that is a follower (1 ms)
2025-04-15T08:19:34.5320286Z       ✓ should register leadership events if main on multi-main setup (1 ms)
2025-04-15T08:19:34.5320331Z     isEnabled
2025-04-15T08:19:34.5320470Z       ✓ should return `true` based on config if leader main (1 ms)
2025-04-15T08:19:34.5320592Z       ✓ should return `false` based on config if leader main
2025-04-15T08:19:34.5320732Z       ✓ should return `false` if non-main even if config is enabled
2025-04-15T08:19:34.5320888Z       ✓ should return `false` if follower main even if config is enabled (1 ms)
2025-04-15T08:19:34.5320946Z     startPruning
2025-04-15T08:19:34.5321054Z       ✓ should not start pruning if service is disabled
2025-04-15T08:19:34.5321216Z       ✓ should start pruning if service is enabled and DB is migrated (6 ms)
2025-04-15T08:19:34.5321219Z 
2025-04-15T08:19:34.5321318Z PASS src/__tests__/credentials-helper.test.ts
2025-04-15T08:19:34.5321373Z   CredentialsHelper
2025-04-15T08:19:34.5321509Z     authenticate
2025-04-15T08:19:34.5321624Z       ✓ basicAuth, default property names (15 ms)
2025-04-15T08:19:34.5321692Z       ✓ headerAuth (1 ms)
2025-04-15T08:19:34.5321809Z       ✓ headerAuth, key and value expressions (1 ms)
2025-04-15T08:19:34.5321878Z       ✓ queryAuth
2025-04-15T08:19:34.5321965Z       ✓ custom authentication (1 ms)
2025-04-15T08:19:34.5321968Z 
2025-04-15T08:19:34.5322064Z PASS src/commands/db/__tests__/revert.test.ts
2025-04-15T08:19:34.5322185Z   ✓ don't revert migrations if there is no migration (4 ms)
2025-04-15T08:19:34.5322334Z   ✓ don't revert the last migration if it had no down migration (1 ms)
2025-04-15T08:19:34.5322522Z   ✓ print migration name instead of class name in error message if the migration has a name
2025-04-15T08:19:34.5322702Z   ✓ don't revert the last migration if we cannot find the migration in the code (1 ms)
2025-04-15T08:19:34.5322818Z   ✓ revert the last migration if it has a down migration
2025-04-15T08:19:34.5322987Z   ✓ don't use transaction if the last migration has transaction = false (1 ms)
2025-04-15T08:19:34.5323079Z 
2025-04-15T08:19:34.5323253Z PASS test/integration/controllers/dynamic-node-parameters.controller.test.ts
2025-04-15T08:19:34.5323328Z   DynamicNodeParametersController
2025-04-15T08:19:34.5323408Z     POST /dynamic-node-parameters/options
2025-04-15T08:19:34.5323500Z       ✓ should take params via body (52 ms)
2025-04-15T08:19:34.5323613Z       ✓ should take params with loadOptions (10 ms)
2025-04-15T08:19:34.5323768Z       ✓ should return empty array when no method or loadOptions provided (5 ms)
2025-04-15T08:19:34.5323871Z     POST /dynamic-node-parameters/resource-locator-results
2025-04-15T08:19:34.5323981Z       ✓ should return resource locator results (4 ms)
2025-04-15T08:19:34.5324132Z       ✓ should handle resource locator results without pagination (4 ms)
2025-04-15T08:19:34.5324261Z       ✓ should return a 400 if methodName is not defined (4 ms)
2025-04-15T08:19:34.5324369Z     POST /dynamic-node-parameters/resource-mapper-fields
2025-04-15T08:19:34.5324476Z       ✓ should return resource mapper fields (7 ms)
2025-04-15T08:19:34.5324613Z       ✓ should return a 400 if methodName is not defined (12 ms)
2025-04-15T08:19:34.5324721Z     POST /dynamic-node-parameters/local-resource-mapper-fields
2025-04-15T08:19:34.5324843Z       ✓ should return local resource mapper fields (4 ms)
2025-04-15T08:19:34.5324970Z       ✓ should return a 400 if methodName is not defined (3 ms)
2025-04-15T08:19:34.5325053Z     POST /dynamic-node-parameters/action-result
2025-04-15T08:19:34.5325173Z       ✓ should return action result with handler (3 ms)
2025-04-15T08:19:34.5325293Z       ✓ should return a 400 if handler is not defined (3 ms)
2025-04-15T08:19:34.5325296Z 
2025-04-15T08:19:34.5325478Z PASS test/integration/task-runners/js-task-runner-execution.integration.test.ts
2025-04-15T08:19:34.5325558Z   JS TaskRunner execution on internal mode
2025-04-15T08:19:34.5325616Z     Basic code execution
2025-04-15T08:19:34.5325721Z       ✓ should execute a simple JS task (820 ms)
2025-04-15T08:19:34.5325798Z     Internal and external libs
2025-04-15T08:19:34.5325924Z       ✓ should allow importing allowed internal module (893 ms)
2025-04-15T08:19:34.5326069Z       ✓ should not allow importing disallowed internal module (8 ms)
2025-04-15T08:19:34.5326191Z       ✓ should allow importing allowed external module (8 ms)
2025-04-15T08:19:34.5326332Z       ✓ should not allow importing disallowed external module (7 ms)
2025-04-15T08:19:34.5326335Z 
2025-04-15T08:19:34.5326461Z PASS src/deprecation/__tests__/deprecation.service.test.ts
2025-04-15T08:19:34.5326519Z   DeprecationService
2025-04-15T08:19:34.5326638Z     ✓ should detect when N8N_BINARY_DATA_TTL is `1` (1 ms)
2025-04-15T08:19:34.5326761Z     ✓ should detect when N8N_PERSISTED_BINARY_DATA_TTL is `1`
2025-04-15T08:19:34.5326902Z     ✓ should detect when EXECUTIONS_DATA_PRUNE_TIMEOUT is `1` (1 ms)
2025-04-15T08:19:34.5327046Z     ✓ should detect when N8N_CONFIG_FILES is `1`
2025-04-15T08:19:34.5327304Z     ✓ should detect when N8N_SKIP_WEBHOOK_DEREGISTRATION_SHUTDOWN is `1` (1 ms)
2025-04-15T08:19:34.5327447Z     ✓ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `1`
2025-04-15T08:19:34.5327588Z     ✓ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `2`
2025-04-15T08:19:34.5327749Z     ✓ should detect when N8N_PARTIAL_EXECUTION_VERSION_DEFAULT is `undefined`
2025-04-15T08:19:34.5327862Z     ✓ should handle N8N_BINARY_DATA_MODE as default
2025-04-15T08:19:34.5327972Z     ✓ should handle N8N_BINARY_DATA_MODE as filesystem
2025-04-15T08:19:34.5328078Z     ✓ should handle N8N_BINARY_DATA_MODE as s3
2025-04-15T08:19:34.5328264Z     ✓ should handle DB_TYPE as sqlite (1 ms)
2025-04-15T08:19:34.5328362Z     ✓ should handle DB_TYPE as postgresdb
2025-04-15T08:19:34.5328453Z     ✓ should handle DB_TYPE as mysqldb
2025-04-15T08:19:34.5328540Z     ✓ should handle DB_TYPE as mariadb
2025-04-15T08:19:34.5328616Z     N8N_PARTIAL_EXECUTION_VERSION_DEFAULT
2025-04-15T08:19:34.5328780Z       ✓ supports multiple warnings for the same environment variable (4 ms)
2025-04-15T08:19:34.5328948Z     N8N_RUNNERS_ENABLED
2025-04-15T08:19:34.5329048Z       ✓ should handle value: false (1 ms)
2025-04-15T08:19:34.5329123Z       ✓ should handle value: 
2025-04-15T08:19:34.5329218Z       ✓ should handle value: true
2025-04-15T08:19:34.5329305Z       ✓ should handle value: undefined
2025-04-15T08:19:34.5329388Z     OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS
2025-04-15T08:19:34.5329457Z       when executions.mode is queue
2025-04-15T08:19:34.5329620Z         ✓ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is false (1 ms)
2025-04-15T08:19:34.5329765Z         ✓ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is empty
2025-04-15T08:19:34.5329908Z         ✓ should not warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is true
2025-04-15T08:19:34.5330076Z         ✓ should warn when OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS is undefined (1 ms)
2025-04-15T08:19:34.5330149Z       when executions.mode is not queue
2025-04-15T08:19:34.5330225Z         ✓ should not warn
2025-04-15T08:19:34.5330233Z 
2025-04-15T08:19:34.5330336Z PASS src/scaling/__tests__/worker-server.test.ts
2025-04-15T08:19:34.5330393Z   WorkerServer
2025-04-15T08:19:34.5330439Z     constructor
2025-04-15T08:19:34.5330563Z       ✓ should throw if non-worker instance type (16 ms)
2025-04-15T08:19:34.5330653Z       ✓ should exit if port taken (3 ms)
2025-04-15T08:19:34.5330703Z     init
2025-04-15T08:19:34.5330829Z       ✓ should mount all endpoints when all are enabled (1 ms)
2025-04-15T08:19:34.5331022Z       ✓ should mount only health and overwrites endpoints if only those are enabled (1 ms)
2025-04-15T08:19:34.5331133Z       ✓ should throw if no endpoints are enabled (1 ms)
2025-04-15T08:19:34.5331250Z       ✓ should call `worker.ready` external hook (1 ms)
2025-04-15T08:19:34.5331253Z 
2025-04-15T08:19:34.5331407Z PASS test/integration/collaboration/collaboration.service.test.ts
2025-04-15T08:19:34.5331461Z   CollaborationService
2025-04-15T08:19:34.5331527Z     workflow opened message
2025-04-15T08:19:34.5331674Z       ✓ should emit collaboratorsChanged after workflowOpened (17 ms)
2025-04-15T08:19:34.5331877Z       ✓ should not emit collaboratorsChanged if user don't have access to the workflow (2 ms)
2025-04-15T08:19:34.5331929Z     workflow closed message
2025-04-15T08:19:34.5332152Z       ✓ should not emit collaboratorsChanged after workflowClosed when there are no active users (6 ms)
2025-04-15T08:19:34.5332355Z       ✓ should emit collaboratorsChanged after workflowClosed when there are active users (12 ms)
2025-04-15T08:19:34.5332557Z       ✓ should not emit collaboratorsChanged if user don't have access to the workflow (19 ms)
2025-04-15T08:19:34.5332561Z 
2025-04-15T08:19:34.5332669Z PASS src/__tests__/active-workflow-manager.test.ts
2025-04-15T08:19:34.5332724Z   ActiveWorkflowManager
2025-04-15T08:19:34.5332800Z     checkIfWorkflowCanBeActivated
2025-04-15T08:19:34.5332892Z       ✓ should skip disabled nodes (6 ms)
2025-04-15T08:19:34.5333114Z       ✓ should skip nodes marked as ignored (10 ms)
2025-04-15T08:19:34.5333209Z       ✓ should skip unknown nodes (2 ms)
2025-04-15T08:19:34.5333329Z       ✓ should skip nodes with no trigger method (2 ms)
2025-04-15T08:19:34.5333438Z       ✓ should activate if poll method exists (1 ms)
2025-04-15T08:19:34.5333549Z       ✓ should activate if trigger method exists (2 ms)
2025-04-15T08:19:34.5333653Z       ✓ should activate if webhook method exists (2 ms)
2025-04-15T08:19:34.5333712Z     shouldAddWebhooks
2025-04-15T08:19:34.5333760Z       if leader
2025-04-15T08:19:34.5333856Z         ✓ should return `true` for `init`
2025-04-15T08:19:34.5333978Z         ✓ should return `false` for `leadershipChange` (1 ms)
2025-04-15T08:19:34.5334121Z         ✓ should return `true` for `update` or `activate` (1 ms)
2025-04-15T08:19:34.5334177Z       if follower
2025-04-15T08:19:34.5334310Z         ✓ should return `false` for `update` or `activate`
2025-04-15T08:19:34.5334360Z       add
2025-04-15T08:19:34.5334528Z         ✓ should skip inactive workflow in `init` activation mode (2 ms)
2025-04-15T08:19:34.5334831Z         ✓ should skip inactive workflow in `leadershipChange` activation mode (1 ms)
2025-04-15T08:19:34.5334849Z 
2025-04-15T08:19:34.5334985Z PASS src/executions/__tests__/executions.controller.test.ts
2025-04-15T08:19:34.5335053Z   ExecutionsController
2025-04-15T08:19:34.5335101Z     getOne
2025-04-15T08:19:34.5335232Z       ✓ should 400 when execution is not a number (11 ms)
2025-04-15T08:19:34.5335282Z     getMany
2025-04-15T08:19:34.5335364Z       if either status or range provided
2025-04-15T08:19:34.5335468Z         ✓ should fetch executions per query (2 ms)
2025-04-15T08:19:34.5335565Z         ✓ should fetch executions per query
2025-04-15T08:19:34.5335661Z         ✓ should fetch executions per query (1 ms)
2025-04-15T08:19:34.5335757Z         ✓ should fetch executions per query
2025-04-15T08:19:34.5335827Z       if neither status nor range provided
2025-04-15T08:19:34.5335939Z         ✓ should fetch executions per query (1 ms)
2025-04-15T08:19:34.5336032Z         ✓ should fetch executions per query
2025-04-15T08:19:34.5336112Z       if both status and range provided
2025-04-15T08:19:34.5336209Z         ✓ should fetch executions per query (6 ms)
2025-04-15T08:19:34.5336259Z     stop
2025-04-15T08:19:34.5336374Z       ✓ should 404 when execution is inaccessible for user
2025-04-15T08:19:34.5336500Z       ✓ should call ask for an execution to be stopped
2025-04-15T08:19:34.5336503Z 
2025-04-15T08:19:34.5336664Z PASS src/metrics/__tests__/prometheus-metrics.service.unmocked.test.ts
2025-04-15T08:19:34.5336721Z   workflow_success_total
2025-04-15T08:19:34.5336819Z     ✓ support workflow id labels (18 ms)
2025-04-15T08:19:34.5336908Z     ✓ support a custom prefix (1 ms)
2025-04-15T08:19:34.5337018Z   Active workflow count
2025-04-15T08:19:34.5337112Z     ✓ should prioritize cached value (2 ms)
2025-04-15T08:19:34.5337246Z     ✓ should query value from database if cache misses (2 ms)
2025-04-15T08:19:34.5337250Z 
2025-04-15T08:19:34.5337369Z PASS src/shutdown/__tests__/shutdown.service.test.ts
2025-04-15T08:19:34.5337435Z   ShutdownService
2025-04-15T08:19:34.5337483Z     shutdown
2025-04-15T08:19:34.5337578Z       ✓ should signal shutdown (7 ms)
2025-04-15T08:19:34.5337687Z       ✓ should signal shutdown in the priority order
2025-04-15T08:19:34.5337829Z       ✓ should throw error if shutdown is already in progress (15 ms)
2025-04-15T08:19:34.5337963Z       ✓ should report error if component shutdown fails (1 ms)
2025-04-15T08:19:34.5338014Z     waitForShutdown
2025-04-15T08:19:34.5338107Z       ✓ should wait for shutdown (1 ms)
2025-04-15T08:19:34.5338225Z       ✓ should throw error if app is not shutting down (1 ms)
2025-04-15T08:19:34.5338291Z     isShuttingDown
2025-04-15T08:19:34.5338390Z       ✓ should return true if app is shutting down
2025-04-15T08:19:34.5338508Z       ✓ should return false if app is not shutting down
2025-04-15T08:19:34.5338556Z     validate
2025-04-15T08:19:34.5338848Z       ✓ should throw error if component is not registered with the DI container (1 ms)
2025-04-15T08:19:34.5339008Z       ✓ should throw error if component is missing the shutdown method (1 ms)
2025-04-15T08:19:34.5339012Z 
2025-04-15T08:19:34.5339134Z PASS test/integration/services/project.service.test.ts
2025-04-15T08:19:34.5339184Z   ProjectService
2025-04-15T08:19:34.5339243Z     addUser
2025-04-15T08:19:34.5339452Z       ✓ creates a relation between the user and the project using the role project:viewer (37 ms)
2025-04-15T08:19:34.5339663Z       ✓ creates a relation between the user and the project using the role project:admin (15 ms)
2025-04-15T08:19:34.5339857Z       ✓ creates a relation between the user and the project using the role project:editor (12 ms)
2025-04-15T08:19:34.5340069Z       ✓ creates a relation between the user and the project using the role project:personalOwner (8 ms)
2025-04-15T08:19:34.5340365Z       ✓ changes the role the user has in the project if the user is already part of the project, instead of creating a new relationship (12 ms)
2025-04-15T08:19:34.5340513Z     getProjectWithScope
2025-04-15T08:19:34.5340752Z       ✓ should return the project if the user has the role project:admin and wants the scope workflow:list (15 ms)
2025-04-15T08:19:34.5340983Z       ✓ should return the project if the user has the role project:admin and wants the scope workflow:create (12 ms)
2025-04-15T08:19:34.5341218Z       ✓ should return the project if the user has the role project:viewer and wants the scope workflow:create (9 ms)
2025-04-15T08:19:34.5341454Z       ✓ should return the project if the user has the role project:viewer and wants the scope credential:create (11 ms)
2025-04-15T08:19:34.5341613Z       ✓ should not return the project if the user is not part of it (11 ms)
2025-04-15T08:19:34.5341616Z 
2025-04-15T08:19:34.5341724Z PASS src/services/__tests__/hooks.service.test.ts
2025-04-15T08:19:34.5341773Z   HooksService
2025-04-15T08:19:34.5341947Z     ✓ hooksService.inviteUsers should call userService.inviteUsers (3 ms)
2025-04-15T08:19:34.5342104Z     ✓ hooksService.issueCookie should call authService.issueCookie (1 ms)
2025-04-15T08:19:34.5342263Z     ✓ hooksService.findOneUser should call authUserRepository.findOne
2025-04-15T08:19:34.5342410Z     ✓ hooksService.saveUser should call userRepository.save (1 ms)
2025-04-15T08:19:34.5342573Z     ✓ hooksService.updateSettings should call settingRepository.update
2025-04-15T08:19:34.5342721Z     ✓ hooksService.workflowsCount should call workflowRepository.count
2025-04-15T08:19:34.5342891Z     ✓ hooksService.credentialsCount should call credentialRepository.count
2025-04-15T08:19:34.5343041Z     ✓ hooksService.settingsCount should call settingsRepository.count
2025-04-15T08:19:34.5343220Z     ✓ hooksService.authMiddleware should call authService.authMiddleware (1 ms)
2025-04-15T08:19:34.5343359Z     ✓ hooksService.dbCollections should return valid repositories
2025-04-15T08:19:34.5343459Z     ✓ hooksService.getRudderStackClient
2025-04-15T08:19:34.5343463Z 
2025-04-15T08:19:34.5343617Z PASS src/execution-lifecycle/__tests__/restore-binary-data-id.test.ts
2025-04-15T08:19:34.5343675Z   on filesystem-v2 mode
2025-04-15T08:19:34.5343819Z     ✓ should restore if binary data ID is missing execution ID (3 ms)
2025-04-15T08:19:34.5343971Z     ✓ should do nothing if binary data ID is not missing execution ID (1 ms)
2025-04-15T08:19:34.5344069Z     ✓ should do nothing if no binary data ID
2025-04-15T08:19:34.5344169Z     ✓ should do nothing on itemless case (1 ms)
2025-04-15T08:19:34.5344266Z     ✓ should do nothing if data is undefined
2025-04-15T08:19:34.5344409Z     ✓ should do nothing if workflow execution mode is not `webhook` (1 ms)
2025-04-15T08:19:34.5344523Z     ✓ should ignore error thrown on renaming (1 ms)
2025-04-15T08:19:34.5344568Z   on s3 mode
2025-04-15T08:19:34.5344700Z     ✓ should restore if binary data ID is missing execution ID
2025-04-15T08:19:34.5344833Z     ✓ should do nothing if binary data ID is not missing execution ID
2025-04-15T08:19:34.5345038Z     ✓ should do nothing if no binary data ID (1 ms)
2025-04-15T08:19:34.5345139Z     ✓ should do nothing on itemless case
2025-04-15T08:19:34.5345241Z     ✓ should do nothing if data is undefined (1 ms)
2025-04-15T08:19:34.5345380Z     ✓ should do nothing if workflow execution mode is not `webhook`
2025-04-15T08:19:34.5345485Z     ✓ should ignore error thrown on renaming (1 ms)
2025-04-15T08:19:34.5345545Z   on default mode
2025-04-15T08:19:34.5345615Z     ✓ should do nothing
2025-04-15T08:19:34.5345619Z 
2025-04-15T08:19:34.5345726Z PASS test/integration/credentials-helper.test.ts
2025-04-15T08:19:34.5345781Z   CredentialsHelper
2025-04-15T08:19:34.5345857Z     credentialOwnedBySuperUsers
2025-04-15T08:19:34.5345943Z       ✓ owners are super users (22 ms)
2025-04-15T08:19:34.5346037Z       ✓ admins are super users (7 ms)
2025-04-15T08:19:34.5346135Z       ✓ owners need to own the credential (5 ms)
2025-04-15T08:19:34.5346234Z       ✓ admins need to own the credential (7 ms)
2025-04-15T08:19:34.5346333Z       ✓ members are no super users (20 ms)
2025-04-15T08:19:34.5346634Z       ✓ credential in team project with instance owner as an admin can use external secrets (17 ms)
2025-04-15T08:19:34.5346826Z       ✓ credential in team project with instance admin as an admin can use external secrets (16 ms)
2025-04-15T08:19:34.5347091Z       ✓ credential in team project with instance owner as an editor cannot use external secrets (12 ms)
2025-04-15T08:19:34.5347302Z       ✓ credential in team project with instance admin as an editor cannot use external secrets (19 ms)
2025-04-15T08:19:34.5347552Z       ✓ credential in team project with no instance admin or owner as part of the project cannot use external secrets (25 ms)
2025-04-15T08:19:34.5347556Z 
2025-04-15T08:19:34.5347664Z PASS src/__tests__/credentials-overwrites.test.ts
2025-04-15T08:19:34.5347716Z   CredentialsOverwrites
2025-04-15T08:19:34.5347779Z     constructor
2025-04-15T08:19:34.5347907Z       ✓ should parse and set overwrite data from config (8 ms)
2025-04-15T08:19:34.5347964Z     setData
2025-04-15T08:19:34.5348085Z       ✓ should reset resolvedTypes when setting new data
2025-04-15T08:19:34.5348141Z     applyOverwrite
2025-04-15T08:19:34.5348253Z       ✓ should apply overwrites only for empty fields
2025-04-15T08:19:34.5348390Z       ✓ should return original data if no overwrites exist (1 ms)
2025-04-15T08:19:34.5348440Z     getOverwrites
2025-04-15T08:19:34.5348595Z       ✓ should return undefined for unrecognized credential type (1 ms)
2025-04-15T08:19:34.5348691Z       ✓ should cache resolved types (1 ms)
2025-04-15T08:19:34.5348793Z       ✓ should merge overwrites from parent types
2025-04-15T08:19:34.5348797Z 
2025-04-15T08:19:34.5348951Z PASS test/integration/security-audit/database-risk-reporter.test.ts
2025-04-15T08:19:34.5349060Z   ✓ should report expressions in queries (241 ms)
2025-04-15T08:19:34.5349180Z   ✓ should report expressions in query params (12 ms)
2025-04-15T08:19:34.5349279Z   ✓ should report unused query params (10 ms)
2025-04-15T08:19:34.5349389Z   ✓ should not report non-database node (9 ms)
2025-04-15T08:19:34.5349396Z 
2025-04-15T08:19:34.5349536Z PASS src/executions/__tests__/parse-range-query.middleware.test.ts
2025-04-15T08:19:34.5349612Z   `parseRangeQuery` middleware
2025-04-15T08:19:34.5349656Z     errors
2025-04-15T08:19:34.5349758Z       ✓ should fail on invalid JSON (8 ms)
2025-04-15T08:19:34.5349862Z       ✓ should fail on invalid schema (2 ms)
2025-04-15T08:19:34.5349906Z     filter
2025-04-15T08:19:34.5350010Z       ✓ should parse status and mode fields (2 ms)
2025-04-15T08:19:34.5350109Z       ✓ should parse date-related fields (1 ms)
2025-04-15T08:19:34.5350211Z       ✓ should parse ID-related fields (1 ms)
2025-04-15T08:19:34.5350300Z       ✓ should parse `projectId` field
2025-04-15T08:19:34.5350399Z       ✓ should delete invalid fields (1 ms)
2025-04-15T08:19:34.5350444Z     range
2025-04-15T08:19:34.5350538Z       ✓ should parse first and last IDs
2025-04-15T08:19:34.5350619Z       ✓ should parse limit (1 ms)
2025-04-15T08:19:34.5350830Z       ✓ should default limit to 20 if absent (1 ms)
2025-04-15T08:19:34.5350838Z 
2025-04-15T08:19:34.5350950Z PASS src/controllers/__tests__/owner.controller.test.ts
2025-04-15T08:19:34.5351009Z   OwnerController
2025-04-15T08:19:34.5351057Z     setupOwner
2025-04-15T08:19:34.5351243Z       ✓ should throw a BadRequestError if the instance owner is already setup (14 ms)
2025-04-15T08:19:34.5351363Z       ✓ should setup the instance owner successfully (2 ms)
2025-04-15T08:19:34.5351421Z     dismissBanner
2025-04-15T08:19:34.5351550Z       ✓ should not call dismissBanner if no banner is provided
2025-04-15T08:19:34.5351672Z       ✓ should call dismissBanner with the correct banner name
2025-04-15T08:19:34.5351675Z 
2025-04-15T08:19:34.5351827Z PASS src/execution-lifecycle/__tests__/save-execution-progress.test.ts
2025-04-15T08:19:34.5351885Z   saveExecutionProgress
2025-04-15T08:19:34.5352020Z     ✓ should not try to update non-existent executions (3 ms)
2025-04-15T08:19:34.5352126Z     ✓ should handle DB errors on execution lookup
2025-04-15T08:19:34.5352444Z     ✓ should handle DB errors when updating the execution
2025-04-15T08:19:34.5352559Z     ✓ should not try to update finished executions (1 ms)
2025-04-15T08:19:34.5352676Z     ✓ should populate `.data` when it is missing (1 ms)
2025-04-15T08:19:34.5352774Z     ✓ should augment `.data` if it already exists
2025-04-15T08:19:34.5352890Z     ✓ should set last executed node correctly (1 ms)
2025-04-15T08:19:34.5352893Z 
2025-04-15T08:19:34.5352992Z PASS src/push/__tests__/websocket.push.test.ts
2025-04-15T08:19:34.5353042Z   WebSocketPush
2025-04-15T08:19:34.5353130Z     ✓ can add a connection (3 ms)
2025-04-15T08:19:34.5353213Z     ✓ closes a connection (1 ms)
2025-04-15T08:19:34.5353312Z     ✓ sends data to one connection (1 ms)
2025-04-15T08:19:34.5353400Z     ✓ sends data to all connections (1 ms)
2025-04-15T08:19:34.5353476Z     ✓ pings all connections
2025-04-15T08:19:34.5353577Z     ✓ sends data to all users connections (1 ms)
2025-04-15T08:19:34.5353721Z     ✓ emits message event when connection receives data (1 ms)
2025-04-15T08:19:34.5353832Z     ✓ emits doesn' emit message for client heartbeat
2025-04-15T08:19:34.5353835Z 
2025-04-15T08:19:34.5354003Z PASS test/integration/database/repositories/project.repository.test.ts
2025-04-15T08:19:34.5354057Z   ProjectRepository
2025-04-15T08:19:34.5354122Z     getPersonalProjectForUser
2025-04-15T08:19:34.5354215Z       ✓ returns the personal project (60 ms)
2025-04-15T08:19:34.5354335Z       ✓ does not return non personal projects (18 ms)
2025-04-15T08:19:34.5354407Z     getPersonalProjectForUserOrFail
2025-04-15T08:19:34.5354509Z       ✓ returns the personal project (21 ms)
2025-04-15T08:19:34.5354625Z       ✓ does not return non personal projects (47 ms)
2025-04-15T08:19:34.5354692Z     update personal project name
2025-04-15T08:19:34.5354902Z       ✓ do not pass a User instance with circular references into `UserRepository.create` (30 ms)
2025-04-15T08:19:34.5354905Z 
2025-04-15T08:19:34.5355070Z PASS src/external-secrets.ee/__tests__/external-secrets-manager.ee.test.ts
2025-04-15T08:19:34.5355142Z   External Secrets Manager
2025-04-15T08:19:34.5355223Z     ✓ should get secret (6 ms)
2025-04-15T08:19:34.5355330Z     ✓ should not throw errors during init (2 ms)
2025-04-15T08:19:34.5355440Z     ✓ should not throw errors during shutdown (1 ms)
2025-04-15T08:19:34.5355541Z     ✓ should save provider settings (2 ms)
2025-04-15T08:19:34.5355663Z     ✓ should call provider update functions on a timer (3 ms)
2025-04-15T08:19:34.5355825Z     ✓ should not call provider update functions if the not licensed (1 ms)
2025-04-15T08:19:34.5356000Z     ✓ should not call provider update functions if the provider has an error (1 ms)
2025-04-15T08:19:34.5356156Z     ✓ should reinitialize a provider when save provider settings (1 ms)
2025-04-15T08:19:34.5356160Z 
2025-04-15T08:19:34.5356259Z PASS test/integration/binary-data.api.test.ts
2025-04-15T08:19:34.5356311Z   GET /binary-data
2025-04-15T08:19:34.5356527Z     should reject on missing or invalid binary data ID
2025-04-15T08:19:34.5356618Z       ✓ on request to view (31 ms)
2025-04-15T08:19:34.5356713Z       ✓ on request to download (10 ms)
2025-04-15T08:19:34.5356785Z     should return binary data [filesystem]
2025-04-15T08:19:34.5356869Z       ✓ on request to view (7 ms)
2025-04-15T08:19:34.5356990Z       ✓ on request to download (5 ms)
2025-04-15T08:19:34.5357082Z     should handle non-ASCII filename [filesystem]
2025-04-15T08:19:34.5357163Z       ✓ on request to download (4 ms)
2025-04-15T08:19:34.5357256Z     should return 404 on file not found [filesystem]
2025-04-15T08:19:34.5357339Z       ✓ on request to view (7 ms)
2025-04-15T08:19:34.5357427Z       ✓ on request to download (4 ms)
2025-04-15T08:19:34.5357493Z     should return binary data [s3]
2025-04-15T08:19:34.5357579Z       ✓ on request to view (4 ms)
2025-04-15T08:19:34.5357662Z       ✓ on request to download (30 ms)
2025-04-15T08:19:34.5357741Z     should return 404 on file not found [s3]
2025-04-15T08:19:34.5357826Z       ✓ on request to view (5 ms)
2025-04-15T08:19:34.5358051Z       ✓ on request to download (3 ms)
2025-04-15T08:19:34.5358055Z 
2025-04-15T08:19:34.5358194Z PASS src/execution-lifecycle/__tests__/to-save-settings.test.ts
2025-04-15T08:19:34.5358259Z   failed production executions
2025-04-15T08:19:34.5358379Z     ✓ should favor workflow settings over defaults (3 ms)
2025-04-15T08:19:34.5358509Z     ✓ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:19:34.5358582Z   successful production executions
2025-04-15T08:19:34.5358684Z     ✓ should favor workflow settings over defaults
2025-04-15T08:19:34.5358814Z     ✓ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:19:34.5358862Z   manual executions
2025-04-15T08:19:34.5358968Z     ✓ should favor workflow setting over default
2025-04-15T08:19:34.5359128Z     ✓ should favor fall back to default if workflow setting is explicit default
2025-04-15T08:19:34.5359265Z     ✓ should fall back to default if no workflow setting (1 ms)
2025-04-15T08:19:34.5359320Z   execution progress
2025-04-15T08:19:34.5359426Z     ✓ should favor workflow setting over default
2025-04-15T08:19:34.5359599Z     ✓ should favor fall back to default if workflow setting is explicit default (1 ms)
2025-04-15T08:19:34.5359723Z     ✓ should fall back to default if no workflow setting
2025-04-15T08:19:34.5359726Z 
2025-04-15T08:19:34.5359819Z PASS test/integration/role.api.test.ts
2025-04-15T08:19:34.5359868Z   GET /roles/
2025-04-15T08:19:34.5359972Z     ✓ should return all role categories (29 ms)
2025-04-15T08:19:34.5360066Z     ✓ should return fixed global roles (7 ms)
2025-04-15T08:19:34.5360171Z     ✓ should return fixed project roles (5 ms)
2025-04-15T08:19:34.5360284Z     ✓ should return fixed credential sharing roles (9 ms)
2025-04-15T08:19:34.5360404Z     ✓ should return fixed workflow sharing roles (7 ms)
2025-04-15T08:19:34.5360408Z 
2025-04-15T08:19:34.5360517Z PASS src/webhooks/__tests__/webhook-form-data.test.ts
2025-04-15T08:19:34.5360579Z   webhook-form-data
2025-04-15T08:19:34.5360640Z     createMultiFormDataParser
2025-04-15T08:19:34.5360775Z       ✓ should parse fields from the multipart form data (26 ms)
2025-04-15T08:19:34.5360929Z       ✓ should parse text/plain file from the multipart form data (11 ms)
2025-04-15T08:19:34.5361098Z       ✓ should parse multiple files and fields from the multipart form data (10 ms)
2025-04-15T08:19:34.5361211Z       ✓ should ignore file that is too large (4 ms)
2025-04-15T08:19:34.5361214Z 
2025-04-15T08:19:34.5361336Z PASS src/task-runners/__tests__/task-runner-process.test.ts
2025-04-15T08:19:34.5361395Z   TaskRunnerProcess
2025-04-15T08:19:34.5361443Z     constructor
2025-04-15T08:19:34.5361564Z       ✓ should throw if runner mode is external (18 ms)
2025-04-15T08:19:34.5361733Z       ✓ should register listener for `runner:failed-heartbeat-check` event (1 ms)
2025-04-15T08:19:34.5361889Z       ✓ should register listener for `runner:timed-out-during-task` event
2025-04-15T08:19:34.5361934Z     start
2025-04-15T08:19:34.5362140Z       ✓ should propagate PATH from env as is (2 ms)
2025-04-15T08:19:34.5362281Z       ✓ should propagate NODE_FUNCTION_ALLOW_BUILTIN from env as is
2025-04-15T08:19:34.5362425Z       ✓ should propagate NODE_FUNCTION_ALLOW_EXTERNAL from env as is
2025-04-15T08:19:34.5362541Z       ✓ should propagate N8N_SENTRY_DSN from env as is
2025-04-15T08:19:34.5362645Z       ✓ should propagate N8N_VERSION from env as is
2025-04-15T08:19:34.5362752Z       ✓ should propagate ENVIRONMENT from env as is
2025-04-15T08:19:34.5362865Z       ✓ should propagate DEPLOYMENT_NAME from env as is
2025-04-15T08:19:34.5362982Z       ✓ should propagate NODE_PATH from env as is (1 ms)
2025-04-15T08:19:34.5363094Z       ✓ should propagate GENERIC_TIMEZONE from env as is
2025-04-15T08:19:34.5363255Z       ✓ should pass NODE_OPTIONS env if maxOldSpaceSize is configured (1 ms)
2025-04-15T08:19:34.5363421Z       ✓ should not pass NODE_OPTIONS env if maxOldSpaceSize is not configured (1 ms)
2025-04-15T08:19:34.5363632Z       ✓ should use --disallow-code-generation-from-strings and --disable-proto=delete flags
2025-04-15T08:19:34.5363728Z 
2025-04-15T08:19:34.5363816Z PASS test/integration/license.api.test.ts
2025-04-15T08:19:34.5363873Z   GET /license
2025-04-15T08:19:34.5364014Z     ✓ should return license information to the instance owner (53 ms)
2025-04-15T08:19:34.5364151Z     ✓ should return license information to a regular user (8 ms)
2025-04-15T08:19:34.5364230Z   POST /license/enterprise/request_trial
2025-04-15T08:19:34.5364365Z     ✓ should work for instance owner (33 ms)
2025-04-15T08:19:34.5364465Z     ✓ does not work for regular users (6 ms)
2025-04-15T08:19:34.5364520Z   POST /license/activate
2025-04-15T08:19:34.5364617Z     ✓ should work for instance owner (11 ms)
2025-04-15T08:19:34.5364711Z     ✓ does not work for regular users (18 ms)
2025-04-15T08:19:34.5364804Z     ✓ errors out properly (21 ms)
2025-04-15T08:19:34.5364856Z   POST /license/renew
2025-04-15T08:19:34.5364967Z     ✓ should work for instance owner (10 ms)
2025-04-15T08:19:34.5365064Z     ✓ does not work for regular users (6 ms)
2025-04-15T08:19:34.5365156Z     ✓ errors out properly (8 ms)
2025-04-15T08:19:34.5365160Z 
2025-04-15T08:19:34.5365268Z PASS src/sso.ee/saml/__tests__/saml.service.ee.test.ts
2025-04-15T08:19:34.5365326Z   SamlService
2025-04-15T08:19:34.5365398Z     getAttributesFromLoginResponse
2025-04-15T08:19:34.5365517Z       ✓ throws when any attribute is missing (72 ms)
2025-04-15T08:19:34.5365563Z     init
2025-04-15T08:19:34.5365708Z       ✓ calls `reset` if an InvalidSamlMetadataError is thrown (2 ms)
2025-04-15T08:19:34.5365807Z       ✓ calls `reset` if a SyntaxError is thrown
2025-04-15T08:19:34.5365966Z       ✓ does not call reset and rethrows if another error is thrown (6 ms)
2025-04-15T08:19:34.5366074Z       ✓ does not call reset if no error is thrown
2025-04-15T08:19:34.5366121Z     reset
2025-04-15T08:19:34.5366300Z       ✓ disables saml login and deletes the saml `features.saml` key in the db (1 ms)
2025-04-15T08:19:34.5366308Z 
2025-04-15T08:19:34.5366447Z PASS test/integration/credentials/credentials.service.test.ts
2025-04-15T08:19:34.5366513Z   credentials service
2025-04-15T08:19:34.5366593Z     replaceCredentialContentsForSharee
2025-04-15T08:19:34.5366747Z       ✓ should replace the contents of the credential for sharee (11 ms)
2025-04-15T08:19:34.5366911Z       ✓ should replace the contents of the credential for project viewer (32 ms)
2025-04-15T08:19:34.5367132Z       ✓ should not replace the contents of the credential for project editor (14 ms)
2025-04-15T08:19:34.5367136Z 
2025-04-15T08:19:34.5367264Z PASS test/integration/controllers/oauth/oauth2.api.test.ts
2025-04-15T08:19:34.5367314Z   OAuth2 API
2025-04-15T08:19:34.5367485Z     ✓ should return a valid auth URL when the auth flow is initiated (58 ms)
2025-04-15T08:19:34.5367634Z     ✓ should fail on auth when callback is called as another user (31 ms)
2025-04-15T08:19:34.5367759Z     ✓ should handle a valid callback without auth (41 ms)
2025-04-15T08:19:34.5367863Z 
2025-04-15T08:19:34.5367957Z PASS src/__tests__/external-hooks.test.ts
2025-04-15T08:19:34.5368021Z   ExternalHooks
2025-04-15T08:19:34.5368068Z     init()
2025-04-15T08:19:34.5368318Z       ✓ should not load hooks if no external hook files are configured (4 ms)
2025-04-15T08:19:34.5368452Z       ✓ should throw an error if hook file cannot be loaded (9 ms)
2025-04-15T08:19:34.5368593Z       ✓ should successfully load hooks from valid hook file (2 ms)
2025-04-15T08:19:34.5368640Z     run()
2025-04-15T08:19:34.5368767Z       ✓ should not throw if no hooks are registered (1 ms)
2025-04-15T08:19:34.5368868Z       ✓ should execute registered hooks (1 ms)
2025-04-15T08:19:34.5368993Z       ✓ should report error if hook execution fails (1 ms)
2025-04-15T08:19:34.5368997Z 
2025-04-15T08:19:34.5369140Z PASS test/integration/workflows/workflow-sharing.service.test.ts
2025-04-15T08:19:34.5369200Z   WorkflowSharingService
2025-04-15T08:19:34.5369265Z     getSharedWorkflowIds
2025-04-15T08:19:34.5369377Z       ✓ should show all workflows to owners (37 ms)
2025-04-15T08:19:34.5369600Z       ✓ should show shared workflows to users (33 ms)
2025-04-15T08:19:34.5369814Z       ✓ should show workflows that the user has access to through a team project they are part of (26 ms)
2025-04-15T08:19:34.5369964Z       ✓ should show workflows that the user has update access to (43 ms)
2025-04-15T08:19:34.5369968Z 
2025-04-15T08:19:34.5370090Z PASS src/credentials/__tests__/credentials.service.test.ts
2025-04-15T08:19:34.5370152Z   CredentialsService
2025-04-15T08:19:34.5370198Z     redact
2025-04-15T08:19:34.5370304Z       ✓ should redact sensitive values (4 ms)
2025-04-15T08:19:34.5370356Z     decrypt
2025-04-15T08:19:34.5370471Z       ✓ should redact sensitive values by default (1 ms)
2025-04-15T08:19:34.5370630Z       ✓ should return sensitive values if `includeRawData` is true (1 ms)
2025-04-15T08:19:34.5370778Z       ✓ should return return an empty object if decryption fails (1 ms)
2025-04-15T08:19:34.5370781Z 
2025-04-15T08:19:34.5370880Z PASS test/integration/owner.api.test.ts
2025-04-15T08:19:34.5370937Z   POST /owner/setup
2025-04-15T08:19:34.5371085Z     ✓ should create owner and enable isInstanceOwnerSetUp (149 ms)
2025-04-15T08:19:34.5371202Z     ✓ should create owner with lowercased email (80 ms)
2025-04-15T08:19:34.5371307Z     ✓ should fail with invalid inputs (26 ms)
2025-04-15T08:19:34.5371310Z 
2025-04-15T08:19:34.5371415Z PASS test/integration/executions.controller.test.ts
2025-04-15T08:19:34.5371474Z   GET /executions
2025-04-15T08:19:34.5371647Z     ✓ only returns executions of shared workflows if sharing is enabled (138 ms)
2025-04-15T08:19:34.5371775Z     ✓ should return a scopes array for each execution (58 ms)
2025-04-15T08:19:34.5371831Z   GET /executions/:id
2025-04-15T08:19:34.5371992Z     ✓ project viewers can view executions for workflows in the project (86 ms)
2025-04-15T08:19:34.5372164Z     ✓ only returns executions of shared workflows if sharing is enabled (62 ms)
2025-04-15T08:19:34.5372228Z   POST /executions/delete
2025-04-15T08:19:34.5372337Z     ✓ should hard-delete an execution (60 ms)
2025-04-15T08:19:34.5372341Z 
2025-04-15T08:19:34.5372432Z PASS src/services/__tests__/ai.service.test.ts
2025-04-15T08:19:34.5372491Z   AiService
2025-04-15T08:19:34.5372536Z     init
2025-04-15T08:19:34.5372694Z       ✓ should not initialize client if AI assistant is not enabled (5 ms)
2025-04-15T08:19:34.5372836Z       ✓ should initialize client when AI assistant is enabled (2 ms)
2025-04-15T08:19:34.5372891Z     chat
2025-04-15T08:19:34.5373020Z       ✓ should call client chat method after initialization (1 ms)
2025-04-15T08:19:34.5373161Z       ✓ should throw error if client is not initialized (15 ms)
2025-04-15T08:19:34.5373220Z     applySuggestion
2025-04-15T08:19:34.5373325Z       ✓ should call client applySuggestion (1 ms)
2025-04-15T08:19:34.5373447Z       ✓ should throw error if client is not initialized
2025-04-15T08:19:34.5373498Z     askAi
2025-04-15T08:19:34.5373750Z       ✓ should call client askAi method after initialization (1 ms)
2025-04-15T08:19:34.5373862Z       ✓ should throw error if client is not initialized
2025-04-15T08:19:34.5373866Z 
2025-04-15T08:19:34.5373974Z PASS test/integration/public-api/variables.test.ts
2025-04-15T08:19:34.5374030Z   Variables in Public API
2025-04-15T08:19:34.5374087Z     GET /variables
2025-04-15T08:19:34.5374231Z       ✓ if licensed, should return all variables with pagination (397 ms)
2025-04-15T08:19:34.5374337Z       ✓ if not licensed, should reject (27 ms)
2025-04-15T08:19:34.5374389Z     POST /variables
2025-04-15T08:19:34.5374518Z       ✓ if licensed, should create a new variable (39 ms)
2025-04-15T08:19:34.5374610Z       ✓ if not licensed, should reject (21 ms)
2025-04-15T08:19:34.5374671Z     DELETE /variables/:id
2025-04-15T08:19:34.5374783Z       ✓ if licensed, should delete a variable (58 ms)
2025-04-15T08:19:34.5374885Z       ✓ if not licensed, should reject (18 ms)
2025-04-15T08:19:34.5374888Z 
2025-04-15T08:19:34.5375015Z PASS src/decorators/__tests__/controller.registry.test.ts
2025-04-15T08:19:34.5375158Z   ControllerRegistry
2025-04-15T08:19:34.5375218Z     Rate limiting
2025-04-15T08:19:34.5375318Z       ✓ should not rate-limit by default (51 ms)
2025-04-15T08:19:34.5375428Z       ✓ should rate-limit when configured (28 ms)
2025-04-15T08:19:34.5375479Z     Authorization
2025-04-15T08:19:34.5375611Z       ✓ should not require auth if configured to skip (4 ms)
2025-04-15T08:19:34.5375709Z       ✓ should require auth by default (2 ms)
2025-04-15T08:19:34.5375765Z     License checks
2025-04-15T08:19:34.5375877Z       ✓ should disallow when feature is missing (3 ms)
2025-04-15T08:19:34.5375990Z       ✓ should allow when feature is available (2 ms)
2025-04-15T08:19:34.5376035Z     Args
2025-04-15T08:19:34.5376167Z       ✓ should pass in correct args to the route handler (4 ms)
2025-04-15T08:19:34.5376171Z 
2025-04-15T08:19:34.5376258Z PASS src/__tests__/credential-types.test.ts
2025-04-15T08:19:34.5376318Z   CredentialTypes
2025-04-15T08:19:34.5376377Z     getByName
2025-04-15T08:19:34.5376524Z       ✓ Should throw error when calling invalid credential name (11 ms)
2025-04-15T08:19:34.5376666Z       ✓ Should return correct credential type for valid name (1 ms)
2025-04-15T08:19:34.5376712Z     recognizes
2025-04-15T08:19:34.5376863Z       ✓ Should recognize credential type that exists in knownCredentials
2025-04-15T08:19:34.5377066Z       ✓ Should recognize credential type that exists in loadedCredentials (1 ms)
2025-04-15T08:19:34.5377189Z       ✓ Should not recognize unknown credential type
2025-04-15T08:19:34.5377251Z     getSupportedNodes
2025-04-15T08:19:34.5377398Z       ✓ Should return supported nodes for known credential type (1 ms)
2025-04-15T08:19:34.5377553Z       ✓ Should return empty array for unknown credential type supported nodes
2025-04-15T08:19:34.5377609Z     getParentTypes
2025-04-15T08:19:34.5377758Z       ✓ Should return parent types for credential type with extends (1 ms)
2025-04-15T08:19:34.5377912Z       ✓ Should return empty array for credential type without extends
2025-04-15T08:19:34.5378061Z       ✓ Should return empty array for unknown credential type parent types
2025-04-15T08:19:34.5378065Z 
2025-04-15T08:19:34.5378291Z PASS src/executions/pre-execution-checks/__tests__/credentials-permission-checker.test.ts
2025-04-15T08:19:34.5378403Z   CredentialsPermissionChecker
2025-04-15T08:19:34.5378554Z     ✓ should throw if a node has a credential without an id (25 ms)
2025-04-15T08:19:34.5378706Z     ✓ should throw if a credential is not accessible (1 ms)
2025-04-15T08:19:34.5378854Z     ✓ should not throw an error if the workflow has no credentials (1 ms)
2025-04-15T08:19:34.5379005Z     ✓ should not throw an error if all credentials are accessible (1 ms)
2025-04-15T08:19:34.5379168Z     ✓ should skip credential checks if the home project owner has global scope
2025-04-15T08:19:34.5379172Z 
2025-04-15T08:19:34.5379330Z PASS src/controllers/__tests__/user-settings.controller.test.ts
2025-04-15T08:19:34.5379388Z   UserSettingsController
2025-04-15T08:19:34.5379571Z     NPS Survey
2025-04-15T08:19:34.5379724Z       ✓ updates user settings, setting response state to done (4 ms)
2025-04-15T08:19:34.5379949Z       ✓ updates user settings, setting response state to done, ignoring other keys like waitForResponse
2025-04-15T08:19:34.5380169Z       ✓ updates user settings, setting response state to done, ignoring other keys like ignoredCount
2025-04-15T08:19:34.5380358Z       ✓ updates user settings, setting response state to done, ignoring other unknown keys
2025-04-15T08:19:34.5380483Z       ✓ updates user settings, updating ignore count
2025-04-15T08:19:34.5380622Z       ✓ updates user settings, resetting to waiting state (1 ms)
2025-04-15T08:19:34.5380794Z       ✓ updates user settings, updating ignore count, ignoring unknown keys
2025-04-15T08:19:34.5380952Z       ✓ updates user settings, setting response state to done (1 ms)
2025-04-15T08:19:34.5381117Z       ✓ updates user settings, updating ignore count (1 ms)
2025-04-15T08:19:34.5381281Z       ✓ throws error when request payload is is missing (9 ms)
2025-04-15T08:19:34.5381539Z       ✓ throws error when request payload is is undefined (1 ms)
2025-04-15T08:19:34.5381707Z       ✓ throws error when request payload is is responded but missing lastShownAt
2025-04-15T08:19:34.5381916Z       ✓ throws error when request payload is is waitingForResponse but missing lastShownAt (2 ms)
2025-04-15T08:19:34.5382120Z       ✓ throws error when request payload is is waitingForResponse but missing ignoredCount (1 ms)
2025-04-15T08:19:34.5382130Z 
2025-04-15T08:19:34.5382245Z PASS src/scaling/__tests__/publisher.service.test.ts
2025-04-15T08:19:34.5382309Z   Publisher
2025-04-15T08:19:34.5382355Z     constructor
2025-04-15T08:19:34.5382477Z       ✓ should init Redis client in scaling mode (4 ms)
2025-04-15T08:19:34.5382582Z       ✓ should not init Redis client in regular mode
2025-04-15T08:19:34.5382649Z     shutdown
2025-04-15T08:19:34.5382756Z       ✓ should disconnect Redis client (1 ms)
2025-04-15T08:19:34.5382827Z     publishCommand
2025-04-15T08:19:34.5382936Z       ✓ should do nothing if not in scaling mode
2025-04-15T08:19:34.5383094Z       ✓ should publish command into `n8n.commands` pubsub channel (1 ms)
2025-04-15T08:19:34.5383226Z       ✓ should not debounce `add-webhooks-triggers-and-pollers`
2025-04-15T08:19:34.5383356Z       ✓ should not debounce `remove-triggers-and-pollers`
2025-04-15T08:19:34.5383412Z     publishWorkerResponse
2025-04-15T08:19:34.5383604Z       ✓ should publish worker response into `n8n.worker-response` pubsub channel (1 ms)
2025-04-15T08:19:34.5383608Z 
2025-04-15T08:19:34.5383709Z PASS test/integration/webhooks.test.ts
2025-04-15T08:19:34.5383758Z   WebhookServer
2025-04-15T08:19:34.5383813Z     CORS
2025-04-15T08:19:34.5383862Z       for webhook
2025-04-15T08:19:34.5383983Z         ✓ should handle preflight requests (24 ms)
2025-04-15T08:19:34.5384087Z         ✓ should handle regular requests (4 ms)
2025-04-15T08:19:34.5384148Z       for webhookTest
2025-04-15T08:19:34.5384260Z         ✓ should handle preflight requests (3 ms)
2025-04-15T08:19:34.5384375Z         ✓ should handle regular requests (3 ms)
2025-04-15T08:19:34.5384442Z     Routing for Waiting Webhooks
2025-04-15T08:19:34.5384553Z       ✓ should handle URLs without suffix (2 ms)
2025-04-15T08:19:34.5384649Z       ✓ should handle URLs with suffix (2 ms)
2025-04-15T08:19:34.5384652Z 
2025-04-15T08:19:34.5384788Z PASS test/integration/workflow-history-manager.test.ts
2025-04-15T08:19:34.5384845Z   Workflow History Manager
2025-04-15T08:19:34.5384946Z     ✓ should prune on interval (6 ms)
2025-04-15T08:19:34.5385049Z     ✓ should not prune when not licensed (38 ms)
2025-04-15T08:19:34.5385192Z     ✓ should not prune when licensed but disabled (17 ms)
2025-04-15T08:19:34.5385345Z     ✓ should not prune when both prune times are -1 (infinite) (13 ms)
2025-04-15T08:19:34.5385485Z     ✓ should prune when config prune time is not -1 (infinite) (18 ms)
2025-04-15T08:19:34.5385739Z     ✓ should prune when license prune time is not -1 (infinite) (18 ms)
2025-04-15T08:19:34.5385874Z     ✓ should only prune versions older than prune time (28 ms)
2025-04-15T08:19:34.5385878Z 
2025-04-15T08:19:34.5385988Z PASS src/license/__tests__/license.service.test.ts
2025-04-15T08:19:34.5386042Z   LicenseService
2025-04-15T08:19:34.5386097Z     getLicenseData
2025-04-15T08:19:34.5386200Z       ✓ should return usage and license data (3 ms)
2025-04-15T08:19:34.5386257Z     activateLicense
2025-04-15T08:19:34.5386364Z       ✓ should handle SCHEMA_VALIDATION error (15 ms)
2025-04-15T08:19:34.5386487Z       ✓ should handle RESERVATION_EXHAUSTED error (1 ms)
2025-04-15T08:19:34.5386588Z       ✓ should handle RESERVATION_EXPIRED error
2025-04-15T08:19:34.5386687Z       ✓ should handle NOT_FOUND error
2025-04-15T08:19:34.5386786Z       ✓ should handle RESERVATION_CONFLICT error
2025-04-15T08:19:34.5386907Z       ✓ should handle RESERVATION_DUPLICATE error (1 ms)
2025-04-15T08:19:34.5387012Z     renewLicense
2025-04-15T08:19:34.5387078Z       ✓ on success
2025-04-15T08:19:34.5387159Z       ✓ on failure (1 ms)
2025-04-15T08:19:34.5387350Z     registerCommunityEdition
2025-04-15T08:19:34.5387433Z       ✓ on success (2 ms)
2025-04-15T08:19:34.5387503Z       ✓ on failure (1 ms)
2025-04-15T08:19:34.5387506Z 
2025-04-15T08:19:34.5387658Z PASS src/task-runners/task-managers/__tests__/task-manager.test.ts
2025-04-15T08:19:34.5387707Z   TaskRequester
2025-04-15T08:19:34.5387764Z     handleRpc
2025-04-15T08:19:34.5387867Z       ✓ should handle logNodeOutput rpc call (5 ms)
2025-04-15T08:19:34.5388003Z       ✓ should handle helpers.assertBinaryData rpc call (1 ms)
2025-04-15T08:19:34.5388142Z       ✓ should handle helpers.getBinaryDataBuffer rpc call (1 ms)
2025-04-15T08:19:34.5388277Z       ✓ should handle helpers.prepareBinaryData rpc call (1 ms)
2025-04-15T08:19:34.5388396Z       ✓ should handle helpers.setBinaryDataBuffer rpc call
2025-04-15T08:19:34.5388531Z       ✓ should handle helpers.binaryToString rpc call (1 ms)
2025-04-15T08:19:34.5388650Z       ✓ should handle helpers.httpRequest rpc call (5 ms)
2025-04-15T08:19:34.5388805Z       ✓ converts any serialized buffer arguments into buffers (1 ms)
2025-04-15T08:19:34.5388860Z       errors
2025-04-15T08:19:34.5389026Z         ✓ sends method not allowed error if method is not in the allow list (1 ms)
2025-04-15T08:19:34.5389129Z         ✓ sends error if method throws (1 ms)
2025-04-15T08:19:34.5389132Z 
2025-04-15T08:19:34.5389266Z PASS src/modules/insights/__tests__/insights.controller.test.ts
2025-04-15T08:19:34.5389328Z   InsightsController
2025-04-15T08:19:34.5389378Z     getInsightsSummary
2025-04-15T08:19:34.5389501Z       ✓ should return default insights if no data (5 ms)
2025-04-15T08:19:34.5389716Z       ✓ should return the insights summary with null deviation if insights exist only for current period
2025-04-15T08:19:34.5389896Z       ✓ should return the insights summary if insights exist for both periods (1 ms)
2025-04-15T08:19:34.5389899Z 
2025-04-15T08:19:34.5390056Z PASS src/databases/repositories/__tests__/execution.repository.test.ts
2025-04-15T08:19:34.5390122Z   ExecutionRepository
2025-04-15T08:19:34.5390182Z     getWaitingExecutions()
2025-04-15T08:19:34.5390301Z       ✓ on sqlite, should be called with expected args (4 ms)
2025-04-15T08:19:34.5390435Z       ✓ on postgresdb, should be called with expected args (1 ms)
2025-04-15T08:19:34.5390493Z     deleteExecutionsByFilter
2025-04-15T08:19:34.5390594Z       ✓ should delete binary data (6 ms)
2025-04-15T08:19:34.5390650Z     updateExistingExecution
2025-04-15T08:19:34.5390804Z       ✓ should update execution and data in transaction on sqlite (1 ms)
2025-04-15T08:19:34.5390961Z       ✓ should update execution and data in transaction on postgresdb (1 ms)
2025-04-15T08:19:34.5391118Z       ✓ should update execution and data in transaction on mysqldb (1 ms)
2025-04-15T08:19:34.5391122Z 
2025-04-15T08:19:34.5391205Z PASS src/push/__tests__/sse.push.test.ts
2025-04-15T08:19:34.5391262Z   SSEPush
2025-04-15T08:19:34.5391347Z     ✓ pings all connections (1 ms)
2025-04-15T08:19:34.5391538Z     ✓ closes all connections (5 ms)
2025-04-15T08:19:34.5391593Z     add
2025-04-15T08:19:34.5391683Z       ✓ adds a connection (5 ms)
2025-04-15T08:19:34.5391733Z     closes a connection
2025-04-15T08:19:34.5391818Z       ✓ on "end" event (1 ms)
2025-04-15T08:19:34.5391904Z       ✓ on "close" event (1 ms)
2025-04-15T08:19:34.5391985Z       ✓ on "finish" event (1 ms)
2025-04-15T08:19:34.5392041Z     sends data
2025-04-15T08:19:34.5392122Z       ✓ to one connection (7 ms)
2025-04-15T08:19:34.5392210Z       ✓ to all connections (1 ms)
2025-04-15T08:19:34.5392293Z       ✓ to a specific user (3 ms)
2025-04-15T08:19:34.5392297Z 
2025-04-15T08:19:34.5392427Z PASS src/services/__tests__/active-workflows.service.test.ts
2025-04-15T08:19:34.5392487Z   ActiveWorkflowsService
2025-04-15T08:19:34.5392548Z     getAllActiveIdsInStorage
2025-04-15T08:19:34.5392705Z       ✓ should filter out any workflow ids that have activation errors (4 ms)
2025-04-15T08:19:34.5392767Z     getAllActiveIdsFor
2025-04-15T08:19:34.5392914Z       ✓ should return all workflow ids when user has full access (1 ms)
2025-04-15T08:19:34.5393181Z       ✓ should filter out workflow ids that the user does not have access to (8 ms)
2025-04-15T08:19:34.5393235Z     getActivationError
2025-04-15T08:19:34.5393432Z       ✓ should throw a BadRequestError a user does not have access to the workflow id (7 ms)
2025-04-15T08:19:34.5393558Z       ✓ should return the error when the user has access (1 ms)
2025-04-15T08:19:34.5393569Z 
2025-04-15T08:19:34.5393759Z PASS src/environments.ee/source-control/__tests__/source-control.controller.ee.test.ts
2025-04-15T08:19:34.5393827Z   SourceControlController
2025-04-15T08:19:34.5393878Z     pushWorkfolder
2025-04-15T08:19:34.5394015Z       ✓ should push workfolder with expected parameters (4 ms)
2025-04-15T08:19:34.5394066Z     pullWorkfolder
2025-04-15T08:19:34.5394191Z       ✓ should pull workfolder with expected parameters
2025-04-15T08:19:34.5394241Z     getStatus
2025-04-15T08:19:34.5394382Z       ✓ should call getStatus with expected parameters (1 ms)
2025-04-15T08:19:34.5394430Z     status
2025-04-15T08:19:34.5394554Z       ✓ should call getStatus with expected parameters
2025-04-15T08:19:34.5394558Z 
2025-04-15T08:19:34.5394700Z PASS test/integration/security-audit/nodes-risk-reporter.test.ts
2025-04-15T08:19:34.5394816Z   ✓ should report risky official nodes (252 ms)
2025-04-15T08:19:34.5394932Z   ✓ should not report non-risky official nodes (5 ms)
2025-04-15T08:19:34.5395028Z   ✓ should report community nodes (2 ms)
2025-04-15T08:19:34.5395032Z 
2025-04-15T08:19:34.5395222Z PASS src/workflows/workflow-history.ee/__tests__/workflow-history.service.ee.test.ts
2025-04-15T08:19:34.5395277Z   WorkflowHistoryService
2025-04-15T08:19:34.5395327Z     saveVersion
2025-04-15T08:19:34.5395555Z       ✓ should save a new version when workflow history is enabled and nodes and connections are present (3 ms)
2025-04-15T08:19:34.5395704Z       ✓ should not save a new version when workflow history is disabled
2025-04-15T08:19:34.5395859Z       ✓ should not save a new version when nodes or connections are missing
2025-04-15T08:19:34.5396026Z       ✓ should log an error when failed to save workflow history version (1 ms)
2025-04-15T08:19:34.5396030Z 
2025-04-15T08:19:34.5396126Z PASS test/integration/commands/reset.cmd.test.ts
2025-04-15T08:19:34.5396293Z   ✓ user-management:reset should reset DB to default user state (121 ms)
2025-04-15T08:19:34.5396296Z 
2025-04-15T08:19:34.5396479Z PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.controller.test.ts
2025-04-15T08:19:34.5396537Z   TaskBrokerAuthController
2025-04-15T08:19:34.5396601Z     createGrantToken
2025-04-15T08:19:34.5396744Z       ✓ should throw BadRequestError when auth token is missing (11 ms)
2025-04-15T08:19:34.5396894Z       ✓ should throw ForbiddenError when auth token is invalid (2 ms)
2025-04-15T08:19:34.5397071Z       ✓ should return rant token when auth token is valid (3 ms)
2025-04-15T08:19:34.5397130Z     authMiddleware
2025-04-15T08:19:34.5397361Z       ✓ should respond with 401 when grant token is missing (1 ms)
2025-04-15T08:19:34.5397494Z       ✓ should respond with 403 when grant token is invalid
2025-04-15T08:19:34.5397611Z       ✓ should call next() when grant token is valid (1 ms)
2025-04-15T08:19:34.5397626Z 
2025-04-15T08:19:34.5397815Z PASS src/task-runners/task-managers/__tests__/data-request-response-builder.test.ts
2025-04-15T08:19:34.5397888Z   DataRequestResponseBuilder
2025-04-15T08:19:34.5398022Z     ✓ picks only specific properties for additional data (3 ms)
2025-04-15T08:19:34.5398138Z     ✓ picks only specific properties for workflow
2025-04-15T08:19:34.5398376Z     ✓ clears nodeExecutionStack, waitingExecution and waitingExecutionSource from runExecutionData (1 ms)
2025-04-15T08:19:34.5398380Z 
2025-04-15T08:19:34.5398510Z PASS test/integration/project.service.integration.test.ts
2025-04-15T08:19:34.5398566Z   ProjectService
2025-04-15T08:19:34.5398626Z     findRolesInProjects
2025-04-15T08:19:34.5398739Z       when user has roles in projects where workflow is accessible
2025-04-15T08:19:34.5398956Z         ✓ should return roles and project IDs (43 ms)
2025-04-15T08:19:34.5399064Z       when user has no roles in projects where workflow is accessible
2025-04-15T08:19:34.5399183Z         ✓ should return project IDs but no roles (11 ms)
2025-04-15T08:19:34.5399293Z       when user has roles in projects where workflow is inaccessible
2025-04-15T08:19:34.5399402Z         ✓ should return project IDs but no roles (19 ms)
2025-04-15T08:19:34.5399405Z 
2025-04-15T08:19:34.5399526Z PASS src/task-runners/__tests__/forward-to-logger.test.ts
2025-04-15T08:19:34.5399577Z   forwardToLogger
2025-04-15T08:19:34.5399697Z     ✓ should forward stdout data to logger.info (4 ms)
2025-04-15T08:19:34.5399809Z     ✓ should forward stderr data to logger.error (1 ms)
2025-04-15T08:19:34.5399929Z     ✓ should remove trailing newline from stdout (1 ms)
2025-04-15T08:19:34.5400028Z     ✓ should remove trailing newline from stderr
2025-04-15T08:19:34.5400145Z     ✓ should forward stderr data to logger.error
2025-04-15T08:19:34.5400269Z     ✓ should include prefix if provided for stdout (1 ms)
2025-04-15T08:19:34.5400381Z     ✓ should include prefix if provided for stderr
2025-04-15T08:19:34.5400548Z     ✓ should make sure there is no duplicate space after prefix for stdout (1 ms)
2025-04-15T08:19:34.5400704Z     ✓ should make sure there is no duplicate space after prefix for stderr
2025-04-15T08:19:34.5400708Z 
2025-04-15T08:19:34.5400891Z PASS src/databases/repositories/__tests__/shared-credentials.repository.test.ts
2025-04-15T08:19:34.5400953Z   SharedCredentialsRepository
2025-04-15T08:19:34.5401014Z     findCredentialForUser
2025-04-15T08:19:34.5401151Z       ✓ should allow instance owner access to all credentials (4 ms)
2025-04-15T08:19:34.5401245Z       ✓ should allow members (1 ms)
2025-04-15T08:19:34.5401373Z       ✓ should return null when no shared credential is found
2025-04-15T08:19:34.5401377Z 
2025-04-15T08:19:34.5401498Z PASS src/controllers/__tests__/ai.controller.test.ts
2025-04-15T08:19:34.5401549Z   AiController
2025-04-15T08:19:34.5401608Z     chat
2025-04-15T08:19:34.5401717Z       ✓ should handle chat request successfully (4 ms)
2025-04-15T08:19:34.5401854Z       ✓ should throw InternalServerError if chat fails (12 ms)
2025-04-15T08:19:34.5401910Z     applySuggestion
2025-04-15T08:19:34.5402015Z       ✓ should apply suggestion successfully (1 ms)
2025-04-15T08:19:34.5402181Z       ✓ should throw InternalServerError if applying suggestion fails (1 ms)
2025-04-15T08:19:34.5402230Z     askAi method
2025-04-15T08:19:34.5402320Z       ✓ should ask AI successfully
2025-04-15T08:19:34.5402439Z       ✓ should throw InternalServerError if asking AI fails
2025-04-15T08:19:34.5402443Z 
2025-04-15T08:19:34.5402551Z PASS src/services/__tests__/user.service.test.ts
2025-04-15T08:19:34.5402599Z   UserService
2025-04-15T08:19:34.5402659Z     toPublic
2025-04-15T08:19:34.5402764Z       ✓ should remove sensitive properties (3 ms)
2025-04-15T08:19:34.5402965Z       ✓ should add scopes if requested (1 ms)
2025-04-15T08:19:34.5403066Z       ✓ should add invite URL if requested (5 ms)
2025-04-15T08:19:34.5403120Z     update
2025-04-15T08:19:34.5403222Z       ✓ should use `save` instead of `update` (1 ms)
2025-04-15T08:19:34.5403225Z 
2025-04-15T08:19:34.5403397Z PASS test/integration/task-runners/task-runner-process.test.ts (5.674 s)
2025-04-15T08:19:34.5403459Z   TaskRunnerProcess
2025-04-15T08:19:34.5403569Z     ✓ should start and connect the task runner (826 ms)
2025-04-15T08:19:34.5403689Z     ✓ should stop an disconnect the task runner (818 ms)
2025-04-15T08:19:34.5403808Z     ✓ should restart the task runner if it exits (1433 ms)
2025-04-15T08:19:34.5403945Z     ✓ should work together with restart loop detector (1024 ms)
2025-04-15T08:19:34.5403949Z 
2025-04-15T08:19:34.5404070Z PASS src/controllers/__tests__/api-keys.controller.test.ts
2025-04-15T08:19:34.5404132Z   ApiKeysController
2025-04-15T08:19:34.5404179Z     createAPIKey
2025-04-15T08:19:34.5404286Z       ✓ should create and save an API key (4 ms)
2025-04-15T08:19:34.5404438Z     getAPIKeys
2025-04-15T08:19:34.5404585Z       ✓ should return the users api keys redacted (1 ms)
2025-04-15T08:19:34.5404631Z     deleteAPIKey
2025-04-15T08:19:34.5404728Z       ✓ should delete the API key (1 ms)
2025-04-15T08:19:34.5404732Z 
2025-04-15T08:19:34.5404845Z PASS src/validators/__tests__/no-xss.validator.test.ts
2025-04-15T08:19:34.5404894Z   NoXss
2025-04-15T08:19:34.5404945Z     Scripts
2025-04-15T08:19:34.5405034Z       ✓ should block <script src/> (4 ms)
2025-04-15T08:19:34.5405138Z       ✓ should block <script>alert('xss')</script>
2025-04-15T08:19:34.5405243Z       ✓ should block <a href="#">Jack</a> (1 ms)
2025-04-15T08:19:34.5405295Z     Names
2025-04-15T08:19:34.5405386Z       ✓ should allow Johann Strauß
2025-04-15T08:19:34.5405496Z       ✓ should allow Вагиф Сәмәдоғлу
2025-04-15T08:19:34.5405584Z       ✓ should allow René Magritte
2025-04-15T08:19:34.5405687Z       ✓ should allow সুকুমার রায়
2025-04-15T08:19:34.5405792Z       ✓ should allow མགོན་པོ་རྡོ་རྗེ།
2025-04-15T08:19:34.5405895Z       ✓ should allow عبدالحليم حافظ (1 ms)
2025-04-15T08:19:34.5405950Z     ISO-8601 timestamps
2025-04-15T08:19:34.5406065Z       ✓ should allow 2022-01-01T00:00:00.000Z (1 ms)
2025-04-15T08:19:34.5406166Z       ✓ should allow 2022-01-01T00:00:00.000+02:00
2025-04-15T08:19:34.5406225Z     Semver versions
2025-04-15T08:19:34.5406293Z       ✓ should allow 1.0.0
2025-04-15T08:19:34.5406390Z       ✓ should allow 1.0.0-alpha.1 (1 ms)
2025-04-15T08:19:34.5406443Z     Miscellaneous strings
2025-04-15T08:19:34.5406516Z       ✓ should allow CI/CD
2025-04-15T08:19:34.5406565Z     Array of strings
2025-04-15T08:19:34.5406755Z       ✓ should allow array: ["cloud-infrastructure-orchestration","ci-cd","reporting"]
2025-04-15T08:19:34.5407009Z       ✓ should allow array: ["automationGoalDevops","cloudComputing","containerization"] (1 ms)
2025-04-15T08:19:34.5407403Z       ✓ should reject array containing invalid string: ["valid-string","<script>alert(\"xss\")</script>","another-valid-string"] (3 ms)
2025-04-15T08:19:34.5407649Z       ✓ should reject array containing invalid string: ["<img src=\"x\" onerror=\"alert('XSS')\">","valid-string"]
2025-04-15T08:19:34.5407652Z 
2025-04-15T08:19:34.5407811Z PASS src/webhooks/__tests__/test-webhook-registrations.service.test.ts
2025-04-15T08:19:34.5407894Z   TestWebhookRegistrationsService
2025-04-15T08:19:34.5407942Z     register()
2025-04-15T08:19:34.5408068Z       ✓ should register a test webhook registration (6 ms)
2025-04-15T08:19:34.5408260Z       ✓ should skip setting TTL in single-main setup
2025-04-15T08:19:34.5408317Z     deregister()
2025-04-15T08:19:34.5408439Z       ✓ should deregister a test webhook registration (1 ms)
2025-04-15T08:19:34.5408491Z     get()
2025-04-15T08:19:34.5408594Z       ✓ should retrieve a test webhook registration
2025-04-15T08:19:34.5408775Z       ✓ should return undefined if no such test webhook registration was found (1 ms)
2025-04-15T08:19:34.5408826Z     getAllKeys()
2025-04-15T08:19:34.5408945Z       ✓ should retrieve all test webhook registration keys
2025-04-15T08:19:34.5409223Z     getAllRegistrations()
2025-04-15T08:19:34.5409349Z       ✓ should retrieve all test webhook registrations (1 ms)
2025-04-15T08:19:34.5409402Z     deregisterAll()
2025-04-15T08:19:34.5409515Z       ✓ should deregister all test webhook registrations
2025-04-15T08:19:34.5409569Z     toKey()
2025-04-15T08:19:34.5409686Z       ✓ should convert a test webhook registration to a key
2025-04-15T08:19:34.5409690Z 
2025-04-15T08:19:34.5409817Z PASS test/integration/activation-errors.service.test.ts
2025-04-15T08:19:34.5409872Z   ActivationErrorsService
2025-04-15T08:19:34.5409923Z     register
2025-04-15T08:19:34.5410056Z       ✓ should register an activation error for a workflow (4 ms)
2025-04-15T08:19:34.5410106Z     deregister
2025-04-15T08:19:34.5410223Z       ✓ should deregister an activation error for a workflow
2025-04-15T08:19:34.5410275Z     get
2025-04-15T08:19:34.5410411Z       ✓ should retrieve an activation error for a workflow (1 ms)
2025-04-15T08:19:34.5410563Z       ✓ should return `null` if no activation error found for a workflow
2025-04-15T08:19:34.5410606Z     getAll
2025-04-15T08:19:34.5410718Z       ✓ should retrieve all activation errors (1 ms)
2025-04-15T08:19:34.5410843Z       ✓ should return an empty object if no activation errors
2025-04-15T08:19:34.5410889Z     clearAll()
2025-04-15T08:19:34.5410991Z       ✓ should clear activation errors (1 ms)
2025-04-15T08:19:34.5410994Z 
2025-04-15T08:19:34.5411080Z PASS test/integration/ai/ai.api.test.ts
2025-04-15T08:19:34.5411142Z   POST /ai/free-credits
2025-04-15T08:19:34.5411257Z     ✓ should create OpenAI managed credential (65 ms)
2025-04-15T08:19:34.5411261Z 
2025-04-15T08:19:34.5411369Z PASS src/services/__tests__/naming.service.test.ts
2025-04-15T08:19:34.5411418Z   NamingService
2025-04-15T08:19:34.5411483Z     getUniqueWorkflowName()
2025-04-15T08:19:34.5411604Z       ✓ should return requested name if already unique (7 ms)
2025-04-15T08:19:34.5411762Z       ✓ should return requested name suffixed if already existing once
2025-04-15T08:19:34.5411947Z       ✓ should return requested name with incremented suffix if already suffixed (1 ms)
2025-04-15T08:19:34.5412007Z     getUniqueCredentialName()
2025-04-15T08:19:34.5412122Z       ✓ should return requested name if already unique
2025-04-15T08:19:34.5412279Z       ✓ should return requested name suffixed if already existing once (1 ms)
2025-04-15T08:19:34.5412446Z       ✓ should return requested name with incremented suffix if already suffixed
2025-04-15T08:19:34.5412450Z 
2025-04-15T08:19:34.5412533Z PASS test/integration/tags.api.test.ts
2025-04-15T08:19:34.5412593Z   POST /tags
2025-04-15T08:19:34.5412675Z     ✓ should create tag (44 ms)
2025-04-15T08:19:34.5412779Z     ✓ should not create duplicate tag (16 ms)
2025-04-15T08:19:34.5412858Z     ✓ should delete tag (6 ms)
2025-04-15T08:19:34.5412956Z     ✓ should update tag name (10 ms)
2025-04-15T08:19:34.5413158Z     ✓ should retrieve all tags (8 ms)
2025-04-15T08:19:34.5413420Z     ✓ should retrieve all tags with with usage count (7 ms)
2025-04-15T08:19:34.5413553Z 
2025-04-15T08:19:34.5413653Z PASS test/integration/commands/worker.cmd.test.ts
2025-04-15T08:19:34.5413885Z   ✓ worker initializes all its components (56 ms)
2025-04-15T08:19:34.5413998Z 
2025-04-15T08:19:34.5414163Z PASS test/integration/database/repositories/execution.repository.test.ts
2025-04-15T08:19:34.5414386Z   ExecutionRepository
2025-04-15T08:19:34.5414522Z     createNewExecution
2025-04-15T08:19:34.5414695Z       ✓ should save execution data (35 ms)
2025-04-15T08:19:34.5414946Z       ✓ should not create execution if execution data insert fails (3 ms)
2025-04-15T08:19:34.5415088Z 
2025-04-15T08:19:34.5415248Z PASS src/user-management/email/__tests__/user-management-mailer.test.ts
2025-04-15T08:19:34.5415462Z   UserManagementMailer
2025-04-15T08:19:34.5415606Z     when SMTP is not configured
2025-04-15T08:19:34.5415811Z       ✓ should not setup email transport (10 ms)
2025-04-15T08:19:34.5416021Z       ✓ should not send emails (1 ms)
2025-04-15T08:19:34.5416270Z     when SMTP is configured
2025-04-15T08:19:34.5416456Z       ✓ should setup email transport (1 ms)
2025-04-15T08:19:34.5416660Z       ✓ should send invitation emails (28 ms)
2025-04-15T08:19:34.5416877Z       ✓ should send password reset emails (10 ms)
2025-04-15T08:19:34.5417030Z 
2025-04-15T08:19:34.5417146Z PASS test/integration/insights/insights.api.test.ts
2025-04-15T08:19:34.5417415Z   GET /insights routes work for owner and admins for server with dashboard license
2025-04-15T08:19:34.5417739Z     ✓ Call should work and return empty summary for user owner (33 ms)
2025-04-15T08:19:34.5418027Z     ✓ Call should work and return empty summary for user admin (23 ms)
2025-04-15T08:19:34.5418326Z     ✓ Call should work and return empty summary for user member (11 ms)
2025-04-15T08:19:34.5418629Z   GET /insights routes return 403 for dashboard routes when summary license only
2025-04-15T08:19:34.5418945Z     ✓ Call should work and return empty summary for user owner (16 ms)
2025-04-15T08:19:34.5419227Z     ✓ Call should work and return empty summary for user admin (17 ms)
2025-04-15T08:19:34.5419507Z     ✓ Call should work and return empty summary for user member (7 ms)
2025-04-15T08:19:34.5419701Z   GET /insights/by-workflow
2025-04-15T08:19:34.5419911Z     ✓ Call should work with valid query parameters (4 ms)
2025-04-15T08:19:34.5420232Z     ✓ Call should return internal server error with invalid pagination query parameters (23 ms)
2025-04-15T08:19:34.5420609Z     ✓ Call should return internal server error with invalid pagination query parameters (6 ms)
2025-04-15T08:19:34.5420956Z     ✓ Call should return bad request with invalid sortby query parameters (6 ms)
2025-04-15T08:19:34.5421109Z 
2025-04-15T08:19:34.5421240Z PASS test/integration/license-metrics.repository.test.ts
2025-04-15T08:19:34.5421434Z   LicenseMetricsRepository
2025-04-15T08:19:34.5421581Z     getLicenseRenewalMetrics
2025-04-15T08:19:34.5421789Z       ✓ should return license renewal metrics (108 ms)
2025-04-15T08:19:34.5422039Z       ✓ should handle zero execution statistics correctly (17 ms)
2025-04-15T08:19:34.5422167Z 
2025-04-15T08:19:34.5422294Z PASS src/modules/insights/__tests__/insights.module.test.ts
2025-04-15T08:19:34.5422485Z   InsightsModule
2025-04-15T08:19:34.5422610Z     backgroundProcess
2025-04-15T08:19:34.5422851Z       ✓ should start background process if instance is main and leader (4 ms)
2025-04-15T08:19:34.5423164Z       ✓ should not start background process if instance is main but not leader
2025-04-15T08:19:34.5423428Z       ✓ should start background process on leader takeover
2025-04-15T08:19:34.5423669Z       ✓ should stop background process on leader stepdown
2025-04-15T08:19:34.5423785Z 
2025-04-15T08:19:34.5423901Z PASS src/webhooks/__tests__/waiting-webhooks.test.ts
2025-04-15T08:19:34.5424075Z   WaitingWebhooks
2025-04-15T08:19:34.5424321Z     ✓ should throw NotFoundError if there is no execution to resume (17 ms)
2025-04-15T08:19:34.5424736Z     ✓ should throw ConflictError if the execution to resume is already running
2025-04-15T08:19:34.5425068Z     ✓ should throw ConflictError if the execution to resume already finished (1 ms)
2025-04-15T08:19:34.5425358Z     ✓ should mark as test webhook when execution mode is manual
2025-04-15T08:19:34.5425488Z 
2025-04-15T08:19:34.5425639Z PASS src/evaluation.ee/test-runner/__tests__/create-pin-data.ee.test.ts
2025-04-15T08:19:34.5425850Z   createPinData
2025-04-15T08:19:34.5426059Z     ✓ should create pin data from past execution data (3 ms)
2025-04-15T08:19:34.5426315Z     ✓ should not create pin data for non-existing mocked nodes
2025-04-15T08:19:34.5426562Z     ✓ should create pin data for all mocked nodes (1 ms)
2025-04-15T08:19:34.5426815Z     ✓ should return empty object if no mocked nodes are provided
2025-04-15T08:19:34.5427133Z     ✓ should create pin data for all mocked nodes with renamed nodes
2025-04-15T08:19:34.5427273Z 
2025-04-15T08:19:34.5427396Z PASS test/integration/workflows/workflow.service.test.ts
2025-04-15T08:19:34.5427686Z   update()
2025-04-15T08:19:34.5427923Z     ✓ should remove and re-add to active workflows on `active: true` payload (77 ms)
2025-04-15T08:19:34.5428246Z     ✓ should remove from active workflows on `active: false` payload (57 ms)
2025-04-15T08:19:34.5428401Z 
2025-04-15T08:19:34.5428523Z PASS src/concurrency/__tests__/concurrency-queue.test.ts
2025-04-15T08:19:34.5428704Z   ConcurrencyQueue
2025-04-15T08:19:34.5428871Z     ✓ should limit concurrency (15 ms)
2025-04-15T08:19:34.5429122Z     ✓ should debounce emitting of the `concurrency-check` event (1 ms)
2025-04-15T08:19:34.5429266Z 
2025-04-15T08:19:34.5429389Z PASS test/integration/commands/update/workflow.test.ts
2025-04-15T08:19:34.5429637Z   ✓ update:workflow can activate all workflows (45 ms)
2025-04-15T08:19:34.5429877Z   ✓ update:workflow can deactivate all workflows (10 ms)
2025-04-15T08:19:34.5430121Z   ✓ update:workflow can activate a specific workflow (33 ms)
2025-04-15T08:19:34.5430390Z   ✓ update:workflow can deactivate a specific workflow (18 ms)
2025-04-15T08:19:34.5430522Z 
2025-04-15T08:19:34.5430642Z PASS src/controllers/__tests__/auth.controller.test.ts
2025-04-15T08:19:34.5430819Z   AuthController
2025-04-15T08:19:34.5430937Z     login
2025-04-15T08:19:34.5431171Z       ✓ should not validate email in "emailOrLdapLoginId" if LDAP is enabled (4 ms)
2025-04-15T08:19:34.5431332Z 
2025-04-15T08:19:34.5431522Z PASS src/task-runners/task-broker/auth/__tests__/task-broker-auth.service.test.ts
2025-04-15T08:19:34.5431756Z   TaskBrokerAuthService
2025-04-15T08:19:34.5431893Z     isValidAuthToken
2025-04-15T08:19:34.5432080Z       ✓ should be valid for the configured token (3 ms)
2025-04-15T08:19:34.5432302Z       ✓ should be invalid for anything else
2025-04-15T08:19:34.5432457Z     createGrantToken
2025-04-15T08:19:34.5432632Z       ✓ should generate a random token (2 ms)
2025-04-15T08:19:34.5432850Z       ✓ should store the generated token in cache (1 ms)
2025-04-15T08:19:34.5433022Z     tryConsumeGrantToken
2025-04-15T08:19:34.5433240Z       ✓ should return false for an invalid grant token (2 ms)
2025-04-15T08:19:34.5433472Z       ✓ should return true for a valid grant token
2025-04-15T08:19:34.5433694Z       ✓ should return false for a already used grant token
2025-04-15T08:19:34.5433946Z       ✓ should return false for an expired grant token (301 ms)
2025-04-15T08:19:34.5434078Z 
2025-04-15T08:19:34.5434240Z PASS src/external-secrets.ee/providers/__tests__/gcp-secrets-manager.test.ts
2025-04-15T08:19:34.5434464Z   GCP Secrets Manager
2025-04-15T08:19:34.5434638Z     ✓ should update cached secrets (9 ms)
2025-04-15T08:19:34.5434745Z 
2025-04-15T08:19:34.5434905Z PASS test/integration/database/repositories/workflow.repository.test.ts
2025-04-15T08:19:34.5435123Z   WorkflowRepository
2025-04-15T08:19:34.5435246Z     activateAll
2025-04-15T08:19:34.5435425Z       ✓ should activate all workflows (17 ms)
2025-04-15T08:19:34.5435581Z     deactivateAll
2025-04-15T08:19:34.5435859Z       ✓ should deactivate all workflows (12 ms)
2025-04-15T08:19:34.5436020Z     getActiveIds
2025-04-15T08:19:34.5436262Z       ✓ should return all active workflow IDs when invoked without maxResults (8 ms)
2025-04-15T08:19:34.5436615Z       ✓ should return a capped number of active workflow IDs when invoked with maxResults (6 ms)
2025-04-15T08:19:34.5436796Z 
2025-04-15T08:19:34.5436920Z PASS src/collaboration/__tests__/collaboration.state.test.ts
2025-04-15T08:19:34.5437167Z   CollaborationState
2025-04-15T08:19:34.5437286Z     addCollaborator
2025-04-15T08:19:34.5437508Z       ✓ should add workflow user with correct cache key and value (7 ms)
2025-04-15T08:19:34.5437702Z     removeCollaborator
2025-04-15T08:19:34.5437923Z       ✓ should remove workflow user with correct cache key (1 ms)
2025-04-15T08:19:34.5438106Z     getCollaborators
2025-04-15T08:19:34.5438282Z       ✓ should get workflows with correct cache key
2025-04-15T08:19:34.5438526Z       ✓ should get workflow users that are not expired (1 ms)
2025-04-15T08:19:34.5438662Z 
2025-04-15T08:19:34.5438866Z PASS src/decorators/__tests__/on-shutdown.test.ts
2025-04-15T08:19:34.5439031Z   OnShutdown
2025-04-15T08:19:34.5439248Z     ✓ should register a methods that is decorated with OnShutdown (4 ms)
2025-04-15T08:19:34.5439535Z     ✓ should register multiple methods in the same class (1 ms)
2025-04-15T08:19:34.5439752Z     ✓ should use the given priority
2025-04-15T08:19:34.5440008Z     ✓ should throw an error if the decorated member is not a function (7 ms)
2025-04-15T08:19:34.5440269Z     ✓ should throw if the priority is invalid (5 ms)
2025-04-15T08:19:34.5440385Z 
2025-04-15T08:19:34.5440549Z PASS test/integration/environments/source-control.api.test.ts (5.386 s)
2025-04-15T08:19:34.5440780Z   GET /sourceControl/preferences
2025-04-15T08:19:34.5440986Z     ✓ should return Source Control preferences (17 ms)
2025-04-15T08:19:34.5441197Z     ✓ should return repo sync status (9 ms)
2025-04-15T08:19:34.5441455Z     ✓ refreshing key pairsshould return new rsa key (1498 ms)
2025-04-15T08:19:34.5441584Z 
2025-04-15T08:19:34.5441726Z PASS src/credentials/__tests__/credentials.controller.test.ts
2025-04-15T08:19:34.5441928Z   CredentialsController
2025-04-15T08:19:34.5442067Z     createCredentials
2025-04-15T08:19:34.5442298Z       ✓ should create new credentials and emit "credentials-created" (4 ms)
2025-04-15T08:19:34.5442442Z 
2025-04-15T08:19:34.5442565Z PASS src/scaling/__tests__/job-processor.service.test.ts
2025-04-15T08:19:34.5442747Z   JobProcessor
2025-04-15T08:19:34.5442952Z     ✓ should refrain from processing a crashed execution (3 ms)
2025-04-15T08:19:34.5443268Z     ✓ should use manualExecutionService to process a job in "manual" mode (2 ms)
2025-04-15T08:19:34.5443609Z     ✓ should use manualExecutionService to process a job in "evaluation" mode (1 ms)
2025-04-15T08:19:34.5443776Z 
2025-04-15T08:19:34.5443945Z PASS src/evaluation.ee/test-runner/__tests__/evaluation-metrics.ee.test.ts
2025-04-15T08:19:34.5444155Z   EvaluationMetrics
2025-04-15T08:19:34.5444337Z     ✓ should aggregate metrics correctly (3 ms)
2025-04-15T08:19:34.5444569Z     ✓ should throw when metric value is not number (6 ms)
2025-04-15T08:19:34.5444772Z     ✓ should handle empty metrics
2025-04-15T08:19:34.5444961Z     ✓ should handle empty testMetrics (1 ms)
2025-04-15T08:19:34.5445161Z     ✓ should ignore non-relevant values
2025-04-15T08:19:34.5445365Z     ✓ should report info on added metrics (1 ms)
2025-04-15T08:19:34.5445471Z 
2025-04-15T08:19:34.5445631Z PASS src/task-runners/task-broker/__tests__/task-broker-ws-server.test.ts
2025-04-15T08:19:34.5445841Z   TaskBrokerWsServer
2025-04-15T08:19:34.5445965Z     removeConnection
2025-04-15T08:19:34.5446156Z       ✓ should close with 1000 status code by default (4 ms)
2025-04-15T08:19:34.5446329Z     heartbeat timer
2025-04-15T08:19:34.5446517Z       ✓ should set up heartbeat timer on server start (1 ms)
2025-04-15T08:19:34.5446754Z       ✓ should clear heartbeat timer on server stop (1 ms)
2025-04-15T08:19:34.5446922Z     sendMessage
2025-04-15T08:19:34.5447710Z       ✓ should work with a message containing circular references
2025-04-15T08:19:34.5447896Z 
2025-04-15T08:19:34.5448202Z PASS test/integration/workflow-tag-mapping.repository.integration.test.ts
2025-04-15T08:19:34.5448476Z   WorkflowTagMappingRepository
2025-04-15T08:19:34.5448628Z     overwriteTaggings
2025-04-15T08:19:34.5448932Z       ✓ should overwrite taggings in a workflow (28 ms)
2025-04-15T08:19:34.5449185Z       ✓ should delete taggings if no tags are provided (9 ms)
2025-04-15T08:19:34.5449322Z 
2025-04-15T08:19:34.5449451Z PASS src/metrics/__tests__/license-metrics.service.test.ts
2025-04-15T08:19:34.5449645Z   LicenseMetricsService
2025-04-15T08:19:34.5449783Z     collectPassthroughData
2025-04-15T08:19:34.5450004Z       ✓ should return an object with active workflow IDs (4 ms)
2025-04-15T08:19:34.5450191Z     collectUsageMetrics
2025-04-15T08:19:34.5450396Z       ✓ should return an array of expected usage metrics (1 ms)
2025-04-15T08:19:34.5450529Z 
2025-04-15T08:19:34.5450655Z PASS src/workflows/__tests__/workflows.controller.test.ts
2025-04-15T08:19:34.5450958Z   WorkflowsController
2025-04-15T08:19:34.5451087Z     getFromUrl
2025-04-15T08:19:34.5451227Z       should return workflow data
2025-04-15T08:19:34.5451432Z         ✓ when the URL points to a valid JSON file (3 ms)
2025-04-15T08:19:34.5451616Z       should throw a BadRequestError
2025-04-15T08:19:34.5451845Z         ✓ when the URL does not point to a valid JSON file (18 ms)
2025-04-15T08:19:34.5452085Z         ✓ when the data is not a valid n8n workflow JSON
2025-04-15T08:19:34.5452301Z         ✓ when the data is missing required fields
2025-04-15T08:19:34.5452416Z 
2025-04-15T08:19:34.5452626Z PASS src/evaluation.ee/test-runner/__tests__/format-test-case-execution-input-data.ee.test.ts
2025-04-15T08:19:34.5452894Z   formatTestCaseExecutionInputData
2025-04-15T08:19:34.5453136Z     ✓ should format the test case execution input data correctly (5 ms)
2025-04-15T08:19:34.5453276Z 
2025-04-15T08:19:34.5453380Z PASS test/integration/debug.controller.test.ts
2025-04-15T08:19:34.5453547Z   DebugController
2025-04-15T08:19:34.5453686Z     GET /debug/multi-main-setup
2025-04-15T08:19:34.5453887Z       ✓ should return multi-main setup details (15 ms)
2025-04-15T08:19:34.5454000Z 
2025-04-15T08:19:34.5454092Z PASS src/posthog/__tests__/posthog.test.ts
2025-04-15T08:19:34.5454246Z   PostHog
2025-04-15T08:19:34.5454395Z     ✓ inits PostHog correctly (4 ms)
2025-04-15T08:19:34.5454690Z     ✓ does not initialize or track if diagnostics are not enabled (1 ms)
2025-04-15T08:19:34.5454927Z     ✓ captures PostHog events (1 ms)
2025-04-15T08:19:34.5455117Z     ✓ gets feature flags (1 ms)
2025-04-15T08:19:34.5455199Z 
2025-04-15T08:19:34.5455390Z PASS src/task-runners/__tests__/task-runner-process-restart-loop-detector.test.ts
2025-04-15T08:19:34.5455655Z   TaskRunnerProcessRestartLoopDetector
2025-04-15T08:19:34.5455926Z     ✓ should detect a restart loop if process exits 5 times within 5s (2 ms)
2025-04-15T08:19:34.5456275Z     ✓ should not detect a restart loop if process exits less than 5 times within 5s (1 ms)
2025-04-15T08:19:34.5456452Z 
2025-04-15T08:19:34.5456540Z PASS test/integration/eventbus.test.ts
2025-04-15T08:19:34.5456706Z   GET /eventbus/destination
2025-04-15T08:19:34.5456907Z     ✓ should fail due to missing authentication (10 ms)
2025-04-15T08:19:34.5457227Z     ✓ should fail due to missing license when authenticated (5 ms)
2025-04-15T08:19:34.5457417Z   POST /eventbus/destination
2025-04-15T08:19:34.5457619Z     ✓ should fail due to missing authentication (2 ms)
2025-04-15T08:19:34.5457868Z     ✓ should fail due to missing license when authenticated (2 ms)
2025-04-15T08:19:34.5458067Z   DELETE /eventbus/destination
2025-04-15T08:19:34.5458264Z     ✓ should fail due to missing authentication (2 ms)
2025-04-15T08:19:34.5458509Z     ✓ should fail due to missing license when authenticated (2 ms)
2025-04-15T08:19:34.5458643Z 
2025-04-15T08:19:34.5458929Z PASS src/modules/insights/database/entities/__tests__/insights-raw.test.ts
2025-04-15T08:19:34.5459157Z   Insights Raw Entity
2025-04-15T08:19:34.5459377Z     ✓ `success` can be serialized and deserialized correctly (4 ms)
2025-04-15T08:19:34.5459642Z     ✓ `failure` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5459908Z     ✓ `runtime_ms` can be serialized and deserialized correctly (3 ms)
2025-04-15T08:19:34.5460194Z     ✓ `time_saved_min` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5460474Z     ✓ `timestamp` can be serialized and deserialized correctly (2 ms)
2025-04-15T08:19:34.5460720Z     ✓ timestamp uses the correct default value (30 ms)
2025-04-15T08:19:34.5460842Z 
2025-04-15T08:19:34.5460980Z PASS src/sso.ee/saml/routes/__tests__/saml.controller.ee.test.ts
2025-04-15T08:19:34.5461173Z   Test views
2025-04-15T08:19:34.5461340Z     ✓ Should render success with template (3 ms)
2025-04-15T08:19:34.5461559Z     ✓ Should render failure with template (1 ms)
2025-04-15T08:19:34.5461765Z     ✓ Should render error with template
2025-04-15T08:19:34.5461863Z 
2025-04-15T08:19:34.5462119Z PASS test/integration/security-audit/filesystem-risk-reporter.test.ts
2025-04-15T08:19:34.5462399Z   ✓ should report filesystem interaction nodes (175 ms)
2025-04-15T08:19:34.5462654Z   ✓ should not report non-filesystem-interaction node (8 ms)
2025-04-15T08:19:34.5462784Z 
2025-04-15T08:19:34.5462924Z PASS src/task-runners/__tests__/sliding-window-signal.test.ts
2025-04-15T08:19:34.5463115Z   SlidingWindowSignal
2025-04-15T08:19:34.5463324Z     ✓ should return the last signal if within window size (4 ms)
2025-04-15T08:19:34.5463597Z     ✓ should return null if there is no signal within the window (2 ms)
2025-04-15T08:19:34.5463876Z     ✓ should return null if "exit" event is not emitted before timeout
2025-04-15T08:19:34.5464166Z     ✓ should return the signal emitted on "exit" event before timeout (1 ms)
2025-04-15T08:19:34.5464319Z 
2025-04-15T08:19:34.5464545Z PASS src/environments.ee/source-control/__tests__/source-control-git.service.test.ts
2025-04-15T08:19:34.5464787Z   SourceControlGitService
2025-04-15T08:19:34.5464927Z     getBranches
2025-04-15T08:19:34.5465126Z       ✓ should support branch names containing slashes (10 ms)
2025-04-15T08:19:34.5465309Z     initRepository
2025-04-15T08:19:34.5465469Z       when local repo is set up after remote is ready
2025-04-15T08:19:34.5465667Z         ✓ should track remote (1 ms)
2025-04-15T08:19:34.5465768Z 
2025-04-15T08:19:34.5465889Z PASS src/services/cache/__tests__/cache-mock.service.test.ts
2025-04-15T08:19:34.5466080Z   CacheService (Mock)
2025-04-15T08:19:34.5466226Z     should prevent use of empty keys
2025-04-15T08:19:34.5466393Z       ✓ get (4 ms)
2025-04-15T08:19:34.5466532Z       ✓ getMany (1 ms)
2025-04-15T08:19:34.5466667Z       ✓ set
2025-04-15T08:19:34.5466793Z       ✓ setMany (1 ms)
2025-04-15T08:19:34.5466929Z       ✓ delete (1 ms)
2025-04-15T08:19:34.5467106Z       ✓ deleteMany
2025-04-15T08:19:34.5467184Z 
2025-04-15T08:19:34.5467277Z PASS src/services/__tests__/jwt.service.test.ts
2025-04-15T08:19:34.5467446Z   JwtService
2025-04-15T08:19:34.5467569Z     secret initialization
2025-04-15T08:19:34.5467770Z       ✓ should read the secret from config, when set (3 ms)
2025-04-15T08:19:34.5468055Z       ✓ should derive the secret from encryption key when not set in config
2025-04-15T08:19:34.5468253Z     with a secret set
2025-04-15T08:19:34.5468400Z       ✓ should sign (1 ms)
2025-04-15T08:19:34.5468583Z       ✓ should decode and verify payload (1 ms)
2025-04-15T08:19:34.5468833Z       ✓ should throw an error on verify if the token is expired (7 ms)
2025-04-15T08:19:34.5468972Z 
2025-04-15T08:19:34.5469132Z PASS src/external-secrets.ee/providers/__tests__/azure-key-vault.test.ts
2025-04-15T08:19:34.5469340Z   AzureKeyVault
2025-04-15T08:19:34.5469506Z     ✓ should update cached secrets (52 ms)
2025-04-15T08:19:34.5469612Z 
2025-04-15T08:19:34.5469765Z PASS test/integration/services/workflow-static-data.service.test.ts
2025-04-15T08:19:34.5469976Z   WorkflowStaticDataService
2025-04-15T08:19:34.5470355Z     ✓ should not change workflow updatedAt when calling saveStaticData (15 ms)
2025-04-15T08:19:34.5470690Z     ✓ should not change workflow updatedAt when calling saveStaticDataById (3 ms)
2025-04-15T08:19:34.5470852Z 
2025-04-15T08:19:34.5471000Z PASS src/task-runners/task-broker/__tests__/task-broker-server.test.ts
2025-04-15T08:19:34.5471202Z   TaskBrokerServer
2025-04-15T08:19:34.5471331Z     handleUpgradeRequest
2025-04-15T08:19:34.5471560Z       ✓ should close WebSocket when response status code is > 200 (4 ms)
2025-04-15T08:19:34.5471846Z       ✓ should not close WebSocket when response status code is 200 (1 ms)
2025-04-15T08:19:34.5471986Z 
2025-04-15T08:19:34.5472120Z PASS src/executions/__tests__/execution-data.service.test.ts
2025-04-15T08:19:34.5472310Z   ExecutionDataService
2025-04-15T08:19:34.5472461Z     generateFailedExecutionFromError
2025-04-15T08:19:34.5472704Z       ✓ should generate a failed execution with error details (7 ms)
2025-04-15T08:19:34.5473038Z       ✓ should generate a failed execution without node details if node is undefined (1 ms)
2025-04-15T08:19:34.5473302Z 
2025-04-15T08:19:34.5473476Z PASS src/task-runners/errors/__tests__/task-runner-disconnected-error.test.ts
2025-04-15T08:19:34.5473706Z   TaskRunnerDisconnectedError
2025-04-15T08:19:34.5473921Z     ✓ should have the correct default error message (3 ms)
2025-04-15T08:19:34.5474158Z     ✓ should have the error level set to "error" (1 ms)
2025-04-15T08:19:34.5474415Z     ✓ should set the correct description for non-cloud deployments
2025-04-15T08:19:34.5474739Z     ✓ should set the correct description for cloud deployments (1 ms)
2025-04-15T08:19:34.5474883Z 
2025-04-15T08:19:34.5475031Z PASS src/databases/repositories/__tests__/workflow-statistics.test.ts
2025-04-15T08:19:34.5475246Z   insertWorkflowStatistics
2025-04-15T08:19:34.5475483Z     ✓ Successfully inserts data when it is not yet present (4 ms)
2025-04-15T08:19:34.5475730Z     ✓ Does not insert when data is present (1 ms)
2025-04-15T08:19:34.5475955Z     ✓ throws an error when insertion fails
2025-04-15T08:19:34.5476069Z 
2025-04-15T08:19:34.5476168Z PASS src/modules/__tests__/modules.config.test.ts
2025-04-15T08:19:34.5476343Z   ModulesConfig
2025-04-15T08:19:34.5476602Z     ✓ should initialize with insights modules if no environment variable is set (3 ms)
2025-04-15T08:19:34.5476912Z     ✓ should parse valid module names from environment variable
2025-04-15T08:19:34.5477237Z     ✓ should disable valid module names from environment variable
2025-04-15T08:19:34.5477521Z     ✓ should throw UnexpectedError for invalid module names (9 ms)
2025-04-15T08:19:34.5477845Z     ✓ should throw UnexpectedError if any module is both enabled and disabled (1 ms)
2025-04-15T08:19:34.5478167Z     ✓ should throw UnexpectedError if any enabled module name is invalid
2025-04-15T08:19:34.5478490Z     ✓ should throw UnexpectedError if any disabled module name is invalid (1 ms)
2025-04-15T08:19:34.5478663Z 
2025-04-15T08:19:34.5478746Z PASS src/__tests__/utils.test.ts
2025-04-15T08:19:34.5478908Z   shouldAssignExecuteMethod
2025-04-15T08:19:34.5479240Z     ✓ should return true when node has no execute, poll, trigger, webhook (unless declarative), or methods (3 ms)
2025-04-15T08:19:34.5479566Z     ✓ should return false when node has execute (1 ms)
2025-04-15T08:19:34.5479790Z     ✓ should return false when node has poll
2025-04-15T08:19:34.5480002Z     ✓ should return false when node has trigger
2025-04-15T08:19:34.5480275Z     ✓ should return false when node has webhook and is not declarative (1 ms)
2025-04-15T08:19:34.5480569Z     ✓ should return true when node has webhook but is declarative
2025-04-15T08:19:34.5480806Z     ✓ should return false when node has methods
2025-04-15T08:19:34.5480906Z 
2025-04-15T08:19:34.5481015Z PASS src/sso.ee/saml/__tests__/saml-helpers.test.ts
2025-04-15T08:19:34.5481194Z   sso/saml/samlHelpers
2025-04-15T08:19:34.5481346Z     updateUserFromSamlAttributes
2025-04-15T08:19:34.5481714Z       ✓ does not user `Repository.update`, but `Repository.save` instead (6 ms)
2025-04-15T08:19:34.5481871Z 
2025-04-15T08:19:34.5482010Z PASS src/modules/insights/__tests__/insights.pre-init.test.ts
2025-04-15T08:19:34.5482207Z   InsightsModulePreInit
2025-04-15T08:19:34.5482421Z     ✓ should return false if instance type is not "main" (2 ms)
2025-04-15T08:19:34.5482703Z     ✓ should return false if database type is "sqlite" and poolSize is < 1
2025-04-15T08:19:34.5483010Z     ✓ should return true if instance type is "main" and database is not sqlite
2025-04-15T08:19:34.5483332Z     ✓ should return true if instance type is "main" and database is not sqlite (1 ms)
2025-04-15T08:19:34.5483646Z     ✓ should return true if instance type is "main" and database is not sqlite
2025-04-15T08:19:34.5483968Z     ✓ should return true if instance type is "main" and sqlite poolSize is >= 1 (1 ms)
2025-04-15T08:19:34.5484134Z 
2025-04-15T08:19:34.5484291Z PASS test/integration/task-runners/task-runner-module.external.test.ts
2025-04-15T08:19:34.5484528Z   TaskRunnerModule in external mode
2025-04-15T08:19:34.5484806Z     start
2025-04-15T08:19:34.5484985Z       ✓ should throw if the task runner is disabled (9 ms)
2025-04-15T08:19:34.5485539Z       ✓ should throw if auth token is missing (6 ms)
2025-04-15T08:19:34.5485746Z       ✓ should start the task runner (245 ms)
2025-04-15T08:19:34.5485964Z       ✓ should use DefaultTaskRunnerDisconnectAnalyzer
2025-04-15T08:19:34.5486087Z 
2025-04-15T08:19:34.5486217Z PASS src/controllers/__tests__/translation.controller.test.ts
2025-04-15T08:19:34.5486417Z   TranslationController
2025-04-15T08:19:34.5486552Z     getCredentialTranslation
2025-04-15T08:19:34.5486763Z       ✓ should throw 400 on invalid credential types (7 ms)
2025-04-15T08:19:34.5487084Z       ✓ should return translation json on valid credential types (1 ms)
2025-04-15T08:19:34.5487230Z 
2025-04-15T08:19:34.5487391Z PASS src/errors/response-errors/__tests__/webhook-not-found.error.test.ts
2025-04-15T08:19:34.5487630Z   utils test webhookNotFoundErrorMessage 
2025-04-15T08:19:34.5487856Z     ✓ should return a message with path and method (4 ms)
2025-04-15T08:19:34.5488073Z     ✓ should return a message with path
2025-04-15T08:19:34.5488370Z     ✓ should return a message with method with tip
2025-04-15T08:19:34.5488582Z     ✓ should return a message with method with tip
2025-04-15T08:19:34.5488788Z     ✓ should return a message with method with tip
2025-04-15T08:19:34.5488891Z 
2025-04-15T08:19:34.5488994Z PASS test/integration/user.repository.test.ts
2025-04-15T08:19:34.5489155Z   UserRepository
2025-04-15T08:19:34.5489276Z     countUsersByRole()
2025-04-15T08:19:34.5489482Z       ✓ should return the number of users in each role (47 ms)
2025-04-15T08:19:34.5489667Z     createUserWithProject()
2025-04-15T08:19:34.5489866Z       ✓ should create personal project for a user (8 ms)
2025-04-15T08:19:34.5489981Z 
2025-04-15T08:19:34.5490068Z PASS test/integration/auth.mw.test.ts
2025-04-15T08:19:34.5490217Z   Auth Middleware
2025-04-15T08:19:34.5490356Z     Routes requiring Authentication
2025-04-15T08:19:34.5490593Z       ✓ patch /me should return 401 Unauthorized if no cookie (16 ms)
2025-04-15T08:19:34.5490886Z       ✓ patch /me/password should return 401 Unauthorized if no cookie (3 ms)
2025-04-15T08:19:34.5491182Z       ✓ post /me/survey should return 401 Unauthorized if no cookie (1 ms)
2025-04-15T08:19:34.5491471Z       ✓ post /invitations should return 401 Unauthorized if no cookie (2 ms)
2025-04-15T08:19:34.5491771Z       ✓ delete /users/123 should return 401 Unauthorized if no cookie (2 ms)
2025-04-15T08:19:34.5491982Z     Routes requiring Authorization
2025-04-15T08:19:34.5492227Z       ✓ post /invitations should return 403 Forbidden for member (14 ms)
2025-04-15T08:19:34.5492507Z       ✓ delete /users/123 should return 403 Forbidden for member (2 ms)
2025-04-15T08:19:34.5492650Z 
2025-04-15T08:19:34.5492760Z PASS src/scaling/__tests__/subscriber.service.test.ts
2025-04-15T08:19:34.5492936Z   Subscriber
2025-04-15T08:19:34.5493047Z     constructor
2025-04-15T08:19:34.5493357Z       ✓ should init Redis client in scaling mode (3 ms)
2025-04-15T08:19:34.5493597Z       ✓ should not init Redis client in regular mode (1 ms)
2025-04-15T08:19:34.5493762Z     shutdown
2025-04-15T08:19:34.5493914Z       ✓ should disconnect Redis client
2025-04-15T08:19:34.5494063Z     subscribe
2025-04-15T08:19:34.5494232Z       ✓ should subscribe to pubsub channel (1 ms)
2025-04-15T08:19:34.5494345Z 
2025-04-15T08:19:34.5494437Z PASS src/services/__tests__/url.service.test.ts
2025-04-15T08:19:34.5494593Z   UrlService
2025-04-15T08:19:34.5494708Z     getInstanceBaseUrl
2025-04-15T08:19:34.5494892Z       ✓ should set URL from N8N_EDITOR_BASE_URL (3 ms)
2025-04-15T08:19:34.5495103Z       ✓ should set URL from WEBHOOK_URL (1 ms)
2025-04-15T08:19:34.5495344Z       ✓ should trim quotes when setting URL from N8N_EDITOR_BASE_URL
2025-04-15T08:19:34.5495618Z       ✓ should trim quotes when setting URL from WEBHOOK_URL (1 ms)
2025-04-15T08:19:34.5495752Z 
2025-04-15T08:19:34.5495911Z PASS src/databases/repositories/__tests__/credentials.repository.test.ts
2025-04-15T08:19:34.5496226Z   findMany
2025-04-15T08:19:34.5496489Z     ✓ return `data` property if `includeData:true` and select is using the record syntax (3 ms)
2025-04-15T08:19:34.5496842Z     ✓ return `data` property if `includeData:true` and select is using the record syntax
2025-04-15T08:19:34.5497058Z 
2025-04-15T08:19:34.5497188Z PASS test/integration/task-runners/task-runner-server.test.ts
2025-04-15T08:19:34.5497386Z   TaskBrokerServer
2025-04-15T08:19:34.5497497Z     /healthz
2025-04-15T08:19:34.5497646Z       ✓ should return 200 (18 ms)
2025-04-15T08:19:34.5497782Z     /runners/_ws
2025-04-15T08:19:34.5497982Z       ✓ should return 429 when too many requests are made (13 ms)
2025-04-15T08:19:34.5498156Z     /runners/auth
2025-04-15T08:19:34.5498347Z       ✓ should return 429 when too many requests are made (13 ms)
2025-04-15T08:19:34.5498474Z 
2025-04-15T08:19:34.5498616Z PASS test/integration/services/execution-metadata.service.test.ts
2025-04-15T08:19:34.5498816Z   ProjectService
2025-04-15T08:19:34.5498932Z     save
2025-04-15T08:19:34.5499180Z       ✓ should deduplicate entries by exeuctionId and key, keeping the latest one (23 ms)
2025-04-15T08:19:34.5499348Z 
2025-04-15T08:19:34.5499480Z PASS test/integration/task-runners/task-broker-server.test.ts
2025-04-15T08:19:34.5499668Z   TaskBrokerServer
2025-04-15T08:19:34.5499779Z     /healthz
2025-04-15T08:19:34.5499921Z       ✓ should return 200 (21 ms)
2025-04-15T08:19:34.5500054Z     /runners/_ws
2025-04-15T08:19:34.5500241Z       ✓ should return 429 when too many requests are made (12 ms)
2025-04-15T08:19:34.5500412Z     /runners/auth
2025-04-15T08:19:34.5500605Z       ✓ should return 429 when too many requests are made (12 ms)
2025-04-15T08:19:34.5500727Z 
2025-04-15T08:19:34.5500914Z PASS src/workflows/workflow-history.ee/__tests__/workflow-history-helper.ee.test.ts
2025-04-15T08:19:34.5501155Z   getWorkflowHistoryPruneTime
2025-04-15T08:19:34.5501397Z     ✓ should return -1 (infinite) if config and license are -1 (3 ms)
2025-04-15T08:19:34.5501703Z     ✓ should return config time if license is infinite and config is not (1 ms)
2025-04-15T08:19:34.5502011Z     ✓ should return license time if config is infinite and license is not
2025-04-15T08:19:34.5502301Z     ✓ should return lowest of config and license time if both are not -1
2025-04-15T08:19:34.5502440Z 
2025-04-15T08:19:34.5502536Z PASS test/integration/cta.service.test.ts
2025-04-15T08:19:34.5502691Z   CtaService
2025-04-15T08:19:34.5502808Z     getBecomeCreatorCta()
2025-04-15T08:19:34.5503108Z       ✓ should return false if user has 0 active workflows with 0 successful production executions (8 ms)
2025-04-15T08:19:34.5503514Z       ✓ should return false if user has 2 active workflows with 5 successful production executions (21 ms)
2025-04-15T08:19:34.5503907Z       ✓ should return false if user has 3 active workflows with 4 successful production executions (18 ms)
2025-04-15T08:19:34.5504402Z       ✓ should return true if user has 3 active workflows with 5 successful production executions (17 ms)
2025-04-15T08:19:34.5504637Z 
2025-04-15T08:19:34.5504747Z PASS src/services/__tests__/password.utility.test.ts
2025-04-15T08:19:34.5504923Z   PasswordUtility
2025-04-15T08:19:34.5505046Z     hash()
2025-04-15T08:19:34.5505215Z       ✓ should hash a plaintext password (76 ms)
2025-04-15T08:19:34.5505371Z     compare()
2025-04-15T08:19:34.5505529Z       ✓ should return true on match (110 ms)
2025-04-15T08:19:34.5505734Z       ✓ should return false on mismatch (133 ms)
2025-04-15T08:19:34.5505843Z 
2025-04-15T08:19:34.5505957Z PASS src/controllers/__tests__/users.controller.test.ts
2025-04-15T08:19:34.5506135Z   UsersController
2025-04-15T08:19:34.5506258Z     changeGlobalRole
2025-04-15T08:19:34.5506445Z       ✓ should emit event user-changed-role (3 ms)
2025-04-15T08:19:34.5506562Z 
2025-04-15T08:19:34.5506737Z PASS src/evaluation.ee/test-runner/__tests__/get-test-run-final-result.ee.test.ts
2025-04-15T08:19:34.5507023Z   getTestRunFinalResult
2025-04-15T08:19:34.5507255Z     ✓ should return success if all test cases are successful (3 ms)
2025-04-15T08:19:34.5507636Z     ✓ should return error if at least one test case is errored (1 ms)
2025-04-15T08:19:34.5507908Z     ✓ should return warning if at least one test case is warned
2025-04-15T08:19:34.5508172Z     ✓ should return error if there are errors and warnings (1 ms)
2025-04-15T08:19:34.5508306Z 
2025-04-15T08:19:34.5508535Z PASS test/integration/workflows/workflows.controller-with-active-workflow-manager.ee.test.ts
2025-04-15T08:19:34.5508807Z   PUT /:workflowId/transfer
2025-04-15T08:19:34.5508993Z     ✓ can transfer an active workflow (50 ms)
2025-04-15T08:19:34.5509097Z 
2025-04-15T08:19:34.5509194Z PASS src/ldap.ee/__tests__/helpers.test.ts
2025-04-15T08:19:34.5509349Z   Ldap/helpers
2025-04-15T08:19:34.5509473Z     updateLdapUserOnLocalDb
2025-04-15T08:19:34.5509719Z       ✓ does not use `Repository.update`, but `Repository.save` instead (4 ms)
2025-04-15T08:19:34.5509866Z 
2025-04-15T08:19:34.5510027Z PASS src/evaluation.ee/test-runner/__tests__/get-start-node.ee.test.ts
2025-04-15T08:19:34.5510242Z   getPastExecutionStartNode
2025-04-15T08:19:34.5510457Z     ✓ should return the start node of the past execution (3 ms)
2025-04-15T08:19:34.5510760Z     ✓ should return the start node of the past execution with multiple triggers (1 ms)
2025-04-15T08:19:34.5511116Z     ✓ should return the start node of the past execution with multiple triggers - chat trigger
2025-04-15T08:19:34.5511295Z 
2025-04-15T08:19:34.5511413Z PASS src/services/__tests__/orchestration.service.test.ts
2025-04-15T08:19:34.5511598Z   Orchestration Service
2025-04-15T08:19:34.5511754Z     ✓ should initialize (4 ms)
2025-04-15T08:19:34.5511851Z 
2025-04-15T08:19:34.5511965Z PASS test/integration/middlewares/body-parser.test.ts
2025-04-15T08:19:34.5512144Z   bodyParser
2025-04-15T08:19:34.5512313Z     ✓ should handle uncompressed data (15 ms)
2025-04-15T08:19:34.5512508Z     ✓ should handle gzip data (3 ms)
2025-04-15T08:19:34.5512702Z     ✓ should handle deflate data (2 ms)
2025-04-15T08:19:34.5512812Z 
2025-04-15T08:19:34.5512934Z PASS src/databases/entities/__tests__/user.entity.test.ts
2025-04-15T08:19:34.5513121Z   User Entity
2025-04-15T08:19:34.5513239Z     JSON.stringify
2025-04-15T08:19:34.5513415Z       ✓ should not serialize sensitive data (3 ms)
2025-04-15T08:19:34.5513584Z     createPersonalProjectName
2025-04-15T08:19:34.5514024Z       ✓ given fistName: Nathan, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "Nathan Nathaniel <nathan@nathaniel.n8n>" (1 ms)
2025-04-15T08:19:34.5514606Z       ✓ given fistName: undefined, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:19:34.5515147Z       ✓ given fistName: Nathan, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
2025-04-15T08:19:34.5515950Z       ✓ given fistName: undefined, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>" (1 ms)
2025-04-15T08:19:34.5516472Z       ✓ given fistName: undefined, lastName: undefined and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:19:34.5516932Z       ✓ given fistName: Nathan, lastName: Nathaniel and email: undefined this gives the projectName: "Unnamed Project"
2025-04-15T08:19:34.5517191Z 
2025-04-15T08:19:34.5517386Z PASS src/modules/insights/database/entities/__tests__/insights-by-period.test.ts
2025-04-15T08:19:34.5517629Z   Insights By Period
2025-04-15T08:19:34.5517869Z     ✓ `time_saved_min` can be serialized and deserialized correctly (6 ms)
2025-04-15T08:19:34.5518149Z     ✓ `runtime_ms` can be serialized and deserialized correctly
2025-04-15T08:19:34.5518412Z     ✓ `failure` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5518667Z     ✓ `success` can be serialized and deserialized correctly
2025-04-15T08:19:34.5518915Z     ✓ `hour` can be serialized and deserialized correctly (1 ms)
2025-04-15T08:19:34.5519177Z     ✓ `day` can be serialized and deserialized correctly
2025-04-15T08:19:34.5519505Z     ✓ `week` can be serialized and deserialized correctly
2025-04-15T08:19:34.5519624Z 
2025-04-15T08:19:34.5519780Z PASS test/integration/task-runners/task-runner-module.internal.test.ts
2025-04-15T08:19:34.5520014Z   TaskRunnerModule in internal mode
2025-04-15T08:19:34.5520156Z     start
2025-04-15T08:19:34.5520339Z       ✓ should throw if the task runner is disabled (9 ms)
2025-04-15T08:19:34.5520558Z       ✓ should start the task runner (260 ms)
2025-04-15T08:19:34.5520784Z       ✓ should use InternalTaskRunnerDisconnectAnalyzer
2025-04-15T08:19:34.5520913Z 
2025-04-15T08:19:34.5521013Z PASS src/utils/__tests__/object-to-error.test.ts
2025-04-15T08:19:34.5521180Z   objectToError
2025-04-15T08:19:34.5521306Z     node error handling
2025-04-15T08:19:34.5521529Z       ✓ should create `NodeOperationError` when node is found (4 ms)
2025-04-15T08:19:34.5521783Z       ✓ should create `Error` when node is not found
2025-04-15T08:19:34.5521901Z 
2025-04-15T08:19:34.5522042Z PASS src/task-runners/__tests__/node-process-oom-detector.test.ts
2025-04-15T08:19:34.5522244Z   NodeProcessOomDetector
2025-04-15T08:19:34.5522481Z     ✓ should detect an out-of-memory error in a monitored process (328 ms)
2025-04-15T08:19:34.5522818Z     ✓ should not detect an out-of-memory error in a process that exits normally (22 ms)
2025-04-15T08:19:34.5522992Z 
2025-04-15T08:19:34.5523162Z PASS src/execution-lifecycle/shared/__tests__/shared-hook-functions.test.ts
2025-04-15T08:19:34.5523399Z   determineFinalExecutionStatus
2025-04-15T08:19:34.5523627Z     ✓ should return "error" when resultData.error exists (1 ms)
2025-04-15T08:19:34.5523886Z     ✓ should return "waiting" when waitTill is defined
2025-04-15T08:19:34.5524056Z     When waitTill is not set
2025-04-15T08:19:34.5524231Z       ✓ should return "canceled" (2 ms)
2025-04-15T08:19:34.5524408Z       ✓ should return "crashed"
2025-04-15T08:19:34.5524566Z       ✓ should return "error"
2025-04-15T08:19:34.5524745Z       ✓ should return "success"
2025-04-15T08:19:34.5524838Z 
2025-04-15T08:19:34.5524978Z PASS src/services/__tests__/credentials-tester.service.test.ts
2025-04-15T08:19:34.5525169Z   CredentialsTester
2025-04-15T08:19:34.5525428Z     ✓ should find the OAuth2 credential test for a generic OAuth2 API credential (4 ms)
2025-04-15T08:19:34.5525597Z 
2025-04-15T08:19:34.5525705Z PASS test/integration/saml/saml-helpers.test.ts
2025-04-15T08:19:34.5525872Z   sso/saml/samlHelpers
2025-04-15T08:19:34.5526021Z     createUserFromSamlAttributes
2025-04-15T08:19:34.5526221Z       ✓ Creates personal project for user (76 ms)
2025-04-15T08:19:34.5526330Z 
2025-04-15T08:19:34.5526423Z PASS src/utils/__tests__/path-util.test.ts
2025-04-15T08:19:34.5526579Z   isContainedWithin
2025-04-15T08:19:34.5526796Z     ✓ should return true when parent and child paths are the same (3 ms)
2025-04-15T08:19:34.5527317Z     ✓ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/file.txt
2025-04-15T08:19:34.5527754Z     ✓ should return true for parent /some/parent/folder and child /some/parent/folder/../folder/subfolder/file.txt
2025-04-15T08:19:34.5528270Z     ✓ should return true for parent /some/parent/folder/ and child /some/parent/folder/subfolder/file.txt
2025-04-15T08:19:34.5528672Z     ✓ should return true for parent /some/parent/folder and child /some/parent/folder/subfolder/
2025-04-15T08:19:34.5529071Z     ✓ should return false for parent /some/parent/folder and child /some/other/folder/file.txt (1 ms)
2025-04-15T08:19:34.5529468Z     ✓ should return false for parent /some/parent/folder and child /some/parent/folder_but_not_really
2025-04-15T08:19:34.5529799Z     ✓ should return false for parent /one/path and child /another/path
2025-04-15T08:19:34.5529942Z 
2025-04-15T08:19:34.5530072Z PASS src/services/__tests__/execution-metadata.service.test.ts
2025-04-15T08:19:34.5530273Z   ExecutionMetadataService
2025-04-15T08:19:34.5530475Z     ✓ Execution metadata is saved in a batch (4 ms)
2025-04-15T08:19:34.5530709Z 
2025-04-15T08:19:34.5530823Z PASS test/integration/commands/license.cmd.test.ts
2025-04-15T08:19:34.5531201Z   ✓ license:clear invokes clear() to release any floating entitlements and deletes the license cert from the DB (14 ms)
2025-04-15T08:19:34.5531422Z 
2025-04-15T08:19:34.5531526Z PASS src/decorators/__tests__/module.test.ts
2025-04-15T08:19:34.5531692Z   registerLifecycleHooks
2025-04-15T08:19:34.5531945Z     ✓ is called when ModuleRegistry.registerLifecycleHooks is called (4 ms)
2025-04-15T08:19:34.5532100Z 
2025-04-15T08:19:34.5532326Z PASS src/environments.ee/source-control/__tests__/source-control-preferences.service.ee.test.ts
2025-04-15T08:19:34.5532605Z   SourceControlPreferencesService
2025-04-15T08:19:34.5532820Z     ✓ should class validate correct preferences (3 ms)
2025-04-15T08:19:34.5532935Z 
2025-04-15T08:19:34.5533054Z PASS src/validators/__tests__/no-url.validator.test.ts
2025-04-15T08:19:34.5533221Z   NoUrl
2025-04-15T08:19:34.5533334Z     URLs
2025-04-15T08:19:34.5533506Z       ✓ should block http://google.com (4 ms)
2025-04-15T08:19:34.5533714Z       ✓ should block www.domain.tld
2025-04-15T08:19:34.5533898Z       ✓ should block n8n.io (1 ms)
2025-04-15T08:19:34.5533902Z 
2025-04-15T08:19:34.5533988Z PASS src/config/__tests__/index.test.ts
2025-04-15T08:19:34.5534063Z   userManagement.jwtRefreshTimeoutHours
2025-04-15T08:19:34.5534295Z     ✓ resets jwtRefreshTimeoutHours to 0 if it's greater than or equal to jwtSessionDurationHours (2 ms)
2025-04-15T08:19:34.5534299Z 
2025-04-15T08:19:34.5534408Z PASS test/integration/healthcheck.controller.test.ts
2025-04-15T08:19:34.5534471Z   HealthcheckController
2025-04-15T08:19:34.5534602Z     ✓ should return ok when DB is connected and migrated (11 ms)
2025-04-15T08:19:34.5534731Z     ✓ should return error when DB is not connected (2 ms)
2025-04-15T08:19:34.5534734Z 
2025-04-15T08:19:34.5534818Z Test Suites: 250 passed, 250 total
2025-04-15T08:19:34.5534941Z Tests:       2810 passed, 2810 total
2025-04-15T08:19:34.5535024Z Snapshots:   3 passed, 3 total
2025-04-15T08:19:34.5535085Z Time:        149.876 s
2025-04-15T08:19:34.5535146Z Ran all test suites.
2025-04-15T08:19:34.5535458Z ##[endgroup]
2025-04-15T08:19:36.5262182Z ##[group]@n8n/di:test
2025-04-15T08:19:36.5262511Z cache bypass, force executing 2a23c466591973d6
2025-04-15T08:19:36.5262668Z 
2025-04-15T08:19:36.5262843Z > @n8n/di@0.4.0 test /home/runner/_work/n8n/n8n/packages/@n8n/di
2025-04-15T08:19:36.5263114Z > jest
2025-04-15T08:19:36.5263196Z 
2025-04-15T08:19:36.5263336Z PASS src/__tests__/circular-depedency.test.ts
2025-04-15T08:19:36.5263555Z   DI Container
2025-04-15T08:19:36.5263701Z     circular dependency
2025-04-15T08:19:36.5264204Z       ✓ should detect multilevel circular dependencies (7 ms)
2025-04-15T08:19:36.5264373Z 
2025-04-15T08:19:36.5264455Z PASS src/__tests__/di.test.ts
2025-04-15T08:19:36.5264624Z   DI Container
2025-04-15T08:19:36.5264766Z     basic functionality
2025-04-15T08:19:36.5265265Z       ✓ should create a simple instance (3 ms)
2025-04-15T08:19:36.5265547Z       ✓ should return same instance on multiple gets
2025-04-15T08:19:36.5265865Z       ✓ should handle classes with no dependencies (empty constructor)
2025-04-15T08:19:36.5266214Z       ✓ should throw when trying to resolve an undecorated class (6 ms)
2025-04-15T08:19:36.5266454Z     dependency injection
2025-04-15T08:19:36.5266686Z       ✓ should inject dependencies correctly
2025-04-15T08:19:36.5266941Z       ✓ should handle deep dependency chains (1 ms)
2025-04-15T08:19:36.5267286Z       ✓ should return undefined for non-decorated dependencies in resolution chain
2025-04-15T08:19:36.5267547Z     factory handling
2025-04-15T08:19:36.5267804Z       ✓ should use factory when provided
2025-04-15T08:19:36.5268105Z       ✓ should preserve factory metadata when setting instance (1 ms)
2025-04-15T08:19:36.5268415Z       ✓ should preserve factory when resetting container
2025-04-15T08:19:36.5268809Z       ✓ should throw error when factory throws
2025-04-15T08:19:36.5269156Z     instance management
2025-04-15T08:19:36.5269772Z       ✓ should allow manual instance setting (1 ms)
2025-04-15T08:19:36.5270109Z     abstract classes
2025-04-15T08:19:36.5270628Z       ✓ should throw when trying to instantiate an abstract class directly (4 ms)
2025-04-15T08:19:36.5271220Z       ✓ should allow setting an implementation for an abstract class
2025-04-15T08:19:36.5271510Z       ✓ should allow factory for abstract class
2025-04-15T08:19:36.5271694Z     inheritance
2025-04-15T08:19:36.5271932Z       ✓ should handle inheritance in injectable classes (1 ms)
2025-04-15T08:19:36.5272261Z       ✓ should maintain separate instances for base and derived classes
2025-04-15T08:19:36.5272515Z     type registration checking
2025-04-15T08:19:36.5272744Z       ✓ should return true for registered classes
2025-04-15T08:19:36.5273071Z       ✓ should return false for unregistered classes
2025-04-15T08:19:36.5273353Z       ✓ should return true for abstract classes with implementations
2025-04-15T08:19:36.5273710Z       ✓ should return true for factory-provided services before instantiation (1 ms)
2025-04-15T08:19:36.5274009Z       ✓ should maintain registration after reset
2025-04-15T08:19:36.5274264Z       ✓ should return true after manual instance setting
2025-04-15T08:19:36.5274399Z 
2025-04-15T08:19:36.5274494Z Test Suites: 2 passed, 2 total
2025-04-15T08:19:36.5274677Z Tests:       24 passed, 24 total
2025-04-15T08:19:36.5274841Z Snapshots:   0 total
2025-04-15T08:19:36.5274981Z Time:        1.14 s
2025-04-15T08:19:36.5275124Z Ran all test suites.
2025-04-15T08:19:36.5275380Z ##[endgroup]
2025-04-15T08:19:36.5493929Z 
2025-04-15T08:19:36.5494053Z  Tasks:    10 successful, 10 total
2025-04-15T08:19:36.5494250Z Cached:    0 cached, 10 total
2025-04-15T08:19:36.5494420Z   Time:    3m16.638s 
2025-04-15T08:19:36.5494502Z 
2025-04-15T08:19:36.9031217Z ##[group]Run pnpm test:nodes
2025-04-15T08:19:36.9031550Z [36;1mpnpm test:nodes[0m
2025-04-15T08:19:36.9085343Z shell: /usr/bin/bash -e {0}
2025-04-15T08:19:36.9085504Z env:
2025-04-15T08:19:36.9085641Z   TURBO_FORCE: true
2025-04-15T08:19:36.9085775Z   COVERAGE_ENABLED: true
2025-04-15T08:19:36.9085944Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:19:36.9086086Z   TURBOGHA_PORT: 41230
2025-04-15T08:19:36.9086253Z   TURBO_API: http://localhost:41230
2025-04-15T08:19:36.9086415Z   TURBO_TOKEN: turbogha
2025-04-15T08:19:36.9086551Z   TURBO_TEAM: turbogha
2025-04-15T08:19:36.9086684Z ##[endgroup]
2025-04-15T08:19:37.1286814Z 
2025-04-15T08:19:37.1287527Z > n8n-monorepo@1.89.0 test:nodes /home/runner/_work/n8n/n8n
2025-04-15T08:19:37.1287911Z > turbo run test:nodes --concurrency=1
2025-04-15T08:19:37.1288034Z 
2025-04-15T08:19:37.2552004Z • Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
2025-04-15T08:19:37.2553052Z • Running test:nodes in 28 packages
2025-04-15T08:19:37.2553244Z • Remote caching enabled
2025-04-15T08:19:40.2891339Z ##[group]@n8n/json-schema-to-zod:test
2025-04-15T08:19:40.2891827Z cache bypass, force executing 3a55834af624c1ef
2025-04-15T08:19:40.2892018Z 
2025-04-15T08:19:40.2892434Z > @n8n/json-schema-to-zod@1.3.0 test /home/runner/_work/n8n/n8n/packages/@n8n/json-schema-to-zod
2025-04-15T08:19:40.2892802Z > jest
2025-04-15T08:19:40.2892907Z 
2025-04-15T08:19:40.2893048Z PASS test/parsers/parse-string.test.ts
2025-04-15T08:19:40.2893291Z   parseString
2025-04-15T08:19:40.2893760Z     ✓ DateTime format (4 ms)
2025-04-15T08:19:40.2894035Z     ✓ email
2025-04-15T08:19:40.2894215Z     ✓ ip
2025-04-15T08:19:40.2894386Z     ✓ uri
2025-04-15T08:19:40.2894559Z     ✓ uuid (1 ms)
2025-04-15T08:19:40.2894750Z     ✓ time
2025-04-15T08:19:40.2894923Z     ✓ date
2025-04-15T08:19:40.2895544Z     ✓ duration
2025-04-15T08:19:40.2895726Z     ✓ base64
2025-04-15T08:19:40.2895959Z     ✓ should accept errorMessage
2025-04-15T08:19:40.2896113Z 
2025-04-15T08:19:40.2896251Z PASS test/parsers/parse-number.test.ts
2025-04-15T08:19:40.2896523Z   parseNumber
2025-04-15T08:19:40.2896774Z     ✓ should handle integer (14 ms)
2025-04-15T08:19:40.2897107Z     ✓ should handle maximum with exclusiveMinimum
2025-04-15T08:19:40.2897508Z     ✓ should handle maximum with exclusiveMinimum (1 ms)
2025-04-15T08:19:40.2897896Z     ✓ should handle maximum with exclusiveMaximum
2025-04-15T08:19:40.2898280Z     ✓ should handle numeric exclusiveMaximum (1 ms)
2025-04-15T08:19:40.2898622Z     ✓ should accept errorMessage
2025-04-15T08:19:40.2898769Z 
2025-04-15T08:19:40.2898932Z PASS test/parsers/parse-schema.test.ts
2025-04-15T08:19:40.2899270Z   parseSchema
2025-04-15T08:19:40.2899589Z     ✓ should be usable without providing refs (3 ms)
2025-04-15T08:19:40.2900012Z     ✓ should return a seen and processed ref (1 ms)
2025-04-15T08:19:40.2900401Z     ✓ should be possible to describe a readonly schema
2025-04-15T08:19:40.2900694Z     ✓ should handle nullable
2025-04-15T08:19:40.2900991Z     ✓ should handle enum (1 ms)
2025-04-15T08:19:40.2901296Z     ✓ should handle multiple type (1 ms)
2025-04-15T08:19:40.2901615Z     ✓ should handle if-then-else type
2025-04-15T08:19:40.2901902Z     ✓ should handle anyOf (1 ms)
2025-04-15T08:19:40.2902155Z     ✓ should handle oneOf
2025-04-15T08:19:40.2902283Z 
2025-04-15T08:19:40.2902425Z PASS test/parsers/parse-object.test.ts
2025-04-15T08:19:40.2902672Z   parseObject
2025-04-15T08:19:40.2902948Z     ✓ should handle with missing properties (3 ms)
2025-04-15T08:19:40.2903302Z     ✓ should handle with empty properties (1 ms)
2025-04-15T08:19:40.2903982Z     ✓ With properties - should handle optional and required properties (1 ms)
2025-04-15T08:19:40.2904511Z     ✓ With properties - should handle additionalProperties when set to false
2025-04-15T08:19:40.2905066Z     ✓ With properties - should handle additionalProperties when set to true (1 ms)
2025-04-15T08:19:40.2905671Z     ✓ With properties - should handle additionalProperties when provided a schema
2025-04-15T08:19:40.2906347Z     ✓ Without properties - should handle additionalProperties when set to false
2025-04-15T08:19:40.2906982Z     ✓ Without properties - should handle additionalProperties when set to true (1 ms)
2025-04-15T08:19:40.2907503Z     ✓ Without properties - should handle additionalProperties when provided a schema
2025-04-15T08:19:40.2907935Z     ✓ Without properties - should include falsy defaults
2025-04-15T08:19:40.2908210Z     ✓ eh (2 ms)
2025-04-15T08:19:40.2908445Z     ✓ Functional tests - run (1 ms)
2025-04-15T08:19:40.2909197Z     ✓ Functional tests - properties (1 ms)
2025-04-15T08:19:40.2909833Z     ✓ Functional tests - properties and additionalProperties (1 ms)
2025-04-15T08:19:40.2910295Z     ✓ Functional tests - properties and single-item patternProperties (1 ms)
2025-04-15T08:19:40.2910885Z     ✓ Functional tests - properties, additionalProperties and patternProperties (1 ms)
2025-04-15T08:19:40.2912028Z     ✓ Functional tests - additionalProperties
2025-04-15T08:19:40.2912946Z     ✓ Functional tests - additionalProperties and patternProperties (1 ms)
2025-04-15T08:19:40.2913590Z     ✓ Functional tests - single-item patternProperties
2025-04-15T08:19:40.2913992Z     ✓ Functional tests - patternProperties
2025-04-15T08:19:40.2914247Z     ✓ Functional tests - patternProperties and properties (1 ms)
2025-04-15T08:19:40.2914399Z 
2025-04-15T08:19:40.2914494Z PASS test/json-schema-to-zod.test.ts
2025-04-15T08:19:40.2914659Z   jsonSchemaToZod
2025-04-15T08:19:40.2914840Z     ✓ should accept json schema 7 and 4 (3 ms)
2025-04-15T08:19:40.2915023Z     ✓ can exclude defaults
2025-04-15T08:19:40.2915212Z     ✓ should include describes (1 ms)
2025-04-15T08:19:40.2915385Z     ✓ can exclude describes
2025-04-15T08:19:40.2915602Z     ✓ will remove optionality if default is present (1 ms)
2025-04-15T08:19:40.2915974Z     ✓ will handle falsy defaults
2025-04-15T08:19:40.2916162Z     ✓ will ignore undefined as default
2025-04-15T08:19:40.2916388Z     ✓ should be possible to define a custom parser (3 ms)
2025-04-15T08:19:40.2916518Z 
2025-04-15T08:19:40.2916607Z PASS test/parsers/parse-array.test.ts
2025-04-15T08:19:40.2916760Z   parseArray
2025-04-15T08:19:40.2916932Z     ✓ should create tuple with items array (3 ms)
2025-04-15T08:19:40.2917137Z     ✓ should create array with items object
2025-04-15T08:19:40.2917352Z     ✓ should create min for minItems
2025-04-15T08:19:40.2917541Z     ✓ should create max for maxItems (1 ms)
2025-04-15T08:19:40.2917652Z 
2025-04-15T08:19:40.2917735Z PASS test/parsers/parse-one-of.test.ts
2025-04-15T08:19:40.2917881Z   parseOneOf
2025-04-15T08:19:40.2918075Z     ✓ should create a union from two or more schemas (3 ms)
2025-04-15T08:19:40.2918287Z     ✓ should extract a single schema
2025-04-15T08:19:40.2918485Z     ✓ should return z.any() if array is empty
2025-04-15T08:19:40.2918605Z 
2025-04-15T08:19:40.2918686Z PASS test/parsers/parse-enum.test.ts
2025-04-15T08:19:40.2918833Z   parseEnum
2025-04-15T08:19:40.2919047Z     ✓ should create never with empty enum (4 ms)
2025-04-15T08:19:40.2919265Z     ✓ should create literal with single item enum
2025-04-15T08:19:40.2919560Z     ✓ should create enum array with string enums (1 ms)
2025-04-15T08:19:40.2919808Z     ✓ should create union with mixed enums
2025-04-15T08:19:40.2919915Z 
2025-04-15T08:19:40.2920018Z PASS test/parsers/parse-all-of.test.ts
2025-04-15T08:19:40.2920171Z   parseAllOf
2025-04-15T08:19:40.2920336Z     ✓ should create never if empty (4 ms)
2025-04-15T08:19:40.2920535Z     ✓ should handle true values (1 ms)
2025-04-15T08:19:40.2920726Z     ✓ should handle false values (1 ms)
2025-04-15T08:19:40.2920954Z 
2025-04-15T08:19:40.2921051Z PASS test/parsers/parse-any-of.test.ts
2025-04-15T08:19:40.2921199Z   parseAnyOf
2025-04-15T08:19:40.2921390Z     ✓ should create a union from two or more schemas (3 ms)
2025-04-15T08:19:40.2921611Z     ✓ should extract a single schema (1 ms)
2025-04-15T08:19:40.2921808Z     ✓ should return z.any() if array is empty
2025-04-15T08:19:40.2921917Z 
2025-04-15T08:19:40.2921999Z PASS test/parsers/parse-not.test.ts
2025-04-15T08:19:40.2922144Z   parseNot
2025-04-15T08:19:40.2922273Z     ✓ parseNot (3 ms)
2025-04-15T08:19:40.2922354Z 
2025-04-15T08:19:40.2922445Z PASS test/parsers/parse-nullable.test.ts
2025-04-15T08:19:40.2922612Z   parseNullable
2025-04-15T08:19:40.2922814Z     ✓ parseSchema should not add default twice (3 ms)
2025-04-15T08:19:40.2922945Z 
2025-04-15T08:19:40.2923018Z PASS test/utils/half.test.ts
2025-04-15T08:19:40.2923163Z   half
2025-04-15T08:19:40.2923296Z     ✓ half (3 ms)
2025-04-15T08:19:40.2923370Z 
2025-04-15T08:19:40.2923431Z PASS test/utils/omit.test.ts
2025-04-15T08:19:40.2923569Z   omit
2025-04-15T08:19:40.2923695Z     ✓ omit (2 ms)
2025-04-15T08:19:40.2923800Z 
2025-04-15T08:19:40.2923921Z PASS test/parsers/parse-const.test.ts
2025-04-15T08:19:40.2924109Z   parseConst
2025-04-15T08:19:40.2924333Z     ✓ should handle falsy constants (3 ms)
2025-04-15T08:19:40.2924490Z 
2025-04-15T08:19:40.2924574Z Test Suites: 15 passed, 15 total
2025-04-15T08:19:40.2924751Z Tests:       76 passed, 76 total
2025-04-15T08:19:40.2924897Z Snapshots:   0 total
2025-04-15T08:19:40.2925027Z Time:        2.351 s
2025-04-15T08:19:40.2925152Z Ran all test suites.
2025-04-15T08:19:40.2925399Z ##[endgroup]
2025-04-15T08:19:54.2633745Z ##[group]@n8n/n8n-nodes-langchain:test
2025-04-15T08:19:54.2634601Z cache bypass, force executing 4aa76629a01475af
2025-04-15T08:19:54.2634730Z 
2025-04-15T08:19:54.2635029Z > @n8n/n8n-nodes-langchain@1.89.0 test /home/runner/_work/n8n/n8n/packages/@n8n/nodes-langchain
2025-04-15T08:19:54.2635435Z > jest
2025-04-15T08:19:54.2635507Z 
2025-04-15T08:19:54.2635764Z PASS nodes/chains/ChainLLM/test/chainExecutor.test.ts
2025-04-15T08:19:54.2635988Z   chainExecutor
2025-04-15T08:19:54.2636132Z     getOutputParserForLLM
2025-04-15T08:19:54.2636860Z       ✓ should return NaiveJsonOutputParser for OpenAI-like models with json_object response format (3 ms)
2025-04-15T08:19:54.2637693Z       ✓ should return NaiveJsonOutputParser for Ollama models with json format (1 ms)
2025-04-15T08:19:54.2638058Z       ✓ should return StringOutputParser for models without JSON format settings
2025-04-15T08:19:54.2638543Z     NaiveJsonOutputParser
2025-04-15T08:19:54.2638822Z       ✓ should parse valid JSON directly (1 ms)
2025-04-15T08:19:54.2639048Z       ✓ should handle nested JSON objects
2025-04-15T08:19:54.2639346Z       ✓ should use parent class parser for malformed JSON
2025-04-15T08:19:54.2639648Z       ✓ should handle JSON with surrounding text by using parent parser (1 ms)
2025-04-15T08:19:54.2639980Z       ✓ should correctly parse JSON with markdown text inside properties
2025-04-15T08:19:54.2640320Z       ✓ should correctly parse JSON with markdown code blocks containing JSON
2025-04-15T08:19:54.2640643Z       ✓ should handle JSON with special characters in markdown content (1 ms)
2025-04-15T08:19:54.2640960Z     executeChain
2025-04-15T08:19:54.2641228Z       ✓ should execute a simple chain without output parsers (1 ms)
2025-04-15T08:19:54.2641521Z       ✓ should execute a chain with a single output parser (1 ms)
2025-04-15T08:19:54.2641791Z       ✓ should wrap non-array responses in an array (38 ms)
2025-04-15T08:19:54.2642073Z       ✓ should pass the execution cancel signal to the chain (1 ms)
2025-04-15T08:19:54.2642312Z       ✓ should support chat models (9 ms)
2025-04-15T08:19:54.2642725Z       ✓ should use JsonOutputParser for OpenAI models with json_object response format (1 ms)
2025-04-15T08:19:54.2643417Z       ✓ should use JsonOutputParser for Ollama models with json format (1 ms)
2025-04-15T08:19:54.2643853Z 
2025-04-15T08:19:54.2644334Z PASS nodes/chains/ChainLLM/test/ChainLlm.node.test.ts
2025-04-15T08:19:54.2644616Z   ChainLlm Node
2025-04-15T08:19:54.2644816Z     description
2025-04-15T08:19:54.2645090Z       ✓ should have the expected properties (14 ms)
2025-04-15T08:19:54.2645275Z     execute
2025-04-15T08:19:54.2645498Z       ✓ should execute the chain with the correct parameters (2 ms)
2025-04-15T08:19:54.2645756Z       ✓ should handle multiple input items (1 ms)
2025-04-15T08:19:54.2646033Z       ✓ should use the prompt parameter directly for older versions (1 ms)
2025-04-15T08:19:54.2646478Z       ✓ should throw an error if prompt is empty (23 ms)
2025-04-15T08:19:54.2646742Z       ✓ should continue on failure when configured (1 ms)
2025-04-15T08:19:54.2647145Z       ✓ should handle multiple response items from executeChain (1 ms)
2025-04-15T08:19:54.2647569Z       ✓ should unwrap object responses when node version is 1.6 or higher (1 ms)
2025-04-15T08:19:54.2648034Z       ✓ should unwrap object responses when output parser is provided regardless of version
2025-04-15T08:19:54.2648679Z       ✓ should wrap object responses as text when node version is lower than 1.6 and no output parser (1 ms)
2025-04-15T08:19:54.2649111Z       ✓ should handle a mix of different response types with the correct wrapping (2 ms)
2025-04-15T08:19:54.2649465Z       ✓ should handle LLM responses containing JSON with markdown content (1 ms)
2025-04-15T08:19:54.2649631Z 
2025-04-15T08:19:54.2649796Z PASS nodes/agents/Agent/test/ToolsAgent.test.ts
2025-04-15T08:19:54.2650106Z   getOutputParserSchema
2025-04-15T08:19:54.2650527Z     ✓ should return a default schema if getSchema returns undefined (17 ms)
2025-04-15T08:19:54.2650991Z     ✓ should return the custom schema if provided (1 ms)
2025-04-15T08:19:54.2651192Z   extractBinaryMessages
2025-04-15T08:19:54.2651473Z     ✓ should extract a binary message from the input data when no id is provided (1 ms)
2025-04-15T08:19:54.2651833Z     ✓ should extract a binary message using binary stream if id is provided (1 ms)
2025-04-15T08:19:54.2652076Z   fixEmptyContentMessage
2025-04-15T08:19:54.2652314Z     ✓ should replace empty string inputs with empty objects (1 ms)
2025-04-15T08:19:54.2652602Z   handleParsedStepOutput
2025-04-15T08:19:54.2652892Z     ✓ should stringify the output if memory is provided
2025-04-15T08:19:54.2653375Z     ✓ should not stringify the output if memory is not provided
2025-04-15T08:19:54.2653567Z   getChatModel
2025-04-15T08:19:54.2653774Z     ✓ should return the model if it is a valid chat model (1 ms)
2025-04-15T08:19:54.2654150Z     ✓ should throw if the model is not a valid chat model (10 ms)
2025-04-15T08:19:54.2654467Z   getOptionalMemory
2025-04-15T08:19:54.2654706Z     ✓ should return the memory if available (1 ms)
2025-04-15T08:19:54.2654876Z   getTools
2025-04-15T08:19:54.2655134Z     ✓ should retrieve tools without appending if outputParser is not provided (1 ms)
2025-04-15T08:19:54.2655556Z     ✓ should retrieve tools and append the structured output parser tool if outputParser is provided (1 ms)
2025-04-15T08:19:54.2655839Z   prepareMessages
2025-04-15T08:19:54.2656199Z     ✓ should include a binary message if binary data is present and passthroughBinaryImages is true
2025-04-15T08:19:54.2656591Z     ✓ should not include a binary message if no binary data is present (1 ms)
2025-04-15T08:19:54.2656964Z     ✓ should not include system_message in prompt templates if not provided after version 1.9
2025-04-15T08:19:54.2657356Z     ✓ should include system_message in prompt templates if provided after version 1.9 (1 ms)
2025-04-15T08:19:54.2657814Z     ✓ should include system_message in prompt templates if not provided before version 1.9 (1 ms)
2025-04-15T08:19:54.2658280Z     ✓ should include system_message with formatting_instructions in prompt templates if provided before version 1.9
2025-04-15T08:19:54.2658727Z     ✓ should add formatting instructions when omitting system message after version 1.9 (6 ms)
2025-04-15T08:19:54.2658976Z   preparePrompt
2025-04-15T08:19:54.2659341Z     ✓ should return a ChatPromptTemplate instance
2025-04-15T08:19:54.2659471Z 
2025-04-15T08:19:54.2659706Z PASS nodes/output_parser/OutputParserStructured/test/OutputParserStructured.node.test.ts
2025-04-15T08:19:54.2659985Z   OutputParserStructured
2025-04-15T08:19:54.2660138Z     supplyData
2025-04-15T08:19:54.2660268Z       Version 1.1 and below
2025-04-15T08:19:54.2660478Z         ✓ should parse a complex nested schema (7 ms)
2025-04-15T08:19:54.2660747Z         ✓ should handle optional fields correctly (1 ms)
2025-04-15T08:19:54.2661066Z         ✓ should handle arrays of objects (1 ms)
2025-04-15T08:19:54.2661286Z         ✓ should handle empty objects (1 ms)
2025-04-15T08:19:54.2661558Z         ✓ should throw error for null values in non-nullable fields (13 ms)
2025-04-15T08:19:54.2661766Z       Version 1.2 and above
2025-04-15T08:19:54.2662046Z         ✓ should parse output using schema generated from complex JSON example (2 ms)
2025-04-15T08:19:54.2662316Z         ✓ should validate enum values (2 ms)
2025-04-15T08:19:54.2662529Z         ✓ should handle recursive structures
2025-04-15T08:19:54.2662764Z         ✓ should handle missing required properties (1 ms)
2025-04-15T08:19:54.2662992Z         ✓ should throw on wrong type (1 ms)
2025-04-15T08:19:54.2663197Z         ✓ should parse array output (1 ms)
2025-04-15T08:19:54.2663320Z 
2025-04-15T08:19:54.2663435Z PASS nodes/vendors/OpenAi/test/OpenAi.node.test.ts
2025-04-15T08:19:54.2663622Z   OpenAi, Assistant resource
2025-04-15T08:19:54.2663970Z     ✓ create => should throw an error if an assistant with the same name already exists (4 ms)
2025-04-15T08:19:54.2664331Z     ✓ create => should call apiRequest with correct parameters (1 ms)
2025-04-15T08:19:54.2664620Z     ✓ create => should throw error if more then 20 files selected
2025-04-15T08:19:54.2664907Z     ✓ delete => should call apiRequest with correct parameters (1 ms)
2025-04-15T08:19:54.2665180Z     ✓ list => should call apiRequest with correct parameters
2025-04-15T08:19:54.2665467Z     ✓ update => should call apiRequest with correct parameters (2 ms)
2025-04-15T08:19:54.2665772Z     ✓ update => should call apiRequest with file_ids as an array for search
2025-04-15T08:19:54.2666102Z     ✓ update => should call apiRequest with file_ids as strings for search (1 ms)
2025-04-15T08:19:54.2666433Z   OpenAi, Audio resource
2025-04-15T08:19:54.2666677Z     ✓ generate => should call apiRequest with correct parameters (1 ms)
2025-04-15T08:19:54.2667009Z     ✓ transcribe => should call apiRequest with correct parameters (1 ms)
2025-04-15T08:19:54.2667328Z     ✓ translate => should call apiRequest with correct parameters (3 ms)
2025-04-15T08:19:54.2667554Z   OpenAi, File resource
2025-04-15T08:19:54.2667795Z     ✓ deleteFile => should call apiRequest with correct parameters (2 ms)
2025-04-15T08:19:54.2668057Z     ✓ list => should return list of files (1 ms)
2025-04-15T08:19:54.2668318Z     ✓ upload => should call apiRequest with correct parameters (1 ms)
2025-04-15T08:19:54.2668521Z   OpenAi, Image resource
2025-04-15T08:19:54.2668798Z     ✓ generate => should call apiRequest with correct parameters, return binary
2025-04-15T08:19:54.2669164Z     ✓ generate => should call apiRequest with correct parameters, return urls (1 ms)
2025-04-15T08:19:54.2669471Z     ✓ analyze => should call apiRequest with correct parameters
2025-04-15T08:19:54.2669665Z   OpenAi, Text resource
2025-04-15T08:19:54.2669898Z     ✓ classify => should call apiRequest with correct parameters (8 ms)
2025-04-15T08:19:54.2670218Z     ✓ message => should call apiRequest with correct parameters, no tool call (2 ms)
2025-04-15T08:19:54.2670383Z 
2025-04-15T08:19:54.2670476Z PASS utils/tests/helpers.test.ts
2025-04-15T08:19:54.2670635Z   escapeSingleCurlyBrackets
2025-04-15T08:19:54.2670863Z     ✓ should return undefined when input is undefined (8 ms)
2025-04-15T08:19:54.2671090Z     ✓ should escape single curly brackets
2025-04-15T08:19:54.2671322Z     ✓ should not escape already double curly brackets (1 ms)
2025-04-15T08:19:54.2671674Z     ✓ should handle mixed single and double curly brackets
2025-04-15T08:19:54.2671889Z     ✓ should handle empty string
2025-04-15T08:19:54.2672085Z     ✓ should handle string with no curly brackets
2025-04-15T08:19:54.2672344Z     ✓ should handle string with only opening curly bracket (1 ms)
2025-04-15T08:19:54.2672630Z     ✓ should handle string with only closing curly bracket (2 ms)
2025-04-15T08:19:54.2672898Z     ✓ should handle string with multiple single curly brackets
2025-04-15T08:19:54.2673263Z     ✓ should handle string with alternating single and double curly brackets (1 ms)
2025-04-15T08:19:54.2673577Z     ✓ should handle string with curly brackets at the start and end
2025-04-15T08:19:54.2673869Z     ✓ should handle string with special characters (1 ms)
2025-04-15T08:19:54.2674110Z     ✓ should handle string with numbers in curly brackets
2025-04-15T08:19:54.2674356Z     ✓ should handle string with whitespace in curly brackets
2025-04-15T08:19:54.2674642Z     ✓ should handle multi-line input with single curly brackets (1 ms)
2025-04-15T08:19:54.2674970Z     ✓ should handle multi-line input with mixed single and double curly brackets
2025-04-15T08:19:54.2675304Z     ✓ should handle multi-line input with curly brackets at line starts and ends
2025-04-15T08:19:54.2675723Z     ✓ should handle multi-line input with nested curly brackets
2025-04-15T08:19:54.2676010Z     ✓ should handle string with triple uneven curly brackets - opening
2025-04-15T08:19:54.2676300Z     ✓ should handle string with triple uneven curly brackets - closing
2025-04-15T08:19:54.2676631Z     ✓ should handle string with triple uneven curly brackets - mixed opening and closing
2025-04-15T08:19:54.2676999Z     ✓ should handle string with triple uneven curly brackets - multiple occurrences (1 ms)
2025-04-15T08:19:54.2677343Z     ✓ should handle multi-line input with triple uneven curly brackets (3 ms)
2025-04-15T08:19:54.2677555Z   getConnectedTools
2025-04-15T08:19:54.2677781Z     ✓ should return empty array when no tools are connected (2 ms)
2025-04-15T08:19:54.2678688Z     ✓ should return tools without modification when enforceUniqueNames is false (2 ms)
2025-04-15T08:19:54.2679329Z     ✓ should throw error when duplicate tool names exist and enforceUniqueNames is true (45 ms)
2025-04-15T08:19:54.2679945Z     ✓ should escape curly brackets in tool descriptions when escapeCurlyBrackets is true
2025-04-15T08:19:54.2680533Z     ✓ should convert N8nTool to dynamic tool when convertStructuredTool is true (1 ms)
2025-04-15T08:19:54.2681189Z     ✓ should not convert N8nTool when convertStructuredTool is false (1 ms)
2025-04-15T08:19:54.2681602Z     ✓ should flatten tools from a toolkit (2 ms)
2025-04-15T08:19:54.2681854Z   unwrapNestedOutput
2025-04-15T08:19:54.2682233Z     ✓ should unwrap doubly nested output (1 ms)
2025-04-15T08:19:54.2682648Z     ✓ should not modify regular output object
2025-04-15T08:19:54.2682951Z     ✓ should not modify object without output property
2025-04-15T08:19:54.2683271Z     ✓ should not modify when output is not an object (1 ms)
2025-04-15T08:19:54.2683592Z     ✓ should not modify when object has multiple properties
2025-04-15T08:19:54.2683980Z     ✓ should not modify when inner output has multiple properties
2025-04-15T08:19:54.2684314Z     ✓ should handle null values properly
2025-04-15T08:19:54.2684554Z     ✓ should handle empty object values properly
2025-04-15T08:19:54.2684683Z 
2025-04-15T08:19:54.2684932Z PASS nodes/vector_store/shared/MemoryManager/test/StoreCleanupService.test.ts
2025-04-15T08:19:54.2685222Z   StoreCleanupService
2025-04-15T08:19:54.2685367Z     TTL-based cleanup
2025-04-15T08:19:54.2685643Z       ✓ should identify inactive stores correctly (4 ms)
2025-04-15T08:19:54.2686006Z       ✓ should never identify stores as inactive when TTL is disabled
2025-04-15T08:19:54.2686292Z       ✓ should clean up inactive stores (2 ms)
2025-04-15T08:19:54.2686504Z       ✓ should not run TTL cleanup when disabled
2025-04-15T08:19:54.2686740Z     Memory-based cleanup
2025-04-15T08:19:54.2687024Z       ✓ should clean up oldest stores to make room for new data
2025-04-15T08:19:54.2687458Z       ✓ should run TTL cleanup before memory cleanup (2 ms)
2025-04-15T08:19:54.2687930Z       ✓ should not perform memory cleanup when limit is disabled (1 ms)
2025-04-15T08:19:54.2688653Z       ✓ should handle empty stores during cleanup
2025-04-15T08:19:54.2689223Z       ✓ should update the cache when stores are removed
2025-04-15T08:19:54.2689525Z 
2025-04-15T08:19:54.2689690Z PASS nodes/tools/ToolWorkflow/v2/ToolWorkflowV2.test.ts
2025-04-15T08:19:54.2690122Z   WorkflowTool::WorkflowToolService
2025-04-15T08:19:54.2690320Z     createTool
2025-04-15T08:19:54.2690705Z       ✓ should create a basic dynamic tool when schema is not used (5 ms)
2025-04-15T08:19:54.2691025Z       ✓ should create a tool that can handle successful execution (2 ms)
2025-04-15T08:19:54.2691302Z       ✓ should handle errors during tool execution (2 ms)
2025-04-15T08:19:54.2691486Z     handleToolResponse
2025-04-15T08:19:54.2691666Z       ✓ should handle number response
2025-04-15T08:19:54.2691871Z       ✓ should handle object response
2025-04-15T08:19:54.2692071Z       ✓ should handle string response (1 ms)
2025-04-15T08:19:54.2692311Z       ✓ should throw error for invalid response type (16 ms)
2025-04-15T08:19:54.2692494Z     executeSubWorkflow
2025-04-15T08:19:54.2692922Z       ✓ should successfully execute workflow and return response (1 ms)
2025-04-15T08:19:54.2693244Z       ✓ should successfully execute workflow and return first item of many (10 ms)
2025-04-15T08:19:54.2693562Z       ✓ should successfully execute workflow and return all items (1 ms)
2025-04-15T08:19:54.2693919Z       ✓ should throw error when workflow execution fails (1 ms)
2025-04-15T08:19:54.2694199Z       ✓ should throw error when workflow returns no response (1 ms)
2025-04-15T08:19:54.2694392Z     getSubWorkflowInfo
2025-04-15T08:19:54.2694572Z       ✓ should handle database source correctly
2025-04-15T08:19:54.2694802Z       ✓ should handle parameter source correctly (4 ms)
2025-04-15T08:19:54.2695075Z       ✓ should throw error for invalid JSON in parameter source (2 ms)
2025-04-15T08:19:54.2695223Z 
2025-04-15T08:19:54.2695387Z PASS nodes/tools/ToolHttpRequest/test/ToolHttpRequest.node.test.ts
2025-04-15T08:19:54.2695605Z   ToolHttpRequest
2025-04-15T08:19:54.2695741Z     Binary response
2025-04-15T08:19:54.2695975Z       ✓ should return the error when receiving a binary response (11 ms)
2025-04-15T08:19:54.2696296Z       ✓ should return the response text when receiving a text response (1 ms)
2025-04-15T08:19:54.2696642Z       ✓ should return the response text when receiving a text response with a charset (1 ms)
2025-04-15T08:19:54.2696978Z       ✓ should return the response object when receiving a JSON response
2025-04-15T08:19:54.2697286Z       ✓ should handle authentication with predefined credentials (2 ms)
2025-04-15T08:19:54.2697581Z       ✓ should handle authentication with generic credentials (1 ms)
2025-04-15T08:19:54.2697945Z       ✓ should return the error when receiving text that contains a null character
2025-04-15T08:19:54.2698327Z       ✓ should return the error when receiving a JSON response containing a null character (1 ms)
2025-04-15T08:19:54.2698574Z     Optimize response
2025-04-15T08:19:54.2698782Z       ✓ should extract body from the response HTML (6 ms)
2025-04-15T08:19:54.2698919Z 
2025-04-15T08:19:54.2699049Z PASS nodes/mcp/McpClientTool/McpClientTool.node.test.ts
2025-04-15T08:19:54.2699256Z   McpClientTool
2025-04-15T08:19:54.2699386Z     loadOptions: getTools
2025-04-15T08:19:54.2699586Z       ✓ should return a list of tools (10 ms)
2025-04-15T08:19:54.2699789Z       ✓ should handle errors (1 ms)
2025-04-15T08:19:54.2699944Z     supplyData
2025-04-15T08:19:54.2700204Z       ✓ should return a valid toolkit with usable tools (that returns a string) (6 ms)
2025-04-15T08:19:54.2700508Z       ✓ should support selecting tools to expose (2 ms)
2025-04-15T08:19:54.2700752Z       ✓ should support selecting tools to exclude (1 ms)
2025-04-15T08:19:54.2700976Z       ✓ should support header auth (3 ms)
2025-04-15T08:19:54.2701312Z       ✓ should support bearer auth (1 ms)
2025-04-15T08:19:54.2701420Z 
2025-04-15T08:19:54.2701629Z PASS nodes/vector_store/shared/MemoryManager/test/MemoryVectorStoreManager.test.ts
2025-04-15T08:19:54.2701886Z   MemoryVectorStoreManager
2025-04-15T08:19:54.2702139Z     ✓ should create an instance of MemoryVectorStoreManager (7 ms)
2025-04-15T08:19:54.2702389Z     ✓ should return existing instance
2025-04-15T08:19:54.2702627Z     ✓ should update embeddings in existing instance (1 ms)
2025-04-15T08:19:54.2702922Z     ✓ should update embeddings in existing vector store instances (1 ms)
2025-04-15T08:19:54.2703183Z     ✓ should set up the TTL cleanup interval
2025-04-15T08:19:54.2703454Z     ✓ should not set up the TTL cleanup interval when TTL is disabled (1 ms)
2025-04-15T08:19:54.2703746Z     ✓ should track memory usage when adding documents (1 ms)
2025-04-15T08:19:54.2704064Z     ✓ should clear store metadata when clearing store (1 ms)
2025-04-15T08:19:54.2704394Z     ✓ should request cleanup when adding documents that would exceed memory limit (1 ms)
2025-04-15T08:19:54.2704705Z     ✓ should recalculate memory usage periodically (1 ms)
2025-04-15T08:19:54.2704970Z     ✓ should provide accurate stats about vector stores (2 ms)
2025-04-15T08:19:54.2705204Z 
2025-04-15T08:19:54.2705457Z PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/insertOperation.test.ts
2025-04-15T08:19:54.2705844Z   handleInsertOperation
2025-04-15T08:19:54.2706135Z     ✓ should process all input items and populate vector store (5 ms)
2025-04-15T08:19:54.2706439Z     ✓ should stop processing if execution is cancelled (1 ms)
2025-04-15T08:19:54.2706709Z     ✓ should handle different document input types (1 ms)
2025-04-15T08:19:54.2707123Z     ✓ should pass the correct documents to populateVectorStore (1 ms)
2025-04-15T08:19:54.2707473Z     ✓ should batch documents when node version is 1.1 and above (1 ms)
2025-04-15T08:19:54.2707864Z     ✓ should run populateVectorStore for each item when node version is 1 (6 ms)
2025-04-15T08:19:54.2708194Z     ✓ should use default batch size of 200 when not specified (1 ms)
2025-04-15T08:19:54.2708346Z 
2025-04-15T08:19:54.2708471Z PASS nodes/chains/ChainLLM/test/imageUtils.test.ts
2025-04-15T08:19:54.2708662Z   imageUtils
2025-04-15T08:19:54.2708802Z     dataUriFromImageData
2025-04-15T08:19:54.2709008Z       ✓ should convert image data to data URI (3 ms)
2025-04-15T08:19:54.2709285Z       ✓ should throw UnsupportedMimeTypeError for non-images (7 ms)
2025-04-15T08:19:54.2709494Z     createImageMessage
2025-04-15T08:19:54.2709713Z       ✓ should throw an error for invalid message type (2 ms)
2025-04-15T08:19:54.2709963Z       ✓ should handle image URL messages (1 ms)
2025-04-15T08:19:54.2710201Z       ✓ should handle image URL messages with auto detail
2025-04-15T08:19:54.2710464Z       ✓ should throw an error when binary data is missing (1 ms)
2025-04-15T08:19:54.2710725Z       ✓ should handle binary image data for regular models
2025-04-15T08:19:54.2711033Z       ✓ should handle image data differently for GoogleGenerativeAI models (1 ms)
2025-04-15T08:19:54.2711334Z       ✓ should handle image data differently for Ollama models
2025-04-15T08:19:54.2711610Z       ✓ should pass through UnsupportedMimeTypeError (1 ms)
2025-04-15T08:19:54.2711759Z 
2025-04-15T08:19:54.2711934Z PASS nodes/vector_store/shared/MemoryManager/test/MemoryCalculator.test.ts
2025-04-15T08:19:54.2712174Z   MemoryCalculator
2025-04-15T08:19:54.2712300Z     estimateBatchSize
2025-04-15T08:19:54.2712507Z       ✓ should return 0 for empty document arrays (3 ms)
2025-04-15T08:19:54.2712747Z       ✓ should calculate size for simple documents
2025-04-15T08:19:54.2713023Z       ✓ should account for content length in size calculation (1 ms)
2025-04-15T08:19:54.2713317Z       ✓ should account for metadata complexity in size calculation
2025-04-15T08:19:54.2713566Z       ✓ should scale with the number of documents
2025-04-15T08:19:54.2713740Z     calculateVectorStoreSize
2025-04-15T08:19:54.2714166Z       ✓ should return 0 for empty vector stores
2025-04-15T08:19:54.2714432Z       ✓ should calculate size for vector stores with content (1 ms)
2025-04-15T08:19:54.2714720Z       ✓ should account for vector count in size calculation (1 ms)
2025-04-15T08:19:54.2715002Z       ✓ should handle vectors with no content or metadata (1 ms)
2025-04-15T08:19:54.2715254Z       ✓ should handle null or undefined vector arrays
2025-04-15T08:19:54.2715376Z 
2025-04-15T08:19:54.2715649Z PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/retrieveAsToolOperation.test.ts
2025-04-15T08:19:54.2715989Z   handleRetrieveAsToolOperation
2025-04-15T08:19:54.2716299Z     ✓ should create a dynamic tool with the correct name and description (6 ms)
2025-04-15T08:19:54.2716612Z     ✓ should create a tool that can search the vector store (2 ms)
2025-04-15T08:19:54.2716945Z     ✓ should include metadata in results when includeDocumentMetadata is true (1 ms)
2025-04-15T08:19:54.2717324Z     ✓ should exclude metadata in results when includeDocumentMetadata is false (1 ms)
2025-04-15T08:19:54.2717618Z     ✓ should limit results based on topK parameter
2025-04-15T08:19:54.2717891Z     ✓ should release vector store client even if search fails (7 ms)
2025-04-15T08:19:54.2718137Z 
2025-04-15T08:19:54.2718256Z PASS nodes/chains/ChainLLM/test/promptUtils.test.ts
2025-04-15T08:19:54.2718433Z   promptUtils
2025-04-15T08:19:54.2718566Z     createPromptTemplate
2025-04-15T08:19:54.2718805Z       ✓ should create a simple prompt template for non-chat models (4 ms)
2025-04-15T08:19:54.2719106Z       ✓ should create a prompt template with format instructions (1 ms)
2025-04-15T08:19:54.2719394Z       ✓ should create a chat prompt template for chat models (1 ms)
2025-04-15T08:19:54.2719650Z       ✓ should process text messages correctly (3 ms)
2025-04-15T08:19:54.2720154Z       ✓ should escape curly braces in messages
2025-04-15T08:19:54.2720466Z       ✓ should handle image messages by calling createImageMessage (2 ms)
2025-04-15T08:19:54.2720779Z       ✓ should throw an error for invalid message types (10 ms)
2025-04-15T08:19:54.2721107Z       ✓ should add the query to an existing human message with content if it exists (1 ms)
2025-04-15T08:19:54.2721286Z 
2025-04-15T08:19:54.2721472Z PASS nodes/chains/ChainRetrievalQA/test/ChainRetrievalQa.node.test.ts
2025-04-15T08:19:54.2721711Z   ChainRetrievalQa
2025-04-15T08:19:54.2721949Z     ✓ should process a query using a chat model (version 1.3) (15 ms)
2025-04-15T08:19:54.2722240Z     ✓ should process a query using a chat model (version 1.4) (2 ms)
2025-04-15T08:19:54.2722523Z     ✓ should process a query using a chat model (version 1.5) (2 ms)
2025-04-15T08:19:54.2722838Z     ✓ should process a query using a text completion model (version 1.3) (2 ms)
2025-04-15T08:19:54.2723163Z     ✓ should process a query using a text completion model (version 1.4) (2 ms)
2025-04-15T08:19:54.2723470Z     ✓ should process a query using a text completion model (version 1.5) (3 ms)
2025-04-15T08:19:54.2723778Z     ✓ should use a custom system prompt if provided (version 1.3) (2 ms)
2025-04-15T08:19:54.2724162Z     ✓ should use a custom system prompt if provided (version 1.4) (2 ms)
2025-04-15T08:19:54.2724474Z     ✓ should use a custom system prompt if provided (version 1.5) (1 ms)
2025-04-15T08:19:54.2724796Z     ✓ should throw an error if the query is undefined (version 1.3) (17 ms)
2025-04-15T08:19:54.2725099Z     ✓ should throw an error if the query is undefined (version 1.4) (1 ms)
2025-04-15T08:19:54.2725383Z     ✓ should throw an error if the query is undefined (version 1.5)
2025-04-15T08:19:54.2725683Z     ✓ should add error to json if continueOnFail is true (version 1.3) (3 ms)
2025-04-15T08:19:54.2725980Z     ✓ should add error to json if continueOnFail is true (version 1.4) (1 ms)
2025-04-15T08:19:54.2726274Z     ✓ should add error to json if continueOnFail is true (version 1.5) (1 ms)
2025-04-15T08:19:54.2726426Z 
2025-04-15T08:19:54.2726813Z PASS nodes/output_parser/OutputParserAutofixing/test/OutputParserAutofixing.node.test.ts
2025-04-15T08:19:54.2727087Z   OutputParserAutofixing
2025-04-15T08:19:54.2727230Z     Configuration
2025-04-15T08:19:54.2727506Z       ✓ should throw error when prompt template does not contain {error} placeholder (12 ms)
2025-04-15T08:19:54.2727832Z       ✓ should throw error when prompt template is empty (1 ms)
2025-04-15T08:19:54.2728248Z       ✓ should use default prompt when none specified (1 ms)
2025-04-15T08:19:54.2728433Z     Parsing
2025-04-15T08:19:54.2728674Z       ✓ should successfully parse valid output without needing to fix it (1 ms)
2025-04-15T08:19:54.2728985Z       ✓ should not retry on non-OutputParserException errors (8 ms)
2025-04-15T08:19:54.2729268Z       ✓ should retry on OutputParserException and succeed (2 ms)
2025-04-15T08:19:54.2729512Z       ✓ should handle failed retry attempt (1 ms)
2025-04-15T08:19:54.2729866Z       ✓ should throw non-OutputParserException errors immediately without retry (1 ms)
2025-04-15T08:19:54.2730136Z 
2025-04-15T08:19:54.2730325Z PASS nodes/vector_store/shared/createVectorStoreNode/__tests__/utils.test.ts
2025-04-15T08:19:54.2730569Z   Vector Store Utilities
2025-04-15T08:19:54.2730738Z     transformDescriptionForOperationMode
2025-04-15T08:19:54.2730981Z       ✓ should add displayOptions for a single mode (4 ms)
2025-04-15T08:19:54.2731429Z       ✓ should add displayOptions for multiple modes (1 ms)
2025-04-15T08:19:54.2731674Z       ✓ should preserve other properties of the fields
2025-04-15T08:19:54.2731850Z     isUpdateSupported
2025-04-15T08:19:54.2732054Z       ✓ should return true when update is in operationModes
2025-04-15T08:19:54.2732334Z       ✓ should return false when update is not in operationModes (1 ms)
2025-04-15T08:19:54.2732612Z       ✓ should return false when operationModes is undefined
2025-04-15T08:19:54.2732799Z     getOperationModeOptions
2025-04-15T08:19:54.2733010Z       ✓ should return options for specified operation modes
2025-04-15T08:19:54.2733297Z       ✓ should return default operation modes when not specified (1 ms)
2025-04-15T08:19:54.2733637Z       ✓ should include output connection type properties from OPERATION_MODE_DESCRIPTIONS
2025-04-15T08:19:54.2733886Z 
2025-04-15T08:19:54.2734161Z PASS nodes/chains/InformationExtractor/test/InformationExtraction.node.test.ts
2025-04-15T08:19:54.2734428Z   InformationExtractor
2025-04-15T08:19:54.2734592Z     From Attribute Descriptions
2025-04-15T08:19:54.2734886Z       ✓ should generate a schema from attribute descriptions with optional fields (5 ms)
2025-04-15T08:19:54.2735235Z       ✓ should make a request to LLM and return the extracted attributes (5 ms)
2025-04-15T08:19:54.2735542Z       ✓ should not fail if LLM could not extract some attribute (1 ms)
2025-04-15T08:19:54.2735839Z       ✓ should fail if LLM could not extract some required attribute (2 ms)
2025-04-15T08:19:54.2736144Z       ✓ should fail if LLM extracted an attribute with the wrong type (2 ms)
2025-04-15T08:19:54.2736438Z       ✓ retries if LLM fails to extract some required attribute (2 ms)
2025-04-15T08:19:54.2736738Z       ✓ retries if LLM extracted an attribute with a wrong type (1 ms)
2025-04-15T08:19:54.2736876Z 
2025-04-15T08:19:54.2737110Z PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/loadOperation.test.ts
2025-04-15T08:19:54.2737389Z   handleLoadOperation
2025-04-15T08:19:54.2737647Z     ✓ should retrieve documents from vector store with similarity search (5 ms)
2025-04-15T08:19:54.2738055Z     ✓ should include document metadata when includeDocumentMetadata is true (1 ms)
2025-04-15T08:19:54.2738414Z     ✓ should exclude document metadata when includeDocumentMetadata is false (1 ms)
2025-04-15T08:19:54.2738709Z     ✓ should use the topK parameter to limit results
2025-04-15T08:19:54.2738977Z     ✓ should properly set pairedItem property in results (10 ms)
2025-04-15T08:19:54.2739269Z     ✓ should log AI event with query after search is complete (1 ms)
2025-04-15T08:19:54.2739564Z     ✓ should release vector store client even if an error occurs (9 ms)
2025-04-15T08:19:54.2739978Z 
2025-04-15T08:19:54.2740227Z PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/updateOperation.test.ts
2025-04-15T08:19:54.2740517Z   handleUpdateOperation
2025-04-15T08:19:54.2740769Z     ✓ should throw error if update is not supported (15 ms)
2025-04-15T08:19:54.2741060Z     ✓ should update documents with their IDs (3 ms)
2025-04-15T08:19:54.2741332Z     ✓ should release vector store client even if update fails (1 ms)
2025-04-15T08:19:54.2741618Z     ✓ should use proper document ID from node parameters (1 ms)
2025-04-15T08:19:54.2741787Z 
2025-04-15T08:19:54.2741982Z PASS nodes/vector_store/shared/createVectorStoreNode/createVectorStoreNode.test.ts
2025-04-15T08:19:54.2742225Z   createVectorStoreNode
2025-04-15T08:19:54.2742359Z     retrieve mode
2025-04-15T08:19:54.2742541Z       ✓ supplies vector store as data (7 ms)
2025-04-15T08:19:54.2742725Z     retrieve-as-tool mode
2025-04-15T08:19:54.2743100Z       ✓ supplies DynamicTool that queries vector store and returns documents with metadata (2 ms)
2025-04-15T08:19:54.2743604Z       ✓ supplies DynamicTool that queries vector store and returns documents without metadata (1 ms)
2025-04-15T08:19:54.2743877Z 
2025-04-15T08:19:54.2744211Z PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/operationHandlers.test.ts
2025-04-15T08:19:54.2744725Z   Vector Store Operation Handlers
2025-04-15T08:19:54.2744937Z     handleLoadOperation
2025-04-15T08:19:54.2745143Z       ✓ should properly process load operation (6 ms)
2025-04-15T08:19:54.2745423Z       ✓ should exclude metadata when includeDocumentMetadata is false
2025-04-15T08:19:54.2745629Z     handleUpdateOperation
2025-04-15T08:19:54.2745852Z       ✓ should throw error when update is not supported (9 ms)
2025-04-15T08:19:54.2746050Z     handleRetrieveOperation
2025-04-15T08:19:54.2746292Z       ✓ should return vector store with log wrapper and close function
2025-04-15T08:19:54.2746518Z     handleRetrieveAsToolOperation
2025-04-15T08:19:54.2746783Z       ✓ should return a tool with the correct name and description (8 ms)
2025-04-15T08:19:54.2746937Z 
2025-04-15T08:19:54.2747087Z PASS nodes/llms/LMChatOpenAi/methods/__tests__/loadModels.test.ts
2025-04-15T08:19:54.2747291Z   searchModels
2025-04-15T08:19:54.2747549Z     ✓ should return filtered models if custom API endpoint is not provided (17 ms)
2025-04-15T08:19:54.2747857Z     ✓ should initialize OpenAI with correct credentials (2 ms)
2025-04-15T08:19:54.2748164Z     ✓ should use default OpenAI URL if no custom URL provided (1 ms)
2025-04-15T08:19:54.2748461Z     ✓ should include all models for custom API endpoints (1 ms)
2025-04-15T08:19:54.2748819Z     ✓ should filter models based on search term (1 ms)
2025-04-15T08:19:54.2749120Z     ✓ should handle case-insensitive search (1 ms)
2025-04-15T08:19:54.2749370Z     ✓ should return models sorted alphabetically by id (1 ms)
2025-04-15T08:19:54.2749505Z 
2025-04-15T08:19:54.2749721Z PASS nodes/output_parser/OutputParserItemList/test/OutputParserItemList.node.test.ts
2025-04-15T08:19:54.2749985Z   OutputParserItemList
2025-04-15T08:19:54.2750121Z     supplyData
2025-04-15T08:19:54.2750325Z       ✓ should create a parser with default options (4 ms)
2025-04-15T08:19:54.2750588Z       ✓ should create a parser with custom number of items (8 ms)
2025-04-15T08:19:54.2750861Z       ✓ should create a parser with unlimited number of items
2025-04-15T08:19:54.2751102Z       ✓ should create a parser with custom separator
2025-04-15T08:19:54.2751263Z     parse
2025-04-15T08:19:54.2751448Z       ✓ should parse a list with default separator (1 ms)
2025-04-15T08:19:54.2751693Z       ✓ should parse a list with custom separator (1 ms)
2025-04-15T08:19:54.2751922Z       ✓ should limit the number of items returned
2025-04-15T08:19:54.2752211Z       ✓ should throw an error if not enough items are returned (8 ms)
2025-04-15T08:19:54.2752353Z 
2025-04-15T08:19:54.2752476Z PASS nodes/mcp/McpTrigger/__test__/McpServer.test.ts
2025-04-15T08:19:54.2752651Z   McpServer
2025-04-15T08:19:54.2752883Z     connectTransport
2025-04-15T08:19:54.2753099Z       ✓ should set up a transport and server (6 ms)
2025-04-15T08:19:54.2753358Z       ✓ should set up close handler that cleans up resources (1 ms)
2025-04-15T08:19:54.2753551Z     handlePostMessage
2025-04-15T08:19:54.2753845Z       ✓ should call transport.handlePostMessage when transport exists (2 ms)
2025-04-15T08:19:54.2754141Z       ✓ should return 401 when transport does not exist (1 ms)
2025-04-15T08:19:54.2754300Z 
2025-04-15T08:19:54.2754555Z PASS nodes/vector_store/shared/createVectorStoreNode/operations/__tests__/retrieveOperation.test.ts
2025-04-15T08:19:54.2754847Z   handleRetrieveOperation
2025-04-15T08:19:54.2755076Z     ✓ should retrieve vector store with metadata filters (8 ms)
2025-04-15T08:19:54.2755380Z     ✓ should create a closeFunction that releases the vector store client
2025-04-15T08:19:54.2755734Z     ✓ should handle vector store client when no releaseVectorStoreClient is provided (4 ms)
2025-04-15T08:19:54.2755925Z 
2025-04-15T08:19:54.2756092Z PASS nodes/llms/LMChatAnthropic/methods/__tests__/searchModels.test.ts
2025-04-15T08:19:54.2756309Z   searchModels
2025-04-15T08:19:54.2756493Z     ✓ should fetch models from Anthropic API (5 ms)
2025-04-15T08:19:54.2757013Z     ✓ should sort models by created_at date, most recent first (1 ms)
2025-04-15T08:19:54.2757312Z     ✓ should filter models based on search term (1 ms)
2025-04-15T08:19:54.2757553Z     ✓ should handle case-insensitive search (1 ms)
2025-04-15T08:19:54.2757800Z     ✓ should handle when no models match the filter (1 ms)
2025-04-15T08:19:54.2757935Z 
2025-04-15T08:19:54.2758114Z PASS nodes/agents/Agent/agents/SqlAgent/other/handlers/postgres.test.ts
2025-04-15T08:19:54.2758347Z   Postgres SSL settings
2025-04-15T08:19:54.2758569Z     ✓ ssl is disabled + allowUnauthorizedCerts is false (5 ms)
2025-04-15T08:19:54.2758838Z     ✓ ssl is disabled + allowUnauthorizedCerts is true (1 ms)
2025-04-15T08:19:54.2759103Z     ✓ ssl is disabled + allowUnauthorizedCerts is undefined
2025-04-15T08:19:54.2759370Z     ✓ ssl is allow + allowUnauthorizedCerts is false (1 ms)
2025-04-15T08:19:54.2759633Z     ✓ ssl is allow + allowUnauthorizedCerts is true (1 ms)
2025-04-15T08:19:54.2759887Z     ✓ ssl is allow + allowUnauthorizedCerts is undefined
2025-04-15T08:19:54.2760149Z     ✓ ssl is require + allowUnauthorizedCerts is false
2025-04-15T08:19:54.2760414Z     ✓ ssl is require + allowUnauthorizedCerts is true (1 ms)
2025-04-15T08:19:54.2760673Z     ✓ ssl is require + allowUnauthorizedCerts is undefined
2025-04-15T08:19:54.2760799Z 
2025-04-15T08:19:54.2760879Z PASS utils/N8nTool.test.ts
2025-04-15T08:19:54.2761074Z   Test N8nTool wrapper as DynamicStructuredTool
2025-04-15T08:19:54.2761291Z     ✓ should wrap a tool (4 ms)
2025-04-15T08:19:54.2761476Z   Test N8nTool wrapper - DynamicTool fallback
2025-04-15T08:19:54.2761731Z     ✓ should convert the tool to a dynamic tool (1 ms)
2025-04-15T08:19:54.2762001Z     ✓ should format fallback description correctly (1 ms)
2025-04-15T08:19:54.2762316Z     ✓ should handle empty parameter list correctly
2025-04-15T08:19:54.2762549Z     ✓ should parse correct parameters (2 ms)
2025-04-15T08:19:54.2762829Z     ✓ should recover when 1 parameter is passed directly (2 ms)
2025-04-15T08:19:54.2763135Z     ✓ should recover when JS object is passed instead of JSON (2 ms)
2025-04-15T08:19:54.2763288Z 
2025-04-15T08:19:54.2763425Z PASS nodes/chains/ChainLLM/test/responseFormatter.test.ts
2025-04-15T08:19:54.2763642Z   responseFormatter
2025-04-15T08:19:54.2763776Z     formatResponse
2025-04-15T08:19:54.2764000Z       ✓ should format string responses (4 ms)
2025-04-15T08:19:54.2764232Z       ✓ should trim string responses
2025-04-15T08:19:54.2764425Z       ✓ should handle array responses
2025-04-15T08:19:54.2764688Z       ✓ should handle object responses when unwrapping is enabled (1 ms)
2025-04-15T08:19:54.2765024Z       ✓ should stringify object responses when unwrapping is disabled
2025-04-15T08:19:54.2765289Z       ✓ should handle primitive non-string responses
2025-04-15T08:19:54.2765714Z       ✓ should handle complex object structures when unwrapping is enabled
2025-04-15T08:19:54.2766079Z       ✓ should stringify complex object structures when unwrapping is disabled
2025-04-15T08:19:54.2766250Z 
2025-04-15T08:19:54.2766400Z PASS nodes/vector_store/shared/MemoryManager/test/config.test.ts
2025-04-15T08:19:54.2766614Z   Vector Store Config
2025-04-15T08:19:54.2766744Z     getConfig
2025-04-15T08:19:54.2766982Z       ✓ should return default values when no environment variables set (3 ms)
2025-04-15T08:19:54.2767288Z       ✓ should use values from environment variables when set (1 ms)
2025-04-15T08:19:54.2767560Z       ✓ should handle invalid environment variable values
2025-04-15T08:19:54.2767739Z     mbToBytes
2025-04-15T08:19:54.2767899Z       ✓ should convert MB to bytes
2025-04-15T08:19:54.2768221Z       ✓ should handle zero and negative values (1 ms)
2025-04-15T08:19:54.2768393Z     hoursToMs
2025-04-15T08:19:54.2768554Z       ✓ should convert hours to milliseconds
2025-04-15T08:19:54.2768776Z       ✓ should handle zero and negative values (1 ms)
2025-04-15T08:19:54.2768895Z 
2025-04-15T08:19:54.2769022Z PASS nodes/mcp/McpTrigger/__test__/McpTrigger.node.test.ts
2025-04-15T08:19:54.2769210Z   McpTrigger Node
2025-04-15T08:19:54.2769459Z     webhook method
2025-04-15T08:19:54.2769629Z       ✓ should handle setup webhook (4 ms)
2025-04-15T08:19:54.2769906Z       ✓ should handle default webhook for tool execution
2025-04-15T08:19:54.2770284Z       ✓ should handle default webhook when no tool was executed (1 ms)
2025-04-15T08:19:54.2770440Z 
2025-04-15T08:19:54.2770530Z PASS nodes/agents/Agent/test/utils.test.ts
2025-04-15T08:19:54.2770698Z   checkForStructuredTools
2025-04-15T08:19:54.2770947Z     ✓ should not throw error when no DynamicStructuredTools are present (3 ms)
2025-04-15T08:19:54.2788175Z     ✓ should throw NodeOperationError when DynamicStructuredTools are present (7 ms)
2025-04-15T08:19:54.2788514Z     ✓ should list multiple dynamic tools in error message
2025-04-15T08:19:54.2788850Z     ✓ should throw error with mixed tool types and list only dynamic tools in error message
2025-04-15T08:19:54.2789036Z 
2025-04-15T08:19:54.2789160Z PASS nodes/llms/n8nLlmFailedAttemptHandler.test.ts
2025-04-15T08:19:54.2789392Z   makeN8nLlmFailedAttemptHandler
2025-04-15T08:19:54.2789766Z     ✓ should throw a wrapped error, when NO custom handler is provided (8 ms)
2025-04-15T08:19:54.2790174Z     ✓ should wrapped error when custom handler is provided (1 ms)
2025-04-15T08:19:54.2790561Z     ✓ should throw wrapped exception from custom handler (1 ms)
2025-04-15T08:19:54.2790899Z     ✓ should not throw if retries are left
2025-04-15T08:19:54.2791196Z     ✓ should throw NodeApiError if no retries are left (1 ms)
2025-04-15T08:19:54.2791573Z     ✓ should throw NodeApiError if no retries are left with custom handler (1 ms)
2025-04-15T08:19:54.2791777Z 
2025-04-15T08:19:54.2791939Z PASS nodes/llms/n8nDefaultFailedAttemptHandler.test.ts
2025-04-15T08:19:54.2792146Z   n8nDefaultFailedAttemptHandler
2025-04-15T08:19:54.2792397Z     ✓ should throw error if message starts with "Cancel" (6 ms)
2025-04-15T08:19:54.2792711Z     ✓ should throw error if message starts with "AbortError"
2025-04-15T08:19:54.2793058Z     ✓ should throw error if name is "AbortError" (1 ms)
2025-04-15T08:19:54.2793404Z     ✓ should throw error if code is "ECONNABORTED" (4 ms)
2025-04-15T08:19:54.2793752Z     ✓ should throw error if status is in STATUS_NO_RETRY (1 ms)
2025-04-15T08:19:54.2794187Z     ✓ should not throw error if status is not in STATUS_NO_RETRY
2025-04-15T08:19:54.2794688Z     ✓ should not throw error if no conditions are met (1 ms)
2025-04-15T08:19:54.2794882Z 
2025-04-15T08:19:54.2795034Z PASS nodes/vendors/OpenAi/helpers/error-handling.test.ts
2025-04-15T08:19:54.2795277Z   error-handling
2025-04-15T08:19:54.2795458Z     getCustomErrorMessage
2025-04-15T08:19:54.2795738Z       ✓ should return the correct custom error message for known error codes (3 ms)
2025-04-15T08:19:54.2796219Z       ✓ should return undefined for unknown error codes
2025-04-15T08:19:54.2796491Z     isOpenAiError
2025-04-15T08:19:54.2796814Z       ✓ should return true if the error is an instance of OpenAIError
2025-04-15T08:19:54.2797212Z       ✓ should return false if the error is not an instance of OpenAIError
2025-04-15T08:19:54.2797533Z     openAiFailedAttemptHandler
2025-04-15T08:19:54.2797866Z       ✓ should handle RateLimitError and modify the error message
2025-04-15T08:19:54.2798270Z       ✓ should throw the error if it is not a RateLimitError
2025-04-15T08:19:54.2798465Z 
2025-04-15T08:19:54.2798670Z PASS nodes/vendors/OpenAi/transport/test/transport.test.ts
2025-04-15T08:19:54.2798964Z   apiRequest
2025-04-15T08:19:54.2799347Z     ✓ should call requestWithAuthentication with credentials URL if one is provided (4 ms)
2025-04-15T08:19:54.2799874Z     ✓ should call requestWithAuthentication with default URL if credentials URL is not provided (1 ms)
2025-04-15T08:19:54.2800117Z 
2025-04-15T08:19:54.2800346Z PASS nodes/vector_store/VectorStoreZep/VectorStoreZep.node.test.ts
2025-04-15T08:19:54.2800706Z   VectorStoreZep
2025-04-15T08:19:54.2801160Z     ✓ should get vector store cloud client (47 ms)
2025-04-15T08:19:54.2801523Z     ✓ should get vector store self-hosted client (4 ms)
2025-04-15T08:19:54.2801843Z 
2025-04-15T08:19:54.2802032Z PASS nodes/chains/ChainLLM/test/config.test.ts
2025-04-15T08:19:54.2802309Z   config
2025-04-15T08:19:54.2802530Z     getInputs
2025-04-15T08:19:54.2802847Z       ✓ should return basic inputs for all parameters (2 ms)
2025-04-15T08:19:54.2803246Z       ✓ should exclude the OutputParser when hasOutputParser is false (1 ms)
2025-04-15T08:19:54.2803656Z       ✓ should include the OutputParser when hasOutputParser is true
2025-04-15T08:19:54.2804016Z     nodeProperties
2025-04-15T08:19:54.2804300Z       ✓ should have the expected properties (1 ms)
2025-04-15T08:19:54.2804454Z 
2025-04-15T08:19:54.2804693Z PASS nodes/mcp/McpTrigger/__test__/FlushingSSEServerTransport.test.ts
2025-04-15T08:19:54.2805040Z   FlushingSSEServerTransport
2025-04-15T08:19:54.2805362Z     ✓ should call flush after sending a message (4 ms)
2025-04-15T08:19:54.2805558Z 
2025-04-15T08:19:54.2805697Z PASS nodes/vendors/OpenAi/test/utils.test.ts
2025-04-15T08:19:54.2805974Z   OpenAI message history
2025-04-15T08:19:54.2806285Z     ✓ should only get a limited number of messages (4 ms)
2025-04-15T08:19:54.2806481Z 
2025-04-15T08:19:54.2806640Z PASS nodes/tools/ToolThink/test/ToolThink.node.test.ts
2025-04-15T08:19:54.2806922Z   ToolThink
2025-04-15T08:19:54.2807140Z     Tool response
2025-04-15T08:19:54.2807493Z       ✓ should return the same text as response when receiving a text input (5 ms)
2025-04-15T08:19:54.2807734Z 
2025-04-15T08:19:54.2807854Z Test Suites: 44 passed, 44 total
2025-04-15T08:19:54.2808259Z Tests:       362 passed, 362 total
2025-04-15T08:19:54.2808548Z Snapshots:   1 passed, 1 total
2025-04-15T08:19:54.2808842Z Time:        13.409 s
2025-04-15T08:19:54.2809082Z Ran all test suites.
2025-04-15T08:19:54.2809561Z ##[endgroup]
2025-04-15T08:22:18.3367313Z ##[group]n8n-nodes-base:test
2025-04-15T08:22:18.3367724Z cache bypass, force executing 658695025d9a2dd5
2025-04-15T08:22:18.3367885Z 
2025-04-15T08:22:18.3368153Z > n8n-nodes-base@1.88.0 test /home/runner/_work/n8n/n8n/packages/nodes-base
2025-04-15T08:22:18.3368610Z > jest
2025-04-15T08:22:18.3368873Z 
2025-04-15T08:22:18.3369042Z PASS nodes/Form/test/utils.test.ts
2025-04-15T08:22:18.3369320Z   FormTrigger, parseFormDescription
2025-04-15T08:22:18.3369921Z     ✓ should remove HTML tags and truncate to 150 characters (3 ms)
2025-04-15T08:22:18.3370223Z   FormTrigger, sanitizeHtml
2025-04-15T08:22:18.3370539Z     ✓ should remove forbidden HTML tags (1 ms)
2025-04-15T08:22:18.3370823Z   FormTrigger, formWebhook
2025-04-15T08:22:18.3371108Z     ✓ should call response render (3 ms)
2025-04-15T08:22:18.3371426Z     ✓ should sanitize form descriptions (1 ms)
2025-04-15T08:22:18.3371724Z     ✓ should return workflowData on POST request
2025-04-15T08:22:18.3372305Z   FormTrigger, prepareFormData
2025-04-15T08:22:18.3372625Z     ✓ should return valid form data with given parameters
2025-04-15T08:22:18.3372978Z     ✓ should handle missing optional fields gracefully (1 ms)
2025-04-15T08:22:18.3373338Z     ✓ should set redirectUrl with http if protocol is missing
2025-04-15T08:22:18.3373700Z     ✓ should return invalid form data when formFields are empty
2025-04-15T08:22:18.3374181Z     ✓ should correctly handle multiselect fields (7 ms)
2025-04-15T08:22:18.3374539Z     ✓ should correctly handle multiselect fields with unique ids
2025-04-15T08:22:18.3374825Z   prepareFormReturnItem
2025-04-15T08:22:18.3375106Z     ✓ should handle empty form submission (1 ms)
2025-04-15T08:22:18.3375412Z     ✓ should process text fields correctly
2025-04-15T08:22:18.3375720Z     ✓ should process number fields correctly (3 ms)
2025-04-15T08:22:18.3376023Z     ✓ should handle file uploads (1 ms)
2025-04-15T08:22:18.3376321Z     ✓ should handle multiple file uploads (1 ms)
2025-04-15T08:22:18.3376621Z     ✓ should format date fields
2025-04-15T08:22:18.3376898Z     ✓ should handle multiselect fields
2025-04-15T08:22:18.3377215Z     ✓ should use workflow timezone when specified (1 ms)
2025-04-15T08:22:18.3377563Z     ✓ should include workflow static data for form trigger node
2025-04-15T08:22:18.3378097Z     ✓ should return html if field name is set (1 ms)
2025-04-15T08:22:18.3378359Z   resolveRawData
2025-04-15T08:22:18.3378665Z     ✓ should return the input string if it does not start with "="
2025-04-15T08:22:18.3378995Z     ✓ should remove leading "=" characters
2025-04-15T08:22:18.3379303Z     ✓ should resolve a single expression (1 ms)
2025-04-15T08:22:18.3379600Z     ✓ should resolve multiple expressions
2025-04-15T08:22:18.3379889Z     ✓ should handle object resolutions
2025-04-15T08:22:18.3380182Z     ✓ should handle nested object properties
2025-04-15T08:22:18.3380474Z     ✓ should handle boolean values (1 ms)
2025-04-15T08:22:18.3380770Z     ✓ should handle expressions with whitespace
2025-04-15T08:22:18.3381131Z     ✓ should return the original string if no resolvables are found
2025-04-15T08:22:18.3381493Z     ✓ should handle non-existent properties gracefully (1 ms)
2025-04-15T08:22:18.3381855Z     ✓ should handle mixed resolvable and non-resolvable content
2025-04-15T08:22:18.3382194Z     ✓ should handle boolean values correctly (2 ms)
2025-04-15T08:22:18.3382494Z     ✓ should handle arrays correctly
2025-04-15T08:22:18.3382781Z     ✓ should handle nested objects correctly
2025-04-15T08:22:18.3383092Z     ✓ should handle arrays of objects correctly (1 ms)
2025-04-15T08:22:18.3383400Z     ✓ should handle empty arrays correctly
2025-04-15T08:22:18.3383703Z     ✓ should handle a mix of different data types
2025-04-15T08:22:18.3384054Z     ✓ should handle nested array access
2025-04-15T08:22:18.3384365Z     ✓ should handle object-to-string conversion (1 ms)
2025-04-15T08:22:18.3384639Z   FormTrigger, isFormConnected
2025-04-15T08:22:18.3385001Z     ✓ should return false if Wait node is connected but resume parameter is not form
2025-04-15T08:22:18.3385420Z     ✓ should return true if Wait node is connected and resume parameter is form
2025-04-15T08:22:18.3385788Z     ✓ should return true if Form node is connected (1 ms)
2025-04-15T08:22:18.3386128Z   validateResponseModeConfiguration
2025-04-15T08:22:18.3386557Z     ✓ throws error if responseMode is "responseNode" but no Respond to Webhook node is connected (24 ms)
2025-04-15T08:22:18.3387132Z     ✓ throws error if "Respond to Webhook" node is connected but "responseMode" is not "responseNode" in typeVersion <= 2.1 (1 ms)
2025-04-15T08:22:18.3387668Z     ✓ throws error if "Respond to Webhook" node is connected, version >= 2.2
2025-04-15T08:22:18.3388097Z     ✓ does not throw an error mode in not "responseNode" and no "Respond to Webhook" node is connected
2025-04-15T08:22:18.3388430Z     prepareFormFields
2025-04-15T08:22:18.3388713Z       ✓ should resolve expressions in html fields
2025-04-15T08:22:18.3389006Z       ✓ should prepare hiddenField (1 ms)
2025-04-15T08:22:18.3389394Z   addFormResponseDataToReturnItem
2025-04-15T08:22:18.3389731Z     ✓ should use fieldName if fieldLabel is missing
2025-04-15T08:22:18.3390011Z     ✓ should handle null values
2025-04-15T08:22:18.3390284Z     ✓ should process html fields and set elementName
2025-04-15T08:22:18.3390507Z     ✓ should parse number fields correctly
2025-04-15T08:22:18.3390735Z     ✓ should trim text fields
2025-04-15T08:22:18.3390988Z     ✓ should parse multiselect fields from JSON
2025-04-15T08:22:18.3391371Z     ✓ should convert single file values to an array if multipleFiles is true
2025-04-15T08:22:18.3391576Z 
2025-04-15T08:22:18.3391680Z PASS nodes/Postgres/test/v2/operations.test.ts
2025-04-15T08:22:18.3391874Z   Test PostgresV2, deleteTable operation
2025-04-15T08:22:18.3392118Z     ✓ deleteCommand: delete, should call runQueries with (4 ms)
2025-04-15T08:22:18.3392415Z     ✓ deleteCommand: truncate, should call runQueries with
2025-04-15T08:22:18.3392719Z     ✓ deleteCommand: drop, should call runQueries with (1 ms)
2025-04-15T08:22:18.3392956Z   Test PostgresV2, executeQuery operation
2025-04-15T08:22:18.3393237Z     ✓ should call runQueries with (1 ms)
2025-04-15T08:22:18.3393574Z     ✓ should call runQueries and insert enclosed placeholder into values
2025-04-15T08:22:18.3394180Z     ✓ should call runQueries and not insert enclosed placeholder into values because queryReplacement is defined (1 ms)
2025-04-15T08:22:18.3394791Z     ✓ should call runQueries and insert enclosed placeholder into values because treatQueryParametersInSingleQuotesAsText is true
2025-04-15T08:22:18.3395198Z     ✓ should call runQueries with falsy query replacements
2025-04-15T08:22:18.3395432Z     ✓ should allow users to use $$ instead of strings
2025-04-15T08:22:18.3395715Z     ✓ should allow users to use $$ instead of strings while using query parameters
2025-04-15T08:22:18.3396000Z     ✓ should execute queries with null key/value pairs (1 ms)
2025-04-15T08:22:18.3396267Z     ✓ should execute queries with multiple json key/value pairs
2025-04-15T08:22:18.3396535Z     ✓ should execute queries with single json key/value pair
2025-04-15T08:22:18.3396826Z     ✓ should not parse out expressions if there are valid JSON query parameters
2025-04-15T08:22:18.3397192Z     ✓ should parse out expressions if is invalid JSON in query parameters (1 ms)
2025-04-15T08:22:18.3397487Z   Test PostgresV2, insert operation
2025-04-15T08:22:18.3397794Z     ✓ dataMode: define, should call runQueries with (14 ms)
2025-04-15T08:22:18.3398109Z     ✓ dataMode: autoMapInputData, should call runQueries with (1 ms)
2025-04-15T08:22:18.3398458Z     ✓ dataMode: define, should accept an array with values if column is of type json (5 ms)
2025-04-15T08:22:18.3398760Z     ✓ should insert default values if no values are provided
2025-04-15T08:22:18.3398959Z   Test PostgresV2, select operation
2025-04-15T08:22:18.3399248Z     ✓ returnAll, should call runQueries with (1 ms)
2025-04-15T08:22:18.3399557Z     ✓ limit, whereClauses, sortRules, should call runQueries with
2025-04-15T08:22:18.3400053Z   Test PostgresV2, update operation
2025-04-15T08:22:18.3400460Z     ✓ dataMode: define, should call runQueries with (1 ms)
2025-04-15T08:22:18.3400757Z     ✓ dataMode: autoMapInputData, should call runQueries with
2025-04-15T08:22:18.3401055Z   Test PostgresV2, upsert operation
2025-04-15T08:22:18.3401352Z     ✓ dataMode: define, should call runQueries with
2025-04-15T08:22:18.3401663Z     ✓ dataMode: autoMapInputData, should call runQueries with (1 ms)
2025-04-15T08:22:18.3401954Z   When matching on all columns
2025-04-15T08:22:18.3402229Z     ✓ dataMode: define, should call runQueries with
2025-04-15T08:22:18.3402542Z     ✓ dataMode: autoMapInputData, should call runQueries with (1 ms)
2025-04-15T08:22:18.3402750Z 
2025-04-15T08:22:18.3402878Z PASS nodes/Gong/test/Gong.node.test.ts
2025-04-15T08:22:18.3403098Z   Gong Node
2025-04-15T08:22:18.3403250Z     Credentials
2025-04-15T08:22:18.3403515Z       ✓ should use correct credentials (419 ms)
2025-04-15T08:22:18.3403775Z     Call description
2025-04-15T08:22:18.3404114Z       ✓ should get call with no options true (17 ms)
2025-04-15T08:22:18.3404435Z       ✓ should get call with all options true (30 ms)
2025-04-15T08:22:18.3404747Z       ✓ should get all calls with filters (27 ms)
2025-04-15T08:22:18.3405100Z       ✓ should get limit 50 calls with no options and filters (19 ms)
2025-04-15T08:22:18.3405467Z       ✓ should return empty result if no calls found for user (9 ms)
2025-04-15T08:22:18.3405800Z       ✓ should handle error response (34 ms)
2025-04-15T08:22:18.3406048Z     User description
2025-04-15T08:22:18.3406295Z       ✓ should get user (7 ms)
2025-04-15T08:22:18.3406559Z       ✓ should get all users (11 ms)
2025-04-15T08:22:18.3406847Z       ✓ should handle error response (13 ms)
2025-04-15T08:22:18.3406954Z 
2025-04-15T08:22:18.3407109Z PASS nodes/Microsoft/Entra/test/UserDescription.test.ts
2025-04-15T08:22:18.3407430Z   Microsoft Entra Node
2025-04-15T08:22:18.3407651Z     User description
2025-04-15T08:22:18.3407916Z       ✓ should add user to group (458 ms)
2025-04-15T08:22:18.3408490Z       ✓ should create user (21 ms)
2025-04-15T08:22:18.3408761Z       ✓ should delete user (9 ms)
2025-04-15T08:22:18.3409023Z       ✓ should get user (6 ms)
2025-04-15T08:22:18.3409436Z       ✓ should get user with options (7 ms)
2025-04-15T08:22:18.3409741Z       ✓ should get all users with simple output (22 ms)
2025-04-15T08:22:18.3410292Z       ✓ should get limit 10 users with raw output (10 ms)
2025-04-15T08:22:18.3410656Z       ✓ should get all users with options and filter (20 ms)
2025-04-15T08:22:18.3410983Z       ✓ should remove user from group (8 ms)
2025-04-15T08:22:18.3411275Z       ✓ should update user (13 ms)
2025-04-15T08:22:18.3411440Z 
2025-04-15T08:22:18.3411609Z PASS nodes/Microsoft/Entra/test/GroupDescription.test.ts
2025-04-15T08:22:18.3411905Z   Microsoft Entra Node
2025-04-15T08:22:18.3412133Z     Group description
2025-04-15T08:22:18.3412395Z       ✓ should create group (498 ms)
2025-04-15T08:22:18.3412688Z       ✓ should delete group (18 ms)
2025-04-15T08:22:18.3412962Z       ✓ should get group (7 ms)
2025-04-15T08:22:18.3413273Z       ✓ should get group with fields output and members (9 ms)
2025-04-15T08:22:18.3413610Z       ✓ should get all groups with simple output (33 ms)
2025-04-15T08:22:18.3413945Z       ✓ should get limit 10 groups with raw output (10 ms)
2025-04-15T08:22:18.3414330Z       ✓ should get all groups with options and filter (105 ms)
2025-04-15T08:22:18.3414630Z       ✓ should update group (81 ms)
2025-04-15T08:22:18.3414791Z 
2025-04-15T08:22:18.3414914Z PASS utils/sendAndWait/test/util.test.ts
2025-04-15T08:22:18.3415215Z   Send and Wait utils tests
2025-04-15T08:22:18.3415425Z     getSendAndWaitProperties
2025-04-15T08:22:18.3415758Z       ✓ should return properties with correct display options (3 ms)
2025-04-15T08:22:18.3416048Z     getSendAndWaitConfig
2025-04-15T08:22:18.3416260Z       ✓ should return correct config for single approval (1 ms)
2025-04-15T08:22:18.3416671Z       ✓ should return correct config for double approval
2025-04-15T08:22:18.3416839Z     createEmail
2025-04-15T08:22:18.3417053Z       ✓ should create a valid email object (1 ms)
2025-04-15T08:22:18.3417402Z       ✓ should throw NodeOperationError for invalid email address (21 ms)
2025-04-15T08:22:18.3417649Z     sendAndWaitWebhook
2025-04-15T08:22:18.3417823Z       ✓ should handle approved webhook
2025-04-15T08:22:18.3418028Z       ✓ should handle disapproved webhook (1 ms)
2025-04-15T08:22:18.3418244Z       ✓ should handle freeText GET webhook (1 ms)
2025-04-15T08:22:18.3418457Z       ✓ should handle freeText POST webhook
2025-04-15T08:22:18.3418673Z       ✓ should handle customForm GET webhook (1 ms)
2025-04-15T08:22:18.3418898Z       ✓ should handle customForm POST webhook (9 ms)
2025-04-15T08:22:18.3419206Z       ✓ should return noWebhookResponse if method GET and user-agent is bot (1 ms)
2025-04-15T08:22:18.3419426Z   configureWaitTillDate
2025-04-15T08:22:18.3419649Z     ✓ should return WAIT_INDEFINITELY if limitWaitTime is empty
2025-04-15T08:22:18.3419985Z     ✓ should calculate future date correctly for afterTimeInterval with minutes (1 ms)
2025-04-15T08:22:18.3420330Z     ✓ should calculate future date correctly for afterTimeInterval with hours
2025-04-15T08:22:18.3420662Z     ✓ should calculate future date correctly for afterTimeInterval with days
2025-04-15T08:22:18.3420986Z     ✓ should return the specified maxDateAndTime for maxDateAndTime limitType
2025-04-15T08:22:18.3421313Z     ✓ should throw NodeOperationError for invalid maxDateAndTime format (2 ms)
2025-04-15T08:22:18.3421658Z     ✓ should throw NodeOperationError for invalid resumeAmount or resumeUnit (8 ms)
2025-04-15T08:22:18.3421991Z     ✓ should return WAIT_INDEFINITELY when limitWaitTime is false (1 ms)
2025-04-15T08:22:18.3422259Z     ✓ should calculate minutes correctly in root location
2025-04-15T08:22:18.3422521Z     ✓ should calculate hours correctly in root location
2025-04-15T08:22:18.3422790Z     ✓ should calculate days correctly in root location
2025-04-15T08:22:18.3423077Z     ✓ should handle maxDateAndTime in root location (1 ms)
2025-04-15T08:22:18.3423351Z     ✓ should throw error for invalid date in root location
2025-04-15T08:22:18.3423607Z     ✓ should throw error for invalid resumeAmount in root location
2025-04-15T08:22:18.3423867Z 
2025-04-15T08:22:18.3424026Z PASS nodes/Google/Sheet/test/v2/utils/utils.test.ts
2025-04-15T08:22:18.3424549Z   Test Google Sheets, addRowNumber
2025-04-15T08:22:18.3424906Z     ✓ should add row nomber (3 ms)
2025-04-15T08:22:18.3425114Z   Test Google Sheets, trimToFirstEmptyRow
2025-04-15T08:22:18.3425492Z     ✓ should trimToFirstEmptyRow without row numbers (1 ms)
2025-04-15T08:22:18.3425895Z     ✓ should trimToFirstEmptyRow with row numbers
2025-04-15T08:22:18.3426180Z   Test Google Sheets, removeEmptyRows
2025-04-15T08:22:18.3426517Z     ✓ should removeEmptyRows without row numbers (1 ms)
2025-04-15T08:22:18.3426953Z     ✓ should removeEmptyRows with row numbers
2025-04-15T08:22:18.3427311Z   Test Google Sheets, trimLeadingEmptyRows
2025-04-15T08:22:18.3427712Z     ✓ should trimLeadingEmptyRows without row numbers (1 ms)
2025-04-15T08:22:18.3428244Z     ✓ should trimLeadingEmptyRows with row numbers
2025-04-15T08:22:18.3428655Z   Test Google Sheets, removeEmptyColumns
2025-04-15T08:22:18.3429135Z     ✓ should removeEmptyColumns without row numbers (1 ms)
2025-04-15T08:22:18.3429557Z   Test Google Sheets, prepareSheetData
2025-04-15T08:22:18.3429857Z     ✓ should prepareSheetData without row numbers
2025-04-15T08:22:18.3430038Z   Test Google Sheets, autoMapInputData
2025-04-15T08:22:18.3430226Z     ✓ should autoMapInputData (3 ms)
2025-04-15T08:22:18.3430388Z   Test Google Sheets, lookupValues
2025-04-15T08:22:18.3430608Z     ✓ should return rows by combining filters by OR (1 ms)
2025-04-15T08:22:18.3430846Z     ✓ should return rows by combining filters by AND
2025-04-15T08:22:18.3431042Z   Test Google Sheets, checkForSchemaChanges
2025-04-15T08:22:18.3431242Z     ✓ should not to throw error (1 ms)
2025-04-15T08:22:18.3431618Z     ✓ should throw error when columns were renamed (19 ms)
2025-04-15T08:22:18.3431902Z     ✓ should filter out empty columns  without throwing an error
2025-04-15T08:22:18.3432194Z   Test Google Sheets, getSpreadsheetId
2025-04-15T08:22:18.3432400Z     ✓ should throw an error if value is empty
2025-04-15T08:22:18.3432614Z     ✓ should return the ID from a valid URL (1 ms)
2025-04-15T08:22:18.3432834Z     ✓ should return an empty string for an invalid URL
2025-04-15T08:22:18.3433099Z     ✓ should return the value for documentIdType byId or byList (1 ms)
2025-04-15T08:22:18.3433328Z   Test Google Sheets, Google Sheets Sheet URL Regex
2025-04-15T08:22:18.3433621Z     ✓ should match a valid Google Sheets URL (1 ms)
2025-04-15T08:22:18.3433937Z     ✓ should not match an invalid Google Sheets URL
2025-04-15T08:22:18.3434386Z     ✓ should not match a URL that does not match the pattern
2025-04-15T08:22:18.3434673Z     ✓ should extract the gid from a valid Google Sheets URL (8 ms)
2025-04-15T08:22:18.3435008Z   Test Google Sheets, getColumnNumber
2025-04-15T08:22:18.3435376Z     ✓ should return the correct number for single-letter columns
2025-04-15T08:22:18.3435667Z     ✓ should return the correct number for multi-letter columns
2025-04-15T08:22:18.3435867Z   Test Google Sheets, hexToRgb
2025-04-15T08:22:18.3436075Z     ✓ should correctly convert a full hex code to RGB (1 ms)
2025-04-15T08:22:18.3436411Z     ✓ should correctly convert a shorthand hex code to RGB
2025-04-15T08:22:18.3436737Z     ✓ should return null for invalid hex codes
2025-04-15T08:22:18.3436918Z   Test Google Sheets, getRangeString
2025-04-15T08:22:18.3437216Z     ✓ should return the range in A1 notation when "specifyRangeA1" is set
2025-04-15T08:22:18.3437506Z     ✓ should return only the sheet name if no range is specified
2025-04-15T08:22:18.3437846Z     ✓ should return only the sheet name if rangeDefinition is not "specifyRangeA1"
2025-04-15T08:22:18.3438089Z   Test Google Sheets, getExistingSheetNames
2025-04-15T08:22:18.3438310Z     ✓ should return an array of sheet names (1 ms)
2025-04-15T08:22:18.3438549Z     ✓ should return an empty array if no sheets are present
2025-04-15T08:22:18.3438788Z     ✓ should handle a case where sheets are undefined
2025-04-15T08:22:18.3439086Z   Test Google Sheets, mapFields
2025-04-15T08:22:18.3439289Z     ✓ should map fields for node version < 4 (1 ms)
2025-04-15T08:22:18.3439514Z     ✓ should map columns for node version >= 4 (1 ms)
2025-04-15T08:22:18.3439772Z     ✓ should throw an error if no values are added in version >= 4
2025-04-15T08:22:18.3440037Z     ✓ should return an empty array when inputSize is 0 (1 ms)
2025-04-15T08:22:18.3440237Z   Test Google Sheets, getSheetId
2025-04-15T08:22:18.3440426Z     ✓ should return 0 when value is "gid=0"
2025-04-15T08:22:18.3440673Z     ✓ should return a parsed integer when value is a numeric string
2025-04-15T08:22:18.3440915Z     ✓ should return NaN for non-numeric strings
2025-04-15T08:22:18.3441098Z   Test Google Sheets, getColumnName
2025-04-15T08:22:18.3441291Z     ✓ should return "A" for column number 1
2025-04-15T08:22:18.3441494Z     ✓ should return "Z" for column number 26
2025-04-15T08:22:18.3441724Z     ✓ should return "AA" for column number 27
2025-04-15T08:22:18.3441963Z     ✓ should return "AZ" for column number 52
2025-04-15T08:22:18.3442202Z     ✓ should return "BA" for column number 53 (1 ms)
2025-04-15T08:22:18.3442415Z     ✓ should return "ZZ" for column number 702
2025-04-15T08:22:18.3442618Z     ✓ should return "AAA" for column number 703
2025-04-15T08:22:18.3442730Z 
2025-04-15T08:22:18.3442835Z PASS nodes/Postgres/test/v2/utils.test.ts
2025-04-15T08:22:18.3443072Z   Test PostgresV2, isJSON
2025-04-15T08:22:18.3443280Z     ✓ should return true for valid JSON (3 ms)
2025-04-15T08:22:18.3443487Z     ✓ should return false for invalid JSON
2025-04-15T08:22:18.3443671Z   Test PostgresV2, evaluateExpression
2025-04-15T08:22:18.3443927Z     ✓ should evaluate undefined to an empty string
2025-04-15T08:22:18.3444363Z     ✓ should evaluate null to a string with value null
2025-04-15T08:22:18.3444686Z     ✓ should evaluate object to a string
2025-04-15T08:22:18.3444994Z     ✓ should evaluate everything else to a string (1 ms)
2025-04-15T08:22:18.3445242Z   Test PostgresV2, wrapData
2025-04-15T08:22:18.3445477Z     ✓ should wrap object in json
2025-04-15T08:22:18.3445771Z     ✓ should wrap each object in array in json (1 ms)
2025-04-15T08:22:18.3446094Z     ✓ json key from source should be inside json
2025-04-15T08:22:18.3446279Z   Test PostgresV2, prepareErrorItem
2025-04-15T08:22:18.3446490Z     ✓ should return error info item (1 ms)
2025-04-15T08:22:18.3446752Z   Test PostgresV2, parsePostgresError
2025-04-15T08:22:18.3446985Z     ✓ should return NodeOperationError
2025-04-15T08:22:18.3447216Z     ✓ should update message that includes ECONNREFUSED (2 ms)
2025-04-15T08:22:18.3447458Z     ✓ should update message with syntax error (1 ms)
2025-04-15T08:22:18.3447646Z   Test PostgresV2, addWhereClauses
2025-04-15T08:22:18.3447840Z     ✓ should add where clauses to query
2025-04-15T08:22:18.3448035Z     ✓ should combine where clauses by OR
2025-04-15T08:22:18.3448472Z     ✓ should ignore incorrect combine condition ad use AND
2025-04-15T08:22:18.3448748Z   Test PostgresV2, addSortRules
2025-04-15T08:22:18.3448926Z     ✓ should ORDER BY ASC
2025-04-15T08:22:18.3449083Z     ✓ should ORDER BY DESC
2025-04-15T08:22:18.3449253Z     ✓ should ignore incorrect direction
2025-04-15T08:22:18.3449438Z     ✓ should add multiple sort rules
2025-04-15T08:22:18.3449601Z   Test PostgresV2, addReturning
2025-04-15T08:22:18.3449798Z     ✓ should add RETURNING
2025-04-15T08:22:18.3450080Z     ✓ should add RETURNING *
2025-04-15T08:22:18.3450300Z   Test PostgresV2, replaceEmptyStringsByNulls
2025-04-15T08:22:18.3450520Z     ✓ should replace empty string by null
2025-04-15T08:22:18.3450703Z     ✓ should do nothing
2025-04-15T08:22:18.3450862Z   Test PostgresV2, prepareItem
2025-04-15T08:22:18.3451157Z     ✓ should convert fixedCollection values to object (1 ms)
2025-04-15T08:22:18.3451445Z   Test PostgresV2, checkItemAgainstSchema
2025-04-15T08:22:18.3451633Z     ✓ should not throw error
2025-04-15T08:22:18.3451824Z     ✓ should throw error on not existing column
2025-04-15T08:22:18.3452031Z     ✓ should throw error on not nullable column
2025-04-15T08:22:18.3452520Z   Test PostgresV2, hasJsonDataType
2025-04-15T08:22:18.3452752Z     ✓ returns true if there are columns which are of type json
2025-04-15T08:22:18.3453048Z     ✓ returns false if there are columns which are of type json (1 ms)
2025-04-15T08:22:18.3453281Z   Test PostgresV2, convertValuesToJsonWithPgp
2025-04-15T08:22:18.3453532Z     ✓ should use pgp to properly convert values to JSON (9 ms)
2025-04-15T08:22:18.3453758Z   Test PostgresV2, convertArraysToPostgresFormat
2025-04-15T08:22:18.3454034Z     ✓ should convert js arrays to postgres format
2025-04-15T08:22:18.3454270Z   Test PostgresV2, addExecutionHints
2025-04-15T08:22:18.3454551Z     ✓ should add batching insert hint to executeQuery operation (1 ms)
2025-04-15T08:22:18.3454817Z     ✓ should add run per item hint to select operation
2025-04-15T08:22:18.3454944Z 
2025-04-15T08:22:18.3455057Z PASS nodes/Webhook/test/utils.test.ts
2025-04-15T08:22:18.3455304Z   Webhook Utils
2025-04-15T08:22:18.3455502Z     getResponseCode
2025-04-15T08:22:18.3455752Z       ✓ should return the response code if it exists (3 ms)
2025-04-15T08:22:18.3456074Z       ✓ should return the custom response code if it exists (4 ms)
2025-04-15T08:22:18.3456422Z       ✓ should return the default response code if no response code is provided (1 ms)
2025-04-15T08:22:18.3456658Z     getResponseData
2025-04-15T08:22:18.3456864Z       ✓ should return the response data if it exists
2025-04-15T08:22:18.3457328Z       ✓ should return the options response data if response mode is "onReceived"
2025-04-15T08:22:18.3457794Z       ✓ should return "noData" if options noResponseBody is true
2025-04-15T08:22:18.3458202Z       ✓ should return undefined if no response data is provided (1 ms)
2025-04-15T08:22:18.3458588Z     configuredOutputs
2025-04-15T08:22:18.3458842Z       ✓ should return an array with a single output if httpMethod is not an array
2025-04-15T08:22:18.3459141Z       ✓ should return an array of outputs if httpMethod is an array
2025-04-15T08:22:18.3459389Z     setupOutputConnection
2025-04-15T08:22:18.3459839Z       ✓ should return a function that sets the webhookUrl and executionMode in the output data (1 ms)
2025-04-15T08:22:18.3460353Z       ✓ should return a function that sets the webhookUrl and executionMode in the output data for multiple methods
2025-04-15T08:22:18.3460637Z     isIpWhitelisted
2025-04-15T08:22:18.3460834Z       ✓ should return true if whitelist is undefined
2025-04-15T08:22:18.3461142Z       ✓ should return true if whitelist is an empty string
2025-04-15T08:22:18.3461429Z       ✓ should return true if ip is in the whitelist
2025-04-15T08:22:18.3461725Z       ✓ should return true if any ip in ips is in the whitelist
2025-04-15T08:22:18.3462032Z       ✓ should return false if ip and ips are not in the whitelist
2025-04-15T08:22:18.3462354Z       ✓ should return true if any ip in ips matches any address in the whitelist array
2025-04-15T08:22:18.3462673Z       ✓ should return true if ip matches any address in the whitelist array
2025-04-15T08:22:18.3463175Z       ✓ should return false if ip and ips do not match any address in the whitelist array (1 ms)
2025-04-15T08:22:18.3463501Z       ✓ should handle comma-separated whitelist string
2025-04-15T08:22:18.3463818Z       ✓ should trim whitespace in comma-separated whitelist string
2025-04-15T08:22:18.3464142Z     checkResponseModeConfiguration
2025-04-15T08:22:18.3464475Z       ✓ should throw an error if response mode is "responseNode" but no Respond to Webhook node is found (11 ms)
2025-04-15T08:22:18.3464907Z       ✓ should throw an error if response mode is not "responseNode" but a Respond to Webhook node is found (1 ms)
2025-04-15T08:22:18.3465221Z     validateWebhookAuthentication
2025-04-15T08:22:18.3465449Z       ✓ should return early if authentication is "none"
2025-04-15T08:22:18.3465836Z       ✓ should throw an error if basicAuth is enabled but no authentication data is defined on the node (4 ms)
2025-04-15T08:22:18.3466284Z       ✓ should throw an error if basicAuth is enabled but the provided authentication data is wrong
2025-04-15T08:22:18.3466794Z       ✓ should throw an error if headerAuth is enabled but no authentication data is defined on the node
2025-04-15T08:22:18.3467303Z       ✓ should throw an error if headerAuth is enabled but the provided authentication data is wrong (1 ms)
2025-04-15T08:22:18.3467771Z       ✓ should throw an error if jwtAuth is enabled but no authentication data is defined on the node
2025-04-15T08:22:18.3468111Z       ✓ should throw an error if jwtAuth is enabled but no token is provided
2025-04-15T08:22:18.3468444Z       ✓ should throw an error if jwtAuth is enabled but the provided token is invalid (1 ms)
2025-04-15T08:22:18.3468805Z       ✓ should return the decoded JWT payload if jwtAuth is enabled and the token is valid
2025-04-15T08:22:18.3468987Z 
2025-04-15T08:22:18.3469078Z PASS nodes/Form/test/Form.node.test.ts
2025-04-15T08:22:18.3469240Z   Form Node
2025-04-15T08:22:18.3469357Z     execute method
2025-04-15T08:22:18.3469578Z       ✓ should throw an error if Form Trigger node is not set (20 ms)
2025-04-15T08:22:18.3469862Z       ✓ should put execution to wait if operation is not completion
2025-04-15T08:22:18.3470160Z       ✓ should throw an error if completion is not the last Form node (1 ms)
2025-04-15T08:22:18.3470442Z       ✓ should return input data for completion operation (1 ms)
2025-04-15T08:22:18.3470631Z     webhook method
2025-04-15T08:22:18.3470843Z       ✓ should render form for GET request (2 ms)
2025-04-15T08:22:18.3471172Z       ✓ should return form data for POST request (10 ms)
2025-04-15T08:22:18.3471501Z       ✓ should handle completion operation and render completion page (3 ms)
2025-04-15T08:22:18.3471750Z       ✓ should pass customCss to form template
2025-04-15T08:22:18.3472101Z       ✓ should pass customCss to form completion template
2025-04-15T08:22:18.3472353Z       ✓ should handle completion operation and redirect (1 ms)
2025-04-15T08:22:18.3472489Z 
2025-04-15T08:22:18.3472602Z PASS nodes/Github/__tests__/SearchFunctions.test.ts
2025-04-15T08:22:18.3472787Z   Search Functions
2025-04-15T08:22:18.3472903Z     getUsers
2025-04-15T08:22:18.3473057Z       ✓ should fetch users (3 ms)
2025-04-15T08:22:18.3473262Z       ✓ should handle pagination
2025-04-15T08:22:18.3473535Z       ✓ should use paginationToken when provided
2025-04-15T08:22:18.3473728Z     getRepositories
2025-04-15T08:22:18.3473884Z       ✓ should fetch repositories
2025-04-15T08:22:18.3474113Z       ✓ should fetch repositories without filter
2025-04-15T08:22:18.3474314Z       ✓ should use paginationToken when provided
2025-04-15T08:22:18.3474510Z       ✓ should handle empty repositories
2025-04-15T08:22:18.3474659Z     getWorkflows
2025-04-15T08:22:18.3474825Z       ✓ should fetch workflows (1 ms)
2025-04-15T08:22:18.3475013Z       ✓ should handle pagination
2025-04-15T08:22:18.3475281Z       ✓ should use paginationToken when provided and return next page token (1 ms)
2025-04-15T08:22:18.3475535Z       ✓ should handle empty workflows
2025-04-15T08:22:18.3475777Z     getRefs
2025-04-15T08:22:18.3475982Z       ✓ should fetch branches and tags using git/refs endpoint (1 ms)
2025-04-15T08:22:18.3476221Z       ✓ should use paginationToken when provided
2025-04-15T08:22:18.3476441Z       ✓ should filter refs based on the provided filter
2025-04-15T08:22:18.3476648Z       ✓ should handle pagination correctly
2025-04-15T08:22:18.3476748Z 
2025-04-15T08:22:18.3476864Z PASS nodes/Github/__tests__/node/Github.node.test.ts
2025-04-15T08:22:18.3477034Z   Test Github Node
2025-04-15T08:22:18.3477192Z     Workflow Dispatch
2025-04-15T08:22:18.3477475Z       ✓ nodes/Github/__tests__/node/GithubTestWorkflow (74 ms)
2025-04-15T08:22:18.3477656Z     Error Handling
2025-04-15T08:22:18.3477886Z       ✓ should throw NodeOperationError for invalid JSON inputs (27 ms)
2025-04-15T08:22:18.3478225Z       ✓ should throw NodeOperationError for 404 errors when dispatching a workflow (2 ms)
2025-04-15T08:22:18.3478616Z       ✓ should throw NodeApiError for general API errors (2 ms)
2025-04-15T08:22:18.3478947Z       ✓ should throw NodeApiError for general API errors in dispatchAndWait operation (1 ms)
2025-04-15T08:22:18.3479172Z     Workflow Operations
2025-04-15T08:22:18.3479409Z       ✓ should use extractValue for workflowId in disable operation (1 ms)
2025-04-15T08:22:18.3479713Z       ✓ should use extractValue for workflowId in enable operation (1 ms)
2025-04-15T08:22:18.3479981Z       ✓ should use extractValue for workflowId in get operation
2025-04-15T08:22:18.3480263Z       ✓ should use extractValue for workflowId in getUsage operation (1 ms)
2025-04-15T08:22:18.3480467Z     Parameter Extraction
2025-04-15T08:22:18.3480688Z       ✓ should use extractValue for workflowId parameter (1 ms)
2025-04-15T08:22:18.3480814Z 
2025-04-15T08:22:18.3480965Z PASS nodes/Microsoft/AzureCosmosDb/test/helpers/utils.test.ts
2025-04-15T08:22:18.3481159Z   getPartitionKey
2025-04-15T08:22:18.3481342Z     ✓ should return partition key when found (3 ms)
2025-04-15T08:22:18.3481625Z     ✓ should throw NodeOperationError if partition key is not found (9 ms)
2025-04-15T08:22:18.3481896Z     ✓ should throw NodeApiError for 404 error (1 ms)
2025-04-15T08:22:18.3482062Z   validatePartitionKey
2025-04-15T08:22:18.3482356Z     ✓ should throw NodeOperationError when partition key is missing for "create" operation (1 ms)
2025-04-15T08:22:18.3482753Z     ✓ should throw NodeOperationError when partition key is missing for "update" operation (1 ms)
2025-04-15T08:22:18.3483124Z     ✓ should throw NodeOperationError when partition key is missing for "get" operation
2025-04-15T08:22:18.3483502Z     ✓ should throw NodeOperationError when invalid JSON is provided for customProperties (1 ms)
2025-04-15T08:22:18.3483737Z   simplifyData
2025-04-15T08:22:18.3484108Z     ✓ should return the same data when "simple" parameter is false
2025-04-15T08:22:18.3484391Z     ✓ should simplify the data when "simple" parameter is true (1 ms)
2025-04-15T08:22:18.3484589Z   validateQueryParameters
2025-04-15T08:22:18.3484834Z     ✓ should throw NodeOperationError when parameter values do not match
2025-04-15T08:22:18.3485118Z     ✓ should successfully map parameters when they match (1 ms)
2025-04-15T08:22:18.3485420Z     ✓ should correctly map parameters when query contains multiple dynamic values
2025-04-15T08:22:18.3485721Z     ✓ should extract and map parameter names correctly using regex
2025-04-15T08:22:18.3485915Z   processJsonInput
2025-04-15T08:22:18.3486125Z     ✓ should return parsed JSON when input is a valid JSON string
2025-04-15T08:22:18.3486388Z     ✓ should return input data when it is already an object
2025-04-15T08:22:18.3486650Z     ✓ should throw OperationalError for invalid JSON string (1 ms)
2025-04-15T08:22:18.3486973Z     ✓ should throw OperationalError for invalid non-string and non-object input (1 ms)
2025-04-15T08:22:18.3487249Z   validateCustomProperties
2025-04-15T08:22:18.3487599Z     ✓ should merge custom properties into requestOptions.body for valid input
2025-04-15T08:22:18.3488058Z     ✓ should throw NodeOperationError when customProperties are empty, undefined, null, or contain only invalid values (1 ms)
2025-04-15T08:22:18.3488701Z 
2025-04-15T08:22:18.3488876Z PASS nodes/Google/Gmail/test/v2/GmailV2.node.test.ts
2025-04-15T08:22:18.3489142Z   Test Gmail Node v2
2025-04-15T08:22:18.3489326Z     Messages
2025-04-15T08:22:18.3489648Z       ✓ nodes/Google/Gmail/test/v2/messages.workflow (1307 ms)
2025-04-15T08:22:18.3489999Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3490224Z     Labels
2025-04-15T08:22:18.3490891Z       ✓ nodes/Google/Gmail/test/v2/labels.workflow (24 ms)
2025-04-15T08:22:18.3491348Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3491771Z     Drafts
2025-04-15T08:22:18.3492077Z       ✓ nodes/Google/Gmail/test/v2/drafts.workflow (75 ms)
2025-04-15T08:22:18.3492325Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3492492Z     Threads
2025-04-15T08:22:18.3492695Z       ✓ nodes/Google/Gmail/test/v2/threads.workflow (84 ms)
2025-04-15T08:22:18.3492942Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3493099Z     loadOptions
2025-04-15T08:22:18.3493220Z       getLabels
2025-04-15T08:22:18.3493397Z         ✓ should return a list of Gmail labels (1 ms)
2025-04-15T08:22:18.3493569Z       getThreadMessages
2025-04-15T08:22:18.3493757Z         ✓ should return a list of Gmail thread messages
2025-04-15T08:22:18.3493922Z       getGmailAliases
2025-04-15T08:22:18.3494168Z         ✓ should return a list of Gmail aliases (1 ms)
2025-04-15T08:22:18.3494287Z 
2025-04-15T08:22:18.3494425Z PASS nodes/Microsoft/Excel/test/v2/utils/utils.test.ts
2025-04-15T08:22:18.3494640Z   Test MicrosoftExcelV2, prepareOutput
2025-04-15T08:22:18.3494845Z     ✓ should return empty array (3 ms)
2025-04-15T08:22:18.3495043Z     ✓ should return raw response (1 ms)
2025-04-15T08:22:18.3495266Z     ✓ should return raw response in custom property (1 ms)
2025-04-15T08:22:18.3495477Z     ✓ should return formated response
2025-04-15T08:22:18.3495706Z     ✓ should return response with selected first data row (1 ms)
2025-04-15T08:22:18.3495966Z     ✓ should return response with selected first data row
2025-04-15T08:22:18.3496172Z   Test MicrosoftExcelV2, updateByDefinedValues
2025-04-15T08:22:18.3496369Z     ✓ should update single row (1 ms)
2025-04-15T08:22:18.3496557Z     ✓ should update multiple rows (4 ms)
2025-04-15T08:22:18.3496746Z     ✓ should update all occurances
2025-04-15T08:22:18.3496910Z     ✓ should append rows
2025-04-15T08:22:18.3497074Z   Test MicrosoftExcelV2, updateByAutoMaping
2025-04-15T08:22:18.3497272Z     ✓ should update single row (1 ms)
2025-04-15T08:22:18.3497456Z     ✓ should append single row
2025-04-15T08:22:18.3497672Z     ✓ should append skip row with match column undefined
2025-04-15T08:22:18.3498073Z     ✓ should update multiple rows
2025-04-15T08:22:18.3498268Z     ✓ should update all occurrences
2025-04-15T08:22:18.3498442Z     ✓ should append rows
2025-04-15T08:22:18.3498588Z   Test MicrosoftExcelV2, checkRange
2025-04-15T08:22:18.3498764Z     ✓ should not throw error
2025-04-15T08:22:18.3498937Z     ✓ should throw error (21 ms)
2025-04-15T08:22:18.3499031Z 
2025-04-15T08:22:18.3499140Z PASS nodes/Redis/__tests__/Redis.node.test.ts
2025-04-15T08:22:18.3499313Z   Redis Node
2025-04-15T08:22:18.3499439Z     setupRedisClient
2025-04-15T08:22:18.3499625Z       ✓ should not configure TLS by default (3 ms)
2025-04-15T08:22:18.3499811Z       ✓ should configure TLS
2025-04-15T08:22:18.3499977Z       ✓ should set user on auth
2025-04-15T08:22:18.3500124Z     redisConnectionTest
2025-04-15T08:22:18.3500345Z       ✓ should return success when connection is established (1 ms)
2025-04-15T08:22:18.3500602Z       ✓ should return error when connection fails (1 ms)
2025-04-15T08:22:18.3500772Z     operations
2025-04-15T08:22:18.3500897Z       info operation
2025-04-15T08:22:18.3501057Z         ✓ should return info (2 ms)
2025-04-15T08:22:18.3501360Z         ✓ should continue and return an error when continue on fail is enabled and an error is thrown
2025-04-15T08:22:18.3501856Z         ✓ should throw an error when continue on fail is disabled and an error is thrown (13 ms)
2025-04-15T08:22:18.3502089Z       delete operation
2025-04-15T08:22:18.3502250Z         ✓ should delete (1 ms)
2025-04-15T08:22:18.3502546Z         ✓ should continue and return an error when continue on fail is enabled and an error is thrown
2025-04-15T08:22:18.3502918Z         ✓ should throw an error when continue on fail is disabled and an error is thrown (1 ms)
2025-04-15T08:22:18.3503141Z       get operation
2025-04-15T08:22:18.3503302Z         ✓ keyType = automatic (1 ms)
2025-04-15T08:22:18.3503472Z         ✓ keyType = hash
2025-04-15T08:22:18.3503775Z         ✓ should continue and return an error when continue on fail is enabled and an error is thrown (1 ms)
2025-04-15T08:22:18.3504207Z         ✓ should throw an error when continue on fail is disabled and an error is thrown (1 ms)
2025-04-15T08:22:18.3504429Z       keys operation
2025-04-15T08:22:18.3504594Z         ✓ getValues = false (1 ms)
2025-04-15T08:22:18.3504779Z         ✓ getValues = true (4 ms)
2025-04-15T08:22:18.3505091Z         ✓ should continue and return an error when continue on fail is enabled and an error is thrown (1 ms)
2025-04-15T08:22:18.3505460Z         ✓ should throw an error when continue on fail is disabled and an error is thrown
2025-04-15T08:22:18.3505627Z 
2025-04-15T08:22:18.3505726Z PASS nodes/MySql/test/v2/operations.test.ts
2025-04-15T08:22:18.3505891Z   Test MySql V2, operations
2025-04-15T08:22:18.3506071Z     ✓ should have all operations (3 ms)
2025-04-15T08:22:18.3506299Z     ✓ deleteTable: drop, should call runQueries with (2 ms)
2025-04-15T08:22:18.3506571Z     ✓ deleteTable: truncate, should call runQueries with (1 ms)
2025-04-15T08:22:18.3506839Z     ✓ deleteTable: delete, should call runQueries with (1 ms)
2025-04-15T08:22:18.3507086Z     ✓ executeQuery, should call runQueries with (3 ms)
2025-04-15T08:22:18.3507311Z     ✓ executeQuery, should parse numbers (10 ms)
2025-04-15T08:22:18.3507520Z     ✓ select, should call runQueries with
2025-04-15T08:22:18.3507729Z     ✓ insert, should call runQueries with (1 ms)
2025-04-15T08:22:18.3507939Z     ✓ update, should call runQueries with (1 ms)
2025-04-15T08:22:18.3508135Z     ✓ upsert, should call runQueries with
2025-04-15T08:22:18.3508241Z 
2025-04-15T08:22:18.3508330Z PASS nodes/Okta/test/UserFunctions.test.ts
2025-04-15T08:22:18.3508496Z   oktaApiRequest
2025-04-15T08:22:18.3508688Z     ✓ should make a GET request and return data (4 ms)
2025-04-15T08:22:18.3508924Z     ✓ should handle errors from oktaApiRequest (9 ms)
2025-04-15T08:22:18.3509093Z   getUsers
2025-04-15T08:22:18.3509261Z     ✓ should return users with filtering (1 ms)
2025-04-15T08:22:18.3509486Z     ✓ should return all users when no filter is applied
2025-04-15T08:22:18.3509837Z     ✓ should handle empty results from oktaApiRequest (1 ms)
2025-04-15T08:22:18.3510027Z   simplifyGetAllResponse
2025-04-15T08:22:18.3510275Z     ✓ should return items unchanged when simplify parameter is not set
2025-04-15T08:22:18.3510525Z     ✓ should simplify items correctly (1 ms)
2025-04-15T08:22:18.3510761Z     ✓ should return an empty array when items is an empty array
2025-04-15T08:22:18.3510946Z   simplifyGetResponse
2025-04-15T08:22:18.3511180Z     ✓ should return the item unchanged when simplify parameter is not set
2025-04-15T08:22:18.3511427Z     ✓ should simplify the item correctly (1 ms)
2025-04-15T08:22:18.3511585Z   getCursorPaginator
2025-04-15T08:22:18.3511787Z     ✓ should return all items when returnAll is true (1 ms)
2025-04-15T08:22:18.3512024Z     ✓ should return items until nextCursor is undefined
2025-04-15T08:22:18.3512233Z     ✓ should handle empty response data
2025-04-15T08:22:18.3512341Z 
2025-04-15T08:22:18.3512453Z PASS nodes/Telegram/tests/GenericFunctions.test.ts
2025-04-15T08:22:18.3512637Z   Telegram > GenericFunctions
2025-04-15T08:22:18.3512780Z     apiRequest
2025-04-15T08:22:18.3512955Z       ✓ should make a successful API request (4 ms)
2025-04-15T08:22:18.3513209Z       ✓ should handle an API request with no body and query (1 ms)
2025-04-15T08:22:18.3513569Z       ✓ should handle an API request with no additional options
2025-04-15T08:22:18.3513834Z       ✓ should throw a NodeApiError on request failure (21 ms)
2025-04-15T08:22:18.3514053Z     addAdditionalFields
2025-04-15T08:22:18.3514294Z       ✓ should add additional fields and attribution for sendMessage operation
2025-04-15T08:22:18.3514551Z       ✓ should add reply markup for inlineKeyboard
2025-04-15T08:22:18.3514762Z       ✓ should add reply markup for forceReply
2025-04-15T08:22:18.3514976Z       ✓ should add reply markup for replyKeyboardRemove
2025-04-15T08:22:18.3515241Z       ✓ should handle nodeVersion 1.2 and set disable_web_page_preview
2025-04-15T08:22:18.3515698Z     getPropertyName
2025-04-15T08:22:18.3515952Z       ✓ should return the property name by removing "send" and converting to lowercase
2025-04-15T08:22:18.3516306Z       ✓ should return the original string in lowercase if it does not contain "send" (1 ms)
2025-04-15T08:22:18.3516609Z       ✓ should return an empty string if the input is "send"
2025-04-15T08:22:18.3516829Z       ✓ should handle empty strings (1 ms)
2025-04-15T08:22:18.3516981Z     getSecretToken
2025-04-15T08:22:18.3517157Z       ✓ should return a valid secret token (3 ms)
2025-04-15T08:22:18.3517451Z       ✓ should remove invalid characters from the secret token (1 ms)
2025-04-15T08:22:18.3517591Z 
2025-04-15T08:22:18.3517677Z PASS nodes/Airtop/test/utils.test.ts
2025-04-15T08:22:18.3517850Z   Test convertScreenshotToBinary
2025-04-15T08:22:18.3518071Z     ✓ should convert base64 screenshot data to buffer (3 ms)
2025-04-15T08:22:18.3518289Z     ✓ should handle empty base64 data
2025-04-15T08:22:18.3518442Z   Test Airtop utils
2025-04-15T08:22:18.3518586Z     validateRequiredStringField
2025-04-15T08:22:18.3518778Z       ✓ should validate non-empty string field
2025-04-15T08:22:18.3518984Z       ✓ should trim whitespace from string field
2025-04-15T08:22:18.3519214Z       ✓ should throw error for empty string field (13 ms)
2025-04-15T08:22:18.3519478Z       ✓ should throw error for whitespace-only string field (1 ms)
2025-04-15T08:22:18.3519671Z     validateProfileName
2025-04-15T08:22:18.3519851Z       ✓ should validate valid profile names
2025-04-15T08:22:18.3520053Z       ✓ should allow empty profile name
2025-04-15T08:22:18.3520279Z       ✓ should throw error for invalid profile name (1 ms)
2025-04-15T08:22:18.3520465Z     validateTimeoutMinutes
2025-04-15T08:22:18.3520638Z       ✓ should validate valid timeout
2025-04-15T08:22:18.3520857Z       ✓ should throw error for timeout below minimum (1 ms)
2025-04-15T08:22:18.3521096Z       ✓ should throw error for timeout above maximum
2025-04-15T08:22:18.3521319Z     validateSaveProfileOnTermination
2025-04-15T08:22:18.3521658Z       ✓ should validate when save profile is false
2025-04-15T08:22:18.3521936Z       ✓ should validate when save profile is true with profile name (1 ms)
2025-04-15T08:22:18.3522243Z       ✓ should throw error when save profile is true without profile name
2025-04-15T08:22:18.3522445Z     validateSessionId
2025-04-15T08:22:18.3522610Z       ✓ should validate session ID
2025-04-15T08:22:18.3522820Z       ✓ should throw error for empty session ID (1 ms)
2025-04-15T08:22:18.3523041Z       ✓ should trim whitespace from session ID
2025-04-15T08:22:18.3523217Z     validateSessionAndWindowId
2025-04-15T08:22:18.3523419Z       ✓ should validate session and window IDs (1 ms)
2025-04-15T08:22:18.3523635Z       ✓ should throw error for empty session ID
2025-04-15T08:22:18.3523843Z       ✓ should throw error for empty window ID
2025-04-15T08:22:18.3524072Z       ✓ should trim whitespace from IDs
2025-04-15T08:22:18.3524223Z     validateUrl
2025-04-15T08:22:18.3524385Z       ✓ should validate valid URL (1 ms)
2025-04-15T08:22:18.3524588Z       ✓ should throw error for invalid URL
2025-04-15T08:22:18.3524791Z       ✓ should return empty string for empty URL
2025-04-15T08:22:18.3525033Z       ✓ should throw error for URL without http or https (8 ms)
2025-04-15T08:22:18.3525316Z     validateAirtopApiResponse
2025-04-15T08:22:18.3525515Z       ✓ should not throw error for valid response
2025-04-15T08:22:18.3525744Z       ✓ should throw error for response with errors (1 ms)
2025-04-15T08:22:18.3525918Z     shouldCreateNewSession
2025-04-15T08:22:18.3526111Z       ✓ should return true when 'sessionMode' is 'new'
2025-04-15T08:22:18.3526348Z       ✓ should return false when 'sessionMode' is 'existing'
2025-04-15T08:22:18.3526585Z       ✓ should return false when 'sessionMode' is empty
2025-04-15T08:22:18.3526834Z       ✓ should return false when 'sessionMode' is not set (1 ms)
2025-04-15T08:22:18.3527019Z     createSessionAndWindow
2025-04-15T08:22:18.3527261Z       ✓ should create a new session and window when sessionMode is 'new'
2025-04-15T08:22:18.3527414Z 
2025-04-15T08:22:18.3527553Z PASS nodes/RespondToWebhook/test/RespondToWebhook.test.ts
2025-04-15T08:22:18.3527746Z   RespondToWebhook Node
2025-04-15T08:22:18.3527877Z     execute method
2025-04-15T08:22:18.3528210Z       ✓ should throw an error if no WEBHOOK_NODE_TYPES in parents (14 ms)
2025-04-15T08:22:18.3528495Z       ✓ should not throw an error if WEBHOOK_NODE_TYPES is in parents
2025-04-15T08:22:18.3528747Z       ✓ should correctly apply response options (1 ms)
2025-04-15T08:22:18.3528962Z       ✓ should correctly return a json response
2025-04-15T08:22:18.3529205Z       ✓ should correctly return a stringified json response (1 ms)
2025-04-15T08:22:18.3529453Z       ✓ should correctly return a jwt response (2 ms)
2025-04-15T08:22:18.3529677Z       ✓ should correctly return a text response (1 ms)
2025-04-15T08:22:18.3529903Z       ✓ should correctly return a redirect (3 ms)
2025-04-15T08:22:18.3530113Z       ✓ should correctly return incoming items
2025-04-15T08:22:18.3530325Z       ✓ should correctly return binary (1 ms)
2025-04-15T08:22:18.3530542Z       ✓ should correctly handle continue on fail (1 ms)
2025-04-15T08:22:18.3530661Z 
2025-04-15T08:22:18.3530771Z PASS nodes/Google/Gmail/test/v1/GmailV1.node.test.ts
2025-04-15T08:22:18.3530950Z   Test Gmail Node v1
2025-04-15T08:22:18.3531072Z     Messages
2025-04-15T08:22:18.3531263Z       ✓ nodes/Google/Gmail/test/v1/messages.workflow (462 ms)
2025-04-15T08:22:18.3531491Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3531646Z     Labels
2025-04-15T08:22:18.3531825Z       ✓ nodes/Google/Gmail/test/v1/labels.workflow (32 ms)
2025-04-15T08:22:18.3532038Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3532189Z     Message Labels
2025-04-15T08:22:18.3532400Z       ✓ nodes/Google/Gmail/test/v1/message-labels.workflow (37 ms)
2025-04-15T08:22:18.3532628Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3532777Z     Drafts
2025-04-15T08:22:18.3533080Z       ✓ nodes/Google/Gmail/test/v1/drafts.workflow (35 ms)
2025-04-15T08:22:18.3533301Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3533414Z 
2025-04-15T08:22:18.3533498Z PASS utils/__tests__/utilities.test.ts
2025-04-15T08:22:18.3533660Z   Test fuzzyCompare
2025-04-15T08:22:18.3533829Z     ✓ should do strict comparison (3 ms)
2025-04-15T08:22:18.3534059Z     ✓ should do fuzzy comparison
2025-04-15T08:22:18.3534248Z     ✓ should treat null, 0 and "0" as equal
2025-04-15T08:22:18.3534448Z     ✓ should not treat null, 0 and "0" as equal
2025-04-15T08:22:18.3534606Z   Test wrapData
2025-04-15T08:22:18.3534757Z     ✓ should wrap object in json
2025-04-15T08:22:18.3534962Z     ✓ should wrap each object in array in json (1 ms)
2025-04-15T08:22:18.3535183Z     ✓ json key from source should be inside json
2025-04-15T08:22:18.3535349Z   Test keysToLowercase
2025-04-15T08:22:18.3535529Z     ✓ should convert keys to lowercase (1 ms)
2025-04-15T08:22:18.3535763Z     ✓ should return original value if it is not an object
2025-04-15T08:22:18.3535938Z   Test getResolvables
2025-04-15T08:22:18.3536160Z     ✓ should return empty array when there are no resolvables (1 ms)
2025-04-15T08:22:18.3536411Z     ✓ should properly handle resovables in SQL query
2025-04-15T08:22:18.3536760Z     ✓ should properly handle resovables in HTML string
2025-04-15T08:22:18.3536932Z   shuffleArray
2025-04-15T08:22:18.3537083Z     ✓ should shuffle array (4 ms)
2025-04-15T08:22:18.3537228Z   flattenKeys
2025-04-15T08:22:18.3537374Z     ✓ should handle empty object
2025-04-15T08:22:18.3537564Z     ✓ should flatten object with nested object
2025-04-15T08:22:18.3537779Z     ✓ should handle object with nested arrays (1 ms)
2025-04-15T08:22:18.3538036Z     ✓ should flatten object with nested object and specified prefix
2025-04-15T08:22:18.3538321Z     ✓ should handle object with nested arrays and specified prefix
2025-04-15T08:22:18.3538509Z   compareItems
2025-04-15T08:22:18.3538709Z     ✓ should return true if all values of specified keys are equal
2025-04-15T08:22:18.3539004Z     ✓ should return false if any values of specified keys are not equal (1 ms)
2025-04-15T08:22:18.3539325Z     ✓ should return true if all values of specified keys are equal using dot notation
2025-04-15T08:22:18.3539674Z     ✓ should return false if any values of specified keys are not equal using dot notation
2025-04-15T08:22:18.3540019Z     ✓ should return true if all values of specified keys are equal using bracket notation
2025-04-15T08:22:18.3540243Z   sortItemKeysByPriorityList
2025-04-15T08:22:18.3540453Z     ✓ should reorder keys based on priority list (1 ms)
2025-04-15T08:22:18.3540719Z     ✓ should sort keys not in the priority list alphabetically (4 ms)
2025-04-15T08:22:18.3540999Z     ✓ should sort all keys alphabetically when priority list is empty
2025-04-15T08:22:18.3541225Z     ✓ should handle an empty data array
2025-04-15T08:22:18.3541434Z     ✓ should handle a single object in the data array
2025-04-15T08:22:18.3541690Z     ✓ should handle duplicate keys in the priority list gracefully
2025-04-15T08:22:18.3541824Z 
2025-04-15T08:22:18.3541922Z PASS nodes/Merge/test/v3/operations.test.ts
2025-04-15T08:22:18.3542104Z   Test MergeV3, combineBySql operation
2025-04-15T08:22:18.3542538Z     ✓ LEFT JOIN (11 ms)
2025-04-15T08:22:18.3542982Z     ✓ LEFT JOIN, missing input 2(empty array) (1 ms)
2025-04-15T08:22:18.3543255Z     ✓ LEFT JOIN, missing data in input 2 (1 ms)
2025-04-15T08:22:18.3543464Z     ✓ LEFT JOIN, invalid syntax (1 ms)
2025-04-15T08:22:18.3543633Z     ✓ RIGHT JOIN (2 ms)
2025-04-15T08:22:18.3543780Z     ✓ INNER JOIN (1 ms)
2025-04-15T08:22:18.3543925Z     ✓ FULL OUTER JOIN (1 ms)
2025-04-15T08:22:18.3544144Z     ✓ CROSS JOIN (1 ms)
2025-04-15T08:22:18.3544398Z     ✓ should collect pairedItems data, if version >= 3.1 and SELECT query (12 ms)
2025-04-15T08:22:18.3544627Z   Test MergeV3, append operation
2025-04-15T08:22:18.3544793Z     ✓ append inputs (1 ms)
2025-04-15T08:22:18.3544953Z   Test MergeV3, combineByFields operation
2025-04-15T08:22:18.3545302Z     ✓ merge inputs (3 ms)
2025-04-15T08:22:18.3545465Z   Test MergeV3, combineByPosition operation
2025-04-15T08:22:18.3545643Z     ✓ combine inputs (1 ms)
2025-04-15T08:22:18.3545803Z   Test MergeV3, chooseBranch operation
2025-04-15T08:22:18.3545970Z     ✓ choose input
2025-04-15T08:22:18.3546113Z   Test MergeV3, combineAll operation
2025-04-15T08:22:18.3546280Z     ✓ combine inputs (1 ms)
2025-04-15T08:22:18.3546360Z 
2025-04-15T08:22:18.3546479Z PASS nodes/HttpRequest/test/utils/utils.test.ts
2025-04-15T08:22:18.3546655Z   HTTP Node Utils
2025-04-15T08:22:18.3546785Z     prepareRequestBody
2025-04-15T08:22:18.3546960Z       ✓ should call default reducer (4 ms)
2025-04-15T08:22:18.3547166Z       ✓ should call process dot notations (1 ms)
2025-04-15T08:22:18.3547326Z     setAgentOptions
2025-04-15T08:22:18.3547531Z       ✓ should not have agentOptions as it's undefined (1 ms)
2025-04-15T08:22:18.3547754Z       ✓ should have agentOptions set (1 ms)
2025-04-15T08:22:18.3547910Z     sanitizeUiMessage
2025-04-15T08:22:18.3548088Z       ✓ should remove large Buffers (5 ms)
2025-04-15T08:22:18.3548388Z       ✓ should remove keys that contain sensitive data and do not modify requestOptions (1 ms)
2025-04-15T08:22:18.3548639Z       ✓ should remove secrets
2025-04-15T08:22:18.3548979Z       ✓ should redact the authorization header when the key is lowercase
2025-04-15T08:22:18.3549281Z       ✓ should redact the authorization header when the key is uppercase
2025-04-15T08:22:18.3549566Z       ✓ should redact the x-api-key header when the key is lowercase
2025-04-15T08:22:18.3549837Z       ✓ should redact the x-api-key header when the key is uppercase
2025-04-15T08:22:18.3550118Z       ✓ should redact the x-auth-token header when the key is lowercase
2025-04-15T08:22:18.3550400Z       ✓ should redact the x-auth-token header when the key is uppercase
2025-04-15T08:22:18.3550685Z       ✓ should redact the cookie header when the key is lowercase (1 ms)
2025-04-15T08:22:18.3550960Z       ✓ should redact the cookie header when the key is uppercase
2025-04-15T08:22:18.3551251Z       ✓ should redact the proxy-authorization header when the key is lowercase
2025-04-15T08:22:18.3551561Z       ✓ should redact the proxy-authorization header when the key is uppercase
2025-04-15T08:22:18.3551860Z       ✓ should redact the sslclientcert header when the key is lowercase
2025-04-15T08:22:18.3552142Z       ✓ should redact the sslclientcert header when the key is uppercase
2025-04-15T08:22:18.3552449Z       ✓ should leave headers unchanged if Authorization header is not present (1 ms)
2025-04-15T08:22:18.3552737Z       ✓ should handle case when headers are undefined (1 ms)
2025-04-15T08:22:18.3552911Z     replaceNullValues
2025-04-15T08:22:18.3553101Z       ✓ should replace null json with an empty object
2025-04-15T08:22:18.3553344Z       ✓ should not modify json if it is already an object (1 ms)
2025-04-15T08:22:18.3553662Z     getSecrets
2025-04-15T08:22:18.3553907Z       ✓ should return secrets for sensitive properties
2025-04-15T08:22:18.3554208Z       ✓ should not return non-sensitive properties
2025-04-15T08:22:18.3554466Z       ✓ should not include non-string values in sensitive properties
2025-04-15T08:22:18.3554767Z       ✓ should return an empty array if properties and credentials are empty
2025-04-15T08:22:18.3555085Z       ✓ should not include null or undefined values in sensitive properties (1 ms)
2025-04-15T08:22:18.3555249Z 
2025-04-15T08:22:18.3555347Z PASS nodes/Kafka/KafkaTrigger.node.test.ts
2025-04-15T08:22:18.3555520Z   KafkaTrigger Node
2025-04-15T08:22:18.3555725Z     ✓ should connect to Kafka and subscribe to topic (6 ms)
2025-04-15T08:22:18.3556018Z     ✓ should handle authentication when credentials are provided (1 ms)
2025-04-15T08:22:18.3556365Z     ✓ should throw an error if authentication is enabled but credentials are missing (19 ms)
2025-04-15T08:22:18.3556734Z     ✓ should use schema registry when enabled (2 ms)
2025-04-15T08:22:18.3557086Z     ✓ should parse JSON message when jsonParseMessage is true (1 ms)
2025-04-15T08:22:18.3557459Z     ✓ should include headers when returnHeaders is true (2 ms)
2025-04-15T08:22:18.3557695Z     ✓ should handle manual trigger mode (1 ms)
2025-04-15T08:22:18.3557978Z     ✓ should handle sequential processing when parallelProcessing is false (1 ms)
2025-04-15T08:22:18.3558144Z 
2025-04-15T08:22:18.3558289Z PASS nodes/Form/test/FormTriggerV2.node.test.ts
2025-04-15T08:22:18.3558548Z   FormTrigger
2025-04-15T08:22:18.3558843Z     ✓ should render a form template with correct fields (14 ms)
2025-04-15T08:22:18.3559130Z     ✓ should return workflowData on POST request (12 ms)
2025-04-15T08:22:18.3559470Z     ✓ should throw on invalid webhook authentication (1 ms)
2025-04-15T08:22:18.3559802Z     ✓ should apply customCss property to form render (1 ms)
2025-04-15T08:22:18.3560101Z     ✓ should handle files (2 ms)
2025-04-15T08:22:18.3560336Z     Respond to Webhook
2025-04-15T08:22:18.3560611Z       ✓ should throw when misconfigured (8 ms)
2025-04-15T08:22:18.3560747Z 
2025-04-15T08:22:18.3560931Z PASS nodes/SeaTable/__tests__/v2/GenericFunctions.test.ts
2025-04-15T08:22:18.3561137Z   Seatable > v2 > GenericFunctions
2025-04-15T08:22:18.3561279Z     rowExport
2025-04-15T08:22:18.3561461Z       ✓ should export only allowed columns from row (3 ms)
2025-04-15T08:22:18.3561779Z       ✓ should handle empty row
2025-04-15T08:22:18.3561976Z       ✓ should handle row with missing fields (1 ms)
2025-04-15T08:22:18.3562157Z     splitStringColumnsToArrays
2025-04-15T08:22:18.3562360Z       ✓ should convert collaborator strings to arrays
2025-04-15T08:22:18.3562592Z       ✓ should convert multiple-select strings to arrays
2025-04-15T08:22:18.3562810Z       ✓ should convert number strings to numbers
2025-04-15T08:22:18.3563056Z       ✓ should convert rate and duration strings to integers (1 ms)
2025-04-15T08:22:18.3563296Z       ✓ should convert checkbox strings to booleans
2025-04-15T08:22:18.3563520Z       ✓ should handle multiple column types in one row
2025-04-15T08:22:18.3563744Z       ✓ should handle empty/invalid inputs (1 ms)
2025-04-15T08:22:18.3563905Z     enrichColumns
2025-04-15T08:22:18.3564132Z       ✓ should preserve base IRow properties (1 ms)
2025-04-15T08:22:18.3564341Z       ✓ should enrich collaborator columns
2025-04-15T08:22:18.3564564Z       ✓ should enrich creator and last-modifier columns
2025-04-15T08:22:18.3564773Z       ✓ should enrich image columns (1 ms)
2025-04-15T08:22:18.3564993Z       ✓ should handle empty/missing data gracefully (3 ms)
2025-04-15T08:22:18.3565164Z     simplify_new
2025-04-15T08:22:18.3565338Z       ✓ should remove keys starting with underscore
2025-04-15T08:22:18.3565535Z       ✓ should handle empty object (1 ms)
2025-04-15T08:22:18.3565737Z       ✓ should preserve non-underscore keys
2025-04-15T08:22:18.3565847Z 
2025-04-15T08:22:18.3565976Z PASS nodes/Google/Calendar/test/node/event.getAll.test.ts
2025-04-15T08:22:18.3566167Z   Google Calendar Node
2025-04-15T08:22:18.3566315Z     Google Calendar > Event > Get Many
2025-04-15T08:22:18.3566573Z       ✓ should configure get all request parameters in version 1.3 (13 ms)
2025-04-15T08:22:18.3566905Z       ✓ should configure get all recurringEventHandling equals next in version 1.3 (1 ms)
2025-04-15T08:22:18.3567265Z       ✓ should configure get all recurringEventHandling equals first in version 1.3 (1 ms)
2025-04-15T08:22:18.3567595Z       ✓ should configure get all should have hint in version 1.3 (1 ms)
2025-04-15T08:22:18.3567741Z 
2025-04-15T08:22:18.3567843Z PASS nodes/Notion/test/node/v2/block/append.test.ts
2025-04-15T08:22:18.3568027Z   Test NotionV2, block => append
2025-04-15T08:22:18.3568491Z     ✓ nodes/Notion/test/node/v2/block/append.workflow (1162 ms)
2025-04-15T08:22:18.3568634Z 
2025-04-15T08:22:18.3568723Z PASS nodes/Jira/JiraTrigger.node.test.ts
2025-04-15T08:22:18.3568876Z   JiraTrigger
2025-04-15T08:22:18.3568994Z     Webhook lifecycle
2025-04-15T08:22:18.3569199Z       ✓ should register a webhook subscription on Jira 10 (5 ms)
2025-04-15T08:22:18.3569585Z       ✓ should register a webhook subscription on Jira 9 (1 ms)
2025-04-15T08:22:18.3569856Z       ✓ should register a webhook subscription on Jira Cloud (2 ms)
2025-04-15T08:22:18.3570036Z     Webhook
2025-04-15T08:22:18.3570197Z       ✓ should receive a webhook event (1 ms)
2025-04-15T08:22:18.3570314Z 
2025-04-15T08:22:18.3570446Z PASS nodes/Airtop/test/node/extraction/getPaginated.test.ts
2025-04-15T08:22:18.3570664Z   Test Airtop, getPaginated operation
2025-04-15T08:22:18.3570884Z     ✓ should extract data with minimal parameters (4 ms)
2025-04-15T08:22:18.3571100Z     ✓ should extract data with output schema
2025-04-15T08:22:18.3571335Z     ✓ interactionMode > Should extract data with 'auto' mode
2025-04-15T08:22:18.3571598Z     ✓ interactionMode > Should extract data with 'accurate' mode
2025-04-15T08:22:18.3571901Z     ✓ interactionMode > Should extract data with 'cost-efficient' mode (1 ms)
2025-04-15T08:22:18.3572184Z     ✓ paginationMode > Should extract data with 'auto' mode
2025-04-15T08:22:18.3572473Z     ✓ paginationMode > Should extract data with 'paginated' mode (7 ms)
2025-04-15T08:22:18.3572775Z     ✓ paginationMode > Should extract data with 'infinite-scroll' mode
2025-04-15T08:22:18.3573032Z     ✓ should extract data using a new session (1 ms)
2025-04-15T08:22:18.3573557Z     ✓ should throw error when 'sessionId' is empty and session mode is 'existing' (18 ms)
2025-04-15T08:22:18.3573897Z     ✓ should throw error when 'windowId' is empty and session mode is 'existing'
2025-04-15T08:22:18.3574091Z 
2025-04-15T08:22:18.3574199Z PASS nodes/Form/test/formCompletionUtils.test.ts
2025-04-15T08:22:18.3574367Z   formCompletionUtils
2025-04-15T08:22:18.3574497Z     renderFormCompletion
2025-04-15T08:22:18.3574676Z       ✓ should render the form completion (4 ms)
2025-04-15T08:22:18.3574941Z       ✓ throw an error if no binary data with the field name is found (15 ms)
2025-04-15T08:22:18.3575264Z       ✓ should render if respond with binary is set and binary mode is filesystem (2 ms)
2025-04-15T08:22:18.3575610Z       ✓ should render if respond with binary is set and binary mode is default (1 ms)
2025-04-15T08:22:18.3575777Z 
2025-04-15T08:22:18.3575880Z PASS nodes/Google/Gmail/test/GmailTrigger.test.ts
2025-04-15T08:22:18.3576047Z   GmailTrigger
2025-04-15T08:22:18.3576214Z     ✓ should return incoming emails (53 ms)
2025-04-15T08:22:18.3576421Z     ✓ should simplify output when enabled (21 ms)
2025-04-15T08:22:18.3576667Z     ✓ should filter out emails that were already processed (4 ms)
2025-04-15T08:22:18.3576934Z     ✓ should handle duplicates and different date fields (47 ms)
2025-04-15T08:22:18.3577070Z 
2025-04-15T08:22:18.3577181Z PASS nodes/Notion/test/node/v2/database/getAll.test.ts
2025-04-15T08:22:18.3577375Z   Test NotionV2, database => getAll
2025-04-15T08:22:18.3577620Z     ✓ nodes/Notion/test/node/v2/database/getAll.workflow (106 ms)
2025-04-15T08:22:18.3577760Z 
2025-04-15T08:22:18.3577884Z PASS nodes/Google/Sheet/test/v2/methods/listSearch.test.ts
2025-04-15T08:22:18.3578084Z   Google Sheets Search Functions
2025-04-15T08:22:18.3578232Z     spreadSheetsSearch
2025-04-15T08:22:18.3578423Z       ✓ should return search results without filter (3 ms)
2025-04-15T08:22:18.3578643Z       ✓ should handle search with filter (1 ms)
2025-04-15T08:22:18.3578858Z       ✓ should escape single quotes in filter (1 ms)
2025-04-15T08:22:18.3579070Z       ✓ should handle pagination token
2025-04-15T08:22:18.3579223Z     sheetsSearch
2025-04-15T08:22:18.3579451Z       ✓ should return empty results when no documentId is provided (1 ms)
2025-04-15T08:22:18.3579718Z       ✓ should return sheets list for valid spreadsheet
2025-04-15T08:22:18.3579990Z       ✓ should handle default sheet id when sheetId is not provided (1 ms)
2025-04-15T08:22:18.3580251Z       ✓ should throw error when no data is returned (7 ms)
2025-04-15T08:22:18.3580469Z       ✓ should filter out non-GRID type sheets
2025-04-15T08:22:18.3580579Z 
2025-04-15T08:22:18.3580696Z PASS nodes/HttpRequest/test/node/HttpRequestV3.test.ts
2025-04-15T08:22:18.3580876Z   HttpRequestV3
2025-04-15T08:22:18.3581139Z     ✓ should make a GET request (6 ms)
2025-04-15T08:22:18.3581333Z     ✓ should handle authentication (1 ms)
2025-04-15T08:22:18.3581496Z     Authentication Handling
2025-04-15T08:22:18.3581684Z       ✓ should handle httpBasicAuth authentication
2025-04-15T08:22:18.3581908Z       ✓ should handle httpDigestAuth authentication
2025-04-15T08:22:18.3582136Z       ✓ should handle httpHeaderAuth authentication (1 ms)
2025-04-15T08:22:18.3582354Z       ✓ should handle httpQueryAuth authentication
2025-04-15T08:22:18.3582577Z       ✓ should handle oAuth1Api authentication (1 ms)
2025-04-15T08:22:18.3582787Z       ✓ should handle oAuth2Api authentication
2025-04-15T08:22:18.3582887Z 
2025-04-15T08:22:18.3582990Z PASS nodes/Airtop/test/node/window/create.test.ts
2025-04-15T08:22:18.3583174Z   Test Airtop, window create operation
2025-04-15T08:22:18.3583390Z     ✓ should create a window with minimal parameters (4 ms)
2025-04-15T08:22:18.3583617Z     ✓ should create a window with live view (1 ms)
2025-04-15T08:22:18.3583865Z     ✓ should create a window with live view and disabled resize
2025-04-15T08:22:18.3584176Z     ✓ should create a window with live view and navigation bar (1 ms)
2025-04-15T08:22:18.3584465Z     ✓ should create a window with live view and screen resolution (6 ms)
2025-04-15T08:22:18.3584817Z     ✓ should create a window with all live view options
2025-04-15T08:22:18.3585074Z     ✓ should throw error when 'sessionId' parameter is empty (15 ms)
2025-04-15T08:22:18.3585362Z     ✓ should throw error when screen resolution format is invalid (3 ms)
2025-04-15T08:22:18.3585499Z 
2025-04-15T08:22:18.3585638Z PASS nodes/Microsoft/Outlook/test/v2/node/event/create.test.ts
2025-04-15T08:22:18.3585856Z   Test MicrosoftOutlookV2, contact => event
2025-04-15T08:22:18.3586132Z     ✓ nodes/Microsoft/Outlook/test/v2/node/event/create.workflow (1818 ms)
2025-04-15T08:22:18.3586293Z 
2025-04-15T08:22:18.3586372Z PASS nodes/Slack/test/v2/utils.test.ts
2025-04-15T08:22:18.3586528Z   Slack Utility Functions
2025-04-15T08:22:18.3586660Z     getTarget
2025-04-15T08:22:18.3586822Z       ✓ should return correct target id (3 ms)
2025-04-15T08:22:18.3586993Z     createSendAndWaitMessageBody
2025-04-15T08:22:18.3587257Z       ✓ should create message with single button - pre 2.3 plain_text (8 ms)
2025-04-15T08:22:18.3587582Z       ✓ should create message with double buttons - pre 2.3 plain_text (3 ms)
2025-04-15T08:22:18.3587869Z       ✓ should create message with single button - 2.3+ mrkdwn (1 ms)
2025-04-15T08:22:18.3588149Z       ✓ should create message with double buttons - 2.3+ mrkdwn (1 ms)
2025-04-15T08:22:18.3588287Z 
2025-04-15T08:22:18.3588372Z PASS nodes/Splunk/test/v2/utils.test.ts
2025-04-15T08:22:18.3588521Z   Splunk, formatEntry
2025-04-15T08:22:18.3588764Z     ✓ should format the entry correctly when doNotFormatContent is false (3 ms)
2025-04-15T08:22:18.3589072Z     ✓ should format the entry correctly when doNotFormatContent is true
2025-04-15T08:22:18.3589316Z     ✓ should handle entries without id correctly
2025-04-15T08:22:18.3589585Z   Splunk, extractErrorDescription
2025-04-15T08:22:18.3589865Z     ✓ should extract the error description correctly when messages are present (1 ms)
2025-04-15T08:22:18.3590164Z     ✓ should return the raw error when messages are not present
2025-04-15T08:22:18.3590482Z     ✓ should return the raw error when response is not present
2025-04-15T08:22:18.3590781Z   Splunk, getId
2025-04-15T08:22:18.3591179Z     ✓ should return id extracted from the id parameter if it is url (1 ms)
2025-04-15T08:22:18.3591585Z     ✓ should return the unchanged id (1 ms)
2025-04-15T08:22:18.3591834Z   Splunk, populate
2025-04-15T08:22:18.3592201Z     ✓ should populate destination object with source object properties
2025-04-15T08:22:18.3592666Z     ✓ should not modify destination object if source object is empty
2025-04-15T08:22:18.3592968Z   Splunk, formatFeed
2025-04-15T08:22:18.3593353Z     ✓ should return an empty array when feed entries are not present (1 ms)
2025-04-15T08:22:18.3593830Z     ✓ should format feed entries correctly when entries are an array
2025-04-15T08:22:18.3594214Z     ✓ should format feed entry correctly when entry is a single object
2025-04-15T08:22:18.3594408Z   Splunk, setCount
2025-04-15T08:22:18.3594587Z     ✓ should set count to 0 if returnAll
2025-04-15T08:22:18.3594805Z     ✓ should set count to limit if returnAll is false
2025-04-15T08:22:18.3594980Z   Splunk, parseXml
2025-04-15T08:22:18.3595166Z     ✓ should parse valid XML string correctly (2 ms)
2025-04-15T08:22:18.3595413Z     ✓ should throw an error if XML string is invalid (12 ms)
2025-04-15T08:22:18.3595542Z 
2025-04-15T08:22:18.3595637Z PASS nodes/Set/test/v2/utils.test.ts
2025-04-15T08:22:18.3595831Z   test Set2, composeReturnItem
2025-04-15T08:22:18.3596077Z     ✓ should compose return item including no other fields (3 ms)
2025-04-15T08:22:18.3596350Z     ✓ should compose return item including selected fields (1 ms)
2025-04-15T08:22:18.3596667Z     ✓ should include binary when expected in version <3.4
2025-04-15T08:22:18.3596917Z     ✓ should include binary when expected in version >=3.4
2025-04-15T08:22:18.3597109Z   test Set2, parseJsonParameter
2025-04-15T08:22:18.3597293Z     ✓ should parse valid JSON string
2025-04-15T08:22:18.3597748Z     ✓ should tolerate single quotes in string
2025-04-15T08:22:18.3597965Z     ✓ should tolerate unquoted keys
2025-04-15T08:22:18.3598197Z     ✓ should tolerate trailing comma (1 ms)
2025-04-15T08:22:18.3598425Z     ✓ should tolerate trailing commas in objects
2025-04-15T08:22:18.3598627Z   test Set2, validateEntry
2025-04-15T08:22:18.3598851Z     ✓ should convert number to string (1 ms)
2025-04-15T08:22:18.3599078Z     ✓ should convert array to string
2025-04-15T08:22:18.3599314Z     ✓ should convert object to string
2025-04-15T08:22:18.3599574Z     ✓ should convert boolean to string (1 ms)
2025-04-15T08:22:18.3599866Z     ✓ should convert undefined to string
2025-04-15T08:22:18.3599996Z 
2025-04-15T08:22:18.3600150Z PASS nodes/MailerLite/tests/GenericFunctions.test.ts
2025-04-15T08:22:18.3600388Z   MailerLite -> mailerliteApiRequest
2025-04-15T08:22:18.3600683Z     ✓ should make a successful API request for type version 1 (4 ms)
2025-04-15T08:22:18.3601040Z     ✓ should make a successful API request for type version 2
2025-04-15T08:22:18.3601396Z     ✓ should make an API request with an empty body (1 ms)
2025-04-15T08:22:18.3601713Z     ✓ should throw an error if the API request fails (10 ms)
2025-04-15T08:22:18.3601921Z   MailerLite -> mailerliteApiRequestAllItems
2025-04-15T08:22:18.3602139Z     ✓ should handle pagination for type version 1
2025-04-15T08:22:18.3602372Z     ✓ should handle pagination for type version 2 (1 ms)
2025-04-15T08:22:18.3602557Z   MailerLite -> getCustomFields
2025-04-15T08:22:18.3602758Z     ✓ should return custom fields for type version 1
2025-04-15T08:22:18.3602993Z     ✓ should return custom fields for type version 2
2025-04-15T08:22:18.3603100Z 
2025-04-15T08:22:18.3603191Z PASS nodes/MySql/test/v2/utils.test.ts
2025-04-15T08:22:18.3603479Z   Test MySql V2, prepareQueryAndReplacements
2025-04-15T08:22:18.3603688Z     ✓ should transform query and values (3 ms)
2025-04-15T08:22:18.3603848Z   Test MySql V2, wrapData
2025-04-15T08:22:18.3604058Z     ✓ should wrap object in json
2025-04-15T08:22:18.3604277Z     ✓ should wrap each object in array in json (1 ms)
2025-04-15T08:22:18.3604495Z     ✓ json key from source should be inside json
2025-04-15T08:22:18.3604666Z   Test MySql V2, addWhereClauses
2025-04-15T08:22:18.3604851Z     ✓ add where clauses to query (1 ms)
2025-04-15T08:22:18.3605053Z     ✓ add where clauses to query combined by OR
2025-04-15T08:22:18.3605214Z   Test MySql V2, addSortRules
2025-04-15T08:22:18.3605371Z     ✓ should add ORDER by
2025-04-15T08:22:18.3605529Z   Test MySql V2, replaceEmptyStringsByNulls
2025-04-15T08:22:18.3605723Z     ✓ should replace empty strings
2025-04-15T08:22:18.3605921Z     ✓ should not replace empty strings (1 ms)
2025-04-15T08:22:18.3606095Z   Test MySql V2, escapeSqlIdentifier
2025-04-15T08:22:18.3606300Z     ✓ should escape fully qualified identifier
2025-04-15T08:22:18.3606490Z     ✓ should escape table name only
2025-04-15T08:22:18.3606730Z     ✓ should escape fully qualified identifier with backticks (1 ms)
2025-04-15T08:22:18.3606967Z     ✓ should escape identifier with dots
2025-04-15T08:22:18.3607140Z   Test MySql V2, splitQueryToStatements
2025-04-15T08:22:18.3607335Z     ✓ should split query into statements
2025-04-15T08:22:18.3607544Z     ✓ should not split by ; inside string literal
2025-04-15T08:22:18.3607659Z 
2025-04-15T08:22:18.3607751Z PASS nodes/MySql/test/v2/runQueries.test.ts
2025-04-15T08:22:18.3607915Z   Test MySql V2, runQueries
2025-04-15T08:22:18.3608256Z     ✓ should execute in "Single" mode, should return success true (3 ms)
2025-04-15T08:22:18.3608568Z     ✓ should execute in "independently" mode, should return success true (1 ms)
2025-04-15T08:22:18.3608883Z     ✓ should execute in "transaction" mode, should return success true (4 ms)
2025-04-15T08:22:18.3609105Z     in single query batch mode
2025-04-15T08:22:18.3609303Z       ✓ should set paired items correctly (5 ms)
2025-04-15T08:22:18.3609416Z 
2025-04-15T08:22:18.3609517Z PASS nodes/RabbitMQ/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3609690Z   RabbitMQ GenericFunctions
2025-04-15T08:22:18.3609981Z     parseMessage
2025-04-15T08:22:18.3610142Z       ✓ should handle binary data (7 ms)
2025-04-15T08:22:18.3610333Z       ✓ should handle JSON data (1 ms)
2025-04-15T08:22:18.3610533Z       ✓ should return only content, when requested
2025-04-15T08:22:18.3610700Z     rabbitmqConnect
2025-04-15T08:22:18.3610859Z       ✓ should connect to RabbitMQ
2025-04-15T08:22:18.3611057Z       ✓ should connect to RabbitMQ over SSL (1 ms)
2025-04-15T08:22:18.3611214Z     rabbitmqCreateChannel
2025-04-15T08:22:18.3611382Z       ✓ should create a channel (1 ms)
2025-04-15T08:22:18.3611534Z     rabbitmqConnectQueue
2025-04-15T08:22:18.3611691Z       ✓ should assert a queue
2025-04-15T08:22:18.3611870Z       ✓ should check a queue (1 ms)
2025-04-15T08:22:18.3612029Z     rabbitmqConnectExchange
2025-04-15T08:22:18.3612183Z       ✓ should assert a queue
2025-04-15T08:22:18.3612339Z       ✓ should check a queue
2025-04-15T08:22:18.3612473Z     MessageTracker
2025-04-15T08:22:18.3612653Z       ✓ should track received messages (1 ms)
2025-04-15T08:22:18.3612844Z       ✓ should track answered messages
2025-04-15T08:22:18.3613055Z       ✓ should return the number of unanswered messages
2025-04-15T08:22:18.3613289Z       ✓ should close the channel and connection (1 ms)
2025-04-15T08:22:18.3613409Z 
2025-04-15T08:22:18.3613531Z PASS nodes/Microsoft/Entra/test/MicrosoftEntra.node.test.ts
2025-04-15T08:22:18.3613722Z   Microsoft Entra Node
2025-04-15T08:22:18.3613848Z     Credentials
2025-04-15T08:22:18.3614056Z       ✓ should use correct credentials (58 ms)
2025-04-15T08:22:18.3614216Z     Load options
2025-04-15T08:22:18.3614384Z       ✓ should load group properties (9 ms)
2025-04-15T08:22:18.3614579Z       ✓ should load user properties (8 ms)
2025-04-15T08:22:18.3614847Z     List search
2025-04-15T08:22:18.3615008Z       ✓ should list search groups (1 ms)
2025-04-15T08:22:18.3615191Z       ✓ should list search users
2025-04-15T08:22:18.3615287Z 
2025-04-15T08:22:18.3615385Z PASS nodes/Notion/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3615564Z   Test NotionV2, formatBlocks
2025-04-15T08:22:18.3615739Z     ✓ should format to_do block (2 ms)
2025-04-15T08:22:18.3615884Z   Test Notion
2025-04-15T08:22:18.3616008Z     extractPageId From URL
2025-04-15T08:22:18.3616186Z       ✓ should return the part after "p="
2025-04-15T08:22:18.3616478Z       ✓ should return the last part after splitting by "-" when URL contains multiple "-"
2025-04-15T08:22:18.3616832Z       ✓ should return the last part after splitting by "-" when URL contains one "-" (1 ms)
2025-04-15T08:22:18.3617140Z       ✓ should return just the id when there is an instance name
2025-04-15T08:22:18.3617388Z       ✓ should return the id when there is no instance name
2025-04-15T08:22:18.3617565Z   Test Notion, getPageId
2025-04-15T08:22:18.3617763Z     ✓ should return page ID directly when mode is id
2025-04-15T08:22:18.3618009Z     ✓ should extract page ID from URL with p parameter (1 ms)
2025-04-15T08:22:18.3618257Z     ✓ should extract page ID from URL using regex (1 ms)
2025-04-15T08:22:18.3618518Z     ✓ should throw error when page ID cannot be extracted (29 ms)
2025-04-15T08:22:18.3618766Z     ✓ should throw error when page value is empty (2 ms)
2025-04-15T08:22:18.3619003Z     ✓ should throw error when page value is undefined (1 ms)
2025-04-15T08:22:18.3619238Z     ✓ should throw error when page value is not a string
2025-04-15T08:22:18.3619351Z 
2025-04-15T08:22:18.3619479Z PASS nodes/Google/Sheet/test/v2/transport/index.test.ts
2025-04-15T08:22:18.3619663Z   Google Sheets Transport
2025-04-15T08:22:18.3619795Z     apiRequest
2025-04-15T08:22:18.3620038Z       ✓ should make successful request with service account authentication (22 ms)
2025-04-15T08:22:18.3620363Z       ✓ should make successful request with OAuth2 authentication (1 ms)
2025-04-15T08:22:18.3620631Z       ✓ should handle custom headers and query parameters
2025-04-15T08:22:18.3620921Z       ✓ should handle PERMISSION_DENIED error with custom description (7 ms)
2025-04-15T08:22:18.3621286Z       ✓ should handle SSL certificate errors (1 ms)
2025-04-15T08:22:18.3621453Z     apiRequestAllItems
2025-04-15T08:22:18.3621630Z       ✓ should fetch all pages of results
2025-04-15T08:22:18.3621821Z       ✓ should handle empty response
2025-04-15T08:22:18.3621918Z 
2025-04-15T08:22:18.3622030Z PASS nodes/Google/Sheet/test/v2/node/update.test.ts
2025-04-15T08:22:18.3622211Z   Google Sheet - Update
2025-04-15T08:22:18.3622460Z     ✓ should update by row_number and not insert it as a new column (7 ms)
2025-04-15T08:22:18.3622768Z     ✓ should update rows by column values with special character (1 ms)
2025-04-15T08:22:18.3622970Z     row_number input error
2025-04-15T08:22:18.3623235Z       ✓ displays a helpful error message when row_number is undefined (23 ms)
2025-04-15T08:22:18.3623530Z       ✓ displays a helpful error message when row_number is null (1 ms)
2025-04-15T08:22:18.3623670Z 
2025-04-15T08:22:18.3623767Z PASS nodes/Microsoft/Sql/test/utils.test.ts
2025-04-15T08:22:18.3623934Z   MSSQL tests
2025-04-15T08:22:18.3624147Z     ✓ should perform insert operation (4 ms)
2025-04-15T08:22:18.3624342Z     ✓ should perform update operation
2025-04-15T08:22:18.3624539Z     ✓ should perform delete operation (1 ms)
2025-04-15T08:22:18.3624690Z     mssqlChunk
2025-04-15T08:22:18.3624865Z       ✓ should chunk insert values correctly (2 ms)
2025-04-15T08:22:18.3625056Z     executeSqlQueryAndPrepareResults
2025-04-15T08:22:18.3625288Z       ✓ should handle SELECT query with single record (3 ms)
2025-04-15T08:22:18.3625541Z       ✓ should handle SELECT query with multiple records
2025-04-15T08:22:18.3625754Z       ✓ should handle non-SELECT query (1 ms)
2025-04-15T08:22:18.3625961Z       ✓ should handle query with no affected rows
2025-04-15T08:22:18.3626292Z       ✓ should throw an error when query fails (11 ms)
2025-04-15T08:22:18.3626411Z 
2025-04-15T08:22:18.3626522Z PASS nodes/Compression/test/node/Compression.test.ts
2025-04-15T08:22:18.3626733Z   Execute Compression Node
2025-04-15T08:22:18.3626986Z     ✓ nodes/Compression/test/node/workflow.compression.json (392 ms)
2025-04-15T08:22:18.3627141Z 
2025-04-15T08:22:18.3627268Z PASS nodes/Google/Sheet/test/v2/helpers/GoogleSheet.test.ts
2025-04-15T08:22:18.3627489Z   GoogleSheet
2025-04-15T08:22:18.3627598Z     clearData
2025-04-15T08:22:18.3627779Z       ✓ should make correct API call to clear data (4 ms)
2025-04-15T08:22:18.3627941Z     getData
2025-04-15T08:22:18.3628130Z       ✓ should retrieve data with correct parameters (1 ms)
2025-04-15T08:22:18.3628328Z     convertSheetDataArrayToObjectArray
2025-04-15T08:22:18.3628552Z       ✓ should convert sheet data to object array correctly
2025-04-15T08:22:18.3628799Z       ✓ should handle empty rows when addEmpty is false (1 ms)
2025-04-15T08:22:18.3628982Z     lookupValues
2025-04-15T08:22:18.3629165Z       ✓ should find matching rows with OR combination
2025-04-15T08:22:18.3629409Z       ✓ should find matching rows with AND combination (1 ms)
2025-04-15T08:22:18.3629641Z       ✓ should throw error for invalid key row (16 ms)
2025-04-15T08:22:18.3629813Z     appendSheetData
2025-04-15T08:22:18.3629983Z       ✓ should correctly prepare and append data
2025-04-15T08:22:18.3630047Z     appendEmptyRowsOrColumns
2025-04-15T08:22:18.3630185Z       ✓ should throw error when no rows or columns specified (1 ms)
2025-04-15T08:22:18.3630323Z       ✓ should make correct API call to append rows and columns
2025-04-15T08:22:18.3630327Z 
2025-04-15T08:22:18.3630464Z PASS nodes/Microsoft/Storage/test/listSearch/listSearch.test.ts
2025-04-15T08:22:18.3630517Z   Azure Storage Node
2025-04-15T08:22:18.3630568Z     List search
2025-04-15T08:22:18.3630656Z       ✓ should list search blobs (7 ms)
2025-04-15T08:22:18.3630758Z       ✓ should list search containers (2 ms)
2025-04-15T08:22:18.3630767Z 
2025-04-15T08:22:18.3630871Z PASS nodes/Schedule/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3630928Z   toCronExpression
2025-04-15T08:22:18.3631068Z     ✓ should return cron expression for cronExpression field (3 ms)
2025-04-15T08:22:18.3631296Z     ✓ should return cron expression for seconds interval
2025-04-15T08:22:18.3631429Z     ✓ should return cron expression for minutes interval (1 ms)
2025-04-15T08:22:18.3631546Z     ✓ should return cron expression for hours interval
2025-04-15T08:22:18.3631663Z     ✓ should return cron expression for days interval
2025-04-15T08:22:18.3631772Z     ✓ should return cron expression for weeks interval
2025-04-15T08:22:18.3631889Z     ✓ should return cron expression for months interval
2025-04-15T08:22:18.3631939Z   recurrenceCheck
2025-04-15T08:22:18.3632049Z     ✓ should return true if activated=false (1 ms)
2025-04-15T08:22:18.3632154Z     ✓ should return false if intervalSize is falsey
2025-04-15T08:22:18.3632277Z     ✓ should return true only once for a day cron (1 ms)
2025-04-15T08:22:18.3632332Z   intervalToRecurrence
2025-04-15T08:22:18.3632463Z     ✓ should return recurrence rule for seconds interval (1 ms)
2025-04-15T08:22:18.3632573Z     ✓ should return recurrence rule for minutes interval
2025-04-15T08:22:18.3632773Z     ✓ should return recurrence rule for hours interval
2025-04-15T08:22:18.3632911Z     ✓ should return recurrence rule for days interval
2025-04-15T08:22:18.3633083Z     ✓ should return recurrence rule for weeks interval
2025-04-15T08:22:18.3633222Z     ✓ should return recurrence rule for months interval
2025-04-15T08:22:18.3633227Z 
2025-04-15T08:22:18.3633448Z PASS nodes/Microsoft/AzureCosmosDb/test/helpers/errorHandler.test.ts
2025-04-15T08:22:18.3633567Z   handleError
2025-04-15T08:22:18.3633706Z     ✓ should return data when no error occurs (3 ms)
2025-04-15T08:22:18.3633900Z     ✓ should throw NodeApiError for container conflict (52 ms)
2025-04-15T08:22:18.3634095Z     ✓ should throw NodeApiError for container not found (11 ms)
2025-04-15T08:22:18.3634376Z     ✓ should throw NodeApiError for item not found (1 ms)
2025-04-15T08:22:18.3634556Z     ✓ should throw generic error if no specific mapping exists (1 ms)
2025-04-15T08:22:18.3634789Z     ✓ should handle error details correctly when match is successful (1 ms)
2025-04-15T08:22:18.3634964Z     ✓ should handle error when match does not return expected format
2025-04-15T08:22:18.3635218Z     ✓ should throw NodeApiError with proper details if error details are present (1 ms)
2025-04-15T08:22:18.3635409Z     ✓ should throw NodeApiError with fallback message if no details found
2025-04-15T08:22:18.3635412Z 
2025-04-15T08:22:18.3635605Z PASS nodes/Google/Sheet/test/v2/methods/loadOptions.test.ts
2025-04-15T08:22:18.3635692Z   Google Sheets Functions
2025-04-15T08:22:18.3635805Z     getSheets
2025-04-15T08:22:18.3636006Z       ✓ should return an empty array if documentId is null (22 ms)
2025-04-15T08:22:18.3636161Z       ✓ should throw an error if no data is returned (17 ms)
2025-04-15T08:22:18.3636333Z       ✓ should return sheets with GRID type
2025-04-15T08:22:18.3636414Z     getSheetHeaderRow
2025-04-15T08:22:18.3636612Z       ✓ should return an empty array if documentId is null (3 ms)
2025-04-15T08:22:18.3636850Z       ✓ should throw an error if no data is returned (1 ms)
2025-04-15T08:22:18.3637003Z       ✓ should return column headers
2025-04-15T08:22:18.3637106Z     getSheetHeaderRowAndAddColumn
2025-04-15T08:22:18.3637322Z       ✓ should add a new column and exclude the column to match on (1 ms)
2025-04-15T08:22:18.3637479Z     getSheetHeaderRowWithGeneratedColumnNames
2025-04-15T08:22:18.3637655Z       ✓ should generate column names for empty values
2025-04-15T08:22:18.3637756Z     getSheetHeaderRowAndSkipEmpty
2025-04-15T08:22:18.3637930Z       ✓ should skip columns with empty values (1 ms)
2025-04-15T08:22:18.3637934Z 
2025-04-15T08:22:18.3638088Z PASS nodes/Microsoft/Outlook/test/v2/utils/utils.test.ts
2025-04-15T08:22:18.3638241Z   Test MicrosoftOutlookV2, makeRecipient
2025-04-15T08:22:18.3638417Z     ✓ should create recipient object (12 ms)
2025-04-15T08:22:18.3638564Z   Test MicrosoftOutlookV2, prepareContactFields
2025-04-15T08:22:18.3638727Z     ✓ should create contact object (1 ms)
2025-04-15T08:22:18.3638847Z   Test MicrosoftOutlookV2, prepareFilterString
2025-04-15T08:22:18.3639007Z     ✓ should create filter string (1 ms)
2025-04-15T08:22:18.3639131Z   Test MicrosoftOutlookV2, simplifyOutputMessages
2025-04-15T08:22:18.3639295Z     ✓ should create recipient object (1 ms)
2025-04-15T08:22:18.3639401Z   Test MicrosoftOutlookV2, createMessage
2025-04-15T08:22:18.3639559Z     ✓ should create message object (5 ms)
2025-04-15T08:22:18.3639563Z 
2025-04-15T08:22:18.3639706Z PASS nodes/Slack/test/v2/node/message/search.test.ts
2025-04-15T08:22:18.3639844Z   Test SlackV2, message => search
2025-04-15T08:22:18.3640020Z     ✓ nodes/Slack/test/v2/node/message/search.workflow (1224 ms)
2025-04-15T08:22:18.3640023Z 
2025-04-15T08:22:18.3640201Z PASS nodes/Airtop/test/node/extraction/query.test.ts
2025-04-15T08:22:18.3640340Z   Test Airtop, query page operation
2025-04-15T08:22:18.3640548Z     ✓ should query the page with minimal parameters using existing session (3 ms)
2025-04-15T08:22:18.3640802Z     ✓ should query the page with output schema using existing session (1 ms)
2025-04-15T08:22:18.3640957Z     ✓ should query the page using a new session (1 ms)
2025-04-15T08:22:18.3641199Z     ✓ should throw error when 'sessionId' is empty in 'existing' session mode (17 ms)
2025-04-15T08:22:18.3641399Z     ✓ should throw error when 'windowId' is empty in 'existing' session mode (1 ms)
2025-04-15T08:22:18.3641403Z 
2025-04-15T08:22:18.3641518Z   console.warn
2025-04-15T08:22:18.3642142Z     Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
2025-04-15T08:22:18.3642372Z     Arguments: 
2025-04-15T08:22:18.3642702Z     [0] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: foo bar baz, _f: undefined, _strict: undefined, _locale: [object Object]
2025-04-15T08:22:18.3642783Z     Error: 
2025-04-15T08:22:18.3643127Z         at Function.createFromInputFallback (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:324:25)
2025-04-15T08:22:18.3643389Z         at configFromString (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
2025-04-15T08:22:18.3643672Z         at configFromInput (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
2025-04-15T08:22:18.3643914Z         at prepareConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
2025-04-15T08:22:18.3644245Z         at createFromConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
2025-04-15T08:22:18.3644491Z         at createLocalOrUTC (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
2025-04-15T08:22:18.3644764Z         at createLocal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
2025-04-15T08:22:18.3645114Z         at hooks (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
2025-04-15T08:22:18.3645352Z         at getValue (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Salesforce/GenericFunctions.ts:182:12)
2025-04-15T08:22:18.3645681Z         at Object.<anonymous> (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Salesforce/__test__/GenericFunctions.test.ts:24:27)
2025-04-15T08:22:18.3645977Z         at Promise.then.completed (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:300:28)
2025-04-15T08:22:18.3646125Z         at new Promise (<anonymous>)
2025-04-15T08:22:18.3646409Z         at callAsyncCircusFn (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:233:10)
2025-04-15T08:22:18.3646714Z         at _callCircusTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:315:40)
2025-04-15T08:22:18.3646886Z         at processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-15T08:22:18.3647175Z         at _runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:251:3)
2025-04-15T08:22:18.3647541Z         at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:125:9)
2025-04-15T08:22:18.3647833Z         at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:120:9)
2025-04-15T08:22:18.3648167Z         at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:120:9)
2025-04-15T08:22:18.3648520Z         at run (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:70:3)
2025-04-15T08:22:18.3648982Z         at runAndTransformResultsToJestFormat (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
2025-04-15T08:22:18.3649323Z         at jestAdapter (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
2025-04-15T08:22:18.3649643Z         at runTestInternal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:367:16)
2025-04-15T08:22:18.3650054Z         at runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:444:34)
2025-04-15T08:22:18.3650334Z         at Object.worker (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/testWorker.js:106:12)
2025-04-15T08:22:18.3650338Z 
2025-04-15T08:22:18.3650499Z     [0m [90m 180 |[39m
2025-04-15T08:22:18.3650716Z      [90m 181 |[39m [36mexport[39m [36mfunction[39m getValue(value[33m:[39m any) {
2025-04-15T08:22:18.3650991Z     [31m[1m>[22m[39m[90m 182 |[39m 	[36mif[39m (moment(value [36mas[39m string)[33m.[39misValid()) {
2025-04-15T08:22:18.3651142Z      [90m     |[39m 	          [31m[1m^[22m[39m
2025-04-15T08:22:18.3651326Z      [90m 183 |[39m 		[36mreturn[39m value[33m;[39m
2025-04-15T08:22:18.3651563Z      [90m 184 |[39m 	} [36melse[39m [36mif[39m ([36mtypeof[39m value [33m===[39m [32m'string'[39m) {
2025-04-15T08:22:18.3651779Z      [90m 185 |[39m 		[36mreturn[39m [32m`'${value}'`[39m[33m;[39m[0m
2025-04-15T08:22:18.3651783Z 
2025-04-15T08:22:18.3652006Z       at warn (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:287:21)
2025-04-15T08:22:18.3652260Z       at Function.createFromInputFallback (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:319:17)
2025-04-15T08:22:18.3652609Z       at configFromString (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
2025-04-15T08:22:18.3652814Z       at configFromInput (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
2025-04-15T08:22:18.3653045Z       at prepareConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
2025-04-15T08:22:18.3653248Z       at createFromConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
2025-04-15T08:22:18.3653488Z       at createLocalOrUTC (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
2025-04-15T08:22:18.3653678Z       at createLocal (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
2025-04-15T08:22:18.3653892Z       at hooks (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
2025-04-15T08:22:18.3654102Z       at getValue (nodes/Salesforce/GenericFunctions.ts:182:12)
2025-04-15T08:22:18.3654294Z       at Object.<anonymous> (nodes/Salesforce/__test__/GenericFunctions.test.ts:24:27)
2025-04-15T08:22:18.3654298Z 
2025-04-15T08:22:18.3654490Z PASS nodes/Salesforce/__test__/GenericFunctions.test.ts
2025-04-15T08:22:18.3654595Z   Salesforce -> GenericFunctions
2025-04-15T08:22:18.3654712Z     getValue
2025-04-15T08:22:18.3654850Z       ✓ should return date string as is (4 ms)
2025-04-15T08:22:18.3655032Z       ✓ should return string in single quotes (25 ms)
2025-04-15T08:22:18.3655151Z       ✓ should return number as is
2025-04-15T08:22:18.3655304Z       ✓ should return boolean as is
2025-04-15T08:22:18.3655390Z     sortOptions
2025-04-15T08:22:18.3655582Z       ✓ should sort options alphabetically by name (1 ms)
2025-04-15T08:22:18.3655663Z     getConditions
2025-04-15T08:22:18.3655825Z       ✓ should handle equals operation
2025-04-15T08:22:18.3655956Z       ✓ should handle other operations (1 ms)
2025-04-15T08:22:18.3656157Z       ✓ should return undefined when constitions is not an array
2025-04-15T08:22:18.3656367Z       ✓ should return undefined when constitions is an empty array
2025-04-15T08:22:18.3656455Z     getDefaultFields
2025-04-15T08:22:18.3656610Z       ✓ should return default fields
2025-04-15T08:22:18.3656689Z     getQuery
2025-04-15T08:22:18.3656890Z       ✓ should return query when the fields are comma separated
2025-04-15T08:22:18.3657059Z       ✓ should return query when the fields are strings in an array
2025-04-15T08:22:18.3657285Z       ✓ should return query with default fields when the fields are missing
2025-04-15T08:22:18.3657415Z       ✓ should return query with a condition
2025-04-15T08:22:18.3657576Z       ✓ should return query with a limit
2025-04-15T08:22:18.3657721Z       ✓ should return query with a condition and a limit
2025-04-15T08:22:18.3657824Z 
2025-04-15T08:22:18.3658001Z PASS nodes/Slack/test/v2/GenericFunctions.test.ts
2025-04-15T08:22:18.3658091Z   Slack V2 > GenericFunctions
2025-04-15T08:22:18.3658214Z     slackApiRequest
2025-04-15T08:22:18.3658358Z       ✓ should handle paid_teams_only error (15 ms)
2025-04-15T08:22:18.3658484Z     slackApiRequestAllItems
2025-04-15T08:22:18.3658670Z       ✓ should use default limit of 100 when no limit is provided (4 ms)
2025-04-15T08:22:18.3658863Z       ✓ should use provided limit value when specified (1 ms)
2025-04-15T08:22:18.3659062Z       ✓ should use count instead of limit for files.list endpoint
2025-04-15T08:22:18.3659189Z       ✓ should handle files.list pagination
2025-04-15T08:22:18.3659385Z       ✓ should handle regular pagination with paging info (1 ms)
2025-04-15T08:22:18.3659510Z       ✓ should handle matches in response
2025-04-15T08:22:18.3659514Z 
2025-04-15T08:22:18.3659698Z PASS nodes/Google/BigQuery/test/v2/utils/utils.test.ts
2025-04-15T08:22:18.3659792Z   Google BigQuery v2 Utils
2025-04-15T08:22:18.3659946Z     ✓ should prepareOutput (4 ms)
2025-04-15T08:22:18.3659953Z 
2025-04-15T08:22:18.3660165Z PASS nodes/Google/Sheet/test/v2/actions/spreadsheet/create.operation.test.ts
2025-04-15T08:22:18.3660400Z   Spreadsheet Create Operation
2025-04-15T08:22:18.3660482Z     execute
2025-04-15T08:22:18.3660683Z       ✓ should create a basic spreadsheet with title only (4 ms)
2025-04-15T08:22:18.3660862Z       ✓ should create spreadsheet with multiple sheets
2025-04-15T08:22:18.3661017Z       ✓ should handle all options when creating spreadsheet
2025-04-15T08:22:18.3661184Z       ✓ should handle multiple input items (1 ms)
2025-04-15T08:22:18.3661314Z       ✓ should handle empty sheet properties
2025-04-15T08:22:18.3661517Z       ✓ should preserve undefined values for optional properties
2025-04-15T08:22:18.3661521Z 
2025-04-15T08:22:18.3661659Z PASS nodes/Supabase/tests/Supabase.node.test.ts
2025-04-15T08:22:18.3661781Z   Test Supabase Node
2025-04-15T08:22:18.3661966Z     ✓ should allow filtering on the same field multiple times (4 ms)
2025-04-15T08:22:18.3662165Z     ✓ should not set schema headers if no custom schema is used
2025-04-15T08:22:18.3662355Z     ✓ should set the schema headers for GET calls if custom schema is used
2025-04-15T08:22:18.3662589Z     ✓ should set the schema headers for POST calls if custom schema is used
2025-04-15T08:22:18.3662760Z     ✓ should show descriptive message when error is caught (1 ms)
2025-04-15T08:22:18.3662801Z 
2025-04-15T08:22:18.3662946Z PASS nodes/Github/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3663065Z   GenericFunctions
2025-04-15T08:22:18.3663151Z     githubApiRequest
2025-04-15T08:22:18.3663326Z       ✓ should make a successful API request (5 ms)
2025-04-15T08:22:18.3663479Z       ✓ should throw a NodeApiError on API failure (13 ms)
2025-04-15T08:22:18.3663582Z     getFileSha
2025-04-15T08:22:18.3663706Z       ✓ should return the SHA of a file
2025-04-15T08:22:18.3663920Z       ✓ should throw a NodeOperationError if SHA is missing (1 ms)
2025-04-15T08:22:18.3664049Z     githubApiRequestAllItems
2025-04-15T08:22:18.3664216Z       ✓ should fetch all items with pagination
2025-04-15T08:22:18.3664296Z     isBase64
2025-04-15T08:22:18.3664483Z       ✓ should return true for valid Base64 strings (1 ms)
2025-04-15T08:22:18.3664650Z       ✓ should return false for invalid Base64 strings
2025-04-15T08:22:18.3664768Z     validateJSON
2025-04-15T08:22:18.3664915Z       ✓ should return parsed JSON for valid JSON strings
2025-04-15T08:22:18.3665095Z       ✓ should return undefined for invalid JSON strings
2025-04-15T08:22:18.3665098Z 
2025-04-15T08:22:18.3665290Z PASS nodes/Files/ReadWriteFile/test/ReadWriteFile.test.ts
2025-04-15T08:22:18.3665380Z   Test ReadWriteFile Node
2025-04-15T08:22:18.3665623Z     ✓ nodes/Files/ReadWriteFile/test/ReadWriteFile.workflow.json (290 ms)
2025-04-15T08:22:18.3665627Z 
2025-04-15T08:22:18.3665752Z PASS nodes/Airtop/test/session-utils.test.ts
2025-04-15T08:22:18.3666097Z   executeRequestWithSessionManagement
2025-04-15T08:22:18.3666202Z     When 'sessionMode' is 'new'
2025-04-15T08:22:18.3666441Z       ✓ should create a new session and window when 'sessionMode' is 'new' (4 ms)
2025-04-15T08:22:18.3666631Z       ✓ should not terminate session when 'autoTerminateSession' is false
2025-04-15T08:22:18.3666868Z       ✓ should terminate session when 'autoTerminateSession' is true (1 ms)
2025-04-15T08:22:18.3667039Z       ✓ should call the operation passed in the 'request' parameter
2025-04-15T08:22:18.3667180Z     When 'sessionMode' is 'existing'
2025-04-15T08:22:18.3667328Z       ✓ should not create a new session and window (1 ms)
2025-04-15T08:22:18.3667540Z       ✓ should call the operation passed in the 'request' parameter
2025-04-15T08:22:18.3667549Z 
2025-04-15T08:22:18.3667805Z PASS nodes/Transform/RemoveDuplicates/v2/test/RemoveDuplicates.test.ts
2025-04-15T08:22:18.3667890Z   RemoveDuplicatesV2
2025-04-15T08:22:18.3668133Z     ✓ should Remove items repeated within current input based on all fields (5 ms)
2025-04-15T08:22:18.3668359Z     ✓ should Remove items repeated within current input based on selected fields (1 ms)
2025-04-15T08:22:18.3668557Z     ✓ should remove items seen in previous executions (1 ms)
2025-04-15T08:22:18.3668813Z     ✓ should clean database when managing key values (1 ms)
2025-04-15T08:22:18.3668817Z 
2025-04-15T08:22:18.3669009Z PASS nodes/Google/YouTube/__test__/node/YouTube.node.test.ts
2025-04-15T08:22:18.3669092Z   Test YouTube Node
2025-04-15T08:22:18.3669210Z     Channel
2025-04-15T08:22:18.3669429Z       ✓ nodes/Google/YouTube/__test__/node/channels.workflow (765 ms)
2025-04-15T08:22:18.3669561Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3669676Z     Playlist
2025-04-15T08:22:18.3669851Z       ✓ nodes/Google/YouTube/__test__/node/playlists.workflow (36 ms)
2025-04-15T08:22:18.3670018Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3670101Z     Video Categories
2025-04-15T08:22:18.3670347Z       ✓ nodes/Google/YouTube/__test__/node/videoCategories.workflow (7 ms)
2025-04-15T08:22:18.3670472Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3670590Z     Playlist Item
2025-04-15T08:22:18.3670778Z       ✓ nodes/Google/YouTube/__test__/node/playlistItems.workflow (46 ms)
2025-04-15T08:22:18.3670790Z 
2025-04-15T08:22:18.3670982Z PASS nodes/SpreadsheetFile/test/SpreadsheetFile.test.ts
2025-04-15T08:22:18.3671081Z   Execute Spreadsheet File Node
2025-04-15T08:22:18.3671236Z     ✓ execute workflow.json (657 ms)
2025-04-15T08:22:18.3671361Z     ✓ execute workflow.bom.json (31 ms)
2025-04-15T08:22:18.3671527Z     ✓ execute includeempty.json (3 ms)
2025-04-15T08:22:18.3671640Z     ✓ execute utf8.json (4 ms)
2025-04-15T08:22:18.3671680Z 
2025-04-15T08:22:18.3671816Z PASS nodes/Airtop/test/node/session/create.test.ts
2025-04-15T08:22:18.3671957Z   Test Airtop, session create operation
2025-04-15T08:22:18.3672116Z     ✓ should create a session with minimal parameters (4 ms)
2025-04-15T08:22:18.3672316Z     ✓ should create a session with save profile enabled (1 ms)
2025-04-15T08:22:18.3672457Z     ✓ should create a session with integrated proxy
2025-04-15T08:22:18.3672642Z     ✓ should create a session with custom proxy (1 ms)
2025-04-15T08:22:18.3672816Z     ✓ should throw error when custom proxy URL is invalid (12 ms)
2025-04-15T08:22:18.3673015Z     ✓ should throw error when custom proxy URL is empty (1 ms)
2025-04-15T08:22:18.3673019Z 
2025-04-15T08:22:18.3673133Z PASS nodes/Twitter/test/Twitter.test.ts
2025-04-15T08:22:18.3673261Z   Test Twitter Request Node
2025-04-15T08:22:18.3673460Z     ✓ nodes/Twitter/test/Workflow_Twitter_UnitTest (339 ms)
2025-04-15T08:22:18.3673549Z   X / Twitter Node unit tests
2025-04-15T08:22:18.3673668Z     returnId
2025-04-15T08:22:18.3673794Z       ✓ should return the id when mode is id
2025-04-15T08:22:18.3674046Z       ✓ should extract the tweetId from url when the domain is twitter.com (1 ms)
2025-04-15T08:22:18.3674242Z       ✓ should extract the tweetId from url when the domain is x.com
2025-04-15T08:22:18.3674548Z       ✓ should throw an error when mode is not valid (6 ms)
2025-04-15T08:22:18.3674675Z       should throw an error when the URL is not valid
2025-04-15T08:22:18.3674842Z         ✓ https://twitter.com/user/ (1 ms)
2025-04-15T08:22:18.3674971Z         ✓ https://twitter.com/user/status/
2025-04-15T08:22:18.3675143Z         ✓ https://twitter.com/user/profile/12345
2025-04-15T08:22:18.3675289Z         ✓ https://twitter.com/search?param=12345 (1 ms)
2025-04-15T08:22:18.3675293Z 
2025-04-15T08:22:18.3675462Z PASS nodes/Lemlist/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3675545Z   GenericFunctions
2025-04-15T08:22:18.3675665Z     lemlistApiRequest
2025-04-15T08:22:18.3675834Z       ✓ should make an authenticated API request to Lemlist (3 ms)
2025-04-15T08:22:18.3675966Z     lemlistApiRequestAllItems
2025-04-15T08:22:18.3676128Z       ✓ should return all results (1 ms)
2025-04-15T08:22:18.3676209Z     getEvents
2025-04-15T08:22:18.3676422Z       ✓ should return a list of events with capitalized names (1 ms)
2025-04-15T08:22:18.3676426Z 
2025-04-15T08:22:18.3676550Z PASS nodes/Aws/SES/test/AwsSes.node.test.ts
2025-04-15T08:22:18.3676664Z   AwsSes Node
2025-04-15T08:22:18.3676810Z     ✓ should create customVerificationEmail (481 ms)
2025-04-15T08:22:18.3677288Z     ✓ should URIencode params for sending email with template (21 ms)
2025-04-15T08:22:18.3677293Z 
2025-04-15T08:22:18.3677436Z PASS utils/__tests__/connection-pool-manager.test.ts
2025-04-15T08:22:18.3677650Z   ✓ getInstance returns a singleton (2 ms)
2025-04-15T08:22:18.3677732Z   getConnection
2025-04-15T08:22:18.3677971Z     ✓ calls fallBackHandler only once and returns the first value (1 ms)
2025-04-15T08:22:18.3678180Z     ✓ creates different pools for different node versions (1 ms)
2025-04-15T08:22:18.3678337Z     ✓ calls cleanUpHandler after TTL expires
2025-04-15T08:22:18.3678442Z   onShutdown
2025-04-15T08:22:18.3678586Z     ✓ calls all clean up handlers (1 ms)
2025-04-15T08:22:18.3678801Z     ✓ calls all clean up handlers when `exit` is emitted on process
2025-04-15T08:22:18.3678805Z 
2025-04-15T08:22:18.3678943Z PASS nodes/Notion/test/node/v2/block/getAll.test.ts
2025-04-15T08:22:18.3679085Z   Test NotionV2, block => getAll
2025-04-15T08:22:18.3679253Z     ✓ nodes/Notion/test/node/v2/block/getAll.workflow (121 ms)
2025-04-15T08:22:18.3679263Z 
2025-04-15T08:22:18.3679470Z PASS nodes/Aws/Rekognition/test/AwsRekognition.node.test.ts
2025-04-15T08:22:18.3679561Z   Test AWS Rekogntion Node
2025-04-15T08:22:18.3679688Z     Image Labels Recognition
2025-04-15T08:22:18.3679887Z       ✓ nodes/Aws/Rekognition/test/AwsRekognitionTestWorkflow (412 ms)
2025-04-15T08:22:18.3679931Z 
2025-04-15T08:22:18.3680073Z PASS nodes/Slack/test/v2/node/channel/history.test.ts
2025-04-15T08:22:18.3680214Z   Test SlackV2, channel => history
2025-04-15T08:22:18.3680387Z     ✓ nodes/Slack/test/v2/node/channel/history.workflow (152 ms)
2025-04-15T08:22:18.3680391Z 
2025-04-15T08:22:18.3680609Z PASS nodes/Salesforce/__test__/node/Salesforce.node.test.ts
2025-04-15T08:22:18.3680669Z   Salesforce Node
2025-04-15T08:22:18.3680761Z     users
2025-04-15T08:22:18.3680919Z       ✓ nodes/Salesforce/__test__/node/users.workflow (1214 ms)
2025-04-15T08:22:18.3681118Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3681170Z     tasks
2025-04-15T08:22:18.3681340Z       ✓ nodes/Salesforce/__test__/node/tasks.workflow (50 ms)
2025-04-15T08:22:18.3681438Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3681518Z     accounts
2025-04-15T08:22:18.3681650Z       ✓ nodes/Salesforce/__test__/node/accounts.workflow (49 ms)
2025-04-15T08:22:18.3681759Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3681811Z     search
2025-04-15T08:22:18.3681937Z       ✓ nodes/Salesforce/__test__/node/search.workflow (5 ms)
2025-04-15T08:22:18.3682042Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3682094Z     opportunities
2025-04-15T08:22:18.3682241Z       ✓ nodes/Salesforce/__test__/node/opportunities.workflow (60 ms)
2025-04-15T08:22:18.3682442Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3682446Z 
2025-04-15T08:22:18.3682560Z PASS nodes/Airtop/test/node/extraction/scrape.test.ts
2025-04-15T08:22:18.3682628Z   Test Airtop, scrape operation
2025-04-15T08:22:18.3682817Z     ✓ should scrape content with minimal parameters using existing session (4 ms)
2025-04-15T08:22:18.3683001Z     ✓ should scrape content with additional parameters using existing session (1 ms)
2025-04-15T08:22:18.3683124Z     ✓ should scrape content using a new session (1 ms)
2025-04-15T08:22:18.3683298Z     ✓ should throw error when sessionId is empty in 'existing' session mode (10 ms)
2025-04-15T08:22:18.3683464Z     ✓ should throw error when windowId is empty in 'existing' session mode (1 ms)
2025-04-15T08:22:18.3683467Z 
2025-04-15T08:22:18.3683595Z PASS nodes/Google/Calendar/test/node/event.update.test.ts
2025-04-15T08:22:18.3683648Z   Google Calendar Node
2025-04-15T08:22:18.3683723Z     Google Calendar > Event > Update
2025-04-15T08:22:18.3683857Z       ✓ should update replace attendees in version 1.1 (5 ms)
2025-04-15T08:22:18.3684005Z       ✓ should update replace attendees (1 ms)
2025-04-15T08:22:18.3684099Z       ✓ should update add attendees (1 ms)
2025-04-15T08:22:18.3684454Z 
2025-04-15T08:22:18.3684677Z PASS nodes/S3/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3684747Z   S3 Node Generic Functions
2025-04-15T08:22:18.3684809Z     s3ApiRequest
2025-04-15T08:22:18.3685071Z       ✓ should throw error if endpoint does not start with http (14 ms)
2025-04-15T08:22:18.3685182Z       ✓ should handle force path style (1 ms)
2025-04-15T08:22:18.3685274Z       ✓ should handle supabase url
2025-04-15T08:22:18.3685329Z     s3ApiRequestREST
2025-04-15T08:22:18.3685422Z       ✓ should parse JSON response
2025-04-15T08:22:18.3685547Z       ✓ should return raw response on parse error (1 ms)
2025-04-15T08:22:18.3685608Z     s3ApiRequestSOAP
2025-04-15T08:22:18.3685695Z       ✓ should parse XML response
2025-04-15T08:22:18.3685821Z       ✓ should handle XML parsing errors (1 ms)
2025-04-15T08:22:18.3685881Z     s3ApiRequestSOAPAllItems
2025-04-15T08:22:18.3686021Z       ✓ should handle pagination with continuation token (1 ms)
2025-04-15T08:22:18.3686026Z 
2025-04-15T08:22:18.3686152Z PASS nodes/Redis/__tests__/RedisTrigger.node.test.ts
2025-04-15T08:22:18.3686211Z   Redis Trigger Node
2025-04-15T08:22:18.3686304Z     ✓ should emit in manual mode (7 ms)
2025-04-15T08:22:18.3686402Z     ✓ should emit in trigger mode (1 ms)
2025-04-15T08:22:18.3686511Z     ✓ should parse JSON messages when configured
2025-04-15T08:22:18.3686514Z 
2025-04-15T08:22:18.3686620Z PASS nodes/MQTT/test/MqttTrigger.node.test.ts
2025-04-15T08:22:18.3686676Z   MQTT Trigger Node
2025-04-15T08:22:18.3686763Z     ✓ should emit in manual mode (7 ms)
2025-04-15T08:22:18.3686856Z     ✓ should emit in trigger mode (12 ms)
2025-04-15T08:22:18.3686975Z     ✓ should parse JSON messages when configured (2 ms)
2025-04-15T08:22:18.3686980Z 
2025-04-15T08:22:18.3687077Z PASS nodes/Code/test/Code.node.test.ts
2025-04-15T08:22:18.3687129Z   Test Code Node
2025-04-15T08:22:18.3687286Z     ✓ nodes/Code/test/Code.workflow (81 ms)
2025-04-15T08:22:18.3687456Z     ✓ nodes/Code/test/workflow.do_not_obfuscate_validation_error (5 ms)
2025-04-15T08:22:18.3687538Z   Code Node unit test
2025-04-15T08:22:18.3687591Z     runOnceForAllItems
2025-04-15T08:22:18.3687652Z       valid return data
2025-04-15T08:22:18.3687738Z         ✓ should handle null (1 ms)
2025-04-15T08:22:18.3687859Z         ✓ should handle pre-normalized result (2 ms)
2025-04-15T08:22:18.3687949Z         ✓ should handle an index key (1 ms)
2025-04-15T08:22:18.3688236Z         ✓ should handle when returned data is not an array (2 ms)
2025-04-15T08:22:18.3688526Z         ✓ should handle when returned data is an array with items missing `json` key (1 ms)
2025-04-15T08:22:18.3688682Z         ✓ should handle when returned data missing `json` key (1 ms)
2025-04-15T08:22:18.3688746Z       invalid return data
2025-04-15T08:22:18.3689042Z         ✓ return error if `.json` is undefined (2 ms)
2025-04-15T08:22:18.3689151Z         ✓ return error if `.json` is null (1 ms)
2025-04-15T08:22:18.3689249Z         ✓ return error if `.json` is date (1 ms)
2025-04-15T08:22:18.3689412Z         ✓ return error if `.json` is string (1 ms)
2025-04-15T08:22:18.3689550Z         ✓ return error if `.json` is boolean (2 ms)
2025-04-15T08:22:18.3689656Z         ✓ return error if `.json` is array (1 ms)
2025-04-15T08:22:18.3689711Z     runOnceForEachItem
2025-04-15T08:22:18.3689776Z       valid return data
2025-04-15T08:22:18.3689889Z         ✓ should handle pre-normalized result (1 ms)
2025-04-15T08:22:18.3690062Z         ✓ should handle when returned data missing `json` key (2 ms)
2025-04-15T08:22:18.3690120Z       invalid return data
2025-04-15T08:22:18.3690235Z         ✓ return error if `.json` is undefined (1 ms)
2025-04-15T08:22:18.3690332Z         ✓ return error if `.json` is null (1 ms)
2025-04-15T08:22:18.3690444Z         ✓ return error if `.json` is date (2 ms)
2025-04-15T08:22:18.3690555Z         ✓ return error if `.json` is string (1 ms)
2025-04-15T08:22:18.3690668Z         ✓ return error if `.json` is boolean (1 ms)
2025-04-15T08:22:18.3690769Z         ✓ return error if `.json` is array (2 ms)
2025-04-15T08:22:18.3690896Z 
2025-04-15T08:22:18.3691024Z PASS nodes/Notion/test/node/v2/database/search.test.ts
2025-04-15T08:22:18.3691106Z   Test NotionV2, database => search
2025-04-15T08:22:18.3691261Z     ✓ nodes/Notion/test/node/v2/database/search.workflow (113 ms)
2025-04-15T08:22:18.3691265Z 
2025-04-15T08:22:18.3691369Z PASS nodes/Google/Gmail/test/v2/utils.test.ts
2025-04-15T08:22:18.3691446Z   Google Gmail v2, prepareTimestamp
2025-04-15T08:22:18.3691571Z     ✓ should return a valid timestamp from ISO (18 ms)
2025-04-15T08:22:18.3691732Z     ✓ should return a valid timestamp from integer in miliseconds (1 ms)
2025-04-15T08:22:18.3691887Z     ✓ should return a valid timestamp from integer in seconds
2025-04-15T08:22:18.3692046Z     ✓ should return a valid timestamp from string in miliseconds (1 ms)
2025-04-15T08:22:18.3692200Z     ✓ should return a valid timestamp from string in seconds
2025-04-15T08:22:18.3692338Z     ✓ should return a valid timestamp from luxon DateTime (1 ms)
2025-04-15T08:22:18.3692486Z     ✓ should return a valid timestamp from luxon DateTime ISO (2 ms)
2025-04-15T08:22:18.3692593Z     ✓ should throw error on invalid data (24 ms)
2025-04-15T08:22:18.3692645Z   parseRawEmail
2025-04-15T08:22:18.3692751Z     ✓ should return a date string (12 ms)
2025-04-15T08:22:18.3692756Z 
2025-04-15T08:22:18.3692914Z PASS nodes/Microsoft/AzureCosmosDb/test/credentials/sharedKey.test.ts
2025-04-15T08:22:18.3692975Z   Azure Cosmos DB
2025-04-15T08:22:18.3693023Z     authenticate
2025-04-15T08:22:18.3693164Z       ✓ should generate a valid authorization header (5 ms)
2025-04-15T08:22:18.3693358Z       ✓ should throw an error when unable to determine the resource type from the URL (7 ms)
2025-04-15T08:22:18.3693552Z       ✓ should throw OperationalError if no resource type found in URL path (1 ms)
2025-04-15T08:22:18.3693684Z       ✓ should properly construct the resourceId and payload
2025-04-15T08:22:18.3693688Z 
2025-04-15T08:22:18.3693861Z PASS nodes/Microsoft/Storage/test/credentials/sharedKey.test.ts
2025-04-15T08:22:18.3693924Z   Azure Storage Node
2025-04-15T08:22:18.3694102Z     should use correct shared key credentials
2025-04-15T08:22:18.3694358Z       ✓ nodes/Microsoft/Storage/test/workflows/credentials_sharedKey.workflow (79 ms)
2025-04-15T08:22:18.3694425Z     authenticate
2025-04-15T08:22:18.3694595Z       ✓ should remove undefined query parameters and headers (1 ms)
2025-04-15T08:22:18.3694721Z       ✓ should default method to GET if not provided (1 ms)
2025-04-15T08:22:18.3694842Z       ✓ should generate a valid authorization header
2025-04-15T08:22:18.3694846Z 
2025-04-15T08:22:18.3694970Z PASS nodes/Postgres/test/Postgres.node.functions.test.ts
2025-04-15T08:22:18.3695026Z   pgUpdate
2025-04-15T08:22:18.3695136Z     ✓ runs query to update db (6 ms)
2025-04-15T08:22:18.3695414Z     ✓ runs query to update db if updateKey is not in columns
2025-04-15T08:22:18.3695538Z     ✓ runs query to update db with cast as updateKey (1 ms)
2025-04-15T08:22:18.3695673Z     ✓ runs query to update db with cast in target columns (1 ms)
2025-04-15T08:22:18.3695732Z   pgInsert
2025-04-15T08:22:18.3695820Z     ✓ runs query to insert (1 ms)
2025-04-15T08:22:18.3695962Z     ✓ runs query to insert with type casting (1 ms)
2025-04-15T08:22:18.3695966Z 
2025-04-15T08:22:18.3696079Z PASS nodes/Splunk/test/v2/node/search.test.ts
2025-04-15T08:22:18.3696147Z   Splunk, search resource
2025-04-15T08:22:18.3696223Z     ✓ create operation (7 ms)
2025-04-15T08:22:18.3696314Z     ✓ deleteJob operation (1 ms)
2025-04-15T08:22:18.3696390Z     ✓ get operation (6 ms)
2025-04-15T08:22:18.3696468Z     ✓ getAll operation (1 ms)
2025-04-15T08:22:18.3696549Z     ✓ getResult operation (1 ms)
2025-04-15T08:22:18.3696553Z 
2025-04-15T08:22:18.3696707Z PASS nodes/Microsoft/AzureCosmosDb/test/container/getAll.test.ts
2025-04-15T08:22:18.3696788Z   Azure Cosmos DB - Get All Containers
2025-04-15T08:22:18.3696984Z     ✓ nodes/Microsoft/AzureCosmosDb/test/container/getAll.workflow (677 ms)
2025-04-15T08:22:18.3696988Z 
2025-04-15T08:22:18.3697217Z PASS nodes/HttpRequest/test/node/HttpRequest.test.ts
2025-04-15T08:22:18.3697275Z   Test HTTP Request Node
2025-04-15T08:22:18.3697414Z     ✓ nodes/HttpRequest/test/node/workflow.delete (722 ms)
2025-04-15T08:22:18.3697598Z     ✓ nodes/HttpRequest/test/node/workflow.get (44 ms)
2025-04-15T08:22:18.3697788Z     ✓ nodes/HttpRequest/test/node/workflow.pagination (526 ms)
2025-04-15T08:22:18.3697907Z     ✓ nodes/HttpRequest/test/node/workflow.patch (10 ms)
2025-04-15T08:22:18.3698082Z     ✓ nodes/HttpRequest/test/node/workflow.post (15 ms)
2025-04-15T08:22:18.3698198Z     ✓ nodes/HttpRequest/test/node/workflow.put (15 ms)
2025-04-15T08:22:18.3698420Z     ✓ nodes/HttpRequest/test/node/workflow.use_error_output (2 ms)
2025-04-15T08:22:18.3698425Z 
2025-04-15T08:22:18.3698541Z PASS nodes/Airtop/test/node/interaction/type.test.ts
2025-04-15T08:22:18.3698658Z   Test Airtop, type operation
2025-04-15T08:22:18.3698839Z     ✓ should execute type with minimal parameters (3 ms)
2025-04-15T08:22:18.3698993Z     ✓ should throw error when 'text' parameter is empty (16 ms)
2025-04-15T08:22:18.3699200Z     ✓ should include 'elementDescription' parameter when specified
2025-04-15T08:22:18.3699371Z     ✓ should include 'pressEnterKey' parameter when specified (1 ms)
2025-04-15T08:22:18.3699576Z     ✓ should include 'waitForNavigation' parameter when specified
2025-04-15T08:22:18.3699717Z     ✓ should include 'visualScope' parameter when specified (1 ms)
2025-04-15T08:22:18.3699720Z 
2025-04-15T08:22:18.3699831Z PASS nodes/Google/Sheet/test/v2/node/delete.test.ts
2025-04-15T08:22:18.3699909Z   Google Sheet - Delete
2025-04-15T08:22:18.3700075Z     ✓ should delete a single row (3 ms)
2025-04-15T08:22:18.3700203Z     ✓ should delete multiple rows (1 ms)
2025-04-15T08:22:18.3700598Z     ✓ should delete a single column (1 ms)
2025-04-15T08:22:18.3700841Z     ✓ should delete multiple columns
2025-04-15T08:22:18.3701052Z     ✓ should return wrapped success response (1 ms)
2025-04-15T08:22:18.3701059Z 
2025-04-15T08:22:18.3701515Z PASS nodes/Schedule/test/ScheduleTrigger.node.test.ts
2025-04-15T08:22:18.3701640Z   ScheduleTrigger
2025-04-15T08:22:18.3701761Z     trigger
2025-04-15T08:22:18.3701966Z       ✓ should emit on defined schedule (38 ms)
2025-04-15T08:22:18.3702189Z       ✓ should emit on schedule defined as a cron expression (12 ms)
2025-04-15T08:22:18.3702349Z       ✓ should throw on invalid cron expressions (2 ms)
2025-04-15T08:22:18.3702526Z       ✓ should emit when manually executed (2 ms)
2025-04-15T08:22:18.3702716Z       ✓ should throw on invalid cron expressions in manual mode (1 ms)
2025-04-15T08:22:18.3702722Z 
2025-04-15T08:22:18.3702885Z PASS nodes/Set/test/v2/raw.test.ts
2025-04-15T08:22:18.3702989Z   test Set2, rawMode/json Mode
2025-04-15T08:22:18.3703108Z     fixed mode
2025-04-15T08:22:18.3703525Z       ✓ should parse json with the jsonOutput in node parameter and compose a return item (5 ms)
2025-04-15T08:22:18.3703636Z     expression mode
2025-04-15T08:22:18.3703905Z       ✓ should parse json with resolved expression data and compose a return item (1 ms)
2025-04-15T08:22:18.3704041Z     error handling
2025-04-15T08:22:18.3704262Z       ✓ should return an error object with pairedItem when continueOnFail is true (1 ms)
2025-04-15T08:22:18.3704433Z       ✓ should throw an error when continueOnFail is false (18 ms)
2025-04-15T08:22:18.3704438Z 
2025-04-15T08:22:18.3704677Z PASS nodes/HighLevel/v2/test/ContactIdentifierPreSendAction.test.ts
2025-04-15T08:22:18.3704775Z   contactIdentifierPreSendAction
2025-04-15T08:22:18.3704972Z     ✓ should add email to requestOptions.body if identifier is a valid email (4 ms)
2025-04-15T08:22:18.3705140Z     ✓ should add phone to requestOptions.body if identifier is a valid phone
2025-04-15T08:22:18.3705354Z     ✓ should add contactId to requestOptions.body if identifier is neither email nor phone
2025-04-15T08:22:18.3705546Z     ✓ should use updateFields.contactIdentifier if contactIdentifier is not provided
2025-04-15T08:22:18.3705754Z     ✓ should initialize body as an empty object if it is undefined
2025-04-15T08:22:18.3705861Z 
2025-04-15T08:22:18.3706022Z PASS credentials/test/Aws.credentials.test.ts
2025-04-15T08:22:18.3706106Z   Aws Credential
2025-04-15T08:22:18.3706229Z     ✓ should have correct properties (4 ms)
2025-04-15T08:22:18.3706312Z     authenticate
2025-04-15T08:22:18.3706499Z       ✓ should call sign with correct parameters (2 ms)
2025-04-15T08:22:18.3706660Z       ✓ should return correct options with custom endpoint (1 ms)
2025-04-15T08:22:18.3706863Z       ✓ should return correct options with temporary credentials (21 ms)
2025-04-15T08:22:18.3707015Z       ✓ should return correct options for a global AWS service (3 ms)
2025-04-15T08:22:18.3707019Z 
2025-04-15T08:22:18.3707246Z PASS nodes/Microsoft/AzureCosmosDb/test/listSearch/listSearch.test.ts
2025-04-15T08:22:18.3707336Z   Azure Cosmos DB
2025-04-15T08:22:18.3707461Z     List search
2025-04-15T08:22:18.3707594Z       ✓ should list search containers (10 ms)
2025-04-15T08:22:18.3707753Z       ✓ should list search items (1 ms)
2025-04-15T08:22:18.3707763Z 
2025-04-15T08:22:18.3707955Z PASS nodes/Google/Drive/test/v2/node/file/upload.test.ts
2025-04-15T08:22:18.3708064Z   test GoogleDriveV2: file upload
2025-04-15T08:22:18.3708158Z     ✓ should upload buffers (11 ms)
2025-04-15T08:22:18.3708291Z     ✓ should stream large files in 2MB chunks (65 ms)
2025-04-15T08:22:18.3708295Z 
2025-04-15T08:22:18.3708448Z PASS nodes/Microsoft/Teams/test/v2/node/task/getAll.test.ts
2025-04-15T08:22:18.3708547Z   Test MicrosoftTeamsV2, task => getAll
2025-04-15T08:22:18.3708754Z     ✓ nodes/Microsoft/Teams/test/v2/node/task/getAll.workflow (1194 ms)
2025-04-15T08:22:18.3708758Z 
2025-04-15T08:22:18.3708921Z PASS nodes/ExecuteWorkflow/ExecuteWorkflow/ExecuteWorkflow.node.test.ts
2025-04-15T08:22:18.3708998Z   ExecuteWorkflow
2025-04-15T08:22:18.3709265Z     ✓ should execute workflow in "each" mode and wait for sub-workflow completion (3 ms)
2025-04-15T08:22:18.3709484Z     ✓ should execute workflow in "once" mode and not wait for sub-workflow completion
2025-04-15T08:22:18.3709638Z     ✓ should handle errors and continue on fail (1 ms)
2025-04-15T08:22:18.3709800Z     ✓ should throw error if not continuing on fail (8 ms)
2025-04-15T08:22:18.3709804Z 
2025-04-15T08:22:18.3710199Z PASS nodes/Splunk/test/v2/node/user.test.ts
2025-04-15T08:22:18.3710316Z   Splunk, user resource
2025-04-15T08:22:18.3710522Z     ✓ create operation (8 ms)
2025-04-15T08:22:18.3710620Z     ✓ deleteUser operation
2025-04-15T08:22:18.3710774Z     ✓ get operation (1 ms)
2025-04-15T08:22:18.3710864Z     ✓ getAll operation
2025-04-15T08:22:18.3710990Z     ✓ update operation
2025-04-15T08:22:18.3710996Z 
2025-04-15T08:22:18.3711175Z PASS nodes/Linear/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3711277Z   Linear -> GenericFunctions
2025-04-15T08:22:18.3711546Z     linearApiRequest
2025-04-15T08:22:18.3711705Z       ✓ should make a successful API request (4 ms)
2025-04-15T08:22:18.3711876Z       ✓ should handle API request errors (11 ms)
2025-04-15T08:22:18.3711969Z     capitalizeFirstLetter
2025-04-15T08:22:18.3712143Z       ✓ should capitalize the first letter of a string
2025-04-15T08:22:18.3712285Z       ✓ should return an empty string if input is empty
2025-04-15T08:22:18.3712446Z       ✓ should handle single character strings
2025-04-15T08:22:18.3712612Z       ✓ should not change the case of the rest of the string
2025-04-15T08:22:18.3712745Z     sort
2025-04-15T08:22:18.3712890Z       ✓ should sort objects by name in ascending order
2025-04-15T08:22:18.3713067Z       ✓ should handle case insensitivity
2025-04-15T08:22:18.3713199Z       ✓ should return 0 for objects with the same name (1 ms)
2025-04-15T08:22:18.3713204Z 
2025-04-15T08:22:18.3713388Z PASS nodes/Webflow/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3713523Z   Webflow -> webflowApiRequestAllItems
2025-04-15T08:22:18.3713683Z     ✓ should return all items for type version 1 (3 ms)
2025-04-15T08:22:18.3713870Z     ✓ should return all items for type version 2
2025-04-15T08:22:18.3714047Z   Webflow -> webflowApiRequest
2025-04-15T08:22:18.3714349Z     ✓ should use live in the url for v2 when live is true (1 ms)
2025-04-15T08:22:18.3714495Z     ✓ should skip live in the url for v2 when live is false
2025-04-15T08:22:18.3714499Z 
2025-04-15T08:22:18.3714721Z PASS nodes/Baserow/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3714816Z   Baserow > GenericFunctions
2025-04-15T08:22:18.3714931Z     baserowApiRequest
2025-04-15T08:22:18.3715048Z       ✓ should return data on success (4 ms)
2025-04-15T08:22:18.3715220Z       ✓ should throw NodeApiError on failure (8 ms)
2025-04-15T08:22:18.3715318Z     baserowApiRequestAllItems
2025-04-15T08:22:18.3715477Z       ✓ should accumulate all pages (1 ms)
2025-04-15T08:22:18.3715566Z     getJwtToken
2025-04-15T08:22:18.3715717Z       ✓ should return a token
2025-04-15T08:22:18.3715864Z       ✓ should throw NodeApiError if request fails (1 ms)
2025-04-15T08:22:18.3715984Z     getFieldNamesAndIds
2025-04-15T08:22:18.3716127Z       ✓ should return field names and ids
2025-04-15T08:22:18.3716230Z     toOptions
2025-04-15T08:22:18.3716375Z       ✓ should map items to options (1 ms)
2025-04-15T08:22:18.3716445Z     TableFieldMapper
2025-04-15T08:22:18.3716597Z       ✓ should create name-to-id and id-to-name mappings
2025-04-15T08:22:18.3716601Z 
2025-04-15T08:22:18.3716803Z PASS nodes/Google/Sheet/test/v2/actions/spreadsheet/delete.operation.test.ts
2025-04-15T08:22:18.3716924Z   GoogleSheetsDeleteSpreadsheet
2025-04-15T08:22:18.3717064Z     ✓ should successfully delete a spreadsheet (4 ms)
2025-04-15T08:22:18.3717224Z     ✓ should handle multiple input items (1 ms)
2025-04-15T08:22:18.3717349Z     ✓ should handle API errors gracefully (9 ms)
2025-04-15T08:22:18.3717543Z     ✓ should validate document ID parameter (1 ms)
2025-04-15T08:22:18.3717625Z     Resource Locator Modes
2025-04-15T08:22:18.3717768Z       ✓ should handle list mode correctly
2025-04-15T08:22:18.3717902Z       ✓ should handle URL mode correctly (1 ms)
2025-04-15T08:22:18.3718050Z       ✓ should handle ID mode correctly
2025-04-15T08:22:18.3718061Z 
2025-04-15T08:22:18.3718222Z PASS nodes/Peekalink/test/Peekalink.node.test.ts
2025-04-15T08:22:18.3718311Z   Peekalink Node
2025-04-15T08:22:18.3718479Z     ✓ should run isAvailable operation (52 ms)
2025-04-15T08:22:18.3718606Z     ✓ should run preview operation (11 ms)
2025-04-15T08:22:18.3718610Z 
2025-04-15T08:22:18.3718769Z PASS nodes/Splunk/test/v2/node/report.test.ts
2025-04-15T08:22:18.3718868Z   Splunk, report resource
2025-04-15T08:22:18.3719011Z     ✓ create operation (4 ms)
2025-04-15T08:22:18.3719119Z     ✓ deleteReport operation (1 ms)
2025-04-15T08:22:18.3719246Z     ✓ get operation
2025-04-15T08:22:18.3719352Z     ✓ getAll operation (1 ms)
2025-04-15T08:22:18.3719356Z 
2025-04-15T08:22:18.3719627Z PASS nodes/TheHiveProject/test/transport.test.ts
2025-04-15T08:22:18.3719739Z   Test TheHiveProject, theHiveApiQuery
2025-04-15T08:22:18.3719914Z     ✓ should make list query request (3 ms)
2025-04-15T08:22:18.3720064Z     ✓ should make get query request
2025-04-15T08:22:18.3720202Z     ✓ should make return count query request (1 ms)
2025-04-15T08:22:18.3720355Z     ✓ should set limit to query request
2025-04-15T08:22:18.3720359Z 
2025-04-15T08:22:18.3720482Z PASS nodes/Discord/test/v2/utils.test.ts
2025-04-15T08:22:18.3720586Z   Test Discord > createSimplifyFunction
2025-04-15T08:22:18.3720711Z     ✓ should create function (3 ms)
2025-04-15T08:22:18.3720922Z     ✓ should return object containing only specified fields
2025-04-15T08:22:18.3721011Z   Test Discord > prepareOptions
2025-04-15T08:22:18.3721187Z     ✓ should return correct flag value
2025-04-15T08:22:18.3721296Z     ✓ should convert message_reference
2025-04-15T08:22:18.3721411Z   Test Discord > prepareEmbeds
2025-04-15T08:22:18.3721590Z     ✓ should return return empty object removing empty strings
2025-04-15T08:22:18.3721722Z   Test Discord > checkAccessToGuild
2025-04-15T08:22:18.3721830Z     ✓ should throw error (15 ms)
2025-04-15T08:22:18.3721978Z     ✓ should pass
2025-04-15T08:22:18.3722202Z   Test Discord > setupChannelGetter & checkAccessToChannel
2025-04-15T08:22:18.3722399Z     ✓ should setup channel getter and get channel id (1 ms)
2025-04-15T08:22:18.3722403Z 
2025-04-15T08:22:18.3722563Z PASS nodes/TheHiveProject/test/utils.test.ts
2025-04-15T08:22:18.3722676Z   Test TheHiveProject, splitAndTrim
2025-04-15T08:22:18.3722887Z     ✓ should split and trim string, removing empty entries (21 ms)
2025-04-15T08:22:18.3723005Z     ✓ should return unchanged array (1 ms)
2025-04-15T08:22:18.3723106Z   Test TheHiveProject, fixFieldType
2025-04-15T08:22:18.3723207Z     ✓ should split and trim tags
2025-04-15T08:22:18.3723363Z     ✓ should convert date strings to milis (1 ms)
2025-04-15T08:22:18.3723460Z   Test TheHiveProject, prepareInputItem
2025-04-15T08:22:18.3723648Z     ✓ should return object with fields present in schema
2025-04-15T08:22:18.3723763Z   Test TheHiveProject, constructFilter
2025-04-15T08:22:18.3723903Z     ✓ should add default operator _eq
2025-04-15T08:22:18.3724080Z     ✓ should return filter _gte (1 ms)
2025-04-15T08:22:18.3724220Z     ✓ should return filter _in
2025-04-15T08:22:18.3724344Z     ✓ should return filter _between
2025-04-15T08:22:18.3724348Z 
2025-04-15T08:22:18.3724574Z PASS nodes/Google/Sheet/test/v2/methods/resourceMapping.test.ts
2025-04-15T08:22:18.3724710Z   Google Sheets, getMappingColumns
2025-04-15T08:22:18.3724896Z     ✓ should map columns and add row number for update operation (4 ms)
2025-04-15T08:22:18.3725101Z     ✓ should map columns and add row number for appendOrUpdate operation
2025-04-15T08:22:18.3725105Z 
2025-04-15T08:22:18.3725170Z   console.warn
2025-04-15T08:22:18.3725808Z     Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
2025-04-15T08:22:18.3725879Z     Arguments: 
2025-04-15T08:22:18.3726231Z     [0] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: invalid-date, _f: undefined, _strict: undefined, _locale: [object Object]
2025-04-15T08:22:18.3726281Z     Error: 
2025-04-15T08:22:18.3726612Z         at Function.createFromInputFallback (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:324:25)
2025-04-15T08:22:18.3726907Z         at configFromString (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
2025-04-15T08:22:18.3727164Z         at configFromInput (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
2025-04-15T08:22:18.3727541Z         at prepareConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
2025-04-15T08:22:18.3727783Z         at createFromConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
2025-04-15T08:22:18.3728192Z         at createLocalOrUTC (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
2025-04-15T08:22:18.3728427Z         at createLocal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
2025-04-15T08:22:18.3728696Z         at hooks (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
2025-04-15T08:22:18.3728964Z         at /home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Google/Calendar/GenericFunctions.ts:287:31
2025-04-15T08:22:18.3729068Z         at Array.some (<anonymous>)
2025-04-15T08:22:18.3729315Z         at some (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Google/Calendar/GenericFunctions.ts:282:14)
2025-04-15T08:22:18.3729623Z         at Object.<anonymous> (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/Google/Calendar/test/GeneircFunctions.test.ts:80:43)
2025-04-15T08:22:18.3729942Z         at Promise.then.completed (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:300:28)
2025-04-15T08:22:18.3730179Z         at new Promise (<anonymous>)
2025-04-15T08:22:18.3730507Z         at callAsyncCircusFn (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/utils.js:233:10)
2025-04-15T08:22:18.3730771Z         at _callCircusTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:315:40)
2025-04-15T08:22:18.3730960Z         at processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-15T08:22:18.3731220Z         at _runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:251:3)
2025-04-15T08:22:18.3731551Z         at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:125:9)
2025-04-15T08:22:18.3731874Z         at _runTestsForDescribeBlock (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:120:9)
2025-04-15T08:22:18.3732107Z         at run (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/run.js:70:3)
2025-04-15T08:22:18.3732553Z         at runAndTransformResultsToJestFormat (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
2025-04-15T08:22:18.3732895Z         at jestAdapter (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@29.6.2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
2025-04-15T08:22:18.3733210Z         at runTestInternal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:367:16)
2025-04-15T08:22:18.3733500Z         at runTest (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/runTest.js:444:34)
2025-04-15T08:22:18.3733786Z         at Object.worker (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@29.6.2/node_modules/jest-runner/build/testWorker.js:106:12)
2025-04-15T08:22:18.3733790Z 
2025-04-15T08:22:18.3734208Z     [0m [90m 285 |[39m 		[36mconst[39m eventStart [33m=[39m event[33m.[39mstart[33m.[39mdateTime [33m||[39m event[33m.[39mstart[33m.[39mdate[33m;[39m
2025-04-15T08:22:18.3734292Z      [90m 286 |[39m
2025-04-15T08:22:18.3734629Z     [31m[1m>[22m[39m[90m 287 |[39m 		[36mconst[39m eventDateTime [33m=[39m moment(eventStart)[33m.[39mtz(timezone)[33m;[39m
2025-04-15T08:22:18.3734781Z      [90m     |[39m 		                            [31m[1m^[22m[39m
2025-04-15T08:22:18.3735233Z      [90m 288 |[39m 		[36mif[39m ([33m![39meventDateTime[33m.[39misValid()) [36mreturn[39m [36mfalse[39m[33m;[39m
2025-04-15T08:22:18.3735318Z      [90m 289 |[39m
2025-04-15T08:22:18.3735588Z      [90m 290 |[39m 		[36mconst[39m targetYear [33m=[39m eventDateTime[33m.[39myear()[33m;[39m[0m
2025-04-15T08:22:18.3735596Z 
2025-04-15T08:22:18.3735795Z       at warn (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:287:21)
2025-04-15T08:22:18.3736030Z       at Function.createFromInputFallback (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:319:17)
2025-04-15T08:22:18.3736265Z       at configFromString (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
2025-04-15T08:22:18.3736454Z       at configFromInput (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
2025-04-15T08:22:18.3736671Z       at prepareConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
2025-04-15T08:22:18.3736874Z       at createFromConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
2025-04-15T08:22:18.3737101Z       at createLocalOrUTC (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
2025-04-15T08:22:18.3737297Z       at createLocal (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
2025-04-15T08:22:18.3737600Z       at hooks (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
2025-04-15T08:22:18.3737755Z       at nodes/Google/Calendar/GenericFunctions.ts:287:31
2025-04-15T08:22:18.3737846Z           at Array.some (<anonymous>)
2025-04-15T08:22:18.3737998Z       at some (nodes/Google/Calendar/GenericFunctions.ts:282:14)
2025-04-15T08:22:18.3738172Z       at Object.<anonymous> (nodes/Google/Calendar/test/GeneircFunctions.test.ts:80:43)
2025-04-15T08:22:18.3738176Z 
2025-04-15T08:22:18.3738363Z PASS nodes/Google/Calendar/test/GeneircFunctions.test.ts
2025-04-15T08:22:18.3738437Z   addTimezoneToDate
2025-04-15T08:22:18.3738583Z     ✓ should add timezone to date (10 ms)
2025-04-15T08:22:18.3738675Z   dateObjectToISO
2025-04-15T08:22:18.3738869Z     ✓ should return ISO string for DateTime instance (10 ms)
2025-04-15T08:22:18.3738978Z     ✓ should return ISO string for Date instance
2025-04-15T08:22:18.3739184Z     ✓ should return string when input is not a DateTime or Date instance
2025-04-15T08:22:18.3739282Z   eventExtendYearIntoFuture
2025-04-15T08:22:18.3739498Z     ✓ should return true if any event extends into the next year
2025-04-15T08:22:18.3739674Z     ✓ should return false if no event extends into the next year (1 ms)
2025-04-15T08:22:18.3739835Z     ✓ should return false for invalid event start dates (44 ms)
2025-04-15T08:22:18.3740025Z     ✓ should return false for events without a recurringEventId
2025-04-15T08:22:18.3740179Z     ✓ should handle events with only a date and no time
2025-04-15T08:22:18.3740183Z 
2025-04-15T08:22:18.3740345Z PASS nodes/Microsoft/Storage/test/blob/get.test.ts
2025-04-15T08:22:18.3740417Z   Azure Storage Node
2025-04-15T08:22:18.3740553Z     should get blob
2025-04-15T08:22:18.3740743Z       ✓ nodes/Microsoft/Storage/test/workflows/blob_get.workflow (92 ms)
2025-04-15T08:22:18.3740747Z 
2025-04-15T08:22:18.3740931Z PASS nodes/HighLevel/v2/test/HighLevelApiRequest.test.ts
2025-04-15T08:22:18.3741056Z   GenericFunctions - highLevelApiRequest
2025-04-15T08:22:18.3741229Z     ✓ should make a successful request with all parameters (21 ms)
2025-04-15T08:22:18.3741453Z     ✓ should default to the base URL when no custom URL is provided (1 ms)
2025-04-15T08:22:18.3741602Z     ✓ should remove the body property if it is empty
2025-04-15T08:22:18.3741821Z     ✓ should remove the query string property if it is empty (1 ms)
2025-04-15T08:22:18.3741825Z 
2025-04-15T08:22:18.3742002Z PASS nodes/HighLevel/v2/test/AddNotePostReceiveAction.test.ts
2025-04-15T08:22:18.3742162Z   GenericFunctions - highLevelApiRequest
2025-04-15T08:22:18.3742333Z     ✓ should make a successful request with all parameters (22 ms)
2025-04-15T08:22:18.3742766Z     ✓ should default to the base URL when no custom URL is provided (1 ms)
2025-04-15T08:22:18.3742914Z     ✓ should remove the body property if it is empty
2025-04-15T08:22:18.3743110Z     ✓ should remove the query string property if it is empty
2025-04-15T08:22:18.3743118Z 
2025-04-15T08:22:18.3743262Z PASS nodes/HighLevel/v2/test/AddLocationIdPreSendAction.test.ts
2025-04-15T08:22:18.3743391Z   addLocationIdPreSendAction
2025-04-15T08:22:18.3743615Z     ✓ should add locationId to query parameters for contact getAll operation (4 ms)
2025-04-15T08:22:18.3743798Z     ✓ should add locationId to the body for contact create operation (1 ms)
2025-04-15T08:22:18.3744068Z     ✓ should add locationId to query parameters for opportunity getAll operation
2025-04-15T08:22:18.3744254Z     ✓ should add locationId to the body for opportunity create operation (1 ms)
2025-04-15T08:22:18.3744435Z     ✓ should not modify requestOptions if no resource or operation matches
2025-04-15T08:22:18.3744439Z 
2025-04-15T08:22:18.3744570Z PASS nodes/Airtop/test/node/window/takeScreenshot.test.ts
2025-04-15T08:22:18.3744669Z   Test Airtop, take screenshot operation
2025-04-15T08:22:18.3744775Z     ✓ should take screenshot successfully (4 ms)
2025-04-15T08:22:18.3745018Z     ✓ should transform screenshot to binary data
2025-04-15T08:22:18.3745154Z     ✓ should throw error when sessionId is empty (17 ms)
2025-04-15T08:22:18.3745369Z     ✓ should throw error when windowId is empty (1 ms)
2025-04-15T08:22:18.3745373Z 
2025-04-15T08:22:18.3745535Z PASS nodes/Google/Sheet/test/v2/node/clear.test.ts
2025-04-15T08:22:18.3745612Z   Google Sheet - Clear
2025-04-15T08:22:18.3745781Z     ✓ should clear the whole sheet (4 ms)
2025-04-15T08:22:18.3745892Z     ✓ should clear specific rows (1 ms)
2025-04-15T08:22:18.3746065Z     ✓ should clear specific columns (1 ms)
2025-04-15T08:22:18.3746186Z     ✓ should clear a specific range
2025-04-15T08:22:18.3746388Z     ✓ should keep the first row when clearing the whole sheet (1 ms)
2025-04-15T08:22:18.3746399Z 
2025-04-15T08:22:18.3746523Z PASS nodes/Google/Sheet/test/v2/node/create.test.ts
2025-04-15T08:22:18.3746605Z   Google Sheet - Create
2025-04-15T08:22:18.3746782Z     ✓ should create a new sheet with given title and options (4 ms)
2025-04-15T08:22:18.3746993Z     ✓ should skip creating a sheet if the title already exists (1 ms)
2025-04-15T08:22:18.3746998Z 
2025-04-15T08:22:18.3747191Z PASS nodes/Pipedrive/test/PipedriveTrigger.node.test.ts
2025-04-15T08:22:18.3747281Z   PipedriveTrigger
2025-04-15T08:22:18.3747408Z     Webhook Methods
2025-04-15T08:22:18.3747478Z       checkExists
2025-04-15T08:22:18.3747659Z         ✓ should return true if webhook already exists (3 ms)
2025-04-15T08:22:18.3747814Z         ✓ should return false if no matching webhook exists (1 ms)
2025-04-15T08:22:18.3747940Z       create
2025-04-15T08:22:18.3748071Z         ✓ should create a webhook successfully (1 ms)
2025-04-15T08:22:18.3748075Z 
2025-04-15T08:22:18.3748395Z PASS nodes/Google/BusinessProfile/test/HandleDatesPresend.test.ts
2025-04-15T08:22:18.3748503Z   GenericFunctions - handleDatesPresend
2025-04-15T08:22:18.3748728Z     ✓ should return options unchanged if no date-time parameters are provided (3 ms)
2025-04-15T08:22:18.3748919Z     ✓ should merge startDateTime parameter into event schedule
2025-04-15T08:22:18.3749135Z     ✓ should merge startDate and endDateTime parameters into event schedule (1 ms)
2025-04-15T08:22:18.3749314Z     ✓ should merge additional options into event schedule
2025-04-15T08:22:18.3749490Z     ✓ should modify the body with event schedule containing only date
2025-04-15T08:22:18.3749493Z 
2025-04-15T08:22:18.3749678Z PASS nodes/WriteBinaryFile/test/WriteBinaryFile.test.ts
2025-04-15T08:22:18.3749769Z   Test Write Binary File Node
2025-04-15T08:22:18.3750006Z     ✓ nodes/WriteBinaryFile/test/WriteBinaryFile.workflow.json (198 ms)
2025-04-15T08:22:18.3750010Z 
2025-04-15T08:22:18.3750172Z PASS nodes/Microsoft/Outlook/test/v2/node/draft/create.test.ts
2025-04-15T08:22:18.3750325Z   Test MicrosoftOutlookV2, draft => create
2025-04-15T08:22:18.3750560Z     ✓ nodes/Microsoft/Outlook/test/v2/node/draft/create.workflow (217 ms)
2025-04-15T08:22:18.3750564Z 
2025-04-15T08:22:18.3750687Z PASS nodes/N8nTrigger/test/trigger.test.ts
2025-04-15T08:22:18.3750803Z   N8nTrigger
2025-04-15T08:22:18.3750882Z     trigger
2025-04-15T08:22:18.3751058Z       ✓ should emit event when activation mode matches selected events (4 ms)
2025-04-15T08:22:18.3751238Z       ✓ should not emit event when activation mode does not match selected events (1 ms)
2025-04-15T08:22:18.3751342Z       ✓ should return manual trigger function
2025-04-15T08:22:18.3751455Z       ✓ should emit correct event for instance started
2025-04-15T08:22:18.3751571Z       ✓ should emit correct event for workflow updated
2025-04-15T08:22:18.3751621Z     description
2025-04-15T08:22:18.3751720Z       ✓ should have correct properties
2025-04-15T08:22:18.3751829Z       ✓ should have required properties configuration
2025-04-15T08:22:18.3751833Z 
2025-04-15T08:22:18.3751951Z PASS nodes/Airtop/test/node/interaction/hover.test.ts
2025-04-15T08:22:18.3752022Z   Test Airtop, hover operation
2025-04-15T08:22:18.3752141Z     ✓ should execute hover with minimal parameters (3 ms)
2025-04-15T08:22:18.3752411Z     ✓ should throw error when 'elementDescription' parameter is empty (17 ms)
2025-04-15T08:22:18.3752536Z     ✓ should include 'visualScope' parameter when specified
2025-04-15T08:22:18.3752699Z     ✓ should include 'waitForNavigation' parameter when specified (1 ms)
2025-04-15T08:22:18.3752703Z 
2025-04-15T08:22:18.3752827Z PASS nodes/Google/Sheet/test/v2/node/appendOrUpdate.test.ts
2025-04-15T08:22:18.3752900Z   Google Sheet - Append or Update
2025-04-15T08:22:18.3753014Z     ✓ should insert input data if sheet is empty (6 ms)
2025-04-15T08:22:18.3753018Z 
2025-04-15T08:22:18.3753134Z PASS nodes/Airtop/test/node/interaction/click.test.ts
2025-04-15T08:22:18.3753203Z   Test Airtop, click operation
2025-04-15T08:22:18.3753322Z     ✓ should execute click with minimal parameters (3 ms)
2025-04-15T08:22:18.3753487Z     ✓ should throw error when 'elementDescription' parameter is empty (8 ms)
2025-04-15T08:22:18.3753606Z     ✓ should include 'visualScope' parameter when specified
2025-04-15T08:22:18.3753750Z     ✓ should include 'waitForNavigation' parameter when specified
2025-04-15T08:22:18.3753754Z 
2025-04-15T08:22:18.3753891Z PASS nodes/Elastic/Elasticsearch/tests/GenericFunctions.test.ts
2025-04-15T08:22:18.3754007Z   Elasticsearch -> elasticsearchApiRequest
2025-04-15T08:22:18.3754119Z     ✓ should make a successful GET API request (3 ms)
2025-04-15T08:22:18.3754228Z     ✓ should make a successful POST API request
2025-04-15T08:22:18.3754326Z     ✓ should handle API request errors (8 ms)
2025-04-15T08:22:18.3754448Z     ✓ should ignore trailing slashes in the base URL (1 ms)
2025-04-15T08:22:18.3754452Z 
2025-04-15T08:22:18.3754588Z PASS nodes/HighLevel/v2/test/TaskUpdatePreSendAction.test.ts
2025-04-15T08:22:18.3754646Z   taskUpdatePreSendAction
2025-04-15T08:22:18.3754927Z     ✓ should not modify requestOptions if title and dueDate are provided (3 ms)
2025-04-15T08:22:18.3755066Z     ✓ should fetch missing title and dueDate from the API (14 ms)
2025-04-15T08:22:18.3755182Z     ✓ should only fetch title if dueDate is provided
2025-04-15T08:22:18.3755291Z     ✓ should only fetch dueDate if title is provided
2025-04-15T08:22:18.3755295Z 
2025-04-15T08:22:18.3755392Z PASS nodes/Jira/test/node.methods.test.ts
2025-04-15T08:22:18.3755443Z   Jira Node, methods
2025-04-15T08:22:18.3755517Z     listSearch.getCustomFields
2025-04-15T08:22:18.3755697Z       ✓ should call correct endpoint and return custom fields for server version (3 ms)
2025-04-15T08:22:18.3755863Z       ✓ should call correct endpoint and return custom fields for cloud version
2025-04-15T08:22:18.3755867Z 
2025-04-15T08:22:18.3755956Z PASS nodes/Form/test/formNodeUtils.test.ts
2025-04-15T08:22:18.3756004Z   formNodeUtils
2025-04-15T08:22:18.3756098Z     ✓ should sanitize custom html (6 ms)
2025-04-15T08:22:18.3756107Z 
2025-04-15T08:22:18.3756210Z PASS nodes/Google/Sheet/test/v2/node/remove.test.ts
2025-04-15T08:22:18.3756268Z   Google Sheet - Remove
2025-04-15T08:22:18.3756358Z     ✓ should process a single item (4 ms)
2025-04-15T08:22:18.3756456Z     ✓ should process multiple items (1 ms)
2025-04-15T08:22:18.3756460Z 
2025-04-15T08:22:18.3756556Z PASS nodes/RssFeedRead/test/RssFeedRead.test.ts
2025-04-15T08:22:18.3756614Z   RssFeedReadTrigger
2025-04-15T08:22:18.3756660Z     poll
2025-04-15T08:22:18.3756793Z       ✓ should throw an error if the feed URL is empty (12 ms)
2025-04-15T08:22:18.3756901Z       ✓ should return new items from the feed (1 ms)
2025-04-15T08:22:18.3757019Z       ✓ should gracefully handle missing timestamps (1 ms)
2025-04-15T08:22:18.3757134Z       ✓ should return null if the feed is empty (1 ms)
2025-04-15T08:22:18.3757137Z 
2025-04-15T08:22:18.3757286Z PASS nodes/Microsoft/Outlook/test/v2/node/message/reply.test.ts
2025-04-15T08:22:18.3757437Z   Test MicrosoftOutlookV2, message => reply
2025-04-15T08:22:18.3757725Z     ✓ nodes/Microsoft/Outlook/test/v2/node/message/reply.workflow (196 ms)
2025-04-15T08:22:18.3757735Z 
2025-04-15T08:22:18.3757934Z PASS nodes/MoveBinaryData/test/MoveBinaryData.test.ts
2025-04-15T08:22:18.3758144Z   Test Move Binary Data Node
2025-04-15T08:22:18.3758326Z     ✓ nodes/MoveBinaryData/test/MoveBinaryData.workflow.json (317 ms)
2025-04-15T08:22:18.3758330Z 
2025-04-15T08:22:18.3758450Z PASS nodes/Google/Chat/test/genericFunctions.test.ts
2025-04-15T08:22:18.3758528Z   Test GoogleChat, googleApiRequest
2025-04-15T08:22:18.3758725Z     ✓ should call requestWithAuthentication when authentication set to OAuth2 (4 ms)
2025-04-15T08:22:18.3758887Z     ✓ should call request when authentication set to serviceAccount (1 ms)
2025-04-15T08:22:18.3759012Z     ✓ should call request when noCredentials equals true
2025-04-15T08:22:18.3759017Z 
2025-04-15T08:22:18.3759154Z PASS nodes/Google/Drive/test/v2/node/fileFolder/search.test.ts
2025-04-15T08:22:18.3759284Z   test GoogleDriveV2: fileFolder search
2025-04-15T08:22:18.3759367Z     ✓ returnAll = false (4 ms)
2025-04-15T08:22:18.3759478Z     ✓ returnAll = true (1 ms)
2025-04-15T08:22:18.3759481Z 
2025-04-15T08:22:18.3759628Z PASS nodes/Merge/test/v3/utils.test.ts
2025-04-15T08:22:18.3759722Z   rowToExecutionData
2025-04-15T08:22:18.3759961Z     ✓ should return empty json and pairedItem when input is empty (3 ms)
2025-04-15T08:22:18.3760119Z     ✓ should separate json properties and pairedItem properties
2025-04-15T08:22:18.3760279Z     ✓ should ignore undefined pairedItem values (1 ms)
2025-04-15T08:22:18.3760440Z     ✓ should handle only json properties without pairedItem
2025-04-15T08:22:18.3760553Z   modifySelectQuery
2025-04-15T08:22:18.3760723Z     ✓ should return the original query if no SELECT match is found
2025-04-15T08:22:18.3760904Z     ✓ should return the original query if SELECT * is used
2025-04-15T08:22:18.3761055Z     ✓ should append pairedItem columns when input tables exist (1 ms)
2025-04-15T08:22:18.3761340Z     ✓ should handle multiple input tables correctly
2025-04-15T08:22:18.3761496Z     ✓ should not modify query if no input tables are found
2025-04-15T08:22:18.3761500Z 
2025-04-15T08:22:18.3761700Z PASS nodes/Discord/test/v2/node/message/sendAndWait.test.ts
2025-04-15T08:22:18.3761839Z   Test DiscordV2, message => sendAndWait
2025-04-15T08:22:18.3761994Z     ✓ should send message and put execution to wait (6 ms)
2025-04-15T08:22:18.3761998Z 
2025-04-15T08:22:18.3762165Z PASS nodes/ReadBinaryFile/test/ReadBinaryFile.test.ts
2025-04-15T08:22:18.3762244Z   Test Read Binary File Node
2025-04-15T08:22:18.3762460Z     ✓ nodes/ReadBinaryFile/test/ReadBinaryFile.workflow.json (30 ms)
2025-04-15T08:22:18.3762464Z 
2025-04-15T08:22:18.3762592Z PASS nodes/Airtable/test/v2/node/record/create.test.ts
2025-04-15T08:22:18.3762745Z   Test AirtableV2, create operation
2025-04-15T08:22:18.3762893Z     ✓ should create a record, autoMapInputData (4 ms)
2025-04-15T08:22:18.3763057Z     ✓ should create a record, defineBelow (1 ms)
2025-04-15T08:22:18.3763067Z 
2025-04-15T08:22:18.3763246Z PASS nodes/Microsoft/Outlook/test/v2/node/message/sendAndWait.test.ts
2025-04-15T08:22:18.3763373Z   Test MicrosoftOutlookV2, message => sendAndWait
2025-04-15T08:22:18.3763553Z     ✓ should send message and put execution to wait (5 ms)
2025-04-15T08:22:18.3763563Z 
2025-04-15T08:22:18.3763739Z PASS nodes/Google/BusinessProfile/test/HandlePagination.test.ts
2025-04-15T08:22:18.3763865Z   GenericFunctions - handlePagination
2025-04-15T08:22:18.3764106Z     ✓ should stop fetching when the limit is reached and returnAll is false (13 ms)
2025-04-15T08:22:18.3764235Z     ✓ should handle empty results
2025-04-15T08:22:18.3764394Z     ✓ should fetch all items when returnAll is true (1 ms)
2025-04-15T08:22:18.3764423Z 
2025-04-15T08:22:18.3764601Z PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/getAll.test.ts
2025-04-15T08:22:18.3764744Z   Test MicrosoftTeamsV2, chatMessage => getAll
2025-04-15T08:22:18.3764961Z     ✓ nodes/Microsoft/Teams/test/v2/node/chatMessage/getAll.workflow (172 ms)
2025-04-15T08:22:18.3764965Z 
2025-04-15T08:22:18.3765164Z PASS nodes/Telegram/tests/node/sendAndWait.operation.test.ts
2025-04-15T08:22:18.3765259Z   Test Telegram, message => sendAndWait
2025-04-15T08:22:18.3765556Z     ✓ should send message and put execution to wait (5 ms)
2025-04-15T08:22:18.3765560Z 
2025-04-15T08:22:18.3765678Z PASS utils/__tests__/binary.test.ts
2025-04-15T08:22:18.3765834Z   convertJsonToSpreadsheetBinary
2025-04-15T08:22:18.3765971Z     for fileFormat xlsx
2025-04-15T08:22:18.3766100Z       ✓ should convert from JSON (4 ms)
2025-04-15T08:22:18.3766217Z     for fileFormat csv
2025-04-15T08:22:18.3766307Z       ✓ should convert from JSON (1 ms)
2025-04-15T08:22:18.3766480Z       ✓ should handle custom delimiter
2025-04-15T08:22:18.3766484Z 
2025-04-15T08:22:18.3766616Z PASS nodes/Airtable/test/v2/node/record/search.test.ts
2025-04-15T08:22:18.3766711Z   Test AirtableV2, search operation
2025-04-15T08:22:18.3766822Z     ✓ should return all records (4 ms)
2025-04-15T08:22:18.3766943Z     ✓ should return all records
2025-04-15T08:22:18.3766947Z 
2025-04-15T08:22:18.3767120Z PASS nodes/Transform/Summarize/test/unitTests/splitData.test.ts
2025-04-15T08:22:18.3767275Z   Test Summarize Node, aggregateAndSplitData
2025-04-15T08:22:18.3767424Z     ✓ should not convert strings to numbers (4 ms)
2025-04-15T08:22:18.3767608Z     ✓ should not convert numbers to strings (1 ms)
2025-04-15T08:22:18.3767721Z     with skipEmptySplitFields=true
2025-04-15T08:22:18.3767856Z       ✓ should skip empty split fields (1 ms)
2025-04-15T08:22:18.3767860Z 
2025-04-15T08:22:18.3768199Z PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/sendAndWait.test.ts
2025-04-15T08:22:18.3768309Z   Test MicrosoftTeamsV2, chatMessage => sendAndWait
2025-04-15T08:22:18.3768504Z     ✓ should send message and put execution to wait (4 ms)
2025-04-15T08:22:18.3768508Z 
2025-04-15T08:22:18.3768674Z PASS nodes/EvaluationMetrics/EvaluationMetrics.node.test.ts
2025-04-15T08:22:18.3768805Z   EvaluationMetrics Node
2025-04-15T08:22:18.3769002Z     execute
2025-04-15T08:22:18.3769192Z       ✓ should output the defined metrics (12 ms)
2025-04-15T08:22:18.3769304Z       ✓ should handle no metrics defined
2025-04-15T08:22:18.3769464Z       ✓ should convert string values to numbers (1 ms)
2025-04-15T08:22:18.3769686Z       ✓ should throw error for non-numeric string values (6 ms)
2025-04-15T08:22:18.3769690Z 
2025-04-15T08:22:18.3769820Z PASS nodes/HighLevel/v2/test/HighLevelApiPagination.test.ts
2025-04-15T08:22:18.3769956Z   highLevelApiPagination
2025-04-15T08:22:18.3770141Z     ✓ should paginate and return all items when returnAll is true (55 ms)
2025-04-15T08:22:18.3770372Z     ✓ should return only the first page of items when returnAll is false (1 ms)
2025-04-15T08:22:18.3770482Z     ✓ should handle cases with no items
2025-04-15T08:22:18.3770486Z 
2025-04-15T08:22:18.3770659Z PASS nodes/Airtop/test/node/window/load.test.ts
2025-04-15T08:22:18.3770769Z   Test Airtop, window load operation
2025-04-15T08:22:18.3770976Z     ✓ should load URL with minimal parameters (4 ms)
2025-04-15T08:22:18.3771110Z     ✓ should throw error when URL is empty (15 ms)
2025-04-15T08:22:18.3771257Z     ✓ should throw error when URL is invalid (1 ms)
2025-04-15T08:22:18.3771443Z     ✓ should include 'waitUntil' parameter when specified (1 ms)
2025-04-15T08:22:18.3771448Z 
2025-04-15T08:22:18.3771605Z PASS nodes/EmailSend/test/v2/sendAndWait.operation.test.ts
2025-04-15T08:22:18.3771699Z   Test EmailSendV2, email => sendAndWait
2025-04-15T08:22:18.3771832Z     ✓ should send message and put execution to wait (4 ms)
2025-04-15T08:22:18.3771836Z 
2025-04-15T08:22:18.3772010Z PASS nodes/Google/Chat/test/node/sendAndWait.operation.test.ts
2025-04-15T08:22:18.3772107Z   Test GoogleChat, message => sendAndWait
2025-04-15T08:22:18.3772282Z     ✓ should send message and put execution to wait (5 ms)
2025-04-15T08:22:18.3772285Z 
2025-04-15T08:22:18.3772446Z PASS nodes/Google/BusinessProfile/test/GoogleApiRequest.test.ts
2025-04-15T08:22:18.3772523Z   googleApiRequest
2025-04-15T08:22:18.3772710Z     ✓ should make a GET request and return data (4 ms)
2025-04-15T08:22:18.3772863Z     ✓ should make a POST request with body and return data
2025-04-15T08:22:18.3773039Z     ✓ should remove the body for GET requests (1 ms)
2025-04-15T08:22:18.3773381Z     ✓ should throw NodeApiError on API failure (13 ms)
2025-04-15T08:22:18.3773386Z 
2025-04-15T08:22:18.3773609Z PASS nodes/Airtop/test/node/session/save.test.ts
2025-04-15T08:22:18.3773750Z   Test Airtop, session save operation
2025-04-15T08:22:18.3774078Z     ✓ should save a profile on session termination successfully (4 ms)
2025-04-15T08:22:18.3774265Z     ✓ should throw error when sessionId is empty (15 ms)
2025-04-15T08:22:18.3774497Z     ✓ should throw error when sessionId is whitespace
2025-04-15T08:22:18.3774694Z     ✓ should throw error when profileName is empty
2025-04-15T08:22:18.3774972Z     ✓ should throw error when profileName is whitespace (1 ms)
2025-04-15T08:22:18.3774978Z 
2025-04-15T08:22:18.3775211Z PASS nodes/WhatsApp/tests/utils.test.ts
2025-04-15T08:22:18.3775316Z   sanitizePhoneNumber
2025-04-15T08:22:18.3775580Z     ✓ should remove hyphens, parentheses, and plus signs from the phone number (8 ms)
2025-04-15T08:22:18.3775746Z     ✓ should return an empty string if input is empty (1 ms)
2025-04-15T08:22:18.3775973Z     ✓ should return the same number if no special characters are present
2025-04-15T08:22:18.3776153Z     ✓ should handle numbers with spaces correctly (not removing them)
2025-04-15T08:22:18.3776274Z   createMessage
2025-04-15T08:22:18.3776423Z     ✓ should return a valid HTTP request object (1 ms)
2025-04-15T08:22:18.3776548Z     ✓ should handle a single option correctly
2025-04-15T08:22:18.3776552Z 
2025-04-15T08:22:18.3776665Z PASS nodes/Microsoft/Storage/test/blob/getAll.test.ts
2025-04-15T08:22:18.3776756Z   Azure Storage Node
2025-04-15T08:22:18.3776834Z     should get all blobs
2025-04-15T08:22:18.3777015Z       ✓ nodes/Microsoft/Storage/test/workflows/blob_getAll.workflow (110 ms)
2025-04-15T08:22:18.3777153Z 
2025-04-15T08:22:18.3777294Z PASS nodes/Kafka/Kafka.node.test.ts
2025-04-15T08:22:18.3777376Z   Kafka Node
2025-04-15T08:22:18.3777547Z     ✓ nodes/Kafka/test/workflow (259 ms)
2025-04-15T08:22:18.3777728Z     ✓ should publish the correct kafka messages (1 ms)
2025-04-15T08:22:18.3777736Z 
2025-04-15T08:22:18.3777913Z PASS nodes/Slack/test/v2/node/channel/getAll.test.ts
2025-04-15T08:22:18.3778017Z   Test SlackV2, channel => getAll
2025-04-15T08:22:18.3778231Z     ✓ nodes/Slack/test/v2/node/channel/getAll.workflow (140 ms)
2025-04-15T08:22:18.3778235Z 
2025-04-15T08:22:18.3778447Z PASS nodes/HighLevel/v2/test/AddCustomFieldsPreSendAction.test.ts
2025-04-15T08:22:18.3778555Z   addCustomFieldsPreSendAction
2025-04-15T08:22:18.3778739Z     ✓ should format custom fields correctly when provided (4 ms)
2025-04-15T08:22:18.3778907Z     ✓ should not modify request body if customFields is not provided
2025-04-15T08:22:18.3779056Z     ✓ should handle customFields with empty values
2025-04-15T08:22:18.3779066Z 
2025-04-15T08:22:18.3779154Z error message from node
2025-04-15T08:22:18.3779317Z PASS nodes/StopAndError/test/node/StopAndError.test.ts
2025-04-15T08:22:18.3779411Z   Execute Stop and Error Node
2025-04-15T08:22:18.3779576Z     ✓ should run stopAndError node (185 ms)
2025-04-15T08:22:18.3779580Z 
2025-04-15T08:22:18.3779770Z PASS nodes/Microsoft/OneDrive/test/node/file.download.test.ts
2025-04-15T08:22:18.3779881Z   Test MicrosoftOneDrive, file > download
2025-04-15T08:22:18.3780148Z     ✓ should call helpers.httpRequest when request to /drive/items/{fileId}/content fails (4 ms)
2025-04-15T08:22:18.3780152Z 
2025-04-15T08:22:18.3780313Z PASS nodes/Transform/Summarize/test/unitTests/execute.test.ts
2025-04-15T08:22:18.3780423Z   Test Summarize Node, execute
2025-04-15T08:22:18.3780582Z     ✓ should handle field not found with hints if version > 1 (5 ms)
2025-04-15T08:22:18.3780810Z     ✓ should throw error if node version is < 1.1 and fields not found (18 ms)
2025-04-15T08:22:18.3780813Z 
2025-04-15T08:22:18.3780941Z PASS nodes/Google/Drive/test/v2/utils.test.ts
2025-04-15T08:22:18.3781050Z   test GoogleDriveV2, prepareQueryString
2025-04-15T08:22:18.3781186Z     ✓ should return id, name (3 ms)
2025-04-15T08:22:18.3781389Z     ✓ should return *
2025-04-15T08:22:18.3781486Z     ✓ should return string joined by ,
2025-04-15T08:22:18.3781596Z   test GoogleDriveV2, setFileProperties
2025-04-15T08:22:18.3781732Z     ✓ should return empty object (1 ms)
2025-04-15T08:22:18.3781852Z     ✓ should return object with properties
2025-04-15T08:22:18.3782016Z     ✓ should return object with appProperties
2025-04-15T08:22:18.3782096Z   test GoogleDriveV2, setUpdateCommonParams
2025-04-15T08:22:18.3782201Z     ✓ should return empty object
2025-04-15T08:22:18.3782321Z     ✓ should return qs with params
2025-04-15T08:22:18.3782325Z 
2025-04-15T08:22:18.3782502Z PASS nodes/QuickChart/test/QuickChart.node.test.ts
2025-04-15T08:22:18.3782579Z   Test QuickChart Node
2025-04-15T08:22:18.3782754Z     ✓ nodes/QuickChart/test/QuickChart.workflow.json (343 ms)
2025-04-15T08:22:18.3782758Z 
2025-04-15T08:22:18.3782886Z PASS nodes/If/test/v2/IfV2.node.test.ts
2025-04-15T08:22:18.3782977Z   Test IF v2 Node Tests
2025-04-15T08:22:18.3783105Z     Test IF v2 Node Workflow Tests
2025-04-15T08:22:18.3783247Z       ✓ nodes/If/test/v2/IfV2.boolean (218 ms)
2025-04-15T08:22:18.3783415Z       ✓ nodes/If/test/v2/IfV2.date-time (8 ms)
2025-04-15T08:22:18.3783534Z       ✓ nodes/If/test/v2/IfV2.number (10 ms)
2025-04-15T08:22:18.3783713Z       ✓ nodes/If/test/v2/IfV2.other (7 ms)
2025-04-15T08:22:18.3783809Z       ✓ nodes/If/test/v2/IfV2.string (6 ms)
2025-04-15T08:22:18.3783916Z     Test IF V2 Node Unit Tests
2025-04-15T08:22:18.3784095Z       ✓ should return items if continue on fail is true
2025-04-15T08:22:18.3784566Z       ✓ should throw an error if continue on fail is false and if there is an error (6 ms)
2025-04-15T08:22:18.3784914Z       ✓ should assign a paired item if paired item is undefined
2025-04-15T08:22:18.3784921Z 
2025-04-15T08:22:18.3785286Z PASS nodes/MySql/test/v1/GenericFunctions.test.ts
2025-04-15T08:22:18.3785369Z   MySQL / v1 / Generic Functions
2025-04-15T08:22:18.3785484Z     searchTables
2025-04-15T08:22:18.3785652Z       ✓ should return matching tables (3 ms)
2025-04-15T08:22:18.3785805Z       ✓ should handle empty search query (1 ms)
2025-04-15T08:22:18.3785943Z       ✓ should handle database errors (3 ms)
2025-04-15T08:22:18.3785949Z 
2025-04-15T08:22:18.3786095Z PASS nodes/Google/Sheet/test/v2/node/read.test.ts
2025-04-15T08:22:18.3786236Z   Google Sheet - Read
2025-04-15T08:22:18.3786435Z     ✓ should return structured sheet data when no filters are applied (4 ms)
2025-04-15T08:22:18.3786630Z     ✓ should call lookupValues when filters are provided
2025-04-15T08:22:18.3786810Z     ✓ should return an empty array when sheet data is empty (1 ms)
2025-04-15T08:22:18.3786814Z 
2025-04-15T08:22:18.3786996Z PASS nodes/Microsoft/Storage/test/container/getAll.test.ts
2025-04-15T08:22:18.3787067Z   Azure Storage Node
2025-04-15T08:22:18.3787204Z     should get all containers
2025-04-15T08:22:18.3787475Z       ✓ nodes/Microsoft/Storage/test/workflows/container_getAll.workflow (91 ms)
2025-04-15T08:22:18.3787479Z 
2025-04-15T08:22:18.3787635Z PASS nodes/QuickBooks/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3787738Z   processLines
2025-04-15T08:22:18.3787957Z     ✓ should process AccountBasedExpenseLineDetail for bill resource (3 ms)
2025-04-15T08:22:18.3788168Z     ✓ should process ItemBasedExpenseLineDetail for bill resource
2025-04-15T08:22:18.3788363Z     ✓ should process SalesItemLineDetail for estimate resource (3 ms)
2025-04-15T08:22:18.3788596Z     ✓ should process SalesItemLineDetail for invoice resource with Qty
2025-04-15T08:22:18.3788777Z     ✓ should process SalesItemLineDetail for invoice resource without Qty (1 ms)
2025-04-15T08:22:18.3788781Z 
2025-04-15T08:22:18.3788989Z PASS nodes/HighLevel/v2/test/DateTimeToEpochPreSendAction.test.ts
2025-04-15T08:22:18.3789132Z   dateTimeToEpochPreSendAction
2025-04-15T08:22:18.3789278Z     ✓ should convert startDate and endDate to epoch time (3 ms)
2025-04-15T08:22:18.3789452Z     ✓ should convert only startDate if endDate is not provided (7 ms)
2025-04-15T08:22:18.3789585Z     ✓ should convert only endDate if startDate is not provided
2025-04-15T08:22:18.3789921Z     ✓ should not modify requestOptions if neither startDate nor endDate are provided (1 ms)
2025-04-15T08:22:18.3790083Z     ✓ should not modify requestOptions if qs is undefined
2025-04-15T08:22:18.3790087Z 
2025-04-15T08:22:18.3790244Z PASS nodes/Microsoft/Storage/test/blob/create.test.ts
2025-04-15T08:22:18.3790338Z   Azure Storage Node
2025-04-15T08:22:18.3790472Z     should create blob
2025-04-15T08:22:18.3790676Z       ✓ nodes/Microsoft/Storage/test/workflows/blob_create.workflow (123 ms)
2025-04-15T08:22:18.3790679Z 
2025-04-15T08:22:18.3790906Z PASS nodes/Github/__tests__/node/Github.dispatchAndWait.node.test.ts
2025-04-15T08:22:18.3791069Z   Test Github Node - Dispatch and Wait
2025-04-15T08:22:18.3791169Z     Workflow Dispatch and Wait
2025-04-15T08:22:18.3791385Z       ✓ nodes/Github/__tests__/node/GithubDispatchAndWaitWorkflow (81 ms)
2025-04-15T08:22:18.3791389Z 
2025-04-15T08:22:18.3791476Z PASS nodes/MQTT/test/Mqtt.node.test.ts
2025-04-15T08:22:18.3791581Z   MQTT Node
2025-04-15T08:22:18.3791693Z     ✓ should publish input data (4 ms)
2025-04-15T08:22:18.3791860Z     ✓ should publish a custom message (1 ms)
2025-04-15T08:22:18.3791864Z 
2025-04-15T08:22:18.3792029Z PASS nodes/Google/Drive/test/v2/node/file/createFromText.test.ts
2025-04-15T08:22:18.3792191Z   test GoogleDriveV2: file createFromText
2025-04-15T08:22:18.3792311Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3792349Z 
2025-04-15T08:22:18.3792494Z PASS nodes/RssFeedRead/test/node/RssFeedRead.test.ts
2025-04-15T08:22:18.3792621Z   Test RSS Feed Trigger Node
2025-04-15T08:22:18.3792774Z     ✓ nodes/RssFeedRead/test/node/workflow.rss (233 ms)
2025-04-15T08:22:18.3792778Z 
2025-04-15T08:22:18.3793048Z PASS nodes/Microsoft/Outlook/test/v2/node/contact/update.test.ts
2025-04-15T08:22:18.3793164Z   Test MicrosoftOutlookV2, contact => update
2025-04-15T08:22:18.3793417Z     ✓ nodes/Microsoft/Outlook/test/v2/node/contact/update.workflow (189 ms)
2025-04-15T08:22:18.3793425Z 
2025-04-15T08:22:18.3793569Z PASS nodes/WhatsApp/tests/node/sendAndWait.test.ts
2025-04-15T08:22:18.3793728Z   Test WhatsApp Business Cloud, sendAndWait operation
2025-04-15T08:22:18.3793918Z     ✓ should send message and put execution to wait (12 ms)
2025-04-15T08:22:18.3793922Z 
2025-04-15T08:22:18.3794150Z PASS nodes/Google/BusinessProfile/test/AddUpdateMask.test.ts
2025-04-15T08:22:18.3794265Z   GenericFunctions - addUpdateMask
2025-04-15T08:22:18.3794453Z     ✓ should add updateMask with mapped properties to the query string (10 ms)
2025-04-15T08:22:18.3794656Z     ✓ should handle empty additionalOptions and not add updateMask
2025-04-15T08:22:18.3794800Z     ✓ should include unmapped properties in the updateMask
2025-04-15T08:22:18.3794982Z     ✓ should merge updateMask with existing query string
2025-04-15T08:22:18.3794986Z 
2025-04-15T08:22:18.3795135Z PASS nodes/HighLevel/v2/test/GetPipelineStages.test.ts
2025-04-15T08:22:18.3795251Z   getPipelineStages
2025-04-15T08:22:18.3795532Z     ✓ should return pipeline stages for create operation (10 ms)
2025-04-15T08:22:18.3795686Z     ✓ should return pipeline stages for update operation (1 ms)
2025-04-15T08:22:18.3795869Z     ✓ should return an empty array if pipeline is not found
2025-04-15T08:22:18.3795873Z 
2025-04-15T08:22:18.3796029Z PASS nodes/Notion/test/node/v2/databasePage/create.test.ts
2025-04-15T08:22:18.3796147Z   Test NotionV2, databasePage => create
2025-04-15T08:22:18.3796338Z     ✓ nodes/Notion/test/node/v2/databasePage/create.workflow (116 ms)
2025-04-15T08:22:18.3796342Z 
2025-04-15T08:22:18.3796527Z PASS nodes/Google/BusinessProfile/test/SearchReviews.test.ts
2025-04-15T08:22:18.3796648Z   GenericFunctions - searchReviews
2025-04-15T08:22:18.3796764Z     ✓ should return reviews with filtering (3 ms)
2025-04-15T08:22:18.3796896Z     ✓ should handle empty results
2025-04-15T08:22:18.3797012Z     ✓ should handle pagination
2025-04-15T08:22:18.3797017Z 
2025-04-15T08:22:18.3797201Z PASS nodes/HighLevel/v2/test/SplitTagsPreSendAction.test.ts
2025-04-15T08:22:18.3797284Z   splitTagsPreSendAction
2025-04-15T08:22:18.3797534Z     ✓ should return requestOptions unchanged if tags are already an array (3 ms)
2025-04-15T08:22:18.3797698Z     ✓ should split a comma-separated string of tags into an array
2025-04-15T08:22:18.3797928Z     ✓ should trim whitespace around tags when splitting a string (1 ms)
2025-04-15T08:22:18.3798091Z     ✓ should return requestOptions unchanged if tags are not provided
2025-04-15T08:22:18.3798268Z     ✓ should return requestOptions unchanged if body is undefined
2025-04-15T08:22:18.3798272Z 
2025-04-15T08:22:18.3798407Z PASS nodes/ICalendar/test/node/ICalendar.test.ts
2025-04-15T08:22:18.3798507Z   Execute iCalendar Node
2025-04-15T08:22:18.3798724Z     ✓ nodes/ICalendar/test/node/workflow.iCalendar.json (228 ms)
2025-04-15T08:22:18.3798729Z 
2025-04-15T08:22:18.3798846Z PASS nodes/EmailReadImap/test/v2/utils.test.ts
2025-04-15T08:22:18.3798970Z   Test IMap V2 utils
2025-04-15T08:22:18.3799040Z     getNewEmails
2025-04-15T08:22:18.3799194Z       ✓ should return new emails (5 ms)
2025-04-15T08:22:18.3799198Z 
2025-04-15T08:22:18.3799338Z PASS nodes/Postgres/test/v2/resourceMapping.test.ts
2025-04-15T08:22:18.3799451Z   Postgres, resourceMapping
2025-04-15T08:22:18.3799652Z     ✓ should mark id as not required if identity_generation is "BY_DEFAULT" (5 ms)
2025-04-15T08:22:18.3799656Z 
2025-04-15T08:22:18.3799807Z PASS nodes/Airtable/test/v2/node/record/update.test.ts
2025-04-15T08:22:18.3799925Z   Test AirtableV2, update operation
2025-04-15T08:22:18.3800065Z     ✓ should update a record by id, autoMapInputData (3 ms)
2025-04-15T08:22:18.3800246Z     ✓ should update a record by field name, autoMapInputData
2025-04-15T08:22:18.3800249Z 
2025-04-15T08:22:18.3800582Z PASS nodes/ExecuteWorkflow/ExecuteWorkflowTrigger/ExecuteWorkflowTrigger.node.test.ts
2025-04-15T08:22:18.3800717Z   ExecuteWorkflowTrigger
2025-04-15T08:22:18.3800892Z     ✓ should return its input data on V1 or V1.1 passthrough (3 ms)
2025-04-15T08:22:18.3801112Z     ✓ should filter out parent input in `Using Fields below` mode (1 ms)
2025-04-15T08:22:18.3801116Z 
2025-04-15T08:22:18.3801259Z PASS nodes/Discord/test/v2/node/channel/getAll.test.ts
2025-04-15T08:22:18.3801382Z   Test DiscordV2, channel => getAll
2025-04-15T08:22:18.3801594Z     ✓ nodes/Discord/test/v2/node/channel/getAll.workflow (415 ms)
2025-04-15T08:22:18.3801598Z 
2025-04-15T08:22:18.3801720Z PASS nodes/GraphQL/test/GraphQL.node.test.ts
2025-04-15T08:22:18.3801811Z   GraphQL Node
2025-04-15T08:22:18.3801976Z     ✓ nodes/GraphQL/test/workflow.error_invalid_expression (294 ms)
2025-04-15T08:22:18.3802130Z     ✓ nodes/GraphQL/test/workflow (24 ms)
2025-04-15T08:22:18.3802134Z 
2025-04-15T08:22:18.3802277Z PASS nodes/Google/BusinessProfile/test/SearchPosts.test.ts
2025-04-15T08:22:18.3802376Z   GenericFunctions - searchPosts
2025-04-15T08:22:18.3802481Z     ✓ should return posts with filtering (3 ms)
2025-04-15T08:22:18.3802634Z     ✓ should handle empty results (1 ms)
2025-04-15T08:22:18.3802828Z     ✓ should handle pagination
2025-04-15T08:22:18.3802870Z 
2025-04-15T08:22:18.3803004Z PASS nodes/Google/Sheet/test/v2/node/append.test.ts
2025-04-15T08:22:18.3803133Z   Google Sheet - Append
2025-04-15T08:22:18.3803287Z     ✓ should insert input data if sheet is empty (5 ms)
2025-04-15T08:22:18.3803291Z 
2025-04-15T08:22:18.3803493Z PASS nodes/Google/BusinessProfile/test/SearchLocations.test.ts
2025-04-15T08:22:18.3803584Z   GenericFunctions - searchLocations
2025-04-15T08:22:18.3803748Z     ✓ should return locations with filtering (5 ms)
2025-04-15T08:22:18.3803878Z     ✓ should handle empty results (1 ms)
2025-04-15T08:22:18.3804086Z     ✓ should handle pagination
2025-04-15T08:22:18.3804090Z 
2025-04-15T08:22:18.3804251Z PASS nodes/Microsoft/Storage/test/credentials/oauth2.test.ts
2025-04-15T08:22:18.3804359Z   Azure Storage Node
2025-04-15T08:22:18.3804496Z     should use correct oauth2 credentials
2025-04-15T08:22:18.3804713Z       ✓ nodes/Microsoft/Storage/test/workflows/credentials_oauth2.workflow (75 ms)
2025-04-15T08:22:18.3804721Z 
2025-04-15T08:22:18.3804929Z PASS nodes/HighLevel/v2/test/TaskPostReceiceAction.test.ts
2025-04-15T08:22:18.3805014Z   taskPostReceiceAction
2025-04-15T08:22:18.3805194Z     ✓ should add contactId to each item in items (4 ms)
2025-04-15T08:22:18.3805321Z     ✓ should not modify other fields in items
2025-04-15T08:22:18.3805499Z     ✓ should return an empty array if items is empty
2025-04-15T08:22:18.3805503Z 
2025-04-15T08:22:18.3805660Z PASS nodes/Microsoft/Teams/test/v2/node/task/create.test.ts
2025-04-15T08:22:18.3805775Z   Test MicrosoftTeamsV2, task => create
2025-04-15T08:22:18.3805977Z     ✓ nodes/Microsoft/Teams/test/v2/node/task/create.workflow (150 ms)
2025-04-15T08:22:18.3805981Z 
2025-04-15T08:22:18.3806128Z PASS nodes/HighLevel/v2/test/DueDatePreSendAction.test.ts
2025-04-15T08:22:18.3806254Z   dueDatePreSendAction
2025-04-15T08:22:18.3806504Z     ✓ should add formatted dueDate to requestOptions.body if dueDate is provided directly (13 ms)
2025-04-15T08:22:18.3806793Z     ✓ should add formatted dueDate to requestOptions.body if dueDate is provided in updateFields (1 ms)
2025-04-15T08:22:18.3806969Z     ✓ should initialize body as an empty object if it is undefined
2025-04-15T08:22:18.3806973Z 
2025-04-15T08:22:18.3807152Z PASS nodes/Airtop/test/node/window/close.test.ts
2025-04-15T08:22:18.3807259Z   Test Airtop, window close operation
2025-04-15T08:22:18.3807432Z     ✓ should close a window successfully (3 ms)
2025-04-15T08:22:18.3807602Z     ✓ should throw error when sessionId is empty (13 ms)
2025-04-15T08:22:18.3807736Z     ✓ should throw error when windowId is empty (1 ms)
2025-04-15T08:22:18.3807740Z 
2025-04-15T08:22:18.3807882Z   console.log
2025-04-15T08:22:18.3808246Z     Error adding next occurrence RRULE:FREQ=DAILY;UNTIL=20240805T000000Z
2025-04-15T08:22:18.3808253Z 
2025-04-15T08:22:18.3808445Z       at log (nodes/Google/Calendar/GenericFunctions.ts:203:13)
2025-04-15T08:22:18.3808449Z 
2025-04-15T08:22:18.3808572Z PASS nodes/Google/Calendar/test/addNextOccurrence.test.ts
2025-04-15T08:22:18.3808708Z   addNextOccurrence
2025-04-15T08:22:18.3808871Z     ✓ should not modify event if no recurrence exists (3 ms)
2025-04-15T08:22:18.3809003Z     ✓ should handle event with no RRULE correctly
2025-04-15T08:22:18.3809164Z     ✓ should ignore recurrence if until date is in the past (42 ms)
2025-04-15T08:22:18.3809439Z     ✓ should handle errors gracefully without breaking and return unchanged event
2025-04-15T08:22:18.3809450Z 
2025-04-15T08:22:18.3809729Z PASS nodes/Airtable/test/v2/node/base/getMany.test.ts
2025-04-15T08:22:18.3809866Z   Test AirtableV2, base => getMany
2025-04-15T08:22:18.3810132Z     ✓ should return all bases (4 ms)
2025-04-15T08:22:18.3810267Z     ✓ should return one base with edit permission
2025-04-15T08:22:18.3810280Z 
2025-04-15T08:22:18.3810479Z PASS nodes/ReadBinaryFiles/test/ReadBinaryFiles.test.ts
2025-04-15T08:22:18.3810559Z   Test Read Binary Files Node
2025-04-15T08:22:18.3810779Z     ✓ nodes/ReadBinaryFiles/test/ReadBinaryFiles.workflow.json (30 ms)
2025-04-15T08:22:18.3811116Z 
2025-04-15T08:22:18.3811361Z PASS nodes/Transform/Summarize/test/unitTests/checkIfFieldExists.test.ts
2025-04-15T08:22:18.3811472Z   Test Summarize Node, checkIfFieldExists
2025-04-15T08:22:18.3811677Z     ✓ should not throw error if all fields exist (3 ms)
2025-04-15T08:22:18.3811879Z     ✓ should throw NodeOperationError if any field does not exist (33 ms)
2025-04-15T08:22:18.3812190Z     ✓ should throw NodeOperationError with error message containing the field name that doesn't exist (1 ms)
2025-04-15T08:22:18.3812327Z     ✓ should not throw error if field is empty string
2025-04-15T08:22:18.3812331Z 
2025-04-15T08:22:18.3812513Z PASS nodes/Telegram/tests/Workflow/workflow.test.ts
2025-04-15T08:22:18.3812563Z   Telegram
2025-04-15T08:22:18.3812669Z     Run Telegram workflow
2025-04-15T08:22:18.3812823Z       ✓ nodes/Telegram/tests/Workflow/workflow (301 ms)
2025-04-15T08:22:18.3812827Z 
2025-04-15T08:22:18.3813021Z PASS nodes/Microsoft/Outlook/test/v2/node/contact/create.test.ts
2025-04-15T08:22:18.3813142Z   Test MicrosoftOutlookV2, contact => create
2025-04-15T08:22:18.3813362Z     ✓ nodes/Microsoft/Outlook/test/v2/node/contact/create.workflow (198 ms)
2025-04-15T08:22:18.3813366Z 
2025-04-15T08:22:18.3813532Z PASS nodes/Google/BusinessProfile/test/SearchAccounts.test.ts
2025-04-15T08:22:18.3813634Z   GenericFunctions - searchAccounts
2025-04-15T08:22:18.3813790Z     ✓ should return accounts with filtering (2 ms)
2025-04-15T08:22:18.3813894Z     ✓ should handle empty results
2025-04-15T08:22:18.3814095Z     ✓ should handle pagination
2025-04-15T08:22:18.3814099Z 
2025-04-15T08:22:18.3814294Z PASS nodes/Microsoft/Teams/test/v2/node/channelMessage/getAll.test.ts
2025-04-15T08:22:18.3814437Z   Test MicrosoftTeamsV2, channelMessage => getAll
2025-04-15T08:22:18.3814670Z     ✓ nodes/Microsoft/Teams/test/v2/node/channelMessage/getAll.workflow (148 ms)
2025-04-15T08:22:18.3814674Z 
2025-04-15T08:22:18.3814821Z PASS nodes/Google/Drive/test/v2/node/file/move.test.ts
2025-04-15T08:22:18.3814963Z   test GoogleDriveV2: file move
2025-04-15T08:22:18.3815055Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3815059Z 
2025-04-15T08:22:18.3815253Z PASS nodes/Microsoft/AzureCosmosDb/test/item/update.test.ts
2025-04-15T08:22:18.3815347Z   Azure Cosmos DB - Update Item
2025-04-15T08:22:18.3815555Z     ✓ nodes/Microsoft/AzureCosmosDb/test/item/update.workflow (80 ms)
2025-04-15T08:22:18.3815559Z 
2025-04-15T08:22:18.3815736Z PASS nodes/Microsoft/Teams/test/v2/node/channel/getAll.test.ts
2025-04-15T08:22:18.3815853Z   Test MicrosoftTeamsV2, channel => getAll
2025-04-15T08:22:18.3816103Z     ✓ nodes/Microsoft/Teams/test/v2/node/channel/getAll.workflow (131 ms)
2025-04-15T08:22:18.3816107Z 
2025-04-15T08:22:18.3816409Z PASS nodes/HighLevel/v2/test/ValidEmailAndPhonePreSendAction.test.ts
2025-04-15T08:22:18.3816582Z   validEmailAndPhonePreSendAction
2025-04-15T08:22:18.3816785Z     ✓ should return requestOptions unchanged if email and phone are valid (3 ms)
2025-04-15T08:22:18.3817033Z     ✓ should not modify requestOptions if no email or phone is provided
2025-04-15T08:22:18.3817200Z     ✓ should not modify requestOptions if body is undefined
2025-04-15T08:22:18.3817204Z 
2025-04-15T08:22:18.3817386Z PASS nodes/HighLevel/v2/test/IsEmailValid.test.ts
2025-04-15T08:22:18.3817499Z   isEmailValid
2025-04-15T08:22:18.3817638Z     ✓ should return true for a valid email address (2 ms)
2025-04-15T08:22:18.3817815Z     ✓ should return false for an invalid email address
2025-04-15T08:22:18.3818005Z     ✓ should return true for an email address with subdomain
2025-04-15T08:22:18.3818208Z     ✓ should return false for an email address without a domain
2025-04-15T08:22:18.3818403Z     ✓ should return false for an email address without a username
2025-04-15T08:22:18.3818710Z     ✓ should return true for an email address with a plus sign
2025-04-15T08:22:18.3818954Z     ✓ should return false for an email address with invalid characters
2025-04-15T08:22:18.3819214Z     ✓ should return false for an email address without a top-level domain (1 ms)
2025-04-15T08:22:18.3819513Z     ✓ should return true for an email address with a valid top-level domain
2025-04-15T08:22:18.3819711Z     ✓ should return false for an empty email string
2025-04-15T08:22:18.3819715Z 
2025-04-15T08:22:18.3819907Z PASS nodes/Microsoft/AzureCosmosDb/test/container/create.test.ts
2025-04-15T08:22:18.3820052Z   Azure Cosmos DB - Create Container
2025-04-15T08:22:18.3820329Z     ✓ nodes/Microsoft/AzureCosmosDb/test/container/create.workflow (81 ms)
2025-04-15T08:22:18.3820333Z 
2025-04-15T08:22:18.3820497Z PASS nodes/EmailReadImap/test/v2/EmailReadImapV2.node.test.ts
2025-04-15T08:22:18.3820670Z   Test IMap V2
2025-04-15T08:22:18.3820896Z     ✓ should run return a close function on success (4 ms)
2025-04-15T08:22:18.3820908Z 
2025-04-15T08:22:18.3821153Z PASS nodes/Airtable/test/v2/utils.test.ts
2025-04-15T08:22:18.3821288Z   test AirtableV2, removeIgnored
2025-04-15T08:22:18.3821454Z     ✓ should remove ignored fields (3 ms)
2025-04-15T08:22:18.3821663Z     ✓ should return the same data if ignore field does not present (8 ms)
2025-04-15T08:22:18.3821831Z     ✓ should return the same data if empty string
2025-04-15T08:22:18.3821977Z   test AirtableV2, findMatches
2025-04-15T08:22:18.3822079Z     ✓ should find match (1 ms)
2025-04-15T08:22:18.3822199Z     ✓ should find all matches
2025-04-15T08:22:18.3822202Z 
2025-04-15T08:22:18.3822338Z PASS nodes/Microsoft/AzureCosmosDb/test/item/get.test.ts
2025-04-15T08:22:18.3822426Z   Azure Cosmos DB - Get Item
2025-04-15T08:22:18.3822595Z     ✓ nodes/Microsoft/AzureCosmosDb/test/item/get.workflow (89 ms)
2025-04-15T08:22:18.3822599Z 
2025-04-15T08:22:18.3822806Z PASS nodes/Google/Drive/test/v2/node/folder/deleteFolder.test.ts
2025-04-15T08:22:18.3822925Z   test GoogleDriveV2: folder deleteFolder
2025-04-15T08:22:18.3823101Z     ✓ should be called with PATCH (3 ms)
2025-04-15T08:22:18.3823221Z     ✓ should be called with DELETE
2025-04-15T08:22:18.3823279Z 
2025-04-15T08:22:18.3823495Z PASS nodes/MQTT/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3823630Z   createClient
2025-04-15T08:22:18.3823785Z     ✓ should create a client with minimal credentials (10 ms)
2025-04-15T08:22:18.3824120Z     ✓ should reject with ApplicationError on connection error and close connection (9 ms)
2025-04-15T08:22:18.3824124Z 
2025-04-15T08:22:18.3824225Z PASS nodes/Code/test/utils.test.ts
2025-04-15T08:22:18.3824364Z   addPostExecutionWarning
2025-04-15T08:22:18.3824567Z     ✓ should add execution hints when returnData length differs from inputItemsLength (3 ms)
2025-04-15T08:22:18.3824797Z     ✓ should add execution hints when any item has undefined pairedItem
2025-04-15T08:22:18.3825164Z     ✓ should not add execution hints when all items match inputItemsLength and have defined pairedItem (1 ms)
2025-04-15T08:22:18.3825198Z 
2025-04-15T08:22:18.3825360Z PASS nodes/Airtop/test/node/interaction/helpers.test.ts
2025-04-15T08:22:18.3825518Z   Test Airtop interaction helpers
2025-04-15T08:22:18.3825607Z     constructInteractionRequest
2025-04-15T08:22:18.3825800Z       ✓ should construct basic request with default values (3 ms)
2025-04-15T08:22:18.3825966Z       ✓ should include 'visualScope' parameter when specified
2025-04-15T08:22:18.3826224Z       ✓ should include 'waitForNavigation' parameter when specified
2025-04-15T08:22:18.3826421Z       ✓ should merge additional parameters
2025-04-15T08:22:18.3826427Z 
2025-04-15T08:22:18.3826712Z PASS nodes/Airtop/test/node/session/terminate.test.ts
2025-04-15T08:22:18.3826874Z   Test Airtop, session terminate operation
2025-04-15T08:22:18.3827174Z     ✓ should terminate a session successfully (5 ms)
2025-04-15T08:22:18.3827315Z     ✓ should throw error when sessionId is empty (12 ms)
2025-04-15T08:22:18.3827557Z     ✓ should throw error when sessionId is whitespace
2025-04-15T08:22:18.3827561Z 
2025-04-15T08:22:18.3827729Z PASS nodes/Notion/test/node/v2/page/create.test.ts
2025-04-15T08:22:18.3827816Z   Test NotionV2, page => create
2025-04-15T08:22:18.3828006Z     ✓ nodes/Notion/test/node/v2/page/create.workflow (121 ms)
2025-04-15T08:22:18.3828120Z 
2025-04-15T08:22:18.3828280Z PASS nodes/Microsoft/AzureCosmosDb/test/item/create.test.ts
2025-04-15T08:22:18.3828424Z   Azure Cosmos DB - Create Item
2025-04-15T08:22:18.3828630Z     ✓ nodes/Microsoft/AzureCosmosDb/test/item/create.workflow (102 ms)
2025-04-15T08:22:18.3828634Z 
2025-04-15T08:22:18.3828842Z PASS nodes/Microsoft/Storage/test/blob/getAllLimitOptions.test.ts
2025-04-15T08:22:18.3828958Z   Azure Storage Node
2025-04-15T08:22:18.3829098Z     should get all blobs with limit and options
2025-04-15T08:22:18.3829497Z       ✓ nodes/Microsoft/Storage/test/workflows/blob_getAllLimitOptions.workflow (86 ms)
2025-04-15T08:22:18.3829501Z 
2025-04-15T08:22:18.3829698Z PASS nodes/Microsoft/AzureCosmosDb/test/item/getAll.test.ts
2025-04-15T08:22:18.3829873Z   Azure Cosmos DB - Get All Items
2025-04-15T08:22:18.3830152Z     ✓ nodes/Microsoft/AzureCosmosDb/test/item/getAll.workflow (84 ms)
2025-04-15T08:22:18.3830155Z 
2025-04-15T08:22:18.3830313Z PASS nodes/Code/test/JsCodeValidator.test.ts
2025-04-15T08:22:18.3830403Z   JsCodeValidator
2025-04-15T08:22:18.3830533Z     validateNoDisallowedMethodsInRunForEach
2025-04-15T08:22:18.3830743Z       ✓ should not throw error if disallow method is used within single line comments (10 ms)
2025-04-15T08:22:18.3830925Z       ✓ should not throw error if disallow method is used in single multi line comments
2025-04-15T08:22:18.3831143Z       ✓ should not throw error if disallow method is used within multi line comments
2025-04-15T08:22:18.3831379Z       ✓ should throw error if disallow method is used (4 ms)
2025-04-15T08:22:18.3831386Z 
2025-04-15T08:22:18.3831666Z PASS nodes/Notion/test/node/v2/databasePage/getAll.test.ts
2025-04-15T08:22:18.3831814Z   Test NotionV2, databasePage => getAll
2025-04-15T08:22:18.3832148Z     ✓ nodes/Notion/test/node/v2/databasePage/getAll.workflow (101 ms)
2025-04-15T08:22:18.3832154Z 
2025-04-15T08:22:18.3832411Z PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/get.test.ts
2025-04-15T08:22:18.3832589Z   Test MicrosoftTeamsV2, chatMessage => get
2025-04-15T08:22:18.3832863Z     ✓ nodes/Microsoft/Teams/test/v2/node/chatMessage/get.workflow (130 ms)
2025-04-15T08:22:18.3832867Z 
2025-04-15T08:22:18.3833021Z PASS nodes/Microsoft/Teams/test/v2/node/task/get.test.ts
2025-04-15T08:22:18.3833136Z   Test MicrosoftTeamsV2, task => get
2025-04-15T08:22:18.3833300Z     ✓ nodes/Microsoft/Teams/test/v2/node/task/get.workflow (140 ms)
2025-04-15T08:22:18.3833304Z 
2025-04-15T08:22:18.3833489Z PASS nodes/Spotify/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3833570Z   Spotify -> GenericFunctions
2025-04-15T08:22:18.3833815Z     ✓ should make a request with the correct options (3 ms)
2025-04-15T08:22:18.3834247Z     ✓ should throw a NodeApiError on request failure (6 ms)
2025-04-15T08:22:18.3834307Z 
2025-04-15T08:22:18.3834613Z PASS utils/workflowInputsResourceMapping/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3834768Z   getWorkflowInputValues
2025-04-15T08:22:18.3835010Z     ✓ should correctly map the binary property (7 ms)
2025-04-15T08:22:18.3835017Z 
2025-04-15T08:22:18.3835257Z PASS nodes/Wordpress/__tests__/GenericFunctions.test.ts
2025-04-15T08:22:18.3835409Z   Wordpress > GenericFunctions
2025-04-15T08:22:18.3835553Z     wordpressApiRequest
2025-04-15T08:22:18.3835751Z       ✓ should make a successful request (3 ms)
2025-04-15T08:22:18.3835992Z       ✓ should throw NodeApiError on failure (6 ms)
2025-04-15T08:22:18.3836119Z     wordpressApiRequestAllItems
2025-04-15T08:22:18.3836323Z       ✓ should accumulate all pages
2025-04-15T08:22:18.3836328Z 
2025-04-15T08:22:18.3836553Z PASS nodes/Microsoft/Excel/test/v2/node/table/lookup.test.ts
2025-04-15T08:22:18.3836702Z   Test MicrosoftExcelV2, table => lookup
2025-04-15T08:22:18.3837005Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/lookup.workflow (959 ms)
2025-04-15T08:22:18.3837010Z 
2025-04-15T08:22:18.3837212Z PASS nodes/Google/Drive/test/v2/node/drive/list.test.ts
2025-04-15T08:22:18.3837341Z   test GoogleDriveV2: drive list
2025-04-15T08:22:18.3837620Z     ✓ should be called with limit (3 ms)
2025-04-15T08:22:18.3837847Z     ✓ should be called with returnAll true
2025-04-15T08:22:18.3837853Z 
2025-04-15T08:22:18.3838082Z PASS nodes/Code/test/JsTaskRunnerSandbox.test.ts
2025-04-15T08:22:18.3838200Z   JsTaskRunnerSandbox
2025-04-15T08:22:18.3838323Z     runCodeForEachItem
2025-04-15T08:22:18.3838630Z       ✓ should chunk the input items and execute the code for each chunk (4 ms)
2025-04-15T08:22:18.3838635Z 
2025-04-15T08:22:18.3838863Z PASS nodes/Google/Drive/test/v2/node/file/copy.test.ts
2025-04-15T08:22:18.3838985Z   test GoogleDriveV2: file copy
2025-04-15T08:22:18.3839220Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3839225Z 
2025-04-15T08:22:18.3839449Z PASS nodes/Google/Drive/test/v2/node/file/share.test.ts
2025-04-15T08:22:18.3839619Z   test GoogleDriveV2: file share
2025-04-15T08:22:18.3839795Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3839800Z 
2025-04-15T08:22:18.3840064Z PASS nodes/Transform/RemoveDuplicates/test/RemoveDuplicates.test.ts
2025-04-15T08:22:18.3840198Z   Test Remove Duplicates Node
2025-04-15T08:22:18.3840577Z     ✓ nodes/Transform/RemoveDuplicates/test/workflow.removeDuplicates (230 ms)
2025-04-15T08:22:18.3840769Z   Test Remove Duplicates Node, validateInputData util
2025-04-15T08:22:18.3840958Z     ✓ Should throw error for version 1 (9 ms)
2025-04-15T08:22:18.3841286Z     ✓ Should ignore null values and not throw error for version grater than 1 (1 ms)
2025-04-15T08:22:18.3841445Z     ✓ Should throw error for different types, version grater than 1
2025-04-15T08:22:18.3841449Z 
2025-04-15T08:22:18.3841626Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/upsert.test.ts
2025-04-15T08:22:18.3841706Z   Test MicrosoftExcelV2, worksheet => upsert
2025-04-15T08:22:18.3841924Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/upsert.workflow (175 ms)
2025-04-15T08:22:18.3841928Z 
2025-04-15T08:22:18.3842105Z PASS nodes/Microsoft/Teams/test/v2/node/chatMessage/create.test.ts
2025-04-15T08:22:18.3842270Z   Test MicrosoftTeamsV2, chatMessage => create
2025-04-15T08:22:18.3842490Z     ✓ nodes/Microsoft/Teams/test/v2/node/chatMessage/create.workflow (142 ms)
2025-04-15T08:22:18.3842494Z 
2025-04-15T08:22:18.3842657Z PASS nodes/Microsoft/Teams/test/v2/node/channelMessage/create.test.ts
2025-04-15T08:22:18.3842807Z   Test MicrosoftTeamsV2, channelMessage => create
2025-04-15T08:22:18.3843006Z     ✓ nodes/Microsoft/Teams/test/v2/node/channelMessage/create.workflow (157 ms)
2025-04-15T08:22:18.3843010Z 
2025-04-15T08:22:18.3843154Z PASS nodes/Notion/test/node/v2/page/search.test.ts
2025-04-15T08:22:18.3843235Z   Test NotionV2, page => search
2025-04-15T08:22:18.3843449Z     ✓ nodes/Notion/test/node/v2/page/search.workflow (108 ms)
2025-04-15T08:22:18.3843453Z 
2025-04-15T08:22:18.3843795Z PASS nodes/Microsoft/Storage/test/container/getAllLimitOptions.test.ts
2025-04-15T08:22:18.3843883Z   Azure Storage Node
2025-04-15T08:22:18.3844160Z     should get all containers with limit and options
2025-04-15T08:22:18.3844475Z       ✓ nodes/Microsoft/Storage/test/workflows/container_getAllLimitOptions.workflow (103 ms)
2025-04-15T08:22:18.3844479Z 
2025-04-15T08:22:18.3844685Z PASS nodes/Notion/test/node/v2/databasePage/update.test.ts
2025-04-15T08:22:18.3844779Z   Test NotionV2, databasePage => update
2025-04-15T08:22:18.3844982Z     ✓ nodes/Notion/test/node/v2/databasePage/update.workflow (104 ms)
2025-04-15T08:22:18.3844986Z 
2025-04-15T08:22:18.3845183Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/update.test.ts
2025-04-15T08:22:18.3845338Z   Test MicrosoftExcelV2, worksheet => update
2025-04-15T08:22:18.3845671Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/update.workflow (156 ms)
2025-04-15T08:22:18.3845675Z 
2025-04-15T08:22:18.3845798Z PASS nodes/Oura/test/oura.node.test.ts
2025-04-15T08:22:18.3845869Z   Oura
2025-04-15T08:22:18.3845942Z     ouraApiRequest
2025-04-15T08:22:18.3846125Z       ✓ should make an authenticated API request to Oura (3 ms)
2025-04-15T08:22:18.3846214Z     Run Oura workflow
2025-04-15T08:22:18.3846467Z       ✓ nodes/Oura/test/oura_test_workflow (198 ms)
2025-04-15T08:22:18.3846471Z 
2025-04-15T08:22:18.3846619Z PASS nodes/Github/__tests__/node/Github.webhook.test.ts
2025-04-15T08:22:18.3846796Z   Github Node - Webhook Method
2025-04-15T08:22:18.3847070Z     ✓ should process webhook request and return workflowData (6 ms)
2025-04-15T08:22:18.3847076Z 
2025-04-15T08:22:18.3847316Z PASS nodes/Google/Drive/test/v2/node/drive/create.test.ts
2025-04-15T08:22:18.3847449Z   test GoogleDriveV2: drive create
2025-04-15T08:22:18.3847534Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3847537Z 
2025-04-15T08:22:18.3847738Z PASS nodes/Microsoft/Outlook/test/v2/node/calendar/getAll.test.ts
2025-04-15T08:22:18.3847928Z   Test MicrosoftOutlookV2, calendar => getAll
2025-04-15T08:22:18.3848391Z     ✓ nodes/Microsoft/Outlook/test/v2/node/calendar/getAll.workflow (183 ms)
2025-04-15T08:22:18.3848397Z 
2025-04-15T08:22:18.3848649Z PASS nodes/Microsoft/AzureCosmosDb/test/container/get.test.ts
2025-04-15T08:22:18.3848801Z   Azure Cosmos DB - Get Container
2025-04-15T08:22:18.3848991Z     ✓ nodes/Microsoft/AzureCosmosDb/test/container/get.workflow (71 ms)
2025-04-15T08:22:18.3848995Z 
2025-04-15T08:22:18.3849136Z PASS nodes/Microsoft/AzureCosmosDb/test/item/delete.test.ts
2025-04-15T08:22:18.3849262Z   Azure Cosmos DB - Delete Item
2025-04-15T08:22:18.3849413Z     ✓ nodes/Microsoft/AzureCosmosDb/test/item/delete.workflow (83 ms)
2025-04-15T08:22:18.3849418Z 
2025-04-15T08:22:18.3849530Z PASS nodes/Notion/test/node/v2/page/archive.test.ts
2025-04-15T08:22:18.3849614Z   Test NotionV2, page => archive
2025-04-15T08:22:18.3849841Z     ✓ nodes/Notion/test/node/v2/page/archive.workflow (100 ms)
2025-04-15T08:22:18.3849846Z 
2025-04-15T08:22:18.3850061Z PASS nodes/Notion/test/node/v2/database/get.test.ts
2025-04-15T08:22:18.3850196Z   Test NotionV2, database => get
2025-04-15T08:22:18.3850454Z     ✓ nodes/Notion/test/node/v2/database/get.workflow (113 ms)
2025-04-15T08:22:18.3850460Z 
2025-04-15T08:22:18.3850685Z PASS nodes/Notion/test/node/v2/databasePage/get.test.ts
2025-04-15T08:22:18.3850859Z   Test NotionV2, databasePage => get
2025-04-15T08:22:18.3851109Z     ✓ nodes/Notion/test/node/v2/databasePage/get.workflow (100 ms)
2025-04-15T08:22:18.3851114Z 
2025-04-15T08:22:18.3851378Z PASS nodes/Google/Drive/test/v2/node/file/download.test.ts
2025-04-15T08:22:18.3851526Z   test GoogleDriveV2: file download
2025-04-15T08:22:18.3851631Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3851635Z 
2025-04-15T08:22:18.3851807Z PASS nodes/Google/Drive/test/v2/node/file/update.test.ts
2025-04-15T08:22:18.3851912Z   test GoogleDriveV2: file update
2025-04-15T08:22:18.3852056Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3852060Z 
2025-04-15T08:22:18.3852334Z PASS nodes/Slack/test/v2/node/message/update.test.ts
2025-04-15T08:22:18.3852475Z   Test SlackV2, message => update
2025-04-15T08:22:18.3852671Z     ✓ nodes/Slack/test/v2/node/message/update.workflow (144 ms)
2025-04-15T08:22:18.3852683Z 
2025-04-15T08:22:18.3852848Z PASS nodes/Slack/test/v2/node/message/post.test.ts
2025-04-15T08:22:18.3852983Z   Test SlackV2, message => post
2025-04-15T08:22:18.3853115Z     ✓ nodes/Slack/test/v2/node/message/post.workflow (176 ms)
2025-04-15T08:22:18.3853118Z 
2025-04-15T08:22:18.3853298Z PASS nodes/Discord/test/v2/node/message/send.test.ts
2025-04-15T08:22:18.3853402Z   Test DiscordV2, message => send
2025-04-15T08:22:18.3853600Z     ✓ nodes/Discord/test/v2/node/message/send.workflow (157 ms)
2025-04-15T08:22:18.3853603Z 
2025-04-15T08:22:18.3853697Z PASS nodes/MySql/test/v1/executeQuery.test.ts
2025-04-15T08:22:18.3853795Z   Test MySqlV1, executeQuery
2025-04-15T08:22:18.3853912Z     ✓ nodes/MySql/test/v1/executeQuery.workflow (463 ms)
2025-04-15T08:22:18.3853921Z 
2025-04-15T08:22:18.3854101Z PASS nodes/Postgres/test/v2/runQueries.test.ts
2025-04-15T08:22:18.3854193Z   Test PostgresV2, runQueries
2025-04-15T08:22:18.3854348Z     ✓ should execute, should return success true (10 ms)
2025-04-15T08:22:18.3854479Z 
2025-04-15T08:22:18.3854641Z PASS nodes/Baserow/__tests__/workflow/workflow.test.ts
2025-04-15T08:22:18.3854690Z   Baserow > Workflows
2025-04-15T08:22:18.3854766Z     Run workflow
2025-04-15T08:22:18.3854902Z       ✓ nodes/Baserow/__tests__/workflow/workflow (319 ms)
2025-04-15T08:22:18.3854906Z 
2025-04-15T08:22:18.3855071Z PASS nodes/Google/Drive/test/v2/node/folder/share.test.ts
2025-04-15T08:22:18.3855137Z   test GoogleDriveV2: folder share
2025-04-15T08:22:18.3855239Z     ✓ should be called with (3 ms)
2025-04-15T08:22:18.3855243Z 
2025-04-15T08:22:18.3855412Z PASS nodes/Google/Drive/test/v2/node/folder/create.test.ts
2025-04-15T08:22:18.3855505Z   test GoogleDriveV2: folder create
2025-04-15T08:22:18.3855610Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3855618Z 
2025-04-15T08:22:18.3855743Z PASS nodes/Airtable/test/v2/node/base/getSchema.test.ts
2025-04-15T08:22:18.3855865Z   Test AirtableV2, base => getSchema
2025-04-15T08:22:18.3856001Z     ✓ should return all bases (4 ms)
2025-04-15T08:22:18.3856008Z 
2025-04-15T08:22:18.3856130Z PASS nodes/Webhook/test/Webhook.test.ts
2025-04-15T08:22:18.3856191Z   Test Webhook Node
2025-04-15T08:22:18.3856330Z     ✓ nodes/Webhook/test/Webhook.formdata.test (9 ms)
2025-04-15T08:22:18.3856420Z     handleFormData
2025-04-15T08:22:18.3856564Z       ✓ should handle when no files are present (1 ms)
2025-04-15T08:22:18.3856712Z       ✓ should handle when files are present (1 ms)
2025-04-15T08:22:18.3856716Z 
2025-04-15T08:22:18.3856849Z PASS nodes/HighLevel/v2/test/GetContacts.test.ts
2025-04-15T08:22:18.3856971Z   getContacts
2025-04-15T08:22:18.3857069Z     ✓ should return a list of contacts (3 ms)
2025-04-15T08:22:18.3857197Z     ✓ should handle empty contacts list
2025-04-15T08:22:18.3857200Z 
2025-04-15T08:22:18.3857325Z PASS nodes/HighLevel/v2/test/GetUsers.test.ts
2025-04-15T08:22:18.3857402Z   getUsers
2025-04-15T08:22:18.3857529Z     ✓ should return a list of users (4 ms)
2025-04-15T08:22:18.3857651Z     ✓ should handle empty users list
2025-04-15T08:22:18.3857658Z 
2025-04-15T08:22:18.3857799Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/append.test.ts
2025-04-15T08:22:18.3857947Z   Test MicrosoftExcelV2, worksheet => append
2025-04-15T08:22:18.3858193Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/append.workflow (171 ms)
2025-04-15T08:22:18.3858197Z 
2025-04-15T08:22:18.3858367Z PASS nodes/Microsoft/Outlook/test/v2/node/calendar/create.test.ts
2025-04-15T08:22:18.3858448Z   Test MicrosoftOutlookV2, calendar => create
2025-04-15T08:22:18.3858653Z     ✓ nodes/Microsoft/Outlook/test/v2/node/calendar/create.workflow (203 ms)
2025-04-15T08:22:18.3858657Z 
2025-04-15T08:22:18.3858798Z PASS nodes/HighLevel/v2/test/GetPipelines.test.ts
2025-04-15T08:22:18.3858853Z   getPipelines
2025-04-15T08:22:18.3859055Z     ✓ should return a list of pipelines (3 ms)
2025-04-15T08:22:18.3859163Z     ✓ should handle empty pipelines list (1 ms)
2025-04-15T08:22:18.3859167Z 
2025-04-15T08:22:18.3859312Z PASS nodes/Microsoft/Storage/test/container/get.test.ts
2025-04-15T08:22:18.3859374Z   Azure Storage Node
2025-04-15T08:22:18.3859426Z     should get container
2025-04-15T08:22:18.3859639Z       ✓ nodes/Microsoft/Storage/test/workflows/container_get.workflow (83 ms)
2025-04-15T08:22:18.3859642Z 
2025-04-15T08:22:18.3859793Z PASS nodes/Google/Sheet/test/GoogleSheetsTrigger.test.ts
2025-04-15T08:22:18.3859887Z   GoogleSheetsTrigger
2025-04-15T08:22:18.3859967Z     rowAdded event
2025-04-15T08:22:18.3860108Z       ✓ should return rows without header (41 ms)
2025-04-15T08:22:18.3860112Z 
2025-04-15T08:22:18.3860273Z PASS nodes/Splunk/test/v2/node/alert.test.ts
2025-04-15T08:22:18.3860363Z   Splunk, alert resource
2025-04-15T08:22:18.3860486Z     ✓ getMetrics operation (3 ms)
2025-04-15T08:22:18.3860604Z     ✓ getReport operation (1 ms)
2025-04-15T08:22:18.3860611Z 
2025-04-15T08:22:18.3860792Z PASS nodes/Google/BigQuery/test/v2/node/insert.autoMapMode.test.ts
2025-04-15T08:22:18.3860950Z   Test Google BigQuery V2, insert auto map
2025-04-15T08:22:18.3861164Z     ✓ nodes/Google/BigQuery/test/v2/node/insert.autoMapMode.workflow (736 ms)
2025-04-15T08:22:18.3861261Z 
2025-04-15T08:22:18.3861387Z PASS nodes/Microsoft/Excel/test/v2/node/table/getRows.test.ts
2025-04-15T08:22:18.3861501Z   Test MicrosoftExcelV2, table => getRows
2025-04-15T08:22:18.3861743Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/getRows.workflow (122 ms)
2025-04-15T08:22:18.3861746Z 
2025-04-15T08:22:18.3861851Z PASS nodes/Discord/test/v2/node/message/getAll.test.ts
2025-04-15T08:22:18.3861989Z   Test DiscordV2, message => getAll
2025-04-15T08:22:18.3862127Z     ✓ nodes/Discord/test/v2/node/message/getAll.workflow (153 ms)
2025-04-15T08:22:18.3862131Z 
2025-04-15T08:22:18.3862270Z PASS nodes/Airtable/test/v2/node/record/get.test.ts
2025-04-15T08:22:18.3862371Z   Test AirtableV2, create operation
2025-04-15T08:22:18.3862523Z     ✓ should create a record, autoMapInputData (4 ms)
2025-04-15T08:22:18.3862526Z 
2025-04-15T08:22:18.3862729Z PASS nodes/Microsoft/Outlook/test/v2/node/folder/create.test.ts
2025-04-15T08:22:18.3862842Z   Test MicrosoftOutlookV2, contact => folder
2025-04-15T08:22:18.3863054Z     ✓ nodes/Microsoft/Outlook/test/v2/node/folder/create.workflow (200 ms)
2025-04-15T08:22:18.3863057Z 
2025-04-15T08:22:18.3863205Z PASS nodes/Google/Drive/test/v2/node/drive/update.test.ts
2025-04-15T08:22:18.3863348Z   test GoogleDriveV2: drive update
2025-04-15T08:22:18.3863429Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3863433Z 
2025-04-15T08:22:18.3863605Z PASS nodes/Microsoft/Outlook/test/v2/node/calendar/update.test.ts
2025-04-15T08:22:18.3863715Z   Test MicrosoftOutlookV2, calendar => update
2025-04-15T08:22:18.3863958Z     ✓ nodes/Microsoft/Outlook/test/v2/node/calendar/update.workflow (205 ms)
2025-04-15T08:22:18.3863962Z 
2025-04-15T08:22:18.3864187Z PASS nodes/Google/BigQuery/test/v2/node/insert.manualMode.test.ts
2025-04-15T08:22:18.3864268Z   Test Google BigQuery V2, insert define manually
2025-04-15T08:22:18.3864509Z     ✓ nodes/Google/BigQuery/test/v2/node/insert.manualMode.workflow (106 ms)
2025-04-15T08:22:18.3864516Z 
2025-04-15T08:22:18.3864601Z PASS nodes/Totp/test/Totp.node.test.ts
2025-04-15T08:22:18.3864727Z   Execute TOTP node
2025-04-15T08:22:18.3864853Z     ✓ Generate TOTP Token (170 ms)
2025-04-15T08:22:18.3864856Z 
2025-04-15T08:22:18.3865004Z PASS nodes/Brandfetch/test/GenericFunctions.test.ts
2025-04-15T08:22:18.3865121Z   Brandfetch
2025-04-15T08:22:18.3865179Z     brandfetchApiRequest
2025-04-15T08:22:18.3865402Z       ✓ should make an authenticated API request to Brandfetch (13 ms)
2025-04-15T08:22:18.3865406Z 
2025-04-15T08:22:18.3865560Z PASS nodes/Google/YouTube/__test__/GenericFunctions.test.ts
2025-04-15T08:22:18.3865684Z   validateAndSetDate
2025-04-15T08:22:18.3866041Z     ✓ should convert a valid ISO date and set it with the specified timezone (12 ms)
2025-04-15T08:22:18.3866252Z     ✓ should throw NodeOperationError for an invalid date (7 ms)
2025-04-15T08:22:18.3866256Z 
2025-04-15T08:22:18.3866379Z PASS nodes/Google/Drive/test/v2/node/file/deleteFile.test.ts
2025-04-15T08:22:18.3866456Z   test GoogleDriveV2: file deleteFile
2025-04-15T08:22:18.3866539Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3866547Z 
2025-04-15T08:22:18.3866681Z PASS nodes/WhatsApp/tests/utils.trigger.test.ts
2025-04-15T08:22:18.3866741Z   filterStatuses
2025-04-15T08:22:18.3866900Z     ✓ returns events with no statuses when allowedStatuses is empty (3 ms)
2025-04-15T08:22:18.3867071Z     ✓ returns all events when 'all' is in allowedStatuses (1 ms)
2025-04-15T08:22:18.3867216Z     ✓ filters events correctly when specific statuses are provided
2025-04-15T08:22:18.3867366Z     ✓ returns only event with matching status (1 ms)
2025-04-15T08:22:18.3867534Z     ✓ returns unchanged event when allowedStatuses is undefined
2025-04-15T08:22:18.3867538Z 
2025-04-15T08:22:18.3867670Z PASS nodes/Slack/test/v2/node/channel/get.test.ts
2025-04-15T08:22:18.3867754Z   Test SlackV2, channel => get
2025-04-15T08:22:18.3867974Z     ✓ nodes/Slack/test/v2/node/channel/get.workflow (144 ms)
2025-04-15T08:22:18.3868070Z 
2025-04-15T08:22:18.3868267Z PASS nodes/HighLevel/v2/test/DateToIsoSuperssMillis.test.ts
2025-04-15T08:22:18.3868355Z   dateToIsoSupressMillis
2025-04-15T08:22:18.3868570Z     ✓ should return an ISO string without milliseconds (UTC) (11 ms)
2025-04-15T08:22:18.3868703Z     ✓ should handle dates without milliseconds correctly
2025-04-15T08:22:18.3868859Z     ✓ should handle time zone offsets correctly
2025-04-15T08:22:18.3869003Z     ✓ should handle edge case for empty input (1 ms)
2025-04-15T08:22:18.3869139Z     ✓ should handle edge case for null input
2025-04-15T08:22:18.3869142Z 
2025-04-15T08:22:18.3869263Z PASS nodes/Slack/test/v2/node/channel/create.test.ts
2025-04-15T08:22:18.3869356Z   Test SlackV2, channel => create
2025-04-15T08:22:18.3869513Z     ✓ nodes/Slack/test/v2/node/channel/create.workflow (157 ms)
2025-04-15T08:22:18.3869525Z 
2025-04-15T08:22:18.3869672Z PASS nodes/Microsoft/Outlook/test/v2/node/calendar/get.test.ts
2025-04-15T08:22:18.3869817Z   Test MicrosoftOutlookV2, calendar => get
2025-04-15T08:22:18.3870002Z     ✓ nodes/Microsoft/Outlook/test/v2/node/calendar/get.workflow (194 ms)
2025-04-15T08:22:18.3870006Z 
2025-04-15T08:22:18.3870165Z PASS nodes/Microsoft/Storage/test/container/create.test.ts
2025-04-15T08:22:18.3870236Z   Azure Storage Node
2025-04-15T08:22:18.3870336Z     should create container
2025-04-15T08:22:18.3870532Z       ✓ nodes/Microsoft/Storage/test/workflows/container_create.workflow (76 ms)
2025-04-15T08:22:18.3870536Z 
2025-04-15T08:22:18.3870679Z PASS nodes/Start/__tests__/StartNode.test.ts
2025-04-15T08:22:18.3870783Z   Execute Start Node
2025-04-15T08:22:18.3870888Z     ✓ should run start node (121 ms)
2025-04-15T08:22:18.3870892Z 
2025-04-15T08:22:18.3871001Z PASS nodes/Cron/test/Cron.node.test.ts
2025-04-15T08:22:18.3871074Z   Cron Node
2025-04-15T08:22:18.3871204Z     ✓ should return a function to trigger (3 ms)
2025-04-15T08:22:18.3871208Z 
2025-04-15T08:22:18.3871336Z PASS nodes/Microsoft/Excel/test/v2/node/table/append.test.ts
2025-04-15T08:22:18.3871419Z   Test MicrosoftExcelV2, table => append
2025-04-15T08:22:18.3871602Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/append.workflow (97 ms)
2025-04-15T08:22:18.3871607Z 
2025-04-15T08:22:18.3871746Z PASS nodes/Discord/test/v2/node/webhook/sendLegacy.test.ts
2025-04-15T08:22:18.3871841Z   Test DiscordV2, webhook => sendLegacy
2025-04-15T08:22:18.3871994Z     ✓ nodes/Discord/test/v2/node/webhook/sendLegacy.workflow (293 ms)
2025-04-15T08:22:18.3871997Z 
2025-04-15T08:22:18.3872125Z PASS nodes/Microsoft/Teams/test/v2/node/channel/get.test.ts
2025-04-15T08:22:18.3872211Z   Test MicrosoftTeamsV2, channel => get
2025-04-15T08:22:18.3872435Z     ✓ nodes/Microsoft/Teams/test/v2/node/channel/get.workflow (145 ms)
2025-04-15T08:22:18.3872439Z 
2025-04-15T08:22:18.3872710Z PASS nodes/Google/BigQuery/test/v2/node/executeQuery.test.ts
2025-04-15T08:22:18.3872837Z   Test Google BigQuery V2, executeQuery
2025-04-15T08:22:18.3873022Z     ✓ nodes/Google/BigQuery/test/v2/node/executeQuery.workflow (111 ms)
2025-04-15T08:22:18.3873052Z 
2025-04-15T08:22:18.3873180Z PASS nodes/Discord/test/v2/node/member/getAll.test.ts
2025-04-15T08:22:18.3873323Z   Test DiscordV2, member => getAll
2025-04-15T08:22:18.3873496Z     ✓ nodes/Discord/test/v2/node/member/getAll.workflow (183 ms)
2025-04-15T08:22:18.3873500Z 
2025-04-15T08:22:18.3873631Z PASS nodes/Google/Drive/test/v2/node/drive/get.test.ts
2025-04-15T08:22:18.3873715Z   test GoogleDriveV2: drive get
2025-04-15T08:22:18.3873870Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3873874Z 
2025-04-15T08:22:18.3874045Z PASS nodes/Notion/test/node/v2/user/getAll.test.ts
2025-04-15T08:22:18.3874139Z   Test NotionV2, user => getAll
2025-04-15T08:22:18.3874311Z     ✓ nodes/Notion/test/node/v2/user/getAll.workflow (120 ms)
2025-04-15T08:22:18.3874319Z 
2025-04-15T08:22:18.3874424Z PASS nodes/Aws/S3/test/V2/AwsS3.node.test.ts
2025-04-15T08:22:18.3874531Z   Test S3 V2 Node
2025-04-15T08:22:18.3874580Z     File Upload
2025-04-15T08:22:18.3874784Z       ✓ nodes/Aws/S3/test/V2/AwsS3.file.upload.V2.workflow (901 ms)
2025-04-15T08:22:18.3874886Z 
2025-04-15T08:22:18.3875051Z PASS nodes/Google/Drive/test/v2/node/drive/deleteDrive.test.ts
2025-04-15T08:22:18.3875179Z   test GoogleDriveV2: drive deleteDrive
2025-04-15T08:22:18.3875264Z     ✓ should be called with (4 ms)
2025-04-15T08:22:18.3875267Z 
2025-04-15T08:22:18.3875384Z PASS nodes/Aws/S3/test/V1/AwsS3.node.test.ts
2025-04-15T08:22:18.3875485Z   Test S3 V1 Node
2025-04-15T08:22:18.3875536Z     File Upload
2025-04-15T08:22:18.3875717Z       ✓ nodes/Aws/S3/test/V1/AwsS3.file.upload.V1.workflow (504 ms)
2025-04-15T08:22:18.3875720Z 
2025-04-15T08:22:18.3875840Z PASS nodes/Wordpress/__tests__/workflow/post/post.test.ts
2025-04-15T08:22:18.3875951Z   Wordpress > Post Workflows
2025-04-15T08:22:18.3876120Z     ✓ nodes/Wordpress/__tests__/workflow/post/post.workflow (434 ms)
2025-04-15T08:22:18.3876124Z 
2025-04-15T08:22:18.3876289Z PASS nodes/Microsoft/AzureCosmosDb/test/item/query.test.ts
2025-04-15T08:22:18.3876362Z   Azure Cosmos DB - Query Items
2025-04-15T08:22:18.3876557Z     ✓ nodes/Microsoft/AzureCosmosDb/test/item/query.workflow (87 ms)
2025-04-15T08:22:18.3876561Z 
2025-04-15T08:22:18.3876685Z PASS nodes/HighLevel/v2/test/IsPhoneValid.test.ts
2025-04-15T08:22:18.3876769Z   isPhoneValid
2025-04-15T08:22:18.3876960Z     ✓ should return true for a valid phone number (4 ms)
2025-04-15T08:22:18.3877118Z     ✓ should return false for an invalid phone number (1 ms)
2025-04-15T08:22:18.3877302Z     ✓ should return false for a phone number with invalid characters
2025-04-15T08:22:18.3877429Z     ✓ should return false for an empty phone number
2025-04-15T08:22:18.3877605Z     ✓ should return false for a phone number with only special characters (1 ms)
2025-04-15T08:22:18.3877609Z 
2025-04-15T08:22:18.3877726Z PASS nodes/Wordpress/__tests__/workflow/user/user.test.ts
2025-04-15T08:22:18.3877841Z   Wordpress > User Workflows
2025-04-15T08:22:18.3877998Z     ✓ nodes/Wordpress/__tests__/workflow/user/user.workflow (87 ms)
2025-04-15T08:22:18.3878017Z 
2025-04-15T08:22:18.3878167Z PASS nodes/Microsoft/Teams/test/v2/node/channel/create.test.ts
2025-04-15T08:22:18.3878266Z   Test MicrosoftTeamsV2, channel => create
2025-04-15T08:22:18.3878432Z     ✓ nodes/Microsoft/Teams/test/v2/node/channel/create.workflow (138 ms)
2025-04-15T08:22:18.3878436Z 
2025-04-15T08:22:18.3878687Z The API Key connection was deprecated by Airtable, please use Access Token or OAuth2 instead.
2025-04-15T08:22:18.3878802Z PASS nodes/Airtable/test/Airtable.node.test.ts
2025-04-15T08:22:18.3878898Z   Execute Airtable Node
2025-04-15T08:22:18.3878984Z     ✓ List Airtable Records (535 ms)
2025-04-15T08:22:18.3878993Z 
2025-04-15T08:22:18.3879114Z PASS nodes/Airtable/test/v2/node/record/deleteRecord.test.ts
2025-04-15T08:22:18.3879316Z   Test AirtableV2, deleteRecord operation
2025-04-15T08:22:18.3879401Z     ✓ should delete a record (4 ms)
2025-04-15T08:22:18.3879405Z 
2025-04-15T08:22:18.3879529Z PASS nodes/Microsoft/Storage/test/container/delete.test.ts
2025-04-15T08:22:18.3879583Z   Azure Storage Node
2025-04-15T08:22:18.3879645Z     should delete container
2025-04-15T08:22:18.3879824Z       ✓ nodes/Microsoft/Storage/test/workflows/container_delete.workflow (85 ms)
2025-04-15T08:22:18.3879827Z 
2025-04-15T08:22:18.3879978Z PASS nodes/Microsoft/Storage/test/blob/delete.test.ts
2025-04-15T08:22:18.3880030Z   Azure Storage Node
2025-04-15T08:22:18.3880088Z     should delete blob
2025-04-15T08:22:18.3880336Z       ✓ nodes/Microsoft/Storage/test/workflows/blob_delete.workflow (81 ms)
2025-04-15T08:22:18.3880340Z 
2025-04-15T08:22:18.3880491Z PASS nodes/Wordpress/__tests__/workflow/page/page.test.ts
2025-04-15T08:22:18.3880615Z   Wordpress > Page Workflows
2025-04-15T08:22:18.3880790Z     ✓ nodes/Wordpress/__tests__/workflow/page/page.workflow (78 ms)
2025-04-15T08:22:18.3880798Z 
2025-04-15T08:22:18.3881009Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/readRows.test.ts
2025-04-15T08:22:18.3881091Z   Test MicrosoftExcelV2, worksheet => readRows
2025-04-15T08:22:18.3881340Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/readRows.workflow (93 ms)
2025-04-15T08:22:18.3881439Z 
2025-04-15T08:22:18.3881591Z PASS nodes/N8n/test/node/N8n.test.ts
2025-04-15T08:22:18.3881736Z   Test N8n Node, expect base_url to be received from credentials
2025-04-15T08:22:18.3881902Z     ✓ nodes/N8n/test/node/workflow.n8n.workflows (371 ms)
2025-04-15T08:22:18.3881905Z 
2025-04-15T08:22:18.3882076Z PASS nodes/Microsoft/Excel/test/v2/node/table/getColumns.test.ts
2025-04-15T08:22:18.3882192Z   Test MicrosoftExcelV2, table => getColumns
2025-04-15T08:22:18.3882364Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/getColumns.workflow (96 ms)
2025-04-15T08:22:18.3882367Z 
2025-04-15T08:22:18.3882454Z PASS nodes/Npm/test/Npm.node.test.ts
2025-04-15T08:22:18.3882503Z   Test npm Node
2025-04-15T08:22:18.3882650Z     ✓ nodes/Npm/test/Npm.workflow.test (292 ms)
2025-04-15T08:22:18.3882654Z 
2025-04-15T08:22:18.3882802Z PASS nodes/Spotify/__tests__/workflow/workflow.test.ts
2025-04-15T08:22:18.3882884Z   Spotify
2025-04-15T08:22:18.3882946Z     Run workflow
2025-04-15T08:22:18.3883083Z       ✓ nodes/Spotify/__tests__/workflow/Spotify.workflow (343 ms)
2025-04-15T08:22:18.3883087Z 
2025-04-15T08:22:18.3883240Z PASS nodes/Microsoft/Outlook/test/v2/node/folderMessage/getAll.test.ts
2025-04-15T08:22:18.3883328Z   Test MicrosoftOutlookV2, folderMessage => getAll
2025-04-15T08:22:18.3883514Z     ✓ nodes/Microsoft/Outlook/test/v2/node/folderMessage/getAll.workflow (188 ms)
2025-04-15T08:22:18.3883518Z 
2025-04-15T08:22:18.3883649Z PASS nodes/MailerLite/tests/v1/MailerLite.v1.workflow.test.ts
2025-04-15T08:22:18.3883772Z   MailerLite
2025-04-15T08:22:18.3883827Z     Run v1 workflow
2025-04-15T08:22:18.3884012Z       ✓ nodes/MailerLite/tests/v1/MailerLite.v1.workflow (248 ms)
2025-04-15T08:22:18.3884016Z 
2025-04-15T08:22:18.3884243Z PASS nodes/Microsoft/Excel/test/v2/node/workbook/addWorksheet.test.ts
2025-04-15T08:22:18.3884329Z   Test MicrosoftExcelV2, workbook => addWorksheet
2025-04-15T08:22:18.3884584Z     ✓ nodes/Microsoft/Excel/test/v2/node/workbook/addWorksheet.workflow (101 ms)
2025-04-15T08:22:18.3884592Z 
2025-04-15T08:22:18.3884741Z PASS nodes/MailerLite/tests/v2/MailerLite.v2.workflow.test.ts
2025-04-15T08:22:18.3884867Z   MailerLite
2025-04-15T08:22:18.3884948Z     Run v2 workflow
2025-04-15T08:22:18.3885126Z       ✓ nodes/MailerLite/tests/v2/MailerLite.v2.workflow (74 ms)
2025-04-15T08:22:18.3885129Z 
2025-04-15T08:22:18.3885235Z PASS nodes/Discord/test/v2/node/message/get.test.ts
2025-04-15T08:22:18.3885302Z   Test DiscordV2, message => get
2025-04-15T08:22:18.3885454Z     ✓ nodes/Discord/test/v2/node/message/get.workflow (159 ms)
2025-04-15T08:22:18.3885457Z 
2025-04-15T08:22:18.3885577Z PASS nodes/Aws/Comprehend/test/AwsComprehend.node.test.ts
2025-04-15T08:22:18.3885737Z   Test AWS Comprehend Node
2025-04-15T08:22:18.3885809Z     Detect Language
2025-04-15T08:22:18.3886019Z       ✓ nodes/Aws/Comprehend/test/AwsComprehendTestWorkflow (299 ms)
2025-04-15T08:22:18.3886023Z 
2025-04-15T08:22:18.3886164Z PASS nodes/ExecutionData/test/ExecutionData.node.test.ts
2025-04-15T08:22:18.3886293Z   ExecutionData Node
2025-04-15T08:22:18.3886409Z     ✓ should return its input data (4 ms)
2025-04-15T08:22:18.3886486Z   ExecutionData -> Should run the workflow
2025-04-15T08:22:18.3886639Z     ✓ nodes/ExecutionData/test/ExecutionData.workflow (50 ms)
2025-04-15T08:22:18.3886643Z 
2025-04-15T08:22:18.3886792Z PASS nodes/Microsoft/Excel/test/v2/node/table/addTable.test.ts
2025-04-15T08:22:18.3886906Z   Test MicrosoftExcelV2, table => addTable
2025-04-15T08:22:18.3887096Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/addTable.workflow (83 ms)
2025-04-15T08:22:18.3887100Z 
2025-04-15T08:22:18.3887277Z PASS nodes/HttpRequest/test/binaryData/HttpRequest.test.ts
2025-04-15T08:22:18.3887350Z   Test Binary Data Download
2025-04-15T08:22:18.3887535Z     ✓ nodes/HttpRequest/test/binaryData/binaryData.test (100 ms)
2025-04-15T08:22:18.3887539Z 
2025-04-15T08:22:18.3887741Z PASS nodes/Microsoft/AzureCosmosDb/test/container/delete.test.ts
2025-04-15T08:22:18.3888026Z   Azure Cosmos DB - Delete Container
2025-04-15T08:22:18.3888368Z     ✓ nodes/Microsoft/AzureCosmosDb/test/container/delete.workflow (80 ms)
2025-04-15T08:22:18.3888372Z 
2025-04-15T08:22:18.3888527Z PASS nodes/Microsoft/Outlook/test/v2/node/draft/send.test.ts
2025-04-15T08:22:18.3888675Z   Test MicrosoftOutlookV2, draft => send
2025-04-15T08:22:18.3888873Z     ✓ nodes/Microsoft/Outlook/test/v2/node/draft/send.workflow (220 ms)
2025-04-15T08:22:18.3888876Z 
2025-04-15T08:22:18.3889013Z PASS nodes/PhilipsHue/test/workflow.test.ts
2025-04-15T08:22:18.3889068Z   PhilipsHue
2025-04-15T08:22:18.3889115Z     Run workflow
2025-04-15T08:22:18.3889289Z       ✓ nodes/PhilipsHue/test/workflow (219 ms)
2025-04-15T08:22:18.3889293Z 
2025-04-15T08:22:18.3889447Z PASS nodes/Slack/test/v2/node/user/updateProfile.test.ts
2025-04-15T08:22:18.3889527Z   Test SlackV2, user => updateProfile
2025-04-15T08:22:18.3889704Z     ✓ nodes/Slack/test/v2/node/user/updateProfile.workflow (159 ms)
2025-04-15T08:22:18.3889712Z 
2025-04-15T08:22:18.3889929Z PASS nodes/Microsoft/Excel/test/v2/node/table/convertToRange.test.ts
2025-04-15T08:22:18.3890051Z   Test MicrosoftExcelV2, table => convertToRange
2025-04-15T08:22:18.3890296Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/convertToRange.workflow (88 ms)
2025-04-15T08:22:18.3890299Z 
2025-04-15T08:22:18.3890499Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/getAll.test.ts
2025-04-15T08:22:18.3890575Z   Test MicrosoftExcelV2, worksheet => getAll
2025-04-15T08:22:18.3890818Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/getAll.workflow (91 ms)
2025-04-15T08:22:18.3890821Z 
2025-04-15T08:22:18.3890982Z PASS nodes/Microsoft/Teams/test/v2/node/task/update.test.ts
2025-04-15T08:22:18.3891098Z   Test MicrosoftTeamsV2, task => update
2025-04-15T08:22:18.3891310Z     ✓ nodes/Microsoft/Teams/test/v2/node/task/update.workflow (136 ms)
2025-04-15T08:22:18.3891313Z 
2025-04-15T08:22:18.3891485Z PASS nodes/Discord/test/v2/node/channel/get.test.ts
2025-04-15T08:22:18.3891622Z   Test DiscordV2, channel => get
2025-04-15T08:22:18.3891772Z     ✓ nodes/Discord/test/v2/node/channel/get.workflow (329 ms)
2025-04-15T08:22:18.3891776Z 
2025-04-15T08:22:18.3891908Z PASS nodes/HttpRequest/test/encodingQuoted/HttpRequest.test.ts
2025-04-15T08:22:18.3891971Z   Test Quoted Response Encoding
2025-04-15T08:22:18.3892178Z     ✓ nodes/HttpRequest/test/encodingQuoted/encodingQuoted.test (81 ms)
2025-04-15T08:22:18.3892182Z 
2025-04-15T08:22:18.3892307Z PASS nodes/Microsoft/Outlook/test/v2/node/message/move.test.ts
2025-04-15T08:22:18.3892388Z   Test MicrosoftOutlookV2, message => move
2025-04-15T08:22:18.3892550Z     ✓ nodes/Microsoft/Outlook/test/v2/node/message/move.workflow (202 ms)
2025-04-15T08:22:18.3892560Z 
2025-04-15T08:22:18.3892822Z PASS nodes/HttpRequest/test/encoding/HttpRequest.test.ts
2025-04-15T08:22:18.3892919Z   Test Response Encoding
2025-04-15T08:22:18.3893081Z     ✓ nodes/HttpRequest/test/encoding/encoding.test (72 ms)
2025-04-15T08:22:18.3893085Z 
2025-04-15T08:22:18.3893251Z PASS nodes/Files/ReadWriteFile/test/utils.test.ts
2025-04-15T08:22:18.3893382Z   Read/Write Files from Disk, escapeSpecialCharacters
2025-04-15T08:22:18.3893495Z     ✓ should escape parentheses in a string (5 ms)
2025-04-15T08:22:18.3893643Z     ✓ should not modify strings that do not contain parentheses (6 ms)
2025-04-15T08:22:18.3893647Z 
2025-04-15T08:22:18.3893822Z PASS nodes/CompareDatasets/test/utils/utils.test.ts
2025-04-15T08:22:18.3893959Z   Test Compare Datasets Node utils
2025-04-15T08:22:18.3894104Z     ✓ test checkInput (3 ms)
2025-04-15T08:22:18.3894108Z 
2025-04-15T08:22:18.3894292Z PASS nodes/Discord/test/v2/node/channel/create.test.ts
2025-04-15T08:22:18.3894393Z   Test DiscordV2, channel => create
2025-04-15T08:22:18.3894606Z     ✓ nodes/Discord/test/v2/node/channel/create.workflow (163 ms)
2025-04-15T08:22:18.3894610Z 
2025-04-15T08:22:18.3894718Z PASS nodes/Discord/test/v2/node/channel/update.test.ts
2025-04-15T08:22:18.3894853Z   Test DiscordV2, channel => update
2025-04-15T08:22:18.3895144Z     ✓ nodes/Discord/test/v2/node/channel/update.workflow (173 ms)
2025-04-15T08:22:18.3895149Z 
2025-04-15T08:22:18.3895346Z PASS nodes/Microsoft/Outlook/test/v2/node/message/send.test.ts
2025-04-15T08:22:18.3895466Z   Test MicrosoftOutlookV2, message => send
2025-04-15T08:22:18.3895633Z     ✓ nodes/Microsoft/Outlook/test/v2/node/message/send.workflow (208 ms)
2025-04-15T08:22:18.3895637Z 
2025-04-15T08:22:18.3895797Z PASS nodes/Stripe/__tests__/helpers.test.ts
2025-04-15T08:22:18.3895882Z   adjustMetadata
2025-04-15T08:22:18.3896000Z     ✓ it should adjust multiple metadata values (3 ms)
2025-04-15T08:22:18.3896003Z 
2025-04-15T08:22:18.3896084Z PASS nodes/Crypto/test/Crypto.test.ts
2025-04-15T08:22:18.3896179Z   Test Crypto Node
2025-04-15T08:22:18.3896297Z     ✓ nodes/Crypto/test/CryptoTest.workflow (300 ms)
2025-04-15T08:22:18.3896305Z 
2025-04-15T08:22:18.3896437Z PASS nodes/Slack/test/v2/node/file/upload.test.ts
2025-04-15T08:22:18.3896570Z   Test SlackV2, file => upload
2025-04-15T08:22:18.3896696Z     ✓ nodes/Slack/test/v2/node/file/upload.workflow (363 ms)
2025-04-15T08:22:18.3896703Z 
2025-04-15T08:22:18.3896904Z PASS nodes/Microsoft/Excel/test/v2/node/workbook/getAll.test.ts
2025-04-15T08:22:18.3897016Z   Test MicrosoftExcelV2, workbook => getAll
2025-04-15T08:22:18.3897229Z     ✓ nodes/Microsoft/Excel/test/v2/node/workbook/getAll.workflow (82 ms)
2025-04-15T08:22:18.3897232Z 
2025-04-15T08:22:18.3897327Z PASS nodes/SendGrid/test/SendGrid.node.test.ts
2025-04-15T08:22:18.3897383Z   Test SendGrid Node
2025-04-15T08:22:18.3897487Z     Mail
2025-04-15T08:22:18.3897612Z       ✓ nodes/SendGrid/test/mail.workflow (474 ms)
2025-04-15T08:22:18.3897778Z       ✓ should make the correct network calls
2025-04-15T08:22:18.3897782Z 
2025-04-15T08:22:18.3897996Z PASS nodes/Microsoft/Teams/test/v2/node/task/deleteTask.test.ts
2025-04-15T08:22:18.3898138Z   Test MicrosoftTeamsV2, task => deleteTask
2025-04-15T08:22:18.3898328Z     ✓ nodes/Microsoft/Teams/test/v2/node/task/deleteTask.workflow (154 ms)
2025-04-15T08:22:18.3898335Z 
2025-04-15T08:22:18.3898504Z PASS nodes/Notion/test/node/v2/user/get.test.ts
2025-04-15T08:22:18.3898599Z   Test NotionV2, user => get
2025-04-15T08:22:18.3898763Z     ✓ nodes/Notion/test/node/v2/user/get.workflow (120 ms)
2025-04-15T08:22:18.3898767Z 
2025-04-15T08:22:18.3898868Z   console.warn
2025-04-15T08:22:18.3899449Z     Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
2025-04-15T08:22:18.3899549Z     Arguments: 
2025-04-15T08:22:18.3899952Z     [0] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: 2023/04/11, _f: undefined, _strict: undefined, _locale: [object Object]
2025-04-15T08:22:18.3900022Z     Error: 
2025-04-15T08:22:18.3900295Z         at Function.createFromInputFallback (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:324:25)
2025-04-15T08:22:18.3900533Z         at configFromString (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
2025-04-15T08:22:18.3900753Z         at configFromInput (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
2025-04-15T08:22:18.3900974Z         at prepareConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
2025-04-15T08:22:18.3901203Z         at createFromConfig (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
2025-04-15T08:22:18.3901441Z         at createLocalOrUTC (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
2025-04-15T08:22:18.3901724Z         at createLocal (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
2025-04-15T08:22:18.3902045Z         at hooks (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
2025-04-15T08:22:18.3902331Z         at ExecuteContext.parseDate (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/DateTime/V2/GenericFunctions.ts:47:41)
2025-04-15T08:22:18.3902572Z         at ExecuteContext.call (/home/runner/_work/n8n/n8n/packages/nodes-base/nodes/DateTime/V2/DateTimeV2.node.ts:180:34)
2025-04-15T08:22:18.3902863Z         at WorkflowExecute.runNode (/home/runner/_work/n8n/n8n/packages/core/src/execution-engine/workflow-execute.ts:1156:32)
2025-04-15T08:22:18.3903076Z         at /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/workflow-execute.ts:1508:38
2025-04-15T08:22:18.3903323Z         at /home/runner/_work/n8n/n8n/packages/core/src/execution-engine/workflow-execute.ts:2065:11
2025-04-15T08:22:18.3903327Z 
2025-04-15T08:22:18.3903704Z     [0m [90m 45 |[39m 				parsedDate [33m=[39m [33mDateTime[39m[33m.[39mfromFormat(date [36mas[39m string[33m,[39m options[33m.[39mfromFormat)[33m;[39m
2025-04-15T08:22:18.3903831Z      [90m 46 |[39m 			} [36melse[39m {
2025-04-15T08:22:18.3904535Z     [31m[1m>[22m[39m[90m 47 |[39m 				parsedDate [33m=[39m [33mDateTime[39m[33m.[39mfromISO(moment(date)[33m.[39mtoISOString())[33m;[39m
2025-04-15T08:22:18.3904844Z      [90m    |[39m 				                                    [31m[1m^[22m[39m
2025-04-15T08:22:18.3904989Z      [90m 48 |[39m 			}
2025-04-15T08:22:18.3905086Z      [90m 49 |[39m 		}
2025-04-15T08:22:18.3905224Z      [90m 50 |[39m[0m
2025-04-15T08:22:18.3905230Z 
2025-04-15T08:22:18.3905419Z       at warn (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:287:21)
2025-04-15T08:22:18.3905664Z       at Function.createFromInputFallback (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:319:17)
2025-04-15T08:22:18.3905900Z       at configFromString (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2550:19)
2025-04-15T08:22:18.3906108Z       at configFromInput (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2993:13)
2025-04-15T08:22:18.3906324Z       at prepareConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2976:13)
2025-04-15T08:22:18.3916594Z       at createFromConfig (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:2943:44)
2025-04-15T08:22:18.3916831Z       at createLocalOrUTC (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3037:16)
2025-04-15T08:22:18.3917012Z       at createLocal (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:3041:16)
2025-04-15T08:22:18.3917168Z       at hooks (../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js:16:29)
2025-04-15T08:22:18.3917470Z       at ExecuteContext.parseDate (nodes/DateTime/V2/GenericFunctions.ts:47:41)
2025-04-15T08:22:18.3917609Z       at ExecuteContext.call (nodes/DateTime/V2/DateTimeV2.node.ts:180:34)
2025-04-15T08:22:18.3917774Z       at WorkflowExecute.runNode (../core/src/execution-engine/workflow-execute.ts:1156:32)
2025-04-15T08:22:18.3917898Z       at ../core/src/execution-engine/workflow-execute.ts:1508:38
2025-04-15T08:22:18.3918000Z       at ../core/src/execution-engine/workflow-execute.ts:2065:11
2025-04-15T08:22:18.3918005Z 
2025-04-15T08:22:18.3918126Z PASS nodes/DateTime/test/node/DateTime.test.ts
2025-04-15T08:22:18.3918192Z   Test DateTime Node
2025-04-15T08:22:18.3918374Z     ✓ nodes/DateTime/test/node/DateTimeWorkflowV2 (515 ms)
2025-04-15T08:22:18.3918523Z     ✓ nodes/DateTime/test/node/DateTimeWorklfow.test (58 ms)
2025-04-15T08:22:18.3918686Z     ✓ nodes/DateTime/test/node/workflow.includeInputFields_v2 (41 ms)
2025-04-15T08:22:18.3918835Z     ✓ nodes/DateTime/test/node/workflow.luxonDateTime (12 ms)
2025-04-15T08:22:18.3918964Z     ✓ nodes/DateTime/test/node/workflow.nullDate_v2 (7 ms)
2025-04-15T08:22:18.3919094Z     ✓ nodes/DateTime/test/node/workflow.timestamp (6 ms)
2025-04-15T08:22:18.3919222Z     ✓ nodes/DateTime/test/node/workflow.timestamp_v2 (4 ms)
2025-04-15T08:22:18.3919322Z 
2025-04-15T08:22:18.3919463Z PASS nodes/Slack/test/v2/node/message/getPermalink.test.ts
2025-04-15T08:22:18.3919542Z   Test SlackV2, message => getPermalink
2025-04-15T08:22:18.3919707Z     ✓ nodes/Slack/test/v2/node/message/getPermalink.workflow (168 ms)
2025-04-15T08:22:18.3919711Z 
2025-04-15T08:22:18.3919854Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/clear.test.ts
2025-04-15T08:22:18.3919934Z   Test MicrosoftExcelV2, worksheet => clear
2025-04-15T08:22:18.3920113Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/clear.workflow (92 ms)
2025-04-15T08:22:18.3920117Z 
2025-04-15T08:22:18.3920234Z PASS nodes/OpenWeatherMap/test/OpenWeatherMap.test.ts
2025-04-15T08:22:18.3920293Z   OpenWeatherMap
2025-04-15T08:22:18.3920369Z     Run OpenWeatherMap workflow
2025-04-15T08:22:18.3920488Z       ✓ nodes/OpenWeatherMap/test/workflow (189 ms)
2025-04-15T08:22:18.3920492Z 
2025-04-15T08:22:18.3920654Z PASS nodes/Microsoft/Excel/test/v2/node/worksheet/deleteWorksheet.test.ts
2025-04-15T08:22:18.3920759Z   Test MicrosoftExcelV2, worksheet => deleteWorksheet
2025-04-15T08:22:18.3920960Z     ✓ nodes/Microsoft/Excel/test/v2/node/worksheet/deleteWorksheet.workflow (84 ms)
2025-04-15T08:22:18.3920963Z 
2025-04-15T08:22:18.3921063Z PASS nodes/Microsoft/Teams/test/v2/utils.test.ts
2025-04-15T08:22:18.3921162Z   Test MicrosoftTeamsV2, filterSortSearchListItems
2025-04-15T08:22:18.3921277Z     ✓ should filter, sort and search list items (3 ms)
2025-04-15T08:22:18.3921281Z 
2025-04-15T08:22:18.3921429Z PASS nodes/Microsoft/Excel/test/v2/node/table/deleteTable.test.ts
2025-04-15T08:22:18.3921510Z   Test MicrosoftExcelV2, table => deleteTable
2025-04-15T08:22:18.3921699Z     ✓ nodes/Microsoft/Excel/test/v2/node/table/deleteTable.workflow (88 ms)
2025-04-15T08:22:18.3921703Z 
2025-04-15T08:22:18.3921838Z PASS nodes/Microsoft/Teams/test/v2/node/channel/update.test.ts
2025-04-15T08:22:18.3921918Z   Test MicrosoftTeamsV2, channel => update
2025-04-15T08:22:18.3922097Z     ✓ nodes/Microsoft/Teams/test/v2/node/channel/update.workflow (141 ms)
2025-04-15T08:22:18.3922100Z 
2025-04-15T08:22:18.3922251Z PASS nodes/Microsoft/Teams/test/v2/node/channel/deleteChannel.test.ts
2025-04-15T08:22:18.3922344Z   Test MicrosoftTeamsV2, channel => deleteChannel
2025-04-15T08:22:18.3922523Z     ✓ nodes/Microsoft/Teams/test/v2/node/channel/deleteChannel.workflow (136 ms)
2025-04-15T08:22:18.3922527Z 
2025-04-15T08:22:18.3922673Z PASS nodes/Microsoft/Outlook/test/v2/node/calendar/delete.test.ts
2025-04-15T08:22:18.3922753Z   Test MicrosoftOutlookV2, calendar => delete
2025-04-15T08:22:18.3922933Z     ✓ nodes/Microsoft/Outlook/test/v2/node/calendar/delete.workflow (193 ms)
2025-04-15T08:22:18.3922937Z 
2025-04-15T08:22:18.3923138Z PASS nodes/Slack/test/v2/node/message/delete.test.ts
2025-04-15T08:22:18.3923215Z   Test SlackV2, message => delete
2025-04-15T08:22:18.3923352Z     ✓ nodes/Slack/test/v2/node/message/delete.workflow (139 ms)
2025-04-15T08:22:18.3923356Z 
2025-04-15T08:22:18.3923492Z PASS nodes/Discord/test/v2/node/member/roleRemove.test.ts
2025-04-15T08:22:18.3923564Z   Test DiscordV2, member => roleRemove
2025-04-15T08:22:18.3923725Z     ✓ nodes/Discord/test/v2/node/member/roleRemove.workflow (195 ms)
2025-04-15T08:22:18.3923728Z 
2025-04-15T08:22:18.3923816Z PASS nodes/Wait/test/Wait.node.test.ts
2025-04-15T08:22:18.3923869Z   Execute Wait Node
2025-04-15T08:22:18.3924045Z     ✓ nodes/Wait/test/Wait.workflow (806 ms)
2025-04-15T08:22:18.3924049Z 
2025-04-15T08:22:18.3924161Z PASS nodes/Discord/test/v2/node/message/react.test.ts
2025-04-15T08:22:18.3924234Z   Test DiscordV2, message => react
2025-04-15T08:22:18.3924375Z     ✓ nodes/Discord/test/v2/node/message/react.workflow (164 ms)
2025-04-15T08:22:18.3924379Z 
2025-04-15T08:22:18.3924503Z PASS nodes/Discord/test/v2/node/member/roleAdd.test.ts
2025-04-15T08:22:18.3924576Z   Test DiscordV2, member => roleAdd
2025-04-15T08:22:18.3924715Z     ✓ nodes/Discord/test/v2/node/member/roleAdd.workflow (166 ms)
2025-04-15T08:22:18.3924719Z 
2025-04-15T08:22:18.3924956Z PASS nodes/Discord/test/v2/node/message/deleteMessage.test.ts
2025-04-15T08:22:18.3925030Z   Test DiscordV2, message => deleteMessage
2025-04-15T08:22:18.3925205Z     ✓ nodes/Discord/test/v2/node/message/deleteMessage.workflow (155 ms)
2025-04-15T08:22:18.3925208Z 
2025-04-15T08:22:18.3925364Z PASS nodes/Microsoft/Excel/test/v2/node/workbook/deleteWorkbook.test.ts
2025-04-15T08:22:18.3925462Z   Test MicrosoftExcelV2, workbook => deleteWorkbook
2025-04-15T08:22:18.3925653Z     ✓ nodes/Microsoft/Excel/test/v2/node/workbook/deleteWorkbook.workflow (79 ms)
2025-04-15T08:22:18.3925664Z 
2025-04-15T08:22:18.3925791Z PASS nodes/Discord/test/v2/node/channel/deleteChannel.test.ts
2025-04-15T08:22:18.3925869Z   Test DiscordV2, channel => deleteChannel
2025-04-15T08:22:18.3926034Z     ✓ nodes/Discord/test/v2/node/channel/deleteChannel.workflow (162 ms)
2025-04-15T08:22:18.3926038Z 
2025-04-15T08:22:18.3926151Z PASS nodes/Slack/test/v2/node/channel/archive.test.ts
2025-04-15T08:22:18.3926217Z   Test SlackV2, channel => append
2025-04-15T08:22:18.3926363Z     ✓ nodes/Slack/test/v2/node/channel/archive.workflow (152 ms)
2025-04-15T08:22:18.3926366Z 
2025-04-15T08:22:18.3926450Z PASS nodes/ReadPdf/test/ReadPDF.test.ts
2025-04-15T08:22:18.3926515Z   Test Read PDF Node
2025-04-15T08:22:18.3926658Z     ✓ nodes/ReadPdf/test/ReadPDF-encrypted.workflow (493 ms)
2025-04-15T08:22:18.3926767Z     ✓ nodes/ReadPdf/test/ReadPDF.workflow (16 ms)
2025-04-15T08:22:18.3926771Z 
2025-04-15T08:22:18.3926859Z PASS nodes/Html/test/Html.node.test.ts
2025-04-15T08:22:18.3926931Z   Test Html Node > extractHtmlContent
2025-04-15T08:22:18.3927067Z     ✓ nodes/Html/test/extractHtmlContent.workflow (543 ms)
2025-04-15T08:22:18.3927070Z 
2025-04-15T08:22:18.3927203Z PASS nodes/CompareDatasets/test/node/CompareDatasets.test.ts
2025-04-15T08:22:18.3927270Z   Test Compare Datasets Node
2025-04-15T08:22:18.3927508Z     ✓ nodes/CompareDatasets/test/node/workflow.compareDatasets.forceInputNodeExecution (333 ms)
2025-04-15T08:22:18.3927697Z     ✓ nodes/CompareDatasets/test/node/workflow.compareDatasets.fuzzy (59 ms)
2025-04-15T08:22:18.3927910Z     ✓ nodes/CompareDatasets/test/node/workflow.compareDatasets.fuzzy.missing_keys (20 ms)
2025-04-15T08:22:18.3928229Z     ✓ nodes/CompareDatasets/test/node/workflow.compareDatasets (73 ms)
2025-04-15T08:22:18.3928618Z     ✓ nodes/CompareDatasets/test/node/workflow.compareDatasets.skipFields (28 ms)
2025-04-15T08:22:18.3928878Z     ✓ nodes/CompareDatasets/test/node/workflow.update_2_2 (45 ms)
2025-04-15T08:22:18.3928885Z 
2025-04-15T08:22:18.3929049Z PASS nodes/ExecuteCommand/test/ExecuteCommand.node.test.ts
2025-04-15T08:22:18.3929128Z   Execute Execute Command Node
2025-04-15T08:22:18.3929250Z     ✓ nodes/ExecuteCommand/test/workflow (1292 ms)
2025-04-15T08:22:18.3929255Z 
2025-04-15T08:22:18.3929587Z PASS nodes/SplitInBatches/test/SplitInBatches.node.test.ts
2025-04-15T08:22:18.3929659Z   Execute SplitInBatches Node
2025-04-15T08:22:18.3929921Z     ✓ nodes/SplitInBatches/test/SplitInBatches.combineData (365 ms)
2025-04-15T08:22:18.3930111Z     ✓ nodes/SplitInBatches/test/SplitInBatches.workflow_v1 (77 ms)
2025-04-15T08:22:18.3930262Z     ✓ nodes/SplitInBatches/test/SplitInBatches.workflow_v2 (3 ms)
2025-04-15T08:22:18.3930446Z     ✓ nodes/SplitInBatches/test/SplitInBatches.workflow_v2_done_variable (71 ms)
2025-04-15T08:22:18.3930451Z 
2025-04-15T08:22:18.3930553Z PASS nodes/Files/test/ConvertExtract.test.ts
2025-04-15T08:22:18.3930609Z   Test Convert to File Node
2025-04-15T08:22:18.3930738Z     ✓ nodes/Files/test/convert_extract.workflow (709 ms)
2025-04-15T08:22:18.3930742Z 
2025-04-15T08:22:18.3930884Z PASS nodes/Files/ConvertToFile/test/ConvertToFile.node.test.ts
2025-04-15T08:22:18.3930944Z   Test ConvertToFile Node
2025-04-15T08:22:18.3931086Z     ✓ nodes/Files/ConvertToFile/test/toText.workflow (642 ms)
2025-04-15T08:22:18.3931096Z 
2025-04-15T08:22:18.3931206Z PASS nodes/HtmlExtract/test/HtmlExtract.node.test.ts
2025-04-15T08:22:18.3931266Z   Test HTML Extract Node
2025-04-15T08:22:18.3931536Z     ✓ nodes/HtmlExtract/test/workflow.dotNotation (387 ms)
2025-04-15T08:22:18.3931540Z 
2025-04-15T08:22:18.3931692Z PASS nodes/Files/ExtractFromFile/test/ExtractFromFile.node.test.ts
2025-04-15T08:22:18.3931744Z   ExtractFromFile
2025-04-15T08:22:18.3931928Z     ✓ nodes/Files/ExtractFromFile/test/workflow.non_utf8_encoding (351 ms)
2025-04-15T08:22:18.3931932Z 
2025-04-15T08:22:18.3932030Z PASS nodes/RenameKeys/test/RenameKeys.test.ts
2025-04-15T08:22:18.3932091Z   Test Rename Keys Node
2025-04-15T08:22:18.3932224Z     ✓ nodes/RenameKeys/test/RenameKeys.workflow (215 ms)
2025-04-15T08:22:18.3932228Z 
2025-04-15T08:22:18.3932343Z PASS nodes/Transform/Summarize/test/Summarize.test.ts
2025-04-15T08:22:18.3932401Z   Test Summarize Node
2025-04-15T08:22:18.3932547Z     ✓ nodes/Transform/Summarize/test/workflow.summarize (71 ms)
2025-04-15T08:22:18.3932733Z     ✓ nodes/Transform/Summarize/test/workflow.summarize_countWithEmpty (14 ms)
2025-04-15T08:22:18.3932901Z     ✓ nodes/Transform/Summarize/test/workflow.summarize_datatypes (6 ms)
2025-04-15T08:22:18.3933064Z     ✓ nodes/Transform/Summarize/test/workflow.summarize_hint (317 ms)
2025-04-15T08:22:18.3933068Z 
2025-04-15T08:22:18.3933181Z PASS nodes/Transform/Aggregate/test/Aggregate.test.ts
2025-04-15T08:22:18.3933241Z   Test Aggregate Node
2025-04-15T08:22:18.3933386Z     ✓ nodes/Transform/Aggregate/test/workflow.aggregate (366 ms)
2025-04-15T08:22:18.3933390Z 
2025-04-15T08:22:18.3933497Z PASS nodes/Transform/SplitOut/test/SplitOut.test.ts
2025-04-15T08:22:18.3933559Z   Test Split Out Node
2025-04-15T08:22:18.3933695Z     ✓ nodes/Transform/SplitOut/test/workflow.splitOut (337 ms)
2025-04-15T08:22:18.3933854Z     ✓ nodes/Transform/SplitOut/test/workflow.splitOutObject (14 ms)
2025-04-15T08:22:18.3933858Z 
2025-04-15T08:22:18.3934036Z The provided field 'data4' is not an array or object
2025-04-15T08:22:18.3934152Z Couldn't find the field 'dataa' in the input data
2025-04-15T08:22:18.3934260Z Couldn't find the field 'idd' in the input data
2025-04-15T08:22:18.3934353Z The field 'idd' does not exist in any items
2025-04-15T08:22:18.3934459Z PASS nodes/ItemLists/test/node/ItemLists.test.ts
2025-04-15T08:22:18.3934516Z   Test ItemLists Node
2025-04-15T08:22:18.3934669Z     ✓ nodes/ItemLists/test/node/workflow.aggregateItems (110 ms)
2025-04-15T08:22:18.3934840Z     ✓ nodes/ItemLists/test/node/workflow.concatenate_pairedItems (163 ms)
2025-04-15T08:22:18.3934967Z     ✓ nodes/ItemLists/test/node/workflow.limit (5 ms)
2025-04-15T08:22:18.3935108Z     ✓ nodes/ItemLists/test/node/workflow.removeDuplicates (7 ms)
2025-04-15T08:22:18.3935267Z     ✓ nodes/ItemLists/test/node/workflow.removeDuplicates_3_1 (23 ms)
2025-04-15T08:22:18.3935377Z     ✓ nodes/ItemLists/test/node/workflow.sort (7 ms)
2025-04-15T08:22:18.3935616Z     ✓ nodes/ItemLists/test/node/workflow.splitOutItems (6 ms)
2025-04-15T08:22:18.3935795Z     ✓ nodes/ItemLists/test/node/workflow.splitOutItems.split_object (68 ms)
2025-04-15T08:22:18.3935919Z     ✓ nodes/ItemLists/test/node/workflow.summarize (8 ms)
2025-04-15T08:22:18.3936055Z     ✓ nodes/ItemLists/test/node/workflow.update_2_1 (31 ms)
2025-04-15T08:22:18.3936176Z     ✓ nodes/ItemLists/test/node/workflow.update_2_2 (17 ms)
2025-04-15T08:22:18.3936300Z     ✓ nodes/ItemLists/test/node/workflow.update_3 (63 ms)
2025-04-15T08:22:18.3936303Z 
2025-04-15T08:22:18.3936401Z PASS nodes/Switch/V3/test/switch.node.test.ts
2025-04-15T08:22:18.3936459Z   Execute Switch Node
2025-04-15T08:22:18.3936595Z     ✓ nodes/Switch/V3/test/switch.expression.workflow (503 ms)
2025-04-15T08:22:18.3936720Z     ✓ nodes/Switch/V3/test/switch.regex.workflow (29 ms)
2025-04-15T08:22:18.3936833Z     ✓ nodes/Switch/V3/test/switch.rules.workflow (18 ms)
2025-04-15T08:22:18.3936837Z 
2025-04-15T08:22:18.3936936Z PASS nodes/Switch/V2/test/switch.node.test.ts
2025-04-15T08:22:18.3936997Z   Execute Switch Node
2025-04-15T08:22:18.3937134Z     ✓ nodes/Switch/V2/test/switch.expression.workflow (92 ms)
2025-04-15T08:22:18.3937254Z     ✓ nodes/Switch/V2/test/switch.rules.workflow (10 ms)
2025-04-15T08:22:18.3937357Z 
2025-04-15T08:22:18.3937447Z PASS nodes/Switch/V1/test/switch.node.test.ts
2025-04-15T08:22:18.3937506Z   Execute Switch Node
2025-04-15T08:22:18.3937639Z     ✓ nodes/Switch/V1/test/switch.expression.workflow (149 ms)
2025-04-15T08:22:18.3937762Z     ✓ nodes/Switch/V1/test/switch.rules.workflow (5 ms)
2025-04-15T08:22:18.3937766Z 
2025-04-15T08:22:18.3937861Z PASS nodes/Markdown/test/node/Markdown.test.ts
2025-04-15T08:22:18.3937918Z   Test Markdown Node
2025-04-15T08:22:18.3938038Z     ✓ nodes/Markdown/test/node/workflow.markdown (346 ms)
2025-04-15T08:22:18.3938042Z 
2025-04-15T08:22:18.3938141Z PASS nodes/Filter/test/Filter.node.test.ts
2025-04-15T08:22:18.3938197Z   Test Filter Node
2025-04-15T08:22:18.3938293Z     ✓ nodes/Filter/test/workflow_v1 (457 ms)
2025-04-15T08:22:18.3938400Z     ✓ nodes/Filter/test/workflow_v2 (14 ms)
2025-04-15T08:22:18.3938404Z 
2025-04-15T08:22:18.3938498Z PASS nodes/Transform/Limit/test/Limit.test.ts
2025-04-15T08:22:18.3938553Z   Test Limit Node
2025-04-15T08:22:18.3938674Z     ✓ nodes/Transform/Limit/test/workflow.limit (225 ms)
2025-04-15T08:22:18.3938677Z 
2025-04-15T08:22:18.3938774Z PASS nodes/Transform/Sort/test/Sort.test.ts
2025-04-15T08:22:18.3938825Z   Test Sort Node
2025-04-15T08:22:18.3938949Z     ✓ nodes/Transform/Sort/test/workflow.sort (347 ms)
2025-04-15T08:22:18.3938952Z 
2025-04-15T08:22:18.3939037Z PASS nodes/Xml/test/node/Xml.test.ts
2025-04-15T08:22:18.3939085Z   Test XML Node
2025-04-15T08:22:18.3939214Z     ✓ nodes/Xml/test/node/workflow.xml-valid-data (336 ms)
2025-04-15T08:22:18.3939315Z     ✓ nodes/Xml/test/node/workflow.xml (10 ms)
2025-04-15T08:22:18.3939319Z 
2025-04-15T08:22:18.3939413Z PASS nodes/Merge/test/node/Merge.test.ts
2025-04-15T08:22:18.3939464Z   Test Merge Node
2025-04-15T08:22:18.3939590Z     ✓ nodes/Merge/test/node/workflow.append (729 ms)
2025-04-15T08:22:18.3939775Z     ✓ nodes/Merge/test/node/workflow.chooseBranch.empty.paired.items (30 ms)
2025-04-15T08:22:18.3939897Z     ✓ nodes/Merge/test/node/workflow.chooseBranch (8 ms)
2025-04-15T08:22:18.3940047Z     ✓ nodes/Merge/test/node/workflow.combine.mergeByFields (15 ms)
2025-04-15T08:22:18.3940210Z     ✓ nodes/Merge/test/node/workflow.combine.mergeByPosition (14 ms)
2025-04-15T08:22:18.3940340Z     ✓ nodes/Merge/test/node/workflow.combine.multiplex (7 ms)
2025-04-15T08:22:18.3940477Z     ✓ nodes/Merge/test/node/workflow.keep_non_matches (11 ms)
2025-04-15T08:22:18.3940661Z     ✓ nodes/Merge/test/node/workflow.mixed.forceInputNodeExecution (33 ms)
2025-04-15T08:22:18.3940837Z     ✓ nodes/Merge/test/node/workflow.mixed.not.forceInputNodeExecution (24 ms)
2025-04-15T08:22:18.3940960Z     ✓ nodes/Merge/test/node/workflow.update_2_1 (32 ms)
2025-04-15T08:22:18.3940964Z 
2025-04-15T08:22:18.3941051Z PASS nodes/If/test/v1/If.node.test.ts
2025-04-15T08:22:18.3941208Z   Test IF Node
2025-04-15T08:22:18.3941304Z     ✓ nodes/If/test/v1/IF.boolean (82 ms)
2025-04-15T08:22:18.3941405Z     ✓ nodes/If/test/v1/IF.date-time (8 ms)
2025-04-15T08:22:18.3941494Z     ✓ nodes/If/test/v1/IF.number (16 ms)
2025-04-15T08:22:18.3941592Z     ✓ nodes/If/test/v1/IF.string (21 ms)
2025-04-15T08:22:18.3941596Z 
2025-04-15T08:22:18.3941675Z PASS nodes/Set/test/Set.node.test.ts
2025-04-15T08:22:18.3941730Z   Test Set Node
2025-04-15T08:22:18.3941829Z     ✓ nodes/Set/test/Set.v3.workflow (96 ms)
2025-04-15T08:22:18.3941928Z     ✓ nodes/Set/test/Set.v3_3.workflow (23 ms)
2025-04-15T08:22:18.3942020Z     ✓ nodes/Set/test/Set.workflow (6 ms)
2025-04-15T08:22:18.3942131Z     ✓ nodes/Set/test/Set.workflow.null_values (4 ms)
2025-04-15T08:22:18.3942239Z     ✓ nodes/Set/test/Set.workflow.number (2 ms)
2025-04-15T08:22:18.3942243Z 
2025-04-15T08:22:18.3942320Z PASS nodes/Jwt/test/Jwt.node.test.ts
2025-04-15T08:22:18.3942376Z   Test Jwt Node
2025-04-15T08:22:18.3942473Z     ✓ nodes/Jwt/test/jwt.workflow (208 ms)
2025-04-15T08:22:18.3942477Z 
2025-04-15T08:22:18.3942565Z Test Suites: 400 passed, 400 total
2025-04-15T08:22:18.3942646Z Tests:       1613 passed, 1613 total
2025-04-15T08:22:18.3942731Z Snapshots:   7 passed, 7 total
2025-04-15T08:22:18.3942889Z Time:        142.994 s
2025-04-15T08:22:18.3942946Z Ran all test suites.
2025-04-15T08:22:18.3943250Z ##[endgroup]
2025-04-15T08:22:18.3943281Z 
2025-04-15T08:22:18.3943355Z  Tasks:    3 successful, 3 total
2025-04-15T08:22:18.3943419Z Cached:    0 cached, 3 total
2025-04-15T08:22:18.3943480Z   Time:    2m41.187s 
2025-04-15T08:22:18.3943484Z 
2025-04-15T08:22:18.6927688Z ##[group]Run pnpm test:frontend
2025-04-15T08:22:18.6927875Z [36;1mpnpm test:frontend[0m
2025-04-15T08:22:18.6979425Z shell: /usr/bin/bash -e {0}
2025-04-15T08:22:18.6979573Z env:
2025-04-15T08:22:18.6979691Z   TURBO_FORCE: true
2025-04-15T08:22:18.6979813Z   COVERAGE_ENABLED: true
2025-04-15T08:22:18.6979956Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:22:18.6980095Z   TURBOGHA_PORT: 41230
2025-04-15T08:22:18.6980246Z   TURBO_API: http://localhost:41230
2025-04-15T08:22:18.6980402Z   TURBO_TOKEN: turbogha
2025-04-15T08:22:18.6980529Z   TURBO_TEAM: turbogha
2025-04-15T08:22:18.6980654Z ##[endgroup]
2025-04-15T08:22:18.9238751Z 
2025-04-15T08:22:18.9239387Z > n8n-monorepo@1.89.0 test:frontend /home/runner/_work/n8n/n8n
2025-04-15T08:22:18.9239789Z > turbo run test:frontend --concurrency=1
2025-04-15T08:22:18.9239977Z 
2025-04-15T08:22:19.0695513Z • Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
2025-04-15T08:22:19.0697021Z • Running test:frontend in 28 packages
2025-04-15T08:22:19.0697298Z • Remote caching enabled
2025-04-15T08:25:14.2566496Z ##[group]n8n-editor-ui:test
2025-04-15T08:25:14.2567143Z cache bypass, force executing 7c72d9a60d9d80fe
2025-04-15T08:25:14.2567365Z 
2025-04-15T08:25:14.2567636Z > n8n-editor-ui@1.89.0 test /home/runner/_work/n8n/n8n/packages/frontend/editor-ui
2025-04-15T08:25:14.2568063Z > vitest run
2025-04-15T08:25:14.2568554Z 
2025-04-15T08:25:14.2568561Z 
2025-04-15T08:25:14.2569332Z [1m[7m[36m RUN [39m[27m[22m [36mv3.0.8 [39m[90m/home/runner/_work/n8n/n8n/packages/frontend/editor-ui[39m
2025-04-15T08:25:14.2569869Z       [2mCoverage enabled with [22m[33mv8[39m
2025-04-15T08:25:14.2570036Z 
2025-04-15T08:25:14.2576482Z  [32m✓[39m src/utils/canvasUtils.test.ts [2m([22m[2m41 tests[22m[2m)[22m[90m 8[2mms[22m[39m
2025-04-15T08:25:14.2577126Z  [32m✓[39m src/composables/useRunWorkflow.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 118[2mms[22m[39m
2025-04-15T08:25:14.2577704Z  [32m✓[39m src/stores/workflows.store.test.ts [2m([22m[2m72 tests[22m[2m)[22m[90m 248[2mms[22m[39m
2025-04-15T08:25:14.2578304Z  [32m✓[39m src/composables/useCanvasMapping.test.ts [2m([22m[2m33 tests[22m[2m)[22m[33m 428[2mms[22m[39m
2025-04-15T08:25:14.2578910Z  [32m✓[39m src/plugins/codemirror/completions/completions.test.ts [2m([22m[2m68 tests[22m[2m)[22m[33m 914[2mms[22m[39m
2025-04-15T08:25:14.2579489Z  [32m✓[39m src/composables/useDataSchema.test.ts [2m([22m[2m52 tests[22m[2m)[22m[90m 13[2mms[22m[39m
2025-04-15T08:25:14.2580048Z  [32m✓[39m src/composables/useCanvasOperations.test.ts [2m([22m[2m103 tests[22m[2m)[22m[33m 3110[2mms[22m[39m
2025-04-15T08:25:14.2580618Z  [32m✓[39m src/composables/useAIAssistantHelpers.test.ts [2m([22m[2m20 tests[22m[2m)[22m[90m 172[2mms[22m[39m
2025-04-15T08:25:14.2581200Z  [32m✓[39m src/composables/useImportCurlCommand.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 18[2mms[22m[39m
2025-04-15T08:25:14.2581814Z  [32m✓[39m src/composables/useNodeDirtiness.test.ts [2m([22m[2m22 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 1060[2mms[22m[39m
2025-04-15T08:25:14.2582359Z  [32m✓[39m src/components/RunData.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 1639[2mms[22m[39m
2025-04-15T08:25:14.2583336Z  [32m✓[39m src/components/VirtualSchema.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 2171[2mms[22m[39m
2025-04-15T08:25:14.2583873Z  [32m✓[39m src/components/CanvasChat/CanvasChat.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 2887[2mms[22m[39m
2025-04-15T08:25:14.2584608Z  [32m✓[39m src/stores/assistant.store.test.ts [2m([22m[2m27 tests[22m[2m)[22m[90m 153[2mms[22m[39m
2025-04-15T08:25:14.2585235Z  [32m✓[39m src/stores/testDefinition.store.ee.test.ts [2m([22m[2m25 tests[22m[2m)[22m[90m 107[2mms[22m[39m
2025-04-15T08:25:14.2585762Z  [32m✓[39m src/utils/pairedItemUtils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 29[2mms[22m[39m
2025-04-15T08:25:14.2586259Z  [32m✓[39m src/components/SourceControlPushModal.ee.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1896[2mms[22m[39m
2025-04-15T08:25:14.2586742Z    [33m[2m✓[22m[39m SourceControlPushModal[2m > [22mshould toggle checkboxes [33m423[2mms[22m[39m
2025-04-15T08:25:14.2587216Z    [33m[2m✓[22m[39m SourceControlPushModal[2m > [22mfilters[2m > [22mshould filter by name [33m623[2mms[22m[39m
2025-04-15T08:25:14.2587714Z  [32m✓[39m src/composables/useWorkflowHelpers.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 62[2mms[22m[39m
2025-04-15T08:25:14.2588214Z  [32m✓[39m src/components/NodeExecuteButton.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 1250[2mms[22m[39m
2025-04-15T08:25:14.2588662Z  [32m✓[39m src/utils/mappingUtils.test.ts [2m([22m[2m30 tests[22m[2m)[22m[90m 8[2mms[22m[39m
2025-04-15T08:25:14.2589113Z  [32m✓[39m src/components/ParameterInput.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1117[2mms[22m[39m
2025-04-15T08:25:14.2589654Z  [32m✓[39m src/components/FilterConditions/FilterConditions.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 4128[2mms[22m[39m
2025-04-15T08:25:14.2590171Z    [33m[2m✓[22m[39m FilterConditions.vue[2m > [22mrenders default state properly [33m323[2mms[22m[39m
2025-04-15T08:25:14.2590668Z    [33m[2m✓[22m[39m FilterConditions.vue[2m > [22mrenders conditions with different operators [33m631[2mms[22m[39m
2025-04-15T08:25:14.2591123Z    [33m[2m✓[22m[39m FilterConditions.vue[2m > [22mrenders parameter issues [33m417[2mms[22m[39m
2025-04-15T08:25:14.2591562Z    [33m[2m✓[22m[39m FilterConditions.vue[2m > [22mcan add and remove conditions [33m424[2mms[22m[39m
2025-04-15T08:25:14.2591981Z    [33m[2m✓[22m[39m FilterConditions.vue[2m > [22mcan edit conditions [33m701[2mms[22m[39m
2025-04-15T08:25:14.2592418Z    [33m[2m✓[22m[39m FilterConditions.vue[2m > [22mre-renders when value prop changes [33m545[2mms[22m[39m
2025-04-15T08:25:14.2592978Z  [32m✓[39m src/views/CredentialsView.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 3630[2mms[22m[39m
2025-04-15T08:25:14.2593466Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mshould render credentials [33m578[2mms[22m[39m
2025-04-15T08:25:14.2593924Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mshould disable cards based on permissions [33m449[2mms[22m[39m
2025-04-15T08:25:14.2594548Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mopen existing credential[2m > [22mshould update credentialId route param when opened [33m348[2mms[22m[39m
2025-04-15T08:25:14.2595272Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by type [33m374[2mms[22m[39m
2025-04-15T08:25:14.2595774Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded [33m438[2mms[22m[39m
2025-04-15T08:25:14.2596318Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded when object keys are empty [33m455[2mms[22m[39m
2025-04-15T08:25:14.2596982Z    [33m[2m✓[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded when object keys are "CREDENTIAL_EMPTY_VALUE" [33m477[2mms[22m[39m
2025-04-15T08:25:14.2597642Z  [32m✓[39m src/views/SettingsUsersView.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 3784[2mms[22m[39m
2025-04-15T08:25:14.2598190Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mhides invite button visibility based on user permissions [33m404[2mms[22m[39m
2025-04-15T08:25:14.2598847Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mdisables the invite button on SAML login [33m332[2mms[22m[39m
2025-04-15T08:25:14.2599326Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mshould show success toast when changing a user's role [33m302[2mms[22m[39m
2025-04-15T08:25:14.2599981Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould show delete users modal with the right permissions [33m304[2mms[22m[39m
2025-04-15T08:25:14.2600544Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould allow coping reset password link [33m321[2mms[22m[39m
2025-04-15T08:25:14.2601066Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould enable SSO manual login [33m338[2mms[22m[39m
2025-04-15T08:25:14.2601587Z    [33m[2m✓[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould disable SSO manual login [33m302[2mms[22m[39m
2025-04-15T08:25:14.2602050Z  [32m✓[39m src/views/WorkflowsView.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 5670[2mms[22m[39m
2025-04-15T08:25:14.2602500Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mfor non setup user [33m547[2mms[22m[39m
2025-04-15T08:25:14.2602967Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mfor currentUser user [33m368[2mms[22m[39m
2025-04-15T08:25:14.2603456Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mshould allow workflow creation [33m431[2mms[22m[39m
2025-04-15T08:25:14.2604031Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mwhen onboardingExperiment -> False[2m > [22mfor noPermission [33m370[2mms[22m[39m
2025-04-15T08:25:14.2604592Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set tag filter based on query parameters [33m320[2mms[22m[39m
2025-04-15T08:25:14.2605107Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set search filter based on query parameters [33m303[2mms[22m[39m
2025-04-15T08:25:14.2605703Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set active status filter based on query parameters [33m478[2mms[22m[39m
2025-04-15T08:25:14.2606236Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set deactivated status filter based on query parameters [33m461[2mms[22m[39m
2025-04-15T08:25:14.2606729Z    [33m[2m✓[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould reset filters [33m487[2mms[22m[39m
2025-04-15T08:25:14.2607114Z    [33m[2m✓[22m[39m Folders[2m > [22mshould render workflow and folder cards [33m517[2mms[22m[39m
2025-04-15T08:25:14.2607508Z  [32m✓[39m src/views/VariablesView.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3268[2mms[22m[39m
2025-04-15T08:25:14.2607891Z    [33m[2m✓[22m[39m VariablesView[2m > [22mshould render variable entries [33m517[2mms[22m[39m
2025-04-15T08:25:14.2608392Z    [33m[2m✓[22m[39m VariablesView[2m > [22mCRUD[2m > [22mshould create variables [33m637[2mms[22m[39m
2025-04-15T08:25:14.2608775Z    [33m[2m✓[22m[39m VariablesView[2m > [22mCRUD[2m > [22mshould delete variables [33m446[2mms[22m[39m
2025-04-15T08:25:14.2609148Z    [33m[2m✓[22m[39m VariablesView[2m > [22mCRUD[2m > [22mshould update variable [33m475[2mms[22m[39m
2025-04-15T08:25:14.2609617Z    [33m[2m✓[22m[39m VariablesView[2m > [22mfilter[2m > [22mshould filter by incomplete [33m385[2mms[22m[39m
2025-04-15T08:25:14.2610098Z    [33m[2m✓[22m[39m VariablesView[2m > [22msorting[2m > [22mshould sort by name (asc | desc) [33m376[2mms[22m[39m
2025-04-15T08:25:14.2610710Z  [32m✓[39m src/components/Node/NodeCreator/useActions.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 32[2mms[22m[39m
2025-04-15T08:25:14.2611275Z  [32m✓[39m src/components/canvas/elements/nodes/render-types/CanvasNodeDefault.test.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 813[2mms[22m[39m
2025-04-15T08:25:14.2611906Z  [32m✓[39m src/components/ResourceMapper.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 6489[2mms[22m[39m
2025-04-15T08:25:14.2612340Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mrenders default configuration properly [33m823[2mms[22m[39m
2025-04-15T08:25:14.2612738Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mrenders add mode properly [33m518[2mms[22m[39m
2025-04-15T08:25:14.2613107Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mrenders map mode properly [33m494[2mms[22m[39m
2025-04-15T08:25:14.2613515Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mrenders multi-key match selector properly [33m572[2mms[22m[39m
2025-04-15T08:25:14.2613992Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mdoes not render mapping mode selector if it is disabled [33m489[2mms[22m[39m
2025-04-15T08:25:14.2614506Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mrenders field on top of the list when they are selected for matching [33m723[2mms[22m[39m
2025-04-15T08:25:14.2615127Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mrenders selected matching columns properly when multiple key matching is enabled [33m625[2mms[22m[39m
2025-04-15T08:25:14.2615719Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22muses field words defined in node definition [33m539[2mms[22m[39m
2025-04-15T08:25:14.2616193Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mshould render correct fields based on saved schema [33m358[2mms[22m[39m
2025-04-15T08:25:14.2616669Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mshould render correct options based on saved schema [33m397[2mms[22m[39m
2025-04-15T08:25:14.2617137Z    [33m[2m✓[22m[39m ResourceMapper.vue[2m > [22mshould fetch fields if there is no cached schema [33m418[2mms[22m[39m
2025-04-15T08:25:14.2617675Z  [32m✓[39m src/composables/useExpressionEditor.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 1261[2mms[22m[39m
2025-04-15T08:25:14.2618306Z  [32m✓[39m src/components/TestDefinition/tests/useTestDefinitionForm.test.ts [2m([22m[2m16 tests[22m[2m)[22m[90m 206[2mms[22m[39m
2025-04-15T08:25:14.2618970Z  [32m✓[39m src/components/Node/NodeCreator/useActionsGeneration.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2619491Z  [32m✓[39m src/composables/usePushConnection.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 81[2mms[22m[39m
2025-04-15T08:25:14.2619999Z  [32m✓[39m src/stores/nodeCreator.store.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 48[2mms[22m[39m
2025-04-15T08:25:14.2620511Z  [32m✓[39m src/components/canvas/Canvas.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1847[2mms[22m[39m
2025-04-15T08:25:14.2621012Z  [32m✓[39m src/utils/nodeViewUtils.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2621519Z  [32m✓[39m src/composables/usePinnedData.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 1233[2mms[22m[39m
2025-04-15T08:25:14.2622108Z    [33m[2m✓[22m[39m usePinnedData[2m > [22misValidSize()[2m > [22mshould return true when data size is at upper limit [33m591[2mms[22m[39m
2025-04-15T08:25:14.2622734Z    [33m[2m✓[22m[39m usePinnedData[2m > [22misValidSize()[2m > [22mshould return false when data size is too large [33m466[2mms[22m[39m
2025-04-15T08:25:14.2623250Z  [32m✓[39m src/components/WorkflowSettings.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 9371[2mms[22m[39m
2025-04-15T08:25:14.2623670Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould render correctly [33m647[2mms[22m[39m
2025-04-15T08:25:14.2624177Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould not render workflow caller policy when sharing is not enabled [33m440[2mms[22m[39m
2025-04-15T08:25:14.2624814Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould render workflow caller policy when sharing is enabled [33m526[2mms[22m[39m
2025-04-15T08:25:14.2625552Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould render list of workflows field when policy is set to workflowsFromAList [33m565[2mms[22m[39m
2025-04-15T08:25:14.2626131Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould fetch all workflows and render them in the error workflows dropdown [33m477[2mms[22m[39m
2025-04-15T08:25:14.2626743Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould not remove valid workflow ID characters [33m636[2mms[22m[39m
2025-04-15T08:25:14.2627311Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould remove invalid workflow ID characters [33m654[2mms[22m[39m
2025-04-15T08:25:14.2628027Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-failed-executions dropdown correct default value as Default - Save [33m507[2mms[22m[39m
2025-04-15T08:25:14.2628781Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-failed-executions dropdown correct default value as Default - Do not save [33m619[2mms[22m[39m
2025-04-15T08:25:14.2629600Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-success-executions dropdown correct default value as Default - Save [33m409[2mms[22m[39m
2025-04-15T08:25:14.2630412Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-success-executions dropdown correct default value as Default - Do not save [33m414[2mms[22m[39m
2025-04-15T08:25:14.2631202Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-manual-executions dropdown correct default value as Default - Save [33m435[2mms[22m[39m
2025-04-15T08:25:14.2632034Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-manual-executions dropdown correct default value as Default - Do not save [33m417[2mms[22m[39m
2025-04-15T08:25:14.2632806Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-execution-progress dropdown correct default value as Default - Save [33m487[2mms[22m[39m
2025-04-15T08:25:14.2633625Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould show workflow-settings-save-execution-progress dropdown correct default value as Default - Do not save [33m463[2mms[22m[39m
2025-04-15T08:25:14.2634232Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould save time saved per execution correctly [33m450[2mms[22m[39m
2025-04-15T08:25:14.2634736Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould remove time saved per execution setting [33m431[2mms[22m[39m
2025-04-15T08:25:14.2635294Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould disable save time saved per execution if env is read-only [33m391[2mms[22m[39m
2025-04-15T08:25:14.2635922Z    [33m[2m✓[22m[39m WorkflowSettingsVue[2m > [22mshould disable save time saved per execution if user has no permission to update workflow [33m400[2mms[22m[39m
2025-04-15T08:25:14.2636425Z  [32m✓[39m src/utils/executionUtils.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 9[2mms[22m[39m
2025-04-15T08:25:14.2636844Z  [32m✓[39m src/composables/useNodeHelpers.test.ts [2m([22m[2m17 tests[22m[2m)[22m[90m 12[2mms[22m[39m
2025-04-15T08:25:14.2637285Z  [32m✓[39m src/components/RunDataJsonActions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 376[2mms[22m[39m
2025-04-15T08:25:14.2637699Z  [32m✓[39m src/views/SettingsSso.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 3228[2mms[22m[39m
2025-04-15T08:25:14.2638115Z    [33m[2m✓[22m[39m SettingsSso View[2m > [22mallows user to fill Identity Provider's URL [33m326[2mms[22m[39m
2025-04-15T08:25:14.2638653Z    [33m[2m✓[22m[39m SettingsSso[2m > [22mshould render paywall state when there is no license [33m471[2mms[22m[39m
2025-04-15T08:25:14.2639088Z    [33m[2m✓[22m[39m SettingsSso[2m > [22mshould render licensed content [33m480[2mms[22m[39m
2025-04-15T08:25:14.2639636Z    [33m[2m✓[22m[39m SettingsSso[2m > [22mshould enable activation checkbox and test button if data is already saved [33m1307[2mms[22m[39m
2025-04-15T08:25:14.2640192Z  [32m✓[39m src/stores/npsStore.store.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 16[2mms[22m[39m
2025-04-15T08:25:14.2640689Z  [32m✓[39m src/views/SettingsApiView.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 651[2mms[22m[39m
2025-04-15T08:25:14.2641250Z  [32m✓[39m src/composables/useNodeConnections.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 6[2mms[22m[39m
2025-04-15T08:25:14.2641816Z  [32m✓[39m src/composables/useGlobalEntityCreation.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 112[2mms[22m[39m
2025-04-15T08:25:14.2642425Z  [32m✓[39m src/components/Node/NodeCreator/NodesListPanel.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 896[2mms[22m[39m
2025-04-15T08:25:14.2643002Z  [32m✓[39m src/components/ResourceLocator/ResourceLocator.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 1186[2mms[22m[39m
2025-04-15T08:25:14.2643570Z  [32m✓[39m src/views/SetupWorkflowFromTemplateView/setupTemplate.store.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 139[2mms[22m[39m
2025-04-15T08:25:14.2644137Z  [32m✓[39m src/components/Projects/ProjectMoveResourceModal.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 852[2mms[22m[39m
2025-04-15T08:25:14.2644661Z    [33m[2m✓[22m[39m ProjectMoveResourceModal[2m > [22mshould not hide project select if filter has no result [33m360[2mms[22m[39m
2025-04-15T08:25:14.2645284Z  [32m✓[39m src/components/AssignmentCollection/AssignmentCollection.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 3858[2mms[22m[39m
2025-04-15T08:25:14.2645791Z    [33m[2m✓[22m[39m AssignmentCollection.vue[2m > [22mcan add and remove assignments [33m684[2mms[22m[39m
2025-04-15T08:25:14.2646282Z    [33m[2m✓[22m[39m AssignmentCollection.vue[2m > [22mdoes not break with saved assignments that have no ID (legacy) [33m498[2mms[22m[39m
2025-04-15T08:25:14.2646863Z    [33m[2m✓[22m[39m AssignmentCollection.vue[2m > [22mcan add assignments by drag and drop (and infer type) [33m1039[2mms[22m[39m
2025-04-15T08:25:14.2647487Z    [33m[2m✓[22m[39m AssignmentCollection.vue[2m > [22mdefaultType prop[2m > [22mshould respect defaultType for all assignments when provided [33m643[2mms[22m[39m
2025-04-15T08:25:14.2648032Z  [32m✓[39m src/views/WorkflowHistory.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 398[2mms[22m[39m
2025-04-15T08:25:14.2648823Z  [32m✓[39m src/composables/useContextMenu.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 30[2mms[22m[39m
2025-04-15T08:25:14.2649363Z  [32m✓[39m src/components/WorkflowPreview.test.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 606[2mms[22m[39m
2025-04-15T08:25:14.2649872Z  [32m✓[39m src/components/NodeCredentials.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 494[2mms[22m[39m
2025-04-15T08:25:14.2650333Z  [32m✓[39m src/components/RunDataAi/utils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2650904Z  [32m✓[39m src/views/TestDefinition/tests/TestDefinitionListView.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 1154[2mms[22m[39m
2025-04-15T08:25:14.2651438Z  [32m✓[39m src/components/WorkflowActivator.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 504[2mms[22m[39m
2025-04-15T08:25:14.2651931Z  [32m✓[39m src/plugins/codemirror/tooltips/infoBoxTooltip.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 196[2mms[22m[39m
2025-04-15T08:25:14.2652501Z  [32m✓[39m src/components/Projects/ProjectHeader.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1049[2mms[22m[39m
2025-04-15T08:25:14.2653094Z  [32m✓[39m src/utils/fromAIOverrideUtils.test.ts [2m([22m[2m15 tests[22m[2m)[22m[90m 6[2mms[22m[39m
2025-04-15T08:25:14.2653547Z  [32m✓[39m src/components/ApiKeyCreateOrEditModal.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 601[2mms[22m[39m
2025-04-15T08:25:14.2654207Z  [32m✓[39m src/components/executions/global/GlobalExecutionsList.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 4222[2mms[22m[39m
2025-04-15T08:25:14.2654715Z    [33m[2m✓[22m[39m GlobalExecutionsList[2m > [22mshould render empty list [33m482[2mms[22m[39m
2025-04-15T08:25:14.2655245Z    [33m[2m✓[22m[39m GlobalExecutionsList[2m > [22mshould handle selection flow when loading more items [33m1931[2mms[22m[39m
2025-04-15T08:25:14.2655776Z    [33m[2m✓[22m[39m GlobalExecutionsList[2m > [22mshould show "retry" data when appropriate [33m923[2mms[22m[39m
2025-04-15T08:25:14.2656319Z    [33m[2m✓[22m[39m GlobalExecutionsList[2m > [22mshould render concurrent executions header if the feature is enabled [33m886[2mms[22m[39m
2025-04-15T08:25:14.2656825Z  [32m✓[39m src/composables/useCanvasTraversal.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2657337Z  [32m✓[39m src/components/Projects/ProjectNavigation.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1123[2mms[22m[39m
2025-04-15T08:25:14.2657832Z  [32m✓[39m src/plugins/codemirror/completions/utils.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 29[2mms[22m[39m
2025-04-15T08:25:14.2658353Z  [32m✓[39m src/utils/nodeSettingsUtils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2658792Z  [32m✓[39m src/components/Projects/ProjectSharing.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 802[2mms[22m[39m
2025-04-15T08:25:14.2659236Z    [33m[2m✓[22m[39m ProjectSharing[2m > [22mshould filter, add and remove projects [33m435[2mms[22m[39m
2025-04-15T08:25:14.2659658Z  [32m✓[39m src/plugins/telemetry.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 11[2mms[22m[39m
2025-04-15T08:25:14.2660131Z  [32m✓[39m src/components/SQLEditor.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1411[2mms[22m[39m
2025-04-15T08:25:14.2660635Z  [32m✓[39m src/components/canvas/elements/edges/CanvasEdge.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 381[2mms[22m[39m
2025-04-15T08:25:14.2661169Z  [32m✓[39m src/composables/useCanvasLayout.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 18[2mms[22m[39m
2025-04-15T08:25:14.2661661Z  [32m✓[39m src/components/NodeDetailsView.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 4939[2mms[22m[39m
2025-04-15T08:25:14.2662147Z    [33m[2m✓[22m[39m NodeDetailsView[2m > [22mshould render correctly [33m1394[2mms[22m[39m
2025-04-15T08:25:14.2662713Z    [33m[2m✓[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould register and unregister keydown listener based on modal open state [33m1152[2mms[22m[39m
2025-04-15T08:25:14.2663308Z    [33m[2m✓[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould unregister keydown listener on unmount [33m1137[2mms[22m[39m
2025-04-15T08:25:14.2664051Z    [33m[2m✓[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould emit 'saveKeyboardShortcut' when save shortcut keybind is pressed [33m1244[2mms[22m[39m
2025-04-15T08:25:14.2664607Z  [32m✓[39m src/components/MainSidebarSourceControl.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 624[2mms[22m[39m
2025-04-15T08:25:14.2665110Z  [32m✓[39m src/components/FreeAiCreditsCallout.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 256[2mms[22m[39m
2025-04-15T08:25:14.2665703Z  [32m✓[39m src/views/SettingsSourceControl.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 21747[2mms[22m[39m
2025-04-15T08:25:14.2666291Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould render paywall state when there is no license [33m552[2mms[22m[39m
2025-04-15T08:25:14.2666745Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould render licensed content [33m476[2mms[22m[39m
2025-04-15T08:25:14.2667210Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould render user flow happy path [33m3260[2mms[22m[39m
2025-04-15T08:25:14.2667714Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user/repository.git [33m1034[2mms[22m[39m
2025-04-15T08:25:14.2668417Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.enterprise.com:org-name/repo-name.git [33m1127[2mms[22m[39m
2025-04-15T08:25:14.2669021Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@192.168.1.101:2222:user/repo.git [33m1021[2mms[22m[39m
2025-04-15T08:25:14.2669602Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user/repo.git/path/to/subdir [33m1063[2mms[22m[39m
2025-04-15T08:25:14.2670191Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@{[}2001:db8:100:f101:210:a4ff:fee3:9566]:user/repo.git [33m1075[2mms[22m[39m
2025-04-15T08:25:14.2670785Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:org/suborg/repo.git [33m1046[2mms[22m[39m
2025-04-15T08:25:14.2671371Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user-name/repo-name.git [33m1038[2mms[22m[39m
2025-04-15T08:25:14.2671929Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user_name/repo_name.git [33m1027[2mms[22m[39m
2025-04-15T08:25:14.2672492Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.com:user/repository [33m1007[2mms[22m[39m
2025-04-15T08:25:14.2673085Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@github.enterprise.com:org-name/repo-name [33m989[2mms[22m[39m
2025-04-15T08:25:14.2673635Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@192.168.1.101:2222:user/repo [33m1027[2mms[22m[39m
2025-04-15T08:25:14.2674219Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgit@ssh.dev.azure.com:v3/User/repo/directory [33m990[2mms[22m[39m
2025-04-15T08:25:14.2674841Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mssh://git@mydomain.example:2224/gitolite-admin [33m997[2mms[22m[39m
2025-04-15T08:25:14.2675488Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mgituser@192.168.1.1:ABC/Repo4.git [33m989[2mms[22m[39m
2025-04-15T08:25:14.2676035Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mroot@192.168.1.1/repo.git [33m1004[2mms[22m[39m
2025-04-15T08:25:14.2676616Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mhttp://github.com/user/repository [33m1001[2mms[22m[39m
2025-04-15T08:25:14.2677281Z    [33m[2m✓[22m[39m SettingsSourceControl[2m > [22mshould test repo URLs[2m > [22mhttps://github.com/user/repository [33m1014[2mms[22m[39m
2025-04-15T08:25:14.2677779Z  [32m✓[39m src/components/WorkflowCard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 764[2mms[22m[39m
2025-04-15T08:25:14.2678288Z  [32m✓[39m src/components/CommunityPlusEnrollmentModal.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 639[2mms[22m[39m
2025-04-15T08:25:14.2678842Z  [32m✓[39m src/components/canvas/elements/nodes/CanvasNode.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 587[2mms[22m[39m
2025-04-15T08:25:14.2679420Z  [32m✓[39m src/components/canvas/elements/nodes/CanvasNodeToolbar.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 835[2mms[22m[39m
2025-04-15T08:25:14.2679959Z  [32m✓[39m src/components/canvas/WorkflowCanvas.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1248[2mms[22m[39m
2025-04-15T08:25:14.2680470Z  [32m✓[39m src/components/executions/ExecutionsFilter.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3794[2mms[22m[39m
2025-04-15T08:25:14.2681019Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mtelemetry sent only once after component is mounted [33m624[2mms[22m[39m
2025-04-15T08:25:14.2681741Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on default deployment with advancedExecutionFilters false [33m413[2mms[22m[39m
2025-04-15T08:25:14.2682441Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on default deployment with advancedExecutionFilters true [33m409[2mms[22m[39m
2025-04-15T08:25:14.2683092Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mrenders in development environment on cloud deployment with advancedExecutionFilters true [33m351[2mms[22m[39m
2025-04-15T08:25:14.2683785Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mrenders in production environment on cloud deployment with advancedExecutionFilters false [33m300[2mms[22m[39m
2025-04-15T08:25:14.2684475Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mrenders in production environment on cloud deployment with advancedExecutionFilters true [33m315[2mms[22m[39m
2025-04-15T08:25:14.2685128Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mrenders in production environment on default deployment with advancedExecutionFilters true [33m367[2mms[22m[39m
2025-04-15T08:25:14.2685616Z    [33m[2m✓[22m[39m ExecutionsFilter[2m > [22mstate change [33m463[2mms[22m[39m
2025-04-15T08:25:14.2686037Z  [32m✓[39m src/components/CanvasChat/future/LogsPanel.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1229[2mms[22m[39m
2025-04-15T08:25:14.2686593Z    [33m[2m✓[22m[39m LogsPanel[2m > [22mshould show the button to toggle panel in the header of log details panel when it's opened [33m324[2mms[22m[39m
2025-04-15T08:25:14.2687141Z  [32m✓[39m src/composables/usePageRedirectionHelper.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 51[2mms[22m[39m
2025-04-15T08:25:14.2687592Z  [32m✓[39m src/stores/ui.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 71[2mms[22m[39m
2025-04-15T08:25:14.2688029Z  [32m✓[39m src/components/Error/NodeErrorView.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 742[2mms[22m[39m
2025-04-15T08:25:14.2688733Z  [32m✓[39m src/plugins/codemirror/completions/require.completions.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 16[2mms[22m[39m
2025-04-15T08:25:14.2689290Z  [32m✓[39m src/stores/schemaPreview.store.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 12[2mms[22m[39m
2025-04-15T08:25:14.2689690Z  [32m✓[39m src/stores/rbac.store.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 10[2mms[22m[39m
2025-04-15T08:25:14.2690069Z  [32m✓[39m src/init.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 49[2mms[22m[39m
2025-04-15T08:25:14.2690433Z  [32m✓[39m src/utils/expressions.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 15[2mms[22m[39m
2025-04-15T08:25:14.2691019Z  [32m✓[39m src/components/PersonalizationModal.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 1849[2mms[22m[39m
2025-04-15T08:25:14.2691409Z    [33m[2m✓[22m[39m PersonalizationModal[2m > [22mmounts [33m338[2mms[22m[39m
2025-04-15T08:25:14.2691812Z    [33m[2m✓[22m[39m PersonalizationModal[2m > [22mallows completion of role related fields [33m416[2mms[22m[39m
2025-04-15T08:25:14.2692316Z    [33m[2m✓[22m[39m PersonalizationModal[2m > [22mallows completion of marketing and sales related fields [33m418[2mms[22m[39m
2025-04-15T08:25:14.2692845Z    [33m[2m✓[22m[39m PersonalizationModal[2m > [22mCompany field[2m > [22mallows completion of company related fields [33m429[2mms[22m[39m
2025-04-15T08:25:14.2693321Z  [32m✓[39m src/composables/useKeybindings.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 112[2mms[22m[39m
2025-04-15T08:25:14.2693764Z  [32m✓[39m src/composables/useExecutionHelpers.test.ts [2m([22m[2m24 tests[22m[2m)[22m[90m 12[2mms[22m[39m
2025-04-15T08:25:14.2694247Z  [32m✓[39m src/components/Folders/FolderCard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 620[2mms[22m[39m
2025-04-15T08:25:14.2694676Z  [32m✓[39m src/stores/pushConnection.store.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 10[2mms[22m[39m
2025-04-15T08:25:14.2695421Z  [32m✓[39m src/plugins/codemirror/completions/base.completions.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 111[2mms[22m[39m
2025-04-15T08:25:14.2696026Z  [32m✓[39m src/components/CanvasChat/future/components/LogsOverviewPanel.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 608[2mms[22m[39m
2025-04-15T08:25:14.2696587Z  [32m✓[39m src/components/BannersStack.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 378[2mms[22m[39m
2025-04-15T08:25:14.2697139Z  [32m✓[39m src/components/WorkflowHistory/WorkflowHistoryList.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 4298[2mms[22m[39m
2025-04-15T08:25:14.2697754Z    [33m[2m✓[22m[39m WorkflowHistoryList[2m > [22mshould render list and delegate preview event [33m2225[2mms[22m[39m
2025-04-15T08:25:14.2698187Z    [33m[2m✓[22m[39m WorkflowHistoryList[2m > [22mshould scroll to active item [33m1299[2mms[22m[39m
2025-04-15T08:25:14.2698617Z  [32m✓[39m src/components/ButtonParameter/utils.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 22[2mms[22m[39m
2025-04-15T08:25:14.2699077Z  [32m✓[39m src/mixins/workflowHelpers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1657[2mms[22m[39m
2025-04-15T08:25:14.2699569Z    [33m[2m✓[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return empty execute data if no parent nodes [33m425[2mms[22m[39m
2025-04-15T08:25:14.2700200Z    [33m[2m✓[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with one parent node [33m408[2mms[22m[39m
2025-04-15T08:25:14.2700902Z    [33m[2m✓[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with multiple parent nodes, only one with execution data [33m406[2mms[22m[39m
2025-04-15T08:25:14.2701615Z    [33m[2m✓[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with multiple parent nodes, all with execution data [33m404[2mms[22m[39m
2025-04-15T08:25:14.2702137Z  [32m✓[39m src/utils/objectUtils.test.ts [2m([22m[2m42 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2702547Z  [32m✓[39m src/views/SettingsPersonalView.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 3745[2mms[22m[39m
2025-04-15T08:25:14.2703033Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mshould enable email and pw change [33m628[2mms[22m[39m
2025-04-15T08:25:14.2703568Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould disable save button when theme has not been changed [33m527[2mms[22m[39m
2025-04-15T08:25:14.2704180Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould enable save button when theme is changed [33m539[2mms[22m[39m
2025-04-15T08:25:14.2704911Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould not update theme after changing the selected theme [33m519[2mms[22m[39m
2025-04-15T08:25:14.2705923Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould commit the theme change after clicking save [33m526[2mms[22m[39m
2025-04-15T08:25:14.2707226Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mwhen external auth is enabled, email and password change[2m > [22mshould not be disabled for the instance owner [33m508[2mms[22m[39m
2025-04-15T08:25:14.2708352Z    [33m[2m✓[22m[39m SettingsPersonalView[2m > [22mwhen external auth is enabled, email and password change[2m > [22mshould be disabled for members [33m488[2mms[22m[39m
2025-04-15T08:25:14.2709171Z  [32m✓[39m src/components/ParameterInputList.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 404[2mms[22m[39m
2025-04-15T08:25:14.2709923Z  [32m✓[39m src/components/ButtonParameter/ButtonParameter.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 227[2mms[22m[39m
2025-04-15T08:25:14.2710620Z  [32m✓[39m src/components/ParameterOptions.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 565[2mms[22m[39m
2025-04-15T08:25:14.2711481Z  [32m✓[39m src/views/ProjectSettings.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 935[2mms[22m[39m
2025-04-15T08:25:14.2712254Z    [33m[2m✓[22m[39m ProjectSettings[2m > [22mshould show confirmation modal before deleting project and delete with transfer [33m547[2mms[22m[39m
2025-04-15T08:25:14.2713134Z    [33m[2m✓[22m[39m ProjectSettings[2m > [22mshould show confirmation modal before deleting project and deleting without transfer [33m387[2mms[22m[39m
2025-04-15T08:25:14.2713830Z  [32m✓[39m src/utils/apiUtils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 9[2mms[22m[39m
2025-04-15T08:25:14.2714360Z  [32m✓[39m src/router.test.ts [2m([22m[2m30 tests[22m[2m)[22m[33m 3084[2mms[22m[39m
2025-04-15T08:25:14.2714990Z    [33m[2m✓[22m[39m router[2m > [22mshould resolve / to WorkflowsView [33m1085[2mms[22m[39m
2025-04-15T08:25:14.2715698Z    [33m[2m✓[22m[39m router[2m > [22mshould resolve /workflow to NodeViewNew [33m999[2mms[22m[39m
2025-04-15T08:25:14.2716219Z    [33m[2m✓[22m[39m router[2m > [22mshould resolve /workflow/R9JFXwkUCL1jZBuw/executions/29021 to ExecutionPreview [33m318[2mms[22m[39m
2025-04-15T08:25:14.2716779Z  [32m✓[39m src/components/RunDataPinButton.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 468[2mms[22m[39m
2025-04-15T08:25:14.2717415Z  [32m✓[39m src/views/SetupWorkflowFromTemplateView/useCredentialSetupState.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2718076Z  [32m✓[39m src/components/executions/global/GlobalExecutionsListItem.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 605[2mms[22m[39m
2025-04-15T08:25:14.2718714Z  [32m✓[39m src/components/InlineExpressionEditor/InlineExpressionTip.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 578[2mms[22m[39m
2025-04-15T08:25:14.2719209Z  [32m✓[39m src/composables/useFolders.test.ts [2m([22m[2m43 tests[22m[2m)[22m[90m 6[2mms[22m[39m
2025-04-15T08:25:14.2719684Z  [32m✓[39m src/push-connection/__tests__/useEventSourceClient.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 11[2mms[22m[39m
2025-04-15T08:25:14.2720130Z  [32m✓[39m src/views/SignupView.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 582[2mms[22m[39m
2025-04-15T08:25:14.2720587Z [1m[33m[@vue/compiler-sfc][0m[33m `withDefaults` is a compiler macro and no longer needs to be imported.[0m
2025-04-15T08:25:14.2720796Z 
2025-04-15T08:25:14.2721053Z  [32m✓[39m src/components/ParameterInputFull.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 515[2mms[22m[39m
2025-04-15T08:25:14.2721595Z  [32m✓[39m src/components/TestDefinition/EditDefinition/tests/NodesPinning.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 851[2mms[22m[39m
2025-04-15T08:25:14.2722231Z    [33m[2m✓[22m[39m NodesPinning[2m > [22mshould render workflow nodes [33m325[2mms[22m[39m
2025-04-15T08:25:14.2722670Z  [32m✓[39m src/stores/posthog.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 36[2mms[22m[39m
2025-04-15T08:25:14.2723169Z  [32m✓[39m src/components/executions/workflow/WorkflowExecutionsPreview.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 703[2mms[22m[39m
2025-04-15T08:25:14.2723813Z  [32m✓[39m src/push-connection/__tests__/useWebSocketClient.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 11[2mms[22m[39m
2025-04-15T08:25:14.2724480Z  [32m✓[39m src/views/TestDefinition/tests/TestDefinitionEditView.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1329[2mms[22m[39m
2025-04-15T08:25:14.2725172Z    [33m[2m✓[22m[39m TestDefinitionEditView[2m > [22mTest Runs functionality[2m > [22mshould display test runs table when runs exist [33m457[2mms[22m[39m
2025-04-15T08:25:14.2725888Z  [32m✓[39m src/plugins/codemirror/completions/jsonField.completions.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 116[2mms[22m[39m
2025-04-15T08:25:14.2726366Z  [32m✓[39m src/utils/nodeIcon.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2726861Z  [32m✓[39m src/stores/settings.store.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 21[2mms[22m[39m
2025-04-15T08:25:14.2727293Z  [32m✓[39m src/composables/useCanvasNode.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2727770Z  [32m✓[39m src/composables/useExecutingNode.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2728318Z  [32m✓[39m src/components/InputPanel.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 321[2mms[22m[39m
2025-04-15T08:25:14.2728877Z  [32m✓[39m src/plugins/codemirror/completions/itemField.completions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 9[2mms[22m[39m
2025-04-15T08:25:14.2729401Z  [32m✓[39m src/views/ForgotMyPasswordView.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 447[2mms[22m[39m
2025-04-15T08:25:14.2729868Z  [32m✓[39m src/components/TextWithHIghlights.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 34[2mms[22m[39m
2025-04-15T08:25:14.2730336Z  [32m✓[39m src/components/DeleteUserModal.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 565[2mms[22m[39m
2025-04-15T08:25:14.2730841Z  [32m✓[39m src/components/Node/NodeCreator/ItemsRenderer.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 220[2mms[22m[39m
2025-04-15T08:25:14.2731430Z  [32m✓[39m src/components/CredentialEdit/__tests__/CredentialEdit.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 613[2mms[22m[39m
2025-04-15T08:25:14.2731937Z  [32m✓[39m src/components/NDVSubConnections.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 55[2mms[22m[39m
2025-04-15T08:25:14.2732373Z  [32m✓[39m src/components/Telemetry.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 258[2mms[22m[39m
2025-04-15T08:25:14.2732809Z  [32m✓[39m src/components/RunDataSearch.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 396[2mms[22m[39m
2025-04-15T08:25:14.2733315Z  [32m✓[39m src/utils/sourceControlUtils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 18[2mms[22m[39m
2025-04-15T08:25:14.2733860Z  [32m✓[39m src/components/executions/workflow/WorkflowExecutionsCard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 556[2mms[22m[39m
2025-04-15T08:25:14.2734446Z  [32m✓[39m src/features/insights/components/InsightsSummary.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 881[2mms[22m[39m
2025-04-15T08:25:14.2735060Z  [32m✓[39m src/components/Node/NodeCreator/useKeyboardNavigation.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 147[2mms[22m[39m
2025-04-15T08:25:14.2735710Z  [32m✓[39m src/composables/useExecutionDebugging.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 60[2mms[22m[39m
2025-04-15T08:25:14.2736253Z  [32m✓[39m src/components/Node/NodeCreator/utils.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 10[2mms[22m[39m
2025-04-15T08:25:14.2736916Z  [32m✓[39m src/composables/useToast.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 141[2mms[22m[39m
2025-04-15T08:25:14.2737446Z  [32m✓[39m src/components/ResourceMapper/ResourceMapper.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 350[2mms[22m[39m
2025-04-15T08:25:14.2738001Z  [32m✓[39m src/utils/rbac/middleware/enterprise.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 7[2mms[22m[39m
2025-04-15T08:25:14.2738551Z  [32m✓[39m src/composables/useBeforeUnload.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 81[2mms[22m[39m
2025-04-15T08:25:14.2738986Z  [32m✓[39m src/composables/useDebugInfo.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2739435Z  [32m✓[39m src/utils/templates/templateActions.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 35[2mms[22m[39m
2025-04-15T08:25:14.2739948Z  [32m✓[39m src/composables/useResolvedExpression.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 195[2mms[22m[39m
2025-04-15T08:25:14.2740446Z  [32m✓[39m src/components/RunDataTable.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 280[2mms[22m[39m
2025-04-15T08:25:14.2741075Z  [32m✓[39m src/components/Projects/ProjectMoveSuccessToastMessage.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 186[2mms[22m[39m
2025-04-15T08:25:14.2741611Z  [32m✓[39m src/composables/useCanvasNodeHover.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 138[2mms[22m[39m
2025-04-15T08:25:14.2742111Z  [32m✓[39m src/components/CredentialCard.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 541[2mms[22m[39m
2025-04-15T08:25:14.2742693Z  [32m✓[39m src/components/CanvasChat/composables/usePiPWindow.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 103[2mms[22m[39m
2025-04-15T08:25:14.2743218Z  [32m✓[39m src/stores/executions.store.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 28[2mms[22m[39m
2025-04-15T08:25:14.2743741Z  [32m✓[39m src/plugins/codemirror/typescript/worker/typescript.worker.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1911[2mms[22m[39m
2025-04-15T08:25:14.2744264Z    [33m[2m✓[22m[39m Typescript Worker[2m > [22mshould return diagnostics [33m1454[2mms[22m[39m
2025-04-15T08:25:14.2744692Z  [32m✓[39m src/views/SettingsView.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 624[2mms[22m[39m
2025-04-15T08:25:14.2745152Z  [32m✓[39m src/composables/useCodeEditor.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 331[2mms[22m[39m
2025-04-15T08:25:14.2745730Z  [32m✓[39m src/stores/environments.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 3239[2mms[22m[39m
2025-04-15T08:25:14.2746248Z    [33m[2m✓[22m[39m environments.store[2m > [22mvariables[2m > [22mfetchAllVariables()[2m > [22mshould fetch all credentials [33m414[2mms[22m[39m
2025-04-15T08:25:14.2746835Z    [33m[2m✓[22m[39m environments.store[2m > [22mvariables[2m > [22mcreateVariable()[2m > [22mshould store a new variable [33m805[2mms[22m[39m
2025-04-15T08:25:14.2747414Z    [33m[2m✓[22m[39m environments.store[2m > [22mvariables[2m > [22mupdateVariable()[2m > [22mshould update an existing variable [33m803[2mms[22m[39m
2025-04-15T08:25:14.2747975Z    [33m[2m✓[22m[39m environments.store[2m > [22mvariables[2m > [22mdeleteVariable()[2m > [22mshould delete an existing variable [33m803[2mms[22m[39m
2025-04-15T08:25:14.2748619Z    [33m[2m✓[22m[39m environments.store[2m > [22mvariables[2m > [22mvariablesAsObject[2m > [22mshould return variables as a key-value object [33m402[2mms[22m[39m
2025-04-15T08:25:14.2749166Z  [32m✓[39m src/components/NodeTitle.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 527[2mms[22m[39m
2025-04-15T08:25:14.2749581Z  [32m✓[39m src/views/SigninView.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 307[2mms[22m[39m
2025-04-15T08:25:14.2750055Z  [32m✓[39m src/components/FixedCollectionParameter.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 534[2mms[22m[39m
2025-04-15T08:25:14.2750671Z  [32m✓[39m src/plugins/codemirror/typescript/worker/linter.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2751200Z  [32m✓[39m src/views/TestDefinition/tests/TestDefinitionNewView.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 235[2mms[22m[39m
2025-04-15T08:25:14.2751699Z  [32m✓[39m src/views/SettingsUsageAndPlan.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 334[2mms[22m[39m
2025-04-15T08:25:14.2752164Z  [32m✓[39m src/components/CredentialIcon.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 227[2mms[22m[39m
2025-04-15T08:25:14.2752674Z  [32m✓[39m src/components/NodeExecutionErrorMessage.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 221[2mms[22m[39m
2025-04-15T08:25:14.2753236Z  [32m✓[39m src/components/canvas/elements/nodes/render-types/CanvasNodeStickyNote.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 233[2mms[22m[39m
2025-04-15T08:25:14.2753889Z  [32m✓[39m src/components/WorkflowHistory/WorkflowHistoryListItem.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 621[2mms[22m[39m
2025-04-15T08:25:14.2754437Z  [32m✓[39m src/components/SourceControlPullModal.ee.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 231[2mms[22m[39m
2025-04-15T08:25:14.2755126Z  [32m✓[39m src/components/WorkflowHistory/WorkflowHistoryContent.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 776[2mms[22m[39m
2025-04-15T08:25:14.2755729Z  [32m✓[39m src/components/CollaborationPane.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 281[2mms[22m[39m
2025-04-15T08:25:14.2756318Z  [32m✓[39m src/utils/rbac/checks/isEnterpriseFeatureEnabled.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 7[2mms[22m[39m
2025-04-15T08:25:14.2756914Z  [32m✓[39m src/components/MainHeader/WorkflowDetails.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 457[2mms[22m[39m
2025-04-15T08:25:14.2757495Z  [32m✓[39m src/plugins/codemirror/completions/variables.completions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 10[2mms[22m[39m
2025-04-15T08:25:14.2757970Z  [32m✓[39m src/permissions.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2758470Z  [32m✓[39m src/composables/useAutocompleteTelemetry.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 225[2mms[22m[39m
2025-04-15T08:25:14.2759096Z  [32m✓[39m src/components/canvas/elements/handles/render-types/CanvasHandleMainOutput.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 179[2mms[22m[39m
2025-04-15T08:25:14.2759593Z  [32m✓[39m src/stores/roles.store.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2760099Z  [32m✓[39m src/components/Folders/MoveToFolderModal.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 150[2mms[22m[39m
2025-04-15T08:25:14.2760683Z  [32m✓[39m src/components/canvas/elements/handles/CanvasHandleRenderer.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 164[2mms[22m[39m
2025-04-15T08:25:14.2761198Z  [32m✓[39m src/utils/rbacUtils.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2761633Z  [32m✓[39m src/components/HtmlEditor.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 591[2mms[22m[39m
2025-04-15T08:25:14.2762052Z    [33m[2m✓[22m[39m HtmlEditor.vue[2m > [22memits update:model-value events [33m344[2mms[22m[39m
2025-04-15T08:25:14.2762467Z  [32m✓[39m src/utils/nodeTypeUtils.test.ts [2m([22m[2m13 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2763008Z  [32m✓[39m src/plugins/codemirror/completions/itemIndex.completions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 6[2mms[22m[39m
2025-04-15T08:25:14.2763597Z  [32m✓[39m src/components/executions/ConcurrentExecutionsHeader.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 382[2mms[22m[39m
2025-04-15T08:25:14.2764135Z  [32m✓[39m src/push-connection/__tests__/useHeartbeat.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2764626Z  [32m✓[39m src/components/ExpressionEditModal.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 382[2mms[22m[39m
2025-04-15T08:25:14.2765151Z  [32m✓[39m src/utils/rbac/permissions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2765650Z  [32m✓[39m src/composables/useHistoryHelper.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 55[2mms[22m[39m
2025-04-15T08:25:14.2766183Z  [32m✓[39m src/components/CredentialPicker/CredentialPicker.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 280[2mms[22m[39m
2025-04-15T08:25:14.2766746Z  [32m✓[39m src/plugins/codemirror/completions/prevNode.completions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2767328Z  [32m✓[39m src/components/canvas/elements/edges/CanvasConnectionLine.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 106[2mms[22m[39m
2025-04-15T08:25:14.2767968Z  [32m✓[39m src/components/canvas/elements/nodes/render-types/parts/CanvasNodeStatusIcons.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 253[2mms[22m[39m
2025-04-15T08:25:14.2768997Z  [32m✓[39m src/stores/users.store.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 22[2mms[22m[39m
2025-04-15T08:25:14.2769396Z  [32m✓[39m src/api/schemaPreview.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2769971Z  [32m✓[39m src/components/Projects/ProjectCardBadge.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 560[2mms[22m[39m
2025-04-15T08:25:14.2770493Z  [32m✓[39m src/composables/useUniqueNodeName.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 20[2mms[22m[39m
2025-04-15T08:25:14.2770896Z  [32m✓[39m src/utils/htmlUtils.test.ts [2m([22m[2m21 tests[22m[2m)[22m[90m 6[2mms[22m[39m
2025-04-15T08:25:14.2771449Z  [32m✓[39m src/components/InlineExpressionEditor/InlineExpressionEditorOutput.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 234[2mms[22m[39m
2025-04-15T08:25:14.2772001Z  [32m✓[39m src/components/ExpressionParameterInput.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 440[2mms[22m[39m
2025-04-15T08:25:14.2772472Z  [32m✓[39m src/utils/rbac/middleware/rbac.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2773044Z  [32m✓[39m src/components/CodeNodeEditor/completions/itemField.completions.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2773567Z  [32m✓[39m src/components/FilterConditions/utils.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 14[2mms[22m[39m
2025-04-15T08:25:14.2774103Z  [32m✓[39m src/utils/rbac/middleware/authenticated.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2774614Z  [32m✓[39m src/components/AssignmentCollection/Assignment.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 748[2mms[22m[39m
2025-04-15T08:25:14.2775128Z    [33m[2m✓[22m[39m Assignment.vue[2m > [22mcan edit name, type and value [33m523[2mms[22m[39m
2025-04-15T08:25:14.2775618Z  [32m✓[39m src/plugins/codemirror/dragAndDrop.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 78[2mms[22m[39m
2025-04-15T08:25:14.2776204Z  [32m✓[39m src/views/TestDefinition/tests/TestDefinitionRootView.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 156[2mms[22m[39m
2025-04-15T08:25:14.2776733Z  [32m✓[39m src/components/RunDataJson.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 124[2mms[22m[39m
2025-04-15T08:25:14.2777173Z  [32m✓[39m src/plugins/sentry.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2777605Z  [32m✓[39m src/utils/rbac/middleware/role.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2778055Z  [32m✓[39m src/components/TemplatesInfoCard.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 242[2mms[22m[39m
2025-04-15T08:25:14.2778504Z  [32m✓[39m src/views/SamlOnboarding.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 218[2mms[22m[39m
2025-04-15T08:25:14.2779089Z  [32m✓[39m src/components/executions/global/GlobalExecutionsListItemQueuedTooltip.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 301[2mms[22m[39m
2025-04-15T08:25:14.2779848Z  [32m✓[39m src/plugins/codemirror/expressionCloseBrackets.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 236[2mms[22m[39m
2025-04-15T08:25:14.2780349Z  [32m✓[39m src/views/SettingsExternalSecrets.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 203[2mms[22m[39m
2025-04-15T08:25:14.2780784Z  [32m✓[39m src/utils/rbac/middleware/guest.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2781285Z  [32m✓[39m src/components/TestDefinition/tests/useMetricsChart.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 19[2mms[22m[39m
2025-04-15T08:25:14.2781800Z  [32m✓[39m src/utils/rbac/middleware/defaultUser.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2782292Z  [32m✓[39m src/composables/useClipboard.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 60[2mms[22m[39m
2025-04-15T08:25:14.2782890Z  [32m✓[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandlePlus.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 250[2mms[22m[39m
2025-04-15T08:25:14.2783428Z  [32m✓[39m src/utils/typesUtils.test.ts [2m([22m[2m39 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2784015Z  [32m✓[39m src/components/canvas/elements/nodes/CanvasNodeRenderer.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 164[2mms[22m[39m
2025-04-15T08:25:14.2784490Z  [32m✓[39m src/components/MainSidebar.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 2376[2mms[22m[39m
2025-04-15T08:25:14.2784900Z    [33m[2m✓[22m[39m MainSidebar[2m > [22mrenders the sidebar without error [33m580[2mms[22m[39m
2025-04-15T08:25:14.2785513Z    [33m[2m✓[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened false and the environment is readonly true [33m392[2mms[22m[39m
2025-04-15T08:25:14.2786169Z    [33m[2m✓[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened true and the environment is readonly false [33m493[2mms[22m[39m
2025-04-15T08:25:14.2786802Z    [33m[2m✓[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened true and the environment is readonly true [33m491[2mms[22m[39m
2025-04-15T08:25:14.2787401Z    [33m[2m✓[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened false and the environment is readonly false [33m420[2mms[22m[39m
2025-04-15T08:25:14.2788000Z  [32m✓[39m src/components/executions/workflow/WorkflowExecutionsSidebar.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 827[2mms[22m[39m
2025-04-15T08:25:14.2788572Z    [33m[2m✓[22m[39m WorkflowExecutionsSidebar[2m > [22mshould not throw error when opened [33m509[2mms[22m[39m
2025-04-15T08:25:14.2789152Z    [33m[2m✓[22m[39m WorkflowExecutionsSidebar[2m > [22mshould render concurrent executions header if the feature is enabled [33m317[2mms[22m[39m
2025-04-15T08:25:14.2789693Z  [32m✓[39m src/utils/rbac/checks/hasScope.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2790160Z  [32m✓[39m src/utils/rbac/checks/isAuthenticated.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2790624Z  [32m✓[39m src/composables/useDebounce.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 40[2mms[22m[39m
2025-04-15T08:25:14.2791104Z  [32m✓[39m src/utils/templates/templateTransforms.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2791665Z  [32m✓[39m src/components/CommunityPackageInstallModal.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 295[2mms[22m[39m
2025-04-15T08:25:14.2792181Z  [32m✓[39m src/components/MainHeader/WorkflowHistoryButton.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 231[2mms[22m[39m
2025-04-15T08:25:14.2792693Z  [32m✓[39m src/components/CredentialConfig.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 127[2mms[22m[39m
2025-04-15T08:25:14.2793165Z  [32m✓[39m src/components/JsonEditor.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 309[2mms[22m[39m
2025-04-15T08:25:14.2793862Z  [32m✓[39m src/components/SetupWorkflowCredentialsButton/SetupWorkflowCredentialsButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 95[2mms[22m[39m
2025-04-15T08:25:14.2794423Z  [32m✓[39m src/components/ChatEmbedModal.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 324[2mms[22m[39m
2025-04-15T08:25:14.2794844Z    [33m[2m✓[22m[39m ChatEmbedModal[2m > [22mshould render correctly [33m324[2mms[22m[39m
2025-04-15T08:25:14.2795279Z  [32m✓[39m src/components/MainHeader/TabBar.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 129[2mms[22m[39m
2025-04-15T08:25:14.2795800Z  [32m✓[39m src/components/canvas/elements/buttons/CanvasControlButtons.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 436[2mms[22m[39m
2025-04-15T08:25:14.2796353Z  [32m✓[39m src/components/PushConnectionTracker.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 158[2mms[22m[39m
2025-04-15T08:25:14.2796825Z  [32m✓[39m src/components/Feedback.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 36[2mms[22m[39m
2025-04-15T08:25:14.2797399Z  [32m✓[39m src/components/canvas/elements/nodes/render-types/parts/CanvasNodeTooltip.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 127[2mms[22m[39m
2025-04-15T08:25:14.2798010Z  [32m✓[39m src/composables/useNodeType.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2798476Z  [32m✓[39m src/components/SSOLogin.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 145[2mms[22m[39m
2025-04-15T08:25:14.2798911Z  [32m✓[39m src/components/ParameterInputWrapper.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 128[2mms[22m[39m
2025-04-15T08:25:14.2799378Z  [32m✓[39m src/utils/rbac/checks/hasRole.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2799880Z  [32m✓[39m src/components/Node/NodeCreator/CategoryItem.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 110[2mms[22m[39m
2025-04-15T08:25:14.2800377Z  [32m✓[39m src/utils/projects.utils.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2800869Z  [32m✓[39m src/plugins/codemirror/typescript/worker/dynamicTypes.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2801330Z  [32m✓[39m src/stores/sso.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 33[2mms[22m[39m
2025-04-15T08:25:14.2801920Z  [32m✓[39m src/components/canvas/elements/nodes/toolbar/CanvasNodeStickyColorSelector.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 160[2mms[22m[39m
2025-04-15T08:25:14.2802540Z  [32m✓[39m src/components/AssignmentCollection/TypeSelect.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 221[2mms[22m[39m
2025-04-15T08:25:14.2803057Z  [32m✓[39m src/components/Projects/ProjectTabs.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 216[2mms[22m[39m
2025-04-15T08:25:14.2803517Z  [32m✓[39m src/components/CopyInput.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 94[2mms[22m[39m
2025-04-15T08:25:14.2803948Z  [32m✓[39m src/utils/injectStrict.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2804406Z  [32m✓[39m src/components/CollectionParameter.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 142[2mms[22m[39m
2025-04-15T08:25:14.2804879Z  [32m✓[39m src/composables/useStorage.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 5[2mms[22m[39m
2025-04-15T08:25:14.2805363Z  [32m✓[39m src/components/CodeNodeEditor/utils.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 7[2mms[22m[39m
2025-04-15T08:25:14.2805930Z  [32m✓[39m src/plugins/codemirror/typescript/client/tests/completions.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 7[2mms[22m[39m
2025-04-15T08:25:14.2806459Z  [32m✓[39m src/components/DropArea/DropArea.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 72[2mms[22m[39m
2025-04-15T08:25:14.2806991Z  [32m✓[39m src/components/canvas/elements/background/CanvasBackground.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 117[2mms[22m[39m
2025-04-15T08:25:14.2807637Z  [32m✓[39m src/components/banners/V1Banner.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 114[2mms[22m[39m
2025-04-15T08:25:14.2808210Z  [32m✓[39m src/composables/useDocumentTitle.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2808673Z  [32m✓[39m src/stores/credentials.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 829[2mms[22m[39m
2025-04-15T08:25:14.2809191Z    [33m[2m✓[22m[39m store[2m > [22mcredentials[2m > [22mfetchCredentialTypes()[2m > [22mshould fetch all credential types [33m411[2mms[22m[39m
2025-04-15T08:25:14.2809744Z    [33m[2m✓[22m[39m store[2m > [22mcredentials[2m > [22mfetchAllCredentials()[2m > [22mshould fetch all credentials [33m404[2mms[22m[39m
2025-04-15T08:25:14.2810238Z  [32m✓[39m src/utils/json-schema.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2810750Z  [32m✓[39m src/components/ExpressionEditorModalInput.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 218[2mms[22m[39m
2025-04-15T08:25:14.2811245Z  [32m✓[39m src/components/InputTriple/InputTriple.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 84[2mms[22m[39m
2025-04-15T08:25:14.2811772Z  [32m✓[39m src/components/layouts/ResourcesListLayout.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 61[2mms[22m[39m
2025-04-15T08:25:14.2812384Z  [32m✓[39m src/composables/useActiveNode.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2812869Z  [32m✓[39m src/components/MultipleParameter.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 70[2mms[22m[39m
2025-04-15T08:25:14.2813344Z  [32m✓[39m src/stores/workflowHistory.store.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 41[2mms[22m[39m
2025-04-15T08:25:14.2813771Z  [32m✓[39m src/views/AuthView.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 99[2mms[22m[39m
2025-04-15T08:25:14.2814221Z  [32m✓[39m src/components/Logo/__tests__/Logo.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 90[2mms[22m[39m
2025-04-15T08:25:14.2814713Z  [32m✓[39m src/components/VariablesUsageBadge.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 112[2mms[22m[39m
2025-04-15T08:25:14.2815176Z  [32m✓[39m src/utils/rbac/checks/isDefaultUser.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2815700Z  [32m✓[39m src/utils/rbac/middleware/custom.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2816163Z  [32m✓[39m src/composables/useStyles.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 4[2mms[22m[39m
2025-04-15T08:25:14.2816625Z  [32m✓[39m src/utils/rbac/checks/isGuest.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2817038Z  [32m✓[39m src/stores/usage.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 9[2mms[22m[39m
2025-04-15T08:25:14.2817552Z  [32m✓[39m src/components/canvas/elements/buttons/CanvasRunWorkflowButton.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 200[2mms[22m[39m
2025-04-15T08:25:14.2818141Z  [32m✓[39m src/utils/rbac/checks/isInstanceOwner.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:14.2818631Z  [32m✓[39m src/components/CredentialEdit/OauthButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 124[2mms[22m[39m
2025-04-15T08:25:14.2819220Z  [32m✓[39m src/components/canvas/elements/handles/render-types/CanvasHandleNonMainOutput.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 39[2mms[22m[39m
2025-04-15T08:25:14.2819893Z  [32m✓[39m src/components/canvas/elements/handles/render-types/CanvasHandleNonMainInput.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 46[2mms[22m[39m
2025-04-15T08:25:14.2820586Z  [32m✓[39m src/components/canvas/elements/handles/render-types/CanvasHandleMainInput.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 33[2mms[22m[39m
2025-04-15T08:25:14.2821154Z  [32m✓[39m src/components/ChangePasswordModal.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 74[2mms[22m[39m
2025-04-15T08:25:14.2821906Z  [32m✓[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandleRectangle.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 72[2mms[22m[39m
2025-04-15T08:25:14.2822624Z  [32m✓[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandleDiamond.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 76[2mms[22m[39m
2025-04-15T08:25:14.2823276Z  [32m✓[39m src/components/canvas/elements/buttons/CanvasStopCurrentExecutionButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 92[2mms[22m[39m
2025-04-15T08:25:14.2823794Z  [32m✓[39m src/utils/rbac/checks/isValid.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2824325Z  [32m✓[39m src/components/canvas/elements/handles/render-types/parts/CanvasHandleDot.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 80[2mms[22m[39m
2025-04-15T08:25:14.2824857Z  [32m✓[39m src/composables/useBugReporting.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2825298Z  [32m✓[39m src/components/JsEditor.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 66[2mms[22m[39m
2025-04-15T08:25:14.2825777Z  [32m✓[39m src/components/canvas/elements/edges/CanvasEdgeToolbar.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 79[2mms[22m[39m
2025-04-15T08:25:14.2826584Z  [32m✓[39m src/components/canvas/elements/nodes/render-types/parts/CanvasNodeDisabledStrikeThrough.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 69[2mms[22m[39m
2025-04-15T08:25:14.2827173Z  [32m✓[39m src/utils/easyAiWorkflowUtils.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
2025-04-15T08:25:14.2827781Z  [32m✓[39m src/components/canvas/elements/buttons/CanvasStopWaitingForWebhookButton.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 60[2mms[22m[39m
2025-04-15T08:25:14.2828425Z  [32m✓[39m src/components/canvas/elements/buttons/CanvasClearExecutionDataButton.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 67[2mms[22m[39m
2025-04-15T08:25:14.2829025Z  [32m✓[39m src/components/canvas/elements/buttons/CanvasChatButton.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 65[2mms[22m[39m
2025-04-15T08:25:14.2829281Z 
2025-04-15T08:25:14.2829463Z [2m Test Files [22m [1m[32m299 passed[39m[22m[90m (299)[39m
2025-04-15T08:25:14.2829853Z [2m      Tests [22m [1m[32m2312 passed[39m[22m[2m | [22m[90m1 todo[39m[90m (2313)[39m
2025-04-15T08:25:14.2830178Z [2m   Start at [22m 08:22:19
2025-04-15T08:25:14.2830651Z [2m   Duration [22m 173.77s[2m (transform 20.22s, setup 56.59s, collect 412.56s, tests 180.50s, environment 76.70s, prepare 16.72s)[22m
2025-04-15T08:25:14.2830895Z 
2025-04-15T08:25:14.2831147Z ##[endgroup]
2025-04-15T08:25:16.4230121Z ##[group]@n8n/chat:test
2025-04-15T08:25:16.4230644Z cache bypass, force executing 361217717b6c27e1
2025-04-15T08:25:16.4230920Z 
2025-04-15T08:25:16.4231198Z > @n8n/chat@0.39.0 test /home/runner/_work/n8n/n8n/packages/frontend/@n8n/chat
2025-04-15T08:25:16.4231677Z > vitest run
2025-04-15T08:25:16.4231868Z 
2025-04-15T08:25:16.4232576Z ▲ [WARNING] The condition "types" here will never be used as it comes after both "import" and "require" [package.json]
2025-04-15T08:25:16.4232986Z 
2025-04-15T08:25:16.4233113Z     package.json:27:6:
2025-04-15T08:25:16.4233511Z       27 │       "types": "./dist/index.d.ts"
2025-04-15T08:25:16.4233916Z          ╵       ~~~~~~~
2025-04-15T08:25:16.4234126Z 
2025-04-15T08:25:16.4234441Z   The "import" condition comes earlier and will be used for all "import" statements:
2025-04-15T08:25:16.4234729Z 
2025-04-15T08:25:16.4234901Z     package.json:25:6:
2025-04-15T08:25:16.4235290Z       25 │       "import": "./dist/chat.es.js",
2025-04-15T08:25:16.4235660Z          ╵       ~~~~~~~~
2025-04-15T08:25:16.4235819Z 
2025-04-15T08:25:16.4236162Z   The "require" condition comes earlier and will be used for all "require" calls:
2025-04-15T08:25:16.4236438Z 
2025-04-15T08:25:16.4236602Z     package.json:26:6:
2025-04-15T08:25:16.4236980Z       26 │       "require": "./dist/chat.umd.js",
2025-04-15T08:25:16.4237620Z          ╵       ~~~~~~~~~
2025-04-15T08:25:16.4237731Z 
2025-04-15T08:25:16.4237734Z 
2025-04-15T08:25:16.4238052Z [1m[7m[36m RUN [39m[27m[22m [36mv3.0.8 [39m[90m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/chat[39m
2025-04-15T08:25:16.4238431Z       [2mCoverage enabled with [22m[33mv8[39m
2025-04-15T08:25:16.4238574Z 
2025-04-15T08:25:16.4238859Z  [32m✓[39m src/__tests__/index.spec.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 163[2mms[22m[39m
2025-04-15T08:25:16.4239095Z 
2025-04-15T08:25:16.4239277Z [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-04-15T08:25:16.4239633Z [2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
2025-04-15T08:25:16.4239942Z [2m   Start at [22m 08:25:15
2025-04-15T08:25:16.4240408Z [2m   Duration [22m 1.23s[2m (transform 331ms, setup 144ms, collect 389ms, tests 163ms, environment 203ms, prepare 40ms)[22m
2025-04-15T08:25:16.4240680Z 
2025-04-15T08:25:16.4241051Z ##[endgroup]
2025-04-15T08:25:34.5732166Z ##[group]@n8n/design-system:test
2025-04-15T08:25:34.5732727Z cache bypass, force executing 41b11a462c70ffbc
2025-04-15T08:25:34.5732912Z 
2025-04-15T08:25:34.5733297Z > @n8n/design-system@1.77.0 test /home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system
2025-04-15T08:25:34.5733756Z > vitest run
2025-04-15T08:25:34.5734337Z 
2025-04-15T08:25:34.5734344Z 
2025-04-15T08:25:34.5735026Z [1m[7m[36m RUN [39m[27m[22m [36mv3.0.8 [39m[90m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system[39m
2025-04-15T08:25:34.5735509Z       [2mCoverage enabled with [22m[33mv8[39m
2025-04-15T08:25:34.5735729Z 
2025-04-15T08:25:34.5736123Z  [32m✓[39m src/directives/n8n-smart-decimal.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 35[2mms[22m[39m
2025-04-15T08:25:34.5736983Z  [32m✓[39m src/components/AskAssistantChat/AskAssistantChat.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 137[2mms[22m[39m
2025-04-15T08:25:34.5737794Z  [32m✓[39m src/components/N8nIconPicker/IconPicker.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 659[2mms[22m[39m
2025-04-15T08:25:34.5738443Z    [33m[2m✓[22m[39m IconPicker[2m > [22mrenders icons and emojis [33m342[2mms[22m[39m
2025-04-15T08:25:34.5739145Z  [32m✓[39m src/components/N8nNavigationDropdown/NavigationDropdown.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1140[2mms[22m[39m
2025-04-15T08:25:34.5739995Z    [33m[2m✓[22m[39m N8nNavigationDropdown[2m > [22mshould toggle nested level on mouseenter / mouseleave [33m716[2mms[22m[39m
2025-04-15T08:25:34.5740618Z  [32m✓[39m src/components/CodeDiff/CodeDiff.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 57[2mms[22m[39m
2025-04-15T08:25:34.5741187Z  [32m✓[39m src/components/N8nBreadcrumbs/BreadCrumbs.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1274[2mms[22m[39m
2025-04-15T08:25:34.5741694Z    [33m[2m✓[22m[39m Breadcrumbs[2m > [22mrenders async hidden items correctly [33m1019[2mms[22m[39m
2025-04-15T08:25:34.5742341Z  [32m✓[39m src/components/N8nDataTableServer/N8nDataTableServer.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 313[2mms[22m[39m
2025-04-15T08:25:34.5742969Z  [32m✓[39m src/components/N8nSelectableList/SelectableList.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 43[2mms[22m[39m
2025-04-15T08:25:34.5743560Z  [32m✓[39m src/components/N8nCallout/Callout.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 48[2mms[22m[39m
2025-04-15T08:25:34.5744154Z  [32m✓[39m src/components/N8nUserStack/UserStack.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 46[2mms[22m[39m
2025-04-15T08:25:34.5744723Z  [32m✓[39m src/components/N8nDatatable/Datatable.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 311[2mms[22m[39m
2025-04-15T08:25:34.5745293Z  [32m✓[39m src/components/N8nMarkdown/Markdown.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 105[2mms[22m[39m
2025-04-15T08:25:34.5745834Z  [32m✓[39m src/components/N8nSelect/Select.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 225[2mms[22m[39m
2025-04-15T08:25:34.5746509Z  [32m✓[39m src/components/N8nNotice/Notice.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 34[2mms[22m[39m
2025-04-15T08:25:34.5747008Z  [32m✓[39m src/directives/n8n-truncate.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 27[2mms[22m[39m
2025-04-15T08:25:34.5747506Z  [32m✓[39m src/components/N8nButton/Button.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 30[2mms[22m[39m
2025-04-15T08:25:34.5748145Z  [32m✓[39m src/components/ConditionalRouterLink/ConditionalRouterLink.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 31[2mms[22m[39m
2025-04-15T08:25:34.5748726Z  [32m✓[39m src/components/N8nFormBox/FormBox.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 49[2mms[22m[39m
2025-04-15T08:25:34.5749227Z  [32m✓[39m src/components/N8nTree/Tree.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 35[2mms[22m[39m
2025-04-15T08:25:34.5749865Z  [32m✓[39m src/components/N8nActionDropdown/ActionDropdown.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 22[2mms[22m[39m
2025-04-15T08:25:34.5750410Z  [32m✓[39m src/components/N8nBadge/Badge.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 33[2mms[22m[39m
2025-04-15T08:25:34.5750848Z  [32m✓[39m src/utils/labelUtil.test.ts [2m([22m[2m19 tests[22m[2m)[22m[90m 11[2mms[22m[39m
2025-04-15T08:25:34.5751436Z  [32m✓[39m src/components/AskAssistantIcon/AssistantIcon.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 28[2mms[22m[39m
2025-04-15T08:25:34.5752010Z  [32m✓[39m src/directives/n8n-html.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 28[2mms[22m[39m
2025-04-15T08:25:34.5752549Z  [32m✓[39m src/components/N8nAlert/Alert.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 63[2mms[22m[39m
2025-04-15T08:25:34.5753007Z  [32m✓[39m src/utils/valueByPath.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:34.5753474Z  [32m✓[39m src/utils/markdown.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
2025-04-15T08:25:34.5753975Z  [32m✓[39m src/components/N8nTooltip/Tooltip.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 108[2mms[22m[39m
2025-04-15T08:25:34.5754562Z  [32m✓[39m src/components/AskAssistantText/AssistantText.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 21[2mms[22m[39m
2025-04-15T08:25:34.5755115Z  [32m✓[39m src/components/N8nCheckbox/Checkbox.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 41[2mms[22m[39m
2025-04-15T08:25:34.5755604Z  [32m✓[39m src/styleguide/ColorCircles.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 23[2mms[22m[39m
2025-04-15T08:25:34.5756065Z  [32m✓[39m src/components/N8nAvatar/Avatar.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 66[2mms[22m[39m
2025-04-15T08:25:34.5756588Z  [32m✓[39m src/components/N8nInput/Input.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 32[2mms[22m[39m
2025-04-15T08:25:34.5757080Z  [32m✓[39m src/components/N8nInputLabel/InputLabel.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 24[2mms[22m[39m
2025-04-15T08:25:34.5757648Z  [32m✓[39m src/components/N8nRoute/Route.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 26[2mms[22m[39m
2025-04-15T08:25:34.5758225Z  [32m✓[39m src/components/N8nRecycleScroller/RecycleScroller.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 58[2mms[22m[39m
2025-04-15T08:25:34.5758754Z  [32m✓[39m src/components/N8nInfoTip/InfoTip.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 67[2mms[22m[39m
2025-04-15T08:25:34.5759611Z [2m8:25:30 AM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: <tr> cannot be child of <table>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.
2025-04-15T08:25:34.5760117Z 59 |  <template>
2025-04-15T08:25:34.5760329Z 60 |  	<table :class="$style.table">
2025-04-15T08:25:34.5760509Z 61 |  		<tr>
2025-04-15T08:25:34.5760652Z    |    ^^^^
2025-04-15T08:25:34.5760830Z 62 |  			<th :class="$style.row">Name</th>
2025-04-15T08:25:34.5761040Z    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-15T08:25:34.5761409Z 63 |  			<th :class="$style.row">rem</th>
2025-04-15T08:25:34.5761669Z    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-15T08:25:34.5761922Z 64 |  			<th :class="$style.row">px</th>
2025-04-15T08:25:34.5762151Z    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-15T08:25:34.5762411Z 65 |  		</tr>
2025-04-15T08:25:34.5762557Z    |  ^^^^^^^[39m
2025-04-15T08:25:34.5762712Z   Plugin: [35mvite:vue[39m
2025-04-15T08:25:34.5763110Z   File: [36m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system/src/styleguide/Sizes.vue[39m
2025-04-15T08:25:34.5763632Z  [32m✓[39m src/styleguide/Sizes.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 26[2mms[22m[39m
2025-04-15T08:25:34.5764156Z  [32m✓[39m src/components/N8nActionBox/ActionBox.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 72[2mms[22m[39m
2025-04-15T08:25:34.5764621Z  [32m✓[39m src/components/N8nCard/Card.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 29[2mms[22m[39m
2025-04-15T08:25:34.5765094Z  [32m✓[39m src/components/N8nColorPicker/ColorPicker.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 87[2mms[22m[39m
2025-04-15T08:25:34.5765641Z  [32m✓[39m src/components/AskAssistantAvatar/AskAssistantAvatar.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 24[2mms[22m[39m
2025-04-15T08:25:34.5766302Z  [32m✓[39m src/components/AskAssistantButton/AskAssistantButton.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 28[2mms[22m[39m
2025-04-15T08:25:34.5766831Z  [32m✓[39m src/components/N8nBlockUi/BlockUi.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 34[2mms[22m[39m
2025-04-15T08:25:34.5767450Z  [32m✓[39m src/components/AskAssistantLoadingMessage/AskAssistantLoadingMessage.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 19[2mms[22m[39m
2025-04-15T08:25:34.5768068Z  [32m✓[39m src/components/N8nCircleLoader/CircleLoader.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 18[2mms[22m[39m
2025-04-15T08:25:34.5771573Z  [32m✓[39m src/components/BlinkingCursor/BlinkingCursor.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 13[2mms[22m[39m
2025-04-15T08:25:34.5772060Z  [32m✓[39m src/components/BetaTag/BetaTag.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 13[2mms[22m[39m
2025-04-15T08:25:34.5772849Z [2m8:25:34 AM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: <tr> cannot be child of <table>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.
2025-04-15T08:25:34.5773259Z 50 |  <template>
2025-04-15T08:25:34.5773459Z 51 |  	<table :class="$style.table">
2025-04-15T08:25:34.5773667Z 52 |  		<tr>
2025-04-15T08:25:34.5773779Z    |    ^^^^
2025-04-15T08:25:34.5773983Z 53 |  			<th :class="$style.row">Name</th>
2025-04-15T08:25:34.5774200Z    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-15T08:25:34.5774425Z 54 |  			<th :class="$style.row">Value</th>
2025-04-15T08:25:34.5774588Z    |  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-15T08:25:34.5774751Z 55 |  		</tr>
2025-04-15T08:25:34.5774920Z    |  ^^^^^^^[39m
2025-04-15T08:25:34.5775099Z   Plugin: [35mvite:vue[39m
2025-04-15T08:25:34.5775523Z   File: [36m/home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system/src/styleguide/VariableTable.vue[39m
2025-04-15T08:25:34.5775803Z 
2025-04-15T08:25:34.5775975Z [2m Test Files [22m [1m[32m48 passed[39m[22m[90m (48)[39m
2025-04-15T08:25:34.5776314Z [2m      Tests [22m [1m[32m173 passed[39m[22m[90m (173)[39m
2025-04-15T08:25:34.5776569Z [2m   Start at [22m 08:25:16
2025-04-15T08:25:34.5776996Z [2m   Duration [22m 17.22s[2m (transform 2.40s, setup 50.22s, collect 919ms, tests 5.62s, environment 11.84s, prepare 2.52s)[22m
2025-04-15T08:25:34.5777227Z 
2025-04-15T08:25:34.5777418Z ##[endgroup]
2025-04-15T08:25:36.0229822Z ##[group]@n8n/codemirror-lang:test
2025-04-15T08:25:36.0230122Z cache bypass, force executing 63907ce39ab6a49b
2025-04-15T08:25:36.0230319Z 
2025-04-15T08:25:36.0230540Z > @n8n/codemirror-lang@0.3.0 test /home/runner/_work/n8n/n8n/packages/@n8n/codemirror-lang
2025-04-15T08:25:36.0231192Z > jest
2025-04-15T08:25:36.0231313Z 
2025-04-15T08:25:36.0231437Z PASS test/expressions/expressions.test.ts
2025-04-15T08:25:36.0231680Z   expressions language
2025-04-15T08:25:36.0231872Z     cases
2025-04-15T08:25:36.0232301Z       ✓ Resolvable (3 ms)
2025-04-15T08:25:36.0232545Z       ✓ Empty Resolvable (1 ms)
2025-04-15T08:25:36.0232935Z       ✓ Resolvable of only whitespace
2025-04-15T08:25:36.0233130Z       ✓ No content
2025-04-15T08:25:36.0233377Z       ✓ Plaintext
2025-04-15T08:25:36.0233597Z       ✓ Plaintext of single-brace-wrapped text
2025-04-15T08:25:36.0233797Z       ✓ Plaintext then Resolvable (1 ms)
2025-04-15T08:25:36.0234050Z       ✓ Resolvable then Plaintext
2025-04-15T08:25:36.0234262Z       ✓ Plaintext then Resolvable then Plaintext
2025-04-15T08:25:36.0234521Z       ✓ Resolvable then Plaintext then Resolvable (1 ms)
2025-04-15T08:25:36.0234846Z       ✓ Plaintext then Resolvable then Plaintext then Resolvable
2025-04-15T08:25:36.0235191Z       ✓ Resolvable then Plaintext then Resolvable then Plaintext
2025-04-15T08:25:36.0235478Z       ✓ Resolvable containing all resolvable chars
2025-04-15T08:25:36.0235719Z       ✓ Resolvable containing single left brace
2025-04-15T08:25:36.0235953Z       ✓ Resolvable containing double left brace (1 ms)
2025-04-15T08:25:36.0236191Z       ✓ Resolvable containing triple left brace
2025-04-15T08:25:36.0236420Z       ✓ Resolvable containing single right brace
2025-04-15T08:25:36.0236665Z       ✓ Resolvable containing escaped double right brace
2025-04-15T08:25:36.0236894Z       ✓ Resolvable containing escaped triple right brace
2025-04-15T08:25:36.0237179Z       ✓ Resolvable containing single-brace-wrapped text with escaping
2025-04-15T08:25:36.0237497Z       ✓ Resolvable containing double-brace-wrapped text with escaping
2025-04-15T08:25:36.0237790Z       ✓ Resolvable containing triple-brace-wrapped text with escaping
2025-04-15T08:25:36.0238057Z       ✓ Resolvable containing single-bracket-wrapped text
2025-04-15T08:25:36.0238355Z       ✓ Resolvable containing double-bracket-wrapped text (1 ms)
2025-04-15T08:25:36.0238655Z       ✓ Resolvable containing triple-bracket-wrapped text
2025-04-15T08:25:36.0238864Z       ✓ Plaintext of one opening brace
2025-04-15T08:25:36.0239105Z       ✓ Plaintext of one opening brace and two closing braces
2025-04-15T08:25:36.0239405Z       ✓ Plaintext then Resolvable with non-ASCII chars then Plaintext
2025-04-15T08:25:36.0239665Z       ✓ Resolvable with currency symbol
2025-04-15T08:25:36.0239864Z       ✓ Resolvable with cyrillic char
2025-04-15T08:25:36.0240065Z       ✓ Resolvable with Pictographs char
2025-04-15T08:25:36.0240296Z       ✓ Resolvable with Emoticons char
2025-04-15T08:25:36.0240510Z       ✓ Resolvable with general punctuation char
2025-04-15T08:25:36.0240703Z       ✓ Resolvable with superscript char
2025-04-15T08:25:36.0240932Z       ✓ Resolvable with CJK char
2025-04-15T08:25:36.0241113Z       ✓ Resolvable with new emoji range
2025-04-15T08:25:36.0241312Z       ✓ Resolvable with new emoji range end of range
2025-04-15T08:25:36.0241454Z 
2025-04-15T08:25:36.0241538Z Test Suites: 1 passed, 1 total
2025-04-15T08:25:36.0241728Z Tests:       37 passed, 37 total
2025-04-15T08:25:36.0241895Z Snapshots:   0 total
2025-04-15T08:25:36.0242048Z Time:        0.87 s
2025-04-15T08:25:36.0242172Z Ran all test suites.
2025-04-15T08:25:36.0242473Z ##[endgroup]
2025-04-15T08:25:39.1287830Z ##[group]@n8n/composables:build
2025-04-15T08:25:39.1288339Z cache bypass, force executing b0396722b2c10a8b
2025-04-15T08:25:39.1288517Z 
2025-04-15T08:25:39.1288839Z > @n8n/composables@1.5.0 build /home/runner/_work/n8n/n8n/packages/frontend/@n8n/composables
2025-04-15T08:25:39.1289164Z > pnpm run typecheck && tsup
2025-04-15T08:25:39.1289307Z 
2025-04-15T08:25:39.1289311Z 
2025-04-15T08:25:39.1289563Z > @n8n/composables@1.5.0 typecheck /home/runner/_work/n8n/n8n/packages/frontend/@n8n/composables
2025-04-15T08:25:39.1289869Z > vue-tsc --noEmit
2025-04-15T08:25:39.1289964Z 
2025-04-15T08:25:39.1290434Z [34mCLI[39m Building entry: src/useDeviceSupport.ts, src/useShortKeyPress.ts
2025-04-15T08:25:39.1291032Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-04-15T08:25:39.1291263Z [34mCLI[39m tsup v8.4.0
2025-04-15T08:25:39.1291754Z [34mCLI[39m Using tsup config: /home/runner/_work/n8n/n8n/packages/frontend/@n8n/composables/tsup.config.ts
2025-04-15T08:25:39.1292288Z [34mCLI[39m Target: esnext
2025-04-15T08:25:39.1292602Z [34mCLI[39m Cleaning output folder
2025-04-15T08:25:39.1292879Z [34mCJS[39m Build start
2025-04-15T08:25:39.1293101Z [34mESM[39m Build start
2025-04-15T08:25:39.1293502Z [32mESM[39m [1mdist/useShortKeyPress.js     [22m[32m658.00 B[39m
2025-04-15T08:25:39.1293986Z [32mESM[39m [1mdist/useDeviceSupport.js     [22m[32m1.14 KB[39m
2025-04-15T08:25:39.1294376Z [32mESM[39m [1mdist/useShortKeyPress.js.map [22m[32m1.37 KB[39m
2025-04-15T08:25:39.1294817Z [32mESM[39m [1mdist/useDeviceSupport.js.map [22m[32m2.47 KB[39m
2025-04-15T08:25:39.1295169Z [32mESM[39m ⚡️ Build success in 35ms
2025-04-15T08:25:39.1295545Z [32mCJS[39m [1mdist/useShortKeyPress.cjs     [22m[32m819.00 B[39m
2025-04-15T08:25:39.1295985Z [32mCJS[39m [1mdist/useDeviceSupport.cjs     [22m[32m1.35 KB[39m
2025-04-15T08:25:39.1296401Z [32mCJS[39m [1mdist/useShortKeyPress.cjs.map [22m[32m1.83 KB[39m
2025-04-15T08:25:39.1296782Z [32mCJS[39m [1mdist/useDeviceSupport.cjs.map [22m[32m3.15 KB[39m
2025-04-15T08:25:39.1297064Z [32mCJS[39m ⚡️ Build success in 40ms
2025-04-15T08:25:39.1297297Z [34mDTS[39m Build start
2025-04-15T08:25:39.1297581Z [32mDTS[39m ⚡️ Build success in 1300ms
2025-04-15T08:25:39.1297898Z [32mDTS[39m [1mdist/useDeviceSupport.d.cts [22m[32m314.00 B[39m
2025-04-15T08:25:39.1298343Z [32mDTS[39m [1mdist/useShortKeyPress.d.cts [22m[32m313.00 B[39m
2025-04-15T08:25:39.1298727Z [32mDTS[39m [1mdist/useDeviceSupport.d.ts  [22m[32m314.00 B[39m
2025-04-15T08:25:39.1299078Z [32mDTS[39m [1mdist/useShortKeyPress.d.ts  [22m[32m313.00 B[39m
2025-04-15T08:25:39.1299488Z ##[endgroup]
2025-04-15T08:25:39.1508785Z 
2025-04-15T08:25:39.1508925Z  Tasks:    5 successful, 5 total
2025-04-15T08:25:39.1509173Z Cached:    0 cached, 5 total
2025-04-15T08:25:39.1509419Z   Time:    3m20.176s 
2025-04-15T08:25:39.1509531Z 
2025-04-15T08:25:39.5332566Z ##[group]Run codecov/test-results-action@v1
2025-04-15T08:25:39.5332827Z with:
2025-04-15T08:25:39.5333234Z   token: ***
2025-04-15T08:25:39.5333432Z env:
2025-04-15T08:25:39.5333627Z   TURBO_FORCE: true
2025-04-15T08:25:39.5333833Z   COVERAGE_ENABLED: true
2025-04-15T08:25:39.5334115Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:39.5334339Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:39.5334572Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:39.5334808Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:39.5335017Z   TURBO_TEAM: turbogha
2025-04-15T08:25:39.5335233Z ##[endgroup]
2025-04-15T08:25:39.5838040Z ==> linux OS detected
2025-04-15T08:25:39.7665314Z https://cli.codecov.io/latest/linux/codecov.SHA256SUM
2025-04-15T08:25:39.8546772Z gpg: directory '/home/runner/.gnupg' created
2025-04-15T08:25:39.8551901Z gpg: keybox '/home/runner/.gnupg/pubring.kbx' created
2025-04-15T08:25:39.8572275Z gpg: /home/runner/.gnupg/trustdb.gpg: trustdb created
2025-04-15T08:25:39.8573153Z gpg: key 806BB28AED779869: public key "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" imported
2025-04-15T08:25:39.8629127Z gpg: Total number processed: 1
2025-04-15T08:25:39.8629510Z gpg:               imported: 1
2025-04-15T08:25:39.8659216Z gpg: Signature made Wed Apr  9 03:02:55 2025 UTC
2025-04-15T08:25:39.8659761Z gpg:                using RSA key 27034E7FDB850E0BBC2C62FF806BB28AED779869
2025-04-15T08:25:39.8661739Z gpg: Good signature from "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" [unknown]
2025-04-15T08:25:39.8662423Z gpg: WARNING: This key is not certified with a trusted signature!
2025-04-15T08:25:39.8663027Z gpg:          There is no indication that the signature belongs to the owner.
2025-04-15T08:25:39.8663900Z Primary key fingerprint: 2703 4E7F DB85 0E0B BC2C  62FF 806B B28A ED77 9869
2025-04-15T08:25:39.9020292Z ==> Uploader SHASUM verified (0f7aadde579ebde1443ad2f977beada703f562997fdda603f213faf2a8559868  codecov)
2025-04-15T08:25:39.9020778Z ==> Running version latest
2025-04-15T08:25:39.9178810Z ==> Running version v10.4.0
2025-04-15T08:25:39.9183818Z ==> Running command '/home/runner/_work/_actions/codecov/test-results-action/v1/dist/codecov do-upload'
2025-04-15T08:25:39.9192368Z [command]/home/runner/_work/_actions/codecov/test-results-action/v1/dist/codecov do-upload --report-type test_results
2025-04-15T08:25:40.3388761Z info - 2025-04-15 08:25:40,338 -- ci service found: github-actions
2025-04-15T08:25:40.5473775Z info - 2025-04-15 08:25:40,546 -- Found 14 test_results files to report
2025-04-15T08:25:40.5475075Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/workflow/junit.xml
2025-04-15T08:25:40.5475731Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/permissions/junit.xml
2025-04-15T08:25:40.5476243Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/cli/junit.xml
2025-04-15T08:25:40.5476751Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/nodes-langchain/junit.xml
2025-04-15T08:25:40.5477258Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/api-types/junit.xml
2025-04-15T08:25:40.5477742Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/config/junit.xml
2025-04-15T08:25:40.5478250Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/json-schema-to-zod/junit.xml
2025-04-15T08:25:40.5478775Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/codemirror-lang/junit.xml
2025-04-15T08:25:40.5479265Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/task-runner/junit.xml
2025-04-15T08:25:40.5479752Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2/junit.xml
2025-04-15T08:25:40.5480218Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/imap/junit.xml
2025-04-15T08:25:40.5481007Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/nodes-base/junit.xml
2025-04-15T08:25:40.5481441Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/core/junit.xml
2025-04-15T08:25:40.5481867Z info - 2025-04-15 08:25:40,547 -- > /home/runner/_work/n8n/n8n/packages/@n8n/di/junit.xml
2025-04-15T08:25:41.6645268Z info - 2025-04-15 08:25:41,664 -- Process Upload complete
2025-04-15T08:25:41.7799903Z ##[group]Run codecov/codecov-action@v5.1.2
2025-04-15T08:25:41.7800086Z with:
2025-04-15T08:25:41.7800273Z   token: ***
2025-04-15T08:25:41.7800401Z   disable_file_fixes: false
2025-04-15T08:25:41.7800537Z   disable_search: false
2025-04-15T08:25:41.7800674Z   disable_safe_directory: false
2025-04-15T08:25:41.7800808Z   dry_run: false
2025-04-15T08:25:41.7800923Z   fail_ci_if_error: false
2025-04-15T08:25:41.7801070Z   git_service: github
2025-04-15T08:25:41.7801195Z   gcov_executable: gcov
2025-04-15T08:25:41.7801326Z   handle_no_reports_found: false
2025-04-15T08:25:41.7801470Z   skip_validation: false
2025-04-15T08:25:41.7801602Z   use_legacy_upload_endpoint: false
2025-04-15T08:25:41.7801746Z   use_oidc: false
2025-04-15T08:25:41.7801859Z   verbose: false
2025-04-15T08:25:41.7801969Z   version: latest
2025-04-15T08:25:41.7802074Z env:
2025-04-15T08:25:41.7802177Z   TURBO_FORCE: true
2025-04-15T08:25:41.7802295Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.7802442Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.7802579Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.7802717Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.7802873Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.7803005Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.7803130Z ##[endgroup]
2025-04-15T08:25:41.7846890Z ##[group]Run CC_ACTION_VERSION=$(cat ${GITHUB_ACTION_PATH}/src/version)
2025-04-15T08:25:41.7847174Z [36;1mCC_ACTION_VERSION=$(cat ${GITHUB_ACTION_PATH}/src/version)[0m
2025-04-15T08:25:41.7847573Z [36;1mecho -e "\033[0;32m==>\033[0m Running Action version $CC_ACTION_VERSION"[0m
2025-04-15T08:25:41.7896421Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.7896606Z env:
2025-04-15T08:25:41.7896723Z   TURBO_FORCE: true
2025-04-15T08:25:41.7896849Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.7896983Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.7897120Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.7897261Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.7897414Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.7897538Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.7897663Z ##[endgroup]
2025-04-15T08:25:41.7958340Z [0;32m==>[0m Running Action version 5.1.2
2025-04-15T08:25:41.7977521Z ##[group]Run git config --global --add safe.directory /home/runner/_work/n8n/n8n
2025-04-15T08:25:41.7977794Z [36;1mgit config --global --add safe.directory /home/runner/_work/n8n/n8n[0m
2025-04-15T08:25:41.8012619Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.8012804Z env:
2025-04-15T08:25:41.8012943Z   TURBO_FORCE: true
2025-04-15T08:25:41.8013083Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.8013238Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.8013405Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.8013546Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.8013694Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.8013877Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.8013998Z ##[endgroup]
2025-04-15T08:25:41.8085592Z ##[group]Run CC_FORK="false"
2025-04-15T08:25:41.8085754Z [36;1mCC_FORK="false"[0m
2025-04-15T08:25:41.8086043Z [36;1mif [ -n "$GITHUB_EVENT_PULL_REQUEST_HEAD_REPO_FULL_NAME" ] && [ "$GITHUB_EVENT_PULL_REQUEST_HEAD_REPO_FULL_NAME" != "$GITHUB_REPOSITORY" ];[0m
2025-04-15T08:25:41.8086333Z [36;1mthen[0m
2025-04-15T08:25:41.8086467Z [36;1m  echo -e "\033[0;32m==>\033[0m Fork detected"[0m
2025-04-15T08:25:41.8086678Z [36;1m  CC_FORK="true"[0m
2025-04-15T08:25:41.8086837Z [36;1mfi[0m
2025-04-15T08:25:41.8086958Z [36;1mecho "CC_FORK=$CC_FORK" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8123907Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.8124091Z env:
2025-04-15T08:25:41.8124198Z   TURBO_FORCE: true
2025-04-15T08:25:41.8124317Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.8124440Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.8124569Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.8124699Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.8124952Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.8125237Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.8125364Z   GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL: 
2025-04-15T08:25:41.8125531Z   GITHUB_EVENT_PULL_REQUEST_HEAD_REPO_FULL_NAME: 
2025-04-15T08:25:41.8125698Z   GITHUB_REPOSITORY: n8n-io/n8n
2025-04-15T08:25:41.8125831Z ##[endgroup]
2025-04-15T08:25:41.8187154Z ##[group]Run if [ "false" == 'true' ] && [ "$CC_FORK" != 'true' ];
2025-04-15T08:25:41.8187375Z [36;1mif [ "false" == 'true' ] && [ "$CC_FORK" != 'true' ];[0m
2025-04-15T08:25:41.8187550Z [36;1mthen[0m
2025-04-15T08:25:41.8187672Z [36;1m  # {"count":1984,"value":"***"}[0m
2025-04-15T08:25:41.8187891Z [36;1m  echo -e "\033[0;32m==>\033[0m Requesting OIDC token from '$ACTIONS_ID_TOKEN_REQUEST_URL'"[0m
2025-04-15T08:25:41.8188336Z [36;1m  CC_TOKEN=$(curl -H "Authorization: bearer $ACTIONS_ID_TOKEN_REQUEST_TOKEN" "$ACTIONS_ID_TOKEN_REQUEST_URL&audience=https://codecov.io" | cut -d\" -f6)[0m
2025-04-15T08:25:41.8188679Z [36;1m  echo "CC_TOKEN=$CC_TOKEN" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8188848Z [36;1melif [ -n "" ];[0m
2025-04-15T08:25:41.8188970Z [36;1mthen[0m
2025-04-15T08:25:41.8189106Z [36;1m  echo -e "\033[0;32m==>\033[0m Token set from env"[0m
2025-04-15T08:25:41.8189281Z [36;1m    echo "CC_TOKEN=" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8189424Z [36;1melse[0m
2025-04-15T08:25:41.8189604Z [36;1m  if [ -n "***" ];[0m
2025-04-15T08:25:41.8189729Z [36;1m  then[0m
2025-04-15T08:25:41.8189868Z [36;1m    echo -e "\033[0;32m==>\033[0m Token set from input"[0m
2025-04-15T08:25:41.8190222Z [36;1m    CC_TOKEN=$(echo "***" | tr -d '\n')[0m
2025-04-15T08:25:41.8190393Z [36;1m    echo "CC_TOKEN=$CC_TOKEN" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8190544Z [36;1m  fi[0m
2025-04-15T08:25:41.8190653Z [36;1mfi[0m
2025-04-15T08:25:41.8225000Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.8225181Z env:
2025-04-15T08:25:41.8225291Z   TURBO_FORCE: true
2025-04-15T08:25:41.8225410Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.8225547Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.8225680Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.8225812Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.8225954Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.8226076Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.8226190Z   CC_FORK: false
2025-04-15T08:25:41.8226303Z ##[endgroup]
2025-04-15T08:25:41.8273112Z [0;32m==>[0m Token set from input
2025-04-15T08:25:41.8305357Z ##[group]Run if [ -z "$CC_BRANCH" ] && [ -z "$CC_TOKEN" ] && [ "$CC_FORK" == 'true' ]
2025-04-15T08:25:41.8305619Z [36;1mif [ -z "$CC_BRANCH" ] && [ -z "$CC_TOKEN" ] && [ "$CC_FORK" == 'true' ][0m
2025-04-15T08:25:41.8305809Z [36;1mthen[0m
2025-04-15T08:25:41.8306020Z [36;1m  echo -e "\033[0;32m==>\033[0m Fork detected, setting branch to $GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL"[0m
2025-04-15T08:25:41.8306334Z [36;1m  TOKENLESS="$GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL"[0m
2025-04-15T08:25:41.8306576Z [36;1m  CC_BRANCH="$GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL"[0m
2025-04-15T08:25:41.8306818Z [36;1m  echo "TOKENLESS=$TOKENLESS" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8307023Z [36;1mfi[0m
2025-04-15T08:25:41.8307177Z [36;1m[0m
2025-04-15T08:25:41.8307376Z [36;1mecho "CC_BRANCH=$CC_BRANCH" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8342392Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.8342670Z env:
2025-04-15T08:25:41.8342838Z   TURBO_FORCE: true
2025-04-15T08:25:41.8343053Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.8343283Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.8343504Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.8343727Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.8343969Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.8344160Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.8344278Z   CC_FORK: false
2025-04-15T08:25:41.8344454Z   CC_TOKEN: ***
2025-04-15T08:25:41.8344561Z   CC_BRANCH: 
2025-04-15T08:25:41.8344699Z   GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL: 
2025-04-15T08:25:41.8344906Z   GITHUB_EVENT_PULL_REQUEST_HEAD_REPO_FULL_NAME: 
2025-04-15T08:25:41.8345209Z   GITHUB_REPOSITORY: n8n-io/n8n
2025-04-15T08:25:41.8345346Z ##[endgroup]
2025-04-15T08:25:41.8403062Z ##[group]Run if [ -z "$CC_SHA" ];
2025-04-15T08:25:41.8403274Z [36;1mif [ -z "$CC_SHA" ];[0m
2025-04-15T08:25:41.8403456Z [36;1mthen[0m
2025-04-15T08:25:41.8403616Z [36;1m  CC_SHA="$GITHUB_EVENT_PULL_REQUEST_HEAD_SHA"[0m
2025-04-15T08:25:41.8403778Z [36;1mfi[0m
2025-04-15T08:25:41.8403939Z [36;1mif [ -z "$CC_PR" ] && [ "${GITHUB_EVENT_NAME}" == "pull_request_target" ];[0m
2025-04-15T08:25:41.8404130Z [36;1mthen[0m
2025-04-15T08:25:41.8404250Z [36;1m  CC_PR="$GITHUB_EVENT_NUMBER"[0m
2025-04-15T08:25:41.8404386Z [36;1mfi[0m
2025-04-15T08:25:41.8404489Z [36;1m[0m
2025-04-15T08:25:41.8404610Z [36;1mecho "CC_SHA=$CC_SHA" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8404773Z [36;1mecho "CC_PR=$CC_PR" >> "$GITHUB_ENV"[0m
2025-04-15T08:25:41.8439345Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.8439542Z env:
2025-04-15T08:25:41.8439651Z   TURBO_FORCE: true
2025-04-15T08:25:41.8439793Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.8439949Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.8440084Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.8440221Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.8440384Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.8440507Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.8440710Z   CC_FORK: false
2025-04-15T08:25:41.8440937Z   CC_TOKEN: ***
2025-04-15T08:25:41.8441267Z   CC_BRANCH: 
2025-04-15T08:25:41.8441394Z   CC_PR: 
2025-04-15T08:25:41.8441499Z   CC_SHA: 
2025-04-15T08:25:41.8441611Z   GITHUB_EVENT_NAME: push
2025-04-15T08:25:41.8441739Z   GITHUB_EVENT_NUMBER: 
2025-04-15T08:25:41.8441872Z   GITHUB_EVENT_PULL_REQUEST_HEAD_SHA: 
2025-04-15T08:25:41.8442014Z ##[endgroup]
2025-04-15T08:25:41.8505954Z ##[group]Run ${GITHUB_ACTION_PATH}/dist/codecov.sh
2025-04-15T08:25:41.8506242Z [36;1m${GITHUB_ACTION_PATH}/dist/codecov.sh[0m
2025-04-15T08:25:41.8540920Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T08:25:41.8541192Z env:
2025-04-15T08:25:41.8541395Z   TURBO_FORCE: true
2025-04-15T08:25:41.8541517Z   COVERAGE_ENABLED: true
2025-04-15T08:25:41.8541652Z   GITHUB_REPO_NAME: n8n-io/n8n
2025-04-15T08:25:41.8541789Z   TURBOGHA_PORT: 41230
2025-04-15T08:25:41.8541929Z   TURBO_API: http://localhost:41230
2025-04-15T08:25:41.8542100Z   TURBO_TOKEN: turbogha
2025-04-15T08:25:41.8542229Z   TURBO_TEAM: turbogha
2025-04-15T08:25:41.8542356Z   CC_FORK: false
2025-04-15T08:25:41.8542534Z   CC_TOKEN: ***
2025-04-15T08:25:41.8542651Z   CC_BRANCH: 
2025-04-15T08:25:41.8542760Z   CC_SHA: 
2025-04-15T08:25:41.8560132Z   CC_PR: 
2025-04-15T08:25:41.8560269Z   CC_BINARY: 
2025-04-15T08:25:41.8560386Z   CC_BUILD: 
2025-04-15T08:25:41.8560496Z   CC_BUILD_URL: 
2025-04-15T08:25:41.8560613Z   CC_CODE: 
2025-04-15T08:25:41.8560716Z   CC_DIR: 
2025-04-15T08:25:41.8560822Z   CC_DISABLE_FILE_FIXES: false
2025-04-15T08:25:41.8560959Z   CC_DISABLE_SEARCH: false
2025-04-15T08:25:41.8561083Z   CC_DRY_RUN: false
2025-04-15T08:25:41.8561204Z   CC_ENTERPRISE_URL: 
2025-04-15T08:25:41.8561324Z   CC_ENV: 
2025-04-15T08:25:41.8561425Z   CC_EXCLUDES: 
2025-04-15T08:25:41.8561538Z   CC_FAIL_ON_ERROR: false
2025-04-15T08:25:41.8561661Z   CC_FILES: 
2025-04-15T08:25:41.8561761Z   CC_FLAGS: 
2025-04-15T08:25:41.8561864Z   CC_GCOV_ARGS: 
2025-04-15T08:25:41.8561976Z   CC_GCOV_EXECUTABLE: gcov
2025-04-15T08:25:41.8562101Z   CC_GCOV_IGNORE: 
2025-04-15T08:25:41.8562211Z   CC_GCOV_INCLUDE: 
2025-04-15T08:25:41.8562329Z   CC_GIT_SERVICE: github
2025-04-15T08:25:41.8562464Z   CC_HANDLE_NO_REPORTS_FOUND: false
2025-04-15T08:25:41.8562604Z   CC_JOB_CODE: 
2025-04-15T08:25:41.8562711Z   CC_LEGACY: false
2025-04-15T08:25:41.8562820Z   CC_NAME: 
2025-04-15T08:25:41.8562923Z   CC_NETWORK_FILTER: 
2025-04-15T08:25:41.8563036Z   CC_NETWORK_PREFIX: 
2025-04-15T08:25:41.8563152Z   CC_NETWORK_ROOT_FOLDER: 
2025-04-15T08:25:41.8563275Z   CC_OS: 
2025-04-15T08:25:41.8563383Z   CC_PARENT_SHA: 
2025-04-15T08:25:41.8563500Z   CC_PLUGINS: 
2025-04-15T08:25:41.8563764Z   CC_REPORT_TYPE: 
2025-04-15T08:25:41.8563886Z   CC_SKIP_VALIDATION: false
2025-04-15T08:25:41.8564007Z   CC_SLUG: 
2025-04-15T08:25:41.8564111Z   CC_SWIFT_PROJECT: 
2025-04-15T08:25:41.8564228Z   CC_VERBOSE: false
2025-04-15T08:25:41.8564343Z   CC_VERSION: latest
2025-04-15T08:25:41.8564451Z   CC_YML_PATH: 
2025-04-15T08:25:41.8564559Z ##[endgroup]
2025-04-15T08:25:41.8634268Z      _____          _
2025-04-15T08:25:41.8634639Z     / ____|        | |
2025-04-15T08:25:41.8635093Z    | |     ___   __| | ___  ___ _____   __
2025-04-15T08:25:41.8635470Z    | |    / _ \ / _` |/ _ \/ __/ _ \ \ / /
2025-04-15T08:25:41.8635821Z    | |___| (_) | (_| |  __/ (_| (_) \ V /
2025-04-15T08:25:41.8636186Z     \_____\___/ \__,_|\___|\___\___/ \_/
2025-04-15T08:25:41.8636774Z                            [0;31m Wrapper-0.0.31[0m
2025-04-15T08:25:41.8637156Z                                   
2025-04-15T08:25:41.8683548Z [0;32m==>[0m Detected [0;36mlinux[0m
2025-04-15T08:25:41.8684064Z [0;32m ->[0m Downloading [0;36mhttps://cli.codecov.io/latest/linux/codecov[0m
2025-04-15T08:25:42.0352954Z [0;32m==>[0m Finishing downloading [0;36mlinux:latest[0m
2025-04-15T08:25:42.0972074Z       Version: [0;36mv10.4.0[0m
2025-04-15T08:25:42.0972374Z  
2025-04-15T08:25:42.4463067Z gpg: key 806BB28AED779869: "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" not changed
2025-04-15T08:25:42.4463676Z gpg: Total number processed: 1
2025-04-15T08:25:42.4464614Z gpg:              unchanged: 1
2025-04-15T08:25:42.4465499Z [0;32m==>[0m Verifying GPG signature integrity
2025-04-15T08:25:42.4466420Z [0;32m ->[0m Downloading [0;36mhttps://cli.codecov.io/latest/linux/codecov.SHA256SUM[0m
2025-04-15T08:25:42.4467484Z [0;32m ->[0m Downloading [0;36mhttps://cli.codecov.io/latest/linux/codecov.SHA256SUM.sig[0m
2025-04-15T08:25:42.4468138Z  
2025-04-15T08:25:42.5580289Z gpg: Signature made Wed Apr  9 03:02:55 2025 UTC
2025-04-15T08:25:42.5580710Z gpg:                using RSA key 27034E7FDB850E0BBC2C62FF806BB28AED779869
2025-04-15T08:25:42.5581236Z gpg: Good signature from "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" [unknown]
2025-04-15T08:25:42.5581843Z gpg: WARNING: This key is not certified with a trusted signature!
2025-04-15T08:25:42.5582382Z gpg:          There is no indication that the signature belongs to the owner.
2025-04-15T08:25:42.5582756Z Primary key fingerprint: 2703 4E7F DB85 0E0B BC2C  62FF 806B B28A ED77 9869
2025-04-15T08:25:42.6358264Z codecov: OK
2025-04-15T08:25:42.6364559Z [0;32m==>[0m CLI integrity verified
2025-04-15T08:25:42.6364748Z 
2025-04-15T08:25:42.6846009Z [0;32m ->[0m Token of length 36 detected
2025-04-15T08:25:42.6846527Z [0;32m==>[0m Running upload-coverage
2025-04-15T08:25:42.6854110Z       [0;36m./codecov  upload-coverage -t <redacted> --git-service github --gcov-executable gcov[0m
2025-04-15T08:25:43.1009636Z info - 2025-04-15 08:25:43,100 -- ci service found: github-actions
2025-04-15T08:25:43.1175851Z warning - 2025-04-15 08:25:43,117 -- xcrun is not installed or can't be found.
2025-04-15T08:25:44.2084163Z warning - 2025-04-15 08:25:44,208 -- No gcov data found.
2025-04-15T08:25:44.2086164Z warning - 2025-04-15 08:25:44,208 -- coverage.py is not installed or can't be found.
2025-04-15T08:25:44.3867365Z info - 2025-04-15 08:25:44,386 -- Found 17 coverage files to report
2025-04-15T08:25:44.3867996Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/di/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3868714Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/frontend/@n8n/design-system/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3869510Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/frontend/editor-ui/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3870220Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/nodes-base/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3871172Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/cli/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3871732Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/core/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3872320Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/nodes-langchain/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3872909Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/imap/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3873509Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/frontend/@n8n/chat/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3874132Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/json-schema-to-zod/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3874752Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/client-oauth2/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3875342Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/workflow/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3876572Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/task-runner/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3877500Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/config/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3878209Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/api-types/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3879252Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/permissions/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.3880064Z info - 2025-04-15 08:25:44,386 -- > /home/runner/_work/n8n/n8n/packages/@n8n/codemirror-lang/coverage/cobertura-coverage.xml
2025-04-15T08:25:44.9180951Z info - 2025-04-15 08:25:44,917 -- Your upload is now processing. When finished, results will be available at: https://app.codecov.io/github/n8n-io/n8n/commit/a12c9522d5992a7fc2719644a9cfa4af5cdc3712
2025-04-15T08:25:46.0689367Z info - 2025-04-15 08:25:46,068 -- Process Upload complete
2025-04-15T08:25:46.1669427Z Post job cleanup.
2025-04-15T08:25:46.2254740Z {"level":30,"time":1744704976539,"pid":2599,"hostname":"localhost.localdomain","msg":"Server listening at http://[::1]:41230"}
2025-04-15T08:25:46.2256016Z {"level":30,"time":1744704976540,"pid":2599,"hostname":"localhost.localdomain","msg":"Server listening at http://127.0.0.1:41230"}
2025-04-15T08:25:46.2257179Z {"level":30,"time":1744704976598,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-1","req":{"method":"GET","url":"/","host":"localhost:41230","remoteAddress":"::1","remotePort":55560},"msg":"incoming request"}
2025-04-15T08:25:46.2258205Z {"level":30,"time":1744704976605,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-1","res":{"statusCode":200},"responseTime":6.956178000000364,"msg":"request completed"}
2025-04-15T08:25:46.2259138Z {"level":30,"time":1744704985344,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-2","req":{"method":"PUT","url":"/v8/artifacts/a298d5de6ac02d43?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2259808Z {"level":30,"time":1744704985344,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-2","msg":"Received artifact for a298d5de6ac02d43"}
2025-04-15T08:25:46.2271569Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2275524Z {"level":30,"time":1744704985438,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-2","msg":"Saved artifact for a298d5de6ac02d43"}
2025-04-15T08:25:46.2276134Z {"level":30,"time":1744704985438,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-2","res":{"statusCode":200},"responseTime":93.5939539999963,"msg":"request completed"}
2025-04-15T08:25:46.2277003Z {"level":30,"time":1744704999867,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-3","req":{"method":"PUT","url":"/v8/artifacts/339d1de8e62ae4a3?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2277694Z {"level":30,"time":1744704999867,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-3","msg":"Received artifact for 339d1de8e62ae4a3"}
2025-04-15T08:25:46.2278557Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2279320Z {"level":30,"time":1744704999993,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-3","msg":"Saved artifact for 339d1de8e62ae4a3"}
2025-04-15T08:25:46.2279988Z {"level":30,"time":1744704999993,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-3","res":{"statusCode":200},"responseTime":125.93980900000315,"msg":"request completed"}
2025-04-15T08:25:46.2280846Z {"level":30,"time":1744705008487,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-4","req":{"method":"PUT","url":"/v8/artifacts/8eeffe7c176d5550?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2281557Z {"level":30,"time":1744705008487,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-4","msg":"Received artifact for 8eeffe7c176d5550"}
2025-04-15T08:25:46.2282216Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2282760Z {"level":30,"time":1744705008566,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-4","msg":"Saved artifact for 8eeffe7c176d5550"}
2025-04-15T08:25:46.2283309Z {"level":30,"time":1744705008567,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-4","res":{"statusCode":200},"responseTime":79.4818379999997,"msg":"request completed"}
2025-04-15T08:25:46.2284314Z {"level":30,"time":1744705010091,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-5","req":{"method":"PUT","url":"/v8/artifacts/0b715e7f3d90e2cd?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2284967Z {"level":30,"time":1744705010091,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-5","msg":"Received artifact for 0b715e7f3d90e2cd"}
2025-04-15T08:25:46.2285775Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2286416Z {"level":30,"time":1744705010159,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-5","msg":"Saved artifact for 0b715e7f3d90e2cd"}
2025-04-15T08:25:46.2286966Z {"level":30,"time":1744705010159,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-5","res":{"statusCode":200},"responseTime":67.56926799999928,"msg":"request completed"}
2025-04-15T08:25:46.2287731Z {"level":30,"time":1744705012111,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-6","req":{"method":"PUT","url":"/v8/artifacts/4f4adc92e05059f1?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2288622Z {"level":30,"time":1744705012111,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-6","msg":"Received artifact for 4f4adc92e05059f1"}
2025-04-15T08:25:46.2289295Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2289842Z {"level":30,"time":1744705012177,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-6","msg":"Saved artifact for 4f4adc92e05059f1"}
2025-04-15T08:25:46.2290433Z {"level":30,"time":1744705012177,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-6","res":{"statusCode":200},"responseTime":66.72913100000005,"msg":"request completed"}
2025-04-15T08:25:46.2291266Z {"level":30,"time":1744705013997,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-7","req":{"method":"PUT","url":"/v8/artifacts/5d41e0aa72934740?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2291911Z {"level":30,"time":1744705013997,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-7","msg":"Received artifact for 5d41e0aa72934740"}
2025-04-15T08:25:46.2292588Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2293151Z {"level":30,"time":1744705014062,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-7","msg":"Saved artifact for 5d41e0aa72934740"}
2025-04-15T08:25:46.2293764Z {"level":30,"time":1744705014062,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-7","res":{"statusCode":200},"responseTime":64.68078000000969,"msg":"request completed"}
2025-04-15T08:25:46.2294567Z {"level":30,"time":1744705020921,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-8","req":{"method":"PUT","url":"/v8/artifacts/58a81a1e5c93f91d?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2295244Z {"level":30,"time":1744705020922,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-8","msg":"Received artifact for 58a81a1e5c93f91d"}
2025-04-15T08:25:46.2295869Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2296477Z {"level":30,"time":1744705021002,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-8","msg":"Saved artifact for 58a81a1e5c93f91d"}
2025-04-15T08:25:46.2297028Z {"level":30,"time":1744705021002,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-8","res":{"statusCode":200},"responseTime":80.50738899999124,"msg":"request completed"}
2025-04-15T08:25:46.2297807Z {"level":30,"time":1744705022525,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-9","req":{"method":"PUT","url":"/v8/artifacts/f7b9a92ea8bfe464?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55568},"msg":"incoming request"}
2025-04-15T08:25:46.2298625Z {"level":30,"time":1744705022525,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-9","msg":"Received artifact for f7b9a92ea8bfe464"}
2025-04-15T08:25:46.2299343Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2299934Z {"level":30,"time":1744705022649,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-9","msg":"Saved artifact for f7b9a92ea8bfe464"}
2025-04-15T08:25:46.2300480Z {"level":30,"time":1744705022649,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-9","res":{"statusCode":200},"responseTime":124.23534599998675,"msg":"request completed"}
2025-04-15T08:25:46.2301356Z {"level":30,"time":1744705174496,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-a","req":{"method":"PUT","url":"/v8/artifacts/828b44784d0baac3?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55264},"msg":"incoming request"}
2025-04-15T08:25:46.2302006Z {"level":30,"time":1744705174496,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-a","msg":"Received artifact for 828b44784d0baac3"}
2025-04-15T08:25:46.2302680Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2303218Z {"level":30,"time":1744705174661,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-a","msg":"Saved artifact for 828b44784d0baac3"}
2025-04-15T08:25:46.2303796Z {"level":30,"time":1744705174662,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-a","res":{"statusCode":200},"responseTime":165.47563899998204,"msg":"request completed"}
2025-04-15T08:25:46.2304575Z {"level":30,"time":1744705176527,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-b","req":{"method":"PUT","url":"/v8/artifacts/2a23c466591973d6?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":55264},"msg":"incoming request"}
2025-04-15T08:25:46.2305236Z {"level":30,"time":1744705176527,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-b","msg":"Received artifact for 2a23c466591973d6"}
2025-04-15T08:25:46.2305938Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2306517Z {"level":30,"time":1744705176625,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-b","msg":"Saved artifact for 2a23c466591973d6"}
2025-04-15T08:25:46.2307127Z {"level":30,"time":1744705176626,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-b","res":{"statusCode":200},"responseTime":98.09594100000686,"msg":"request completed"}
2025-04-15T08:25:46.2307953Z {"level":30,"time":1744705180291,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-c","req":{"method":"PUT","url":"/v8/artifacts/3a55834af624c1ef?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":51032},"msg":"incoming request"}
2025-04-15T08:25:46.2308645Z {"level":30,"time":1744705180291,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-c","msg":"Received artifact for 3a55834af624c1ef"}
2025-04-15T08:25:46.2309419Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2309944Z {"level":30,"time":1744705180365,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-c","msg":"Saved artifact for 3a55834af624c1ef"}
2025-04-15T08:25:46.2310488Z {"level":30,"time":1744705180365,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-c","res":{"statusCode":200},"responseTime":73.92377100000158,"msg":"request completed"}
2025-04-15T08:25:46.2311241Z {"level":30,"time":1744705194266,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-d","req":{"method":"PUT","url":"/v8/artifacts/4aa76629a01475af?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":51032},"msg":"incoming request"}
2025-04-15T08:25:46.2311897Z {"level":30,"time":1744705194267,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-d","msg":"Received artifact for 4aa76629a01475af"}
2025-04-15T08:25:46.2312644Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2313209Z {"level":30,"time":1744705194342,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-d","msg":"Saved artifact for 4aa76629a01475af"}
2025-04-15T08:25:46.2313853Z {"level":30,"time":1744705194342,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-d","res":{"statusCode":200},"responseTime":75.90584299998591,"msg":"request completed"}
2025-04-15T08:25:46.2314614Z {"level":30,"time":1744705338343,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-e","req":{"method":"PUT","url":"/v8/artifacts/658695025d9a2dd5?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":40410},"msg":"incoming request"}
2025-04-15T08:25:46.2315349Z {"level":30,"time":1744705338343,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-e","msg":"Received artifact for 658695025d9a2dd5"}
2025-04-15T08:25:46.2315956Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2316537Z {"level":30,"time":1744705338415,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-e","msg":"Saved artifact for 658695025d9a2dd5"}
2025-04-15T08:25:46.2317074Z {"level":30,"time":1744705338416,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-e","res":{"statusCode":200},"responseTime":72.9034189999802,"msg":"request completed"}
2025-04-15T08:25:46.2317837Z {"level":30,"time":1744705514260,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-f","req":{"method":"PUT","url":"/v8/artifacts/7c72d9a60d9d80fe?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":35820},"msg":"incoming request"}
2025-04-15T08:25:46.2318476Z {"level":30,"time":1744705514260,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Received artifact for 7c72d9a60d9d80fe"}
2025-04-15T08:25:46.2318864Z Reserved cache 9eae173e-193d-423e-8965-2469aa5d416e
2025-04-15T08:25:46.2319273Z {"level":30,"time":1744705514412,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Reserved cache 9eae173e-193d-423e-8965-2469aa5d416e"}
2025-04-15T08:25:46.2320191Z Cache Size: ~0 MB (9796 B)
2025-04-15T08:25:46.2320337Z Cache saved successfully
2025-04-15T08:25:46.2320514Z Saved cache 9eae173e-193d-423e-8965-2469aa5d416e
2025-04-15T08:25:46.2321045Z {"level":30,"time":1744705514526,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Saved cache 9eae173e-193d-423e-8965-2469aa5d416e for 7c72d9a60d9d80fe"}
2025-04-15T08:25:46.2321614Z {"level":30,"time":1744705514526,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Saved artifact for 7c72d9a60d9d80fe"}
2025-04-15T08:25:46.2322183Z {"level":30,"time":1744705514526,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-f","res":{"statusCode":200},"responseTime":266.57028600003105,"msg":"request completed"}
2025-04-15T08:25:46.2322961Z {"level":30,"time":1744705516424,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-g","req":{"method":"PUT","url":"/v8/artifacts/361217717b6c27e1?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":35820},"msg":"incoming request"}
2025-04-15T08:25:46.2323606Z {"level":30,"time":1744705516424,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-g","msg":"Received artifact for 361217717b6c27e1"}
2025-04-15T08:25:46.2324235Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2324797Z {"level":30,"time":1744705516478,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-g","msg":"Saved artifact for 361217717b6c27e1"}
2025-04-15T08:25:46.2325343Z {"level":30,"time":1744705516478,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-g","res":{"statusCode":200},"responseTime":54.39579700003378,"msg":"request completed"}
2025-04-15T08:25:46.2326104Z {"level":30,"time":1744705534575,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-h","req":{"method":"PUT","url":"/v8/artifacts/41b11a462c70ffbc?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":35820},"msg":"incoming request"}
2025-04-15T08:25:46.2326796Z {"level":30,"time":1744705534575,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-h","msg":"Received artifact for 41b11a462c70ffbc"}
2025-04-15T08:25:46.2327410Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2328055Z {"level":30,"time":1744705534634,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-h","msg":"Saved artifact for 41b11a462c70ffbc"}
2025-04-15T08:25:46.2328775Z {"level":30,"time":1744705534634,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-h","res":{"statusCode":200},"responseTime":59.254644999979064,"msg":"request completed"}
2025-04-15T08:25:46.2329538Z {"level":30,"time":1744705536024,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-i","req":{"method":"PUT","url":"/v8/artifacts/63907ce39ab6a49b?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":35820},"msg":"incoming request"}
2025-04-15T08:25:46.2330292Z {"level":30,"time":1744705536024,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-i","msg":"Received artifact for 63907ce39ab6a49b"}
2025-04-15T08:25:46.2330919Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2331465Z {"level":30,"time":1744705536100,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-i","msg":"Saved artifact for 63907ce39ab6a49b"}
2025-04-15T08:25:46.2332015Z {"level":30,"time":1744705536100,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-i","res":{"statusCode":200},"responseTime":76.10702699993271,"msg":"request completed"}
2025-04-15T08:25:46.2332771Z {"level":30,"time":1744705539130,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-j","req":{"method":"PUT","url":"/v8/artifacts/b0396722b2c10a8b?slug=turbogha","host":"localhost:41230","remoteAddress":"::1","remotePort":35820},"msg":"incoming request"}
2025-04-15T08:25:46.2333418Z {"level":30,"time":1744705539130,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-j","msg":"Received artifact for b0396722b2c10a8b"}
2025-04-15T08:25:46.2334019Z ##[warning]Unexpected 400 error: Unknown error
2025-04-15T08:25:46.2334540Z {"level":30,"time":1744705539191,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-j","msg":"Saved artifact for b0396722b2c10a8b"}
2025-04-15T08:25:46.2335082Z {"level":30,"time":1744705539191,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-j","res":{"statusCode":200},"responseTime":60.90971399995033,"msg":"request completed"}
2025-04-15T08:25:46.2335772Z {"level":30,"time":1744705546221,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-k","req":{"method":"DELETE","url":"/shutdown","host":"localhost:41230","remoteAddress":"::1","remotePort":58732},"msg":"incoming request"}
2025-04-15T08:25:46.2336475Z {"level":30,"time":1744705546221,"pid":2599,"hostname":"localhost.localdomain","reqId":"req-k","res":{"statusCode":200},"responseTime":0.26419300003908575,"msg":"request completed"}
2025-04-15T08:25:46.2336748Z 
2025-04-15T08:25:46.2762053Z Post job cleanup.
2025-04-15T08:25:46.3839461Z Post job cleanup.
2025-04-15T08:25:46.4270960Z [command]/usr/bin/git version
2025-04-15T08:25:46.4292432Z git version 2.46.0
2025-04-15T08:25:46.4310376Z Copying '/home/runner/.gitconfig' to '/home/runner/_work/_temp/4ab19d7c-faa3-45ce-a9e8-560c3f978052/.gitconfig'
2025-04-15T08:25:46.4315382Z Temporarily overriding HOME='/home/runner/_work/_temp/4ab19d7c-faa3-45ce-a9e8-560c3f978052' before making global git config changes
2025-04-15T08:25:46.4315877Z Adding repository directory to the temporary git global config as a safe directory
2025-04-15T08:25:46.4317860Z [command]/usr/bin/git config --global --add safe.directory /home/runner/_work/n8n/n8n
2025-04-15T08:25:46.4337913Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-15T08:25:46.4355766Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-15T08:25:46.4532014Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-15T08:25:46.4544797Z http.https://github.com/.extraheader
2025-04-15T08:25:46.4550887Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-04-15T08:25:46.4570871Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-15T08:25:46.4809618Z Cleaning up orphan processes
