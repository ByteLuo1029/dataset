##[group]Run make test-go-unit
[36;1mmake test-go-unit[0m
0

APP_ID: ***
APP_INSTALLATION_ID: ***
PRIVATE_KEY: ***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
***
##[endgroup]
.bingo/Variables.mk:22: warning: overriding recipe for target '/home/runner/go/bin/drone-v1.5.0'
.bingo/Variables.mk:22: warning: ignoring old recipe for target '/home/runner/go/bin/drone-v1.5.0'
backend unit tests
go test  -tags="enterprise" -v -short -timeout=30m ./... ./.citools/bra/... ./.citools/cog/... ./.citools/cue/... ./.citools/golangci-lint/... ./.citools/jb/... ./.citools/lefthook/... ./.citools/swagger/... ./apps/advisor/... ./apps/alerting/notifications/... ./apps/dashboard/... ./apps/folder/... ./apps/investigations/... ./apps/playlist/... ./pkg/aggregator/... ./pkg/apimachinery/... ./pkg/apis/secret/... ./pkg/apiserver/... ./pkg/build/... ./pkg/build/wire/... ./pkg/codegen/... ./pkg/plugins/codegen/... ./pkg/promlib/... ./pkg/semconv/... ./pkg/storage/unified/apistore/... ./pkg/storage/unified/resource/... ./pkg/util/xorm/...
go: downloading github.com/grafana/dataplane/examples v0.0.1
go: downloading github.com/DATA-DOG/go-sqlmock v1.5.2
go: downloading github.com/mocktools/go-smtp-mock/v2 v2.3.1
go: downloading github.com/grafana/grafana-api-golang-client v0.27.0
go: downloading github.com/alicebob/miniredis/v2 v2.33.0
go: downloading github.com/madflojo/testcerts v1.1.1
go: downloading github.com/grafana/grafana-openapi-client-go v0.0.0-20231213163343-bd475d63fb79
go: downloading github.com/migueleliasweb/go-github-mock v1.1.0
go: downloading go.uber.org/goleak v1.3.0
go: downloading dagger.io/dagger v0.17.2
go: downloading github.com/moby/moby v27.5.1+incompatible
go: downloading github.com/alicebob/miniredis v2.5.0+incompatible
go: downloading github.com/drone/drone-cli v1.8.0
go: downloading github.com/matryer/is v1.4.1
go: downloading github.com/google/go-github/v64 v64.0.0
go: downloading github.com/alicebob/gopher-json v0.0.0-20200520072559-a9ecdc9d1d3a
go: downloading github.com/yuin/gopher-lua v1.1.1
go: downloading github.com/drone-runners/drone-runner-docker v1.8.3
go: downloading github.com/drone/drone-go v1.7.1
go: downloading github.com/drone/envsubst v1.0.3
go: downloading github.com/drone/runner-go v1.12.0
go: downloading github.com/ghodss/yaml v1.0.1-0.20190212211648-25d852aebe32
go: downloading go.starlark.net v0.0.0-20230525235612-a134d8f9ddca
go: downloading github.com/Khan/genqlient v0.8.0
go: downloading github.com/vektah/gqlparser/v2 v2.5.23
go: downloading github.com/buildkite/yaml v2.1.0+incompatible
go: downloading github.com/adrg/xdg v0.5.3
go: downloading github.com/99designs/gqlgen v0.17.70
go: downloading github.com/bmatcuk/doublestar v1.3.4
go: downloading go.opentelemetry.io/otel/exporters/otlp/otlplog/otlploggrpc v0.11.0
go: downloading go.opentelemetry.io/otel/exporters/otlp/otlplog/otlploghttp v0.11.0
go: downloading go.opentelemetry.io/otel/exporters/otlp/otlpmetric/otlpmetricgrpc v1.35.0
go: downloading go.opentelemetry.io/otel/exporters/otlp/otlpmetric/otlpmetrichttp v1.35.0
go: downloading go.opentelemetry.io/otel/log v0.11.0
go: downloading go.opentelemetry.io/otel/sdk/log v0.11.0
go: downloading github.com/sosodev/duration v1.3.1
go: downloading github.com/opencontainers/image-spec v1.1.0
go: downloading github.com/opencontainers/go-digest v1.0.0
go: downloading github.com/distribution/reference v0.6.0
go: downloading github.com/docker/go-connections v0.5.0
go: downloading github.com/moby/docker-image-spec v1.3.1
go: warning: "./.citools/bra/..." matched no packages
go: warning: "./.citools/cog/..." matched no packages
go: warning: "./.citools/cue/..." matched no packages
go: warning: "./.citools/golangci-lint/..." matched no packages
go: warning: "./.citools/jb/..." matched no packages
go: warning: "./.citools/lefthook/..." matched no packages
go: warning: "./.citools/swagger/..." matched no packages
?   	github.com/grafana/grafana	[no test files]
?   	github.com/grafana/grafana/apps/alerting/common	[no test files]
?   	github.com/grafana/grafana/devenv/dev-dashboards	[no test files]
?   	github.com/grafana/grafana/devenv/docker/blocks/alert_webhook_listener	[no test files]
?   	github.com/grafana/grafana/devenv/docker/blocks/slow_proxy	[no test files]
?   	github.com/grafana/grafana/devenv/docker/blocks/stateful_webhook	[no test files]
?   	github.com/grafana/grafana/devenv/docker/ha-test-unified-alerting	[no test files]
?   	github.com/grafana/grafana/devenv/jsonnet	[no test files]
=== RUN   TestAPI_AdminProvisioningReload_AccessControl
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_work_for_dashboards_with_specific_scope
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_work_for_dashboards_with_broader_scope
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_dashboard_with_wrong_scope
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_dashboard_with_no_permission
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_work_for_datasources_with_specific_scope
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_datasources_with_no_permission
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_work_for_plugins_with_specific_scope
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_plugins_with_no_permission
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_alerting_with_no_permission
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_work_for_alert_rules_with_specific_scope
=== RUN   TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_alerting_with_no_permission#01
--- PASS: TestAPI_AdminProvisioningReload_AccessControl (0.02s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_work_for_dashboards_with_specific_scope (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_work_for_dashboards_with_broader_scope (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_dashboard_with_wrong_scope (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_dashboard_with_no_permission (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_work_for_datasources_with_specific_scope (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_datasources_with_no_permission (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_work_for_plugins_with_specific_scope (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_plugins_with_no_permission (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_alerting_with_no_permission (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_work_for_alert_rules_with_specific_scope (0.00s)
--- PASS: TestAPI_AdminProvisioningReload_AccessControl/should_fail_for_alerting_with_no_permission#01 (0.00s)
=== RUN   TestAPI_AdminGetSettings
=== RUN   TestAPI_AdminGetSettings/should_return_all_settings
=== RUN   TestAPI_AdminGetSettings/should_only_return_auth.saml_settings
=== RUN   TestAPI_AdminGetSettings/should_only_partial_properties_from_auth.saml_and_auth.proxy_settings
--- PASS: TestAPI_AdminGetSettings (0.01s)
--- PASS: TestAPI_AdminGetSettings/should_return_all_settings (0.00s)
--- PASS: TestAPI_AdminGetSettings/should_only_return_auth.saml_settings (0.00s)
--- PASS: TestAPI_AdminGetSettings/should_only_partial_properties_from_auth.saml_and_auth.proxy_settings (0.00s)
=== RUN   TestAdmin_AccessControl
=== RUN   TestAdmin_AccessControl/AdminGetStats_should_return_200_for_user_with_correct_permissions
=== RUN   TestAdmin_AccessControl/AdminGetStats_should_return_403_for_user_without_required_permissions
=== RUN   TestAdmin_AccessControl/AdminGetSettings_should_return_200_for_user_with_correct_permissions
=== RUN   TestAdmin_AccessControl/AdminGetSettings_should_return_403_for_user_without_required_permissions
--- PASS: TestAdmin_AccessControl (0.01s)
--- PASS: TestAdmin_AccessControl/AdminGetStats_should_return_200_for_user_with_correct_permissions (0.00s)
--- PASS: TestAdmin_AccessControl/AdminGetStats_should_return_403_for_user_without_required_permissions (0.00s)
--- PASS: TestAdmin_AccessControl/AdminGetSettings_should_return_200_for_user_with_correct_permissions (0.00s)
--- PASS: TestAdmin_AccessControl/AdminGetSettings_should_return_403_for_user_without_required_permissions (0.00s)
=== RUN   TestAdminAPIEndpoint
=== RUN   TestAdminAPIEndpoint/Given_a_server_admin_attempts_to_remove_themselves_as_an_admin
=== RUN   TestAdminAPIEndpoint/Given_a_server_admin_attempts_to_remove_themselves_as_an_admin/When_calling_PUT_on_/api/admin/users/1/permissions
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_himself_from_all_devices
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_himself_from_all_devices/Should_not_be_allowed_when_calling_POST_on_/api/admin/users/1/logout
admin_users_test.go:425: Route handler invoked url /api/admin/users/1/logout
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_a_non-existing_user_from_all_devices
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_a_non-existing_user_from_all_devices/Should_return_not_found_when_calling_POST_on_/api/admin/users/200/logout
admin_users_test.go:425: Route handler invoked url /api/admin/users/200/logout
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_revoke_an_auth_token_for_a_non-existing_user
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_revoke_an_auth_token_for_a_non-existing_user/Should_return_not_found_when_calling_POST_on_/api/admin/users/200/revoke-auth-token
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_gets_auth_tokens_for_a_non-existing_user
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_gets_auth_tokens_for_a_non-existing_user/Should_return_not_found_when_calling_GET_on_/api/admin/users/200/auth-tokens
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_enable/disable_a_nonexistent_user
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_enable/disable_a_nonexistent_user/Should_return_user_not_found_on_a_POST_request_/api/admin/users/42/enable
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_enable/disable_a_nonexistent_user/Should_return_user_not_found_on_a_POST_request_/api/admin/users/42/disable
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_disable/enable_external_user
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_disable/enable_external_user/Should_return_Could_not_disable_external_user_error_/api/admin/users/42/disable
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_disable/enable_external_user/Should_return_Could_not_enable_external_user_error_/api/admin/users/42/enable
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_delete_a_nonexistent_user
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_delete_a_nonexistent_user/Should_return_user_not_found_error_/api/admin/users/42
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/Without_an_organization
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/Without_an_organization/Should_create_the_user_/api/admin/users
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_an_organization
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_an_organization/Should_create_the_user_/api/admin/users
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_a_nonexistent_organization
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_a_nonexistent_organization/Should_create_the_user_/api/admin/users
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user_with_an_already_existing_email/login
=== RUN   TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user_with_an_already_existing_email/login/Should_return_an_error_/api/admin/users
--- PASS: TestAdminAPIEndpoint (0.01s)
--- PASS: TestAdminAPIEndpoint/Given_a_server_admin_attempts_to_remove_themselves_as_an_admin (0.00s)
--- PASS: TestAdminAPIEndpoint/Given_a_server_admin_attempts_to_remove_themselves_as_an_admin/When_calling_PUT_on_/api/admin/users/1/permissions (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_himself_from_all_devices (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_himself_from_all_devices/Should_not_be_allowed_when_calling_POST_on_/api/admin/users/1/logout (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_a_non-existing_user_from_all_devices (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_logout_a_non-existing_user_from_all_devices/Should_return_not_found_when_calling_POST_on_/api/admin/users/200/logout (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_revoke_an_auth_token_for_a_non-existing_user (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_revoke_an_auth_token_for_a_non-existing_user/Should_return_not_found_when_calling_POST_on_/api/admin/users/200/revoke-auth-token (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_gets_auth_tokens_for_a_non-existing_user (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_gets_auth_tokens_for_a_non-existing_user/Should_return_not_found_when_calling_GET_on_/api/admin/users/200/auth-tokens (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_enable/disable_a_nonexistent_user (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_enable/disable_a_nonexistent_user/Should_return_user_not_found_on_a_POST_request_/api/admin/users/42/enable (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_enable/disable_a_nonexistent_user/Should_return_user_not_found_on_a_POST_request_/api/admin/users/42/disable (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_disable/enable_external_user (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_disable/enable_external_user/Should_return_Could_not_disable_external_user_error_/api/admin/users/42/disable (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_disable/enable_external_user/Should_return_Could_not_enable_external_user_error_/api/admin/users/42/enable (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_delete_a_nonexistent_user (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_delete_a_nonexistent_user/Should_return_user_not_found_error_/api/admin/users/42 (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/Without_an_organization (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/Without_an_organization/Should_create_the_user_/api/admin/users (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_an_organization (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_an_organization/Should_create_the_user_/api/admin/users (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_a_nonexistent_organization (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user/With_a_nonexistent_organization/Should_create_the_user_/api/admin/users (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user_with_an_already_existing_email/login (0.00s)
--- PASS: TestAdminAPIEndpoint/When_a_server_admin_attempts_to_create_a_user_with_an_already_existing_email/login/Should_return_an_error_/api/admin/users (0.00s)
=== RUN   Test_AdminUpdateUserPermissions
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_OAuth_user_if_Grafana_Admin_role_is_not_synced
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_OAuth_user_if_OAuth_provider_is_not_enabled
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_OAuth_user_if_org_roles_are_not_being_synced
=== RUN   Test_AdminUpdateUserPermissions/Should_not_allow_updating_an_externally_synced_OAuth_user
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_SAML_user_if_org_roles_are_not_being_synced
=== RUN   Test_AdminUpdateUserPermissions/Should_not_allow_updating_an_externally_synced_SAML_user
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_JWT_user_if_Grafana_Admin_role_is_not_synced
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_JWT_user_if_JWT_provider_is_not_enabled
=== RUN   Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_JWT_user_if_org_roles_are_not_being_synced
=== RUN   Test_AdminUpdateUserPermissions/Should_not_allow_updating_an_externally_synced_JWT_user
--- PASS: Test_AdminUpdateUserPermissions (0.01s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_OAuth_user_if_Grafana_Admin_role_is_not_synced (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_OAuth_user_if_OAuth_provider_is_not_enabled (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_OAuth_user_if_org_roles_are_not_being_synced (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_not_allow_updating_an_externally_synced_OAuth_user (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_SAML_user_if_org_roles_are_not_being_synced (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_not_allow_updating_an_externally_synced_SAML_user (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_JWT_user_if_Grafana_Admin_role_is_not_synced (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_JWT_user_if_JWT_provider_is_not_enabled (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_allow_updating_an_externally_synced_JWT_user_if_org_roles_are_not_being_synced (0.00s)
--- PASS: Test_AdminUpdateUserPermissions/Should_not_allow_updating_an_externally_synced_JWT_user (0.00s)
=== RUN   TestAPI_Annotations
=== RUN   TestAPI_Annotations/should_be_able_to_fetch_annotations_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_fetch_annotations_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_fetch_annotation_by_id_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_fetch_annotation_by_id_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_fetch_dashboard_annotation_by_id_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_fetch_dashboard_annotation_by_id_with_correct_folder_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_not_be_able_to_fetch_dashboard_annotation_by_id_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_fetch_annotation_tags_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_fetch_annotation_tags_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_update_dashboard_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_update_dashboard_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_update_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_update_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_not_be_able_to_update_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_update_organization_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_update_organization_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_patch_dashboard_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_patch_dashboard_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_patch_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_patch_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_not_be_able_to_patch_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_patch_organization_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_patch_organization_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_create_dashboard_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_create_dashboard_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_create_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_create_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_not_be_able_to_create_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_create_organization_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_create_organization_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_delete_dashboard_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_delete_dashboard_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_delete_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_delete_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_not_be_able_to_delete_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_delete_organization_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_delete_organization_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_create_graphite_annotation_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_create_graphite_annotation_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_mass_delete_dashboard_annotations_with_correct_permission
=== RUN   TestAPI_Annotations/should_not_be_able_to_mass_delete_dashboard_annotations_without_correct_permission
=== RUN   TestAPI_Annotations/should_be_able_to_mass_delete_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_be_able_to_mass_delete_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled
=== RUN   TestAPI_Annotations/should_not_be_able_to_mass_delete_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled
--- PASS: TestAPI_Annotations (0.09s)
--- PASS: TestAPI_Annotations/should_be_able_to_fetch_annotations_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_fetch_annotations_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_fetch_annotation_by_id_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_fetch_annotation_by_id_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_fetch_dashboard_annotation_by_id_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_fetch_dashboard_annotation_by_id_with_correct_folder_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_fetch_dashboard_annotation_by_id_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_fetch_annotation_tags_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_fetch_annotation_tags_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_update_dashboard_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_update_dashboard_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_update_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_update_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_update_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_update_organization_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_update_organization_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_patch_dashboard_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_patch_dashboard_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_patch_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_patch_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_patch_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_patch_organization_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_patch_organization_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_create_dashboard_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_create_dashboard_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_create_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_create_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_create_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_create_organization_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_create_organization_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_delete_dashboard_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_delete_dashboard_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_delete_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_delete_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_delete_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_delete_organization_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_delete_organization_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_create_graphite_annotation_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_create_graphite_annotation_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_mass_delete_dashboard_annotations_with_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_mass_delete_dashboard_annotations_without_correct_permission (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_mass_delete_dashboard_annotation_with_correct_dashboard_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_be_able_to_mass_delete_dashboard_annotation_with_correct_folder_scope_with_annotationPermissionUpdate_enabled (0.00s)
--- PASS: TestAPI_Annotations/should_not_be_able_to_mass_delete_dashboard_annotation_with_the_old_dashboard_scope_when_annotationPermissionUpdate_enabled (0.00s)
=== RUN   TestService_AnnotationTypeScopeResolver
=== RUN   TestService_AnnotationTypeScopeResolver/correctly_resolves_dashboard_annotations
=== RUN   TestService_AnnotationTypeScopeResolver/correctly_resolves_organization_annotations
=== RUN   TestService_AnnotationTypeScopeResolver/invalid_annotation_ID
=== RUN   TestService_AnnotationTypeScopeResolver/malformed_scope
=== RUN   TestService_AnnotationTypeScopeResolver/correctly_resolves_organization_annotations_with_feature_toggle
=== RUN   TestService_AnnotationTypeScopeResolver/correctly_resolves_annotations_from_root_dashboard_with_feature_toggle
=== RUN   TestService_AnnotationTypeScopeResolver/correctly_resolves_annotations_from_dashboard_in_a_folder_with_feature_toggle
--- PASS: TestService_AnnotationTypeScopeResolver (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/correctly_resolves_dashboard_annotations (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/correctly_resolves_organization_annotations (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/invalid_annotation_ID (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/malformed_scope (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/correctly_resolves_organization_annotations_with_feature_toggle (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/correctly_resolves_annotations_from_root_dashboard_with_feature_toggle (0.00s)
--- PASS: TestService_AnnotationTypeScopeResolver/correctly_resolves_annotations_from_dashboard_in_a_folder_with_feature_toggle (0.00s)
=== RUN   TestBasicAuthenticatedRequest
=== RUN   TestBasicAuthenticatedRequest/Given_a_valid_set_of_basic_auth_credentials
=== RUN   TestBasicAuthenticatedRequest/Given_an_invalid_set_of_basic_auth_credentials
--- PASS: TestBasicAuthenticatedRequest (0.00s)
--- PASS: TestBasicAuthenticatedRequest/Given_a_valid_set_of_basic_auth_credentials (0.00s)
--- PASS: TestBasicAuthenticatedRequest/Given_an_invalid_set_of_basic_auth_credentials (0.00s)
=== RUN   TestHTTPServer_GetDashboardPermissionList
=== RUN   TestHTTPServer_GetDashboardPermissionList/should_not_be_able_to_list_acl_when_user_does_not_have_permission_to_do_so
=== RUN   TestHTTPServer_GetDashboardPermissionList/should_be_able_to_list_acl_with_correct_permission
=== RUN   TestHTTPServer_GetDashboardPermissionList/should_filter_out_hidden_users_from_acl
--- PASS: TestHTTPServer_GetDashboardPermissionList (0.01s)
--- PASS: TestHTTPServer_GetDashboardPermissionList/should_not_be_able_to_list_acl_when_user_does_not_have_permission_to_do_so (0.00s)
--- PASS: TestHTTPServer_GetDashboardPermissionList/should_be_able_to_list_acl_with_correct_permission (0.00s)
--- PASS: TestHTTPServer_GetDashboardPermissionList/should_filter_out_hidden_users_from_acl (0.00s)
=== RUN   TestHTTPServer_UpdateDashboardPermissions
=== RUN   TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_update_acl_when_user_does_not_have_permission_to_do_so
=== RUN   TestHTTPServer_UpdateDashboardPermissions/should_be_able_to_update_acl_with_correct_permissions
=== RUN   TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_specify_team_and_user_in_same_acl
=== RUN   TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_specify_team_and_role_in_same_acl
=== RUN   TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_specify_user_and_role_in_same_acl
--- PASS: TestHTTPServer_UpdateDashboardPermissions (0.01s)
--- PASS: TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_update_acl_when_user_does_not_have_permission_to_do_so (0.00s)
--- PASS: TestHTTPServer_UpdateDashboardPermissions/should_be_able_to_update_acl_with_correct_permissions (0.00s)
--- PASS: TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_specify_team_and_user_in_same_acl (0.00s)
--- PASS: TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_specify_team_and_role_in_same_acl (0.00s)
--- PASS: TestHTTPServer_UpdateDashboardPermissions/should_not_be_able_to_specify_user_and_role_in_same_acl (0.00s)
=== RUN   TestHTTPServer_DeleteDashboardSnapshot
=== RUN   TestHTTPServer_DeleteDashboardSnapshot/User_should_not_be_able_to_delete_snapshot_without_permissions
=== RUN   TestHTTPServer_DeleteDashboardSnapshot/User_should_be_able_to_delete_snapshot_with_correct_permissions
=== RUN   TestHTTPServer_DeleteDashboardSnapshot/User_should_not_be_able_to_delete_snapshot_if_fetching_dashboard_fails
=== RUN   TestHTTPServer_DeleteDashboardSnapshot/User_should_be_able_to_delete_snapshot_if_connected_dashboard_no_longer_exists
=== RUN   TestHTTPServer_DeleteDashboardSnapshot/User_should_be_able_to_delete_when_user_is_creator_but_does_not_have_permissions_to_edit_dashboard
--- PASS: TestHTTPServer_DeleteDashboardSnapshot (0.01s)
--- PASS: TestHTTPServer_DeleteDashboardSnapshot/User_should_not_be_able_to_delete_snapshot_without_permissions (0.00s)
--- PASS: TestHTTPServer_DeleteDashboardSnapshot/User_should_be_able_to_delete_snapshot_with_correct_permissions (0.00s)
--- PASS: TestHTTPServer_DeleteDashboardSnapshot/User_should_not_be_able_to_delete_snapshot_if_fetching_dashboard_fails (0.00s)
--- PASS: TestHTTPServer_DeleteDashboardSnapshot/User_should_be_able_to_delete_snapshot_if_connected_dashboard_no_longer_exists (0.00s)
--- PASS: TestHTTPServer_DeleteDashboardSnapshot/User_should_be_able_to_delete_when_user_is_creator_but_does_not_have_permissions_to_edit_dashboard (0.00s)
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_user_is_anonymous
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_user_is_anonymous/Should_be_able_to_delete_a_snapshot_when_calling_GET_on_/api/snapshots-delete/12345
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_gracefully_delete_local_snapshot_when_remote_snapshot_has_already_been_removed_when_calling_DELETE_on_/api/snapshots/12345
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_fail_to_delete_local_snapshot_when_an_unexpected_500_error_occurs_when_calling_DELETE_on_/api/snapshots/12345
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_fail_to_delete_local_snapshot_when_an_unexpected_remote_error_occurs_when_calling_DELETE_on_/api/snapshots/12345
=== RUN   TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_be_able_to_read_a_snapshot's_unencrypted_data_when_calling_GET_on_/api/snapshots/12345
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot (0.01s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_user_is_anonymous (0.00s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_user_is_anonymous/Should_be_able_to_delete_a_snapshot_when_calling_GET_on_/api/snapshots-delete/12345 (0.00s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot (0.00s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_gracefully_delete_local_snapshot_when_remote_snapshot_has_already_been_removed_when_calling_DELETE_on_/api/snapshots/12345 (0.00s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_fail_to_delete_local_snapshot_when_an_unexpected_500_error_occurs_when_calling_DELETE_on_/api/snapshots/12345 (0.00s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_fail_to_delete_local_snapshot_when_an_unexpected_remote_error_occurs_when_calling_DELETE_on_/api/snapshots/12345 (0.00s)
--- PASS: TestDashboardSnapshotAPIEndpoint_singleSnapshot/When_deleting_an_external_snapshot/Should_be_able_to_read_a_snapshot's_unencrypted_data_when_calling_GET_on_/api/snapshots/12345 (0.00s)
=== RUN   TestGetDashboardSnapshotNotFound
=== RUN   TestGetDashboardSnapshotNotFound/GET_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345
=== RUN   TestGetDashboardSnapshotNotFound/DELETE_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345
=== RUN   TestGetDashboardSnapshotNotFound/GET_/snapshots-delete/{deleteKey}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots-delete/12345
--- PASS: TestGetDashboardSnapshotNotFound (0.00s)
--- PASS: TestGetDashboardSnapshotNotFound/GET_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotNotFound/DELETE_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotNotFound/GET_/snapshots-delete/{deleteKey}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots-delete/12345 (0.00s)
=== RUN   TestGetDashboardSnapshotFailure
=== RUN   TestGetDashboardSnapshotFailure/GET_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345
=== RUN   TestGetDashboardSnapshotFailure/GET_/snapshots/{key}_should_return_403_when_snapshot_is_disabled_/api/snapshots/12345
=== RUN   TestGetDashboardSnapshotFailure/DELETE_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345
=== RUN   TestGetDashboardSnapshotFailure/DELETE_/snapshots/{key}_should_return_403_when_snapshot_is_disabled_/api/snapshots/12345
=== RUN   TestGetDashboardSnapshotFailure/GET_/snapshots-delete/{deleteKey}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots-delete/12345
=== RUN   TestGetDashboardSnapshotFailure/GET_/snapshots-delete/{deleteKey}_should_return_403_when_snapshot_is_disabled_/api/snapshots-delete/12345
--- PASS: TestGetDashboardSnapshotFailure (0.00s)
--- PASS: TestGetDashboardSnapshotFailure/GET_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotFailure/GET_/snapshots/{key}_should_return_403_when_snapshot_is_disabled_/api/snapshots/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotFailure/DELETE_/snapshots/{key}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotFailure/DELETE_/snapshots/{key}_should_return_403_when_snapshot_is_disabled_/api/snapshots/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotFailure/GET_/snapshots-delete/{deleteKey}_should_return_404_when_the_snapshot_does_not_exist_/api/snapshots-delete/12345 (0.00s)
--- PASS: TestGetDashboardSnapshotFailure/GET_/snapshots-delete/{deleteKey}_should_return_403_when_snapshot_is_disabled_/api/snapshots-delete/12345 (0.00s)
=== RUN   TestGetHomeDashboard
=== RUN   TestGetHomeDashboard/using_default_config
=== RUN   TestGetHomeDashboard/custom_path
--- PASS: TestGetHomeDashboard (0.00s)
--- PASS: TestGetHomeDashboard/using_default_config (0.00s)
--- PASS: TestGetHomeDashboard/custom_path (0.00s)
=== RUN   TestHTTPServer_GetDashboard_AccessControl
=== RUN   TestHTTPServer_GetDashboard_AccessControl/Should_not_be_able_to_get_dashboard_without_correct_permission
=== RUN   TestHTTPServer_GetDashboard_AccessControl/Should_be_able_to_get_when_user_has_permission_to_read_dashboard
=== RUN   TestHTTPServer_GetDashboard_AccessControl/Should_set_CanSave_and_CanEdit_with_correct_permissions
=== RUN   TestHTTPServer_GetDashboard_AccessControl/Should_set_canDelete_with_correct_permissions
=== RUN   TestHTTPServer_GetDashboard_AccessControl/Should_set_canAdmin_with_correct_permissions
--- PASS: TestHTTPServer_GetDashboard_AccessControl (0.01s)
--- PASS: TestHTTPServer_GetDashboard_AccessControl/Should_not_be_able_to_get_dashboard_without_correct_permission (0.00s)
--- PASS: TestHTTPServer_GetDashboard_AccessControl/Should_be_able_to_get_when_user_has_permission_to_read_dashboard (0.00s)
--- PASS: TestHTTPServer_GetDashboard_AccessControl/Should_set_CanSave_and_CanEdit_with_correct_permissions (0.00s)
--- PASS: TestHTTPServer_GetDashboard_AccessControl/Should_set_canDelete_with_correct_permissions (0.00s)
--- PASS: TestHTTPServer_GetDashboard_AccessControl/Should_set_canAdmin_with_correct_permissions (0.00s)
=== RUN   TestHTTPServer_DeleteDashboardByUID_AccessControl
=== RUN   TestHTTPServer_DeleteDashboardByUID_AccessControl/Should_not_be_able_to_delete_dashboard_without_correct_permission
=== RUN   TestHTTPServer_DeleteDashboardByUID_AccessControl/Should_be_able_to_delete_dashboard_with_correct_permission
--- PASS: TestHTTPServer_DeleteDashboardByUID_AccessControl (0.00s)
--- PASS: TestHTTPServer_DeleteDashboardByUID_AccessControl/Should_not_be_able_to_delete_dashboard_without_correct_permission (0.00s)
--- PASS: TestHTTPServer_DeleteDashboardByUID_AccessControl/Should_be_able_to_delete_dashboard_with_correct_permission (0.00s)
=== RUN   TestHTTPServer_GetDashboardVersions_AccessControl
=== RUN   TestHTTPServer_GetDashboardVersions_AccessControl/Should_not_be_able_to_list_dashboard_versions_without_correct_permission
=== RUN   TestHTTPServer_GetDashboardVersions_AccessControl/Should_be_able_to_list_dashboard_versions_with_correct_permission
=== RUN   TestHTTPServer_GetDashboardVersions_AccessControl/Should_be_able_to_diff_dashboards_with_correct_permissions
=== RUN   TestHTTPServer_GetDashboardVersions_AccessControl/Should_not_be_able_to_diff_dashboards_without_permissions
--- PASS: TestHTTPServer_GetDashboardVersions_AccessControl (0.01s)
--- PASS: TestHTTPServer_GetDashboardVersions_AccessControl/Should_not_be_able_to_list_dashboard_versions_without_correct_permission (0.00s)
--- PASS: TestHTTPServer_GetDashboardVersions_AccessControl/Should_be_able_to_list_dashboard_versions_with_correct_permission (0.00s)
--- PASS: TestHTTPServer_GetDashboardVersions_AccessControl/Should_be_able_to_diff_dashboards_with_correct_permissions (0.00s)
--- PASS: TestHTTPServer_GetDashboardVersions_AccessControl/Should_not_be_able_to_diff_dashboards_without_permissions (0.00s)
=== RUN   TestDashboardAPIEndpoint
=== RUN   TestDashboardAPIEndpoint/Given_two_dashboards_with_the_same_title_in_different_folders
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard/When_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard_with_folder_uid
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard_with_folder_uid/When_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_not_found'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'folder_not_found'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'A_dashboard_with_the_same_uid_already_exists'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'The_dashboard_has_been_changed_by_someone_else'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_title_cannot_be_empty'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'A_Dashboard_Folder_cannot_be_added_to_another_folder'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_cannot_be_changed_to_a_folder'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'A_folder_with_that_name_already_exists'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Access_denied_to_save_dashboard'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'uid_contains_illegal_characters'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'uid_too_long,_max_40_characters'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Cannot_save_provisioned_dashboard'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_belongs_to_plugin'_error_when_calling_POST_on_/api/dashboards
=== RUN   TestDashboardAPIEndpoint/Given_two_dashboards_being_compared
=== RUN   TestDashboardAPIEndpoint/Given_dashboard_in_folder_being_restored_should_restore_to_folder
=== RUN   TestDashboardAPIEndpoint/Given_dashboard_in_folder_being_restored_should_restore_to_folder/When_calling_POST_on_/api/dashboards/id/1/restore
=== RUN   TestDashboardAPIEndpoint/Should_not_be_able_to_restore_to_the_same_data
=== RUN   TestDashboardAPIEndpoint/Should_not_be_able_to_restore_to_the_same_data/When_calling_POST_on_/api/dashboards/id/1/restore
=== RUN   TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder
=== RUN   TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder/When_calling_POST_on_/api/dashboards/id/1/restore
=== RUN   TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder#01
=== RUN   TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder#01/When_calling_POST_on_/api/dashboards/id/1/restore
=== RUN   TestDashboardAPIEndpoint/Given_provisioned_dashboard
=== RUN   TestDashboardAPIEndpoint/Given_provisioned_dashboard/When_calling_GET_on_/api/dashboards/uid/dash
=== RUN   TestDashboardAPIEndpoint/Given_provisioned_dashboard/When_allowUiUpdates_is_true_and_calling_GET_on_/api/dashboards/uid/dash
=== RUN   TestDashboardAPIEndpoint/v2_dashboards_should_not_be_returned_in_api
=== RUN   TestDashboardAPIEndpoint/v2_dashboards_should_not_be_returned_in_api/When_calling_GET_on_/api/dashboards/uid/dash
--- PASS: TestDashboardAPIEndpoint (0.34s)
--- PASS: TestDashboardAPIEndpoint/Given_two_dashboards_with_the_same_title_in_different_folders (0.00s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests (0.31s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard (0.23s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard/When_calling_POST_on_/api/dashboards (0.23s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard_with_folder_uid (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_a_correct_request_for_creating_a_dashboard_with_folder_uid/When_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard (0.07s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_not_found'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'folder_not_found'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'A_dashboard_with_the_same_uid_already_exists'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'The_dashboard_has_been_changed_by_someone_else'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_title_cannot_be_empty'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'A_Dashboard_Folder_cannot_be_added_to_another_folder'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_cannot_be_changed_to_a_folder'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'A_folder_with_that_name_already_exists'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Access_denied_to_save_dashboard'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'uid_contains_illegal_characters'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'uid_too_long,_max_40_characters'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Cannot_save_provisioned_dashboard'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Post_dashboard_response_tests/Given_incorrect_requests_for_creating_a_dashboard/Expect_'Dashboard_belongs_to_plugin'_error_when_calling_POST_on_/api/dashboards (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_two_dashboards_being_compared (0.00s)
--- PASS: TestDashboardAPIEndpoint/Given_dashboard_in_folder_being_restored_should_restore_to_folder (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_dashboard_in_folder_being_restored_should_restore_to_folder/When_calling_POST_on_/api/dashboards/id/1/restore (0.01s)
--- PASS: TestDashboardAPIEndpoint/Should_not_be_able_to_restore_to_the_same_data (0.01s)
--- PASS: TestDashboardAPIEndpoint/Should_not_be_able_to_restore_to_the_same_data/When_calling_POST_on_/api/dashboards/id/1/restore (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder/When_calling_POST_on_/api/dashboards/id/1/restore (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder#01 (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_dashboard_in_general_folder_being_restored_should_restore_to_general_folder#01/When_calling_POST_on_/api/dashboards/id/1/restore (0.01s)
--- PASS: TestDashboardAPIEndpoint/Given_provisioned_dashboard (0.00s)
--- PASS: TestDashboardAPIEndpoint/Given_provisioned_dashboard/When_calling_GET_on_/api/dashboards/uid/dash (0.00s)
--- PASS: TestDashboardAPIEndpoint/Given_provisioned_dashboard/When_allowUiUpdates_is_true_and_calling_GET_on_/api/dashboards/uid/dash (0.00s)
--- PASS: TestDashboardAPIEndpoint/v2_dashboards_should_not_be_returned_in_api (0.00s)
--- PASS: TestDashboardAPIEndpoint/v2_dashboards_should_not_be_returned_in_api/When_calling_GET_on_/api/dashboards/uid/dash (0.00s)
=== RUN   TestDashboardVersionsAPIEndpoint
=== RUN   TestDashboardVersionsAPIEndpoint/When_user_exists_and_calling_GET_on_/api/dashboards/id/2/versions
=== RUN   TestDashboardVersionsAPIEndpoint/When_user_does_not_exist_and_calling_GET_on_/api/dashboards/id/2/versions
=== RUN   TestDashboardVersionsAPIEndpoint/When_failing_to_get_user_and_calling_GET_on_/api/dashboards/id/2/versions
--- PASS: TestDashboardVersionsAPIEndpoint (0.00s)
--- PASS: TestDashboardVersionsAPIEndpoint/When_user_exists_and_calling_GET_on_/api/dashboards/id/2/versions (0.00s)
--- PASS: TestDashboardVersionsAPIEndpoint/When_user_does_not_exist_and_calling_GET_on_/api/dashboards/id/2/versions (0.00s)
--- PASS: TestDashboardVersionsAPIEndpoint/When_failing_to_get_user_and_calling_GET_on_/api/dashboards/id/2/versions (0.00s)
=== RUN   TestDataSourcesProxy_userLoggedIn
=== RUN   TestDataSourcesProxy_userLoggedIn/When_calling_GET_on_/api/datasources/
=== RUN   TestDataSourcesProxy_userLoggedIn/Should_be_able_to_save_a_data_source_when_calling_DELETE_on_non-existing_/api/datasources/name/12345
--- PASS: TestDataSourcesProxy_userLoggedIn (0.00s)
--- PASS: TestDataSourcesProxy_userLoggedIn/When_calling_GET_on_/api/datasources/ (0.00s)
--- PASS: TestDataSourcesProxy_userLoggedIn/Should_be_able_to_save_a_data_source_when_calling_DELETE_on_non-existing_/api/datasources/name/12345 (0.00s)
=== RUN   TestAddDataSource_InvalidURL
--- PASS: TestAddDataSource_InvalidURL (0.00s)
=== RUN   TestAddDataSource_URLWithoutProtocol
--- PASS: TestAddDataSource_URLWithoutProtocol (0.00s)
=== RUN   TestAddDataSource_InvalidJSONData
--- PASS: TestAddDataSource_InvalidJSONData (0.00s)
=== RUN   TestUpdateDataSource_InvalidURL
--- PASS: TestUpdateDataSource_InvalidURL (0.00s)
=== RUN   TestUpdateDataSource_InvalidJSONData
--- PASS: TestUpdateDataSource_InvalidJSONData (0.00s)
=== RUN   TestAddDataSourceTeamHTTPHeaders
--- PASS: TestAddDataSourceTeamHTTPHeaders (0.00s)
=== RUN   TestUpdateDataSource_URLWithoutProtocol
--- PASS: TestUpdateDataSource_URLWithoutProtocol (0.00s)
=== RUN   TestUpdateDataSourceByID_DataSourceNameExists
--- PASS: TestUpdateDataSourceByID_DataSourceNameExists (0.00s)
=== RUN   TestAPI_datasources_AccessControl
=== RUN   TestAPI_datasources_AccessControl/should_be_able_to_update_datasource_with_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_not_be_able_to_update_datasource_without_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_be_able_to_fetch_datasource_with_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_not_be_able_to_fetch_datasource_without_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_be_able_to_create_datasource_with_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_not_be_able_to_create_datasource_without_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_be_able_to_delete_datasource_with_correct_permission
=== RUN   TestAPI_datasources_AccessControl/should_not_be_able_to_delete_datasource_without_correct_permission
--- PASS: TestAPI_datasources_AccessControl (0.05s)
--- PASS: TestAPI_datasources_AccessControl/should_be_able_to_update_datasource_with_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_not_be_able_to_update_datasource_without_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_be_able_to_fetch_datasource_with_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_not_be_able_to_fetch_datasource_without_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_be_able_to_create_datasource_with_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_not_be_able_to_create_datasource_without_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_be_able_to_delete_datasource_with_correct_permission (0.01s)
--- PASS: TestAPI_datasources_AccessControl/should_not_be_able_to_delete_datasource_without_correct_permission (0.01s)
=== RUN   TestAPIEndpoint_Metrics_QueryMetricsV2
=== RUN   TestAPIEndpoint_Metrics_QueryMetricsV2/Status_code_is_400_when_data_source_response_has_an_error
--- PASS: TestAPIEndpoint_Metrics_QueryMetricsV2 (0.00s)
--- PASS: TestAPIEndpoint_Metrics_QueryMetricsV2/Status_code_is_400_when_data_source_response_has_an_error (0.00s)
=== RUN   TestDataSourceQueryError
=== RUN   TestDataSourceQueryError/Plugin_client_error_"[plugin.unavailable]_plugin_unavailable"_should_propagate_to_API
=== RUN   TestDataSourceQueryError/Plugin_client_error_"[plugin.notImplemented]_method_not_implemented"_should_propagate_to_API
=== RUN   TestDataSourceQueryError/Plugin_client_error_"surprise_surprise"_should_propagate_to_API
=== RUN   TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API
=== RUN   TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API#01
=== RUN   TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API#02
=== RUN   TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API#03
--- PASS: TestDataSourceQueryError (0.01s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_"[plugin.unavailable]_plugin_unavailable"_should_propagate_to_API (0.00s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_"[plugin.notImplemented]_method_not_implemented"_should_propagate_to_API (0.00s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_"surprise_surprise"_should_propagate_to_API (0.00s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API (0.00s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API#01 (0.00s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API#02 (0.00s)
--- PASS: TestDataSourceQueryError/Plugin_client_error_%!q(<nil>)_should_propagate_to_API#03 (0.00s)
=== RUN   TestHTTPServer_GetFolderPermissionList
=== RUN   TestHTTPServer_GetFolderPermissionList/should_not_be_able_to_list_acl_when_user_does_not_have_permission_to_do_so
=== RUN   TestHTTPServer_GetFolderPermissionList/should_be_able_to_list_acl_with_correct_permission
=== RUN   TestHTTPServer_GetFolderPermissionList/should_filter_out_hidden_users_from_acl
--- PASS: TestHTTPServer_GetFolderPermissionList (0.01s)
--- PASS: TestHTTPServer_GetFolderPermissionList/should_not_be_able_to_list_acl_when_user_does_not_have_permission_to_do_so (0.00s)
--- PASS: TestHTTPServer_GetFolderPermissionList/should_be_able_to_list_acl_with_correct_permission (0.00s)
--- PASS: TestHTTPServer_GetFolderPermissionList/should_filter_out_hidden_users_from_acl (0.00s)
=== RUN   TestHTTPServer_UpdateFolderPermissions
=== RUN   TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_update_acl_when_user_does_not_have_permission_to_do_so
=== RUN   TestHTTPServer_UpdateFolderPermissions/should_be_able_to_update_acl_with_correct_permissions
=== RUN   TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_specify_team_and_user_in_same_acl
=== RUN   TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_specify_team_and_role_in_same_acl
=== RUN   TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_specify_user_and_role_in_same_acl
--- PASS: TestHTTPServer_UpdateFolderPermissions (0.01s)
--- PASS: TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_update_acl_when_user_does_not_have_permission_to_do_so (0.00s)
--- PASS: TestHTTPServer_UpdateFolderPermissions/should_be_able_to_update_acl_with_correct_permissions (0.00s)
--- PASS: TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_specify_team_and_user_in_same_acl (0.00s)
--- PASS: TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_specify_team_and_role_in_same_acl (0.00s)
--- PASS: TestHTTPServer_UpdateFolderPermissions/should_not_be_able_to_specify_user_and_role_in_same_acl (0.00s)
=== RUN   TestFoldersCreateAPIEndpoint
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_succeeds_given_the_correct_request_for_creating_a_folder
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_without_permissions_to_create_a_folder
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_a_folder/dashboard_with_the_same_uid_already_exists
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_folder_title_cannot_be_empty
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_uid_contains_illegal_characters
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_uid_too_long,_max_40_characters
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_access_denied_to_folder
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_folder_not_found
=== RUN   TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_the_folder_has_been_changed_by_someone_else
--- PASS: TestFoldersCreateAPIEndpoint (0.01s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_succeeds_given_the_correct_request_for_creating_a_folder (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_without_permissions_to_create_a_folder (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_a_folder/dashboard_with_the_same_uid_already_exists (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_folder_title_cannot_be_empty (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_uid_contains_illegal_characters (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_uid_too_long,_max_40_characters (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_access_denied_to_folder (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_folder_not_found (0.00s)
--- PASS: TestFoldersCreateAPIEndpoint/folder_creation_fails_given_folder_service_error_the_folder_has_been_changed_by_someone_else (0.00s)
=== RUN   TestFoldersUpdateAPIEndpoint
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_succeeds_given_the_correct_request_and_permissions_to_update_a_folder
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_without_permissions_to_update_a_folder
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_a_folder/dashboard_with_the_same_uid_already_exists
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_folder_title_cannot_be_empty
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_uid_contains_illegal_characters
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_uid_too_long,_max_40_characters
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_access_denied_to_folder
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_folder_not_found
=== RUN   TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_the_folder_has_been_changed_by_someone_else
--- PASS: TestFoldersUpdateAPIEndpoint (0.02s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_succeeds_given_the_correct_request_and_permissions_to_update_a_folder (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_without_permissions_to_update_a_folder (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_a_folder/dashboard_with_the_same_uid_already_exists (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_folder_title_cannot_be_empty (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_uid_contains_illegal_characters (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_uid_too_long,_max_40_characters (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_access_denied_to_folder (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_folder_not_found (0.00s)
--- PASS: TestFoldersUpdateAPIEndpoint/folder_updating_fails_given_folder_service_error_the_folder_has_been_changed_by_someone_else (0.00s)
=== RUN   TestHTTPServer_FolderMetadata
=== RUN   TestHTTPServer_FolderMetadata/Should_attach_access_control_metadata_to_folder_response
=== RUN   TestHTTPServer_FolderMetadata/Should_attach_access_control_metadata_to_folder_response_with_permissions_cascading_from_nested_folders
=== RUN   TestHTTPServer_FolderMetadata/Should_not_attach_access_control_metadata_to_folder_response
--- PASS: TestHTTPServer_FolderMetadata (0.01s)
--- PASS: TestHTTPServer_FolderMetadata/Should_attach_access_control_metadata_to_folder_response (0.00s)
--- PASS: TestHTTPServer_FolderMetadata/Should_attach_access_control_metadata_to_folder_response_with_permissions_cascading_from_nested_folders (0.00s)
--- PASS: TestHTTPServer_FolderMetadata/Should_not_attach_access_control_metadata_to_folder_response (0.00s)
=== RUN   TestFolderMoveAPIEndpoint
=== RUN   TestFolderMoveAPIEndpoint/can_move_folder_to_another_folder_with_specific_permissions
=== RUN   TestFolderMoveAPIEndpoint/can_move_folder_to_the_root_folder_with_specific_permissions
=== RUN   TestFolderMoveAPIEndpoint/forbidden_to_move_folder_to_another_folder_without_the_write_access_on_the_folder_being_moved
--- PASS: TestFolderMoveAPIEndpoint (0.01s)
--- PASS: TestFolderMoveAPIEndpoint/can_move_folder_to_another_folder_with_specific_permissions (0.00s)
--- PASS: TestFolderMoveAPIEndpoint/can_move_folder_to_the_root_folder_with_specific_permissions (0.00s)
--- PASS: TestFolderMoveAPIEndpoint/forbidden_to_move_folder_to_another_folder_without_the_write_access_on_the_folder_being_moved (0.00s)
=== RUN   TestFolderGetAPIEndpoint
=== RUN   TestFolderGetAPIEndpoint/get_folder_by_UID_should_return_parent_folders_if_nested_folder_are_enabled
=== RUN   TestFolderGetAPIEndpoint/get_folder_by_UID_should_return_parent_folders_redacted_if_nested_folder_are_enabled_and_user_does_not_have_read_access_to_parent_folders
=== RUN   TestFolderGetAPIEndpoint/get_folder_by_UID_should_not_return_parent_folders_if_nested_folder_are_disabled
--- PASS: TestFolderGetAPIEndpoint (0.01s)
--- PASS: TestFolderGetAPIEndpoint/get_folder_by_UID_should_return_parent_folders_if_nested_folder_are_enabled (0.00s)
--- PASS: TestFolderGetAPIEndpoint/get_folder_by_UID_should_return_parent_folders_redacted_if_nested_folder_are_enabled_and_user_does_not_have_read_access_to_parent_folders (0.00s)
--- PASS: TestFolderGetAPIEndpoint/get_folder_by_UID_should_not_return_parent_folders_if_nested_folder_are_disabled (0.00s)
=== RUN   TestGetFolderLegacyAndUnifiedStorage
=== RUN   TestGetFolderLegacyAndUnifiedStorage/happy_path
=== RUN   TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Legacy
=== RUN   TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_1
=== RUN   TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_2
=== RUN   TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_3
=== RUN   TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_4
--- PASS: TestGetFolderLegacyAndUnifiedStorage (0.01s)
--- PASS: TestGetFolderLegacyAndUnifiedStorage/happy_path (0.01s)
--- PASS: TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Legacy (0.00s)
--- PASS: TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_1 (0.00s)
--- PASS: TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_2 (0.00s)
--- PASS: TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_3 (0.00s)
--- PASS: TestGetFolderLegacyAndUnifiedStorage/happy_path/General_folder_-_Unified_storage,_mode_4 (0.00s)
=== RUN   TestSetDefaultPermissionsWhenCreatingFolder
=== RUN   TestSetDefaultPermissionsWhenCreatingFolder/folder_creation_succeeds,_via_legacy_storage
=== RUN   TestSetDefaultPermissionsWhenCreatingFolder/folder_creation_succeeds,_via_API_Server
--- PASS: TestSetDefaultPermissionsWhenCreatingFolder (0.00s)
--- PASS: TestSetDefaultPermissionsWhenCreatingFolder/folder_creation_succeeds,_via_legacy_storage (0.00s)
--- PASS: TestSetDefaultPermissionsWhenCreatingFolder/folder_creation_succeeds,_via_API_Server (0.00s)
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_received_error_event
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_received_log_event
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_received_log_context
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_load_sourcemap_and_transform_stacktrace_line_when_possible
=== RUN   TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_web_vitals_as_context
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent (0.00s)
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent (0.00s)
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_received_error_event (0.00s)
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_received_log_event (0.00s)
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_received_log_context (0.00s)
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_load_sourcemap_and_transform_stacktrace_line_when_possible (0.00s)
--- PASS: TestFrontendLoggingEndpointGrafanaJavascriptAgent/FrontendLoggingEndpointGrafanaJavascriptAgent/Should_log_web_vitals_as_context (0.00s)
=== RUN   TestHTTPServer_GetFrontendSettings_hideVersionAnonymous
=== RUN   TestHTTPServer_GetFrontendSettings_hideVersionAnonymous/Not_hiding_version
=== RUN   TestHTTPServer_GetFrontendSettings_hideVersionAnonymous/Hiding_version
--- PASS: TestHTTPServer_GetFrontendSettings_hideVersionAnonymous (0.01s)
--- PASS: TestHTTPServer_GetFrontendSettings_hideVersionAnonymous/Not_hiding_version (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_hideVersionAnonymous/Hiding_version (0.00s)
=== RUN   TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL
=== RUN   TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL/With_CDN
=== RUN   TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL/Without_CDN
=== RUN   TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL/CDN_is_disabled_by_default
--- PASS: TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL (0.01s)
--- PASS: TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL/With_CDN (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL/Without_CDN (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_pluginsCDNBaseURL/CDN_is_disabled_by_default (0.00s)
=== RUN   TestHTTPServer_GetFrontendSettings_apps
=== RUN   TestHTTPServer_GetFrontendSettings_apps/disabled_app_with_preload
=== RUN   TestHTTPServer_GetFrontendSettings_apps/enabled_app_with_preload
=== RUN   TestHTTPServer_GetFrontendSettings_apps/angular_app_plugin
=== RUN   TestHTTPServer_GetFrontendSettings_apps/app_plugin_with_create_plugin_version_compatible_with_script_loading_strategy
=== RUN   TestHTTPServer_GetFrontendSettings_apps/app_plugin_with_CDN_class
--- PASS: TestHTTPServer_GetFrontendSettings_apps (0.02s)
--- PASS: TestHTTPServer_GetFrontendSettings_apps/disabled_app_with_preload (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_apps/enabled_app_with_preload (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_apps/angular_app_plugin (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_apps/app_plugin_with_create_plugin_version_compatible_with_script_loading_strategy (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_apps/app_plugin_with_CDN_class (0.00s)
=== RUN   TestHTTPServer_GetFrontendSettings_translations
=== RUN   TestHTTPServer_GetFrontendSettings_translations/built_in_datasource_plugin_with_translations
=== RUN   TestHTTPServer_GetFrontendSettings_translations/non-builtin_datasource_plugin_with_translations
=== RUN   TestHTTPServer_GetFrontendSettings_translations/panel_plugin_with_translations
=== RUN   TestHTTPServer_GetFrontendSettings_translations/app_plugin_with_translations
--- PASS: TestHTTPServer_GetFrontendSettings_translations (0.02s)
--- PASS: TestHTTPServer_GetFrontendSettings_translations/built_in_datasource_plugin_with_translations (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_translations/non-builtin_datasource_plugin_with_translations (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_translations/panel_plugin_with_translations (0.00s)
--- PASS: TestHTTPServer_GetFrontendSettings_translations/app_plugin_with_translations (0.00s)
=== RUN   TestHealthAPI_Version
--- PASS: TestHealthAPI_Version (0.00s)
=== RUN   TestHealthAPI_VersionEnterprise
--- PASS: TestHealthAPI_VersionEnterprise (0.00s)
=== RUN   TestHealthAPI_AnonymousHideVersion
--- PASS: TestHealthAPI_AnonymousHideVersion (0.00s)
=== RUN   TestHealthAPI_DatabaseHealthy
--- PASS: TestHealthAPI_DatabaseHealthy (0.00s)
=== RUN   TestHealthAPI_DatabaseUnhealthy
--- PASS: TestHealthAPI_DatabaseUnhealthy (0.00s)
=== RUN   TestHealthAPI_DatabaseHealthCached
--- PASS: TestHealthAPI_DatabaseHealthCached (0.00s)
=== RUN   TestHTTPServer_MetricsBasicAuth
=== RUN   TestHTTPServer_MetricsBasicAuth/enabled
=== RUN   TestHTTPServer_MetricsBasicAuth/disabled
--- PASS: TestHTTPServer_MetricsBasicAuth (0.00s)
--- PASS: TestHTTPServer_MetricsBasicAuth/enabled (0.00s)
--- PASS: TestHTTPServer_MetricsBasicAuth/disabled (0.00s)
=== RUN   TestHTTPServer_readCertificates
=== RUN   TestHTTPServer_readCertificates/ReadCertificates_should_return_error_when_cert_files_are_not_configured
--- PASS: TestHTTPServer_readCertificates (0.00s)
--- PASS: TestHTTPServer_readCertificates/ReadCertificates_should_return_error_when_cert_files_are_not_configured (0.00s)
=== RUN   TestHTTPServer_readEncryptedCertificates
=== RUN   TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_certificate_if_configuration_is_correct_-_PKCS#8_with_password
=== RUN   TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_certificate_if_configuration_is_correct_-_PKCS#1_with_password
=== RUN   TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_certificate_if_configuration_is_correct_-_No_pass
=== RUN   TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_error_if_the_password_provided_is_not_the_correct_one_-_PKCS#8_with_password
=== RUN   TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_error_if_the_password_provided_is_not_the_correct_one_-_PKCS#1_with_password
--- PASS: TestHTTPServer_readEncryptedCertificates (0.00s)
--- PASS: TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_certificate_if_configuration_is_correct_-_PKCS#8_with_password (0.00s)
--- PASS: TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_certificate_if_configuration_is_correct_-_PKCS#1_with_password (0.00s)
--- PASS: TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_certificate_if_configuration_is_correct_-_No_pass (0.00s)
--- PASS: TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_error_if_the_password_provided_is_not_the_correct_one_-_PKCS#8_with_password (0.00s)
--- PASS: TestHTTPServer_readEncryptedCertificates/readCertificates_should_return_error_if_the_password_provided_is_not_the_correct_one_-_PKCS#1_with_password (0.00s)
=== RUN   TestOAuthLogin_Redirect
=== RUN   TestOAuthLogin_Redirect/should_be_redirected_to_/login_when_passing_un-configured_provider
=== RUN   TestOAuthLogin_Redirect/should_be_redirected_to_provider
=== RUN   TestOAuthLogin_Redirect/should_set_pkce_cookie
--- PASS: TestOAuthLogin_Redirect (0.01s)
--- PASS: TestOAuthLogin_Redirect/should_be_redirected_to_/login_when_passing_un-configured_provider (0.00s)
--- PASS: TestOAuthLogin_Redirect/should_be_redirected_to_provider (0.00s)
--- PASS: TestOAuthLogin_Redirect/should_set_pkce_cookie (0.00s)
=== RUN   TestOAuthLogin_AuthorizationCode
=== RUN   TestOAuthLogin_AuthorizationCode/should_redirect_to_/login_on_error
=== RUN   TestOAuthLogin_AuthorizationCode/should_redirect_to_/_and_set_session_cookie_on_successful_authentication
--- PASS: TestOAuthLogin_AuthorizationCode (0.00s)
--- PASS: TestOAuthLogin_AuthorizationCode/should_redirect_to_/login_on_error (0.00s)
--- PASS: TestOAuthLogin_AuthorizationCode/should_redirect_to_/_and_set_session_cookie_on_successful_authentication (0.00s)
=== RUN   TestOAuthLogin_Error
--- PASS: TestOAuthLogin_Error (0.00s)
=== RUN   TestLoginErrorCookieAPIEndpoint
--- PASS: TestLoginErrorCookieAPIEndpoint (0.01s)
=== RUN   TestLoginViewRedirect
=== RUN   TestLoginViewRedirect/grafana_relative_url_without_subpath
=== RUN   TestLoginViewRedirect/grafana_invalid_relative_url_starting_with_the_subpath
=== RUN   TestLoginViewRedirect/grafana_relative_url_with_subpath_with_leading_slash
=== RUN   TestLoginViewRedirect/relative_url_with_missing_subpath
=== RUN   TestLoginViewRedirect/grafana_absolute_url
=== RUN   TestLoginViewRedirect/non_grafana_absolute_url
=== RUN   TestLoginViewRedirect/invalid_url
=== RUN   TestLoginViewRedirect/non-Grafana_URL_without_scheme
=== RUN   TestLoginViewRedirect/non-Grafana_URL_without_scheme#01
=== RUN   TestLoginViewRedirect/URL_path_is_a_host_with_two_leading_slashes
=== RUN   TestLoginViewRedirect/URL_path_is_a_host_with_three_leading_slashes
=== RUN   TestLoginViewRedirect/URL_path_is_an_IP_address_with_two_leading_slashes
=== RUN   TestLoginViewRedirect/URL_path_is_an_IP_address_with_three_leading_slashes
--- PASS: TestLoginViewRedirect (0.01s)
--- PASS: TestLoginViewRedirect/grafana_relative_url_without_subpath (0.00s)
--- PASS: TestLoginViewRedirect/grafana_invalid_relative_url_starting_with_the_subpath (0.00s)
--- PASS: TestLoginViewRedirect/grafana_relative_url_with_subpath_with_leading_slash (0.00s)
--- PASS: TestLoginViewRedirect/relative_url_with_missing_subpath (0.00s)
--- PASS: TestLoginViewRedirect/grafana_absolute_url (0.00s)
--- PASS: TestLoginViewRedirect/non_grafana_absolute_url (0.00s)
--- PASS: TestLoginViewRedirect/invalid_url (0.00s)
--- PASS: TestLoginViewRedirect/non-Grafana_URL_without_scheme (0.00s)
--- PASS: TestLoginViewRedirect/non-Grafana_URL_without_scheme#01 (0.00s)
--- PASS: TestLoginViewRedirect/URL_path_is_a_host_with_two_leading_slashes (0.00s)
--- PASS: TestLoginViewRedirect/URL_path_is_a_host_with_three_leading_slashes (0.00s)
--- PASS: TestLoginViewRedirect/URL_path_is_an_IP_address_with_two_leading_slashes (0.00s)
--- PASS: TestLoginViewRedirect/URL_path_is_an_IP_address_with_three_leading_slashes (0.00s)
=== RUN   TestLoginPostRedirect
=== RUN   TestLoginPostRedirect/grafana_relative_url_without_subpath
=== RUN   TestLoginPostRedirect/grafana_relative_url_with_subpath_with_leading_slash
=== RUN   TestLoginPostRedirect/grafana_invalid_relative_url_starting_with_subpath
2025-04-15T08:35:06.2910358Z
=== RUN   TestLoginPostRedirect/relative_url_with_missing_subpath
=== RUN   TestLoginPostRedirect/grafana_absolute_url
=== RUN   TestLoginPostRedirect/non_grafana_absolute_url
=== RUN   TestLoginPostRedirect/invalid_URL
=== RUN   TestLoginPostRedirect/non-Grafana_URL_without_scheme
=== RUN   TestLoginPostRedirect/non-Grafana_URL_without_scheme#01
=== RUN   TestLoginPostRedirect/URL_path_is_a_host_with_two_leading_slashes
=== RUN   TestLoginPostRedirect/URL_path_is_a_host_with_three_leading_slashes
=== RUN   TestLoginPostRedirect/URL_path_is_an_IP_address_with_two_leading_slashes
=== RUN   TestLoginPostRedirect/URL_path_is_an_IP_address_with_three_leading_slashes
--- PASS: TestLoginPostRedirect (0.01s)
--- PASS: TestLoginPostRedirect/grafana_relative_url_without_subpath (0.00s)
--- PASS: TestLoginPostRedirect/grafana_relative_url_with_subpath_with_leading_slash (0.00s)
--- PASS: TestLoginPostRedirect/grafana_invalid_relative_url_starting_with_subpath (0.00s)
--- PASS: TestLoginPostRedirect/relative_url_with_missing_subpath (0.00s)
--- PASS: TestLoginPostRedirect/grafana_absolute_url (0.00s)
--- PASS: TestLoginPostRedirect/non_grafana_absolute_url (0.00s)
--- PASS: TestLoginPostRedirect/invalid_URL (0.00s)
--- PASS: TestLoginPostRedirect/non-Grafana_URL_without_scheme (0.00s)
--- PASS: TestLoginPostRedirect/non-Grafana_URL_without_scheme#01 (0.00s)
--- PASS: TestLoginPostRedirect/URL_path_is_a_host_with_two_leading_slashes (0.00s)
--- PASS: TestLoginPostRedirect/URL_path_is_a_host_with_three_leading_slashes (0.00s)
--- PASS: TestLoginPostRedirect/URL_path_is_an_IP_address_with_two_leading_slashes (0.00s)
--- PASS: TestLoginPostRedirect/URL_path_is_an_IP_address_with_three_leading_slashes (0.00s)
=== RUN   TestLoginOAuthRedirect
--- PASS: TestLoginOAuthRedirect (0.00s)
=== RUN   TestLoginInternal
--- PASS: TestLoginInternal (0.00s)
=== RUN   TestAuthProxyLoginEnableLoginTokenDisabled
--- PASS: TestAuthProxyLoginEnableLoginTokenDisabled (0.00s)
=== RUN   TestAuthProxyLoginWithEnableLoginToken
--- PASS: TestAuthProxyLoginWithEnableLoginToken (0.00s)
=== RUN   TestAuthProxyLoginWithEnableLoginTokenAndEnabledOauthAutoLogin
--- PASS: TestAuthProxyLoginWithEnableLoginTokenAndEnabledOauthAutoLogin (0.00s)
=== RUN   TestLogoutSaml
--- PASS: TestLogoutSaml (0.00s)
=== RUN   TestIsExternallySynced
=== RUN   TestIsExternallySynced/AzureAD_external_user_should_return_that_it_is_externally_synced
=== RUN   TestIsExternallySynced/AzureAD_external_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set
=== RUN   TestIsExternallySynced/AzureAD_external_user_should_return_that_it_is_not_externally_synced_when_the_provider_is_not_enabled
=== RUN   TestIsExternallySynced/SAML_synced_user_should_return_that_it_is_not_externally_synced_when_the_provider_is_disabled
=== RUN   TestIsExternallySynced/SAML_synced_user_should_return_that_it_is_externally_synced
=== RUN   TestIsExternallySynced/SAML_synced_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set
=== RUN   TestIsExternallySynced/LDAP_synced_user_should_return_that_it_is_externally_synced
=== RUN   TestIsExternallySynced/LDAP_synced_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set
=== RUN   TestIsExternallySynced/JWT_synced_user_should_return_that_it_is_externally_synced
=== RUN   TestIsExternallySynced/JWT_synced_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set
=== RUN   TestIsExternallySynced/If_no_provider_enabled_should_return_false
--- PASS: TestIsExternallySynced (0.00s)
--- PASS: TestIsExternallySynced/AzureAD_external_user_should_return_that_it_is_externally_synced (0.00s)
--- PASS: TestIsExternallySynced/AzureAD_external_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set (0.00s)
--- PASS: TestIsExternallySynced/AzureAD_external_user_should_return_that_it_is_not_externally_synced_when_the_provider_is_not_enabled (0.00s)
--- PASS: TestIsExternallySynced/SAML_synced_user_should_return_that_it_is_not_externally_synced_when_the_provider_is_disabled (0.00s)
--- PASS: TestIsExternallySynced/SAML_synced_user_should_return_that_it_is_externally_synced (0.00s)
--- PASS: TestIsExternallySynced/SAML_synced_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set (0.00s)
--- PASS: TestIsExternallySynced/LDAP_synced_user_should_return_that_it_is_externally_synced (0.00s)
--- PASS: TestIsExternallySynced/LDAP_synced_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set (0.00s)
--- PASS: TestIsExternallySynced/JWT_synced_user_should_return_that_it_is_externally_synced (0.00s)
--- PASS: TestIsExternallySynced/JWT_synced_user_should_return_that_it_is_not_externally_synced_when_org_role_sync_is_set (0.00s)
--- PASS: TestIsExternallySynced/If_no_provider_enabled_should_return_false (0.00s)
=== RUN   TestIsProviderEnabled
=== RUN   TestIsProviderEnabled/Github_should_return_true_if_enabled
=== RUN   TestIsProviderEnabled/Github_should_return_false_if_not_enabled
=== RUN   TestIsProviderEnabled/SAML_should_return_true_if_enabled
=== RUN   TestIsProviderEnabled/SAML_should_return_false_if_not_enabled
--- PASS: TestIsProviderEnabled (0.00s)
--- PASS: TestIsProviderEnabled/Github_should_return_true_if_enabled (0.00s)
--- PASS: TestIsProviderEnabled/Github_should_return_false_if_not_enabled (0.00s)
--- PASS: TestIsProviderEnabled/SAML_should_return_true_if_enabled (0.00s)
--- PASS: TestIsProviderEnabled/SAML_should_return_false_if_not_enabled (0.00s)
=== RUN   TestOrgInvitesAPIEndpoint_RBAC
=== RUN   TestOrgInvitesAPIEndpoint_RBAC/should_be_able_to_invite_user_to_org_with_correct_permissions
=== RUN   TestOrgInvitesAPIEndpoint_RBAC/should_not_be_able_to_invite_user_to_org_without_correct_permissions
=== RUN   TestOrgInvitesAPIEndpoint_RBAC/should_not_be_able_to_invite_user_to_org_with_wrong_scope
=== RUN   TestOrgInvitesAPIEndpoint_RBAC/should_not_be_able_to_invite_user_to_org_with_higher_role_then_requester
--- PASS: TestOrgInvitesAPIEndpoint_RBAC (0.02s)
--- PASS: TestOrgInvitesAPIEndpoint_RBAC/should_be_able_to_invite_user_to_org_with_correct_permissions (0.00s)
--- PASS: TestOrgInvitesAPIEndpoint_RBAC/should_not_be_able_to_invite_user_to_org_without_correct_permissions (0.00s)
--- PASS: TestOrgInvitesAPIEndpoint_RBAC/should_not_be_able_to_invite_user_to_org_with_wrong_scope (0.00s)
--- PASS: TestOrgInvitesAPIEndpoint_RBAC/should_not_be_able_to_invite_user_to_org_with_higher_role_then_requester (0.01s)
=== RUN   TestAPIEndpoint_GetCurrentOrg
=== RUN   TestAPIEndpoint_GetCurrentOrg/should_be_able_to_view_current_org_with_correct_permission
=== RUN   TestAPIEndpoint_GetCurrentOrg/should_not_be_able_to_view_current_org_without_correct_permission
--- PASS: TestAPIEndpoint_GetCurrentOrg (0.01s)
--- PASS: TestAPIEndpoint_GetCurrentOrg/should_be_able_to_view_current_org_with_correct_permission (0.01s)
--- PASS: TestAPIEndpoint_GetCurrentOrg/should_not_be_able_to_view_current_org_without_correct_permission (0.00s)
=== RUN   TestAPIEndpoint_UpdateOrg
=== RUN   TestAPIEndpoint_UpdateOrg/should_be_able_to_update_current_org_with_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_current_org_without_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_be_able_to_update_address_of_current_org_with_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_address_of_current_org_without_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_be_able_to_update_target_org_with_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_target_org_without_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_be_able_to_update_address_of_target_org_with_correct_permissions
=== RUN   TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_address_of_target_org_without_correct_permissions
--- PASS: TestAPIEndpoint_UpdateOrg (0.02s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_be_able_to_update_current_org_with_correct_permissions (0.01s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_current_org_without_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_be_able_to_update_address_of_current_org_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_address_of_current_org_without_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_be_able_to_update_target_org_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_target_org_without_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_be_able_to_update_address_of_target_org_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_UpdateOrg/should_not_be_able_to_update_address_of_target_org_without_correct_permissions (0.00s)
=== RUN   TestAPIEndpoint_CreateOrgs
=== RUN   TestAPIEndpoint_CreateOrgs/should_be_able_to_create_org_with_correct_permission
=== RUN   TestAPIEndpoint_CreateOrgs/should_not_be_able_to_create_org_without_correct_permission
--- PASS: TestAPIEndpoint_CreateOrgs (0.00s)
--- PASS: TestAPIEndpoint_CreateOrgs/should_be_able_to_create_org_with_correct_permission (0.00s)
--- PASS: TestAPIEndpoint_CreateOrgs/should_not_be_able_to_create_org_without_correct_permission (0.00s)
=== RUN   TestAPIEndpoint_DeleteOrgs
=== RUN   TestAPIEndpoint_DeleteOrgs/should_be_able_to_delete_org_with_correct_permission
=== RUN   TestAPIEndpoint_DeleteOrgs/should_not_be_able_to_delete_org_without_correct_permission
--- PASS: TestAPIEndpoint_DeleteOrgs (0.00s)
--- PASS: TestAPIEndpoint_DeleteOrgs/should_be_able_to_delete_org_with_correct_permission (0.00s)
--- PASS: TestAPIEndpoint_DeleteOrgs/should_not_be_able_to_delete_org_without_correct_permission (0.00s)
=== RUN   TestAPIEndpoint_GetOrg
=== RUN   TestAPIEndpoint_GetOrg/should_be_able_to_fetch_org_with_correct_permissions
=== RUN   TestAPIEndpoint_GetOrg/should_not_be_able_to_fetch_org_without_correct_permissions
--- PASS: TestAPIEndpoint_GetOrg (0.01s)
--- PASS: TestAPIEndpoint_GetOrg/should_be_able_to_fetch_org_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_GetOrg/should_not_be_able_to_fetch_org_without_correct_permissions (0.00s)
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn/When_calling_GET_on_api/org/users
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn/When_calling_GET_on_api/org/users/search
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn/When_calling_GET_with_page_and_limit_query_parameters_on_api/org/users/search
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn/Given_there_are_two_hidden_users
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn/Given_there_are_two_hidden_users/When_calling_GET_on_api/org/users
=== RUN   TestOrgUsersAPIEndpoint_userLoggedIn/Given_there_are_two_hidden_users/When_calling_GET_as_an_admin_on_api/org/users/lookup
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn (0.01s)
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn/When_calling_GET_on_api/org/users (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn/When_calling_GET_on_api/org/users/search (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn/When_calling_GET_with_page_and_limit_query_parameters_on_api/org/users/search (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn/Given_there_are_two_hidden_users (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn/Given_there_are_two_hidden_users/When_calling_GET_on_api/org/users (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_userLoggedIn/Given_there_are_two_hidden_users/When_calling_GET_as_an_admin_on_api/org/users/lookup (0.00s)
=== RUN   TestOrgUsersAPIEndpoint_updateOrgRole
=== RUN   TestOrgUsersAPIEndpoint_updateOrgRole/should_be_able_to_change_basicRole_when_skip_org_role_sync_true
=== RUN   TestOrgUsersAPIEndpoint_updateOrgRole/should_not_be_able_to_change_basicRole_when_skip_org_role_sync_false
=== RUN   TestOrgUsersAPIEndpoint_updateOrgRole/should_not_be_able_to_change_basicRole_for_a_user_synced_through_an_OAuth_provider
=== RUN   TestOrgUsersAPIEndpoint_updateOrgRole/should_be_able_to_change_basicRole_with_a_basic_Auth
=== RUN   TestOrgUsersAPIEndpoint_updateOrgRole/should_be_able_to_change_basicRole_with_a_basic_Auth#01
--- PASS: TestOrgUsersAPIEndpoint_updateOrgRole (0.01s)
--- PASS: TestOrgUsersAPIEndpoint_updateOrgRole/should_be_able_to_change_basicRole_when_skip_org_role_sync_true (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_updateOrgRole/should_not_be_able_to_change_basicRole_when_skip_org_role_sync_false (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_updateOrgRole/should_not_be_able_to_change_basicRole_for_a_user_synced_through_an_OAuth_provider (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_updateOrgRole/should_be_able_to_change_basicRole_with_a_basic_Auth (0.00s)
--- PASS: TestOrgUsersAPIEndpoint_updateOrgRole/should_be_able_to_change_basicRole_with_a_basic_Auth#01 (0.00s)
=== RUN   TestOrgUsersAPIEndpoint
=== RUN   TestOrgUsersAPIEndpoint/UsersLookupGet_should_return_200_for_user_with_correct_permissions
=== RUN   TestOrgUsersAPIEndpoint/UsersLookupGet_should_return_403_for_user_without_required_permissions
--- PASS: TestOrgUsersAPIEndpoint (0.00s)
--- PASS: TestOrgUsersAPIEndpoint/UsersLookupGet_should_return_200_for_user_with_correct_permissions (0.00s)
--- PASS: TestOrgUsersAPIEndpoint/UsersLookupGet_should_return_403_for_user_without_required_permissions (0.00s)
=== RUN   TestGetOrgUsersAPIEndpoint_AccessControlMetadata
=== RUN   TestGetOrgUsersAPIEndpoint_AccessControlMetadata/should_not_get_access_control_metadata
=== RUN   TestGetOrgUsersAPIEndpoint_AccessControlMetadata/should_get_access_control_metadata
--- PASS: TestGetOrgUsersAPIEndpoint_AccessControlMetadata (0.00s)
--- PASS: TestGetOrgUsersAPIEndpoint_AccessControlMetadata/should_not_get_access_control_metadata (0.00s)
--- PASS: TestGetOrgUsersAPIEndpoint_AccessControlMetadata/should_get_access_control_metadata (0.00s)
=== RUN   TestGetOrgUsersAPIEndpoint_AccessControl
=== RUN   TestGetOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_get_users_in_org
=== RUN   TestGetOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_get_users_in_org
--- PASS: TestGetOrgUsersAPIEndpoint_AccessControl (0.00s)
--- PASS: TestGetOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_get_users_in_org (0.00s)
--- PASS: TestGetOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_get_users_in_org (0.00s)
=== RUN   TestPostOrgUsersAPIEndpoint_AccessControl
=== RUN   TestPostOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_add_users_to_org
=== RUN   TestPostOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_add_users_to_org
--- PASS: TestPostOrgUsersAPIEndpoint_AccessControl (0.00s)
--- PASS: TestPostOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_add_users_to_org (0.00s)
--- PASS: TestPostOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_add_users_to_org (0.00s)
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_add_a_user_as_a_viewer_to_his_org
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_add_a_user_as_an_editor_to_his_org
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_add_a_user_as_a_viewer_to_his_org#01
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_add_a_user_as_an_editor_to_his_org#01
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_update_a_user's_role_to_a_viewer_in_his_org
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_update_a_user's_role_to_a_Editorin_his_org
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_update_a_user's_role_to_a_viewer_in_his_org#01
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_update_a_user's_role_to_a_editor_in_his_org
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_invite_a_user_as_a_viewer_in_his_org
=== RUN   TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_invite_a_user_as_an_editor_in_his_org
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl (0.02s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_add_a_user_as_a_viewer_to_his_org (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_add_a_user_as_an_editor_to_his_org (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_add_a_user_as_a_viewer_to_his_org#01 (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_add_a_user_as_an_editor_to_his_org#01 (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_update_a_user's_role_to_a_viewer_in_his_org (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_update_a_user's_role_to_a_Editorin_his_org (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_update_a_user's_role_to_a_viewer_in_his_org#01 (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_update_a_user's_role_to_a_editor_in_his_org (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_can_invite_a_user_as_a_viewer_in_his_org (0.00s)
--- PASS: TestOrgUsersAPIEndpointWithSetPerms_AccessControl/org_viewer_with_the_correct_permissions_cannot_invite_a_user_as_an_editor_in_his_org (0.00s)
=== RUN   TestPatchOrgUsersAPIEndpoint_AccessControl
=== RUN   TestPatchOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_update_org_role
=== RUN   TestPatchOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_update_org_role
=== RUN   TestPatchOrgUsersAPIEndpoint_AccessControl/user_with_permissions_cannot_update_org_role_with_more_privileges
--- PASS: TestPatchOrgUsersAPIEndpoint_AccessControl (0.01s)
--- PASS: TestPatchOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_update_org_role (0.00s)
--- PASS: TestPatchOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_update_org_role (0.00s)
--- PASS: TestPatchOrgUsersAPIEndpoint_AccessControl/user_with_permissions_cannot_update_org_role_with_more_privileges (0.00s)
=== RUN   TestDeleteOrgUsersAPIEndpoint_AccessControl
=== RUN   TestDeleteOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_remove_user_from_org
=== RUN   TestDeleteOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_remove_user_from_org
--- PASS: TestDeleteOrgUsersAPIEndpoint_AccessControl (0.00s)
--- PASS: TestDeleteOrgUsersAPIEndpoint_AccessControl/user_with_permissions_can_remove_user_from_org (0.00s)
--- PASS: TestDeleteOrgUsersAPIEndpoint_AccessControl/user_without_permissions_cannot_remove_user_from_org (0.00s)
=== RUN   TestHTTPServer_CheckEnabled
=== RUN   TestHTTPServer_CheckEnabled/should_return_a_404_if_the_plugin_doesn't_exist
=== RUN   TestHTTPServer_CheckEnabled/should_not_set_an_error_code_if_the_plugin_is_not_an_app
=== RUN   TestHTTPServer_CheckEnabled/should_not_set_an_error_code_if_the_plugin_is_enabled
=== RUN   TestHTTPServer_CheckEnabled/should_return_a_404_if_the_plugin_is_disabled
=== RUN   TestHTTPServer_CheckEnabled/should_not_set_an_error_code_if_the_plugin_is_auto_enabled,_without_a_saved_plugin_setting
--- PASS: TestHTTPServer_CheckEnabled (0.00s)
--- PASS: TestHTTPServer_CheckEnabled/should_return_a_404_if_the_plugin_doesn't_exist (0.00s)
--- PASS: TestHTTPServer_CheckEnabled/should_not_set_an_error_code_if_the_plugin_is_not_an_app (0.00s)
--- PASS: TestHTTPServer_CheckEnabled/should_not_set_an_error_code_if_the_plugin_is_enabled (0.00s)
--- PASS: TestHTTPServer_CheckEnabled/should_return_a_404_if_the_plugin_is_disabled (0.00s)
--- PASS: TestHTTPServer_CheckEnabled/should_not_set_an_error_code_if_the_plugin_is_auto_enabled,_without_a_saved_plugin_setting (0.00s)
=== RUN   TestGetPluginDashboards
=== RUN   TestGetPluginDashboards/Not_signed_in_should_return_404_Not_Found
=== RUN   TestGetPluginDashboards/Signed_in_and_not_org_admin_should_return_403_Forbidden
=== RUN   TestGetPluginDashboards/Signed_in_and_org_admin
=== RUN   TestGetPluginDashboards/Signed_in_and_org_admin/When_plugin_doesn't_exist_should_return_404_Not_Found
=== RUN   TestGetPluginDashboards/Signed_in_and_org_admin/When_result_is_unexpected_error_should_return_500_Internal_Server_Error
=== RUN   TestGetPluginDashboards/Signed_in_and_org_admin/When_plugin_exists_should_return_200_OK_with_expected_payload
--- PASS: TestGetPluginDashboards (0.00s)
--- PASS: TestGetPluginDashboards/Not_signed_in_should_return_404_Not_Found (0.00s)
--- PASS: TestGetPluginDashboards/Signed_in_and_not_org_admin_should_return_403_Forbidden (0.00s)
--- PASS: TestGetPluginDashboards/Signed_in_and_org_admin (0.00s)
--- PASS: TestGetPluginDashboards/Signed_in_and_org_admin/When_plugin_doesn't_exist_should_return_404_Not_Found (0.00s)
--- PASS: TestGetPluginDashboards/Signed_in_and_org_admin/When_result_is_unexpected_error_should_return_500_Internal_Server_Error (0.00s)
--- PASS: TestGetPluginDashboards/Signed_in_and_org_admin/When_plugin_exists_should_return_200_OK_with_expected_payload (0.00s)
=== RUN   TestPluginMetricsEndpoint
=== RUN   TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled
=== RUN   TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled/Endpoint_matches_and_plugin_is_registered
=== RUN   TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled/Endpoint_matches_and_plugin_is_not_registered
=== RUN   TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled/Endpoint_does_not_match
=== RUN   TestPluginMetricsEndpoint/Endpoint_and_basic_auth_is_enabled
=== RUN   TestPluginMetricsEndpoint/Endpoint_and_basic_auth_is_enabled/When_plugin_is_registered,_wrong_basic_auth_credentials_should_return_401
=== RUN   TestPluginMetricsEndpoint/Endpoint_and_basic_auth_is_enabled/When_plugin_is_registered,_correct_basic_auth_credentials_should_return_200
=== RUN   TestPluginMetricsEndpoint/Endpoint_is_disabled
=== RUN   TestPluginMetricsEndpoint/Endpoint_is_disabled/When_plugin_is_registered,_should_return_404
--- PASS: TestPluginMetricsEndpoint (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled/Endpoint_matches_and_plugin_is_registered (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled/Endpoint_matches_and_plugin_is_not_registered (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_is_enabled,_basic_auth_disabled/Endpoint_does_not_match (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_and_basic_auth_is_enabled (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_and_basic_auth_is_enabled/When_plugin_is_registered,_wrong_basic_auth_credentials_should_return_401 (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_and_basic_auth_is_enabled/When_plugin_is_registered,_correct_basic_auth_credentials_should_return_200 (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_is_disabled (0.00s)
--- PASS: TestPluginMetricsEndpoint/Endpoint_is_disabled/When_plugin_is_registered,_should_return_404 (0.00s)
=== RUN   TestExtractPluginProxyPath
=== RUN   TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path
=== RUN   TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#01
=== RUN   TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#02
=== RUN   TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#03
=== RUN   TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#04
--- PASS: TestExtractPluginProxyPath (0.00s)
--- PASS: TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path (0.00s)
--- PASS: TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#01 (0.00s)
--- PASS: TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#02 (0.00s)
--- PASS: TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#03 (0.00s)
--- PASS: TestExtractPluginProxyPath/Given_raw_path,_should_extract_expected_proxy_path#04 (0.00s)
=== RUN   TestCallResource
=== RUN   TestCallResource/Test_successful_response_is_received_for_valid_request
=== RUN   TestCallResource/Test_successful_response_is_received_for_valid_request_with_the_colon_character
=== RUN   TestCallResource/CallResource_plugin_resource_request_is_created_correctly
=== RUN   TestCallResource/CallResource_plugin_resource_request_is_created_correctly/Simple_URL
=== RUN   TestCallResource/CallResource_plugin_resource_request_is_created_correctly/URL_with_query_params
=== RUN   TestCallResource/Test_error_is_properly_propagated_to_API_response
--- PASS: TestCallResource (0.04s)
--- PASS: TestCallResource/Test_successful_response_is_received_for_valid_request (0.00s)
--- PASS: TestCallResource/Test_successful_response_is_received_for_valid_request_with_the_colon_character (0.00s)
--- PASS: TestCallResource/CallResource_plugin_resource_request_is_created_correctly (0.00s)
--- PASS: TestCallResource/CallResource_plugin_resource_request_is_created_correctly/Simple_URL (0.00s)
--- PASS: TestCallResource/CallResource_plugin_resource_request_is_created_correctly/URL_with_query_params (0.00s)
--- PASS: TestCallResource/Test_error_is_properly_propagated_to_API_response (0.00s)
=== RUN   Test_PluginsInstallAndUninstall
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_200_when_adminEnabled:_true,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_200_when_adminEnabled:_true,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_404_when_adminEnabled:_false,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_404_when_adminEnabled:_false,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_404_when_adminEnabled:_false,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_404_when_adminEnabled:_false,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:cannotinstall,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:cannotinstall,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:cannotinstall,_single_org:_true
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:cannotinstall,_single_org:_true
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_true
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_true
=== RUN   Test_PluginsInstallAndUninstall/Install_request_returns_409_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false
=== RUN   Test_PluginsInstallAndUninstall/Uninstall_request_returns_409_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false
--- PASS: Test_PluginsInstallAndUninstall (0.02s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_200_when_adminEnabled:_true,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_200_when_adminEnabled:_true,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_404_when_adminEnabled:_false,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_404_when_adminEnabled:_false,_externalEnabled:_true,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_404_when_adminEnabled:_false,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_404_when_adminEnabled:_false,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:cannotinstall,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:cannotinstall,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:cannotinstall,_single_org:_true (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_403_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:cannotinstall,_single_org:_true (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_true (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_200_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_1:_plugins:install,_single_org:_true (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Install_request_returns_409_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
--- PASS: Test_PluginsInstallAndUninstall/Uninstall_request_returns_409_when_adminEnabled:_true,_externalEnabled:_false,_permissions:_0:_plugins:install,_single_org:_false (0.00s)
=== RUN   Test_GetPluginAssetCDNRedirect
=== RUN   Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect
=== RUN   Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_CDN_plugin_on_/public/plugins/cdn-plugin/module.js
=== RUN   Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_CDN_plugin_on_/public/plugins/cdn-plugin/other/folder/file.js
=== RUN   Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_CDN_plugin_on_/public/plugins/cdn-plugin/double////slashes/file.js
=== RUN   Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_non-CDN_plugin_on_/public/plugins/non-cdn-plugin/module.js
--- PASS: Test_GetPluginAssetCDNRedirect (0.00s)
--- PASS: Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect (0.00s)
--- PASS: Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_CDN_plugin_on_/public/plugins/cdn-plugin/module.js (0.00s)
--- PASS: Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_CDN_plugin_on_/public/plugins/cdn-plugin/other/folder/file.js (0.00s)
--- PASS: Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_CDN_plugin_on_/public/plugins/cdn-plugin/double////slashes/file.js (0.00s)
--- PASS: Test_GetPluginAssetCDNRedirect/Plugin_CDN_asset_redirect/When_calling_GET_for_a_non-CDN_plugin_on_/public/plugins/non-cdn-plugin/module.js (0.00s)
=== RUN   Test_GetPluginAssets
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file/When_calling_GET_on_/public/plugins/test-plugin/1707030446
=== RUN   Test_GetPluginAssets/Given_a_request_for_a_relative_path
=== RUN   Test_GetPluginAssets/Given_a_request_for_a_relative_path/When_calling_GET_on_/public/plugins/test-plugin/../3486175441
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file_that_is_not_listed_as_a_signature_covered_file
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file_that_is_not_listed_as_a_signature_covered_file/When_calling_GET_on_/public/plugins/test-plugin/1707030446
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin_file
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin_file/When_calling_GET_on_/public/plugins/test-plugin/nonExistent
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin
=== RUN   Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin/When_calling_GET_on_/public/plugins/test-plugin/nonExistent
--- PASS: Test_GetPluginAssets (0.05s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file (0.05s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file/When_calling_GET_on_/public/plugins/test-plugin/1707030446 (0.05s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_a_relative_path (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_a_relative_path/When_calling_GET_on_/public/plugins/test-plugin/../3486175441 (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file_that_is_not_listed_as_a_signature_covered_file (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_existing_plugin_file_that_is_not_listed_as_a_signature_covered_file/When_calling_GET_on_/public/plugins/test-plugin/1707030446 (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin_file (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin_file/When_calling_GET_on_/public/plugins/test-plugin/nonExistent (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin (0.00s)
--- PASS: Test_GetPluginAssets/Given_a_request_for_an_non-existing_plugin/When_calling_GET_on_/public/plugins/test-plugin/nonExistent (0.00s)
=== RUN   TestMakePluginResourceRequest
--- PASS: TestMakePluginResourceRequest (0.00s)
=== RUN   TestMakePluginResourceRequestContentTypeUnique
=== RUN   TestMakePluginResourceRequestContentTypeUnique/content-type
=== RUN   TestMakePluginResourceRequestContentTypeUnique/Content-Type
=== RUN   TestMakePluginResourceRequestContentTypeUnique/CoNtEnT-TyPe
--- PASS: TestMakePluginResourceRequestContentTypeUnique (0.00s)
--- PASS: TestMakePluginResourceRequestContentTypeUnique/content-type (0.00s)
--- PASS: TestMakePluginResourceRequestContentTypeUnique/Content-Type (0.00s)
--- PASS: TestMakePluginResourceRequestContentTypeUnique/CoNtEnT-TyPe (0.00s)
=== RUN   TestMakePluginResourceRequestContentTypeEmpty
--- PASS: TestMakePluginResourceRequestContentTypeEmpty (0.00s)
=== RUN   TestPluginMarkdown
=== RUN   TestPluginMarkdown/Plugin_not_installed_returns_error
=== RUN   TestPluginMarkdown/File_fetch_will_be_retried_using_different_casing_if_error_occurs
=== RUN   TestPluginMarkdown/File_fetch_receive_cleaned_file_paths
=== RUN   TestPluginMarkdown/Non_markdown_file_request_returns_an_error
=== RUN   TestPluginMarkdown/Happy_path
--- PASS: TestPluginMarkdown (0.00s)
--- PASS: TestPluginMarkdown/Plugin_not_installed_returns_error (0.00s)
--- PASS: TestPluginMarkdown/File_fetch_will_be_retried_using_different_casing_if_error_occurs (0.00s)
--- PASS: TestPluginMarkdown/File_fetch_receive_cleaned_file_paths (0.00s)
--- PASS: TestPluginMarkdown/Non_markdown_file_request_returns_an_error (0.00s)
--- PASS: TestPluginMarkdown/Happy_path (0.00s)
=== RUN   Test_PluginsList_AccessControl
=== RUN   Test_PluginsList_AccessControl/should_only_be_able_to_list_core_plugins
=== RUN   Test_PluginsList_AccessControl/should_be_able_to_list_core_plugins_and_plugins_user_has_permission_to
--- PASS: Test_PluginsList_AccessControl (0.00s)
--- PASS: Test_PluginsList_AccessControl/should_only_be_able_to_list_core_plugins (0.00s)
--- PASS: Test_PluginsList_AccessControl/should_be_able_to_list_core_plugins_and_plugins_user_has_permission_to (0.00s)
=== RUN   TestHTTPServer_hasPluginRequestedPermissions
=== RUN   TestHTTPServer_hasPluginRequestedPermissions/no_warn_if_plugin_has_no_registration
=== RUN   TestHTTPServer_hasPluginRequestedPermissions/warn_if_user_does_not_have_plugin_permissions_globally
=== RUN   TestHTTPServer_hasPluginRequestedPermissions/no_warn_if_user_has_plugin_permissions_globally
=== RUN   TestHTTPServer_hasPluginRequestedPermissions/no_warn_if_user_has_plugin_permissions_in_single_organization
=== RUN   TestHTTPServer_hasPluginRequestedPermissions/warn_if_user_does_not_have_all_plugin_permissions
--- PASS: TestHTTPServer_hasPluginRequestedPermissions (0.00s)
--- PASS: TestHTTPServer_hasPluginRequestedPermissions/no_warn_if_plugin_has_no_registration (0.00s)
--- PASS: TestHTTPServer_hasPluginRequestedPermissions/warn_if_user_does_not_have_plugin_permissions_globally (0.00s)
--- PASS: TestHTTPServer_hasPluginRequestedPermissions/no_warn_if_user_has_plugin_permissions_globally (0.00s)
--- PASS: TestHTTPServer_hasPluginRequestedPermissions/no_warn_if_user_has_plugin_permissions_in_single_organization (0.00s)
--- PASS: TestHTTPServer_hasPluginRequestedPermissions/warn_if_user_does_not_have_all_plugin_permissions (0.00s)
=== RUN   Test_PluginsSettings
=== RUN   Test_PluginsSettings/should_only_be_able_to_get_plugin_settings
=== RUN   Test_PluginsSettings/should_return_a_plugin_error
--- PASS: Test_PluginsSettings (0.00s)
--- PASS: Test_PluginsSettings/should_only_be_able_to_get_plugin_settings (0.00s)
--- PASS: Test_PluginsSettings/should_return_a_plugin_error (0.00s)
=== RUN   Test_UpdatePluginSetting
=== RUN   Test_UpdatePluginSetting/should_return_an_error_when_trying_to_disable_an_auto-enabled_plugin
--- PASS: Test_UpdatePluginSetting (0.00s)
--- PASS: Test_UpdatePluginSetting/should_return_an_error_when_trying_to_disable_an_auto-enabled_plugin (0.00s)
=== RUN   TestAPIEndpoint_GetCurrentOrgPreferences
=== RUN   TestAPIEndpoint_GetCurrentOrgPreferences/AccessControl_allows_getting_org_preferences_with_correct_permissions
=== RUN   TestAPIEndpoint_GetCurrentOrgPreferences/AccessControl_prevents_getting_org_preferences_with_correct_permissions_in_another_org
=== RUN   TestAPIEndpoint_GetCurrentOrgPreferences/AccessControl_prevents_getting_org_preferences_with_incorrect_permissions
--- PASS: TestAPIEndpoint_GetCurrentOrgPreferences (0.00s)
--- PASS: TestAPIEndpoint_GetCurrentOrgPreferences/AccessControl_allows_getting_org_preferences_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_GetCurrentOrgPreferences/AccessControl_prevents_getting_org_preferences_with_correct_permissions_in_another_org (0.00s)
--- PASS: TestAPIEndpoint_GetCurrentOrgPreferences/AccessControl_prevents_getting_org_preferences_with_incorrect_permissions (0.00s)
=== RUN   TestAPIEndpoint_PutCurrentOrgPreferences
=== RUN   TestAPIEndpoint_PutCurrentOrgPreferences/AccessControl_allows_updating_org_preferences_with_correct_permissions
=== RUN   TestAPIEndpoint_PutCurrentOrgPreferences/AccessControl_prevents_updating_org_preferences_with_correct_permissions_in_another_org
=== RUN   TestAPIEndpoint_PutCurrentOrgPreferences/AccessControl_prevents_updating_org_preferences_with_incorrect_permissions
--- PASS: TestAPIEndpoint_PutCurrentOrgPreferences (0.00s)
--- PASS: TestAPIEndpoint_PutCurrentOrgPreferences/AccessControl_allows_updating_org_preferences_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_PutCurrentOrgPreferences/AccessControl_prevents_updating_org_preferences_with_correct_permissions_in_another_org (0.00s)
--- PASS: TestAPIEndpoint_PutCurrentOrgPreferences/AccessControl_prevents_updating_org_preferences_with_incorrect_permissions (0.00s)
=== RUN   TestAPIEndpoint_PatchUserPreferences
=== RUN   TestAPIEndpoint_PatchUserPreferences/Returns_200_on_success
=== RUN   TestAPIEndpoint_PatchUserPreferences/Returns_400_with_bad_data
=== RUN   TestAPIEndpoint_PatchUserPreferences/Returns_200_on_success#01
--- PASS: TestAPIEndpoint_PatchUserPreferences (0.00s)
--- PASS: TestAPIEndpoint_PatchUserPreferences/Returns_200_on_success (0.00s)
--- PASS: TestAPIEndpoint_PatchUserPreferences/Returns_400_with_bad_data (0.00s)
--- PASS: TestAPIEndpoint_PatchUserPreferences/Returns_200_on_success#01 (0.00s)
=== RUN   TestAPIEndpoint_PatchOrgPreferences
=== RUN   TestAPIEndpoint_PatchOrgPreferences/Returns_200_on_success
=== RUN   TestAPIEndpoint_PatchOrgPreferences/Returns_400_with_bad_data
--- PASS: TestAPIEndpoint_PatchOrgPreferences (0.00s)
--- PASS: TestAPIEndpoint_PatchOrgPreferences/Returns_200_on_success (0.00s)
--- PASS: TestAPIEndpoint_PatchOrgPreferences/Returns_400_with_bad_data (0.00s)
=== RUN   TestAPIEndpoint_GetCurrentOrgQuotas
=== RUN   TestAPIEndpoint_GetCurrentOrgQuotas/AccessControl_allows_viewing_CurrentOrgQuotas_with_correct_permissions
=== RUN   TestAPIEndpoint_GetCurrentOrgQuotas/AccessControl_prevents_viewing_CurrentOrgQuotas_with_correct_permissions_in_another_org
=== RUN   TestAPIEndpoint_GetCurrentOrgQuotas/AccessControl_prevents_viewing_CurrentOrgQuotas_with_incorrect_permissions
--- PASS: TestAPIEndpoint_GetCurrentOrgQuotas (0.00s)
--- PASS: TestAPIEndpoint_GetCurrentOrgQuotas/AccessControl_allows_viewing_CurrentOrgQuotas_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_GetCurrentOrgQuotas/AccessControl_prevents_viewing_CurrentOrgQuotas_with_correct_permissions_in_another_org (0.00s)
--- PASS: TestAPIEndpoint_GetCurrentOrgQuotas/AccessControl_prevents_viewing_CurrentOrgQuotas_with_incorrect_permissions (0.00s)
=== RUN   TestAPIEndpoint_GetOrgQuotas
=== RUN   TestAPIEndpoint_GetOrgQuotas/AccessControl_allows_viewing_another_org_quotas_with_correct_permissions
=== RUN   TestAPIEndpoint_GetOrgQuotas/AccessControl_prevents_viewing_another_org_quotas_with_correct_permissions_in_another_org
=== RUN   TestAPIEndpoint_GetOrgQuotas/AccessControl_prevents_viewing_another_org_quotas_with_incorrect_permissions
--- PASS: TestAPIEndpoint_GetOrgQuotas (0.00s)
--- PASS: TestAPIEndpoint_GetOrgQuotas/AccessControl_allows_viewing_another_org_quotas_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_GetOrgQuotas/AccessControl_prevents_viewing_another_org_quotas_with_correct_permissions_in_another_org (0.00s)
--- PASS: TestAPIEndpoint_GetOrgQuotas/AccessControl_prevents_viewing_another_org_quotas_with_incorrect_permissions (0.00s)
=== RUN   TestAPIEndpoint_PutOrgQuotas
=== RUN   TestAPIEndpoint_PutOrgQuotas/AccessControl_allows_updating_another_org_quotas_with_correct_permissions
=== RUN   TestAPIEndpoint_PutOrgQuotas/AccessControl_prevents_updating_another_org_quotas_with_correct_permissions_in_another_org
=== RUN   TestAPIEndpoint_PutOrgQuotas/AccessControl_prevents_updating_another_org_quotas_with_incorrect_permissions
--- PASS: TestAPIEndpoint_PutOrgQuotas (0.01s)
--- PASS: TestAPIEndpoint_PutOrgQuotas/AccessControl_allows_updating_another_org_quotas_with_correct_permissions (0.00s)
--- PASS: TestAPIEndpoint_PutOrgQuotas/AccessControl_prevents_updating_another_org_quotas_with_correct_permissions_in_another_org (0.00s)
--- PASS: TestAPIEndpoint_PutOrgQuotas/AccessControl_prevents_updating_another_org_quotas_with_incorrect_permissions (0.00s)
=== RUN   TestShortURLAPIEndpoint
=== RUN   TestShortURLAPIEndpoint/Given_a_correct_request_for_creating_a_shortUrl
=== RUN   TestShortURLAPIEndpoint/Given_a_correct_request_for_creating_a_shortUrl/When_calling_POST_on_/api/short-urls
--- PASS: TestShortURLAPIEndpoint (0.00s)
--- PASS: TestShortURLAPIEndpoint/Given_a_correct_request_for_creating_a_shortUrl (0.00s)
--- PASS: TestShortURLAPIEndpoint/Given_a_correct_request_for_creating_a_shortUrl/When_calling_POST_on_/api/short-urls (0.00s)
=== RUN   TestUserAPIEndpoint_userLoggedIn
=== RUN   TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_api/users/1
=== RUN   TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_/api/users/lookup
=== RUN   TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_/api/users
=== RUN   TestUserAPIEndpoint_userLoggedIn/When_calling_GET_with_page_and_limit_querystring_parameters_on_/api/users
=== RUN   TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_/api/users/search
=== RUN   TestUserAPIEndpoint_userLoggedIn/When_calling_GET_with_page_and_perpage_querystring_parameters_on_/api/users/search
--- PASS: TestUserAPIEndpoint_userLoggedIn (0.02s)
--- PASS: TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_api/users/1 (0.02s)
--- PASS: TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_/api/users/lookup (0.00s)
--- PASS: TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_/api/users (0.00s)
--- PASS: TestUserAPIEndpoint_userLoggedIn/When_calling_GET_with_page_and_limit_querystring_parameters_on_/api/users (0.00s)
--- PASS: TestUserAPIEndpoint_userLoggedIn/When_calling_GET_on_/api/users/search (0.00s)
--- PASS: TestUserAPIEndpoint_userLoggedIn/When_calling_GET_with_page_and_perpage_querystring_parameters_on_/api/users/search (0.00s)
=== RUN   Test_GetUserByID
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_OAuth_user_if_Grafana_Admin_role_is_not_synced
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_OAuth_user_if_OAuth_provider_is_not_enabled
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_OAuth_user_if_org_roles_are_not_being_synced
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_true_for_an_externally_synced_OAuth_user
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_JWT_user_if_Grafana_Admin_role_is_not_synced
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_JWT_user_if_JWT_provider_is_not_enabled
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_JWT_user_if_org_roles_are_not_being_synced
=== RUN   Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_true_for_an_externally_synced_JWT_user
=== RUN   Test_GetUserByID/Should_return_IsExternallySynced_=_true_for_an_externally_synced_SAML_user
=== RUN   Test_GetUserByID/Should_return_IsExternallySynced_=_false_for_an_externally_synced_SAML_user_if_SAML_provider_is_not_enabled
=== RUN   Test_GetUserByID/Should_return_IsExternallySynced_=_false_for_an_externally_synced_SAML_user_if__if_org_roles_are_not_being_synced
--- PASS: Test_GetUserByID (0.01s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_OAuth_user_if_Grafana_Admin_role_is_not_synced (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_OAuth_user_if_OAuth_provider_is_not_enabled (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_OAuth_user_if_org_roles_are_not_being_synced (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_true_for_an_externally_synced_OAuth_user (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_JWT_user_if_Grafana_Admin_role_is_not_synced (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_JWT_user_if_JWT_provider_is_not_enabled (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_false_for_an_externally_synced_JWT_user_if_org_roles_are_not_being_synced (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsGrafanaAdminExternallySynced_=_true_for_an_externally_synced_JWT_user (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsExternallySynced_=_true_for_an_externally_synced_SAML_user (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsExternallySynced_=_false_for_an_externally_synced_SAML_user_if_SAML_provider_is_not_enabled (0.00s)
--- PASS: Test_GetUserByID/Should_return_IsExternallySynced_=_false_for_an_externally_synced_SAML_user_if__if_org_roles_are_not_being_synced (0.00s)
=== RUN   TestHTTPServer_UpdateUser
=== RUN   TestHTTPServer_UpdateUser/Should_return_403_when_the_current_User_is_an_external_user_/api/users/1
--- PASS: TestHTTPServer_UpdateUser (0.00s)
--- PASS: TestHTTPServer_UpdateUser/Should_return_403_when_the_current_User_is_an_external_user_/api/users/1 (0.00s)
=== RUN   TestUser_UpdateEmail
=== RUN   TestUser_UpdateEmail/Updating_Email_field
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/users/1
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/user
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/users/1
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/user
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/users/1
=== RUN   TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/user
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/users/1
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/user
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/users/1
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/user
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/users/1
=== RUN   TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/user
=== RUN   TestUser_UpdateEmail/Update_Email_and_disregard_other_fields
=== RUN   TestUser_UpdateEmail/Update_Email_when_Login_was_also_an_email_should_update_both
=== RUN   TestUser_UpdateEmail/Update_Login_with_an_email_should_update_Email_too
=== RUN   TestUser_UpdateEmail/Update_Login_should_not_need_verification_if_it_is_not_an_email
=== RUN   TestUser_UpdateEmail/Update_Login_should_not_need_verification_if_it_is_being_updated_to_the_already_configured_email
=== RUN   TestUser_UpdateEmail/Update_Login_and_Email_with_different_email_values_at_once_should_disregard_the_Login_update
=== RUN   TestUser_UpdateEmail/Update_Login_and_Email_with_different_email_values_at_once_when_Login_was_already_an_email_should_update_both_with_Email
=== RUN   TestUser_UpdateEmail/Email_verification_should_expire
=== RUN   TestUser_UpdateEmail/A_new_verification_should_revoke_other_pending_verifications
=== RUN   TestUser_UpdateEmail/Email_verification_should_fail_if_code_is_not_valid
=== RUN   TestUser_UpdateEmail/Email_verification_code_can_only_be_used_once
=== RUN   TestUser_UpdateEmail/Update_Email_with_an_email_that_is_already_being_used_should_fail
=== RUN   TestUser_UpdateEmail/Update_Email_with_an_email_that_is_already_being_used_should_fail/when_Email_clashes
=== RUN   TestUser_UpdateEmail/Update_Email_with_an_email_that_is_already_being_used_should_fail/when_Login_clashes
--- PASS: TestUser_UpdateEmail (0.12s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field (0.01s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying (0.01s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/users/1 (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/user (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/users/1 (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/user (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/users/1 (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Email_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/user (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field (0.01s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying (0.01s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/users/1 (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/SMTP_not_configured_/api/user (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/users/1 (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_/api/user (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/users/1 (0.00s)
--- PASS: TestUser_UpdateEmail/Updating_Login_(username)_field/With_verification_disabled_should_update_without_verifying/config_verify_email_enabled_=_false_and_SMTP_not_configured_/api/user (0.00s)
--- PASS: TestUser_UpdateEmail/Update_Email_and_disregard_other_fields (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Email_when_Login_was_also_an_email_should_update_both (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Login_with_an_email_should_update_Email_too (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Login_should_not_need_verification_if_it_is_not_an_email (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Login_should_not_need_verification_if_it_is_being_updated_to_the_already_configured_email (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Login_and_Email_with_different_email_values_at_once_should_disregard_the_Login_update (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Login_and_Email_with_different_email_values_at_once_when_Login_was_already_an_email_should_update_both_with_Email (0.01s)
--- PASS: TestUser_UpdateEmail/Email_verification_should_expire (0.01s)
--- PASS: TestUser_UpdateEmail/A_new_verification_should_revoke_other_pending_verifications (0.01s)
--- PASS: TestUser_UpdateEmail/Email_verification_should_fail_if_code_is_not_valid (0.01s)
--- PASS: TestUser_UpdateEmail/Email_verification_code_can_only_be_used_once (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Email_with_an_email_that_is_already_being_used_should_fail (0.01s)
--- PASS: TestUser_UpdateEmail/Update_Email_with_an_email_that_is_already_being_used_should_fail/when_Email_clashes (0.00s)
--- PASS: TestUser_UpdateEmail/Update_Email_with_an_email_that_is_already_being_used_should_fail/when_Login_clashes (0.00s)
=== RUN   TestHTTPServer_UpdateSignedInUser
=== RUN   TestHTTPServer_UpdateSignedInUser/Should_return_403_when_the_current_User_is_an_external_user_/api/users/
--- PASS: TestHTTPServer_UpdateSignedInUser (0.00s)
--- PASS: TestHTTPServer_UpdateSignedInUser/Should_return_403_when_the_current_User_is_an_external_user_/api/users/ (0.00s)
=== RUN   TestUserTokenAPIEndpoint
=== RUN   TestUserTokenAPIEndpoint/When_current_user_attempts_to_revoke_an_auth_token_for_a_non-existing_user
=== RUN   TestUserTokenAPIEndpoint/When_current_user_attempts_to_revoke_an_auth_token_for_a_non-existing_user/Should_return_not_found_when_calling_POST_on_/api/user/revoke-auth-token
=== RUN   TestUserTokenAPIEndpoint/When_current_user_gets_auth_tokens_for_a_non-existing_user
=== RUN   TestUserTokenAPIEndpoint/When_current_user_gets_auth_tokens_for_a_non-existing_user/Should_return_not_found_when_calling_GET_on_/api/user/auth-tokens
=== RUN   TestUserTokenAPIEndpoint/When_logging_out_an_existing_user_from_all_devices
=== RUN   TestUserTokenAPIEndpoint/When_logging_out_an_existing_user_from_all_devices/Should_be_successful
=== RUN   TestUserTokenAPIEndpoint/When_logout_a_non-existing_user_from_all_devices
=== RUN   TestUserTokenAPIEndpoint/When_logout_a_non-existing_user_from_all_devices/Should_return_not_found
=== RUN   TestUserTokenAPIEndpoint/When_revoke_an_auth_token_for_a_user
=== RUN   TestUserTokenAPIEndpoint/When_revoke_an_auth_token_for_a_user/Should_be_successful
=== RUN   TestUserTokenAPIEndpoint/When_revoke_the_active_auth_token_used_by_himself
=== RUN   TestUserTokenAPIEndpoint/When_revoke_the_active_auth_token_used_by_himself/Should_not_be_successful
=== RUN   TestUserTokenAPIEndpoint/When_gets_auth_tokens_for_a_user
=== RUN   TestUserTokenAPIEndpoint/When_gets_auth_tokens_for_a_user/Should_be_successful
--- PASS: TestUserTokenAPIEndpoint (0.08s)
--- PASS: TestUserTokenAPIEndpoint/When_current_user_attempts_to_revoke_an_auth_token_for_a_non-existing_user (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_current_user_attempts_to_revoke_an_auth_token_for_a_non-existing_user/Should_return_not_found_when_calling_POST_on_/api/user/revoke-auth-token (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_current_user_gets_auth_tokens_for_a_non-existing_user (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_current_user_gets_auth_tokens_for_a_non-existing_user/Should_return_not_found_when_calling_GET_on_/api/user/auth-tokens (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_logging_out_an_existing_user_from_all_devices (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_logging_out_an_existing_user_from_all_devices/Should_be_successful (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_logout_a_non-existing_user_from_all_devices (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_logout_a_non-existing_user_from_all_devices/Should_return_not_found (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_revoke_an_auth_token_for_a_user (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_revoke_an_auth_token_for_a_user/Should_be_successful (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_revoke_the_active_auth_token_used_by_himself (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_revoke_the_active_auth_token_used_by_himself/Should_not_be_successful (0.00s)
--- PASS: TestUserTokenAPIEndpoint/When_gets_auth_tokens_for_a_user (0.07s)
--- PASS: TestUserTokenAPIEndpoint/When_gets_auth_tokens_for_a_user/Should_be_successful (0.07s)
=== RUN   TestHTTPServer_RotateUserAuthToken
=== RUN   TestHTTPServer_RotateUserAuthToken/Should_return_401_and_delete_cookie_if_the_token_is_invalid
=== RUN   TestHTTPServer_RotateUserAuthToken/Should_return_401_and_when_token_not_found
=== RUN   TestHTTPServer_RotateUserAuthToken/Should_return_200_and_but_not_set_new_cookie_if_token_was_not_rotated
=== RUN   TestHTTPServer_RotateUserAuthToken/Should_return_200_and_set_new_session_and_expiry_cookies
--- PASS: TestHTTPServer_RotateUserAuthToken (0.01s)
--- PASS: TestHTTPServer_RotateUserAuthToken/Should_return_401_and_delete_cookie_if_the_token_is_invalid (0.00s)
--- PASS: TestHTTPServer_RotateUserAuthToken/Should_return_401_and_when_token_not_found (0.00s)
--- PASS: TestHTTPServer_RotateUserAuthToken/Should_return_200_and_but_not_set_new_cookie_if_token_was_not_rotated (0.00s)
--- PASS: TestHTTPServer_RotateUserAuthToken/Should_return_200_and_set_new_session_and_expiry_cookies (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api	1.705s
=== RUN   TestToFolderErrorResponse
=== RUN   TestToFolderErrorResponse/dashboard_error
=== RUN   TestToFolderErrorResponse/folder_title_empty
=== RUN   TestToFolderErrorResponse/dashboard_type_mismatch
=== RUN   TestToFolderErrorResponse/dashboard_invalid_uid
=== RUN   TestToFolderErrorResponse/dashboard_uid_too_long
=== RUN   TestToFolderErrorResponse/folder_access_denied
=== RUN   TestToFolderErrorResponse/folder_not_found
=== RUN   TestToFolderErrorResponse/folder_with_same_uid_exists
=== RUN   TestToFolderErrorResponse/folder_version_mismatch
=== RUN   TestToFolderErrorResponse/folder_max_depth_reached
=== RUN   TestToFolderErrorResponse/fallback_error
=== RUN   TestToFolderErrorResponse/kubernetes_status_error
--- PASS: TestToFolderErrorResponse (0.00s)
--- PASS: TestToFolderErrorResponse/dashboard_error (0.00s)
--- PASS: TestToFolderErrorResponse/folder_title_empty (0.00s)
--- PASS: TestToFolderErrorResponse/dashboard_type_mismatch (0.00s)
--- PASS: TestToFolderErrorResponse/dashboard_invalid_uid (0.00s)
--- PASS: TestToFolderErrorResponse/dashboard_uid_too_long (0.00s)
--- PASS: TestToFolderErrorResponse/folder_access_denied (0.00s)
--- PASS: TestToFolderErrorResponse/folder_not_found (0.00s)
--- PASS: TestToFolderErrorResponse/folder_with_same_uid_exists (0.00s)
--- PASS: TestToFolderErrorResponse/folder_version_mismatch (0.00s)
--- PASS: TestToFolderErrorResponse/folder_max_depth_reached (0.00s)
--- PASS: TestToFolderErrorResponse/fallback_error (0.00s)
--- PASS: TestToFolderErrorResponse/kubernetes_status_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/apierrors	(cached)
=== RUN   TestAvatar_AvatarRetrieval
--- PASS: TestAvatar_AvatarRetrieval (0.00s)
=== RUN   TestAvatar_CheckCustom
--- PASS: TestAvatar_CheckCustom (0.00s)
=== RUN   TestAvatar_FallbackCase
--- PASS: TestAvatar_FallbackCase (0.00s)
=== RUN   TestAvatar_ExpirationHandler
--- PASS: TestAvatar_ExpirationHandler (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/avatar	(cached)
?   	github.com/grafana/grafana/pkg/api/datasource	[no test files]
=== RUN   TestGetUniqueDatasourceTypes
=== RUN   TestGetUniqueDatasourceTypes/can_get_unique_datasource_names
=== RUN   TestGetUniqueDatasourceTypes/returns_empty_slice_when_datasources_have_no_type_property
--- PASS: TestGetUniqueDatasourceTypes (0.00s)
--- PASS: TestGetUniqueDatasourceTypes/can_get_unique_datasource_names (0.00s)
--- PASS: TestGetUniqueDatasourceTypes/returns_empty_slice_when_datasources_have_no_type_property (0.00s)
=== RUN   TestIsHiddenUser
=== RUN   TestIsHiddenUser/non-server_admin_user_should_see_non-hidden_user
=== RUN   TestIsHiddenUser/non-server_admin_user_should_not_see_hidden_user
=== RUN   TestIsHiddenUser/non-server_admin_user_should_see_himself,_even_if_he's_hidden
=== RUN   TestIsHiddenUser/server_admin_user_should_see_hidden_user
=== RUN   TestIsHiddenUser/server_admin_user_should_see_non-hidden_user
--- PASS: TestIsHiddenUser (0.00s)
--- PASS: TestIsHiddenUser/non-server_admin_user_should_see_non-hidden_user (0.00s)
--- PASS: TestIsHiddenUser/non-server_admin_user_should_not_see_hidden_user (0.00s)
--- PASS: TestIsHiddenUser/non-server_admin_user_should_see_himself,_even_if_he's_hidden (0.00s)
--- PASS: TestIsHiddenUser/server_admin_user_should_see_hidden_user (0.00s)
--- PASS: TestIsHiddenUser/server_admin_user_should_see_non-hidden_user (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/dtos	(cached)
?   	github.com/grafana/grafana/pkg/api/frontendlogging	[no test files]
=== RUN   TestApplyRoute_interpolateAuthParams
=== RUN   TestApplyRoute_interpolateAuthParams/should_interpolate_JWTTokenAuth_struct_using_given_JsonData
=== RUN   TestApplyRoute_interpolateAuthParams/should_return_Nil_if_given_JWTTokenAuth_is_Nil
=== RUN   TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty
=== RUN   TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty/template_expressions_in_url_should_resolve_to_<no_value>
=== RUN   TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty/template_expressions_in_params_resolve_to_<no_value>
=== RUN   TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty/template_expressions_with_orEmpty_should_resolve_to_empty_string
--- PASS: TestApplyRoute_interpolateAuthParams (0.00s)
--- PASS: TestApplyRoute_interpolateAuthParams/should_interpolate_JWTTokenAuth_struct_using_given_JsonData (0.00s)
--- PASS: TestApplyRoute_interpolateAuthParams/should_return_Nil_if_given_JWTTokenAuth_is_Nil (0.00s)
--- PASS: TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty (0.00s)
--- PASS: TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty/template_expressions_in_url_should_resolve_to_<no_value> (0.00s)
--- PASS: TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty/template_expressions_in_params_resolve_to_<no_value> (0.00s)
--- PASS: TestApplyRoute_interpolateAuthParams/when_plugin_data_is_empty/template_expressions_with_orEmpty_should_resolve_to_empty_string (0.00s)
=== RUN   TestDataSourceProxy_routeRule
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_and_has_dynamic_url
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_with_no_url
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_and_has_setting_url
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_and_has_dynamic_body
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_ending_with_a_slash
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_proxy_path_is_already_encoded
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request/plugin_route_with_valid_role
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request/plugin_route_with_admin_role_and_user_is_editor
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request/plugin_route_with_admin_role_and_user_is_admin
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_RBAC_protection_user_is_allowed
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_RBAC_protection_user_is_not_allowed
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_dynamic_RBAC_protection_user_is_allowed
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_dynamic_RBAC_protection_user_is_not_allowed
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens/first_call_should_add_authorization_header_with_access_token
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens/first_call_should_add_authorization_header_with_access_token/second_call_to_another_route_should_add_a_different_access_token
=== RUN   TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens/first_call_should_add_authorization_header_with_access_token/second_call_to_another_route_should_add_a_different_access_token/third_call_to_first_route_should_add_cached_access_token
=== RUN   TestDataSourceProxy_routeRule/When_proxying_graphite
=== RUN   TestDataSourceProxy_routeRule/When_proxying_graphite/Can_translate_request_URL_and_path
=== RUN   TestDataSourceProxy_routeRule/When_proxying_InfluxDB
=== RUN   TestDataSourceProxy_routeRule/When_proxying_a_data_source_with_no_keepCookies_specified
=== RUN   TestDataSourceProxy_routeRule/When_proxying_a_data_source_with_keep_cookies_specified
=== RUN   TestDataSourceProxy_routeRule/When_proxying_a_custom_datasource
=== RUN   TestDataSourceProxy_routeRule/When_proxying_a_datasource_that_has_OAuth_token_pass-through_enabled
=== RUN   TestDataSourceProxy_routeRule/When_SendUserHeader_config_is_enabled
=== RUN   TestDataSourceProxy_routeRule/When_SendUserHeader_config_is_disabled
=== RUN   TestDataSourceProxy_routeRule/When_SendUserHeader_config_is_enabled_but_user_is_anonymous
=== RUN   TestDataSourceProxy_routeRule/When_proxying_data_source_proxy_should_handle_authentication
--- PASS: TestDataSourceProxy_routeRule (0.33s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_and_has_dynamic_url (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_with_no_url (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_and_has_setting_url (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_and_has_dynamic_body (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_route_path_ending_with_a_slash (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/When_matching_proxy_path_is_already_encoded (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request/plugin_route_with_valid_role (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request/plugin_route_with_admin_role_and_user_is_editor (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/Validating_request/plugin_route_with_admin_role_and_user_is_admin (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_RBAC_protection_user_is_allowed (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_RBAC_protection_user_is_not_allowed (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_dynamic_RBAC_protection_user_is_allowed (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_routes/plugin_route_with_dynamic_RBAC_protection_user_is_not_allowed (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens/first_call_should_add_authorization_header_with_access_token (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens/first_call_should_add_authorization_header_with_access_token/second_call_to_another_route_should_add_a_different_access_token (0.00s)
--- PASS: TestDataSourceProxy_routeRule/Plugin_with_multiple_routes_for_token_auth/When_creating_and_caching_access_tokens/first_call_should_add_authorization_header_with_access_token/second_call_to_another_route_should_add_a_different_access_token/third_call_to_first_route_should_add_cached_access_token (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_graphite (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_graphite/Can_translate_request_URL_and_path (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_InfluxDB (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_a_data_source_with_no_keepCookies_specified (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_a_data_source_with_keep_cookies_specified (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_a_custom_datasource (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_a_datasource_that_has_OAuth_token_pass-through_enabled (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_SendUserHeader_config_is_enabled (0.28s)
--- PASS: TestDataSourceProxy_routeRule/When_SendUserHeader_config_is_disabled (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_SendUserHeader_config_is_enabled_but_user_is_anonymous (0.00s)
--- PASS: TestDataSourceProxy_routeRule/When_proxying_data_source_proxy_should_handle_authentication (0.03s)
=== RUN   TestDataSourceProxy_requestHandling
=== RUN   TestDataSourceProxy_requestHandling/When_response_header_Set-Cookie_is_not_set_should_remove_proxied_Set-Cookie_header
ds_proxy_test.go:690: Writing default response
=== RUN   TestDataSourceProxy_requestHandling/When_response_header_Set-Cookie_is_set_should_remove_proxied_Set-Cookie_header_and_restore_the_original_Set-Cookie_header
ds_proxy_test.go:690: Writing default response
=== RUN   TestDataSourceProxy_requestHandling/When_response_should_set_Content-Security-Policy_header
ds_proxy_test.go:690: Writing default response
=== RUN   TestDataSourceProxy_requestHandling/Data_source_returns_status_code_401
ds_proxy_test.go:684: Writing response via callback
ds_proxy_test.go:765: Wrote 401 response
=== RUN   TestDataSourceProxy_requestHandling/Data_source_should_handle_proxy_path_url_encoding_correctly
ds_proxy_test.go:684: Writing response via callback
=== RUN   TestDataSourceProxy_requestHandling/Data_source_should_handle_proxy_path_url_encoding_correctly_with_opentelemetry
ds_proxy_test.go:684: Writing response via callback
--- PASS: TestDataSourceProxy_requestHandling (0.01s)
--- PASS: TestDataSourceProxy_requestHandling/When_response_header_Set-Cookie_is_not_set_should_remove_proxied_Set-Cookie_header (0.00s)
--- PASS: TestDataSourceProxy_requestHandling/When_response_header_Set-Cookie_is_set_should_remove_proxied_Set-Cookie_header_and_restore_the_original_Set-Cookie_header (0.00s)
--- PASS: TestDataSourceProxy_requestHandling/When_response_should_set_Content-Security-Policy_header (0.00s)
--- PASS: TestDataSourceProxy_requestHandling/Data_source_returns_status_code_401 (0.00s)
--- PASS: TestDataSourceProxy_requestHandling/Data_source_should_handle_proxy_path_url_encoding_correctly (0.00s)
--- PASS: TestDataSourceProxy_requestHandling/Data_source_should_handle_proxy_path_url_encoding_correctly_with_opentelemetry (0.00s)
=== RUN   TestNewDataSourceProxy_InvalidURL
--- PASS: TestNewDataSourceProxy_InvalidURL (0.00s)
=== RUN   TestNewDataSourceProxy_ProtocolLessURL
--- PASS: TestNewDataSourceProxy_ProtocolLessURL (0.00s)
=== RUN   TestNewDataSourceProxy_MSSQL
=== RUN   TestNewDataSourceProxy_MSSQL/Valid_ODBC_URL
=== RUN   TestNewDataSourceProxy_MSSQL/Invalid_ODBC_URL
--- PASS: TestNewDataSourceProxy_MSSQL (0.00s)
--- PASS: TestNewDataSourceProxy_MSSQL/Valid_ODBC_URL (0.00s)
--- PASS: TestNewDataSourceProxy_MSSQL/Invalid_ODBC_URL (0.00s)
=== RUN   Test_PathCheck
--- PASS: Test_PathCheck (0.00s)
=== RUN   TestPluginProxy
=== RUN   TestPluginProxy/When_getting_proxy_headers
=== RUN   TestPluginProxy/When_SendUserHeader_config_is_enabled
=== RUN   TestPluginProxy/When_SendUserHeader_config_is_disabled
=== RUN   TestPluginProxy/When_SendUserHeader_config_is_enabled_but_user_is_anonymous
=== RUN   TestPluginProxy/When_getting_templated_url
=== RUN   TestPluginProxy/When_getting_complex_templated_url
=== RUN   TestPluginProxy/When_getting_templated_body
=== RUN   TestPluginProxy/When_proxying_a_request_should_set_expected_response_headers
--- PASS: TestPluginProxy (0.01s)
--- PASS: TestPluginProxy/When_getting_proxy_headers (0.01s)
--- PASS: TestPluginProxy/When_SendUserHeader_config_is_enabled (0.00s)
--- PASS: TestPluginProxy/When_SendUserHeader_config_is_disabled (0.00s)
--- PASS: TestPluginProxy/When_SendUserHeader_config_is_enabled_but_user_is_anonymous (0.00s)
--- PASS: TestPluginProxy/When_getting_templated_url (0.00s)
--- PASS: TestPluginProxy/When_getting_complex_templated_url (0.00s)
--- PASS: TestPluginProxy/When_getting_templated_body (0.00s)
--- PASS: TestPluginProxy/When_proxying_a_request_should_set_expected_response_headers (0.00s)
=== RUN   TestPluginProxyRoutes
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/notexists"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/some-api"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/some-api/instances"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/some-api/some/thing"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/some-api/instances/instance-one"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/some-other-api/some/thing"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/some-other-api/instances/instance-one"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/mypath/some-route/"_should_call_expected_URL
=== RUN   TestPluginProxyRoutes/When_proxying_path_"/mypath/some-route/"_should_call_expected_URL#01
--- PASS: TestPluginProxyRoutes (0.01s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/notexists"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/some-api"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/some-api/instances"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/some-api/some/thing"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/some-api/instances/instance-one"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/some-other-api/some/thing"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/some-other-api/instances/instance-one"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/mypath/some-route/"_should_call_expected_URL (0.00s)
--- PASS: TestPluginProxyRoutes/When_proxying_path_"/mypath/some-route/"_should_call_expected_URL#01 (0.00s)
=== RUN   TestPluginProxyRoutesAccessControl
=== RUN   TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/settings_OK
=== RUN   TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/settings_Forbidden
=== RUN   TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/projects_OK
=== RUN   TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/projects_Forbidden
=== RUN   TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/home_Forbidden
=== RUN   TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/home_OK
--- PASS: TestPluginProxyRoutesAccessControl (0.00s)
--- PASS: TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/settings_OK (0.00s)
--- PASS: TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/settings_Forbidden (0.00s)
--- PASS: TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/projects_OK (0.00s)
--- PASS: TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/projects_Forbidden (0.00s)
--- PASS: TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/home_Forbidden (0.00s)
--- PASS: TestPluginProxyRoutesAccessControl/Should_enforce_RBAC_when_proxying_path_/home_OK (0.00s)
=== RUN   TestAccessToken_pluginWithTokenAuthRoute
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_in_in_string_format
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_in_in_int_format
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_on_in_string_format
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_on_in_int_format
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_both_expires_on_and_expires_in,_should_prioritize_expiresOn
=== RUN   TestAccessToken_pluginWithTokenAuthRoute/Should_refetch_token_on_expire
--- PASS: TestAccessToken_pluginWithTokenAuthRoute (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_in_in_string_format (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_in_in_int_format (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_on_in_string_format (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_expires_on_in_int_format (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_parse_token,_with_different_fields_and_types/token_with_both_expires_on_and_expires_in,_should_prioritize_expiresOn (0.00s)
--- PASS: TestAccessToken_pluginWithTokenAuthRoute/Should_refetch_token_on_expire (0.00s)
=== RUN   TestInterpolateString
--- PASS: TestInterpolateString (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/pluginproxy	0.741s
=== RUN   TestErrors
=== RUN   TestErrors/base_case_Error
=== RUN   TestErrors/base_case_Err
=== RUN   TestErrors/base_case_ErrOrFallback
=== RUN   TestErrors/not_found_error_Error
=== RUN   TestErrors/not_found_error_Err
=== RUN   TestErrors/not_found_error_ErrOrFallback
=== RUN   TestErrors/grafana_error_with_fallback_to_other_error_Error
=== RUN   TestErrors/grafana_error_with_fallback_to_other_error_Err
=== RUN   TestErrors/grafana_error_with_fallback_to_other_error_ErrOrFallback
--- PASS: TestErrors (0.00s)
--- PASS: TestErrors/base_case_Error (0.00s)
--- PASS: TestErrors/base_case_Err (0.00s)
--- PASS: TestErrors/base_case_ErrOrFallback (0.00s)
--- PASS: TestErrors/not_found_error_Error (0.00s)
--- PASS: TestErrors/not_found_error_Err (0.00s)
--- PASS: TestErrors/not_found_error_ErrOrFallback (0.00s)
--- PASS: TestErrors/grafana_error_with_fallback_to_other_error_Error (0.00s)
--- PASS: TestErrors/grafana_error_with_fallback_to_other_error_Err (0.00s)
--- PASS: TestErrors/grafana_error_with_fallback_to_other_error_ErrOrFallback (0.00s)
=== RUN   TestRespond
=== RUN   TestRespond/with_body_of_type_[]byte
=== RUN   TestRespond/with_body_of_type_string
=== RUN   TestRespond/with_nil_body
=== RUN   TestRespond/with_body_of_type_struct
--- PASS: TestRespond (0.00s)
--- PASS: TestRespond/with_body_of_type_[]byte (0.00s)
--- PASS: TestRespond/with_body_of_type_string (0.00s)
--- PASS: TestRespond/with_nil_body (0.00s)
--- PASS: TestRespond/with_body_of_type_struct (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/response	(cached)
=== RUN   TestRouteSimpleRegister
--- PASS: TestRouteSimpleRegister (0.00s)
=== RUN   TestRouteGroupedRegister
--- PASS: TestRouteGroupedRegister (0.00s)
=== RUN   TestRouteGroupInserting
--- PASS: TestRouteGroupInserting (0.00s)
=== RUN   TestDuplicateRoutShouldPanic
--- PASS: TestDuplicateRoutShouldPanic (0.00s)
=== RUN   TestNamedMiddlewareRouteRegister
--- PASS: TestNamedMiddlewareRouteRegister (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/routing	(cached)
?   	github.com/grafana/grafana/pkg/api/static	[no test files]
=== RUN   TestReadWebassets
{
"cdn": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/",
"jsFiles": [
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/runtime.js",
"integrity": "sha256-tM4AGASn3Cb8139+wp3w6rlo3ELFAuUW7K4Pifx226o= sha384-DfxxsYWb0+RxiXOr+wtCSzAAYGecffq/iHyn6CN9tHmaORv1sS+rsrnlnJo2jPQD sha512-qSxdqrx0mJLY1mdkbKrkCyqOoIEgFqzCoY9+uIuFRIVDPFbb2nJy0NtaKMQvDJnAzIrJFwzwW1e250T4WqQNiQ=="
},
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/default-packages_grafana-ui_src_components_Layout_Stack_Stack_tsx-packages_grafana-ui_src_com-2a3620.js",
"integrity": "sha256-+0bPuBGKFGglkXvW4oPiolrNveozRLZVLUrbCYsbVcM= sha384-EIayAgykdDWmyilAuXo4ad96v3tRqdWZp+BHdeDpSSsbAMeg+eoBBbk2Yh219kDg sha512-+jn7kmQ9Id8aTIe66TD+vM+W19cTIVexEfkxbxgqXdJyJ72qalN6ccWyP1ro1w/E1R/laZGNLz1LBc1I4u2Isw=="
},
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/app.js",
"integrity": "sha256-IOZKp3piC3vddDXP5jy5rIw0vb0KKEOg/k9EGrIxskk= sha384-CBNr5W0pJ23LQMnz5BZI1iVBIExOmF/wpqkEnBtYu9R/yYJIzjpv8KT0a3TBulOi sha512-ockzlzgosuZvLittZrSzh8lexEIZF9iKpy6J9Ii4es3e4D34FpWhHJhDZGpxLVraX4ypLofrDp2Yy0sdUbdi7w=="
}
],
"cssFiles": [
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/grafana.app.91aaa9d81398c147a57c.css",
"integrity": "sha256-77rfikk+dYkH82TOmcmleVoDOHZQdhzVX9gDLcgPbtQ= sha384-IOTlZ1IvTVq5ekKLoaE3/SoZ12K1eExOAnSw9BzkgQ3+RcyQpb1S5hO2w//IIkRB sha512-0Ct3uJBFQIkyxYTvMxseA1cphe2RivXQ2MCbiV0hEm5NzWPiY9sq2P4ay5dXz5v35c++4W47KaknoWlc83bQJQ=="
}
],
"dark": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/grafana.dark.722d809dba5a31f57d49.css",
"light": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/grafana.light.2fbd901d840329c18394.css",
"swagger": [
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/runtime.js",
"integrity": "sha256-tM4AGASn3Cb8139+wp3w6rlo3ELFAuUW7K4Pifx226o= sha384-DfxxsYWb0+RxiXOr+wtCSzAAYGecffq/iHyn6CN9tHmaORv1sS+rsrnlnJo2jPQD sha512-qSxdqrx0mJLY1mdkbKrkCyqOoIEgFqzCoY9+uIuFRIVDPFbb2nJy0NtaKMQvDJnAzIrJFwzwW1e250T4WqQNiQ=="
},
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/swagger.js",
"integrity": "sha256-wLlip7zRYODW/TPcI5JZPRdmWirc1KD+UcNF+8V9RBk= sha384-6VGD+LgCpjMZN/ORSjWcrWa9diUzQO3OfEhP0D2ZluSwP4IT+0kH7KEeD9NVbojd sha512-vZOCFzBZBhd34yGv8z7P4Gw4WLVR9HjpuK0y6Kcw+pCBk5Dv9qHBg3ZVs6s0tOnUmiMWwgL4Ne8f+zgiuJVPqg=="
}
],
"swaggerCssFiles": [
{
"filePath": "https://grafana-assets.grafana.net/grafana/10.3.0-64123/public/build/grafana.swagger.2733d417270d5dd49373.css",
"integrity": "sha256-GNcHNgIAT7S+J4X7seFjlvNPC1bRhM15d0cQBm3VFoQ= sha384-ywztCBf8uF0tTFjC1mLth33RI2WuFURN3dRy7Bv2PheGzbWJpwlgo9+mtT2Zm7mO sha512-e4c+VedZGqcwLqwfdqRWonggRPO0gjJ7Z0YbXK5z4bFTsUIc+x8ycIJG+eQaf8cuHlsakG4hkWNkRwLBazcFAg=="
}
]
}
--- PASS: TestReadWebassets (0.00s)
=== RUN   TestReadWebassetsFromCDN
webassets_test.go:111:
--- SKIP: TestReadWebassetsFromCDN (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/api/webassets	0.035s
?   	github.com/grafana/grafana/pkg/apis/dashboardsnapshot/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/apis/datasource/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/apis/featuretoggle/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/apis/iam/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/apis/provisioning/v0alpha1	[no test files]
=== RUN   TestParseQueriesIntoQueryDataRequest
--- PASS: TestParseQueriesIntoQueryDataRequest (0.00s)
=== RUN   TestGetResponseCode
=== RUN   TestGetResponseCode/return_200_if_no_errors_in_responses
=== RUN   TestGetResponseCode/return_400_if_there_is_an_error_in_the_responses
=== RUN   TestGetResponseCode/return_400_if_there_is_a_partial_error
--- PASS: TestGetResponseCode (0.00s)
--- PASS: TestGetResponseCode/return_200_if_no_errors_in_responses (0.00s)
--- PASS: TestGetResponseCode/return_400_if_there_is_an_error_in_the_responses (0.00s)
--- PASS: TestGetResponseCode/return_400_if_there_is_a_partial_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apis/query/v0alpha1	(cached)
=== RUN   TestFormat
--- PASS: TestFormat (0.00s)
=== RUN   TestNestedFieldRender
--- PASS: TestNestedFieldRender (0.00s)
=== RUN   TestNestedFieldDefaultsRender
--- PASS: TestNestedFieldDefaultsRender (0.00s)
=== RUN   TestMultiVarTemplate
--- PASS: TestMultiVarTemplate (0.00s)
=== RUN   TestRenderWithRune
--- PASS: TestRenderWithRune (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apis/query/v0alpha1/template	(cached)
?   	github.com/grafana/grafana/pkg/apis/service/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/apis/userstorage/v0alpha1	[no test files]
=== RUN   TestEventPublish
--- PASS: TestEventPublish (0.00s)
=== RUN   TestEventPublish_NoRegisteredListener
--- PASS: TestEventPublish_NoRegisteredListener (0.00s)
=== RUN   TestEventCtxPublishCtx
--- PASS: TestEventCtxPublishCtx (0.00s)
=== RUN   TestEventPublishCtx_NoRegisteredListener
--- PASS: TestEventPublishCtx_NoRegisteredListener (0.00s)
=== RUN   TestEventPublishCtx
--- PASS: TestEventPublishCtx (0.00s)
=== RUN   TestEventCtxPublish
--- PASS: TestEventCtxPublish (0.00s)
=== RUN   TestEventListenerError
--- PASS: TestEventListenerError (0.00s)
=== RUN   TestEventListenerInvalidCallbackType
--- PASS: TestEventListenerInvalidCallbackType (0.00s)
=== RUN   TestEventListenerInvalidCallback
--- PASS: TestEventListenerInvalidCallback (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/bus	(cached)
=== RUN   TestMainApp_NoDuplicateSubcommands
--- PASS: TestMainApp_NoDuplicateSubcommands (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/cmd/grafana	0.422s
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli	[no test files]
=== RUN   TestValidateInput
install_command_test.go:15: Error removed due to development plugins
--- SKIP: TestValidateInput (0.00s)
=== RUN   TestValidatePluginRepoConfig
=== RUN   TestValidatePluginRepoConfig/Should_use_provided_repo_parameter_for_installation
=== RUN   TestValidatePluginRepoConfig/Should_use_provided_repo_parameter_even_if_config_is_set
=== RUN   TestValidatePluginRepoConfig/Should_use_config_parameter_if_it_is_set
install_command_test.go:106: skipping integration test
=== RUN   TestValidatePluginRepoConfig/Should_use_config_overrides_parameter_if_it_is_set_alongside_config_parameter
install_command_test.go:127: skipping integration test
--- PASS: TestValidatePluginRepoConfig (0.00s)
--- PASS: TestValidatePluginRepoConfig/Should_use_provided_repo_parameter_for_installation (0.00s)
--- PASS: TestValidatePluginRepoConfig/Should_use_provided_repo_parameter_even_if_config_is_set (0.00s)
--- SKIP: TestValidatePluginRepoConfig/Should_use_config_parameter_if_it_is_set (0.00s)
--- SKIP: TestValidatePluginRepoConfig/Should_use_config_overrides_parameter_if_it_is_set_alongside_config_parameter (0.00s)
=== RUN   TestMissingPath
=== RUN   TestMissingPath/missing_path_flag
=== RUN   TestMissingPath/not_a_directory
--- PASS: TestMissingPath (0.00s)
--- PASS: TestMissingPath/missing_path_flag (0.00s)
--- PASS: TestMissingPath/not_a_directory (0.00s)
=== RUN   TestValidateLsCommand_override
=== RUN   TestValidateLsCommand_override/override_validateLsCommand
=== RUN   TestValidateLsCommand_override/validateLsCommand_reset_after_test
--- PASS: TestValidateLsCommand_override (0.00s)
--- PASS: TestValidateLsCommand_override/override_validateLsCommand (0.00s)
--- PASS: TestValidateLsCommand_override/validateLsCommand_reset_after_test (0.00s)
=== RUN   TestResetPassword
=== RUN   TestResetPassword/basic_success
=== RUN   TestResetPassword/random_user_is_an_admin
=== RUN   TestResetPassword/default_user_is_not_an_admin
=== RUN   TestResetPassword/random_user_is_not_an_admin
--- PASS: TestResetPassword (0.00s)
--- PASS: TestResetPassword/basic_success (0.00s)
--- PASS: TestResetPassword/random_user_is_an_admin (0.00s)
--- PASS: TestResetPassword/default_user_is_not_an_admin (0.00s)
--- PASS: TestResetPassword/random_user_is_not_an_admin (0.00s)
=== RUN   TestVersionComparison
=== RUN   TestVersionComparison/Validate_that_version_is_outdated
=== RUN   TestVersionComparison/Validate_that_version_is_outdated/for_0.0.0_should_be_true
=== RUN   TestVersionComparison/Validate_that_version_is_outdated/for_1.0.0_should_be_true
=== RUN   TestVersionComparison/Validate_that_version_is_ok
=== RUN   TestVersionComparison/Validate_that_version_is_ok/for_2.0.0_should_be_false
=== RUN   TestVersionComparison/Validate_that_version_is_ok/for_6.0.0_should_be_false
--- PASS: TestVersionComparison (0.00s)
--- PASS: TestVersionComparison/Validate_that_version_is_outdated (0.00s)
--- PASS: TestVersionComparison/Validate_that_version_is_outdated/for_0.0.0_should_be_true (0.00s)
--- PASS: TestVersionComparison/Validate_that_version_is_outdated/for_1.0.0_should_be_true (0.00s)
--- PASS: TestVersionComparison/Validate_that_version_is_ok (0.00s)
--- PASS: TestVersionComparison/Validate_that_version_is_ok/for_2.0.0_should_be_false (0.00s)
--- PASS: TestVersionComparison/Validate_that_version_is_ok/for_6.0.0_should_be_false (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/cmd/grafana-cli/commands	0.482s
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli/commands/commandstest	[no test files]
=== RUN   TestPasswordMigrationCommand
2025-04-15T08:35:29.1330273Z
2025-04-15T08:35:29.1330286Z
✔ Encrypted password field for 2 datasources
✔ Encrypted basic_auth_password field for 1 datasources
2025-04-15T08:35:29.1332755Z
2025-04-15T08:35:29.1332766Z
Warning: Datasource provisioning files need to be manually changed to prevent overwriting of the data during provisioning. See https://grafana.com/docs/installation/upgrading/#upgrading-to-v6-2 for details
--- PASS: TestPasswordMigrationCommand (0.25s)
=== RUN   TestUnifiedStorageCommand
=== RUN   TestUnifiedStorageCommand/get_stats
TODO... add folders and check that they migrate
--- PASS: TestUnifiedStorageCommand (0.00s)
--- PASS: TestUnifiedStorageCommand/get_stats (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/cmd/grafana-cli/commands/datamigrations	(cached)
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli/commands/secretsmigrations	[no test files]
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli/logger	[no test files]
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli/models	[no test files]
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli/runner	[no test files]
=== RUN   TestHandleResponse
=== RUN   TestHandleResponse/Returns_body_if_status_==_200
=== RUN   TestHandleResponse/Returns_ErrorNotFound_if_status_==_404
=== RUN   TestHandleResponse/Returns_message_from_body_if_status_==_400
=== RUN   TestHandleResponse/Returns_body_if_status_==_400_and_no_message_key
=== RUN   TestHandleResponse/Returns_Bad_request_error_if_status_==_400_and_no_body
=== RUN   TestHandleResponse/Returns_error_with_invalid_status_if_status_==_500
--- PASS: TestHandleResponse (0.00s)
--- PASS: TestHandleResponse/Returns_body_if_status_==_200 (0.00s)
--- PASS: TestHandleResponse/Returns_ErrorNotFound_if_status_==_404 (0.00s)
--- PASS: TestHandleResponse/Returns_message_from_body_if_status_==_400 (0.00s)
--- PASS: TestHandleResponse/Returns_body_if_status_==_400_and_no_message_key (0.00s)
--- PASS: TestHandleResponse/Returns_Bad_request_error_if_status_==_400_and_no_body (0.00s)
--- PASS: TestHandleResponse/Returns_error_with_invalid_status_if_status_==_500 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/cmd/grafana-cli/services	(cached)
?   	github.com/grafana/grafana/pkg/cmd/grafana-cli/utils	[no test files]
?   	github.com/grafana/grafana/pkg/cmd/grafana-server	[no test files]
=== RUN   TestProfilingDiagnostics
=== RUN   TestProfilingDiagnostics/testcase_0
=== RUN   TestProfilingDiagnostics/testcase_1
=== RUN   TestProfilingDiagnostics/testcase_2
=== RUN   TestProfilingDiagnostics/testcase_3
=== RUN   TestProfilingDiagnostics/testcase_4
=== RUN   TestProfilingDiagnostics/testcase_5
=== RUN   TestProfilingDiagnostics/testcase_6
--- PASS: TestProfilingDiagnostics (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_0 (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_1 (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_2 (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_3 (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_4 (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_5 (0.00s)
--- PASS: TestProfilingDiagnostics/testcase_6 (0.00s)
=== RUN   TestTracingDiagnostics
=== RUN   TestTracingDiagnostics/testcase_0
=== RUN   TestTracingDiagnostics/testcase_1
=== RUN   TestTracingDiagnostics/testcase_2
=== RUN   TestTracingDiagnostics/testcase_3
=== RUN   TestTracingDiagnostics/testcase_4
--- PASS: TestTracingDiagnostics (0.00s)
--- PASS: TestTracingDiagnostics/testcase_0 (0.00s)
--- PASS: TestTracingDiagnostics/testcase_1 (0.00s)
--- PASS: TestTracingDiagnostics/testcase_2 (0.00s)
--- PASS: TestTracingDiagnostics/testcase_3 (0.00s)
--- PASS: TestTracingDiagnostics/testcase_4 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/cmd/grafana-server/commands	0.430s
=== RUN   TestApiKeyGen
--- PASS: TestApiKeyGen (0.02s)
PASS
ok  	github.com/grafana/grafana/pkg/components/apikeygen	(cached)
=== RUN   TestDiff
=== RUN   TestDiff/JSONFormatter_produces_expected_JSON_tokens
=== RUN   TestDiff/BasicFormatter_produces_expected_BasicBlocks
--- PASS: TestDiff (0.00s)
--- PASS: TestDiff/JSONFormatter_produces_expected_JSON_tokens (0.00s)
--- PASS: TestDiff/BasicFormatter_produces_expected_BasicBlocks (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/components/dashdiffs	(cached)
=== RUN   TestUploadToAzureBlob
=== RUN   TestUploadToAzureBlob/[Integration_test]_for_external_image_store.azure_blob
azureblobuploader_test.go:13: Skipping testing for external_image_store.azure_blob
--- PASS: TestUploadToAzureBlob (0.00s)
--- SKIP: TestUploadToAzureBlob/[Integration_test]_for_external_image_store.azure_blob (0.00s)
=== RUN   TestImageUploaderFactory
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config
logger=settings t=2025-04-15T08:35:35.253718077Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:35:35.253796384Z level=error msg="Failed to detect generated javascript files in public/build"
logger=settings t=2025-04-15T08:35:35.254175633Z level=info msg="Config loaded from" file=../../../conf/defaults.ini
logger=settings t=2025-04-15T08:35:35.25420108Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:35:35.254218553Z level=info msg="Path Home" path=../../../
logger=settings t=2025-04-15T08:35:35.254226538Z level=info msg="Path Data" path=../../../data
logger=settings t=2025-04-15T08:35:35.254235475Z level=info msg="Path Logs" path=../../../data/log
logger=settings t=2025-04-15T08:35:35.25424384Z level=info msg="Path Plugins" path=../../../data/plugins
logger=settings t=2025-04-15T08:35:35.254251084Z level=info msg="Path Provisioning" path=../../../conf/provisioning
logger=settings t=2025-04-15T08:35:35.254258728Z level=info msg="App mode production"
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config/with_bucket_url_https://foo.bar.baz.s3-us-east-2.amazonaws.com
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config/with_bucket_url_https://s3.amazonaws.com/mybucket
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config/with_bucket_url_https://s3-us-west-2.amazonaws.com/mybucket
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/Webdav_uploader
logger=settings t=2025-04-15T08:35:35.256952164Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:35:35.256992189Z level=error msg="Failed to detect generated javascript files in public/build"
logger=settings t=2025-04-15T08:35:35.257261071Z level=info msg="Config loaded from" file=../../../conf/defaults.ini
logger=settings t=2025-04-15T08:35:35.257276711Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:35:35.257291558Z level=info msg="Path Home" path=../../../
logger=settings t=2025-04-15T08:35:35.257301056Z level=info msg="Path Data" path=../../../data
logger=settings t=2025-04-15T08:35:35.257307588Z level=info msg="Path Logs" path=../../../data/log
logger=settings t=2025-04-15T08:35:35.257312798Z level=info msg="Path Plugins" path=../../../data/plugins
logger=settings t=2025-04-15T08:35:35.257317647Z level=info msg="Path Provisioning" path=../../../conf/provisioning
logger=settings t=2025-04-15T08:35:35.257322606Z level=info msg="App mode production"
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/GCS_uploader
logger=settings t=2025-04-15T08:35:35.26009522Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:35:35.260143941Z level=error msg="Failed to detect generated javascript files in public/build"
logger=settings t=2025-04-15T08:35:35.26044256Z level=info msg="Config loaded from" file=../../../conf/defaults.ini
logger=settings t=2025-04-15T08:35:35.260461034Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:35:35.260474189Z level=info msg="Path Home" path=../../../
logger=settings t=2025-04-15T08:35:35.260482064Z level=info msg="Path Data" path=../../../data
logger=settings t=2025-04-15T08:35:35.260489427Z level=info msg="Path Logs" path=../../../data/log
logger=settings t=2025-04-15T08:35:35.260496951Z level=info msg="Path Plugins" path=../../../data/plugins
logger=settings t=2025-04-15T08:35:35.260505818Z level=info msg="Path Provisioning" path=../../../conf/provisioning
logger=settings t=2025-04-15T08:35:35.260514234Z level=info msg="App mode production"
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/AzureBlobUploader_config
logger=settings t=2025-04-15T08:35:35.264166943Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:35:35.264243265Z level=error msg="Failed to detect generated javascript files in public/build"
logger=settings t=2025-04-15T08:35:35.264586627Z level=info msg="Config loaded from" file=../../../conf/defaults.ini
logger=settings t=2025-04-15T08:35:35.26462527Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:35:35.264655867Z level=info msg="Path Home" path=../../../
logger=settings t=2025-04-15T08:35:35.264678379Z level=info msg="Path Data" path=../../../data
logger=settings t=2025-04-15T08:35:35.264700891Z level=info msg="Path Logs" path=../../../data/log
logger=settings t=2025-04-15T08:35:35.26472204Z level=info msg="Path Plugins" path=../../../data/plugins
logger=settings t=2025-04-15T08:35:35.264742378Z level=info msg="Path Provisioning" path=../../../conf/provisioning
logger=settings t=2025-04-15T08:35:35.264776783Z level=info msg="App mode production"
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/AzureBlobUploader_config/with_container_name
=== RUN   TestImageUploaderFactory/Can_create_image_uploader_for_/Local_uploader
logger=settings t=2025-04-15T08:35:35.273000228Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:35:35.273134128Z level=error msg="Failed to detect generated javascript files in public/build"
logger=settings t=2025-04-15T08:35:35.273404774Z level=info msg="Config loaded from" file=../../../conf/defaults.ini
logger=settings t=2025-04-15T08:35:35.273445029Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:35:35.273477921Z level=info msg="Path Home" path=../../../
logger=settings t=2025-04-15T08:35:35.273502757Z level=info msg="Path Data" path=../../../data
logger=settings t=2025-04-15T08:35:35.27352561Z level=info msg="Path Logs" path=../../../data/log
logger=settings t=2025-04-15T08:35:35.273548543Z level=info msg="Path Plugins" path=../../../data/plugins
logger=settings t=2025-04-15T08:35:35.273570774Z level=info msg="Path Provisioning" path=../../../conf/provisioning
logger=settings t=2025-04-15T08:35:35.273588798Z level=info msg="App mode production"
--- PASS: TestImageUploaderFactory (0.02s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_ (0.02s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config (0.01s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config/with_bucket_url_https://foo.bar.baz.s3-us-east-2.amazonaws.com (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config/with_bucket_url_https://s3.amazonaws.com/mybucket (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/S3ImageUploader_config/with_bucket_url_https://s3-us-west-2.amazonaws.com/mybucket (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/Webdav_uploader (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/GCS_uploader (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/AzureBlobUploader_config (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/AzureBlobUploader_config/with_container_name (0.00s)
--- PASS: TestImageUploaderFactory/Can_create_image_uploader_for_/Local_uploader (0.01s)
=== RUN   TestUploadToLocal
=== RUN   TestUploadToLocal/[Integration_test]_for_external_image_store.local
--- PASS: TestUploadToLocal (0.00s)
--- PASS: TestUploadToLocal/[Integration_test]_for_external_image_store.local (0.00s)
=== RUN   TestUploadToS3
=== RUN   TestUploadToS3/[Integration_test]_for_external_image_store.s3
s3uploader_test.go:13: Skip test [Integration test] for external_image_store.s3
--- PASS: TestUploadToS3 (0.00s)
--- SKIP: TestUploadToS3/[Integration_test]_for_external_image_store.s3 (0.00s)
=== RUN   TestUploadToWebdav
=== PAUSE TestUploadToWebdav
=== RUN   TestPublicURL
=== PAUSE TestPublicURL
=== CONT  TestUploadToWebdav
=== RUN   TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav
=== PAUSE TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav
=== RUN   TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav_with_public_url
=== PAUSE TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav_with_public_url
=== CONT  TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav
=== CONT  TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav_with_public_url
=== CONT  TestPublicURL
=== RUN   TestPublicURL/Given_a_public_URL_with_parameters,_and_no_template
=== PAUSE TestPublicURL/Given_a_public_URL_with_parameters,_and_no_template
=== RUN   TestPublicURL/Given_a_public_URL_with_parameters,_and_a_template
=== PAUSE TestPublicURL/Given_a_public_URL_with_parameters,_and_a_template
=== CONT  TestPublicURL/Given_a_public_URL_with_parameters,_and_no_template
=== CONT  TestPublicURL/Given_a_public_URL_with_parameters,_and_a_template
--- PASS: TestPublicURL (0.00s)
--- PASS: TestPublicURL/Given_a_public_URL_with_parameters,_and_a_template (0.00s)
--- PASS: TestPublicURL/Given_a_public_URL_with_parameters,_and_no_template (0.00s)
--- PASS: TestUploadToWebdav (0.00s)
--- PASS: TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav_with_public_url (0.00s)
--- PASS: TestUploadToWebdav/[Integration_test]_for_external_image_store.webdav (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/components/imguploader	0.055s
=== RUN   TestUploadToGCS_DefaultCredentials
=== RUN   TestUploadToGCS_DefaultCredentials/Without_signed_URL
=== RUN   TestUploadToGCS_DefaultCredentials/With_signed_URL
--- PASS: TestUploadToGCS_DefaultCredentials (0.00s)
--- PASS: TestUploadToGCS_DefaultCredentials/Without_signed_URL (0.00s)
--- PASS: TestUploadToGCS_DefaultCredentials/With_signed_URL (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/components/imguploader/gcs	(cached)
=== RUN   TestStream
types_test.go:46: avg allocs per run: 11
--- PASS: TestStream (0.00s)
=== RUN   TestStreamAdapter
types_test.go:60: avg allocs per run: 27
--- PASS: TestStreamAdapter (0.00s)
=== RUN   TestCompatibility
--- PASS: TestCompatibility (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/components/loki/logproto	(cached)
?   	github.com/grafana/grafana/pkg/components/loki/lokigrpc	[no test files]
?   	github.com/grafana/grafana/pkg/components/loki/lokihttp	[no test files]
?   	github.com/grafana/grafana/pkg/components/null	[no test files]
=== RUN   TestApiKeyValidation
--- PASS: TestApiKeyValidation (0.01s)
=== RUN   TestApiKeyGen
--- PASS: TestApiKeyGen (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/components/satokengen	(cached)
?   	github.com/grafana/grafana/pkg/components/satokengen/cmd	[no test files]
=== RUN   TestSimplejson
--- PASS: TestSimplejson (0.00s)
=== RUN   TestStdlibInterfaces
--- PASS: TestStdlibInterfaces (0.00s)
=== RUN   TestSet
--- PASS: TestSet (0.00s)
=== RUN   TestReplace
--- PASS: TestReplace (0.00s)
=== RUN   TestSetPath
--- PASS: TestSetPath (0.00s)
=== RUN   TestSetPathNoPath
--- PASS: TestSetPathNoPath (0.00s)
=== RUN   TestPathWillAugmentExisting
--- PASS: TestPathWillAugmentExisting (0.00s)
=== RUN   TestPathWillOverwriteExisting
--- PASS: TestPathWillOverwriteExisting (0.00s)
=== RUN   TestMustJson
--- PASS: TestMustJson (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/components/simplejson	(cached)
?   	github.com/grafana/grafana/pkg/events	[no test files]
=== RUN   Test_UnmarshalReduceCommand_Settings
=== RUN   Test_UnmarshalReduceCommand_Settings/no_mapper_function_when_settings_is_not_specified
=== RUN   Test_UnmarshalReduceCommand_Settings/no_mapper_function_when_mode_is_not_specified
=== RUN   Test_UnmarshalReduceCommand_Settings/error_when_settings_is_not_object
=== RUN   Test_UnmarshalReduceCommand_Settings/no_mapper_function_when_mode_is_empty
=== RUN   Test_UnmarshalReduceCommand_Settings/error_when_mode_is_not_known
=== RUN   Test_UnmarshalReduceCommand_Settings/filterNonNumber_function_when_mode_is_'dropNN'
=== RUN   Test_UnmarshalReduceCommand_Settings/replaceNanWithValue_function_when_mode_is_'dropNN'
=== RUN   Test_UnmarshalReduceCommand_Settings/error_if_mode_is_'replaceNN'_but_field_replaceWithValue_is_not_specified
=== RUN   Test_UnmarshalReduceCommand_Settings/error_if_mode_is_'replaceNN'_but_field_replaceWithValue_is_not_a_number
--- PASS: Test_UnmarshalReduceCommand_Settings (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/no_mapper_function_when_settings_is_not_specified (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/no_mapper_function_when_mode_is_not_specified (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/error_when_settings_is_not_object (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/no_mapper_function_when_mode_is_empty (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/error_when_mode_is_not_known (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/filterNonNumber_function_when_mode_is_'dropNN' (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/replaceNanWithValue_function_when_mode_is_'dropNN' (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/error_if_mode_is_'replaceNN'_but_field_replaceWithValue_is_not_specified (0.00s)
--- PASS: Test_UnmarshalReduceCommand_Settings/error_if_mode_is_'replaceNN'_but_field_replaceWithValue_is_not_a_number (0.00s)
=== RUN   TestReduceExecute
=== RUN   TestReduceExecute/when_mapper_is_nil
=== RUN   TestReduceExecute/when_mapper_is_nil/should_noop_if_Number
=== RUN   TestReduceExecute/when_mapper_is_nil/should_noop_if_Number/should_add_warn_notices_to_the_first_frame
=== RUN   TestReduceExecute/when_mapper_is_not_nil
=== RUN   TestReduceExecute/when_mapper_is_not_nil/drop_all_non_numbers_if_mapper_is_DropNonNumber
=== RUN   TestReduceExecute/when_mapper_is_not_nil/replace_all_non_numbers_if_mapper_is_ReplaceNonNumberWithValue
=== RUN   TestReduceExecute/should_return_new_NoData
--- PASS: TestReduceExecute (0.00s)
--- PASS: TestReduceExecute/when_mapper_is_nil (0.00s)
--- PASS: TestReduceExecute/when_mapper_is_nil/should_noop_if_Number (0.00s)
--- PASS: TestReduceExecute/when_mapper_is_nil/should_noop_if_Number/should_add_warn_notices_to_the_first_frame (0.00s)
--- PASS: TestReduceExecute/when_mapper_is_not_nil (0.00s)
--- PASS: TestReduceExecute/when_mapper_is_not_nil/drop_all_non_numbers_if_mapper_is_DropNonNumber (0.00s)
--- PASS: TestReduceExecute/when_mapper_is_not_nil/replace_all_non_numbers_if_mapper_is_ReplaceNonNumberWithValue (0.00s)
--- PASS: TestReduceExecute/should_return_new_NoData (0.00s)
=== RUN   TestResampleCommand_Execute
=== RUN   TestResampleCommand_Execute/should_resample_when_input_Series
=== RUN   TestResampleCommand_Execute/should_return_NoData_when_input_NoData
=== RUN   TestResampleCommand_Execute/should_return_error_when_input_Number
=== RUN   TestResampleCommand_Execute/should_return_error_when_input_Scalar
=== RUN   TestResampleCommand_Execute/should_return_empty_result_if_input_is_nil_Value
--- PASS: TestResampleCommand_Execute (0.00s)
--- PASS: TestResampleCommand_Execute/should_resample_when_input_Series (0.00s)
--- PASS: TestResampleCommand_Execute/should_return_NoData_when_input_NoData (0.00s)
--- PASS: TestResampleCommand_Execute/should_return_error_when_input_Number (0.00s)
--- PASS: TestResampleCommand_Execute/should_return_error_when_input_Scalar (0.00s)
--- PASS: TestResampleCommand_Execute/should_return_empty_result_if_input_is_nil_Value (0.00s)
=== RUN   TestConvertNumericWideToFullLong
=== RUN   TestConvertNumericWideToFullLong/SingleItemNoLabels
=== RUN   TestConvertNumericWideToFullLong/MultiRowShouldError
=== RUN   TestConvertNumericWideToFullLong/TwoItemsWithSingleLabel
=== RUN   TestConvertNumericWideToFullLong/TwoItemsWithSparseLabels
=== RUN   TestConvertNumericWideToFullLong/TwoDifferentMetricsWithSharedLabels
=== RUN   TestConvertNumericWideToFullLong/TwoSparseMetricsAndLabels
=== RUN   TestConvertNumericWideToFullLong/ExtraTimeFieldIsDropped
--- PASS: TestConvertNumericWideToFullLong (0.00s)
--- PASS: TestConvertNumericWideToFullLong/SingleItemNoLabels (0.00s)
--- PASS: TestConvertNumericWideToFullLong/MultiRowShouldError (0.00s)
--- PASS: TestConvertNumericWideToFullLong/TwoItemsWithSingleLabel (0.00s)
--- PASS: TestConvertNumericWideToFullLong/TwoItemsWithSparseLabels (0.00s)
--- PASS: TestConvertNumericWideToFullLong/TwoDifferentMetricsWithSharedLabels (0.00s)
--- PASS: TestConvertNumericWideToFullLong/TwoSparseMetricsAndLabels (0.00s)
--- PASS: TestConvertNumericWideToFullLong/ExtraTimeFieldIsDropped (0.00s)
=== RUN   TestConvertNumericWideToFullLongWithDisplayName
=== RUN   TestConvertNumericWideToFullLongWithDisplayName/SingleFieldWithDisplayName
=== RUN   TestConvertNumericWideToFullLongWithDisplayName/MixedDisplayNames
--- PASS: TestConvertNumericWideToFullLongWithDisplayName (0.00s)
--- PASS: TestConvertNumericWideToFullLongWithDisplayName/SingleFieldWithDisplayName (0.00s)
--- PASS: TestConvertNumericWideToFullLongWithDisplayName/MixedDisplayNames (0.00s)
=== RUN   TestConvertNumericMultiToFullLong
=== RUN   TestConvertNumericMultiToFullLong/SingleItemNoLabels
=== RUN   TestConvertNumericMultiToFullLong/TwoItemsWithSingleLabel
=== RUN   TestConvertNumericMultiToFullLong/TwoItemsWithSparseLabels
=== RUN   TestConvertNumericMultiToFullLong/TwoDifferentMetricsWithSharedLabels
=== RUN   TestConvertNumericMultiToFullLong/TwoSparseMetricsAndLabels
--- PASS: TestConvertNumericMultiToFullLong (0.00s)
--- PASS: TestConvertNumericMultiToFullLong/SingleItemNoLabels (0.00s)
--- PASS: TestConvertNumericMultiToFullLong/TwoItemsWithSingleLabel (0.00s)
--- PASS: TestConvertNumericMultiToFullLong/TwoItemsWithSparseLabels (0.00s)
--- PASS: TestConvertNumericMultiToFullLong/TwoDifferentMetricsWithSharedLabels (0.00s)
--- PASS: TestConvertNumericMultiToFullLong/TwoSparseMetricsAndLabels (0.00s)
=== RUN   TestConvertTimeSeriesWideToFullLong
=== RUN   TestConvertTimeSeriesWideToFullLong/SingleSeriesNoLabels
=== RUN   TestConvertTimeSeriesWideToFullLong/TwoSeriesOneLabel
=== RUN   TestConvertTimeSeriesWideToFullLong/TwoMetricsWithSharedLabels
=== RUN   TestConvertTimeSeriesWideToFullLong/TwoSeriesSparseLabels
=== RUN   TestConvertTimeSeriesWideToFullLong/TwoSeriesSparseMetricsAndLabels
--- PASS: TestConvertTimeSeriesWideToFullLong (0.00s)
--- PASS: TestConvertTimeSeriesWideToFullLong/SingleSeriesNoLabels (0.00s)
--- PASS: TestConvertTimeSeriesWideToFullLong/TwoSeriesOneLabel (0.00s)
--- PASS: TestConvertTimeSeriesWideToFullLong/TwoMetricsWithSharedLabels (0.00s)
--- PASS: TestConvertTimeSeriesWideToFullLong/TwoSeriesSparseLabels (0.00s)
--- PASS: TestConvertTimeSeriesWideToFullLong/TwoSeriesSparseMetricsAndLabels (0.00s)
=== RUN   TestConvertTimeSeriesMultiToFullLong
=== RUN   TestConvertTimeSeriesMultiToFullLong/SingleSeriesNoLabels
=== RUN   TestConvertTimeSeriesMultiToFullLong/TwoSeriesOneLabel
=== RUN   TestConvertTimeSeriesMultiToFullLong/TwoMetricsWithSharedLabels
=== RUN   TestConvertTimeSeriesMultiToFullLong/TwoSeriesSparseLabels
=== RUN   TestConvertTimeSeriesMultiToFullLong/TwoSeriesSparseMetrics
=== RUN   TestConvertTimeSeriesMultiToFullLong/TwoSeriesSparseMetricsAndLabels
=== RUN   TestConvertTimeSeriesMultiToFullLong/ThreeSeriesSparseTimeLabelsMetrics
--- PASS: TestConvertTimeSeriesMultiToFullLong (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/SingleSeriesNoLabels (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/TwoSeriesOneLabel (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/TwoMetricsWithSharedLabels (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/TwoSeriesSparseLabels (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/TwoSeriesSparseMetrics (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/TwoSeriesSparseMetricsAndLabels (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLong/ThreeSeriesSparseTimeLabelsMetrics (0.00s)
=== RUN   TestConvertTimeSeriesMultiToFullLongWithDisplayName
=== RUN   TestConvertTimeSeriesMultiToFullLongWithDisplayName/SingleSeriesWithDisplayName
=== RUN   TestConvertTimeSeriesMultiToFullLongWithDisplayName/TwoSeriesMixedDisplayNames
--- PASS: TestConvertTimeSeriesMultiToFullLongWithDisplayName (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLongWithDisplayName/SingleSeriesWithDisplayName (0.00s)
--- PASS: TestConvertTimeSeriesMultiToFullLongWithDisplayName/TwoSeriesMixedDisplayNames (0.00s)
=== RUN   TestConvertDataFramesToResults
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/use_value_field_names_if_one_frame_-_many_series
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/use_value_field_names_if_one_frame_-_many_series/graphite
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/use_value_field_names_if_one_frame_-_many_series/grafana-testdata-datasource
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/should_use_frame_name_if_one_frame_-_one_series
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/should_use_frame_name_if_one_frame_-_one_series/graphite
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/should_use_frame_name_if_one_frame_-_one_series/grafana-testdata-datasource
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/should_use_fields_DisplayNameFromDS_when_it_is_unique
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/should_use_fields_DisplayNameFromDS_when_it_is_unique/graphite
=== RUN   TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/should_use_fields_DisplayNameFromDS_when_it_is_unique/grafana-testdata-datasource
--- PASS: TestConvertDataFramesToResults (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/use_value_field_names_if_one_frame_-_many_series (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/use_value_field_names_if_one_frame_-_many_series/graphite (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/use_value_field_names_if_one_frame_-_many_series/grafana-testdata-datasource (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/should_use_frame_name_if_one_frame_-_one_series (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/should_use_frame_name_if_one_frame_-_one_series/graphite (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/when_only_field_name_is_specified/should_use_frame_name_if_one_frame_-_one_series/grafana-testdata-datasource (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/should_use_fields_DisplayNameFromDS_when_it_is_unique (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/should_use_fields_DisplayNameFromDS_when_it_is_unique/graphite (0.00s)
--- PASS: TestConvertDataFramesToResults/should_add_name_label_if_no_labels_and_specific_data_source/should_use_fields_DisplayNameFromDS_when_it_is_unique/grafana-testdata-datasource (0.00s)
=== RUN   TestPassThroughDataplaneExamples
=== RUN   TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels
=== RUN   TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/no-data
=== RUN   TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestPassThroughDataplaneExamples/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
=== RUN   TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/no-data
=== RUN   TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/two-empty-items
=== RUN   TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim
=== RUN   TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/no-data
=== RUN   TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/two-empty-items
=== RUN   TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name
=== RUN   TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestPassThroughDataplaneExamples/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
=== RUN   TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/no-data
=== RUN   TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestPassThroughDataplaneExamples/timeseries-multi/v0.1/basic_valid/empty-one-item
=== RUN   TestPassThroughDataplaneExamples/timeseries-multi/v0.1/basic_valid/no-data
=== RUN   TestPassThroughDataplaneExamples/timeseries-multi/v0.1/basic_valid/two-items-by-dimension-unaligned-time
=== RUN   TestPassThroughDataplaneExamples/timeseries-multi/v0.1/extended_valid/two-items-by-dimension-unaligned-time-with-remainder-string
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/empty-one-item
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/no-data
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/one-item-no-name-or-labels
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/one-item-with-name-and-labels
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-string
=== RUN   TestPassThroughDataplaneExamples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-time
--- PASS: TestPassThroughDataplaneExamples (0.01s)
--- PASS: TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-multi/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-multi/v0.1/basic_valid/empty-one-item (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-multi/v0.1/basic_valid/two-items-by-dimension-unaligned-time (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-multi/v0.1/extended_valid/two-items-by-dimension-unaligned-time-with-remainder-string (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/empty-one-item (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/one-item-no-name-or-labels (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/one-item-with-name-and-labels (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-string (0.00s)
--- PASS: TestPassThroughDataplaneExamples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-time (0.00s)
=== RUN   TestShouldUseDataplane
=== RUN   TestShouldUseDataplane/zero_frames_returns_no_data_and_is_allowed
=== RUN   TestShouldUseDataplane/a_frame_with_Type_and_TypeVersion_0.0_will_not_use_dataplane
=== RUN   TestShouldUseDataplane/a_frame_without_Type_and_TypeVersion_>_0.0_will_not_use_dataplane
=== RUN   TestShouldUseDataplane/a_frame_with_no_metadata_will_not_use_dataplane
=== RUN   TestShouldUseDataplane/a_newer_version_that_supported_will_return_a_warning_but_still_use_dataplane
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/empty-one-item
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/no-data
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/one-item-no-name-or-labels
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/one-item-with-name-and-labels
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-string
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-time
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/no-data
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/no-data
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/two-empty-items
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/no-data
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/two-empty-items
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/no-data
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/basic_valid/empty-one-item
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/basic_valid/no-data
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/basic_valid/two-items-by-dimension-unaligned-time
=== RUN   TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/extended_valid/two-items-by-dimension-unaligned-time-with-remainder-string
--- PASS: TestShouldUseDataplane (0.01s)
--- PASS: TestShouldUseDataplane/zero_frames_returns_no_data_and_is_allowed (0.00s)
--- PASS: TestShouldUseDataplane/a_frame_with_Type_and_TypeVersion_0.0_will_not_use_dataplane (0.00s)
--- PASS: TestShouldUseDataplane/a_frame_without_Type_and_TypeVersion_>_0.0_will_not_use_dataplane (0.00s)
--- PASS: TestShouldUseDataplane/a_frame_with_no_metadata_will_not_use_dataplane (0.00s)
--- PASS: TestShouldUseDataplane/a_newer_version_that_supported_will_return_a_warning_but_still_use_dataplane (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane (0.01s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/empty-one-item (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/one-item-no-name-or-labels (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/one-item-with-name-and-labels (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-string (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-time (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-multi/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/basic_valid/empty-one-item (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/basic_valid/two-items-by-dimension-unaligned-time (0.00s)
--- PASS: TestShouldUseDataplane/all_valid_dataplane_examples_should_use_dataplane/timeseries-multi/v0.1/extended_valid/two-items-by-dimension-unaligned-time-with-remainder-string (0.00s)
=== RUN   TestHandleDataplaneNumeric
=== RUN   TestHandleDataplaneNumeric/no_data
=== RUN   TestHandleDataplaneNumeric/no_data/numeric-long/v0.1/basic_valid/no-data
=== RUN   TestHandleDataplaneNumeric/no_data/numeric-multi/v0.1/basic_valid/no-data
=== RUN   TestHandleDataplaneNumeric/no_data/numeric-wide/v0.1/basic_valid/no-data
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/two-empty-items
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/two-empty-items
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
--- PASS: TestHandleDataplaneNumeric (0.00s)
--- PASS: TestHandleDataplaneNumeric/no_data (0.00s)
--- PASS: TestHandleDataplaneNumeric/no_data/numeric-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestHandleDataplaneNumeric/no_data/numeric-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestHandleDataplaneNumeric/no_data/numeric-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestHandleDataplaneNumeric/should_read_correct_number_of_items_from_examples/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
=== RUN   TestHandleDataplaneTS
=== RUN   TestHandleDataplaneTS/no_data
=== RUN   TestHandleDataplaneTS/no_data/timeseries-long/v0.1/basic_valid/no-data
=== RUN   TestHandleDataplaneTS/no_data/timeseries-multi/v0.1/basic_valid/no-data
=== RUN   TestHandleDataplaneTS/no_data/timeseries-wide/v0.1/basic_valid/no-data
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-multi/v0.1/basic_valid/empty-one-item
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-multi/v0.1/basic_valid/two-items-by-dimension-unaligned-time
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-multi/v0.1/extended_valid/two-items-by-dimension-unaligned-time-with-remainder-string
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/empty-one-item
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/one-item-no-name-or-labels
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/one-item-with-name-and-labels
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-string
=== RUN   TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-time
--- PASS: TestHandleDataplaneTS (0.00s)
--- PASS: TestHandleDataplaneTS/no_data (0.00s)
--- PASS: TestHandleDataplaneTS/no_data/timeseries-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestHandleDataplaneTS/no_data/timeseries-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestHandleDataplaneTS/no_data/timeseries-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-multi/v0.1/basic_valid/empty-one-item (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-multi/v0.1/basic_valid/two-items-by-dimension-unaligned-time (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-multi/v0.1/extended_valid/two-items-by-dimension-unaligned-time-with-remainder-string (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/empty-one-item (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/one-item-no-name-or-labels (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/one-item-with-name-and-labels (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-string (0.00s)
--- PASS: TestHandleDataplaneTS/should_read_correct_number_of_items_from_examples/timeseries-wide/v0.1/extended_valid/one-item-with-remainder-time (0.00s)
=== RUN   TestServicebuildPipeLine
=== RUN   TestServicebuildPipeLine/simple:_a_requires_b
=== RUN   TestServicebuildPipeLine/cycle_will_error
=== RUN   TestServicebuildPipeLine/self_reference_will_error
=== RUN   TestServicebuildPipeLine/missing_dependency_will_error
=== RUN   TestServicebuildPipeLine/classic_can_not_take_input_from_another_expression
=== RUN   TestServicebuildPipeLine/classic_can_not_output_to_another_expression
=== RUN   TestServicebuildPipeLine/Queries_with_new_datasource_ref_object
--- PASS: TestServicebuildPipeLine (0.00s)
--- PASS: TestServicebuildPipeLine/simple:_a_requires_b (0.00s)
--- PASS: TestServicebuildPipeLine/cycle_will_error (0.00s)
--- PASS: TestServicebuildPipeLine/self_reference_will_error (0.00s)
--- PASS: TestServicebuildPipeLine/missing_dependency_will_error (0.00s)
--- PASS: TestServicebuildPipeLine/classic_can_not_take_input_from_another_expression (0.00s)
--- PASS: TestServicebuildPipeLine/classic_can_not_output_to_another_expression (0.00s)
--- PASS: TestServicebuildPipeLine/Queries_with_new_datasource_ref_object (0.00s)
=== RUN   TestGetCommandsFromPipeline
=== RUN   TestGetCommandsFromPipeline/should_find_command_that_exists
=== RUN   TestGetCommandsFromPipeline/should_find_all_commands_that_exist
=== RUN   TestGetCommandsFromPipeline/should_not_find_all_command_that_does_not_exist
--- PASS: TestGetCommandsFromPipeline (0.00s)
--- PASS: TestGetCommandsFromPipeline/should_find_command_that_exists (0.00s)
--- PASS: TestGetCommandsFromPipeline/should_find_all_commands_that_exist (0.00s)
--- PASS: TestGetCommandsFromPipeline/should_not_find_all_command_that_does_not_exist (0.00s)
=== RUN   TestHysteresisExecute
=== RUN   TestHysteresisExecute/return_NoData_when_no_data
=== RUN   TestHysteresisExecute/use_only_loaded_condition_if_no_loaded_metrics
=== RUN   TestHysteresisExecute/evaluate_loaded_metrics_against_unloaded_threshold
--- PASS: TestHysteresisExecute (0.00s)
--- PASS: TestHysteresisExecute/return_NoData_when_no_data (0.00s)
--- PASS: TestHysteresisExecute/use_only_loaded_condition_if_no_loaded_metrics (0.00s)
--- PASS: TestHysteresisExecute/evaluate_loaded_metrics_against_unloaded_threshold (0.00s)
=== RUN   TestLoadedDimensionsFromFrame
=== RUN   TestLoadedDimensionsFromFrame/should_fail_if_frame_has_wrong_type
=== RUN   TestLoadedDimensionsFromFrame/should_fail_if_frame_has_unsupported_version
=== RUN   TestLoadedDimensionsFromFrame/should_fail_if_frame_has_no_fields
=== RUN   TestLoadedDimensionsFromFrame/should_fail_if_frame_has_many_fields
=== RUN   TestLoadedDimensionsFromFrame/should_fail_if_frame_has_field_of_a_wrong_type
=== RUN   TestLoadedDimensionsFromFrame/should_fail_if_frame_has_nullable_uint64_field
=== RUN   TestLoadedDimensionsFromFrame/should_create_LoadedMetrics
hysteresis_test.go:184: {"schema":{"name":"test","meta":{"type":"fingerprints","typeVersion":[1,0]},"fields":[{"name":"fingerprints","type":"number","typeInfo":{"frame":"uint64"}}]},"data":{"values":[[1,2,3,4,5]]}}
--- PASS: TestLoadedDimensionsFromFrame (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_fail_if_frame_has_wrong_type (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_fail_if_frame_has_unsupported_version (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_fail_if_frame_has_no_fields (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_fail_if_frame_has_many_fields (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_fail_if_frame_has_field_of_a_wrong_type (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_fail_if_frame_has_nullable_uint64_field (0.00s)
--- PASS: TestLoadedDimensionsFromFrame/should_create_LoadedMetrics (0.00s)
=== RUN   TestFingerprintsToFrame
=== RUN   TestFingerprintsToFrame/when_empty_map
=== RUN   TestFingerprintsToFrame/when_nil
=== RUN   TestFingerprintsToFrame/when_has_values
--- PASS: TestFingerprintsToFrame (0.00s)
--- PASS: TestFingerprintsToFrame/when_empty_map (0.00s)
--- PASS: TestFingerprintsToFrame/when_nil (0.00s)
--- PASS: TestFingerprintsToFrame/when_has_values (0.00s)
=== RUN   TestMLNodeExecute
=== RUN   TestMLNodeExecute/should_get_plugin_context
=== RUN   TestMLNodeExecute/should_call_command_execute_with_correct_parameters
=== RUN   TestMLNodeExecute/should_call_plugin_API
=== RUN   TestMLNodeExecute/should_call_plugin_API/should_append_request_headers_to_API_call
=== RUN   TestMLNodeExecute/should_fail_if_plugin_is_not_installed
=== RUN   TestMLNodeExecute/should_fail_if_plugin_settings_cannot_be_retrieved
=== RUN   TestMLNodeExecute/should_fail_if_plugin_is_not_initialized
=== RUN   TestMLNodeExecute/should_return_QueryError_if_command_failed
--- PASS: TestMLNodeExecute (0.00s)
--- PASS: TestMLNodeExecute/should_get_plugin_context (0.00s)
--- PASS: TestMLNodeExecute/should_call_command_execute_with_correct_parameters (0.00s)
--- PASS: TestMLNodeExecute/should_call_plugin_API (0.00s)
--- PASS: TestMLNodeExecute/should_call_plugin_API/should_append_request_headers_to_API_call (0.00s)
--- PASS: TestMLNodeExecute/should_fail_if_plugin_is_not_installed (0.00s)
--- PASS: TestMLNodeExecute/should_fail_if_plugin_settings_cannot_be_retrieved (0.00s)
--- PASS: TestMLNodeExecute/should_fail_if_plugin_is_not_initialized (0.00s)
--- PASS: TestMLNodeExecute/should_return_QueryError_if_command_failed (0.00s)
=== RUN   TestQueryError_Error
--- PASS: TestQueryError_Error (0.00s)
=== RUN   TestQueryError_Unwrap
=== RUN   TestQueryError_Unwrap/errors.Is
=== RUN   TestQueryError_Unwrap/errors.As
--- PASS: TestQueryError_Unwrap (0.00s)
--- PASS: TestQueryError_Unwrap/errors.Is (0.00s)
--- PASS: TestQueryError_Unwrap/errors.As (0.00s)
=== RUN   TestCheckIfSeriesNeedToBeFixed
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_nil_if_at_least_one_value_field_has_labels
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_nil_if_names_are_empty
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_DisplayNameFromDS_first
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_DisplayName_if_DisplayNameFromDS_is_not_unique
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_DisplayName_if_is_empty
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_Name_if_DisplayName_and_DisplayNameFromDS_are_not_unique
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_Name_if_DisplayName_and_DisplayNameFromDS_are_empty
=== RUN   TestCheckIfSeriesNeedToBeFixed/should_return_nil_if_all_fields_are_not_unique
--- PASS: TestCheckIfSeriesNeedToBeFixed (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_nil_if_at_least_one_value_field_has_labels (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_nil_if_names_are_empty (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_DisplayNameFromDS_first (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_DisplayName_if_DisplayNameFromDS_is_not_unique (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_DisplayName_if_is_empty (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_Name_if_DisplayName_and_DisplayNameFromDS_are_not_unique (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_patcher_with_Name_if_DisplayName_and_DisplayNameFromDS_are_empty (0.00s)
--- PASS: TestCheckIfSeriesNeedToBeFixed/should_return_nil_if_all_fields_are_not_unique (0.00s)
=== RUN   TestQueryTypeDefinitions
--- PASS: TestQueryTypeDefinitions (0.06s)
=== RUN   TestReaderReduceMode
=== RUN   TestReaderReduceMode/TestReduceReader:no_settings
=== RUN   TestReaderReduceMode/TestReduceReader:mode_dropnn
=== RUN   TestReaderReduceMode/TestReduceReader:mode_replacenn
=== RUN   TestReaderReduceMode/TestReduceReader:mode_strict
=== RUN   TestReaderReduceMode/TestReduceReader:mode_invalid
--- PASS: TestReaderReduceMode (0.00s)
--- PASS: TestReaderReduceMode/TestReduceReader:no_settings (0.00s)
--- PASS: TestReaderReduceMode/TestReduceReader:mode_dropnn (0.00s)
--- PASS: TestReaderReduceMode/TestReduceReader:mode_replacenn (0.00s)
--- PASS: TestReaderReduceMode/TestReduceReader:mode_strict (0.00s)
--- PASS: TestReaderReduceMode/TestReduceReader:mode_invalid (0.00s)
=== RUN   TestSQLService
=== RUN   TestSQLService/no_feature_flag_no_queries_for_you
=== RUN   TestSQLService/with_feature_flag_basic_select_works
=== RUN   TestSQLService/load_file_is_blocked
=== RUN   TestSQLService/parse_error_should_be_returned
--- PASS: TestSQLService (0.00s)
--- PASS: TestSQLService/no_feature_flag_no_queries_for_you (0.00s)
--- PASS: TestSQLService/with_feature_flag_basic_select_works (0.00s)
--- PASS: TestSQLService/load_file_is_blocked (0.00s)
--- PASS: TestSQLService/parse_error_should_be_returned (0.00s)
=== RUN   TestService
--- PASS: TestService (0.00s)
=== RUN   TestDSQueryError
--- PASS: TestDSQueryError (0.00s)
=== RUN   TestSQLExpressionCellLimitFromConfig
=== RUN   TestSQLExpressionCellLimitFromConfig/should_pass_default_cell_limit_(0)_to_SQL_command
=== RUN   TestSQLExpressionCellLimitFromConfig/should_pass_custom_cell_limit_to_SQL_command
--- PASS: TestSQLExpressionCellLimitFromConfig (0.00s)
--- PASS: TestSQLExpressionCellLimitFromConfig/should_pass_default_cell_limit_(0)_to_SQL_command (0.00s)
--- PASS: TestSQLExpressionCellLimitFromConfig/should_pass_custom_cell_limit_to_SQL_command (0.00s)
=== RUN   TestExtractNumberSetFromSQLForAlerting
=== RUN   TestExtractNumberSetFromSQLForAlerting/SingleRowNoLabels
=== RUN   TestExtractNumberSetFromSQLForAlerting/TwoRowsWithLabelsAndDisplay
=== RUN   TestExtractNumberSetFromSQLForAlerting/TwoFieldsWithSparseLabels
--- PASS: TestExtractNumberSetFromSQLForAlerting (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting/SingleRowNoLabels (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting/TwoRowsWithLabelsAndDisplay (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting/TwoFieldsWithSparseLabels (0.00s)
=== RUN   TestExtractNumberSetFromSQLForAlerting_Duplicates
=== RUN   TestExtractNumberSetFromSQLForAlerting_Duplicates/AllDuplicates_ReturnsError
=== RUN   TestExtractNumberSetFromSQLForAlerting_Duplicates/SomeDuplicates_ReturnsError
=== RUN   TestExtractNumberSetFromSQLForAlerting_Duplicates/NoDuplicates_Succeeds
=== RUN   TestExtractNumberSetFromSQLForAlerting_Duplicates/MoreThan10DuplicateSets_TruncatesErrorList
--- PASS: TestExtractNumberSetFromSQLForAlerting_Duplicates (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting_Duplicates/AllDuplicates_ReturnsError (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting_Duplicates/SomeDuplicates_ReturnsError (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting_Duplicates/NoDuplicates_Succeeds (0.00s)
--- PASS: TestExtractNumberSetFromSQLForAlerting_Duplicates/MoreThan10DuplicateSets_TruncatesErrorList (0.00s)
=== RUN   TestNewCommand
--- PASS: TestNewCommand (0.00s)
=== RUN   TestSQLCommandCellLimits
=== RUN   TestSQLCommandCellLimits/single_(long)_frame_within_cell_limit
=== RUN   TestSQLCommandCellLimits/single_(wide)_frame_within_cell_limit
=== RUN   TestSQLCommandCellLimits/multiple_frames_within_cell_limit
=== RUN   TestSQLCommandCellLimits/single_(long)_frame_exceeds_cell_limit
=== RUN   TestSQLCommandCellLimits/single_(wide)_frame_exceeds_cell_limit
=== RUN   TestSQLCommandCellLimits/multiple_frames_exceed_cell_limit
=== RUN   TestSQLCommandCellLimits/limit_of_0_means_no_limit:_allow_large_frame
--- PASS: TestSQLCommandCellLimits (0.01s)
--- PASS: TestSQLCommandCellLimits/single_(long)_frame_within_cell_limit (0.00s)
--- PASS: TestSQLCommandCellLimits/single_(wide)_frame_within_cell_limit (0.00s)
--- PASS: TestSQLCommandCellLimits/multiple_frames_within_cell_limit (0.00s)
--- PASS: TestSQLCommandCellLimits/single_(long)_frame_exceeds_cell_limit (0.00s)
--- PASS: TestSQLCommandCellLimits/single_(wide)_frame_exceeds_cell_limit (0.00s)
--- PASS: TestSQLCommandCellLimits/multiple_frames_exceed_cell_limit (0.00s)
--- PASS: TestSQLCommandCellLimits/limit_of_0_means_no_limit:_allow_large_frame (0.00s)
=== RUN   TestSQLCommandMetrics
--- PASS: TestSQLCommandMetrics (0.00s)
=== RUN   TestNewThresholdCommand
--- PASS: TestNewThresholdCommand (0.00s)
=== RUN   TestUnmarshalThresholdCommand
=== RUN   TestUnmarshalThresholdCommand/unmarshal_proper_object
=== RUN   TestUnmarshalThresholdCommand/unmarshal_with_missing_conditions_should_error
=== RUN   TestUnmarshalThresholdCommand/unmarshal_with_unsupported_threshold_function
=== RUN   TestUnmarshalThresholdCommand/unmarshal_with_bad_expression
=== RUN   TestUnmarshalThresholdCommand/unmarshal_as_hysteresis_command_if_two_evaluators
--- PASS: TestUnmarshalThresholdCommand (0.00s)
--- PASS: TestUnmarshalThresholdCommand/unmarshal_proper_object (0.00s)
--- PASS: TestUnmarshalThresholdCommand/unmarshal_with_missing_conditions_should_error (0.00s)
--- PASS: TestUnmarshalThresholdCommand/unmarshal_with_unsupported_threshold_function (0.00s)
--- PASS: TestUnmarshalThresholdCommand/unmarshal_with_bad_expression (0.00s)
--- PASS: TestUnmarshalThresholdCommand/unmarshal_as_hysteresis_command_if_two_evaluators (0.00s)
=== RUN   TestThresholdCommandVars
--- PASS: TestThresholdCommandVars (0.00s)
=== RUN   TestIsSupportedThresholdFunc
=== RUN   TestIsSupportedThresholdFunc/gt
=== RUN   TestIsSupportedThresholdFunc/lt
=== RUN   TestIsSupportedThresholdFunc/eq
=== RUN   TestIsSupportedThresholdFunc/ne
=== RUN   TestIsSupportedThresholdFunc/gte
=== RUN   TestIsSupportedThresholdFunc/lte
=== RUN   TestIsSupportedThresholdFunc/within_range
=== RUN   TestIsSupportedThresholdFunc/outside_range
=== RUN   TestIsSupportedThresholdFunc/within_range_included
=== RUN   TestIsSupportedThresholdFunc/outside_range_included
=== RUN   TestIsSupportedThresholdFunc/foo
--- PASS: TestIsSupportedThresholdFunc (0.00s)
--- PASS: TestIsSupportedThresholdFunc/gt (0.00s)
--- PASS: TestIsSupportedThresholdFunc/lt (0.00s)
--- PASS: TestIsSupportedThresholdFunc/eq (0.00s)
--- PASS: TestIsSupportedThresholdFunc/ne (0.00s)
--- PASS: TestIsSupportedThresholdFunc/gte (0.00s)
--- PASS: TestIsSupportedThresholdFunc/lte (0.00s)
--- PASS: TestIsSupportedThresholdFunc/within_range (0.00s)
--- PASS: TestIsSupportedThresholdFunc/outside_range (0.00s)
--- PASS: TestIsSupportedThresholdFunc/within_range_included (0.00s)
--- PASS: TestIsSupportedThresholdFunc/outside_range_included (0.00s)
--- PASS: TestIsSupportedThresholdFunc/foo (0.00s)
=== RUN   TestIsHysteresisExpression
=== RUN   TestIsHysteresisExpression/false_if_it's_empty
=== RUN   TestIsHysteresisExpression/false_if_it_is_not_threshold_type
=== RUN   TestIsHysteresisExpression/false_if_no_conditions
=== RUN   TestIsHysteresisExpression/false_if_many_conditions
=== RUN   TestIsHysteresisExpression/false_if_condition_is_not_an_object
=== RUN   TestIsHysteresisExpression/false_if_condition_is_does_not_have_unloadEvaluator
=== RUN   TestIsHysteresisExpression/true_type_is_threshold_and_a_single_condition_has_unloadEvaluator_field
--- PASS: TestIsHysteresisExpression (0.00s)
--- PASS: TestIsHysteresisExpression/false_if_it's_empty (0.00s)
--- PASS: TestIsHysteresisExpression/false_if_it_is_not_threshold_type (0.00s)
--- PASS: TestIsHysteresisExpression/false_if_no_conditions (0.00s)
--- PASS: TestIsHysteresisExpression/false_if_many_conditions (0.00s)
--- PASS: TestIsHysteresisExpression/false_if_condition_is_not_an_object (0.00s)
--- PASS: TestIsHysteresisExpression/false_if_condition_is_does_not_have_unloadEvaluator (0.00s)
--- PASS: TestIsHysteresisExpression/true_type_is_threshold_and_a_single_condition_has_unloadEvaluator_field (0.00s)
=== RUN   TestSetLoadedDimensionsToHysteresisCommand
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/error_if_model_is_empty
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/error_if_is_not_a_threshold_type
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/error_if_threshold_but_no_conditions
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/error_if_threshold_and_many_conditions
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/error_if_condition_is_not_an_object
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/error_if_condition_does_not_have_unloadEvaluator
=== RUN   TestSetLoadedDimensionsToHysteresisCommand/when_unloadEvaluator_is_set,_mutates_query_with_loaded_dimensions
--- PASS: TestSetLoadedDimensionsToHysteresisCommand (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/error_if_model_is_empty (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/error_if_is_not_a_threshold_type (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/error_if_threshold_but_no_conditions (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/error_if_threshold_and_many_conditions (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/error_if_condition_is_not_an_object (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/error_if_condition_does_not_have_unloadEvaluator (0.00s)
--- PASS: TestSetLoadedDimensionsToHysteresisCommand/when_unloadEvaluator_is_set,_mutates_query_with_loaded_dimensions (0.00s)
=== RUN   TestThresholdExecute
=== RUN   TestThresholdExecute/greater_than_10
=== RUN   TestThresholdExecute/greater_than_10/no-data
=== RUN   TestThresholdExecute/greater_than_10/number_-_10
=== RUN   TestThresholdExecute/greater_than_10/number_-_11
=== RUN   TestThresholdExecute/greater_than_10/number_-_12
=== RUN   TestThresholdExecute/greater_than_10/number_-_8
=== RUN   TestThresholdExecute/greater_than_10/number_-_9
=== RUN   TestThresholdExecute/greater_than_10/number_-_NaN
=== RUN   TestThresholdExecute/greater_than_10/number_-_nil
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_10
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_11
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_12
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_8
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_9
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_NaN
=== RUN   TestThresholdExecute/greater_than_10/scalar_-_nil
=== RUN   TestThresholdExecute/greater_than_10/series_-_all_nils
=== RUN   TestThresholdExecute/greater_than_10/series_-_empty
=== RUN   TestThresholdExecute/greater_than_10/series_-_numbers
=== RUN   TestThresholdExecute/greater_than_10/series_-_with_NaNs
=== RUN   TestThresholdExecute/greater_than_10/series_-_with_labels
=== RUN   TestThresholdExecute/less_than_10
=== RUN   TestThresholdExecute/less_than_10/no-data
=== RUN   TestThresholdExecute/less_than_10/number_-_10
=== RUN   TestThresholdExecute/less_than_10/number_-_11
=== RUN   TestThresholdExecute/less_than_10/number_-_12
=== RUN   TestThresholdExecute/less_than_10/number_-_8
=== RUN   TestThresholdExecute/less_than_10/number_-_9
=== RUN   TestThresholdExecute/less_than_10/number_-_NaN
=== RUN   TestThresholdExecute/less_than_10/number_-_nil
=== RUN   TestThresholdExecute/less_than_10/scalar_-_10
=== RUN   TestThresholdExecute/less_than_10/scalar_-_11
=== RUN   TestThresholdExecute/less_than_10/scalar_-_12
=== RUN   TestThresholdExecute/less_than_10/scalar_-_8
=== RUN   TestThresholdExecute/less_than_10/scalar_-_9
=== RUN   TestThresholdExecute/less_than_10/scalar_-_NaN
=== RUN   TestThresholdExecute/less_than_10/scalar_-_nil
=== RUN   TestThresholdExecute/less_than_10/series_-_all_nils
=== RUN   TestThresholdExecute/less_than_10/series_-_empty
=== RUN   TestThresholdExecute/less_than_10/series_-_numbers
=== RUN   TestThresholdExecute/less_than_10/series_-_with_NaNs
=== RUN   TestThresholdExecute/less_than_10/series_-_with_labels
=== RUN   TestThresholdExecute/within_range_(8,11)
=== RUN   TestThresholdExecute/within_range_(8,11)/no-data
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_10
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_11
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_12
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_8
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_9
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_NaN
=== RUN   TestThresholdExecute/within_range_(8,11)/number_-_nil
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_10
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_11
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_12
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_8
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_9
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_NaN
=== RUN   TestThresholdExecute/within_range_(8,11)/scalar_-_nil
=== RUN   TestThresholdExecute/within_range_(8,11)/series_-_all_nils
=== RUN   TestThresholdExecute/within_range_(8,11)/series_-_empty
=== RUN   TestThresholdExecute/within_range_(8,11)/series_-_numbers
=== RUN   TestThresholdExecute/within_range_(8,11)/series_-_with_NaNs
=== RUN   TestThresholdExecute/within_range_(8,11)/series_-_with_labels
=== RUN   TestThresholdExecute/outside_range_(8,_11)
=== RUN   TestThresholdExecute/outside_range_(8,_11)/no-data
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_10
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_11
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_12
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_8
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_9
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_NaN
=== RUN   TestThresholdExecute/outside_range_(8,_11)/number_-_nil
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_10
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_11
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_12
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_8
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_9
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_NaN
=== RUN   TestThresholdExecute/outside_range_(8,_11)/scalar_-_nil
=== RUN   TestThresholdExecute/outside_range_(8,_11)/series_-_all_nils
=== RUN   TestThresholdExecute/outside_range_(8,_11)/series_-_empty
=== RUN   TestThresholdExecute/outside_range_(8,_11)/series_-_numbers
=== RUN   TestThresholdExecute/outside_range_(8,_11)/series_-_with_NaNs
=== RUN   TestThresholdExecute/outside_range_(8,_11)/series_-_with_labels
--- PASS: TestThresholdExecute (0.01s)
--- PASS: TestThresholdExecute/greater_than_10 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/no-data (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_10 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_11 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_12 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_8 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_9 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_NaN (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/number_-_nil (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_10 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_11 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_12 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_8 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_9 (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_NaN (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/scalar_-_nil (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/series_-_all_nils (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/series_-_empty (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/series_-_numbers (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/series_-_with_NaNs (0.00s)
--- PASS: TestThresholdExecute/greater_than_10/series_-_with_labels (0.00s)
--- PASS: TestThresholdExecute/less_than_10 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/no-data (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_10 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_11 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_12 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_8 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_9 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_NaN (0.00s)
--- PASS: TestThresholdExecute/less_than_10/number_-_nil (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_10 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_11 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_12 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_8 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_9 (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_NaN (0.00s)
--- PASS: TestThresholdExecute/less_than_10/scalar_-_nil (0.00s)
--- PASS: TestThresholdExecute/less_than_10/series_-_all_nils (0.00s)
--- PASS: TestThresholdExecute/less_than_10/series_-_empty (0.00s)
--- PASS: TestThresholdExecute/less_than_10/series_-_numbers (0.00s)
--- PASS: TestThresholdExecute/less_than_10/series_-_with_NaNs (0.00s)
--- PASS: TestThresholdExecute/less_than_10/series_-_with_labels (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11) (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/no-data (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_10 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_11 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_12 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_8 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_9 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_NaN (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/number_-_nil (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_10 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_11 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_12 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_8 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_9 (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_NaN (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/scalar_-_nil (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/series_-_all_nils (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/series_-_empty (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/series_-_numbers (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/series_-_with_NaNs (0.00s)
--- PASS: TestThresholdExecute/within_range_(8,11)/series_-_with_labels (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11) (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/no-data (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_10 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_11 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_12 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_8 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_9 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_NaN (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/number_-_nil (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_10 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_11 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_12 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_8 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_9 (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_NaN (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/scalar_-_nil (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/series_-_all_nils (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/series_-_empty (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/series_-_numbers (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/series_-_with_NaNs (0.00s)
--- PASS: TestThresholdExecute/outside_range_(8,_11)/series_-_with_labels (0.00s)
=== RUN   TestQueryErrorType
--- PASS: TestQueryErrorType (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/expr	0.528s
=== RUN   TestConditionsCmd
=== RUN   TestConditionsCmd/single_query_with_condition_when_condition_is_not_met
=== RUN   TestConditionsCmd/single_query_with_condition_when_condition_is_met
=== RUN   TestConditionsCmd/single_query_with_ranged_condition_when_condition_is_not_met
=== RUN   TestConditionsCmd/single_query_with_ranged_condition_when_condition_is_met
=== RUN   TestConditionsCmd/single_no_data_query_with_condition_is_No_Data
=== RUN   TestConditionsCmd/single_no_values_query_with_condition_is_No_Data
=== RUN   TestConditionsCmd/single_series_no_points_query_with_condition_returns_No_Data
=== RUN   TestConditionsCmd/single_no_data_query_with_condition_is_met_has_no_value
=== RUN   TestConditionsCmd/single_no_values_query_with_condition_is_met_has_no_value
=== RUN   TestConditionsCmd/single_series_no_points_query_with_condition_is_met_has_no_value
=== RUN   TestConditionsCmd/single_query_with_condition_returns_average_when_one_series_is_no_data_and_the_other_contains_valid_points
=== RUN   TestConditionsCmd/single_query_with_condition_and_no_series_matches_condition
=== RUN   TestConditionsCmd/single_query_with_condition_and_one_of_two_series_matches_condition
=== RUN   TestConditionsCmd/single_query_with_condition_and_both_series_matches_condition
=== RUN   TestConditionsCmd/single_query_with_two_conditions_where_left_hand_side_is_met
=== RUN   TestConditionsCmd/single_query_with_two_conditions_where_right_hand_side_is_met
=== RUN   TestConditionsCmd/single_query_with_two_conditions_where_both_are_met
=== RUN   TestConditionsCmd/single_instant_query_with_condition_where_condition_is_met
=== RUN   TestConditionsCmd/two_queries_with_two_conditions_using_and_operator_and_first_is_No_Data
=== RUN   TestConditionsCmd/two_queries_with_two_conditions_using_and_operator_and_last_is_No_Data
=== RUN   TestConditionsCmd/two_queries_with_two_conditions_using_or_operator_and_first_is_No_Data
=== RUN   TestConditionsCmd/two_queries_with_two_conditions_using_or_operator_and_last_is_No_Data
=== RUN   TestConditionsCmd/LogicOr_will_stop_subsequent_logic_checks_in_condition:_true_AND_true_LogicOr_false_AND_false
--- PASS: TestConditionsCmd (0.01s)
--- PASS: TestConditionsCmd/single_query_with_condition_when_condition_is_not_met (0.00s)
--- PASS: TestConditionsCmd/single_query_with_condition_when_condition_is_met (0.00s)
--- PASS: TestConditionsCmd/single_query_with_ranged_condition_when_condition_is_not_met (0.00s)
--- PASS: TestConditionsCmd/single_query_with_ranged_condition_when_condition_is_met (0.00s)
--- PASS: TestConditionsCmd/single_no_data_query_with_condition_is_No_Data (0.00s)
--- PASS: TestConditionsCmd/single_no_values_query_with_condition_is_No_Data (0.00s)
--- PASS: TestConditionsCmd/single_series_no_points_query_with_condition_returns_No_Data (0.00s)
--- PASS: TestConditionsCmd/single_no_data_query_with_condition_is_met_has_no_value (0.00s)
--- PASS: TestConditionsCmd/single_no_values_query_with_condition_is_met_has_no_value (0.00s)
--- PASS: TestConditionsCmd/single_series_no_points_query_with_condition_is_met_has_no_value (0.00s)
--- PASS: TestConditionsCmd/single_query_with_condition_returns_average_when_one_series_is_no_data_and_the_other_contains_valid_points (0.00s)
--- PASS: TestConditionsCmd/single_query_with_condition_and_no_series_matches_condition (0.00s)
--- PASS: TestConditionsCmd/single_query_with_condition_and_one_of_two_series_matches_condition (0.00s)
--- PASS: TestConditionsCmd/single_query_with_condition_and_both_series_matches_condition (0.00s)
--- PASS: TestConditionsCmd/single_query_with_two_conditions_where_left_hand_side_is_met (0.00s)
--- PASS: TestConditionsCmd/single_query_with_two_conditions_where_right_hand_side_is_met (0.00s)
--- PASS: TestConditionsCmd/single_query_with_two_conditions_where_both_are_met (0.00s)
--- PASS: TestConditionsCmd/single_instant_query_with_condition_where_condition_is_met (0.00s)
--- PASS: TestConditionsCmd/two_queries_with_two_conditions_using_and_operator_and_first_is_No_Data (0.00s)
--- PASS: TestConditionsCmd/two_queries_with_two_conditions_using_and_operator_and_last_is_No_Data (0.00s)
--- PASS: TestConditionsCmd/two_queries_with_two_conditions_using_or_operator_and_first_is_No_Data (0.00s)
--- PASS: TestConditionsCmd/two_queries_with_two_conditions_using_or_operator_and_last_is_No_Data (0.00s)
--- PASS: TestConditionsCmd/LogicOr_will_stop_subsequent_logic_checks_in_condition:_true_AND_true_LogicOr_false_AND_false (0.00s)
=== RUN   TestUnmarshalConditionsCmd
=== RUN   TestUnmarshalConditionsCmd/basic_threshold_condition
=== RUN   TestUnmarshalConditionsCmd/ranged_condition
--- PASS: TestUnmarshalConditionsCmd (0.00s)
--- PASS: TestUnmarshalConditionsCmd/basic_threshold_condition (0.00s)
--- PASS: TestUnmarshalConditionsCmd/ranged_condition (0.00s)
=== RUN   TestThresholdEvaluator
=== RUN   TestThresholdEvaluator/value_3_is_gt_1:_true
=== RUN   TestThresholdEvaluator/value_1_is_gt_3:_false
=== RUN   TestThresholdEvaluator/value_3_is_lt_1:_true
=== RUN   TestThresholdEvaluator/value_1_is_lt_3:_false
=== RUN   TestThresholdEvaluator/value_1_is_eq_1:_false
=== RUN   TestThresholdEvaluator/value_0_is_eq_0:_false
=== RUN   TestThresholdEvaluator/value_1_is_eq_0:_false
=== RUN   TestThresholdEvaluator/value_0_is_eq_1:_false
=== RUN   TestThresholdEvaluator/value_1_is_ne_1:_false
=== RUN   TestThresholdEvaluator/value_3_is_gte_3:_false
=== RUN   TestThresholdEvaluator/value_5_is_lte_4:_false
--- PASS: TestThresholdEvaluator (0.00s)
--- PASS: TestThresholdEvaluator/value_3_is_gt_1:_true (0.00s)
--- PASS: TestThresholdEvaluator/value_1_is_gt_3:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_3_is_lt_1:_true (0.00s)
--- PASS: TestThresholdEvaluator/value_1_is_lt_3:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_1_is_eq_1:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_0_is_eq_0:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_1_is_eq_0:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_0_is_eq_1:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_1_is_ne_1:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_3_is_gte_3:_false (0.00s)
--- PASS: TestThresholdEvaluator/value_5_is_lte_4:_false (0.00s)
=== RUN   TestRangedEvaluator
=== RUN   TestRangedEvaluator/value_3_is_within_range_1,_100:_true
=== RUN   TestRangedEvaluator/value_300_is_within_range_1,_100:_false
=== RUN   TestRangedEvaluator/value_3_is_within_range_100,_1:_true
=== RUN   TestRangedEvaluator/value_300_is_within_range_100,_1:_false
=== RUN   TestRangedEvaluator/value_1000_is_outside_range_1,_100:_true
=== RUN   TestRangedEvaluator/value_50_is_outside_range_1,_100:_false
=== RUN   TestRangedEvaluator/value_1000_is_outside_range_100,_1:_true
=== RUN   TestRangedEvaluator/value_50_is_outside_range_100,_1:_false
=== RUN   TestRangedEvaluator/value_100_is_outside_range_1,_100:_false
=== RUN   TestRangedEvaluator/value_1_is_outside_range_1,_100:_false
=== RUN   TestRangedEvaluator/value_100_is_within_range_included_1,_100:_true
=== RUN   TestRangedEvaluator/value_1_is_within_range_included_1,_100:_true
=== RUN   TestRangedEvaluator/value_100_is_outside_range_included_1,_100:_true
=== RUN   TestRangedEvaluator/value_1_is_outside_range_included_1,_100:_true
=== RUN   TestRangedEvaluator/unknown_evaluator_type_returns_false
=== RUN   TestRangedEvaluator/nil_number_conversion_returns_false
--- PASS: TestRangedEvaluator (0.00s)
--- PASS: TestRangedEvaluator/value_3_is_within_range_1,_100:_true (0.00s)
--- PASS: TestRangedEvaluator/value_300_is_within_range_1,_100:_false (0.00s)
--- PASS: TestRangedEvaluator/value_3_is_within_range_100,_1:_true (0.00s)
--- PASS: TestRangedEvaluator/value_300_is_within_range_100,_1:_false (0.00s)
--- PASS: TestRangedEvaluator/value_1000_is_outside_range_1,_100:_true (0.00s)
--- PASS: TestRangedEvaluator/value_50_is_outside_range_1,_100:_false (0.00s)
--- PASS: TestRangedEvaluator/value_1000_is_outside_range_100,_1:_true (0.00s)
--- PASS: TestRangedEvaluator/value_50_is_outside_range_100,_1:_false (0.00s)
--- PASS: TestRangedEvaluator/value_100_is_outside_range_1,_100:_false (0.00s)
--- PASS: TestRangedEvaluator/value_1_is_outside_range_1,_100:_false (0.00s)
--- PASS: TestRangedEvaluator/value_100_is_within_range_included_1,_100:_true (0.00s)
--- PASS: TestRangedEvaluator/value_1_is_within_range_included_1,_100:_true (0.00s)
--- PASS: TestRangedEvaluator/value_100_is_outside_range_included_1,_100:_true (0.00s)
--- PASS: TestRangedEvaluator/value_1_is_outside_range_included_1,_100:_true (0.00s)
--- PASS: TestRangedEvaluator/unknown_evaluator_type_returns_false (0.00s)
--- PASS: TestRangedEvaluator/nil_number_conversion_returns_false (0.00s)
=== RUN   TestNoValueEvaluator
=== RUN   TestNoValueEvaluator/value_50_is_no_value:_false
=== RUN   TestNoValueEvaluator/value_nil_is_no_value:_true
--- PASS: TestNoValueEvaluator (0.00s)
--- PASS: TestNoValueEvaluator/value_50_is_no_value:_false (0.00s)
--- PASS: TestNoValueEvaluator/value_nil_is_no_value:_true (0.00s)
=== RUN   TestReducer
=== RUN   TestReducer/sum
=== RUN   TestReducer/min
=== RUN   TestReducer/min_with_NaNs_only
=== RUN   TestReducer/max
=== RUN   TestReducer/count
=== RUN   TestReducer/last
=== RUN   TestReducer/median_with_odd_amount_of_numbers
=== RUN   TestReducer/median_with_even_amount_of_numbers
=== RUN   TestReducer/median_with_one_value
=== RUN   TestReducer/median_should_ignore_null_values
=== RUN   TestReducer/avg
=== RUN   TestReducer/avg_with_only_nulls
=== RUN   TestReducer/avg_of_number_values_and_null_values_should_ignore_nulls
=== RUN   TestReducer/count_non_null_with_mixed_null/real_values
=== RUN   TestReducer/count_non_null_with_mixed_null/real_values#01
=== RUN   TestReducer/count_non_null_with_no_values
--- PASS: TestReducer (0.00s)
--- PASS: TestReducer/sum (0.00s)
--- PASS: TestReducer/min (0.00s)
--- PASS: TestReducer/min_with_NaNs_only (0.00s)
--- PASS: TestReducer/max (0.00s)
--- PASS: TestReducer/count (0.00s)
--- PASS: TestReducer/last (0.00s)
--- PASS: TestReducer/median_with_odd_amount_of_numbers (0.00s)
--- PASS: TestReducer/median_with_even_amount_of_numbers (0.00s)
--- PASS: TestReducer/median_with_one_value (0.00s)
--- PASS: TestReducer/median_should_ignore_null_values (0.00s)
--- PASS: TestReducer/avg (0.00s)
--- PASS: TestReducer/avg_with_only_nulls (0.00s)
--- PASS: TestReducer/avg_of_number_values_and_null_values_should_ignore_nulls (0.00s)
--- PASS: TestReducer/count_non_null_with_mixed_null/real_values (0.00s)
--- PASS: TestReducer/count_non_null_with_mixed_null/real_values#01 (0.00s)
--- PASS: TestReducer/count_non_null_with_no_values (0.00s)
=== RUN   TestDiffReducer
=== RUN   TestDiffReducer/diff_of_one_positive_point
=== RUN   TestDiffReducer/diff_of_one_negative_point
=== RUN   TestDiffReducer/diff_two_positive_points_[1]
=== RUN   TestDiffReducer/diff_two_positive_points_[2]
=== RUN   TestDiffReducer/diff_two_negative_points_[1]
=== RUN   TestDiffReducer/diff_two_negative_points_[2]
=== RUN   TestDiffReducer/diff_of_one_positive_and_one_negative_point
=== RUN   TestDiffReducer/diff_of_one_negative_and_one_positive_point
=== RUN   TestDiffReducer/diff_of_three_positive_points
=== RUN   TestDiffReducer/diff_of_three_negative_points
=== RUN   TestDiffReducer/diff_with_only_nulls
--- PASS: TestDiffReducer (0.00s)
--- PASS: TestDiffReducer/diff_of_one_positive_point (0.00s)
--- PASS: TestDiffReducer/diff_of_one_negative_point (0.00s)
--- PASS: TestDiffReducer/diff_two_positive_points_[1] (0.00s)
--- PASS: TestDiffReducer/diff_two_positive_points_[2] (0.00s)
--- PASS: TestDiffReducer/diff_two_negative_points_[1] (0.00s)
--- PASS: TestDiffReducer/diff_two_negative_points_[2] (0.00s)
--- PASS: TestDiffReducer/diff_of_one_positive_and_one_negative_point (0.00s)
--- PASS: TestDiffReducer/diff_of_one_negative_and_one_positive_point (0.00s)
--- PASS: TestDiffReducer/diff_of_three_positive_points (0.00s)
--- PASS: TestDiffReducer/diff_of_three_negative_points (0.00s)
--- PASS: TestDiffReducer/diff_with_only_nulls (0.00s)
=== RUN   TestDiffAbsReducer
=== RUN   TestDiffAbsReducer/diff_abs_of_one_positive_point
=== RUN   TestDiffAbsReducer/diff_abs_of_one_negative_point
=== RUN   TestDiffAbsReducer/diff_abs_two_positive_points_[1]
=== RUN   TestDiffAbsReducer/diff_abs_two_positive_points_[2]
=== RUN   TestDiffAbsReducer/diff_abs_two_negative_points_[1]
=== RUN   TestDiffAbsReducer/diff_abs_two_negative_points_[2]
=== RUN   TestDiffAbsReducer/diff_abs_of_one_positive_and_one_negative_point
=== RUN   TestDiffAbsReducer/diff_abs_of_one_negative_and_one_positive_point
=== RUN   TestDiffAbsReducer/diff_abs_of_three_positive_points
=== RUN   TestDiffAbsReducer/diff_abs_of_three_negative_points
=== RUN   TestDiffAbsReducer/diff_abs_with_only_nulls
--- PASS: TestDiffAbsReducer (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_of_one_positive_point (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_of_one_negative_point (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_two_positive_points_[1] (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_two_positive_points_[2] (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_two_negative_points_[1] (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_two_negative_points_[2] (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_of_one_positive_and_one_negative_point (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_of_one_negative_and_one_positive_point (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_of_three_positive_points (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_of_three_negative_points (0.00s)
--- PASS: TestDiffAbsReducer/diff_abs_with_only_nulls (0.00s)
=== RUN   TestPercentDiffReducer
=== RUN   TestPercentDiffReducer/percent_diff_of_one_positive_point
=== RUN   TestPercentDiffReducer/percent_diff_of_one_negative_point
=== RUN   TestPercentDiffReducer/percent_diff_two_positive_points_[1]
=== RUN   TestPercentDiffReducer/percent_diff_two_positive_points_[2]
=== RUN   TestPercentDiffReducer/percent_diff_two_negative_points_[1]
=== RUN   TestPercentDiffReducer/percent_diff_two_negative_points_[2]
=== RUN   TestPercentDiffReducer/percent_diff_of_one_positive_and_one_negative_point
=== RUN   TestPercentDiffReducer/percent_diff_of_one_negative_and_one_positive_point
=== RUN   TestPercentDiffReducer/percent_diff_of_three_positive_points
=== RUN   TestPercentDiffReducer/percent_diff_of_three_negative_points
=== RUN   TestPercentDiffReducer/percent_diff_with_only_nulls
--- PASS: TestPercentDiffReducer (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_of_one_positive_point (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_of_one_negative_point (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_two_positive_points_[1] (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_two_positive_points_[2] (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_two_negative_points_[1] (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_two_negative_points_[2] (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_of_one_positive_and_one_negative_point (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_of_one_negative_and_one_positive_point (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_of_three_positive_points (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_of_three_negative_points (0.00s)
--- PASS: TestPercentDiffReducer/percent_diff_with_only_nulls (0.00s)
=== RUN   TestPercentDiffAbsReducer
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_of_one_positive_point
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_of_one_negative_point
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_two_positive_points_[1]
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_two_positive_points_[2]
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_two_negative_points_[1]
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_two_negative_points_[2]
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_of_one_positive_and_one_negative_point
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_of_one_negative_and_one_positive_point
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_of_three_positive_points
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_of_three_negative_points
=== RUN   TestPercentDiffAbsReducer/percent_diff_abs_with_only_nulls
--- PASS: TestPercentDiffAbsReducer (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_of_one_positive_point (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_of_one_negative_point (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_two_positive_points_[1] (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_two_positive_points_[2] (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_two_negative_points_[1] (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_two_negative_points_[2] (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_of_one_positive_and_one_negative_point (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_of_one_negative_and_one_positive_point (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_of_three_positive_points (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_of_three_negative_points (0.00s)
--- PASS: TestPercentDiffAbsReducer/percent_diff_abs_with_only_nulls (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/expr/classic	(cached)
=== RUN   TestNaN
=== RUN   TestNaN/unary_!:_Op_Number(NaN)_is_NaN
=== RUN   TestNaN/unary_-:_Op_Number(NaN)_is_NaN
=== RUN   TestNaN/binary:_Scalar_Op(Non-AND/OR)_Number(NaN)_is_NaN
=== RUN   TestNaN/binary:_Scalar_Op(AND/OR)_Number(NaN)_is_0/1
=== RUN   TestNaN/binary:_Scalar_Op(Non-AND/OR)_Series(with_NaN_value)_is_NaN)
=== RUN   TestNaN/binary:_Number_Op(Non-AND/OR)_Series(with_NaN_value)_is_Series_with_NaN
=== RUN   TestNaN/binary:_Number(NaN)_Op_Series(with_NaN_value)_is_Series_with_NaN
--- PASS: TestNaN (0.00s)
--- PASS: TestNaN/unary_!:_Op_Number(NaN)_is_NaN (0.00s)
--- PASS: TestNaN/unary_-:_Op_Number(NaN)_is_NaN (0.00s)
--- PASS: TestNaN/binary:_Scalar_Op(Non-AND/OR)_Number(NaN)_is_NaN (0.00s)
--- PASS: TestNaN/binary:_Scalar_Op(AND/OR)_Number(NaN)_is_0/1 (0.00s)
--- PASS: TestNaN/binary:_Scalar_Op(Non-AND/OR)_Series(with_NaN_value)_is_NaN) (0.00s)
--- PASS: TestNaN/binary:_Number_Op(Non-AND/OR)_Series(with_NaN_value)_is_Series_with_NaN (0.00s)
--- PASS: TestNaN/binary:_Number(NaN)_Op_Series(with_NaN_value)_is_Series_with_NaN (0.00s)
=== RUN   TestNullValues
=== RUN   TestNullValues/scalar:_unary_!_null():_is_null
=== RUN   TestNullValues/scalar:_binary_null()_+_null():_is_null
=== RUN   TestNullValues/scalar:_binary_1_+_null():_is_null
=== RUN   TestNullValues/series:_unary_with_a_null_value_in_it_has_a_null_value_in_result
=== RUN   TestNullValues/series:_binary_with_a_null_value_in_it_has_a_null_value_in_result
=== RUN   TestNullValues/series_and_scalar:_binary_with_a_null_value_in_it_has_a_nil_value_in_result
=== RUN   TestNullValues/number:_unary_!_null_number:_is_null
=== RUN   TestNullValues/number:_binary_null_number_and_null_number:_is_null
=== RUN   TestNullValues/number:_binary_non-null_number_and_null_number:_is_null
=== RUN   TestNullValues/number_and_series:_binary_non-null_number_and_series_with_a_null:_is_null
=== RUN   TestNullValues/number_and_series:_binary_null_number_and_series_with_non-null_and_null:_is_null_and_null
--- PASS: TestNullValues (0.01s)
--- PASS: TestNullValues/scalar:_unary_!_null():_is_null (0.00s)
--- PASS: TestNullValues/scalar:_binary_null()_+_null():_is_null (0.00s)
--- PASS: TestNullValues/scalar:_binary_1_+_null():_is_null (0.00s)
--- PASS: TestNullValues/series:_unary_with_a_null_value_in_it_has_a_null_value_in_result (0.00s)
--- PASS: TestNullValues/series:_binary_with_a_null_value_in_it_has_a_null_value_in_result (0.00s)
--- PASS: TestNullValues/series_and_scalar:_binary_with_a_null_value_in_it_has_a_nil_value_in_result (0.00s)
--- PASS: TestNullValues/number:_unary_!_null_number:_is_null (0.00s)
--- PASS: TestNullValues/number:_binary_null_number_and_null_number:_is_null (0.00s)
--- PASS: TestNullValues/number:_binary_non-null_number_and_null_number:_is_null (0.00s)
--- PASS: TestNullValues/number_and_series:_binary_non-null_number_and_series_with_a_null:_is_null (0.00s)
--- PASS: TestNullValues/number_and_series:_binary_null_number_and_series_with_non-null_and_null:_is_null_and_null (0.00s)
=== RUN   TestNoData
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_abs($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_inf($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_nan($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_null($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_number($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_log($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_round($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_ceil($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_floor($A)
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_!$A
=== RUN   TestNoData/unary_operation_return_NoData_if_input_NoData/op:_-$A
=== RUN   TestNoData/op:_$A_||_$B
=== RUN   TestNoData/op:_$A_||_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_||_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_||_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_&&_$B
=== RUN   TestNoData/op:_$A_&&_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_&&_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_&&_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_+_$B
=== RUN   TestNoData/op:_$A_+_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_+_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_+_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_*_$B
=== RUN   TestNoData/op:_$A_*_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_*_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_*_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_-_$B
=== RUN   TestNoData/op:_$A_-_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_-_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_-_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_/_$B
=== RUN   TestNoData/op:_$A_/_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_/_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_/_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_**_$B
=== RUN   TestNoData/op:_$A_**_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_**_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_**_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_%_$B
=== RUN   TestNoData/op:_$A_%_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_%_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_%_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_==_$B
=== RUN   TestNoData/op:_$A_==_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_==_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_==_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_>_$B
=== RUN   TestNoData/op:_$A_>_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_>_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_>_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_!=_$B
=== RUN   TestNoData/op:_$A_!=_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_!=_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_!=_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_<_$B
=== RUN   TestNoData/op:_$A_<_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_<_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_<_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_>=_$B
=== RUN   TestNoData/op:_$A_>=_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_>=_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_>=_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_<=_$B
=== RUN   TestNoData/op:_$A_<=_$B/$A,$B=nodata
=== RUN   TestNoData/op:_$A_<=_$B/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_<=_$B/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_||_$B#01
=== RUN   TestNoData/op:_$A_||_$B#01/$A,$B=nodata
=== RUN   TestNoData/op:_$A_||_$B#01/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_||_$B#01/$A=series,_$B=nodata
=== RUN   TestNoData/op:_$A_&&_$B#01
=== RUN   TestNoData/op:_$A_&&_$B#01/$A,$B=nodata
=== RUN   TestNoData/op:_$A_&&_$B#01/$A=nodata,_$B=series
=== RUN   TestNoData/op:_$A_&&_$B#01/$A=series,_$B=nodata
--- PASS: TestNoData (0.02s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_abs($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_inf($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_nan($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_null($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_is_number($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_log($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_round($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_ceil($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_floor($A) (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_!$A (0.00s)
--- PASS: TestNoData/unary_operation_return_NoData_if_input_NoData/op:_-$A (0.00s)
--- PASS: TestNoData/op:_$A_||_$B (0.00s)
--- PASS: TestNoData/op:_$A_||_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_||_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_||_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_+_$B (0.00s)
--- PASS: TestNoData/op:_$A_+_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_+_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_+_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_*_$B (0.00s)
--- PASS: TestNoData/op:_$A_*_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_*_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_*_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_-_$B (0.00s)
--- PASS: TestNoData/op:_$A_-_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_-_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_-_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_/_$B (0.00s)
--- PASS: TestNoData/op:_$A_/_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_/_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_/_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_**_$B (0.00s)
--- PASS: TestNoData/op:_$A_**_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_**_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_**_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_%_$B (0.00s)
--- PASS: TestNoData/op:_$A_%_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_%_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_%_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_==_$B (0.00s)
--- PASS: TestNoData/op:_$A_==_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_==_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_==_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_>_$B (0.01s)
--- PASS: TestNoData/op:_$A_>_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_>_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_>_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_!=_$B (0.00s)
--- PASS: TestNoData/op:_$A_!=_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_!=_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_!=_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_<_$B (0.00s)
--- PASS: TestNoData/op:_$A_<_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_<_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_<_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_>=_$B (0.00s)
--- PASS: TestNoData/op:_$A_>=_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_>=_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_>=_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_<=_$B (0.00s)
--- PASS: TestNoData/op:_$A_<=_$B/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_<=_$B/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_<=_$B/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_||_$B#01 (0.00s)
--- PASS: TestNoData/op:_$A_||_$B#01/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_||_$B#01/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_||_$B#01/$A=series,_$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B#01 (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B#01/$A,$B=nodata (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B#01/$A=nodata,_$B=series (0.00s)
--- PASS: TestNoData/op:_$A_&&_$B#01/$A=series,_$B=nodata (0.00s)
=== RUN   TestScalarExpr
=== RUN   TestScalarExpr/a_scalar
=== RUN   TestScalarExpr/unary:_scalar
=== RUN   TestScalarExpr/binary:_scalar_Op_scalar
=== RUN   TestScalarExpr/binary:_scalar_Op_scalar_-_divide_by_zero
=== RUN   TestScalarExpr/binary:_scalar_Op_number
=== RUN   TestScalarExpr/binary:_number_Op_Scalar
--- PASS: TestScalarExpr (0.00s)
--- PASS: TestScalarExpr/a_scalar (0.00s)
--- PASS: TestScalarExpr/unary:_scalar (0.00s)
--- PASS: TestScalarExpr/binary:_scalar_Op_scalar (0.00s)
--- PASS: TestScalarExpr/binary:_scalar_Op_scalar_-_divide_by_zero (0.00s)
--- PASS: TestScalarExpr/binary:_scalar_Op_number (0.00s)
--- PASS: TestScalarExpr/binary:_number_Op_Scalar (0.00s)
=== RUN   TestNumberExpr
=== RUN   TestNumberExpr/binary:_number_Op_Scalar
=== RUN   TestNumberExpr/unary:_number
=== RUN   TestNumberExpr/binary:_Scalar_Op_Number_(Number_will_nil_val)_returns_nil
--- PASS: TestNumberExpr (0.00s)
--- PASS: TestNumberExpr/binary:_number_Op_Scalar (0.00s)
--- PASS: TestNumberExpr/unary:_number (0.00s)
--- PASS: TestNumberExpr/binary:_Scalar_Op_Number_(Number_will_nil_val)_returns_nil (0.00s)
=== RUN   TestSeriesExpr
=== RUN   TestSeriesExpr/unary_series
=== RUN   TestSeriesExpr/binary_scalar_Op_series
=== RUN   TestSeriesExpr/binary_series_Op_scalar
=== RUN   TestSeriesExpr/series_Op_series
=== RUN   TestSeriesExpr/series_Op_number
=== RUN   TestSeriesExpr/number_Op_series
=== RUN   TestSeriesExpr/series_Op_series_with_label_union
=== RUN   TestSeriesExpr/series_Op_series_with_sparse_time_join
--- PASS: TestSeriesExpr (0.01s)
--- PASS: TestSeriesExpr/unary_series (0.00s)
--- PASS: TestSeriesExpr/binary_scalar_Op_series (0.00s)
--- PASS: TestSeriesExpr/binary_series_Op_scalar (0.00s)
--- PASS: TestSeriesExpr/series_Op_series (0.00s)
--- PASS: TestSeriesExpr/series_Op_number (0.00s)
--- PASS: TestSeriesExpr/number_Op_series (0.00s)
--- PASS: TestSeriesExpr/series_Op_series_with_label_union (0.00s)
--- PASS: TestSeriesExpr/series_Op_series_with_sparse_time_join (0.00s)
=== RUN   TestAbsFunc
=== RUN   TestAbsFunc/abs_on_number
=== RUN   TestAbsFunc/abs_on_scalar
=== RUN   TestAbsFunc/abs_on_series
=== RUN   TestAbsFunc/abs_on_string_-_should_error
--- PASS: TestAbsFunc (0.00s)
--- PASS: TestAbsFunc/abs_on_number (0.00s)
--- PASS: TestAbsFunc/abs_on_scalar (0.00s)
--- PASS: TestAbsFunc/abs_on_series (0.00s)
--- PASS: TestAbsFunc/abs_on_string_-_should_error (0.00s)
=== RUN   TestIsNumberFunc
=== RUN   TestIsNumberFunc/is_number_on_number_type_with_real_number_value
=== RUN   TestIsNumberFunc/is_number_on_number_type_with_null_value
=== RUN   TestIsNumberFunc/is_number_on_on_series
--- PASS: TestIsNumberFunc (0.00s)
--- PASS: TestIsNumberFunc/is_number_on_number_type_with_real_number_value (0.00s)
--- PASS: TestIsNumberFunc/is_number_on_number_type_with_null_value (0.00s)
--- PASS: TestIsNumberFunc/is_number_on_on_series (0.00s)
=== RUN   TestSeriesReduce
=== RUN   TestSeriesReduce/foo_reduction_will_error
=== RUN   TestSeriesReduce/sum_series
=== RUN   TestSeriesReduce/sum_series_with_a_nil_value
=== RUN   TestSeriesReduce/sum_empty_series
=== RUN   TestSeriesReduce/mean_series_with_a_nil_value
=== RUN   TestSeriesReduce/mean_empty_series
=== RUN   TestSeriesReduce/median_empty_series
=== RUN   TestSeriesReduce/median_series_with_a_nil_value
=== RUN   TestSeriesReduce/median_series_even_number_of_elements
=== RUN   TestSeriesReduce/median_series_odd_number_of_elements
=== RUN   TestSeriesReduce/median_series_with_repeated_values
=== RUN   TestSeriesReduce/median_series_with_negative_values
=== RUN   TestSeriesReduce/min_series_with_a_nil_value
=== RUN   TestSeriesReduce/min_empty_series
=== RUN   TestSeriesReduce/max_series_with_a_nil_value
=== RUN   TestSeriesReduce/max_empty_series
=== RUN   TestSeriesReduce/mean_series
=== RUN   TestSeriesReduce/count_empty_series
=== RUN   TestSeriesReduce/mean_series_with_labels
=== RUN   TestSeriesReduce/last_empty_series
=== RUN   TestSeriesReduce/last_null_series
--- PASS: TestSeriesReduce (0.01s)
--- PASS: TestSeriesReduce/foo_reduction_will_error (0.00s)
--- PASS: TestSeriesReduce/sum_series (0.00s)
--- PASS: TestSeriesReduce/sum_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduce/sum_empty_series (0.00s)
--- PASS: TestSeriesReduce/mean_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduce/mean_empty_series (0.00s)
--- PASS: TestSeriesReduce/median_empty_series (0.00s)
--- PASS: TestSeriesReduce/median_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduce/median_series_even_number_of_elements (0.00s)
--- PASS: TestSeriesReduce/median_series_odd_number_of_elements (0.00s)
--- PASS: TestSeriesReduce/median_series_with_repeated_values (0.00s)
--- PASS: TestSeriesReduce/median_series_with_negative_values (0.00s)
--- PASS: TestSeriesReduce/min_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduce/min_empty_series (0.00s)
--- PASS: TestSeriesReduce/max_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduce/max_empty_series (0.00s)
--- PASS: TestSeriesReduce/mean_series (0.00s)
--- PASS: TestSeriesReduce/count_empty_series (0.00s)
--- PASS: TestSeriesReduce/mean_series_with_labels (0.00s)
--- PASS: TestSeriesReduce/last_empty_series (0.00s)
--- PASS: TestSeriesReduce/last_null_series (0.00s)
=== RUN   TestSeriesReduceDropNN
=== RUN   TestSeriesReduceDropNN/dropNN:_sum_series
=== RUN   TestSeriesReduceDropNN/dropNN:_sum_series_with_a_nil_value
=== RUN   TestSeriesReduceDropNN/dropNN:_sum_empty_series
=== RUN   TestSeriesReduceDropNN/dropNN:_mean_series_with_a_nil_value_and_real_value
=== RUN   TestSeriesReduceDropNN/DropNN:_mean_empty_series
=== RUN   TestSeriesReduceDropNN/DropNN:_median_series_with_a_nil_value_and_real_value
=== RUN   TestSeriesReduceDropNN/DropNN:_median_empty_series
=== RUN   TestSeriesReduceDropNN/DropNN:_median_series_that_becomes_empty_after_filtering_non-number
=== RUN   TestSeriesReduceDropNN/DropNN:_mean_series_that_becomes_empty_after_filtering_non-number
=== RUN   TestSeriesReduceDropNN/DropNN:_count_empty_series
=== RUN   TestSeriesReduceDropNN/DropNN:_count_series_with_nil_and_value_should_only_count_real_numbers
--- PASS: TestSeriesReduceDropNN (0.00s)
--- PASS: TestSeriesReduceDropNN/dropNN:_sum_series (0.00s)
--- PASS: TestSeriesReduceDropNN/dropNN:_sum_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduceDropNN/dropNN:_sum_empty_series (0.00s)
--- PASS: TestSeriesReduceDropNN/dropNN:_mean_series_with_a_nil_value_and_real_value (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_mean_empty_series (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_median_series_with_a_nil_value_and_real_value (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_median_empty_series (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_median_series_that_becomes_empty_after_filtering_non-number (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_mean_series_that_becomes_empty_after_filtering_non-number (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_count_empty_series (0.00s)
--- PASS: TestSeriesReduceDropNN/DropNN:_count_series_with_nil_and_value_should_only_count_real_numbers (0.00s)
=== RUN   TestSeriesReduceReplaceNN
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_sum_series
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_sum_series_with_a_nil_value
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_sum_empty_series
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_mean_series_with_a_nil_value_and_real_value
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_mean_empty_series
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_mean_series_that_becomes_empty_after_filtering_non-number
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_median_series_with_a_nil_value_and_real_value
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_median_empty_series
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_median_series_that_becomes_empty_after_filtering_non-number
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_count_empty_series
=== RUN   TestSeriesReduceReplaceNN/replaceNN:_count_series_with_nil_and_value_should_only_count_real_numbers
--- PASS: TestSeriesReduceReplaceNN (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_sum_series (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_sum_series_with_a_nil_value (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_sum_empty_series (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_mean_series_with_a_nil_value_and_real_value (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_mean_empty_series (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_mean_series_that_becomes_empty_after_filtering_non-number (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_median_series_with_a_nil_value_and_real_value (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_median_empty_series (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_median_series_that_becomes_empty_after_filtering_non-number (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_count_empty_series (0.00s)
--- PASS: TestSeriesReduceReplaceNN/replaceNN:_count_series_with_nil_and_value_should_only_count_real_numbers (0.00s)
=== RUN   TestResampleSeries
=== RUN   TestResampleSeries/resample_series:_time_range_shorter_than_the_rule_interval
=== RUN   TestResampleSeries/resample_series:_invalid_time_range
=== RUN   TestResampleSeries/resample_series:_downsampling_(mean_/_pad)
=== RUN   TestResampleSeries/resample_series:_downsampling_(max_/_fillna)
=== RUN   TestResampleSeries/resample_series:_downsampling_(min_/_fillna)
=== RUN   TestResampleSeries/resample_series:_downsampling_(sum_/_fillna)
=== RUN   TestResampleSeries/resample_series:_downsampling_(mean_/_fillna)
=== RUN   TestResampleSeries/resample_series:_upsampling_(mean_/_pad_)
=== RUN   TestResampleSeries/resample_series:_upsampling_(mean_/_backfilling_)
=== RUN   TestResampleSeries/resample_series:_downsampling_(last_/_pad_)
--- PASS: TestResampleSeries (0.00s)
--- PASS: TestResampleSeries/resample_series:_time_range_shorter_than_the_rule_interval (0.00s)
--- PASS: TestResampleSeries/resample_series:_invalid_time_range (0.00s)
--- PASS: TestResampleSeries/resample_series:_downsampling_(mean_/_pad) (0.00s)
--- PASS: TestResampleSeries/resample_series:_downsampling_(max_/_fillna) (0.00s)
--- PASS: TestResampleSeries/resample_series:_downsampling_(min_/_fillna) (0.00s)
--- PASS: TestResampleSeries/resample_series:_downsampling_(sum_/_fillna) (0.00s)
--- PASS: TestResampleSeries/resample_series:_downsampling_(mean_/_fillna) (0.00s)
--- PASS: TestResampleSeries/resample_series:_upsampling_(mean_/_pad_) (0.00s)
--- PASS: TestResampleSeries/resample_series:_upsampling_(mean_/_backfilling_) (0.00s)
--- PASS: TestResampleSeries/resample_series:_downsampling_(last_/_pad_) (0.00s)
=== RUN   TestSeriesSort
=== RUN   TestSeriesSort/unordered_series_should_sort_by_time_ascending
=== RUN   TestSeriesSort/unordered_series_should_sort_by_time_descending
--- PASS: TestSeriesSort (0.00s)
--- PASS: TestSeriesSort/unordered_series_should_sort_by_time_ascending (0.00s)
--- PASS: TestSeriesSort/unordered_series_should_sort_by_time_descending (0.00s)
=== RUN   TestSeriesFromFrame
=== RUN   TestSeriesFromFrame/[]time,_[]float_frame_should_convert
=== RUN   TestSeriesFromFrame/[]time,_[]*float_frame_should_convert
=== RUN   TestSeriesFromFrame/[]*float,_[]time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]*int,_[]*time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]int,_[]*time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]string,_[]*time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]*string,_[]*time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]bool,_[]*time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]*bool,_[]*time_frame_should_convert
=== RUN   TestSeriesFromFrame/[]*time,_[]*time_frame_should_error
=== RUN   TestSeriesFromFrame/[]*float64,_[]float64_frame_should_error
=== RUN   TestSeriesFromFrame/[]*float64_frame_should_error
--- PASS: TestSeriesFromFrame (0.00s)
--- PASS: TestSeriesFromFrame/[]time,_[]float_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]time,_[]*float_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]*float,_[]time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]*int,_[]*time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]int,_[]*time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]string,_[]*time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]*string,_[]*time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]bool,_[]*time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]*bool,_[]*time_frame_should_convert (0.00s)
--- PASS: TestSeriesFromFrame/[]*time,_[]*time_frame_should_error (0.00s)
--- PASS: TestSeriesFromFrame/[]*float64,_[]float64_frame_should_error (0.00s)
--- PASS: TestSeriesFromFrame/[]*float64_frame_should_error (0.00s)
=== RUN   TestSeriesName
=== RUN   TestSeriesName/when_the_frame_got_a_name_this_name_should_be_used
=== RUN   TestSeriesName/when_a_frame_got_no_name_the_name_of_the_value_column_should_be_used
--- PASS: TestSeriesName (0.00s)
--- PASS: TestSeriesName/when_the_frame_got_a_name_this_name_should_be_used (0.00s)
--- PASS: TestSeriesName/when_a_frame_got_no_name_the_name_of_the_value_column_should_be_used (0.00s)
=== RUN   Test_union
=== RUN   Test_union/equal_tags_single_union
=== RUN   Test_union/equal_tags_keys_with_no_matching_values_will_result_in_a_union_when_len(A)_==_1_&&_len(B)_==_1
=== RUN   Test_union/equal_tags_keys_with_no_matching_values_will_result_in_no_unions_when_len(A)_!=_1_&&_len(B)_!=_1
=== RUN   Test_union/empty_results_will_result_in_no_unions
=== RUN   Test_union/empty_result_and_data_result_will_result_in_no_unions
=== RUN   Test_union/no_data_result_and_data_result_will_result_in_no_unions
=== RUN   Test_union/incompatible_tags_of_different_length_with_will_result_in_no_unions_when_len(A)_!=_1_&&_len(B)_!=_1
=== RUN   Test_union/A_is_subset_of_B_results_in_single_union_with_Labels_of_B
=== RUN   Test_union/B_is_subset_of_A_results_in_single_union_with_Labels_of_A
=== RUN   Test_union/single_valued_A_is_subset_of_many_valued_B,_results_in_many_union_with_Labels_of_B
=== RUN   Test_union/A_with_different_tags_keys_lengths_to_B_makes_3_unions_(with_two_unions_have_matching_tags)
=== RUN   Test_union/B_with_different_tags_keys_lengths_to_A_makes_3_unions_(with_two_unions_have_matching_tags)
=== RUN   Test_union/A_is_no-data_and_B_is_anything_makes_no-data
--- PASS: Test_union (0.00s)
--- PASS: Test_union/equal_tags_single_union (0.00s)
--- PASS: Test_union/equal_tags_keys_with_no_matching_values_will_result_in_a_union_when_len(A)_==_1_&&_len(B)_==_1 (0.00s)
--- PASS: Test_union/equal_tags_keys_with_no_matching_values_will_result_in_no_unions_when_len(A)_!=_1_&&_len(B)_!=_1 (0.00s)
--- PASS: Test_union/empty_results_will_result_in_no_unions (0.00s)
--- PASS: Test_union/empty_result_and_data_result_will_result_in_no_unions (0.00s)
--- PASS: Test_union/no_data_result_and_data_result_will_result_in_no_unions (0.00s)
--- PASS: Test_union/incompatible_tags_of_different_length_with_will_result_in_no_unions_when_len(A)_!=_1_&&_len(B)_!=_1 (0.00s)
--- PASS: Test_union/A_is_subset_of_B_results_in_single_union_with_Labels_of_B (0.00s)
--- PASS: Test_union/B_is_subset_of_A_results_in_single_union_with_Labels_of_A (0.00s)
--- PASS: Test_union/single_valued_A_is_subset_of_many_valued_B,_results_in_many_union_with_Labels_of_B (0.00s)
--- PASS: Test_union/A_with_different_tags_keys_lengths_to_B_makes_3_unions_(with_two_unions_have_matching_tags) (0.00s)
--- PASS: Test_union/B_with_different_tags_keys_lengths_to_A_makes_3_unions_(with_two_unions_have_matching_tags) (0.00s)
--- PASS: Test_union/A_is_no-data_and_B_is_anything_makes_no-data (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/expr/mathexp	(cached)
=== RUN   TestLex
--- PASS: TestLex (0.00s)
=== RUN   TestLexerClose
--- PASS: TestLexerClose (0.00s)
=== RUN   TestParseErrorNoLeak
--- PASS: TestParseErrorNoLeak (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/expr/mathexp/parse	(cached)
?   	github.com/grafana/grafana/pkg/expr/metrics	[no test files]
=== RUN   TestUnmarshalCommand
=== RUN   TestUnmarshalCommand/should_parse_outlier_command
=== RUN   TestUnmarshalCommand/should_fallback_to_default_if_'intervalMs'_is_not_specified
=== RUN   TestUnmarshalCommand/fails_when
=== RUN   TestUnmarshalCommand/fails_when/field_'type'_is_missing
=== RUN   TestUnmarshalCommand/fails_when/field_'type'_is_not_known
=== RUN   TestUnmarshalCommand/fails_when/field_'type'_is_not_string
=== RUN   TestUnmarshalCommand/fails_when/field_'config'_is_missing
=== RUN   TestUnmarshalCommand/fails_when/field_'intervalMs'_is_not_number
=== RUN   TestUnmarshalCommand/fails_when/field_'config.datasource_uid'_is_not_specified
=== RUN   TestUnmarshalCommand/fails_when/field_'config.algorithm'_is_not_specified
=== RUN   TestUnmarshalCommand/fails_when/field_'config.response_type'_is_not_specified
=== RUN   TestUnmarshalCommand/fails_when/fields_'config.query'_and_'config.query_params'_are_not_specified
--- PASS: TestUnmarshalCommand (0.00s)
--- PASS: TestUnmarshalCommand/should_parse_outlier_command (0.00s)
--- PASS: TestUnmarshalCommand/should_fallback_to_default_if_'intervalMs'_is_not_specified (0.00s)
--- PASS: TestUnmarshalCommand/fails_when (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'type'_is_missing (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'type'_is_not_known (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'type'_is_not_string (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'config'_is_missing (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'intervalMs'_is_not_number (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'config.datasource_uid'_is_not_specified (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'config.algorithm'_is_not_specified (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/field_'config.response_type'_is_not_specified (0.00s)
--- PASS: TestUnmarshalCommand/fails_when/fields_'config.query'_and_'config.query_params'_are_not_specified (0.00s)
=== RUN   TestOutlierExec
=== RUN   TestOutlierExec/should_generate_expected_parameters_for_request
=== RUN   TestOutlierExec/should_return_parsed_frames_when_200
=== RUN   TestOutlierExec/should_return_nil_if_204
=== RUN   TestOutlierExec/should_return_error_if_any_status_and_body_has_status_error
=== RUN   TestOutlierExec/should_return_error_with_explanations_if_any_status_and_body_has_status_error
=== RUN   TestOutlierExec/should_return_error_response_is_empty
=== RUN   TestOutlierExec/should_return_error_response_is_not_a_valid_JSON
=== RUN   TestOutlierExec/should_error_if_response_is_nil_and_no_error
=== RUN   TestOutlierExec/should_return_error_if_status_is_not_known
=== RUN   TestOutlierExec/should_propagate_error_from_request_function
--- PASS: TestOutlierExec (0.00s)
--- PASS: TestOutlierExec/should_generate_expected_parameters_for_request (0.00s)
--- PASS: TestOutlierExec/should_return_parsed_frames_when_200 (0.00s)
--- PASS: TestOutlierExec/should_return_nil_if_204 (0.00s)
--- PASS: TestOutlierExec/should_return_error_if_any_status_and_body_has_status_error (0.00s)
--- PASS: TestOutlierExec/should_return_error_with_explanations_if_any_status_and_body_has_status_error (0.00s)
--- PASS: TestOutlierExec/should_return_error_response_is_empty (0.00s)
--- PASS: TestOutlierExec/should_return_error_response_is_not_a_valid_JSON (0.00s)
--- PASS: TestOutlierExec/should_error_if_response_is_nil_and_no_error (0.00s)
--- PASS: TestOutlierExec/should_return_error_if_status_is_not_known (0.00s)
--- PASS: TestOutlierExec/should_propagate_error_from_request_function (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/expr/ml	(cached)
=== RUN   TestQueryFrames
=== RUN   TestQueryFrames/valid_query_with_no_input_frames,_one_row_one_column
=== RUN   TestQueryFrames/valid_query_with_no_input_frames,_one_row_two_columns
=== RUN   TestQueryFrames/query_all_rows_from_single_input_frame
--- PASS: TestQueryFrames (0.00s)
--- PASS: TestQueryFrames/valid_query_with_no_input_frames,_one_row_one_column (0.00s)
--- PASS: TestQueryFrames/valid_query_with_no_input_frames,_one_row_two_columns (0.00s)
--- PASS: TestQueryFrames/query_all_rows_from_single_input_frame (0.00s)
=== RUN   TestQueryFramesInOut
--- PASS: TestQueryFramesInOut (0.00s)
=== RUN   TestQueryFramesNumericSelect
--- PASS: TestQueryFramesNumericSelect (0.00s)
=== RUN   TestQueryFramesDateTimeSelect
--- PASS: TestQueryFramesDateTimeSelect (0.00s)
=== RUN   TestErrorsFromGoMySQLServerAreFlagged
--- PASS: TestErrorsFromGoMySQLServerAreFlagged (0.00s)
=== RUN   TestFrameToSQLAndBack_JSONRoundtrip
--- PASS: TestFrameToSQLAndBack_JSONRoundtrip (0.00s)
=== RUN   TestQueryFrames_JSONFilter
--- PASS: TestQueryFrames_JSONFilter (0.00s)
=== RUN   TestAllowQuery
=== RUN   TestAllowQuery/a_big_catch_all_for_now
=== RUN   TestAllowQuery/an_example_from_todd
=== RUN   TestAllowQuery/case_statement
=== RUN   TestAllowQuery/many_allowed_functions
=== RUN   TestAllowQuery/many_more_allowed_functions
=== RUN   TestAllowQuery/paren_select_allowed
=== RUN   TestAllowQuery/allows_keywords_'is',_'not',_'null'
=== RUN   TestAllowQuery/null_literal
=== RUN   TestAllowQuery/val_tuple_in_read_query
=== RUN   TestAllowQuery/group_concat_in_read_query
=== RUN   TestAllowQuery/collate_in_read_query
=== RUN   TestAllowQuery/allow_substring_index
=== RUN   TestAllowQuery/json_functions
=== RUN   TestAllowQuery/range_condition_(between)
=== RUN   TestAllowQuery/window_functions
=== RUN   TestAllowQuery/json_table
--- PASS: TestAllowQuery (0.00s)
--- PASS: TestAllowQuery/a_big_catch_all_for_now (0.00s)
--- PASS: TestAllowQuery/an_example_from_todd (0.00s)
--- PASS: TestAllowQuery/case_statement (0.00s)
--- PASS: TestAllowQuery/many_allowed_functions (0.00s)
--- PASS: TestAllowQuery/many_more_allowed_functions (0.00s)
--- PASS: TestAllowQuery/paren_select_allowed (0.00s)
--- PASS: TestAllowQuery/allows_keywords_'is',_'not',_'null' (0.00s)
--- PASS: TestAllowQuery/null_literal (0.00s)
--- PASS: TestAllowQuery/val_tuple_in_read_query (0.00s)
--- PASS: TestAllowQuery/group_concat_in_read_query (0.00s)
--- PASS: TestAllowQuery/collate_in_read_query (0.00s)
--- PASS: TestAllowQuery/allow_substring_index (0.00s)
--- PASS: TestAllowQuery/json_functions (0.00s)
--- PASS: TestAllowQuery/range_condition_(between) (0.00s)
--- PASS: TestAllowQuery/window_functions (0.00s)
--- PASS: TestAllowQuery/json_table (0.00s)
=== RUN   TestTablesList
=== RUN   TestTablesList/simple_select
=== RUN   TestTablesList/select_with_comma
=== RUN   TestTablesList/select_with_multiple_commas
=== RUN   TestTablesList/no_table
=== RUN   TestTablesList/json_array
=== RUN   TestTablesList/json_extract
=== RUN   TestTablesList/json_int_array
=== RUN   TestTablesList/subquery
=== RUN   TestTablesList/join
=== RUN   TestTablesList/right_join
=== RUN   TestTablesList/alias_with_join
=== RUN   TestTablesList/alias
=== RUN   TestTablesList/error_case
=== RUN   TestTablesList/parens
=== RUN   TestTablesList/with_clause
=== RUN   TestTablesList/with_quote
=== RUN   TestTablesList/with_quote_2
--- PASS: TestTablesList (0.00s)
--- PASS: TestTablesList/simple_select (0.00s)
--- PASS: TestTablesList/select_with_comma (0.00s)
--- PASS: TestTablesList/select_with_multiple_commas (0.00s)
--- PASS: TestTablesList/no_table (0.00s)
--- PASS: TestTablesList/json_array (0.00s)
--- PASS: TestTablesList/json_extract (0.00s)
--- PASS: TestTablesList/json_int_array (0.00s)
--- PASS: TestTablesList/subquery (0.00s)
--- PASS: TestTablesList/join (0.00s)
--- PASS: TestTablesList/right_join (0.00s)
--- PASS: TestTablesList/alias_with_join (0.00s)
--- PASS: TestTablesList/alias (0.00s)
--- PASS: TestTablesList/error_case (0.00s)
--- PASS: TestTablesList/parens (0.00s)
--- PASS: TestTablesList/with_clause (0.00s)
--- PASS: TestTablesList/with_quote (0.00s)
--- PASS: TestTablesList/with_quote_2 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/expr/sql	(cached)
?   	github.com/grafana/grafana/pkg/extensions	[no test files]
=== RUN   TestTranslateDeprecatedRoleName
=== RUN   TestTranslateDeprecatedRoleName/expect_deprecated_name_to_be_translated_to_new_one
=== RUN   TestTranslateDeprecatedRoleName/expect_name_to_not_be_translated
--- PASS: TestTranslateDeprecatedRoleName (0.00s)
--- PASS: TestTranslateDeprecatedRoleName/expect_deprecated_name_to_be_translated_to_new_one (0.00s)
--- PASS: TestTranslateDeprecatedRoleName/expect_name_to_not_be_translated (0.00s)
=== RUN   TestResourcePermissions
=== RUN   TestResourcePermissions/should_not_allow_to_create_data_source_with_UID_*
=== RUN   TestResourcePermissions/should_allow_to_create_data_source_with_valid_UID
--- PASS: TestResourcePermissions (0.34s)
--- PASS: TestResourcePermissions/should_not_allow_to_create_data_source_with_UID_* (0.34s)
--- PASS: TestResourcePermissions/should_allow_to_create_data_source_with_valid_UID (0.00s)
=== RUN   TestRoleMarshalRoleDtoRoundTrip
--- PASS: TestRoleMarshalRoleDtoRoundTrip (0.00s)
=== RUN   TestRoleMarshalRoleDtoCompare
--- PASS: TestRoleMarshalRoleDtoCompare (0.00s)
=== RUN   TestRoleMarshalRoleRoundTrip
--- PASS: TestRoleMarshalRoleRoundTrip (0.00s)
=== RUN   TestRoleMarshalRoleCompare
--- PASS: TestRoleMarshalRoleCompare (0.00s)
=== RUN   TestRoleMarshalRoleGlobalOff
--- PASS: TestRoleMarshalRoleGlobalOff (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/accesscontrol	(cached)
=== RUN   TestAPI_listRoles
=== RUN   TestAPI_listRoles/Should_be_able_to_list_roles_with_correct_permission
=== RUN   TestAPI_listRoles/Should_not_be_able_to_list_roles_without_correct_permission
=== RUN   TestAPI_listRoles/Should_be_able_to_list_roles_with_subset_of_scopes
=== RUN   TestAPI_listRoles/Should_mark_delegatable_roles_correctly
--- PASS: TestAPI_listRoles (0.01s)
--- PASS: TestAPI_listRoles/Should_be_able_to_list_roles_with_correct_permission (0.00s)
--- PASS: TestAPI_listRoles/Should_not_be_able_to_list_roles_without_correct_permission (0.00s)
--- PASS: TestAPI_listRoles/Should_be_able_to_list_roles_with_subset_of_scopes (0.00s)
--- PASS: TestAPI_listRoles/Should_mark_delegatable_roles_correctly (0.00s)
=== RUN   TestAPI_getRole
=== RUN   TestAPI_getRole/should_be_able_to_get_role_with_correct_permissions
=== RUN   TestAPI_getRole/should_be_able_to_get_role_with_wildcard_scope
=== RUN   TestAPI_getRole/should_not_be_able_to_get_role_without_required_permission
--- PASS: TestAPI_getRole (0.00s)
--- PASS: TestAPI_getRole/should_be_able_to_get_role_with_correct_permissions (0.00s)
--- PASS: TestAPI_getRole/should_be_able_to_get_role_with_wildcard_scope (0.00s)
--- PASS: TestAPI_getRole/should_not_be_able_to_get_role_without_required_permission (0.00s)
=== RUN   TestAPI_createRole
=== RUN   TestAPI_createRole/should_be_able_to_create_role
=== RUN   TestAPI_createRole/should_not_be_able_to_create_role_when_missing_delegation
=== RUN   TestAPI_createRole/should_not_be_able_to_create_role_when_missing_permission_for_new_role
--- PASS: TestAPI_createRole (0.00s)
--- PASS: TestAPI_createRole/should_be_able_to_create_role (0.00s)
--- PASS: TestAPI_createRole/should_not_be_able_to_create_role_when_missing_delegation (0.00s)
--- PASS: TestAPI_createRole/should_not_be_able_to_create_role_when_missing_permission_for_new_role (0.00s)
=== RUN   TestAPI_updateRole
=== RUN   TestAPI_updateRole/should_be_able_to_update_role_properties_with_correct_permissions
=== RUN   TestAPI_updateRole/should_be_able_to_update_role_permissions
=== RUN   TestAPI_updateRole/should_not_be_able_to_update_role_when_missing_delegation_permission
=== RUN   TestAPI_updateRole/should_not_be_able_to_update_role_when_missing_new_permissions_added
=== RUN   TestAPI_updateRole/should_not_be_able_to_update_role_when_invalid_action_provided
=== RUN   TestAPI_updateRole/should_not_be_able_to_update_basic_role_none
--- PASS: TestAPI_updateRole (0.00s)
--- PASS: TestAPI_updateRole/should_be_able_to_update_role_properties_with_correct_permissions (0.00s)
--- PASS: TestAPI_updateRole/should_be_able_to_update_role_permissions (0.00s)
--- PASS: TestAPI_updateRole/should_not_be_able_to_update_role_when_missing_delegation_permission (0.00s)
--- PASS: TestAPI_updateRole/should_not_be_able_to_update_role_when_missing_new_permissions_added (0.00s)
--- PASS: TestAPI_updateRole/should_not_be_able_to_update_role_when_invalid_action_provided (0.00s)
--- PASS: TestAPI_updateRole/should_not_be_able_to_update_basic_role_none (0.00s)
=== RUN   TestAPI_deleteRole
=== RUN   TestAPI_deleteRole/should_be_able_to_delete_role_with_correct_permissions
=== RUN   TestAPI_deleteRole/should_not_be_able_to_delete_role_without_correct_permissions
=== RUN   TestAPI_deleteRole/should_not_be_able_to_delete_role_when_caller_does_not_have_delegated_permissions
--- PASS: TestAPI_deleteRole (0.00s)
--- PASS: TestAPI_deleteRole/should_be_able_to_delete_role_with_correct_permissions (0.00s)
--- PASS: TestAPI_deleteRole/should_not_be_able_to_delete_role_without_correct_permissions (0.00s)
--- PASS: TestAPI_deleteRole/should_not_be_able_to_delete_role_when_caller_does_not_have_delegated_permissions (0.00s)
=== RUN   TestAPI_listTeamRoles
=== RUN   TestAPI_listTeamRoles/Should_be_able_to_list_team_roles_with_correct_permission
=== RUN   TestAPI_listTeamRoles/Should_not_be_able_to_list_user_roles_without_correct_permission
=== RUN   TestAPI_listTeamRoles/Should_be_able_to_list_roles_with_subset_of_scopes
--- PASS: TestAPI_listTeamRoles (0.00s)
--- PASS: TestAPI_listTeamRoles/Should_be_able_to_list_team_roles_with_correct_permission (0.00s)
--- PASS: TestAPI_listTeamRoles/Should_not_be_able_to_list_user_roles_without_correct_permission (0.00s)
--- PASS: TestAPI_listTeamRoles/Should_be_able_to_list_roles_with_subset_of_scopes (0.00s)
=== RUN   TestAPI_addTeamRole
=== RUN   TestAPI_addTeamRole/should_be_able_to_add_team_role_with_correct_permissions
=== RUN   TestAPI_addTeamRole/should_not_be_able_to_add_team_role_without_correct_permission
=== RUN   TestAPI_addTeamRole/should_not_be_able_to_add_team_role_without_the_delegated_permission
--- PASS: TestAPI_addTeamRole (0.00s)
--- PASS: TestAPI_addTeamRole/should_be_able_to_add_team_role_with_correct_permissions (0.00s)
--- PASS: TestAPI_addTeamRole/should_not_be_able_to_add_team_role_without_correct_permission (0.00s)
--- PASS: TestAPI_addTeamRole/should_not_be_able_to_add_team_role_without_the_delegated_permission (0.00s)
=== RUN   TestAPI_removeTeamRole
=== RUN   TestAPI_removeTeamRole/should_be_able_to_remove_user_role_with_correct_permissions
=== RUN   TestAPI_removeTeamRole/should_not_be_able_to_remove_user_role_without_correct_permission
=== RUN   TestAPI_removeTeamRole/should_not_be_able_to_remove_user_role_without_the_delegated_permission
--- PASS: TestAPI_removeTeamRole (0.00s)
--- PASS: TestAPI_removeTeamRole/should_be_able_to_remove_user_role_with_correct_permissions (0.00s)
--- PASS: TestAPI_removeTeamRole/should_not_be_able_to_remove_user_role_without_correct_permission (0.00s)
--- PASS: TestAPI_removeTeamRole/should_not_be_able_to_remove_user_role_without_the_delegated_permission (0.00s)
=== RUN   TestAPI_setTeamRoles
=== RUN   TestAPI_setTeamRoles/should_be_able_to_set_roles_with_correct_permissions
=== RUN   TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_removed
=== RUN   TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_added
=== RUN   TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_to_add_team_roles
=== RUN   TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_to_remove_team_roles
--- PASS: TestAPI_setTeamRoles (0.00s)
--- PASS: TestAPI_setTeamRoles/should_be_able_to_set_roles_with_correct_permissions (0.00s)
--- PASS: TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_removed (0.00s)
--- PASS: TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_added (0.00s)
--- PASS: TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_to_add_team_roles (0.00s)
--- PASS: TestAPI_setTeamRoles/should_not_be_able_to_set_roles_when_missing_permission_to_remove_team_roles (0.00s)
=== RUN   TestAPI_listUserRoles
=== RUN   TestAPI_listUserRoles/Should_be_able_to_list_user_roles_with_correct_permission
=== RUN   TestAPI_listUserRoles/Should_not_be_able_to_list_user_roles_without_correct_permission
=== RUN   TestAPI_listUserRoles/Should_be_able_to_list_roles_with_subset_of_scopes
--- PASS: TestAPI_listUserRoles (0.00s)
--- PASS: TestAPI_listUserRoles/Should_be_able_to_list_user_roles_with_correct_permission (0.00s)
--- PASS: TestAPI_listUserRoles/Should_not_be_able_to_list_user_roles_without_correct_permission (0.00s)
--- PASS: TestAPI_listUserRoles/Should_be_able_to_list_roles_with_subset_of_scopes (0.00s)
=== RUN   TestAPI_addUserRole
=== RUN   TestAPI_addUserRole/should_be_able_to_add_user_role_with_correct_permissions
=== RUN   TestAPI_addUserRole/should_not_be_able_to_add_user_role_without_correct_permission
=== RUN   TestAPI_addUserRole/should_not_be_able_to_add_user_role_without_the_delegated_permission
--- PASS: TestAPI_addUserRole (0.00s)
--- PASS: TestAPI_addUserRole/should_be_able_to_add_user_role_with_correct_permissions (0.00s)
--- PASS: TestAPI_addUserRole/should_not_be_able_to_add_user_role_without_correct_permission (0.00s)
--- PASS: TestAPI_addUserRole/should_not_be_able_to_add_user_role_without_the_delegated_permission (0.00s)
=== RUN   TestAPI_removeUserRole
=== RUN   TestAPI_removeUserRole/should_be_able_to_remove_user_role_with_correct_permissions
=== RUN   TestAPI_removeUserRole/should_not_be_able_to_remove_user_role_without_correct_permission
=== RUN   TestAPI_removeUserRole/should_not_be_able_to_remove_user_role_without_the_delegated_permission
--- PASS: TestAPI_removeUserRole (0.00s)
--- PASS: TestAPI_removeUserRole/should_be_able_to_remove_user_role_with_correct_permissions (0.00s)
--- PASS: TestAPI_removeUserRole/should_not_be_able_to_remove_user_role_without_correct_permission (0.00s)
--- PASS: TestAPI_removeUserRole/should_not_be_able_to_remove_user_role_without_the_delegated_permission (0.00s)
=== RUN   TestAPI_setUserRoles
=== RUN   TestAPI_setUserRoles/should_be_able_to_set_roles_with_correct_permissions
=== RUN   TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_removed
=== RUN   TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_added
=== RUN   TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_to_add_user_roles
=== RUN   TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_to_remove_user_roles
--- PASS: TestAPI_setUserRoles (0.00s)
--- PASS: TestAPI_setUserRoles/should_be_able_to_set_roles_with_correct_permissions (0.00s)
--- PASS: TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_removed (0.00s)
--- PASS: TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_from_role_that_should_be_added (0.00s)
--- PASS: TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_to_add_user_roles (0.00s)
--- PASS: TestAPI_setUserRoles/should_not_be_able_to_set_roles_when_missing_permission_to_remove_user_roles (0.00s)
=== RUN   TestAPI_listUsersRoles
=== RUN   TestAPI_listUsersRoles/Should_be_able_to_list_roles_with_correct_permission
=== RUN   TestAPI_listUsersRoles/Should_not_be_able_to_list_roles_without_correct_permission
=== RUN   TestAPI_listUsersRoles/Should_not_be_able_to_list_roles_without_correct_permission_in_org
=== RUN   TestAPI_listUsersRoles/Should_be_able_to_list_roles_with_subset_of_scopes_but_filter_result
--- PASS: TestAPI_listUsersRoles (0.00s)
--- PASS: TestAPI_listUsersRoles/Should_be_able_to_list_roles_with_correct_permission (0.00s)
--- PASS: TestAPI_listUsersRoles/Should_not_be_able_to_list_roles_without_correct_permission (0.00s)
--- PASS: TestAPI_listUsersRoles/Should_not_be_able_to_list_roles_without_correct_permission_in_org (0.00s)
--- PASS: TestAPI_listUsersRoles/Should_be_able_to_list_roles_with_subset_of_scopes_but_filter_result (0.00s)
=== RUN   TestAPI_listTeamsRoles
=== RUN   TestAPI_listTeamsRoles/Should_be_able_to_list_roles_with_correct_permission
=== RUN   TestAPI_listTeamsRoles/Should_not_be_able_to_list_roles_without_correct_permission
=== RUN   TestAPI_listTeamsRoles/Should_be_able_to_list_roles_with_subset_of_scopes_but_filter_result
--- PASS: TestAPI_listTeamsRoles (0.00s)
--- PASS: TestAPI_listTeamsRoles/Should_be_able_to_list_roles_with_correct_permission (0.00s)
--- PASS: TestAPI_listTeamsRoles/Should_not_be_able_to_list_roles_without_correct_permission (0.00s)
--- PASS: TestAPI_listTeamsRoles/Should_be_able_to_list_roles_with_subset_of_scopes_but_filter_result (0.00s)
=== RUN   TestParseConfig
--- PASS: TestParseConfig (0.00s)
=== RUN   TestSeeder
=== RUN   TestSeeder/create_role
=== RUN   TestSeeder/create_role/update_to_same_version
=== RUN   TestSeeder/create_role/update_to_new_role_version
=== RUN   TestSeeder/seed_builtin_roles_permissions
=== RUN   TestSeeder/remove_built-in_roles_permissions
=== RUN   TestSeeder/remove_built-in_role_grant
=== RUN   TestSeeder/seeder_can_handle_the_same_permission_being_inserted_through_new_role_and_updated_role
=== RUN   TestSeeder/permission_that_has_been_manually_removed_from_a_built-in_role_doesn't_get_repopulated_if_its_scope_changes
=== RUN   TestSeeder/seeder_can_exclude_permissions_from_specific_role
--- PASS: TestSeeder (0.40s)
--- PASS: TestSeeder/create_role (0.00s)
--- PASS: TestSeeder/create_role/update_to_same_version (0.00s)
--- PASS: TestSeeder/create_role/update_to_new_role_version (0.00s)
--- PASS: TestSeeder/seed_builtin_roles_permissions (0.00s)
--- PASS: TestSeeder/remove_built-in_roles_permissions (0.00s)
--- PASS: TestSeeder/remove_built-in_role_grant (0.00s)
--- PASS: TestSeeder/seeder_can_handle_the_same_permission_being_inserted_through_new_role_and_updated_role (0.01s)
--- PASS: TestSeeder/permission_that_has_been_manually_removed_from_a_built-in_role_doesn't_get_repopulated_if_its_scope_changes (0.01s)
--- PASS: TestSeeder/seeder_can_exclude_permissions_from_specific_role (0.00s)
=== RUN   TestSeeder_pluginRoles
=== RUN   TestSeeder_pluginRoles/create_role
=== RUN   TestSeeder_pluginRoles/pretend_plugin_registered_no_role
--- PASS: TestSeeder_pluginRoles (0.01s)
--- PASS: TestSeeder_pluginRoles/create_role (0.00s)
--- PASS: TestSeeder_pluginRoles/pretend_plugin_registered_no_role (0.00s)
=== RUN   TestSeeder_ClearBasicRolesPluginPermissions
=== RUN   TestSeeder_ClearBasicRolesPluginPermissions/removes_plugin_permissions_successfully
--- PASS: TestSeeder_ClearBasicRolesPluginPermissions (0.01s)
--- PASS: TestSeeder_ClearBasicRolesPluginPermissions/removes_plugin_permissions_successfully (0.00s)
=== RUN   TestSeeder_recreateMissingBasicRoles
=== RUN   TestSeeder_recreateMissingBasicRoles/should_not_have_to_re-create_any_basic_role
=== RUN   TestSeeder_recreateMissingBasicRoles/should_re-create_any_missing_basic_role
=== RUN   TestSeeder_recreateMissingBasicRoles/should_re-create_any_missing_basic_role_with_previous_permissions
--- PASS: TestSeeder_recreateMissingBasicRoles (0.01s)
--- PASS: TestSeeder_recreateMissingBasicRoles/should_not_have_to_re-create_any_basic_role (0.00s)
--- PASS: TestSeeder_recreateMissingBasicRoles/should_re-create_any_missing_basic_role (0.00s)
--- PASS: TestSeeder_recreateMissingBasicRoles/should_re-create_any_missing_basic_role_with_previous_permissions (0.00s)
=== RUN   Test_seeder_RemoveAbsentRoles
=== RUN   Test_seeder_RemoveAbsentRoles/first_seed,_remove_no_role
=== RUN   Test_seeder_RemoveAbsentRoles/second_seed,_remove_roles_not_defined_anymore
=== RUN   Test_seeder_RemoveAbsentRoles/third_seed,_pretend_plugin_registered_no_role
--- PASS: Test_seeder_RemoveAbsentRoles (0.01s)
--- PASS: Test_seeder_RemoveAbsentRoles/first_seed,_remove_no_role (0.00s)
--- PASS: Test_seeder_RemoveAbsentRoles/second_seed,_remove_roles_not_defined_anymore (0.00s)
--- PASS: Test_seeder_RemoveAbsentRoles/third_seed,_pretend_plugin_registered_no_role (0.00s)
=== RUN   Test_matchPermissionByPluginID
=== RUN   Test_matchPermissionByPluginID/should_match_the_plugin_permission_by_action_with_dot_as_separator
=== RUN   Test_matchPermissionByPluginID/should_match_the_plugin_permission_by_action_with_colon_as_separator
=== RUN   Test_matchPermissionByPluginID/should_not_match_the_plugin_permission_by_action
=== RUN   Test_matchPermissionByPluginID/should_match_the_plugin_permission_by_scope
=== RUN   Test_matchPermissionByPluginID/should_not_match_the_plugin_permission_by_scope
--- PASS: Test_matchPermissionByPluginID (0.00s)
--- PASS: Test_matchPermissionByPluginID/should_match_the_plugin_permission_by_action_with_dot_as_separator (0.00s)
--- PASS: Test_matchPermissionByPluginID/should_match_the_plugin_permission_by_action_with_colon_as_separator (0.00s)
--- PASS: Test_matchPermissionByPluginID/should_not_match_the_plugin_permission_by_action (0.00s)
--- PASS: Test_matchPermissionByPluginID/should_match_the_plugin_permission_by_scope (0.00s)
--- PASS: Test_matchPermissionByPluginID/should_not_match_the_plugin_permission_by_scope (0.00s)
=== RUN   TestSeeder_ClearPluginRoles
=== RUN   TestSeeder_ClearPluginRoles/removes_plugin_roles_successfully
--- PASS: TestSeeder_ClearPluginRoles (0.01s)
--- PASS: TestSeeder_ClearPluginRoles/removes_plugin_roles_successfully (0.00s)
=== RUN   TestService_GetUserPermissions
=== RUN   TestService_GetUserPermissions/should_successfully_get_user_permissions
=== RUN   TestService_GetUserPermissions/should_successfully_get_global_and_local_permissions
=== RUN   TestService_GetUserPermissions/should_expand_action_sets
--- PASS: TestService_GetUserPermissions (0.01s)
--- PASS: TestService_GetUserPermissions/should_successfully_get_user_permissions (0.00s)
--- PASS: TestService_GetUserPermissions/should_successfully_get_global_and_local_permissions (0.00s)
--- PASS: TestService_GetUserPermissions/should_expand_action_sets (0.01s)
=== RUN   TestService_GetUserPermissions_Fallback
=== RUN   TestService_GetUserPermissions_Fallback/expect_fallback_to_be_called_for_invalid_license
=== RUN   TestService_GetUserPermissions_Fallback/expect_permissions_for_expired_license
--- PASS: TestService_GetUserPermissions_Fallback (0.01s)
--- PASS: TestService_GetUserPermissions_Fallback/expect_fallback_to_be_called_for_invalid_license (0.00s)
--- PASS: TestService_GetUserPermissions_Fallback/expect_permissions_for_expired_license (0.00s)
=== RUN   TestService_CreateRole
=== RUN   TestService_CreateRole/should_return_error_for_fixed_role_name
=== RUN   TestService_CreateRole/should_return_error_for_external_service_role_name
=== RUN   TestService_CreateRole/should_return_error_for_external_service_role_UID
=== RUN   TestService_CreateRole/should_return_error_for_basic_role_name
=== RUN   TestService_CreateRole/should_return_error_for_invalid_scope_name
--- PASS: TestService_CreateRole (0.01s)
--- PASS: TestService_CreateRole/should_return_error_for_fixed_role_name (0.00s)
--- PASS: TestService_CreateRole/should_return_error_for_external_service_role_name (0.00s)
--- PASS: TestService_CreateRole/should_return_error_for_external_service_role_UID (0.00s)
--- PASS: TestService_CreateRole/should_return_error_for_basic_role_name (0.00s)
--- PASS: TestService_CreateRole/should_return_error_for_invalid_scope_name (0.00s)
=== RUN   TestService_CreateRole_PluginPermission
=== RUN   TestService_CreateRole_PluginPermission/should_create_a_role_with_plugin_permissions_successfully
=== RUN   TestService_CreateRole_PluginPermission/should_fail_when_the_scope_is_incorrect
=== RUN   TestService_CreateRole_PluginPermission/should_create_role_with_a_Permission_with_scopeless_Action
--- PASS: TestService_CreateRole_PluginPermission (0.01s)
--- PASS: TestService_CreateRole_PluginPermission/should_create_a_role_with_plugin_permissions_successfully (0.00s)
--- PASS: TestService_CreateRole_PluginPermission/should_fail_when_the_scope_is_incorrect (0.00s)
--- PASS: TestService_CreateRole_PluginPermission/should_create_role_with_a_Permission_with_scopeless_Action (0.01s)
=== RUN   TestService_UpdateRole
=== RUN   TestService_UpdateRole/should_not_be_able_to_update_name_to_fixed_role
=== RUN   TestService_UpdateRole/should_not_be_able_to_use_fixed_role_name
=== RUN   TestService_UpdateRole/should_not_be_able_to_update_with_invalid_shape_for_scope
=== RUN   TestService_UpdateRole/should_only_update_version_and_permissions_for_basic_role
=== RUN   TestService_UpdateRole/should_only_update_version_and_permissions_for_basic_role#01
=== RUN   TestService_UpdateRole/should_not_be_able_to_update_external_services_role
=== RUN   TestService_UpdateRole/should_not_be_able_to_update_external_services_role_by_uid
--- PASS: TestService_UpdateRole (0.02s)
--- PASS: TestService_UpdateRole/should_not_be_able_to_update_name_to_fixed_role (0.00s)
--- PASS: TestService_UpdateRole/should_not_be_able_to_use_fixed_role_name (0.00s)
--- PASS: TestService_UpdateRole/should_not_be_able_to_update_with_invalid_shape_for_scope (0.00s)
--- PASS: TestService_UpdateRole/should_only_update_version_and_permissions_for_basic_role (0.01s)
--- PASS: TestService_UpdateRole/should_only_update_version_and_permissions_for_basic_role#01 (0.00s)
--- PASS: TestService_UpdateRole/should_not_be_able_to_update_external_services_role (0.00s)
--- PASS: TestService_UpdateRole/should_not_be_able_to_update_external_services_role_by_uid (0.00s)
=== RUN   TestService_DeleteRole
=== RUN   TestService_DeleteRole/should_not_be_able_to_delete_fixed_role
=== RUN   TestService_DeleteRole/should_not_be_able_to_delete_basic_role
=== RUN   TestService_DeleteRole/should_not_be_able_to_delete_managed_role
=== RUN   TestService_DeleteRole/should_not_be_able_to_delete_external_service_role
=== RUN   TestService_DeleteRole/should_not_be_able_to_delete_global_role_without_global_flag
=== RUN   TestService_DeleteRole/should_be_able_to_delete_global_role_with_global_flag
--- PASS: TestService_DeleteRole (0.02s)
--- PASS: TestService_DeleteRole/should_not_be_able_to_delete_fixed_role (0.00s)
--- PASS: TestService_DeleteRole/should_not_be_able_to_delete_basic_role (0.00s)
--- PASS: TestService_DeleteRole/should_not_be_able_to_delete_managed_role (0.00s)
--- PASS: TestService_DeleteRole/should_not_be_able_to_delete_external_service_role (0.00s)
--- PASS: TestService_DeleteRole/should_not_be_able_to_delete_global_role_without_global_flag (0.00s)
--- PASS: TestService_DeleteRole/should_be_able_to_delete_global_role_with_global_flag (0.00s)
=== RUN   TestService_ResetBasicRolesToDefault
=== RUN   TestService_ResetBasicRolesToDefault/Successfully_reset_permissions
--- PASS: TestService_ResetBasicRolesToDefault (0.01s)
--- PASS: TestService_ResetBasicRolesToDefault/Successfully_reset_permissions (0.01s)
=== RUN   TestService_RegisterFixedRoles
=== RUN   TestService_RegisterFixedRoles/should_work_with_empty_list
=== RUN   TestService_RegisterFixedRoles/should_register_roles_and_compute_builtins_inheritance
=== RUN   TestService_RegisterFixedRoles/should_register_plugin_and_fixed_roles
--- PASS: TestService_RegisterFixedRoles (0.02s)
--- PASS: TestService_RegisterFixedRoles/should_work_with_empty_list (0.01s)
--- PASS: TestService_RegisterFixedRoles/should_register_roles_and_compute_builtins_inheritance (0.01s)
--- PASS: TestService_RegisterFixedRoles/should_register_plugin_and_fixed_roles (0.01s)
=== RUN   TestService_RegisterFixedRoles_Fallback
=== RUN   TestService_RegisterFixedRoles_Fallback/should_work_with_empty_list
=== RUN   TestService_RegisterFixedRoles_Fallback/should_register_and_assign_role
=== RUN   TestService_RegisterFixedRoles_Fallback/should_register_and_assign_multiple_roles
--- PASS: TestService_RegisterFixedRoles_Fallback (0.01s)
--- PASS: TestService_RegisterFixedRoles_Fallback/should_work_with_empty_list (0.00s)
--- PASS: TestService_RegisterFixedRoles_Fallback/should_register_and_assign_role (0.00s)
--- PASS: TestService_RegisterFixedRoles_Fallback/should_register_and_assign_multiple_roles (0.00s)
=== RUN   TestService_DeclareFixedRoles
=== RUN   TestService_DeclareFixedRoles/should_work_with_empty_list
=== RUN   TestService_DeclareFixedRoles/should_add_registration
=== RUN   TestService_DeclareFixedRoles/should_fail_registration_invalid_role_name
=== RUN   TestService_DeclareFixedRoles/should_fail_registration_invalid_builtin_role_assignment
=== RUN   TestService_DeclareFixedRoles/should_add_multiple_registrations_at_once
--- PASS: TestService_DeclareFixedRoles (0.02s)
--- PASS: TestService_DeclareFixedRoles/should_work_with_empty_list (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_add_registration (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_fail_registration_invalid_role_name (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_fail_registration_invalid_builtin_role_assignment (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_add_multiple_registrations_at_once (0.00s)
=== RUN   TestService_DeclareFixedRoles_Overrides
=== RUN   TestService_DeclareFixedRoles_Overrides/should_not_override_grants
=== RUN   TestService_DeclareFixedRoles_Overrides/should_override_grants
--- PASS: TestService_DeclareFixedRoles_Overrides (0.01s)
--- PASS: TestService_DeclareFixedRoles_Overrides/should_not_override_grants (0.00s)
--- PASS: TestService_DeclareFixedRoles_Overrides/should_override_grants (0.00s)
=== RUN   TestService_DeclarePluginRoles
=== RUN   TestService_DeclarePluginRoles/should_work_with_empty_list
=== RUN   TestService_DeclarePluginRoles/should_add_registration
=== RUN   TestService_DeclarePluginRoles/should_add_registration_with_valid_permissions
=== RUN   TestService_DeclarePluginRoles/should_fail_registration_invalid_permission_action
=== RUN   TestService_DeclarePluginRoles/should_fail_registration_invalid_basic_role_assignment
=== RUN   TestService_DeclarePluginRoles/should_add_multiple_registrations_at_once
--- PASS: TestService_DeclarePluginRoles (0.02s)
--- PASS: TestService_DeclarePluginRoles/should_work_with_empty_list (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_add_registration (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_add_registration_with_valid_permissions (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_fail_registration_invalid_permission_action (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_fail_registration_invalid_basic_role_assignment (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_add_multiple_registrations_at_once (0.00s)
=== RUN   TestService_DeclarePluginRole_RuntimeInstallUpdate
=== RUN   TestService_DeclarePluginRole_RuntimeInstallUpdate/should_add_registrations_after_the_startup_seeding
=== RUN   TestService_DeclarePluginRole_RuntimeInstallUpdate/should_update_registrations
--- PASS: TestService_DeclarePluginRole_RuntimeInstallUpdate (0.02s)
--- PASS: TestService_DeclarePluginRole_RuntimeInstallUpdate/should_add_registrations_after_the_startup_seeding (0.01s)
--- PASS: TestService_DeclarePluginRole_RuntimeInstallUpdate/should_update_registrations (0.01s)
=== RUN   TestService_GetRoleAssignmentsByUID
=== RUN   TestService_GetRoleAssignmentsByUID/should_fail_if_no_role_UID_is_specified
=== RUN   TestService_GetRoleAssignmentsByUID/should_fail_if_non-existent_role_is_specified
=== RUN   TestService_GetRoleAssignmentsByUID/should_fail_if_role_doesn't_exist_in_the_org
=== RUN   TestService_GetRoleAssignmentsByUID/should_return_role_assignments_if_role_exists_in_the_org
=== RUN   TestService_GetRoleAssignmentsByUID/should_return_role_assignments_for_global_roles
--- PASS: TestService_GetRoleAssignmentsByUID (0.01s)
--- PASS: TestService_GetRoleAssignmentsByUID/should_fail_if_no_role_UID_is_specified (0.00s)
--- PASS: TestService_GetRoleAssignmentsByUID/should_fail_if_non-existent_role_is_specified (0.00s)
--- PASS: TestService_GetRoleAssignmentsByUID/should_fail_if_role_doesn't_exist_in_the_org (0.00s)
--- PASS: TestService_GetRoleAssignmentsByUID/should_return_role_assignments_if_role_exists_in_the_org (0.00s)
--- PASS: TestService_GetRoleAssignmentsByUID/should_return_role_assignments_for_global_roles (0.00s)
=== RUN   TestService_SetRoleAssignmentsByUID
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_if_no_role_is_specified
=== RUN   TestService_SetRoleAssignmentsByUID/should_successfully_set_empty_role_assignments
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_basic_roles
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_managed_roles
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_external_services_roles
=== RUN   TestService_SetRoleAssignmentsByUID/should_successfully_set_assignments_for_fixed_roles
=== RUN   TestService_SetRoleAssignmentsByUID/should_successfully_set_assignments_for_custom_roles
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_non-existent_users
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_non-existent_teams
=== RUN   TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_non-existent_service_accounts
=== RUN   TestService_SetRoleAssignmentsByUID/should_succeed_setting_assignments_for_existing_resources
--- PASS: TestService_SetRoleAssignmentsByUID (0.01s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_if_no_role_is_specified (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_successfully_set_empty_role_assignments (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_basic_roles (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_managed_roles (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_external_services_roles (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_successfully_set_assignments_for_fixed_roles (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_successfully_set_assignments_for_custom_roles (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_non-existent_users (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_non-existent_teams (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_fail_setting_assignments_for_non-existent_service_accounts (0.00s)
--- PASS: TestService_SetRoleAssignmentsByUID/should_succeed_setting_assignments_for_existing_resources (0.00s)
=== RUN   TestService_ValidateProvidedPermissions
=== RUN   TestService_ValidateProvidedPermissions/should_validate_identifier_scope_successfully
=== RUN   TestService_ValidateProvidedPermissions/should_validate_wildcard_scope_successfully
=== RUN   TestService_ValidateProvidedPermissions/should_validate_when_the_scope_contains_permission_scope
=== RUN   TestService_ValidateProvidedPermissions/should_validate_when_the_scope_contains_full_permission_scope
=== RUN   TestService_ValidateProvidedPermissions/should_pass_through_and_validate_successfully_when_the_action_does_not_have_any_scope_specified
=== RUN   TestService_ValidateProvidedPermissions/should_validate_exact_match_successfully
=== RUN   TestService_ValidateProvidedPermissions/should_validate_when_the_expected_scope_should_be_exactly_the_same,_but_wildcard_provided
=== RUN   TestService_ValidateProvidedPermissions/should_fail_when_the_scope_is_not_in_a_correct_format
=== RUN   TestService_ValidateProvidedPermissions/should_fail_when_the_action_does_not_expect_any_scope_specified_but_the_request_contains_a_scope
=== RUN   TestService_ValidateProvidedPermissions/should_fail_when_the_action_is_not_found
--- PASS: TestService_ValidateProvidedPermissions (0.02s)
--- PASS: TestService_ValidateProvidedPermissions/should_validate_identifier_scope_successfully (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_validate_wildcard_scope_successfully (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_validate_when_the_scope_contains_permission_scope (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_validate_when_the_scope_contains_full_permission_scope (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_pass_through_and_validate_successfully_when_the_action_does_not_have_any_scope_specified (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_validate_exact_match_successfully (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_validate_when_the_expected_scope_should_be_exactly_the_same,_but_wildcard_provided (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_fail_when_the_scope_is_not_in_a_correct_format (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_fail_when_the_action_does_not_expect_any_scope_specified_but_the_request_contains_a_scope (0.00s)
--- PASS: TestService_ValidateProvidedPermissions/should_fail_when_the_action_is_not_found (0.00s)
=== RUN   TestService_FeatureToggle
=== RUN   TestService_FeatureToggle/Test_GetUserPermissions
=== RUN   TestService_FeatureToggle/Test_GetUserPermissions/should_use_fallback_when_feature_is_disabled_by_token
=== RUN   TestService_FeatureToggle/Test_GetUserPermissions/shouldn't_use_fallback_when_feature_is_enabled_by_token
=== RUN   TestService_FeatureToggle/Test_SearchUserPermissions
=== RUN   TestService_FeatureToggle/Test_SearchUserPermissions/should_use_fallback_when_feature_is_disabled_by_token
=== RUN   TestService_FeatureToggle/Test_SearchUserPermissions/shouldn't_use_fallback_when_feature_is_enabled_by_token
=== RUN   TestService_FeatureToggle/Test_RegisterFixedRoles
=== RUN   TestService_FeatureToggle/Test_RegisterFixedRoles/should_use_fallback_when_feature_is_disabled_by_token
=== RUN   TestService_FeatureToggle/Test_RegisterFixedRoles/shouldn't_use_fallback_when_feature_is_enabled_by_token
=== RUN   TestService_FeatureToggle/Test_DeclarePluginRoles
=== RUN   TestService_FeatureToggle/Test_DeclarePluginRoles/should_use_fallback_when_feature_is_disabled_by_token
=== RUN   TestService_FeatureToggle/Test_DeclarePluginRoles/shouldn't_use_fallback_when_feature_is_enabled_by_token
=== RUN   TestService_FeatureToggle/Test_DeclareFixedRoles
=== RUN   TestService_FeatureToggle/Test_DeclareFixedRoles/should_use_fallback_when_feature_is_disabled_by_token
=== RUN   TestService_FeatureToggle/Test_DeclareFixedRoles/shouldn't_use_fallback_when_feature_is_enabled_by_token
=== RUN   TestService_FeatureToggle/Test_ValidateProvidedPermissions
=== RUN   TestService_FeatureToggle/Test_ValidateProvidedPermissions/should_do_nothing_and_return_nil_when_feature_is_disabled_by_token
=== RUN   TestService_FeatureToggle/Test_ValidateProvidedPermissions/should_try_to_validate_permissions_and_return_error_when_feature_is_enabled_by_token
--- PASS: TestService_FeatureToggle (0.04s)
--- PASS: TestService_FeatureToggle/Test_GetUserPermissions (0.01s)
--- PASS: TestService_FeatureToggle/Test_GetUserPermissions/should_use_fallback_when_feature_is_disabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_GetUserPermissions/shouldn't_use_fallback_when_feature_is_enabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_SearchUserPermissions (0.01s)
--- PASS: TestService_FeatureToggle/Test_SearchUserPermissions/should_use_fallback_when_feature_is_disabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_SearchUserPermissions/shouldn't_use_fallback_when_feature_is_enabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_RegisterFixedRoles (0.01s)
--- PASS: TestService_FeatureToggle/Test_RegisterFixedRoles/should_use_fallback_when_feature_is_disabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_RegisterFixedRoles/shouldn't_use_fallback_when_feature_is_enabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_DeclarePluginRoles (0.01s)
--- PASS: TestService_FeatureToggle/Test_DeclarePluginRoles/should_use_fallback_when_feature_is_disabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_DeclarePluginRoles/shouldn't_use_fallback_when_feature_is_enabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_DeclareFixedRoles (0.00s)
--- PASS: TestService_FeatureToggle/Test_DeclareFixedRoles/should_use_fallback_when_feature_is_disabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_DeclareFixedRoles/shouldn't_use_fallback_when_feature_is_enabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_ValidateProvidedPermissions (0.01s)
--- PASS: TestService_FeatureToggle/Test_ValidateProvidedPermissions/should_do_nothing_and_return_nil_when_feature_is_disabled_by_token (0.00s)
--- PASS: TestService_FeatureToggle/Test_ValidateProvidedPermissions/should_try_to_validate_permissions_and_return_error_when_feature_is_enabled_by_token (0.01s)
=== RUN   TestService_SaveExternalServiceRole
=== RUN   TestService_SaveExternalServiceRole/can_create_a_role
=== RUN   TestService_SaveExternalServiceRole/can_update_a_role
=== RUN   TestService_SaveExternalServiceRole/test_command_validity_-_no_service_account_ID
--- PASS: TestService_SaveExternalServiceRole (0.01s)
--- PASS: TestService_SaveExternalServiceRole/can_create_a_role (0.00s)
--- PASS: TestService_SaveExternalServiceRole/can_update_a_role (0.00s)
--- PASS: TestService_SaveExternalServiceRole/test_command_validity_-_no_service_account_ID (0.00s)
=== RUN   TestService_DeleteExternalServiceRole
=== RUN   TestService_DeleteExternalServiceRole/handles_deleting_role_that_doesn't_exist
=== RUN   TestService_DeleteExternalServiceRole/handles_deleting_role_that_exists
--- PASS: TestService_DeleteExternalServiceRole (0.01s)
--- PASS: TestService_DeleteExternalServiceRole/handles_deleting_role_that_doesn't_exist (0.00s)
--- PASS: TestService_DeleteExternalServiceRole/handles_deleting_role_that_exists (0.00s)
=== RUN   TestService_RemoveUserRole
=== RUN   TestService_RemoveUserRole/should_successfully_unassign_local_role
=== RUN   TestService_RemoveUserRole/should_successfully_unassign_global_role
=== RUN   TestService_RemoveUserRole/should_successfully_unassign_a_locally_assigned_global_role
=== RUN   TestService_RemoveUserRole/should_fail_unassign_local_role_in_the_wrong_org
=== RUN   TestService_RemoveUserRole/should_fail_unassign_globally_assigned_role_in_an_org
--- PASS: TestService_RemoveUserRole (0.02s)
--- PASS: TestService_RemoveUserRole/should_successfully_unassign_local_role (0.00s)
--- PASS: TestService_RemoveUserRole/should_successfully_unassign_global_role (0.00s)
--- PASS: TestService_RemoveUserRole/should_successfully_unassign_a_locally_assigned_global_role (0.00s)
--- PASS: TestService_RemoveUserRole/should_fail_unassign_local_role_in_the_wrong_org (0.00s)
--- PASS: TestService_RemoveUserRole/should_fail_unassign_globally_assigned_role_in_an_org (0.00s)
=== RUN   TestService_SyncUserRoles
=== RUN   TestService_SyncUserRoles/should_successfully_sync_roles_for_user
=== RUN   TestService_SyncUserRoles/should_gracefully_handle_removing_roles_that_are_not_assigned
=== RUN   TestService_SyncUserRoles/should_gracefully_handle_adding_roles_that_are_already_assigned
=== RUN   TestService_SyncUserRoles/should_return_error_if_role_does_not_exist
--- PASS: TestService_SyncUserRoles (0.03s)
--- PASS: TestService_SyncUserRoles/should_successfully_sync_roles_for_user (0.01s)
--- PASS: TestService_SyncUserRoles/should_gracefully_handle_removing_roles_that_are_not_assigned (0.01s)
--- PASS: TestService_SyncUserRoles/should_gracefully_handle_adding_roles_that_are_already_assigned (0.01s)
--- PASS: TestService_SyncUserRoles/should_return_error_if_role_does_not_exist (0.01s)
=== RUN   TestService_HasPermissionsInOrg
=== RUN   TestService_HasPermissionsInOrg/should_authorize_when_the_target_org_is_the_current_org_and_user_has_correct_permissions_in_it
=== RUN   TestService_HasPermissionsInOrg/should_error_out_when_the_target_org_is_the_current_org_and_user_does_not_have_correct_permissions_in_it
=== RUN   TestService_HasPermissionsInOrg/should_authorize_when_the_target_org_is_global_and_user_has_correct_permissions_in_it
=== RUN   TestService_HasPermissionsInOrg/should_error_out_when_the_target_org_is_global_and_user_does_not_have_correct_permissions_in_it
=== RUN   TestService_HasPermissionsInOrg/should_error_out_when_user_has_the_correct_permissions_in_the_current_org_but_not_the_target_org
=== RUN   TestService_HasPermissionsInOrg/should_not_error_out_when_user_is_not_logged_in_the_target_org
=== RUN   TestService_HasPermissionsInOrg/should_error_out_with_SingleOrganization_enabled_when_the_target_org_is_global_but_user_does_not_have_correct_permissions_in_current_org
=== RUN   TestService_HasPermissionsInOrg/should_authorize_with_SingleOrganization_enabled_when_the_target_org_is_global_and_user_has_correct_permissions_in_current_org
=== RUN   TestService_HasPermissionsInOrg/should_fetch_global_permissions_when_user_is_not_a_member_of_the_required_org
=== RUN   TestService_HasPermissionsInOrg/should_return_an_error_if_the_user_doesn't_belong_to_the_required_org_and_doesn't_have_the_required_permissions_in_the_global_org
--- PASS: TestService_HasPermissionsInOrg (0.03s)
--- PASS: TestService_HasPermissionsInOrg/should_authorize_when_the_target_org_is_the_current_org_and_user_has_correct_permissions_in_it (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_error_out_when_the_target_org_is_the_current_org_and_user_does_not_have_correct_permissions_in_it (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_authorize_when_the_target_org_is_global_and_user_has_correct_permissions_in_it (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_error_out_when_the_target_org_is_global_and_user_does_not_have_correct_permissions_in_it (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_error_out_when_user_has_the_correct_permissions_in_the_current_org_but_not_the_target_org (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_not_error_out_when_user_is_not_logged_in_the_target_org (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_error_out_with_SingleOrganization_enabled_when_the_target_org_is_global_but_user_does_not_have_correct_permissions_in_current_org (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_authorize_with_SingleOrganization_enabled_when_the_target_org_is_global_and_user_has_correct_permissions_in_current_org (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_fetch_global_permissions_when_user_is_not_a_member_of_the_required_org (0.00s)
--- PASS: TestService_HasPermissionsInOrg/should_return_an_error_if_the_user_doesn't_belong_to_the_required_org_and_doesn't_have_the_required_permissions_in_the_global_org (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/accesscontrol/acimpl	(cached)
?   	github.com/grafana/grafana/pkg/extensions/accesscontrol/actest	[no test files]
=== RUN   TestAccessControlStore_GetRoles
=== RUN   TestAccessControlStore_GetRoles/Should_return_all_global_roles_and_roles_in_org_1
=== RUN   TestAccessControlStore_GetRoles/Should_not_return_any_managed_roles
=== RUN   TestAccessControlStore_GetRoles/Should_return_all_the_roles_in_the_org_if_the_user_is_allowed_to_list_them_all
=== RUN   TestAccessControlStore_GetRoles/Should_return_only_the_roles_that_the_user_is_allowed_to_list
=== RUN   TestAccessControlStore_GetRoles/Should_not_return_any_roles_roles_if_the_user_isn't_allowed_to_list_any_of_them
=== RUN   TestAccessControlStore_GetRoles/Should_not_return_hidden_roles_if_the_request_is_not_asking_for_them
=== RUN   TestAccessControlStore_GetRoles/Should_return_hidden_roles_if_the_request_asks_for_them
=== RUN   TestAccessControlStore_GetRoles/Should_return_permissions_for_roles_if_the_request_asks_for_them
=== RUN   TestAccessControlStore_GetRoles/Should_return_permissions_for_roles_if_the_request_asks_for_them#01
--- PASS: TestAccessControlStore_GetRoles (0.39s)
--- PASS: TestAccessControlStore_GetRoles/Should_return_all_global_roles_and_roles_in_org_1 (0.36s)
--- PASS: TestAccessControlStore_GetRoles/Should_not_return_any_managed_roles (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_return_all_the_roles_in_the_org_if_the_user_is_allowed_to_list_them_all (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_return_only_the_roles_that_the_user_is_allowed_to_list (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_not_return_any_roles_roles_if_the_user_isn't_allowed_to_list_any_of_them (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_not_return_hidden_roles_if_the_request_is_not_asking_for_them (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_return_hidden_roles_if_the_request_asks_for_them (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_return_permissions_for_roles_if_the_request_asks_for_them (0.00s)
--- PASS: TestAccessControlStore_GetRoles/Should_return_permissions_for_roles_if_the_request_asks_for_them#01 (0.00s)
=== RUN   TestAccessControlStore_GetRolesForUser
=== RUN   TestAccessControlStore_GetRolesForUser/should_successfully_get_user_roles
=== RUN   TestAccessControlStore_GetRolesForUser/should_not_list_hidden_user_roles
=== RUN   TestAccessControlStore_GetRolesForUser/should_list_hidden_user_roles
--- PASS: TestAccessControlStore_GetRolesForUser (0.01s)
--- PASS: TestAccessControlStore_GetRolesForUser/should_successfully_get_user_roles (0.00s)
--- PASS: TestAccessControlStore_GetRolesForUser/should_not_list_hidden_user_roles (0.00s)
--- PASS: TestAccessControlStore_GetRolesForUser/should_list_hidden_user_roles (0.00s)
=== RUN   TestAccessControlStore_GetRolesBulkForUser
=== RUN   TestAccessControlStore_GetRolesBulkForUser/should_successfully_get_user_roles
=== RUN   TestAccessControlStore_GetRolesBulkForUser/should_not_list_hidden_user_roles
=== RUN   TestAccessControlStore_GetRolesBulkForUser/should_list_hidden_user_roles
--- PASS: TestAccessControlStore_GetRolesBulkForUser (0.01s)
--- PASS: TestAccessControlStore_GetRolesBulkForUser/should_successfully_get_user_roles (0.00s)
--- PASS: TestAccessControlStore_GetRolesBulkForUser/should_not_list_hidden_user_roles (0.00s)
--- PASS: TestAccessControlStore_GetRolesBulkForUser/should_list_hidden_user_roles (0.00s)
=== RUN   TestAccessControlStore_GetRolesForTeam
=== RUN   TestAccessControlStore_GetRolesForTeam/should_successfully_get_team_roles
=== RUN   TestAccessControlStore_GetRolesForTeam/should_not_list_hidden_team_roles
=== RUN   TestAccessControlStore_GetRolesForTeam/should_list_hidden_team_roles
--- PASS: TestAccessControlStore_GetRolesForTeam (0.01s)
--- PASS: TestAccessControlStore_GetRolesForTeam/should_successfully_get_team_roles (0.00s)
--- PASS: TestAccessControlStore_GetRolesForTeam/should_not_list_hidden_team_roles (0.00s)
--- PASS: TestAccessControlStore_GetRolesForTeam/should_list_hidden_team_roles (0.00s)
=== RUN   TestGetRoleByX
=== RUN   TestGetRoleByX/base_case_uid
=== RUN   TestGetRoleByX/base_case_name
=== RUN   TestGetRoleByX/base_case_ID
=== RUN   TestGetRoleByX/local_role_uid
=== RUN   TestGetRoleByX/local_role_name
=== RUN   TestGetRoleByX/local_role_id
=== RUN   TestGetRoleByX/local_role_uid_as_name
=== RUN   TestGetRoleByX/local_role_name,_wrong_orgID
=== RUN   TestGetRoleByX/local_role_id,_wrong_orgID
=== RUN   TestGetRoleByX/local_role_uid,_wrong_orgID
=== RUN   TestGetRoleByX/global_role_uid
=== RUN   TestGetRoleByX/global_role_name
=== RUN   TestGetRoleByX/global_role_id
--- PASS: TestGetRoleByX (0.00s)
--- PASS: TestGetRoleByX/base_case_uid (0.00s)
--- PASS: TestGetRoleByX/base_case_name (0.00s)
--- PASS: TestGetRoleByX/base_case_ID (0.00s)
--- PASS: TestGetRoleByX/local_role_uid (0.00s)
--- PASS: TestGetRoleByX/local_role_name (0.00s)
--- PASS: TestGetRoleByX/local_role_id (0.00s)
--- PASS: TestGetRoleByX/local_role_uid_as_name (0.00s)
--- PASS: TestGetRoleByX/local_role_name,_wrong_orgID (0.00s)
--- PASS: TestGetRoleByX/local_role_id,_wrong_orgID (0.00s)
--- PASS: TestGetRoleByX/local_role_uid,_wrong_orgID (0.00s)
--- PASS: TestGetRoleByX/global_role_uid (0.00s)
--- PASS: TestGetRoleByX/global_role_name (0.00s)
--- PASS: TestGetRoleByX/global_role_id (0.00s)
=== RUN   TestAccessControlStore_CreateRole
=== RUN   TestAccessControlStore_CreateRole/should_successfully_create_simple_role
=== RUN   TestAccessControlStore_CreateRole/should_successfully_create_role_with_UID
=== RUN   TestAccessControlStore_CreateRole/should_return_error_for_uid_with_invalid_characters
=== RUN   TestAccessControlStore_CreateRole/should_successfully_create_role_with_permissions
=== RUN   TestAccessControlStore_CreateRole/should_force_fixed_role_UID
=== RUN   TestAccessControlStore_CreateRole/should_force_plugin_role_UID
=== RUN   TestAccessControlStore_CreateRole/should_fail_to_create_role_with_too_long_scope
--- PASS: TestAccessControlStore_CreateRole (0.02s)
--- PASS: TestAccessControlStore_CreateRole/should_successfully_create_simple_role (0.00s)
--- PASS: TestAccessControlStore_CreateRole/should_successfully_create_role_with_UID (0.00s)
--- PASS: TestAccessControlStore_CreateRole/should_return_error_for_uid_with_invalid_characters (0.00s)
--- PASS: TestAccessControlStore_CreateRole/should_successfully_create_role_with_permissions (0.00s)
--- PASS: TestAccessControlStore_CreateRole/should_force_fixed_role_UID (0.00s)
--- PASS: TestAccessControlStore_CreateRole/should_force_plugin_role_UID (0.00s)
--- PASS: TestAccessControlStore_CreateRole/should_fail_to_create_role_with_too_long_scope (0.00s)
=== RUN   TestAccessControlStore_UpdateRole
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_role_name
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_permission_on_a_role
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_permissions_to_empty
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_display_name_to_empty
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_description_to_empty
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_group_to_empty
=== RUN   TestAccessControlStore_UpdateRole/should_successfully_update_hidden_field_to_false
=== RUN   TestAccessControlStore_UpdateRole/should_not_update_fields_when_not_specified
=== RUN   TestAccessControlStore_UpdateRole/should_only_update_permissions_of_a_basic_role
=== RUN   TestAccessControlStore_UpdateRole/should_force_update_UID_of_fixed_roles
--- PASS: TestAccessControlStore_UpdateRole (0.03s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_role_name (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_permission_on_a_role (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_permissions_to_empty (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_display_name_to_empty (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_description_to_empty (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_group_to_empty (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_successfully_update_hidden_field_to_false (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_not_update_fields_when_not_specified (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_only_update_permissions_of_a_basic_role (0.00s)
--- PASS: TestAccessControlStore_UpdateRole/should_force_update_UID_of_fixed_roles (0.00s)
=== RUN   TestAccessControlStore_DeleteRole
=== RUN   TestAccessControlStore_DeleteRole/should_successfully_delete_unassigned_role
=== RUN   TestAccessControlStore_DeleteRole/should_fail_to_delete_user_assigned_role
=== RUN   TestAccessControlStore_DeleteRole/should_fail_to_delete_team_assigned_role
=== RUN   TestAccessControlStore_DeleteRole/should_successfully_force_delete_multiple_assigned_role
=== RUN   TestAccessControlStore_DeleteRole/should_successfully_delete_global_role
--- PASS: TestAccessControlStore_DeleteRole (0.02s)
--- PASS: TestAccessControlStore_DeleteRole/should_successfully_delete_unassigned_role (0.00s)
--- PASS: TestAccessControlStore_DeleteRole/should_fail_to_delete_user_assigned_role (0.00s)
--- PASS: TestAccessControlStore_DeleteRole/should_fail_to_delete_team_assigned_role (0.00s)
--- PASS: TestAccessControlStore_DeleteRole/should_successfully_force_delete_multiple_assigned_role (0.00s)
--- PASS: TestAccessControlStore_DeleteRole/should_successfully_delete_global_role (0.00s)
=== RUN   TestAccessControlStore_DeleteRoles
=== RUN   TestAccessControlStore_DeleteRoles/should_successfully_delete_unassigned_roles
=== RUN   TestAccessControlStore_DeleteRoles/should_fail_to_delete_roles_when_at_least_one_is_assigned_to_a_user
=== RUN   TestAccessControlStore_DeleteRoles/should_fail_to_delete_roles_when_at_least_one_is_assigned_to_a_team
=== RUN   TestAccessControlStore_DeleteRoles/should_successfully_force_delete_multiple_assigned_roles
=== RUN   TestAccessControlStore_DeleteRoles/should_successfully_delete_global_role
--- PASS: TestAccessControlStore_DeleteRoles (0.02s)
--- PASS: TestAccessControlStore_DeleteRoles/should_successfully_delete_unassigned_roles (0.00s)
--- PASS: TestAccessControlStore_DeleteRoles/should_fail_to_delete_roles_when_at_least_one_is_assigned_to_a_user (0.00s)
--- PASS: TestAccessControlStore_DeleteRoles/should_fail_to_delete_roles_when_at_least_one_is_assigned_to_a_team (0.00s)
--- PASS: TestAccessControlStore_DeleteRoles/should_successfully_force_delete_multiple_assigned_roles (0.00s)
--- PASS: TestAccessControlStore_DeleteRoles/should_successfully_delete_global_role (0.01s)
=== RUN   TestAccessControlStore_GetUserPermissions
=== RUN   TestAccessControlStore_GetUserPermissions/should_successfully_get_user,_team_and_builtin_permissions
=== RUN   TestAccessControlStore_GetUserPermissions/should_successfully_both_local_and_global_builtin_permissions
=== RUN   TestAccessControlStore_GetUserPermissions/should_only_get_global_builtin_permissions_when_orgID_is_set_to_0
=== RUN   TestAccessControlStore_GetUserPermissions/should_work_without_user_role
--- PASS: TestAccessControlStore_GetUserPermissions (0.04s)
--- PASS: TestAccessControlStore_GetUserPermissions/should_successfully_get_user,_team_and_builtin_permissions (0.01s)
--- PASS: TestAccessControlStore_GetUserPermissions/should_successfully_both_local_and_global_builtin_permissions (0.01s)
--- PASS: TestAccessControlStore_GetUserPermissions/should_only_get_global_builtin_permissions_when_orgID_is_set_to_0 (0.01s)
--- PASS: TestAccessControlStore_GetUserPermissions/should_work_without_user_role (0.01s)
=== RUN   TestAccessControlStore_AddTeamRole
=== RUN   TestAccessControlStore_AddTeamRole/Should_be_able_to_add_role_to_team
--- PASS: TestAccessControlStore_AddTeamRole (0.00s)
--- PASS: TestAccessControlStore_AddTeamRole/Should_be_able_to_add_role_to_team (0.00s)
=== RUN   TestAccessControlStore_RemoveTeamRole
=== RUN   TestAccessControlStore_RemoveTeamRole/should_be_able_to_remove_team_role
--- PASS: TestAccessControlStore_RemoveTeamRole (0.00s)
--- PASS: TestAccessControlStore_RemoveTeamRole/should_be_able_to_remove_team_role (0.00s)
=== RUN   TestAccessControlStore_AddUserRole
=== RUN   TestAccessControlStore_AddUserRole/Should_be_able_to_add_role_to_user
=== RUN   TestAccessControlStore_AddUserRole/Should_be_able_to_assign_role_globally
--- PASS: TestAccessControlStore_AddUserRole (0.01s)
--- PASS: TestAccessControlStore_AddUserRole/Should_be_able_to_add_role_to_user (0.01s)
--- PASS: TestAccessControlStore_AddUserRole/Should_be_able_to_assign_role_globally (0.00s)
=== RUN   TestAccessControlStore_RemoveUserRole
=== RUN   TestAccessControlStore_RemoveUserRole/should_be_able_to_remove_user_role
=== RUN   TestAccessControlStore_RemoveUserRole/should_be_able_to_remove_user_role_globally
--- PASS: TestAccessControlStore_RemoveUserRole (0.01s)
--- PASS: TestAccessControlStore_RemoveUserRole/should_be_able_to_remove_user_role (0.00s)
--- PASS: TestAccessControlStore_RemoveUserRole/should_be_able_to_remove_user_role_globally (0.00s)
=== RUN   TestAccessControlStore_MappedUserRoles
--- PASS: TestAccessControlStore_MappedUserRoles (0.00s)
=== RUN   TestAccessControlStore_GetRoleAssignmentsByUID
=== RUN   TestAccessControlStore_GetRoleAssignmentsByUID/empty_assignments_returned_for_role_with_no_assignments
=== RUN   TestAccessControlStore_GetRoleAssignmentsByUID/correct_assignments_for_role_with_several_assignments
=== RUN   TestAccessControlStore_GetRoleAssignmentsByUID/return_only_non-global_assignments_for_a_global_role
--- PASS: TestAccessControlStore_GetRoleAssignmentsByUID (0.00s)
--- PASS: TestAccessControlStore_GetRoleAssignmentsByUID/empty_assignments_returned_for_role_with_no_assignments (0.00s)
--- PASS: TestAccessControlStore_GetRoleAssignmentsByUID/correct_assignments_for_role_with_several_assignments (0.00s)
--- PASS: TestAccessControlStore_GetRoleAssignmentsByUID/return_only_non-global_assignments_for_a_global_role (0.00s)
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/empty_assignments_clear_all_role_assignments
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/can_set_assignments_for_role_with_no_assignments
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/can_add_some_assignments_and_clear_some_assignments
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/can_set_several_assignments_for_users
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/can_clear_existing_user_assignment_and_add_a_new_assignment
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/can_set_assignments_for_a_global_role
=== RUN   TestAccessControlStore_SetRoleAssignmentsByUID/can_set_a_local_assignment_if_a_global_assignment_already_exists
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID (0.04s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/empty_assignments_clear_all_role_assignments (0.00s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/can_set_assignments_for_role_with_no_assignments (0.00s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/can_add_some_assignments_and_clear_some_assignments (0.01s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/can_set_several_assignments_for_users (0.01s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/can_clear_existing_user_assignment_and_add_a_new_assignment (0.01s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/can_set_assignments_for_a_global_role (0.01s)
--- PASS: TestAccessControlStore_SetRoleAssignmentsByUID/can_set_a_local_assignment_if_a_global_assignment_already_exists (0.01s)
=== RUN   TestAccessControlStore_DiffWithUserRoles
=== RUN   TestAccessControlStore_DiffWithUserRoles/should_find_diff_for_added_and_removed_roles
=== RUN   TestAccessControlStore_DiffWithUserRoles/should_only_find_roles_to_remove_if_input_roles_are_empty
=== RUN   TestAccessControlStore_DiffWithUserRoles/should_only_find_roles_to_add_if_no_current_roles_are_removed
=== RUN   TestAccessControlStore_DiffWithUserRoles/should_not_remove_hidden_roles
=== RUN   TestAccessControlStore_DiffWithUserRoles/should_remove_and_add_hidden_roles
--- PASS: TestAccessControlStore_DiffWithUserRoles (0.02s)
--- PASS: TestAccessControlStore_DiffWithUserRoles/should_find_diff_for_added_and_removed_roles (0.01s)
--- PASS: TestAccessControlStore_DiffWithUserRoles/should_only_find_roles_to_remove_if_input_roles_are_empty (0.00s)
--- PASS: TestAccessControlStore_DiffWithUserRoles/should_only_find_roles_to_add_if_no_current_roles_are_removed (0.01s)
--- PASS: TestAccessControlStore_DiffWithUserRoles/should_not_remove_hidden_roles (0.00s)
--- PASS: TestAccessControlStore_DiffWithUserRoles/should_remove_and_add_hidden_roles (0.01s)
=== RUN   TestAccessControlStore_SetTeamRoles
=== RUN   TestAccessControlStore_SetTeamRoles/Should_be_able_to_set_roles_for_existing_team
--- PASS: TestAccessControlStore_SetTeamRoles (0.00s)
--- PASS: TestAccessControlStore_SetTeamRoles/Should_be_able_to_set_roles_for_existing_team (0.00s)
=== RUN   TestAccessControlStore_SetUserRoles
=== RUN   TestAccessControlStore_SetUserRoles/Should_be_able_to_set_roles_for_existing_user
--- PASS: TestAccessControlStore_SetUserRoles (0.00s)
--- PASS: TestAccessControlStore_SetUserRoles/Should_be_able_to_set_roles_for_existing_user (0.00s)
=== RUN   TestAccessControlStore_SetRole
=== RUN   TestAccessControlStore_SetRole/should_successfully_update_role_name
=== RUN   TestAccessControlStore_SetRole/should_successfully_update_display_name_to_empty
=== RUN   TestAccessControlStore_SetRole/should_successfully_update_description_to_empty
=== RUN   TestAccessControlStore_SetRole/should_successfully_update_group_to_empty
=== RUN   TestAccessControlStore_SetRole/should_successfully_update_hidden_field_to_false
--- PASS: TestAccessControlStore_SetRole (0.02s)
--- PASS: TestAccessControlStore_SetRole/should_successfully_update_role_name (0.00s)
--- PASS: TestAccessControlStore_SetRole/should_successfully_update_display_name_to_empty (0.00s)
--- PASS: TestAccessControlStore_SetRole/should_successfully_update_description_to_empty (0.00s)
--- PASS: TestAccessControlStore_SetRole/should_successfully_update_group_to_empty (0.00s)
--- PASS: TestAccessControlStore_SetRole/should_successfully_update_hidden_field_to_false (0.00s)
=== RUN   TestIntegrationAccessControlStore_AddGroupMappingUserRoles
group_mapping_test.go:15: skipping integration test
--- SKIP: TestIntegrationAccessControlStore_AddGroupMappingUserRoles (0.00s)
=== RUN   TestIntegrationAccessControlStore_GetGroupMappingUserRoles
group_mapping_test.go:146: skipping integration test
--- SKIP: TestIntegrationAccessControlStore_GetGroupMappingUserRoles (0.00s)
=== RUN   TestIntegrationAccessControlStore_RemoveGroupMappingRoles
group_mapping_test.go:271: skipping integration test
--- SKIP: TestIntegrationAccessControlStore_RemoveGroupMappingRoles (0.00s)
=== RUN   TestIntegrationAccessControlStore_ClearGroupMappingUserRoles
group_mapping_test.go:504: skipping integration test
--- SKIP: TestIntegrationAccessControlStore_ClearGroupMappingUserRoles (0.00s)
=== RUN   TestIntegrationMetricCollection
metrics_test.go:18: skipping integration test
--- SKIP: TestIntegrationMetricCollection (0.00s)
=== RUN   TestIntegrationInUseMetricCollection
metrics_test.go:42: skipping integration test
--- SKIP: TestIntegrationInUseMetricCollection (0.00s)
=== RUN   TestIntegrationGetUsageStats
metrics_test.go:56: skipping integration test
--- SKIP: TestIntegrationGetUsageStats (0.00s)
=== RUN   TestIntegrationAccessControlStore_SaveRole
provisioning_test.go:17: skipping integration test
--- SKIP: TestIntegrationAccessControlStore_SaveRole (0.00s)
=== RUN   TestAccessControlStore_Search
=== RUN   TestAccessControlStore_Search/one_user
=== RUN   TestAccessControlStore_Search/one_user/search_direct_assignments_of_a_user
=== RUN   TestAccessControlStore_Search/one_user/search_team_assignments_of_a_user
=== RUN   TestAccessControlStore_Search/one_user/search_basic_role_assignments_of_a_user
=== RUN   TestAccessControlStore_Search/one_user/search_all_assignments_of_a_user
=== RUN   TestAccessControlStore_Search/one_user/search_all_roles_assigned_to_a_user
=== RUN   TestAccessControlStore_Search/three_users
=== RUN   TestAccessControlStore_Search/three_users/search_direct_assignments_of_a_user
=== RUN   TestAccessControlStore_Search/three_users/search_direct_assignments_of_all_user
=== RUN   TestAccessControlStore_Search/three_users/search_one_team_assignments
=== RUN   TestAccessControlStore_Search/three_users/search_all_team_assignments
=== RUN   TestAccessControlStore_Search/three_users/search_team_assignments_of_all_users
=== RUN   TestAccessControlStore_Search/three_users/search_one_basic_role_assignments
=== RUN   TestAccessControlStore_Search/three_users/search_all_basic_role_assignments
=== RUN   TestAccessControlStore_Search/three_users/search_basic_role_assignments_of_all_user
=== RUN   TestAccessControlStore_Search/three_users/search_all_assignments_of_all_users
=== RUN   TestAccessControlStore_Search/edge_cases
=== RUN   TestAccessControlStore_Search/edge_cases/set_specific_team_and_basic_role_filters
=== RUN   TestAccessControlStore_Search/edge_cases/set_specific_user_and_team_filters
=== RUN   TestAccessControlStore_Search/edge_cases/set_specific_user_and_wrong_team_filters
=== RUN   TestAccessControlStore_Search/edge_cases/set_specific_user_and_basic_role
=== RUN   TestAccessControlStore_Search/edge_cases/set_specific_user_and_wrong_basic_role
=== RUN   TestAccessControlStore_Search/filters
=== RUN   TestAccessControlStore_Search/filters/search_for_a_specific_scope
=== RUN   TestAccessControlStore_Search/filters/search_for_a_empty_scope
=== RUN   TestAccessControlStore_Search/filters/search_for_a_pattern_of_a_scope
=== RUN   TestAccessControlStore_Search/filters/search_for_a_minimistic_pattern_of_a_scope
=== RUN   TestAccessControlStore_Search/filters/search_for_a_specific_action
=== RUN   TestAccessControlStore_Search/filters/search_for_a_pattern_of_an_action
=== RUN   TestAccessControlStore_Search/filters/search_for_a_specific_role
=== RUN   TestAccessControlStore_Search/filters/search_for_a_pattern_of_a_role
--- PASS: TestAccessControlStore_Search (0.04s)
--- PASS: TestAccessControlStore_Search/one_user (0.01s)
--- PASS: TestAccessControlStore_Search/one_user/search_direct_assignments_of_a_user (0.00s)
--- PASS: TestAccessControlStore_Search/one_user/search_team_assignments_of_a_user (0.00s)
--- PASS: TestAccessControlStore_Search/one_user/search_basic_role_assignments_of_a_user (0.00s)
--- PASS: TestAccessControlStore_Search/one_user/search_all_assignments_of_a_user (0.00s)
--- PASS: TestAccessControlStore_Search/one_user/search_all_roles_assigned_to_a_user (0.00s)
--- PASS: TestAccessControlStore_Search/three_users (0.01s)
--- PASS: TestAccessControlStore_Search/three_users/search_direct_assignments_of_a_user (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_direct_assignments_of_all_user (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_one_team_assignments (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_all_team_assignments (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_team_assignments_of_all_users (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_one_basic_role_assignments (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_all_basic_role_assignments (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_basic_role_assignments_of_all_user (0.00s)
--- PASS: TestAccessControlStore_Search/three_users/search_all_assignments_of_all_users (0.00s)
--- PASS: TestAccessControlStore_Search/edge_cases (0.01s)
--- PASS: TestAccessControlStore_Search/edge_cases/set_specific_team_and_basic_role_filters (0.00s)
--- PASS: TestAccessControlStore_Search/edge_cases/set_specific_user_and_team_filters (0.00s)
--- PASS: TestAccessControlStore_Search/edge_cases/set_specific_user_and_wrong_team_filters (0.00s)
--- PASS: TestAccessControlStore_Search/edge_cases/set_specific_user_and_basic_role (0.00s)
--- PASS: TestAccessControlStore_Search/edge_cases/set_specific_user_and_wrong_basic_role (0.00s)
--- PASS: TestAccessControlStore_Search/filters (0.01s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_specific_scope (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_empty_scope (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_pattern_of_a_scope (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_minimistic_pattern_of_a_scope (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_specific_action (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_pattern_of_an_action (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_specific_role (0.00s)
--- PASS: TestAccessControlStore_Search/filters/search_for_a_pattern_of_a_role (0.00s)
=== RUN   TestAccessControlStore_SeededPermissions
--- PASS: TestAccessControlStore_SeededPermissions (0.01s)
=== RUN   TestAccessControlStore_DeleteBasicRolesPermissions
--- PASS: TestAccessControlStore_DeleteBasicRolesPermissions (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/accesscontrol/database	(cached)
=== RUN   TestBuiltInRolesMigration
=== RUN   TestBuiltInRolesMigration/br_migration_populated_database
=== RUN   TestBuiltInRolesMigration/empty_database
--- PASS: TestBuiltInRolesMigration (0.69s)
--- PASS: TestBuiltInRolesMigration/br_migration_populated_database (0.34s)
--- PASS: TestBuiltInRolesMigration/empty_database (0.35s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/accesscontrol/database/test	(cached)
=== RUN   Test_configReader_readConfigV2
=== RUN   Test_configReader_readConfigV2/broken-yaml
=== RUN   Test_configReader_readConfigV2/all-properties
--- PASS: Test_configReader_readConfigV2 (0.00s)
--- PASS: Test_configReader_readConfigV2/broken-yaml (0.00s)
--- PASS: Test_configReader_readConfigV2/all-properties (0.00s)
=== RUN   TestInitMetrics
--- PASS: TestInitMetrics (0.00s)
=== RUN   TestProvision
=== RUN   TestProvision/prevent_updating_basic_role_none
=== RUN   TestProvision/prevent_creating_external_service_role
--- PASS: TestProvision (0.26s)
--- PASS: TestProvision/prevent_updating_basic_role_none (0.26s)
--- PASS: TestProvision/prevent_creating_external_service_role (0.00s)
=== RUN   TestProvisionMultipleRunV2
=== RUN   TestProvisionMultipleRunV2/successfully_ignore_unchanged_role_version
=== RUN   TestProvisionMultipleRunV2/successfully_remove_permissions_and_teams_link
=== RUN   TestProvisionMultipleRunV2/successfully_remove_roles
=== RUN   TestProvisionMultipleRunV2/fail_delete_assigned_role
=== RUN   TestProvisionMultipleRunV2/ignore_removal_of_unknown_role
=== RUN   TestProvisionMultipleRunV2/add_a_new_team_assignment
=== RUN   TestProvisionMultipleRunV2/copy_two_roles
--- PASS: TestProvisionMultipleRunV2 (0.03s)
--- PASS: TestProvisionMultipleRunV2/successfully_ignore_unchanged_role_version (0.00s)
--- PASS: TestProvisionMultipleRunV2/successfully_remove_permissions_and_teams_link (0.00s)
--- PASS: TestProvisionMultipleRunV2/successfully_remove_roles (0.00s)
--- PASS: TestProvisionMultipleRunV2/fail_delete_assigned_role (0.00s)
--- PASS: TestProvisionMultipleRunV2/ignore_removal_of_unknown_role (0.00s)
--- PASS: TestProvisionMultipleRunV2/add_a_new_team_assignment (0.01s)
--- PASS: TestProvisionMultipleRunV2/copy_two_roles (0.00s)
=== RUN   TestProvisionDeleteRoles
=== RUN   TestProvisionDeleteRoles/prevent_basic_roles_deletion
=== RUN   TestProvisionDeleteRoles/prevent_basic_none_role_deletion
=== RUN   TestProvisionDeleteRoles/prevent_external_service_roles_deletion
--- PASS: TestProvisionDeleteRoles (0.01s)
--- PASS: TestProvisionDeleteRoles/prevent_basic_roles_deletion (0.00s)
--- PASS: TestProvisionDeleteRoles/prevent_basic_none_role_deletion (0.00s)
--- PASS: TestProvisionDeleteRoles/prevent_external_service_roles_deletion (0.00s)
=== RUN   TestAssignFixedRoleToTeamsV2
=== RUN   TestAssignFixedRoleToTeamsV2/successfully_grant_fixed_roles_to_teams
=== RUN   TestAssignFixedRoleToTeamsV2/successfully_handle_inexistent_fixed_role_removal
=== RUN   TestAssignFixedRoleToTeamsV2/fail_to_grant_inexistent_fixed_role
=== RUN   TestAssignFixedRoleToTeamsV2/fail_to_grant_roles_to_an_inexistent_team
--- PASS: TestAssignFixedRoleToTeamsV2 (0.02s)
--- PASS: TestAssignFixedRoleToTeamsV2/successfully_grant_fixed_roles_to_teams (0.01s)
--- PASS: TestAssignFixedRoleToTeamsV2/successfully_handle_inexistent_fixed_role_removal (0.00s)
--- PASS: TestAssignFixedRoleToTeamsV2/fail_to_grant_inexistent_fixed_role (0.00s)
--- PASS: TestAssignFixedRoleToTeamsV2/fail_to_grant_roles_to_an_inexistent_team (0.00s)
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Test_IsDisabled
=== RUN   TestFeatureToggle/Test_IsDisabled/IsDisabled_should_return_true_when_RBAC_is_disabled_by_token
=== RUN   TestFeatureToggle/Test_IsDisabled/IsDisabled_should_return_false_when_RBAC_is_enabled_by_token
=== RUN   TestFeatureToggle/Test_Provision
=== RUN   TestFeatureToggle/Test_Provision/Provision_should_do_nothing_and_return_nil_when_RBAC_is_disabled_by_token
=== RUN   TestFeatureToggle/Test_Provision/Provision_should_try_to_acquire_semaphore_and_return_error_when_RBAC_is_enabled_by_token
--- PASS: TestFeatureToggle (0.00s)
--- PASS: TestFeatureToggle/Test_IsDisabled (0.00s)
--- PASS: TestFeatureToggle/Test_IsDisabled/IsDisabled_should_return_true_when_RBAC_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_IsDisabled/IsDisabled_should_return_false_when_RBAC_is_enabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_Provision (0.00s)
--- PASS: TestFeatureToggle/Test_Provision/Provision_should_do_nothing_and_return_nil_when_RBAC_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_Provision/Provision_should_try_to_acquire_semaphore_and_return_error_when_RBAC_is_enabled_by_token (0.00s)
=== RUN   Test_configReader_validateConfigV2
=== RUN   Test_configReader_validateConfigV2/Fail_to_validate_role_with_no_name
=== RUN   Test_configReader_validateConfigV2/Fail_to_validate_deleted_role_with_no_name/uid
=== RUN   Test_configReader_validateConfigV2/Successfully_replace_orgId
=== RUN   Test_configReader_validateConfigV2/Successfully_replace_orgId_in_team_assignments
=== RUN   Test_configReader_validateConfigV2/Fail_to_validate_empty_team_name
=== RUN   Test_configReader_validateConfigV2/Fail_to_validate_different_org_assignment_for_team
=== RUN   Test_configReader_validateConfigV2/Fail_to_validate_a_role_with_invalid_permissions
=== RUN   Test_configReader_validateConfigV2/Fail_to_validate_a_role_with_invalid_from_identifiers
=== RUN   Test_configReader_validateConfigV2/Successfully_validate_a_role_with_no_name_if_it's_basic
=== RUN   Test_configReader_validateConfigV2/Successfully_validate_a_role_with_no_UID_if_it's_basic
--- PASS: Test_configReader_validateConfigV2 (0.00s)
--- PASS: Test_configReader_validateConfigV2/Fail_to_validate_role_with_no_name (0.00s)
--- PASS: Test_configReader_validateConfigV2/Fail_to_validate_deleted_role_with_no_name/uid (0.00s)
--- PASS: Test_configReader_validateConfigV2/Successfully_replace_orgId (0.00s)
--- PASS: Test_configReader_validateConfigV2/Successfully_replace_orgId_in_team_assignments (0.00s)
--- PASS: Test_configReader_validateConfigV2/Fail_to_validate_empty_team_name (0.00s)
--- PASS: Test_configReader_validateConfigV2/Fail_to_validate_different_org_assignment_for_team (0.00s)
--- PASS: Test_configReader_validateConfigV2/Fail_to_validate_a_role_with_invalid_permissions (0.00s)
--- PASS: Test_configReader_validateConfigV2/Fail_to_validate_a_role_with_invalid_from_identifiers (0.00s)
--- PASS: Test_configReader_validateConfigV2/Successfully_validate_a_role_with_no_name_if_it's_basic (0.00s)
--- PASS: Test_configReader_validateConfigV2/Successfully_validate_a_role_with_no_UID_if_it's_basic (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/accesscontrol/provisioner	0.705s
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Should_return_no_content_when_analytics_is_disabled_by_token
=== RUN   TestFeatureToggle/Should_not_call_writeEvents_on_license_required_writer_when_token_is_expired
=== RUN   TestFeatureToggle/Should_call_writeEvents_on_license_required_writer_when_token_is_valid
=== RUN   TestFeatureToggle/Should_call_writeEvents_on_writer_when_token_is_expired_and_license_not_required
=== RUN   TestFeatureToggle/Should_call_writeEvents_on_public_event_on_license_required_writer_when_token_is_valid
--- PASS: TestFeatureToggle (0.31s)
--- PASS: TestFeatureToggle/Should_return_no_content_when_analytics_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_not_call_writeEvents_on_license_required_writer_when_token_is_expired (0.00s)
--- PASS: TestFeatureToggle/Should_call_writeEvents_on_license_required_writer_when_token_is_valid (0.00s)
--- PASS: TestFeatureToggle/Should_call_writeEvents_on_writer_when_token_is_expired_and_license_not_required (0.00s)
--- PASS: TestFeatureToggle/Should_call_writeEvents_on_public_event_on_license_required_writer_when_token_is_valid (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics	(cached)
=== RUN   TestDataSources_UsageStats
--- PASS: TestDataSources_UsageStats (0.32s)
=== RUN   TestHTTP_getDaily_FailedBasecases
--- PASS: TestHTTP_getDaily_FailedBasecases (0.00s)
=== RUN   TestHTTP_getDailyWithParams_Failed
--- PASS: TestHTTP_getDailyWithParams_Failed (0.00s)
=== RUN   TestHTTP_getEmptyDaily_Successful
--- PASS: TestHTTP_getEmptyDaily_Successful (0.00s)
=== RUN   TestHTTP_getMultipleDailiesFromDays_Successful
--- PASS: TestHTTP_getMultipleDailiesFromDays_Successful (0.00s)
=== RUN   TestHTTP_getMultipleDailiesFromRange_Successful
--- PASS: TestHTTP_getMultipleDailiesFromRange_Successful (0.00s)
=== RUN   TestHTTP_getMultipleDailies_LimitReached
map[1999-01-01:{1 {1999-01-01 0 0 0s}} 1999-01-02:{1 {1999-01-02 0 0 0s}} 1999-01-03:{1 {1999-01-03 0 0 0s}} 1999-01-04:{1 {1999-01-04 0 0 0s}} 1999-01-05:{1 {1999-01-05 0 0 0s}} 1999-01-06:{1 {1999-01-06 0 0 0s}} 1999-01-07:{1 {1999-01-07 0 0 0s}} 1999-01-08:{1 {1999-01-08 0 0 0s}} 1999-01-09:{1 {1999-01-09 0 0 0s}} 1999-01-10:{1 {1999-01-10 0 0 0s}} 1999-01-11:{1 {1999-01-11 0 0 0s}} 1999-01-12:{1 {1999-01-12 0 0 0s}} 1999-01-13:{1 {1999-01-13 0 0 0s}} 1999-01-14:{1 {1999-01-14 0 0 0s}} 1999-01-15:{1 {1999-01-15 0 0 0s}} 1999-01-16:{1 {1999-01-16 0 0 0s}} 1999-01-17:{1 {1999-01-17 0 0 0s}} 1999-01-18:{1 {1999-01-18 0 0 0s}} 1999-01-19:{1 {1999-01-19 0 0 0s}} 1999-01-20:{1 {1999-01-20 0 0 0s}} 1999-01-21:{1 {1999-01-21 0 0 0s}} 1999-01-22:{1 {1999-01-22 0 0 0s}} 1999-01-23:{1 {1999-01-23 0 0 0s}} 1999-01-24:{1 {1999-01-24 0 0 0s}} 1999-01-25:{1 {1999-01-25 0 0 0s}} 1999-01-26:{1 {1999-01-26 0 0 0s}} 1999-01-27:{1 {1999-01-27 0 0 0s}} 1999-01-28:{1 {1999-01-28 0 0 0s}} 1999-01-29:{1 {1999-01-29 0 0 0s}} 1999-01-30:{1 {1999-01-30 0 0 0s}} 1999-01-31:{1 {1999-01-31 0 0 0s}} 1999-02-01:{1 {1999-02-01 0 0 0s}} 1999-02-02:{1 {1999-02-02 0 0 0s}} 1999-02-03:{1 {1999-02-03 0 0 0s}} 1999-02-04:{1 {1999-02-04 0 0 0s}} 1999-02-05:{1 {1999-02-05 0 0 0s}} 1999-02-06:{1 {1999-02-06 0 0 0s}} 1999-02-07:{1 {1999-02-07 0 0 0s}} 1999-02-08:{1 {1999-02-08 0 0 0s}} 1999-02-09:{1 {1999-02-09 0 0 0s}} 1999-02-10:{1 {1999-02-10 0 0 0s}} 1999-02-11:{1 {1999-02-11 0 0 0s}} 1999-02-12:{1 {1999-02-12 0 0 0s}} 1999-02-13:{1 {1999-02-13 0 0 0s}} 1999-02-14:{1 {1999-02-14 0 0 0s}} 1999-02-15:{1 {1999-02-15 0 0 0s}} 1999-02-16:{1 {1999-02-16 0 0 0s}} 1999-02-17:{1 {1999-02-17 0 0 0s}} 1999-02-18:{1 {1999-02-18 0 0 0s}} 1999-02-19:{1 {1999-02-19 0 0 0s}} 1999-02-20:{1 {1999-02-20 0 0 0s}} 1999-02-21:{1 {1999-02-21 0 0 0s}} 1999-02-22:{1 {1999-02-22 0 0 0s}} 1999-02-23:{1 {1999-02-23 0 0 0s}} 1999-02-24:{1 {1999-02-24 0 0 0s}} 1999-02-25:{1 {1999-02-25 0 0 0s}} 1999-02-26:{1 {1999-02-26 0 0 0s}} 1999-02-27:{1 {1999-02-27 0 0 0s}} 1999-02-28:{1 {1999-02-28 0 0 0s}} 1999-03-01:{1 {1999-03-01 0 0 0s}} 1999-03-02:{1 {1999-03-02 0 0 0s}} 1999-03-03:{1 {1999-03-03 0 0 0s}} 1999-03-04:{1 {1999-03-04 0 0 0s}} 1999-03-05:{1 {1999-03-05 0 0 0s}} 1999-03-06:{1 {1999-03-06 0 0 0s}} 1999-03-07:{1 {1999-03-07 0 0 0s}} 1999-03-08:{1 {1999-03-08 0 0 0s}} 1999-03-09:{1 {1999-03-09 0 0 0s}} 1999-03-10:{1 {1999-03-10 0 0 0s}} 1999-03-11:{1 {1999-03-11 0 0 0s}} 1999-03-12:{1 {1999-03-12 0 0 0s}} 1999-03-13:{1 {1999-03-13 0 0 0s}} 1999-03-14:{1 {1999-03-14 0 0 0s}} 1999-03-15:{1 {1999-03-15 0 0 0s}} 1999-03-16:{1 {1999-03-16 0 0 0s}} 1999-03-17:{1 {1999-03-17 0 0 0s}} 1999-03-18:{1 {1999-03-18 0 0 0s}} 1999-03-19:{1 {1999-03-19 0 0 0s}} 1999-03-20:{1 {1999-03-20 0 0 0s}} 1999-03-21:{1 {1999-03-21 0 0 0s}} 1999-03-22:{1 {1999-03-22 0 0 0s}} 1999-03-23:{1 {1999-03-23 0 0 0s}} 1999-03-24:{1 {1999-03-24 0 0 0s}} 1999-03-25:{1 {1999-03-25 0 0 0s}} 1999-03-26:{1 {1999-03-26 0 0 0s}} 1999-03-27:{1 {1999-03-27 0 0 0s}} 1999-03-28:{1 {1999-03-28 0 0 0s}} 1999-03-29:{1 {1999-03-29 0 0 0s}} 1999-03-30:{1 {1999-03-30 0 0 0s}} 1999-03-31:{1 {1999-03-31 0 0 0s}} 1999-04-01:{1 {1999-04-01 0 0 0s}} 1999-04-02:{1 {1999-04-02 0 0 0s}} 1999-04-03:{1 {1999-04-03 0 0 0s}} 1999-04-04:{1 {1999-04-04 0 0 0s}} 1999-04-05:{1 {1999-04-05 0 0 0s}} 1999-04-06:{1 {1999-04-06 0 0 0s}} 1999-04-07:{1 {1999-04-07 0 0 0s}} 1999-04-08:{1 {1999-04-08 0 0 0s}} 1999-04-09:{1 {1999-04-09 0 0 0s}} 1999-04-10:{1 {1999-04-10 0 0 0s}}]
--- PASS: TestHTTP_getMultipleDailies_LimitReached (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/datasources	(cached)
=== RUN   TestDailySummary_SimpleCreateUpdateFetch
--- PASS: TestDailySummary_SimpleCreateUpdateFetch (0.31s)
=== RUN   TestDailySummary_FetchNonExistingSummary
--- PASS: TestDailySummary_FetchNonExistingSummary (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/datasources/database	(cached)
?   	github.com/grafana/grafana/pkg/extensions/analytics/datasources/models	[no test files]
=== RUN   TestEvent_KV
--- PASS: TestEvent_KV (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/eventmodels	(cached)
=== RUN   TestSortOptions
--- PASS: TestSortOptions (0.00s)
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Should_return_2_search_options_when_analytics_is_disabled_by_token
=== RUN   TestFeatureToggle/Should_return_10_search_options_when_analytics_is_enabled_by_token
--- PASS: TestFeatureToggle (0.30s)
--- PASS: TestFeatureToggle/Should_return_2_search_options_when_analytics_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_return_10_search_options_when_analytics_is_enabled_by_token (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/sortoptions	(cached)
=== RUN   TestLokiGRPCStorage_Log_WithSuccess
--- PASS: TestLokiGRPCStorage_Log_WithSuccess (0.01s)
=== RUN   TestLokiGRPCStorage_Log_WithTimeout
--- PASS: TestLokiGRPCStorage_Log_WithTimeout (0.05s)
=== RUN   TestLokiGRPCStorage_Log_WithRetries
--- PASS: TestLokiGRPCStorage_Log_WithRetries (0.11s)
=== RUN   TestLokiHTTPStorage_Log
--- PASS: TestLokiHTTPStorage_Log (0.00s)
=== RUN   TestLokiHTTPStorage_BuildURL
=== RUN   TestLokiHTTPStorage_BuildURL/valid_http_URL
=== RUN   TestLokiHTTPStorage_BuildURL/valid_https_URL
=== RUN   TestLokiHTTPStorage_BuildURL/invalid_URL
--- PASS: TestLokiHTTPStorage_BuildURL (0.00s)
--- PASS: TestLokiHTTPStorage_BuildURL/valid_http_URL (0.00s)
--- PASS: TestLokiHTTPStorage_BuildURL/valid_https_URL (0.00s)
--- PASS: TestLokiHTTPStorage_BuildURL/invalid_URL (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/storage	(cached)
=== RUN   TestBuffer_Consume_SingleValue
--- PASS: TestBuffer_Consume_SingleValue (0.00s)
=== RUN   TestBuffer_Consume_DifferentDays
--- PASS: TestBuffer_Consume_DifferentDays (0.00s)
=== RUN   TestBuffer_Consume_DifferentDashboardUIDs
--- PASS: TestBuffer_Consume_DifferentDashboardUIDs (0.00s)
=== RUN   TestBuffer_Consume_RescueFunction
--- PASS: TestBuffer_Consume_RescueFunction (0.00s)
=== RUN   TestBuffer_Consume_NoRescueFunction
--- PASS: TestBuffer_Consume_NoRescueFunction (0.00s)
=== RUN   TestSummaries_BufferWrite
--- PASS: TestSummaries_BufferWrite (0.27s)
=== RUN   TestSummaries_UIDRequired
--- PASS: TestSummaries_UIDRequired (0.00s)
=== RUN   TestHTTP_getExistingSummary_Successful
--- PASS: TestHTTP_getExistingSummary_Successful (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/summaries	(cached)
=== RUN   TestHTTP_getSummary_FailedBasecases
=== RUN   TestHTTP_getSummary_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission
=== RUN   TestHTTP_getSummary_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission
=== RUN   TestHTTP_getSummary_FailedBasecases/should_return_404_if_dashboard_is_not_found
--- PASS: TestHTTP_getSummary_FailedBasecases (0.26s)
--- PASS: TestHTTP_getSummary_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission (0.00s)
--- PASS: TestHTTP_getSummary_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission (0.00s)
--- PASS: TestHTTP_getSummary_FailedBasecases/should_return_404_if_dashboard_is_not_found (0.00s)
=== RUN   TestHTTP_getEmptySummary_Successful
--- PASS: TestHTTP_getEmptySummary_Successful (0.00s)
=== RUN   TestHTTP_getDashboardDailySummaries_FailedBasecases
=== RUN   TestHTTP_getDashboardDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission
=== RUN   TestHTTP_getDashboardDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission
=== RUN   TestHTTP_getDashboardDailySummaries_FailedBasecases/should_return_404_if_dashboard_is_not_found
--- PASS: TestHTTP_getDashboardDailySummaries_FailedBasecases (0.00s)
--- PASS: TestHTTP_getDashboardDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission (0.00s)
--- PASS: TestHTTP_getDashboardDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission (0.00s)
--- PASS: TestHTTP_getDashboardDailySummaries_FailedBasecases/should_return_404_if_dashboard_is_not_found (0.00s)
=== RUN   TestHTTP_getSummaryByUID_FailedBasecases
=== RUN   TestHTTP_getSummaryByUID_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission
=== RUN   TestHTTP_getSummaryByUID_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission
=== RUN   TestHTTP_getSummaryByUID_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_read_permission_but_no_insights_read_permission
=== RUN   TestHTTP_getSummaryByUID_FailedBasecases/should_return_404_if_dashboard_is_not_found
--- PASS: TestHTTP_getSummaryByUID_FailedBasecases (0.00s)
--- PASS: TestHTTP_getSummaryByUID_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission (0.00s)
--- PASS: TestHTTP_getSummaryByUID_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission (0.00s)
--- PASS: TestHTTP_getSummaryByUID_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_read_permission_but_no_insights_read_permission (0.00s)
--- PASS: TestHTTP_getSummaryByUID_FailedBasecases/should_return_404_if_dashboard_is_not_found (0.00s)
=== RUN   TestHTTP_getEmptySummaryByUID_Successful
=== RUN   TestHTTP_getEmptySummaryByUID_Successful/should_return_okay_if_given_permission_just_to_that_uid
=== RUN   TestHTTP_getEmptySummaryByUID_Successful/should_return_okay
--- PASS: TestHTTP_getEmptySummaryByUID_Successful (0.00s)
--- PASS: TestHTTP_getEmptySummaryByUID_Successful/should_return_okay_if_given_permission_just_to_that_uid (0.00s)
--- PASS: TestHTTP_getEmptySummaryByUID_Successful/should_return_okay (0.00s)
=== RUN   TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases
=== RUN   TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission
=== RUN   TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission
=== RUN   TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_read_permission_but_no_insights_read_permission
=== RUN   TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_return_404_if_dashboard_is_not_found
--- PASS: TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases (0.00s)
--- PASS: TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_no_dashboard_insights_read_permission (0.00s)
--- PASS: TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_insights_read_permission_but_no_dashboard_read_permission (0.00s)
--- PASS: TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_deny_access_with_RBAC_-_dashboard_read_permission_but_no_insights_read_permission (0.00s)
--- PASS: TestHTTP_getDashboardByUIDDailySummaries_FailedBasecases/should_return_404_if_dashboard_is_not_found (0.00s)
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsDisabled
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsDisabled/should_response_not_found_public_dashboard_daily_summaries_if_it_is_disabled_without_permissions
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsDisabled/should_response_not_found_public_dashboard_daily_summaries_if_it_is_disabled
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsDisabled (0.00s)
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsDisabled/should_response_not_found_public_dashboard_daily_summaries_if_it_is_disabled_without_permissions (0.00s)
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsDisabled/should_response_not_found_public_dashboard_daily_summaries_if_it_is_disabled (0.00s)
=== RUN   TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled
=== RUN   TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled/should_response_forbidden_public_dashboard_daily_summaries_if_it_is_enabled_without_permissions
=== RUN   TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled/should_response_ok_public_dashboard_daily_summaries_if_it_is_enabled_and_only_given_permission_to_that_dashboard
=== RUN   TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled/should_response_ok_public_dashboard_daily_summaries_if_it_is_enabled
--- PASS: TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled (0.00s)
--- PASS: TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled/should_response_forbidden_public_dashboard_daily_summaries_if_it_is_enabled_without_permissions (0.00s)
--- PASS: TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled/should_response_ok_public_dashboard_daily_summaries_if_it_is_enabled_and_only_given_permission_to_that_dashboard (0.00s)
--- PASS: TestHTTP_getPublicDashboardByUIDDailySummaries_PublicDashboardsEnabled/should_response_ok_public_dashboard_daily_summaries_if_it_is_enabled (0.00s)
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled/should_response_forbidden_public_dashboard_daily_summaries_if_it_is_enabled_without_permissions
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled/should_response_ok_public_dashboard_daily_summaries_if_it_is_enabled
=== RUN   TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled/should_return_404_if_dashboard_is_not_found
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled (0.00s)
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled/should_response_forbidden_public_dashboard_daily_summaries_if_it_is_enabled_without_permissions (0.00s)
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled/should_response_ok_public_dashboard_daily_summaries_if_it_is_enabled (0.00s)
--- PASS: TestHTTP_getPublicDashboardDailySummaries_PublicDashboardsEnabled/should_return_404_if_dashboard_is_not_found (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/summaries/api	(cached)
=== RUN   TestIntegrationDailySummary_SimpleCreateUpdateFetch
database_test.go:62: skipping integration test
--- SKIP: TestIntegrationDailySummary_SimpleCreateUpdateFetch (0.00s)
=== RUN   TestIntegrationGetPublicDashboardDailySummaries
database_test.go:109: skipping integration test
--- SKIP: TestIntegrationGetPublicDashboardDailySummaries (0.00s)
=== RUN   TestIntegrationPublicDashboardUpdateDailySummary
database_test.go:167: skipping integration test
--- SKIP: TestIntegrationPublicDashboardUpdateDailySummary (0.00s)
=== RUN   TestIntegrationDailySummary_FetchNonExistingSummary
database_test.go:230: skipping integration test
--- SKIP: TestIntegrationDailySummary_FetchNonExistingSummary (0.00s)
=== RUN   TestIntegrationSummaries_SimpleDailyRollup
database_test.go:241: skipping integration test
--- SKIP: TestIntegrationSummaries_SimpleDailyRollup (0.00s)
=== RUN   TestIntegrationSummaries_DailyRollupUpdate
database_test.go:296: skipping integration test
--- SKIP: TestIntegrationSummaries_DailyRollupUpdate (0.00s)
=== RUN   TestIntegrationSummaries_InsertSummary
database_test.go:337: skipping integration test
--- SKIP: TestIntegrationSummaries_InsertSummary (0.00s)
=== RUN   TestIntegrationSummaries_UpdateSummary
database_test.go:408: skipping integration test
--- SKIP: TestIntegrationSummaries_UpdateSummary (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/summaries/database	(cached)
?   	github.com/grafana/grafana/pkg/extensions/analytics/summaries/models	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/analytics/summaries/utils	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/analytics/views	[no test files]
=== RUN   TestViews_HTTPGetDashboardByUIDInfo
=== RUN   TestViews_HTTPGetDashboardByUIDInfo/should_deny_access_with_RBAC_-_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardByUIDInfo/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission
=== RUN   TestViews_HTTPGetDashboardByUIDInfo/should_deny_access_with_RBAC_-_dashboard_permission_but_no_insight_permission
=== RUN   TestViews_HTTPGetDashboardByUIDInfo/should_retrieve_both_creator_and_last_editor
=== RUN   TestViews_HTTPGetDashboardByUIDInfo/should_retrieve_all_dashboard_users_for_only_grafana1
=== RUN   TestViews_HTTPGetDashboardByUIDInfo/should_not_retrieve_both_creator_and_last_editor_because_they_are_hidden_users
--- PASS: TestViews_HTTPGetDashboardByUIDInfo (0.27s)
--- PASS: TestViews_HTTPGetDashboardByUIDInfo/should_deny_access_with_RBAC_-_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDInfo/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDInfo/should_deny_access_with_RBAC_-_dashboard_permission_but_no_insight_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDInfo/should_retrieve_both_creator_and_last_editor (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDInfo/should_retrieve_all_dashboard_users_for_only_grafana1 (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDInfo/should_not_retrieve_both_creator_and_last_editor_because_they_are_hidden_users (0.00s)
=== RUN   TestViews_HTTPGetDashboardInfo
=== RUN   TestViews_HTTPGetDashboardInfo/should_deny_access_with_RBAC_-_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardInfo/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission
=== RUN   TestViews_HTTPGetDashboardInfo/should_retrieve_both_creator_and_last_editor
=== RUN   TestViews_HTTPGetDashboardInfo/should_not_retrieve_both_creator_and_last_editor_because_they_are_hidden_users
--- PASS: TestViews_HTTPGetDashboardInfo (0.00s)
--- PASS: TestViews_HTTPGetDashboardInfo/should_deny_access_with_RBAC_-_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardInfo/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardInfo/should_retrieve_both_creator_and_last_editor (0.00s)
--- PASS: TestViews_HTTPGetDashboardInfo/should_not_retrieve_both_creator_and_last_editor_because_they_are_hidden_users (0.00s)
=== RUN   TestViews_HTTPGetDashboardByUIDUsers
=== RUN   TestViews_HTTPGetDashboardByUIDUsers/should_deny_access_with_RBAC_-_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardByUIDUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission
=== RUN   TestViews_HTTPGetDashboardByUIDUsers/should_deny_access_with_RBAC_-_dashboard_permission_but_no_insight_permission
=== RUN   TestViews_HTTPGetDashboardByUIDUsers/should_retrieve_all_dashboard_users
=== RUN   TestViews_HTTPGetDashboardByUIDUsers/should_retrieve_all_dashboard_users_for_only_grafana1
=== RUN   TestViews_HTTPGetDashboardByUIDUsers/should_not_retrieve_hidden_user
--- PASS: TestViews_HTTPGetDashboardByUIDUsers (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDUsers/should_deny_access_with_RBAC_-_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDUsers/should_deny_access_with_RBAC_-_dashboard_permission_but_no_insight_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDUsers/should_retrieve_all_dashboard_users (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDUsers/should_retrieve_all_dashboard_users_for_only_grafana1 (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDUsers/should_not_retrieve_hidden_user (0.00s)
=== RUN   TestViews_HTTPGetDashboardUsers
=== RUN   TestViews_HTTPGetDashboardUsers/should_deny_access_with_RBAC_-_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission
=== RUN   TestViews_HTTPGetDashboardUsers/should_retrieve_all_dashboard_users
=== RUN   TestViews_HTTPGetDashboardUsers/should_not_retrieve_hidden_user
--- PASS: TestViews_HTTPGetDashboardUsers (0.00s)
--- PASS: TestViews_HTTPGetDashboardUsers/should_deny_access_with_RBAC_-_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardUsers/should_retrieve_all_dashboard_users (0.00s)
--- PASS: TestViews_HTTPGetDashboardUsers/should_not_retrieve_hidden_user (0.00s)
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers/should_deny_access_with_RBAC_-_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers/should_deny_access_with_RBAC_-_dashboard_permission_but_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers/should_retrieve_all_recent_dashboard_users
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers/should_retrieve_all_dashboard_users_for_only_grafana1
=== RUN   TestViews_HTTPGetDashboardByUIDRecentUsers/should_not_retrieve_hidden_user
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers/should_deny_access_with_RBAC_-_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers/should_deny_access_with_RBAC_-_dashboard_permission_but_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers/should_retrieve_all_recent_dashboard_users (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers/should_retrieve_all_dashboard_users_for_only_grafana1 (0.00s)
--- PASS: TestViews_HTTPGetDashboardByUIDRecentUsers/should_not_retrieve_hidden_user (0.00s)
=== RUN   TestViews_HTTPGetDashboardRecentUsers
=== RUN   TestViews_HTTPGetDashboardRecentUsers/should_deny_access_with_RBAC_-_no_insights_permission
=== RUN   TestViews_HTTPGetDashboardRecentUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission
=== RUN   TestViews_HTTPGetDashboardRecentUsers/should_retrieve_all_recent_dashboard_users
=== RUN   TestViews_HTTPGetDashboardRecentUsers/should_not_retrieve_hidden_user
--- PASS: TestViews_HTTPGetDashboardRecentUsers (0.00s)
--- PASS: TestViews_HTTPGetDashboardRecentUsers/should_deny_access_with_RBAC_-_no_insights_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardRecentUsers/should_deny_access_with_RBAC_-_insights_permission_but_no_dashboard_permission (0.00s)
--- PASS: TestViews_HTTPGetDashboardRecentUsers/should_retrieve_all_recent_dashboard_users (0.00s)
--- PASS: TestViews_HTTPGetDashboardRecentUsers/should_not_retrieve_hidden_user (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/views/api	(cached)
=== RUN   TestViews_SimpleCreateUpdateFetch
--- PASS: TestViews_SimpleCreateUpdateFetch (0.24s)
=== RUN   TestViews_UserLimitReached
--- PASS: TestViews_UserLimitReached (0.01s)
=== RUN   TestViews_SameEventTwice
--- PASS: TestViews_SameEventTwice (0.00s)
=== RUN   TestViews_GetDashboardRecentUsers
=== RUN   TestViews_GetDashboardRecentUsers/get_by_dashboard_uid
=== RUN   TestViews_GetDashboardRecentUsers/get_by_dashboard_id
--- PASS: TestViews_GetDashboardRecentUsers (0.00s)
--- PASS: TestViews_GetDashboardRecentUsers/get_by_dashboard_uid (0.00s)
--- PASS: TestViews_GetDashboardRecentUsers/get_by_dashboard_id (0.00s)
=== RUN   TestViews_GetDashboardUsersViews
=== RUN   TestViews_GetDashboardUsersViews/get_by_dashboard_uid
=== RUN   TestViews_GetDashboardUsersViews/get_by_dashboard_id
--- PASS: TestViews_GetDashboardUsersViews (0.00s)
--- PASS: TestViews_GetDashboardUsersViews/get_by_dashboard_uid (0.00s)
--- PASS: TestViews_GetDashboardUsersViews/get_by_dashboard_id (0.00s)
=== RUN   TestViews_GetDashboardLastUsersViews
=== RUN   TestViews_GetDashboardLastUsersViews/get_by_dashboard_uid
=== RUN   TestViews_GetDashboardLastUsersViews/get_by_dashboard_id
--- PASS: TestViews_GetDashboardLastUsersViews (0.00s)
--- PASS: TestViews_GetDashboardLastUsersViews/get_by_dashboard_uid (0.00s)
--- PASS: TestViews_GetDashboardLastUsersViews/get_by_dashboard_id (0.00s)
=== RUN   TestViews_userViewDBToUserView
=== RUN   TestViews_userViewDBToUserView/MySQL_should_parse_time
=== RUN   TestViews_userViewDBToUserView/Timestamp_is_invliad
--- PASS: TestViews_userViewDBToUserView (0.00s)
--- PASS: TestViews_userViewDBToUserView/MySQL_should_parse_time (0.00s)
--- PASS: TestViews_userViewDBToUserView/Timestamp_is_invliad (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/views/database	(cached)
=== RUN   TestViews_WriteEvents
--- PASS: TestViews_WriteEvents (0.26s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/analytics/views/service	(cached)
?   	github.com/grafana/grafana/pkg/extensions/anonymous	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/banners/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/cloudconfig	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/cloudconfig/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/cloudconfig/v0alpha2	[no test files]
=== RUN   TestIntegrationQueryLibrary
querylibrary_test.go:21: skipping integration test
--- SKIP: TestIntegrationQueryLibrary (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apis/querylibrary	0.570s
?   	github.com/grafana/grafana/pkg/extensions/apis/querylibrary/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/reporting/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/sandboxsettings/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/scim/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/scope/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apis/usageinsights/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apiserver	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apiserver/apiserver_test	[no test files]
=== RUN   TestE2EAPIServerCloudAggregation
aggregation_test.go:27: test failing in CI, needs investigation
--- SKIP: TestE2EAPIServerCloudAggregation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/apiserver_test/cloudaggregation	(cached)
=== RUN   TestE2EAPIServerCloudConfigService
cloudconfig_test.go:21: skipping e2e apiserver suite test
--- SKIP: TestE2EAPIServerCloudConfigService (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/apiserver_test/cloudconfig	(cached)
?   	github.com/grafana/grafana/pkg/extensions/apiserver/apiserver_test/e2eservices	[no test files]
=== RUN   TestE2EAPIServerQueryService
query_test.go:25: skipping e2e apiserver suite test
--- SKIP: TestE2EAPIServerQueryService (0.00s)
=== RUN   TestE2EAPIServerRateLimiter
query_test.go:126: skipping e2e apiserver suite test
--- SKIP: TestE2EAPIServerRateLimiter (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/apiserver_test/query	(cached)
=== RUN   TestAnonymousAuthorizer_Authorize
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_discovery_routes_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_discovery_routes_with_version_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_metrics_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_metrics_subpaths_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_readyz_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_healthz_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_livez_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_version_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_allows_profiling_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Authorize/it_offers_no_opinion_on_resource_paths_for_an_anonymous_auth_info
--- PASS: TestAnonymousAuthorizer_Authorize (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_discovery_routes_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_discovery_routes_with_version_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_metrics_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_metrics_subpaths_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_readyz_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_healthz_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_livez_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_version_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_allows_profiling_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Authorize/it_offers_no_opinion_on_resource_paths_for_an_anonymous_auth_info (0.00s)
=== RUN   TestAuthenticator_AuthenticateRequest
--- PASS: TestAuthenticator_AuthenticateRequest (0.00s)
=== RUN   TestAPIServerAuthenticator_Authenticate
=== RUN   TestAPIServerAuthenticator_Authenticate/missing_access_token_should_return_error
=== RUN   TestAPIServerAuthenticator_Authenticate/invalid_access_token_should_return_error
=== RUN   TestAPIServerAuthenticator_Authenticate/invalid_access_token_subject_should_return_error
=== RUN   TestAPIServerAuthenticator_Authenticate/request_without_id_token_should_authenticate_as_access_token
=== RUN   TestAPIServerAuthenticator_Authenticate/invalid_id_token_should_return_error
=== RUN   TestAPIServerAuthenticator_Authenticate/different_namespaces_for_access_and_id_token_should_return_error
=== RUN   TestAPIServerAuthenticator_Authenticate/invalid_id_token_type_should_return_error
=== RUN   TestAPIServerAuthenticator_Authenticate/same_namespace_should_authenticate_on_behalf_of_id_token
=== RUN   TestAPIServerAuthenticator_Authenticate/wildcard_namespace_for_access_token_should_authenticate_on_behalf_of_id_token
--- PASS: TestAPIServerAuthenticator_Authenticate (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/missing_access_token_should_return_error (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/invalid_access_token_should_return_error (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/invalid_access_token_subject_should_return_error (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/request_without_id_token_should_authenticate_as_access_token (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/invalid_id_token_should_return_error (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/different_namespaces_for_access_and_id_token_should_return_error (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/invalid_id_token_type_should_return_error (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/same_namespace_should_authenticate_on_behalf_of_id_token (0.00s)
--- PASS: TestAPIServerAuthenticator_Authenticate/wildcard_namespace_for_access_token_should_authenticate_on_behalf_of_id_token (0.00s)
=== RUN   TestCompositeAuthorizer_Specific_APIGroup_Authorize
=== RUN   TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_fetch_the_fake_freighter_resource
=== RUN   TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_fetch_the_fake_freighter_resource_on_v2
=== RUN   TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_not_fetch_the_fake_freighter_resource_missing_required_permission
=== RUN   TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_not_fetch_the_fake_freighter_resource_when_no_auth_info_present_on_context
--- PASS: TestCompositeAuthorizer_Specific_APIGroup_Authorize (0.00s)
--- PASS: TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_fetch_the_fake_freighter_resource (0.00s)
--- PASS: TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_fetch_the_fake_freighter_resource_on_v2 (0.00s)
--- PASS: TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_not_fetch_the_fake_freighter_resource_missing_required_permission (0.00s)
--- PASS: TestCompositeAuthorizer_Specific_APIGroup_Authorize/it_can_not_fetch_the_fake_freighter_resource_when_no_auth_info_present_on_context (0.00s)
=== RUN   TestCompositeAuthorizer_Fallback_Authorize
=== RUN   TestCompositeAuthorizer_Fallback_Authorize/it_succeeds_to_authorize_access_policy_type
=== RUN   TestCompositeAuthorizer_Fallback_Authorize/it_fails_to_authorize_non_access_policy_type
=== RUN   TestCompositeAuthorizer_Fallback_Authorize/it_fails_to_authorize_when_get_auth_info_errors
--- PASS: TestCompositeAuthorizer_Fallback_Authorize (0.00s)
--- PASS: TestCompositeAuthorizer_Fallback_Authorize/it_succeeds_to_authorize_access_policy_type (0.00s)
--- PASS: TestCompositeAuthorizer_Fallback_Authorize/it_fails_to_authorize_non_access_policy_type (0.00s)
--- PASS: TestCompositeAuthorizer_Fallback_Authorize/it_fails_to_authorize_when_get_auth_info_errors (0.00s)
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_discovery_routes_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_discovery_routes_with_version_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_metrics_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_metrics_subpaths_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_readyz_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_healthz_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_livez_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_version_route_for_an_anonymous_auth_info
=== RUN   TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_profiling_route_for_an_anonymous_auth_info
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize (0.01s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_discovery_routes_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_discovery_routes_with_version_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_metrics_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_metrics_subpaths_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_readyz_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_healthz_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_livez_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_version_route_for_an_anonymous_auth_info (0.00s)
--- PASS: TestAnonymousAuthorizer_Anonymous_Authorize/it_allows_profiling_route_for_an_anonymous_auth_info (0.00s)
=== RUN   TestFallbackAuthorizer_Authorize
=== RUN   TestFallbackAuthorizer_Authorize/it_succeeds_to_authorize_access_policy_type
=== RUN   TestFallbackAuthorizer_Authorize/it_fails_to_authorize_non_access_policy_type
=== RUN   TestFallbackAuthorizer_Authorize/it_fails_to_authorize_when_get_auth_info_errors
--- PASS: TestFallbackAuthorizer_Authorize (0.00s)
--- PASS: TestFallbackAuthorizer_Authorize/it_succeeds_to_authorize_access_policy_type (0.00s)
--- PASS: TestFallbackAuthorizer_Authorize/it_fails_to_authorize_non_access_policy_type (0.00s)
--- PASS: TestFallbackAuthorizer_Authorize/it_fails_to_authorize_when_get_auth_info_errors (0.00s)
=== RUN   TestNamespaceAuthorizer_Authorize
=== RUN   TestNamespaceAuthorizer_Authorize/it_denies_when_no_auth_info_is_found_in_context
=== RUN   TestNamespaceAuthorizer_Authorize/it_denies_for_invalid_namespace
=== RUN   TestNamespaceAuthorizer_Authorize/it_denies_when_identity_is_authenticated_for_another_namespace
=== RUN   TestNamespaceAuthorizer_Authorize/it_has_no_opinion_when_identity_is_authenticated_in_matching_namespace
=== RUN   TestNamespaceAuthorizer_Authorize/it_has_no_opinion_when_identity_is_authenticated_with_wildcard_namespace
--- PASS: TestNamespaceAuthorizer_Authorize (0.00s)
--- PASS: TestNamespaceAuthorizer_Authorize/it_denies_when_no_auth_info_is_found_in_context (0.00s)
--- PASS: TestNamespaceAuthorizer_Authorize/it_denies_for_invalid_namespace (0.00s)
--- PASS: TestNamespaceAuthorizer_Authorize/it_denies_when_identity_is_authenticated_for_another_namespace (0.00s)
--- PASS: TestNamespaceAuthorizer_Authorize/it_has_no_opinion_when_identity_is_authenticated_in_matching_namespace (0.00s)
--- PASS: TestNamespaceAuthorizer_Authorize/it_has_no_opinion_when_identity_is_authenticated_with_wildcard_namespace (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/auth	(cached)
?   	github.com/grafana/grafana/pkg/extensions/apiserver/cache	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apiserver/hg/cloudconfig/common	[no test files]
=== RUN   TestDataSourceStorage
=== RUN   TestDataSourceStorage/Get
=== RUN   TestDataSourceStorage/Get/should_return_the_datasource
=== RUN   TestDataSourceStorage/List
=== RUN   TestDataSourceStorage/List/should_return_the_datasources
=== RUN   TestDataSourceStorage/List/should_filter_datasources_based_on_its_type
--- PASS: TestDataSourceStorage (0.00s)
--- PASS: TestDataSourceStorage/Get (0.00s)
--- PASS: TestDataSourceStorage/Get/should_return_the_datasource (0.00s)
--- PASS: TestDataSourceStorage/List (0.00s)
--- PASS: TestDataSourceStorage/List/should_return_the_datasources (0.00s)
--- PASS: TestDataSourceStorage/List/should_filter_datasources_based_on_its_type (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/hg/cloudconfig/v0alpha1	(cached)
=== RUN   TestDataSourceStorage
=== RUN   TestDataSourceStorage/Get
=== RUN   TestDataSourceStorage/Get/should_return_the_datasource
=== RUN   TestDataSourceStorage/List
=== RUN   TestDataSourceStorage/List/should_return_the_datasources
=== RUN   TestDataSourceStorage/List/should_filter_datasources_based_on_its_type
--- PASS: TestDataSourceStorage (0.00s)
--- PASS: TestDataSourceStorage/Get (0.00s)
--- PASS: TestDataSourceStorage/Get/should_return_the_datasource (0.00s)
--- PASS: TestDataSourceStorage/List (0.00s)
--- PASS: TestDataSourceStorage/List/should_return_the_datasources (0.00s)
--- PASS: TestDataSourceStorage/List/should_filter_datasources_based_on_its_type (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/hg/cloudconfig/v0alpha2	(cached)
=== RUN   TestDatabaseProvider
=== RUN   TestDatabaseProvider/GetDB_should_return_a_DB_for_existing_server
=== RUN   TestDatabaseProvider/GetDB_should_return_error_for_non-existing_server
--- PASS: TestDatabaseProvider (0.26s)
--- PASS: TestDatabaseProvider/GetDB_should_return_a_DB_for_existing_server (0.26s)
--- PASS: TestDatabaseProvider/GetDB_should_return_error_for_non-existing_server (0.00s)
=== RUN   TestDatasourceLoaderInMemoryCache
=== RUN   TestDatasourceLoaderInMemoryCache/GetDatasource
=== RUN   TestDatasourceLoaderInMemoryCache/GetDatasource/should_get_datasource_if_cache_is_empty_and_store_it_in_cache
--- PASS: TestDatasourceLoaderInMemoryCache (0.24s)
--- PASS: TestDatasourceLoaderInMemoryCache/GetDatasource (0.00s)
--- PASS: TestDatasourceLoaderInMemoryCache/GetDatasource/should_get_datasource_if_cache_is_empty_and_store_it_in_cache (0.00s)
=== RUN   TestDatasourceLoader
=== RUN   TestDatasourceLoader/GetDataSource
=== RUN   TestDatasourceLoader/GetDataSource/should_return_an_error_if_missing
=== RUN   TestDatasourceLoader/GetDataSource/should_return_a_data_source
=== RUN   TestDatasourceLoader/ListDataSources
=== RUN   TestDatasourceLoader/ListDataSources/should_return_a_list_of_data_sources
=== RUN   TestDatasourceLoader/ListDataSources/should_filter_data_sources_based_on_its_type
--- PASS: TestDatasourceLoader (0.65s)
--- PASS: TestDatasourceLoader/GetDataSource (0.44s)
--- PASS: TestDatasourceLoader/GetDataSource/should_return_an_error_if_missing (0.22s)
--- PASS: TestDatasourceLoader/GetDataSource/should_return_a_data_source (0.22s)
--- PASS: TestDatasourceLoader/ListDataSources (0.22s)
--- PASS: TestDatasourceLoader/ListDataSources/should_return_a_list_of_data_sources (0.21s)
--- PASS: TestDatasourceLoader/ListDataSources/should_filter_data_sources_based_on_its_type (0.00s)
=== RUN   TestStackInfoLoaderCache
=== RUN   TestStackInfoLoaderCache/GetStackInfo
=== RUN   TestStackInfoLoaderCache/GetStackInfo/should_get_stack_info_if_cache_is_empty_and_store_it_in_cache
--- PASS: TestStackInfoLoaderCache (0.00s)
--- PASS: TestStackInfoLoaderCache/GetStackInfo (0.00s)
--- PASS: TestStackInfoLoaderCache/GetStackInfo/should_get_stack_info_if_cache_is_empty_and_store_it_in_cache (0.00s)
=== RUN   TestStackInfoLoader
=== RUN   TestStackInfoLoader/Unsuccessful_non-200_response
=== RUN   TestStackInfoLoader/Timeout_response
=== RUN   TestStackInfoLoader/Successful_200_JSON_response
--- PASS: TestStackInfoLoader (0.00s)
--- PASS: TestStackInfoLoader/Unsuccessful_non-200_response (0.00s)
--- PASS: TestStackInfoLoader/Timeout_response (0.00s)
--- PASS: TestStackInfoLoader/Successful_200_JSON_response (0.00s)
=== RUN   TestGetStackInfo_FromHGAPI
=== RUN   TestGetStackInfo_FromHGAPI/should_return_an_error_if_missing
=== RUN   TestGetStackInfo_FromHGAPI/should_error_if_there_are_too_many_rows
=== RUN   TestGetStackInfo_FromHGAPI/should_return_stack_info_if_available
=== RUN   TestGetStackInfo_FromHGAPI/should_discard_deleted_instances
--- PASS: TestGetStackInfo_FromHGAPI (0.01s)
--- PASS: TestGetStackInfo_FromHGAPI/should_return_an_error_if_missing (0.00s)
--- PASS: TestGetStackInfo_FromHGAPI/should_error_if_there_are_too_many_rows (0.00s)
--- PASS: TestGetStackInfo_FromHGAPI/should_return_stack_info_if_available (0.00s)
--- PASS: TestGetStackInfo_FromHGAPI/should_discard_deleted_instances (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/hg/loaders	(cached)
=== RUN   TestCachedMultiTenantSecretsStore
=== RUN   TestCachedMultiTenantSecretsStore/no_stackID_set_should_fail
=== RUN   TestCachedMultiTenantSecretsStore/with_stackID=1,_no_found_secret_should_not_cache
=== RUN   TestCachedMultiTenantSecretsStore/with_stackID=1,_error_should_not_cache
=== RUN   TestCachedMultiTenantSecretsStore/with_stackID=1,_found_secret_in_kv_store_should_cache
=== RUN   TestCachedMultiTenantSecretsStore/with_stackID=1,_found_secret_in_kv_store_should_cache/with_stackID=1,_updated_value_with_non-expired_cache_should_not_call_kv_store
=== RUN   TestCachedMultiTenantSecretsStore/with_stackID=1,_found_secret_in_kv_store_should_cache/with_stackID=2,_found_secret_in_kv_store_should_cache
--- PASS: TestCachedMultiTenantSecretsStore (0.00s)
--- PASS: TestCachedMultiTenantSecretsStore/no_stackID_set_should_fail (0.00s)
--- PASS: TestCachedMultiTenantSecretsStore/with_stackID=1,_no_found_secret_should_not_cache (0.00s)
--- PASS: TestCachedMultiTenantSecretsStore/with_stackID=1,_error_should_not_cache (0.00s)
--- PASS: TestCachedMultiTenantSecretsStore/with_stackID=1,_found_secret_in_kv_store_should_cache (0.00s)
--- PASS: TestCachedMultiTenantSecretsStore/with_stackID=1,_found_secret_in_kv_store_should_cache/with_stackID=1,_updated_value_with_non-expired_cache_should_not_call_kv_store (0.00s)
--- PASS: TestCachedMultiTenantSecretsStore/with_stackID=1,_found_secret_in_kv_store_should_cache/with_stackID=2,_found_secret_in_kv_store_should_cache (0.00s)
=== RUN   TestDecryptDataSourceSecrets
=== RUN   TestDecryptDataSourceSecrets/should_return_the_decrypted_datasource_secrets
--- PASS: TestDecryptDataSourceSecrets (0.27s)
--- PASS: TestDecryptDataSourceSecrets/should_return_the_decrypted_datasource_secrets (0.27s)
=== RUN   TestCfgFromStackInfo
--- PASS: TestCfgFromStackInfo (0.00s)
=== RUN   TestDecryptionCache
=== RUN   TestDecryptionCache/no_stackID_set_should_fail
=== RUN   TestDecryptionCache/with_stackID=1_and_empty_cache_should_add
=== RUN   TestDecryptionCache/with_stackID=1_and_empty_cache_should_add/should_not_update_cache_if_not_changed
=== RUN   TestDecryptionCache/with_stackID=1_and_empty_cache_should_add/should_not_update_cache_if_not_changed/should_update_cache_if_changed
=== RUN   TestDecryptionCache/with_stackID=1_and_empty_cache_should_add/with_stackID=2_should_add
--- PASS: TestDecryptionCache (0.00s)
--- PASS: TestDecryptionCache/no_stackID_set_should_fail (0.00s)
--- PASS: TestDecryptionCache/with_stackID=1_and_empty_cache_should_add (0.00s)
--- PASS: TestDecryptionCache/with_stackID=1_and_empty_cache_should_add/should_not_update_cache_if_not_changed (0.00s)
--- PASS: TestDecryptionCache/with_stackID=1_and_empty_cache_should_add/should_not_update_cache_if_not_changed/should_update_cache_if_changed (0.00s)
--- PASS: TestDecryptionCache/with_stackID=1_and_empty_cache_should_add/with_stackID=2_should_add (0.00s)
=== RUN   TestMultiTenantSecretsStore
=== RUN   TestMultiTenantSecretsStore/Get
=== RUN   TestMultiTenantSecretsStore/Get/should_return_the_secret
=== RUN   TestMultiTenantSecretsStore/Get/should_return_false_if_the_secret_does_not_exist
--- PASS: TestMultiTenantSecretsStore (0.00s)
--- PASS: TestMultiTenantSecretsStore/Get (0.00s)
--- PASS: TestMultiTenantSecretsStore/Get/should_return_the_secret (0.00s)
--- PASS: TestMultiTenantSecretsStore/Get/should_return_false_if_the_secret_does_not_exist (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/hg/loaders/datasourcesecrets	(cached)
?   	github.com/grafana/grafana/pkg/extensions/apiserver/hg/utils	[no test files]
=== RUN   TestMiddleware_AccessTokenClientMiddleware
--- PASS: TestMiddleware_AccessTokenClientMiddleware (0.00s)
=== RUN   TestMiddleware_getAPIGroupFromRequest
--- PASS: TestMiddleware_getAPIGroupFromRequest (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/middleware	(cached)
=== RUN   TestNewStaticStrategy
--- PASS: TestNewStaticStrategy (0.00s)
=== RUN   TestStaticStrategy_Limit
=== RUN   TestStaticStrategy_Limit/Default_limit
=== RUN   TestStaticStrategy_Limit/Override_limit
=== RUN   TestStaticStrategy_Limit/Non-existent_tenant_uses_default
--- PASS: TestStaticStrategy_Limit (0.00s)
--- PASS: TestStaticStrategy_Limit/Default_limit (0.00s)
--- PASS: TestStaticStrategy_Limit/Override_limit (0.00s)
--- PASS: TestStaticStrategy_Limit/Non-existent_tenant_uses_default (0.00s)
=== RUN   TestStaticStrategy_Burst
=== RUN   TestStaticStrategy_Burst/Default_burst
=== RUN   TestStaticStrategy_Burst/Override_burst
=== RUN   TestStaticStrategy_Burst/Non-existent_tenant_uses_default
--- PASS: TestStaticStrategy_Burst (0.00s)
--- PASS: TestStaticStrategy_Burst/Default_burst (0.00s)
--- PASS: TestStaticStrategy_Burst/Override_burst (0.00s)
--- PASS: TestStaticStrategy_Burst/Non-existent_tenant_uses_default (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/middleware/ratelimiter	(cached)
?   	github.com/grafana/grafana/pkg/extensions/apiserver/options	[no test files]
=== RUN   TestQueryData
=== RUN   TestQueryData/successful_request
=== RUN   TestQueryData/failed_request_with_500_status
=== RUN   TestQueryData/failed_request_with_400_status
=== RUN   TestQueryData/failed_request_with_400_status,_but_with_malformed_response
=== RUN   TestQueryData/malformed_response_with_ok_status_code
=== RUN   TestQueryData/headers_test
=== RUN   TestQueryData/404_k8s_error
=== RUN   TestQueryData/non-200_unexpected_error_format
=== RUN   TestQueryData/st_error-_invalid_datasource_id
--- PASS: TestQueryData (0.01s)
--- PASS: TestQueryData/successful_request (0.00s)
--- PASS: TestQueryData/failed_request_with_500_status (0.00s)
--- PASS: TestQueryData/failed_request_with_400_status (0.00s)
--- PASS: TestQueryData/failed_request_with_400_status,_but_with_malformed_response (0.00s)
--- PASS: TestQueryData/malformed_response_with_ok_status_code (0.00s)
--- PASS: TestQueryData/headers_test (0.00s)
--- PASS: TestQueryData/404_k8s_error (0.00s)
--- PASS: TestQueryData/non-200_unexpected_error_format (0.00s)
--- PASS: TestQueryData/st_error-_invalid_datasource_id (0.00s)
=== RUN   TestQueryDataBackoff
=== RUN   TestQueryDataBackoff/Successful_Query
=== RUN   TestQueryDataBackoff/Retry_On_500
=== RUN   TestQueryDataBackoff/Fail_On_All_Retries
=== RUN   TestQueryDataBackoff/Immediate_Client_Error
--- PASS: TestQueryDataBackoff (0.00s)
--- PASS: TestQueryDataBackoff/Successful_Query (0.00s)
--- PASS: TestQueryDataBackoff/Retry_On_500 (0.00s)
--- PASS: TestQueryDataBackoff/Fail_On_All_Retries (0.00s)
--- PASS: TestQueryDataBackoff/Immediate_Client_Error (0.00s)
=== RUN   TestMaxResponseSize
=== RUN   TestMaxResponseSize/successful_request,_no_limit
=== RUN   TestMaxResponseSize/successful_request,_at_exact_limit
=== RUN   TestMaxResponseSize/rejected_request,_exactly_below_the_limit
=== RUN   TestMaxResponseSize/successful_request
=== RUN   TestMaxResponseSize/rejected_request
--- PASS: TestMaxResponseSize (0.00s)
--- PASS: TestMaxResponseSize/successful_request,_no_limit (0.00s)
--- PASS: TestMaxResponseSize/successful_request,_at_exact_limit (0.00s)
--- PASS: TestMaxResponseSize/rejected_request,_exactly_below_the_limit (0.00s)
--- PASS: TestMaxResponseSize/successful_request (0.00s)
--- PASS: TestMaxResponseSize/rejected_request (0.00s)
=== RUN   TestGetDataSourceClient
=== RUN   TestGetDataSourceClient/should_not_be_a_comparison_client_for_prometheus,_when_passive_mode_is_disabled
--- PASS: TestGetDataSourceClient (0.00s)
--- PASS: TestGetDataSourceClient/should_not_be_a_comparison_client_for_prometheus,_when_passive_mode_is_disabled (0.00s)
=== RUN   TestGetDatasourceURL
=== RUN   TestGetDatasourceURL/should_give_datasource_+_channel_the_priority
=== RUN   TestGetDatasourceURL/if_no_channel_available,_should_use_the_datasource
=== RUN   TestGetDatasourceURL/should_return_not_okay_if_does_not_exist
--- PASS: TestGetDatasourceURL (0.00s)
--- PASS: TestGetDatasourceURL/should_give_datasource_+_channel_the_priority (0.00s)
--- PASS: TestGetDatasourceURL/if_no_channel_available,_should_use_the_datasource (0.00s)
--- PASS: TestGetDatasourceURL/should_return_not_okay_if_does_not_exist (0.00s)
=== RUN   TestRolledOutToInstance
=== RUN   TestRolledOutToInstance/should_rollout_to_all_instances_when_100%_rolled_out
=== RUN   TestRolledOutToInstance/should_rollout_if_right_on_the_cusp
=== RUN   TestRolledOutToInstance/will_rollout_if_not_specified_for_an_existing_datasource_url
=== RUN   TestRolledOutToInstance/should_not_rollout_if_not_in_rollout_group
=== RUN   TestRolledOutToInstance/should_not_rollout_if_0%_is_specified.
--- PASS: TestRolledOutToInstance (0.00s)
--- PASS: TestRolledOutToInstance/should_rollout_to_all_instances_when_100%_rolled_out (0.00s)
--- PASS: TestRolledOutToInstance/should_rollout_if_right_on_the_cusp (0.00s)
--- PASS: TestRolledOutToInstance/will_rollout_if_not_specified_for_an_existing_datasource_url (0.00s)
--- PASS: TestRolledOutToInstance/should_not_rollout_if_not_in_rollout_group (0.00s)
--- PASS: TestRolledOutToInstance/should_not_rollout_if_0%_is_specified. (0.00s)
=== RUN   TestMtDSIsEnabledOnInstance
=== RUN   TestMtDSIsEnabledOnInstance/return_true_when_configini_has_a_remote_server_addr
=== RUN   TestMtDSIsEnabledOnInstance/return_false_when_configini_has_a_remote_server_addr_of_empty_string
=== RUN   TestMtDSIsEnabledOnInstance/return_false_when_configini_has_a_plugin_key_but_not_a_remote_server_addr
=== RUN   TestMtDSIsEnabledOnInstance/return_false_when_configini_does_not_have_a_plugin_key
--- PASS: TestMtDSIsEnabledOnInstance (0.00s)
--- PASS: TestMtDSIsEnabledOnInstance/return_true_when_configini_has_a_remote_server_addr (0.00s)
--- PASS: TestMtDSIsEnabledOnInstance/return_false_when_configini_has_a_remote_server_addr_of_empty_string (0.00s)
--- PASS: TestMtDSIsEnabledOnInstance/return_false_when_configini_has_a_plugin_key_but_not_a_remote_server_addr (0.00s)
--- PASS: TestMtDSIsEnabledOnInstance/return_false_when_configini_does_not_have_a_plugin_key (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/query	(cached)
?   	github.com/grafana/grafana/pkg/extensions/apiserver/registry	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/apiserver/registry/banners	[no test files]
=== RUN   TestRender
{
"title": "Test",
"vars": [
{
"key": "metricName",
"defaultValues": [
"down"
],
"valueListDefinition": null
}
],
"targets": [
{
"variables": {
"metricName": [
{
"path": "$.expr",
"position": {
"start": 0,
"end": 10
}
},
{
"path": "$.expr",
"position": {
"start": 13,
"end": 23
}
}
]
},
"properties": {
"refId": "A",
"datasource": {
"type": "prometheus",
"uid": "foo"
},
"editorMode": "builder",
"exemplar": false,
"expr": "metricName + metricName + 42",
"instant": true,
"range":
}
}
]
}
--- PASS: TestRender (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/registry/querylibrary	(cached)
?   	github.com/grafana/grafana/pkg/extensions/apiserver/registry/reporting	[no test files]
=== RUN   TestPlugins
=== RUN   TestPlugins/no_plugins_enabled
=== RUN   TestPlugins/some_plugins_enabled
=== RUN   TestPlugins/error_listing_plugins
=== RUN   TestPlugins/store_not_initialized
--- PASS: TestPlugins (0.00s)
--- PASS: TestPlugins/no_plugins_enabled (0.00s)
--- PASS: TestPlugins/some_plugins_enabled (0.00s)
--- PASS: TestPlugins/error_listing_plugins (0.00s)
--- PASS: TestPlugins/store_not_initialized (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/registry/sandboxsettings	(cached)
=== RUN   TestSCIMService_CreateTeam
=== PAUSE TestSCIMService_CreateTeam
=== RUN   TestSCIMService_GetTeam
=== PAUSE TestSCIMService_GetTeam
=== RUN   TestSCIMService_GetTeams
=== PAUSE TestSCIMService_GetTeams
=== RUN   TestSCIMService_DeleteTeam
=== PAUSE TestSCIMService_DeleteTeam
=== RUN   TestSCIMService_CreateUser
=== PAUSE TestSCIMService_CreateUser
=== RUN   TestSCIMService_GetUser
=== RUN   TestSCIMService_GetUser/it_should_return_error_when_user_id_is_not_provided
=== RUN   TestSCIMService_GetUser/it_should_return_error_when_failing_to_get_user_by_uid
=== RUN   TestSCIMService_GetUser/it_should_return_user_with_the_given_id
--- PASS: TestSCIMService_GetUser (0.30s)
--- PASS: TestSCIMService_GetUser/it_should_return_error_when_user_id_is_not_provided (0.00s)
--- PASS: TestSCIMService_GetUser/it_should_return_error_when_failing_to_get_user_by_uid (0.00s)
--- PASS: TestSCIMService_GetUser/it_should_return_user_with_the_given_id (0.00s)
=== RUN   TestSCIMService_GetUsers
=== RUN   TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_all_results_if_no_startIndex_or_count_set
=== RUN   TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_paginated_results_if_count_set
=== RUN   TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_paginated_results_if_startIndex_set
=== RUN   TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_paginated_results_if_startIndex_and_count_set
=== RUN   TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_return_paginated_results_if_count_exceeds_remaining_users
=== RUN   TestSCIMService_GetUsers/it_should_fail_with_invalid_filter_query_format
=== RUN   TestSCIMService_GetUsers/it_should_fail_with_an_invalid_filter_operator
=== RUN   TestSCIMService_GetUsers/it_should_return_only_the_user_with_the_given_userName_with_spaces
--- PASS: TestSCIMService_GetUsers (0.01s)
--- PASS: TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_all_results_if_no_startIndex_or_count_set (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_paginated_results_if_count_set (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_paginated_results_if_startIndex_set (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_fetch_paginated_results_if_startIndex_and_count_set (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_succeed_with_empty_filter_query_and_return_paginated_results_if_count_exceeds_remaining_users (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_fail_with_invalid_filter_query_format (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_fail_with_an_invalid_filter_operator (0.00s)
--- PASS: TestSCIMService_GetUsers/it_should_return_only_the_user_with_the_given_userName_with_spaces (0.00s)
=== RUN   TestSCIMService_DeleteUser
=== RUN   TestSCIMService_DeleteUser/it_should_return_error_when_user_id_is_not_provided
=== RUN   TestSCIMService_DeleteUser/it_should_return_error_when_unable_to_find_user
=== RUN   TestSCIMService_DeleteUser/it_should_return_error_when_unable_to_delete_user
=== RUN   TestSCIMService_DeleteUser/it_should_delete_user
--- PASS: TestSCIMService_DeleteUser (0.01s)
--- PASS: TestSCIMService_DeleteUser/it_should_return_error_when_user_id_is_not_provided (0.00s)
--- PASS: TestSCIMService_DeleteUser/it_should_return_error_when_unable_to_find_user (0.00s)
--- PASS: TestSCIMService_DeleteUser/it_should_return_error_when_unable_to_delete_user (0.00s)
--- PASS: TestSCIMService_DeleteUser/it_should_delete_user (0.00s)
=== RUN   TestSCIMService_UpdateUserAttributes
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_return_error_when_user_id_is_not_provided
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_return_unknown_error_when_fetching_the_user
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_fail_if_the_patch_uri_is_incorrect
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_fail_if_there_is_no_patch_operation
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_if_the_patch_operation_is_invalid
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_fail_to_update_user_for_unknown_errors
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_update_user
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_update_the_active_user_field_with_boolean_values
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_update_the_active_user_field_with_string_values
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_not_update_the_email_user_field_if_the_email_type_is_not_work
=== RUN   TestSCIMService_UpdateUserAttributes/it_should__update_the_email_user_field_if_the_email_type_is__work
=== RUN   TestSCIMService_UpdateUserAttributes/it_should_fail_to_update_user_fields_when_invalid_type_is_provided
--- PASS: TestSCIMService_UpdateUserAttributes (0.02s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_return_error_when_user_id_is_not_provided (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_return_unknown_error_when_fetching_the_user (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_fail_if_the_patch_uri_is_incorrect (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_fail_if_there_is_no_patch_operation (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_if_the_patch_operation_is_invalid (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_fail_to_update_user_for_unknown_errors (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_update_user (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_update_the_active_user_field_with_boolean_values (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_update_the_active_user_field_with_string_values (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_not_update_the_email_user_field_if_the_email_type_is_not_work (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should__update_the_email_user_field_if_the_email_type_is__work (0.00s)
--- PASS: TestSCIMService_UpdateUserAttributes/it_should_fail_to_update_user_fields_when_invalid_type_is_provided (0.00s)
=== RUN   TestSCIMService_UpdateUser
=== RUN   TestSCIMService_UpdateUser/it_should_return_error_when_schema_is_not_provided
=== RUN   TestSCIMService_UpdateUser/it_should_return_error_when_user_is_not_found
=== RUN   TestSCIMService_UpdateUser/it_should_return_error_when_userName_is_empty
=== RUN   TestSCIMService_UpdateUser/it_should_return_error_when_email_is_empty
=== RUN   TestSCIMService_UpdateUser/it_should_return_error_when_update_fails
=== RUN   TestSCIMService_UpdateUser/it_should_return_error_when_get_user_after_update_fails
=== RUN   TestSCIMService_UpdateUser/it_should_successfully_update_user
--- PASS: TestSCIMService_UpdateUser (0.01s)
--- PASS: TestSCIMService_UpdateUser/it_should_return_error_when_schema_is_not_provided (0.00s)
--- PASS: TestSCIMService_UpdateUser/it_should_return_error_when_user_is_not_found (0.00s)
--- PASS: TestSCIMService_UpdateUser/it_should_return_error_when_userName_is_empty (0.00s)
--- PASS: TestSCIMService_UpdateUser/it_should_return_error_when_email_is_empty (0.00s)
--- PASS: TestSCIMService_UpdateUser/it_should_return_error_when_update_fails (0.00s)
--- PASS: TestSCIMService_UpdateUser/it_should_return_error_when_get_user_after_update_fails (0.00s)
--- PASS: TestSCIMService_UpdateUser/it_should_successfully_update_user (0.00s)
=== CONT  TestSCIMService_CreateTeam
=== RUN   TestSCIMService_CreateTeam/should_create_team_successfully
=== PAUSE TestSCIMService_CreateTeam/should_create_team_successfully
=== RUN   TestSCIMService_CreateTeam/should_return_error_when_team_name_is_empty
=== PAUSE TestSCIMService_CreateTeam/should_return_error_when_team_name_is_empty
=== RUN   TestSCIMService_CreateTeam/should_return_error_when_schema_is_missing
=== PAUSE TestSCIMService_CreateTeam/should_return_error_when_schema_is_missing
=== CONT  TestSCIMService_GetTeams
=== RUN   TestSCIMService_CreateTeam/should_return_error_when_team_creation_fails
=== PAUSE TestSCIMService_CreateTeam/should_return_error_when_team_creation_fails
=== CONT  TestSCIMService_CreateTeam/should_create_team_successfully
=== RUN   TestSCIMService_GetTeams/should_return_no_results
=== PAUSE TestSCIMService_GetTeams/should_return_no_results
=== RUN   TestSCIMService_GetTeams/should_return_error_when_team_service_fails
=== PAUSE TestSCIMService_GetTeams/should_return_error_when_team_service_fails
=== CONT  TestSCIMService_GetTeams/should_return_no_results
=== CONT  TestSCIMService_GetTeam
=== RUN   TestSCIMService_GetTeam/should_get_team_successfully
=== PAUSE TestSCIMService_GetTeam/should_get_team_successfully
=== RUN   TestSCIMService_GetTeam/should_return_error_when_team_not_found
=== PAUSE TestSCIMService_GetTeam/should_return_error_when_team_not_found
=== CONT  TestSCIMService_CreateTeam/should_return_error_when_team_creation_fails
=== RUN   TestSCIMService_GetTeam/should_return_error_when_team_service_fails
=== PAUSE TestSCIMService_GetTeam/should_return_error_when_team_service_fails
=== CONT  TestSCIMService_GetTeam/should_get_team_successfully
=== CONT  TestSCIMService_DeleteTeam
=== RUN   TestSCIMService_DeleteTeam/should_delete_team_successfully
=== PAUSE TestSCIMService_DeleteTeam/should_delete_team_successfully
=== CONT  TestSCIMService_GetTeam/should_return_error_when_team_not_found
=== RUN   TestSCIMService_DeleteTeam/should_return_error_when_team_not_found_during_lookup
=== PAUSE TestSCIMService_DeleteTeam/should_return_error_when_team_not_found_during_lookup
=== RUN   TestSCIMService_DeleteTeam/should_return_error_when_team_service_fails_unexpectedly
=== PAUSE TestSCIMService_DeleteTeam/should_return_error_when_team_service_fails_unexpectedly
=== CONT  TestSCIMService_GetTeams/should_return_error_when_team_service_fails
=== CONT  TestSCIMService_CreateTeam/should_return_error_when_team_name_is_empty
=== CONT  TestSCIMService_DeleteTeam/should_return_error_when_team_service_fails_unexpectedly
--- PASS: TestSCIMService_GetTeams (0.00s)
--- PASS: TestSCIMService_GetTeams/should_return_no_results (0.00s)
--- PASS: TestSCIMService_GetTeams/should_return_error_when_team_service_fails (0.00s)
=== CONT  TestSCIMService_CreateUser
=== RUN   TestSCIMService_CreateUser/it_should_create_user
=== CONT  TestSCIMService_DeleteTeam/should_return_error_when_team_not_found_during_lookup
=== CONT  TestSCIMService_CreateTeam/should_return_error_when_schema_is_missing
--- PASS: TestSCIMService_CreateTeam (0.00s)
--- PASS: TestSCIMService_CreateTeam/should_create_team_successfully (0.00s)
--- PASS: TestSCIMService_CreateTeam/should_return_error_when_team_creation_fails (0.00s)
--- PASS: TestSCIMService_CreateTeam/should_return_error_when_team_name_is_empty (0.00s)
--- PASS: TestSCIMService_CreateTeam/should_return_error_when_schema_is_missing (0.00s)
=== CONT  TestSCIMService_DeleteTeam/should_delete_team_successfully
--- PASS: TestSCIMService_DeleteTeam (0.00s)
--- PASS: TestSCIMService_DeleteTeam/should_return_error_when_team_service_fails_unexpectedly (0.00s)
--- PASS: TestSCIMService_DeleteTeam/should_return_error_when_team_not_found_during_lookup (0.00s)
--- PASS: TestSCIMService_DeleteTeam/should_delete_team_successfully (0.00s)
=== CONT  TestSCIMService_GetTeam/should_return_error_when_team_service_fails
--- PASS: TestSCIMService_GetTeam (0.00s)
--- PASS: TestSCIMService_GetTeam/should_get_team_successfully (0.00s)
--- PASS: TestSCIMService_GetTeam/should_return_error_when_team_not_found (0.00s)
--- PASS: TestSCIMService_GetTeam/should_return_error_when_team_service_fails (0.00s)
=== RUN   TestSCIMService_CreateUser/it_should_return_error_when_userName_is_empty
=== RUN   TestSCIMService_CreateUser/it_should_return_error_when_email_is_empty
=== RUN   TestSCIMService_CreateUser/it_should_return_error_when_user_schema_is_empty
=== RUN   TestSCIMService_CreateUser/it_should_return_error_when_check_user_quota_fails
=== RUN   TestSCIMService_CreateUser/it_should_return_error_when_user_quota_is_exceeded
=== RUN   TestSCIMService_CreateUser/it_should_return_error_when_user_look_up_fails
=== RUN   TestSCIMService_CreateUser/it_should_handle_errors_when_user_is_created
=== RUN   TestSCIMService_CreateUser/it_should_handle_GetAuthInfo_returning_user_not_found
=== RUN   TestSCIMService_CreateUser/it_should_handle_DeleteUserAuthInfo_returning_user_not_found
--- PASS: TestSCIMService_CreateUser (0.02s)
--- PASS: TestSCIMService_CreateUser/it_should_create_user (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_return_error_when_userName_is_empty (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_return_error_when_email_is_empty (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_return_error_when_user_schema_is_empty (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_return_error_when_check_user_quota_fails (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_return_error_when_user_quota_is_exceeded (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_return_error_when_user_look_up_fails (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_handle_errors_when_user_is_created (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_handle_GetAuthInfo_returning_user_not_found (0.00s)
--- PASS: TestSCIMService_CreateUser/it_should_handle_DeleteUserAuthInfo_returning_user_not_found (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/registry/scim	(cached)
=== RUN   TestGetDefaultNavigationItems
=== RUN   TestGetDefaultNavigationItems/when_features_are_disabled
=== RUN   TestGetDefaultNavigationItems/when_only_metrics_explore_feature_is_enabled
=== RUN   TestGetDefaultNavigationItems/when_only_logs_feature_is_enabled
=== RUN   TestGetDefaultNavigationItems/when_both_features_are_enabled
--- PASS: TestGetDefaultNavigationItems (0.00s)
--- PASS: TestGetDefaultNavigationItems/when_features_are_disabled (0.00s)
--- PASS: TestGetDefaultNavigationItems/when_only_metrics_explore_feature_is_enabled (0.00s)
--- PASS: TestGetDefaultNavigationItems/when_only_logs_feature_is_enabled (0.00s)
--- PASS: TestGetDefaultNavigationItems/when_both_features_are_enabled (0.00s)
=== RUN   TestFilterAndAppendItem
--- PASS: TestFilterAndAppendItem (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/registry/scope	(cached)
=== RUN   TestGet
=== RUN   TestGet/GetAnalyticsForDashboard1
=== RUN   TestGet/GetAnalyticsForDashboard2_-_no_stats_today
=== RUN   TestGet/GetAnalyticsForDashboard-NotExistent
=== RUN   TestGet/GetAnalyticsForDashboard-WrongOrg
--- PASS: TestGet (0.28s)
--- PASS: TestGet/GetAnalyticsForDashboard1 (0.00s)
--- PASS: TestGet/GetAnalyticsForDashboard2_-_no_stats_today (0.00s)
--- PASS: TestGet/GetAnalyticsForDashboard-NotExistent (0.00s)
--- PASS: TestGet/GetAnalyticsForDashboard-WrongOrg (0.00s)
=== RUN   TestList
=== RUN   TestList/ListDashboardAnalytics-Org1
=== RUN   TestList/ListDashboardAnalytics-Org2
--- PASS: TestList (0.00s)
--- PASS: TestList/ListDashboardAnalytics-Org1 (0.00s)
--- PASS: TestList/ListDashboardAnalytics-Org2 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/registry/usageinsights	(cached)
=== RUN   TestIntegrationOpenAPIs
openapi_test.go:25: skipping integration test
--- SKIP: TestIntegrationOpenAPIs (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/tests	0.576s
=== RUN   TestIntegrationReportingAPIServer
reporting_test.go:29: skipping integration test
--- SKIP: TestIntegrationReportingAPIServer (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/tests/reporting	0.526s
=== RUN   TestSCIM_E2E_Provisioning
scim_e2e_test.go:82: skipping E2E test
--- SKIP: TestSCIM_E2E_Provisioning (0.00s)
=== RUN   TestSCIM_Integration
scim_integration_test.go:32: skipping Integration test
--- SKIP: TestSCIM_Integration (0.00s)
=== RUN   TestSCIM_CRUD_Endpoints_test
scim_integration_test.go:54: skipping CreateUsers integration test
--- SKIP: TestSCIM_CRUD_Endpoints_test (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/tests/scim	0.591s
=== RUN   TestIntegrationScopeNodesExample
scope_nodes_example_test.go:20: skipping integration test in short mode.
--- SKIP: TestIntegrationScopeNodesExample (0.00s)
=== RUN   TestIntegrationScopes
scopes_test.go:26: skipping integration test
--- SKIP: TestIntegrationScopes (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/apiserver/tests/scopes	0.586s
?   	github.com/grafana/grafana/pkg/extensions/apiserver/util	[no test files]
=== RUN   TestBuildLogFromLoginLogCmd
=== RUN   TestBuildLogFromLoginLogCmd/Grafana_login_failure_-_invalid_credentials
=== RUN   TestBuildLogFromLoginLogCmd/Grafana_login_success
=== RUN   TestBuildLogFromLoginLogCmd/OAuth_login_success
--- PASS: TestBuildLogFromLoginLogCmd (0.01s)
--- PASS: TestBuildLogFromLoginLogCmd/Grafana_login_failure_-_invalid_credentials (0.00s)
--- PASS: TestBuildLogFromLoginLogCmd/Grafana_login_success (0.00s)
--- PASS: TestBuildLogFromLoginLogCmd/OAuth_login_success (0.00s)
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/IsDisabled_should_return_true_when_auditing_is_disabled_by_token
=== RUN   TestFeatureToggle/IsDisabled_should_return_false_when_auditing_is_enabled_by_token
=== RUN   TestFeatureToggle/Should_do_nothing_on_Log_when_auditing_is_disabled_by_token
=== RUN   TestFeatureToggle/Should_send_log_to_channel_on_Log_when_auditing_is_enabled_by_token
=== RUN   TestFeatureToggle/Should_do_nothing_on_SendBillingLog_when_auditing_is_disabled_by_token
=== RUN   TestFeatureToggle/Should_send_log_to_channel_on_SendBillingLog_when_auditing_is_enabled_by_token
=== RUN   TestFeatureToggle/Should_do_nothing_on_SendLogoutLog_when_auditing_is_disabled_by_token
=== RUN   TestFeatureToggle/Should_send_log_to_channel_on_SendLogoutLog_when_auditing_is_enabled_by_token
--- PASS: TestFeatureToggle (0.29s)
--- PASS: TestFeatureToggle/IsDisabled_should_return_true_when_auditing_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/IsDisabled_should_return_false_when_auditing_is_enabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_do_nothing_on_Log_when_auditing_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_send_log_to_channel_on_Log_when_auditing_is_enabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_do_nothing_on_SendBillingLog_when_auditing_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_send_log_to_channel_on_SendBillingLog_when_auditing_is_enabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_do_nothing_on_SendLogoutLog_when_auditing_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Should_send_log_to_channel_on_SendLogoutLog_when_auditing_is_enabled_by_token (0.00s)
=== RUN   TestMiddleware_ResourceRetrieval
=== RUN   TestMiddleware_ResourceRetrieval/resource_ID_in_request_parameters
=== RUN   TestMiddleware_ResourceRetrieval/resource_ID_in_response
=== RUN   TestMiddleware_ResourceRetrieval/resource_ID_in_user
=== RUN   TestMiddleware_ResourceRetrieval/resource_ID_in_org
=== RUN   TestMiddleware_ResourceRetrieval/multiple_resources_-_resource_ID_in_request_body
=== RUN   TestMiddleware_ResourceRetrieval/resource_ID_in_JSON_object_in_request
=== RUN   TestMiddleware_ResourceRetrieval/resource_ID_&_UID_in_JSON_object_in_response
=== RUN   TestMiddleware_ResourceRetrieval/resource_UIDs_in_params
=== RUN   TestMiddleware_ResourceRetrieval/resource_UIDs_in_request_handlers
--- PASS: TestMiddleware_ResourceRetrieval (0.91s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_ID_in_request_parameters (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_ID_in_response (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_ID_in_user (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_ID_in_org (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/multiple_resources_-_resource_ID_in_request_body (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_ID_in_JSON_object_in_request (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_ID_&_UID_in_JSON_object_in_response (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_UIDs_in_params (0.10s)
--- PASS: TestMiddleware_ResourceRetrieval/resource_UIDs_in_request_handlers (0.10s)
=== RUN   TestMiddleware_VerboseLogging
=== RUN   TestMiddleware_VerboseLogging/uncovered_GET_endpoint
=== RUN   TestMiddleware_VerboseLogging/uncovered_POST_endpoint
=== RUN   TestMiddleware_VerboseLogging/can_parse_error_messages_of_string_type
=== RUN   TestMiddleware_VerboseLogging/skips_error_messages_of_non-string_type
=== RUN   TestMiddleware_VerboseLogging/can_parse_error_messages_from_the_error_field
--- PASS: TestMiddleware_VerboseLogging (1.01s)
--- PASS: TestMiddleware_VerboseLogging/uncovered_GET_endpoint (0.20s)
--- PASS: TestMiddleware_VerboseLogging/uncovered_POST_endpoint (0.20s)
--- PASS: TestMiddleware_VerboseLogging/can_parse_error_messages_of_string_type (0.20s)
--- PASS: TestMiddleware_VerboseLogging/skips_error_messages_of_non-string_type (0.20s)
--- PASS: TestMiddleware_VerboseLogging/can_parse_error_messages_from_the_error_field (0.20s)
=== RUN   TestMiddleware_VerboseLoggingDisabled
=== RUN   TestMiddleware_VerboseLoggingDisabled/uncovered_endpoint
=== RUN   TestMiddleware_VerboseLoggingDisabled/uncovered_POST_endpoint
--- PASS: TestMiddleware_VerboseLoggingDisabled (0.40s)
--- PASS: TestMiddleware_VerboseLoggingDisabled/uncovered_endpoint (0.20s)
--- PASS: TestMiddleware_VerboseLoggingDisabled/uncovered_POST_endpoint (0.20s)
=== RUN   TestMiddleware_LogAllStatusCodesDisabled
--- PASS: TestMiddleware_LogAllStatusCodesDisabled (0.10s)
=== RUN   TestMiddleware_NonValidJSON
=== RUN   TestMiddleware_NonValidJSON/non-valid_json_request
=== RUN   TestMiddleware_NonValidJSON/non-valid_json_response
--- PASS: TestMiddleware_NonValidJSON (0.20s)
--- PASS: TestMiddleware_NonValidJSON/non-valid_json_request (0.10s)
--- PASS: TestMiddleware_NonValidJSON/non-valid_json_response (0.10s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/auditing	3.503s
=== RUN   TestLogEntryMarshalJSON
--- PASS: TestLogEntryMarshalJSON (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/auditing/auditmodels	(cached)
=== RUN   TestNewFileLogger
file_test.go:55: running cleanup
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit.log
--- PASS: TestNewFileLogger (0.00s)
=== RUN   TestLogfileDeleted
file_test.go:103: running cleanup
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit.log
--- PASS: TestLogfileDeleted (0.00s)
=== RUN   TestLoggingBuffer
file_test.go:128: running cleanup
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit.log
--- PASS: TestLoggingBuffer (0.00s)
=== RUN   TestRotateLogFileWhenDateChanged
file_test.go:180: running cleanup
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-02.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-03.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-04.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-05.log
--- PASS: TestRotateLogFileWhenDateChanged (5.01s)
=== RUN   TestRotateLogFileWhenTooLarge
file_test.go:210: running cleanup
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-01_1.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-01_2.log
--- PASS: TestRotateLogFileWhenTooLarge (0.00s)
=== RUN   TestCombineRotationOnBothSizeAndDay
file_test.go:238: running cleanup
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-01.log
file_test.go:288: Removing /tmp/audit-log-test3090294241/audit_2020-09-01_1.log
--- PASS: TestCombineRotationOnBothSizeAndDay (0.00s)
=== RUN   TestLokiGRPCWriter_Log_WithSuccess
--- PASS: TestLokiGRPCWriter_Log_WithSuccess (0.01s)
=== RUN   TestLokiGRPCWriter_Log_WithTimeout
--- PASS: TestLokiGRPCWriter_Log_WithTimeout (0.05s)
=== RUN   TestLokiGRPCWriter_Log_WithRetries
--- PASS: TestLokiGRPCWriter_Log_WithRetries (0.10s)
=== RUN   TestLokiHTTPWriter_Log
--- PASS: TestLokiHTTPWriter_Log (0.00s)
=== RUN   TestLokiHTTPWriter_BuildURL
=== RUN   TestLokiHTTPWriter_BuildURL/valid_http_URL
=== RUN   TestLokiHTTPWriter_BuildURL/valid_https_URL
=== RUN   TestLokiHTTPWriter_BuildURL/valid_URL_replacing_http_by_https_when_TLS_is_enabled
=== RUN   TestLokiHTTPWriter_BuildURL/valid_http_URL_with_credentials
=== RUN   TestLokiHTTPWriter_BuildURL/valid_https_URL_with_credentials
=== RUN   TestLokiHTTPWriter_BuildURL/valid_schemeless_URL_with_credentials
=== RUN   TestLokiHTTPWriter_BuildURL/invalid_URL
--- PASS: TestLokiHTTPWriter_BuildURL (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/valid_http_URL (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/valid_https_URL (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/valid_URL_replacing_http_by_https_when_TLS_is_enabled (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/valid_http_URL_with_credentials (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/valid_https_URL_with_credentials (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/valid_schemeless_URL_with_credentials (0.00s)
--- PASS: TestLokiHTTPWriter_BuildURL/invalid_URL (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/auditing/loggers	(cached)
=== RUN   TestUserAuthToken_checkUserLimits
=== RUN   TestUserAuthToken_checkUserLimits/limit_reached_-_regular_user_-_errLicenseLimitReached
=== RUN   TestUserAuthToken_checkUserLimits/limit_reached_-_regular_user_-_active_-_no_error
=== RUN   TestUserAuthToken_checkUserLimits/limit_not_reached_-_regular_user_-_no_error
=== RUN   TestUserAuthToken_checkUserLimits/limit_not_reached_-_admin_user_-_no_error
=== RUN   TestUserAuthToken_checkUserLimits/limit_reached_-_admin_user_-_no_error
=== RUN   TestUserAuthToken_checkUserLimits/limit_reached_-_grafana.com_user_-_no_error
--- PASS: TestUserAuthToken_checkUserLimits (0.33s)
--- PASS: TestUserAuthToken_checkUserLimits/limit_reached_-_regular_user_-_errLicenseLimitReached (0.32s)
--- PASS: TestUserAuthToken_checkUserLimits/limit_reached_-_regular_user_-_active_-_no_error (0.00s)
--- PASS: TestUserAuthToken_checkUserLimits/limit_not_reached_-_regular_user_-_no_error (0.00s)
--- PASS: TestUserAuthToken_checkUserLimits/limit_not_reached_-_admin_user_-_no_error (0.00s)
--- PASS: TestUserAuthToken_checkUserLimits/limit_reached_-_admin_user_-_no_error (0.00s)
--- PASS: TestUserAuthToken_checkUserLimits/limit_reached_-_grafana.com_user_-_no_error (0.00s)
=== RUN   TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes
=== RUN   TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/max_concurrent_sessions_reached
=== RUN   TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/max_concurrent_sessions_reached_a_lot_of_tokens_created
=== RUN   TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/-1_max_concurrent_sessions_acts_as_unlimited
=== RUN   TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/0_max_concurrent_sessions_acts_as_unlimited
=== RUN   TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/max_concurrent_sessions_not_reached
--- PASS: TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes (0.03s)
--- PASS: TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/max_concurrent_sessions_reached (0.00s)
--- PASS: TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/max_concurrent_sessions_reached_a_lot_of_tokens_created (0.01s)
--- PASS: TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/-1_max_concurrent_sessions_acts_as_unlimited (0.00s)
--- PASS: TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/0_max_concurrent_sessions_acts_as_unlimited (0.00s)
--- PASS: TestIntegrationUserAuthToken_CreateTokenRevokesOldestOnes/max_concurrent_sessions_not_reached (0.00s)
=== RUN   TestIntegrationUserAuthToken_CreateTokenKeepsRevokedNow
--- PASS: TestIntegrationUserAuthToken_CreateTokenKeepsRevokedNow (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/auth	(cached)
?   	github.com/grafana/grafana/pkg/extensions/auth/idimpl	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/backgroundsvcs	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/bannersettings	[no test files]
=== RUN   Test_GetBillingRole
=== RUN   Test_GetBillingRole/Viewer_with_no_permission
=== RUN   Test_GetBillingRole/Editor_with_no_permission
=== RUN   Test_GetBillingRole/Admin_on_one_org_and_editor_on_another_org
=== RUN   Test_GetBillingRole/Grafana_Admin
--- PASS: Test_GetBillingRole (0.31s)
--- PASS: Test_GetBillingRole/Viewer_with_no_permission (0.00s)
--- PASS: Test_GetBillingRole/Editor_with_no_permission (0.00s)
--- PASS: Test_GetBillingRole/Admin_on_one_org_and_editor_on_another_org (0.00s)
--- PASS: Test_GetBillingRole/Grafana_Admin (0.00s)
=== RUN   TestBilling_GetUserOrgRoles
=== RUN   TestBilling_GetUserOrgRoles/User_without_any_org
=== RUN   TestBilling_GetUserOrgRoles/User_with_one_org
=== RUN   TestBilling_GetUserOrgRoles/User_with_multiple_orgs
--- PASS: TestBilling_GetUserOrgRoles (0.01s)
--- PASS: TestBilling_GetUserOrgRoles/User_without_any_org (0.00s)
--- PASS: TestBilling_GetUserOrgRoles/User_with_one_org (0.00s)
--- PASS: TestBilling_GetUserOrgRoles/User_with_multiple_orgs (0.00s)
=== RUN   TestBilling_CreateUpdateFetchBillingRole
=== RUN   TestBilling_CreateUpdateFetchBillingRole/No_data_to_fetch
=== RUN   TestBilling_CreateUpdateFetchBillingRole/Insert_first_billing_role
=== RUN   TestBilling_CreateUpdateFetchBillingRole/Update_first_billing_role
=== RUN   TestBilling_CreateUpdateFetchBillingRole/Insert_multiple_billing_roles
--- PASS: TestBilling_CreateUpdateFetchBillingRole (0.00s)
--- PASS: TestBilling_CreateUpdateFetchBillingRole/No_data_to_fetch (0.00s)
--- PASS: TestBilling_CreateUpdateFetchBillingRole/Insert_first_billing_role (0.00s)
--- PASS: TestBilling_CreateUpdateFetchBillingRole/Update_first_billing_role (0.00s)
--- PASS: TestBilling_CreateUpdateFetchBillingRole/Insert_multiple_billing_roles (0.00s)
=== RUN   TestBilling_GetActiveUserStats
=== RUN   TestBilling_GetActiveUserStats/Should_exclude_users_who_have_not_been_seen_after_defined_max_active_lifetime_limit
=== RUN   TestBilling_GetActiveUserStats/Should_count_@grafana.com_users_towards_ExcludedCount
=== RUN   TestBilling_GetActiveUserStats/Should_not_count_service_accounts_as_billable_users
--- PASS: TestBilling_GetActiveUserStats (0.00s)
--- PASS: TestBilling_GetActiveUserStats/Should_exclude_users_who_have_not_been_seen_after_defined_max_active_lifetime_limit (0.00s)
--- PASS: TestBilling_GetActiveUserStats/Should_count_@grafana.com_users_towards_ExcludedCount (0.00s)
--- PASS: TestBilling_GetActiveUserStats/Should_not_count_service_accounts_as_billable_users (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/billing	(cached)
?   	github.com/grafana/grafana/pkg/extensions/billing/billingroles	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/build	[no test files]
=== RUN   Test_Service_ProvideService
=== RUN   Test_Service_ProvideService/should_not_init_if_feature_is_not_enabled
=== RUN   Test_Service_ProvideService/should_init_when_config_enabled_and_enterprise_token_service
--- PASS: Test_Service_ProvideService (0.29s)
--- PASS: Test_Service_ProvideService/should_not_init_if_feature_is_not_enabled (0.00s)
--- PASS: Test_Service_ProvideService/should_init_when_config_enabled_and_enterprise_token_service (0.00s)
=== RUN   Test_Service_IsDisabled
=== RUN   Test_Service_IsDisabled/should_be_disabled_when_config_enabled_and_OSS_token_service
=== RUN   Test_Service_IsDisabled/should_be_disabled_when_config_not_enabled_and_OSS_token_service
=== RUN   Test_Service_IsDisabled/should_be_enabled_when_config_enabled_and_enterprise_token_service
=== RUN   Test_Service_IsDisabled/should_not_be_enabled_when_config_not_enabled_and_enterprise_token_service
--- PASS: Test_Service_IsDisabled (0.00s)
--- PASS: Test_Service_IsDisabled/should_be_disabled_when_config_enabled_and_OSS_token_service (0.00s)
--- PASS: Test_Service_IsDisabled/should_be_disabled_when_config_not_enabled_and_OSS_token_service (0.00s)
--- PASS: Test_Service_IsDisabled/should_be_enabled_when_config_enabled_and_enterprise_token_service (0.00s)
--- PASS: Test_Service_IsDisabled/should_not_be_enabled_when_config_not_enabled_and_enterprise_token_service (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/caching	(cached)
=== RUN   Test_APIHandlers
=== RUN   Test_APIHandlers/Test_HandleGetCacheConfig
=== RUN   Test_APIHandlers/Test_HandleGetCacheConfig/should_parse_dataSourceUID_param_and_return_the_getConfig
=== RUN   Test_APIHandlers/Test_HandleGetCacheConfig/should_return_500_when_service_error
=== RUN   Test_APIHandlers/Test_HandleSetCacheConfig
=== RUN   Test_APIHandlers/Test_HandleSetCacheConfig/should_parse_dataSourceUID_param,_unmarshal_the_payload,_and_return_the_getConfig
=== RUN   Test_APIHandlers/Test_HandleSetCacheConfig/should_return_500_when_service_error
=== RUN   Test_APIHandlers/Test_HandleEnableCache
=== RUN   Test_APIHandlers/Test_HandleEnableCache/should_parse_dataSourceUID_param_and_return_the_getConfig
=== RUN   Test_APIHandlers/Test_HandleEnableCache/should_return_500_when_service_error
=== RUN   Test_APIHandlers/Test_HandleDisableCache
=== RUN   Test_APIHandlers/Test_HandleDisableCache/should_parse_dataSourceUID_param_and_return_the_getConfig
=== RUN   Test_APIHandlers/Test_HandleDisableCache/should_return_500_when_service_error
=== RUN   Test_APIHandlers/Test_HandleCleanCache
=== RUN   Test_APIHandlers/Test_HandleCleanCache/should_parse_dataSourceUID_param_and_return_the_getConfig
=== RUN   Test_APIHandlers/Test_HandleCleanCache/should_return_500_when_service_error
--- PASS: Test_APIHandlers (0.00s)
--- PASS: Test_APIHandlers/Test_HandleGetCacheConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleGetCacheConfig/should_parse_dataSourceUID_param_and_return_the_getConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleGetCacheConfig/should_return_500_when_service_error (0.00s)
--- PASS: Test_APIHandlers/Test_HandleSetCacheConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleSetCacheConfig/should_parse_dataSourceUID_param,_unmarshal_the_payload,_and_return_the_getConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleSetCacheConfig/should_return_500_when_service_error (0.00s)
--- PASS: Test_APIHandlers/Test_HandleEnableCache (0.00s)
--- PASS: Test_APIHandlers/Test_HandleEnableCache/should_parse_dataSourceUID_param_and_return_the_getConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleEnableCache/should_return_500_when_service_error (0.00s)
--- PASS: Test_APIHandlers/Test_HandleDisableCache (0.00s)
--- PASS: Test_APIHandlers/Test_HandleDisableCache/should_parse_dataSourceUID_param_and_return_the_getConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleDisableCache/should_return_500_when_service_error (0.00s)
--- PASS: Test_APIHandlers/Test_HandleCleanCache (0.00s)
--- PASS: Test_APIHandlers/Test_HandleCleanCache/should_parse_dataSourceUID_param_and_return_the_getConfig (0.00s)
--- PASS: Test_APIHandlers/Test_HandleCleanCache/should_return_500_when_service_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/caching/api	(cached)
=== RUN   TestIntegrationMemcached
memcached_integration_test.go:33: skipping integration test
--- SKIP: TestIntegrationMemcached (0.00s)
=== RUN   TestIntegrationInvalidMemcached
memcached_integration_test.go:116: skipping integration test
--- SKIP: TestIntegrationInvalidMemcached (0.00s)
=== RUN   TestMapCacher
=== RUN   TestMapCacher/Writing_to_a_MapResult_should_persist_data
--- PASS: TestMapCacher (0.00s)
--- PASS: TestMapCacher/Writing_to_a_MapResult_should_persist_data (0.00s)
=== RUN   TestRemoveExpiredItems
--- PASS: TestRemoveExpiredItems (0.00s)
=== RUN   TestRemoveAllItems
--- PASS: TestRemoveAllItems (0.00s)
=== RUN   TestSizeLimit
=== RUN   TestSizeLimit/It_should_reject_values_that_are_too_large
--- PASS: TestSizeLimit (0.00s)
--- PASS: TestSizeLimit/It_should_reject_values_that_are_too_large (0.00s)
=== RUN   TestNoopSize
--- PASS: TestNoopSize (0.00s)
=== RUN   TestNoopCount
--- PASS: TestNoopCount (0.00s)
=== RUN   TestNoopRemove
--- PASS: TestNoopRemove (0.00s)
=== RUN   TestNoopSetGet
--- PASS: TestNoopSetGet (0.00s)
=== RUN   Test_CacheByKey_Safe
=== RUN   Test_CacheByKey_Safe/it_should_reject_cache_values_that_are_too_large
=== RUN   Test_CacheByKey_Safe/it_should_cache_values_that_are_not_too_large
=== RUN   Test_CacheByKey_Safe/it_should_timeout
--- PASS: Test_CacheByKey_Safe (2.00s)
--- PASS: Test_CacheByKey_Safe/it_should_reject_cache_values_that_are_too_large (0.00s)
--- PASS: Test_CacheByKey_Safe/it_should_cache_values_that_are_not_too_large (0.00s)
--- PASS: Test_CacheByKey_Safe/it_should_timeout (2.00s)
=== RUN   Test_CacheByKey_Unsafe
=== RUN   Test_CacheByKey_Unsafe/it_should_reject_cache_values_that_are_too_large
=== RUN   Test_CacheByKey_Unsafe/it_should_cache_values_that_are_not_too_large
=== RUN   Test_CacheByKey_Unsafe/it_should_timeout
--- PASS: Test_CacheByKey_Unsafe (2.00s)
--- PASS: Test_CacheByKey_Unsafe/it_should_reject_cache_values_that_are_too_large (0.00s)
--- PASS: Test_CacheByKey_Unsafe/it_should_cache_values_that_are_not_too_large (0.00s)
--- PASS: Test_CacheByKey_Unsafe/it_should_timeout (2.00s)
=== RUN   Test_GetByKey
=== RUN   Test_GetByKey/it_should_not_timeout_by_default
=== RUN   Test_GetByKey/it_should_timeout
=== RUN   Test_GetByKey/it_should_be_able_to_get_a_key_after_it's_set_(safe)
=== RUN   Test_GetByKey/it_should_be_able_to_get_a_key_after_it's_set_(unsafe)
--- PASS: Test_GetByKey (12.01s)
--- PASS: Test_GetByKey/it_should_not_timeout_by_default (2.00s)
--- PASS: Test_GetByKey/it_should_timeout (2.00s)
--- PASS: Test_GetByKey/it_should_be_able_to_get_a_key_after_it's_set_(safe) (4.00s)
--- PASS: Test_GetByKey/it_should_be_able_to_get_a_key_after_it's_set_(unsafe) (4.00s)
=== RUN   Test_MetricsGetUpdated
--- PASS: Test_MetricsGetUpdated (0.00s)
=== RUN   TestGenerateKey
--- PASS: TestGenerateKey (0.00s)
=== RUN   Test_NewQueryCacherFromSettings
=== RUN   Test_NewQueryCacherFromSettings/connection_timeout
=== RUN   Test_NewQueryCacherFromSettings/connection_timeout/it_should_not_timeout_by_default
=== RUN   Test_NewQueryCacherFromSettings/connection_timeout/it_should_timeout
=== RUN   Test_NewQueryCacherFromSettings/size_metric_collection
=== RUN   Test_NewQueryCacherFromSettings/size_metric_collection/should_be_enabled_by_default
=== RUN   Test_NewQueryCacherFromSettings/size_metric_collection/should_be_disabled_with_settings
--- PASS: Test_NewQueryCacherFromSettings (3.00s)
--- PASS: Test_NewQueryCacherFromSettings/connection_timeout (3.00s)
--- PASS: Test_NewQueryCacherFromSettings/connection_timeout/it_should_not_timeout_by_default (1.00s)
--- PASS: Test_NewQueryCacherFromSettings/connection_timeout/it_should_timeout (2.00s)
--- PASS: Test_NewQueryCacherFromSettings/size_metric_collection (0.00s)
--- PASS: Test_NewQueryCacherFromSettings/size_metric_collection/should_be_enabled_by_default (0.00s)
--- PASS: Test_NewQueryCacherFromSettings/size_metric_collection/should_be_disabled_with_settings (0.00s)
=== RUN   TestIntegrationRedis
redis_integration_test.go:32: skipping integration test
--- SKIP: TestIntegrationRedis (0.00s)
=== RUN   TestIntegrationInvalidRedis
redis_integration_test.go:140: skipping integration test
--- SKIP: TestIntegrationInvalidRedis (0.00s)
=== RUN   TestPrefix
=== RUN   TestPrefix/should_not_use_prefix_if_it's_emptystring
=== RUN   TestPrefix/should_prefix_strings_with_a_colon
--- PASS: TestPrefix (0.00s)
--- PASS: TestPrefix/should_not_use_prefix_if_it's_emptystring (0.00s)
--- PASS: TestPrefix/should_prefix_strings_with_a_colon (0.00s)
=== RUN   Test_parseRedisClusterAddresses
=== RUN   Test_parseRedisClusterAddresses/it_should_parse_valid_string
=== RUN   Test_parseRedisClusterAddresses/it_should_parse_valid_string_with_username_&_password
=== RUN   Test_parseRedisClusterAddresses/it_should_not_parse_username_and_password_if_redis_scheme_isn't_used
=== RUN   Test_parseRedisClusterAddresses/it_should_parse_what_it_can
=== RUN   Test_parseRedisClusterAddresses/it_should_trim_whitespace
=== RUN   Test_parseRedisClusterAddresses/it_should_not_parse_ports_without_host
=== RUN   Test_parseRedisClusterAddresses/it_should_return_an_empty_slice_if_port_is_missing
=== RUN   Test_parseRedisClusterAddresses/it_should_return_an_empty_slice_if_port_is_non-numeric
=== RUN   Test_parseRedisClusterAddresses/it_should_set_TLS_option_for_rediss_scheme
--- PASS: Test_parseRedisClusterAddresses (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_parse_valid_string (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_parse_valid_string_with_username_&_password (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_not_parse_username_and_password_if_redis_scheme_isn't_used (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_parse_what_it_can (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_trim_whitespace (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_not_parse_ports_without_host (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_return_an_empty_slice_if_port_is_missing (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_return_an_empty_slice_if_port_is_non-numeric (0.00s)
--- PASS: Test_parseRedisClusterAddresses/it_should_set_TLS_option_for_rediss_scheme (0.00s)
=== RUN   TestSha256
--- PASS: TestSha256 (0.00s)
=== RUN   TestEncryptionEncoding
--- PASS: TestEncryptionEncoding (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/caching/cache	19.037s
=== RUN   TestResponseBuilder
=== RUN   TestResponseBuilder/query_data_response_can_be_marshaled_and_unmarshaled
=== RUN   TestResponseBuilder/serialization_fails_when_the_payload_is_too_big
--- PASS: TestResponseBuilder (0.00s)
--- PASS: TestResponseBuilder/query_data_response_can_be_marshaled_and_unmarshaled (0.00s)
--- PASS: TestResponseBuilder/serialization_fails_when_the_payload_is_too_big (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/caching/cache/serializer	0.010s
=== RUN   TestRoundTimeUp
=== RUN   TestRoundTimeUp/should_move_up_to_the_next_interval_if_time_%_interval_==_0
=== RUN   TestRoundTimeUp/should_move_up_to_the_next_interval_if_time_%_interval_!=_0
=== RUN   TestRoundTimeUp/return_the_provided_time_if_interval_is_0
--- PASS: TestRoundTimeUp (0.00s)
--- PASS: TestRoundTimeUp/should_move_up_to_the_next_interval_if_time_%_interval_==_0 (0.00s)
--- PASS: TestRoundTimeUp/should_move_up_to_the_next_interval_if_time_%_interval_!=_0 (0.00s)
--- PASS: TestRoundTimeUp/return_the_provided_time_if_interval_is_0 (0.00s)
=== RUN   TestQueryHandler
=== RUN   TestQueryHandler/Query_response_can_be_cached_and_retrieved
=== RUN   TestQueryHandler/Query_response_is_not_cached_when_plugin_has_disabled_caching
=== RUN   TestQueryHandler/returns_an_error_if_there_is_no_data_source_instance_settings
=== RUN   TestQueryHandler/Query_response_is_not_cached_when_invalid_status_code
=== RUN   TestQueryHandler/Query_response_is_not_cached_when_error_in_response
=== RUN   TestQueryHandler/Query_response_can_be_cached_and_retrieved_with_slightly_different_timestamps
=== RUN   TestQueryHandler/Query_is_not_processed_when_refId_is_empty
=== RUN   TestQueryHandler/Cached_query_with_refID_is_processed_successfully
--- PASS: TestQueryHandler (0.65s)
--- PASS: TestQueryHandler/Query_response_can_be_cached_and_retrieved (0.10s)
--- PASS: TestQueryHandler/Query_response_is_not_cached_when_plugin_has_disabled_caching (0.00s)
--- PASS: TestQueryHandler/returns_an_error_if_there_is_no_data_source_instance_settings (0.00s)
--- PASS: TestQueryHandler/Query_response_is_not_cached_when_invalid_status_code (0.10s)
--- PASS: TestQueryHandler/Query_response_is_not_cached_when_error_in_response (0.10s)
--- PASS: TestQueryHandler/Query_response_can_be_cached_and_retrieved_with_slightly_different_timestamps (0.10s)
--- PASS: TestQueryHandler/Query_is_not_processed_when_refId_is_empty (0.00s)
--- PASS: TestQueryHandler/Cached_query_with_refID_is_processed_successfully (0.00s)
=== RUN   TestHeaderAllowList_Canonicality
--- PASS: TestHeaderAllowList_Canonicality (0.00s)
=== RUN   Test_ResourceHandler
=== RUN   Test_ResourceHandler/sanitizes_cached_data_headers_using_allow_list
=== RUN   Test_ResourceHandler/sanitizes_cached_data_headers_using_deny_list
=== RUN   Test_ResourceHandler/returns_an_error_when_there_is_no_data_source_instance_settings
=== RUN   Test_ResourceHandler/skips_cache_if_plugin_instance_has_disabled_caching
=== RUN   Test_ResourceHandler/skips_cache_if_x-cache-skip_header_is_present
=== RUN   Test_ResourceHandler/skips_cache_if_invalid_status_code
=== RUN   Test_ResourceHandler/caches_using_ID_instead_of_UID
=== RUN   Test_ResourceHandler/returns_an_error_if_data_source_config_is_not_found
=== RUN   Test_ResourceHandler/returns_disabled_if_data_source_config_is_disabled
=== RUN   Test_ResourceHandler/cache_single_response_only_after_cancelation
=== RUN   Test_ResourceHandler/cache_multiple_responses_only_after_cancelation
--- PASS: Test_ResourceHandler (0.73s)
--- PASS: Test_ResourceHandler/sanitizes_cached_data_headers_using_allow_list (0.10s)
--- PASS: Test_ResourceHandler/sanitizes_cached_data_headers_using_deny_list (0.10s)
--- PASS: Test_ResourceHandler/returns_an_error_when_there_is_no_data_source_instance_settings (0.00s)
--- PASS: Test_ResourceHandler/skips_cache_if_plugin_instance_has_disabled_caching (0.00s)
--- PASS: Test_ResourceHandler/skips_cache_if_x-cache-skip_header_is_present (0.00s)
--- PASS: Test_ResourceHandler/skips_cache_if_invalid_status_code (0.10s)
--- PASS: Test_ResourceHandler/caches_using_ID_instead_of_UID (0.10s)
--- PASS: Test_ResourceHandler/returns_an_error_if_data_source_config_is_not_found (0.00s)
--- PASS: Test_ResourceHandler/returns_disabled_if_data_source_config_is_disabled (0.00s)
--- PASS: Test_ResourceHandler/cache_single_response_only_after_cancelation (0.20s)
--- PASS: Test_ResourceHandler/cache_multiple_responses_only_after_cancelation (0.10s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/caching/handler	(cached)
?   	github.com/grafana/grafana/pkg/extensions/caching/roles	[no test files]
=== RUN   TestGetCacheConfigByID_Cache
=== RUN   TestGetCacheConfigByID_Cache/should_add_item_to_the_cache
=== RUN   TestGetCacheConfigByID_Cache/should_return_error_as_configuration_was_not_found
--- PASS: TestGetCacheConfigByID_Cache (0.00s)
--- PASS: TestGetCacheConfigByID_Cache/should_add_item_to_the_cache (0.00s)
--- PASS: TestGetCacheConfigByID_Cache/should_return_error_as_configuration_was_not_found (0.00s)
=== RUN   TestGetCacheConfigByUID_Cache
=== RUN   TestGetCacheConfigByUID_Cache/should_add_item_to_the_cache
=== RUN   TestGetCacheConfigByUID_Cache/should_return_error_as_configuration_was_not_found
--- PASS: TestGetCacheConfigByUID_Cache (0.00s)
--- PASS: TestGetCacheConfigByUID_Cache/should_add_item_to_the_cache (0.00s)
--- PASS: TestGetCacheConfigByUID_Cache/should_return_error_as_configuration_was_not_found (0.00s)
=== RUN   TestSetCacheConfig_Cache
=== RUN   TestSetCacheConfig_Cache/should_clear_cache_calling_SetCacheConfig
--- PASS: TestSetCacheConfig_Cache (0.00s)
--- PASS: TestSetCacheConfig_Cache/should_clear_cache_calling_SetCacheConfig (0.00s)
=== RUN   TestEnableCache_Cache
=== RUN   TestEnableCache_Cache/should_clear_cache_calling_EnableConfig
--- PASS: TestEnableCache_Cache (0.00s)
--- PASS: TestEnableCache_Cache/should_clear_cache_calling_EnableConfig (0.00s)
=== RUN   TestDisableCache_Cache
=== RUN   TestDisableCache_Cache/should_clear_cache_calling_DisableConfig
--- PASS: TestDisableCache_Cache (0.00s)
--- PASS: TestDisableCache_Cache/should_clear_cache_calling_DisableConfig (0.00s)
=== RUN   TestGetCacheConfigByID_Settings
=== RUN   TestGetCacheConfigByID_Settings/should_return_configuration_found
=== RUN   TestGetCacheConfigByID_Settings/should_return_default_configuration_as_was_not_found
--- PASS: TestGetCacheConfigByID_Settings (0.00s)
--- PASS: TestGetCacheConfigByID_Settings/should_return_configuration_found (0.00s)
--- PASS: TestGetCacheConfigByID_Settings/should_return_default_configuration_as_was_not_found (0.00s)
=== RUN   TestGetCacheConfigByUID_Settings
=== RUN   TestGetCacheConfigByUID_Settings/should_return_configuration_found_and_set_defaultTTL
=== RUN   TestGetCacheConfigByUID_Settings/should_return_default_configuration_as_was_not_found
--- PASS: TestGetCacheConfigByUID_Settings (0.00s)
--- PASS: TestGetCacheConfigByUID_Settings/should_return_configuration_found_and_set_defaultTTL (0.00s)
--- PASS: TestGetCacheConfigByUID_Settings/should_return_default_configuration_as_was_not_found (0.00s)
=== RUN   TestSetCacheConfig_Setting
=== RUN   TestSetCacheConfig_Setting/should_call_storage.SetCacheConfig_and_set_defaultTTL
--- PASS: TestSetCacheConfig_Setting (0.00s)
--- PASS: TestSetCacheConfig_Setting/should_call_storage.SetCacheConfig_and_set_defaultTTL (0.00s)
=== RUN   TestEnableCache_Setting
=== RUN   TestEnableCache_Setting/should_call_storage.EnableCache
--- PASS: TestEnableCache_Setting (0.00s)
--- PASS: TestEnableCache_Setting/should_call_storage.EnableCache (0.00s)
=== RUN   TestDisableCache_Setting
=== RUN   TestDisableCache_Setting/should_call_storage.DisableCache
--- PASS: TestDisableCache_Setting (0.00s)
--- PASS: TestDisableCache_Setting/should_call_storage.DisableCache (0.00s)
=== RUN   TestIntegrationSQLStorage_SetCacheConfig
storage_sql_integration_test.go:22: skipping integration test
--- SKIP: TestIntegrationSQLStorage_SetCacheConfig (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/caching/storage	(cached)
?   	github.com/grafana/grafana/pkg/extensions/config	[no test files]
=== RUN   TestCache
--- PASS: TestCache (0.00s)
=== RUN   TestKeystore_Init
=== RUN   TestKeystore_Init/vault_disabled
=== RUN   TestKeystore_Init/vault_enabled_without_license
=== RUN   TestKeystore_Init/vault_enabled_expired_license
=== RUN   TestKeystore_Init/vault_enabled_invalid_license
=== RUN   TestKeystore_Init/vault_enabled_valid_license
=== RUN   TestKeystore_Init/Should_add_usage_metrics
=== RUN   TestKeystore_Init/Should_add_usage_metrics/Should_add_metric_with_value_1_when_vault_enabled
=== RUN   TestKeystore_Init/Should_add_usage_metrics/Should_add_metric_with_value_0_when_vault_disabled
--- PASS: TestKeystore_Init (0.23s)
--- PASS: TestKeystore_Init/vault_disabled (0.22s)
--- PASS: TestKeystore_Init/vault_enabled_without_license (0.00s)
--- PASS: TestKeystore_Init/vault_enabled_expired_license (0.00s)
--- PASS: TestKeystore_Init/vault_enabled_invalid_license (0.00s)
--- PASS: TestKeystore_Init/vault_enabled_valid_license (0.00s)
--- PASS: TestKeystore_Init/Should_add_usage_metrics (0.00s)
--- PASS: TestKeystore_Init/Should_add_usage_metrics/Should_add_metric_with_value_1_when_vault_enabled (0.00s)
--- PASS: TestKeystore_Init/Should_add_usage_metrics/Should_add_metric_with_value_0_when_vault_disabled (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/config/vault	(cached)
=== RUN   TestInMemoryCachedCloudConfigClient
=== RUN   TestInMemoryCachedCloudConfigClient/ListDatasources_should_not_cache_anything
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_not_found_errors
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_not_found_errors/and_retrieve_the_error_from_cache_and_not_call_getDatasource_again
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_existing_ds2_in_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_existing_ds2_in_cache/and_retrieve_ds2_from_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_existing_ds2_in_cache/but_not_retrieve_ds1_from_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetDatasource/Should_queue_requests_if_response_for_the_datasource_is_in-flight
=== RUN   TestInMemoryCachedCloudConfigClient/GetStackInfo
=== RUN   TestInMemoryCachedCloudConfigClient/GetStackInfo/should_not_store_non-existing_stack_info_in_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetStackInfo/should_store_existing_si1_in_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetStackInfo/should_store_existing_si1_in_cache/and_retrieve_si1_from_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetStackInfo/should_store_existing_si1_in_cache/but_not_retrieve_si2_from_cache
=== RUN   TestInMemoryCachedCloudConfigClient/GetStackInfo/Should_queue_requests_if_response_for_the_stack_is_in-flight
--- PASS: TestInMemoryCachedCloudConfigClient (0.20s)
--- PASS: TestInMemoryCachedCloudConfigClient/ListDatasources_should_not_cache_anything (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource (0.10s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_not_found_errors (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_not_found_errors/and_retrieve_the_error_from_cache_and_not_call_getDatasource_again (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_existing_ds2_in_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_existing_ds2_in_cache/and_retrieve_ds2_from_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource/should_store_existing_ds2_in_cache/but_not_retrieve_ds1_from_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetDatasource/Should_queue_requests_if_response_for_the_datasource_is_in-flight (0.10s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetStackInfo (0.10s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetStackInfo/should_not_store_non-existing_stack_info_in_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetStackInfo/should_store_existing_si1_in_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetStackInfo/should_store_existing_si1_in_cache/and_retrieve_si1_from_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetStackInfo/should_store_existing_si1_in_cache/but_not_retrieve_si2_from_cache (0.00s)
--- PASS: TestInMemoryCachedCloudConfigClient/GetStackInfo/Should_queue_requests_if_response_for_the_stack_is_in-flight (0.10s)
=== RUN   TestCloudConfigClient
=== RUN   TestCloudConfigClient/ListDatasources
=== RUN   TestCloudConfigClient/ListDatasources/List_of_a_type
=== RUN   TestCloudConfigClient/GetDatasource
=== RUN   TestCloudConfigClient/GetDatasource/Gets_a_datasource
=== RUN   TestCloudConfigClient/GetDatasource/Returns_not_found_error
=== RUN   TestCloudConfigClient/GetStackInfo
=== RUN   TestCloudConfigClient/GetStackInfo/Gets_stack_info
--- PASS: TestCloudConfigClient (0.01s)
--- PASS: TestCloudConfigClient/ListDatasources (0.00s)
--- PASS: TestCloudConfigClient/ListDatasources/List_of_a_type (0.00s)
--- PASS: TestCloudConfigClient/GetDatasource (0.00s)
--- PASS: TestCloudConfigClient/GetDatasource/Gets_a_datasource (0.00s)
--- PASS: TestCloudConfigClient/GetDatasource/Returns_not_found_error (0.00s)
--- PASS: TestCloudConfigClient/GetStackInfo (0.00s)
--- PASS: TestCloudConfigClient/GetStackInfo/Gets_stack_info (0.00s)
=== RUN   TestCloudConfig
=== RUN   TestCloudConfig/List
=== RUN   TestCloudConfig/List/List_of_a_type
=== RUN   TestCloudConfig/List/Returns_an_empty_list_if_no_datasources_of_the_type_are_found
=== RUN   TestCloudConfig/List/Returns_list_based_on_aliases
=== RUN   TestCloudConfig/Get
=== RUN   TestCloudConfig/Get/Get_a_datasource
=== RUN   TestCloudConfig/Get/Returns_an_error_if_the_datasource_is_not_found
=== RUN   TestCloudConfig/Get/Returns_an_error_if_the_datasource_is_not_of_the_required_type
=== RUN   TestCloudConfig/GetInstanceSettings
=== RUN   TestCloudConfig/GetInstanceSettings/Get_instance_settings
=== RUN   TestCloudConfig/GetInstanceSettings/Returns_an_error_if_the_datasource_is_not_found
=== RUN   TestCloudConfig/GetInstanceSettings/Returns_an_error_if_the_datasource_is_not_of_the_required_type
--- PASS: TestCloudConfig (0.00s)
--- PASS: TestCloudConfig/List (0.00s)
--- PASS: TestCloudConfig/List/List_of_a_type (0.00s)
--- PASS: TestCloudConfig/List/Returns_an_empty_list_if_no_datasources_of_the_type_are_found (0.00s)
--- PASS: TestCloudConfig/List/Returns_list_based_on_aliases (0.00s)
--- PASS: TestCloudConfig/Get (0.00s)
--- PASS: TestCloudConfig/Get/Get_a_datasource (0.00s)
--- PASS: TestCloudConfig/Get/Returns_an_error_if_the_datasource_is_not_found (0.00s)
--- PASS: TestCloudConfig/Get/Returns_an_error_if_the_datasource_is_not_of_the_required_type (0.00s)
--- PASS: TestCloudConfig/GetInstanceSettings (0.00s)
--- PASS: TestCloudConfig/GetInstanceSettings/Get_instance_settings (0.00s)
--- PASS: TestCloudConfig/GetInstanceSettings/Returns_an_error_if_the_datasource_is_not_found (0.00s)
--- PASS: TestCloudConfig/GetInstanceSettings/Returns_an_error_if_the_datasource_is_not_of_the_required_type (0.00s)
=== RUN   TestPluginContextWrapper
=== RUN   TestPluginContextWrapper/Gets_plugin_context_with_general_settings
=== RUN   TestPluginContextWrapper/Gets_plugin_context_with_AWS_settings
=== RUN   TestPluginContextWrapper/Gets_plugin_context_with_Azure_settings
=== RUN   TestPluginContextWrapper/Gets_plugin_context_with_proxy_settings
--- PASS: TestPluginContextWrapper (0.01s)
--- PASS: TestPluginContextWrapper/Gets_plugin_context_with_general_settings (0.00s)
--- PASS: TestPluginContextWrapper/Gets_plugin_context_with_AWS_settings (0.00s)
--- PASS: TestPluginContextWrapper/Gets_plugin_context_with_Azure_settings (0.01s)
--- PASS: TestPluginContextWrapper/Gets_plugin_context_with_proxy_settings (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/datasource	(cached)
?   	github.com/grafana/grafana/pkg/extensions/datasource/dsrunner	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/datasource/dsrunner/pluginmetrics	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/datasource/dsrunner/provisioner	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/datasource/grpc	[no test files]
=== RUN   TestTenantIDMiddleware
=== RUN   TestTenantIDMiddleware/Valid_namespace_with_stack_ID
=== RUN   TestTenantIDMiddleware/Invalid_namespace_format
=== RUN   TestTenantIDMiddleware/Valid_namespace_with_stack_ID_0_will_check_fallback_to_stack_ID_from_gRPC_context
=== RUN   TestTenantIDMiddleware/Valid_namespace_with_stack_ID_0_will_return_error_when_no_fallback_stack_ID_from_gRPC_context
=== RUN   TestTenantIDMiddleware/Empty_namespace
--- PASS: TestTenantIDMiddleware (0.00s)
--- PASS: TestTenantIDMiddleware/Valid_namespace_with_stack_ID (0.00s)
--- PASS: TestTenantIDMiddleware/Invalid_namespace_format (0.00s)
--- PASS: TestTenantIDMiddleware/Valid_namespace_with_stack_ID_0_will_check_fallback_to_stack_ID_from_gRPC_context (0.00s)
--- PASS: TestTenantIDMiddleware/Valid_namespace_with_stack_ID_0_will_return_error_when_no_fallback_stack_ID_from_gRPC_context (0.00s)
--- PASS: TestTenantIDMiddleware/Empty_namespace (0.00s)
=== RUN   TestTenantIDMiddleware_NilRequest
--- PASS: TestTenantIDMiddleware_NilRequest (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/datasource/pluginclient	(cached)
?   	github.com/grafana/grafana/pkg/extensions/disableunsignedplugins	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/dspermissions	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/dspermissions/database	[no test files]
=== RUN   Test_accessControlGuardian_CanQuery
=== RUN   Test_accessControlGuardian_CanQuery/should_be_able_to_query_data_source_with_query_permission,_log_warning_if_user_has_only_one_read/query_permission
=== RUN   Test_accessControlGuardian_CanQuery/should_be_able_to_query_data_source_with_wildcard_scope
=== RUN   Test_accessControlGuardian_CanQuery/should_not_be_able_to_query_data_source_with_read_permission
=== RUN   Test_accessControlGuardian_CanQuery/should_not_be_able_to_query_data_source_without_permission
--- PASS: Test_accessControlGuardian_CanQuery (0.28s)
--- PASS: Test_accessControlGuardian_CanQuery/should_be_able_to_query_data_source_with_query_permission,_log_warning_if_user_has_only_one_read/query_permission (0.27s)
--- PASS: Test_accessControlGuardian_CanQuery/should_be_able_to_query_data_source_with_wildcard_scope (0.00s)
--- PASS: Test_accessControlGuardian_CanQuery/should_not_be_able_to_query_data_source_with_read_permission (0.00s)
--- PASS: Test_accessControlGuardian_CanQuery/should_not_be_able_to_query_data_source_without_permission (0.00s)
=== RUN   Test_accessControlGuardian_FilterDatasourcesByQueryPermissions
=== RUN   Test_accessControlGuardian_FilterDatasourcesByQueryPermissions/should_return_all
=== RUN   Test_accessControlGuardian_FilterDatasourcesByQueryPermissions/should_return_data_sources_that_user_has_permissions_to
--- PASS: Test_accessControlGuardian_FilterDatasourcesByQueryPermissions (0.00s)
--- PASS: Test_accessControlGuardian_FilterDatasourcesByQueryPermissions/should_return_all (0.00s)
--- PASS: Test_accessControlGuardian_FilterDatasourcesByQueryPermissions/should_return_data_sources_that_user_has_permissions_to (0.00s)
=== RUN   TestProvideGuardian
=== RUN   TestProvideGuardian/should_return_allow_guardian_when_running_without_a_valid_license
=== RUN   TestProvideGuardian/should_return_access_control_guardian_when_running_with_a_expired_license_and_access_control_enabled
--- PASS: TestProvideGuardian (0.00s)
--- PASS: TestProvideGuardian/should_return_allow_guardian_when_running_without_a_valid_license (0.00s)
--- PASS: TestProvideGuardian/should_return_access_control_guardian_when_running_with_a_expired_license_and_access_control_enabled (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/dspermissions/guardian	(cached)
=== RUN   Test_aesGcmCipher
=== RUN   Test_aesGcmCipher/when_the_feature_is_enabled_it_should_work
=== RUN   Test_aesGcmCipher/when_the_feature_is_disabled_it_should_not_work
--- PASS: Test_aesGcmCipher (0.00s)
--- PASS: Test_aesGcmCipher/when_the_feature_is_enabled_it_should_work (0.00s)
--- PASS: Test_aesGcmCipher/when_the_feature_is_disabled_it_should_not_work (0.00s)
=== RUN   Test_ProvideEncryptionProvider
=== RUN   Test_ProvideEncryptionProvider/Should_add_the_encryption_provider_with_valid_license
=== RUN   Test_ProvideEncryptionProvider/Should_not_add_the_encryption_provider_with_invalid_license
=== RUN   Test_ProvideEncryptionProvider/Should_not_add_the_encryption_provider_with_expired_license
=== RUN   Test_ProvideEncryptionProvider/Should_not_add_the_encryption_provider_with_no_license
--- PASS: Test_ProvideEncryptionProvider (0.00s)
--- PASS: Test_ProvideEncryptionProvider/Should_add_the_encryption_provider_with_valid_license (0.00s)
--- PASS: Test_ProvideEncryptionProvider/Should_not_add_the_encryption_provider_with_invalid_license (0.00s)
--- PASS: Test_ProvideEncryptionProvider/Should_not_add_the_encryption_provider_with_expired_license (0.00s)
--- PASS: Test_ProvideEncryptionProvider/Should_not_add_the_encryption_provider_with_no_license (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/encryption	(cached)
?   	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards	[no test files]
=== RUN   TestIntegrationRequestAccess
api_test.go:51: skipping integration test
--- SKIP: TestIntegrationRequestAccess (0.00s)
=== RUN   TestApi_ValidateMagicLink
=== RUN   TestApi_ValidateMagicLink/when_magic_link_is_not_found,_user_gets_redirected_to_request-access_page_with_error_as_url_param_
=== RUN   TestApi_ValidateMagicLink/when_magic_link_is_found,_return_index_without_redirection
--- PASS: TestApi_ValidateMagicLink (0.27s)
--- PASS: TestApi_ValidateMagicLink/when_magic_link_is_not_found,_user_gets_redirected_to_request-access_page_with_error_as_url_param_ (0.27s)
--- PASS: TestApi_ValidateMagicLink/when_magic_link_is_found,_return_index_without_redirection (0.00s)
=== RUN   TestApi_ClaimMagicLinkToken
=== RUN   TestApi_ClaimMagicLinkToken/when_magic_link_is_claimed,_delete_old_sessions_and_creates_and_returns_a_new_one
=== RUN   TestApi_ClaimMagicLinkToken/when_magic_link_has_already_been_claimed_(doesnt_exist),_user_receives_an_error
=== RUN   TestApi_ClaimMagicLinkToken/when_magic_link_has_expired,_user_receives_an_error
--- PASS: TestApi_ClaimMagicLinkToken (0.01s)
--- PASS: TestApi_ClaimMagicLinkToken/when_magic_link_is_claimed,_delete_old_sessions_and_creates_and_returns_a_new_one (0.00s)
--- PASS: TestApi_ClaimMagicLinkToken/when_magic_link_has_already_been_claimed_(doesnt_exist),_user_receives_an_error (0.00s)
--- PASS: TestApi_ClaimMagicLinkToken/when_magic_link_has_expired,_user_receives_an_error (0.00s)
=== RUN   TestApi_RevokeAllAccess
=== RUN   TestApi_RevokeAllAccess/when_email_is_valid,_it_returns_a_success_response
=== RUN   TestApi_RevokeAllAccess/when_email_is_invalid,_it_returns_invalid_email_error
--- PASS: TestApi_RevokeAllAccess (0.00s)
--- PASS: TestApi_RevokeAllAccess/when_email_is_valid,_it_returns_a_success_response (0.00s)
--- PASS: TestApi_RevokeAllAccess/when_email_is_invalid,_it_returns_invalid_email_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards/api	(cached)
=== RUN   TestRepository
=== RUN   TestRepository/can_get_session_cookie_by_uuid
=== RUN   TestRepository/returns_nil_when_cant_find_session
=== RUN   TestRepository/can_delete_models
--- PASS: TestRepository (0.27s)
--- PASS: TestRepository/can_get_session_cookie_by_uuid (0.26s)
--- PASS: TestRepository/returns_nil_when_cant_find_session (0.00s)
--- PASS: TestRepository/can_delete_models (0.00s)
=== RUN   TestDatabase
=== RUN   TestDatabase/can_create_email_share
=== RUN   TestDatabase/can_create_magic_link
=== RUN   TestDatabase/can_create_session
=== RUN   TestDatabase/can_find_magic_link_by_token_uuid
=== RUN   TestDatabase/can_find_session_by_cookie_uuid_and_pubdash_uid
=== RUN   TestDatabase/can_delete_all_magic_links_for_user/pubdash
=== RUN   TestDatabase/can_delete_all_sessions_for_user/pubdash
--- PASS: TestDatabase (0.02s)
--- PASS: TestDatabase/can_create_email_share (0.00s)
--- PASS: TestDatabase/can_create_magic_link (0.00s)
--- PASS: TestDatabase/can_create_session (0.00s)
--- PASS: TestDatabase/can_find_magic_link_by_token_uuid (0.00s)
--- PASS: TestDatabase/can_find_session_by_cookie_uuid_and_pubdash_uid (0.00s)
--- PASS: TestDatabase/can_delete_all_magic_links_for_user/pubdash (0.00s)
--- PASS: TestDatabase/can_delete_all_sessions_for_user/pubdash (0.00s)
=== RUN   TestEnterprisePublicDashboardStoreImpl_CreateEmailShare
=== RUN   TestEnterprisePublicDashboardStoreImpl_CreateEmailShare/should_create_email_share
--- PASS: TestEnterprisePublicDashboardStoreImpl_CreateEmailShare (0.00s)
--- PASS: TestEnterprisePublicDashboardStoreImpl_CreateEmailShare/should_create_email_share (0.00s)
=== RUN   TestFindUsersWithActiveSession
=== RUN   TestFindUsersWithActiveSession/get_a_list_of_emails_for_active_users_sessions
--- PASS: TestFindUsersWithActiveSession (0.01s)
--- PASS: TestFindUsersWithActiveSession/get_a_list_of_emails_for_active_users_sessions (0.00s)
=== RUN   TestFindDashboardsByActiveUser
=== RUN   TestFindDashboardsByActiveUser/get_a_list_of_dashboards_for_active_users_sessions
=== RUN   TestFindDashboardsByActiveUser/get_an_empty_list_of_dashboards_when_the_user_does_not_have
=== RUN   TestFindDashboardsByActiveUser/get_an_empty_list_of_dashboards_when_the_user_access_has_expired
--- PASS: TestFindDashboardsByActiveUser (0.00s)
--- PASS: TestFindDashboardsByActiveUser/get_a_list_of_dashboards_for_active_users_sessions (0.00s)
--- PASS: TestFindDashboardsByActiveUser/get_an_empty_list_of_dashboards_when_the_user_does_not_have (0.00s)
--- PASS: TestFindDashboardsByActiveUser/get_an_empty_list_of_dashboards_when_the_user_access_has_expired (0.00s)
=== RUN   TestUpdateSessionLastSeenAtByCookie
=== RUN   TestUpdateSessionLastSeenAtByCookie/can_update_last_seen_at_in_a_session
--- PASS: TestUpdateSessionLastSeenAtByCookie (0.00s)
--- PASS: TestUpdateSessionLastSeenAtByCookie/can_update_last_seen_at_in_a_session (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards/database	(cached)
?   	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards/metric	[no test files]
=== RUN   TestEmailSharingMiddleware_HandleAccessView
=== RUN   TestEmailSharingMiddleware_HandleAccessView/will_stay_in_request_access_page_when_viewer_has_valid_cookie
=== RUN   TestEmailSharingMiddleware_HandleAccessView/will_stay_in_request_access_page_when_viewer_has_no_cookie
=== RUN   TestEmailSharingMiddleware_HandleAccessView/will_redirect_to_pubdash_when_viewer_goes_to_request_access_page_and_pubdash_is_public
=== RUN   TestEmailSharingMiddleware_HandleAccessView/will_stay_in_request_access_page_when_the_user_is_logged_in_and_has_read_access_to_the_original_dashboard
=== RUN   TestEmailSharingMiddleware_HandleAccessView/will_stay_in_confirm_access_page_when_the_user_is_logged_in_and_has_read_access_to_the_original_dashboard
--- PASS: TestEmailSharingMiddleware_HandleAccessView (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleAccessView/will_stay_in_request_access_page_when_viewer_has_valid_cookie (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleAccessView/will_stay_in_request_access_page_when_viewer_has_no_cookie (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleAccessView/will_redirect_to_pubdash_when_viewer_goes_to_request_access_page_and_pubdash_is_public (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleAccessView/will_stay_in_request_access_page_when_the_user_is_logged_in_and_has_read_access_to_the_original_dashboard (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleAccessView/will_stay_in_confirm_access_page_when_the_user_is_logged_in_and_has_read_access_to_the_original_dashboard (0.00s)
=== RUN   TestEmailSharingMiddleware_HandleApi
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_not_found_if_there_is_no_license
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_500_when_internal_server_error_checking_access_on_a_pubdash_api_route
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_401_when_the_cookie_does_not_exist_on_a_pubdash_api_route
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_401_when_session_cookie_does_not_have_access_on_pubdash_api_route
=== RUN   TestEmailSharingMiddleware_HandleApi/will_let_the_middleware_or_api_chain_continue_when_there_is_an_error_getting_a_public_dashboard
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_200_without_a_cookie_if_the_user_is_logged_in_and_has_read_access_to_the_original_dashboard
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_a_500_error_on_api_calls_if_there_is_an_error_on_evaluate_method
=== RUN   TestEmailSharingMiddleware_HandleApi/will_return_a_401_when_session_expires
--- PASS: TestEmailSharingMiddleware_HandleApi (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_not_found_if_there_is_no_license (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_500_when_internal_server_error_checking_access_on_a_pubdash_api_route (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_401_when_the_cookie_does_not_exist_on_a_pubdash_api_route (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_401_when_session_cookie_does_not_have_access_on_pubdash_api_route (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_let_the_middleware_or_api_chain_continue_when_there_is_an_error_getting_a_public_dashboard (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_200_without_a_cookie_if_the_user_is_logged_in_and_has_read_access_to_the_original_dashboard (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_a_500_error_on_api_calls_if_there_is_an_error_on_evaluate_method (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleApi/will_return_a_401_when_session_expires (0.00s)
=== RUN   TestEmailSharingMiddleware_HandleView
=== RUN   TestEmailSharingMiddleware_HandleView/will_redirect_to_request_access_page_when_trying_to_view_email_protected_pubdash_without_cookie
=== RUN   TestEmailSharingMiddleware_HandleView/will_redirect_to_request_access_page_when_trying_to_view_email_protected_pubdash_with_invalid_cookie
=== RUN   TestEmailSharingMiddleware_HandleView/will_not_redirect_when_viewer_has_valid_cookie
=== RUN   TestEmailSharingMiddleware_HandleView/will_not_redirect_when_viewer_is_logged_in_with_access
=== RUN   TestEmailSharingMiddleware_HandleView/will_not_return_an_error_when_a_public_dashboard_is_not_found_and_is_viewing_a_pubdash
=== RUN   TestEmailSharingMiddleware_HandleView/will_redirect_to_request_access_page_when_trying_to_view_email_protected_pubdash_and_there_is_an_error_on_evaluate_method
--- PASS: TestEmailSharingMiddleware_HandleView (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleView/will_redirect_to_request_access_page_when_trying_to_view_email_protected_pubdash_without_cookie (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleView/will_redirect_to_request_access_page_when_trying_to_view_email_protected_pubdash_with_invalid_cookie (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleView/will_not_redirect_when_viewer_has_valid_cookie (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleView/will_not_redirect_when_viewer_is_logged_in_with_access (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleView/will_not_return_an_error_when_a_public_dashboard_is_not_found_and_is_viewing_a_pubdash (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleView/will_redirect_to_request_access_page_when_trying_to_view_email_protected_pubdash_and_there_is_an_error_on_evaluate_method (0.00s)
=== RUN   TestEmailSharingMiddleware_HandleConfirmAccessView
=== RUN   TestEmailSharingMiddleware_HandleConfirmAccessView/will_stay_in_confirm_access_page_when_has_no_cookie_but_valid_magic_link
=== RUN   TestEmailSharingMiddleware_HandleConfirmAccessView/will_stay_in_confirm_access_page_when_has_cookie_and_valid_magic_link
=== RUN   TestEmailSharingMiddleware_HandleConfirmAccessView/will_redirect_to_request_access_page_when_has_no_cookie_and_magic_link_is_invalid
=== RUN   TestEmailSharingMiddleware_HandleConfirmAccessView/will_redirect_to_pubdash_when_has_cookie_and_magic_link_is_invalid
--- PASS: TestEmailSharingMiddleware_HandleConfirmAccessView (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleConfirmAccessView/will_stay_in_confirm_access_page_when_has_no_cookie_but_valid_magic_link (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleConfirmAccessView/will_stay_in_confirm_access_page_when_has_cookie_and_valid_magic_link (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleConfirmAccessView/will_redirect_to_request_access_page_when_has_no_cookie_and_magic_link_is_invalid (0.00s)
--- PASS: TestEmailSharingMiddleware_HandleConfirmAccessView/will_redirect_to_pubdash_when_has_cookie_and_magic_link_is_invalid (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards/middleware	(cached)
=== RUN   TestHasAccessMagicLink
=== RUN   TestHasAccessMagicLink/magic_link_can_be_claimed_when_less_than_1_hour_old
=== RUN   TestHasAccessMagicLink/magic_link_can_not_be_claimed_when_more_than_1_hour_old
--- PASS: TestHasAccessMagicLink (0.00s)
--- PASS: TestHasAccessMagicLink/magic_link_can_be_claimed_when_less_than_1_hour_old (0.00s)
--- PASS: TestHasAccessMagicLink/magic_link_can_not_be_claimed_when_more_than_1_hour_old (0.00s)
=== RUN   TestPubdashSession
=== RUN   TestPubdashSession/session_is_valid_when_less_than_30_days_old
=== RUN   TestPubdashSession/session_is_not_valid_when_more_than_30_days_old
--- PASS: TestPubdashSession (0.00s)
--- PASS: TestPubdashSession/session_is_valid_when_less_than_30_days_old (0.00s)
--- PASS: TestPubdashSession/session_is_not_valid_when_more_than_30_days_old (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards/models	(cached)
=== RUN   TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail
=== RUN   TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail/Share_a_pubdash_with_an_email
=== RUN   TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail/Share_a_pubdash_which_does_not_exist
=== RUN   TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail/Share_a_pubdash_already_shared_with_an_email
--- PASS: TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail (0.30s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail/Share_a_pubdash_with_an_email (0.30s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail/Share_a_pubdash_which_does_not_exist (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_SharePublicDashboardByEmail/Share_a_pubdash_already_shared_with_an_email (0.00s)
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_one_dashboard_for_test1@myemail.com
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_two_dashboards_for_test2@myemail.com
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_only_return_one_dashboard_for_test2@myemail.com_if_the_dashboard_service_does_not_return_them_both
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_no_dashboards_for_test3@myemail.com
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_one_dashboard_for_test1@myemail.com (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_two_dashboards_for_test2@myemail.com (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_only_return_one_dashboard_for_test2@myemail.com_if_the_dashboard_service_does_not_return_them_both (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindDashboardsByActiveUser/FindDashboardsByActiveUser_should_return_no_dashboards_for_test3@myemail.com (0.00s)
=== RUN   TestEnterprisePublicDashboardsServiceImpl_RequestAccess
=== RUN   TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Send_email_to_request_access_to_a_public_dashboard
=== RUN   TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_send_email_to_a_public_dashboard_does_not_exist
=== RUN   TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_send_email_to_a_public_dashboard_is_not_enabled
=== RUN   TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_try_to_send_email_but_a_public_dashboard_and_the_email_share_does_not_exists
=== RUN   TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_notification_service_fails
--- PASS: TestEnterprisePublicDashboardsServiceImpl_RequestAccess (0.01s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Send_email_to_request_access_to_a_public_dashboard (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_send_email_to_a_public_dashboard_does_not_exist (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_send_email_to_a_public_dashboard_is_not_enabled (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_try_to_send_email_but_a_public_dashboard_and_the_email_share_does_not_exists (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_RequestAccess/Return_an_error_when_notification_service_fails (0.00s)
=== RUN   TestCreateCookie
=== RUN   TestCreateCookie/can_create_http_Cookie
--- PASS: TestCreateCookie (0.00s)
--- PASS: TestCreateCookie/can_create_http_Cookie (0.00s)
=== RUN   TestHasAccess
=== RUN   TestHasAccess/will_return_error_when_session_doesnt_exist
=== RUN   TestHasAccess/will_return_error_when_cookie_name_has_wrong_format
=== RUN   TestHasAccess/will_use_pubdash_access_token_(name)_and_cookieUuid_(value)_from_cookie_to_find_session
=== RUN   TestHasAccess/cant_use_access_token_that_doesnt_match_the_session
--- PASS: TestHasAccess (0.01s)
--- PASS: TestHasAccess/will_return_error_when_session_doesnt_exist (0.00s)
--- PASS: TestHasAccess/will_return_error_when_cookie_name_has_wrong_format (0.00s)
--- PASS: TestHasAccess/will_use_pubdash_access_token_(name)_and_cookieUuid_(value)_from_cookie_to_find_session (0.00s)
--- PASS: TestHasAccess/cant_use_access_token_that_doesnt_match_the_session (0.00s)
=== RUN   TestReshareAccess
=== RUN   TestReshareAccess/deletes_existing_magic_links_and_creates_a_new_one
=== RUN   TestReshareAccess/returns_error_if_sharing_does_not_exist
--- PASS: TestReshareAccess (0.01s)
--- PASS: TestReshareAccess/deletes_existing_magic_links_and_creates_a_new_one (0.00s)
--- PASS: TestReshareAccess/returns_error_if_sharing_does_not_exist (0.00s)
=== RUN   TestRevokeAccess
=== RUN   TestRevokeAccess/deletes_all_tables_records_related_to_the_shareUid
=== RUN   TestRevokeAccess/not_return_error_if_shareUid_does_not_exists
--- PASS: TestRevokeAccess (0.01s)
--- PASS: TestRevokeAccess/deletes_all_tables_records_related_to_the_shareUid (0.00s)
--- PASS: TestRevokeAccess/not_return_error_if_shareUid_does_not_exists (0.00s)
=== RUN   TestRevokeAllAccess
=== RUN   TestRevokeAllAccess/deletes_all_tables_records_related_to_the_recipient
=== RUN   TestRevokeAllAccess/does_not_return_an_error_if_recipient_does_not_exist
--- PASS: TestRevokeAllAccess (0.01s)
--- PASS: TestRevokeAllAccess/deletes_all_tables_records_related_to_the_recipient (0.00s)
--- PASS: TestRevokeAllAccess/does_not_return_an_error_if_recipient_does_not_exist (0.00s)
=== RUN   TestValidateMagicLink
=== RUN   TestValidateMagicLink/return_magicLink_and_nil_error_if_validate_magiclink_is_successful
=== RUN   TestValidateMagicLink/return_ErrInternalServerError_when_FindMagicLinkByTokenUUID_has_error
=== RUN   TestValidateMagicLink/return_ErrMagicLinkNotFound_when_magiclink_not_found
=== RUN   TestValidateMagicLink/return_ErrMagicLinkExpired_when_magiclink_is_expired
--- PASS: TestValidateMagicLink (0.01s)
--- PASS: TestValidateMagicLink/return_magicLink_and_nil_error_if_validate_magiclink_is_successful (0.00s)
--- PASS: TestValidateMagicLink/return_ErrInternalServerError_when_FindMagicLinkByTokenUUID_has_error (0.00s)
--- PASS: TestValidateMagicLink/return_ErrMagicLinkNotFound_when_magiclink_not_found (0.00s)
--- PASS: TestValidateMagicLink/return_ErrMagicLinkExpired_when_magiclink_is_expired (0.00s)
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers/should_return_a_list_of_users
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers/should_return_empty_list_when_no_active_shares
=== RUN   TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers/return_internal_server_error_when_db_store_fails
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers/should_return_a_list_of_users (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers/should_return_empty_list_when_no_active_shares (0.00s)
--- PASS: TestEnterprisePublicDashboardsServiceImpl_FindActiveShareUsers/return_internal_server_error_when_db_store_fails (0.00s)
=== RUN   TestPublicDashboardServiceWrapperImpl_FindByDashboardUid
=== RUN   TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_shared_by_email_with_recipients_by_uid
=== RUN   TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_shared_by_public_with_recipients_by_uid
=== RUN   TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_with_recipients_by_uid_return_error
=== RUN   TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_with_recipients_by_uid_return_error#01
--- PASS: TestPublicDashboardServiceWrapperImpl_FindByDashboardUid (0.00s)
--- PASS: TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_shared_by_email_with_recipients_by_uid (0.00s)
--- PASS: TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_shared_by_public_with_recipients_by_uid (0.00s)
--- PASS: TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_with_recipients_by_uid_return_error (0.00s)
--- PASS: TestPublicDashboardServiceWrapperImpl_FindByDashboardUid/Find_a_public_dashboard_with_recipients_by_uid_return_error#01 (0.00s)
=== RUN   TestFindByDashboardUid
=== RUN   TestFindByDashboardUid/TestFindByDashboardUid_returns_a_public_dashboard_by_dashboard_UID
=== RUN   TestFindByDashboardUid/TestFindByDashboardUid_returns_an_error_when_not_found_by_dashboard_UID
--- PASS: TestFindByDashboardUid (0.01s)
--- PASS: TestFindByDashboardUid/TestFindByDashboardUid_returns_a_public_dashboard_by_dashboard_UID (0.00s)
--- PASS: TestFindByDashboardUid/TestFindByDashboardUid_returns_an_error_when_not_found_by_dashboard_UID (0.00s)
=== RUN   TestDelete
=== RUN   TestDelete/TestDelete_deletes_all_public_dashboard1_resources_by_public_dashboard1_UID
--- PASS: TestDelete (0.00s)
--- PASS: TestDelete/TestDelete_deletes_all_public_dashboard1_resources_by_public_dashboard1_UID (0.00s)
=== RUN   TestDeleteByDashboardUIDs
=== RUN   TestDeleteByDashboardUIDs/TestDeleteByDashboardUIDs_deletes_all_public_dashboard1_resources_by_dashboard1_UID
=== RUN   TestDeleteByDashboardUIDs/TestDeleteByDashboardUIDs_deletes_all_public_dashboard1_resources_by_dashboard1_UIDs
=== RUN   TestDeleteByDashboardUIDs/TestDeleteByDashboardUIDs_does_not_return_an_error_when_the_dashboard_has_no_public_dashboard_associated
--- PASS: TestDeleteByDashboardUIDs (0.01s)
--- PASS: TestDeleteByDashboardUIDs/TestDeleteByDashboardUIDs_deletes_all_public_dashboard1_resources_by_dashboard1_UID (0.00s)
--- PASS: TestDeleteByDashboardUIDs/TestDeleteByDashboardUIDs_deletes_all_public_dashboard1_resources_by_dashboard1_UIDs (0.00s)
--- PASS: TestDeleteByDashboardUIDs/TestDeleteByDashboardUIDs_does_not_return_an_error_when_the_dashboard_has_no_public_dashboard_associated (0.00s)
=== RUN   TestAppendErrorMessageIdAsQueryParam
=== RUN   TestAppendErrorMessageIdAsQueryParam/should_return_url_with_error_message_id_appended
=== RUN   TestAppendErrorMessageIdAsQueryParam/should_return_original_url_if_error_is_nil
=== RUN   TestAppendErrorMessageIdAsQueryParam/should_return_url_with_error_message_id_default_appended_if_it_is_not_an_error_plane_error
--- PASS: TestAppendErrorMessageIdAsQueryParam (0.00s)
--- PASS: TestAppendErrorMessageIdAsQueryParam/should_return_url_with_error_message_id_appended (0.00s)
--- PASS: TestAppendErrorMessageIdAsQueryParam/should_return_original_url_if_error_is_nil (0.00s)
--- PASS: TestAppendErrorMessageIdAsQueryParam/should_return_url_with_error_message_id_default_appended_if_it_is_not_an_error_plane_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/enterprisepublicdashboards/service	(cached)
?   	github.com/grafana/grafana/pkg/extensions/enterpriseusagestatssvcs	[no test files]
=== RUN   TestService_diffRoles
=== RUN   TestService_diffRoles/when_no_roles_are_mapped_and_no_roles_should_be_mapped,_returns_empty_lists
=== RUN   TestService_diffRoles/when_no_roles_are_mapped_and_some_role_mappings_should_apply,_returns_role_mappings_to_add_grouped_by_org_and_role
=== RUN   TestService_diffRoles/when_some_roles_are_mapped_and_some_more_role_mappings_should_apply,_returns_only_those_role_mappings_that_have_not_been_applied_yet
=== RUN   TestService_diffRoles/when_some_roles_are_mapped_but_fewer_role_mappings_should_apply,_returns_the_mappings_that_should_be_removed
=== RUN   TestService_diffRoles/when_some_mappings_should_be_added_and_some_removed,_returns_the_right_diff
--- PASS: TestService_diffRoles (0.34s)
--- PASS: TestService_diffRoles/when_no_roles_are_mapped_and_no_roles_should_be_mapped,_returns_empty_lists (0.33s)
--- PASS: TestService_diffRoles/when_no_roles_are_mapped_and_some_role_mappings_should_apply,_returns_role_mappings_to_add_grouped_by_org_and_role (0.00s)
--- PASS: TestService_diffRoles/when_some_roles_are_mapped_and_some_more_role_mappings_should_apply,_returns_only_those_role_mappings_that_have_not_been_applied_yet (0.00s)
--- PASS: TestService_diffRoles/when_some_roles_are_mapped_but_fewer_role_mappings_should_apply,_returns_the_mappings_that_should_be_removed (0.00s)
--- PASS: TestService_diffRoles/when_some_mappings_should_be_added_and_some_removed,_returns_the_right_diff (0.00s)
=== RUN   TestService_PutGroupAttributes
=== RUN   TestService_PutGroupAttributes/when_mapping_no_newRoles_to_a_new_group,_no_role_mappings_are_set
=== RUN   TestService_PutGroupAttributes/when_mapping_a_single_role_to_a_new_group,_the_role_is_set
=== RUN   TestService_PutGroupAttributes/can't_map_external_service_roles
=== RUN   TestService_PutGroupAttributes/when_user_doesn't_have_permissions_required_by_the_role,_the_role_is_not_set
=== RUN   TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_additional_roles_are_added,_the_user_only_needs_permissions_on_the_new_roles_and_the_full_set_of_roles_is_mapped
=== RUN   TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_additional_roles_are_added,_the_user_needs_permissions_on_the_new_roles
=== RUN   TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_the_new_mapping_doesn't_include_them,_the_user_needs_permissions_on_the_roles_that_are_being_removed
=== RUN   TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_the_new_mapping_doesn't_include_them,_the_user_can_update_the_mapping_if_they_have_permissions_on_the_new_roles_and_roles_that_are_being_removed
--- PASS: TestService_PutGroupAttributes (0.00s)
--- PASS: TestService_PutGroupAttributes/when_mapping_no_newRoles_to_a_new_group,_no_role_mappings_are_set (0.00s)
--- PASS: TestService_PutGroupAttributes/when_mapping_a_single_role_to_a_new_group,_the_role_is_set (0.00s)
--- PASS: TestService_PutGroupAttributes/can't_map_external_service_roles (0.00s)
--- PASS: TestService_PutGroupAttributes/when_user_doesn't_have_permissions_required_by_the_role,_the_role_is_not_set (0.00s)
--- PASS: TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_additional_roles_are_added,_the_user_only_needs_permissions_on_the_new_roles_and_the_full_set_of_roles_is_mapped (0.00s)
--- PASS: TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_additional_roles_are_added,_the_user_needs_permissions_on_the_new_roles (0.00s)
--- PASS: TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_the_new_mapping_doesn't_include_them,_the_user_needs_permissions_on_the_roles_that_are_being_removed (0.00s)
--- PASS: TestService_PutGroupAttributes/when_some_roles_are_already_mapped_and_the_new_mapping_doesn't_include_them,_the_user_can_update_the_mapping_if_they_have_permissions_on_the_new_roles_and_roles_that_are_being_removed (0.00s)
=== RUN   TestService_DeleteGroup
=== RUN   TestService_DeleteGroup/when_there_are_no_mappings_for_the_group,_no_error_is_returned
=== RUN   TestService_DeleteGroup/when_the_user_has_permissions_on_the_currently_mapped_roles,_they_can_delete_the_group_mappings
=== RUN   TestService_DeleteGroup/when_the_user_is_missing_permissions_on_the_currently_mapped_roles,_they_can_not_delete_the_group_mappings
--- PASS: TestService_DeleteGroup (0.00s)
--- PASS: TestService_DeleteGroup/when_there_are_no_mappings_for_the_group,_no_error_is_returned (0.00s)
--- PASS: TestService_DeleteGroup/when_the_user_has_permissions_on_the_currently_mapped_roles,_they_can_delete_the_group_mappings (0.00s)
--- PASS: TestService_DeleteGroup/when_the_user_is_missing_permissions_on_the_currently_mapped_roles,_they_can_not_delete_the_group_mappings (0.00s)
=== RUN   TestService_CreateGroupAttributes
=== RUN   TestService_CreateGroupAttributes/when_there_are_no_existing_group_mappings,_the_new_group_mappings_are_created
=== RUN   TestService_CreateGroupAttributes/when_there_are_existing_group_mappings,_the_new_group_mappings_are_merged_with_existing
=== RUN   TestService_CreateGroupAttributes/when_there_are_existing_group_mappings,_the_new_group_mappings_are_applied_additionally
=== RUN   TestService_CreateGroupAttributes/when_there_are_existing_group_mappings,_but_the_requestor_does_not_have_permissions_to_delegate
--- PASS: TestService_CreateGroupAttributes (0.00s)
--- PASS: TestService_CreateGroupAttributes/when_there_are_no_existing_group_mappings,_the_new_group_mappings_are_created (0.00s)
--- PASS: TestService_CreateGroupAttributes/when_there_are_existing_group_mappings,_the_new_group_mappings_are_merged_with_existing (0.00s)
--- PASS: TestService_CreateGroupAttributes/when_there_are_existing_group_mappings,_the_new_group_mappings_are_applied_additionally (0.00s)
--- PASS: TestService_CreateGroupAttributes/when_there_are_existing_group_mappings,_but_the_requestor_does_not_have_permissions_to_delegate (0.00s)
=== RUN   TestService_GetGroupRoles
=== RUN   TestService_GetGroupRoles/when_no_roles_are_mapped_to_a_group_ID,_no_roles_are_returned
=== RUN   TestService_GetGroupRoles/when_some_roles_are_mapped_to_a_group_ID,_these_roles_are_correctly_returned
--- PASS: TestService_GetGroupRoles (0.00s)
--- PASS: TestService_GetGroupRoles/when_no_roles_are_mapped_to_a_group_ID,_no_roles_are_returned (0.00s)
--- PASS: TestService_GetGroupRoles/when_some_roles_are_mapped_to_a_group_ID,_these_roles_are_correctly_returned (0.00s)
=== RUN   TestService_GetGroups
=== RUN   TestService_GetGroups/listing_a_single_org
=== RUN   TestService_GetGroups/paging_a_single_org
=== RUN   TestService_GetGroups/filtering_a_single_org_by_group_ID
=== RUN   TestService_GetGroups/listing_two_orgs
--- PASS: TestService_GetGroups (0.00s)
--- PASS: TestService_GetGroups/listing_a_single_org (0.00s)
--- PASS: TestService_GetGroups/paging_a_single_org (0.00s)
--- PASS: TestService_GetGroups/filtering_a_single_org_by_group_ID (0.00s)
--- PASS: TestService_GetGroups/listing_two_orgs (0.00s)
=== RUN   TestService_GroupMappingUnmarshaling
=== RUN   TestService_GroupMappingUnmarshaling/unknown_variant
=== RUN   TestService_GroupMappingUnmarshaling/invalid_rbac_mapping
--- PASS: TestService_GroupMappingUnmarshaling (0.00s)
--- PASS: TestService_GroupMappingUnmarshaling/unknown_variant (0.00s)
--- PASS: TestService_GroupMappingUnmarshaling/invalid_rbac_mapping (0.00s)
=== RUN   TestIntegrationStore_SetGroupMappings
store_test.go:43: skipping integration test
--- SKIP: TestIntegrationStore_SetGroupMappings (0.00s)
=== RUN   TestIntegrationStore_GetGroupMappings
store_test.go:66: skipping integration test
--- SKIP: TestIntegrationStore_GetGroupMappings (0.00s)
=== RUN   TestIntegrationStore_CountGroups
store_test.go:136: skipping integration test
--- SKIP: TestIntegrationStore_CountGroups (0.00s)
=== RUN   TestIntegrationStore_DeleteGroup
store_test.go:177: skipping integration test
--- SKIP: TestIntegrationStore_DeleteGroup (0.00s)
=== RUN   TestIntegrationStore_GetGroupIDs
store_test.go:190: skipping integration test
--- SKIP: TestIntegrationStore_GetGroupIDs (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/groupsync	(cached)
?   	github.com/grafana/grafana/pkg/extensions/hashivault	[no test files]
=== RUN   Test_KeyProvidersService
=== RUN   Test_KeyProvidersService/Secrets_service_should_fail_to_start_due_missing_current_provider's_configuration
=== RUN   Test_KeyProvidersService/Secrets_service_should_fail_to_start_due_to_provider's_setup_error_(missing_keyID)
=== RUN   Test_KeyProvidersService/Should_successfully_set_up_both_awskms_providers
--- PASS: Test_KeyProvidersService (0.35s)
--- PASS: Test_KeyProvidersService/Secrets_service_should_fail_to_start_due_missing_current_provider's_configuration (0.34s)
--- PASS: Test_KeyProvidersService/Secrets_service_should_fail_to_start_due_to_provider's_setup_error_(missing_keyID) (0.00s)
--- PASS: Test_KeyProvidersService/Should_successfully_set_up_both_awskms_providers (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/kmsproviders	(cached)
=== RUN   Test_AWSProviderSetup
=== RUN   Test_AWSProviderSetup/When_key_id_is_missing,_it_should_fail
=== RUN   Test_AWSProviderSetup/When_access_key_id,_secret_access_key,_region_are_specified,_they_should_be_used_in_session
--- PASS: Test_AWSProviderSetup (0.00s)
--- PASS: Test_AWSProviderSetup/When_key_id_is_missing,_it_should_fail (0.00s)
--- PASS: Test_AWSProviderSetup/When_access_key_id,_secret_access_key,_region_are_specified,_they_should_be_used_in_session (0.00s)
=== RUN   Test_AWSProviderEncryption
=== RUN   Test_AWSProviderEncryption/When_valid_license,_encrypting_and_decrypting_should_succeed
=== RUN   Test_AWSProviderEncryption/When_in_grace_period,_encrypting_and_decrypting_should_succeed
=== RUN   Test_AWSProviderEncryption/When_license_has_expired,_encrypting_should_fail,_but_decrypting_should_succeed
=== RUN   Test_AWSProviderEncryption/When_license_is_invalid,_encrypting_should_fail,_but_decrypting_should_succeed
--- PASS: Test_AWSProviderEncryption (0.00s)
--- PASS: Test_AWSProviderEncryption/When_valid_license,_encrypting_and_decrypting_should_succeed (0.00s)
--- PASS: Test_AWSProviderEncryption/When_in_grace_period,_encrypting_and_decrypting_should_succeed (0.00s)
--- PASS: Test_AWSProviderEncryption/When_license_has_expired,_encrypting_should_fail,_but_decrypting_should_succeed (0.00s)
--- PASS: Test_AWSProviderEncryption/When_license_is_invalid,_encrypting_should_fail,_but_decrypting_should_succeed (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/kmsproviders/awskms	(cached)
=== RUN   TestAzureSetup
=== RUN   TestAzureSetup/Credentials_are_missing
=== RUN   TestAzureSetup/Vault_configuration_is_missing
=== RUN   TestAzureSetup/Provider_is_created_successfully
--- PASS: TestAzureSetup (0.00s)
--- PASS: TestAzureSetup/Credentials_are_missing (0.00s)
--- PASS: TestAzureSetup/Vault_configuration_is_missing (0.00s)
--- PASS: TestAzureSetup/Provider_is_created_successfully (0.00s)
=== RUN   TestAzureEncryption
=== RUN   TestAzureEncryption/Encryption_fails_because_license_is_invalid
=== RUN   TestAzureEncryption/When_in_grace_period,_encryption_should_succeed
=== RUN   TestAzureEncryption/When_license_is_valid,_encryption_should_succeed
--- PASS: TestAzureEncryption (0.00s)
--- PASS: TestAzureEncryption/Encryption_fails_because_license_is_invalid (0.00s)
--- PASS: TestAzureEncryption/When_in_grace_period,_encryption_should_succeed (0.00s)
--- PASS: TestAzureEncryption/When_license_is_valid,_encryption_should_succeed (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/kmsproviders/azurekv	(cached)
=== RUN   Test_GoogleProviderSetup
=== RUN   Test_GoogleProviderSetup/When_credentials_file_path_is_missing,_it_should_fail
=== RUN   Test_GoogleProviderSetup/When_key_id_is_missing,_it_should_fail
=== RUN   Test_GoogleProviderSetup/Should_create_provider_successfully
--- PASS: Test_GoogleProviderSetup (0.00s)
--- PASS: Test_GoogleProviderSetup/When_credentials_file_path_is_missing,_it_should_fail (0.00s)
--- PASS: Test_GoogleProviderSetup/When_key_id_is_missing,_it_should_fail (0.00s)
--- PASS: Test_GoogleProviderSetup/Should_create_provider_successfully (0.00s)
=== RUN   Test_GoogleProviderEncryption
=== RUN   Test_GoogleProviderEncryption/when_license_is_invalid
=== RUN   Test_GoogleProviderEncryption/when_license_is_valid
=== RUN   Test_GoogleProviderEncryption/when_in_grace_period
=== RUN   Test_GoogleProviderEncryption/when_license_is_expired
--- PASS: Test_GoogleProviderEncryption (0.00s)
--- PASS: Test_GoogleProviderEncryption/when_license_is_invalid (0.00s)
--- PASS: Test_GoogleProviderEncryption/when_license_is_valid (0.00s)
--- PASS: Test_GoogleProviderEncryption/when_in_grace_period (0.00s)
--- PASS: Test_GoogleProviderEncryption/when_license_is_expired (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/kmsproviders/googlekms	(cached)
=== RUN   Test_HashicorpVaultProviderSetup
=== RUN   Test_HashicorpVaultProviderSetup/When_token_is_missing,_it_should_fail
=== RUN   Test_HashicorpVaultProviderSetup/When_url_is_missing,_it_should_fail
=== RUN   Test_HashicorpVaultProviderSetup/When_transit_engine_path_is_missing,_it_should_fail
=== RUN   Test_HashicorpVaultProviderSetup/When_key_ring_is_missing,_it_should_fail
=== RUN   Test_HashicorpVaultProviderSetup/Should_create_provider_successfully
--- PASS: Test_HashicorpVaultProviderSetup (0.00s)
--- PASS: Test_HashicorpVaultProviderSetup/When_token_is_missing,_it_should_fail (0.00s)
--- PASS: Test_HashicorpVaultProviderSetup/When_url_is_missing,_it_should_fail (0.00s)
--- PASS: Test_HashicorpVaultProviderSetup/When_transit_engine_path_is_missing,_it_should_fail (0.00s)
--- PASS: Test_HashicorpVaultProviderSetup/When_key_ring_is_missing,_it_should_fail (0.00s)
--- PASS: Test_HashicorpVaultProviderSetup/Should_create_provider_successfully (0.00s)
=== RUN   Test_HashicorpVaultProviderEncryption
=== RUN   Test_HashicorpVaultProviderEncryption/when_license_is_expired
=== RUN   Test_HashicorpVaultProviderEncryption/when_license_is_invalid
=== RUN   Test_HashicorpVaultProviderEncryption/when_license_is_valid
=== RUN   Test_HashicorpVaultProviderEncryption/when_in_grace_period
--- PASS: Test_HashicorpVaultProviderEncryption (0.00s)
--- PASS: Test_HashicorpVaultProviderEncryption/when_license_is_expired (0.00s)
--- PASS: Test_HashicorpVaultProviderEncryption/when_license_is_invalid (0.00s)
--- PASS: Test_HashicorpVaultProviderEncryption/when_license_is_valid (0.00s)
--- PASS: Test_HashicorpVaultProviderEncryption/when_in_grace_period (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/kmsproviders/hashicorpvault	(cached)
?   	github.com/grafana/grafana/pkg/extensions/kmsproviders/tests	[no test files]
=== RUN   TestGetSyncStatus_WithLDAPSyncEnabled
--- PASS: TestGetSyncStatus_WithLDAPSyncEnabled (0.00s)
=== RUN   TestGetSyncStatus_WithLDAPSyncDisabled
--- PASS: TestGetSyncStatus_WithLDAPSyncDisabled (0.00s)
=== RUN   TestGetSyncStatus_FeatureToggle
=== RUN   TestGetSyncStatus_FeatureToggle/should_return_informative_payload_when_enabled_by_token_and_config
=== RUN   TestGetSyncStatus_FeatureToggle/should_return_enabled_false_on_payload_when_enabled_by_config_but_disabled_by_token
--- PASS: TestGetSyncStatus_FeatureToggle (0.27s)
--- PASS: TestGetSyncStatus_FeatureToggle/should_return_informative_payload_when_enabled_by_token_and_config (0.00s)
--- PASS: TestGetSyncStatus_FeatureToggle/should_return_enabled_false_on_payload_when_enabled_by_config_but_disabled_by_token (0.00s)
=== RUN   TestGetTeams
--- PASS: TestGetTeams (0.00s)
=== RUN   TestGetTeams_FeatureToggle
=== RUN   TestGetTeams_FeatureToggle/should_return_teams_when_enabled_by_token
=== RUN   TestGetTeams_FeatureToggle/should_return_nil_when_disabled_by_token
--- PASS: TestGetTeams_FeatureToggle (0.00s)
--- PASS: TestGetTeams_FeatureToggle/should_return_teams_when_enabled_by_token (0.00s)
--- PASS: TestGetTeams_FeatureToggle/should_return_nil_when_disabled_by_token (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/ldapdebug	(cached)
=== RUN   TestLDAPSync_ConExpression
=== RUN   TestLDAPSync_ConExpression/should_start_with_valid_expression
=== RUN   TestLDAPSync_ConExpression/should_error_with_invalid_expression
--- PASS: TestLDAPSync_ConExpression (0.00s)
--- PASS: TestLDAPSync_ConExpression/should_start_with_valid_expression (0.00s)
--- PASS: TestLDAPSync_ConExpression/should_error_with_invalid_expression (0.00s)
=== RUN   TestLDAPSync_NextRun
=== RUN   TestLDAPSync_NextRun/should_return_when_next_run_should_happen_based_on_cron_expression
=== RUN   TestLDAPSync_NextRun/should_return_when_next_run_should_happen_based_on_old_cron_expression_notation
--- PASS: TestLDAPSync_NextRun (0.00s)
--- PASS: TestLDAPSync_NextRun/should_return_when_next_run_should_happen_based_on_cron_expression (0.00s)
--- PASS: TestLDAPSync_NextRun/should_return_when_next_run_should_happen_based_on_old_cron_expression_notation (0.00s)
=== RUN   TestLDAPSync_Sync
=== RUN   TestLDAPSync_Sync/should_sync_all_users
=== RUN   TestLDAPSync_Sync/should_disable_users_that_no_longer_exists_in_ldap
=== RUN   TestLDAPSync_Sync/should_record_when_a_sync_fails
--- PASS: TestLDAPSync_Sync (0.00s)
--- PASS: TestLDAPSync_Sync/should_sync_all_users (0.00s)
--- PASS: TestLDAPSync_Sync/should_disable_users_that_no_longer_exists_in_ldap (0.00s)
--- PASS: TestLDAPSync_Sync/should_record_when_a_sync_fails (0.00s)
=== RUN   TestLDAPSync_RunSuccess
--- PASS: TestLDAPSync_RunSuccess (0.00s)
=== RUN   TestLDAPSync_GetUsageReport
=== RUN   TestLDAPSync_GetUsageReport/Expecting_metric_with_value_0
=== RUN   TestLDAPSync_GetUsageReport/Expecting_metric_with_value_1
--- PASS: TestLDAPSync_GetUsageReport (0.00s)
--- PASS: TestLDAPSync_GetUsageReport/Expecting_metric_with_value_0 (0.00s)
--- PASS: TestLDAPSync_GetUsageReport/Expecting_metric_with_value_1 (0.00s)
=== RUN   TestLDAPSync_IsDisabled
=== RUN   TestLDAPSync_IsDisabled/should_be_enabled_when_ldap_is_enabled_and_active_sync_is_enabled
=== RUN   TestLDAPSync_IsDisabled/should_be_disabled_when_ldap_is_disabled_and_active_sync_is_enabled
=== RUN   TestLDAPSync_IsDisabled/should_be_disabled_when_ldap_is_enabled_and_active_sync_is_disabled
--- PASS: TestLDAPSync_IsDisabled (0.00s)
--- PASS: TestLDAPSync_IsDisabled/should_be_enabled_when_ldap_is_enabled_and_active_sync_is_enabled (0.00s)
--- PASS: TestLDAPSync_IsDisabled/should_be_disabled_when_ldap_is_disabled_and_active_sync_is_enabled (0.00s)
--- PASS: TestLDAPSync_IsDisabled/should_be_disabled_when_ldap_is_enabled_and_active_sync_is_disabled (0.00s)
=== RUN   TestIntegrationLDAPSync_FeatureToggle_syncAndLog
ldapsync_test.go:362: skipping integration test
--- SKIP: TestIntegrationLDAPSync_FeatureToggle_syncAndLog (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/ldapsync	(cached)
=== RUN   TestProductApplicabilityRestricted
=== PAUSE TestProductApplicabilityRestricted
=== RUN   TestToken_Compare
=== RUN   TestToken_Compare/empty_tokens
=== RUN   TestToken_Compare/invalid_token,_but_newer
=== RUN   TestToken_Compare/older_token
=== RUN   TestToken_Compare/valid_token,_older_but_other_is_invalid
=== RUN   TestToken_Compare/valid_tokens,_older
=== RUN   TestToken_Compare/valid_tokens,_newer
=== RUN   TestToken_Compare/same_token
=== RUN   TestToken_Compare/both_valid,_other_is_newer
=== RUN   TestToken_Compare/invalid_token,_other_is_valid_but_older
--- PASS: TestToken_Compare (0.00s)
--- PASS: TestToken_Compare/empty_tokens (0.00s)
--- PASS: TestToken_Compare/invalid_token,_but_newer (0.00s)
--- PASS: TestToken_Compare/older_token (0.00s)
--- PASS: TestToken_Compare/valid_token,_older_but_other_is_invalid (0.00s)
--- PASS: TestToken_Compare/valid_tokens,_older (0.00s)
--- PASS: TestToken_Compare/valid_tokens,_newer (0.00s)
--- PASS: TestToken_Compare/same_token (0.00s)
--- PASS: TestToken_Compare/both_valid,_other_is_newer (0.00s)
--- PASS: TestToken_Compare/invalid_token,_other_is_valid_but_older (0.00s)
=== RUN   TestToken_Validate
=== RUN   TestToken_Validate/With_a_non-matching_URL
=== RUN   TestToken_Validate/With_a_non-matching_URL_using_wildcard
=== RUN   TestToken_Validate/With_a_non-matching_URL_using_wildcard_with_subdomain
=== RUN   TestToken_Validate/When_the_license_is_not_active_yet
=== RUN   TestToken_Validate/When_the_license_has_expired
=== RUN   TestToken_Validate/When_the_token_has_expired
=== RUN   TestToken_Validate/With_a_non-matching_product
=== RUN   TestToken_Validate/With_a_valid_token
=== RUN   TestToken_Validate/With_a_valid_wildcard_url
=== RUN   TestToken_Validate/With_a_valid_hashed_url
=== RUN   TestToken_Validate/With_an_invalid_hashed_url
=== RUN   TestToken_Validate/With_an_blocked_licenses_ID
--- PASS: TestToken_Validate (0.00s)
--- PASS: TestToken_Validate/With_a_non-matching_URL (0.00s)
--- PASS: TestToken_Validate/With_a_non-matching_URL_using_wildcard (0.00s)
--- PASS: TestToken_Validate/With_a_non-matching_URL_using_wildcard_with_subdomain (0.00s)
--- PASS: TestToken_Validate/When_the_license_is_not_active_yet (0.00s)
--- PASS: TestToken_Validate/When_the_license_has_expired (0.00s)
--- PASS: TestToken_Validate/When_the_token_has_expired (0.00s)
--- PASS: TestToken_Validate/With_a_non-matching_product (0.00s)
--- PASS: TestToken_Validate/With_a_valid_token (0.00s)
--- PASS: TestToken_Validate/With_a_valid_wildcard_url (0.00s)
--- PASS: TestToken_Validate/With_a_valid_hashed_url (0.00s)
--- PASS: TestToken_Validate/With_an_invalid_hashed_url (0.00s)
--- PASS: TestToken_Validate/With_an_blocked_licenses_ID (0.00s)
=== RUN   TestParseValidationKeys
=== RUN   TestParseValidationKeys/empty
=== RUN   TestParseValidationKeys/valid_jwks_and_valid_jwt
=== RUN   TestParseValidationKeys/valid_jwks_and_blocked_jwt
=== RUN   TestParseValidationKeys/invalid_jwks
--- PASS: TestParseValidationKeys (0.00s)
--- PASS: TestParseValidationKeys/empty (0.00s)
--- PASS: TestParseValidationKeys/valid_jwks_and_valid_jwt (0.00s)
--- PASS: TestParseValidationKeys/valid_jwks_and_blocked_jwt (0.00s)
--- PASS: TestParseValidationKeys/invalid_jwks (0.00s)
=== RUN   TestTokenStatus_String
=== RUN   TestTokenStatus_String/NotLoaded
=== RUN   TestTokenStatus_String/Valid
=== RUN   TestTokenStatus_String/Loaded
=== RUN   TestTokenStatus_String/Invalid
=== RUN   TestTokenStatus_String/NotFound
=== RUN   TestTokenStatus_String/Expired
=== RUN   TestTokenStatus_String/InvalidSubject
--- PASS: TestTokenStatus_String (0.00s)
--- PASS: TestTokenStatus_String/NotLoaded (0.00s)
--- PASS: TestTokenStatus_String/Valid (0.00s)
--- PASS: TestTokenStatus_String/Loaded (0.00s)
--- PASS: TestTokenStatus_String/Invalid (0.00s)
--- PASS: TestTokenStatus_String/NotFound (0.00s)
--- PASS: TestTokenStatus_String/Expired (0.00s)
--- PASS: TestTokenStatus_String/InvalidSubject (0.00s)
=== CONT  TestProductApplicabilityRestricted
=== RUN   TestProductApplicabilityRestricted/when_a_license_contains_a_product_in_the_applicability_list,_it_returns_true
=== PAUSE TestProductApplicabilityRestricted/when_a_license_contains_a_product_in_the_applicability_list,_it_returns_true
=== RUN   TestProductApplicabilityRestricted/when_a_license_does_not_contain_a_product_in_the_applicability_list,_it_returns_false
=== PAUSE TestProductApplicabilityRestricted/when_a_license_does_not_contain_a_product_in_the_applicability_list,_it_returns_false
=== RUN   TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_and_the_license_includes_any_enterprise_plugin,_it_returns_true
=== PAUSE TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_and_the_license_includes_any_enterprise_plugin,_it_returns_true
=== RUN   TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_but_there_is_no_enterprise_plugin_in_the_license,_it_returns_false
=== PAUSE TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_but_there_is_no_enterprise_plugin_in_the_license,_it_returns_false
=== CONT  TestProductApplicabilityRestricted/when_a_license_contains_a_product_in_the_applicability_list,_it_returns_true
=== CONT  TestProductApplicabilityRestricted/when_a_license_does_not_contain_a_product_in_the_applicability_list,_it_returns_false
=== CONT  TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_but_there_is_no_enterprise_plugin_in_the_license,_it_returns_false
=== CONT  TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_and_the_license_includes_any_enterprise_plugin,_it_returns_true
--- PASS: TestProductApplicabilityRestricted (0.00s)
--- PASS: TestProductApplicabilityRestricted/when_a_license_contains_a_product_in_the_applicability_list,_it_returns_true (0.00s)
--- PASS: TestProductApplicabilityRestricted/when_a_license_does_not_contain_a_product_in_the_applicability_list,_it_returns_false (0.00s)
--- PASS: TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_but_there_is_no_enterprise_plugin_in_the_license,_it_returns_false (0.00s)
--- PASS: TestProductApplicabilityRestricted/when_the_feature_checked_is_`enterprise.plugins`_and_the_license_includes_any_enterprise_plugin,_it_returns_true (0.00s)
=== RUN   Example_additionalValidationKeys
--- PASS: Example_additionalValidationKeys (0.10s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/licensing	(cached)
=== RUN   TestAPIEndpoints_LicensingCheck
=== RUN   TestAPIEndpoints_LicensingCheck/No_permissions_are_necessary_to_check_licensing
--- PASS: TestAPIEndpoints_LicensingCheck (0.00s)
--- PASS: TestAPIEndpoints_LicensingCheck/No_permissions_are_necessary_to_check_licensing (0.00s)
=== RUN   TestAPIEndpoints_LicensingToken
=== RUN   TestAPIEndpoints_LicensingToken/AccessControl_prevents_reading_licensing_token_if_the_correct_permissions_are_not_granted
=== RUN   TestAPIEndpoints_LicensingToken/AccessControl_allows_reading_licensing_token_if_licensing_read_permission_is_granted
--- PASS: TestAPIEndpoints_LicensingToken (0.00s)
--- PASS: TestAPIEndpoints_LicensingToken/AccessControl_prevents_reading_licensing_token_if_the_correct_permissions_are_not_granted (0.00s)
--- PASS: TestAPIEndpoints_LicensingToken/AccessControl_allows_reading_licensing_token_if_licensing_read_permission_is_granted (0.00s)
=== RUN   TestAPIEndpoints_LicensingDeleteToken
=== RUN   TestAPIEndpoints_LicensingDeleteToken/AccessControl_prevents_deleting_licensing_token_if_the_correct_permissions_are_not_granted
=== RUN   TestAPIEndpoints_LicensingDeleteToken/AccessControl_allows_deleting_licensing_token_if_licensing_delete_permission_is_granted
--- PASS: TestAPIEndpoints_LicensingDeleteToken (0.01s)
--- PASS: TestAPIEndpoints_LicensingDeleteToken/AccessControl_prevents_deleting_licensing_token_if_the_correct_permissions_are_not_granted (0.00s)
--- PASS: TestAPIEndpoints_LicensingDeleteToken/AccessControl_allows_deleting_licensing_token_if_licensing_delete_permission_is_granted (0.00s)
=== RUN   TestAPIEndpoints_LicensingRenewToken
=== RUN   TestAPIEndpoints_LicensingRenewToken/AccessControl_prevents_renewing_licensing_token_if_the_correct_permissions_are_not_granted
=== RUN   TestAPIEndpoints_LicensingRenewToken/AccessControl_allows_renewing_licensing_token_if_licensing_write_permission_is_granted
--- PASS: TestAPIEndpoints_LicensingRenewToken (0.00s)
--- PASS: TestAPIEndpoints_LicensingRenewToken/AccessControl_prevents_renewing_licensing_token_if_the_correct_permissions_are_not_granted (0.00s)
--- PASS: TestAPIEndpoints_LicensingRenewToken/AccessControl_allows_renewing_licensing_token_if_licensing_write_permission_is_granted (0.00s)
=== RUN   TestAPIEndpoints_LicensingRefreshStats
=== RUN   TestAPIEndpoints_LicensingRefreshStats/AccessControl_prevents_refreshing_licensing_stats_if_the_correct_permissions_are_not_granted
=== RUN   TestAPIEndpoints_LicensingRefreshStats/AccessControl_allows_refreshing_licensing_stats_if_licensing_read_permission_is_granted
--- PASS: TestAPIEndpoints_LicensingRefreshStats (0.00s)
--- PASS: TestAPIEndpoints_LicensingRefreshStats/AccessControl_prevents_refreshing_licensing_stats_if_the_correct_permissions_are_not_granted (0.00s)
--- PASS: TestAPIEndpoints_LicensingRefreshStats/AccessControl_allows_refreshing_licensing_stats_if_licensing_read_permission_is_granted (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/licensing/api	(cached)
=== RUN   Test_GetAvailableToken
=== RUN   Test_GetAvailableToken/get_available_token_present_on_token_data
=== RUN   Test_GetAvailableToken/return_nil_if_available_token_is_not_present
--- PASS: Test_GetAvailableToken (0.00s)
--- PASS: Test_GetAvailableToken/get_available_token_present_on_token_data (0.00s)
--- PASS: Test_GetAvailableToken/return_nil_if_available_token_is_not_present (0.00s)
=== RUN   Test_ParseLicenseId
=== RUN   Test_ParseLicenseId/parse_license_id_from_license_with_arn
=== RUN   Test_ParseLicenseId/parse_license_id_from_license_without_arn
--- PASS: Test_ParseLicenseId (0.00s)
--- PASS: Test_ParseLicenseId/parse_license_id_from_license_with_arn (0.00s)
--- PASS: Test_ParseLicenseId/parse_license_id_from_license_without_arn (0.00s)
=== RUN   Test_ParseAccountId
=== RUN   Test_ParseAccountId/parse_account_id_from_license_with_arn
=== RUN   Test_ParseAccountId/parse_account_id_form_license_without_arn
--- PASS: Test_ParseAccountId (0.00s)
--- PASS: Test_ParseAccountId/parse_account_id_from_license_with_arn (0.00s)
--- PASS: Test_ParseAccountId/parse_account_id_form_license_without_arn (0.00s)
=== RUN   Test_ParseLicenseMaxCounts
=== RUN   Test_ParseLicenseMaxCounts/parse_allowed_entitlements
=== RUN   Test_ParseLicenseMaxCounts/parse_empty_entitlements
--- PASS: Test_ParseLicenseMaxCounts (0.00s)
--- PASS: Test_ParseLicenseMaxCounts/parse_allowed_entitlements (0.00s)
--- PASS: Test_ParseLicenseMaxCounts/parse_empty_entitlements (0.00s)
=== RUN   Test_ParseSlug
=== RUN   Test_ParseSlug/parse_slug_from_valid_license
=== RUN   Test_ParseSlug/parse_slug_from_license_without_arn
=== RUN   Test_ParseSlug/parse_slug_from_license_without_issuer
--- PASS: Test_ParseSlug (0.00s)
--- PASS: Test_ParseSlug/parse_slug_from_valid_license (0.00s)
--- PASS: Test_ParseSlug/parse_slug_from_license_without_arn (0.00s)
--- PASS: Test_ParseSlug/parse_slug_from_license_without_issuer (0.00s)
=== RUN   Test_GetDetailsUrl
=== RUN   Test_GetDetailsUrl/get_details_url_with_valid_license
=== RUN   Test_GetDetailsUrl/get_details_url_without_grantArn_metadata
--- PASS: Test_GetDetailsUrl (0.00s)
--- PASS: Test_GetDetailsUrl/get_details_url_with_valid_license (0.00s)
--- PASS: Test_GetDetailsUrl/get_details_url_without_grantArn_metadata (0.00s)
=== RUN   Test_EncodeDecodeCheckoutToken
=== RUN   Test_EncodeDecodeCheckoutToken/valid_encode
=== RUN   Test_EncodeDecodeCheckoutToken/valid_decode
=== RUN   Test_EncodeDecodeCheckoutToken/invalid_base64_decode
=== RUN   Test_EncodeDecodeCheckoutToken/invalid_attributes_decode
--- PASS: Test_EncodeDecodeCheckoutToken (0.00s)
--- PASS: Test_EncodeDecodeCheckoutToken/valid_encode (0.00s)
--- PASS: Test_EncodeDecodeCheckoutToken/valid_decode (0.00s)
--- PASS: Test_EncodeDecodeCheckoutToken/invalid_base64_decode (0.00s)
--- PASS: Test_EncodeDecodeCheckoutToken/invalid_attributes_decode (0.00s)
=== RUN   Test_Getentitlements
=== RUN   Test_Getentitlements/get_entitlments_with_0_users
=== RUN   Test_Getentitlements/get_entitlements_with_5_users
--- PASS: Test_Getentitlements (0.00s)
--- PASS: Test_Getentitlements/get_entitlments_with_0_users (0.00s)
--- PASS: Test_Getentitlements/get_entitlements_with_5_users (0.00s)
=== RUN   Test_Populate
=== RUN   Test_Populate/valid_token_and_license
=== RUN   Test_Populate/invalid_license
=== RUN   Test_Populate/invalid_token
=== RUN   Test_Populate/invalid_usage
--- PASS: Test_Populate (0.40s)
--- PASS: Test_Populate/valid_token_and_license (0.00s)
--- PASS: Test_Populate/invalid_license (0.00s)
--- PASS: Test_Populate/invalid_token (0.00s)
--- PASS: Test_Populate/invalid_usage (0.00s)
=== RUN   Test_FetchToken
=== RUN   Test_FetchToken/valid_checkout_and_license
=== RUN   Test_FetchToken/invalid_license
=== RUN   Test_FetchToken/invalid_checkout_with_valid_database_token
=== RUN   Test_FetchToken/invalid_checkout_with_invalid_database_token
=== RUN   Test_FetchToken/invalid_checkout_without_database_token
--- PASS: Test_FetchToken (0.00s)
--- PASS: Test_FetchToken/valid_checkout_and_license (0.00s)
--- PASS: Test_FetchToken/invalid_license (0.00s)
--- PASS: Test_FetchToken/invalid_checkout_with_valid_database_token (0.00s)
--- PASS: Test_FetchToken/invalid_checkout_with_invalid_database_token (0.00s)
--- PASS: Test_FetchToken/invalid_checkout_without_database_token (0.00s)
=== RUN   Test_CheckoutToken
=== RUN   Test_CheckoutToken/invalid_checkout_with_valid_database_token
=== RUN   Test_CheckoutToken/invalid_checkout_with_invalid_database_token
=== RUN   Test_CheckoutToken/invalid_checkout_without_database_token
--- PASS: Test_CheckoutToken (0.00s)
--- PASS: Test_CheckoutToken/invalid_checkout_with_valid_database_token (0.00s)
--- PASS: Test_CheckoutToken/invalid_checkout_with_invalid_database_token (0.00s)
--- PASS: Test_CheckoutToken/invalid_checkout_without_database_token (0.00s)
=== RUN   Test_CheckinToken
=== RUN   Test_CheckinToken/invalid_base64
=== RUN   Test_CheckinToken/invalid_checkout_token
=== RUN   Test_CheckinToken/valid_checkout_token
--- PASS: Test_CheckinToken (0.00s)
--- PASS: Test_CheckinToken/invalid_base64 (0.00s)
--- PASS: Test_CheckinToken/invalid_checkout_token (0.00s)
--- PASS: Test_CheckinToken/valid_checkout_token (0.00s)
=== RUN   Test_ExtraUsers
=== RUN   Test_ExtraUsers/test_extra_users_with_some_usage
=== RUN   Test_ExtraUsers/test_extra_users_with_no_usage
--- PASS: Test_ExtraUsers (0.00s)
--- PASS: Test_ExtraUsers/test_extra_users_with_some_usage (0.00s)
--- PASS: Test_ExtraUsers/test_extra_users_with_no_usage (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/licensing/aws	(cached)
?   	github.com/grafana/grafana/pkg/extensions/licensing/database	[no test files]
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Test_FeatureEnabled
=== RUN   TestFeatureToggle/Test_FeatureEnabled/Should_not_enable_enterprise_plugins_when_enterprise_plugins_are_disabled_by_token
=== RUN   TestFeatureToggle/Test_FeatureEnabled/Should_enable_enterprise_plugins_when_enterprise_plugins_are_enabled_by_enterprise_token
=== RUN   TestFeatureToggle/Test_FeatureEnabled/Should_enable_enterprise_plugins_when_enterprise_plugins_are_enabled_by_plugin_token
--- PASS: TestFeatureToggle (0.39s)
--- PASS: TestFeatureToggle/Test_FeatureEnabled (0.00s)
--- PASS: TestFeatureToggle/Test_FeatureEnabled/Should_not_enable_enterprise_plugins_when_enterprise_plugins_are_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_FeatureEnabled/Should_enable_enterprise_plugins_when_enterprise_plugins_are_enabled_by_enterprise_token (0.00s)
--- PASS: TestFeatureToggle/Test_FeatureEnabled/Should_enable_enterprise_plugins_when_enterprise_plugins_are_enabled_by_plugin_token (0.00s)
=== RUN   TestCloudProFeatureParity
=== RUN   TestCloudProFeatureParity/Test_feature_parity_between_Cloud_Pro_and_Cloud_Pro_RBAC
--- PASS: TestCloudProFeatureParity (0.00s)
--- PASS: TestCloudProFeatureParity/Test_feature_parity_between_Cloud_Pro_and_Cloud_Pro_RBAC (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/licensing/featurestest	(cached)
?   	github.com/grafana/grafana/pkg/extensions/licensing/licensingtest	[no test files]
=== RUN   TestLicensing_EnterpriseMaxConcurrentSessions
=== RUN   TestLicensing_EnterpriseMaxConcurrentSessions/missing_token
=== RUN   TestLicensing_EnterpriseMaxConcurrentSessions/valid_license
=== RUN   TestLicensing_EnterpriseMaxConcurrentSessions/in_grace_period
=== RUN   TestLicensing_EnterpriseMaxConcurrentSessions/invalid_license
--- PASS: TestLicensing_EnterpriseMaxConcurrentSessions (0.00s)
--- PASS: TestLicensing_EnterpriseMaxConcurrentSessions/missing_token (0.00s)
--- PASS: TestLicensing_EnterpriseMaxConcurrentSessions/valid_license (0.00s)
--- PASS: TestLicensing_EnterpriseMaxConcurrentSessions/in_grace_period (0.00s)
--- PASS: TestLicensing_EnterpriseMaxConcurrentSessions/invalid_license (0.00s)
=== RUN   TestLicensing_Enterprise
=== RUN   TestLicensing_Enterprise/Given_an_enterprise_license_token_service
=== RUN   TestLicensing_Enterprise/Given_an_enterprise_license_token_service/When_loading_a_license_which_doesn't_exist
=== RUN   TestLicensing_Enterprise/Given_an_enterprise_license_token_service/When_loading_a_random_JWT_not_issued_by_Grafana
=== RUN   TestLicensing_Enterprise/Given_an_enterprise_license_token_service/When_given_an_empty_license_file
--- PASS: TestLicensing_Enterprise (0.24s)
--- PASS: TestLicensing_Enterprise/Given_an_enterprise_license_token_service (0.24s)
--- PASS: TestLicensing_Enterprise/Given_an_enterprise_license_token_service/When_loading_a_license_which_doesn't_exist (0.00s)
--- PASS: TestLicensing_Enterprise/Given_an_enterprise_license_token_service/When_loading_a_random_JWT_not_issued_by_Grafana (0.00s)
--- PASS: TestLicensing_Enterprise/Given_an_enterprise_license_token_service/When_given_an_empty_license_file (0.00s)
=== RUN   TestIntegrationRenewToken
licensing_renewal_test.go:84: skipping integration test
--- SKIP: TestIntegrationRenewToken (0.00s)
=== RUN   TestIntegrationRenewal_UsageStats
licensing_renewal_test.go:241: skipping integration test
--- SKIP: TestIntegrationRenewal_UsageStats (0.00s)
=== RUN   TestLicenseLimitsReachedValidLicense
=== RUN   TestLicenseLimitsReachedValidLicense/with_no_active_users
=== RUN   TestLicenseLimitsReachedValidLicense/with_active_users_below_the_limit
=== RUN   TestLicenseLimitsReachedValidLicense/with_active_users_to_the_limit
=== RUN   TestLicenseLimitsReachedValidLicense/with_active_users_above_the_limit
=== RUN   TestLicenseLimitsReachedValidLicense/limit_reached_with_anonymous_devices
--- PASS: TestLicenseLimitsReachedValidLicense (0.00s)
--- PASS: TestLicenseLimitsReachedValidLicense/with_no_active_users (0.00s)
--- PASS: TestLicenseLimitsReachedValidLicense/with_active_users_below_the_limit (0.00s)
--- PASS: TestLicenseLimitsReachedValidLicense/with_active_users_to_the_limit (0.00s)
--- PASS: TestLicenseLimitsReachedValidLicense/with_active_users_above_the_limit (0.00s)
--- PASS: TestLicenseLimitsReachedValidLicense/limit_reached_with_anonymous_devices (0.00s)
=== RUN   TestExpiredLicense
--- PASS: TestExpiredLicense (0.00s)
=== RUN   TestExpiredLicenseWithTimeInPast
--- PASS: TestExpiredLicenseWithTimeInPast (0.00s)
=== RUN   TestRevokedLicense
--- PASS: TestRevokedLicense (0.00s)
=== RUN   TestIntegrationLicensing
licensing_test.go:206: skipping integration test
--- SKIP: TestIntegrationLicensing (0.00s)
=== RUN   TestLicense_Environment
=== RUN   TestLicense_Environment/no_license_loaded
=== RUN   TestLicense_Environment/valid_license
=== RUN   TestLicense_Environment/valid_license_+_jwks
=== RUN   TestLicense_Environment/aws_validation_type
--- PASS: TestLicense_Environment (0.00s)
--- PASS: TestLicense_Environment/no_license_loaded (0.00s)
--- PASS: TestLicense_Environment/valid_license (0.00s)
--- PASS: TestLicense_Environment/valid_license_+_jwks (0.00s)
--- PASS: TestLicense_Environment/aws_validation_type (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/licensing/service	0.571s
=== RUN   TestMigrateToSpannerDialect
dialect_migration_test.go:74: This test only runs with mysql, and hasn't been tested with other databases.
--- SKIP: TestMigrateToSpannerDialect (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/migrations	(cached)
=== RUN   TestPluginNavService
=== RUN   TestPluginNavService/when_plugin_is_not_installed
=== RUN   TestPluginNavService/when_plugin_is_not_enabled
=== RUN   TestPluginNavService/when_user_does_not_have_required_role
=== RUN   TestPluginNavService/when_target_nav_ID_does_not_exist
=== RUN   TestPluginNavService/success_scenario
--- PASS: TestPluginNavService (0.00s)
--- PASS: TestPluginNavService/when_plugin_is_not_installed (0.00s)
--- PASS: TestPluginNavService/when_plugin_is_not_enabled (0.00s)
--- PASS: TestPluginNavService/when_user_does_not_have_required_role (0.00s)
--- PASS: TestPluginNavService/when_target_nav_ID_does_not_exist (0.00s)
--- PASS: TestPluginNavService/success_scenario (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginnav	(cached)
=== RUN   TestMiddlewareHandler
=== RUN   TestMiddlewareHandler/middleware_handler_with_TeamHttpHeaders
=== RUN   TestMiddlewareHandler/middleware_handler_with_TeamHttpHeaders/should_add_headers_for_regular_user_request
=== RUN   TestMiddlewareHandler/middleware_handler_with_TeamHttpHeaders/should_NOT_add_headers_with_service_account_request
--- PASS: TestMiddlewareHandler (0.00s)
--- PASS: TestMiddlewareHandler/middleware_handler_with_TeamHttpHeaders (0.00s)
--- PASS: TestMiddlewareHandler/middleware_handler_with_TeamHttpHeaders/should_add_headers_for_regular_user_request (0.00s)
--- PASS: TestMiddlewareHandler/middleware_handler_with_TeamHttpHeaders/should_NOT_add_headers_with_service_account_request (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration	(cached)
?   	github.com/grafana/grafana/pkg/extensions/pluginsintegration/authapp	[no test files]
=== RUN   TestService_Run
=== RUN   TestService_Run/Load_a_CDN_enabled_plugin
=== RUN   TestService_Run/Load_a_CDN_enabled_plugin_with_nested_plugin
--- PASS: TestService_Run (0.00s)
--- PASS: TestService_Run/Load_a_CDN_enabled_plugin (0.00s)
--- PASS: TestService_Run/Load_a_CDN_enabled_plugin_with_nested_plugin (0.00s)
=== RUN   TestService_IsDisabled
=== RUN   TestService_IsDisabled/returns_false_when_feature_toggle_is_off
=== RUN   TestService_IsDisabled/returns_true_when_feature_toggle_is_on
--- PASS: TestService_IsDisabled (0.00s)
--- PASS: TestService_IsDisabled/returns_false_when_feature_toggle_is_off (0.00s)
--- PASS: TestService_IsDisabled/returns_true_when_feature_toggle_is_on (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/cdn	(cached)
=== RUN   TestHTTP_Find
=== RUN   TestHTTP_Find/Empty_paths
=== RUN   TestHTTP_Find/Invalid_paths
=== RUN   TestHTTP_Find/Invalid_paths#01
=== RUN   TestHTTP_Find/Empty_response
=== RUN   TestHTTP_Find/Empty_JSON_object
=== RUN   TestHTTP_Find/Invalid_plugin.json
=== RUN   TestHTTP_Find/Valid_plugin.json_response
=== RUN   TestHTTP_Find/Mix_of_valid_and_invalid_cases
=== RUN   TestHTTP_Find/Duplicate_input_paths_will_be_de-duped
--- PASS: TestHTTP_Find (0.17s)
--- PASS: TestHTTP_Find/Empty_paths (0.00s)
--- PASS: TestHTTP_Find/Invalid_paths (0.00s)
--- PASS: TestHTTP_Find/Invalid_paths#01 (0.00s)
--- PASS: TestHTTP_Find/Empty_response (0.00s)
--- PASS: TestHTTP_Find/Empty_JSON_object (0.00s)
--- PASS: TestHTTP_Find/Invalid_plugin.json (0.00s)
--- PASS: TestHTTP_Find/Valid_plugin.json_response (0.00s)
--- PASS: TestHTTP_Find/Mix_of_valid_and_invalid_cases (0.16s)
--- PASS: TestHTTP_Find/Duplicate_input_paths_will_be_de-duped (0.00s)
=== RUN   TestFind_WithIncludes
=== RUN   TestFind_WithIncludes/Plugin_with_includes
--- PASS: TestFind_WithIncludes (0.00s)
--- PASS: TestFind_WithIncludes/Plugin_with_includes (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/cdn/finder	(cached)
=== RUN   TestCDNClass
=== RUN   TestCDNClass/cdn_class_plugins_are_external
=== RUN   TestCDNClass/default_signature
=== RUN   TestCDNClass/default_signature/grafana-plugin
=== RUN   TestCDNClass/default_signature/community-plugin
=== RUN   TestCDNClass/default_signature/commercial-plugin
=== RUN   TestCDNClass/default_signature/unsigned-plugin
=== RUN   TestCDNClass/default_signature/unknown-plugin
--- PASS: TestCDNClass (0.00s)
--- PASS: TestCDNClass/cdn_class_plugins_are_external (0.00s)
--- PASS: TestCDNClass/default_signature (0.00s)
--- PASS: TestCDNClass/default_signature/grafana-plugin (0.00s)
--- PASS: TestCDNClass/default_signature/community-plugin (0.00s)
--- PASS: TestCDNClass/default_signature/commercial-plugin (0.00s)
--- PASS: TestCDNClass/default_signature/unsigned-plugin (0.00s)
--- PASS: TestCDNClass/default_signature/unknown-plugin (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/cdn/source	(cached)
?   	github.com/grafana/grafana/pkg/extensions/pluginsintegration/finder	[no test files]
=== RUN   TestGetPlugins
=== RUN   TestGetPlugins/GCOM_returns_a_valid_response
=== RUN   TestGetPlugins/GCOM_returns_Not_Found_Error
=== RUN   TestGetPlugins/GCOM_returns_Internal_Server_Error
--- PASS: TestGetPlugins (0.00s)
--- PASS: TestGetPlugins/GCOM_returns_a_valid_response (0.00s)
--- PASS: TestGetPlugins/GCOM_returns_Not_Found_Error (0.00s)
--- PASS: TestGetPlugins/GCOM_returns_Internal_Server_Error (0.00s)
=== RUN   TestAdd
=== RUN   TestAdd/Install_plugin
=== RUN   TestAdd/Update_plugin
--- PASS: TestAdd (0.00s)
--- PASS: TestAdd/Install_plugin (0.00s)
--- PASS: TestAdd/Update_plugin (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/managedinstance	(cached)
?   	github.com/grafana/grafana/pkg/extensions/pluginsintegration/provider	[no test files]
=== RUN   TestManagedPluginsService
=== RUN   TestManagedPluginsService/Valid_config_(comma_separated)
=== RUN   TestManagedPluginsService/Valid_config_(space_separated)
=== RUN   TestManagedPluginsService/Empty_config
=== RUN   TestManagedPluginsService/No_config
--- PASS: TestManagedPluginsService (0.00s)
--- PASS: TestManagedPluginsService/Valid_config_(comma_separated) (0.00s)
--- PASS: TestManagedPluginsService/Valid_config_(space_separated) (0.00s)
--- PASS: TestManagedPluginsService/Empty_config (0.00s)
--- PASS: TestManagedPluginsService/No_config (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/remote	(cached)
=== RUN   TestService
=== RUN   TestService/feature_toggle_off_should_return_oss_sources_only
=== RUN   TestService/feature_toggle_on_should_return_oss_sources_followed_by_cdn_source
--- PASS: TestService (0.00s)
--- PASS: TestService/feature_toggle_off_should_return_oss_sources_only (0.00s)
--- PASS: TestService/feature_toggle_on_should_return_oss_sources_followed_by_cdn_source (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/sources	(cached)
=== RUN   TestApplyteamHTTPHeaders
=== RUN   TestApplyteamHTTPHeaders/Should_apply_team_headers_for_users_teams
=== RUN   TestApplyteamHTTPHeaders/Should_be_able_to_parse_header_values_with_commas
=== RUN   TestApplyteamHTTPHeaders/Should_be_able_to_parse_header_using_team_UID
=== RUN   TestApplyteamHTTPHeaders/Should_be_able_to_handle_multiple_header_values
=== RUN   TestApplyteamHTTPHeaders/Should_deny_access_to_data_source_if_no_headers_configured_for_the_given_team_and_restrictAccess_flag_set
=== RUN   TestApplyteamHTTPHeaders/Should_allow_access_to_data_source_if_no_headers_configured_for_the_given_team_and_restrictAccess_flag_is_not_set
=== RUN   TestApplyteamHTTPHeaders/Should_not_apply_invalid_team_LBAC_rules
--- PASS: TestApplyteamHTTPHeaders (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_apply_team_headers_for_users_teams (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_be_able_to_parse_header_values_with_commas (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_be_able_to_parse_header_using_team_UID (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_be_able_to_handle_multiple_header_values (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_deny_access_to_data_source_if_no_headers_configured_for_the_given_team_and_restrictAccess_flag_set (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_allow_access_to_data_source_if_no_headers_configured_for_the_given_team_and_restrictAccess_flag_is_not_set (0.00s)
--- PASS: TestApplyteamHTTPHeaders/Should_not_apply_invalid_team_LBAC_rules (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/pluginsintegration/teamhttpheaders	(cached)
?   	github.com/grafana/grafana/pkg/extensions/provisioning	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/provisioning/api	[no test files]
=== RUN   TestAdminProvisioningReloadAccessControl
api_test.go:27: {"message":"Reloading access control config"}
--- PASS: TestAdminProvisioningReloadAccessControl (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/provisioning/api_test	(cached)
=== RUN   TestEnterpriseProvisioningServiceImpl_fallback
=== RUN   TestEnterpriseProvisioningServiceImpl_fallback/Test_Oss_fallback
--- PASS: TestEnterpriseProvisioningServiceImpl_fallback (0.00s)
--- PASS: TestEnterpriseProvisioningServiceImpl_fallback/Test_Oss_fallback (0.00s)
=== RUN   TestEnterpriseProvisioningServiceImpl_InvalidLicense
=== RUN   TestEnterpriseProvisioningServiceImpl_InvalidLicense/Test_expired_license
--- PASS: TestEnterpriseProvisioningServiceImpl_InvalidLicense (0.00s)
--- PASS: TestEnterpriseProvisioningServiceImpl_InvalidLicense/Test_expired_license (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/provisioning/service	(cached)
=== RUN   TestNonConfiguredRateLimitMiddleware
=== RUN   TestNonConfiguredRateLimitMiddleware/requests_should_not_be_affected_if_rate_limiter_is_not_configured
--- PASS: TestNonConfiguredRateLimitMiddleware (0.00s)
--- PASS: TestNonConfiguredRateLimitMiddleware/requests_should_not_be_affected_if_rate_limiter_is_not_configured (0.00s)
=== RUN   TestRateLimitMiddleware
=== RUN   TestRateLimitMiddleware/rate_limit_calls,_with_burst
=== RUN   TestRateLimitMiddleware/rate_limit_calls,_no_burst
=== RUN   TestRateLimitMiddleware/rate_limit_annotation_calls,_but_allow_others
--- PASS: TestRateLimitMiddleware (0.00s)
--- PASS: TestRateLimitMiddleware/rate_limit_calls,_with_burst (0.00s)
--- PASS: TestRateLimitMiddleware/rate_limit_calls,_no_burst (0.00s)
--- PASS: TestRateLimitMiddleware/rate_limit_annotation_calls,_but_allow_others (0.00s)
=== RUN   TestRateLimitingSettings
=== RUN   TestRateLimitingSettings/limit_have_to_be_be_larger_than_0
=== RUN   TestRateLimitingSettings/invalid_path_regexp_returns_error
=== RUN   TestRateLimitingSettings/invalid_method_regexp_returns_error
=== RUN   TestRateLimitingSettings/can_read_all_fields
--- PASS: TestRateLimitingSettings (0.00s)
--- PASS: TestRateLimitingSettings/limit_have_to_be_be_larger_than_0 (0.00s)
--- PASS: TestRateLimitingSettings/invalid_path_regexp_returns_error (0.00s)
--- PASS: TestRateLimitingSettings/invalid_method_regexp_returns_error (0.00s)
--- PASS: TestRateLimitingSettings/can_read_all_fields (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/ratelimiting	(cached)
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Test_ProvideService
=== RUN   TestFeatureToggle/Test_ProvideService/ProvideService_should_return_basic_service_when_Recorded_Queries_is_disabled_by_token
=== RUN   TestFeatureToggle/Test_ProvideService/ProvideService_should_return_fully_configured_service_when_Recorded_Queries_is_enabled_by_token
--- PASS: TestFeatureToggle (0.27s)
--- PASS: TestFeatureToggle/Test_ProvideService (0.00s)
--- PASS: TestFeatureToggle/Test_ProvideService/ProvideService_should_return_basic_service_when_Recorded_Queries_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_ProvideService/ProvideService_should_return_fully_configured_service_when_Recorded_Queries_is_enabled_by_token (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/recordedqueries	(cached)
=== RUN   TestGetPromName
=== RUN   TestGetPromName/it_returns_a_prom_name_
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_starts_with_underscores
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_starts_with_symbols
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_is_only_underscores
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_is_only_symbols
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_contains_spaces
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_contains_symbols
=== RUN   TestGetPromName/it_returns_a_prom_name_/it_contains_colons
--- PASS: TestGetPromName (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_ (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_starts_with_underscores (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_starts_with_symbols (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_is_only_underscores (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_is_only_symbols (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_contains_spaces (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_contains_symbols (0.00s)
--- PASS: TestGetPromName/it_returns_a_prom_name_/it_contains_colons (0.00s)
=== RUN   TestHandleCreateRule
=== RUN   TestHandleCreateRule/it_registers_the_rule
=== RUN   TestHandleCreateRule/it_calls_the_name_provider_when_creating_a_rule
=== RUN   TestHandleCreateRule/it_returns_an_error_when_there_is_an_error_registering
=== RUN   TestHandleCreateRule/it_returns_an_error_when_there_is_an_error_registering#01
=== RUN   TestHandleCreateRule/it_returns_422_and_an_error_when_the_request_is_invalid
=== RUN   TestHandleCreateRule/it_returns_422_and_an_error_when_the_max_rules_is_exceeded
--- PASS: TestHandleCreateRule (0.29s)
--- PASS: TestHandleCreateRule/it_registers_the_rule (0.28s)
--- PASS: TestHandleCreateRule/it_calls_the_name_provider_when_creating_a_rule (0.00s)
--- PASS: TestHandleCreateRule/it_returns_an_error_when_there_is_an_error_registering (0.00s)
--- PASS: TestHandleCreateRule/it_returns_an_error_when_there_is_an_error_registering#01 (0.00s)
--- PASS: TestHandleCreateRule/it_returns_422_and_an_error_when_the_request_is_invalid (0.00s)
--- PASS: TestHandleCreateRule/it_returns_422_and_an_error_when_the_max_rules_is_exceeded (0.00s)
=== RUN   TestHandleDeleteRule
=== RUN   TestHandleDeleteRule/it_unregisters_the_rule
=== RUN   TestHandleDeleteRule/it_returns_an_error_when_there_is_an_error_unregistering
--- PASS: TestHandleDeleteRule (0.00s)
--- PASS: TestHandleDeleteRule/it_unregisters_the_rule (0.00s)
--- PASS: TestHandleDeleteRule/it_returns_an_error_when_there_is_an_error_unregistering (0.00s)
=== RUN   TestHandleTestRule
=== RUN   TestHandleTestRule/it_returns_200_when_a_getter_returns_a_metric
=== RUN   TestHandleTestRule/it_returns_403_when_no_datasource_access_control
=== RUN   TestHandleTestRule/it_returns_422_and_an_error_when_the_request_is_invalid
=== RUN   TestHandleTestRule/it_returns_500_and_an_error_when_it_can't_get_backend_queries
=== RUN   TestHandleTestRule/it_returns_422_and_an_error_when_new_getter_fails
=== RUN   TestHandleTestRule/when_the_getter_returns_an_error
--- PASS: TestHandleTestRule (0.01s)
--- PASS: TestHandleTestRule/it_returns_200_when_a_getter_returns_a_metric (0.00s)
--- PASS: TestHandleTestRule/it_returns_403_when_no_datasource_access_control (0.00s)
--- PASS: TestHandleTestRule/it_returns_422_and_an_error_when_the_request_is_invalid (0.00s)
--- PASS: TestHandleTestRule/it_returns_500_and_an_error_when_it_can't_get_backend_queries (0.00s)
--- PASS: TestHandleTestRule/it_returns_422_and_an_error_when_new_getter_fails (0.00s)
--- PASS: TestHandleTestRule/when_the_getter_returns_an_error (0.00s)
=== RUN   TestHandleListRules
=== RUN   TestHandleListRules/it_lists_all_queries_from_the_database
=== RUN   TestHandleListRules/it_returns_an_error_when_there_is_an_error_listing_the_queries
--- PASS: TestHandleListRules (0.00s)
--- PASS: TestHandleListRules/it_lists_all_queries_from_the_database (0.00s)
--- PASS: TestHandleListRules/it_returns_an_error_when_there_is_an_error_listing_the_queries (0.00s)
=== RUN   TestHandleUpdateRule
=== RUN   TestHandleUpdateRule/it_returns_404_not_found_if_rule_doesn't_exist
=== RUN   TestHandleUpdateRule/it_returns_500_server_error_when_the_rule_repo_returns_any_other_error
=== RUN   TestHandleUpdateRule/it_returns_500_server_error_when_the_activation_function_returns_an_error
--- PASS: TestHandleUpdateRule (0.01s)
--- PASS: TestHandleUpdateRule/it_returns_404_not_found_if_rule_doesn't_exist (0.00s)
--- PASS: TestHandleUpdateRule/it_returns_500_server_error_when_the_rule_repo_returns_any_other_error (0.00s)
--- PASS: TestHandleUpdateRule/it_returns_500_server_error_when_the_activation_function_returns_an_error (0.00s)
=== RUN   TestValidateCreate
=== RUN   TestValidateCreate/it_returns_valid_when_the_rule_is_valid_and_an_associate_metric_exists
=== RUN   TestValidateCreate/it_returns_invalid_when_the_getter_returns_an_error
=== RUN   TestValidateCreate/it_returns_invalid_when_the_getter_factory_returns_an_error
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_name
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_an_interval_>=_0
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_target_Ref_ID
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_at_least_one_query
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_query_with_a_RefID
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_query_with_a_DataSourceID
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_range_>=_0
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_RefID_to_be_a_string
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_datasourceId_to_be_a_number
=== RUN   TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_datasourceId_to_be_an_int
--- PASS: TestValidateCreate (0.00s)
--- PASS: TestValidateCreate/it_returns_valid_when_the_rule_is_valid_and_an_associate_metric_exists (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_getter_returns_an_error (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_getter_factory_returns_an_error (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_name (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_an_interval_>=_0 (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_target_Ref_ID (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_at_least_one_query (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_query_with_a_RefID (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_query_with_a_DataSourceID (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_a_range_>=_0 (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_RefID_to_be_a_string (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_datasourceId_to_be_a_number (0.00s)
--- PASS: TestValidateCreate/it_returns_invalid_when_the_rule_is_invalid/it_requires_datasourceId_to_be_an_int (0.00s)
=== RUN   TestValidateUpdate
=== RUN   TestValidateUpdate/it_returns_valid_when_the_update_is_changes_active
=== RUN   TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active
=== RUN   TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_name_is_different
=== RUN   TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_interval_is_different
=== RUN   TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_queries_is_different
=== RUN   TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_target_ref_is_different
=== RUN   TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_from_is_different
--- PASS: TestValidateUpdate (0.00s)
--- PASS: TestValidateUpdate/it_returns_valid_when_the_update_is_changes_active (0.00s)
--- PASS: TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active (0.00s)
--- PASS: TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_name_is_different (0.00s)
--- PASS: TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_interval_is_different (0.00s)
--- PASS: TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_queries_is_different (0.00s)
--- PASS: TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_target_ref_is_different (0.00s)
--- PASS: TestValidateUpdate/it_returns_invalid_if_the_thing_changed_isn't_active/it_returns_invalid_when_the_from_is_different (0.00s)
=== RUN   TestHandleCreateWriteTarget
=== RUN   TestHandleCreateWriteTarget/it_deletes_any_existing_write_target_and_creates_a_new_prometheus_write_target
=== RUN   TestHandleCreateWriteTarget/it_creates_a_new_prometheus_write_target_if_none_exists
=== RUN   TestHandleCreateWriteTarget/it_returns_a_422_when_there_is_no_existing_prometheus_datasouce
=== RUN   TestHandleCreateWriteTarget/it_returns_a_422_when_writing_a_test_metric_fails
=== RUN   TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error
=== RUN   TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/datasource_repo
=== RUN   TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/restarter
=== RUN   TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/target_repo
=== RUN   TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/deleting
=== RUN   TestHandleCreateWriteTarget/it_returns_422_and_an_error_when_the_request_is_invalid
=== RUN   TestHandleCreateWriteTarget/it_returns_422_and_an_error_when_the_request_is_invalid/it_requires_a_data_source_uid
=== RUN   TestHandleCreateWriteTarget/it_returns_422_and_an_error_when_the_request_is_invalid/it_requires_a_path
--- PASS: TestHandleCreateWriteTarget (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_deletes_any_existing_write_target_and_creates_a_new_prometheus_write_target (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_creates_a_new_prometheus_write_target_if_none_exists (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_422_when_there_is_no_existing_prometheus_datasouce (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_422_when_writing_a_test_metric_fails (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/datasource_repo (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/restarter (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/target_repo (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_a_500_when_there_is_an_unexpected_error/deleting (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_422_and_an_error_when_the_request_is_invalid (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_422_and_an_error_when_the_request_is_invalid/it_requires_a_data_source_uid (0.00s)
--- PASS: TestHandleCreateWriteTarget/it_returns_422_and_an_error_when_the_request_is_invalid/it_requires_a_path (0.00s)
=== RUN   TestHandleGetWriteTarget
=== RUN   TestHandleGetWriteTarget/it_gets_the_existing_writer
=== RUN   TestHandleGetWriteTarget/it_returns_an_error_when_there_is_an_error_loading_the_target_from_the_database
--- PASS: TestHandleGetWriteTarget (0.00s)
--- PASS: TestHandleGetWriteTarget/it_gets_the_existing_writer (0.00s)
--- PASS: TestHandleGetWriteTarget/it_returns_an_error_when_there_is_an_error_loading_the_target_from_the_database (0.00s)
=== RUN   TestHandleDeleteWriteTarget
=== RUN   TestHandleDeleteWriteTarget/it_deletes_the_write_target_and_stops_the_recording_rules
--- PASS: TestHandleDeleteWriteTarget (0.00s)
--- PASS: TestHandleDeleteWriteTarget/it_deletes_the_write_target_and_stops_the_recording_rules (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/recordedqueries/api	(cached)
=== RUN   TestFramesToMetrics
=== RUN   TestFramesToMetrics/it_converts_the_response_metric
=== RUN   TestFramesToMetrics/errors_from_the_querier_result_nan_metrics
=== RUN   TestFramesToMetrics/responses_that_contain_errors_result_nan_metrics
=== RUN   TestFramesToMetrics/it_returns_the_count_of_the_fields_when_`count`_is_true_in_the_recording_rule_--_even_with_multiple_fields
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics/no_frames
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics/no_fields
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics/no_rows
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set/no_frames
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set/no_fields
=== RUN   TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set/no_rows
=== RUN   TestFramesToMetrics/errors_from_the_querier_result_nan_metrics#01
=== RUN   TestFramesToMetrics/errors_from_the_query_results_having_more_than_one_frame
=== RUN   TestFramesToMetrics/errors_from_the_query_results_not_setting_count_and_having_more_than_one_field
=== RUN   TestFramesToMetrics/errors_from_the_query_results_not_setting_count_and_having_more_than_one_value
--- PASS: TestFramesToMetrics (0.00s)
--- PASS: TestFramesToMetrics/it_converts_the_response_metric (0.00s)
--- PASS: TestFramesToMetrics/errors_from_the_querier_result_nan_metrics (0.00s)
--- PASS: TestFramesToMetrics/responses_that_contain_errors_result_nan_metrics (0.00s)
--- PASS: TestFramesToMetrics/it_returns_the_count_of_the_fields_when_`count`_is_true_in_the_recording_rule_--_even_with_multiple_fields (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics/no_frames (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics/no_fields (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_nan_metrics/no_rows (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set/no_frames (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set/no_fields (0.00s)
--- PASS: TestFramesToMetrics/empty_responses_from_the_datasource_result_in_0_when_count_is_set/no_rows (0.00s)
--- PASS: TestFramesToMetrics/errors_from_the_querier_result_nan_metrics#01 (0.00s)
--- PASS: TestFramesToMetrics/errors_from_the_query_results_having_more_than_one_frame (0.00s)
--- PASS: TestFramesToMetrics/errors_from_the_query_results_not_setting_count_and_having_more_than_one_field (0.00s)
--- PASS: TestFramesToMetrics/errors_from_the_query_results_not_setting_count_and_having_more_than_one_value (0.00s)
=== RUN   TestDataplaneOrFramesToMetrics
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/empty-two-item-names
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/no-data
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/no-data
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/two-empty-items
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/no-data
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/two-empty-items
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/two-items-by-dimension
=== RUN   TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time
--- PASS: TestDataplaneOrFramesToMetrics (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/empty-two-item-names (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension-two-labels (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/four-items-by-name-and-dimension (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-long/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/two-items-by-dimension-name-dif-name-dim (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-multi/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/four-items-by-dimension-name (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/no-data (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/two-empty-items (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/two-items-by-dimension-name (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/basic_valid/two-items-by-dimension (0.00s)
--- PASS: TestDataplaneOrFramesToMetrics/should_read_correct_number_of_metrics_of_numeric_dataplane_data/numeric-wide/v0.1/extended_valid/two-items-by-dimension-with-remainder-time (0.00s)
=== RUN   TestDatasourceGetter
=== RUN   TestDatasourceGetter/it_converts_the_data_source_and_query_into_a_backend_request_and_returns_a_metric
=== RUN   TestDatasourceGetter/it_returns_an_error_if_the_converter_does
=== RUN   TestDatasourceGetter/passes_the_error_to_the_converter
--- PASS: TestDatasourceGetter (0.00s)
--- PASS: TestDatasourceGetter/it_converts_the_data_source_and_query_into_a_backend_request_and_returns_a_metric (0.00s)
--- PASS: TestDatasourceGetter/it_returns_an_error_if_the_converter_does (0.00s)
--- PASS: TestDatasourceGetter/passes_the_error_to_the_converter (0.00s)
=== RUN   TestExpressionGetter
=== RUN   TestExpressionGetter/it_uses_the_expression_querier_when_an_expression_is_present_and_sends_the_response_to_the_converter
=== RUN   TestExpressionGetter/it_returns_an_error_if_the_converter_does
=== RUN   TestExpressionGetter/passes_the_error_to_the_converter
--- PASS: TestExpressionGetter (0.00s)
--- PASS: TestExpressionGetter/it_uses_the_expression_querier_when_an_expression_is_present_and_sends_the_response_to_the_converter (0.00s)
--- PASS: TestExpressionGetter/it_returns_an_error_if_the_converter_does (0.00s)
--- PASS: TestExpressionGetter/passes_the_error_to_the_converter (0.00s)
=== RUN   TestGetterFactory
=== RUN   TestGetterFactory/it_returns_the_right_type_of_getter_based_on_the_passed_rule
=== RUN   TestGetterFactory/it_injects_the_target_data_source_into_the_getter
--- PASS: TestGetterFactory (0.00s)
--- PASS: TestGetterFactory/it_returns_the_right_type_of_getter_based_on_the_passed_rule (0.00s)
--- PASS: TestGetterFactory/it_injects_the_target_data_source_into_the_getter (0.00s)
=== RUN   TestStartRecording
=== RUN   TestStartRecording/it_always_ticks_once_when_created
=== RUN   TestStartRecording/it_writes_metrics_on_a_timer
=== RUN   TestStartRecording/it_stops_writing_when_the_context_is_cancelled
--- PASS: TestStartRecording (0.18s)
--- PASS: TestStartRecording/it_always_ticks_once_when_created (0.00s)
--- PASS: TestStartRecording/it_writes_metrics_on_a_timer (0.09s)
--- PASS: TestStartRecording/it_stops_writing_when_the_context_is_cancelled (0.09s)
=== RUN   TestMetricWriter
--- PASS: TestMetricWriter (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/recordedqueries/metric	(cached)
?   	github.com/grafana/grafana/pkg/extensions/recordedqueries/models	[no test files]
=== RUN   TestRegister
=== RUN   TestRegister/it_creates_and_starts_a_new_query
=== RUN   TestRegister/it_starts_the_rule_with_min_interval_when_the_interval_is_less_than_the_min_interval
=== RUN   TestRegister/it_doesn't_start_the_query_when_it_is_inactive
=== RUN   TestRegister/it_doesn't_start_the_query_when_the_writer_constructor_returns_an_error
=== RUN   TestRegister/it_doesn't_start_the_query_when_the_getter_factory_returns_an_error
=== RUN   TestRegister/it_doesn't_start_the_query_when_there_are_repo_errors
=== RUN   TestRegister/it_doesn't_create_a_recorded_query_because_the_quota_has_been_met
--- PASS: TestRegister (0.90s)
--- PASS: TestRegister/it_creates_and_starts_a_new_query (0.18s)
--- PASS: TestRegister/it_starts_the_rule_with_min_interval_when_the_interval_is_less_than_the_min_interval (0.05s)
--- PASS: TestRegister/it_doesn't_start_the_query_when_it_is_inactive (0.24s)
--- PASS: TestRegister/it_doesn't_start_the_query_when_the_writer_constructor_returns_an_error (0.22s)
--- PASS: TestRegister/it_doesn't_start_the_query_when_the_getter_factory_returns_an_error (0.21s)
--- PASS: TestRegister/it_doesn't_start_the_query_when_there_are_repo_errors (0.00s)
--- PASS: TestRegister/it_doesn't_create_a_recorded_query_because_the_quota_has_been_met (0.00s)
=== RUN   TestUnregister
=== RUN   TestUnregister/it_deletes_the_query_from_the_database_and_calls_its_cancel_function
=== RUN   TestUnregister/it_unregisters_inactive_queries
=== RUN   TestUnregister/it_does_nothing_if_the_unregistered_id_doesn't_exist
=== RUN   TestUnregister/it_does_nothing_if_there_is_an_error_deleting_the_query
--- PASS: TestUnregister (0.08s)
--- PASS: TestUnregister/it_deletes_the_query_from_the_database_and_calls_its_cancel_function (0.08s)
--- PASS: TestUnregister/it_unregisters_inactive_queries (0.00s)
--- PASS: TestUnregister/it_does_nothing_if_the_unregistered_id_doesn't_exist (0.00s)
--- PASS: TestUnregister/it_does_nothing_if_there_is_an_error_deleting_the_query (0.00s)
=== RUN   TestStopAll
=== RUN   TestStopAll/it_cancels_all_current_queries
=== RUN   TestStopAll/it_doesn't_crash_when_there_are_inactive_queries
--- PASS: TestStopAll (0.14s)
--- PASS: TestStopAll/it_cancels_all_current_queries (0.14s)
--- PASS: TestStopAll/it_doesn't_crash_when_there_are_inactive_queries (0.00s)
=== RUN   TestStartAll
=== RUN   TestStartAll/it_loads_all_queries_from_the_database_and_starts_them
=== RUN   TestStartAll/it_doesn't_try_to_start_inactive_queries
=== RUN   TestStartAll/it_only_starts_the_registry_once
--- PASS: TestStartAll (0.63s)
--- PASS: TestStartAll/it_loads_all_queries_from_the_database_and_starts_them (0.10s)
--- PASS: TestStartAll/it_doesn't_try_to_start_inactive_queries (0.21s)
--- PASS: TestStartAll/it_only_starts_the_registry_once (0.32s)
=== RUN   TestActivate
=== RUN   TestActivate/it_starts_an_inactive_query
=== RUN   TestActivate/it_ignores_a_started_query
=== RUN   TestActivate/it_returns_an_error_if_the_update_fails
=== RUN   TestActivate/it_returns_an_error_if_the_query_does_not_exist
--- PASS: TestActivate (0.16s)
--- PASS: TestActivate/it_starts_an_inactive_query (0.16s)
--- PASS: TestActivate/it_ignores_a_started_query (0.00s)
--- PASS: TestActivate/it_returns_an_error_if_the_update_fails (0.00s)
--- PASS: TestActivate/it_returns_an_error_if_the_query_does_not_exist (0.00s)
=== RUN   TestDeactivate
=== RUN   TestDeactivate/it_stops_an_inactive_query
=== RUN   TestDeactivate/it_ignores_a_inactive_query
=== RUN   TestDeactivate/it_returns_an_error_if_the_update_fails
=== RUN   TestDeactivate/it_returns_an_error_if_the_query_does_not_exist
--- PASS: TestDeactivate (0.10s)
--- PASS: TestDeactivate/it_stops_an_inactive_query (0.10s)
--- PASS: TestDeactivate/it_ignores_a_inactive_query (0.00s)
--- PASS: TestDeactivate/it_returns_an_error_if_the_update_fails (0.00s)
--- PASS: TestDeactivate/it_returns_an_error_if_the_query_does_not_exist (0.00s)
=== RUN   TestDeactivateAndReactivage
--- PASS: TestDeactivateAndReactivage (0.00s)
=== RUN   TestUnregisterForDatasource
=== RUN   TestUnregisterForDatasource/it_deletes_the_recorded_queries_associated_with_the_datasouce_OrgID_and_src_ID
=== RUN   TestUnregisterForDatasource/it_deletes_the_recorded_queries_associated_with_the_datasouce_OrgID_and_src_UID
=== RUN   TestUnregisterForDatasource/it_deletes_the_recorded_queries_associated_with_the_datasouce_OrgID_and_src_Name
=== RUN   TestUnregisterForDatasource/it_unregisters_every_datasource_it_can_and_returns_all_errors
--- PASS: TestUnregisterForDatasource (0.14s)
--- PASS: TestUnregisterForDatasource/it_deletes_the_recorded_queries_associated_with_the_datasouce_OrgID_and_src_ID (0.00s)
--- PASS: TestUnregisterForDatasource/it_deletes_the_recorded_queries_associated_with_the_datasouce_OrgID_and_src_UID (0.00s)
--- PASS: TestUnregisterForDatasource/it_deletes_the_recorded_queries_associated_with_the_datasouce_OrgID_and_src_Name (0.00s)
--- PASS: TestUnregisterForDatasource/it_unregisters_every_datasource_it_can_and_returns_all_errors (0.14s)
=== RUN   TestRestart
=== RUN   TestRestart/it_loads_all_queries_from_the_database_and_starts_them
--- PASS: TestRestart (0.13s)
--- PASS: TestRestart/it_loads_all_queries_from_the_database_and_starts_them (0.13s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/recordedqueries/registry	(cached)
=== RUN   TestQueriesForRule
=== RUN   TestQueriesForRule/it_returns_a_backend_query_for_every_query_in_the_passed_rule
=== RUN   TestQueriesForRule/it_returns_an_error_if_there_is_an_error_getting_any_datasource
=== RUN   TestQueriesForRule/it_can_serialize_queries_from_the_original_query_format
--- PASS: TestQueriesForRule (0.00s)
--- PASS: TestQueriesForRule/it_returns_a_backend_query_for_every_query_in_the_passed_rule (0.00s)
--- PASS: TestQueriesForRule/it_returns_an_error_if_there_is_an_error_getting_any_datasource (0.00s)
--- PASS: TestQueriesForRule/it_can_serialize_queries_from_the_original_query_format (0.00s)
=== RUN   TestIntegrationCreateRule
recordingrules_integration_test.go:25: skipping integration test
--- SKIP: TestIntegrationCreateRule (0.00s)
=== RUN   TestIntegrationLoadRule
recordingrules_integration_test.go:45: skipping integration test
--- SKIP: TestIntegrationLoadRule (0.00s)
=== RUN   TestIntegrationLoadAllRules
recordingrules_integration_test.go:85: skipping integration test
--- SKIP: TestIntegrationLoadAllRules (0.00s)
=== RUN   TestIntegrationLoadAllRulesForOrg
recordingrules_integration_test.go:143: skipping integration test
--- SKIP: TestIntegrationLoadAllRulesForOrg (0.00s)
=== RUN   TestIntegrationDeleteRule
recordingrules_integration_test.go:172: skipping integration test
--- SKIP: TestIntegrationDeleteRule (0.00s)
=== RUN   TestIntegrationUpdate
recordingrules_integration_test.go:204: skipping integration test
--- SKIP: TestIntegrationUpdate (0.00s)
=== RUN   TestIntegrationCreateWriteTarget
remotewrite_integration_test.go:17: skipping integration test
--- SKIP: TestIntegrationCreateWriteTarget (0.00s)
=== RUN   TestLoadWriteTarget
=== RUN   TestLoadWriteTarget/it_loads_the_only_remote_write_target
--- PASS: TestLoadWriteTarget (0.24s)
--- PASS: TestLoadWriteTarget/it_loads_the_only_remote_write_target (0.24s)
=== RUN   TestInitWithDefault
=== RUN   TestInitWithDefault/it_adds_the_default_remote_write_target_to_the_database_if_one_is_not_set
=== RUN   TestInitWithDefault/it_does_nothing_if_a_remote_write_target_is_already_set
--- PASS: TestInitWithDefault (0.00s)
--- PASS: TestInitWithDefault/it_adds_the_default_remote_write_target_to_the_database_if_one_is_not_set (0.00s)
--- PASS: TestInitWithDefault/it_does_nothing_if_a_remote_write_target_is_already_set (0.00s)
=== RUN   TestDeleteWriteTarget
=== RUN   TestDeleteWriteTarget/it_deletes_the_remote_write_target
=== RUN   TestDeleteWriteTarget/it_deletes_the_remote_write_target_for_specified_org_only
--- PASS: TestDeleteWriteTarget (0.00s)
--- PASS: TestDeleteWriteTarget/it_deletes_the_remote_write_target (0.00s)
--- PASS: TestDeleteWriteTarget/it_deletes_the_remote_write_target_for_specified_org_only (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/recordedqueries/repo	(cached)
=== RUN   Test_api_AuthFuncOverride
=== RUN   Test_api_AuthFuncOverride/with_no_tenant_configured_and_no_tenant_in_the_request,_no_error_is_returned
=== RUN   Test_api_AuthFuncOverride/with_no_tenant_configured_and_tenant_in_the_request,_no_error_is_returned
=== RUN   Test_api_AuthFuncOverride/with_tenant_configured_and_no_tenant_in_the_request,_no_error_is_returned
=== RUN   Test_api_AuthFuncOverride/with_tenant_configured_and_matching_tenant_in_the_request,_no_error_is_returned
=== RUN   Test_api_AuthFuncOverride/with_tenant_configured_and_non-matching_tenant_in_the_request,_unauthenticated_error_is_returned
--- PASS: Test_api_AuthFuncOverride (0.00s)
--- PASS: Test_api_AuthFuncOverride/with_no_tenant_configured_and_no_tenant_in_the_request,_no_error_is_returned (0.00s)
--- PASS: Test_api_AuthFuncOverride/with_no_tenant_configured_and_tenant_in_the_request,_no_error_is_returned (0.00s)
--- PASS: Test_api_AuthFuncOverride/with_tenant_configured_and_no_tenant_in_the_request,_no_error_is_returned (0.00s)
--- PASS: Test_api_AuthFuncOverride/with_tenant_configured_and_matching_tenant_in_the_request,_no_error_is_returned (0.00s)
--- PASS: Test_api_AuthFuncOverride/with_tenant_configured_and_non-matching_tenant_in_the_request,_unauthenticated_error_is_returned (0.00s)
=== RUN   Test_api_GetByRuleGroup
=== RUN   Test_api_GetByRuleGroup/with_nothing_to_do,_it_doesn't_panic
=== RUN   Test_api_GetByRuleGroup/when_loki_is_the_only_state_history_backend,_send_annotations_should_be_false
=== RUN   Test_api_GetByRuleGroup/when_image_capture_disabled,_the_setting_is_propagated
=== RUN   Test_api_GetByRuleGroup/when_image_capture_enabled,_the_setting_is_propagated
--- PASS: Test_api_GetByRuleGroup (0.00s)
--- PASS: Test_api_GetByRuleGroup/with_nothing_to_do,_it_doesn't_panic (0.00s)
--- PASS: Test_api_GetByRuleGroup/when_loki_is_the_only_state_history_backend,_send_annotations_should_be_false (0.00s)
--- PASS: Test_api_GetByRuleGroup/when_image_capture_disabled,_the_setting_is_propagated (0.00s)
--- PASS: Test_api_GetByRuleGroup/when_image_capture_enabled,_the_setting_is_propagated (0.00s)
=== RUN   Test_api_Eval
=== RUN   Test_api_Eval/with_nothing_to_do,_it_doesn't_panic
--- PASS: Test_api_Eval (0.00s)
--- PASS: Test_api_Eval/with_nothing_to_do,_it_doesn't_panic (0.00s)
=== RUN   Test_api_SendAlerts
=== RUN   Test_api_SendAlerts/when_called_with_no_alerts,_alert_sender_is_called
=== RUN   Test_api_SendAlerts/when_called_with_alerts,_alert_sender_is_called
=== RUN   Test_api_SendAlerts/when_enableAlerts_is_false,_alert_send_is_not_called
--- PASS: Test_api_SendAlerts (0.00s)
--- PASS: Test_api_SendAlerts/when_called_with_no_alerts,_alert_sender_is_called (0.00s)
--- PASS: Test_api_SendAlerts/when_called_with_alerts,_alert_sender_is_called (0.00s)
--- PASS: Test_api_SendAlerts/when_enableAlerts_is_false,_alert_send_is_not_called (0.00s)
=== RUN   Test_api_InstanceWriteEnabled
=== RUN   Test_api_InstanceWriteEnabled/when_instanceWriteEnabled_is_false,_instances_should_not_be_written
=== RUN   Test_api_InstanceWriteEnabled/when_instanceWriteEnabled_is_true,_instances_should_be_written
--- PASS: Test_api_InstanceWriteEnabled (0.00s)
--- PASS: Test_api_InstanceWriteEnabled/when_instanceWriteEnabled_is_false,_instances_should_not_be_written (0.00s)
--- PASS: Test_api_InstanceWriteEnabled/when_instanceWriteEnabled_is_true,_instances_should_be_written (0.00s)
=== RUN   Test_api_RecordingRuleWrite
=== RUN   Test_api_RecordingRuleWrite/returns_expected_error_if_writer_is_not_configured
=== RUN   Test_api_RecordingRuleWrite/when_no_uid_in_request,_should_call_writer_with_empty_uid
=== RUN   Test_api_RecordingRuleWrite/when_uid_in_request,_should_call_writer_with_uid
--- PASS: Test_api_RecordingRuleWrite (0.00s)
--- PASS: Test_api_RecordingRuleWrite/returns_expected_error_if_writer_is_not_configured (0.00s)
--- PASS: Test_api_RecordingRuleWrite/when_no_uid_in_request,_should_call_writer_with_empty_uid (0.00s)
--- PASS: Test_api_RecordingRuleWrite/when_uid_in_request,_should_call_writer_with_uid (0.00s)
=== RUN   Test_api_FetchOrgIds
=== RUN   Test_api_FetchOrgIds/returns_org_ids_from_store
=== RUN   Test_api_FetchOrgIds/returns_empty_list_when_no_orgs_exist
=== RUN   Test_api_FetchOrgIds/propagates_error_from_store
--- PASS: Test_api_FetchOrgIds (0.00s)
--- PASS: Test_api_FetchOrgIds/returns_org_ids_from_store (0.00s)
--- PASS: Test_api_FetchOrgIds/returns_empty_list_when_no_orgs_exist (0.00s)
--- PASS: Test_api_FetchOrgIds/propagates_error_from_store (0.00s)
=== RUN   TestFromProtoAlertQueryToAlertQuery
=== RUN   TestFromProtoAlertQueryToAlertQuery/with_no_results,_it_doesn't_panic.
=== RUN   TestFromProtoAlertQueryToAlertQuery/with_multiple_queries,_it_parses_them
--- PASS: TestFromProtoAlertQueryToAlertQuery (0.00s)
--- PASS: TestFromProtoAlertQueryToAlertQuery/with_no_results,_it_doesn't_panic. (0.00s)
--- PASS: TestFromProtoAlertQueryToAlertQuery/with_multiple_queries,_it_parses_them (0.00s)
=== RUN   TestFromResultsToProtoEvalResults
=== RUN   TestFromResultsToProtoEvalResults/with_no_results,_it_doesn't_panic
=== RUN   TestFromResultsToProtoEvalResults/with_results,_it_converts_them.
=== RUN   TestFromResultsToProtoEvalResults/with_errors_-_it_doesn't_return_any_results
--- PASS: TestFromResultsToProtoEvalResults (0.00s)
--- PASS: TestFromResultsToProtoEvalResults/with_no_results,_it_doesn't_panic (0.00s)
--- PASS: TestFromResultsToProtoEvalResults/with_results,_it_converts_them. (0.00s)
--- PASS: TestFromResultsToProtoEvalResults/with_errors_-_it_doesn't_return_any_results (0.00s)
=== RUN   TestFromAlertRulesToProtoAlertRules
=== RUN   TestFromAlertRulesToProtoAlertRules/with_no_rules_to_transform,_it_doesn't_panic
=== RUN   TestFromAlertRulesToProtoAlertRules/with_rules,_it_converts_them
=== RUN   TestFromAlertRulesToProtoAlertRules/converts_recording_rules
=== RUN   TestFromAlertRulesToProtoAlertRules/with_errors,_it_returns_no_results
--- PASS: TestFromAlertRulesToProtoAlertRules (0.00s)
--- PASS: TestFromAlertRulesToProtoAlertRules/with_no_rules_to_transform,_it_doesn't_panic (0.00s)
--- PASS: TestFromAlertRulesToProtoAlertRules/with_rules,_it_converts_them (0.00s)
--- PASS: TestFromAlertRulesToProtoAlertRules/converts_recording_rules (0.00s)
--- PASS: TestFromAlertRulesToProtoAlertRules/with_errors,_it_returns_no_results (0.00s)
=== RUN   TestFromProtoAlertRuleToAlertRule
--- PASS: TestFromProtoAlertRuleToAlertRule (0.00s)
=== RUN   TestFromProtoAlertRuleKeyToAlertRuleKeyWithGroup
--- PASS: TestFromProtoAlertRuleKeyToAlertRuleKeyWithGroup (0.00s)
=== RUN   TestFromProtoPostableAlertsToPostableAlerts
=== RUN   TestFromProtoPostableAlertsToPostableAlerts/with_no_alerts,_it_doesn't_panic.
=== RUN   TestFromProtoPostableAlertsToPostableAlerts/with_some_alerts,_it_parses_them.
--- PASS: TestFromProtoPostableAlertsToPostableAlerts (0.00s)
--- PASS: TestFromProtoPostableAlertsToPostableAlerts/with_no_alerts,_it_doesn't_panic. (0.00s)
--- PASS: TestFromProtoPostableAlertsToPostableAlerts/with_some_alerts,_it_parses_them. (0.00s)
=== RUN   TestAlertInstanceKey
=== RUN   TestAlertInstanceKey/standard_key_from_model
=== RUN   TestAlertInstanceKey/standard_key_from_proto
--- PASS: TestAlertInstanceKey (0.00s)
--- PASS: TestAlertInstanceKey/standard_key_from_model (0.00s)
--- PASS: TestAlertInstanceKey/standard_key_from_proto (0.00s)
=== RUN   TestAlertInstance
=== RUN   TestAlertInstance/standard_instance_from_model
=== RUN   TestAlertInstance/standard_instance_from_proto
=== RUN   TestAlertInstance/nil_ResolvedAt_and_LastSentAt_from_model
=== RUN   TestAlertInstance/nil_ResolvedAt_and_LastSentAt_from_proto
--- PASS: TestAlertInstance (0.00s)
--- PASS: TestAlertInstance/standard_instance_from_model (0.00s)
--- PASS: TestAlertInstance/standard_instance_from_proto (0.00s)
--- PASS: TestAlertInstance/nil_ResolvedAt_and_LastSentAt_from_model (0.00s)
--- PASS: TestAlertInstance/nil_ResolvedAt_and_LastSentAt_from_proto (0.00s)
=== RUN   TestImage
=== RUN   TestImage/standard_image_from_model
--- PASS: TestImage (0.00s)
--- PASS: TestImage/standard_image_from_model (0.00s)
=== RUN   TestAnnotations
=== RUN   TestAnnotations/empty
=== RUN   TestAnnotations/basic
--- PASS: TestAnnotations (0.00s)
--- PASS: TestAnnotations/empty (0.00s)
--- PASS: TestAnnotations/basic (0.00s)
=== RUN   TestJitterStrategy
--- PASS: TestJitterStrategy (0.00s)
=== RUN   TestFolders
=== RUN   TestFolders/nil
=== RUN   TestFolders/empty
=== RUN   TestFolders/multiple
=== RUN   TestFolders/conflicting
--- PASS: TestFolders (0.00s)
--- PASS: TestFolders/nil (0.00s)
--- PASS: TestFolders/empty (0.00s)
--- PASS: TestFolders/multiple (0.00s)
--- PASS: TestFolders/conflicting (0.00s)
=== RUN   TestFromProtoDataFramesToDataFrames
=== RUN   TestFromProtoDataFramesToDataFrames/returns_error_on_invalid_bytes
=== RUN   TestFromProtoDataFramesToDataFrames/correctly_decodes_data_frames
--- PASS: TestFromProtoDataFramesToDataFrames (0.00s)
--- PASS: TestFromProtoDataFramesToDataFrames/returns_error_on_invalid_bytes (0.00s)
--- PASS: TestFromProtoDataFramesToDataFrames/correctly_decodes_data_frames (0.00s)
=== RUN   TestFromQueryDataResponseToProtoQueryDataResponse
=== RUN   TestFromQueryDataResponseToProtoQueryDataResponse/converts_basic_fields
=== RUN   TestFromQueryDataResponseToProtoQueryDataResponse/converts_frames
--- PASS: TestFromQueryDataResponseToProtoQueryDataResponse (0.00s)
--- PASS: TestFromQueryDataResponseToProtoQueryDataResponse/converts_basic_fields (0.00s)
--- PASS: TestFromQueryDataResponseToProtoQueryDataResponse/converts_frames (0.00s)
=== RUN   TestConfigSyncer_RemoteEndpointPost
=== PAUSE TestConfigSyncer_RemoteEndpointPost
=== RUN   TestConfigSynce_GetConfig
=== PAUSE TestConfigSynce_GetConfig
=== RUN   TestConfigSyncer_UpdateMetrics
=== RUN   TestConfigSyncer_UpdateMetrics/no_rules
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_for_unknown_datasource
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_with_one_query_for_known_datasource
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_with_two_queries_for_same_known_datasource_type
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_with_two_queries_for_known_datasources
=== RUN   TestConfigSyncer_UpdateMetrics/rule_with_datasource_prior_removed_in_subsequent_update
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_with_datasource_and_expression
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_with_datasource_and_old_expression
=== RUN   TestConfigSyncer_UpdateMetrics/one_rule_with_datasource_and_ml_expression
--- PASS: TestConfigSyncer_UpdateMetrics (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/no_rules (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_for_unknown_datasource (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_with_one_query_for_known_datasource (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_with_two_queries_for_same_known_datasource_type (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_with_two_queries_for_known_datasources (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/rule_with_datasource_prior_removed_in_subsequent_update (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_with_datasource_and_expression (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_with_datasource_and_old_expression (0.00s)
--- PASS: TestConfigSyncer_UpdateMetrics/one_rule_with_datasource_and_ml_expression (0.00s)
=== RUN   TestProxyNonHookedPath
--- PASS: TestProxyNonHookedPath (0.00s)
=== RUN   TestProxyNonHookedMethod
--- PASS: TestProxyNonHookedMethod (0.00s)
=== RUN   TestProxyAlertStatuses
--- PASS: TestProxyAlertStatuses (0.00s)
=== RUN   TestProxyAlertStatusesWithAuthEnabled
--- PASS: TestProxyAlertStatusesWithAuthEnabled (0.00s)
=== RUN   TestProxyRuleStatuses
--- PASS: TestProxyRuleStatuses (0.00s)
=== RUN   TestProxyRuleStatuses_ParametersArePropagated
--- PASS: TestProxyRuleStatuses_ParametersArePropagated (0.00s)
=== RUN   TestProxyRuleStatuses_RuleGroupsLimitIsNotPropagated
--- PASS: TestProxyRuleStatuses_RuleGroupsLimitIsNotPropagated (0.00s)
=== RUN   TestProxyRuleStatuses_GetRequestIsSent
--- PASS: TestProxyRuleStatuses_GetRequestIsSent (0.00s)
=== RUN   TestProxyRuleStatuses_PostRequestIsSent
--- PASS: TestProxyRuleStatuses_PostRequestIsSent (0.00s)
=== RUN   TestProxyRuleStatuses_RuleGroupsInNonUserVisibleNamespacesAreFiltered
--- PASS: TestProxyRuleStatuses_RuleGroupsInNonUserVisibleNamespacesAreFiltered (0.00s)
=== RUN   TestProxyRuleStatuses_RuleGroupsWithInaccessibleDatasourcesAreFiltered
--- PASS: TestProxyRuleStatuses_RuleGroupsWithInaccessibleDatasourcesAreFiltered (0.00s)
=== RUN   TestProxyRuleStatuses_RuleGroupsWithSameNameButDifferentPermissions
--- PASS: TestProxyRuleStatuses_RuleGroupsWithSameNameButDifferentPermissions (0.00s)
=== RUN   TestService_IsDisabled
=== RUN   TestService_IsDisabled/remote_ruler_is_enabled,_remoteruler=true_and_grpc_server=true
=== RUN   TestService_IsDisabled/remote_ruler_is_disabled,_remoteruler=true_and_grpc_server=false
=== RUN   TestService_IsDisabled/remote_ruler_is_disabled,_remoteruler=false_and_grpc_server=true
=== RUN   TestService_IsDisabled/remote_ruler_is_disabled,_remoteruler=false_and_grpc_server=false
--- PASS: TestService_IsDisabled (0.00s)
--- PASS: TestService_IsDisabled/remote_ruler_is_enabled,_remoteruler=true_and_grpc_server=true (0.00s)
--- PASS: TestService_IsDisabled/remote_ruler_is_disabled,_remoteruler=true_and_grpc_server=false (0.00s)
--- PASS: TestService_IsDisabled/remote_ruler_is_disabled,_remoteruler=false_and_grpc_server=true (0.00s)
--- PASS: TestService_IsDisabled/remote_ruler_is_disabled,_remoteruler=false_and_grpc_server=false (0.00s)
=== CONT  TestConfigSyncer_RemoteEndpointPost
=== CONT  TestConfigSynce_GetConfig
=== RUN   TestConfigSyncer_RemoteEndpointPost/on_startup,_current_configuration_is_sent_immediately_and_only_once
=== RUN   TestConfigSynce_GetConfig/same_folders_in_different_orders_marshal_the_same
=== RUN   TestConfigSynce_GetConfig/same_rules_in_different_orders_marshal_the_same
--- PASS: TestConfigSynce_GetConfig (0.00s)
--- PASS: TestConfigSynce_GetConfig/same_folders_in_different_orders_marshal_the_same (0.00s)
--- PASS: TestConfigSynce_GetConfig/same_rules_in_different_orders_marshal_the_same (0.00s)
=== RUN   TestConfigSyncer_RemoteEndpointPost/when_rules_change,_the_new_configuration_is_sent
=== RUN   TestConfigSyncer_RemoteEndpointPost/when_rules_only_change_order,_no__new_configuration_is_sent
=== RUN   TestConfigSyncer_RemoteEndpointPost/rule_event_posts_to_remote_endpoint_with_correct_body
=== RUN   TestConfigSyncer_RemoteEndpointPost/rule_event_will_not_post_again_if_syncMinInterval_has_not_passed
--- PASS: TestConfigSyncer_RemoteEndpointPost (2.26s)
--- PASS: TestConfigSyncer_RemoteEndpointPost/on_startup,_current_configuration_is_sent_immediately_and_only_once (0.05s)
--- PASS: TestConfigSyncer_RemoteEndpointPost/when_rules_change,_the_new_configuration_is_sent (0.55s)
--- PASS: TestConfigSyncer_RemoteEndpointPost/when_rules_only_change_order,_no__new_configuration_is_sent (0.55s)
--- PASS: TestConfigSyncer_RemoteEndpointPost/rule_event_posts_to_remote_endpoint_with_correct_body (0.55s)
--- PASS: TestConfigSyncer_RemoteEndpointPost/rule_event_will_not_post_again_if_syncMinInterval_has_not_passed (0.55s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/remoteruler	(cached)
?   	github.com/grafana/grafana/pkg/extensions/remoteruler/gen/remoteruler/rules/v1	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/remoteruler/gen/remoteruler/types/v1	[no test files]
=== RUN   TestUsageStats
--- PASS: TestUsageStats (0.34s)
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Test_init
=== RUN   TestFeatureToggle/Test_init/Should_not_add_index_nav_links_when_reporting_is_disabled_by_token
=== RUN   TestFeatureToggle/Test_init/Should_add_index_nav_links_when_reporting_token_is_valid
=== RUN   TestFeatureToggle/Test_init/Should_add_index_nav_links_when_reporting_token_is_expired
--- PASS: TestFeatureToggle (0.00s)
--- PASS: TestFeatureToggle/Test_init (0.00s)
--- PASS: TestFeatureToggle/Test_init/Should_not_add_index_nav_links_when_reporting_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_init/Should_add_index_nav_links_when_reporting_token_is_valid (0.00s)
--- PASS: TestFeatureToggle/Test_init/Should_add_index_nav_links_when_reporting_token_is_expired (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report	(cached)
=== RUN   TestHTTPAdd
=== RUN   TestHTTPAdd/When_creating_report_of_new_schedule_format_with_start_date
=== RUN   TestHTTPAdd/When_creating_report_of_new_schedule_format_without_start_date,_report_should_be_sent_immediately
--- PASS: TestHTTPAdd (0.31s)
--- PASS: TestHTTPAdd/When_creating_report_of_new_schedule_format_with_start_date (0.00s)
--- PASS: TestHTTPAdd/When_creating_report_of_new_schedule_format_without_start_date,_report_should_be_sent_immediately (0.00s)
=== RUN   TestHTTPAddError
--- PASS: TestHTTPAddError (0.01s)
=== RUN   TestHTTPUpdateReport
=== RUN   TestHTTPUpdateReport/When_updating_existing_report_of_new_schedule_format,_report_should_be_sent_immediately
--- PASS: TestHTTPUpdateReport (0.02s)
--- PASS: TestHTTPUpdateReport/When_updating_existing_report_of_new_schedule_format,_report_should_be_sent_immediately (0.01s)
=== RUN   TestHTTPUpdateReportError
--- PASS: TestHTTPUpdateReportError (0.00s)
=== RUN   TestHTTPDelete
--- PASS: TestHTTPDelete (0.00s)
=== RUN   TestHTTPGetReports
--- PASS: TestHTTPGetReports (0.00s)
=== RUN   TestHTTPGetReport
--- PASS: TestHTTPGetReport (0.01s)
=== RUN   TestGetReportWithMissingDashboard
--- PASS: TestGetReportWithMissingDashboard (0.01s)
=== RUN   TestHTTPRenderPDFV2
--- PASS: TestHTTPRenderPDFV2 (0.03s)
=== RUN   TestHTTP_HTTPGetSettings_Empty
--- PASS: TestHTTP_HTTPGetSettings_Empty (0.00s)
=== RUN   TestHTTPSaveSettings_HTTPGetSettings
--- PASS: TestHTTPSaveSettings_HTTPGetSettings (0.00s)
=== RUN   TestHTTPSendEmail
=== RUN   TestHTTPSendEmail/When_trying_to_send_a_report_that_doesn't_exist,_error_should_be_returned
=== RUN   TestHTTPSendEmail/When_not_using_emails_from_report_and_not_specifying_emails,_should_return_an_error
=== RUN   TestHTTPSendEmail/When_using_emails_from_report,_should_send_to_the_report_recipients
=== RUN   TestHTTPSendEmail/When_specifying_emails,_should_use_them_to_send_the_report
--- PASS: TestHTTPSendEmail (0.01s)
--- PASS: TestHTTPSendEmail/When_trying_to_send_a_report_that_doesn't_exist,_error_should_be_returned (0.00s)
--- PASS: TestHTTPSendEmail/When_not_using_emails_from_report_and_not_specifying_emails,_should_return_an_error (0.00s)
--- PASS: TestHTTPSendEmail/When_using_emails_from_report,_should_send_to_the_report_recipients (0.00s)
--- PASS: TestHTTPSendEmail/When_specifying_emails,_should_use_them_to_send_the_report (0.00s)
=== RUN   TestMultipleDashboards
=== RUN   TestMultipleDashboards/Create_and_get_report_with_only_one_dashboard_and_deprecated_variables_format
=== RUN   TestMultipleDashboards/Create_and_get_report_with_repeated_dashboards
=== RUN   TestMultipleDashboards/Update_test_with_multiple_dashboards
--- PASS: TestMultipleDashboards (0.01s)
--- PASS: TestMultipleDashboards/Create_and_get_report_with_only_one_dashboard_and_deprecated_variables_format (0.00s)
--- PASS: TestMultipleDashboards/Create_and_get_report_with_repeated_dashboards (0.00s)
--- PASS: TestMultipleDashboards/Update_test_with_multiple_dashboards (0.00s)
=== RUN   TestHTTPTestEmail
--- PASS: TestHTTPTestEmail (0.01s)
=== RUN   TestRenderCSVs
=== RUN   TestRenderCSVs/Return_an_error_in_a_JSON_response_when_the_dashboard_doesn't_exist
=== RUN   TestRenderCSVs/Return_no_content_when_the_dashboard_does_not_contain_any_table_panel
--- PASS: TestRenderCSVs (0.01s)
--- PASS: TestRenderCSVs/Return_an_error_in_a_JSON_response_when_the_dashboard_doesn't_exist (0.00s)
--- PASS: TestRenderCSVs/Return_no_content_when_the_dashboard_does_not_contain_any_table_panel (0.00s)
=== RUN   TestHTTPSaveSettingsWithImages
=== RUN   TestHTTPSaveSettingsWithImages/Missing_config_in_form_data,_should_fail
=== RUN   TestHTTPSaveSettingsWithImages/Invalid_config_in_form_data,_should_fail
=== RUN   TestHTTPSaveSettingsWithImages/Invalid_image_URL,_should_fail
=== RUN   TestHTTPSaveSettingsWithImages/Unsupported_image_type,_should_fail
=== RUN   TestHTTPSaveSettingsWithImages/Image_file_size_exceeds_the_limit,_should_fail
=== RUN   TestHTTPSaveSettingsWithImages/Image_file_size_exceeds_the_limit,_should_fail#01
=== RUN   TestHTTPSaveSettingsWithImages/Saving_config_without_uploaded_files_should_succeed
=== RUN   TestHTTPSaveSettingsWithImages/Saving_config_with_the_uploaded_reportLogo_image_should_succeed
=== RUN   TestHTTPSaveSettingsWithImages/Saving_config_with_the_uploaded_emailLogo_image_should_succeed
--- PASS: TestHTTPSaveSettingsWithImages (0.04s)
--- PASS: TestHTTPSaveSettingsWithImages/Missing_config_in_form_data,_should_fail (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Invalid_config_in_form_data,_should_fail (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Invalid_image_URL,_should_fail (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Unsupported_image_type,_should_fail (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Image_file_size_exceeds_the_limit,_should_fail (0.03s)
--- PASS: TestHTTPSaveSettingsWithImages/Image_file_size_exceeds_the_limit,_should_fail#01 (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Saving_config_without_uploaded_files_should_succeed (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Saving_config_with_the_uploaded_reportLogo_image_should_succeed (0.00s)
--- PASS: TestHTTPSaveSettingsWithImages/Saving_config_with_the_uploaded_emailLogo_image_should_succeed (0.00s)
=== RUN   TestUploadedImagesCleanup
=== RUN   TestUploadedImagesCleanup/Should_successfully_upload_PNG_image_to_the_storage
=== RUN   TestUploadedImagesCleanup/Should_successfully_upload_JPG_image_to_the_storage,_but_delete_previously_uploaded_PNG
--- PASS: TestUploadedImagesCleanup (0.01s)
--- PASS: TestUploadedImagesCleanup/Should_successfully_upload_PNG_image_to_the_storage (0.00s)
--- PASS: TestUploadedImagesCleanup/Should_successfully_upload_JPG_image_to_the_storage,_but_delete_previously_uploaded_PNG (0.00s)
=== RUN   TestHTTPGetSettingsImage
=== RUN   TestHTTPGetSettingsImage/icon_mysql.png
=== RUN   TestHTTPGetSettingsImage/icon_mysql.gif
=== RUN   TestHTTPGetSettingsImage/icon_mysql.jpg
=== RUN   TestHTTPGetSettingsImage/unknown.png
--- PASS: TestHTTPGetSettingsImage (0.02s)
--- PASS: TestHTTPGetSettingsImage/icon_mysql.png (0.01s)
--- PASS: TestHTTPGetSettingsImage/icon_mysql.gif (0.00s)
--- PASS: TestHTTPGetSettingsImage/icon_mysql.jpg (0.01s)
--- PASS: TestHTTPGetSettingsImage/unknown.png (0.00s)
=== RUN   TestUploadRetrieveImageMultipleOrgs
=== RUN   TestUploadRetrieveImageMultipleOrgs/Each_user_uploads_a_file
=== RUN   TestUploadRetrieveImageMultipleOrgs/User1_should_be_able_to_read_image1,_but_not_image2
=== RUN   TestUploadRetrieveImageMultipleOrgs/User2_should_be_able_to_read_image1,_but_not_image2
=== RUN   TestUploadRetrieveImageMultipleOrgs/Anonymous_user_should_be_able_to_read_image1,_but_not_image2,_as_he_is_mapped_to_Org1
=== RUN   TestUploadRetrieveImageMultipleOrgs/A_new_image3_uploaded_by_the_ser1_should_over-write_image1,_but_not_the_image2_uploaded_by_user2
--- PASS: TestUploadRetrieveImageMultipleOrgs (0.01s)
--- PASS: TestUploadRetrieveImageMultipleOrgs/Each_user_uploads_a_file (0.00s)
--- PASS: TestUploadRetrieveImageMultipleOrgs/User1_should_be_able_to_read_image1,_but_not_image2 (0.00s)
--- PASS: TestUploadRetrieveImageMultipleOrgs/User2_should_be_able_to_read_image1,_but_not_image2 (0.00s)
--- PASS: TestUploadRetrieveImageMultipleOrgs/Anonymous_user_should_be_able_to_read_image1,_but_not_image2,_as_he_is_mapped_to_Org1 (0.00s)
--- PASS: TestUploadRetrieveImageMultipleOrgs/A_new_image3_uploaded_by_the_ser1_should_over-write_image1,_but_not_the_image2_uploaded_by_user2 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/api	0.937s
?   	github.com/grafana/grafana/pkg/extensions/report/brandingstorage	[no test files]
=== RUN   TestReportDatabase_GetReportsByOrg
=== RUN   TestReportDatabase_GetReportsByOrg/Should_return_all_reports_for_org
=== RUN   TestReportDatabase_GetReportsByOrg/Should_return_subset_of_reports_for_org
=== RUN   TestReportDatabase_GetReportsByOrg/Should_return_no_report_for_org
--- PASS: TestReportDatabase_GetReportsByOrg (0.33s)
--- PASS: TestReportDatabase_GetReportsByOrg/Should_return_all_reports_for_org (0.32s)
--- PASS: TestReportDatabase_GetReportsByOrg/Should_return_subset_of_reports_for_org (0.00s)
--- PASS: TestReportDatabase_GetReportsByOrg/Should_return_no_report_for_org (0.00s)
=== RUN   TestReportDatabase_GetReportDashboards
=== RUN   TestReportDatabase_GetReportDashboards/Should_return_one_dashboard
=== RUN   TestReportDatabase_GetReportDashboards/Should_return_two_dashboards
=== RUN   TestReportDatabase_GetReportDashboards/Should_not_update_non-deprecated_variables
=== RUN   TestReportDatabase_GetReportDashboards/Should_migrate_deprecated_variables
--- PASS: TestReportDatabase_GetReportDashboards (0.00s)
--- PASS: TestReportDatabase_GetReportDashboards/Should_return_one_dashboard (0.00s)
--- PASS: TestReportDatabase_GetReportDashboards/Should_return_two_dashboards (0.00s)
--- PASS: TestReportDatabase_GetReportDashboards/Should_not_update_non-deprecated_variables (0.00s)
--- PASS: TestReportDatabase_GetReportDashboards/Should_migrate_deprecated_variables (0.00s)
=== RUN   TestReportDatabase_GetSettings
=== RUN   TestReportDatabase_GetSettings/Should_get_settings_by_OrgId
=== RUN   TestReportDatabase_GetSettings/Should_return_all_settings
--- PASS: TestReportDatabase_GetSettings (0.00s)
--- PASS: TestReportDatabase_GetSettings/Should_get_settings_by_OrgId (0.00s)
--- PASS: TestReportDatabase_GetSettings/Should_return_all_settings (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/database	(cached)
?   	github.com/grafana/grafana/pkg/extensions/report/models	[no test files]
=== RUN   TestGetDashboardInfo
--- PASS: TestGetDashboardInfo (0.00s)
=== RUN   TestProcessRepeatedItems
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_odd_number_of_variables
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_even_number_of_variables
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_report_variable_selected_all
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_default_dashboard_variables_selected_all
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_default_report_multi_variables_selected
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_outside_and_inside_repeated_rows
=== RUN   TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_after_repeated_rows_containing_repeated_panels
--- PASS: TestProcessRepeatedItems (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_odd_number_of_variables (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_even_number_of_variables (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_report_variable_selected_all (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_default_dashboard_variables_selected_all (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_in_repeated_rows,_with_default_report_multi_variables_selected (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_outside_and_inside_repeated_rows (0.00s)
--- PASS: TestProcessRepeatedItems/Given_a_dashboard_with_repeated_panels_after_repeated_rows_containing_repeated_panels (0.00s)
=== RUN   TestProcessRepeatedPanelsPosition
=== RUN   TestProcessRepeatedPanelsPosition/with_repeated_panels_and_rows
=== RUN   TestProcessRepeatedPanelsPosition/with_panels_not_in_row_(but_no_repeated_panel_/_row)
--- PASS: TestProcessRepeatedPanelsPosition (0.00s)
--- PASS: TestProcessRepeatedPanelsPosition/with_repeated_panels_and_rows (0.00s)
--- PASS: TestProcessRepeatedPanelsPosition/with_panels_not_in_row_(but_no_repeated_panel_/_row) (0.00s)
=== RUN   TestGetDashboardPanelsToRender
=== RUN   TestGetDashboardPanelsToRender/first_test_dashboard_-_with_less_selected_variables_than_default_variables
=== RUN   TestGetDashboardPanelsToRender/first_test_dashboard_-_with_same_selected_variables_than_default_variables
=== RUN   TestGetDashboardPanelsToRender/first_test_dashboard_-_with_more_selected_variables_than_default_variables
=== RUN   TestGetDashboardPanelsToRender/second_test_dashboard_-_with_less_selected_variables_than_default_variables
=== RUN   TestGetDashboardPanelsToRender/second_test_dashboard_-_with_same_selected_variables_than_default_variables
=== RUN   TestGetDashboardPanelsToRender/second_test_dashboard_-_with_more_selected_variables_than_default_variables
--- PASS: TestGetDashboardPanelsToRender (0.00s)
--- PASS: TestGetDashboardPanelsToRender/first_test_dashboard_-_with_less_selected_variables_than_default_variables (0.00s)
--- PASS: TestGetDashboardPanelsToRender/first_test_dashboard_-_with_same_selected_variables_than_default_variables (0.00s)
--- PASS: TestGetDashboardPanelsToRender/first_test_dashboard_-_with_more_selected_variables_than_default_variables (0.00s)
--- PASS: TestGetDashboardPanelsToRender/second_test_dashboard_-_with_less_selected_variables_than_default_variables (0.00s)
--- PASS: TestGetDashboardPanelsToRender/second_test_dashboard_-_with_same_selected_variables_than_default_variables (0.00s)
--- PASS: TestGetDashboardPanelsToRender/second_test_dashboard_-_with_more_selected_variables_than_default_variables (0.00s)
=== RUN   TestIsAllVariable
=== RUN   TestIsAllVariable/with_All_variable
=== RUN   TestIsAllVariable/with_text_variable
=== RUN   TestIsAllVariable/with_custom_non-all_variable
--- PASS: TestIsAllVariable (0.00s)
--- PASS: TestIsAllVariable/with_All_variable (0.00s)
--- PASS: TestIsAllVariable/with_text_variable (0.00s)
--- PASS: TestIsAllVariable/with_custom_non-all_variable (0.00s)
=== RUN   TestUpgradeToGridLayout
=== RUN   TestUpgradeToGridLayout/Upgrade_one_row_with_one_panel_-_should_not_show_the_row
=== RUN   TestUpgradeToGridLayout/Upgrade_several_rows_containing_several_panels
--- PASS: TestUpgradeToGridLayout (0.00s)
--- PASS: TestUpgradeToGridLayout/Upgrade_one_row_with_one_panel_-_should_not_show_the_row (0.00s)
--- PASS: TestUpgradeToGridLayout/Upgrade_several_rows_containing_several_panels (0.00s)
=== RUN   TestGetDeviceScaleFactor
=== RUN   TestGetDeviceScaleFactor/Zoom_1_-_newPDFRendering_disabled
=== RUN   TestGetDeviceScaleFactor/Zoom_100_-_newPDFRendering_disabled
=== RUN   TestGetDeviceScaleFactor/Zoom_125_(not_supported)_-_newPDFRendering_disabled
=== RUN   TestGetDeviceScaleFactor/Zoom_2_-_newPDFRendering_enabled
=== RUN   TestGetDeviceScaleFactor/Zoom_75_-_newPDFRendering_enabled
=== RUN   TestGetDeviceScaleFactor/Zoom_150_-_newPDFRendering_enabled
=== RUN   TestGetDeviceScaleFactor/Zoom_225_(not_supported)_-_newPDFRendering_enabled
--- PASS: TestGetDeviceScaleFactor (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_1_-_newPDFRendering_disabled (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_100_-_newPDFRendering_disabled (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_125_(not_supported)_-_newPDFRendering_disabled (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_2_-_newPDFRendering_enabled (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_75_-_newPDFRendering_enabled (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_150_-_newPDFRendering_enabled (0.00s)
--- PASS: TestGetDeviceScaleFactor/Zoom_225_(not_supported)_-_newPDFRendering_enabled (0.00s)
=== RUN   TestPanickingRenderer
--- PASS: TestPanickingRenderer (0.00s)
=== RUN   TestRenderServiceRun_Scheduler
--- PASS: TestRenderServiceRun_Scheduler (0.00s)
=== RUN   TestGetReportsInformation
=== RUN   TestGetReportsInformation/simple_dashboard
=== RUN   TestGetReportsInformation/multiple_dashboards_with_one_custom_time_to
=== RUN   TestGetReportsInformation/multiple_dashboards_with_one_custom_template_variable
=== RUN   TestGetReportsInformation/simple_dashboard_with_custom_template_variable_using_deprecated_format
--- PASS: TestGetReportsInformation (0.00s)
--- PASS: TestGetReportsInformation/simple_dashboard (0.00s)
--- PASS: TestGetReportsInformation/multiple_dashboards_with_one_custom_time_to (0.00s)
--- PASS: TestGetReportsInformation/multiple_dashboards_with_one_custom_template_variable (0.00s)
--- PASS: TestGetReportsInformation/simple_dashboard_with_custom_template_variable_using_deprecated_format (0.00s)
=== RUN   TestRenderService_ValidateRecipientsDomain
=== RUN   TestRenderService_ValidateRecipientsDomain/domain_not_allowed
=== RUN   TestRenderService_ValidateRecipientsDomain/all_recipient_domains_allowed
=== RUN   TestRenderService_ValidateRecipientsDomain/all_recipient_domains_allowed_using_wildcard
=== RUN   TestRenderService_ValidateRecipientsDomain/some_recipient_domains_allowed
--- PASS: TestRenderService_ValidateRecipientsDomain (0.00s)
--- PASS: TestRenderService_ValidateRecipientsDomain/domain_not_allowed (0.00s)
--- PASS: TestRenderService_ValidateRecipientsDomain/all_recipient_domains_allowed (0.00s)
--- PASS: TestRenderService_ValidateRecipientsDomain/all_recipient_domains_allowed_using_wildcard (0.00s)
--- PASS: TestRenderService_ValidateRecipientsDomain/some_recipient_domains_allowed (0.00s)
=== RUN   Test_retrier
=== RUN   Test_retrier/on_success_it_should_be_executed_only_once
=== RUN   Test_retrier/when_no_errors_provided_it_should_be_executed_only_once
=== RUN   Test_retrier/when_no_error_match_it_should_be_executed_only_once
=== RUN   Test_retrier/on_error_match_it_should_be_retried
--- PASS: Test_retrier (0.00s)
--- PASS: Test_retrier/on_success_it_should_be_executed_only_once (0.00s)
--- PASS: Test_retrier/when_no_errors_provided_it_should_be_executed_only_once (0.00s)
--- PASS: Test_retrier/when_no_error_match_it_should_be_executed_only_once (0.00s)
--- PASS: Test_retrier/on_error_match_it_should_be_retried (0.00s)
=== RUN   TestRender_Image
=== RUN   TestRender_Image/successful_image_rendering_without_url_options
=== RUN   TestRender_Image/successful_image_rendering_with_url_options
=== RUN   TestRender_Image/failed_image_rendering_and_retrier_not_set
--- PASS: TestRender_Image (0.00s)
--- PASS: TestRender_Image/successful_image_rendering_without_url_options (0.00s)
--- PASS: TestRender_Image/successful_image_rendering_with_url_options (0.00s)
--- PASS: TestRender_Image/failed_image_rendering_and_retrier_not_set (0.00s)
=== RUN   TestRender_ImageWithRetrier
--- PASS: TestRender_ImageWithRetrier (0.00s)
=== RUN   TestRender_CSV
=== RUN   TestRender_CSV/successful_CSV_rendering_without_url_options
=== RUN   TestRender_CSV/failed_CSV_rendering_and_retrier_not_set
--- PASS: TestRender_CSV (0.00s)
--- PASS: TestRender_CSV/successful_CSV_rendering_without_url_options (0.00s)
--- PASS: TestRender_CSV/failed_CSV_rendering_and_retrier_not_set (0.00s)
=== RUN   TestRender_CSVWithRetrier
--- PASS: TestRender_CSVWithRetrier (0.00s)
=== RUN   TestGetTimeRangeFromPanel
=== RUN   TestGetTimeRangeFromPanel/dashboard_absolute_time_range_without_custom_settings_returns_absolute_time_range
=== RUN   TestGetTimeRangeFromPanel/dashboard_relative_time_range_without_custom_settings_returns_relative_time_range
=== RUN   TestGetTimeRangeFromPanel/dashboard_relative_time_range_with_custom_absolute_time_settings_range_returns_absolute_time_range
=== RUN   TestGetTimeRangeFromPanel/dashboard_with_absolute_time_range_and_custom_relative_time_range_settings_returns_relative_time
=== RUN   TestGetTimeRangeFromPanel/panel_with_relative_time_and_custom_relative_time_range_settings_returns_relative_time_using_panel's_time_range
=== RUN   TestGetTimeRangeFromPanel/panel_with_relative_time_and_custom_absolute_time_range_settings_returns_absolute_time_ignoring_panel's_time_range
=== RUN   TestGetTimeRangeFromPanel/dashboard_absolute_time_range,_panel_with_relative_time_and_without_custom_settings_returns_absolute_time_ignoring_panel's_time_range
=== RUN   TestGetTimeRangeFromPanel/dashboard_relative_time_range,_panel_with_relative_time_and_without_custom_settings_returns_relative_time_using_panel's_time_range
=== RUN   TestGetTimeRangeFromPanel/no_dashboard_or_panel_time_range_returns_defaults_Go_time
--- PASS: TestGetTimeRangeFromPanel (0.00s)
--- PASS: TestGetTimeRangeFromPanel/dashboard_absolute_time_range_without_custom_settings_returns_absolute_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/dashboard_relative_time_range_without_custom_settings_returns_relative_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/dashboard_relative_time_range_with_custom_absolute_time_settings_range_returns_absolute_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/dashboard_with_absolute_time_range_and_custom_relative_time_range_settings_returns_relative_time (0.00s)
--- PASS: TestGetTimeRangeFromPanel/panel_with_relative_time_and_custom_relative_time_range_settings_returns_relative_time_using_panel's_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/panel_with_relative_time_and_custom_absolute_time_range_settings_returns_absolute_time_ignoring_panel's_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/dashboard_absolute_time_range,_panel_with_relative_time_and_without_custom_settings_returns_absolute_time_ignoring_panel's_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/dashboard_relative_time_range,_panel_with_relative_time_and_without_custom_settings_returns_relative_time_using_panel's_time_range (0.00s)
--- PASS: TestGetTimeRangeFromPanel/no_dashboard_or_panel_time_range_returns_defaults_Go_time (0.00s)
=== RUN   TestParseTimeRange
=== RUN   TestParseTimeRange/from_dashboard
=== RUN   TestParseTimeRange/from_config
=== RUN   TestParseTimeRange/with_specific_timezone
=== RUN   TestParseTimeRange/with_absolute_time_range_and_specific_timezone
=== RUN   TestParseTimeRange/from_dashboard_with_week_starting_on_sunday
=== RUN   TestParseTimeRange/from_dashboard_with_week_starting_on_saturday
=== RUN   TestParseTimeRange/with_no_information
--- PASS: TestParseTimeRange (0.01s)
--- PASS: TestParseTimeRange/from_dashboard (0.00s)
--- PASS: TestParseTimeRange/from_config (0.00s)
--- PASS: TestParseTimeRange/with_specific_timezone (0.00s)
--- PASS: TestParseTimeRange/with_absolute_time_range_and_specific_timezone (0.00s)
--- PASS: TestParseTimeRange/from_dashboard_with_week_starting_on_sunday (0.00s)
--- PASS: TestParseTimeRange/from_dashboard_with_week_starting_on_saturday (0.00s)
--- PASS: TestParseTimeRange/with_no_information (0.00s)
=== RUN   TestGetDashboardURL
=== RUN   TestGetDashboardURL/returns_path_without_any_query_param
=== RUN   TestGetDashboardURL/returns_path_with_from_and_to_and_orgId
=== RUN   TestGetDashboardURL/returns_path_with_template_vars
=== RUN   TestGetDashboardURL/returns_path_with_relative_time_range_instead_of_absolute_when_reportingUseRawTimeRange_is_true
=== RUN   TestGetDashboardURL/returns_path_with_absolute_time_range_when_reportingUseRawTimeRange_is_false
--- PASS: TestGetDashboardURL (0.00s)
--- PASS: TestGetDashboardURL/returns_path_without_any_query_param (0.00s)
--- PASS: TestGetDashboardURL/returns_path_with_from_and_to_and_orgId (0.00s)
--- PASS: TestGetDashboardURL/returns_path_with_template_vars (0.00s)
--- PASS: TestGetDashboardURL/returns_path_with_relative_time_range_instead_of_absolute_when_reportingUseRawTimeRange_is_true (0.00s)
--- PASS: TestGetDashboardURL/returns_path_with_absolute_time_range_when_reportingUseRawTimeRange_is_false (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/render	0.498s
=== RUN   TestPDFTables_SimpleGen
=== RUN   TestPDFTables_SimpleGen/simple_table
=== RUN   TestPDFTables_SimpleGen/large_row_count
=== RUN   TestPDFTables_SimpleGen/large_column_count
=== RUN   TestPDFTables_SimpleGen/empty_table
--- PASS: TestPDFTables_SimpleGen (0.01s)
--- PASS: TestPDFTables_SimpleGen/simple_table (0.00s)
--- PASS: TestPDFTables_SimpleGen/large_row_count (0.00s)
--- PASS: TestPDFTables_SimpleGen/large_column_count (0.00s)
--- PASS: TestPDFTables_SimpleGen/empty_table (0.00s)
=== RUN   TestPDFTables_ComplexGen
=== RUN   TestPDFTables_ComplexGen/multiple_simple_tables
=== RUN   TestPDFTables_ComplexGen/multiple_with_descriptions
--- PASS: TestPDFTables_ComplexGen (0.01s)
--- PASS: TestPDFTables_ComplexGen/multiple_simple_tables (0.00s)
--- PASS: TestPDFTables_ComplexGen/multiple_with_descriptions (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/render/pdftables	0.018s
=== RUN   TestEmptyConfigsJob
--- PASS: TestEmptyConfigsJob (0.37s)
=== RUN   TestOneCronJob
--- PASS: TestOneCronJob (0.00s)
=== RUN   TestAddEmailJobForMultipleJobs
--- PASS: TestAddEmailJobForMultipleJobs (0.00s)
=== RUN   TestJobRemoval
--- PASS: TestJobRemoval (0.00s)
=== RUN   TestAbsentJobRemoval
--- PASS: TestAbsentJobRemoval (0.00s)
=== RUN   TestConfigRemoval
--- PASS: TestConfigRemoval (0.00s)
=== RUN   TestRemovalOfRemovedJob
--- PASS: TestRemovalOfRemovedJob (0.00s)
=== RUN   TestRemovalOfRemovedJobs
--- PASS: TestRemovalOfRemovedJobs (0.00s)
=== RUN   TestRemovalOfJobsWithoutDashboard
--- PASS: TestRemovalOfJobsWithoutDashboard (0.01s)
=== RUN   TestRemovalOfDisabledJobs
--- PASS: TestRemovalOfDisabledJobs (0.01s)
=== RUN   TestModifiedJobsAndConfigs
--- PASS: TestModifiedJobsAndConfigs (0.01s)
=== RUN   TestNoScheduleJobsIfReportIsExpired
=== RUN   TestNoScheduleJobsIfReportIsExpired/Reports_are_expired
=== RUN   TestNoScheduleJobsIfReportIsExpired/Dashboard_is_invalid,_no_ReportDashboard
--- PASS: TestNoScheduleJobsIfReportIsExpired (0.00s)
--- PASS: TestNoScheduleJobsIfReportIsExpired/Reports_are_expired (0.00s)
--- PASS: TestNoScheduleJobsIfReportIsExpired/Dashboard_is_invalid,_no_ReportDashboard (0.00s)
=== RUN   TestHasAnyValidDashboards
=== RUN   TestHasAnyValidDashboards/All_Valid_Dashboards
=== RUN   TestHasAnyValidDashboards/Some_Valid_Dashboards
=== RUN   TestHasAnyValidDashboards/No_Valid_Dashboards
--- PASS: TestHasAnyValidDashboards (0.01s)
--- PASS: TestHasAnyValidDashboards/All_Valid_Dashboards (0.00s)
--- PASS: TestHasAnyValidDashboards/Some_Valid_Dashboards (0.00s)
--- PASS: TestHasAnyValidDashboards/No_Valid_Dashboards (0.00s)
=== RUN   TestScheduleReport
--- PASS: TestScheduleReport (0.00s)
=== RUN   TestScheduling
=== RUN   TestScheduling/Test_CronExpr
=== RUN   TestScheduling/Test_ShouldSendReport
--- PASS: TestScheduling (0.00s)
--- PASS: TestScheduling/Test_CronExpr (0.00s)
--- PASS: TestScheduling/Test_ShouldSendReport (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/scheduler	(cached)
=== RUN   TestFeatureToggle
=== RUN   TestFeatureToggle/Test_SendTestEmail
=== RUN   TestFeatureToggle/Test_SendTestEmail/Should_not_call_send_email_when_reporting_is_disabled_by_token
=== RUN   TestFeatureToggle/Test_SendTestEmail/Should_send_email_when_reporting_token_is_valid
=== RUN   TestFeatureToggle/Test_SendTestEmail/Should_send_email_when_reporting_token_is_expired
=== RUN   TestFeatureToggle/Test_Send
=== RUN   TestFeatureToggle/Test_Send/Should_not_call_send_email_when_reporting_is_disabled_by_token
=== RUN   TestFeatureToggle/Test_Send/Should_send_email_when_reporting_token_is_valid
=== RUN   TestFeatureToggle/Test_Send/Should_send_email_when_reporting_token_is_expired
--- PASS: TestFeatureToggle (0.25s)
--- PASS: TestFeatureToggle/Test_SendTestEmail (0.00s)
--- PASS: TestFeatureToggle/Test_SendTestEmail/Should_not_call_send_email_when_reporting_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_SendTestEmail/Should_send_email_when_reporting_token_is_valid (0.00s)
--- PASS: TestFeatureToggle/Test_SendTestEmail/Should_send_email_when_reporting_token_is_expired (0.00s)
--- PASS: TestFeatureToggle/Test_Send (0.00s)
--- PASS: TestFeatureToggle/Test_Send/Should_not_call_send_email_when_reporting_is_disabled_by_token (0.00s)
--- PASS: TestFeatureToggle/Test_Send/Should_send_email_when_reporting_token_is_valid (0.00s)
--- PASS: TestFeatureToggle/Test_Send/Should_send_email_when_reporting_token_is_expired (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/sender	0.592s
=== RUN   TestUpdateApiValidation
=== RUN   TestUpdateApiValidation/recipients_not_set
=== RUN   TestUpdateApiValidation/replyTo_not_set_-_should_be_optional
=== RUN   TestUpdateApiValidation/dashboard_not_found
=== RUN   TestUpdateApiValidation/schedule_incorrect_frequency
=== RUN   TestUpdateApiValidation/end_date_in_the_past
=== RUN   TestUpdateApiValidation/start_date_larger_than_end_date
=== RUN   TestUpdateApiValidation/empty_formats
=== RUN   TestUpdateApiValidation/invalid_format
--- PASS: TestUpdateApiValidation (0.00s)
--- PASS: TestUpdateApiValidation/recipients_not_set (0.00s)
--- PASS: TestUpdateApiValidation/replyTo_not_set_-_should_be_optional (0.00s)
--- PASS: TestUpdateApiValidation/dashboard_not_found (0.00s)
--- PASS: TestUpdateApiValidation/schedule_incorrect_frequency (0.00s)
--- PASS: TestUpdateApiValidation/end_date_in_the_past (0.00s)
--- PASS: TestUpdateApiValidation/start_date_larger_than_end_date (0.00s)
--- PASS: TestUpdateApiValidation/empty_formats (0.00s)
--- PASS: TestUpdateApiValidation/invalid_format (0.00s)
=== RUN   TestCreateReportValidation
--- PASS: TestCreateReportValidation (0.00s)
=== RUN   TestValidateReportLogoIsPNG
=== RUN   TestValidateReportLogoIsPNG/uploaded_file_name
=== RUN   TestValidateReportLogoIsPNG/jpg_image_url_with_http_schema
=== RUN   TestValidateReportLogoIsPNG/gif_image_url_with_https_schema
=== RUN   TestValidateReportLogoIsPNG/png_image_url_with_https_schema
=== RUN   TestValidateReportLogoIsPNG/png_image_url_with_http_schema
--- PASS: TestValidateReportLogoIsPNG (0.00s)
--- PASS: TestValidateReportLogoIsPNG/uploaded_file_name (0.00s)
--- PASS: TestValidateReportLogoIsPNG/jpg_image_url_with_http_schema (0.00s)
--- PASS: TestValidateReportLogoIsPNG/gif_image_url_with_https_schema (0.00s)
--- PASS: TestValidateReportLogoIsPNG/png_image_url_with_https_schema (0.00s)
--- PASS: TestValidateReportLogoIsPNG/png_image_url_with_http_schema (0.00s)
=== RUN   TestValidateImageFields
--- PASS: TestValidateImageFields (0.00s)
=== RUN   TestScheduleValidation
--- PASS: TestScheduleValidation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/report/service	(cached)
?   	github.com/grafana/grafana/pkg/extensions/report/testing	[no test files]
=== RUN   TestInterceptHostDenyList
=== RUN   TestInterceptHostDenyList/using_an_ipv4_address
=== RUN   TestInterceptHostDenyList/using_an_ipv6_address
=== RUN   TestInterceptHostDenyList/using_a_hostname,_direct_ipv4_in_deny_list
=== RUN   TestInterceptHostDenyList/using_a_hostname,_cidr_notation_ipv4_in_deny_list
=== RUN   TestInterceptHostDenyList/using_a_hostname,_direct_ipv6_in_deny_list
=== RUN   TestInterceptHostDenyList/using_a_hostname,_cidr_notation_ipv6_in_deny_list
--- PASS: TestInterceptHostDenyList (0.36s)
--- PASS: TestInterceptHostDenyList/using_an_ipv4_address (0.13s)
--- PASS: TestInterceptHostDenyList/using_an_ipv6_address (0.06s)
--- PASS: TestInterceptHostDenyList/using_a_hostname,_direct_ipv4_in_deny_list (0.10s)
--- PASS: TestInterceptHostDenyList/using_a_hostname,_cidr_notation_ipv4_in_deny_list (0.08s)
--- PASS: TestInterceptHostDenyList/using_a_hostname,_direct_ipv6_in_deny_list (0.00s)
--- PASS: TestInterceptHostDenyList/using_a_hostname,_cidr_notation_ipv6_in_deny_list (0.00s)
=== RUN   TestEmptyHostname
--- PASS: TestEmptyHostname (0.00s)
=== RUN   TestInterceptHostCIDR
--- PASS: TestInterceptHostCIDR (0.00s)
=== RUN   TestInterceptHostAllowList
--- PASS: TestInterceptHostAllowList (0.00s)
=== RUN   TestInterceptHeaderStrip
--- PASS: TestInterceptHeaderStrip (0.00s)
=== RUN   TestInterceptCaseInsensitiveHeaderStrip
--- PASS: TestInterceptCaseInsensitiveHeaderStrip (0.00s)
=== RUN   TestURLMSSQLNamedInstance
--- PASS: TestURLMSSQLNamedInstance (0.00s)
=== RUN   TestInterceptCookieStrip
--- PASS: TestInterceptCookieStrip (0.00s)
=== RUN   TestInterceptDoingNothing
--- PASS: TestInterceptDoingNothing (0.00s)
=== RUN   TestInterceptPunyCodeDenyList
=== RUN   TestInterceptPunyCodeDenyList/unicode
=== RUN   TestInterceptPunyCodeDenyList/unicode_without_protocol
=== RUN   TestInterceptPunyCodeDenyList/ascii
=== RUN   TestInterceptPunyCodeDenyList/ascii_without_protocol
=== RUN   TestInterceptPunyCodeDenyList/ascii_with_prefix
=== RUN   TestInterceptPunyCodeDenyList/ascii_with_prefix_without_protocol
=== RUN   TestInterceptPunyCodeDenyList/unicode_with_prefix_without_protocol_and_brackets
=== RUN   TestInterceptPunyCodeDenyList/ascii_with_prefix_without_protocol_and_brackets
--- PASS: TestInterceptPunyCodeDenyList (0.01s)
--- PASS: TestInterceptPunyCodeDenyList/unicode (0.00s)
--- PASS: TestInterceptPunyCodeDenyList/unicode_without_protocol (0.00s)
--- PASS: TestInterceptPunyCodeDenyList/ascii (0.01s)
--- PASS: TestInterceptPunyCodeDenyList/ascii_without_protocol (0.00s)
--- PASS: TestInterceptPunyCodeDenyList/ascii_with_prefix (0.00s)
--- PASS: TestInterceptPunyCodeDenyList/ascii_with_prefix_without_protocol (0.00s)
--- PASS: TestInterceptPunyCodeDenyList/unicode_with_prefix_without_protocol_and_brackets (0.00s)
--- PASS: TestInterceptPunyCodeDenyList/ascii_with_prefix_without_protocol_and_brackets (0.00s)
=== RUN   TestIPWithBrackets
=== RUN   TestIPWithBrackets/no_brackets
=== RUN   TestIPWithBrackets/simple_brackets
=== RUN   TestIPWithBrackets/double_brackets
=== RUN   TestIPWithBrackets/triple_brackets
--- PASS: TestIPWithBrackets (0.00s)
--- PASS: TestIPWithBrackets/no_brackets (0.00s)
--- PASS: TestIPWithBrackets/simple_brackets (0.00s)
--- PASS: TestIPWithBrackets/double_brackets (0.00s)
--- PASS: TestIPWithBrackets/triple_brackets (0.00s)
=== RUN   TestAllowCharactersInIP
=== RUN   TestAllowCharactersInIP/underscore_hostname
=== RUN   TestAllowCharactersInIP/score_hostname
=== RUN   TestAllowCharactersInIP/space_and_denied_host
=== RUN   TestAllowCharactersInIP/with_semicolon
=== RUN   TestAllowCharactersInIP/with_semicolon_and_denied_host
=== RUN   TestAllowCharactersInIP/with_brackets,_comma_and_denied_host
--- PASS: TestAllowCharactersInIP (0.01s)
--- PASS: TestAllowCharactersInIP/underscore_hostname (0.01s)
--- PASS: TestAllowCharactersInIP/score_hostname (0.00s)
--- PASS: TestAllowCharactersInIP/space_and_denied_host (0.00s)
--- PASS: TestAllowCharactersInIP/with_semicolon (0.00s)
--- PASS: TestAllowCharactersInIP/with_semicolon_and_denied_host (0.00s)
--- PASS: TestAllowCharactersInIP/with_brackets,_comma_and_denied_host (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/requestinterceptor	(cached)
=== RUN   TestAuth_GetMetadataSuccess
--- PASS: TestAuth_GetMetadataSuccess (0.22s)
=== RUN   TestAuth_GetLoginSuccess_RedirectBinding
--- PASS: TestAuth_GetLoginSuccess_RedirectBinding (0.01s)
=== RUN   TestAuth_GetLoginSuccess_PostBinding
--- PASS: TestAuth_GetLoginSuccess_PostBinding (0.01s)
=== RUN   TestAuth_GetLoginFailure_UnsupportedBinding
--- PASS: TestAuth_GetLoginFailure_UnsupportedBinding (0.00s)
=== RUN   TestAuth_GetLoginSuccess_ValidSessionFound
--- PASS: TestAuth_GetLoginSuccess_ValidSessionFound (0.00s)
=== RUN   TestAuth_PostACSSuccess
--- PASS: TestAuth_PostACSSuccess (0.01s)
=== RUN   TestAuth_PostACSSuccess_ValidSessionFound
--- PASS: TestAuth_PostACSSuccess_ValidSessionFound (0.01s)
=== RUN   TestAuth_PostACSFailure_MissingCookie
--- PASS: TestAuth_PostACSFailure_MissingCookie (0.01s)
=== RUN   TestAuth_PostACSSuccess_WithDifferentOrigin
--- PASS: TestAuth_PostACSSuccess_WithDifferentOrigin (0.01s)
=== RUN   TestAuth_GetLogoutSuccess_RedirectBinding
=== RUN   TestAuth_GetLogoutSuccess_RedirectBinding/should_redirect_with_a_logout_request
=== RUN   TestAuth_GetLogoutSuccess_RedirectBinding/should_redirect_with_a_logout_request_if_RevokeToken_fails
=== RUN   TestAuth_GetLogoutSuccess_RedirectBinding/should_redirect_with_a_logout_request_when_improved_session_handling_is_enabled
=== RUN   TestAuth_GetLogoutSuccess_RedirectBinding/should_fallback_to_Login_attribute_if_NameID_is_not_present_and_improved_session_handling_is_enabled
--- PASS: TestAuth_GetLogoutSuccess_RedirectBinding (0.02s)
--- PASS: TestAuth_GetLogoutSuccess_RedirectBinding/should_redirect_with_a_logout_request (0.01s)
--- PASS: TestAuth_GetLogoutSuccess_RedirectBinding/should_redirect_with_a_logout_request_if_RevokeToken_fails (0.01s)
--- PASS: TestAuth_GetLogoutSuccess_RedirectBinding/should_redirect_with_a_logout_request_when_improved_session_handling_is_enabled (0.00s)
--- PASS: TestAuth_GetLogoutSuccess_RedirectBinding/should_fallback_to_Login_attribute_if_NameID_is_not_present_and_improved_session_handling_is_enabled (0.00s)
=== RUN   TestAuth_SamlDisabled_RedirectBinding
=== RUN   TestAuth_SamlDisabled_RedirectBinding/expect_login/saml_path_to_redirect_to_home
=== RUN   TestAuth_SamlDisabled_RedirectBinding/expect_saml/metadata_path_to_redirect_to_home
=== RUN   TestAuth_SamlDisabled_RedirectBinding/expect_logout/saml_path_to_redirect_to_logout
--- PASS: TestAuth_SamlDisabled_RedirectBinding (0.00s)
--- PASS: TestAuth_SamlDisabled_RedirectBinding/expect_login/saml_path_to_redirect_to_home (0.00s)
--- PASS: TestAuth_SamlDisabled_RedirectBinding/expect_saml/metadata_path_to_redirect_to_home (0.00s)
--- PASS: TestAuth_SamlDisabled_RedirectBinding/expect_logout/saml_path_to_redirect_to_logout (0.00s)
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_handle_valid_logout_request
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusSuccess_even_if_no_external_session_found
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_external_session_service_returns_an_error
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_the_user_was_not_found
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_the_user_service_returns_an_error
=== RUN   TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_the_RevokeAllUserTokens_call_fails
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID (0.01s)
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_handle_valid_logout_request (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusSuccess_even_if_no_external_session_found (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_external_session_service_returns_an_error (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_the_user_was_not_found (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_the_user_service_returns_an_error (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestOnlyNameID/should_return_StatusResponder_if_the_RevokeAllUserTokens_call_fails (0.00s)
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/handle_valid_logout_request
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusSuccess_even_if_no_external_session_found
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_external_session_service_returns_an_error
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_user_was_not_found
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_user_service_returns_an_error
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_UserToken_was_not_found
=== RUN   TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_token_revocation_fails
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex (0.01s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/handle_valid_logout_request (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusSuccess_even_if_no_external_session_found (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_external_session_service_returns_an_error (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_user_was_not_found (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_user_service_returns_an_error (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_UserToken_was_not_found (0.00s)
--- PASS: TestAuth_HandleSLO_LogoutRequestWithSessionIndex/should_return_StatusResponder_if_the_token_revocation_fails (0.00s)
=== RUN   TestSamlClient_Authenticate
=== RUN   TestSamlClient_Authenticate/should_return_error_when_there_is_not_http_request_in_authn.Request
=== RUN   TestSamlClient_Authenticate/should_return_error_when_no_relay_state_is_passed_in_form
=== RUN   TestSamlClient_Authenticate/should_return_error_when_there_is_no_relay_state_stored_in_cookie
=== RUN   TestSamlClient_Authenticate/should_return_error_when_stored_relay_state_dont_match_provided_relay_state
=== RUN   TestSamlClient_Authenticate/should_return_error_when_user_is_not_part_of_allowed_organization
=== RUN   TestSamlClient_Authenticate/Should_return_identity_for_valid_request
=== RUN   TestSamlClient_Authenticate/Should_respect_skip_org_role_sync
--- PASS: TestSamlClient_Authenticate (0.00s)
--- PASS: TestSamlClient_Authenticate/should_return_error_when_there_is_not_http_request_in_authn.Request (0.00s)
--- PASS: TestSamlClient_Authenticate/should_return_error_when_no_relay_state_is_passed_in_form (0.00s)
--- PASS: TestSamlClient_Authenticate/should_return_error_when_there_is_no_relay_state_stored_in_cookie (0.00s)
--- PASS: TestSamlClient_Authenticate/should_return_error_when_stored_relay_state_dont_match_provided_relay_state (0.00s)
--- PASS: TestSamlClient_Authenticate/should_return_error_when_user_is_not_part_of_allowed_organization (0.00s)
--- PASS: TestSamlClient_Authenticate/Should_return_identity_for_valid_request (0.00s)
--- PASS: TestSamlClient_Authenticate/Should_respect_skip_org_role_sync (0.00s)
=== RUN   TestSamlClient_Authenticate_NoErrorOnMissingSAMLAttributes
=== RUN   TestSamlClient_Authenticate_NoErrorOnMissingSAMLAttributes/Should_not_error_out_when_NameID_is_missing_from_the_response
=== RUN   TestSamlClient_Authenticate_NoErrorOnMissingSAMLAttributes/Should_not_error_out_when_SessionIndex_is_missing_from_the_response
--- PASS: TestSamlClient_Authenticate_NoErrorOnMissingSAMLAttributes (0.00s)
--- PASS: TestSamlClient_Authenticate_NoErrorOnMissingSAMLAttributes/Should_not_error_out_when_NameID_is_missing_from_the_response (0.00s)
--- PASS: TestSamlClient_Authenticate_NoErrorOnMissingSAMLAttributes/Should_not_error_out_when_SessionIndex_is_missing_from_the_response (0.00s)
=== RUN   TestConfig_Success
=== RUN   TestConfig_Success/KEY_CERT_AND_METADATA_AS_PATH
=== RUN   TestConfig_Success/KEY_CERT_AND_METADATA_AS_BASE64_ENCODED_STRING
=== RUN   TestConfig_Success/MIX_OF_PATHS_AND_ENCODED_STRINGS
=== RUN   TestConfig_Success/WITH_EXPLICIT_MAPPINGS
=== RUN   TestConfig_Success/SIGNATURE_ALGORITHM
=== RUN   TestConfig_Success/WITH_CORRECT_GRAPH_API_CONFIG
--- PASS: TestConfig_Success (0.00s)
--- PASS: TestConfig_Success/KEY_CERT_AND_METADATA_AS_PATH (0.00s)
--- PASS: TestConfig_Success/KEY_CERT_AND_METADATA_AS_BASE64_ENCODED_STRING (0.00s)
--- PASS: TestConfig_Success/MIX_OF_PATHS_AND_ENCODED_STRINGS (0.00s)
--- PASS: TestConfig_Success/WITH_EXPLICIT_MAPPINGS (0.00s)
--- PASS: TestConfig_Success/SIGNATURE_ALGORITHM (0.00s)
--- PASS: TestConfig_Success/WITH_CORRECT_GRAPH_API_CONFIG (0.00s)
=== RUN   TestConfig_NameIDFormats
=== RUN   TestConfig_NameIDFormats/NameIDFormat_Unspecified
=== RUN   TestConfig_NameIDFormats/NameIDFormat_EmailAddress
=== RUN   TestConfig_NameIDFormats/NameIDFormat_Doesnt_Exist_In_Lib
--- PASS: TestConfig_NameIDFormats (0.00s)
--- PASS: TestConfig_NameIDFormats/NameIDFormat_Unspecified (0.00s)
--- PASS: TestConfig_NameIDFormats/NameIDFormat_EmailAddress (0.00s)
--- PASS: TestConfig_NameIDFormats/NameIDFormat_Doesnt_Exist_In_Lib (0.00s)
=== RUN   TestConfig_EmptyKeyCert_Success
=== RUN   TestConfig_EmptyKeyCert_Success/KEY_CERT_EMPTY
--- PASS: TestConfig_EmptyKeyCert_Success (0.00s)
--- PASS: TestConfig_EmptyKeyCert_Success/KEY_CERT_EMPTY (0.00s)
=== RUN   TestConfig_WithErrors
=== RUN   TestConfig_WithErrors/UNPARSABLE_PRIVATE_KEY
=== RUN   TestConfig_WithErrors/UNPARSABLE_PRIVATE_CERTIFICATE
=== RUN   TestConfig_WithErrors/NOT_FOUND_PRIVATE_KEY
=== RUN   TestConfig_WithErrors/TWO_KEYS_FOR_SAME_OPTION
=== RUN   TestConfig_WithErrors/UNSUPPORTED_CONFIG_KEY
=== RUN   TestConfig_WithErrors/UNPARSABLE_METADATA_URL
=== RUN   TestConfig_WithErrors/NOT_CONFIGURED_KEY_OR_CERT
=== RUN   TestConfig_WithErrors/INCOMPLETE_GRAPH_API_CONFIG
--- PASS: TestConfig_WithErrors (0.00s)
--- PASS: TestConfig_WithErrors/UNPARSABLE_PRIVATE_KEY (0.00s)
--- PASS: TestConfig_WithErrors/UNPARSABLE_PRIVATE_CERTIFICATE (0.00s)
--- PASS: TestConfig_WithErrors/NOT_FOUND_PRIVATE_KEY (0.00s)
--- PASS: TestConfig_WithErrors/TWO_KEYS_FOR_SAME_OPTION (0.00s)
--- PASS: TestConfig_WithErrors/UNSUPPORTED_CONFIG_KEY (0.00s)
--- PASS: TestConfig_WithErrors/UNPARSABLE_METADATA_URL (0.00s)
--- PASS: TestConfig_WithErrors/NOT_CONFIGURED_KEY_OR_CERT (0.00s)
--- PASS: TestConfig_WithErrors/INCOMPLETE_GRAPH_API_CONFIG (0.00s)
=== RUN   TestConfig_WithErrors_Metadata
=== RUN   TestConfig_WithErrors_Metadata/NOT_FOUND_METADATA
--- PASS: TestConfig_WithErrors_Metadata (0.00s)
--- PASS: TestConfig_WithErrors_Metadata/NOT_FOUND_METADATA (0.00s)
=== RUN   TestConfig_Disabled
=== RUN   TestConfig_Disabled/NO_ERROR_WHEN_SAML_IS_DISABLED
--- PASS: TestConfig_Disabled (0.00s)
--- PASS: TestConfig_Disabled/NO_ERROR_WHEN_SAML_IS_DISABLED (0.00s)
=== RUN   TestConfig_IdPMetadata
=== RUN   TestConfig_IdPMetadata/NO_ERROR_WHEN_FETCHING_IDP_METADATA
=== RUN   TestConfig_IdPMetadata/ERROR_WHEN_CAN'T_GET_IDP_METADATA
=== RUN   TestConfig_IdPMetadata/ERROR_WHEN_READING_UNPARSABLE_IDP_METADATA
--- PASS: TestConfig_IdPMetadata (0.00s)
--- PASS: TestConfig_IdPMetadata/NO_ERROR_WHEN_FETCHING_IDP_METADATA (0.00s)
--- PASS: TestConfig_IdPMetadata/ERROR_WHEN_CAN'T_GET_IDP_METADATA (0.00s)
--- PASS: TestConfig_IdPMetadata/ERROR_WHEN_READING_UNPARSABLE_IDP_METADATA (0.00s)
=== RUN   TestConfig_CacheIdPMetadata
=== RUN   TestConfig_CacheIdPMetadata/USE_IDP_METADATA_EXPIRATION_TIME_FOR_CACHE
--- PASS: TestConfig_CacheIdPMetadata (0.00s)
--- PASS: TestConfig_CacheIdPMetadata/USE_IDP_METADATA_EXPIRATION_TIME_FOR_CACHE (0.00s)
=== RUN   TestConfig_CacheIdPMetadataForURL
=== RUN   TestConfig_CacheIdPMetadataForURL/SHOULD_REFRESH_IDP_FROM_URL
--- PASS: TestConfig_CacheIdPMetadataForURL (0.00s)
--- PASS: TestConfig_CacheIdPMetadataForURL/SHOULD_REFRESH_IDP_FROM_URL (0.00s)
=== RUN   TestOrgMappingConfig_Success
=== RUN   TestOrgMappingConfig_Success/WITH_ORG_MAPPINGS
=== RUN   TestOrgMappingConfig_Success/WITH_MISSED_ORG_ID
=== RUN   TestOrgMappingConfig_Success/WITH_SAME_ORG_ID
=== RUN   TestOrgMappingConfig_Success/WITH_ORG_ROLE_MAPPING
=== RUN   TestOrgMappingConfig_Success/WITH_INVALID_ORG_ROLE_MAPPING
--- PASS: TestOrgMappingConfig_Success (0.00s)
--- PASS: TestOrgMappingConfig_Success/WITH_ORG_MAPPINGS (0.00s)
--- PASS: TestOrgMappingConfig_Success/WITH_MISSED_ORG_ID (0.00s)
--- PASS: TestOrgMappingConfig_Success/WITH_SAME_ORG_ID (0.00s)
--- PASS: TestOrgMappingConfig_Success/WITH_ORG_ROLE_MAPPING (0.00s)
--- PASS: TestOrgMappingConfig_Success/WITH_INVALID_ORG_ROLE_MAPPING (0.00s)
=== RUN   TestSignatureAlgorithmConfig_Success
=== RUN   TestSignatureAlgorithmConfig_Success/RSA-SHA256
--- PASS: TestSignatureAlgorithmConfig_Success (0.00s)
--- PASS: TestSignatureAlgorithmConfig_Success/RSA-SHA256 (0.00s)
=== RUN   TestConfig_IsAllowAssignGrafanaAdminEnabled
--- PASS: TestConfig_IsAllowAssignGrafanaAdminEnabled (0.00s)
=== RUN   TestIntegrationAuth_PostACSSuccess_WithIDPInitiatedLogin
integration_test.go:55: skip until authn broker has less deps and can be tested in integration tests
--- SKIP: TestIntegrationAuth_PostACSSuccess_WithIDPInitiatedLogin (0.00s)
=== RUN   TestIntegrationAuth_PostACSWithNameTemplateConfig
integration_test.go:93: skip until authn broker has less deps and can be tested in integration tests
--- SKIP: TestIntegrationAuth_PostACSWithNameTemplateConfig (0.00s)
=== RUN   TestAuth_PostACSFailure_keycloak_multiple_alg
integration_test.go:133: skip until authn broker has less deps and can be tested in integration tests
--- SKIP: TestAuth_PostACSFailure_keycloak_multiple_alg (0.00s)
=== RUN   TestAuth_PostACSFailure_keycloak_same_alg
integration_test.go:183: skip until authn broker has less deps and can be tested in integration tests
--- SKIP: TestAuth_PostACSFailure_keycloak_same_alg (0.00s)
=== RUN   TestAuth_PostACSFailure_AssertionMappingFailure
integration_test.go:231: skip until authn broker has less deps and can be tested in integration tests
--- SKIP: TestAuth_PostACSFailure_AssertionMappingFailure (0.00s)
=== RUN   TestSSOSettingsSAML
=== RUN   TestSSOSettingsSAML/it_should_interact_with_the_api_and_reload_the_values
--- PASS: TestSSOSettingsSAML (0.03s)
--- PASS: TestSSOSettingsSAML/it_should_interact_with_the_api_and_reload_the_values (0.03s)
=== RUN   TestRefreshIDPMetadata
=== RUN   TestRefreshIDPMetadata/should_correctly_update_the_idp_metadata_login_url_when_refreshing_the_same_metadata_property
--- PASS: TestRefreshIDPMetadata (0.00s)
--- PASS: TestRefreshIDPMetadata/should_correctly_update_the_idp_metadata_login_url_when_refreshing_the_same_metadata_property (0.00s)
=== RUN   TestSAMLAssertionToUser_Success
=== RUN   TestSAMLAssertionToUser_Success/ALL_MATCH_USING_FRIENDLY_NAME
=== RUN   TestSAMLAssertionToUser_Success/MATCH_USING_WITH_NAME_AND_FRIENDLY_NAME
=== RUN   TestSAMLAssertionToUser_Success/EXTRACT_GROUPS_FROM_ASSERTION
=== RUN   TestSAMLAssertionToUser_Success/MAP_ORG_FROM_ASSERTION
=== RUN   TestSAMLAssertionToUser_Success/EXTRACT_ORG_ID_FROM_ASSERTION_IF_NO_ORG_MAPPING_CONFIGURED
=== RUN   TestSAMLAssertionToUser_Success/MAP_MULTIPLE_ORGS
=== RUN   TestSAMLAssertionToUser_Success/MAP_GROUPS_TO_ORGS_AND_GROUPS
=== RUN   TestSAMLAssertionToUser_Success/MAP_MULTIPLE_ORGS_WITH_ROLES
--- PASS: TestSAMLAssertionToUser_Success (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/ALL_MATCH_USING_FRIENDLY_NAME (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/MATCH_USING_WITH_NAME_AND_FRIENDLY_NAME (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/EXTRACT_GROUPS_FROM_ASSERTION (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/MAP_ORG_FROM_ASSERTION (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/EXTRACT_ORG_ID_FROM_ASSERTION_IF_NO_ORG_MAPPING_CONFIGURED (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/MAP_MULTIPLE_ORGS (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/MAP_GROUPS_TO_ORGS_AND_GROUPS (0.00s)
--- PASS: TestSAMLAssertionToUser_Success/MAP_MULTIPLE_ORGS_WITH_ROLES (0.00s)
=== RUN   TestSAMLAssertionToUser_Failure
=== RUN   TestSAMLAssertionToUser_Failure/UNMATCHED_MAPPING
=== RUN   TestSAMLAssertionToUser_Failure/EMPTY_NAMES
--- PASS: TestSAMLAssertionToUser_Failure (0.00s)
--- PASS: TestSAMLAssertionToUser_Failure/UNMATCHED_MAPPING (0.00s)
--- PASS: TestSAMLAssertionToUser_Failure/EMPTY_NAMES (0.00s)
=== RUN   TestSAMLMapRoles_Success
=== RUN   TestSAMLMapRoles_Success/MAP_VIEWER_ROLE_FROM_DEFAULT_ROLE_VALUE
=== RUN   TestSAMLMapRoles_Success/MAP_NONE_ROLE_WITH_AUTO_ASSIGN_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_NONE_ROLE_WITH_EXPLICIT_MAPPING
=== RUN   TestSAMLMapRoles_Success/MAP_VIEWER_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_EDITOR_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_ORG_ADMIN_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_GRAFANA_ADMIN_ROLE
=== RUN   TestSAMLMapRoles_Success/DO_NOT_MAP_GRAFANA_ADMIN_ROLE_IF_EMPTY_MAPPING
=== RUN   TestSAMLMapRoles_Success/MAP_TO_AUTO_ASSIGN_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_TO_DIRECTLY_MAPPED_NONE_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_TO_AUTO_ASSIGN_ROLE_IF_NO_MATCHING
=== RUN   TestSAMLMapRoles_Success/MAP_TO_DEFAULT_ROLE
=== RUN   TestSAMLMapRoles_Success/MAP_TO_ORGANIZATION
=== RUN   TestSAMLMapRoles_Success/MAP_TO_DEFAULT_ORGANIZATION
=== RUN   TestSAMLMapRoles_Success/MAP_TO_MULTIPLE_ORGANIZATIONS
=== RUN   TestSAMLMapRoles_Success/MAP_DEFAULT_ROLE_TO_MULTIPLE_ORGANIZATIONS
=== RUN   TestSAMLMapRoles_Success/MAP_MULTIPLE_ROLES_FROM_ASSERTION
=== RUN   TestSAMLMapRoles_Success/MAP_ROLE_WITH_MORE_ACCESS_IF_MULTIPLE_CONFIGURED
=== RUN   TestSAMLMapRoles_Success/MAP_ROLE_WITH_MORE_ACCESS_IF_MULTIPLE_FOUND
=== RUN   TestSAMLMapRoles_Success/MAP_ROLE_WITH_GLOBAL_ORG_MAPPING
=== RUN   TestSAMLMapRoles_Success/MAP_ROLE_WITH_LOCAL_AND_GLOBAL_ORG_MAPPING
=== RUN   TestSAMLMapRoles_Success/MAP_ROLE_WITH_GLOBAL_ORG_AND_DIRECT_ROLE_MAPPING
--- PASS: TestSAMLMapRoles_Success (0.02s)
--- PASS: TestSAMLMapRoles_Success/MAP_VIEWER_ROLE_FROM_DEFAULT_ROLE_VALUE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_NONE_ROLE_WITH_AUTO_ASSIGN_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_NONE_ROLE_WITH_EXPLICIT_MAPPING (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_VIEWER_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_EDITOR_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_ORG_ADMIN_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_GRAFANA_ADMIN_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/DO_NOT_MAP_GRAFANA_ADMIN_ROLE_IF_EMPTY_MAPPING (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_AUTO_ASSIGN_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_DIRECTLY_MAPPED_NONE_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_AUTO_ASSIGN_ROLE_IF_NO_MATCHING (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_DEFAULT_ROLE (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_ORGANIZATION (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_DEFAULT_ORGANIZATION (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_TO_MULTIPLE_ORGANIZATIONS (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_DEFAULT_ROLE_TO_MULTIPLE_ORGANIZATIONS (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_MULTIPLE_ROLES_FROM_ASSERTION (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_ROLE_WITH_MORE_ACCESS_IF_MULTIPLE_CONFIGURED (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_ROLE_WITH_MORE_ACCESS_IF_MULTIPLE_FOUND (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_ROLE_WITH_GLOBAL_ORG_MAPPING (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_ROLE_WITH_LOCAL_AND_GLOBAL_ORG_MAPPING (0.00s)
--- PASS: TestSAMLMapRoles_Success/MAP_ROLE_WITH_GLOBAL_ORG_AND_DIRECT_ROLE_MAPPING (0.00s)
=== RUN   TestSAMLMappingSingleValue
--- PASS: TestSAMLMappingSingleValue (0.00s)
=== RUN   TestSAMLMappingMultiValue
--- PASS: TestSAMLMappingMultiValue (0.00s)
=== RUN   TestSAMLMappingIsEmptyForUnknownValue
--- PASS: TestSAMLMappingIsEmptyForUnknownValue (0.00s)
=== RUN   TestSplitGroups
=== RUN   TestSplitGroups/quotes
=== RUN   TestSplitGroups/mixed_formats_
=== RUN   TestSplitGroups/spaces
=== RUN   TestSplitGroups/commas
--- PASS: TestSplitGroups (0.00s)
--- PASS: TestSplitGroups/quotes (0.00s)
--- PASS: TestSplitGroups/mixed_formats_ (0.00s)
--- PASS: TestSplitGroups/spaces (0.00s)
--- PASS: TestSplitGroups/commas (0.00s)
=== RUN   TestMapping_MapUsersFromServiceAccount
=== RUN   TestMapping_MapUsersFromServiceAccount/should_return_empty_if_there's_missing_configuration_but_not_force_use_graph_api
=== RUN   TestMapping_MapUsersFromServiceAccount/should_return_error_if_there's_a_missing_configuration_and_force_use_graph_api
=== RUN   TestMapping_MapUsersFromServiceAccount/should_map_users_from_graph_api
--- PASS: TestMapping_MapUsersFromServiceAccount (0.00s)
--- PASS: TestMapping_MapUsersFromServiceAccount/should_return_empty_if_there's_missing_configuration_but_not_force_use_graph_api (0.00s)
--- PASS: TestMapping_MapUsersFromServiceAccount/should_return_error_if_there's_a_missing_configuration_and_force_use_graph_api (0.00s)
--- PASS: TestMapping_MapUsersFromServiceAccount/should_map_users_from_graph_api (0.00s)
=== RUN   TestAuth_Init
=== RUN   TestAuth_Init/NO_ERROR_WITH_VALID_CONFIGURATION
=== RUN   TestAuth_Init/NO_ERROR_WITH_MULTIPLE_ENTITY_DESCRIPTORS
=== RUN   TestAuth_Init/ERROR_IF_METADATA_UNPARSABLE
=== RUN   TestAuth_Init/Should_add_metrics_to_usage_stats
=== RUN   TestAuth_Init/Should_add_metrics_to_usage_stats/Expecting_metric_with_value_0
=== RUN   TestAuth_Init/Should_add_metrics_to_usage_stats/Expecting_metric_with_value_1
--- PASS: TestAuth_Init (0.01s)
--- PASS: TestAuth_Init/NO_ERROR_WITH_VALID_CONFIGURATION (0.00s)
--- PASS: TestAuth_Init/NO_ERROR_WITH_MULTIPLE_ENTITY_DESCRIPTORS (0.00s)
--- PASS: TestAuth_Init/ERROR_IF_METADATA_UNPARSABLE (0.00s)
--- PASS: TestAuth_Init/Should_add_metrics_to_usage_stats (0.00s)
--- PASS: TestAuth_Init/Should_add_metrics_to_usage_stats/Expecting_metric_with_value_0 (0.00s)
--- PASS: TestAuth_Init/Should_add_metrics_to_usage_stats/Expecting_metric_with_value_1 (0.00s)
=== RUN   TestAuth_IsDisabled
=== RUN   TestAuth_IsDisabled/Should_return_false_on_setupSAML_if_disabled_at_config
=== RUN   TestAuth_IsDisabled/Should_return_true_on_IsDisabled_if_disabled_by_license
=== RUN   TestAuth_IsDisabled/Should_return_false_on_IsDisabled_if_enabled_by_license
=== RUN   TestAuth_IsDisabled/Should_return_without_calling_init_on_ProvideAuth_if_disabled_by_license
=== RUN   TestAuth_IsDisabled/Should_call_init_on_ProvideAuth_if_enabled_by_license
=== RUN   TestAuth_IsDisabled/should_disable_SAML_settings_with_wrong_configuration
--- PASS: TestAuth_IsDisabled (0.00s)
--- PASS: TestAuth_IsDisabled/Should_return_false_on_setupSAML_if_disabled_at_config (0.00s)
--- PASS: TestAuth_IsDisabled/Should_return_true_on_IsDisabled_if_disabled_by_license (0.00s)
--- PASS: TestAuth_IsDisabled/Should_return_false_on_IsDisabled_if_enabled_by_license (0.00s)
--- PASS: TestAuth_IsDisabled/Should_return_without_calling_init_on_ProvideAuth_if_disabled_by_license (0.00s)
--- PASS: TestAuth_IsDisabled/Should_call_init_on_ProvideAuth_if_enabled_by_license (0.00s)
--- PASS: TestAuth_IsDisabled/should_disable_SAML_settings_with_wrong_configuration (0.00s)
=== RUN   TestReload
=== RUN   TestReload/should_not_return_an_error_when_SAML_is_disabled
=== RUN   TestReload/should_return_error_with_an_unknown_signature_algorithm
=== RUN   TestReload/should_return_error_with_more_than_1_private_key_configured
=== RUN   TestReload/should_return_error_if_the_certificate_is_missing
=== RUN   TestReload/should_return_error_decoding_the_certificate
=== RUN   TestReload/should_return_error_if_the_idp_metadata_is_missing
=== RUN   TestReload/should_run_reload_without_errors_using_paths_for_private_key,_certificate_and_idp_metadata
--- PASS: TestReload (0.00s)
--- PASS: TestReload/should_not_return_an_error_when_SAML_is_disabled (0.00s)
--- PASS: TestReload/should_return_error_with_an_unknown_signature_algorithm (0.00s)
--- PASS: TestReload/should_return_error_with_more_than_1_private_key_configured (0.00s)
--- PASS: TestReload/should_return_error_if_the_certificate_is_missing (0.00s)
--- PASS: TestReload/should_return_error_decoding_the_certificate (0.00s)
--- PASS: TestReload/should_return_error_if_the_idp_metadata_is_missing (0.00s)
--- PASS: TestReload/should_run_reload_without_errors_using_paths_for_private_key,_certificate_and_idp_metadata (0.00s)
=== RUN   TestValidate
=== RUN   TestValidate/should_not_return_an_error_when_SAML_is_disabled
=== RUN   TestValidate/should_not_panic_when_settings_are_empty
=== RUN   TestValidate/should_not_return_error_with_a_valid_configuration
=== RUN   TestValidate/should_return_error_with_an_unexisting_idp_metadata_file
=== RUN   TestValidate/should_return_error_from_buildConfig
=== RUN   TestValidate/should_succeed_if_user_is_grafana_admin_and_the_grafana_admin_role_is_mapped
=== RUN   TestValidate/should_fail_if_user_is_not_a_grafana_admin_and_the_grafana_admin_role_is_mapped
=== RUN   TestValidate/should_succeed_if_user_is_admin_and_the_admin_role_is_mapped
=== RUN   TestValidate/should_fail_if_user_is_editor_and_the_admin_role_is_mapped
=== RUN   TestValidate/should_succeed_if_user_is_viewer_and_the_viewer_role_is_mapped
=== RUN   TestValidate/should_fail_if_user_has_None_role_and_the_viewer_role_is_mapped
=== RUN   TestValidate/should_succeed_if_user_is_editor_and_the_editor_role_is_mapped
=== RUN   TestValidate/should_fail_if_user_is_viewer_and_the_editor_role_is_mapped
=== RUN   TestValidate/should_succeed_if_user_is_admin_and_the_old_settings_contain_mapped_roles
=== RUN   TestValidate/should_fail_if_user_is_viewer_and_the_old_settings_contain_mapped_roles
--- PASS: TestValidate (0.00s)
--- PASS: TestValidate/should_not_return_an_error_when_SAML_is_disabled (0.00s)
--- PASS: TestValidate/should_not_panic_when_settings_are_empty (0.00s)
--- PASS: TestValidate/should_not_return_error_with_a_valid_configuration (0.00s)
--- PASS: TestValidate/should_return_error_with_an_unexisting_idp_metadata_file (0.00s)
--- PASS: TestValidate/should_return_error_from_buildConfig (0.00s)
--- PASS: TestValidate/should_succeed_if_user_is_grafana_admin_and_the_grafana_admin_role_is_mapped (0.00s)
--- PASS: TestValidate/should_fail_if_user_is_not_a_grafana_admin_and_the_grafana_admin_role_is_mapped (0.00s)
--- PASS: TestValidate/should_succeed_if_user_is_admin_and_the_admin_role_is_mapped (0.00s)
--- PASS: TestValidate/should_fail_if_user_is_editor_and_the_admin_role_is_mapped (0.00s)
--- PASS: TestValidate/should_succeed_if_user_is_viewer_and_the_viewer_role_is_mapped (0.00s)
--- PASS: TestValidate/should_fail_if_user_has_None_role_and_the_viewer_role_is_mapped (0.00s)
--- PASS: TestValidate/should_succeed_if_user_is_editor_and_the_editor_role_is_mapped (0.00s)
--- PASS: TestValidate/should_fail_if_user_is_viewer_and_the_editor_role_is_mapped (0.00s)
--- PASS: TestValidate/should_succeed_if_user_is_admin_and_the_old_settings_contain_mapped_roles (0.00s)
--- PASS: TestValidate/should_fail_if_user_is_viewer_and_the_old_settings_contain_mapped_roles (0.00s)
=== RUN   TestGetSettingsDiff
=== RUN   TestGetSettingsDiff/old_settings_is_empty_and_new_settings_contain_only_string_values
=== RUN   TestGetSettingsDiff/old_settings_is_empty_and_new_settings_contain_non-string_values
=== RUN   TestGetSettingsDiff/new_settings_is_empty
=== RUN   TestGetSettingsDiff/new_and_old_settings_share_some_common_keys_with_same_values
=== RUN   TestGetSettingsDiff/new_and_old_settings_share_some_common_keys_with_different_values
=== RUN   TestGetSettingsDiff/new_and_old_settings_don't_share_any_common_keys
--- PASS: TestGetSettingsDiff (0.00s)
--- PASS: TestGetSettingsDiff/old_settings_is_empty_and_new_settings_contain_only_string_values (0.00s)
--- PASS: TestGetSettingsDiff/old_settings_is_empty_and_new_settings_contain_non-string_values (0.00s)
--- PASS: TestGetSettingsDiff/new_settings_is_empty (0.00s)
--- PASS: TestGetSettingsDiff/new_and_old_settings_share_some_common_keys_with_same_values (0.00s)
--- PASS: TestGetSettingsDiff/new_and_old_settings_share_some_common_keys_with_different_values (0.00s)
--- PASS: TestGetSettingsDiff/new_and_old_settings_don't_share_any_common_keys (0.00s)
=== RUN   TestConvertSectionToMap
=== RUN   TestConvertSectionToMap/should_return_a_map_with_default_values
=== RUN   TestConvertSectionToMap/should_not_panic_with_a_nil_section_and_return_an_empty_strings_value_map
=== RUN   TestConvertSectionToMap/should_load_settings_from_file_and_convert_to_map_successfully
--- PASS: TestConvertSectionToMap (0.00s)
--- PASS: TestConvertSectionToMap/should_return_a_map_with_default_values (0.00s)
--- PASS: TestConvertSectionToMap/should_not_panic_with_a_nil_section_and_return_an_empty_strings_value_map (0.00s)
--- PASS: TestConvertSectionToMap/should_load_settings_from_file_and_convert_to_map_successfully (0.00s)
=== RUN   TestGetServiceAccountToken
=== RUN   TestGetServiceAccountToken/should_return_error_when_client_secret_is_missing
=== RUN   TestGetServiceAccountToken/should_return_an_error_if_the_token_URL_is_invalid
=== RUN   TestGetServiceAccountToken/should_return_cached_token
=== RUN   TestGetServiceAccountToken/should_retrieve_token_from_external_service_account
=== RUN   TestGetServiceAccountToken/should_return_an_error_from_the_external_service_account
=== RUN   TestGetServiceAccountToken/should_fail_to_unmarshal_response_from_the_external_service_account
--- PASS: TestGetServiceAccountToken (0.00s)
--- PASS: TestGetServiceAccountToken/should_return_error_when_client_secret_is_missing (0.00s)
--- PASS: TestGetServiceAccountToken/should_return_an_error_if_the_token_URL_is_invalid (0.00s)
--- PASS: TestGetServiceAccountToken/should_return_cached_token (0.00s)
--- PASS: TestGetServiceAccountToken/should_retrieve_token_from_external_service_account (0.00s)
--- PASS: TestGetServiceAccountToken/should_return_an_error_from_the_external_service_account (0.00s)
--- PASS: TestGetServiceAccountToken/should_fail_to_unmarshal_response_from_the_external_service_account (0.00s)
=== RUN   TestResolveGroupsEndpoint
=== RUN   TestResolveGroupsEndpoint/should_return_the_same_url_if_the_url_is_not_graph.windows.net
=== RUN   TestResolveGroupsEndpoint/should_return_error_because_the_userId_is_missing
=== RUN   TestResolveGroupsEndpoint/should_build_the_new_groups_link
--- PASS: TestResolveGroupsEndpoint (0.00s)
--- PASS: TestResolveGroupsEndpoint/should_return_the_same_url_if_the_url_is_not_graph.windows.net (0.00s)
--- PASS: TestResolveGroupsEndpoint/should_return_error_because_the_userId_is_missing (0.00s)
--- PASS: TestResolveGroupsEndpoint/should_build_the_new_groups_link (0.00s)
=== RUN   TestGetGroups
=== RUN   TestGetGroups/should_return_nil_when_there_are_no_groups_and_no_groups_link_found_in_assertion
=== RUN   TestGetGroups/should_return_nil_when_groups_link_is_not_a_string
=== RUN   TestGetGroups/should_return_nil_when_failed_to_get_access_token_because_of_missing_client_secret
=== RUN   TestGetGroups/should_failed_to_get_access_token
=== RUN   TestGetGroups/should_failed_to_resolve_groups_endpoint
=== RUN   TestGetGroups/should_return_error_with_invalid_token
=== RUN   TestGetGroups/should_return_error_when_token_doesn't_have_enough_permissions
=== RUN   TestGetGroups/should_return_error_because_the_follow-up_URL_is_not_a_valid_URL
=== RUN   TestGetGroups/should_return_groups
--- PASS: TestGetGroups (0.06s)
--- PASS: TestGetGroups/should_return_nil_when_there_are_no_groups_and_no_groups_link_found_in_assertion (0.00s)
--- PASS: TestGetGroups/should_return_nil_when_groups_link_is_not_a_string (0.00s)
--- PASS: TestGetGroups/should_return_nil_when_failed_to_get_access_token_because_of_missing_client_secret (0.00s)
--- PASS: TestGetGroups/should_failed_to_get_access_token (0.00s)
--- PASS: TestGetGroups/should_failed_to_resolve_groups_endpoint (0.00s)
--- PASS: TestGetGroups/should_return_error_with_invalid_token (0.06s)
--- PASS: TestGetGroups/should_return_error_when_token_doesn't_have_enough_permissions (0.00s)
--- PASS: TestGetGroups/should_return_error_because_the_follow-up_URL_is_not_a_valid_URL (0.00s)
--- PASS: TestGetGroups/should_return_groups (0.00s)
=== RUN   TestRequireNoHigherRole
=== RUN   TestRequireNoHigherRole/should_return_error_when_the_configuration_is_empty
=== RUN   TestRequireNoHigherRole/should_not_return_error_when_the_requester_is_a_Grafana_Admin
=== RUN   TestRequireNoHigherRole/should_return_error_when_requesting_to_change_the_Grafana_Admin_Role
=== RUN   TestRequireNoHigherRole/should_ignore_configuration_keys_that_don't_start_with_role_values_
=== RUN   TestRequireNoHigherRole/should_ignore_external_uid_assertion_name_key
=== RUN   TestRequireNoHigherRole/should_return_error_when_requesting_to_change_the_Admin_Role
=== RUN   TestRequireNoHigherRole/should_return_error_when_trying_to_configure_a_non-valid_role
=== RUN   TestRequireNoHigherRole/should_fail_when_setting_a_role_higher_than_the_requester
=== RUN   TestRequireNoHigherRole/should_not_return_error_when_setting_a_role_lower_than_the_requester
=== RUN   TestRequireNoHigherRole/should_return_error_when_trying_to_configure_org_mapping_without_being_a_Grafana_Admin
--- PASS: TestRequireNoHigherRole (0.00s)
--- PASS: TestRequireNoHigherRole/should_return_error_when_the_configuration_is_empty (0.00s)
--- PASS: TestRequireNoHigherRole/should_not_return_error_when_the_requester_is_a_Grafana_Admin (0.00s)
--- PASS: TestRequireNoHigherRole/should_return_error_when_requesting_to_change_the_Grafana_Admin_Role (0.00s)
--- PASS: TestRequireNoHigherRole/should_ignore_configuration_keys_that_don't_start_with_role_values_ (0.00s)
--- PASS: TestRequireNoHigherRole/should_ignore_external_uid_assertion_name_key (0.00s)
--- PASS: TestRequireNoHigherRole/should_return_error_when_requesting_to_change_the_Admin_Role (0.00s)
--- PASS: TestRequireNoHigherRole/should_return_error_when_trying_to_configure_a_non-valid_role (0.00s)
--- PASS: TestRequireNoHigherRole/should_fail_when_setting_a_role_higher_than_the_requester (0.00s)
--- PASS: TestRequireNoHigherRole/should_not_return_error_when_setting_a_role_lower_than_the_requester (0.00s)
--- PASS: TestRequireNoHigherRole/should_return_error_when_trying_to_configure_org_mapping_without_being_a_Grafana_Admin (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/saml	0.896s
?   	github.com/grafana/grafana/pkg/extensions/searchV2	[no test files]
=== RUN   Test_DocExtender
=== RUN   Test_DocExtender/GetDashboardExtender_should_extend_document_as_expected
=== RUN   Test_DocExtender/GetDashboardExtender_should_fall_back_to_default_summary_if_dashboard_UID_is_not_found
--- PASS: Test_DocExtender (0.00s)
--- PASS: Test_DocExtender/GetDashboardExtender_should_extend_document_as_expected (0.00s)
--- PASS: Test_DocExtender/GetDashboardExtender_should_fall_back_to_default_summary_if_dashboard_UID_is_not_found (0.00s)
=== RUN   Test_QueryExtender
=== RUN   Test_QueryExtender/GetFramer_should_extend_frame_with_sort
=== RUN   Test_QueryExtender/GetFramer_should_not_extend_frame_without_sort
--- PASS: Test_QueryExtender (0.00s)
--- PASS: Test_QueryExtender/GetFramer_should_extend_frame_with_sort (0.00s)
--- PASS: Test_QueryExtender/GetFramer_should_not_extend_frame_without_sort (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/searchV2/dashboard	0.446s
?   	github.com/grafana/grafana/pkg/extensions/searchusers	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/searchusers/database	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/searchusers/filters	[no test files]
=== RUN   TestBillingResponse
=== RUN   TestBillingResponse/No_billing_role_shows_as_None
=== RUN   TestBillingResponse/Viewer_billing_role_shows_as_Viewer
=== RUN   TestBillingResponse/Editor_billing_role_shows_as_Admin/editor
=== RUN   TestBillingResponse/Admin_billing_role_shows_as_Admin/editor
=== RUN   TestBillingResponse/Server_admin_billing_role_shows_as_Admin/editor
--- PASS: TestBillingResponse (0.00s)
--- PASS: TestBillingResponse/No_billing_role_shows_as_None (0.00s)
--- PASS: TestBillingResponse/Viewer_billing_role_shows_as_Viewer (0.00s)
--- PASS: TestBillingResponse/Editor_billing_role_shows_as_Admin/editor (0.00s)
--- PASS: TestBillingResponse/Admin_billing_role_shows_as_Admin/editor (0.00s)
--- PASS: TestBillingResponse/Server_admin_billing_role_shows_as_Admin/editor (0.00s)
=== RUN   TestOrgResponses
=== RUN   TestOrgResponses/Users_belong_to_organisations
=== RUN   TestOrgResponses/Users_do_not_belong_to_any_organisation
--- PASS: TestOrgResponses (0.00s)
--- PASS: TestOrgResponses/Users_belong_to_organisations (0.00s)
--- PASS: TestOrgResponses/Users_do_not_belong_to_any_organisation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/searchusers/manager	(cached)
?   	github.com/grafana/grafana/pkg/extensions/secrets/migrator	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/settings	[no test files]
=== RUN   TestAuth_AdminUpsertSettings
=== RUN   TestAuth_AdminUpsertSettings/it_returns_400_when_no_updates_neither_removals_provided
=== RUN   TestAuth_AdminUpsertSettings/it_returns_400_when_invalid_settings_provided
=== RUN   TestAuth_AdminUpsertSettings/it_returns_403_when_not_allowed_settings_provided
=== RUN   TestAuth_AdminUpsertSettings/it_returns_500_when_a_database_error_happened
=== RUN   TestAuth_AdminUpsertSettings/it_returns_200_when_settings_updated_and_services_reloaded_successfully
=== RUN   TestAuth_AdminUpsertSettings/it_returns_200_when_settings_removed_and_services_reloaded_successfully
=== RUN   TestAuth_AdminUpsertSettings/it_returns_200_when_settings_updated_but_no_reloads_needed
=== RUN   TestAuth_AdminUpsertSettings/it_returns_200_when_settings_removed_but_no_reloads_needed
=== RUN   TestAuth_AdminUpsertSettings/it_encrypts_saml_private_key
=== RUN   TestAuth_AdminUpsertSettings/it_does_not_reload_with_unchanged_secret
--- PASS: TestAuth_AdminUpsertSettings (0.29s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_400_when_no_updates_neither_removals_provided (0.25s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_400_when_invalid_settings_provided (0.00s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_403_when_not_allowed_settings_provided (0.00s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_500_when_a_database_error_happened (0.00s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_200_when_settings_updated_and_services_reloaded_successfully (0.01s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_200_when_settings_removed_and_services_reloaded_successfully (0.00s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_200_when_settings_updated_but_no_reloads_needed (0.01s)
--- PASS: TestAuth_AdminUpsertSettings/it_returns_200_when_settings_removed_but_no_reloads_needed (0.00s)
--- PASS: TestAuth_AdminUpsertSettings/it_encrypts_saml_private_key (0.01s)
--- PASS: TestAuth_AdminUpsertSettings/it_does_not_reload_with_unchanged_secret (0.01s)
=== RUN   TestImplementation_AdminUpsertSettings
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_200_for_action_settings:write_and_scope_settings:*
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_200_for_action_settings:write_and_scope_settings:auth.saml:*
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_401_when_assigned_role_is_higher_than_request_role
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_200_when_assigned_role_is_higher_than_request_role_and_user_is_a_gadmin
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_400_when_bad_value_is_passed
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_401_when_assigned_role_is_higher_than_request_org_mapping
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_400_when_bad_role_value_is_passed
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_401_when_an_Editor_tries_to_update_Admin_mapping
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_401_when_using_org_mapping._reserved_to_gadmin
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_200_for_action_settings:write_in_combination_with_scope_settings:auth.saml:enabled_and_scope_settings:auth.saml:max_issue_delay
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_403_when_missing_permissions
=== RUN   TestImplementation_AdminUpsertSettings/it_returns_403_when_partially_missing_scope
--- PASS: TestImplementation_AdminUpsertSettings (0.03s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_200_for_action_settings:write_and_scope_settings:* (0.01s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_200_for_action_settings:write_and_scope_settings:auth.saml:* (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_401_when_assigned_role_is_higher_than_request_role (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_200_when_assigned_role_is_higher_than_request_role_and_user_is_a_gadmin (0.01s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_400_when_bad_value_is_passed (0.01s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_401_when_assigned_role_is_higher_than_request_org_mapping (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_400_when_bad_role_value_is_passed (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_401_when_an_Editor_tries_to_update_Admin_mapping (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_401_when_using_org_mapping._reserved_to_gadmin (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_200_for_action_settings:write_in_combination_with_scope_settings:auth.saml:enabled_and_scope_settings:auth.saml:max_issue_delay (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_403_when_missing_permissions (0.00s)
--- PASS: TestImplementation_AdminUpsertSettings/it_returns_403_when_partially_missing_scope (0.00s)
=== RUN   TestIntegrationUpsertSettings
database_test.go:20: skipping testing in short mode
--- SKIP: TestIntegrationUpsertSettings (0.00s)
=== RUN   TestImplementation_MustStringReturnsDefaultValueProperly
=== RUN   TestImplementation_MustStringReturnsDefaultValueProperly/When_Key_is_not_null_but_value_is_empty,_MustString_returns_default_value
=== RUN   TestImplementation_MustStringReturnsDefaultValueProperly/When_Key_is_not_null_and_value_is_value,_MustString_returns_value
=== RUN   TestImplementation_MustStringReturnsDefaultValueProperly/when_some_key_is_empty_but_value_is_a_value,_MustString_returns_the_value
--- PASS: TestImplementation_MustStringReturnsDefaultValueProperly (0.00s)
--- PASS: TestImplementation_MustStringReturnsDefaultValueProperly/When_Key_is_not_null_but_value_is_empty,_MustString_returns_default_value (0.00s)
--- PASS: TestImplementation_MustStringReturnsDefaultValueProperly/When_Key_is_not_null_and_value_is_value,_MustString_returns_value (0.00s)
--- PASS: TestImplementation_MustStringReturnsDefaultValueProperly/when_some_key_is_empty_but_value_is_a_value,_MustString_returns_the_value (0.00s)
=== RUN   TestImplementation_Current
=== RUN   TestImplementation_Current/empty_bag
=== RUN   TestImplementation_Current/one_unredacted_item
=== RUN   TestImplementation_Current/one_redacted_item
=== RUN   TestImplementation_Current/one_redacted_and_one_unredacted_item
--- PASS: TestImplementation_Current (0.00s)
--- PASS: TestImplementation_Current/empty_bag (0.00s)
--- PASS: TestImplementation_Current/one_unredacted_item (0.00s)
--- PASS: TestImplementation_Current/one_redacted_item (0.00s)
--- PASS: TestImplementation_Current/one_redacted_and_one_unredacted_item (0.00s)
=== RUN   Test_loadAndMergeSettings
=== RUN   Test_loadAndMergeSettings/should_load_settings_from_ini_file
=== RUN   Test_loadAndMergeSettings/should_load_settings_from_db
=== RUN   Test_loadAndMergeSettings/db_settings_should_override_ini_settings
=== RUN   Test_loadAndMergeSettings/should_decrypt_settings_from_db
=== RUN   Test_loadAndMergeSettings/should_merge_and_decrypt_settings
=== RUN   Test_loadAndMergeSettings/should_read_a_secrets_stored_plain_from_db
--- PASS: Test_loadAndMergeSettings (0.02s)
--- PASS: Test_loadAndMergeSettings/should_load_settings_from_ini_file (0.00s)
--- PASS: Test_loadAndMergeSettings/should_load_settings_from_db (0.00s)
--- PASS: Test_loadAndMergeSettings/db_settings_should_override_ini_settings (0.00s)
--- PASS: Test_loadAndMergeSettings/should_decrypt_settings_from_db (0.01s)
--- PASS: Test_loadAndMergeSettings/should_merge_and_decrypt_settings (0.00s)
--- PASS: Test_loadAndMergeSettings/should_read_a_secrets_stored_plain_from_db (0.00s)
=== RUN   TestImplementation_refreshWithBag
=== RUN   TestImplementation_refreshWithBag/no_changes,_load_from_ini
=== RUN   TestImplementation_refreshWithBag/no_changed,_load_from_db
=== RUN   TestImplementation_refreshWithBag/no_changed,_decrypt_from_db
=== RUN   TestImplementation_refreshWithBag/update_db
=== RUN   TestImplementation_refreshWithBag/on_change_secrets_are_encrypted
--- PASS: TestImplementation_refreshWithBag (0.03s)
--- PASS: TestImplementation_refreshWithBag/no_changes,_load_from_ini (0.00s)
--- PASS: TestImplementation_refreshWithBag/no_changed,_load_from_db (0.00s)
--- PASS: TestImplementation_refreshWithBag/no_changed,_decrypt_from_db (0.01s)
--- PASS: TestImplementation_refreshWithBag/update_db (0.01s)
--- PASS: TestImplementation_refreshWithBag/on_change_secrets_are_encrypted (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/settings/settingsprovider	(cached)
?   	github.com/grafana/grafana/pkg/extensions/storage/unified	[no test files]
=== RUN   TestUnifiedStorage
unified_test.go:13: skipping e2e unified storage suite
--- SKIP: TestUnifiedStorage (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/storage/unified/e2e	(cached)
=== RUN   TestIntegrationSpannerBackend
spanner_test.go:38: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestIntegrationSpannerBackend (0.00s)
=== RUN   TestSpannerBackend
storage_backend.go:57: skipping integration test
--- SKIP: TestSpannerBackend (0.00s)
=== RUN   TestNewBackend
spanner_test.go:92: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestNewBackend (0.00s)
=== RUN   TestIsHealthy
spanner_test.go:133: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestIsHealthy (0.00s)
=== RUN   TestStop
spanner_test.go:153: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestStop (0.00s)
=== RUN   TestWriteEvent
spanner_test.go:171: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestWriteEvent (0.00s)
=== RUN   TestListIterator
spanner_test.go:295: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestListIterator (0.00s)
=== RUN   TestStreamingChanges
spanner_test.go:494: skipping spanner tests because GRAFANA_TEST_DB is not set to spanner
--- SKIP: TestStreamingChanges (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/storage/unified/spanner	(cached)
?   	github.com/grafana/grafana/pkg/extensions/teamgroupsync	[no test files]
=== RUN   TestAPIEndpoints_GetTeamGroupsAdmin
=== RUN   TestAPIEndpoints_GetTeamGroupsAdmin/Should_return_an_internal_server_error_and_no_team_group
=== RUN   TestAPIEndpoints_GetTeamGroupsAdmin/Should_return_a_team_not_found_error_and_no_team_group
=== RUN   TestAPIEndpoints_GetTeamGroupsAdmin/Should_retrieve_one_team_group_with_RBAC
=== RUN   TestAPIEndpoints_GetTeamGroupsAdmin/Should_retrieve_one_team_group_by_UID_with_RBAC
=== RUN   TestAPIEndpoints_GetTeamGroupsAdmin/Should_deny_access_with_RBAC
--- PASS: TestAPIEndpoints_GetTeamGroupsAdmin (0.00s)
--- PASS: TestAPIEndpoints_GetTeamGroupsAdmin/Should_return_an_internal_server_error_and_no_team_group (0.00s)
--- PASS: TestAPIEndpoints_GetTeamGroupsAdmin/Should_return_a_team_not_found_error_and_no_team_group (0.00s)
--- PASS: TestAPIEndpoints_GetTeamGroupsAdmin/Should_retrieve_one_team_group_with_RBAC (0.00s)
--- PASS: TestAPIEndpoints_GetTeamGroupsAdmin/Should_retrieve_one_team_group_by_UID_with_RBAC (0.00s)
--- PASS: TestAPIEndpoints_GetTeamGroupsAdmin/Should_deny_access_with_RBAC (0.00s)
=== RUN   TestAPIEndpoints_AddTeamGroupsAdmin
=== RUN   TestAPIEndpoints_AddTeamGroupsAdmin/Team_group_not_found
=== RUN   TestAPIEndpoints_AddTeamGroupsAdmin/Team_group_already_added
=== RUN   TestAPIEndpoints_AddTeamGroupsAdmin/Add_team_group_fails
=== RUN   TestAPIEndpoints_AddTeamGroupsAdmin/Should_add_one_team_group_with_RBAC
=== RUN   TestAPIEndpoints_AddTeamGroupsAdmin/Should_deny_access_with_RBAC
--- PASS: TestAPIEndpoints_AddTeamGroupsAdmin (0.00s)
--- PASS: TestAPIEndpoints_AddTeamGroupsAdmin/Team_group_not_found (0.00s)
--- PASS: TestAPIEndpoints_AddTeamGroupsAdmin/Team_group_already_added (0.00s)
--- PASS: TestAPIEndpoints_AddTeamGroupsAdmin/Add_team_group_fails (0.00s)
--- PASS: TestAPIEndpoints_AddTeamGroupsAdmin/Should_add_one_team_group_with_RBAC (0.00s)
--- PASS: TestAPIEndpoints_AddTeamGroupsAdmin/Should_deny_access_with_RBAC (0.00s)
=== RUN   TestAPIEndpoints_RemoveTeamGroupAdmin
=== RUN   TestAPIEndpoints_RemoveTeamGroupAdmin/Team_not_found
=== RUN   TestAPIEndpoints_RemoveTeamGroupAdmin/Team_group_not_found
=== RUN   TestAPIEndpoints_RemoveTeamGroupAdmin/Remove_team_group_fails
=== RUN   TestAPIEndpoints_RemoveTeamGroupAdmin/Can_remove_team_group_successfully_with_RBAC
=== RUN   TestAPIEndpoints_RemoveTeamGroupAdmin/Should_deny_access_with_RBAC
--- PASS: TestAPIEndpoints_RemoveTeamGroupAdmin (0.00s)
--- PASS: TestAPIEndpoints_RemoveTeamGroupAdmin/Team_not_found (0.00s)
--- PASS: TestAPIEndpoints_RemoveTeamGroupAdmin/Team_group_not_found (0.00s)
--- PASS: TestAPIEndpoints_RemoveTeamGroupAdmin/Remove_team_group_fails (0.00s)
--- PASS: TestAPIEndpoints_RemoveTeamGroupAdmin/Can_remove_team_group_successfully_with_RBAC (0.00s)
--- PASS: TestAPIEndpoints_RemoveTeamGroupAdmin/Should_deny_access_with_RBAC (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/teamgroupsync/api	(cached)
?   	github.com/grafana/grafana/pkg/extensions/teamgroupsync/database	[no test files]
?   	github.com/grafana/grafana/pkg/extensions/teamgroupsync/models	[no test files]
=== RUN   TestIntegration_getTeamMemberships
integration_test.go:30: skipping integration test
--- SKIP: TestIntegration_getTeamMemberships (0.00s)
=== RUN   TestIntegration_getTeamMembershipsWrongOrg
integration_test.go:167: skipping integration test
--- SKIP: TestIntegration_getTeamMembershipsWrongOrg (0.00s)
=== RUN   TestTeamSync_AddAndRemoveUserFromTeam
--- PASS: TestTeamSync_AddAndRemoveUserFromTeam (0.00s)
=== RUN   TestTeamSync_AddingUserToTeamTheyAreMemberOf
--- PASS: TestTeamSync_AddingUserToTeamTheyAreMemberOf (0.00s)
=== RUN   TestTeamSync_DoNothingWhenExistingTeamsAndGroupsAreEmpty
--- PASS: TestTeamSync_DoNothingWhenExistingTeamsAndGroupsAreEmpty (0.00s)
=== RUN   TestTeamSync_UnknownErrorWhenAddTeamMemberFails
--- PASS: TestTeamSync_UnknownErrorWhenAddTeamMemberFails (0.00s)
=== RUN   TestTeamSync_FetchingOrgRolesFromStore
--- PASS: TestTeamSync_FetchingOrgRolesFromStore (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/teamgroupsync/synchronizer	(cached)
?   	github.com/grafana/grafana/pkg/extensions/teamlbac	[no test files]
=== RUN   TestAPI_getTeamLBACRules
=== RUN   TestAPI_getTeamLBACRules/Should_be_able_to_list_team_LBAC_rules
=== RUN   TestAPI_getTeamLBACRules/Should_restrict_access_without_correct_permissions
=== RUN   TestAPI_getTeamLBACRules/Should_remove_invalid_rules_from_listing
--- PASS: TestAPI_getTeamLBACRules (0.00s)
--- PASS: TestAPI_getTeamLBACRules/Should_be_able_to_list_team_LBAC_rules (0.00s)
--- PASS: TestAPI_getTeamLBACRules/Should_restrict_access_without_correct_permissions (0.00s)
--- PASS: TestAPI_getTeamLBACRules/Should_remove_invalid_rules_from_listing (0.00s)
=== RUN   TestAPI_updateTeamLBACRules
=== RUN   TestAPI_updateTeamLBACRules/Should_be_able_to_update_team_LBAC_rules
=== RUN   TestAPI_updateTeamLBACRules/Should_restrict_access_without_correct_permissions
=== RUN   TestAPI_updateTeamLBACRules/Should_return_error_in_case_of_incorrect_team_LBAC_rules
=== RUN   TestAPI_updateTeamLBACRules/Should_be_able_to_overwrite_incorrect_team_LBAC_rules
--- PASS: TestAPI_updateTeamLBACRules (0.00s)
--- PASS: TestAPI_updateTeamLBACRules/Should_be_able_to_update_team_LBAC_rules (0.00s)
--- PASS: TestAPI_updateTeamLBACRules/Should_restrict_access_without_correct_permissions (0.00s)
--- PASS: TestAPI_updateTeamLBACRules/Should_return_error_in_case_of_incorrect_team_LBAC_rules (0.00s)
--- PASS: TestAPI_updateTeamLBACRules/Should_be_able_to_overwrite_incorrect_team_LBAC_rules (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/teamlbac/api	(cached)
?   	github.com/grafana/grafana/pkg/extensions/teamlbac/models	[no test files]
=== RUN   TestValidateLBACRule
=== RUN   TestValidateLBACRule/Valid_rule_with_single_matcher
=== RUN   TestValidateLBACRule/Valid_rule_with_multiple_matchers
=== RUN   TestValidateLBACRule/Invalid_rule_-_missing_closing_brace
=== RUN   TestValidateLBACRule/Invalid_rule_-_empty
=== RUN   TestValidateLBACRule/Invalid_rule_-_malformed_matcher
=== RUN   TestValidateLBACRule/Invalid_rule_-_incorrect_operator
--- PASS: TestValidateLBACRule (0.00s)
--- PASS: TestValidateLBACRule/Valid_rule_with_single_matcher (0.00s)
--- PASS: TestValidateLBACRule/Valid_rule_with_multiple_matchers (0.00s)
--- PASS: TestValidateLBACRule/Invalid_rule_-_missing_closing_brace (0.00s)
--- PASS: TestValidateLBACRule/Invalid_rule_-_empty (0.00s)
--- PASS: TestValidateLBACRule/Invalid_rule_-_malformed_matcher (0.00s)
--- PASS: TestValidateLBACRule/Invalid_rule_-_incorrect_operator (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/teamlbac/utils	(cached)
?   	github.com/grafana/grafana/pkg/extensions/testcommon	[no test files]
=== RUN   TestWillNotGetSprinklesWhenFeatureFlagOff
--- PASS: TestWillNotGetSprinklesWhenFeatureFlagOff (0.24s)
=== RUN   TestOnPremCanGetSprinkles
--- PASS: TestOnPremCanGetSprinkles (0.00s)
=== RUN   TestOnPremCanGetSprinklesWithPagination
--- PASS: TestOnPremCanGetSprinklesWithPagination (0.01s)
=== RUN   TestSeparateSprinklesApiserverCanGetSprinkles
--- PASS: TestSeparateSprinklesApiserverCanGetSprinkles (0.00s)
=== RUN   TestSeparateSprinklesApiserverCanGetSprinklesAndHandleError
--- PASS: TestSeparateSprinklesApiserverCanGetSprinklesAndHandleError (0.00s)
=== RUN   TestNewHttpClient
=== RUN   TestNewHttpClient/can_skip_cert_verification
service_test.go:373: Transport type httpclient.RoundTripperFunc doesn't expose direct TLS config for verification - middleware chain is working as expected
=== RUN   TestNewHttpClient/can_load_CA_cert
service_test.go:373: Transport type httpclient.RoundTripperFunc doesn't expose direct TLS config for verification - middleware chain is working as expected
=== RUN   TestNewHttpClient/invalid_CA_cert_path_causes_error
--- PASS: TestNewHttpClient (0.00s)
--- PASS: TestNewHttpClient/can_skip_cert_verification (0.00s)
--- PASS: TestNewHttpClient/can_load_CA_cert (0.00s)
--- PASS: TestNewHttpClient/invalid_CA_cert_path_causes_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/usageinsights	(cached)
?   	github.com/grafana/grafana/pkg/extensions/userprotection	[no test files]
=== RUN   Test_IsValidIconURL
--- PASS: Test_IsValidIconURL (0.00s)
=== RUN   Test_isDefault
=== RUN   Test_isDefault/default_struct
=== RUN   Test_isDefault/app_title_set
=== RUN   Test_isDefault/footer_links_explicitly_empty
=== RUN   Test_isDefault/footer_links_are_not_empty
=== RUN   Test_isDefault/empty_struct
--- PASS: Test_isDefault (0.00s)
--- PASS: Test_isDefault/default_struct (0.00s)
--- PASS: Test_isDefault/app_title_set (0.00s)
--- PASS: Test_isDefault/footer_links_explicitly_empty (0.00s)
--- PASS: Test_isDefault/footer_links_are_not_empty (0.00s)
--- PASS: Test_isDefault/empty_struct (0.00s)
=== RUN   Test_Init
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_enabled
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_enabled/Should_set_1_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_not_applied
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_not_applied/Should_set_0_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_set
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_set/Should_set_1_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_not_set
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_not_set/Should_set_0_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_set
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_set/Should_set_1_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_not_set
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_not_set/Should_set_0_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_set
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_set/Should_set_1_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_not_set
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_not_set/Should_set_0_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_updated
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_updated/Should_set_1_as_a_metric_value
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_not_updated
=== RUN   Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_not_updated/Should_set_0_as_a_metric_value
--- PASS: Test_Init (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_enabled (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_enabled/Should_set_1_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_not_applied (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_whitelabeling_is_not_applied/Should_set_0_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_set (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_set/Should_set_1_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_not_set (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_AppTitle_is_not_set/Should_set_0_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_set (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_set/Should_set_1_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_not_set (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_MenuLogo_is_not_set/Should_set_0_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_set (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_set/Should_set_1_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_not_set (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_footer_links_are_not_set/Should_set_0_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_updated (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_updated/Should_set_1_as_a_metric_value (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_not_updated (0.00s)
--- PASS: Test_Init/Should_add_metrics_for_whitelabeling/When_login_page_is_not_updated/Should_set_0_as_a_metric_value (0.00s)
=== RUN   Test_getPublicDashboardConfig
=== RUN   Test_getPublicDashboardConfig/config_for_PublicDashboard_is_set
=== RUN   Test_getPublicDashboardConfig/config_for_PublicDashboard_is_empty
--- PASS: Test_getPublicDashboardConfig (0.00s)
--- PASS: Test_getPublicDashboardConfig/config_for_PublicDashboard_is_set (0.00s)
--- PASS: Test_getPublicDashboardConfig/config_for_PublicDashboard_is_empty (0.00s)
=== RUN   Test_FeatureToggle
=== RUN   Test_FeatureToggle/Should_not_add_indexData_when_whitelabeling_is_disabled_by_token
=== RUN   Test_FeatureToggle/Should_add_indexData_when_whitelabeling_is_enabled_by_token
--- PASS: Test_FeatureToggle (0.22s)
--- PASS: Test_FeatureToggle/Should_not_add_indexData_when_whitelabeling_is_disabled_by_token (0.00s)
--- PASS: Test_FeatureToggle/Should_add_indexData_when_whitelabeling_is_enabled_by_token (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/extensions/whitelabeling	(cached)
?   	github.com/grafana/grafana/pkg/generated/applyconfiguration	[no test files]
?   	github.com/grafana/grafana/pkg/generated/applyconfiguration/internal	[no test files]
?   	github.com/grafana/grafana/pkg/generated/applyconfiguration/provisioning/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/applyconfiguration/service/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned/fake	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned/scheme	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned/typed/provisioning/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned/typed/provisioning/v0alpha1/fake	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned/typed/service/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/clientset/versioned/typed/service/v0alpha1/fake	[no test files]
?   	github.com/grafana/grafana/pkg/generated/informers/externalversions	[no test files]
?   	github.com/grafana/grafana/pkg/generated/informers/externalversions/internalinterfaces	[no test files]
?   	github.com/grafana/grafana/pkg/generated/informers/externalversions/provisioning	[no test files]
?   	github.com/grafana/grafana/pkg/generated/informers/externalversions/provisioning/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/informers/externalversions/service	[no test files]
?   	github.com/grafana/grafana/pkg/generated/informers/externalversions/service/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/listers/provisioning/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/generated/listers/service/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/ifaces/gcsifaces	[no test files]
?   	github.com/grafana/grafana/pkg/infra/db	[no test files]
?   	github.com/grafana/grafana/pkg/infra/db/dbtest	[no test files]
=== RUN   TestFilestorageApi_Join
=== RUN   TestFilestorageApi_Join/multiple_parts
=== RUN   TestFilestorageApi_Join/no_parts
=== RUN   TestFilestorageApi_Join/a_single_part
--- PASS: TestFilestorageApi_Join (0.00s)
--- PASS: TestFilestorageApi_Join/multiple_parts (0.00s)
--- PASS: TestFilestorageApi_Join/no_parts (0.00s)
--- PASS: TestFilestorageApi_Join/a_single_part (0.00s)
=== RUN   TestFilestorageApi_ValidatePath
=== RUN   TestFilestorageApi_ValidatePath/path_abc/file.jpg_should_be_invalid:_path_cant_be_relative
=== RUN   TestFilestorageApi_ValidatePath/path_../abc/file.jpg_should_be_invalid:_path_cant_be_relative
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/./file.jpg_should_be_invalid:_path_must_be_canonical
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/../abc/file.jpg_should_be_invalid:_path_must_be_canonical
=== RUN   TestFilestorageApi_ValidatePath/path_/abc//folder/file.jpg_should_be_invalid:_path_must_be_canonical
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/file.jpg/_should_be_invalid:_path_can_not_end_with_delimiter
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/folder/__should_be_invalid:_path_can_not_have_empty_parts
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/_/file.jpg_should_be_invalid:_path_can_not_have_empty_parts
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/file.jpg_should_be_invalid:_path_part_is_too_long
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/file.jpg_should_be_invalid:_path_is_too_long
=== RUN   TestFilestorageApi_ValidatePath/path_/abc/folder🚀/file.jpg_should_be_invalid:_path_contains_unsupported_characters
=== RUN   TestFilestorageApi_ValidatePath/path_/path/with/utf/char/at/the/end.jpg�_should_be_invalid:_path_contains_unsupported_characters
=== RUN   TestFilestorageApi_ValidatePath/path_/myFile/file.jpg_should_be_valid
=== RUN   TestFilestorageApi_ValidatePath/path_/file.jpg_should_be_valid
--- PASS: TestFilestorageApi_ValidatePath (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_abc/file.jpg_should_be_invalid:_path_cant_be_relative (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_../abc/file.jpg_should_be_invalid:_path_cant_be_relative (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/./file.jpg_should_be_invalid:_path_must_be_canonical (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/../abc/file.jpg_should_be_invalid:_path_must_be_canonical (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc//folder/file.jpg_should_be_invalid:_path_must_be_canonical (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/file.jpg/_should_be_invalid:_path_can_not_end_with_delimiter (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/folder/__should_be_invalid:_path_can_not_have_empty_parts (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/_/file.jpg_should_be_invalid:_path_can_not_have_empty_parts (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/file.jpg_should_be_invalid:_path_part_is_too_long (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/file.jpg_should_be_invalid:_path_is_too_long (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/abc/folder🚀/file.jpg_should_be_invalid:_path_contains_unsupported_characters (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/path/with/utf/char/at/the/end.jpg�_should_be_invalid:_path_contains_unsupported_characters (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/myFile/file.jpg_should_be_valid (0.00s)
--- PASS: TestFilestorageApi_ValidatePath/path_/file.jpg_should_be_valid (0.00s)
=== RUN   TestAuth
=== RUN   TestAuth/can_not_access_anything_without_an_allow_rule_(deny_by_default)
=== RUN   TestAuth/can_access_any_path_with_/_prefix_and_no_denies
=== RUN   TestAuth/can_not_access_paths_which_are_explicitly_denied
=== RUN   TestAuth/can_not_access_paths_with_denied_prefixes_-_parent_folder
=== RUN   TestAuth/can_not_access_paths_with_denied_prefixes_-_root_folder
=== RUN   TestAuth/can_not_access_paths_with_denied_prefixes_-_same_folder
=== RUN   TestAuth/can_not_access_paths_with_denied_prefixes_-_parent_folder_with_a_dot
=== RUN   TestAuth/can_not_access_paths_with_denied_prefixes_even_if_path_is_explicitly_allowed_-_deny_takes_priority
=== RUN   TestAuth/multiple_rules
--- PASS: TestAuth (0.00s)
--- PASS: TestAuth/can_not_access_anything_without_an_allow_rule_(deny_by_default) (0.00s)
--- PASS: TestAuth/can_access_any_path_with_/_prefix_and_no_denies (0.00s)
--- PASS: TestAuth/can_not_access_paths_which_are_explicitly_denied (0.00s)
--- PASS: TestAuth/can_not_access_paths_with_denied_prefixes_-_parent_folder (0.00s)
--- PASS: TestAuth/can_not_access_paths_with_denied_prefixes_-_root_folder (0.00s)
--- PASS: TestAuth/can_not_access_paths_with_denied_prefixes_-_same_folder (0.00s)
--- PASS: TestAuth/can_not_access_paths_with_denied_prefixes_-_parent_folder_with_a_dot (0.00s)
--- PASS: TestAuth/can_not_access_paths_with_denied_prefixes_even_if_path_is_explicitly_allowed_-_deny_takes_priority (0.00s)
--- PASS: TestAuth/multiple_rules (0.00s)
=== RUN   TestIntegrationFsStorage
fs_integration_test.go:179: flakey tests - skipping
--- SKIP: TestIntegrationFsStorage (0.00s)
=== RUN   TestFilestorage_getParentFolderPath
=== RUN   TestFilestorage_getParentFolderPath/should_return_empty_path_if_path_has_a_single_part_-_relative,_suffix
=== RUN   TestFilestorage_getParentFolderPath/should_return_empty_path_if_path_has_a_single_part_-_relative,_no_suffix
=== RUN   TestFilestorage_getParentFolderPath/should_return_root_if_path_has_a_single_part_-_abs,_no_suffix
=== RUN   TestFilestorage_getParentFolderPath/should_return_root_if_path_has_a_single_part_-_abs,_suffix
--- PASS: TestFilestorage_getParentFolderPath (0.00s)
--- PASS: TestFilestorage_getParentFolderPath/should_return_empty_path_if_path_has_a_single_part_-_relative,_suffix (0.00s)
--- PASS: TestFilestorage_getParentFolderPath/should_return_empty_path_if_path_has_a_single_part_-_relative,_no_suffix (0.00s)
--- PASS: TestFilestorage_getParentFolderPath/should_return_root_if_path_has_a_single_part_-_abs,_no_suffix (0.00s)
--- PASS: TestFilestorage_getParentFolderPath/should_return_root_if_path_has_a_single_part_-_abs,_suffix (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/filestorage	(cached)
=== RUN   TestCopyFile
--- PASS: TestCopyFile (0.00s)
=== RUN   TestCopyFile_Permissions
--- PASS: TestCopyFile_Permissions (0.00s)
=== RUN   TestCopyFile_NonExistentDestDir
--- PASS: TestCopyFile_NonExistentDestDir (0.00s)
=== RUN   TestCopyRecursive_NonExistentDest
--- PASS: TestCopyRecursive_NonExistentDest (0.00s)
=== RUN   TestCopyRecursive_ExistentDest
--- PASS: TestCopyRecursive_ExistentDest (0.00s)
=== RUN   TestExists_NonExistent
--- PASS: TestExists_NonExistent (0.00s)
=== RUN   TestExists_Existent
--- PASS: TestExists_Existent (0.00s)
=== RUN   TestExists_Dir
--- PASS: TestExists_Dir (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/fs	(cached)
?   	github.com/grafana/grafana/pkg/infra/httpclient	[no test files]
=== RUN   TestDataSourceMetricsMiddleware
=== RUN   TestDataSourceMetricsMiddleware/Without_label_options_set_should_return_next_http.RoundTripper
=== RUN   TestDataSourceMetricsMiddleware/Without_data_source_name_label_options_set_should_return_next_http.RoundTripper
=== RUN   TestDataSourceMetricsMiddleware/With_datasource_name_label_options_set_should_execute_middleware
=== RUN   TestDataSourceMetricsMiddleware/With_datasource_name_label_options_set_should_execute_middleware/secure_socks_ds_proxy_is_disabled
=== RUN   TestDataSourceMetricsMiddleware/With_datasource_name_label_options_set_should_execute_middleware/secure_socks_ds_proxy_is_enabled
--- PASS: TestDataSourceMetricsMiddleware (0.00s)
--- PASS: TestDataSourceMetricsMiddleware/Without_label_options_set_should_return_next_http.RoundTripper (0.00s)
--- PASS: TestDataSourceMetricsMiddleware/Without_data_source_name_label_options_set_should_return_next_http.RoundTripper (0.00s)
--- PASS: TestDataSourceMetricsMiddleware/With_datasource_name_label_options_set_should_execute_middleware (0.00s)
--- PASS: TestDataSourceMetricsMiddleware/With_datasource_name_label_options_set_should_execute_middleware/secure_socks_ds_proxy_is_disabled (0.00s)
--- PASS: TestDataSourceMetricsMiddleware/With_datasource_name_label_options_set_should_execute_middleware/secure_socks_ds_proxy_is_enabled (0.00s)
=== RUN   TestGrafanaRequestIDHeaderMiddleware
=== RUN   TestGrafanaRequestIDHeaderMiddleware/With_target_URL_in_the_allowed_URL_list_and_remote_address_specified,_should_add_headers_to_the_request_but_the_request_should_not_be_marked_as_private
=== RUN   TestGrafanaRequestIDHeaderMiddleware/With_target_URL_in_the_allowed_URL_list_and_remote_address_not_specified,_should_add_headers_to_the_request_and_the_request_should_be_marked_as_private
=== RUN   TestGrafanaRequestIDHeaderMiddleware/With_target_URL_not_in_the_allowed_URL_list,_should_not_add_headers_to_the_request
--- PASS: TestGrafanaRequestIDHeaderMiddleware (0.00s)
--- PASS: TestGrafanaRequestIDHeaderMiddleware/With_target_URL_in_the_allowed_URL_list_and_remote_address_specified,_should_add_headers_to_the_request_but_the_request_should_not_be_marked_as_private (0.00s)
--- PASS: TestGrafanaRequestIDHeaderMiddleware/With_target_URL_in_the_allowed_URL_list_and_remote_address_not_specified,_should_add_headers_to_the_request_and_the_request_should_be_marked_as_private (0.00s)
--- PASS: TestGrafanaRequestIDHeaderMiddleware/With_target_URL_not_in_the_allowed_URL_list,_should_not_add_headers_to_the_request (0.00s)
=== RUN   TestRedirectLimitMiddleware
=== PAUSE TestRedirectLimitMiddleware
=== RUN   TestHTTPClientProvider
=== RUN   TestHTTPClientProvider/When_creating_new_provider_and_SigV4_is_disabled_should_apply_expected_middleware
=== RUN   TestHTTPClientProvider/When_creating_new_provider_and_SigV4_is_enabled_should_apply_expected_middleware
=== RUN   TestHTTPClientProvider/When_creating_new_provider_and_http_logging_is_enabled_for_one_plugin,_it_should_apply_expected_middleware
--- PASS: TestHTTPClientProvider (0.00s)
--- PASS: TestHTTPClientProvider/When_creating_new_provider_and_SigV4_is_disabled_should_apply_expected_middleware (0.00s)
--- PASS: TestHTTPClientProvider/When_creating_new_provider_and_SigV4_is_enabled_should_apply_expected_middleware (0.00s)
--- PASS: TestHTTPClientProvider/When_creating_new_provider_and_http_logging_is_enabled_for_one_plugin,_it_should_apply_expected_middleware (0.00s)
=== RUN   TestHTTPLoggerMiddleware
=== RUN   TestHTTPLoggerMiddleware/Should_return_middleware_name
=== RUN   TestHTTPLoggerMiddleware/Should_return_next_http.RoundTripper_if_not_enabled
=== RUN   TestHTTPLoggerMiddleware/Should_add_HTTP_logger_if_enabled
--- PASS: TestHTTPLoggerMiddleware (0.00s)
--- PASS: TestHTTPLoggerMiddleware/Should_return_middleware_name (0.00s)
--- PASS: TestHTTPLoggerMiddleware/Should_return_next_http.RoundTripper_if_not_enabled (0.00s)
--- PASS: TestHTTPLoggerMiddleware/Should_add_HTTP_logger_if_enabled (0.00s)
=== RUN   TestPrometheusMetricsMiddleware
=== RUN   TestPrometheusMetricsMiddleware/successful
=== RUN   TestPrometheusMetricsMiddleware/failure
=== RUN   TestPrometheusMetricsMiddleware/in_flight
--- PASS: TestPrometheusMetricsMiddleware (0.00s)
--- PASS: TestPrometheusMetricsMiddleware/successful (0.00s)
--- PASS: TestPrometheusMetricsMiddleware/failure (0.00s)
--- PASS: TestPrometheusMetricsMiddleware/in_flight (0.00s)
=== RUN   TestTracingMiddleware
=== RUN   TestTracingMiddleware/GET_request_that_returns_200_OK_should_start_and_capture_span
=== RUN   TestTracingMiddleware/GET_request_that_returns_200_OK_should_propagate_parent_span
=== RUN   TestTracingMiddleware/GET_request_that_returns_400_Bad_Request_should_start_and_capture_span
=== RUN   TestTracingMiddleware/POST_request_that_returns_200_OK_should_start_and_capture_span
--- PASS: TestTracingMiddleware (0.00s)
--- PASS: TestTracingMiddleware/GET_request_that_returns_200_OK_should_start_and_capture_span (0.00s)
--- PASS: TestTracingMiddleware/GET_request_that_returns_200_OK_should_propagate_parent_span (0.00s)
--- PASS: TestTracingMiddleware/GET_request_that_returns_400_Bad_Request_should_start_and_capture_span (0.00s)
--- PASS: TestTracingMiddleware/POST_request_that_returns_200_OK_should_start_and_capture_span (0.00s)
=== RUN   TestSetUserAgentMiddleware
=== RUN   TestSetUserAgentMiddleware/Without_user_agent_set_should_return_next_http.RoundTripper
=== RUN   TestSetUserAgentMiddleware/With_user_agent_set_should_apply_HTTP_headers_to_the_request
=== RUN   TestSetUserAgentMiddleware/With_user_agent_set,_but_request_already_has_User-Agent_header_set_should_not_apply_HTTP_headers_to_the_request
--- PASS: TestSetUserAgentMiddleware (0.00s)
--- PASS: TestSetUserAgentMiddleware/Without_user_agent_set_should_return_next_http.RoundTripper (0.00s)
--- PASS: TestSetUserAgentMiddleware/With_user_agent_set_should_apply_HTTP_headers_to_the_request (0.00s)
--- PASS: TestSetUserAgentMiddleware/With_user_agent_set,_but_request_already_has_User-Agent_header_set_should_not_apply_HTTP_headers_to_the_request (0.00s)
=== CONT  TestRedirectLimitMiddleware
=== RUN   TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx
=== PAUSE TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx
=== CONT  TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx
=== RUN   TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/but_there_is_no_Location_header_in_the_response,_then_the_response_is_not_validated
=== PAUSE TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/but_there_is_no_Location_header_in_the_response,_then_the_response_is_not_validated
=== RUN   TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response
=== PAUSE TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response
=== CONT  TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/but_there_is_no_Location_header_in_the_response,_then_the_response_is_not_validated
=== CONT  TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response
=== RUN   TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/but_the_validation_function_fails,_it_returns_the_validation_error
=== PAUSE TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/but_the_validation_function_fails,_it_returns_the_validation_error
=== RUN   TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/and_the_validation_function_succeeds,_it_returns_the_response
=== PAUSE TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/and_the_validation_function_succeeds,_it_returns_the_response
=== CONT  TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/but_the_validation_function_fails,_it_returns_the_validation_error
=== CONT  TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/and_the_validation_function_succeeds,_it_returns_the_response
--- PASS: TestRedirectLimitMiddleware (0.00s)
--- PASS: TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx (0.00s)
--- PASS: TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/but_there_is_no_Location_header_in_the_response,_then_the_response_is_not_validated (0.00s)
--- PASS: TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response (0.00s)
--- PASS: TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/but_the_validation_function_fails,_it_returns_the_validation_error (0.00s)
--- PASS: TestRedirectLimitMiddleware/when_the_server_responds_with_a_status_code_3xx/and_there_is_a_Location_header_in_the_response/and_the_validation_function_succeeds,_it_returns_the_response (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/httpclient/httpclientprovider	(cached)
=== RUN   TestIntegrationKVStore
kvstore_test.go:46: skipping integration test
--- SKIP: TestIntegrationKVStore (0.00s)
=== RUN   TestGetItems
=== RUN   TestGetItems/Get_all_values_per_org
=== RUN   TestGetItems/Get_all_values_for_all_orgs
--- PASS: TestGetItems (0.27s)
--- PASS: TestGetItems/Get_all_values_per_org (0.00s)
--- PASS: TestGetItems/Get_all_values_for_all_orgs (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/kvstore	(cached)
?   	github.com/grafana/grafana/pkg/infra/localcache	[no test files]
=== RUN   TestCompositeLogger
--- PASS: TestCompositeLogger (0.00s)
=== RUN   TestCountingDatabaseCalls
--- PASS: TestCountingDatabaseCalls (0.00s)
=== RUN   TestLogFile
=== RUN   TestLogFile/adding_lines
--- PASS: TestLogFile (0.00s)
--- PASS: TestLogFile/adding_lines (0.00s)
=== RUN   TestLogger
=== RUN   TestLogger/Root_logger_should_be_initialized
--- PASS: TestLogger (0.00s)
--- PASS: TestLogger/Root_logger_should_be_initialized (0.00s)
=== RUN   TestNew
=== RUN   TestNew/When_initializing_root_logger_should_swap_loggers_as_expected
--- PASS: TestNew (0.00s)
--- PASS: TestNew/When_initializing_root_logger_should_swap_loggers_as_expected (0.00s)
=== RUN   TestContextualArguments
--- PASS: TestContextualArguments (0.00s)
=== RUN   TestWithPrefix_prependsContext
--- PASS: TestWithPrefix_prependsContext (0.00s)
=== RUN   TestWithSuffix_appendsContext
--- PASS: TestWithSuffix_appendsContext (0.00s)
=== RUN   TestGetFilters
=== RUN   TestGetFilters/Parsing_filters_on_single_line_with_only_space_should_return_expected_result
=== RUN   TestGetFilters/Parsing_filters_on_single_line_with_should_return_expected_result
=== RUN   TestGetFilters/Parsing_filters_spread_over_multiple_lines_with_comments_should_return_expected_result
--- PASS: TestGetFilters (0.00s)
--- PASS: TestGetFilters/Parsing_filters_on_single_line_with_only_space_should_return_expected_result (0.00s)
--- PASS: TestGetFilters/Parsing_filters_on_single_line_with_should_return_expected_result (0.00s)
--- PASS: TestGetFilters/Parsing_filters_spread_over_multiple_lines_with_comments_should_return_expected_result (0.00s)
=== RUN   TestWithContextualAttributes_appendsContext
=== RUN   TestWithContextualAttributes_appendsContext/Logs_arguments_from_context
=== RUN   TestWithContextualAttributes_appendsContext/Does_not_log_arguments_from_different_context
=== RUN   TestWithContextualAttributes_appendsContext/Appends_arguments_set_previously
--- PASS: TestWithContextualAttributes_appendsContext (0.00s)
--- PASS: TestWithContextualAttributes_appendsContext/Logs_arguments_from_context (0.00s)
--- PASS: TestWithContextualAttributes_appendsContext/Does_not_log_arguments_from_different_context (0.00s)
--- PASS: TestWithContextualAttributes_appendsContext/Appends_arguments_set_previously (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/log	(cached)
?   	github.com/grafana/grafana/pkg/infra/log/logtest	[no test files]
?   	github.com/grafana/grafana/pkg/infra/log/slogadapter	[no test files]
?   	github.com/grafana/grafana/pkg/infra/log/term	[no test files]
?   	github.com/grafana/grafana/pkg/infra/log/text	[no test files]
=== RUN   TestGathererPrefixWrapper_Gather
=== RUN   TestGathererPrefixWrapper_Gather/metrics_with_grafana_and_go_prefix_are_not_modified
=== RUN   TestGathererPrefixWrapper_Gather/duplicate_metrics_result_in_an_error
--- PASS: TestGathererPrefixWrapper_Gather (0.00s)
--- PASS: TestGathererPrefixWrapper_Gather/metrics_with_grafana_and_go_prefix_are_not_modified (0.00s)
--- PASS: TestGathererPrefixWrapper_Gather/duplicate_metrics_result_in_an_error (0.00s)
=== RUN   TestMultiRegistry_Gather
=== RUN   TestMultiRegistry_Gather/should_merge_and_sort_metrics
=== RUN   TestMultiRegistry_Gather/duplicate_metrics_result_in_an_error
=== RUN   TestMultiRegistry_Gather/duplicate_go__or_process__prefixed_metrics_do_not_result_in_an_error
=== RUN   TestMultiRegistry_Gather/denied_metrics_are_not_included
--- PASS: TestMultiRegistry_Gather (0.00s)
--- PASS: TestMultiRegistry_Gather/should_merge_and_sort_metrics (0.00s)
--- PASS: TestMultiRegistry_Gather/duplicate_metrics_result_in_an_error (0.00s)
--- PASS: TestMultiRegistry_Gather/duplicate_go__or_process__prefixed_metrics_do_not_result_in_an_error (0.00s)
--- PASS: TestMultiRegistry_Gather/denied_metrics_are_not_included (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/metrics	(cached)
=== RUN   TestCountersAsDelta
--- PASS: TestCountersAsDelta (0.00s)
=== RUN   TestCountersAsDeltaDisabled
--- PASS: TestCountersAsDeltaDisabled (0.00s)
=== RUN   TestSanitize
--- PASS: TestSanitize (0.00s)
=== RUN   TestSanitizePrefix
--- PASS: TestSanitizePrefix (0.00s)
=== RUN   TestWriteSummary
--- PASS: TestWriteSummary (0.00s)
=== RUN   TestWriteHistogram
--- PASS: TestWriteHistogram (0.00s)
=== RUN   TestCounterVec
--- PASS: TestCounterVec (0.00s)
=== RUN   TestCounter
--- PASS: TestCounter (0.00s)
=== RUN   TestTrimGrafanaNamespace
--- PASS: TestTrimGrafanaNamespace (0.00s)
=== RUN   TestSkipNanValues
--- PASS: TestSkipNanValues (0.00s)
=== RUN   TestPush
--- PASS: TestPush (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/metrics/graphitebridge	(cached)
=== RUN   TestLabelNameSanitization
--- PASS: TestLabelNameSanitization (0.00s)
=== RUN   Test_buildLabelSets
=== RUN   Test_buildLabelSets/single_label,_single_value
=== RUN   Test_buildLabelSets/single_label,_multiple_values
=== RUN   Test_buildLabelSets/multiple_label,_single_value
=== RUN   Test_buildLabelSets/multiple_label,_multiple_values
=== RUN   Test_buildLabelSets/irregular_labels_and_values
--- PASS: Test_buildLabelSets (0.00s)
--- PASS: Test_buildLabelSets/single_label,_single_value (0.00s)
--- PASS: Test_buildLabelSets/single_label,_multiple_values (0.00s)
--- PASS: Test_buildLabelSets/multiple_label,_single_value (0.00s)
--- PASS: Test_buildLabelSets/multiple_label,_multiple_values (0.00s)
--- PASS: Test_buildLabelSets/irregular_labels_and_values (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/metrics/metricutil	(cached)
=== RUN   TestGetIPFromAddress
=== RUN   TestGetIPFromAddress/Valid_IPv4
=== RUN   TestGetIPFromAddress/Valid_IPv6
=== RUN   TestGetIPFromAddress/Valid_IPv6_enclosed_in_square_brackets
=== RUN   TestGetIPFromAddress/Valid_IPv4/port_pair
=== RUN   TestGetIPFromAddress/Valid_IPv6/port_pair
=== RUN   TestGetIPFromAddress/Invalid_IPv6/port_pair
=== RUN   TestGetIPFromAddress/IPv6_with_too_many_parts
=== RUN   TestGetIPFromAddress/IPv6_with_too_few_parts
=== RUN   TestGetIPFromAddress/Valid_shortened_IPv6
=== RUN   TestGetIPFromAddress/IPv6_loopback_address
--- PASS: TestGetIPFromAddress (0.00s)
--- PASS: TestGetIPFromAddress/Valid_IPv4 (0.00s)
--- PASS: TestGetIPFromAddress/Valid_IPv6 (0.00s)
--- PASS: TestGetIPFromAddress/Valid_IPv6_enclosed_in_square_brackets (0.00s)
--- PASS: TestGetIPFromAddress/Valid_IPv4/port_pair (0.00s)
--- PASS: TestGetIPFromAddress/Valid_IPv6/port_pair (0.00s)
--- PASS: TestGetIPFromAddress/Invalid_IPv6/port_pair (0.00s)
--- PASS: TestGetIPFromAddress/IPv6_with_too_many_parts (0.00s)
--- PASS: TestGetIPFromAddress/IPv6_with_too_few_parts (0.00s)
--- PASS: TestGetIPFromAddress/Valid_shortened_IPv6 (0.00s)
--- PASS: TestGetIPFromAddress/IPv6_loopback_address (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/network	(cached)
?   	github.com/grafana/grafana/pkg/infra/process	[no test files]
=== RUN   TestDatabaseStorageGarbageCollection
--- PASS: TestDatabaseStorageGarbageCollection (0.23s)
=== RUN   TestSecondSet
--- PASS: TestSecondSet (0.00s)
=== RUN   TestIntegrationMemcachedCacheStorage
memcached_storage_integration_test.go:12: skipping integration test
--- SKIP: TestIntegrationMemcachedCacheStorage (0.00s)
=== RUN   TestIntegrationRedisCacheStorage
redis_storage_integration_test.go:15: skipping integration test
--- SKIP: TestIntegrationRedisCacheStorage (0.00s)
=== RUN   Test_parseRedisConnStr
--- PASS: Test_parseRedisConnStr (0.00s)
=== RUN   TestCachedBasedOnConfig
logger=settings t=2025-04-15T08:36:32.823820136Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:36:32.823861734Z level=error msg="Failed to detect generated javascript files in public/build"
logger=settings t=2025-04-15T08:36:32.824072208Z level=info msg="Config loaded from" file=../../../conf/defaults.ini
logger=settings t=2025-04-15T08:36:32.824090071Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:36:32.824102334Z level=info msg="Path Home" path=../../../
logger=settings t=2025-04-15T08:36:32.824109197Z level=info msg="Path Data" path=../../../data
logger=settings t=2025-04-15T08:36:32.824116981Z level=info msg="Path Logs" path=../../../data/log
logger=settings t=2025-04-15T08:36:32.824126359Z level=info msg="Path Plugins" path=../../../data/plugins
logger=settings t=2025-04-15T08:36:32.824133011Z level=info msg="Path Provisioning" path=../../../conf/provisioning
logger=settings t=2025-04-15T08:36:32.824140245Z level=info msg="App mode production"
--- PASS: TestCachedBasedOnConfig (1.01s)
=== RUN   TestInvalidCacheTypeReturnsError
--- PASS: TestInvalidCacheTypeReturnsError (0.00s)
=== RUN   TestCollectUsageStats
--- PASS: TestCollectUsageStats (0.00s)
=== RUN   TestCachePrefix
--- PASS: TestCachePrefix (0.00s)
=== RUN   TestEncryptedCache
--- PASS: TestEncryptedCache (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/remotecache	1.608s
=== RUN   TestIntegrationServerLock_LockAndExecute
serverlock_integration_test.go:14: skipping integration test
--- SKIP: TestIntegrationServerLock_LockAndExecute (0.00s)
=== RUN   TestIntegrationServerLock_LockExecuteAndRelease
serverlock_integration_test.go:42: skipping integration test
--- SKIP: TestIntegrationServerLock_LockExecuteAndRelease (0.00s)
=== RUN   TestIntegrationServerLock_LockExecuteAndReleaseWithRetries
serverlock_integration_test.go:69: skipping integration test
--- SKIP: TestIntegrationServerLock_LockExecuteAndReleaseWithRetries (0.00s)
=== RUN   TestServerLock
=== RUN   TestServerLock/trying_to_create_three_new_row_locks
=== RUN   TestServerLock/create_lock_on_first_row
--- PASS: TestServerLock (0.27s)
--- PASS: TestServerLock/trying_to_create_three_new_row_locks (0.00s)
--- PASS: TestServerLock/create_lock_on_first_row (0.00s)
=== RUN   TestLockAndRelease
=== RUN   TestLockAndRelease/create_lock_and_then_release_it
=== RUN   TestLockAndRelease/try_to_acquire_a_lock_which_is_already_locked,_get_error
=== RUN   TestLockAndRelease/lock_already_exists_but_is_timeouted
--- PASS: TestLockAndRelease (0.01s)
--- PASS: TestLockAndRelease/create_lock_and_then_release_it (0.00s)
--- PASS: TestLockAndRelease/try_to_acquire_a_lock_which_is_already_locked,_get_error (0.00s)
--- PASS: TestLockAndRelease/lock_already_exists_but_is_timeouted (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/serverlock	(cached)
=== RUN   TestSlugify
--- PASS: TestSlugify (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/slugify	(cached)
=== RUN   TestSplitCustomAttribs
--- PASS: TestSplitCustomAttribs (0.00s)
=== RUN   TestSplitCustomAttribs_Malformed
--- PASS: TestSplitCustomAttribs_Malformed (0.00s)
=== RUN   TestTracingConfig
=== RUN   TestTracingConfig/default_config_uses_noop_exporter
=== RUN   TestTracingConfig/custom_attributes_are_parsed
=== RUN   TestTracingConfig/jaeger_address_is_parsed
=== RUN   TestTracingConfig/OTLP_address_is_parsed
=== RUN   TestTracingConfig/OTLP_insecure_is_parsed
=== RUN   TestTracingConfig/legacy_config_format_is_supported
=== RUN   TestTracingConfig/legacy_env_variables_are_supported
=== RUN   TestTracingConfig/opentelemetry_config_format_is_prioritised_over_legacy_jaeger
=== RUN   TestTracingConfig/remote_sampler_config_is_parsed_from_otel_config
--- PASS: TestTracingConfig (0.00s)
--- PASS: TestTracingConfig/default_config_uses_noop_exporter (0.00s)
--- PASS: TestTracingConfig/custom_attributes_are_parsed (0.00s)
--- PASS: TestTracingConfig/jaeger_address_is_parsed (0.00s)
--- PASS: TestTracingConfig/OTLP_address_is_parsed (0.00s)
--- PASS: TestTracingConfig/OTLP_insecure_is_parsed (0.00s)
--- PASS: TestTracingConfig/legacy_config_format_is_supported (0.00s)
--- PASS: TestTracingConfig/legacy_env_variables_are_supported (0.00s)
--- PASS: TestTracingConfig/opentelemetry_config_format_is_prioritised_over_legacy_jaeger (0.00s)
--- PASS: TestTracingConfig/remote_sampler_config_is_parsed_from_otel_config (0.00s)
=== RUN   TestInitSampler
--- PASS: TestInitSampler (0.00s)
=== RUN   TestStart
=== RUN   TestStart/should_return_noop_span_if_there_is_not_currently_a_span_in_context
=== RUN   TestStart/should_return_a_span_with_a_valid_span_context_if_there_is_currently_a_span_in_context
--- PASS: TestStart (0.00s)
--- PASS: TestStart/should_return_noop_span_if_there_is_not_currently_a_span_in_context (0.00s)
--- PASS: TestStart/should_return_a_span_with_a_valid_span_context_if_there_is_currently_a_span_in_context (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/tracing	(cached)
?   	github.com/grafana/grafana/pkg/infra/usagestats	[no test files]
=== RUN   TestApi_getUsageStats
=== RUN   TestApi_getUsageStats/expect_usage_stats
=== RUN   TestApi_getUsageStats/expect_usage_stat_preview_still_there_after_disabling
=== RUN   TestApi_getUsageStats/expect_http_status_403_when_does_not_have_the_right_permissions
--- PASS: TestApi_getUsageStats (0.00s)
--- PASS: TestApi_getUsageStats/expect_usage_stats (0.00s)
--- PASS: TestApi_getUsageStats/expect_usage_stat_preview_still_there_after_disabling (0.00s)
--- PASS: TestApi_getUsageStats/expect_http_status_403_when_does_not_have_the_right_permissions (0.00s)
=== RUN   Test_InterfaceContractValidity
--- PASS: Test_InterfaceContractValidity (0.00s)
=== RUN   TestMetrics
=== RUN   TestMetrics/Given_reporting_not_enabled_and_sending_usage_stats
=== RUN   TestMetrics/Given_reporting_enabled,_stats_should_be_gathered_and_sent_to_HTTP_endpoint
usage_stats_test.go:106: Fake HTTP handler received a response
usage_stats_test.go:132: Received response from fake HTTP server: {req:0xc001e608c0 responseBuffer:0xc001ef3f20 err:<nil>}
--- PASS: TestMetrics (0.00s)
--- PASS: TestMetrics/Given_reporting_not_enabled_and_sending_usage_stats (0.00s)
--- PASS: TestMetrics/Given_reporting_enabled,_stats_should_be_gathered_and_sent_to_HTTP_endpoint (0.00s)
=== RUN   TestGetUsageReport_IncludesMetrics
--- PASS: TestGetUsageReport_IncludesMetrics (0.21s)
=== RUN   TestRegisterMetrics
=== RUN   TestRegisterMetrics/do_not_add_metrics_that_return_an_error_when_fetched
--- PASS: TestRegisterMetrics (0.00s)
--- PASS: TestRegisterMetrics/do_not_add_metrics_that_return_an_error_when_fetched (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/usagestats/service	(cached)
=== RUN   TestConcurrentUsersMetrics
--- PASS: TestConcurrentUsersMetrics (0.23s)
=== RUN   TestConcurrentUsersStats
--- PASS: TestConcurrentUsersStats (0.01s)
=== RUN   TestDetectPrometheusVariant
--- PASS: TestDetectPrometheusVariant (0.00s)
=== RUN   TestTotalStatsUpdate
=== RUN   TestTotalStatsUpdate/metricsEnabled(false)_*_totalStatsDisabled(false)_=_false
=== RUN   TestTotalStatsUpdate/metricsEnabled(false)_*_totalStatsDisabled(true)_=_false
=== RUN   TestTotalStatsUpdate/metricsEnabled(true)_*_totalStatsDisabled(true)_=_false
=== RUN   TestTotalStatsUpdate/metricsEnabled(true)_*_totalStatsDisabled(false)_=_true
--- PASS: TestTotalStatsUpdate (0.00s)
--- PASS: TestTotalStatsUpdate/metricsEnabled(false)_*_totalStatsDisabled(false)_=_false (0.00s)
--- PASS: TestTotalStatsUpdate/metricsEnabled(false)_*_totalStatsDisabled(true)_=_false (0.00s)
--- PASS: TestTotalStatsUpdate/metricsEnabled(true)_*_totalStatsDisabled(true)_=_false (0.00s)
--- PASS: TestTotalStatsUpdate/metricsEnabled(true)_*_totalStatsDisabled(false)_=_true (0.00s)
=== RUN   TestUsageStatsProviders
--- PASS: TestUsageStatsProviders (0.00s)
=== RUN   TestFeatureUsageStats
--- PASS: TestFeatureUsageStats (0.00s)
=== RUN   TestCollectingUsageStats
--- PASS: TestCollectingUsageStats (0.00s)
=== RUN   TestDatasourceStats
--- PASS: TestDatasourceStats (0.00s)
=== RUN   TestAlertNotifiersStats
--- PASS: TestAlertNotifiersStats (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/infra/usagestats/statscollector	(cached)
?   	github.com/grafana/grafana/pkg/infra/usagestats/validator	[no test files]
?   	github.com/grafana/grafana/pkg/kinds	[no test files]
?   	github.com/grafana/grafana/pkg/kinds/dashboard	[no test files]
?   	github.com/grafana/grafana/pkg/kinds/librarypanel	[no test files]
?   	github.com/grafana/grafana/pkg/kinds/preferences	[no test files]
?   	github.com/grafana/grafana/pkg/kinds/publicdashboard	[no test files]
?   	github.com/grafana/grafana/pkg/login/social	[no test files]
=== RUN   TestSocialAzureAD_UserInfo
=== RUN   TestSocialAzureAD_UserInfo/Email_in_email_claim
=== RUN   TestSocialAzureAD_UserInfo/No_email
=== RUN   TestSocialAzureAD_UserInfo/No_id_token
=== RUN   TestSocialAzureAD_UserInfo/US_Government_domain
=== RUN   TestSocialAzureAD_UserInfo/Email_in_preferred_username_claim
=== RUN   TestSocialAzureAD_UserInfo/Admin_role
=== RUN   TestSocialAzureAD_UserInfo/Lowercase_Admin_role
=== RUN   TestSocialAzureAD_UserInfo/Only_other_roles
=== RUN   TestSocialAzureAD_UserInfo/role_from_env_variable
=== RUN   TestSocialAzureAD_UserInfo/Editor_role
=== RUN   TestSocialAzureAD_UserInfo/Admin_and_Editor_roles_in_claim
=== RUN   TestSocialAzureAD_UserInfo/Grafana_Admin_but_setting_is_disabled
=== RUN   TestSocialAzureAD_UserInfo/Editor_roles_in_claim_and_GrafanaAdminAssignment_enabled
=== RUN   TestSocialAzureAD_UserInfo/Grafana_Admin_and_Editor_roles_in_claim
=== RUN   TestSocialAzureAD_UserInfo/Error_if_user_is_not_a_member_of_allowed_groups
=== RUN   TestSocialAzureAD_UserInfo/Error_if_user_is_not_a_member_of_allowed_organizations
=== RUN   TestSocialAzureAD_UserInfo/No_error_if_user_is_a_member_of_allowed_organizations
=== RUN   TestSocialAzureAD_UserInfo/No_Error_if_user_is_a_member_of_allowed_groups
=== RUN   TestSocialAzureAD_UserInfo/Error_if_user_does_not_have_groups_but_allowed_groups
=== RUN   TestSocialAzureAD_UserInfo/Fetch_groups_when_ClaimsNames_and_ClaimsSources_is_set
=== RUN   TestSocialAzureAD_UserInfo/Fetch_groups_when_forceUseGraphAPI_is_set
=== RUN   TestSocialAzureAD_UserInfo/Fetch_empty_role_when_strict_attribute_role_is_true_and_no_match
=== RUN   TestSocialAzureAD_UserInfo/Fetch_empty_role_when_strict_attribute_role_is_true_and_no_role_claims_returned
=== RUN   TestSocialAzureAD_UserInfo/should_map_role_when_org_mapping_is_set,_IdP_returns_with_invalid_role_and_role_attribute_strict_is_enabled
=== RUN   TestSocialAzureAD_UserInfo/should_map_role_when_org_mapping_is_set_and_IdP_returns_with_empty_role_list
=== RUN   TestSocialAzureAD_UserInfo/should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled
=== RUN   TestSocialAzureAD_UserInfo/should_return_error_when_roles_claim_is_empty_and_org_mapping_doesn't_evaluate_to_any_role_and_role_attribute_strict_is_enabled
=== RUN   TestSocialAzureAD_UserInfo/should_return_error_when_roles_claim_is_empty_and_org_mapping_is_empty_and_role_attribute_strict_is_enabled
--- PASS: TestSocialAzureAD_UserInfo (0.12s)
--- PASS: TestSocialAzureAD_UserInfo/Email_in_email_claim (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/No_email (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/No_id_token (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/US_Government_domain (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Email_in_preferred_username_claim (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Admin_role (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Lowercase_Admin_role (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Only_other_roles (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/role_from_env_variable (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Editor_role (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Admin_and_Editor_roles_in_claim (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Grafana_Admin_but_setting_is_disabled (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Editor_roles_in_claim_and_GrafanaAdminAssignment_enabled (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Grafana_Admin_and_Editor_roles_in_claim (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Error_if_user_is_not_a_member_of_allowed_groups (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Error_if_user_is_not_a_member_of_allowed_organizations (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/No_error_if_user_is_a_member_of_allowed_organizations (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/No_Error_if_user_is_a_member_of_allowed_groups (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Error_if_user_does_not_have_groups_but_allowed_groups (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Fetch_groups_when_ClaimsNames_and_ClaimsSources_is_set (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Fetch_groups_when_forceUseGraphAPI_is_set (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Fetch_empty_role_when_strict_attribute_role_is_true_and_no_match (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/Fetch_empty_role_when_strict_attribute_role_is_true_and_no_role_claims_returned (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/should_map_role_when_org_mapping_is_set,_IdP_returns_with_invalid_role_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/should_map_role_when_org_mapping_is_set_and_IdP_returns_with_empty_role_list (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/should_return_error_when_roles_claim_is_empty_and_org_mapping_doesn't_evaluate_to_any_role_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialAzureAD_UserInfo/should_return_error_when_roles_claim_is_empty_and_org_mapping_is_empty_and_role_attribute_strict_is_enabled (0.00s)
=== RUN   TestSocialAzureAD_SkipOrgRole
=== RUN   TestSocialAzureAD_SkipOrgRole/Grafana_Admin_and_Editor_roles_in_claim,_skipOrgRoleSync_disabled_should_get_roles
=== RUN   TestSocialAzureAD_SkipOrgRole/Grafana_Admin_and_Editor_roles_in_claim,_skipOrgRoleSync_enabled_should_not_get_roles
--- PASS: TestSocialAzureAD_SkipOrgRole (0.85s)
--- PASS: TestSocialAzureAD_SkipOrgRole/Grafana_Admin_and_Editor_roles_in_claim,_skipOrgRoleSync_disabled_should_get_roles (0.00s)
--- PASS: TestSocialAzureAD_SkipOrgRole/Grafana_Admin_and_Editor_roles_in_claim,_skipOrgRoleSync_enabled_should_not_get_roles (0.00s)
=== RUN   TestSocialAzureAD_InitializeExtraFields
=== RUN   TestSocialAzureAD_InitializeExtraFields/forceUseGraphAPI_is_set_to_true
=== RUN   TestSocialAzureAD_InitializeExtraFields/allowedOrganizations_is_set
--- PASS: TestSocialAzureAD_InitializeExtraFields (0.00s)
--- PASS: TestSocialAzureAD_InitializeExtraFields/forceUseGraphAPI_is_set_to_true (0.00s)
--- PASS: TestSocialAzureAD_InitializeExtraFields/allowedOrganizations_is_set (0.00s)
=== RUN   TestSocialAzureAD_Validate
=== RUN   TestSocialAzureAD_Validate/SSOSettings_is_valid
=== RUN   TestSocialAzureAD_Validate/SSOSettings_is_valid#01
=== RUN   TestSocialAzureAD_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialAzureAD_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialAzureAD_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialAzureAD_Validate/fails_if_allowed_groups_are_not_uuids
=== RUN   TestSocialAzureAD_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled
=== RUN   TestSocialAzureAD_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
=== RUN   TestSocialAzureAD_Validate/fails_if_auth_url_is_empty
=== RUN   TestSocialAzureAD_Validate/fails_if_token_url_is_empty
=== RUN   TestSocialAzureAD_Validate/fails_if_auth_url_is_invalid
=== RUN   TestSocialAzureAD_Validate/fails_if_token_url_is_invalid
--- PASS: TestSocialAzureAD_Validate (0.00s)
--- PASS: TestSocialAzureAD_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialAzureAD_Validate/SSOSettings_is_valid#01 (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_allowed_groups_are_not_uuids (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_auth_url_is_empty (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_token_url_is_empty (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_auth_url_is_invalid (0.00s)
--- PASS: TestSocialAzureAD_Validate/fails_if_token_url_is_invalid (0.00s)
=== RUN   TestSocialAzureAD_Reload
=== RUN   TestSocialAzureAD_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialAzureAD_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialAzureAD_Reload (0.00s)
--- PASS: TestSocialAzureAD_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialAzureAD_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestSocialAzureAD_Reload_ExtraFields
=== RUN   TestSocialAzureAD_Reload_ExtraFields/successfully_reloads_the_settings
--- PASS: TestSocialAzureAD_Reload_ExtraFields (0.00s)
--- PASS: TestSocialAzureAD_Reload_ExtraFields/successfully_reloads_the_settings (0.00s)
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_role_path,_no_API_response,_use_id_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_no_role_path,_no_API_response,_use_id_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_an_invalid_role_path,_no_API_response,_use_id_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_a_valid_role_path,_a_valid_API_response,_use_API_response
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_no_role_path,_a_valid_API_response,_use_API_response
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_a_role_path,_a_valid_API_response_without_a_role,_use_API_response
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_a_valid_role_path,_no_API_response,_no_data
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_role_path,_a_valid_API_response,_prefer_id_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_and_AssignGrafanaAdmin_is_unchecked,_don't_grant_Server_Admin
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_and_AssignGrafanaAdmin_is_checked,_grant_Server_Admin
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_an_invalid_role_path,_a_valid_API_response,_prefer_id_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_with_no_email,_a_valid_role_path,_a_valid_API_response_with_no_role,_merge
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_with_no_role,_a_valid_role_path,_a_valid_API_response_with_no_email,_merge
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_advanced_JMESPath_role_path,_derive_the_role
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_without_role_info,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_derive_the_correct_org_roles_using_the_userinfo_API_response_(JMESPath_warning_on_id_token)
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_without_role_info,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_derive_the_correct_org_roles_using_the_userinfo_API_response_(JMESPath_warning_on_id_token)#01
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_prefer_ID_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_skip_org_role_sync_set_to_true,_with_a_valid_id_token,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_no_org_role_should_be_set
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_without_role_info,_a_valid_advanced_JMESPath_role_path,_a_valid_org_attribute_path,_a_valid_org_mapping,_a_valid_API_response,_derive_the_correct_org_roles_using_the_userinfo_API_response_(JMESPath_warning_on_id_token)
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_role_attribute_path,_an_org_roles_path,_an_org_mapping,_a_valid_API_response,_prefer_ID_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_not_fail_when_the_evaluated_role_is_invalid,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_not_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_not_fail_when_the_evaluated_role_is_valid,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_not_fail_when_role_attribute_path_is_empty,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_not_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_return_empty_when_evaluated_role_is_empty/invalid,_role_attribute_strict_is_set_to_false_and_evaluated_org_roles_are_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_fail_when_role_attribute_path_is_empty,_role_attribute_strict_is_set_to_true_and_org_mapping_is_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_fail_when_role_attribute_path_evaluates_to_invalid_role,_role_attribute_strict_is_set_to_true_and_org_mapping_is_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_fail_when_role_attribute_path_is_empty,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_empty
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Should_get_orgs_from_API_when_not_in_token
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Give_AutoAssignOrgRole_in_AutoAssignOrgId_when_OrgMapping_returns_no_OrgRoles
=== RUN   TestUserInfoSearchesForEmailAndOrgRoles/Generic_OAuth_with_empty_API_URL_shouldn't_call_fetchPrivateEmail_function
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles (0.01s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_role_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_no_role_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_an_invalid_role_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_a_valid_role_path,_a_valid_API_response,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_no_role_path,_a_valid_API_response,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_a_role_path,_a_valid_API_response_without_a_role,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_no_id_token,_a_valid_role_path,_no_API_response,_no_data (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_role_path,_a_valid_API_response,_prefer_id_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_and_AssignGrafanaAdmin_is_unchecked,_don't_grant_Server_Admin (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_and_AssignGrafanaAdmin_is_checked,_grant_Server_Admin (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_an_invalid_role_path,_a_valid_API_response,_prefer_id_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_with_no_email,_a_valid_role_path,_a_valid_API_response_with_no_role,_merge (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_with_no_role,_a_valid_role_path,_a_valid_API_response_with_no_email,_merge (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_advanced_JMESPath_role_path,_derive_the_role (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_without_role_info,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_derive_the_correct_org_roles_using_the_userinfo_API_response_(JMESPath_warning_on_id_token) (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_without_role_info,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_derive_the_correct_org_roles_using_the_userinfo_API_response_(JMESPath_warning_on_id_token)#01 (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_prefer_ID_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_skip_org_role_sync_set_to_true,_with_a_valid_id_token,_a_valid_advanced_JMESPath_role_path,_a_valid_API_response,_no_org_role_should_be_set (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token_without_role_info,_a_valid_advanced_JMESPath_role_path,_a_valid_org_attribute_path,_a_valid_org_mapping,_a_valid_API_response,_derive_the_correct_org_roles_using_the_userinfo_API_response_(JMESPath_warning_on_id_token) (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Given_a_valid_id_token,_a_role_attribute_path,_an_org_roles_path,_an_org_mapping,_a_valid_API_response,_prefer_ID_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_not_fail_when_the_evaluated_role_is_invalid,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_not_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_not_fail_when_the_evaluated_role_is_valid,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_not_fail_when_role_attribute_path_is_empty,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_not_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_return_empty_when_evaluated_role_is_empty/invalid,_role_attribute_strict_is_set_to_false_and_evaluated_org_roles_are_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_fail_when_role_attribute_path_is_empty,_role_attribute_strict_is_set_to_true_and_org_mapping_is_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_fail_when_role_attribute_path_evaluates_to_invalid_role,_role_attribute_strict_is_set_to_true_and_org_mapping_is_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_fail_when_role_attribute_path_is_empty,_role_attribute_strict_is_set_to_true_and_evaluated_org_roles_are_empty (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Should_get_orgs_from_API_when_not_in_token (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Give_AutoAssignOrgRole_in_AutoAssignOrgId_when_OrgMapping_returns_no_OrgRoles (0.00s)
--- PASS: TestUserInfoSearchesForEmailAndOrgRoles/Generic_OAuth_with_empty_API_URL_shouldn't_call_fetchPrivateEmail_function (0.00s)
=== RUN   TestUserInfoSearchesForLogin
=== RUN   TestUserInfoSearchesForLogin/Given_a_valid_id_token,_a_valid_login_path,_no_API_response,_use_id_token
generic_oauth_test.go:615: Writing fake API response body body <nil>
=== RUN   TestUserInfoSearchesForLogin/Given_a_valid_id_token,_no_login_path,_no_API_response,_use_id_token
generic_oauth_test.go:615: Writing fake API response body body <nil>
=== RUN   TestUserInfoSearchesForLogin/Given_no_id_token,_a_valid_login_path,_a_valid_API_response,_use_API_response
generic_oauth_test.go:615: Writing fake API response body body map[email:john.doe@example.com user_uid:johndoe]
=== RUN   TestUserInfoSearchesForLogin/Given_no_id_token,_no_login_path,_a_valid_API_response,_use_API_response
generic_oauth_test.go:615: Writing fake API response body body map[login:johndoe]
generic_oauth_test.go:615: Writing fake API response body body map[login:johndoe]
=== RUN   TestUserInfoSearchesForLogin/Given_no_id_token,_a_login_path,_a_valid_API_response_without_a_login,_use_API_response
generic_oauth_test.go:615: Writing fake API response body body map[username:john.doe]
generic_oauth_test.go:615: Writing fake API response body body map[username:john.doe]
=== RUN   TestUserInfoSearchesForLogin/Given_no_id_token,_a_valid_login_path,_no_API_response,_no_data
generic_oauth_test.go:615: Writing fake API response body body <nil>
generic_oauth_test.go:615: Writing fake API response body body <nil>
--- PASS: TestUserInfoSearchesForLogin (0.00s)
--- PASS: TestUserInfoSearchesForLogin/Given_a_valid_id_token,_a_valid_login_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForLogin/Given_a_valid_id_token,_no_login_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForLogin/Given_no_id_token,_a_valid_login_path,_a_valid_API_response,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForLogin/Given_no_id_token,_no_login_path,_a_valid_API_response,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForLogin/Given_no_id_token,_a_login_path,_a_valid_API_response_without_a_login,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForLogin/Given_no_id_token,_a_valid_login_path,_no_API_response,_no_data (0.00s)
=== RUN   TestUserInfoSearchesForName
=== RUN   TestUserInfoSearchesForName/Given_a_valid_id_token,_a_valid_name_path,_no_API_response,_use_id_token
generic_oauth_test.go:714: Writing fake API response body body <nil>
=== RUN   TestUserInfoSearchesForName/Given_a_valid_id_token,_no_name_path,_no_API_response,_use_id_token
generic_oauth_test.go:714: Writing fake API response body body <nil>
=== RUN   TestUserInfoSearchesForName/Given_no_id_token,_a_valid_name_path,_a_valid_API_response,_use_API_response
generic_oauth_test.go:714: Writing fake API response body body map[email:john.doe@example.com login:johndoe user_name:John Doe]
=== RUN   TestUserInfoSearchesForName/Given_no_id_token,_no_name_path,_a_valid_API_response,_use_API_response
generic_oauth_test.go:714: Writing fake API response body body map[display_name:John Doe login:johndoe]
generic_oauth_test.go:714: Writing fake API response body body map[display_name:John Doe login:johndoe]
=== RUN   TestUserInfoSearchesForName/Given_no_id_token,_a_name_path,_a_valid_API_response_without_a_name,_use_API_response
generic_oauth_test.go:714: Writing fake API response body body map[display_name:John Doe username:john.doe]
generic_oauth_test.go:714: Writing fake API response body body map[display_name:John Doe username:john.doe]
=== RUN   TestUserInfoSearchesForName/Given_no_id_token,_a_valid_name_path,_no_API_response,_no_data
generic_oauth_test.go:714: Writing fake API response body body <nil>
generic_oauth_test.go:714: Writing fake API response body body <nil>
--- PASS: TestUserInfoSearchesForName (0.00s)
--- PASS: TestUserInfoSearchesForName/Given_a_valid_id_token,_a_valid_name_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForName/Given_a_valid_id_token,_no_name_path,_no_API_response,_use_id_token (0.00s)
--- PASS: TestUserInfoSearchesForName/Given_no_id_token,_a_valid_name_path,_a_valid_API_response,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForName/Given_no_id_token,_no_name_path,_a_valid_API_response,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForName/Given_no_id_token,_a_name_path,_a_valid_API_response_without_a_name,_use_API_response (0.00s)
--- PASS: TestUserInfoSearchesForName/Given_no_id_token,_a_valid_name_path,_no_API_response,_no_data (0.00s)
=== RUN   TestUserInfoSearchesForGroup
=== RUN   TestUserInfoSearchesForGroup/If_groups_are_not_set,_user_groups_are_nil
generic_oauth_test.go:775: Writing fake API response body body <nil>
generic_oauth_test.go:775: Writing fake API response body body <nil>
=== RUN   TestUserInfoSearchesForGroup/If_groups_are_empty,_user_groups_are_nil
generic_oauth_test.go:775: Writing fake API response body body map[info:map[groups:[]]]
generic_oauth_test.go:775: Writing fake API response body body map[info:map[groups:[]]]
=== RUN   TestUserInfoSearchesForGroup/If_groups_are_set,_user_groups_are_set
generic_oauth_test.go:775: Writing fake API response body body map[info:map[groups:[foo bar]]]
generic_oauth_test.go:775: Writing fake API response body body map[info:map[groups:[foo bar]]]
--- PASS: TestUserInfoSearchesForGroup (0.00s)
--- PASS: TestUserInfoSearchesForGroup/If_groups_are_not_set,_user_groups_are_nil (0.00s)
--- PASS: TestUserInfoSearchesForGroup/If_groups_are_empty,_user_groups_are_nil (0.00s)
--- PASS: TestUserInfoSearchesForGroup/If_groups_are_set,_user_groups_are_set (0.00s)
=== RUN   TestPayloadCompression
=== RUN   TestPayloadCompression/Given_a_valid_DEFLATE_compressed_id_token,_return_userInfo
=== RUN   TestPayloadCompression/Given_a_valid_DEFLATE_compressed_id_token_with_numeric_header,_return_userInfo
=== RUN   TestPayloadCompression/Given_an_invalid_DEFLATE_compressed_id_token,_return_nil
=== RUN   TestPayloadCompression/Given_an_unsupported_GZIP_compressed_id_token,_return_nil
--- PASS: TestPayloadCompression (0.00s)
--- PASS: TestPayloadCompression/Given_a_valid_DEFLATE_compressed_id_token,_return_userInfo (0.00s)
--- PASS: TestPayloadCompression/Given_a_valid_DEFLATE_compressed_id_token_with_numeric_header,_return_userInfo (0.00s)
--- PASS: TestPayloadCompression/Given_an_invalid_DEFLATE_compressed_id_token,_return_nil (0.00s)
--- PASS: TestPayloadCompression/Given_an_unsupported_GZIP_compressed_id_token,_return_nil (0.00s)
=== RUN   TestSocialGenericOAuth_InitializeExtraFields
=== RUN   TestSocialGenericOAuth_InitializeExtraFields/nameAttributePath_is_set
=== RUN   TestSocialGenericOAuth_InitializeExtraFields/loginAttributePath_is_set
=== RUN   TestSocialGenericOAuth_InitializeExtraFields/idTokenAttributeName_is_set
=== RUN   TestSocialGenericOAuth_InitializeExtraFields/teamIds_is_set
=== RUN   TestSocialGenericOAuth_InitializeExtraFields/allowedOrganizations_is_set
--- PASS: TestSocialGenericOAuth_InitializeExtraFields (0.00s)
--- PASS: TestSocialGenericOAuth_InitializeExtraFields/nameAttributePath_is_set (0.00s)
--- PASS: TestSocialGenericOAuth_InitializeExtraFields/loginAttributePath_is_set (0.00s)
--- PASS: TestSocialGenericOAuth_InitializeExtraFields/idTokenAttributeName_is_set (0.00s)
--- PASS: TestSocialGenericOAuth_InitializeExtraFields/teamIds_is_set (0.00s)
--- PASS: TestSocialGenericOAuth_InitializeExtraFields/allowedOrganizations_is_set (0.00s)
=== RUN   TestSocialGenericOAuth_Validate
=== RUN   TestSocialGenericOAuth_Validate/SSOSettings_is_valid
=== RUN   TestSocialGenericOAuth_Validate/passes_when_team_url_is_empty
=== RUN   TestSocialGenericOAuth_Validate/passes_when_team_ids_is_an_empty_array_and_teams_id_attribute_path_and_teams_url_are_empty
=== RUN   TestSocialGenericOAuth_Validate/passes_when_team_ids_is_set_and_teams_id_attribute_path_and_teams_url_are_not_empty
=== RUN   TestSocialGenericOAuth_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialGenericOAuth_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialGenericOAuth_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialGenericOAuth_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled
=== RUN   TestSocialGenericOAuth_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
=== RUN   TestSocialGenericOAuth_Validate/fails_if_auth_url_is_empty
=== RUN   TestSocialGenericOAuth_Validate/fails_if_token_url_is_empty
=== RUN   TestSocialGenericOAuth_Validate/fails_if_auth_url_is_invalid
=== RUN   TestSocialGenericOAuth_Validate/fails_if_token_url_is_invalid
=== RUN   TestSocialGenericOAuth_Validate/fails_if_teams_url_is_invalid
=== RUN   TestSocialGenericOAuth_Validate/fails_when_team_ids_is_a_valid_string_and_teams_id_attribute_path_and_teams_url_are_empty
=== RUN   TestSocialGenericOAuth_Validate/fails_when_team_ids_is_a_valid_array_and_teams_id_attribute_path_and_teams_url_are_empty
--- PASS: TestSocialGenericOAuth_Validate (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/passes_when_team_url_is_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/passes_when_team_ids_is_an_empty_array_and_teams_id_attribute_path_and_teams_url_are_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/passes_when_team_ids_is_set_and_teams_id_attribute_path_and_teams_url_are_not_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_auth_url_is_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_token_url_is_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_auth_url_is_invalid (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_token_url_is_invalid (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_if_teams_url_is_invalid (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_when_team_ids_is_a_valid_string_and_teams_id_attribute_path_and_teams_url_are_empty (0.00s)
--- PASS: TestSocialGenericOAuth_Validate/fails_when_team_ids_is_a_valid_array_and_teams_id_attribute_path_and_teams_url_are_empty (0.00s)
=== RUN   TestSocialGenericOAuth_Reload
=== RUN   TestSocialGenericOAuth_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialGenericOAuth_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialGenericOAuth_Reload (0.00s)
--- PASS: TestSocialGenericOAuth_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialGenericOAuth_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestGenericOAuth_Reload_ExtraFields
=== RUN   TestGenericOAuth_Reload_ExtraFields/successfully_reloads_the_settings
--- PASS: TestGenericOAuth_Reload_ExtraFields (0.00s)
--- PASS: TestGenericOAuth_Reload_ExtraFields/successfully_reloads_the_settings (0.00s)
=== RUN   TestSocialGitHub_UserInfo
=== RUN   TestSocialGitHub_UserInfo/should_return_default_role_if_no_role_attribute_path_is_set
=== RUN   TestSocialGitHub_UserInfo/should_fail_when_role_attribute_path_is_empty_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGitHub_UserInfo/admin_mapping_takes_precedence_over_auto_assign_org_role
=== RUN   TestSocialGitHub_UserInfo/should_map_role_when_role_attribute_path_is_set
=== RUN   TestSocialGitHub_UserInfo/should_return_empty_role_when_skip_org_role_sync_is_true
=== RUN   TestSocialGitHub_UserInfo/Should_return_nil_pointer_if_allowGrafanaAdmin_and_skipOrgRoleSync_setting_is_set_to_true
=== RUN   TestSocialGitHub_UserInfo/should_fallback_to_default_org_role_when_role_attribute_path_is_empty_and_auto_assign_org_role_is_set
=== RUN   TestSocialGitHub_UserInfo/should_check_parent_team_id_for_team_membership
=== RUN   TestSocialGitHub_UserInfo/should_map_role_when_only_org_mapping_is_set
=== RUN   TestSocialGitHub_UserInfo/should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGitHub_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGitHub_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGitHub_UserInfo/should_fetch_email_and_allowed_orgs
--- PASS: TestSocialGitHub_UserInfo (0.01s)
--- PASS: TestSocialGitHub_UserInfo/should_return_default_role_if_no_role_attribute_path_is_set (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_fail_when_role_attribute_path_is_empty_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGitHub_UserInfo/admin_mapping_takes_precedence_over_auto_assign_org_role (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_map_role_when_role_attribute_path_is_set (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_return_empty_role_when_skip_org_role_sync_is_true (0.00s)
--- PASS: TestSocialGitHub_UserInfo/Should_return_nil_pointer_if_allowGrafanaAdmin_and_skipOrgRoleSync_setting_is_set_to_true (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_fallback_to_default_org_role_when_role_attribute_path_is_empty_and_auto_assign_org_role_is_set (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_check_parent_team_id_for_team_membership (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_map_role_when_only_org_mapping_is_set (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGitHub_UserInfo/should_fetch_email_and_allowed_orgs (0.00s)
=== RUN   TestSocialGitHub_InitializeExtraFields
=== RUN   TestSocialGitHub_InitializeExtraFields/teamIds_is_set
=== RUN   TestSocialGitHub_InitializeExtraFields/allowedOrganizations_is_set
=== RUN   TestSocialGitHub_InitializeExtraFields/teamIds_and_allowedOrganizations_are_empty
=== RUN   TestSocialGitHub_InitializeExtraFields/should_not_error_when_teamIds_are_not_integers
--- PASS: TestSocialGitHub_InitializeExtraFields (0.00s)
--- PASS: TestSocialGitHub_InitializeExtraFields/teamIds_is_set (0.00s)
--- PASS: TestSocialGitHub_InitializeExtraFields/allowedOrganizations_is_set (0.00s)
--- PASS: TestSocialGitHub_InitializeExtraFields/teamIds_and_allowedOrganizations_are_empty (0.00s)
--- PASS: TestSocialGitHub_InitializeExtraFields/should_not_error_when_teamIds_are_not_integers (0.00s)
=== RUN   TestSocialGitHub_Validate
=== RUN   TestSocialGitHub_Validate/SSOSettings_is_valid
=== RUN   TestSocialGitHub_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialGitHub_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialGitHub_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialGitHub_Validate/fails_if_team_ids_are_not_integers
=== RUN   TestSocialGitHub_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled
=== RUN   TestSocialGitHub_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
=== RUN   TestSocialGitHub_Validate/fails_if_token_url_is_not_empty
=== RUN   TestSocialGitHub_Validate/fails_if_auth_url_is_not_empty
=== RUN   TestSocialGitHub_Validate/fails_if_api_url_is_not_empty
--- PASS: TestSocialGitHub_Validate (0.00s)
--- PASS: TestSocialGitHub_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_team_ids_are_not_integers (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_token_url_is_not_empty (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_auth_url_is_not_empty (0.00s)
--- PASS: TestSocialGitHub_Validate/fails_if_api_url_is_not_empty (0.00s)
=== RUN   TestSocialGitHub_Reload
=== RUN   TestSocialGitHub_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialGitHub_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialGitHub_Reload (0.00s)
--- PASS: TestSocialGitHub_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialGitHub_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestGitHub_Reload_ExtraFields
=== RUN   TestGitHub_Reload_ExtraFields/successfully_reloads_the_settings
--- PASS: TestGitHub_Reload_ExtraFields (0.00s)
--- PASS: TestGitHub_Reload_ExtraFields/successfully_reloads_the_settings (0.00s)
=== RUN   TestSocialGitlab_UserInfo
=== RUN   TestSocialGitlab_UserInfo/Server_Admin_Allowed
=== RUN   TestSocialGitlab_UserInfo/Server_Admin_Disabled
=== RUN   TestSocialGitlab_UserInfo/Editor
=== RUN   TestSocialGitlab_UserInfo/Should_not_sync_role,_return_empty_role_and_nil_pointer_for_GrafanaAdmin_for_skip_org_role_sync_set_to_true
=== RUN   TestSocialGitlab_UserInfo/No_fallback_to_default_org_role
=== RUN   TestSocialGitlab_UserInfo/Strict_mode_prevents_fallback_to_default
=== RUN   TestSocialGitlab_UserInfo/Fallback_with_no_default_will_create_a_user_with_a_default_role
=== RUN   TestSocialGitlab_UserInfo/Strict_mode_with_no_attribute_path
=== RUN   TestSocialGitlab_UserInfo/Should_map_role_when_only_org_mapping_is_set
=== RUN   TestSocialGitlab_UserInfo/Should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGitlab_UserInfo/Should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGitlab_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled
--- PASS: TestSocialGitlab_UserInfo (0.01s)
--- PASS: TestSocialGitlab_UserInfo/Server_Admin_Allowed (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Server_Admin_Disabled (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Editor (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Should_not_sync_role,_return_empty_role_and_nil_pointer_for_GrafanaAdmin_for_skip_org_role_sync_set_to_true (0.00s)
--- PASS: TestSocialGitlab_UserInfo/No_fallback_to_default_org_role (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Strict_mode_prevents_fallback_to_default (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Fallback_with_no_default_will_create_a_user_with_a_default_role (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Strict_mode_with_no_attribute_path (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Should_map_role_when_only_org_mapping_is_set (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGitlab_UserInfo/Should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGitlab_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
=== RUN   TestSocialGitlab_extractFromToken
=== RUN   TestSocialGitlab_extractFromToken/successful_extraction
=== RUN   TestSocialGitlab_extractFromToken/unverified_email
=== RUN   TestSocialGitlab_extractFromToken/unable_to_reach_userinfo_endpoint
--- PASS: TestSocialGitlab_extractFromToken (0.00s)
--- PASS: TestSocialGitlab_extractFromToken/successful_extraction (0.00s)
--- PASS: TestSocialGitlab_extractFromToken/unverified_email (0.00s)
--- PASS: TestSocialGitlab_extractFromToken/unable_to_reach_userinfo_endpoint (0.00s)
=== RUN   TestSocialGitlab_GetGroupsNextPage
--- PASS: TestSocialGitlab_GetGroupsNextPage (0.00s)
=== RUN   TestSocialGitlab_Validate
=== RUN   TestSocialGitlab_Validate/SSOSettings_is_valid
=== RUN   TestSocialGitlab_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialGitlab_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialGitlab_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialGitlab_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled
=== RUN   TestSocialGitlab_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
=== RUN   TestSocialGitlab_Validate/fails_if_api_url_is__not_empty
=== RUN   TestSocialGitlab_Validate/fails_if_auth_url_is_not_empty
=== RUN   TestSocialGitlab_Validate/fails_if_token_url_is_not_empty
--- PASS: TestSocialGitlab_Validate (0.00s)
--- PASS: TestSocialGitlab_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_api_url_is__not_empty (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_auth_url_is_not_empty (0.00s)
--- PASS: TestSocialGitlab_Validate/fails_if_token_url_is_not_empty (0.00s)
=== RUN   TestSocialGitlab_Reload
=== RUN   TestSocialGitlab_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialGitlab_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialGitlab_Reload (0.00s)
--- PASS: TestSocialGitlab_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialGitlab_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestSocialGoogle_retrieveGroups
=== RUN   TestSocialGoogle_retrieveGroups/No_scope
=== RUN   TestSocialGoogle_retrieveGroups/No_groups
=== RUN   TestSocialGoogle_retrieveGroups/error_retrieving_groups
=== RUN   TestSocialGoogle_retrieveGroups/Has_2_pages_to_fetch
=== RUN   TestSocialGoogle_retrieveGroups/Has_one_page_to_fetch
--- PASS: TestSocialGoogle_retrieveGroups (0.00s)
--- PASS: TestSocialGoogle_retrieveGroups/No_scope (0.00s)
--- PASS: TestSocialGoogle_retrieveGroups/No_groups (0.00s)
--- PASS: TestSocialGoogle_retrieveGroups/error_retrieving_groups (0.00s)
--- PASS: TestSocialGoogle_retrieveGroups/Has_2_pages_to_fetch (0.00s)
--- PASS: TestSocialGoogle_retrieveGroups/Has_one_page_to_fetch (0.00s)
=== RUN   TestSocialGoogle_UserInfo
=== RUN   TestSocialGoogle_UserInfo/Success_id_token
=== RUN   TestSocialGoogle_UserInfo/Success_id_token_-_groups_requested
=== RUN   TestSocialGoogle_UserInfo/Legacy_API_URL
=== RUN   TestSocialGoogle_UserInfo/Legacy_API_URL_-_no_id_provided
=== RUN   TestSocialGoogle_UserInfo/Error_unmarshalling_legacy_user_info
=== RUN   TestSocialGoogle_UserInfo/Error_getting_user_info
=== RUN   TestSocialGoogle_UserInfo/Error_unmarshalling_user_info
=== RUN   TestSocialGoogle_UserInfo/Success
=== RUN   TestSocialGoogle_UserInfo/Unverified_Email_userinfo
=== RUN   TestSocialGoogle_UserInfo/not_in_allowed_Groups
=== RUN   TestSocialGoogle_UserInfo/Role_mapping_-_strict
=== RUN   TestSocialGoogle_UserInfo/role_mapping_from_id_token_-_no_allowed_assign_Grafana_Admin
=== RUN   TestSocialGoogle_UserInfo/role_mapping_from_id_token_-_allowed_assign_Grafana_Admin
=== RUN   TestSocialGoogle_UserInfo/mapping_from_groups
=== RUN   TestSocialGoogle_UserInfo/mapping_from_groups#01
=== RUN   TestSocialGoogle_UserInfo/Should_map_role_when_only_org_mapping_is_set
=== RUN   TestSocialGoogle_UserInfo/Should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled
=== RUN   TestSocialGoogle_UserInfo/Should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled
--- PASS: TestSocialGoogle_UserInfo (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Success_id_token (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Success_id_token_-_groups_requested (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Legacy_API_URL (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Legacy_API_URL_-_no_id_provided (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Error_unmarshalling_legacy_user_info (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Error_getting_user_info (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Error_unmarshalling_user_info (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Success (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Unverified_Email_userinfo (0.00s)
--- PASS: TestSocialGoogle_UserInfo/not_in_allowed_Groups (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Role_mapping_-_strict (0.00s)
--- PASS: TestSocialGoogle_UserInfo/role_mapping_from_id_token_-_no_allowed_assign_Grafana_Admin (0.00s)
--- PASS: TestSocialGoogle_UserInfo/role_mapping_from_id_token_-_allowed_assign_Grafana_Admin (0.00s)
--- PASS: TestSocialGoogle_UserInfo/mapping_from_groups (0.00s)
--- PASS: TestSocialGoogle_UserInfo/mapping_from_groups#01 (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Should_map_role_when_only_org_mapping_is_set (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialGoogle_UserInfo/Should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
=== RUN   TestSocialGoogle_Validate
=== RUN   TestSocialGoogle_Validate/SSOSettings_is_valid
=== RUN   TestSocialGoogle_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialGoogle_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialGoogle_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialGoogle_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled
=== RUN   TestSocialGoogle_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
=== RUN   TestSocialGoogle_Validate/fails_if_api_url_is_not_empty
=== RUN   TestSocialGoogle_Validate/fails_if_token_url_is_empty
=== RUN   TestSocialGoogle_Validate/fails_if_auth_url_is_not_empty
=== RUN   TestSocialGoogle_Validate/fails_if_api_token_url_is_not_empty
--- PASS: TestSocialGoogle_Validate (0.00s)
--- PASS: TestSocialGoogle_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_api_url_is_not_empty (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_token_url_is_empty (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_auth_url_is_not_empty (0.00s)
--- PASS: TestSocialGoogle_Validate/fails_if_api_token_url_is_not_empty (0.00s)
=== RUN   TestSocialGoogle_Reload
=== RUN   TestSocialGoogle_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialGoogle_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialGoogle_Reload (0.00s)
--- PASS: TestSocialGoogle_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialGoogle_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestIsHDAllowed
=== RUN   TestIsHDAllowed/should_not_fail_if_no_allowed_domains_are_set
=== RUN   TestIsHDAllowed/should_not_fail_if_email_is_from_allowed_domain
=== RUN   TestIsHDAllowed/should_fail_if_email_is_not_from_allowed_domain
=== RUN   TestIsHDAllowed/should_not_fail_if_the_HD_validation_is_disabled_and_the_email_not_being_from_an_allowed_domain
--- PASS: TestIsHDAllowed (0.00s)
--- PASS: TestIsHDAllowed/should_not_fail_if_no_allowed_domains_are_set (0.00s)
--- PASS: TestIsHDAllowed/should_not_fail_if_email_is_from_allowed_domain (0.00s)
--- PASS: TestIsHDAllowed/should_fail_if_email_is_not_from_allowed_domain (0.00s)
--- PASS: TestIsHDAllowed/should_not_fail_if_the_HD_validation_is_disabled_and_the_email_not_being_from_an_allowed_domain (0.00s)
=== RUN   TestSocialGrafanaCom_UserInfo
=== RUN   TestSocialGrafanaCom_UserInfo/should_return_empty_OrgRoles_when_skip_org_role_sync_is_enabled
=== RUN   TestSocialGrafanaCom_UserInfo/should_return_OrgRoles_when_skip_org_role_sync_is_disabled
--- PASS: TestSocialGrafanaCom_UserInfo (0.00s)
--- PASS: TestSocialGrafanaCom_UserInfo/should_return_empty_OrgRoles_when_skip_org_role_sync_is_enabled (0.00s)
--- PASS: TestSocialGrafanaCom_UserInfo/should_return_OrgRoles_when_skip_org_role_sync_is_disabled (0.00s)
=== RUN   TestSocialGrafanaCom_InitializeExtraFields
=== RUN   TestSocialGrafanaCom_InitializeExtraFields/allowedOrganizations_is_not_set
=== RUN   TestSocialGrafanaCom_InitializeExtraFields/allowedOrganizations_is_set
--- PASS: TestSocialGrafanaCom_InitializeExtraFields (0.00s)
--- PASS: TestSocialGrafanaCom_InitializeExtraFields/allowedOrganizations_is_not_set (0.00s)
--- PASS: TestSocialGrafanaCom_InitializeExtraFields/allowedOrganizations_is_set (0.00s)
=== RUN   TestSocialGrafanaCom_Validate
=== RUN   TestSocialGrafanaCom_Validate/SSOSettings_is_valid
=== RUN   TestSocialGrafanaCom_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialGrafanaCom_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialGrafanaCom_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialGrafanaCom_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
--- PASS: TestSocialGrafanaCom_Validate (0.00s)
--- PASS: TestSocialGrafanaCom_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialGrafanaCom_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialGrafanaCom_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialGrafanaCom_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialGrafanaCom_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
=== RUN   TestSocialGrafanaCom_Reload
=== RUN   TestSocialGrafanaCom_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialGrafanaCom_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialGrafanaCom_Reload (0.00s)
--- PASS: TestSocialGrafanaCom_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialGrafanaCom_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestSocialGrafanaCom_Reload_ExtraFields
=== RUN   TestSocialGrafanaCom_Reload_ExtraFields/successfully_reloads_the_allowed_organizations_when_they_are_set_in_the_settings
--- PASS: TestSocialGrafanaCom_Reload_ExtraFields (0.00s)
--- PASS: TestSocialGrafanaCom_Reload_ExtraFields/successfully_reloads_the_allowed_organizations_when_they_are_set_in_the_settings (0.00s)
=== RUN   TestSocialOkta_UserInfo
=== RUN   TestSocialOkta_UserInfo/should_give_role_from_JSON_and_email_from_id_token
=== RUN   TestSocialOkta_UserInfo/should_give_empty_role_and_nil_pointer_for_GrafanaAdmin_when_skip_org_role_sync_enable
=== RUN   TestSocialOkta_UserInfo/should_give_grafanaAdmin_role_for_specific_GrafanaAdmin_in_the_role_assignement
=== RUN   TestSocialOkta_UserInfo/should_fallback_to_default_org_role_when_role_attribute_path_is_empty
=== RUN   TestSocialOkta_UserInfo/should_map_role_when_only_org_mapping_is_set
=== RUN   TestSocialOkta_UserInfo/should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled
=== RUN   TestSocialOkta_UserInfo/should_return_nil_OrgRoles_when_SkipOrgRoleSync_is_enabled
=== RUN   TestSocialOkta_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled
=== RUN   TestSocialOkta_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled
--- PASS: TestSocialOkta_UserInfo (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_give_role_from_JSON_and_email_from_id_token (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_give_empty_role_and_nil_pointer_for_GrafanaAdmin_when_skip_org_role_sync_enable (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_give_grafanaAdmin_role_for_specific_GrafanaAdmin_in_the_role_assignement (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_fallback_to_default_org_role_when_role_attribute_path_is_empty (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_map_role_when_only_org_mapping_is_set (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_map_role_when_only_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_return_nil_OrgRoles_when_SkipOrgRoleSync_is_enabled (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_evaluates_to_a_role_and_role_attribute_strict_is_enabled (0.00s)
--- PASS: TestSocialOkta_UserInfo/should_return_error_when_neither_role_attribute_path_nor_org_mapping_is_set_and_role_attribute_strict_is_enabled (0.00s)
=== RUN   TestSocialOkta_Validate
=== RUN   TestSocialOkta_Validate/SSOSettings_is_valid
=== RUN   TestSocialOkta_Validate/fails_if_settings_map_contains_an_invalid_field
=== RUN   TestSocialOkta_Validate/fails_if_client_id_is_empty
=== RUN   TestSocialOkta_Validate/fails_if_client_id_does_not_exist
=== RUN   TestSocialOkta_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled
=== RUN   TestSocialOkta_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin
=== RUN   TestSocialOkta_Validate/fails_if_auth_url_is_empty
=== RUN   TestSocialOkta_Validate/fails_if_token_url_is_empty
=== RUN   TestSocialOkta_Validate/fails_if_auth_url_is_invalid
=== RUN   TestSocialOkta_Validate/fails_if_token_url_is_invalid
=== RUN   TestSocialOkta_Validate/fails_if_api_url_is_empty
=== RUN   TestSocialOkta_Validate/fails_if_api_url_is_invalid
--- PASS: TestSocialOkta_Validate (0.00s)
--- PASS: TestSocialOkta_Validate/SSOSettings_is_valid (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_settings_map_contains_an_invalid_field (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_client_id_is_empty (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_client_id_does_not_exist (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_both_allow_assign_grafana_admin_and_skip_org_role_sync_are_enabled (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_the_user_is_not_allowed_to_update_allow_assign_grafana_admin (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_auth_url_is_empty (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_token_url_is_empty (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_auth_url_is_invalid (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_token_url_is_invalid (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_api_url_is_empty (0.00s)
--- PASS: TestSocialOkta_Validate/fails_if_api_url_is_invalid (0.00s)
=== RUN   TestSocialOkta_Reload
=== RUN   TestSocialOkta_Reload/SSO_provider_successfully_updated
=== RUN   TestSocialOkta_Reload/fails_if_settings_contain_invalid_values
--- PASS: TestSocialOkta_Reload (0.00s)
--- PASS: TestSocialOkta_Reload/SSO_provider_successfully_updated (0.00s)
--- PASS: TestSocialOkta_Reload/fails_if_settings_contain_invalid_values (0.00s)
=== RUN   TestOrgRoleMapper_MapOrgRoles
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_the_default_mapping_when_no_org_mapping_settings_are_provided_and_directly_mapped_role_is_not_set
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_the_default_mapping_when_no_org_mapping_settings_are_provided_and_direcly_mapped_role_is_set
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_the_default_mapping_when_org_mapping_doesn't_match_any_of_the_external_orgs_and_no_directly_mapped_role_is_provided
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_Viewer_role_for_the_org_if_the_specified_role_is_invalid
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_nil_when_no_org_mapping_settings_are_provided_and_directly_mapped_role_is_not_set_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_nil_when_org_mapping_doesn't_match_any_of_the_external_orgs_and_no_directly_mapped_role_is_provided_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_nil_for_the_org_if_the_specified_role_is_invalid_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_the_directly_mapped_role_to_default_org_if_the_org_mapping_is_invalid_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_return_nil_if_the_org_mapping_contains_at_least_one_invalid_setting_and_directly_mapped_role_is_empty_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_the_directly_mapped_role_if_the_org_mapping_contains_at_least_one_invalid_setting_and_strict_role_mapping_is_disabled
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_the_higher_role_if_directly_mapped_role_is_lower_than_the_role_found_in_the_org_mapping
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_the_directly_mapped_role_if_it_is_higher_than_the_role_found_in_the_org_mapping
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_to_multiple_organizations_and_set_the_directly_mapped_role_for_those_if_it_is_higher_than_the_role_found_in_the_org_mapping
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_to_multiple_organizations_and_set_the_directly_mapped_role_for_those_if_the_directly_mapped_role_is_not_set
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_to_all_of_the_organizations_if_global_org_mapping_is_provided_and_the_directly_mapped_role_is_set
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_to_all_of_the_organizations_if_global_org_mapping_is_provided_and_the_directly_mapped_role_is_not_set
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_to_all_of_the_organizations_if_global_org_mapping_is_provided_and_the_directly_mapped_role_is_higher_than_the_role_found_in_the_org_mappings
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_correctly_when_fallback_org_mapping_is_provided_and_fallback_has_a_higher_role
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_correctly_when_fallback_org_mapping_is_provided_and_fallback_has_a_lower_role
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_correctly_and_respect_wildcard_precedence_when_global_org_mapping_is_provided
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_directly_mapped_role_when_global_org_mapping_is_provided_and_the_directly_mapped_role_is_higher_than_the_role_found_in_the_org_mappings
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_correctly_and_respect_the_mapping_precedence_when_multiple_org_mappings_are_provided_for_the_same_org
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_map_to_all_organizations_when_global_org_mapping_is_provided_and_the_directly_mapped_role_is_higher_than_the_role_found_in_the_org_mappings
=== RUN   TestOrgRoleMapper_MapOrgRoles/should_skip_map_to_all_organizations_if_org_service_returns_an_error
--- PASS: TestOrgRoleMapper_MapOrgRoles (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_the_default_mapping_when_no_org_mapping_settings_are_provided_and_directly_mapped_role_is_not_set (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_the_default_mapping_when_no_org_mapping_settings_are_provided_and_direcly_mapped_role_is_set (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_the_default_mapping_when_org_mapping_doesn't_match_any_of_the_external_orgs_and_no_directly_mapped_role_is_provided (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_Viewer_role_for_the_org_if_the_specified_role_is_invalid (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_nil_when_no_org_mapping_settings_are_provided_and_directly_mapped_role_is_not_set_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_nil_when_org_mapping_doesn't_match_any_of_the_external_orgs_and_no_directly_mapped_role_is_provided_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_nil_for_the_org_if_the_specified_role_is_invalid_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_the_directly_mapped_role_to_default_org_if_the_org_mapping_is_invalid_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_return_nil_if_the_org_mapping_contains_at_least_one_invalid_setting_and_directly_mapped_role_is_empty_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_the_directly_mapped_role_if_the_org_mapping_contains_at_least_one_invalid_setting_and_strict_role_mapping_is_disabled (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_the_higher_role_if_directly_mapped_role_is_lower_than_the_role_found_in_the_org_mapping (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_the_directly_mapped_role_if_it_is_higher_than_the_role_found_in_the_org_mapping (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_to_multiple_organizations_and_set_the_directly_mapped_role_for_those_if_it_is_higher_than_the_role_found_in_the_org_mapping (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_to_multiple_organizations_and_set_the_directly_mapped_role_for_those_if_the_directly_mapped_role_is_not_set (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_to_all_of_the_organizations_if_global_org_mapping_is_provided_and_the_directly_mapped_role_is_set (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_to_all_of_the_organizations_if_global_org_mapping_is_provided_and_the_directly_mapped_role_is_not_set (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_to_all_of_the_organizations_if_global_org_mapping_is_provided_and_the_directly_mapped_role_is_higher_than_the_role_found_in_the_org_mappings (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_correctly_when_fallback_org_mapping_is_provided_and_fallback_has_a_higher_role (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_correctly_when_fallback_org_mapping_is_provided_and_fallback_has_a_lower_role (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_correctly_and_respect_wildcard_precedence_when_global_org_mapping_is_provided (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_directly_mapped_role_when_global_org_mapping_is_provided_and_the_directly_mapped_role_is_higher_than_the_role_found_in_the_org_mappings (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_correctly_and_respect_the_mapping_precedence_when_multiple_org_mappings_are_provided_for_the_same_org (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_map_to_all_organizations_when_global_org_mapping_is_provided_and_the_directly_mapped_role_is_higher_than_the_role_found_in_the_org_mappings (0.00s)
--- PASS: TestOrgRoleMapper_MapOrgRoles/should_skip_map_to_all_organizations_if_org_service_returns_an_error (0.00s)
=== RUN   TestOrgRoleMapper_MapOrgRoles_ReturnsDefaultOnNilMapping
--- PASS: TestOrgRoleMapper_MapOrgRoles_ReturnsDefaultOnNilMapping (0.00s)
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_no_org_mapping_settings_are_provided
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_role_is_invalid_and_role_strict_is_enabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_correct_mapping_when_org_mapping_part_is_missing_from_a_mapping_and_role_strict_is_disabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_default_mapping_when_role_is_invalid_and_strict_role_mapping_is_disabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_org_mapping_doesn't_contain_any_role_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_default_mapping_when_org_mapping_doesn't_contain_any_role_and_strict_is_disabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_correct_mapping_when_the_first_part_contains_multiple_colons
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_correct_mapping_when_the_org_name_contains_multiple_colons
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_org_mapping_is_nil
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_one_of_the_org_mappings_are_not_in_the_correct_format_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_skip_org_mapping_when_one_of_the_org_mappings_are_not_in_the_correct_format_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_if_at_least_one_org_was_not_found_or_the_resolution_failed_and_strict_role_mapping_is_enabled
=== RUN   TestOrgRoleMapper_ParseOrgMappingSettings/should_skip_org_mapping_if_org_was_not_found_or_the_resolution_fails_and_strict_role_mapping_is_disabled
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_no_org_mapping_settings_are_provided (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_role_is_invalid_and_role_strict_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_correct_mapping_when_org_mapping_part_is_missing_from_a_mapping_and_role_strict_is_disabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_default_mapping_when_role_is_invalid_and_strict_role_mapping_is_disabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_org_mapping_doesn't_contain_any_role_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_default_mapping_when_org_mapping_doesn't_contain_any_role_and_strict_is_disabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_correct_mapping_when_the_first_part_contains_multiple_colons (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_correct_mapping_when_the_org_name_contains_multiple_colons (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_org_mapping_is_nil (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_when_one_of_the_org_mappings_are_not_in_the_correct_format_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_skip_org_mapping_when_one_of_the_org_mappings_are_not_in_the_correct_format_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_return_empty_mapping_if_at_least_one_org_was_not_found_or_the_resolution_failed_and_strict_role_mapping_is_enabled (0.00s)
--- PASS: TestOrgRoleMapper_ParseOrgMappingSettings/should_skip_org_mapping_if_org_was_not_found_or_the_resolution_fails_and_strict_role_mapping_is_disabled (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/login/social/connectors	(cached)
=== RUN   TestSocialService_ProvideService
=== RUN   TestSocialService_ProvideService/should_load_only_enabled_social_connectors_when_ssoSettingsApi_is_disabled
=== RUN   TestSocialService_ProvideService/should_load_all_social_connectors_when_ssoSettingsApi_is_enabled
--- PASS: TestSocialService_ProvideService (0.29s)
--- PASS: TestSocialService_ProvideService/should_load_only_enabled_social_connectors_when_ssoSettingsApi_is_disabled (0.00s)
--- PASS: TestSocialService_ProvideService/should_load_all_social_connectors_when_ssoSettingsApi_is_enabled (0.00s)
=== RUN   TestSocialService_ProvideService_GrafanaComGrafanaNet
=== RUN   TestSocialService_ProvideService_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_it_is_enabled
=== RUN   TestSocialService_ProvideService_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafananet_section_if_it_is_enabled
=== RUN   TestSocialService_ProvideService_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_both_are_enabled
=== RUN   TestSocialService_ProvideService_GrafanaComGrafanaNet/should_not_setup_the_connector_when_both_are_disabled
--- PASS: TestSocialService_ProvideService_GrafanaComGrafanaNet (0.01s)
--- PASS: TestSocialService_ProvideService_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_it_is_enabled (0.00s)
--- PASS: TestSocialService_ProvideService_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafananet_section_if_it_is_enabled (0.00s)
--- PASS: TestSocialService_ProvideService_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_both_are_enabled (0.00s)
--- PASS: TestSocialService_ProvideService_GrafanaComGrafanaNet/should_not_setup_the_connector_when_both_are_disabled (0.00s)
=== RUN   TestMapping_IniSectionOAuthInfo
--- PASS: TestMapping_IniSectionOAuthInfo (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/login/social/socialimpl	(cached)
?   	github.com/grafana/grafana/pkg/login/social/socialtest	[no test files]
=== RUN   TestAuth_Middleware
=== RUN   TestAuth_Middleware/ReqSignedIn_should_redirect_unauthenticated_request_to_secure_endpoint
=== RUN   TestAuth_Middleware/ReqSignedIn_should_return_401_for_api_endpint
=== RUN   TestAuth_Middleware/ReqSignedIn_should_return_200_for_anonymous_user
=== RUN   TestAuth_Middleware/ReqSignedIn_should_return_redirect_anonymous_user_with_forceLogin_query_string
=== RUN   TestAuth_Middleware/ReqSignedIn_should_return_redirect_anonymous_user_when_orgId_in_query_string_is_different_from_currently_used
=== RUN   TestAuth_Middleware/ReqSignedInNoAnonymous_should_return_401_for_anonymous_user
=== RUN   TestAuth_Middleware/ReqSignedInNoAnonymous_should_return_200_for_authenticated_user
=== RUN   TestAuth_Middleware/snapshot_public_mode_disabled_should_return_200_for_authenticated_user
=== RUN   TestAuth_Middleware/snapshot_public_mode_disabled_should_return_401_for_unauthenticated_request
=== RUN   TestAuth_Middleware/snapshot_public_mode_enabled_should_return_200_for_unauthenticated_request
--- PASS: TestAuth_Middleware (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedIn_should_redirect_unauthenticated_request_to_secure_endpoint (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedIn_should_return_401_for_api_endpint (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedIn_should_return_200_for_anonymous_user (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedIn_should_return_redirect_anonymous_user_with_forceLogin_query_string (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedIn_should_return_redirect_anonymous_user_when_orgId_in_query_string_is_different_from_currently_used (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedInNoAnonymous_should_return_401_for_anonymous_user (0.00s)
--- PASS: TestAuth_Middleware/ReqSignedInNoAnonymous_should_return_200_for_authenticated_user (0.00s)
--- PASS: TestAuth_Middleware/snapshot_public_mode_disabled_should_return_200_for_authenticated_user (0.00s)
--- PASS: TestAuth_Middleware/snapshot_public_mode_disabled_should_return_401_for_unauthenticated_request (0.00s)
--- PASS: TestAuth_Middleware/snapshot_public_mode_enabled_should_return_200_for_unauthenticated_request (0.00s)
=== RUN   TestRoleAppPluginAuth
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_0
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_0/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_0
auth_test.go:213: Decoded JSON json map[]
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_1
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_1/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_1
auth_test.go:213: Decoded JSON json map[]
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_2
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_2/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_2
auth_test.go:213: Not decoding JSON
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_3
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_3/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_3
auth_test.go:213: Decoded JSON json map[]
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_4
=== RUN   TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_4/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_4
auth_test.go:213: Not decoding JSON
=== RUN   TestRoleAppPluginAuth/Plugin_is_not_found_returns_success
auth_test.go:234: Decoded JSON json map[]
=== RUN   TestRoleAppPluginAuth/Plugin_page_not_found_returns_success
auth_test.go:262: Decoded JSON json map[]
=== RUN   TestRoleAppPluginAuth/Plugin_include_with_RBAC
=== RUN   TestRoleAppPluginAuth/Plugin_include_with_RBAC/Plugin_include_with_RBAC
auth_test.go:329: Not decoding JSON
=== RUN   TestRoleAppPluginAuth/Plugin_include_with_RBAC/Plugin_include_with_RBAC#01
auth_test.go:329: Not decoding JSON
=== RUN   TestRoleAppPluginAuth/Plugin_include_with_RBAC/Plugin_include_with_RBAC#02
auth_test.go:329: Decoded JSON json map[]
--- PASS: TestRoleAppPluginAuth (0.01s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_0 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_0/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_0 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_1 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_1/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_1 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_2 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_2/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_2 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_3 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_3/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_3 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_4 (0.00s)
--- PASS: TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_4/TestRoleAppPluginAuth/Verify_user's_role_when_requesting_app_route_which_requires_role/testcase_4 (0.00s)
--- PASS: TestRoleAppPluginAuth/Plugin_is_not_found_returns_success (0.00s)
--- PASS: TestRoleAppPluginAuth/Plugin_page_not_found_returns_success (0.00s)
--- PASS: TestRoleAppPluginAuth/Plugin_include_with_RBAC (0.00s)
--- PASS: TestRoleAppPluginAuth/Plugin_include_with_RBAC/Plugin_include_with_RBAC (0.00s)
--- PASS: TestRoleAppPluginAuth/Plugin_include_with_RBAC/Plugin_include_with_RBAC#01 (0.00s)
--- PASS: TestRoleAppPluginAuth/Plugin_include_with_RBAC/Plugin_include_with_RBAC#02 (0.00s)
=== RUN   TestRemoveForceLoginparams
=== RUN   TestRemoveForceLoginparams/testcase_0
=== RUN   TestRemoveForceLoginparams/testcase_1
=== RUN   TestRemoveForceLoginparams/testcase_2
=== RUN   TestRemoveForceLoginparams/testcase_3
=== RUN   TestRemoveForceLoginparams/testcase_4
=== RUN   TestRemoveForceLoginparams/testcase_5
--- PASS: TestRemoveForceLoginparams (0.00s)
--- PASS: TestRemoveForceLoginparams/testcase_0 (0.00s)
--- PASS: TestRemoveForceLoginparams/testcase_1 (0.00s)
--- PASS: TestRemoveForceLoginparams/testcase_2 (0.00s)
--- PASS: TestRemoveForceLoginparams/testcase_3 (0.00s)
--- PASS: TestRemoveForceLoginparams/testcase_4 (0.00s)
--- PASS: TestRemoveForceLoginparams/testcase_5 (0.00s)
=== RUN   TestCanAdminPlugin
=== RUN   TestCanAdminPlugin/CanAdminPlugins_should_redirect_to_login_when_anonymous_is_enabled,_no_user_signed_in,_and_forceLogin_is_present_in_the_query_param
=== RUN   TestCanAdminPlugin/CanAdminPlugins_should_bypass_when_user_is_signed_in
=== RUN   TestCanAdminPlugin/CanAdminPlugins_should_return_forbidden_error_when_role_is_not_present
--- PASS: TestCanAdminPlugin (0.00s)
--- PASS: TestCanAdminPlugin/CanAdminPlugins_should_redirect_to_login_when_anonymous_is_enabled,_no_user_signed_in,_and_forceLogin_is_present_in_the_query_param (0.00s)
--- PASS: TestCanAdminPlugin/CanAdminPlugins_should_bypass_when_user_is_signed_in (0.00s)
--- PASS: TestCanAdminPlugin/CanAdminPlugins_should_return_forbidden_error_when_role_is_not_present (0.00s)
=== RUN   TestMiddlewareDashboardRedirect_legacyEditPanel
=== RUN   TestMiddlewareDashboardRedirect_legacyEditPanel/GET_dashboard_by_legacy_edit_URL
middleware_test.go:268: Default HTTP handler called
dashboard_redirect_test.go:15: Not decoding JSON
--- PASS: TestMiddlewareDashboardRedirect_legacyEditPanel (0.00s)
--- PASS: TestMiddlewareDashboardRedirect_legacyEditPanel/GET_dashboard_by_legacy_edit_URL (0.00s)
=== RUN   TestMiddleWareSecurityHeaders
=== RUN   TestMiddleWareSecurityHeaders/middleware_should_get_correct_x-xss-protection_header
middleware_test.go:30: Not decoding JSON
=== RUN   TestMiddleWareSecurityHeaders/middleware_should_not_get_x-xss-protection_when_disabled
middleware_test.go:37: Not decoding JSON
=== RUN   TestMiddleWareSecurityHeaders/middleware_should_add_correct_Strict-Transport-Security_header
middleware_test.go:44: Not decoding JSON
middleware_test.go:47: Not decoding JSON
middleware_test.go:50: Not decoding JSON
--- PASS: TestMiddleWareSecurityHeaders (0.00s)
--- PASS: TestMiddleWareSecurityHeaders/middleware_should_get_correct_x-xss-protection_header (0.00s)
--- PASS: TestMiddleWareSecurityHeaders/middleware_should_not_get_x-xss-protection_when_disabled (0.00s)
--- PASS: TestMiddleWareSecurityHeaders/middleware_should_add_correct_Strict-Transport-Security_header (0.00s)
=== RUN   TestMiddleWareContentSecurityPolicyHeaders
=== RUN   TestMiddleWareContentSecurityPolicyHeaders/middleware_should_add_Content-Security-Policy
middleware_test.go:62: Not decoding JSON
=== RUN   TestMiddleWareContentSecurityPolicyHeaders/middleware_should_add_Content-Security-Policy-Report-Only
middleware_test.go:71: Not decoding JSON
=== RUN   TestMiddleWareContentSecurityPolicyHeaders/middleware_can_add_both_CSP_and_CSP-Report-Only
middleware_test.go:80: Not decoding JSON
--- PASS: TestMiddleWareContentSecurityPolicyHeaders (0.00s)
--- PASS: TestMiddleWareContentSecurityPolicyHeaders/middleware_should_add_Content-Security-Policy (0.00s)
--- PASS: TestMiddleWareContentSecurityPolicyHeaders/middleware_should_add_Content-Security-Policy-Report-Only (0.00s)
--- PASS: TestMiddleWareContentSecurityPolicyHeaders/middleware_can_add_both_CSP_and_CSP-Report-Only (0.00s)
=== RUN   TestMiddlewareContext
=== RUN   TestMiddlewareContext/middleware_should_add_context_to_injector
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
middleware_test.go:103: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareContext/Default_middleware_should_allow_get_request
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
middleware_test.go:108: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareContext/middleware_should_add_Cache-Control_header_for_requests_to_API
middleware_test.go:113: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_pass_cache-control_on_datasource_resources_with_private_cache_control
middleware_test.go:123: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_not_pass_cache-control_on_datasource_resources_with_public_cache_control
middleware_test.go:131: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_pass_cache-control_on_plugins_resources_with_private_cache_control
middleware_test.go:139: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_not_pass_cache-control_on_plugins_resources_with_public_cache_control
middleware_test.go:147: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_not_add_Cache-Control_header_for_requests_to_datasource_proxy_API
middleware_test.go:153: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_add_Cache-Control_header_for_requests_with_HTML_response
middleware_test.go:268: Default HTTP handler called
middleware_test.go:162: Handler called
middleware_test.go:173: Calling HTML data &{0xc0027acb40 0xc00150a708     false  0xc001dc21c8    false         false false  false 0xc0024bcc60}
middleware_test.go:175: Returned HTML with code 200
middleware_test.go:177: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_add_X-Frame-Options_header_with_deny_for_request_when_not_allowing_embedding
middleware_test.go:186: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_not_add_X-Frame-Options_header_for_request_when_allowing_embedding
middleware_test.go:192: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_add_custom_response_headers
middleware_test.go:199: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_not_add_Cache-Control_header_for_requests_to_render_pdf
middleware_test.go:211: Not decoding JSON
=== RUN   TestMiddlewareContext/middleware_should_not_add_Cache-Control_header_for_requests_to_render_panel_as_image
middleware_test.go:219: Not decoding JSON
--- PASS: TestMiddlewareContext (0.01s)
--- PASS: TestMiddlewareContext/middleware_should_add_context_to_injector (0.00s)
--- PASS: TestMiddlewareContext/Default_middleware_should_allow_get_request (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_add_Cache-Control_header_for_requests_to_API (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_pass_cache-control_on_datasource_resources_with_private_cache_control (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_not_pass_cache-control_on_datasource_resources_with_public_cache_control (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_pass_cache-control_on_plugins_resources_with_private_cache_control (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_not_pass_cache-control_on_plugins_resources_with_public_cache_control (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_not_add_Cache-Control_header_for_requests_to_datasource_proxy_API (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_add_Cache-Control_header_for_requests_with_HTML_response (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_add_X-Frame-Options_header_with_deny_for_request_when_not_allowing_embedding (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_not_add_X-Frame-Options_header_for_request_when_allowing_embedding (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_add_custom_response_headers (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_not_add_Cache-Control_header_for_requests_to_render_pdf (0.00s)
--- PASS: TestMiddlewareContext/middleware_should_not_add_Cache-Control_header_for_requests_to_render_panel_as_image (0.00s)
=== RUN   TestOrgRedirectMiddleware
=== RUN   TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user
org_redirect_test.go:50: Not decoding JSON
=== RUN   TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user_with_'&kiosk'
org_redirect_test.go:50: Not decoding JSON
=== RUN   TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user_with_'&kiosk=
org_redirect_test.go:50: Not decoding JSON
=== RUN   TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user_with_'&kiosk=tv'
org_redirect_test.go:50: Not decoding JSON
=== RUN   TestOrgRedirectMiddleware/when_setting_an_invalid_org_for_user
org_redirect_test.go:62: Not decoding JSON
=== RUN   TestOrgRedirectMiddleware/works_correctly_when_grafana_is_served_under_a_subpath
org_redirect_test.go:71: Not decoding JSON
--- PASS: TestOrgRedirectMiddleware (0.00s)
--- PASS: TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user (0.00s)
--- PASS: TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user_with_'&kiosk' (0.00s)
--- PASS: TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user_with_'&kiosk= (0.00s)
--- PASS: TestOrgRedirectMiddleware/when_setting_a_correct_org_for_the_user_with_'&kiosk=tv' (0.00s)
--- PASS: TestOrgRedirectMiddleware/when_setting_an_invalid_org_for_user (0.00s)
--- PASS: TestOrgRedirectMiddleware/works_correctly_when_grafana_is_served_under_a_subpath (0.00s)
=== RUN   TestMiddlewareQuota
=== RUN   TestMiddlewareQuota/With_user_not_logged_in
=== RUN   TestMiddlewareQuota/With_user_not_logged_in/and_global_quota_not_reached
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:23: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareQuota/With_user_not_logged_in/and_global_quota_reached
quota_test.go:30: Decoded JSON json map[message:user Quota reached]
=== RUN   TestMiddlewareQuota/With_user_not_logged_in/and_global_session_quota_not_reached
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:39: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareQuota/With_user_not_logged_in/and_global_session_quota_reached
quota_test.go:48: Decoded JSON json map[message:session Quota reached]
=== RUN   TestMiddlewareQuota/with_user_logged_in
=== RUN   TestMiddlewareQuota/with_user_logged_in/global_datasource_quota_reached
quota_test.go:65: Decoded JSON json map[message:data_source Quota reached]
=== RUN   TestMiddlewareQuota/with_user_logged_in/user_Org_quota_not_reached
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:77: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareQuota/with_user_logged_in/user_Org_quota_reached
quota_test.go:88: Decoded JSON json map[message:org Quota reached]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_dashboard_quota_not_reached
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:99: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_dashboard_quota_reached
quota_test.go:110: Decoded JSON json map[message:dashboard Quota reached]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_dashboard_quota_reached,_but_quotas_disabled
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:121: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_alert_quota_reached_and_unified_alerting_is_enabled
quota_test.go:132: Decoded JSON json map[message:alert_rule Quota reached]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_alert_quota_not_reached_and_unified_alerting_is_enabled
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:146: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_alert_quota_reached_but_ngalert_disabled
quota_test.go:161: Decoded JSON json map[message:alert_rule Quota reached]
=== RUN   TestMiddlewareQuota/with_user_logged_in/org_alert_quota_not_reached_but_ngalert_disabled
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
quota_test.go:172: Decoded JSON json map[message:OK]
--- PASS: TestMiddlewareQuota (0.01s)
--- PASS: TestMiddlewareQuota/With_user_not_logged_in (0.00s)
--- PASS: TestMiddlewareQuota/With_user_not_logged_in/and_global_quota_not_reached (0.00s)
--- PASS: TestMiddlewareQuota/With_user_not_logged_in/and_global_quota_reached (0.00s)
--- PASS: TestMiddlewareQuota/With_user_not_logged_in/and_global_session_quota_not_reached (0.00s)
--- PASS: TestMiddlewareQuota/With_user_not_logged_in/and_global_session_quota_reached (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/global_datasource_quota_reached (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/user_Org_quota_not_reached (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/user_Org_quota_reached (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_dashboard_quota_not_reached (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_dashboard_quota_reached (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_dashboard_quota_reached,_but_quotas_disabled (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_alert_quota_reached_and_unified_alerting_is_enabled (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_alert_quota_not_reached_and_unified_alerting_is_enabled (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_alert_quota_reached_but_ngalert_disabled (0.00s)
--- PASS: TestMiddlewareQuota/with_user_logged_in/org_alert_quota_not_reached_but_ngalert_disabled (0.00s)
=== RUN   TestRecoveryMiddleware
=== RUN   TestRecoveryMiddleware/Given_an_API_route_that_panics
=== RUN   TestRecoveryMiddleware/Given_an_API_route_that_panics/recovery_middleware_should_return_JSON
recovery_test.go:25: Decoded JSON json map[error:Server Error - /home/runner/work/grafana/grafana/pkg/middleware/recovery_test.go:48 (0x3172e84)
panicHandler: panic("Handler has panicked")
/home/runner/work/grafana/grafana/pkg/middleware/recovery_test.go:79 (0x31767c1)
TestRecoveryMiddleware.func1.recoveryScenario.2.1: sc.handlerFunc(sc.context)
/home/runner/work/grafana/grafana/pkg/api/response/web_hack.go:40 (0x1d608af)
wrap_handler.func3: handle(reqCtx(w, r))
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x1d53b38)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/web/macaron.go:131 (0x1d53af5)
mwFromHandler.func1.1: h.ServeHTTP(mrw, r)
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x7dedc8)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/web/macaron.go:137 (0x1d53bd4)
mwFromHandler.func1.1: next.ServeHTTP(ctx.Resp, ctx.Req)
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x7dedc8)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/services/contexthandler/contexthandler.go:146 (0x3180f0a)
(*ContextHandler).Middleware-fm.(*ContextHandler).Middleware.func1: next.ServeHTTP(w, r.WithContext(ctx))
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x7dedc8)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/web/render.go:51 (0x1d54609)
Renderer.func1.1: next.ServeHTTP(rw, req)
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x7dedc8)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/web/macaron.go:137 (0x1d53bd4)
mwFromHandler.func1.1: next.ServeHTTP(ctx.Resp, ctx.Req)
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x7dedc8)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/middleware/recovery.go:180 (0x316b2c8)
Recovery.func1.1: next.ServeHTTP(w, req)
/opt/hostedtoolcache/go/1.24.2/x64/src/net/http/server.go:2294 (0x7dedc8)
HandlerFunc.ServeHTTP: f(w, r)
/home/runner/work/grafana/grafana/pkg/web/context.go:52 (0x1d51f78)
(*Context).run: h.ServeHTTP(ctx.Resp, ctx.Req)
/home/runner/work/grafana/grafana/pkg/web/router.go:155 (0x1d55ced)
(*Router).Handle.func1: c.run()
/home/runner/work/grafana/grafana/pkg/web/router.go:211 (0x1d55fd4)
(*Router).ServeHTTP: leaf.handle(rw, req, nil)
/home/runner/work/grafana/grafana/pkg/web/macaron.go:174 (0x1d5401c)
(*Macaron).ServeHTTP: m.Router.ServeHTTP(rw, req)
/home/runner/work/grafana/grafana/pkg/middleware/testing.go:85 (0x316cace)
(*scenarioContext).exec: sc.m.ServeHTTP(sc.resp, sc.req)
/home/runner/work/grafana/grafana/pkg/middleware/recovery_test.go:25 (0x3176844)
TestRecoveryMiddleware.func1.1: sc.fakeReq("GET", apiURL).exec()
/home/runner/work/grafana/grafana/pkg/middleware/recovery_test.go:85 (0x317675c)
TestRecoveryMiddleware.func1.recoveryScenario.2: fn(t, sc)
/opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1792 (0x567353)
tRunner: fn(t)
/opt/hostedtoolcache/go/1.24.2/x64/src/runtime/asm_amd64.s:1700 (0x486c40)
goexit: BYTE	$0x90	// NOP
message:Internal Server Error - test error]
=== RUN   TestRecoveryMiddleware/Given_a_non-API_route_that_panics
=== RUN   TestRecoveryMiddleware/Given_a_non-API_route_that_panics/recovery_middleware_should_return_html
recovery_test.go:38: Not decoding JSON
--- PASS: TestRecoveryMiddleware (0.00s)
--- PASS: TestRecoveryMiddleware/Given_an_API_route_that_panics (0.00s)
--- PASS: TestRecoveryMiddleware/Given_an_API_route_that_panics/recovery_middleware_should_return_JSON (0.00s)
--- PASS: TestRecoveryMiddleware/Given_a_non-API_route_that_panics (0.00s)
--- PASS: TestRecoveryMiddleware/Given_a_non-API_route_that_panics/recovery_middleware_should_return_html (0.00s)
=== RUN   TestRequestMetaDefault
--- PASS: TestRequestMetaDefault (0.00s)
=== RUN   TestRequestMetaNewTeam
--- PASS: TestRequestMetaNewTeam (0.00s)
=== RUN   TestCanGetRouteNameFromContext
--- PASS: TestCanGetRouteNameFromContext (0.00s)
=== RUN   TestOperationNameCanOnlyBeSetOnce
--- PASS: TestOperationNameCanOnlyBeSetOnce (0.00s)
=== RUN   TestSubPathRedirect
=== RUN   TestSubPathRedirect/GET_url_without_subpath
subpath_redirect_test.go:24: Not decoding JSON
=== RUN   TestSubPathRedirect/GET_url_without_subpath#01
subpath_redirect_test.go:24: Not decoding JSON
=== RUN   TestSubPathRedirect/GET_url_without_subpath#02
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
subpath_redirect_test.go:24: Decoded JSON json map[message:OK]
--- PASS: TestSubPathRedirect (0.00s)
--- PASS: TestSubPathRedirect/GET_url_without_subpath (0.00s)
--- PASS: TestSubPathRedirect/GET_url_without_subpath#01 (0.00s)
--- PASS: TestSubPathRedirect/GET_url_without_subpath#02 (0.00s)
=== RUN   TestMiddlewareValidateActionUrl
=== RUN   TestMiddlewareValidateActionUrl/DELETE_action_with_valid_path
=== RUN   TestMiddlewareValidateActionUrl/DELETE_action_with_valid_path/DELETE_action_with_valid_path
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/DELETE_action_with_invalid_path
=== RUN   TestMiddlewareValidateActionUrl/DELETE_action_with_invalid_path/DELETE_action_with_invalid_path
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/GET_action_with_valid_path
=== RUN   TestMiddlewareValidateActionUrl/GET_action_with_valid_path/GET_action_with_valid_path
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/GET_action_with_invalid_path
=== RUN   TestMiddlewareValidateActionUrl/GET_action_with_invalid_path/GET_action_with_invalid_path
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/GET_valid_path_without_header
=== RUN   TestMiddlewareValidateActionUrl/GET_valid_path_without_header/GET_valid_path_without_header
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/GET_valid_path_with_header
=== RUN   TestMiddlewareValidateActionUrl/GET_valid_path_with_header/GET_valid_path_with_header
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/HEAD_request_with_header
=== RUN   TestMiddlewareValidateActionUrl/HEAD_request_with_header/HEAD_request_with_header
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/OPTIONS_request
=== RUN   TestMiddlewareValidateActionUrl/OPTIONS_request/OPTIONS_request
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/OPTIONS_request_with_header
=== RUN   TestMiddlewareValidateActionUrl/OPTIONS_request_with_header/OPTIONS_request_with_header
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/PATCH_request_with_header
=== RUN   TestMiddlewareValidateActionUrl/PATCH_request_with_header/PATCH_request_with_header
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/PATCH_request_without_header
=== RUN   TestMiddlewareValidateActionUrl/PATCH_request_without_header/PATCH_request_without_header
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/POST_without_action_header
=== RUN   TestMiddlewareValidateActionUrl/POST_without_action_header/POST_without_action_header
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/POST_with_action_header,_no_paths_defined
=== RUN   TestMiddlewareValidateActionUrl/POST_with_action_header,_no_paths_defined/POST_with_action_header,_no_paths_defined
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/POST_action_with_allowed_path
=== RUN   TestMiddlewareValidateActionUrl/POST_action_with_allowed_path/POST_action_with_allowed_path
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/POST_action_with_invalid_path
=== RUN   TestMiddlewareValidateActionUrl/POST_action_with_invalid_path/POST_action_with_invalid_path
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_with_header
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_with_header/PUT_action_with_valid_path_with_header
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path/PUT_action_with_invalid_path
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_without_header
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_without_header/PUT_action_with_valid_path_without_header
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path_without_header
=== RUN   TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path_without_header/PUT_action_with_invalid_path_without_header
middleware_test.go:268: Default HTTP handler called
middleware_test.go:276: Returning JSON OK
validate_action_url_test.go:219: Decoded JSON json map[message:OK]
=== RUN   TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_with_header
=== RUN   TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_with_header/CONNECT_unknown_verb_with_header
validate_action_url_test.go:219: Not decoding JSON
=== RUN   TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_without_header
=== RUN   TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_without_header/CONNECT_unknown_verb_without_header
validate_action_url_test.go:219: Not decoding JSON
--- PASS: TestMiddlewareValidateActionUrl (0.01s)
--- PASS: TestMiddlewareValidateActionUrl/DELETE_action_with_valid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/DELETE_action_with_valid_path/DELETE_action_with_valid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/DELETE_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/DELETE_action_with_invalid_path/DELETE_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_action_with_valid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_action_with_valid_path/GET_action_with_valid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_action_with_invalid_path/GET_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_valid_path_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_valid_path_without_header/GET_valid_path_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_valid_path_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/GET_valid_path_with_header/GET_valid_path_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/HEAD_request_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/HEAD_request_with_header/HEAD_request_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/OPTIONS_request (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/OPTIONS_request/OPTIONS_request (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/OPTIONS_request_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/OPTIONS_request_with_header/OPTIONS_request_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PATCH_request_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PATCH_request_with_header/PATCH_request_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PATCH_request_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PATCH_request_without_header/PATCH_request_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_without_action_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_without_action_header/POST_without_action_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_with_action_header,_no_paths_defined (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_with_action_header,_no_paths_defined/POST_with_action_header,_no_paths_defined (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_action_with_allowed_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_action_with_allowed_path/POST_action_with_allowed_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/POST_action_with_invalid_path/POST_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_with_header/PUT_action_with_valid_path_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path/PUT_action_with_invalid_path (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_valid_path_without_header/PUT_action_with_valid_path_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/PUT_action_with_invalid_path_without_header/PUT_action_with_invalid_path_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_with_header/CONNECT_unknown_verb_with_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_without_header (0.00s)
--- PASS: TestMiddlewareValidateActionUrl/CONNECT_unknown_verb_without_header/CONNECT_unknown_verb_without_header (0.00s)
=== RUN   TestMatchesAllowedPath
=== RUN   TestMatchesAllowedPath/single_url_with_match
=== RUN   TestMatchesAllowedPath/single_url_no_match
=== RUN   TestMatchesAllowedPath/multiple_urls_with_match
=== RUN   TestMatchesAllowedPath/multiple_urls_no_match
--- PASS: TestMatchesAllowedPath (0.00s)
--- PASS: TestMatchesAllowedPath/single_url_with_match (0.00s)
--- PASS: TestMatchesAllowedPath/single_url_no_match (0.00s)
--- PASS: TestMatchesAllowedPath/multiple_urls_with_match (0.00s)
--- PASS: TestMatchesAllowedPath/multiple_urls_no_match (0.00s)
=== RUN   TestCacheGlobs
=== RUN   TestCacheGlobs/single_url
=== RUN   TestCacheGlobs/multiple_urls
--- PASS: TestCacheGlobs (0.00s)
--- PASS: TestCacheGlobs/single_url (0.00s)
--- PASS: TestCacheGlobs/multiple_urls (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/middleware	0.383s
=== RUN   TestCookieOptions
--- PASS: TestCookieOptions (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/middleware/cookies	(cached)
=== RUN   TestMiddlewareCSRF
=== RUN   TestMiddlewareCSRF/mismatched_origin_and_host_is_forbidden
=== RUN   TestMiddlewareCSRF/mismatched_origin_and_host_is_NOT_forbidden_with_a_'Safe_Method'
=== RUN   TestMiddlewareCSRF/mismatched_origin_and_host_is_NOT_forbidden_without_a_cookie
=== RUN   TestMiddlewareCSRF/malformed_host_is_a_bad_request
=== RUN   TestMiddlewareCSRF/host_works_without_port
=== RUN   TestMiddlewareCSRF/port_does_not_have_to_match
=== RUN   TestMiddlewareCSRF/IPv6_host_works_with_port
=== RUN   TestMiddlewareCSRF/IPv6_host_(with_longer_address)_works_with_port
=== RUN   TestMiddlewareCSRF/IPv6_host_(with_longer_address)_works_without_port
--- PASS: TestMiddlewareCSRF (0.00s)
--- PASS: TestMiddlewareCSRF/mismatched_origin_and_host_is_forbidden (0.00s)
--- PASS: TestMiddlewareCSRF/mismatched_origin_and_host_is_NOT_forbidden_with_a_'Safe_Method' (0.00s)
--- PASS: TestMiddlewareCSRF/mismatched_origin_and_host_is_NOT_forbidden_without_a_cookie (0.00s)
--- PASS: TestMiddlewareCSRF/malformed_host_is_a_bad_request (0.00s)
--- PASS: TestMiddlewareCSRF/host_works_without_port (0.00s)
--- PASS: TestMiddlewareCSRF/port_does_not_have_to_match (0.00s)
--- PASS: TestMiddlewareCSRF/IPv6_host_works_with_port (0.00s)
--- PASS: TestMiddlewareCSRF/IPv6_host_(with_longer_address)_works_with_port (0.00s)
--- PASS: TestMiddlewareCSRF/IPv6_host_(with_longer_address)_works_without_port (0.00s)
=== RUN   TestCSRF_Check
=== RUN   TestCSRF_Check/base_case
=== RUN   TestCSRF_Check/base_with_null_origin_header
=== RUN   TestCSRF_Check/grafana.org
=== RUN   TestCSRF_Check/grafana.org_with_X-Forwarded-Host
=== RUN   TestCSRF_Check/grafana.org_with_X-Forwarded-Host_and_header_trusted
=== RUN   TestCSRF_Check/grafana.org_from_grafana.com
=== RUN   TestCSRF_Check/grafana.org_from_grafana.com_explicit_trust_for_grafana.com
=== RUN   TestCSRF_Check/grafana.org_from_grafana.com_with_X-Forwarded-Host_and_header_trusted
=== RUN   TestCSRF_Check/safe_endpoint
=== RUN   TestCSRF_Check/grafana.org_with_X-Forwarded-Host;_will_skip_csrf_check_if_login_cookie_is_not_present;_without_login_cookie,_should_return_nil_because_login_cookie_is_not_present
=== RUN   TestCSRF_Check/grafana.org_with_X-Forwarded-Host;_will_perform_csrf_check_even_if_login_cookie_is_not_present,_should_return_error_because_host_name_does_not_match_origin
--- PASS: TestCSRF_Check (0.00s)
--- PASS: TestCSRF_Check/base_case (0.00s)
--- PASS: TestCSRF_Check/base_with_null_origin_header (0.00s)
--- PASS: TestCSRF_Check/grafana.org (0.00s)
--- PASS: TestCSRF_Check/grafana.org_with_X-Forwarded-Host (0.00s)
--- PASS: TestCSRF_Check/grafana.org_with_X-Forwarded-Host_and_header_trusted (0.00s)
--- PASS: TestCSRF_Check/grafana.org_from_grafana.com (0.00s)
--- PASS: TestCSRF_Check/grafana.org_from_grafana.com_explicit_trust_for_grafana.com (0.00s)
--- PASS: TestCSRF_Check/grafana.org_from_grafana.com_with_X-Forwarded-Host_and_header_trusted (0.00s)
--- PASS: TestCSRF_Check/safe_endpoint (0.00s)
--- PASS: TestCSRF_Check/grafana.org_with_X-Forwarded-Host;_will_skip_csrf_check_if_login_cookie_is_not_present;_without_login_cookie,_should_return_nil_because_login_cookie_is_not_present (0.00s)
--- PASS: TestCSRF_Check/grafana.org_with_X-Forwarded-Host;_will_perform_csrf_check_even_if_login_cookie_is_not_present,_should_return_error_because_host_name_does_not_match_origin (0.00s)
=== RUN   TestProvideCSRFFilter
=== PAUSE TestProvideCSRFFilter
=== CONT  TestProvideCSRFFilter
--- PASS: TestProvideCSRFFilter (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/middleware/csrf	(cached)
=== RUN   Test_prepareLog
=== RUN   Test_prepareLog/base_case
=== RUN   Test_prepareLog/base_case#01
=== RUN   Test_prepareLog/regular_Go_error
=== RUN   Test_prepareLog/Grafana-style_error
--- PASS: Test_prepareLog (0.00s)
--- PASS: Test_prepareLog/base_case (0.00s)
--- PASS: Test_prepareLog/base_case#01 (0.00s)
--- PASS: Test_prepareLog/regular_Go_error (0.00s)
--- PASS: Test_prepareLog/Grafana-style_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/middleware/loggermw	(cached)
=== RUN   TestStatusSource
--- PASS: TestStatusSource (0.00s)
=== RUN   TestWithStatusSource
=== RUN   TestWithStatusSource/status_200_=>_source_server_
=== RUN   TestWithStatusSource/status_400_=>_source_server_
=== RUN   TestWithStatusSource/status_403_=>_source_server_
=== RUN   TestWithStatusSource/status_401_=>_source_server_
=== RUN   TestWithStatusSource/status_500_=>_source_downstream_
=== RUN   TestWithStatusSource/status_502_=>_source_downstream_
=== RUN   TestWithStatusSource/status_504_=>_source_downstream_
=== RUN   TestWithStatusSource/status_599_=>_source_downstream_
--- PASS: TestWithStatusSource (0.00s)
--- PASS: TestWithStatusSource/status_200_=>_source_server_ (0.00s)
--- PASS: TestWithStatusSource/status_400_=>_source_server_ (0.00s)
--- PASS: TestWithStatusSource/status_403_=>_source_server_ (0.00s)
--- PASS: TestWithStatusSource/status_401_=>_source_server_ (0.00s)
--- PASS: TestWithStatusSource/status_500_=>_source_downstream_ (0.00s)
--- PASS: TestWithStatusSource/status_502_=>_source_downstream_ (0.00s)
--- PASS: TestWithStatusSource/status_504_=>_source_downstream_ (0.00s)
--- PASS: TestWithStatusSource/status_599_=>_source_downstream_ (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/middleware/requestmeta	(cached)
?   	github.com/grafana/grafana/pkg/mocks/mock_gcsifaces	[no test files]
?   	github.com/grafana/grafana/pkg/models	[no test files]
=== RUN   TestUserToken_NeedsRotation
=== RUN   TestUserToken_NeedsRotation/should_return_true
=== RUN   TestUserToken_NeedsRotation/should_return_true_when_token_is_not_seen
=== RUN   TestUserToken_NeedsRotation/should_return_false
--- PASS: TestUserToken_NeedsRotation (0.00s)
--- PASS: TestUserToken_NeedsRotation/should_return_true (0.00s)
--- PASS: TestUserToken_NeedsRotation/should_return_true_when_token_is_not_seen (0.00s)
--- PASS: TestUserToken_NeedsRotation/should_return_false (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/models/usertoken	(cached)
?   	github.com/grafana/grafana/pkg/modules	[no test files]
?   	github.com/grafana/grafana/pkg/modules/tracing	[no test files]
=== RUN   TestUtils
--- PASS: TestUtils (0.00s)
=== RUN   TestErrPluginGrpcConnectionUnavailableBase
=== RUN   TestErrPluginGrpcConnectionUnavailableBase/without_stack_ID_in_context
=== RUN   TestErrPluginGrpcConnectionUnavailableBase/with_stack_ID_in_context
=== RUN   TestErrPluginGrpcConnectionUnavailableBase/without_static_requester_in_context
--- PASS: TestErrPluginGrpcConnectionUnavailableBase (0.00s)
--- PASS: TestErrPluginGrpcConnectionUnavailableBase/without_stack_ID_in_context (0.00s)
--- PASS: TestErrPluginGrpcConnectionUnavailableBase/with_stack_ID_in_context (0.00s)
--- PASS: TestErrPluginGrpcConnectionUnavailableBase/without_static_requester_in_context (0.00s)
=== RUN   TestLocalFS_Remove
=== RUN   TestLocalFS_Remove/Uninstall_will_search_in_nested_dist_folder_for_plugin.json
=== RUN   TestLocalFS_Remove/Uninstall_will_not_delete_folder_if_cannot_recognize_plugin_structure
--- PASS: TestLocalFS_Remove (0.00s)
--- PASS: TestLocalFS_Remove/Uninstall_will_search_in_nested_dist_folder_for_plugin.json (0.00s)
--- PASS: TestLocalFS_Remove/Uninstall_will_not_delete_folder_if_cannot_recognize_plugin_structure (0.00s)
=== RUN   TestLocalFile_Read
=== RUN   TestLocalFile_Read/not_exists
=== RUN   TestLocalFile_Read/read
=== RUN   TestLocalFile_Read/read/extra
=== RUN   TestLocalFile_Read/read/empty
=== RUN   TestLocalFile_Read/read/multiple
--- PASS: TestLocalFile_Read (0.00s)
--- PASS: TestLocalFile_Read/not_exists (0.00s)
--- PASS: TestLocalFile_Read/read (0.00s)
--- PASS: TestLocalFile_Read/read/extra (0.00s)
--- PASS: TestLocalFile_Read/read/empty (0.00s)
--- PASS: TestLocalFile_Read/read/multiple (0.00s)
=== RUN   TestLocalFile_Close
=== RUN   TestLocalFile_Close/once_after_read
=== RUN   TestLocalFile_Close/never_opened
=== RUN   TestLocalFile_Close/twice
--- PASS: TestLocalFile_Close (0.00s)
--- PASS: TestLocalFile_Close/once_after_read (0.00s)
--- PASS: TestLocalFile_Close/never_opened (0.00s)
--- PASS: TestLocalFile_Close/twice (0.00s)
=== RUN   TestStaticFS
=== RUN   TestStaticFS/open_allowed
=== RUN   TestStaticFS/open_denied
=== RUN   TestStaticFS/open_not_existing
=== RUN   TestStaticFS/list_files
=== RUN   TestStaticFS/list_files/underlying_fs_has_extra_files
=== RUN   TestStaticFS/list_files/staticfs_filters_underelying_fs's_files
--- PASS: TestStaticFS (0.00s)
--- PASS: TestStaticFS/open_allowed (0.00s)
--- PASS: TestStaticFS/open_denied (0.00s)
--- PASS: TestStaticFS/open_not_existing (0.00s)
--- PASS: TestStaticFS/list_files (0.00s)
--- PASS: TestStaticFS/list_files/underlying_fs_has_extra_files (0.00s)
--- PASS: TestStaticFS/list_files/staticfs_filters_underelying_fs's_files (0.00s)
=== RUN   TestFSTwoDotsInFileName
--- PASS: TestFSTwoDotsInFileName (0.00s)
=== RUN   Test_ReadPluginJSON
=== RUN   Test_ReadPluginJSON/Valid_plugin
=== RUN   Test_ReadPluginJSON/Invalid_plugin_JSON
=== RUN   Test_ReadPluginJSON/Default_value_overrides
=== RUN   Test_ReadPluginJSON/Phlare<>Pyroscope_rebranding_--_hardcoded_alias
=== RUN   Test_ReadPluginJSON/can_read_the_latest_versions_of_extensions_information_(v2)
=== RUN   Test_ReadPluginJSON/can_read_deprecated_extensions_info_(v1)_and_parse_it_as_v2
=== RUN   Test_ReadPluginJSON/works_if_extensions_info_is_empty
=== RUN   Test_ReadPluginJSON/works_if_extensions_info_is_completely_missing
=== RUN   Test_ReadPluginJSON/can_read_extensions_related_dependencies
=== RUN   Test_ReadPluginJSON/can_read_languages_in_a_datasource_plugin
=== RUN   Test_ReadPluginJSON/can_read_languages_in_a_panel_plugin
=== RUN   Test_ReadPluginJSON/can_read_languages_in_an_app_plugin
--- PASS: Test_ReadPluginJSON (0.00s)
--- PASS: Test_ReadPluginJSON/Valid_plugin (0.00s)
--- PASS: Test_ReadPluginJSON/Invalid_plugin_JSON (0.00s)
--- PASS: Test_ReadPluginJSON/Default_value_overrides (0.00s)
--- PASS: Test_ReadPluginJSON/Phlare<>Pyroscope_rebranding_--_hardcoded_alias (0.00s)
--- PASS: Test_ReadPluginJSON/can_read_the_latest_versions_of_extensions_information_(v2) (0.00s)
--- PASS: Test_ReadPluginJSON/can_read_deprecated_extensions_info_(v1)_and_parse_it_as_v2 (0.00s)
--- PASS: Test_ReadPluginJSON/works_if_extensions_info_is_empty (0.00s)
--- PASS: Test_ReadPluginJSON/works_if_extensions_info_is_completely_missing (0.00s)
--- PASS: Test_ReadPluginJSON/can_read_extensions_related_dependencies (0.00s)
--- PASS: Test_ReadPluginJSON/can_read_languages_in_a_datasource_plugin (0.00s)
--- PASS: Test_ReadPluginJSON/can_read_languages_in_a_panel_plugin (0.00s)
--- PASS: Test_ReadPluginJSON/can_read_languages_in_an_app_plugin (0.00s)
=== RUN   Test_validatePluginJSON
=== RUN   Test_validatePluginJSON/Valid_case
=== RUN   Test_validatePluginJSON/Invalid_plugin_ID
=== RUN   Test_validatePluginJSON/Invalid_plugin_type
--- PASS: Test_validatePluginJSON (0.00s)
--- PASS: Test_validatePluginJSON/Valid_case (0.00s)
--- PASS: Test_validatePluginJSON/Invalid_plugin_ID (0.00s)
--- PASS: Test_validatePluginJSON/Invalid_plugin_type (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins	0.019s
?   	github.com/grafana/grafana/pkg/plugins/auth	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/backendplugin	[no test files]
=== RUN   TestNewPlugin
=== RUN   TestNewPlugin/grafana-azure-monitor-datasource
=== RUN   TestNewPlugin/stackdriver
=== RUN   TestNewPlugin/cloudwatch
=== RUN   TestNewPlugin/elasticsearch
=== RUN   TestNewPlugin/grafana
=== RUN   TestNewPlugin/graphite
=== RUN   TestNewPlugin/influxdb
=== RUN   TestNewPlugin/loki
=== RUN   TestNewPlugin/mssql
=== RUN   TestNewPlugin/mysql
=== RUN   TestNewPlugin/opentsdb
=== RUN   TestNewPlugin/parca
=== RUN   TestNewPlugin/grafana-postgresql-datasource
=== RUN   TestNewPlugin/prometheus
=== RUN   TestNewPlugin/grafana-pyroscope-datasource
=== RUN   TestNewPlugin/tempo
=== RUN   TestNewPlugin/grafana-testdata-datasource
=== RUN   TestNewPlugin/testdata
=== RUN   TestNewPlugin/zipkin
=== RUN   TestNewPlugin/jaeger
--- PASS: TestNewPlugin (0.00s)
--- PASS: TestNewPlugin/grafana-azure-monitor-datasource (0.00s)
--- PASS: TestNewPlugin/stackdriver (0.00s)
--- PASS: TestNewPlugin/cloudwatch (0.00s)
--- PASS: TestNewPlugin/elasticsearch (0.00s)
--- PASS: TestNewPlugin/grafana (0.00s)
--- PASS: TestNewPlugin/graphite (0.00s)
--- PASS: TestNewPlugin/influxdb (0.00s)
--- PASS: TestNewPlugin/loki (0.00s)
--- PASS: TestNewPlugin/mssql (0.00s)
--- PASS: TestNewPlugin/mysql (0.00s)
--- PASS: TestNewPlugin/opentsdb (0.00s)
--- PASS: TestNewPlugin/parca (0.00s)
--- PASS: TestNewPlugin/grafana-postgresql-datasource (0.00s)
--- PASS: TestNewPlugin/prometheus (0.00s)
--- PASS: TestNewPlugin/grafana-pyroscope-datasource (0.00s)
--- PASS: TestNewPlugin/tempo (0.00s)
--- PASS: TestNewPlugin/grafana-testdata-datasource (0.00s)
--- PASS: TestNewPlugin/testdata (0.00s)
--- PASS: TestNewPlugin/zipkin (0.00s)
--- PASS: TestNewPlugin/jaeger (0.00s)
=== RUN   TestLogger
=== RUN   TestLogger/logger.With_should_create_a_new_logger
--- PASS: TestLogger (0.00s)
--- PASS: TestLogger/logger.With_should_create_a_new_logger (0.00s)
=== RUN   TestCorePlugin
=== RUN   TestCorePlugin/New_core_plugin_with_empty_opts_should_return_expected_values
=== RUN   TestCorePlugin/New_core_plugin_with_handlers_set_in_opts_should_return_expected_values
--- PASS: TestCorePlugin (0.00s)
--- PASS: TestCorePlugin/New_core_plugin_with_empty_opts_should_return_expected_values (0.00s)
--- PASS: TestCorePlugin/New_core_plugin_with_handlers_set_in_opts_should_return_expected_values (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/backendplugin/coreplugin	(cached)
=== RUN   TestLogWrapper
=== RUN   TestLogWrapper/formatArgs_testcase_0
=== RUN   TestLogWrapper/formatArgs_testcase_1
=== RUN   TestLogWrapper/formatArgs_testcase_2
=== RUN   TestLogWrapper/formatArgs_testcase_3
=== RUN   TestLogWrapper/formatArgs_testcase_4
--- PASS: TestLogWrapper (0.00s)
--- PASS: TestLogWrapper/formatArgs_testcase_0 (0.00s)
--- PASS: TestLogWrapper/formatArgs_testcase_1 (0.00s)
--- PASS: TestLogWrapper/formatArgs_testcase_2 (0.00s)
--- PASS: TestLogWrapper/formatArgs_testcase_3 (0.00s)
--- PASS: TestLogWrapper/formatArgs_testcase_4 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/backendplugin/grpcplugin	(cached)
?   	github.com/grafana/grafana/pkg/plugins/backendplugin/pluginextensionv2	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/backendplugin/provider	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/config	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/envvars	[no test files]
=== RUN   TestHTTPResponseSender
--- PASS: TestHTTPResponseSender (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/httpresponsesender	(cached)
=== RUN   TestRequestStatus
=== RUN   TestRequestStatus/ok
=== RUN   TestRequestStatus/error
=== RUN   TestRequestStatus/cancelled
--- PASS: TestRequestStatus (0.00s)
--- PASS: TestRequestStatus/ok (0.00s)
--- PASS: TestRequestStatus/error (0.00s)
--- PASS: TestRequestStatus/cancelled (0.00s)
=== RUN   TestRequestStatusFromError
=== RUN   TestRequestStatusFromError/no_error_should_be_status_ok
=== RUN   TestRequestStatusFromError/error_should_be_status_error
=== RUN   TestRequestStatusFromError/context_canceled_should_be_status_cancelled
=== RUN   TestRequestStatusFromError/gRPC_canceled_should_be_status_cancelled
--- PASS: TestRequestStatusFromError (0.00s)
--- PASS: TestRequestStatusFromError/no_error_should_be_status_ok (0.00s)
--- PASS: TestRequestStatusFromError/error_should_be_status_error (0.00s)
--- PASS: TestRequestStatusFromError/context_canceled_should_be_status_cancelled (0.00s)
--- PASS: TestRequestStatusFromError/gRPC_canceled_should_be_status_cancelled (0.00s)
=== RUN   TestRequestStatusFromQueryDataResponse
=== RUN   TestRequestStatusFromQueryDataResponse/no_error_should_be_status_ok
=== RUN   TestRequestStatusFromQueryDataResponse/error_should_be_status_error
=== RUN   TestRequestStatusFromQueryDataResponse/context_canceled_should_be_status_cancelled
=== RUN   TestRequestStatusFromQueryDataResponse/response_without_error_should_be_status_ok
=== RUN   TestRequestStatusFromQueryDataResponse/response_with_error_should_be_status_error
=== RUN   TestRequestStatusFromQueryDataResponse/response_with_multiple_error_should_pick_the_highest_status_cancelled
--- PASS: TestRequestStatusFromQueryDataResponse (0.00s)
--- PASS: TestRequestStatusFromQueryDataResponse/no_error_should_be_status_ok (0.00s)
--- PASS: TestRequestStatusFromQueryDataResponse/error_should_be_status_error (0.00s)
--- PASS: TestRequestStatusFromQueryDataResponse/context_canceled_should_be_status_cancelled (0.00s)
--- PASS: TestRequestStatusFromQueryDataResponse/response_without_error_should_be_status_ok (0.00s)
--- PASS: TestRequestStatusFromQueryDataResponse/response_with_error_should_be_status_error (0.00s)
--- PASS: TestRequestStatusFromQueryDataResponse/response_with_multiple_error_should_pick_the_highest_status_cancelled (0.00s)
=== RUN   TestRequestStatusFromErrorString
=== RUN   TestRequestStatusFromErrorString/no_error_should_be_status_ok
=== RUN   TestRequestStatusFromErrorString/error_should_be_status_error
=== RUN   TestRequestStatusFromErrorString/context_canceled_should_be_status_cancelled
=== RUN   TestRequestStatusFromErrorString/gRPC_canceled_should_be_status_cancelled
--- PASS: TestRequestStatusFromErrorString (0.00s)
--- PASS: TestRequestStatusFromErrorString/no_error_should_be_status_ok (0.00s)
--- PASS: TestRequestStatusFromErrorString/error_should_be_status_error (0.00s)
--- PASS: TestRequestStatusFromErrorString/context_canceled_should_be_status_cancelled (0.00s)
--- PASS: TestRequestStatusFromErrorString/gRPC_canceled_should_be_status_cancelled (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/instrumentationutils	(cached)
?   	github.com/grafana/grafana/pkg/plugins/log	[no test files]
=== RUN   TestPluginManager_Add_Remove
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin/Won't_add_if_already_exists
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin/Add_from_URL
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin/Update_plugin_to_different_version
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin/Update_plugin_from_url
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin/Removing_an_existing_plugin
=== RUN   TestPluginManager_Add_Remove/Adding_a_new_plugin/Removing_an_existing_plugin/Won't_remove_if_not_exists
=== RUN   TestPluginManager_Add_Remove/Can't_update_core_plugin
=== RUN   TestPluginManager_Add_Remove/Can't_update_core_plugin/Can't_uninstall_core_plugin
=== RUN   TestPluginManager_Add_Remove/Can_install_multiple_dependency_levels
=== RUN   TestPluginManager_Add_Remove/Livelock_prevented_when_two_plugins_depend_on_each_other
=== RUN   TestPluginManager_Add_Remove/Plugin_can_successfully_install_even_if_dependency_plugin_is_already_installed
--- PASS: TestPluginManager_Add_Remove (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin/Won't_add_if_already_exists (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin/Add_from_URL (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin/Update_plugin_to_different_version (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin/Update_plugin_from_url (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin/Removing_an_existing_plugin (0.00s)
--- PASS: TestPluginManager_Add_Remove/Adding_a_new_plugin/Removing_an_existing_plugin/Won't_remove_if_not_exists (0.00s)
--- PASS: TestPluginManager_Add_Remove/Can't_update_core_plugin (0.00s)
--- PASS: TestPluginManager_Add_Remove/Can't_update_core_plugin/Can't_uninstall_core_plugin (0.00s)
--- PASS: TestPluginManager_Add_Remove/Can_install_multiple_dependency_levels (0.00s)
--- PASS: TestPluginManager_Add_Remove/Livelock_prevented_when_two_plugins_depend_on_each_other (0.00s)
--- PASS: TestPluginManager_Add_Remove/Plugin_can_successfully_install_even_if_dependency_plugin_is_already_installed (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager	(cached)
=== RUN   TestQueryData
=== RUN   TestQueryData/Empty_registry_should_return_not_registered_error
=== RUN   TestQueryData/Non-empty_registry
=== RUN   TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.unavailable]_plugin_unavailable"_should_return_expected_error
=== RUN   TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.notImplemented]_method_not_implemented"_should_return_expected_error
=== RUN   TestQueryData/Non-empty_registry/Plugin_client_error_"surprise_surprise"_should_return_expected_error
=== RUN   TestQueryData/Non-empty_registry/Plugin_client_error_"context_canceled"_should_return_expected_error
=== RUN   TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.connectionUnavailable]_unavailable"_should_return_expected_error
=== RUN   TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.resourceExhausted]_exhausted"_should_return_expected_error
--- PASS: TestQueryData (0.00s)
--- PASS: TestQueryData/Empty_registry_should_return_not_registered_error (0.00s)
--- PASS: TestQueryData/Non-empty_registry (0.00s)
--- PASS: TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.unavailable]_plugin_unavailable"_should_return_expected_error (0.00s)
--- PASS: TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.notImplemented]_method_not_implemented"_should_return_expected_error (0.00s)
--- PASS: TestQueryData/Non-empty_registry/Plugin_client_error_"surprise_surprise"_should_return_expected_error (0.00s)
--- PASS: TestQueryData/Non-empty_registry/Plugin_client_error_"context_canceled"_should_return_expected_error (0.00s)
--- PASS: TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.connectionUnavailable]_unavailable"_should_return_expected_error (0.00s)
--- PASS: TestQueryData/Non-empty_registry/Plugin_client_error_"[plugin.resourceExhausted]_exhausted"_should_return_expected_error (0.00s)
=== RUN   TestCheckHealth
=== RUN   TestCheckHealth/empty_plugin_registry_should_return_plugin_not_registered_error
=== RUN   TestCheckHealth/non-empty_plugin_registry
=== RUN   TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"[plugin.unavailable]_plugin_unavailable"_should_return_expected_error
=== RUN   TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"[plugin.notImplemented]_method_not_implemented"_should_return_expected_error
=== RUN   TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"surprise_surprise"_should_return_expected_error
=== RUN   TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"context_canceled"_should_return_expected_error
--- PASS: TestCheckHealth (0.00s)
--- PASS: TestCheckHealth/empty_plugin_registry_should_return_plugin_not_registered_error (0.00s)
--- PASS: TestCheckHealth/non-empty_plugin_registry (0.00s)
--- PASS: TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"[plugin.unavailable]_plugin_unavailable"_should_return_expected_error (0.00s)
--- PASS: TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"[plugin.notImplemented]_method_not_implemented"_should_return_expected_error (0.00s)
--- PASS: TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"surprise_surprise"_should_return_expected_error (0.00s)
--- PASS: TestCheckHealth/non-empty_plugin_registry/Plugin_client_error_"context_canceled"_should_return_expected_error (0.00s)
=== RUN   TestCallResource
=== RUN   TestCallResource/Should_strip_request_and_response_hop-by-hop_headers
=== RUN   TestCallResource/Should_strip_request_and_response_headers_present_in_Connection
=== RUN   TestCallResource/Should_remove_non-allowed_response_headers
=== RUN   TestCallResource/Should_set_proxy_response_headers
=== RUN   TestCallResource/Should_ensure_content_type_header
=== RUN   TestCallResource/Should_ensure_content_type_header/content_type=,_status=200,_exp=application/json
=== RUN   TestCallResource/Should_ensure_content_type_header/content_type=text/plain,_status=200,_exp=text/plain
=== RUN   TestCallResource/Should_ensure_content_type_header/content_type=,_status=204,_exp=
--- PASS: TestCallResource (0.00s)
--- PASS: TestCallResource/Should_strip_request_and_response_hop-by-hop_headers (0.00s)
--- PASS: TestCallResource/Should_strip_request_and_response_headers_present_in_Connection (0.00s)
--- PASS: TestCallResource/Should_remove_non-allowed_response_headers (0.00s)
--- PASS: TestCallResource/Should_set_proxy_response_headers (0.00s)
--- PASS: TestCallResource/Should_ensure_content_type_header (0.00s)
--- PASS: TestCallResource/Should_ensure_content_type_header/content_type=,_status=200,_exp=application/json (0.00s)
--- PASS: TestCallResource/Should_ensure_content_type_header/content_type=text/plain,_status=200,_exp=text/plain (0.00s)
--- PASS: TestCallResource/Should_ensure_content_type_header/content_type=,_status=204,_exp= (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/client	(cached)
?   	github.com/grafana/grafana/pkg/plugins/manager/fakes	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/manager/filestore	[no test files]
=== RUN   TestLoader_Load
=== RUN   TestLoader_Load/Load_a_Core_plugin
=== RUN   TestLoader_Load/Load_plugin_with_symbolic_links
=== RUN   TestLoader_Load/Load_an_unsigned_plugin_(development)
=== RUN   TestLoader_Load/Load_an_unsigned_plugin_(production)
=== RUN   TestLoader_Load/Load_an_unsigned_plugin_using_PluginsAllowUnsigned_config_(production)
=== RUN   TestLoader_Load/Load_a_plugin_with_v1_manifest_should_return_signatureInvalid
=== RUN   TestLoader_Load/Load_a_plugin_with_v1_manifest_using_PluginsAllowUnsigned_config_(production)_should_return_signatureInvali
=== RUN   TestLoader_Load/Load_a_plugin_with_manifest_which_has_a_file_not_found_in_plugin_folder
=== RUN   TestLoader_Load/Load_a_plugin_with_file_which_is_missing_from_the_manifest
=== RUN   TestLoader_Load/Load_an_app_with_includes
=== RUN   TestLoader_Load/Simple
=== RUN   TestLoader_Load/With_error
=== RUN   TestLoader_Load/Cleans_up_a_previous_error
--- PASS: TestLoader_Load (0.10s)
--- PASS: TestLoader_Load/Load_a_Core_plugin (0.01s)
--- PASS: TestLoader_Load/Load_plugin_with_symbolic_links (0.03s)
--- PASS: TestLoader_Load/Load_an_unsigned_plugin_(development) (0.00s)
--- PASS: TestLoader_Load/Load_an_unsigned_plugin_(production) (0.00s)
--- PASS: TestLoader_Load/Load_an_unsigned_plugin_using_PluginsAllowUnsigned_config_(production) (0.00s)
--- PASS: TestLoader_Load/Load_a_plugin_with_v1_manifest_should_return_signatureInvalid (0.02s)
--- PASS: TestLoader_Load/Load_a_plugin_with_v1_manifest_using_PluginsAllowUnsigned_config_(production)_should_return_signatureInvali (0.02s)
--- PASS: TestLoader_Load/Load_a_plugin_with_manifest_which_has_a_file_not_found_in_plugin_folder (0.01s)
--- PASS: TestLoader_Load/Load_a_plugin_with_file_which_is_missing_from_the_manifest (0.01s)
--- PASS: TestLoader_Load/Load_an_app_with_includes (0.00s)
--- PASS: TestLoader_Load/Simple (0.00s)
--- PASS: TestLoader_Load/With_error (0.00s)
--- PASS: TestLoader_Load/Cleans_up_a_previous_error (0.00s)
=== RUN   TestLoader_Unload
=== RUN   TestLoader_Unload/Termination_stage_error_is_returned_from_Unload
--- PASS: TestLoader_Unload (0.00s)
--- PASS: TestLoader_Unload/Termination_stage_error_is_returned_from_Unload (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/loader	0.125s
=== RUN   TestContainsBytesDetector
=== RUN   TestContainsBytesDetector/contains
=== RUN   TestContainsBytesDetector/not_contains
--- PASS: TestContainsBytesDetector (0.00s)
--- PASS: TestContainsBytesDetector/contains (0.00s)
--- PASS: TestContainsBytesDetector/not_contains (0.00s)
=== RUN   TestRegexDetector
=== RUN   TestRegexDetector/hello_world
=== RUN   TestRegexDetector/bla_bla_hello_world_bla_bla
=== RUN   TestRegexDetector/bla_bla_hello_worlds_bla_bla
=== RUN   TestRegexDetector/bla_bla_hello_you_reading_this_test_code
--- PASS: TestRegexDetector (0.00s)
--- PASS: TestRegexDetector/hello_world (0.00s)
--- PASS: TestRegexDetector/bla_bla_hello_world_bla_bla (0.00s)
--- PASS: TestRegexDetector/bla_bla_hello_worlds_bla_bla (0.00s)
--- PASS: TestRegexDetector/bla_bla_hello_you_reading_this_test_code (0.00s)
=== RUN   TestStaticDetectorsProvider
--- PASS: TestStaticDetectorsProvider (0.00s)
=== RUN   TestSequenceDetectorsProvider
=== RUN   TestSequenceDetectorsProvider/returns_first_non-empty_provided_angularDetectors_(first)
=== RUN   TestSequenceDetectorsProvider/returns_first_non-empty_provided_angularDetectors_(second)
=== RUN   TestSequenceDetectorsProvider/returns_nil_if_all_providers_return_empty
--- PASS: TestSequenceDetectorsProvider (0.00s)
--- PASS: TestSequenceDetectorsProvider/returns_first_non-empty_provided_angularDetectors_(first) (0.00s)
--- PASS: TestSequenceDetectorsProvider/returns_first_non-empty_provided_angularDetectors_(second) (0.00s)
--- PASS: TestSequenceDetectorsProvider/returns_nil_if_all_providers_return_empty (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/loader/angular/angulardetector	(cached)
=== RUN   TestPatternsListInspector
=== RUN   TestPatternsListInspector/calls_the_detectors_in_sequence_until_true_is_returned
=== RUN   TestPatternsListInspector/calls_the_detectors_in_sequence_and_returns_false_as_default
=== RUN   TestPatternsListInspector/empty_detectors_should_return_false
--- PASS: TestPatternsListInspector (0.00s)
--- PASS: TestPatternsListInspector/calls_the_detectors_in_sequence_until_true_is_returned (0.00s)
--- PASS: TestPatternsListInspector/calls_the_detectors_in_sequence_and_returns_false_as_default (0.00s)
--- PASS: TestPatternsListInspector/empty_detectors_should_return_false (0.00s)
=== RUN   TestDefaultStaticDetectorsInspector
=== RUN   TestDefaultStaticDetectorsInspector/angular_0
=== RUN   TestDefaultStaticDetectorsInspector/angular_1
=== RUN   TestDefaultStaticDetectorsInspector/angular_2
=== RUN   TestDefaultStaticDetectorsInspector/angular_3
=== RUN   TestDefaultStaticDetectorsInspector/angular_4
=== RUN   TestDefaultStaticDetectorsInspector/angular_5
=== RUN   TestDefaultStaticDetectorsInspector/not_angular_0
=== RUN   TestDefaultStaticDetectorsInspector/not_angular_1
=== RUN   TestDefaultStaticDetectorsInspector/no_module.js
--- PASS: TestDefaultStaticDetectorsInspector (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/angular_0 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/angular_1 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/angular_2 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/angular_3 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/angular_4 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/angular_5 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/not_angular_0 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/not_angular_1 (0.00s)
--- PASS: TestDefaultStaticDetectorsInspector/no_module.js (0.00s)
=== RUN   TestDetectorStringer
=== RUN   TestDetectorStringer/contains_bytes_detector
=== RUN   TestDetectorStringer/regex_detector
--- PASS: TestDetectorStringer (0.00s)
--- PASS: TestDetectorStringer/contains_bytes_detector (0.00s)
--- PASS: TestDetectorStringer/regex_detector (0.00s)
=== RUN   TestFakeInspector
=== RUN   TestFakeInspector/FakeInspector
=== RUN   TestFakeInspector/AlwaysAngularFakeInspector
=== RUN   TestFakeInspector/NeverAngularFakeInspector
--- PASS: TestFakeInspector (0.00s)
--- PASS: TestFakeInspector/FakeInspector (0.00s)
--- PASS: TestFakeInspector/AlwaysAngularFakeInspector (0.00s)
--- PASS: TestFakeInspector/NeverAngularFakeInspector (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/loader/angular/angularinspector	(cached)
=== RUN   TestService
=== RUN   TestService/Simple
=== RUN   TestService/Simple/CDN_Base_URL
=== RUN   TestService/Simple/Base
=== RUN   TestService/Simple/Module
=== RUN   TestService/Simple/RelativeURL
=== RUN   TestService/Simple/GetTranslations
=== RUN   TestService/Not_root
=== RUN   TestService/Not_root/CDN_Base_URL
=== RUN   TestService/Not_root/Base
=== RUN   TestService/Not_root/Module
=== RUN   TestService/Not_root/RelativeURL
=== RUN   TestService/Not_root/GetTranslations
=== RUN   TestService/End_slashes
=== RUN   TestService/End_slashes/CDN_Base_URL
=== RUN   TestService/End_slashes/Base
=== RUN   TestService/End_slashes/Module
=== RUN   TestService/End_slashes/RelativeURL
=== RUN   TestService/End_slashes/GetTranslations
--- PASS: TestService (0.00s)
--- PASS: TestService/Simple (0.00s)
--- PASS: TestService/Simple/CDN_Base_URL (0.00s)
--- PASS: TestService/Simple/Base (0.00s)
--- PASS: TestService/Simple/Module (0.00s)
--- PASS: TestService/Simple/RelativeURL (0.00s)
--- PASS: TestService/Simple/GetTranslations (0.00s)
--- PASS: TestService/Not_root (0.00s)
--- PASS: TestService/Not_root/CDN_Base_URL (0.00s)
--- PASS: TestService/Not_root/Base (0.00s)
--- PASS: TestService/Not_root/Module (0.00s)
--- PASS: TestService/Not_root/RelativeURL (0.00s)
--- PASS: TestService/Not_root/GetTranslations (0.00s)
--- PASS: TestService/End_slashes (0.00s)
--- PASS: TestService/End_slashes/CDN_Base_URL (0.00s)
--- PASS: TestService/End_slashes/Base (0.00s)
--- PASS: TestService/End_slashes/Module (0.00s)
--- PASS: TestService/End_slashes/RelativeURL (0.00s)
--- PASS: TestService/End_slashes/GetTranslations (0.00s)
=== RUN   TestService_ChildPlugins
=== RUN   TestService_ChildPlugins/Local_FS_external_plugin
=== RUN   TestService_ChildPlugins/Local_FS_external_plugin_with_child
=== RUN   TestService_ChildPlugins/Local_FS_core_plugin
=== RUN   TestService_ChildPlugins/Externally-built_Local_FS_core_plugin
=== RUN   TestService_ChildPlugins/CDN_Class_plugin
=== RUN   TestService_ChildPlugins/CDN_Class_plugin_with_child
=== RUN   TestService_ChildPlugins/CDN_supported_plugin
=== RUN   TestService_ChildPlugins/CDN_supported_plugin_with_child
--- PASS: TestService_ChildPlugins (0.00s)
--- PASS: TestService_ChildPlugins/Local_FS_external_plugin (0.00s)
--- PASS: TestService_ChildPlugins/Local_FS_external_plugin_with_child (0.00s)
--- PASS: TestService_ChildPlugins/Local_FS_core_plugin (0.00s)
--- PASS: TestService_ChildPlugins/Externally-built_Local_FS_core_plugin (0.00s)
--- PASS: TestService_ChildPlugins/CDN_Class_plugin (0.00s)
--- PASS: TestService_ChildPlugins/CDN_Class_plugin_with_child (0.00s)
--- PASS: TestService_ChildPlugins/CDN_supported_plugin (0.00s)
--- PASS: TestService_ChildPlugins/CDN_supported_plugin_with_child (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/loader/assetpath	(cached)
=== RUN   TestFinder_Find
=== RUN   TestFinder_Find/Dir_with_single_plugin
=== RUN   TestFinder_Find/Dir_with_nested_plugins
=== RUN   TestFinder_Find/Dir_with_single_plugin_which_has_symbolic_link_root_directory
=== RUN   TestFinder_Find/Multiple_plugin_dirs
=== RUN   TestFinder_Find/Plugin_with_dist_folder_(core_class)
--- PASS: TestFinder_Find (0.01s)
--- PASS: TestFinder_Find/Dir_with_single_plugin (0.00s)
--- PASS: TestFinder_Find/Dir_with_nested_plugins (0.00s)
--- PASS: TestFinder_Find/Dir_with_single_plugin_which_has_symbolic_link_root_directory (0.00s)
--- PASS: TestFinder_Find/Multiple_plugin_dirs (0.00s)
--- PASS: TestFinder_Find/Plugin_with_dist_folder_(core_class) (0.00s)
=== RUN   TestFinder_getAbsPluginJSONPaths
=== RUN   TestFinder_getAbsPluginJSONPaths/When_scanning_a_folder_that_doesn't_exists_shouldn't_return_an_error
=== RUN   TestFinder_getAbsPluginJSONPaths/When_scanning_a_folder_that_lacks_permission_shouldn't_return_an_error
=== RUN   TestFinder_getAbsPluginJSONPaths/When_scanning_a_folder_that_returns_a_non-handled_error_should_return_that_error
--- PASS: TestFinder_getAbsPluginJSONPaths (0.00s)
--- PASS: TestFinder_getAbsPluginJSONPaths/When_scanning_a_folder_that_doesn't_exists_shouldn't_return_an_error (0.00s)
--- PASS: TestFinder_getAbsPluginJSONPaths/When_scanning_a_folder_that_lacks_permission_shouldn't_return_an_error (0.00s)
--- PASS: TestFinder_getAbsPluginJSONPaths/When_scanning_a_folder_that_returns_a_non-handled_error_should_return_that_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/loader/finder	0.032s
?   	github.com/grafana/grafana/pkg/plugins/manager/pipeline	[no test files]
=== RUN   TestSetDefaultNavURL
=== RUN   TestSetDefaultNavURL/When_including_a_dashboard_with_DefaultNav:_true
=== RUN   TestSetDefaultNavURL/When_including_a_dashboard_with_DefaultNav:_true/Default_nav_URL_is_not_set_if_dashboard_UID_field_not_is_set
=== RUN   TestSetDefaultNavURL/When_including_a_dashboard_with_DefaultNav:_true/Default_nav_URL_is_set_if_dashboard_UID_field_is_set
=== RUN   TestSetDefaultNavURL/When_including_a_page_with_DefaultNav:_true
=== RUN   TestSetDefaultNavURL/When_including_a_page_with_DefaultNav:_true/Default_nav_URL_is_set_using_slug
=== RUN   TestSetDefaultNavURL/When_including_a_page_with_DefaultNav:_true/Default_nav_URL_is_set_using_slugified_Name_field_if_Slug_field_is_empty
--- PASS: TestSetDefaultNavURL (0.00s)
--- PASS: TestSetDefaultNavURL/When_including_a_dashboard_with_DefaultNav:_true (0.00s)
--- PASS: TestSetDefaultNavURL/When_including_a_dashboard_with_DefaultNav:_true/Default_nav_URL_is_not_set_if_dashboard_UID_field_not_is_set (0.00s)
--- PASS: TestSetDefaultNavURL/When_including_a_dashboard_with_DefaultNav:_true/Default_nav_URL_is_set_if_dashboard_UID_field_is_set (0.00s)
--- PASS: TestSetDefaultNavURL/When_including_a_page_with_DefaultNav:_true (0.00s)
--- PASS: TestSetDefaultNavURL/When_including_a_page_with_DefaultNav:_true/Default_nav_URL_is_set_using_slug (0.00s)
--- PASS: TestSetDefaultNavURL/When_including_a_page_with_DefaultNav:_true/Default_nav_URL_is_set_using_slugified_Name_field_if_Slug_field_is_empty (0.00s)
=== RUN   TestTemplateDecorateFunc
=== RUN   TestTemplateDecorateFunc/Removes_%VERSION%
=== RUN   TestTemplateDecorateFunc/Removes_%TODAY%
--- PASS: TestTemplateDecorateFunc (0.00s)
--- PASS: TestTemplateDecorateFunc/Removes_%VERSION% (0.00s)
--- PASS: TestTemplateDecorateFunc/Removes_%TODAY% (0.00s)
=== RUN   Test_configureAppChildPlugin
=== RUN   Test_configureAppChildPlugin/Child_plugin_will_inherit_parent_version_information_when_version_is_empty
=== RUN   Test_configureAppChildPlugin/Child_plugin_will_not_inherit_parent_version_information_when_version_is_non-empty
--- PASS: Test_configureAppChildPlugin (0.00s)
--- PASS: Test_configureAppChildPlugin/Child_plugin_will_inherit_parent_version_information_when_version_is_empty (0.00s)
--- PASS: Test_configureAppChildPlugin/Child_plugin_will_not_inherit_parent_version_information_when_version_is_non-empty (0.00s)
=== RUN   TestSkipEnvVarsDecorateFunc
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_false
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true/no_plugin_settings_should_set_SkipHostEnvVars_to_true
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_not_present_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_true_(empty)
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_not_present_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_true_(other_id)
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_false_(only)
=== RUN   TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_false_(with_other)
--- PASS: TestSkipEnvVarsDecorateFunc (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_false (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true/no_plugin_settings_should_set_SkipHostEnvVars_to_true (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_not_present_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_true_(empty) (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_not_present_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_true_(other_id) (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_false_(only) (0.00s)
--- PASS: TestSkipEnvVarsDecorateFunc/config_field_is_true/plugin_setting/plugin_id_in_forwardHostEnvVars_should_set_SkipHostEnvVars_to_false_(with_other) (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/pipeline/bootstrap	(cached)
?   	github.com/grafana/grafana/pkg/plugins/manager/pipeline/discovery	[no test files]
=== RUN   TestInitializer_Initialize
=== RUN   TestInitializer_Initialize/core_backend_datasource
=== RUN   TestInitializer_Initialize/renderer
=== RUN   TestInitializer_Initialize/non_backend_plugin_app
--- PASS: TestInitializer_Initialize (0.00s)
--- PASS: TestInitializer_Initialize/core_backend_datasource (0.00s)
--- PASS: TestInitializer_Initialize/renderer (0.00s)
--- PASS: TestInitializer_Initialize/non_backend_plugin_app (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/pipeline/initialization	(cached)
?   	github.com/grafana/grafana/pkg/plugins/manager/pipeline/termination	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/manager/pipeline/validation	[no test files]
=== RUN   TestProcessManager_Start
=== PAUSE TestProcessManager_Start
=== RUN   TestProcessManager_Stop
=== PAUSE TestProcessManager_Stop
=== RUN   TestProcessManager_ManagedBackendPluginLifecycle
=== PAUSE TestProcessManager_ManagedBackendPluginLifecycle
=== CONT  TestProcessManager_Start
=== RUN   TestProcessManager_Start/Plugin_state_determines_process_start
=== PAUSE TestProcessManager_Start/Plugin_state_determines_process_start
=== RUN   TestProcessManager_Start/Won't_stop_the_plugin_if_the_context_is_cancelled
=== CONT  TestProcessManager_ManagedBackendPluginLifecycle
=== RUN   TestProcessManager_ManagedBackendPluginLifecycle/When_plugin_process_is_killed,_the_process_is_restarted
=== PAUSE TestProcessManager_ManagedBackendPluginLifecycle/When_plugin_process_is_killed,_the_process_is_restarted
=== CONT  TestProcessManager_ManagedBackendPluginLifecycle/When_plugin_process_is_killed,_the_process_is_restarted
=== CONT  TestProcessManager_Stop
=== RUN   TestProcessManager_Stop/Can_stop_a_running_plugin
=== PAUSE TestProcessManager_Stop/Can_stop_a_running_plugin
=== CONT  TestProcessManager_Stop/Can_stop_a_running_plugin
--- PASS: TestProcessManager_Stop (0.00s)
--- PASS: TestProcessManager_Stop/Can_stop_a_running_plugin (0.00s)
=== PAUSE TestProcessManager_Start/Won't_stop_the_plugin_if_the_context_is_cancelled
=== CONT  TestProcessManager_Start/Plugin_state_determines_process_start
=== CONT  TestProcessManager_Start/Won't_stop_the_plugin_if_the_context_is_cancelled
=== RUN   TestProcessManager_Start/Plugin_state_determines_process_start/Unmanaged_backend_plugin_will_not_be_started
=== PAUSE TestProcessManager_Start/Plugin_state_determines_process_start/Unmanaged_backend_plugin_will_not_be_started
=== RUN   TestProcessManager_Start/Plugin_state_determines_process_start/Managed_non-backend_plugin_will_not_be_started
=== PAUSE TestProcessManager_Start/Plugin_state_determines_process_start/Managed_non-backend_plugin_will_not_be_started
=== RUN   TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_signature_error_will_not_be_started
=== PAUSE TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_signature_error_will_not_be_started
=== RUN   TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_no_signature_errors_will_be_started
=== PAUSE TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_no_signature_errors_will_be_started
=== CONT  TestProcessManager_Start/Plugin_state_determines_process_start/Unmanaged_backend_plugin_will_not_be_started
=== CONT  TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_no_signature_errors_will_be_started
=== CONT  TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_signature_error_will_not_be_started
=== CONT  TestProcessManager_Start/Plugin_state_determines_process_start/Managed_non-backend_plugin_will_not_be_started
--- PASS: TestProcessManager_Start (0.00s)
--- PASS: TestProcessManager_Start/Plugin_state_determines_process_start (0.00s)
--- PASS: TestProcessManager_Start/Plugin_state_determines_process_start/Unmanaged_backend_plugin_will_not_be_started (0.00s)
--- PASS: TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_no_signature_errors_will_be_started (0.00s)
--- PASS: TestProcessManager_Start/Plugin_state_determines_process_start/Managed_backend_plugin_with_signature_error_will_not_be_started (0.00s)
--- PASS: TestProcessManager_Start/Plugin_state_determines_process_start/Managed_non-backend_plugin_will_not_be_started (0.00s)
--- PASS: TestProcessManager_Start/Won't_stop_the_plugin_if_the_context_is_cancelled (0.00s)
--- PASS: TestProcessManager_ManagedBackendPluginLifecycle (0.00s)
--- PASS: TestProcessManager_ManagedBackendPluginLifecycle/When_plugin_process_is_killed,_the_process_is_restarted (1.02s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/process	(cached)
=== RUN   TestInMemory
=== RUN   TestInMemory/Test_mix_of_registry_operations
--- PASS: TestInMemory (0.00s)
--- PASS: TestInMemory/Test_mix_of_registry_operations (0.00s)
=== RUN   TestInMemory_Add
=== RUN   TestInMemory_Add/Can_add_a_new_plugin_to_the_registry
=== RUN   TestInMemory_Add/Cannot_add_a_plugin_to_the_registry_if_it_already_exists
=== RUN   TestInMemory_Add/Cannot_add_a_plugin_to_the_registry_even_if_it_has_a_different_version
--- PASS: TestInMemory_Add (0.00s)
--- PASS: TestInMemory_Add/Can_add_a_new_plugin_to_the_registry (0.00s)
--- PASS: TestInMemory_Add/Cannot_add_a_plugin_to_the_registry_if_it_already_exists (0.00s)
--- PASS: TestInMemory_Add/Cannot_add_a_plugin_to_the_registry_even_if_it_has_a_different_version (0.00s)
=== RUN   TestInMemory_Plugin
=== RUN   TestInMemory_Plugin/Can_retrieve_a_plugin
=== RUN   TestInMemory_Plugin/Non-existing_plugin
--- PASS: TestInMemory_Plugin (0.00s)
--- PASS: TestInMemory_Plugin/Can_retrieve_a_plugin (0.00s)
--- PASS: TestInMemory_Plugin/Non-existing_plugin (0.00s)
=== RUN   TestInMemory_Plugins
=== RUN   TestInMemory_Plugins/Can_retrieve_a_list_of_plugin
=== RUN   TestInMemory_Plugins/No_existing_plugins
--- PASS: TestInMemory_Plugins (0.00s)
--- PASS: TestInMemory_Plugins/Can_retrieve_a_list_of_plugin (0.00s)
--- PASS: TestInMemory_Plugins/No_existing_plugins (0.00s)
=== RUN   TestInMemory_Remove
=== RUN   TestInMemory_Remove/Can_remove_a_plugin
=== RUN   TestInMemory_Remove/Cannot_remove_a_plugin_from_the_registry_if_it_doesn't_exist
--- PASS: TestInMemory_Remove (0.00s)
--- PASS: TestInMemory_Remove/Can_remove_a_plugin (0.00s)
--- PASS: TestInMemory_Remove/Cannot_remove_a_plugin_from_the_registry_if_it_doesn't_exist (0.00s)
=== RUN   TestAliasSupport
=== RUN   TestAliasSupport/Test_alias_operations
--- PASS: TestAliasSupport (0.00s)
--- PASS: TestAliasSupport/Test_alias_operations (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/registry	(cached)
=== RUN   TestReadPluginManifest
=== RUN   TestReadPluginManifest/valid_manifest
=== RUN   TestReadPluginManifest/invalid_manifest
--- PASS: TestReadPluginManifest (0.04s)
--- PASS: TestReadPluginManifest/valid_manifest (0.03s)
--- PASS: TestReadPluginManifest/invalid_manifest (0.01s)
=== RUN   TestReadPluginManifestV2
=== RUN   TestReadPluginManifestV2/valid_manifest
--- PASS: TestReadPluginManifestV2 (0.01s)
--- PASS: TestReadPluginManifestV2/valid_manifest (0.01s)
=== RUN   TestCalculate
=== RUN   TestCalculate/Validate_root_URL_against_App_URL_for_non-private_plugin_if_is_specified_in_manifest
=== RUN   TestCalculate/Unsigned_Chromium_file_should_not_invalidate_signature_for_Renderer_plugin_running_on_Windows
=== RUN   TestCalculate/Signature_verification_should_work_with_any_path_separator
=== RUN   TestCalculate/Signature_verification_should_work_with_any_path_separator/unix_local_fs
=== RUN   TestCalculate/Signature_verification_should_work_with_any_path_separator/windows_local_fs
=== RUN   TestCalculate/Signature_verification_should_work_with_any_path_separator/unix_static_fs
=== RUN   TestCalculate/Signature_verification_should_work_with_any_path_separator/windows_static_fs
--- PASS: TestCalculate (0.12s)
--- PASS: TestCalculate/Validate_root_URL_against_App_URL_for_non-private_plugin_if_is_specified_in_manifest (0.04s)
--- PASS: TestCalculate/Unsigned_Chromium_file_should_not_invalidate_signature_for_Renderer_plugin_running_on_Windows (0.02s)
--- PASS: TestCalculate/Signature_verification_should_work_with_any_path_separator (0.06s)
--- PASS: TestCalculate/Signature_verification_should_work_with_any_path_separator/unix_local_fs (0.01s)
--- PASS: TestCalculate/Signature_verification_should_work_with_any_path_separator/windows_local_fs (0.01s)
--- PASS: TestCalculate/Signature_verification_should_work_with_any_path_separator/unix_static_fs (0.02s)
--- PASS: TestCalculate/Signature_verification_should_work_with_any_path_separator/windows_static_fs (0.01s)
=== RUN   TestFsPlatform
=== RUN   TestFsPlatform/unix
=== RUN   TestFsPlatform/windows
--- PASS: TestFsPlatform (0.00s)
--- PASS: TestFsPlatform/unix (0.00s)
--- PASS: TestFsPlatform/windows (0.00s)
=== RUN   TestFSPathSeparatorFiles
=== RUN   TestFSPathSeparatorFiles/unix
=== RUN   TestFSPathSeparatorFiles/windows
--- PASS: TestFSPathSeparatorFiles (0.00s)
--- PASS: TestFSPathSeparatorFiles/unix (0.00s)
--- PASS: TestFSPathSeparatorFiles/windows (0.00s)
=== RUN   Test_urlMatch_privateGlob
=== RUN   Test_urlMatch_privateGlob/Support_single_wildcard_matching_single_subdomain
=== RUN   Test_urlMatch_privateGlob/Do_not_support_single_wildcard_matching_multiple_subdomains
=== RUN   Test_urlMatch_privateGlob/Support_multiple_wildcards_matching_multiple_subdomains
=== RUN   Test_urlMatch_privateGlob/Support_multiple_wildcards_matching_multiple_subdomains#01
=== RUN   Test_urlMatch_privateGlob/Support_single_wildcard_matching_single_paths
=== RUN   Test_urlMatch_privateGlob/Do_not_support_single_wildcard_matching_multiple_paths
=== RUN   Test_urlMatch_privateGlob/Support_double_wildcard_matching_multiple_paths
=== RUN   Test_urlMatch_privateGlob/Do_not_support_subdomain_mismatch
=== RUN   Test_urlMatch_privateGlob/Support_single_wildcard_matching_single_path
=== RUN   Test_urlMatch_privateGlob/Do_not_support_single_wildcard_matching_different_path_prefix
=== RUN   Test_urlMatch_privateGlob/Do_not_support_path_mismatch
=== RUN   Test_urlMatch_privateGlob/Support_both_domain_and_path_wildcards
=== RUN   Test_urlMatch_privateGlob/Do_not_support_wildcards_without_TLDs
=== RUN   Test_urlMatch_privateGlob/Support_exact_match
=== RUN   Test_urlMatch_privateGlob/Does_not_support_scheme_mismatch
=== RUN   Test_urlMatch_privateGlob/Support_trailing_slash_in_spec
=== RUN   Test_urlMatch_privateGlob/Support_trailing_slash_in_target
--- PASS: Test_urlMatch_privateGlob (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_single_wildcard_matching_single_subdomain (0.00s)
--- PASS: Test_urlMatch_privateGlob/Do_not_support_single_wildcard_matching_multiple_subdomains (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_multiple_wildcards_matching_multiple_subdomains (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_multiple_wildcards_matching_multiple_subdomains#01 (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_single_wildcard_matching_single_paths (0.00s)
--- PASS: Test_urlMatch_privateGlob/Do_not_support_single_wildcard_matching_multiple_paths (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_double_wildcard_matching_multiple_paths (0.00s)
--- PASS: Test_urlMatch_privateGlob/Do_not_support_subdomain_mismatch (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_single_wildcard_matching_single_path (0.00s)
--- PASS: Test_urlMatch_privateGlob/Do_not_support_single_wildcard_matching_different_path_prefix (0.00s)
--- PASS: Test_urlMatch_privateGlob/Do_not_support_path_mismatch (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_both_domain_and_path_wildcards (0.00s)
--- PASS: Test_urlMatch_privateGlob/Do_not_support_wildcards_without_TLDs (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_exact_match (0.00s)
--- PASS: Test_urlMatch_privateGlob/Does_not_support_scheme_mismatch (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_trailing_slash_in_spec (0.00s)
--- PASS: Test_urlMatch_privateGlob/Support_trailing_slash_in_target (0.00s)
=== RUN   Test_urlMatch_private
=== RUN   Test_urlMatch_private/Support_exact_match
=== RUN   Test_urlMatch_private/Support_trailing_slash_in_spec
=== RUN   Test_urlMatch_private/Support_trailing_slash_in_target
=== RUN   Test_urlMatch_private/Do_not_support_single_wildcard_matching_single_subdomain
=== RUN   Test_urlMatch_private/Do_not_support_multiple_wildcards_matching_multiple_subdomains
=== RUN   Test_urlMatch_private/Do_not_support_single_wildcard_matching_single_paths
=== RUN   Test_urlMatch_private/Do_not_support_double_wildcard_matching_multiple_paths
=== RUN   Test_urlMatch_private/Do_not_support_subdomain_mismatch
=== RUN   Test_urlMatch_private/Do_not_support_path_mismatch
=== RUN   Test_urlMatch_private/Do_not_support_both_domain_and_path_wildcards
=== RUN   Test_urlMatch_private/Do_not_support_wildcards_without_TLDs
=== RUN   Test_urlMatch_private/Do_not_support_scheme_mismatch
--- PASS: Test_urlMatch_private (0.00s)
--- PASS: Test_urlMatch_private/Support_exact_match (0.00s)
--- PASS: Test_urlMatch_private/Support_trailing_slash_in_spec (0.00s)
--- PASS: Test_urlMatch_private/Support_trailing_slash_in_target (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_single_wildcard_matching_single_subdomain (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_multiple_wildcards_matching_multiple_subdomains (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_single_wildcard_matching_single_paths (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_double_wildcard_matching_multiple_paths (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_subdomain_mismatch (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_path_mismatch (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_both_domain_and_path_wildcards (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_wildcards_without_TLDs (0.00s)
--- PASS: Test_urlMatch_private/Do_not_support_scheme_mismatch (0.00s)
=== RUN   Test_validateManifest
=== RUN   Test_validateManifest/Empty_plugin_field
=== RUN   Test_validateManifest/Empty_keyId_field
=== RUN   Test_validateManifest/Empty_signedByOrg_field
=== RUN   Test_validateManifest/Empty_signedByOrgName_field
=== RUN   Test_validateManifest/Empty_signatureType_field
=== RUN   Test_validateManifest/Invalid_signatureType_field
=== RUN   Test_validateManifest/Empty_files_field
=== RUN   Test_validateManifest/Empty_time_field
=== RUN   Test_validateManifest/Empty_version_field
--- PASS: Test_validateManifest (0.00s)
--- PASS: Test_validateManifest/Empty_plugin_field (0.00s)
--- PASS: Test_validateManifest/Empty_keyId_field (0.00s)
--- PASS: Test_validateManifest/Empty_signedByOrg_field (0.00s)
--- PASS: Test_validateManifest/Empty_signedByOrgName_field (0.00s)
--- PASS: Test_validateManifest/Empty_signatureType_field (0.00s)
--- PASS: Test_validateManifest/Invalid_signatureType_field (0.00s)
--- PASS: Test_validateManifest/Empty_files_field (0.00s)
--- PASS: Test_validateManifest/Empty_time_field (0.00s)
--- PASS: Test_validateManifest/Empty_version_field (0.00s)
=== RUN   Test_VerifyRevokedKey
--- PASS: Test_VerifyRevokedKey (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/signature	0.205s
?   	github.com/grafana/grafana/pkg/plugins/manager/signature/statickey	[no test files]
=== RUN   TestDirAsLocalSources
=== RUN   TestDirAsLocalSources/Empty_path_returns_an_error
=== RUN   TestDirAsLocalSources/Directory_with_subdirectories
=== RUN   TestDirAsLocalSources/Directory_with_no_subdirectories
=== RUN   TestDirAsLocalSources/Directory_with_a_symlink_to_a_directory
--- PASS: TestDirAsLocalSources (0.00s)
--- PASS: TestDirAsLocalSources/Empty_path_returns_an_error (0.00s)
--- PASS: TestDirAsLocalSources/Directory_with_subdirectories (0.00s)
--- PASS: TestDirAsLocalSources/Directory_with_no_subdirectories (0.00s)
--- PASS: TestDirAsLocalSources/Directory_with_a_symlink_to_a_directory (0.00s)
=== RUN   TestSources_List
=== RUN   TestSources_List/Plugin_sources_are_populated_by_default_and_listed_in_specific_order
=== RUN   TestSources_List/Plugin_sources_are_populated_with_symbolic_links
--- PASS: TestSources_List (0.00s)
--- PASS: TestSources_List/Plugin_sources_are_populated_by_default_and_listed_in_specific_order (0.00s)
--- PASS: TestSources_List/Plugin_sources_are_populated_with_symbolic_links (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/manager/sources	0.026s
=== RUN   TestService
=== RUN   TestService/IsCDNPlugin
=== RUN   TestService/CDNBaseURL
=== RUN   TestService/CDNBaseURL/valid
=== RUN   TestService/CDNBaseURL/empty
--- PASS: TestService (0.00s)
--- PASS: TestService/IsCDNPlugin (0.00s)
--- PASS: TestService/CDNBaseURL (0.00s)
--- PASS: TestService/CDNBaseURL/valid (0.00s)
--- PASS: TestService/CDNBaseURL/empty (0.00s)
=== RUN   TestURLConstructor_StringURLFor
=== RUN   TestURLConstructor_StringURLFor/simple
=== RUN   TestURLConstructor_StringURLFor/multiple
=== RUN   TestURLConstructor_StringURLFor/path_traversal
=== RUN   TestURLConstructor_StringURLFor/above_root
=== RUN   TestURLConstructor_StringURLFor/multiple_slashes
=== RUN   TestURLConstructor_StringURLFor/dots
--- PASS: TestURLConstructor_StringURLFor (0.00s)
--- PASS: TestURLConstructor_StringURLFor/simple (0.00s)
--- PASS: TestURLConstructor_StringURLFor/multiple (0.00s)
--- PASS: TestURLConstructor_StringURLFor/path_traversal (0.00s)
--- PASS: TestURLConstructor_StringURLFor/above_root (0.00s)
--- PASS: TestURLConstructor_StringURLFor/multiple_slashes (0.00s)
--- PASS: TestURLConstructor_StringURLFor/dots (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/pluginscdn	(cached)
=== RUN   Test_Download
=== RUN   Test_Download/it_should_download_a_file
=== RUN   Test_Download/it_should_set_the_origin_header
=== RUN   Test_Download/it_should_retry_on_error
=== RUN   Test_Download/it_should_use_gcom_token_when_the_token_is_available_and_request_is_to_GCOM
=== RUN   Test_Download/it_should_not_set_gcom_token_when_the_token_is_available_but_request_is_NOT_to_GCOM
--- PASS: Test_Download (0.01s)
--- PASS: Test_Download/it_should_download_a_file (0.01s)
--- PASS: Test_Download/it_should_set_the_origin_header (0.00s)
--- PASS: Test_Download/it_should_retry_on_error (0.00s)
--- PASS: Test_Download/it_should_use_gcom_token_when_the_token_is_available_and_request_is_to_GCOM (0.00s)
--- PASS: Test_Download/it_should_not_set_gcom_token_when_the_token_is_available_but_request_is_NOT_to_GCOM (0.00s)
=== RUN   TestErrResponse4xx
=== RUN   TestErrResponse4xx/newErrResponse4xx_returns_expected_error_string
--- PASS: TestErrResponse4xx (0.00s)
--- PASS: TestErrResponse4xx/newErrResponse4xx_returns_expected_error_string (0.00s)
=== RUN   TestErrorTemplates
--- PASS: TestErrorTemplates (0.00s)
=== RUN   TestGetPluginArchive
=== RUN   TestGetPluginArchive/Happy_path
=== RUN   TestGetPluginArchive/Incorrect_SHA_returns_error
=== RUN   TestGetPluginArchive/Core_plugin
=== RUN   TestGetPluginArchive/Decoupled_core_plugin
--- PASS: TestGetPluginArchive (0.01s)
--- PASS: TestGetPluginArchive/Happy_path (0.00s)
--- PASS: TestGetPluginArchive/Incorrect_SHA_returns_error (0.00s)
--- PASS: TestGetPluginArchive/Core_plugin (0.00s)
--- PASS: TestGetPluginArchive/Decoupled_core_plugin (0.00s)
=== RUN   TestPluginInfo
--- PASS: TestPluginInfo (0.00s)
=== RUN   TestSelectSystemCompatibleVersion
=== RUN   TestSelectSystemCompatibleVersion/Should_return_error_when_requested_version_does_not_exist
=== RUN   TestSelectSystemCompatibleVersion/Should_return_error_when_no_version_supports_current_arch
=== RUN   TestSelectSystemCompatibleVersion/Should_return_error_when_requested_version_does_not_support_current_arch
=== RUN   TestSelectSystemCompatibleVersion/Should_return_latest_available_for_arch_when_no_version_specified
=== RUN   TestSelectSystemCompatibleVersion/Should_return_latest_version_when_no_version_specified
=== RUN   TestSelectSystemCompatibleVersion/Should_return_requested_version
=== RUN   TestSelectSystemCompatibleVersion/Should_return_error_when_requested_version_is_not_compatible
--- PASS: TestSelectSystemCompatibleVersion (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_error_when_requested_version_does_not_exist (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_error_when_no_version_supports_current_arch (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_error_when_requested_version_does_not_support_current_arch (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_latest_available_for_arch_when_no_version_specified (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_latest_version_when_no_version_specified (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_requested_version (0.00s)
--- PASS: TestSelectSystemCompatibleVersion/Should_return_error_when_requested_version_is_not_compatible (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/repo	(cached)
=== RUN   TestAdd
--- PASS: TestAdd (0.00s)
=== RUN   TestExtractFiles
=== RUN   TestExtractFiles/Should_preserve_file_permissions_for_plugin_backend_binaries_for_linux_and_darwin
=== RUN   TestExtractFiles/Should_extract_file_with_relative_symlink
=== RUN   TestExtractFiles/Should_extract_directory_with_relative_symlink
=== RUN   TestExtractFiles/Should_not_extract_file_with_absolute_symlink
=== RUN   TestExtractFiles/Should_not_extract_directory_with_absolute_symlink
=== RUN   TestExtractFiles/Should_detect_if_archive_members_point_outside_of_the_destination_directory
=== RUN   TestExtractFiles/Should_detect_if_archive_members_are_absolute
--- PASS: TestExtractFiles (0.01s)
--- PASS: TestExtractFiles/Should_preserve_file_permissions_for_plugin_backend_binaries_for_linux_and_darwin (0.00s)
--- PASS: TestExtractFiles/Should_extract_file_with_relative_symlink (0.00s)
--- PASS: TestExtractFiles/Should_extract_directory_with_relative_symlink (0.00s)
--- PASS: TestExtractFiles/Should_not_extract_file_with_absolute_symlink (0.00s)
--- PASS: TestExtractFiles/Should_not_extract_directory_with_absolute_symlink (0.00s)
--- PASS: TestExtractFiles/Should_detect_if_archive_members_point_outside_of_the_destination_directory (0.00s)
--- PASS: TestExtractFiles/Should_detect_if_archive_members_are_absolute (0.00s)
=== RUN   TestRemoveGitBuildFromName
--- PASS: TestRemoveGitBuildFromName (0.00s)
=== RUN   TestIsSymlinkRelativeTo
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_within_basePath_should_return_true
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_within_basePath_should_return_true#01
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_within_basePath_should_return_true#02
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_absolute_directory_outside_basePath_should_return_false
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#01
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#02
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#03
=== RUN   TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#04
--- PASS: TestIsSymlinkRelativeTo (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_within_basePath_should_return_true (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_within_basePath_should_return_true#01 (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_within_basePath_should_return_true#02 (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_absolute_directory_outside_basePath_should_return_false (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#01 (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#02 (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#03 (0.00s)
--- PASS: TestIsSymlinkRelativeTo/Symbolic_link_pointing_to_relative_file_outside_basePath_should_return_false#04 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/plugins/storage	0.031s
?   	github.com/grafana/grafana/pkg/registry	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/alerting/notifications	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/alerting/notifications/receiver	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/alerting/notifications/routingtree	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/alerting/notifications/templategroup	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/alerting/notifications/timeinterval	[no test files]
=== RUN   TestLargeDashboardSupport
--- PASS: TestLargeDashboardSupport (0.00s)
=== RUN   TestDashboardAPIBuilder_Mutate
=== RUN   TestDashboardAPIBuilder_Mutate/should_skip_non-create/update_operations
=== RUN   TestDashboardAPIBuilder_Mutate/v0_should_extract_id_and_set_as_label
=== RUN   TestDashboardAPIBuilder_Mutate/v0_should_not_fail_with_invalid_schema
=== RUN   TestDashboardAPIBuilder_Mutate/v1_should_fail_with_invalid_schema
=== RUN   TestDashboardAPIBuilder_Mutate/v1_should_not_fail_with_invalid_schema_and_FieldValidationIgnore_is_set
=== RUN   TestDashboardAPIBuilder_Mutate/v1_should_migrate_dashboard_to_the_latest_version,_if_possible,_and_set_as_label
=== RUN   TestDashboardAPIBuilder_Mutate/v1_should_error_mutation_hook_if_migration_fails
=== RUN   TestDashboardAPIBuilder_Mutate/v1_should_not_error_mutation_hook_if_migration_fails_and_FieldValidationIgnore_is_set
=== RUN   TestDashboardAPIBuilder_Mutate/v2_should_set_layout_if_it_is_not_set
--- PASS: TestDashboardAPIBuilder_Mutate (0.01s)
--- PASS: TestDashboardAPIBuilder_Mutate/should_skip_non-create/update_operations (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v0_should_extract_id_and_set_as_label (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v0_should_not_fail_with_invalid_schema (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v1_should_fail_with_invalid_schema (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v1_should_not_fail_with_invalid_schema_and_FieldValidationIgnore_is_set (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v1_should_migrate_dashboard_to_the_latest_version,_if_possible,_and_set_as_label (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v1_should_error_mutation_hook_if_migration_fails (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v1_should_not_error_mutation_hook_if_migration_fails_and_FieldValidationIgnore_is_set (0.00s)
--- PASS: TestDashboardAPIBuilder_Mutate/v2_should_set_layout_if_it_is_not_set (0.01s)
=== RUN   TestDashboardAPIBuilder_Validate
=== RUN   TestDashboardAPIBuilder_Validate/should_return_an_error_if_data_is_found
=== RUN   TestDashboardAPIBuilder_Validate/should_return_an_error_if_unable_to_check
=== RUN   TestDashboardAPIBuilder_Validate/should_be_okay_if_error_is_provisioned_dashboard_not_found
=== RUN   TestDashboardAPIBuilder_Validate/Should_still_run_the_check_for_delete_if_grace_period_is_not_0
=== RUN   TestDashboardAPIBuilder_Validate/should_not_run_the_check_for_delete_if_grace_period_is_set_to_0
--- PASS: TestDashboardAPIBuilder_Validate (0.00s)
--- PASS: TestDashboardAPIBuilder_Validate/should_return_an_error_if_data_is_found (0.00s)
--- PASS: TestDashboardAPIBuilder_Validate/should_return_an_error_if_unable_to_check (0.00s)
--- PASS: TestDashboardAPIBuilder_Validate/should_be_okay_if_error_is_provisioned_dashboard_not_found (0.00s)
--- PASS: TestDashboardAPIBuilder_Validate/Should_still_run_the_check_for_delete_if_grace_period_is_not_0 (0.00s)
--- PASS: TestDashboardAPIBuilder_Validate/should_not_run_the_check_for_delete_if_grace_period_is_set_to_0 (0.00s)
=== RUN   TestDashboardAPIBuilder_GetGroupVersions
=== RUN   TestDashboardAPIBuilder_GetGroupVersions/should_return_v1alpha1_by_default
=== RUN   TestDashboardAPIBuilder_GetGroupVersions/should_return_v1alpha1_as_the_default_if_some_other_feature_is_enabled
=== RUN   TestDashboardAPIBuilder_GetGroupVersions/should_return_v2alpha1_as_the_default_if_dashboards_v2_is_enabled
--- PASS: TestDashboardAPIBuilder_GetGroupVersions (0.00s)
--- PASS: TestDashboardAPIBuilder_GetGroupVersions/should_return_v1alpha1_by_default (0.00s)
--- PASS: TestDashboardAPIBuilder_GetGroupVersions/should_return_v1alpha1_as_the_default_if_some_other_feature_is_enabled (0.00s)
--- PASS: TestDashboardAPIBuilder_GetGroupVersions/should_return_v2alpha1_as_the_default_if_dashboards_v2_is_enabled (0.00s)
=== RUN   TestSearchFallback
=== RUN   TestSearchFallback/should_hit_legacy_search_handler_on_mode_0
=== RUN   TestSearchFallback/should_hit_legacy_search_handler_on_mode_1
=== RUN   TestSearchFallback/should_hit_legacy_search_handler_on_mode_2
=== RUN   TestSearchFallback/should_hit_unified_storage_search_handler_on_mode_3
=== RUN   TestSearchFallback/should_hit_unified_storage_search_handler_on_mode_4
=== RUN   TestSearchFallback/should_hit_unified_storage_search_handler_on_mode_5
--- PASS: TestSearchFallback (0.00s)
--- PASS: TestSearchFallback/should_hit_legacy_search_handler_on_mode_0 (0.00s)
--- PASS: TestSearchFallback/should_hit_legacy_search_handler_on_mode_1 (0.00s)
--- PASS: TestSearchFallback/should_hit_legacy_search_handler_on_mode_2 (0.00s)
--- PASS: TestSearchFallback/should_hit_unified_storage_search_handler_on_mode_3 (0.00s)
--- PASS: TestSearchFallback/should_hit_unified_storage_search_handler_on_mode_4 (0.00s)
--- PASS: TestSearchFallback/should_hit_unified_storage_search_handler_on_mode_5 (0.00s)
=== RUN   TestSearchHandler
=== RUN   TestSearchHandler/Multiple_comma_separated_fields_will_be_appended_to_default_dashboard_search_fields
=== RUN   TestSearchHandler/Single_field_will_be_appended_to_default_dashboard_search_fields
=== RUN   TestSearchHandler/Passing_no_fields_will_search_using_default_dashboard_fields
=== RUN   TestSearchHandler/Sort_-_default_sort_by_resource
--- PASS: TestSearchHandler (0.00s)
--- PASS: TestSearchHandler/Multiple_comma_separated_fields_will_be_appended_to_default_dashboard_search_fields (0.00s)
--- PASS: TestSearchHandler/Single_field_will_be_appended_to_default_dashboard_search_fields (0.00s)
--- PASS: TestSearchHandler/Passing_no_fields_will_search_using_default_dashboard_fields (0.00s)
--- PASS: TestSearchHandler/Sort_-_default_sort_by_resource (0.00s)
=== RUN   TestSearchHandlerSharedDashboards
=== RUN   TestSearchHandlerSharedDashboards/should_bail_out_if_FlagUnifiedStorageSearchPermissionFiltering_is_not_enabled_globally
=== RUN   TestSearchHandlerSharedDashboards/should_return_empty_result_without_searching_if_user_does_not_have_shared_dashboards
=== RUN   TestSearchHandlerSharedDashboards/should_return_empty_result_if_user_has_access_to_folder_of_all_shared_dashboards
=== RUN   TestSearchHandlerSharedDashboards/should_return_the_dashboards_shared_with_the_user
--- PASS: TestSearchHandlerSharedDashboards (0.00s)
--- PASS: TestSearchHandlerSharedDashboards/should_bail_out_if_FlagUnifiedStorageSearchPermissionFiltering_is_not_enabled_globally (0.00s)
--- PASS: TestSearchHandlerSharedDashboards/should_return_empty_result_without_searching_if_user_does_not_have_shared_dashboards (0.00s)
--- PASS: TestSearchHandlerSharedDashboards/should_return_empty_result_if_user_has_access_to_folder_of_all_shared_dashboards (0.00s)
--- PASS: TestSearchHandlerSharedDashboards/should_return_the_dashboards_shared_with_the_user (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/dashboard	0.410s
=== RUN   TestDashboardQueries
=== PAUSE TestDashboardQueries
=== RUN   TestScanRow
=== RUN   TestScanRow/Should_scan_a_valid_row_correctly
=== RUN   TestScanRow/File_provisioned_dashboard_should_have_annotations
=== RUN   TestScanRow/Plugin_provisioned_dashboard_should_have_annotations
--- PASS: TestScanRow (0.00s)
--- PASS: TestScanRow/Should_scan_a_valid_row_correctly (0.00s)
--- PASS: TestScanRow/File_provisioned_dashboard_should_have_annotations (0.00s)
--- PASS: TestScanRow/Plugin_provisioned_dashboard_should_have_annotations (0.00s)
=== RUN   TestBuildSaveDashboardCommand
=== RUN   TestBuildSaveDashboardCommand/with_schema_version_36_should_save_as_v0alpha1
=== RUN   TestBuildSaveDashboardCommand/with_schema_version_41_should_save_as_v1alpha1
=== RUN   TestBuildSaveDashboardCommand/with_empty_schema_version_should_save_as_v0alpha1
--- PASS: TestBuildSaveDashboardCommand (0.00s)
--- PASS: TestBuildSaveDashboardCommand/with_schema_version_36_should_save_as_v0alpha1 (0.00s)
--- PASS: TestBuildSaveDashboardCommand/with_schema_version_41_should_save_as_v1alpha1 (0.00s)
--- PASS: TestBuildSaveDashboardCommand/with_empty_schema_version_should_save_as_v0alpha1 (0.00s)
=== RUN   TestGetProvisioningDataFromEvent
=== RUN   TestGetProvisioningDataFromEvent/valid_provisioning_data
=== RUN   TestGetProvisioningDataFromEvent/non-provisioned_dashboard
=== RUN   TestGetProvisioningDataFromEvent/missing_runtime_object
--- PASS: TestGetProvisioningDataFromEvent (0.00s)
--- PASS: TestGetProvisioningDataFromEvent/valid_provisioning_data (0.00s)
--- PASS: TestGetProvisioningDataFromEvent/non-provisioned_dashboard (0.00s)
--- PASS: TestGetProvisioningDataFromEvent/missing_runtime_object (0.00s)
=== RUN   TestWriteProvisioningEvent
--- PASS: TestWriteProvisioningEvent (0.00s)
=== CONT  TestDashboardQueries
=== RUN   TestDashboardQueries/query_dashboards.sql
=== PAUSE TestDashboardQueries/query_dashboards.sql
=== RUN   TestDashboardQueries/query_panels.sql
=== PAUSE TestDashboardQueries/query_panels.sql
=== CONT  TestDashboardQueries/query_dashboards.sql
=== CONT  TestDashboardQueries/query_panels.sql
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid
=== RUN   TestDashboardQueries/query_panels.sql/list
=== PAUSE TestDashboardQueries/query_dashboards.sql/history_uid
=== PAUSE TestDashboardQueries/query_panels.sql/list
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_at_version
=== RUN   TestDashboardQueries/query_panels.sql/list_page_two
=== PAUSE TestDashboardQueries/query_panels.sql/list_page_two
=== PAUSE TestDashboardQueries/query_dashboards.sql/history_uid_at_version
=== RUN   TestDashboardQueries/query_panels.sql/get_uid
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_second_page
=== PAUSE TestDashboardQueries/query_panels.sql/get_uid
=== PAUSE TestDashboardQueries/query_dashboards.sql/history_uid_second_page
=== CONT  TestDashboardQueries/query_panels.sql/list_page_two
=== CONT  TestDashboardQueries/query_panels.sql/get_uid
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard
=== PAUSE TestDashboardQueries/query_dashboards.sql/dashboard
=== RUN   TestDashboardQueries/query_panels.sql/get_uid/mysql
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard_next_page
=== RUN   TestDashboardQueries/query_panels.sql/list_page_two/mysql
=== PAUSE TestDashboardQueries/query_dashboards.sql/dashboard_next_page
=== RUN   TestDashboardQueries/query_dashboards.sql/folders
=== PAUSE TestDashboardQueries/query_dashboards.sql/folders
=== RUN   TestDashboardQueries/query_dashboards.sql/export_with_history
=== PAUSE TestDashboardQueries/query_dashboards.sql/export_with_history
=== CONT  TestDashboardQueries/query_panels.sql/list
=== RUN   TestDashboardQueries/query_panels.sql/list/mysql
=== CONT  TestDashboardQueries/query_dashboards.sql/dashboard_next_page
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard_next_page/mysql
=== CONT  TestDashboardQueries/query_dashboards.sql/export_with_history
=== RUN   TestDashboardQueries/query_dashboards.sql/export_with_history/mysql
=== CONT  TestDashboardQueries/query_dashboards.sql/history_uid
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid/mysql
=== CONT  TestDashboardQueries/query_dashboards.sql/dashboard
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard/mysql
=== CONT  TestDashboardQueries/query_dashboards.sql/folders
=== RUN   TestDashboardQueries/query_dashboards.sql/folders/mysql
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard_next_page/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/export_with_history/sqlite
=== RUN   TestDashboardQueries/query_panels.sql/list_page_two/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/folders/sqlite
=== RUN   TestDashboardQueries/query_panels.sql/get_uid/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid/postgres
=== RUN   TestDashboardQueries/query_panels.sql/list/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard_next_page/postgres
=== RUN   TestDashboardQueries/query_dashboards.sql/folders/postgres
=== RUN   TestDashboardQueries/query_dashboards.sql/dashboard/postgres
=== RUN   TestDashboardQueries/query_panels.sql/list_page_two/postgres
=== CONT  TestDashboardQueries/query_dashboards.sql/history_uid_second_page
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_second_page/mysql
=== RUN   TestDashboardQueries/query_panels.sql/get_uid/postgres
=== RUN   TestDashboardQueries/query_dashboards.sql/export_with_history/postgres
=== CONT  TestDashboardQueries/query_dashboards.sql/history_uid_at_version
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_at_version/mysql
=== RUN   TestDashboardQueries/query_panels.sql/list/postgres
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_at_version/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_second_page/sqlite
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_at_version/postgres
=== RUN   TestDashboardQueries/query_dashboards.sql/history_uid_second_page/postgres
--- PASS: TestDashboardQueries (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list_page_two (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list_page_two/mysql (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list_page_two/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list_page_two/postgres (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/get_uid (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/get_uid/mysql (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/get_uid/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/get_uid/postgres (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list/mysql (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_panels.sql/list/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/folders (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/folders/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/folders/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/folders/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard_next_page (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard_next_page/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard_next_page/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard_next_page/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/dashboard/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/export_with_history (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/export_with_history/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/export_with_history/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/export_with_history/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_at_version (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_at_version/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_at_version/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_at_version/postgres (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_second_page (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_second_page/mysql (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_second_page/sqlite (0.00s)
--- PASS: TestDashboardQueries/query_dashboards.sql/history_uid_second_page/postgres (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/dashboard/legacy	0.411s
=== RUN   TestDashboardSearchClient_Search
=== RUN   TestDashboardSearchClient_Search/Should_parse_results_into_GRPC
=== RUN   TestDashboardSearchClient_Search/Sorting_should_be_properly_parsed_into_legacy_sorting_options_(asc),_and_results_added
=== RUN   TestDashboardSearchClient_Search/Sorting_should_be_properly_parsed_into_legacy_sorting_options_(desc)
=== RUN   TestDashboardSearchClient_Search/Query_for_tags_should_return_facet_properly
=== RUN   TestDashboardSearchClient_Search/Query_should_be_set_as_the_title,_and_*_should_be_removed
=== RUN   TestDashboardSearchClient_Search/Should_read_labels_for_the_dashboard_ids
=== RUN   TestDashboardSearchClient_Search/Should_modify_fields_to_legacy_compatible_queries
=== RUN   TestDashboardSearchClient_Search/Should_retrieve_dashboards_by_plugin_through_a_different_function
=== RUN   TestDashboardSearchClient_Search/Should_retrieve_dashboards_by_provisioner_name_through_a_different_function
=== RUN   TestDashboardSearchClient_Search/Should_retrieve_orphaned_dashboards_if_provisioner_not_in_is_specified
=== RUN   TestDashboardSearchClient_Search/Should_set_empty_sort_field_when_sorting_by_title
=== RUN   TestDashboardSearchClient_Search/Should_set_correct_sort_field_when_sorting_by_views
--- PASS: TestDashboardSearchClient_Search (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_parse_results_into_GRPC (0.00s)
--- PASS: TestDashboardSearchClient_Search/Sorting_should_be_properly_parsed_into_legacy_sorting_options_(asc),_and_results_added (0.00s)
--- PASS: TestDashboardSearchClient_Search/Sorting_should_be_properly_parsed_into_legacy_sorting_options_(desc) (0.00s)
--- PASS: TestDashboardSearchClient_Search/Query_for_tags_should_return_facet_properly (0.00s)
--- PASS: TestDashboardSearchClient_Search/Query_should_be_set_as_the_title,_and_*_should_be_removed (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_read_labels_for_the_dashboard_ids (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_modify_fields_to_legacy_compatible_queries (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_retrieve_dashboards_by_plugin_through_a_different_function (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_retrieve_dashboards_by_provisioner_name_through_a_different_function (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_retrieve_orphaned_dashboards_if_provisioner_not_in_is_specified (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_set_empty_sort_field_when_sorting_by_title (0.00s)
--- PASS: TestDashboardSearchClient_Search/Should_set_correct_sort_field_when_sorting_by_views (0.00s)
=== RUN   TestParseSortName
=== RUN   TestParseSortName/empty_sort_name
=== RUN   TestParseSortName/viewed-recently_with_desc_suffix
=== RUN   TestParseSortName/defaults_to_desc
=== RUN   TestParseSortName/errors-recentlyy_with_asc_suffix
=== RUN   TestParseSortName/errors_-_defaults_to_desc_too
=== RUN   TestParseSortName/alpha_sort_with_asc_suffix
=== RUN   TestParseSortName/invalid_sort_name
--- PASS: TestParseSortName (0.00s)
--- PASS: TestParseSortName/empty_sort_name (0.00s)
--- PASS: TestParseSortName/viewed-recently_with_desc_suffix (0.00s)
--- PASS: TestParseSortName/defaults_to_desc (0.00s)
--- PASS: TestParseSortName/errors-recentlyy_with_asc_suffix (0.00s)
--- PASS: TestParseSortName/errors_-_defaults_to_desc_too (0.00s)
--- PASS: TestParseSortName/alpha_sort_with_asc_suffix (0.00s)
--- PASS: TestParseSortName/invalid_sort_name (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/dashboard/legacysearcher	(cached)
?   	github.com/grafana/grafana/pkg/registry/apis/dashboardsnapshot	[no test files]
=== RUN   TestSubQueryConvertConnect
--- PASS: TestSubQueryConvertConnect (0.00s)
=== RUN   TestSubQueryConnect
--- PASS: TestSubQueryConnect (0.00s)
=== RUN   TestSubQueryConnectWhenDatasourceNotFound
--- PASS: TestSubQueryConnectWhenDatasourceNotFound (0.00s)
=== RUN   TestResourceRequest
=== RUN   TestResourceRequest/no_resource_path
=== RUN   TestResourceRequest/root_resource_path
=== RUN   TestResourceRequest/root_resource_path#01
=== RUN   TestResourceRequest/resource_sub_path
=== RUN   TestResourceRequest/resource_sub_path_with_colon
=== RUN   TestResourceRequest/resource_sub_path_with_query_params
--- PASS: TestResourceRequest (0.00s)
--- PASS: TestResourceRequest/no_resource_path (0.00s)
--- PASS: TestResourceRequest/root_resource_path (0.00s)
--- PASS: TestResourceRequest/root_resource_path#01 (0.00s)
--- PASS: TestResourceRequest/resource_sub_path (0.00s)
--- PASS: TestResourceRequest/resource_sub_path_with_colon (0.00s)
--- PASS: TestResourceRequest/resource_sub_path_with_query_params (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/datasource	(cached)
=== RUN   TestGetFeatureToggles
=== RUN   TestGetFeatureToggles/fails_without_adequate_permissions
=== RUN   TestGetFeatureToggles/should_be_able_to_get_feature_toggles
=== RUN   TestGetFeatureToggles/toggles_hidden_by_config_are_not_present_in_the_response
=== RUN   TestGetFeatureToggles/toggles_that_are_read-only_by_config_have_the_readOnly_field_set
=== RUN   TestGetFeatureToggles/feature_toggle_defailts
=== RUN   TestGetFeatureToggles/feature_toggle_defailts/unknown,_experimental,_and_private_preview_toggles_are_hidden_by_default
=== RUN   TestGetFeatureToggles/feature_toggle_defailts/only_public_preview_and_GA_with_AllowSelfServe_are_writeable
=== RUN   TestGetFeatureToggles/feature_toggle_defailts/all_toggles_are_read-only_when_server_is_misconfigured
--- PASS: TestGetFeatureToggles (0.00s)
--- PASS: TestGetFeatureToggles/fails_without_adequate_permissions (0.00s)
--- PASS: TestGetFeatureToggles/should_be_able_to_get_feature_toggles (0.00s)
--- PASS: TestGetFeatureToggles/toggles_hidden_by_config_are_not_present_in_the_response (0.00s)
--- PASS: TestGetFeatureToggles/toggles_that_are_read-only_by_config_have_the_readOnly_field_set (0.00s)
--- PASS: TestGetFeatureToggles/feature_toggle_defailts (0.00s)
--- PASS: TestGetFeatureToggles/feature_toggle_defailts/unknown,_experimental,_and_private_preview_toggles_are_hidden_by_default (0.00s)
--- PASS: TestGetFeatureToggles/feature_toggle_defailts/only_public_preview_and_GA_with_AllowSelfServe_are_writeable (0.00s)
--- PASS: TestGetFeatureToggles/feature_toggle_defailts/all_toggles_are_read-only_when_server_is_misconfigured (0.00s)
=== RUN   TestSetFeatureToggles
=== RUN   TestSetFeatureToggles/fails_when_the_user_doesn't_have_write_permissions
=== RUN   TestSetFeatureToggles/fails_when_update_toggle_url_is_not_set
=== RUN   TestSetFeatureToggles/fails_with_non-existent_toggle
=== RUN   TestSetFeatureToggles/fails_with_read-only_toggles
=== RUN   TestSetFeatureToggles/fails_with_read-only_toggles/because_it_is_the_feature_toggle_admin_page_toggle
=== RUN   TestSetFeatureToggles/fails_with_read-only_toggles/because_it_is_not_GA_or_Deprecated
=== RUN   TestSetFeatureToggles/fails_with_read-only_toggles/because_it_is_configured_to_be_read-only
=== RUN   TestSetFeatureToggles/when_all_conditions_met
=== RUN   TestSetFeatureToggles/when_all_conditions_met/fail_when_webhook_request_is_not_successful
=== RUN   TestSetFeatureToggles/when_all_conditions_met/succeed_when_webhook_request_is_not_successful_but_app_is_in_dev_mode
=== RUN   TestSetFeatureToggles/when_all_conditions_met/succeed_when_webhook_request_is_successful
--- PASS: TestSetFeatureToggles (0.00s)
--- PASS: TestSetFeatureToggles/fails_when_the_user_doesn't_have_write_permissions (0.00s)
--- PASS: TestSetFeatureToggles/fails_when_update_toggle_url_is_not_set (0.00s)
--- PASS: TestSetFeatureToggles/fails_with_non-existent_toggle (0.00s)
--- PASS: TestSetFeatureToggles/fails_with_read-only_toggles (0.00s)
--- PASS: TestSetFeatureToggles/fails_with_read-only_toggles/because_it_is_the_feature_toggle_admin_page_toggle (0.00s)
--- PASS: TestSetFeatureToggles/fails_with_read-only_toggles/because_it_is_not_GA_or_Deprecated (0.00s)
--- PASS: TestSetFeatureToggles/fails_with_read-only_toggles/because_it_is_configured_to_be_read-only (0.00s)
--- PASS: TestSetFeatureToggles/when_all_conditions_met (0.00s)
--- PASS: TestSetFeatureToggles/when_all_conditions_met/fail_when_webhook_request_is_not_successful (0.00s)
--- PASS: TestSetFeatureToggles/when_all_conditions_met/succeed_when_webhook_request_is_not_successful_but_app_is_in_dev_mode (0.00s)
--- PASS: TestSetFeatureToggles/when_all_conditions_met/succeed_when_webhook_request_is_successful (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/featuretoggle	(cached)
=== RUN   TestLegacyAuthorizer
=== RUN   TestLegacyAuthorizer/user_with_create_permissions_should_be_able_to_create_a_folder
=== RUN   TestLegacyAuthorizer/not_possible_to_create_a_folder_without_a_user
=== RUN   TestLegacyAuthorizer/user_without_permissions_should_not_be_able_to_create_a_folder
=== RUN   TestLegacyAuthorizer/user_in_another_orgId_should_not_be_able_to_create_a_folder_
=== RUN   TestLegacyAuthorizer/user_with_read_permissions_should_be_able_to_list_folders
=== RUN   TestLegacyAuthorizer/user_with_delete_permissions_should_be_able_to_delete_a_folder
=== RUN   TestLegacyAuthorizer/user_without_delete_permissions_should_NOT_be_able_to_delete_a_folder
=== RUN   TestLegacyAuthorizer/user_with_write_permissions_should_be_able_to_update_a_folder
=== RUN   TestLegacyAuthorizer/user_without_write_permissions_should_NOT_be_able_to_update_a_folder
--- PASS: TestLegacyAuthorizer (0.00s)
--- PASS: TestLegacyAuthorizer/user_with_create_permissions_should_be_able_to_create_a_folder (0.00s)
--- PASS: TestLegacyAuthorizer/not_possible_to_create_a_folder_without_a_user (0.00s)
--- PASS: TestLegacyAuthorizer/user_without_permissions_should_not_be_able_to_create_a_folder (0.00s)
--- PASS: TestLegacyAuthorizer/user_in_another_orgId_should_not_be_able_to_create_a_folder_ (0.00s)
--- PASS: TestLegacyAuthorizer/user_with_read_permissions_should_be_able_to_list_folders (0.00s)
--- PASS: TestLegacyAuthorizer/user_with_delete_permissions_should_be_able_to_delete_a_folder (0.00s)
--- PASS: TestLegacyAuthorizer/user_without_delete_permissions_should_NOT_be_able_to_delete_a_folder (0.00s)
--- PASS: TestLegacyAuthorizer/user_with_write_permissions_should_be_able_to_update_a_folder (0.00s)
--- PASS: TestLegacyAuthorizer/user_without_write_permissions_should_NOT_be_able_to_update_a_folder (0.00s)
=== RUN   TestMultiTenantAuthorizer
=== RUN   TestMultiTenantAuthorizer/non_access_policy_idenity_should_not_be_able_to_authorize
=== RUN   TestMultiTenantAuthorizer/access_policy_identity_with_correct_permissions_should_be_able_to_authorize
=== RUN   TestMultiTenantAuthorizer/access_policy_identity_without_correct_permissions_should_not_be_able_to_authorize
--- PASS: TestMultiTenantAuthorizer (0.00s)
--- PASS: TestMultiTenantAuthorizer/non_access_policy_idenity_should_not_be_able_to_authorize (0.00s)
--- PASS: TestMultiTenantAuthorizer/access_policy_identity_with_correct_permissions_should_be_able_to_authorize (0.00s)
--- PASS: TestMultiTenantAuthorizer/access_policy_identity_without_correct_permissions_should_not_be_able_to_authorize (0.00s)
=== RUN   TestContinueToken
--- PASS: TestContinueToken (0.00s)
=== RUN   TestSetDefaultPermissionsWhenCreatingFolder
=== RUN   TestSetDefaultPermissionsWhenCreatingFolder/folder_creation_succeeds,_via_legacy_storage
--- PASS: TestSetDefaultPermissionsWhenCreatingFolder (0.00s)
--- PASS: TestSetDefaultPermissionsWhenCreatingFolder/folder_creation_succeeds,_via_legacy_storage (0.00s)
=== RUN   TestLegacyStorageList
--- PASS: TestLegacyStorageList (0.00s)
=== RUN   TestLegacyStorage_List_Pagination
=== RUN   TestLegacyStorage_List_Pagination/should_set_correct_continue_token
=== RUN   TestLegacyStorage_List_Pagination/should_set_page_to_1_when_limit_is_set_without_continue_token
--- PASS: TestLegacyStorage_List_Pagination (0.00s)
--- PASS: TestLegacyStorage_List_Pagination/should_set_correct_continue_token (0.00s)
--- PASS: TestLegacyStorage_List_Pagination/should_set_page_to_1_when_limit_is_set_without_continue_token (0.00s)
=== RUN   TestLegacyStorage_List_LabelSelector
=== RUN   TestLegacyStorage_List_LabelSelector/should_handle_nil_label_selector
=== RUN   TestLegacyStorage_List_LabelSelector/should_set_fullpath_query_parameters_when_label_selector_matches
--- PASS: TestLegacyStorage_List_LabelSelector (0.00s)
--- PASS: TestLegacyStorage_List_LabelSelector/should_handle_nil_label_selector (0.00s)
--- PASS: TestLegacyStorage_List_LabelSelector/should_set_fullpath_query_parameters_when_label_selector_matches (0.00s)
=== RUN   TestFolderAPIBuilder_Validate_Create
=== RUN   TestFolderAPIBuilder_Validate_Create/should_return_error_when_name_is_invalid
=== RUN   TestFolderAPIBuilder_Validate_Create/should_return_no_error_if_every_validation_passes
=== RUN   TestFolderAPIBuilder_Validate_Create/should_not_allow_creating_a_folder_in_a_tree_that_is_too_deep
=== RUN   TestFolderAPIBuilder_Validate_Create/should_return_error_when_title_is_empty
=== RUN   TestFolderAPIBuilder_Validate_Create/should_return_error_if_folder_is_a_parent_of_itself
--- PASS: TestFolderAPIBuilder_Validate_Create (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Create/should_return_error_when_name_is_invalid (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Create/should_return_no_error_if_every_validation_passes (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Create/should_not_allow_creating_a_folder_in_a_tree_that_is_too_deep (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Create/should_return_error_when_title_is_empty (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Create/should_return_error_if_folder_is_a_parent_of_itself (0.00s)
=== RUN   TestFolderAPIBuilder_Validate_Delete
=== RUN   TestFolderAPIBuilder_Validate_Delete/should_allow_deletion_when_folder_is_empty
=== RUN   TestFolderAPIBuilder_Validate_Delete/should_return_folder_not_empty_when_the_folder_is_not_empty
--- PASS: TestFolderAPIBuilder_Validate_Delete (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Delete/should_allow_deletion_when_folder_is_empty (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Delete/should_return_folder_not_empty_when_the_folder_is_not_empty (0.00s)
=== RUN   TestFolderAPIBuilder_Validate_Update
=== RUN   TestFolderAPIBuilder_Validate_Update/should_allow_updating_a_folder_spec
=== RUN   TestFolderAPIBuilder_Validate_Update/updated_title_should_not_be_empty
=== RUN   TestFolderAPIBuilder_Validate_Update/should_allow_moving_to_a_valid_parent
=== RUN   TestFolderAPIBuilder_Validate_Update/should_not_allow_moving_to_a_k6_folder
=== RUN   TestFolderAPIBuilder_Validate_Update/should_not_allow_moving_to_a_folder_that_is_too_deep
--- PASS: TestFolderAPIBuilder_Validate_Update (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Update/should_allow_updating_a_folder_spec (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Update/updated_title_should_not_be_empty (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Update/should_allow_moving_to_a_valid_parent (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Update/should_not_allow_moving_to_a_k6_folder (0.00s)
--- PASS: TestFolderAPIBuilder_Validate_Update/should_not_allow_moving_to_a_folder_that_is_too_deep (0.00s)
=== RUN   TestFolderAPIBuilder_Mutate_Create
=== RUN   TestFolderAPIBuilder_Mutate_Create/should_trim_a_title
=== RUN   TestFolderAPIBuilder_Mutate_Create/should_return_error_if_title_doesnt_exist
=== RUN   TestFolderAPIBuilder_Mutate_Create/should_return_error_if_spec_doesnt_exist
--- PASS: TestFolderAPIBuilder_Mutate_Create (0.00s)
--- PASS: TestFolderAPIBuilder_Mutate_Create/should_trim_a_title (0.00s)
--- PASS: TestFolderAPIBuilder_Mutate_Create/should_return_error_if_title_doesnt_exist (0.00s)
--- PASS: TestFolderAPIBuilder_Mutate_Create/should_return_error_if_spec_doesnt_exist (0.00s)
=== RUN   TestFolderAPIBuilder_Mutate_Update
=== RUN   TestFolderAPIBuilder_Mutate_Update/should_trim_a_title
=== RUN   TestFolderAPIBuilder_Mutate_Update/should_return_error_if_title_doesnt_exist
=== RUN   TestFolderAPIBuilder_Mutate_Update/should_return_error_if_spec_doesnt_exist
--- PASS: TestFolderAPIBuilder_Mutate_Update (0.00s)
--- PASS: TestFolderAPIBuilder_Mutate_Update/should_trim_a_title (0.00s)
--- PASS: TestFolderAPIBuilder_Mutate_Update/should_return_error_if_title_doesnt_exist (0.00s)
--- PASS: TestFolderAPIBuilder_Mutate_Update/should_return_error_if_spec_doesnt_exist (0.00s)
=== RUN   TestSubParent
=== RUN   TestSubParent/no_parents
=== RUN   TestSubParent/has_a_parent
--- PASS: TestSubParent (0.00s)
--- PASS: TestSubParent/no_parents (0.00s)
--- PASS: TestSubParent/has_a_parent (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/folders	(cached)
?   	github.com/grafana/grafana/pkg/registry/apis/iam	[no test files]
=== RUN   TestList
=== RUN   TestList/should_allow_all_items_if_no_access_client_is_passed
=== RUN   TestList/should_filter_out_items_that_are_allowed
=== RUN   TestList/should_fetch_more_for_partial_response_with_continue_token
--- PASS: TestList (0.00s)
--- PASS: TestList/should_allow_all_items_if_no_access_client_is_passed (0.00s)
--- PASS: TestList/should_filter_out_items_that_are_allowed (0.00s)
--- PASS: TestList/should_fetch_more_for_partial_response_with_continue_token (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/iam/common	(cached)
=== RUN   TestIdentityQueries
=== PAUSE TestIdentityQueries
=== CONT  TestIdentityQueries
=== RUN   TestIdentityQueries/users_query.sql
=== PAUSE TestIdentityQueries/users_query.sql
=== RUN   TestIdentityQueries/display_query.sql
=== PAUSE TestIdentityQueries/display_query.sql
=== RUN   TestIdentityQueries/team_bindings_query.sql
=== PAUSE TestIdentityQueries/team_bindings_query.sql
=== RUN   TestIdentityQueries/team_members_query.sql
=== PAUSE TestIdentityQueries/team_members_query.sql
=== RUN   TestIdentityQueries/user_teams_query.sql
=== PAUSE TestIdentityQueries/user_teams_query.sql
=== RUN   TestIdentityQueries/teams_query.sql
=== PAUSE TestIdentityQueries/teams_query.sql
=== CONT  TestIdentityQueries/users_query.sql
=== RUN   TestIdentityQueries/users_query.sql/users_uid
=== PAUSE TestIdentityQueries/users_query.sql/users_uid
=== CONT  TestIdentityQueries/user_teams_query.sql
=== CONT  TestIdentityQueries/display_query.sql
=== CONT  TestIdentityQueries/team_bindings_query.sql
=== CONT  TestIdentityQueries/team_members_query.sql
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_1
=== RUN   TestIdentityQueries/display_query.sql/display_uids
=== PAUSE TestIdentityQueries/display_query.sql/display_uids
=== RUN   TestIdentityQueries/display_query.sql/display_ids
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_1
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_1_bindings
=== PAUSE TestIdentityQueries/user_teams_query.sql/team_1_members_page_1
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_2
=== PAUSE TestIdentityQueries/user_teams_query.sql/team_1_members_page_2
=== CONT  TestIdentityQueries/user_teams_query.sql/team_1_members_page_1
=== PAUSE TestIdentityQueries/team_members_query.sql/team_1_members_page_1
=== CONT  TestIdentityQueries/user_teams_query.sql/team_1_members_page_2
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_2
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_1/mysql
=== PAUSE TestIdentityQueries/team_members_query.sql/team_1_members_page_2
=== CONT  TestIdentityQueries/team_members_query.sql/team_1_members_page_1
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_2/mysql
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_1/mysql
=== PAUSE TestIdentityQueries/display_query.sql/display_ids
=== CONT  TestIdentityQueries/team_members_query.sql/team_1_members_page_2
=== RUN   TestIdentityQueries/display_query.sql/display_ids_uids
=== PAUSE TestIdentityQueries/display_query.sql/display_ids_uids
=== CONT  TestIdentityQueries/display_query.sql/display_uids
=== RUN   TestIdentityQueries/display_query.sql/display_uids/mysql
=== PAUSE TestIdentityQueries/team_bindings_query.sql/team_1_bindings
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1
=== PAUSE TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2
=== PAUSE TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_2/mysql
=== CONT  TestIdentityQueries/display_query.sql/display_ids_uids
=== RUN   TestIdentityQueries/users_query.sql/users_page_1
=== PAUSE TestIdentityQueries/users_query.sql/users_page_1
=== RUN   TestIdentityQueries/users_query.sql/users_page_2
=== PAUSE TestIdentityQueries/users_query.sql/users_page_2
=== CONT  TestIdentityQueries/teams_query.sql
=== RUN   TestIdentityQueries/teams_query.sql/teams_uid
=== PAUSE TestIdentityQueries/teams_query.sql/teams_uid
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_1
=== PAUSE TestIdentityQueries/teams_query.sql/teams_page_1
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_2
=== PAUSE TestIdentityQueries/teams_query.sql/teams_page_2
=== CONT  TestIdentityQueries/display_query.sql/display_ids
=== RUN   TestIdentityQueries/display_query.sql/display_ids/mysql
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_1/sqlite
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_1/sqlite
=== RUN   TestIdentityQueries/display_query.sql/display_ids_uids/mysql
=== RUN   TestIdentityQueries/display_query.sql/display_ids/sqlite
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_1/postgres
=== CONT  TestIdentityQueries/team_bindings_query.sql/team_1_bindings
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_1_bindings/mysql
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_1/postgres
=== RUN   TestIdentityQueries/display_query.sql/display_ids_uids/sqlite
=== RUN   TestIdentityQueries/display_query.sql/display_ids/postgres
=== CONT  TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2/mysql
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_1_bindings/sqlite
=== CONT  TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1/mysql
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2/sqlite
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_1_bindings/postgres
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1/sqlite
=== RUN   TestIdentityQueries/display_query.sql/display_uids/sqlite
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_2/sqlite
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_2/sqlite
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1/postgres
=== CONT  TestIdentityQueries/teams_query.sql/teams_uid
=== RUN   TestIdentityQueries/display_query.sql/display_uids/postgres
=== RUN   TestIdentityQueries/teams_query.sql/teams_uid/mysql
=== RUN   TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2/postgres
=== RUN   TestIdentityQueries/team_members_query.sql/team_1_members_page_2/postgres
=== CONT  TestIdentityQueries/users_query.sql/users_page_2
=== RUN   TestIdentityQueries/users_query.sql/users_page_2/mysql
=== CONT  TestIdentityQueries/users_query.sql/users_page_1
=== RUN   TestIdentityQueries/users_query.sql/users_page_1/mysql
=== CONT  TestIdentityQueries/users_query.sql/users_uid
=== RUN   TestIdentityQueries/users_query.sql/users_uid/mysql
=== RUN   TestIdentityQueries/display_query.sql/display_ids_uids/postgres
=== RUN   TestIdentityQueries/user_teams_query.sql/team_1_members_page_2/postgres
=== CONT  TestIdentityQueries/teams_query.sql/teams_page_2
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_2/mysql
=== RUN   TestIdentityQueries/teams_query.sql/teams_uid/sqlite
=== RUN   TestIdentityQueries/users_query.sql/users_page_1/sqlite
=== RUN   TestIdentityQueries/users_query.sql/users_page_2/sqlite
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_2/sqlite
=== CONT  TestIdentityQueries/teams_query.sql/teams_page_1
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_1/mysql
=== RUN   TestIdentityQueries/users_query.sql/users_uid/sqlite
=== RUN   TestIdentityQueries/users_query.sql/users_page_1/postgres
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_1/sqlite
=== RUN   TestIdentityQueries/users_query.sql/users_uid/postgres
=== RUN   TestIdentityQueries/teams_query.sql/teams_uid/postgres
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_2/postgres
=== RUN   TestIdentityQueries/teams_query.sql/teams_page_1/postgres
=== RUN   TestIdentityQueries/users_query.sql/users_page_2/postgres
--- PASS: TestIdentityQueries (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_1 (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_1/mysql (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_1/sqlite (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_1/postgres (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_2 (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_2/mysql (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_2/sqlite (0.00s)
--- PASS: TestIdentityQueries/team_members_query.sql/team_1_members_page_2/postgres (0.00s)
--- PASS: TestIdentityQueries/display_query.sql (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids/mysql (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids/sqlite (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids/postgres (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_uids (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_uids/mysql (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_uids/sqlite (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_uids/postgres (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids_uids (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids_uids/mysql (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids_uids/sqlite (0.00s)
--- PASS: TestIdentityQueries/display_query.sql/display_ids_uids/postgres (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_1_bindings (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_1_bindings/mysql (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_1_bindings/sqlite (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_1_bindings/postgres (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1 (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1/mysql (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1/sqlite (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_1/postgres (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2 (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2/mysql (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2/sqlite (0.00s)
--- PASS: TestIdentityQueries/team_bindings_query.sql/team_bindings_page_2/postgres (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_1 (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_1/mysql (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_1/sqlite (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_1/postgres (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_2 (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_2/mysql (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_2/sqlite (0.00s)
--- PASS: TestIdentityQueries/user_teams_query.sql/team_1_members_page_2/postgres (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_uid (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_uid/mysql (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_uid/sqlite (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_uid/postgres (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_2 (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_2/mysql (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_2/sqlite (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_2/postgres (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_1 (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_1/mysql (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_1/sqlite (0.00s)
--- PASS: TestIdentityQueries/teams_query.sql/teams_page_1/postgres (0.00s)
--- PASS: TestIdentityQueries/users_query.sql (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_1 (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_1/mysql (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_1/sqlite (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_1/postgres (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_uid (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_uid/mysql (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_uid/sqlite (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_uid/postgres (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_2 (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_2/mysql (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_2/sqlite (0.00s)
--- PASS: TestIdentityQueries/users_query.sql/users_page_2/postgres (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/iam/legacy	0.562s
?   	github.com/grafana/grafana/pkg/registry/apis/iam/serviceaccount	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/iam/sso	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/iam/team	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/iam/user	[no test files]
=== RUN   TestPathAfterPrefix
=== RUN   TestPathAfterPrefix/basic_path_with_prefix
=== RUN   TestPathAfterPrefix/path_with_multiple_prefix_occurrences
=== RUN   TestPathAfterPrefix/path_without_prefix
=== RUN   TestPathAfterPrefix/empty_path
=== RUN   TestPathAfterPrefix/empty_prefix
=== RUN   TestPathAfterPrefix/prefix_at_start_of_path
=== RUN   TestPathAfterPrefix/prefix_in_middle_with_special_chars
--- PASS: TestPathAfterPrefix (0.00s)
--- PASS: TestPathAfterPrefix/basic_path_with_prefix (0.00s)
--- PASS: TestPathAfterPrefix/path_with_multiple_prefix_occurrences (0.00s)
--- PASS: TestPathAfterPrefix/path_without_prefix (0.00s)
--- PASS: TestPathAfterPrefix/empty_path (0.00s)
--- PASS: TestPathAfterPrefix/empty_prefix (0.00s)
--- PASS: TestPathAfterPrefix/prefix_at_start_of_path (0.00s)
--- PASS: TestPathAfterPrefix/prefix_in_middle_with_special_chars (0.00s)
=== RUN   TestReadBody
=== RUN   TestReadBody/valid_small_body
=== RUN   TestReadBody/body_too_large
=== RUN   TestReadBody/body_exactly_at_limit
--- PASS: TestReadBody (0.00s)
--- PASS: TestReadBody/valid_small_body (0.00s)
--- PASS: TestReadBody/body_too_large (0.00s)
--- PASS: TestReadBody/body_exactly_at_limit (0.00s)
=== RUN   TestIsJSONContentType
=== RUN   TestIsJSONContentType/valid_JSON_content_type
=== RUN   TestIsJSONContentType/JSON_with_charset
=== RUN   TestIsJSONContentType/not_JSON
=== RUN   TestIsJSONContentType/empty_content_type
--- PASS: TestIsJSONContentType (0.00s)
--- PASS: TestIsJSONContentType/valid_JSON_content_type (0.00s)
--- PASS: TestIsJSONContentType/JSON_with_charset (0.00s)
--- PASS: TestIsJSONContentType/not_JSON (0.00s)
--- PASS: TestIsJSONContentType/empty_content_type (0.00s)
=== RUN   TestUnmarshalJSON
=== RUN   TestUnmarshalJSON/valid_JSON
=== RUN   TestUnmarshalJSON/invalid_content_type
=== RUN   TestUnmarshalJSON/body_too_large
=== RUN   TestUnmarshalJSON/multiple_JSON_objects
=== RUN   TestUnmarshalJSON/empty_body
--- PASS: TestUnmarshalJSON (0.00s)
--- PASS: TestUnmarshalJSON/valid_JSON (0.00s)
--- PASS: TestUnmarshalJSON/invalid_content_type (0.00s)
--- PASS: TestUnmarshalJSON/body_too_large (0.00s)
--- PASS: TestUnmarshalJSON/multiple_JSON_objects (0.00s)
--- PASS: TestUnmarshalJSON/empty_body (0.00s)
=== RUN   TestWithTimeout
=== RUN   TestWithTimeout/request_completes
=== RUN   TestWithTimeout/request_times_out
--- PASS: TestWithTimeout (0.07s)
--- PASS: TestWithTimeout/request_completes (0.05s)
--- PASS: TestWithTimeout/request_times_out (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning	0.619s
=== RUN   TestErrorf
=== PAUSE TestErrorf
=== CONT  TestErrorf
=== RUN   TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%v
=== PAUSE TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%v
=== RUN   TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%v
=== PAUSE TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%v
=== RUN   TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%w
=== PAUSE TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%w
=== RUN   TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%w
=== PAUSE TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%w
=== RUN   TestErrorf/no_inner_error_defaults_to_internal_server_error
=== PAUSE TestErrorf/no_inner_error_defaults_to_internal_server_error
=== RUN   TestErrorf/non-apistatus_inner_error_defaults_to_internal_server_error
=== PAUSE TestErrorf/non-apistatus_inner_error_defaults_to_internal_server_error
=== RUN   TestErrorf/apistatus_inner_error_is_used_for_status
=== PAUSE TestErrorf/apistatus_inner_error_is_used_for_status
=== RUN   TestErrorf/message_is_used_with_inner_apistatus_error
=== PAUSE TestErrorf/message_is_used_with_inner_apistatus_error
=== RUN   TestErrorf/deep_apierror_is_used
=== PAUSE TestErrorf/deep_apierror_is_used
=== RUN   TestErrorf/deep_error_in_multi-unwrap_wrapper's_apierror_is_used
=== PAUSE TestErrorf/deep_error_in_multi-unwrap_wrapper's_apierror_is_used
=== CONT  TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%v
=== CONT  TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%w
=== CONT  TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%v
=== CONT  TestErrorf/no_inner_error_defaults_to_internal_server_error
=== CONT  TestErrorf/deep_apierror_is_used
=== CONT  TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%w
=== CONT  TestErrorf/deep_error_in_multi-unwrap_wrapper's_apierror_is_used
=== CONT  TestErrorf/message_is_used_with_inner_apistatus_error
=== CONT  TestErrorf/apistatus_inner_error_is_used_for_status
=== CONT  TestErrorf/non-apistatus_inner_error_defaults_to_internal_server_error
--- PASS: TestErrorf (0.00s)
--- PASS: TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%v (0.00s)
--- PASS: TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%v_2_%w (0.00s)
--- PASS: TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%v (0.00s)
--- PASS: TestErrorf/no_inner_error_defaults_to_internal_server_error (0.00s)
--- PASS: TestErrorf/deep_apierror_is_used (0.00s)
--- PASS: TestErrorf/error_string_is_formatted_appropriately_with_fmt=1_%w_2_%w (0.00s)
--- PASS: TestErrorf/message_is_used_with_inner_apistatus_error (0.00s)
--- PASS: TestErrorf/apistatus_inner_error_is_used_for_status (0.00s)
--- PASS: TestErrorf/deep_error_in_multi-unwrap_wrapper's_apierror_is_used (0.00s)
--- PASS: TestErrorf/non-apistatus_inner_error_defaults_to_internal_server_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/apifmt	(cached)
=== RUN   TestNewRepositoryStatusPatcher
--- PASS: TestNewRepositoryStatusPatcher (0.00s)
=== RUN   TestRepositoryStatusPatcher_Patch
=== RUN   TestRepositoryStatusPatcher_Patch/successful_patch
=== RUN   TestRepositoryStatusPatcher_Patch/patch_marshal_error
=== RUN   TestRepositoryStatusPatcher_Patch/patch_request_error
--- PASS: TestRepositoryStatusPatcher_Patch (0.00s)
--- PASS: TestRepositoryStatusPatcher_Patch/successful_patch (0.00s)
--- PASS: TestRepositoryStatusPatcher_Patch/patch_marshal_error (0.00s)
--- PASS: TestRepositoryStatusPatcher_Patch/patch_request_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/controller	0.541s
?   	github.com/grafana/grafana/pkg/registry/apis/provisioning/jobs	[no test files]
=== RUN   TestExportFolders
=== RUN   TestExportFolders/list_folders_error
=== RUN   TestExportFolders/too_many_folders
=== RUN   TestExportFolders/ensure_folder_tree_error
=== RUN   TestExportFolders/successful_folder_migration
=== RUN   TestExportFolders/successful_folder_migration_with_resource_export_errors
=== RUN   TestExportFolders/too_many_errors
=== RUN   TestExportFolders/successful_nested_folder_migration
--- PASS: TestExportFolders (0.05s)
--- PASS: TestExportFolders/list_folders_error (0.00s)
--- PASS: TestExportFolders/too_many_folders (0.04s)
--- PASS: TestExportFolders/ensure_folder_tree_error (0.00s)
--- PASS: TestExportFolders/successful_folder_migration (0.00s)
--- PASS: TestExportFolders/successful_folder_migration_with_resource_export_errors (0.00s)
--- PASS: TestExportFolders/too_many_errors (0.00s)
--- PASS: TestExportFolders/successful_nested_folder_migration (0.00s)
=== RUN   TestExportResources
=== RUN   TestExportResources/successful_dashboard_export
=== RUN   TestExportResources/client_error
=== RUN   TestExportResources/dashboard_list_error
=== RUN   TestExportResources/dashboard_export_with_errors
=== RUN   TestExportResources/dashboard_export_too_many_errors
=== RUN   TestExportResources/ignores_existing_dashboards
--- PASS: TestExportResources (0.00s)
--- PASS: TestExportResources/successful_dashboard_export (0.00s)
--- PASS: TestExportResources/client_error (0.00s)
--- PASS: TestExportResources/dashboard_list_error (0.00s)
--- PASS: TestExportResources/dashboard_export_with_errors (0.00s)
--- PASS: TestExportResources/dashboard_export_too_many_errors (0.00s)
--- PASS: TestExportResources/ignores_existing_dashboards (0.00s)
=== RUN   TestExportWorker_IsSupported
=== RUN   TestExportWorker_IsSupported/push_job
=== RUN   TestExportWorker_IsSupported/pull_job
=== RUN   TestExportWorker_IsSupported/migrate_job
--- PASS: TestExportWorker_IsSupported (0.00s)
--- PASS: TestExportWorker_IsSupported/push_job (0.00s)
--- PASS: TestExportWorker_IsSupported/pull_job (0.00s)
--- PASS: TestExportWorker_IsSupported/migrate_job (0.00s)
=== RUN   TestExportWorker_ProcessNoExportSettings
--- PASS: TestExportWorker_ProcessNoExportSettings (0.00s)
=== RUN   TestExportWorker_ProcessWriteNotAllowed
--- PASS: TestExportWorker_ProcessWriteNotAllowed (0.00s)
=== RUN   TestExportWorker_ProcessBranchNotAllowedForLocal
--- PASS: TestExportWorker_ProcessBranchNotAllowedForLocal (0.00s)
=== RUN   TestExportWorker_ProcessFailedToCreateClients
--- PASS: TestExportWorker_ProcessFailedToCreateClients (0.00s)
=== RUN   TestExportWorker_ProcessNotReaderWriter
--- PASS: TestExportWorker_ProcessNotReaderWriter (0.00s)
=== RUN   TestExportWorker_ProcessFolderClientError
--- PASS: TestExportWorker_ProcessFolderClientError (0.00s)
=== RUN   TestExportWorker_ProcessRepositoryResourcesError
mock.go:351:
2025-04-15T08:36:53.2684899Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.2687442Z
Client(context.backgroundCtx,*repository.MockRepository,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &repository.MockRepository{Mock:mock.Mock{ExpectedCalls:[]*mock.Call{(*mock.Call)(0xc002ca3600)}, Calls:[]mock.Call{mock.Call{Parent:(*mock.Mock)(0xc0007fab40), Method:"Config", Arguments:mock.Arguments(nil), ReturnArguments:mock.Arguments{(*v0alpha1.Repository)(0xc0009e6d88)}, callerInfo:[]string{"/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/repository/repository_mock.go:23", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:55", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:260"}, Repeatability:0, totalCalls:0, optional:false, WaitFor:(<-chan time.Time)(nil), waitTime:0, RunFn:(func(mock.Arguments))(nil), PanicMsg:(*string)(nil), requires:[]*mock.Call(nil)}}, test:(*testing.T)(0xc000e7fdc0), testData:objx.Map(nil), mutex:sync.Mutex{_:sync.noCopy{}, mu:sync.Mutex{state:0, sema:0x0}}}}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.2709329Z
The closest call I have is:
2025-04-15T08:36:53.2711185Z
Client(context.backgroundCtx,*repository.MockRepository)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &repository.MockRepository{Mock:mock.Mock{ExpectedCalls:[]*mock.Call{(*mock.Call)(0xc002ca3600)}, Calls:[]mock.Call{mock.Call{Parent:(*mock.Mock)(0xc0007fab40), Method:"Config", Arguments:mock.Arguments(nil), ReturnArguments:mock.Arguments{(*v0alpha1.Repository)(0xc0009e6d88)}, callerInfo:[]string{"/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/repository/repository_mock.go:23", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:55", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:260"}, Repeatability:0, totalCalls:0, optional:false, WaitFor:(<-chan time.Time)(nil), waitTime:0, RunFn:(func(mock.Arguments))(nil), PanicMsg:(*string)(nil), requires:[]*mock.Call(nil)}}, test:(*testing.T)(0xc000e7fdc0), testData:objx.Map(nil), mutex:sync.Mutex{_:sync.noCopy{}, mu:sync.Mutex{state:0, sema:0x0}}}}
2025-04-15T08:36:53.2731016Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (context.backgroundCtx=context.Background)
1: PASS:  (*repository.MockRepository=*mock.Mock<0xc0007fab40>) == (*repository.MockRepository=*mock.Mock<0xc0007fab40>)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:257 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:260]
repository_resources_factory_mock.go:94: FAIL:	Client(context.backgroundCtx,*repository.MockRepository)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:252]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:257 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:260]
--- FAIL: TestExportWorker_ProcessRepositoryResourcesError (0.00s)
=== RUN   TestExportWorker_ProcessCloneAndPushOptions
mock.go:351:
2025-04-15T08:36:53.2781997Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.2784444Z
Client(context.backgroundCtx,*repository.MockRepository,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &repository.MockRepository{Mock:mock.Mock{ExpectedCalls:[]*mock.Call{(*mock.Call)(0xc002cb3600)}, Calls:[]mock.Call{mock.Call{Parent:(*mock.Mock)(0xc0007fb900), Method:"Config", Arguments:mock.Arguments(nil), ReturnArguments:mock.Arguments{(*v0alpha1.Repository)(0xc0009e7208)}, callerInfo:[]string{"/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/repository/repository_mock.go:23", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:55", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:315"}, Repeatability:0, totalCalls:0, optional:false, WaitFor:(<-chan time.Time)(nil), waitTime:0, RunFn:(func(mock.Arguments))(nil), PanicMsg:(*string)(nil), requires:[]*mock.Call(nil)}}, test:(*testing.T)(0xc001088700), testData:objx.Map(nil), mutex:sync.Mutex{_:sync.noCopy{}, mu:sync.Mutex{state:0, sema:0x0}}}}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.2807023Z
The closest call I have is:
2025-04-15T08:36:53.2808552Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.2811846Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*repository.MockRepository=*mock.Mock<0xc0007fb900>) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:311 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:315]
mock_export_fn.go:92: FAIL:	Execute(string,string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:298]
mock_export_fn.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_export_fn.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:311 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:315]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:295]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:311 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:315]
--- FAIL: TestExportWorker_ProcessCloneAndPushOptions (0.00s)
=== RUN   TestExportWorker_ProcessExportFnError
mock.go:351:
2025-04-15T08:36:53.2888740Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.2891479Z
Client(context.backgroundCtx,*repository.MockRepository,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &repository.MockRepository{Mock:mock.Mock{ExpectedCalls:[]*mock.Call{(*mock.Call)(0xc002cd04d0)}, Calls:[]mock.Call{mock.Call{Parent:(*mock.Mock)(0xc000a6a730), Method:"Config", Arguments:mock.Arguments(nil), ReturnArguments:mock.Arguments{(*v0alpha1.Repository)(0xc0009e7448)}, callerInfo:[]string{"/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/repository/repository_mock.go:23", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:55", "/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:357"}, Repeatability:0, totalCalls:0, optional:false, WaitFor:(<-chan time.Time)(nil), waitTime:0, RunFn:(func(mock.Arguments))(nil), PanicMsg:(*string)(nil), requires:[]*mock.Call(nil)}}, test:(*testing.T)(0xc0010888c0), testData:objx.Map(nil), mutex:sync.Mutex{_:sync.noCopy{}, mu:sync.Mutex{state:0, sema:0x0}}}}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.2913787Z
The closest call I have is:
2025-04-15T08:36:53.2915636Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.2918903Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*repository.MockRepository=*mock.Mock<0xc000a6a730>) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:353 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:357]
mock_export_fn.go:92: FAIL:	Execute(string,string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:349]
mock_export_fn.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_export_fn.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:353 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:357]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:346]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:100 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:353 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/mock_wrap_with_clone_fn.go:35 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker.go:108 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/export/worker_test.go:357]
--- FAIL: TestExportWorker_ProcessExportFnError (0.00s)
=== RUN   TestExportWorker_ProcessWrapWithCloneFnError
--- PASS: TestExportWorker_ProcessWrapWithCloneFnError (0.00s)
=== RUN   TestExportWorker_ProcessBranchNotAllowedForClonableRepositories
--- PASS: TestExportWorker_ProcessBranchNotAllowedForClonableRepositories (0.00s)
FAIL
FAIL	github.com/grafana/grafana/pkg/registry/apis/provisioning/jobs/export	0.474s
=== RUN   TestLegacyFoldersMigrator_Write
=== RUN   TestLegacyFoldersMigrator_Write/should_fail_when_json_is_invalid
=== RUN   TestLegacyFoldersMigrator_Write/should_fail_when_too_many_folders
=== RUN   TestLegacyFoldersMigrator_Write/should_add_folder_to_tree
--- PASS: TestLegacyFoldersMigrator_Write (0.08s)
--- PASS: TestLegacyFoldersMigrator_Write/should_fail_when_json_is_invalid (0.00s)
--- PASS: TestLegacyFoldersMigrator_Write/should_fail_when_too_many_folders (0.08s)
--- PASS: TestLegacyFoldersMigrator_Write/should_add_folder_to_tree (0.00s)
=== RUN   TestLegacyFoldersMigrator_Migrate
=== RUN   TestLegacyFoldersMigrator_Migrate/should_fail_when_legacy_migrator_fails
=== RUN   TestLegacyFoldersMigrator_Migrate/should_fail_when_folder_tree_creation_fails
=== RUN   TestLegacyFoldersMigrator_Migrate/should_successfully_migrate_folders
=== RUN   TestLegacyFoldersMigrator_Migrate/should_ignore_folders_that_already_exist
--- PASS: TestLegacyFoldersMigrator_Migrate (0.00s)
--- PASS: TestLegacyFoldersMigrator_Migrate/should_fail_when_legacy_migrator_fails (0.00s)
--- PASS: TestLegacyFoldersMigrator_Migrate/should_fail_when_folder_tree_creation_fails (0.00s)
--- PASS: TestLegacyFoldersMigrator_Migrate/should_successfully_migrate_folders (0.00s)
--- PASS: TestLegacyFoldersMigrator_Migrate/should_ignore_folders_that_already_exist (0.00s)
=== RUN   TestLegacyFoldersMigrator_Close
=== RUN   TestLegacyFoldersMigrator_Close/should_close_without_error
=== RUN   TestLegacyFoldersMigrator_Close/should_close_with_results_without_error
--- PASS: TestLegacyFoldersMigrator_Close (0.00s)
--- PASS: TestLegacyFoldersMigrator_Close/should_close_without_error (0.00s)
--- PASS: TestLegacyFoldersMigrator_Close/should_close_with_results_without_error (0.00s)
=== RUN   TestWrapWithCloneFn
=== RUN   TestWrapWithCloneFn/should_return_error_when_repository_is_not_a_ReaderWriter
--- PASS: TestWrapWithCloneFn (0.00s)
--- PASS: TestWrapWithCloneFn/should_return_error_when_repository_is_not_a_ReaderWriter (0.00s)
=== RUN   TestWrapWithCloneFn_Error
=== RUN   TestWrapWithCloneFn_Error/should_return_error_when_wrapFn_fails
--- PASS: TestWrapWithCloneFn_Error (0.00s)
--- PASS: TestWrapWithCloneFn_Error/should_return_error_when_wrapFn_fails (0.00s)
=== RUN   TestLegacyMigrator_MigrateFails
=== RUN   TestLegacyMigrator_MigrateFails/should_return_error_when_legacyMigrator.Migrate_fails
--- PASS: TestLegacyMigrator_MigrateFails (0.00s)
--- PASS: TestLegacyMigrator_MigrateFails/should_return_error_when_legacyMigrator.Migrate_fails (0.00s)
=== RUN   TestLegacyMigrator_ResetUnifiedStorageFails
=== RUN   TestLegacyMigrator_ResetUnifiedStorageFails/should_return_error_when_storage_reset_fails
--- PASS: TestLegacyMigrator_ResetUnifiedStorageFails (0.00s)
--- PASS: TestLegacyMigrator_ResetUnifiedStorageFails/should_return_error_when_storage_reset_fails (0.00s)
=== RUN   TestLegacyMigrator_SyncFails
=== RUN   TestLegacyMigrator_SyncFails/should_revert_storage_settings_when_sync_fails
=== RUN   TestLegacyMigrator_SyncFails/should_handle_revert_failure_after_sync_failure
--- PASS: TestLegacyMigrator_SyncFails (0.00s)
--- PASS: TestLegacyMigrator_SyncFails/should_revert_storage_settings_when_sync_fails (0.00s)
--- PASS: TestLegacyMigrator_SyncFails/should_handle_revert_failure_after_sync_failure (0.00s)
=== RUN   TestLegacyMigrator_Success
=== RUN   TestLegacyMigrator_Success/should_complete_migration_successfully
--- PASS: TestLegacyMigrator_Success (0.00s)
--- PASS: TestLegacyMigrator_Success/should_complete_migration_successfully (0.00s)
=== RUN   TestLegacyMigrator_BeforeFnExecution
=== RUN   TestLegacyMigrator_BeforeFnExecution/should_execute_beforeFn_functions
--- PASS: TestLegacyMigrator_BeforeFnExecution (0.00s)
--- PASS: TestLegacyMigrator_BeforeFnExecution/should_execute_beforeFn_functions (0.00s)
=== RUN   TestLegacyMigrator_ProgressScanner
=== RUN   TestLegacyMigrator_ProgressScanner/should_update_progress_with_scanner
--- PASS: TestLegacyMigrator_ProgressScanner (0.01s)
--- PASS: TestLegacyMigrator_ProgressScanner/should_update_progress_with_scanner (0.01s)
=== RUN   TestStorageSwapper_StopReadingUnifiedStorage
=== RUN   TestStorageSwapper_StopReadingUnifiedStorage/should_update_status_for_all_resources
=== RUN   TestStorageSwapper_StopReadingUnifiedStorage/should_fail_if_status_update_fails
--- PASS: TestStorageSwapper_StopReadingUnifiedStorage (0.00s)
--- PASS: TestStorageSwapper_StopReadingUnifiedStorage/should_update_status_for_all_resources (0.00s)
--- PASS: TestStorageSwapper_StopReadingUnifiedStorage/should_fail_if_status_update_fails (0.00s)
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_already_using_unified_storage
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_migration_is_in_progress
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_bulk_process_fails
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_status_update_fails_after_bulk_process
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_bulk_process_stream_close_fails
=== RUN   TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_succeed_with_complete_workflow
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag (0.00s)
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_already_using_unified_storage (0.00s)
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_migration_is_in_progress (0.00s)
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_bulk_process_fails (0.00s)
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_status_update_fails_after_bulk_process (0.00s)
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_fail_if_bulk_process_stream_close_fails (0.00s)
--- PASS: TestStorageSwapper_WipeUnifiedAndSetMigratedFlag/should_succeed_with_complete_workflow (0.00s)
=== RUN   TestUnifiedStorageMigrator_Migrate
=== RUN   TestUnifiedStorageMigrator_Migrate/should_fail_when_export_job_fails
=== RUN   TestUnifiedStorageMigrator_Migrate/should_fail_when_sync_job_fails
=== RUN   TestUnifiedStorageMigrator_Migrate/should_fail_when_resource_cleanup_fails
=== RUN   TestUnifiedStorageMigrator_Migrate/should_succeed_with_complete_workflow
--- PASS: TestUnifiedStorageMigrator_Migrate (0.00s)
--- PASS: TestUnifiedStorageMigrator_Migrate/should_fail_when_export_job_fails (0.00s)
--- PASS: TestUnifiedStorageMigrator_Migrate/should_fail_when_sync_job_fails (0.00s)
--- PASS: TestUnifiedStorageMigrator_Migrate/should_fail_when_resource_cleanup_fails (0.00s)
--- PASS: TestUnifiedStorageMigrator_Migrate/should_succeed_with_complete_workflow (0.00s)
=== RUN   TestMigrationWorker_IsSupported
=== RUN   TestMigrationWorker_IsSupported/should_support_migrate_action
=== RUN   TestMigrationWorker_IsSupported/should_not_support_other_actions
--- PASS: TestMigrationWorker_IsSupported (0.00s)
--- PASS: TestMigrationWorker_IsSupported/should_support_migrate_action (0.00s)
--- PASS: TestMigrationWorker_IsSupported/should_not_support_other_actions (0.00s)
=== RUN   TestMigrationWorker_ProcessNotReaderWriter
--- PASS: TestMigrationWorker_ProcessNotReaderWriter (0.00s)
=== RUN   TestMigrationWorker_Process
=== RUN   TestMigrationWorker_Process/should_fail_when_migrate_settings_are_missing
=== RUN   TestMigrationWorker_Process/should_use_legacy_migrator_when_legacy_storage_is_active
=== RUN   TestMigrationWorker_Process/should_use_unified_storage_migrator_when_legacy_storage_is_not_active
=== RUN   TestMigrationWorker_Process/should_propagate_migrator_errors
--- PASS: TestMigrationWorker_Process (0.00s)
--- PASS: TestMigrationWorker_Process/should_fail_when_migrate_settings_are_missing (0.00s)
--- PASS: TestMigrationWorker_Process/should_use_legacy_migrator_when_legacy_storage_is_active (0.00s)
--- PASS: TestMigrationWorker_Process/should_use_unified_storage_migrator_when_legacy_storage_is_not_active (0.00s)
--- PASS: TestMigrationWorker_Process/should_propagate_migrator_errors (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/jobs/migrate	0.542s
=== RUN   TestCalculateChanges
=== RUN   TestCalculateChanges/with-screenshot
=== RUN   TestCalculateChanges/without-screenshot
=== RUN   TestCalculateChanges/process_first_10_files
--- PASS: TestCalculateChanges (0.00s)
--- PASS: TestCalculateChanges/with-screenshot (0.00s)
--- PASS: TestCalculateChanges/without-screenshot (0.00s)
--- PASS: TestCalculateChanges/process_first_10_files (0.00s)
=== RUN   TestDummyImageURL
--- PASS: TestDummyImageURL (0.00s)
=== RUN   TestGenerateComment
=== RUN   TestGenerateComment/new_dashboard
=== RUN   TestGenerateComment/update_dashboard
=== RUN   TestGenerateComment/update_dashboard_missing_renderer
=== RUN   TestGenerateComment/multiple_files
--- PASS: TestGenerateComment (0.00s)
--- PASS: TestGenerateComment/new_dashboard (0.00s)
--- PASS: TestGenerateComment/update_dashboard (0.00s)
--- PASS: TestGenerateComment/update_dashboard_missing_renderer (0.00s)
--- PASS: TestGenerateComment/multiple_files (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/jobs/pullrequest	0.485s
=== RUN   TestChanges
=== RUN   TestChanges/start_the_same
=== RUN   TestChanges/create_a_source_file
=== RUN   TestChanges/empty_file_path
=== RUN   TestChanges/empty_path_with_folder_resource
=== RUN   TestChanges/create_empty_folder_structure_for_folders_with_unsupported_file_types
=== RUN   TestChanges/keep_empty_folders_when_unsupported_file_types_are_present
=== RUN   TestChanges/keep_common_path_to_unsupported_file_types
=== RUN   TestChanges/delete_a_source_file
=== RUN   TestChanges/folder_deletion_order
=== RUN   TestChanges/modify_a_file
=== RUN   TestChanges/keep_folder_with_hidden_files
=== RUN   TestChanges/keep_folder_with_invalid_hidden_paths
=== RUN   TestChanges/keep_folder_with_hidden_folders
=== RUN   TestChanges/unhidden_path_from_hidden_file
=== RUN   TestChanges/hidden_path_to_file
=== RUN   TestChanges/hidden_path_to_folder
=== RUN   TestChanges/hidden_at_the_root
=== RUN   TestChanges/error_on_empty_path_for_non-folder_resource
=== RUN   TestChanges/complex_nested_folder_hierarchy_with_mixed_file_types
=== RUN   TestChanges/folder_path_suffix_handling
=== RUN   TestChanges/empty_source_with_populated_target
=== RUN   TestChanges/empty_target_with_populated_source
--- PASS: TestChanges (0.00s)
--- PASS: TestChanges/start_the_same (0.00s)
--- PASS: TestChanges/create_a_source_file (0.00s)
--- PASS: TestChanges/empty_file_path (0.00s)
--- PASS: TestChanges/empty_path_with_folder_resource (0.00s)
--- PASS: TestChanges/create_empty_folder_structure_for_folders_with_unsupported_file_types (0.00s)
--- PASS: TestChanges/keep_empty_folders_when_unsupported_file_types_are_present (0.00s)
--- PASS: TestChanges/keep_common_path_to_unsupported_file_types (0.00s)
--- PASS: TestChanges/delete_a_source_file (0.00s)
--- PASS: TestChanges/folder_deletion_order (0.00s)
--- PASS: TestChanges/modify_a_file (0.00s)
--- PASS: TestChanges/keep_folder_with_hidden_files (0.00s)
--- PASS: TestChanges/keep_folder_with_invalid_hidden_paths (0.00s)
--- PASS: TestChanges/keep_folder_with_hidden_folders (0.00s)
--- PASS: TestChanges/unhidden_path_from_hidden_file (0.00s)
--- PASS: TestChanges/hidden_path_to_file (0.00s)
--- PASS: TestChanges/hidden_path_to_folder (0.00s)
--- PASS: TestChanges/hidden_at_the_root (0.00s)
--- PASS: TestChanges/error_on_empty_path_for_non-folder_resource (0.00s)
--- PASS: TestChanges/complex_nested_folder_hierarchy_with_mixed_file_types (0.00s)
--- PASS: TestChanges/folder_path_suffix_handling (0.00s)
--- PASS: TestChanges/empty_source_with_populated_target (0.00s)
--- PASS: TestChanges/empty_target_with_populated_source (0.00s)
=== RUN   TestCompare
=== RUN   TestCompare/error_listing_current_resources
=== RUN   TestCompare/error_reading_tree
=== RUN   TestCompare/no_changes_between_source_and_target
=== RUN   TestCompare/compare_function_error
--- PASS: TestCompare (0.00s)
--- PASS: TestCompare/error_listing_current_resources (0.00s)
--- PASS: TestCompare/error_reading_tree (0.00s)
--- PASS: TestCompare/no_changes_between_source_and_target (0.00s)
--- PASS: TestCompare/compare_function_error (0.00s)
=== RUN   TestFullSync_ContextCancelled
--- PASS: TestFullSync_ContextCancelled (0.00s)
=== RUN   TestFullSync_Error
--- PASS: TestFullSync_Error (0.00s)
=== RUN   TestFullSync_NoChanges
--- PASS: TestFullSync_NoChanges (0.00s)
=== RUN   TestFullSync_SuccessfulFolderCreation
--- PASS: TestFullSync_SuccessfulFolderCreation (0.00s)
=== RUN   TestFullSync_FolderCreationFailed
--- PASS: TestFullSync_FolderCreationFailed (0.00s)
=== RUN   TestFullSync_FolderCreationFailedWithInstanceTarget
--- PASS: TestFullSync_FolderCreationFailedWithInstanceTarget (0.00s)
=== RUN   TestFullSync_ApplyChanges
=== RUN   TestFullSync_ApplyChanges/too_many_errors
=== RUN   TestFullSync_ApplyChanges/successful_apply_with_file_creation
=== RUN   TestFullSync_ApplyChanges/failed_apply_with_file_creation
=== RUN   TestFullSync_ApplyChanges/successful_apply_with_file_update
=== RUN   TestFullSync_ApplyChanges/failed_apply_with_file_update
=== RUN   TestFullSync_ApplyChanges/successful_apply_with_folder_creation
=== RUN   TestFullSync_ApplyChanges/failed_apply_folder_creation
=== RUN   TestFullSync_ApplyChanges/successful_apply_with_file_deletion
=== RUN   TestFullSync_ApplyChanges/file_delete_error
=== RUN   TestFullSync_ApplyChanges/without_existing_for_delete
=== RUN   TestFullSync_ApplyChanges/without_existing_name_for_delete
=== RUN   TestFullSync_ApplyChanges/error_finding_client_for_delete
=== RUN   TestFullSync_ApplyChanges/successful_apply_with_folder_deletion
=== RUN   TestFullSync_ApplyChanges/failed_to_apply_with_folder_deletion
--- PASS: TestFullSync_ApplyChanges (0.00s)
--- PASS: TestFullSync_ApplyChanges/too_many_errors (0.00s)
--- PASS: TestFullSync_ApplyChanges/successful_apply_with_file_creation (0.00s)
--- PASS: TestFullSync_ApplyChanges/failed_apply_with_file_creation (0.00s)
--- PASS: TestFullSync_ApplyChanges/successful_apply_with_file_update (0.00s)
--- PASS: TestFullSync_ApplyChanges/failed_apply_with_file_update (0.00s)
--- PASS: TestFullSync_ApplyChanges/successful_apply_with_folder_creation (0.00s)
--- PASS: TestFullSync_ApplyChanges/failed_apply_folder_creation (0.00s)
--- PASS: TestFullSync_ApplyChanges/successful_apply_with_file_deletion (0.00s)
--- PASS: TestFullSync_ApplyChanges/file_delete_error (0.00s)
--- PASS: TestFullSync_ApplyChanges/without_existing_for_delete (0.00s)
--- PASS: TestFullSync_ApplyChanges/without_existing_name_for_delete (0.00s)
--- PASS: TestFullSync_ApplyChanges/error_finding_client_for_delete (0.00s)
--- PASS: TestFullSync_ApplyChanges/successful_apply_with_folder_deletion (0.00s)
--- PASS: TestFullSync_ApplyChanges/failed_to_apply_with_folder_deletion (0.00s)
=== RUN   TestIncrementalSync_ContextCancelled
--- PASS: TestIncrementalSync_ContextCancelled (0.00s)
=== RUN   TestIncrementalSync
=== RUN   TestIncrementalSync/same_commit_as_last_time
=== RUN   TestIncrementalSync/no_changes_between_commits
=== RUN   TestIncrementalSync/error_comparing_files
=== RUN   TestIncrementalSync/successful_sync_with_file_changes
=== RUN   TestIncrementalSync/unsupported_file_path_with_valid_folder
=== RUN   TestIncrementalSync/unsupported_file_path_with_invalid_folder
=== RUN   TestIncrementalSync/file_deletion
=== RUN   TestIncrementalSync/file_rename
=== RUN   TestIncrementalSync/file_ignored
=== RUN   TestIncrementalSync/error_creating_folder
=== RUN   TestIncrementalSync/error_writing_resource
=== RUN   TestIncrementalSync/error_deleting_resource
=== RUN   TestIncrementalSync/too_many_errors
--- PASS: TestIncrementalSync (0.00s)
--- PASS: TestIncrementalSync/same_commit_as_last_time (0.00s)
--- PASS: TestIncrementalSync/no_changes_between_commits (0.00s)
--- PASS: TestIncrementalSync/error_comparing_files (0.00s)
--- PASS: TestIncrementalSync/successful_sync_with_file_changes (0.00s)
--- PASS: TestIncrementalSync/unsupported_file_path_with_valid_folder (0.00s)
--- PASS: TestIncrementalSync/unsupported_file_path_with_invalid_folder (0.00s)
--- PASS: TestIncrementalSync/file_deletion (0.00s)
--- PASS: TestIncrementalSync/file_rename (0.00s)
--- PASS: TestIncrementalSync/file_ignored (0.00s)
--- PASS: TestIncrementalSync/error_creating_folder (0.00s)
--- PASS: TestIncrementalSync/error_writing_resource (0.00s)
--- PASS: TestIncrementalSync/error_deleting_resource (0.00s)
--- PASS: TestIncrementalSync/too_many_errors (0.00s)
=== RUN   TestSyncer_Sync
=== RUN   TestSyncer_Sync/successful_full_sync
=== RUN   TestSyncer_Sync/successful_incremental_sync
=== RUN   TestSyncer_Sync/latest_ref_error
=== RUN   TestSyncer_Sync/incremental_sync_error
--- PASS: TestSyncer_Sync (0.00s)
--- PASS: TestSyncer_Sync/successful_full_sync (0.00s)
--- PASS: TestSyncer_Sync/successful_incremental_sync (0.00s)
--- PASS: TestSyncer_Sync/latest_ref_error (0.00s)
--- PASS: TestSyncer_Sync/incremental_sync_error (0.00s)
=== RUN   TestSyncWorker_IsSupported
=== RUN   TestSyncWorker_IsSupported/pull_action_is_supported
=== RUN   TestSyncWorker_IsSupported/non-pull_action_is_not_supported
--- PASS: TestSyncWorker_IsSupported (0.00s)
--- PASS: TestSyncWorker_IsSupported/pull_action_is_supported (0.00s)
--- PASS: TestSyncWorker_IsSupported/non-pull_action_is_not_supported (0.00s)
=== RUN   TestSyncWorker_ProcessNotReaderWriter
--- PASS: TestSyncWorker_ProcessNotReaderWriter (0.00s)
=== RUN   TestSyncWorker_Process
=== RUN   TestSyncWorker_Process/legacy_storage_not_migrated
=== RUN   TestSyncWorker_Process/failed_initial_status_patching
=== RUN   TestSyncWorker_Process/failed_getting_repository_resources
mock.go:351:
2025-04-15T08:36:53.8987293Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.8988796Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc00231ad20), MockVersioned:(*repository.MockVersioned)(0xc00231ae10)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.8993945Z
The closest call I have is:
2025-04-15T08:36:53.8994867Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.8996692Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc00231ad20> *mock.Mock<0xc00231ae10>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:160 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/failed_getting_clients_for_namespace
mock.go:351:
2025-04-15T08:36:53.9018038Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9019497Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc00232e000), MockVersioned:(*repository.MockVersioned)(0xc00232e0f0)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9024293Z
The closest call I have is:
2025-04-15T08:36:53.9025209Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9027031Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc00232e000> *mock.Mock<0xc00232e0f0>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:192 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:195 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/successful_sync
mock.go:351:
2025-04-15T08:36:53.9059571Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9061163Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc00232e550), MockVersioned:(*repository.MockVersioned)(0xc00232e5a0)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9065857Z
The closest call I have is:
2025-04-15T08:36:53.9066775Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9068614Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc00232e550> *mock.Mock<0xc00232e5a0>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	SetMessage(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:231 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,<nil>)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:237 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL:	SetMessage(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:238 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 4 expectation(s) were met.
The code you are testing needs to make 3 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,*sync.mockReaderWriter,mock.argumentMatcher,*resources.MockRepositoryResources,string,*jobs.MockJobProgressRecorder)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:232 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_patch_fn_mock.go:82: FAIL:	Execute(string,*v0alpha1.Repository,mock.argumentMatcher)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:241 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_patch_fn_mock.go:82: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/repository_patch_fn_mock.go:82 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:225 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:228 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/failed_sync
mock.go:351:
2025-04-15T08:36:53.9144557Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9146041Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc00232ea50), MockVersioned:(*repository.MockVersioned)(0xc00232eaa0)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9150888Z
The closest call I have is:
2025-04-15T08:36:53.9151797Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9153644Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc00232ea50> *mock.Mock<0xc00232eaa0>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	SetMessage(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:286 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,*errors.errorString)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:293 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL:	SetMessage(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:294 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 4 expectation(s) were met.
The code you are testing needs to make 3 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,*sync.mockReaderWriter,mock.argumentMatcher,*resources.MockRepositoryResources,string,*jobs.MockJobProgressRecorder)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:288 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_patch_fn_mock.go:82: FAIL:	Execute(string,*v0alpha1.Repository,mock.argumentMatcher)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:297 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_patch_fn_mock.go:82: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/repository_patch_fn_mock.go:82 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:280 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:283 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/stats_call_fails
mock.go:351:
2025-04-15T08:36:53.9236449Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9237898Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc00232f310), MockVersioned:(*repository.MockVersioned)(0xc00232f360)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9242840Z
The closest call I have is:
2025-04-15T08:36:53.9243750Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9245560Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc00232f310> *mock.Mock<0xc00232f360>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:330 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:332 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:324 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:328 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/stats_returns_nil_stats_and_nil_error
mock.go:351:
2025-04-15T08:36:53.9301604Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9303033Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc00232f8b0), MockVersioned:(*repository.MockVersioned)(0xc00232f900)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9307664Z
The closest call I have is:
2025-04-15T08:36:53.9308552Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9310484Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc00232f8b0> *mock.Mock<0xc00232f900>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:361 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:362 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:350 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:359 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/stats_returns_one_managed_stats
mock.go:351:
2025-04-15T08:36:53.9366659Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9368267Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc002338050), MockVersioned:(*repository.MockVersioned)(0xc0023380a0)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9373021Z
The closest call I have is:
2025-04-15T08:36:53.9373923Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9375734Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc002338050> *mock.Mock<0xc0023380a0>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:425 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:426 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_patch_fn_mock.go:82: FAIL:	Execute(string,string,mock.argumentMatcher)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:397 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_patch_fn_mock.go:82: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/repository_patch_fn_mock.go:82 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:394 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:423 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/stats_returns_multiple_managed_stats
mock.go:351:
2025-04-15T08:36:53.9443886Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9445316Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc0023385f0), MockVersioned:(*repository.MockVersioned)(0xc002338640)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9449945Z
The closest call I have is:
2025-04-15T08:36:53.9450991Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9452788Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc0023385f0> *mock.Mock<0xc002338640>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:477 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:478 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:466 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:475 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== RUN   TestSyncWorker_Process/failed_final_status_patch
mock.go:351:
2025-04-15T08:36:53.9508631Z
mock: Unexpected Method Call
-----------------------------
2025-04-15T08:36:53.9510217Z
Client(context.backgroundCtx,*sync.mockReaderWriter,resources.RepositoryResourcesOptions)
0: context.backgroundCtx{emptyCtx:context.emptyCtx{}}
1: &sync.mockReaderWriter{MockRepository:(*repository.MockRepository)(0xc002338d70), MockVersioned:(*repository.MockVersioned)(0xc002338dc0)}
2: resources.RepositoryResourcesOptions{CommitWithOriginalAuthors:false}
2025-04-15T08:36:53.9514867Z
The closest call I have is:
2025-04-15T08:36:53.9515775Z
Client(string,string)
0: "mock.Anything"
1: "mock.Anything"
2025-04-15T08:36:53.9517575Z
Provided 2 arguments, mocked for 3 arguments
Diff: 0: PASS:  (context.backgroundCtx=context.Background) == (string=mock.Anything)
1: PASS:  (*sync.mockReaderWriter=&{*mock.Mock<0xc002338d70> *mock.Mock<0xc002338dc0>}) == (string=mock.Anything)
2: FAIL:  (resources.RepositoryResourcesOptions={false}) != (Missing)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
job_progress_recorder_mock.go:294: FAIL:	Complete(string,<nil>)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:508 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
job_progress_recorder_mock.go:294: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/job_progress_recorder_mock.go:294 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
syncer_mock.go:101: FAIL:	Sync(string,string,string,string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:507 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
syncer_mock.go:101: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/syncer_mock.go:101 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_patch_fn_mock.go:82: FAIL:	Execute(string,string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:511 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_patch_fn_mock.go:82: FAIL: 1 out of 2 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/repository_patch_fn_mock.go:82 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
repository_resources_factory_mock.go:94: FAIL:	Client(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:500 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_factory_mock.go:94: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:94 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
client_factory_mock.go:92: FAIL:	Clients(string,string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:503 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
client_factory_mock.go:92: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/client_factory_mock.go:92 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786 /opt/hostedtoolcache/go/1.24.2/x64/src/runtime/panic.go:636 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1041 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_factory_mock.go:27 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker.go:89 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:555]
=== NAME  TestSyncWorker_Process
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:499 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:465 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:393 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:349 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:323 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:279 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
repository_resources_mock.go:597: FAIL:	Stats(string)
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:224 /home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync/worker_test.go:532]
repository_resources_mock.go:597: FAIL: 0 out of 1 expectation(s) were met.
The code you are testing needs to make 1 more call(s).
at: [/home/runner/work/grafana/grafana/pkg/registry/apis/provisioning/resources/repository_resources_mock.go:597 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1211 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1445 /opt/hostedtoolcache/go/1.24.2/x64/src/testing/testing.go:1786]
--- FAIL: TestSyncWorker_Process (0.01s)
--- PASS: TestSyncWorker_Process/legacy_storage_not_migrated (0.00s)
--- PASS: TestSyncWorker_Process/failed_initial_status_patching (0.00s)
--- FAIL: TestSyncWorker_Process/failed_getting_repository_resources (0.00s)
--- FAIL: TestSyncWorker_Process/failed_getting_clients_for_namespace (0.00s)
--- FAIL: TestSyncWorker_Process/successful_sync (0.00s)
--- FAIL: TestSyncWorker_Process/failed_sync (0.00s)
--- FAIL: TestSyncWorker_Process/stats_call_fails (0.00s)
--- FAIL: TestSyncWorker_Process/stats_returns_nil_stats_and_nil_error (0.00s)
--- FAIL: TestSyncWorker_Process/stats_returns_one_managed_stats (0.00s)
--- FAIL: TestSyncWorker_Process/stats_returns_multiple_managed_stats (0.00s)
--- FAIL: TestSyncWorker_Process/failed_final_status_patch (0.00s)
FAIL
FAIL	github.com/grafana/grafana/pkg/registry/apis/provisioning/jobs/sync	0.487s
=== RUN   Test_WrapWithCloneAndPushIfPossible_NonClonableRepository
--- PASS: Test_WrapWithCloneAndPushIfPossible_NonClonableRepository (0.00s)
=== RUN   TestWrapWithCloneAndPushIfPossible
=== RUN   TestWrapWithCloneAndPushIfPossible/successful_clone,_operation,_and_push
=== RUN   TestWrapWithCloneAndPushIfPossible/clone_failure
=== RUN   TestWrapWithCloneAndPushIfPossible/operation_failure
=== RUN   TestWrapWithCloneAndPushIfPossible/push_failure
=== RUN   TestWrapWithCloneAndPushIfPossible/remove_failure_should_only_log
--- PASS: TestWrapWithCloneAndPushIfPossible (0.00s)
--- PASS: TestWrapWithCloneAndPushIfPossible/successful_clone,_operation,_and_push (0.00s)
--- PASS: TestWrapWithCloneAndPushIfPossible/clone_failure (0.00s)
--- PASS: TestWrapWithCloneAndPushIfPossible/operation_failure (0.00s)
--- PASS: TestWrapWithCloneAndPushIfPossible/push_failure (0.00s)
--- PASS: TestWrapWithCloneAndPushIfPossible/remove_failure_should_only_log (0.00s)
=== RUN   TestAuthorSignature
=== RUN   TestAuthorSignature/should_store_and_retrieve_author_signature
=== RUN   TestAuthorSignature/should_return_nil_when_no_signature_is_set
=== RUN   TestAuthorSignature/should_return_copy_of_signature
--- PASS: TestAuthorSignature (0.00s)
--- PASS: TestAuthorSignature/should_store_and_retrieve_author_signature (0.00s)
--- PASS: TestAuthorSignature/should_return_nil_when_no_signature_is_set (0.00s)
--- PASS: TestAuthorSignature/should_return_copy_of_signature (0.00s)
=== RUN   TestIsValidGitBranchName
=== RUN   TestIsValidGitBranchName/Valid_branch_name
=== RUN   TestIsValidGitBranchName/Valid_branch_name_with_numbers
=== RUN   TestIsValidGitBranchName/Valid_branch_name_with_dots
=== RUN   TestIsValidGitBranchName/Valid_branch_name_with_hyphens
=== RUN   TestIsValidGitBranchName/Valid_branch_name_with_underscores
=== RUN   TestIsValidGitBranchName/Valid_branch_name_with_mixed_characters
=== RUN   TestIsValidGitBranchName/Starts_with_/
=== RUN   TestIsValidGitBranchName/Ends_with_/
=== RUN   TestIsValidGitBranchName/Ends_with_.
=== RUN   TestIsValidGitBranchName/Ends_with_space
=== RUN   TestIsValidGitBranchName/Contains_consecutive_slashes
=== RUN   TestIsValidGitBranchName/Contains_consecutive_dots
=== RUN   TestIsValidGitBranchName/Contains_@{
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_~
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_^
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_:
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_?
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_*
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_[
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_]
=== RUN   TestIsValidGitBranchName/Contains_invalid_character_\
=== RUN   TestIsValidGitBranchName/Empty_branch_name
=== RUN   TestIsValidGitBranchName/Only_whitespace
=== RUN   TestIsValidGitBranchName/Single_valid_character
=== RUN   TestIsValidGitBranchName/Ends_with_.lock
--- PASS: TestIsValidGitBranchName (0.00s)
--- PASS: TestIsValidGitBranchName/Valid_branch_name (0.00s)
--- PASS: TestIsValidGitBranchName/Valid_branch_name_with_numbers (0.00s)
--- PASS: TestIsValidGitBranchName/Valid_branch_name_with_dots (0.00s)
--- PASS: TestIsValidGitBranchName/Valid_branch_name_with_hyphens (0.00s)
--- PASS: TestIsValidGitBranchName/Valid_branch_name_with_underscores (0.00s)
--- PASS: TestIsValidGitBranchName/Valid_branch_name_with_mixed_characters (0.00s)
--- PASS: TestIsValidGitBranchName/Starts_with_/ (0.00s)
--- PASS: TestIsValidGitBranchName/Ends_with_/ (0.00s)
--- PASS: TestIsValidGitBranchName/Ends_with_. (0.00s)
--- PASS: TestIsValidGitBranchName/Ends_with_space (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_consecutive_slashes (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_consecutive_dots (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_@{ (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_~ (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_^ (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_: (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_? (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_* (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_[ (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_] (0.00s)
--- PASS: TestIsValidGitBranchName/Contains_invalid_character_\ (0.00s)
--- PASS: TestIsValidGitBranchName/Empty_branch_name (0.00s)
--- PASS: TestIsValidGitBranchName/Only_whitespace (0.00s)
--- PASS: TestIsValidGitBranchName/Single_valid_character (0.00s)
--- PASS: TestIsValidGitBranchName/Ends_with_.lock (0.00s)
=== RUN   TestParseWebhooks
=== RUN   TestParseWebhooks/webhook-ping-check.json
=== RUN   TestParseWebhooks/webhook-pull_request-opened.json
=== RUN   TestParseWebhooks/webhook-push-different_branch.json
=== RUN   TestParseWebhooks/webhook-push-nothing_relevant.json
=== RUN   TestParseWebhooks/webhook-push-nested.json
=== RUN   TestParseWebhooks/webhook-issue_comment-created.json
--- PASS: TestParseWebhooks (0.01s)
--- PASS: TestParseWebhooks/webhook-ping-check.json (0.00s)
--- PASS: TestParseWebhooks/webhook-pull_request-opened.json (0.00s)
--- PASS: TestParseWebhooks/webhook-push-different_branch.json (0.00s)
--- PASS: TestParseWebhooks/webhook-push-nothing_relevant.json (0.00s)
--- PASS: TestParseWebhooks/webhook-push-nested.json (0.00s)
--- PASS: TestParseWebhooks/webhook-issue_comment-created.json (0.00s)
=== RUN   TestReadTree
=== RUN   TestReadTree/empty_tree
=== RUN   TestReadTree/single_file
=== RUN   TestReadTree/single_directory
=== RUN   TestReadTree/mixed_content
=== RUN   TestReadTree/with_path_prefix
--- PASS: TestReadTree (0.00s)
--- PASS: TestReadTree/empty_tree (0.00s)
--- PASS: TestReadTree/single_file (0.00s)
--- PASS: TestReadTree/single_directory (0.00s)
--- PASS: TestReadTree/mixed_content (0.00s)
--- PASS: TestReadTree/with_path_prefix (0.00s)
=== RUN   TestLocalResolver
--- PASS: TestLocalResolver (0.00s)
=== RUN   TestLocal
=== RUN   TestLocal/valid:_relative_path
=== RUN   TestLocal/valid:_absolute_path
=== RUN   TestLocal/valid:_relative_path_with_multiple_prefixes
=== RUN   TestLocal/valid:_absolute_path_with_multiple_prefixes
=== RUN   TestLocal/invalid:_no_configured_paths
=== RUN   TestLocal/invalid:_path_traversal_escape
=== RUN   TestLocal/invalid:_unconfigured_prefix
--- PASS: TestLocal (0.00s)
--- PASS: TestLocal/valid:_relative_path (0.00s)
--- PASS: TestLocal/valid:_absolute_path (0.00s)
--- PASS: TestLocal/valid:_relative_path_with_multiple_prefixes (0.00s)
--- PASS: TestLocal/valid:_absolute_path_with_multiple_prefixes (0.00s)
--- PASS: TestLocal/invalid:_no_configured_paths (0.00s)
--- PASS: TestLocal/invalid:_path_traversal_escape (0.00s)
--- PASS: TestLocal/invalid:_unconfigured_prefix (0.00s)
=== RUN   TestValidateRepository
=== RUN   TestValidateRepository/valid_repository
=== RUN   TestValidateRepository/missing_title
=== RUN   TestValidateRepository/sync_enabled_without_target
=== RUN   TestValidateRepository/sync_interval_too_low
=== RUN   TestValidateRepository/reserved_name
=== RUN   TestValidateRepository/mismatched_local_config
=== RUN   TestValidateRepository/mismatched_github_config
=== RUN   TestValidateRepository/multiple_validation_errors
--- PASS: TestValidateRepository (0.00s)
--- PASS: TestValidateRepository/valid_repository (0.00s)
--- PASS: TestValidateRepository/missing_title (0.00s)
--- PASS: TestValidateRepository/sync_enabled_without_target (0.00s)
--- PASS: TestValidateRepository/sync_interval_too_low (0.00s)
--- PASS: TestValidateRepository/reserved_name (0.00s)
--- PASS: TestValidateRepository/mismatched_local_config (0.00s)
--- PASS: TestValidateRepository/mismatched_github_config (0.00s)
--- PASS: TestValidateRepository/multiple_validation_errors (0.00s)
=== RUN   TestTestRepository
=== RUN   TestTestRepository/validation_fails
=== RUN   TestTestRepository/test_passes
=== RUN   TestTestRepository/test_fails_with_error
=== RUN   TestTestRepository/test_fails_with_results
--- PASS: TestTestRepository (0.00s)
--- PASS: TestTestRepository/validation_fails (0.00s)
--- PASS: TestTestRepository/test_passes (0.00s)
--- PASS: TestTestRepository/test_fails_with_error (0.00s)
--- PASS: TestTestRepository/test_fails_with_results (0.00s)
=== RUN   TestTester_TestRepository
--- PASS: TestTester_TestRepository (0.00s)
=== RUN   TestIsWriteAllowed
=== RUN   TestIsWriteAllowed/read_only_repository
=== RUN   TestIsWriteAllowed/write_workflow_allowed
=== RUN   TestIsWriteAllowed/write_allowed_for_configured_branch_of_github_repository
=== RUN   TestIsWriteAllowed/write_not_allowed_for_configured_branch_of_github_repository
=== RUN   TestIsWriteAllowed/write_workflow_not_allowed_for_github_repository
=== RUN   TestIsWriteAllowed/write_workflow_not_allowed
=== RUN   TestIsWriteAllowed/branch_workflow_on_non-github_repository
=== RUN   TestIsWriteAllowed/branch_workflow_allowed_on_github_repository
=== RUN   TestIsWriteAllowed/branch_workflow_not_allowed_on_github_repository
--- PASS: TestIsWriteAllowed (0.00s)
--- PASS: TestIsWriteAllowed/read_only_repository (0.00s)
--- PASS: TestIsWriteAllowed/write_workflow_allowed (0.00s)
--- PASS: TestIsWriteAllowed/write_allowed_for_configured_branch_of_github_repository (0.00s)
--- PASS: TestIsWriteAllowed/write_not_allowed_for_configured_branch_of_github_repository (0.00s)
--- PASS: TestIsWriteAllowed/write_workflow_not_allowed_for_github_repository (0.00s)
--- PASS: TestIsWriteAllowed/write_workflow_not_allowed (0.00s)
--- PASS: TestIsWriteAllowed/branch_workflow_on_non-github_repository (0.00s)
--- PASS: TestIsWriteAllowed/branch_workflow_allowed_on_github_repository (0.00s)
--- PASS: TestIsWriteAllowed/branch_workflow_not_allowed_on_github_repository (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/repository	0.020s
?   	github.com/grafana/grafana/pkg/registry/apis/provisioning/repository/github	[no test files]
=== RUN   TestNewByteLimitedTransport
=== RUN   TestNewByteLimitedTransport/with_custom_transport
=== RUN   TestNewByteLimitedTransport/with_nil_transport
--- PASS: TestNewByteLimitedTransport (0.00s)
--- PASS: TestNewByteLimitedTransport/with_custom_transport (0.00s)
--- PASS: TestNewByteLimitedTransport/with_nil_transport (0.00s)
=== RUN   TestByteLimitedTransport_RoundTrip
=== RUN   TestByteLimitedTransport_RoundTrip/under_limit
=== RUN   TestByteLimitedTransport_RoundTrip/exceeds_limit
--- PASS: TestByteLimitedTransport_RoundTrip (0.00s)
--- PASS: TestByteLimitedTransport_RoundTrip/under_limit (0.00s)
--- PASS: TestByteLimitedTransport_RoundTrip/exceeds_limit (0.00s)
=== RUN   TestByteLimitedReader_Close
--- PASS: TestByteLimitedReader_Close (0.00s)
=== RUN   TestByteLimitedReader_AtomicCounting
--- PASS: TestByteLimitedReader_AtomicCounting (0.00s)
=== RUN   TestGoGitWrapper
wrapper_test.go:44: no token found in environment
--- SKIP: TestGoGitWrapper (0.00s)
=== RUN   TestReadTree
--- PASS: TestReadTree (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/repository/go-git	(cached)
=== RUN   TestUtils
=== RUN   TestUtils/load_playlist_json
=== RUN   TestUtils/YAML_Parsing
=== RUN   TestUtils/load_playlist_yaml
=== RUN   TestUtils/load_dashboard_json
=== RUN   TestUtils/lint_dashboard
--- PASS: TestUtils (0.00s)
--- PASS: TestUtils/load_playlist_json (0.00s)
--- PASS: TestUtils/YAML_Parsing (0.00s)
--- PASS: TestUtils/load_playlist_yaml (0.00s)
--- PASS: TestUtils/load_dashboard_json (0.00s)
--- PASS: TestUtils/lint_dashboard (0.00s)
=== RUN   TestIsPathSupported
=== RUN   TestIsPathSupported/valid_yaml_file
=== RUN   TestIsPathSupported/valid_yml_file
=== RUN   TestIsPathSupported/valid_json_file
=== RUN   TestIsPathSupported/valid_nested_path
=== RUN   TestIsPathSupported/valid_directory_path
=== RUN   TestIsPathSupported/unsupported_file_extension
=== RUN   TestIsPathSupported/path_traversal_attempt
=== RUN   TestIsPathSupported/path_too_deep
=== RUN   TestIsPathSupported/absolute_path
=== RUN   TestIsPathSupported/empty_directory_path
--- PASS: TestIsPathSupported (0.00s)
--- PASS: TestIsPathSupported/valid_yaml_file (0.00s)
--- PASS: TestIsPathSupported/valid_yml_file (0.00s)
--- PASS: TestIsPathSupported/valid_json_file (0.00s)
--- PASS: TestIsPathSupported/valid_nested_path (0.00s)
--- PASS: TestIsPathSupported/valid_directory_path (0.00s)
--- PASS: TestIsPathSupported/unsupported_file_extension (0.00s)
--- PASS: TestIsPathSupported/path_traversal_attempt (0.00s)
--- PASS: TestIsPathSupported/path_too_deep (0.00s)
--- PASS: TestIsPathSupported/absolute_path (0.00s)
--- PASS: TestIsPathSupported/empty_directory_path (0.00s)
=== RUN   TestSanitiseKubeName
=== RUN   TestSanitiseKubeName/Valid_Kubernetes_name
=== RUN   TestSanitiseKubeName/Capital_letters_lowercase
=== RUN   TestSanitiseKubeName/Trailing_hyphen_removed
=== RUN   TestSanitiseKubeName/Trailing_dot_removed
=== RUN   TestSanitiseKubeName/Leading_hyphen_removed
=== RUN   TestSanitiseKubeName/Leading_dot_removed
=== RUN   TestSanitiseKubeName/Double_hyphen_simplified
=== RUN   TestSanitiseKubeName/Five_hyphens_simplified
=== RUN   TestSanitiseKubeName/Underscore_converted
=== RUN   TestSanitiseKubeName/Slash_converted
=== RUN   TestSanitiseKubeName/Stops_at_40_characters
--- PASS: TestSanitiseKubeName (0.00s)
--- PASS: TestSanitiseKubeName/Valid_Kubernetes_name (0.00s)
--- PASS: TestSanitiseKubeName/Capital_letters_lowercase (0.00s)
--- PASS: TestSanitiseKubeName/Trailing_hyphen_removed (0.00s)
--- PASS: TestSanitiseKubeName/Trailing_dot_removed (0.00s)
--- PASS: TestSanitiseKubeName/Leading_hyphen_removed (0.00s)
--- PASS: TestSanitiseKubeName/Leading_dot_removed (0.00s)
--- PASS: TestSanitiseKubeName/Double_hyphen_simplified (0.00s)
--- PASS: TestSanitiseKubeName/Five_hyphens_simplified (0.00s)
--- PASS: TestSanitiseKubeName/Underscore_converted (0.00s)
--- PASS: TestSanitiseKubeName/Slash_converted (0.00s)
--- PASS: TestSanitiseKubeName/Stops_at_40_characters (0.00s)
=== RUN   TestAppendHashSuffix
=== RUN   TestAppendHashSuffix/hash_key_is_part_of_hash
=== RUN   TestAppendHashSuffix/repository_name_is_part_of_hash
=== RUN   TestAppendHashSuffix/is_deterministic
=== RUN   TestAppendHashSuffix/Simple,_short_prefix
=== RUN   TestAppendHashSuffix/Suffix_requiring_cutting_hash_to_min
=== RUN   TestAppendHashSuffix/Suffix_requiring_partially_cutting_hash
--- PASS: TestAppendHashSuffix (0.00s)
--- PASS: TestAppendHashSuffix/hash_key_is_part_of_hash (0.00s)
--- PASS: TestAppendHashSuffix/repository_name_is_part_of_hash (0.00s)
--- PASS: TestAppendHashSuffix/is_deterministic (0.00s)
--- PASS: TestAppendHashSuffix/Simple,_short_prefix (0.00s)
--- PASS: TestAppendHashSuffix/Suffix_requiring_cutting_hash_to_min (0.00s)
--- PASS: TestAppendHashSuffix/Suffix_requiring_partially_cutting_hash (0.00s)
=== RUN   TestParseFolderID
=== RUN   TestParseFolderID/Short,_simple_path
=== RUN   TestParseFolderID/Capital_letters_and_punctuation
=== RUN   TestParseFolderID/Very_long_name
--- PASS: TestParseFolderID (0.00s)
--- PASS: TestParseFolderID/Short,_simple_path (0.00s)
--- PASS: TestParseFolderID/Capital_letters_and_punctuation (0.00s)
--- PASS: TestParseFolderID/Very_long_name (0.00s)
=== RUN   TestParser
=== RUN   TestParser/invalid_input
=== RUN   TestParser/dashboard_parsing_(with_and_without_name)
=== RUN   TestParser/generate_name_will_generate_a_name
=== RUN   TestParser/dashboard_classic_format
--- PASS: TestParser (0.00s)
--- PASS: TestParser/invalid_input (0.00s)
--- PASS: TestParser/dashboard_parsing_(with_and_without_name) (0.00s)
--- PASS: TestParser/generate_name_will_generate_a_name (0.00s)
--- PASS: TestParser/dashboard_classic_format (0.00s)
=== RUN   TestFolderTree
=== RUN   TestFolderTree/empty_tree
=== RUN   TestFolderTree/single_directory_in_tree
=== RUN   TestFolderTree/simple_nesting_tree
--- PASS: TestFolderTree (0.00s)
--- PASS: TestFolderTree/empty_tree (0.00s)
--- PASS: TestFolderTree/single_directory_in_tree (0.00s)
--- PASS: TestFolderTree/simple_nesting_tree (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/resources	0.336s
=== RUN   TestIsFolderPath
=== RUN   TestIsFolderPath/empty_path
=== RUN   TestIsFolderPath/dot_path
=== RUN   TestIsFolderPath/file_path_without_extension
=== RUN   TestIsFolderPath/file_path_with_extension
=== RUN   TestIsFolderPath/folder_path_with_trailing_slash
=== RUN   TestIsFolderPath/nested_folder_path_with_trailing_slash
=== RUN   TestIsFolderPath/file_path_in_folder_without_trailing_slash
--- PASS: TestIsFolderPath (0.00s)
--- PASS: TestIsFolderPath/empty_path (0.00s)
--- PASS: TestIsFolderPath/dot_path (0.00s)
--- PASS: TestIsFolderPath/file_path_without_extension (0.00s)
--- PASS: TestIsFolderPath/file_path_with_extension (0.00s)
--- PASS: TestIsFolderPath/folder_path_with_trailing_slash (0.00s)
--- PASS: TestIsFolderPath/nested_folder_path_with_trailing_slash (0.00s)
--- PASS: TestIsFolderPath/file_path_in_folder_without_trailing_slash (0.00s)
=== RUN   TestDir
=== RUN   TestDir/empty_path
=== RUN   TestDir/root_path
=== RUN   TestDir/single_directory
=== RUN   TestDir/nested_directory
=== RUN   TestDir/file_in_directory
=== RUN   TestDir/multiple_nested_directories
=== RUN   TestDir/directory_with_trailing_slash
--- PASS: TestDir (0.00s)
--- PASS: TestDir/empty_path (0.00s)
--- PASS: TestDir/root_path (0.00s)
--- PASS: TestDir/single_directory (0.00s)
--- PASS: TestDir/nested_directory (0.00s)
--- PASS: TestDir/file_in_directory (0.00s)
--- PASS: TestDir/multiple_nested_directories (0.00s)
--- PASS: TestDir/directory_with_trailing_slash (0.00s)
=== RUN   TestInDir
=== RUN   TestInDir/file_in_directory
=== RUN   TestInDir/file_not_in_directory
=== RUN   TestInDir/subdirectory
=== RUN   TestInDir/empty_directory
=== RUN   TestInDir/exact_match
=== RUN   TestInDir/partial_directory_name_match
--- PASS: TestInDir (0.00s)
--- PASS: TestInDir/file_in_directory (0.00s)
--- PASS: TestInDir/file_not_in_directory (0.00s)
--- PASS: TestInDir/subdirectory (0.00s)
--- PASS: TestInDir/empty_directory (0.00s)
--- PASS: TestInDir/exact_match (0.00s)
--- PASS: TestInDir/partial_directory_name_match (0.00s)
=== RUN   TestRelativeTo
=== RUN   TestRelativeTo/simple_relative_path
=== RUN   TestRelativeTo/relative_path_with_leading_slash
=== RUN   TestRelativeTo/relative_path_with_leading_slash_in_dir_but_in_filePath
=== RUN   TestRelativeTo/with_trailing_slash_in_dir
=== RUN   TestRelativeTo/with_trailing_slash_in_both
=== RUN   TestRelativeTo/empty_directory
=== RUN   TestRelativeTo/directory_is_root
=== RUN   TestRelativeTo/nested_directories
=== RUN   TestRelativeTo/file_not_in_directory
=== RUN   TestRelativeTo/file_path_shorter_than_directory
=== RUN   TestRelativeTo/same_directory
=== RUN   TestRelativeTo/directory_with_similar_prefix
--- PASS: TestRelativeTo (0.00s)
--- PASS: TestRelativeTo/simple_relative_path (0.00s)
--- PASS: TestRelativeTo/relative_path_with_leading_slash (0.00s)
--- PASS: TestRelativeTo/relative_path_with_leading_slash_in_dir_but_in_filePath (0.00s)
--- PASS: TestRelativeTo/with_trailing_slash_in_dir (0.00s)
--- PASS: TestRelativeTo/with_trailing_slash_in_both (0.00s)
--- PASS: TestRelativeTo/empty_directory (0.00s)
--- PASS: TestRelativeTo/directory_is_root (0.00s)
--- PASS: TestRelativeTo/nested_directories (0.00s)
--- PASS: TestRelativeTo/file_not_in_directory (0.00s)
--- PASS: TestRelativeTo/file_path_shorter_than_directory (0.00s)
--- PASS: TestRelativeTo/same_directory (0.00s)
--- PASS: TestRelativeTo/directory_with_similar_prefix (0.00s)
=== RUN   TestPathJoin
=== RUN   TestPathJoin/Empty_elements_should_not_change_input
=== RUN   TestPathJoin/Empty_elements_without_leading_slash_should_not_change_input
=== RUN   TestPathJoin/Single_element_should_be_added_to_path
=== RUN   TestPathJoin/Single_element_should_be_added_to_path_with_current_dir_prefix
=== RUN   TestPathJoin/Single_element_with_leading_slash_should_be_added_to_path
=== RUN   TestPathJoin/Many_elements_are_all_appended_to_path
=== RUN   TestPathJoin/Path_traversal_within_same_directory_should_be_expanded
=== RUN   TestPathJoin/Complex_path_traversal_remaining_in_prefix_should_be_expanded
--- PASS: TestPathJoin (0.00s)
--- PASS: TestPathJoin/Empty_elements_should_not_change_input (0.00s)
--- PASS: TestPathJoin/Empty_elements_without_leading_slash_should_not_change_input (0.00s)
--- PASS: TestPathJoin/Single_element_should_be_added_to_path (0.00s)
--- PASS: TestPathJoin/Single_element_should_be_added_to_path_with_current_dir_prefix (0.00s)
--- PASS: TestPathJoin/Single_element_with_leading_slash_should_be_added_to_path (0.00s)
--- PASS: TestPathJoin/Many_elements_are_all_appended_to_path (0.00s)
--- PASS: TestPathJoin/Path_traversal_within_same_directory_should_be_expanded (0.00s)
--- PASS: TestPathJoin/Complex_path_traversal_remaining_in_prefix_should_be_expanded (0.00s)
=== RUN   TestPathClean
=== RUN   TestPathClean/Simple_path
=== RUN   TestPathClean/Simple_path_with_OS_separators
=== RUN   TestPathClean/Simple_path_with_mixed_separators
=== RUN   TestPathClean/Path_traversal_within_directory
=== RUN   TestPathClean/Multiple_path_traversals
=== RUN   TestPathClean/Path_traversal_beyond_root
=== RUN   TestPathClean/Complex_path_traversal_with_mixed_separators
=== RUN   TestPathClean/Path_traversal_with_multiple_slashes
=== RUN   TestPathClean/Path_traversal_with_current_directory
=== RUN   TestPathClean/Empty_path_segments_with_traversal
=== RUN   TestPathClean/Root_path_returns_empty_string
=== RUN   TestPathClean/Current_directory_returns_empty_string
=== RUN   TestPathClean/Path_traversal_to_root_returns_empty_string
--- PASS: TestPathClean (0.00s)
--- PASS: TestPathClean/Simple_path (0.00s)
--- PASS: TestPathClean/Simple_path_with_OS_separators (0.00s)
--- PASS: TestPathClean/Simple_path_with_mixed_separators (0.00s)
--- PASS: TestPathClean/Path_traversal_within_directory (0.00s)
--- PASS: TestPathClean/Multiple_path_traversals (0.00s)
--- PASS: TestPathClean/Path_traversal_beyond_root (0.00s)
--- PASS: TestPathClean/Complex_path_traversal_with_mixed_separators (0.00s)
--- PASS: TestPathClean/Path_traversal_with_multiple_slashes (0.00s)
--- PASS: TestPathClean/Path_traversal_with_current_directory (0.00s)
--- PASS: TestPathClean/Empty_path_segments_with_traversal (0.00s)
--- PASS: TestPathClean/Root_path_returns_empty_string (0.00s)
--- PASS: TestPathClean/Current_directory_returns_empty_string (0.00s)
--- PASS: TestPathClean/Path_traversal_to_root_returns_empty_string (0.00s)
=== RUN   TestBase
=== RUN   TestBase/empty_path
=== RUN   TestBase/root_path
=== RUN   TestBase/current_directory
=== RUN   TestBase/simple_filename
=== RUN   TestBase/path_with_directory
=== RUN   TestBase/path_with_trailing_slash
=== RUN   TestBase/hidden_file
--- PASS: TestBase (0.00s)
--- PASS: TestBase/empty_path (0.00s)
--- PASS: TestBase/root_path (0.00s)
--- PASS: TestBase/current_directory (0.00s)
--- PASS: TestBase/simple_filename (0.00s)
--- PASS: TestBase/path_with_directory (0.00s)
--- PASS: TestBase/path_with_trailing_slash (0.00s)
--- PASS: TestBase/hidden_file (0.00s)
=== RUN   TestRemoveExt
=== RUN   TestRemoveExt/empty_path
=== RUN   TestRemoveExt/no_extension
=== RUN   TestRemoveExt/simple_extension
=== RUN   TestRemoveExt/multiple_dots
=== RUN   TestRemoveExt/hidden_file
=== RUN   TestRemoveExt/path_with_directory
=== RUN   TestRemoveExt/path_with_trailing_slash
--- PASS: TestRemoveExt (0.00s)
--- PASS: TestRemoveExt/empty_path (0.00s)
--- PASS: TestRemoveExt/no_extension (0.00s)
--- PASS: TestRemoveExt/simple_extension (0.00s)
--- PASS: TestRemoveExt/multiple_dots (0.00s)
--- PASS: TestRemoveExt/hidden_file (0.00s)
--- PASS: TestRemoveExt/path_with_directory (0.00s)
--- PASS: TestRemoveExt/path_with_trailing_slash (0.00s)
=== RUN   TestIsSafe
=== RUN   TestIsSafe/valid_simple_path
=== RUN   TestIsSafe/valid_path_with_extension
=== RUN   TestIsSafe/valid_directory_path_with_trailing_slash
=== RUN   TestIsSafe/valid_path_with_allowed_special_chars
=== RUN   TestIsSafe/empty_path
=== RUN   TestIsSafe/path_at_max_length
=== RUN   TestIsSafe/valid_directory
=== RUN   TestIsSafe/valid_path_with_dots_in_filename
=== RUN   TestIsSafe/path_too_long
=== RUN   TestIsSafe/invalid_special_character_hash
=== RUN   TestIsSafe/invalid_character_space
=== RUN   TestIsSafe/invalid_character_backslash
=== RUN   TestIsSafe/invalid_character_question_mark
=== RUN   TestIsSafe/invalid_character_asterisk
=== RUN   TestIsSafe/double_slashes_in_middle
=== RUN   TestIsSafe/double_slashes_at_start
=== RUN   TestIsSafe/double_slashes_at_end
=== RUN   TestIsSafe/hidden_file
=== RUN   TestIsSafe/hidden_directory
=== RUN   TestIsSafe/hidden_file_with_extension
=== RUN   TestIsSafe/hidden_path_component_in_middle
=== RUN   TestIsSafe/hidden_path_at_root
=== RUN   TestIsSafe/path_traversal_with_parent_directory
=== RUN   TestIsSafe/path_traversal_at_start
=== RUN   TestIsSafe/path_traversal_with_multiple_levels
=== RUN   TestIsSafe/path_traversal_at_end
=== RUN   TestIsSafe/single_dot_path_component
=== RUN   TestIsSafe/double_dot_path_component
=== RUN   TestIsSafe/current_directory_at_start
=== RUN   TestIsSafe/current_directory_in_middle
=== RUN   TestIsSafe/current_directory_at_end
=== RUN   TestIsSafe/percent_character_in_filename
=== RUN   TestIsSafe/url_encoded_slash
=== RUN   TestIsSafe/url_encoded_dot
=== RUN   TestIsSafe/url_encoded_path_traversal
=== RUN   TestIsSafe/url_encoded_null_byte
=== RUN   TestIsSafe/mixed_traversal_attempts
=== RUN   TestIsSafe/mixed_special_chars_and_traversal
=== RUN   TestIsSafe/mixed_percent_and_special_chars
--- PASS: TestIsSafe (0.00s)
--- PASS: TestIsSafe/valid_simple_path (0.00s)
--- PASS: TestIsSafe/valid_path_with_extension (0.00s)
--- PASS: TestIsSafe/valid_directory_path_with_trailing_slash (0.00s)
--- PASS: TestIsSafe/valid_path_with_allowed_special_chars (0.00s)
--- PASS: TestIsSafe/empty_path (0.00s)
--- PASS: TestIsSafe/path_at_max_length (0.00s)
--- PASS: TestIsSafe/valid_directory (0.00s)
--- PASS: TestIsSafe/valid_path_with_dots_in_filename (0.00s)
--- PASS: TestIsSafe/path_too_long (0.00s)
--- PASS: TestIsSafe/invalid_special_character_hash (0.00s)
--- PASS: TestIsSafe/invalid_character_space (0.00s)
--- PASS: TestIsSafe/invalid_character_backslash (0.00s)
--- PASS: TestIsSafe/invalid_character_question_mark (0.00s)
--- PASS: TestIsSafe/invalid_character_asterisk (0.00s)
--- PASS: TestIsSafe/double_slashes_in_middle (0.00s)
--- PASS: TestIsSafe/double_slashes_at_start (0.00s)
--- PASS: TestIsSafe/double_slashes_at_end (0.00s)
--- PASS: TestIsSafe/hidden_file (0.00s)
--- PASS: TestIsSafe/hidden_directory (0.00s)
--- PASS: TestIsSafe/hidden_file_with_extension (0.00s)
--- PASS: TestIsSafe/hidden_path_component_in_middle (0.00s)
--- PASS: TestIsSafe/hidden_path_at_root (0.00s)
--- PASS: TestIsSafe/path_traversal_with_parent_directory (0.00s)
--- PASS: TestIsSafe/path_traversal_at_start (0.00s)
--- PASS: TestIsSafe/path_traversal_with_multiple_levels (0.00s)
--- PASS: TestIsSafe/path_traversal_at_end (0.00s)
--- PASS: TestIsSafe/single_dot_path_component (0.00s)
--- PASS: TestIsSafe/double_dot_path_component (0.00s)
--- PASS: TestIsSafe/current_directory_at_start (0.00s)
--- PASS: TestIsSafe/current_directory_in_middle (0.00s)
--- PASS: TestIsSafe/current_directory_at_end (0.00s)
--- PASS: TestIsSafe/percent_character_in_filename (0.00s)
--- PASS: TestIsSafe/url_encoded_slash (0.00s)
--- PASS: TestIsSafe/url_encoded_dot (0.00s)
--- PASS: TestIsSafe/url_encoded_path_traversal (0.00s)
--- PASS: TestIsSafe/url_encoded_null_byte (0.00s)
--- PASS: TestIsSafe/mixed_traversal_attempts (0.00s)
--- PASS: TestIsSafe/mixed_special_chars_and_traversal (0.00s)
--- PASS: TestIsSafe/mixed_percent_and_special_chars (0.00s)
=== RUN   TestSafeSegment
=== RUN   TestSafeSegment/empty_path
=== RUN   TestSafeSegment/simple_valid_path
=== RUN   TestSafeSegment/path_with_valid_special_characters
=== RUN   TestSafeSegment/path_with_trailing_slash
=== RUN   TestSafeSegment/path_with_multiple_extensions
=== RUN   TestSafeSegment/path_with_invalid_characters
=== RUN   TestSafeSegment/path_with_traversal_attempt
=== RUN   TestSafeSegment/path_with_hidden_file
=== RUN   TestSafeSegment/path_with_percent_character
=== RUN   TestSafeSegment/path_with_double_slashes
--- PASS: TestSafeSegment (0.00s)
--- PASS: TestSafeSegment/empty_path (0.00s)
--- PASS: TestSafeSegment/simple_valid_path (0.00s)
--- PASS: TestSafeSegment/path_with_valid_special_characters (0.00s)
--- PASS: TestSafeSegment/path_with_trailing_slash (0.00s)
--- PASS: TestSafeSegment/path_with_multiple_extensions (0.00s)
--- PASS: TestSafeSegment/path_with_invalid_characters (0.00s)
--- PASS: TestSafeSegment/path_with_traversal_attempt (0.00s)
--- PASS: TestSafeSegment/path_with_hidden_file (0.00s)
--- PASS: TestSafeSegment/path_with_percent_character (0.00s)
--- PASS: TestSafeSegment/path_with_double_slashes (0.00s)
=== RUN   TestTrie
=== RUN   TestTrie/empty_trie
=== RUN   TestTrie/single_file
=== RUN   TestTrie/single_directory
=== RUN   TestTrie/nested_structure
=== RUN   TestTrie/partial_paths
=== RUN   TestTrie/file_in_middle_of_path
=== RUN   TestTrie/empty_path
=== RUN   TestTrie/root_directory
=== RUN   TestTrie/duplicate_paths
=== RUN   TestTrie/file_to_directory_conversion_not_allowed
=== RUN   TestTrie/directory_to_file_conversion_not_allowed
--- PASS: TestTrie (0.00s)
--- PASS: TestTrie/empty_trie (0.00s)
--- PASS: TestTrie/single_file (0.00s)
--- PASS: TestTrie/single_directory (0.00s)
--- PASS: TestTrie/nested_structure (0.00s)
--- PASS: TestTrie/partial_paths (0.00s)
--- PASS: TestTrie/file_in_middle_of_path (0.00s)
--- PASS: TestTrie/empty_path (0.00s)
--- PASS: TestTrie/root_directory (0.00s)
--- PASS: TestTrie/duplicate_paths (0.00s)
--- PASS: TestTrie/file_to_directory_conversion_not_allowed (0.00s)
--- PASS: TestTrie/directory_to_file_conversion_not_allowed (0.00s)
=== RUN   TestWalk
=== RUN   TestWalk/simple_path
=== RUN   TestWalk/path_with_leading_slash
=== RUN   TestWalk/path_with_trailing_slash
=== RUN   TestWalk/root_path
=== RUN   TestWalk/current_directory
--- PASS: TestWalk (0.00s)
--- PASS: TestWalk/simple_path (0.00s)
--- PASS: TestWalk/path_with_leading_slash (0.00s)
--- PASS: TestWalk/path_with_trailing_slash (0.00s)
--- PASS: TestWalk/root_path (0.00s)
--- PASS: TestWalk/current_directory (0.00s)
=== RUN   TestDepth
=== RUN   TestDepth/empty_path
=== RUN   TestDepth/root_path
=== RUN   TestDepth/single_level
=== RUN   TestDepth/multiple_levels
=== RUN   TestDepth/path_with_leading_slash
=== RUN   TestDepth/path_with_trailing_slash
--- PASS: TestDepth (0.00s)
--- PASS: TestDepth/empty_path (0.00s)
--- PASS: TestDepth/root_path (0.00s)
--- PASS: TestDepth/single_level (0.00s)
--- PASS: TestDepth/multiple_levels (0.00s)
--- PASS: TestDepth/path_with_leading_slash (0.00s)
--- PASS: TestDepth/path_with_trailing_slash (0.00s)
=== RUN   TestSplit
=== RUN   TestSplit/empty_path
=== RUN   TestSplit/root_path
=== RUN   TestSplit/single_segment
=== RUN   TestSplit/multiple_segments
=== RUN   TestSplit/path_with_leading_slash
=== RUN   TestSplit/path_with_trailing_slash
--- PASS: TestSplit (0.00s)
--- PASS: TestSplit/empty_path (0.00s)
--- PASS: TestSplit/root_path (0.00s)
--- PASS: TestSplit/single_segment (0.00s)
--- PASS: TestSplit/multiple_segments (0.00s)
--- PASS: TestSplit/path_with_leading_slash (0.00s)
--- PASS: TestSplit/path_with_trailing_slash (0.00s)
=== RUN   TestWalkError
--- PASS: TestWalkError (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/provisioning/safepath	(cached)
?   	github.com/grafana/grafana/pkg/registry/apis/provisioning/secrets	[no test files]
=== RUN   TestQuerySplitting
=== RUN   TestQuerySplitting/missing_datasource_flavors
=== RUN   TestQuerySplitting/applies_zero_time_range_if_time_range_is_missing
=== RUN   TestQuerySplitting/applies_query_time_range_if_present
=== RUN   TestQuerySplitting/applies_query_time_range_if_all_time_ranges_are_present
=== RUN   TestQuerySplitting/verify_tests
=== RUN   TestQuerySplitting/verify_tests/cyclic-references.json
=== RUN   TestQuerySplitting/verify_tests/multiple-uids-same-plugin.json
=== RUN   TestQuerySplitting/verify_tests/self-reference.json
=== RUN   TestQuerySplitting/verify_tests/with-expressions.json
--- PASS: TestQuerySplitting (0.00s)
--- PASS: TestQuerySplitting/missing_datasource_flavors (0.00s)
--- PASS: TestQuerySplitting/applies_zero_time_range_if_time_range_is_missing (0.00s)
--- PASS: TestQuerySplitting/applies_query_time_range_if_present (0.00s)
--- PASS: TestQuerySplitting/applies_query_time_range_if_all_time_ranges_are_present (0.00s)
--- PASS: TestQuerySplitting/verify_tests (0.00s)
--- PASS: TestQuerySplitting/verify_tests/cyclic-references.json (0.00s)
--- PASS: TestQuerySplitting/verify_tests/multiple-uids-same-plugin.json (0.00s)
--- PASS: TestQuerySplitting/verify_tests/self-reference.json (0.00s)
--- PASS: TestQuerySplitting/verify_tests/with-expressions.json (0.00s)
=== RUN   TestSqlInputs
--- PASS: TestSqlInputs (0.00s)
=== RUN   TestQueryRestConnectHandler
--- PASS: TestQueryRestConnectHandler (0.00s)
=== RUN   TestQueryErrorType
--- PASS: TestQueryErrorType (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/query	0.424s
?   	github.com/grafana/grafana/pkg/registry/apis/query/client	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/query/clientapi	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/query/queryschema	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/secret	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/secret/contracts	[no test files]
=== RUN   TestValidateKeeper
=== RUN   TestValidateKeeper/when_creating_a_new_keeper
=== RUN   TestValidateKeeper/when_creating_a_new_keeper/the_`title`_must_be_present
=== RUN   TestValidateKeeper/only_one_`keeper`_must_be_present
=== RUN   TestValidateKeeper/at_least_one_`keeper`_must_be_present
=== RUN   TestValidateKeeper/aws_keeper_validation
=== RUN   TestValidateKeeper/aws_keeper_validation/`accessKeyId`_must_be_present
=== RUN   TestValidateKeeper/aws_keeper_validation/`accessKeyId`_must_be_present/at_least_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/aws_keeper_validation/`accessKeyId`_must_be_present/at_most_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/aws_keeper_validation/`secretAccessKey`_must_be_present
=== RUN   TestValidateKeeper/aws_keeper_validation/`secretAccessKey`_must_be_present/at_least_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/aws_keeper_validation/`secretAccessKey`_must_be_present/at_most_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/azure_keeper_validation
=== RUN   TestValidateKeeper/azure_keeper_validation/`keyVaultName`_must_be_present
=== RUN   TestValidateKeeper/azure_keeper_validation/`tenantId`_must_be_present
=== RUN   TestValidateKeeper/azure_keeper_validation/`clientId`_must_be_present
=== RUN   TestValidateKeeper/azure_keeper_validation/`clientSecret`_must_be_present
=== RUN   TestValidateKeeper/azure_keeper_validation/`clientSecret`_must_be_present/at_least_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/azure_keeper_validation/`clientSecret`_must_be_present/at_most_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/gcp_keeper_validation
=== RUN   TestValidateKeeper/gcp_keeper_validation/`projectId`_must_be_present
=== RUN   TestValidateKeeper/gcp_keeper_validation/`credentialsFile`_must_be_present
=== RUN   TestValidateKeeper/hashicorp_keeper_validation
=== RUN   TestValidateKeeper/hashicorp_keeper_validation/`address`_must_be_present
=== RUN   TestValidateKeeper/hashicorp_keeper_validation/`token`_must_be_present
=== RUN   TestValidateKeeper/hashicorp_keeper_validation/`token`_must_be_present/at_least_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/hashicorp_keeper_validation/`token`_must_be_present/at_most_one_of_the_credential_value_must_be_present
=== RUN   TestValidateKeeper/sql_keeper_validation
=== RUN   TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials
=== RUN   TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials/when_using_credentials_for_aws
=== RUN   TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials/when_using_credentials_for_azure
=== RUN   TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials/when_using_credentials_for_hashicorp
--- PASS: TestValidateKeeper (0.00s)
--- PASS: TestValidateKeeper/when_creating_a_new_keeper (0.00s)
--- PASS: TestValidateKeeper/when_creating_a_new_keeper/the_`title`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/only_one_`keeper`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/at_least_one_`keeper`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation/`accessKeyId`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation/`accessKeyId`_must_be_present/at_least_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation/`accessKeyId`_must_be_present/at_most_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation/`secretAccessKey`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation/`secretAccessKey`_must_be_present/at_least_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/aws_keeper_validation/`secretAccessKey`_must_be_present/at_most_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation/`keyVaultName`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation/`tenantId`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation/`clientId`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation/`clientSecret`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation/`clientSecret`_must_be_present/at_least_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/azure_keeper_validation/`clientSecret`_must_be_present/at_most_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/gcp_keeper_validation (0.00s)
--- PASS: TestValidateKeeper/gcp_keeper_validation/`projectId`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/gcp_keeper_validation/`credentialsFile`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/hashicorp_keeper_validation (0.00s)
--- PASS: TestValidateKeeper/hashicorp_keeper_validation/`address`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/hashicorp_keeper_validation/`token`_must_be_present (0.00s)
--- PASS: TestValidateKeeper/hashicorp_keeper_validation/`token`_must_be_present/at_least_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/hashicorp_keeper_validation/`token`_must_be_present/at_most_one_of_the_credential_value_must_be_present (0.00s)
--- PASS: TestValidateKeeper/sql_keeper_validation (0.00s)
--- PASS: TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials (0.00s)
--- PASS: TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials/when_using_credentials_for_aws (0.00s)
--- PASS: TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials/when_using_credentials_for_azure (0.00s)
--- PASS: TestValidateKeeper/sql_keeper_validation/does_not_allow_usage_of_`secureValueName`_in_credentials/when_using_credentials_for_hashicorp (0.00s)
=== RUN   TestValidateSecureValue
=== RUN   TestValidateSecureValue/when_creating_a_new_securevalue
=== RUN   TestValidateSecureValue/when_creating_a_new_securevalue/the_`title`_must_be_present
=== RUN   TestValidateSecureValue/when_creating_a_new_securevalue/the_`keeper`_must_be_present
=== RUN   TestValidateSecureValue/when_creating_a_new_securevalue/either_a_`value`_or_`ref`_must_be_present_but_not_both
=== RUN   TestValidateSecureValue/when_updating_a_securevalue
=== RUN   TestValidateSecureValue/when_updating_a_securevalue/when_trying_to_switch_from_a_`value`_(old)_to_a_`ref`_(new),_it_returns_an_error
=== RUN   TestValidateSecureValue/when_updating_a_securevalue/when_trying_to_switch_from_a_`ref`_(old)_to_a_`value`_(new),_it_returns_an_error
=== RUN   TestValidateSecureValue/when_updating_a_securevalue/when_both_`value`_and_`ref`_are_set,_it_returns_an_error
=== RUN   TestValidateSecureValue/when_updating_a_securevalue/when_no_changes_are_made,_it_returns_no_errors
=== RUN   TestValidateSecureValue/when_updating_a_securevalue/when_the_old_object_is_`nil`_it_returns_an_error
=== RUN   TestValidateSecureValue/when_updating_a_securevalue/when_trying_to_change_the_`keeper`,_it_returns_an_error
=== RUN   TestValidateSecureValue/`decrypters`_must_have_unique_items
=== RUN   TestValidateSecureValue/`decrypters`_must_match_the_expected_format
=== RUN   TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list
=== RUN   TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/no_matches,_returns_an_error
=== RUN   TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/no_decrypters,_returns_no_error
=== RUN   TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/one_match,_returns_no_errors
=== RUN   TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/all_matches,_returns_no_errors
--- PASS: TestValidateSecureValue (0.00s)
--- PASS: TestValidateSecureValue/when_creating_a_new_securevalue (0.00s)
--- PASS: TestValidateSecureValue/when_creating_a_new_securevalue/the_`title`_must_be_present (0.00s)
--- PASS: TestValidateSecureValue/when_creating_a_new_securevalue/the_`keeper`_must_be_present (0.00s)
--- PASS: TestValidateSecureValue/when_creating_a_new_securevalue/either_a_`value`_or_`ref`_must_be_present_but_not_both (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue/when_trying_to_switch_from_a_`value`_(old)_to_a_`ref`_(new),_it_returns_an_error (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue/when_trying_to_switch_from_a_`ref`_(old)_to_a_`value`_(new),_it_returns_an_error (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue/when_both_`value`_and_`ref`_are_set,_it_returns_an_error (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue/when_no_changes_are_made,_it_returns_no_errors (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue/when_the_old_object_is_`nil`_it_returns_an_error (0.00s)
--- PASS: TestValidateSecureValue/when_updating_a_securevalue/when_trying_to_change_the_`keeper`,_it_returns_an_error (0.00s)
--- PASS: TestValidateSecureValue/`decrypters`_must_have_unique_items (0.00s)
--- PASS: TestValidateSecureValue/`decrypters`_must_match_the_expected_format (0.00s)
--- PASS: TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list (0.00s)
--- PASS: TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/no_matches,_returns_an_error (0.00s)
--- PASS: TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/no_decrypters,_returns_no_error (0.00s)
--- PASS: TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/one_match,_returns_no_errors (0.00s)
--- PASS: TestValidateSecureValue/when_set,_the_`decrypters`_must_be_one_of_the_allowed_in_the_allow_list/all_matches,_returns_no_errors (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/secret/reststorage	(cached)
=== RUN   Test_OSSKeeperService_GetKeepers
=== RUN   Test_OSSKeeperService_GetKeepers/GetKeepers_should_return_a_map_with_a_sql_keeper
--- PASS: Test_OSSKeeperService_GetKeepers (0.00s)
--- PASS: Test_OSSKeeperService_GetKeepers/GetKeepers_should_return_a_map_with_a_sql_keeper (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/secret/secretkeeper	(cached)
=== RUN   Test_SQLKeeperSetup
=== RUN   Test_SQLKeeperSetup/storing_an_encrypted_value_returns_no_error
=== RUN   Test_SQLKeeperSetup/storing_an_encrypted_value_returns_no_error/expose_the_encrypted_value_from_existing_namespace
=== RUN   Test_SQLKeeperSetup/storing_an_encrypted_value_returns_no_error/expose_encrypted_value_from_different_namespace_returns_error
=== RUN   Test_SQLKeeperSetup/storing_same_value_in_same_namespace_returns_no_error
=== RUN   Test_SQLKeeperSetup/storing_same_value_in_different_namespace_returns_no_error
=== RUN   Test_SQLKeeperSetup/exposing_non_existing_values_returns_error
=== RUN   Test_SQLKeeperSetup/deleting_an_existing_encrypted_value_does_not_return_error
=== RUN   Test_SQLKeeperSetup/deleting_an_non_existing_encrypted_value_does_not_return_error
=== RUN   Test_SQLKeeperSetup/updating_an_existent_encrypted_value_returns_no_error
=== RUN   Test_SQLKeeperSetup/updating_a_non_existent_encrypted_value_returns_error
--- PASS: Test_SQLKeeperSetup (0.00s)
--- PASS: Test_SQLKeeperSetup/storing_an_encrypted_value_returns_no_error (0.00s)
--- PASS: Test_SQLKeeperSetup/storing_an_encrypted_value_returns_no_error/expose_the_encrypted_value_from_existing_namespace (0.00s)
--- PASS: Test_SQLKeeperSetup/storing_an_encrypted_value_returns_no_error/expose_encrypted_value_from_different_namespace_returns_error (0.00s)
--- PASS: Test_SQLKeeperSetup/storing_same_value_in_same_namespace_returns_no_error (0.00s)
--- PASS: Test_SQLKeeperSetup/storing_same_value_in_different_namespace_returns_no_error (0.00s)
--- PASS: Test_SQLKeeperSetup/exposing_non_existing_values_returns_error (0.00s)
--- PASS: Test_SQLKeeperSetup/deleting_an_existing_encrypted_value_does_not_return_error (0.00s)
--- PASS: Test_SQLKeeperSetup/deleting_an_non_existing_encrypted_value_does_not_return_error (0.00s)
--- PASS: Test_SQLKeeperSetup/updating_an_existent_encrypted_value_returns_no_error (0.00s)
--- PASS: Test_SQLKeeperSetup/updating_a_non_existent_encrypted_value_returns_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/secret/secretkeeper/sqlkeeper	(cached)
?   	github.com/grafana/grafana/pkg/registry/apis/secret/xkube	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apis/service	[no test files]
=== RUN   TestAuthorizer
=== RUN   TestAuthorizer/valid_authorization
=== RUN   TestAuthorizer/invalid_user
=== RUN   TestAuthorizer/admin_user
=== RUN   TestAuthorizer/create_request
=== RUN   TestAuthorizer/forbidden_action
--- PASS: TestAuthorizer (0.00s)
--- PASS: TestAuthorizer/valid_authorization (0.00s)
--- PASS: TestAuthorizer/invalid_user (0.00s)
--- PASS: TestAuthorizer/admin_user (0.00s)
--- PASS: TestAuthorizer/create_request (0.00s)
--- PASS: TestAuthorizer/forbidden_action (0.00s)
=== RUN   TestValidate
=== RUN   TestValidate/valid_userstorage_object
=== RUN   TestValidate/invalid_userstorage_object
--- PASS: TestValidate (0.00s)
--- PASS: TestValidate/valid_userstorage_object (0.00s)
--- PASS: TestValidate/invalid_userstorage_object (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apis/userstorage	(cached)
?   	github.com/grafana/grafana/pkg/registry/apps	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apps/advisor	[no test files]
?   	github.com/grafana/grafana/pkg/registry/apps/investigations	[no test files]
=== RUN   TestPlaylistConversion
--- PASS: TestPlaylistConversion (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/registry/apps/playlist	(cached)
?   	github.com/grafana/grafana/pkg/registry/backgroundsvcs	[no test files]
?   	github.com/grafana/grafana/pkg/registry/schemas	[no test files]
?   	github.com/grafana/grafana/pkg/registry/usagestatssvcs	[no test files]
=== RUN   TestRunInstrumentationService
--- PASS: TestRunInstrumentationService (0.10s)
=== RUN   TestIntegrationWillRunInstrumentationServerWhenTargetHasNoHttpServer
module_server_test.go:23: skipping integration test
--- SKIP: TestIntegrationWillRunInstrumentationServerWhenTargetHasNoHttpServer (0.00s)
=== RUN   TestServer_Run_Error
--- PASS: TestServer_Run_Error (0.00s)
=== RUN   TestServer_Shutdown
--- PASS: TestServer_Shutdown (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/server	0.544s
=== RUN   TestReduce
=== RUN   TestReduce/no_permission
=== RUN   TestReduce/scopeless_permissions
=== RUN   TestReduce/mixed_scope_and_scopeless_permissions
=== RUN   TestReduce/specific_permission
=== RUN   TestReduce/specific_permissions_with_repeated_scope
=== RUN   TestReduce/wildcard_permission
=== RUN   TestReduce/mixed_wildcard_and_scoped_permission
=== RUN   TestReduce/different_wildcard_permission
=== RUN   TestReduce/root_wildcard_permission
=== RUN   TestReduce/non-wilcard_scopes_with_*_in_them
--- PASS: TestReduce (0.00s)
--- PASS: TestReduce/no_permission (0.00s)
--- PASS: TestReduce/scopeless_permissions (0.00s)
--- PASS: TestReduce/mixed_scope_and_scopeless_permissions (0.00s)
--- PASS: TestReduce/specific_permission (0.00s)
--- PASS: TestReduce/specific_permissions_with_repeated_scope (0.00s)
--- PASS: TestReduce/wildcard_permission (0.00s)
--- PASS: TestReduce/mixed_wildcard_and_scoped_permission (0.00s)
--- PASS: TestReduce/different_wildcard_permission (0.00s)
--- PASS: TestReduce/root_wildcard_permission (0.00s)
--- PASS: TestReduce/non-wilcard_scopes_with_*_in_them (0.00s)
=== RUN   TestGroupScopesByActionContext
--- PASS: TestGroupScopesByActionContext (0.00s)
=== RUN   TestPermissionCacheKey
=== RUN   TestPermissionCacheKey/should_return_correct_key_for_user
=== RUN   TestPermissionCacheKey/should_return_correct_key_for_api_key
=== RUN   TestPermissionCacheKey/should_return_correct_key_for_service_account
=== RUN   TestPermissionCacheKey/should_return_correct_key_for_matching_a_service_account_with_userId_-1
=== RUN   TestPermissionCacheKey/should_use_org_role_if_no_unique_id
--- PASS: TestPermissionCacheKey (0.00s)
--- PASS: TestPermissionCacheKey/should_return_correct_key_for_user (0.00s)
--- PASS: TestPermissionCacheKey/should_return_correct_key_for_api_key (0.00s)
--- PASS: TestPermissionCacheKey/should_return_correct_key_for_service_account (0.00s)
--- PASS: TestPermissionCacheKey/should_return_correct_key_for_matching_a_service_account_with_userId_-1 (0.00s)
--- PASS: TestPermissionCacheKey/should_use_org_role_if_no_unique_id (0.00s)
=== RUN   TestGetSearchPermissionCacheKey
=== RUN   TestGetSearchPermissionCacheKey/the_cache_key_is_consistent
--- PASS: TestGetSearchPermissionCacheKey (0.00s)
--- PASS: TestGetSearchPermissionCacheKey/the_cache_key_is_consistent (0.00s)
=== RUN   Test_Checker
=== RUN   Test_Checker/should_pass_for_every_entity_with_dashboard_wildcard_scope
=== RUN   Test_Checker/should_pass_for_every_entity_with_folder_wildcard_scope
=== RUN   Test_Checker/should_only_pass_for_for_3_scopes
=== RUN   Test_Checker/should_only_pass_4_with_secondary_supported_scope
=== RUN   Test_Checker/should_only_pass_4_with_some_dashboard_and_some_folder_scopes
=== RUN   Test_Checker/should_only_pass_2_with_overlapping_dashboard_and_folder_scopes
=== RUN   Test_Checker/should_pass_none_for_missing_action
--- PASS: Test_Checker (0.00s)
--- PASS: Test_Checker/should_pass_for_every_entity_with_dashboard_wildcard_scope (0.00s)
--- PASS: Test_Checker/should_pass_for_every_entity_with_folder_wildcard_scope (0.00s)
--- PASS: Test_Checker/should_only_pass_for_for_3_scopes (0.00s)
--- PASS: Test_Checker/should_only_pass_4_with_secondary_supported_scope (0.00s)
--- PASS: Test_Checker/should_only_pass_4_with_some_dashboard_and_some_folder_scopes (0.00s)
--- PASS: Test_Checker/should_only_pass_2_with_overlapping_dashboard_and_folder_scopes (0.00s)
--- PASS: Test_Checker/should_pass_none_for_missing_action (0.00s)
=== RUN   TestPermission_Evaluate
=== RUN   TestPermission_Evaluate/should_evaluate_to_true
=== RUN   TestPermission_Evaluate/should_evaluate_to_true_when_at_least_one_scope_matches
=== RUN   TestPermission_Evaluate/should_evaluate_to_true_for_empty_scope
=== RUN   TestPermission_Evaluate/should_evaluate_to_false_when_no_scopes_matches
--- PASS: TestPermission_Evaluate (0.00s)
--- PASS: TestPermission_Evaluate/should_evaluate_to_true (0.00s)
--- PASS: TestPermission_Evaluate/should_evaluate_to_true_when_at_least_one_scope_matches (0.00s)
--- PASS: TestPermission_Evaluate/should_evaluate_to_true_for_empty_scope (0.00s)
--- PASS: TestPermission_Evaluate/should_evaluate_to_false_when_no_scopes_matches (0.00s)
=== RUN   TestPermission_Inject
=== RUN   TestPermission_Inject/should_inject_field
=== RUN   TestPermission_Inject/should_inject_correct_param
=== RUN   TestPermission_Inject/should_fail_for_nil_params
=== RUN   TestPermission_Inject/should_inject_several_parameters_to_one_permission
--- PASS: TestPermission_Inject (0.00s)
--- PASS: TestPermission_Inject/should_inject_field (0.00s)
--- PASS: TestPermission_Inject/should_inject_correct_param (0.00s)
--- PASS: TestPermission_Inject/should_fail_for_nil_params (0.00s)
--- PASS: TestPermission_Inject/should_inject_several_parameters_to_one_permission (0.00s)
=== RUN   TestAll_Evaluate
=== RUN   TestAll_Evaluate/should_return_true_for_one_that_matches
=== RUN   TestAll_Evaluate/should_return_true_for_several_that_matches
=== RUN   TestAll_Evaluate/should_return_false_if_one_does_not_match
--- PASS: TestAll_Evaluate (0.00s)
--- PASS: TestAll_Evaluate/should_return_true_for_one_that_matches (0.00s)
--- PASS: TestAll_Evaluate/should_return_true_for_several_that_matches (0.00s)
--- PASS: TestAll_Evaluate/should_return_false_if_one_does_not_match (0.00s)
=== RUN   TestAll_Inject
=== RUN   TestAll_Inject/should_inject_correct_param
=== RUN   TestAll_Inject/should_inject_field_and_URL_param
=== RUN   TestAll_Inject/should_fail_for_nil_params
--- PASS: TestAll_Inject (0.00s)
--- PASS: TestAll_Inject/should_inject_correct_param (0.00s)
--- PASS: TestAll_Inject/should_inject_field_and_URL_param (0.00s)
--- PASS: TestAll_Inject/should_fail_for_nil_params (0.00s)
=== RUN   TestAny_Evaluate
=== RUN   TestAny_Evaluate/should_return_true_for_one_that_matches
=== RUN   TestAny_Evaluate/should_return_true_when_at_least_one_matches
=== RUN   TestAny_Evaluate/should_return_false_when_there_is_no_match
--- PASS: TestAny_Evaluate (0.00s)
--- PASS: TestAny_Evaluate/should_return_true_for_one_that_matches (0.00s)
--- PASS: TestAny_Evaluate/should_return_true_when_at_least_one_matches (0.00s)
--- PASS: TestAny_Evaluate/should_return_false_when_there_is_no_match (0.00s)
=== RUN   TestAny_Inject
=== RUN   TestAny_Inject/should_inject_correct_param
=== RUN   TestAny_Inject/should_inject_field_and_URL_param
=== RUN   TestAny_Inject/should_fail_for_nil_params
--- PASS: TestAny_Inject (0.00s)
--- PASS: TestAny_Inject/should_inject_correct_param (0.00s)
--- PASS: TestAny_Inject/should_inject_field_and_URL_param (0.00s)
--- PASS: TestAny_Inject/should_fail_for_nil_params (0.00s)
=== RUN   TestEval
=== RUN   TestEval/should_return_true_when_first_is_true
=== RUN   TestEval/should_return_true_when_first_is_false_and_all_is_true
=== RUN   TestEval/should_return_false_when_both_are_false
--- PASS: TestEval (0.00s)
--- PASS: TestEval/should_return_true_when_first_is_true (0.00s)
--- PASS: TestEval/should_return_true_when_first_is_false_and_all_is_true (0.00s)
--- PASS: TestEval/should_return_false_when_both_are_false (0.00s)
=== RUN   TestEval_MutateScopes
=== RUN   TestEval_MutateScopes/should_return_error_if_none_of_the_scopes_was_a_resolved
=== RUN   TestEval_MutateScopes/should_return_if_at_least_one_scope_was_resolved
--- PASS: TestEval_MutateScopes (0.00s)
--- PASS: TestEval_MutateScopes/should_return_error_if_none_of_the_scopes_was_a_resolved (0.00s)
--- PASS: TestEval_MutateScopes/should_return_if_at_least_one_scope_was_resolved (0.00s)
=== RUN   TestGetResourcesMetadata
=== RUN   TestGetResourcesMetadata/Should_return_no_permission_for_resources_1,2,3_given_the_user_has_no_permission
=== RUN   TestGetResourcesMetadata/Should_return_no_permission_for_resources_1,2,3_given_the_user_has_permissions_for_4_only
=== RUN   TestGetResourcesMetadata/Should_only_return_permissions_for_resources_1_and_2,_given_the_user_has_no_permissions_for_3
=== RUN   TestGetResourcesMetadata/Should_return_permissions_with_global_scopes_for_resources_1,2,3
=== RUN   TestGetResourcesMetadata/Should_correctly_filter_out_irrelevant_permissions_for_resources_1,2,3
--- PASS: TestGetResourcesMetadata (0.00s)
--- PASS: TestGetResourcesMetadata/Should_return_no_permission_for_resources_1,2,3_given_the_user_has_no_permission (0.00s)
--- PASS: TestGetResourcesMetadata/Should_return_no_permission_for_resources_1,2,3_given_the_user_has_permissions_for_4_only (0.00s)
--- PASS: TestGetResourcesMetadata/Should_only_return_permissions_for_resources_1_and_2,_given_the_user_has_no_permissions_for_3 (0.00s)
--- PASS: TestGetResourcesMetadata/Should_return_permissions_with_global_scopes_for_resources_1,2,3 (0.00s)
--- PASS: TestGetResourcesMetadata/Should_correctly_filter_out_irrelevant_permissions_for_resources_1,2,3 (0.00s)
=== RUN   TestSaveExternalServiceRoleCommand_Validate
=== RUN   TestSaveExternalServiceRoleCommand_Validate/invalid_no_permissions
=== RUN   TestSaveExternalServiceRoleCommand_Validate/invalid_service_account_id
=== RUN   TestSaveExternalServiceRoleCommand_Validate/invalid_no_Ext_Service_ID
=== RUN   TestSaveExternalServiceRoleCommand_Validate/slugify_the_external_service_ID_correctly
=== RUN   TestSaveExternalServiceRoleCommand_Validate/invalid_empty_Action
=== RUN   TestSaveExternalServiceRoleCommand_Validate/permission_deduplication
--- PASS: TestSaveExternalServiceRoleCommand_Validate (0.00s)
--- PASS: TestSaveExternalServiceRoleCommand_Validate/invalid_no_permissions (0.00s)
--- PASS: TestSaveExternalServiceRoleCommand_Validate/invalid_service_account_id (0.00s)
--- PASS: TestSaveExternalServiceRoleCommand_Validate/invalid_no_Ext_Service_ID (0.00s)
--- PASS: TestSaveExternalServiceRoleCommand_Validate/slugify_the_external_service_ID_correctly (0.00s)
--- PASS: TestSaveExternalServiceRoleCommand_Validate/invalid_empty_Action (0.00s)
--- PASS: TestSaveExternalServiceRoleCommand_Validate/permission_deduplication (0.00s)
=== RUN   TestPermission_ScopeSplit
=== RUN   TestPermission_ScopeSplit/all_fields_should_be_empty_for_empty_scope
=== RUN   TestPermission_ScopeSplit/all_fields_should_be_set_to_*_for_wildcard
=== RUN   TestPermission_ScopeSplit/kind_should_be_specified_and_attribute_and_identifier_should_be_*_for_a_wildcard_with_kind_prefix
=== RUN   TestPermission_ScopeSplit/all_fields_should_be_set_correctly
=== RUN   TestPermission_ScopeSplit/can_handle_a_case_with_:_in_the_uid
--- PASS: TestPermission_ScopeSplit (0.00s)
--- PASS: TestPermission_ScopeSplit/all_fields_should_be_empty_for_empty_scope (0.00s)
--- PASS: TestPermission_ScopeSplit/all_fields_should_be_set_to_*_for_wildcard (0.00s)
--- PASS: TestPermission_ScopeSplit/kind_should_be_specified_and_attribute_and_identifier_should_be_*_for_a_wildcard_with_kind_prefix (0.00s)
--- PASS: TestPermission_ScopeSplit/all_fields_should_be_set_correctly (0.00s)
--- PASS: TestPermission_ScopeSplit/can_handle_a_case_with_:_in_the_uid (0.00s)
=== RUN   TestConcatPermissions
--- PASS: TestConcatPermissions (0.00s)
=== RUN   Test_ScopePrefix
=== RUN   Test_ScopePrefix/empty
=== RUN   Test_ScopePrefix/minimal
=== RUN   Test_ScopePrefix/datasources
=== RUN   Test_ScopePrefix/datasources_name
=== RUN   Test_ScopePrefix/datasources_with_colons_in_name
=== RUN   Test_ScopePrefix/prefix
--- PASS: Test_ScopePrefix (0.00s)
--- PASS: Test_ScopePrefix/empty (0.00s)
--- PASS: Test_ScopePrefix/minimal (0.00s)
--- PASS: Test_ScopePrefix/datasources (0.00s)
--- PASS: Test_ScopePrefix/datasources_name (0.00s)
--- PASS: Test_ScopePrefix/datasources_with_colons_in_name (0.00s)
--- PASS: Test_ScopePrefix/prefix (0.00s)
=== RUN   TestWildcardsFromPrefix
=== RUN   TestWildcardsFromPrefix/should_handle_empty_prefix
=== RUN   TestWildcardsFromPrefix/should_generate_wildcards_for_prefix
=== RUN   TestWildcardsFromPrefix/should_handle_trailing_:
--- PASS: TestWildcardsFromPrefix (0.00s)
--- PASS: TestWildcardsFromPrefix/should_handle_empty_prefix (0.00s)
--- PASS: TestWildcardsFromPrefix/should_generate_wildcards_for_prefix (0.00s)
--- PASS: TestWildcardsFromPrefix/should_handle_trailing_: (0.00s)
=== RUN   TestAuthorizeInOrgMiddleware
=== RUN   TestAuthorizeInOrgMiddleware/should_authorize_user_with_global_org_ID_-_fetch
=== RUN   TestAuthorizeInOrgMiddleware/should_authorize_user_with_non-global_org_ID_-_no_fetch
=== RUN   TestAuthorizeInOrgMiddleware/should_return_403_when_user_has_no_permissions_for_the_org
=== RUN   TestAuthorizeInOrgMiddleware/should_return_200_when_user_has_permissions_for_a_global_org
=== RUN   TestAuthorizeInOrgMiddleware/should_return_403_when_user_has_no_permissions_for_a_global_org
=== RUN   TestAuthorizeInOrgMiddleware/should_fetch_user_permissions_when_org_ID_doesn't_match
=== RUN   TestAuthorizeInOrgMiddleware/fails_to_fetch_user_permissions_when_org_ID_doesn't_match
=== RUN   TestAuthorizeInOrgMiddleware/unable_to_get_target_org
=== RUN   TestAuthorizeInOrgMiddleware/should_fetch_global_user_permissions_when_user_is_not_a_member_of_the_target_org
=== RUN   TestAuthorizeInOrgMiddleware/should_fail_if_user_is_not_a_member_of_the_target_org_and_doesn't_have_the_right_permissions_globally
--- PASS: TestAuthorizeInOrgMiddleware (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_authorize_user_with_global_org_ID_-_fetch (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_authorize_user_with_non-global_org_ID_-_no_fetch (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_return_403_when_user_has_no_permissions_for_the_org (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_return_200_when_user_has_permissions_for_a_global_org (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_return_403_when_user_has_no_permissions_for_a_global_org (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_fetch_user_permissions_when_org_ID_doesn't_match (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/fails_to_fetch_user_permissions_when_org_ID_doesn't_match (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/unable_to_get_target_org (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_fetch_global_user_permissions_when_user_is_not_a_member_of_the_target_org (0.00s)
--- PASS: TestAuthorizeInOrgMiddleware/should_fail_if_user_is_not_a_member_of_the_target_org_and_doesn't_have_the_right_permissions_globally (0.00s)
=== RUN   TestLegacyAccessClient_Check
=== RUN   TestLegacyAccessClient_Check/should_reject_when_when_no_configuration_for_resource_exist
=== RUN   TestLegacyAccessClient_Check/should_reject_when_user_don't_have_correct_scope
=== RUN   TestLegacyAccessClient_Check/should_just_check_action_for_list_requests
=== RUN   TestLegacyAccessClient_Check/should_allow_when_user_have_correct_scope
=== RUN   TestLegacyAccessClient_Check/should_skip_authorization_for_configured_verb
--- PASS: TestLegacyAccessClient_Check (0.00s)
--- PASS: TestLegacyAccessClient_Check/should_reject_when_when_no_configuration_for_resource_exist (0.00s)
--- PASS: TestLegacyAccessClient_Check/should_reject_when_user_don't_have_correct_scope (0.00s)
--- PASS: TestLegacyAccessClient_Check/should_just_check_action_for_list_requests (0.00s)
--- PASS: TestLegacyAccessClient_Check/should_allow_when_user_have_correct_scope (0.00s)
--- PASS: TestLegacyAccessClient_Check/should_skip_authorization_for_configured_verb (0.00s)
=== RUN   TestFilter_Datasources
=== RUN   TestFilter_Datasources/expect_all_data_sources_to_be_returned
=== RUN   TestFilter_Datasources/expect_all_data_sources_for_wildcard_id_scope_to_be_returned
=== RUN   TestFilter_Datasources/expect_all_data_sources_for_wildcard_scope_to_be_returned
=== RUN   TestFilter_Datasources/expect_no_data_sources_to_be_returned
=== RUN   TestFilter_Datasources/expect_data_sources_with_id_3,_7_and_8_to_be_returned
=== RUN   TestFilter_Datasources/expect_no_data_sources_to_be_returned_for_malformed_scope
=== RUN   TestFilter_Datasources/expect_error_if_sqlID_is_not_in_the_accept_list
=== RUN   TestFilter_Datasources/expect_data_sources_that_users_has_several_actions_for
=== RUN   TestFilter_Datasources/expect_data_sources_that_users_has_several_actions_for#01
=== RUN   TestFilter_Datasources/expect_no_data_sources_when_scopes_does_not_match
=== RUN   TestFilter_Datasources/expect_to_not_crash_if_duplicates_in_the_scope
=== RUN   TestFilter_Datasources/expect_to_be_filtered_by_uids
--- PASS: TestFilter_Datasources (0.44s)
--- PASS: TestFilter_Datasources/expect_all_data_sources_to_be_returned (0.38s)
--- PASS: TestFilter_Datasources/expect_all_data_sources_for_wildcard_id_scope_to_be_returned (0.01s)
--- PASS: TestFilter_Datasources/expect_all_data_sources_for_wildcard_scope_to_be_returned (0.01s)
--- PASS: TestFilter_Datasources/expect_no_data_sources_to_be_returned (0.01s)
--- PASS: TestFilter_Datasources/expect_data_sources_with_id_3,_7_and_8_to_be_returned (0.01s)
--- PASS: TestFilter_Datasources/expect_no_data_sources_to_be_returned_for_malformed_scope (0.00s)
--- PASS: TestFilter_Datasources/expect_error_if_sqlID_is_not_in_the_accept_list (0.00s)
--- PASS: TestFilter_Datasources/expect_data_sources_that_users_has_several_actions_for (0.00s)
--- PASS: TestFilter_Datasources/expect_data_sources_that_users_has_several_actions_for#01 (0.01s)
--- PASS: TestFilter_Datasources/expect_no_data_sources_when_scopes_does_not_match (0.00s)
--- PASS: TestFilter_Datasources/expect_to_not_crash_if_duplicates_in_the_scope (0.00s)
--- PASS: TestFilter_Datasources/expect_to_be_filtered_by_uids (0.01s)
=== RUN   TestMiddleware
=== RUN   TestMiddleware/should_pass_middleware_for_correct_permissions
=== RUN   TestMiddleware/should_not_reach_endpoint_when_missing_permissions
--- PASS: TestMiddleware (0.00s)
--- PASS: TestMiddleware/should_pass_middleware_for_correct_permissions (0.00s)
--- PASS: TestMiddleware/should_not_reach_endpoint_when_missing_permissions (0.00s)
=== RUN   TestMiddleware_forceLogin
=== RUN   TestMiddleware_forceLogin//endpoint?forceLogin=true
=== RUN   TestMiddleware_forceLogin//endpoint?forceLogin=false
=== RUN   TestMiddleware_forceLogin//endpoint
--- PASS: TestMiddleware_forceLogin (0.00s)
--- PASS: TestMiddleware_forceLogin//endpoint?forceLogin=true (0.00s)
--- PASS: TestMiddleware_forceLogin//endpoint?forceLogin=false (0.00s)
--- PASS: TestMiddleware_forceLogin//endpoint (0.00s)
=== RUN   TestResolvers_AttributeScope
=== RUN   TestResolvers_AttributeScope/should_work_with_scope_less_permissions
=== RUN   TestResolvers_AttributeScope/should_handle_an_error
=== RUN   TestResolvers_AttributeScope/should_resolve_a_scope
=== RUN   TestResolvers_AttributeScope/should_resolve_nested_scopes_with_cache
=== RUN   TestResolvers_AttributeScope/should_resolve_name_with_colon
=== RUN   TestResolvers_AttributeScope/should_resolve_names_with_'*'
=== RUN   TestResolvers_AttributeScope/should_return_error_if_no_resolver_is_found_for_scope
--- PASS: TestResolvers_AttributeScope (0.00s)
--- PASS: TestResolvers_AttributeScope/should_work_with_scope_less_permissions (0.00s)
--- PASS: TestResolvers_AttributeScope/should_handle_an_error (0.00s)
--- PASS: TestResolvers_AttributeScope/should_resolve_a_scope (0.00s)
--- PASS: TestResolvers_AttributeScope/should_resolve_nested_scopes_with_cache (0.00s)
--- PASS: TestResolvers_AttributeScope/should_resolve_name_with_colon (0.00s)
--- PASS: TestResolvers_AttributeScope/should_resolve_names_with_'*' (0.00s)
--- PASS: TestResolvers_AttributeScope/should_return_error_if_no_resolver_is_found_for_scope (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol	(cached)
=== RUN   TestUsageMetrics
=== RUN   TestUsageMetrics/Expecting_metric_with_value_1
--- PASS: TestUsageMetrics (0.32s)
--- PASS: TestUsageMetrics/Expecting_metric_with_value_1 (0.32s)
=== RUN   TestService_DeclareFixedRoles
=== RUN   TestService_DeclareFixedRoles/should_work_with_empty_list
=== RUN   TestService_DeclareFixedRoles/should_add_registration
=== RUN   TestService_DeclareFixedRoles/should_fail_registration_invalid_role_name
=== RUN   TestService_DeclareFixedRoles/should_fail_registration_invalid_basic_role_assignment
=== RUN   TestService_DeclareFixedRoles/should_add_multiple_registrations_at_once
--- PASS: TestService_DeclareFixedRoles (0.01s)
--- PASS: TestService_DeclareFixedRoles/should_work_with_empty_list (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_add_registration (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_fail_registration_invalid_role_name (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_fail_registration_invalid_basic_role_assignment (0.00s)
--- PASS: TestService_DeclareFixedRoles/should_add_multiple_registrations_at_once (0.00s)
=== RUN   TestService_DeclarePluginRoles
=== RUN   TestService_DeclarePluginRoles/should_work_with_empty_list
=== RUN   TestService_DeclarePluginRoles/should_add_registration
=== RUN   TestService_DeclarePluginRoles/should_add_registration_with_valid_permissions
=== RUN   TestService_DeclarePluginRoles/should_fail_registration_invalid_permission_action
=== RUN   TestService_DeclarePluginRoles/should_fail_registration_invalid_basic_role_assignment
=== RUN   TestService_DeclarePluginRoles/should_add_multiple_registrations_at_once
--- PASS: TestService_DeclarePluginRoles (0.01s)
--- PASS: TestService_DeclarePluginRoles/should_work_with_empty_list (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_add_registration (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_add_registration_with_valid_permissions (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_fail_registration_invalid_permission_action (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_fail_registration_invalid_basic_role_assignment (0.00s)
--- PASS: TestService_DeclarePluginRoles/should_add_multiple_registrations_at_once (0.00s)
=== RUN   TestService_RegisterFixedRoles
=== RUN   TestService_RegisterFixedRoles/should_work_with_empty_list
=== RUN   TestService_RegisterFixedRoles/should_register_and_assign_role
=== RUN   TestService_RegisterFixedRoles/should_register_and_assign_multiple_roles
=== RUN   TestService_RegisterFixedRoles/should_register_and_assign_fixed_and_plugins_roles
--- PASS: TestService_RegisterFixedRoles (0.01s)
--- PASS: TestService_RegisterFixedRoles/should_work_with_empty_list (0.00s)
--- PASS: TestService_RegisterFixedRoles/should_register_and_assign_role (0.00s)
--- PASS: TestService_RegisterFixedRoles/should_register_and_assign_multiple_roles (0.00s)
--- PASS: TestService_RegisterFixedRoles/should_register_and_assign_fixed_and_plugins_roles (0.00s)
=== RUN   TestService_SearchUsersPermissions
=== RUN   TestService_SearchUsersPermissions/ram_only
=== RUN   TestService_SearchUsersPermissions/stored_only
=== RUN   TestService_SearchUsersPermissions/ram_and_stored
=== RUN   TestService_SearchUsersPermissions/ram_only_search_on_scope
=== RUN   TestService_SearchUsersPermissions/view_permission_on_subset_of_users_only
=== RUN   TestService_SearchUsersPermissions/check_action_filter_on_RAM_permissions_works_correctly
=== RUN   TestService_SearchUsersPermissions/check_empty_action_filter_on_RAM_permissions_works_correctly
=== RUN   TestService_SearchUsersPermissions/check_namespacedId_filter_works_correctly
--- PASS: TestService_SearchUsersPermissions (0.02s)
--- PASS: TestService_SearchUsersPermissions/ram_only (0.00s)
--- PASS: TestService_SearchUsersPermissions/stored_only (0.00s)
--- PASS: TestService_SearchUsersPermissions/ram_and_stored (0.00s)
--- PASS: TestService_SearchUsersPermissions/ram_only_search_on_scope (0.00s)
--- PASS: TestService_SearchUsersPermissions/view_permission_on_subset_of_users_only (0.00s)
--- PASS: TestService_SearchUsersPermissions/check_action_filter_on_RAM_permissions_works_correctly (0.00s)
--- PASS: TestService_SearchUsersPermissions/check_empty_action_filter_on_RAM_permissions_works_correctly (0.00s)
--- PASS: TestService_SearchUsersPermissions/check_namespacedId_filter_works_correctly (0.00s)
=== RUN   TestService_SearchUserPermissions
=== RUN   TestService_SearchUserPermissions/ram_only
=== RUN   TestService_SearchUserPermissions/stored_only
=== RUN   TestService_SearchUserPermissions/ram_and_stored
=== RUN   TestService_SearchUserPermissions/check_action_prefix_filter_works_correctly
=== RUN   TestService_SearchUserPermissions/check_action_filter_works_correctly
=== RUN   TestService_SearchUserPermissions/check_action_sets_are_correctly_included_if_an_action_is_specified
=== RUN   TestService_SearchUserPermissions/check_action_sets_are_correctly_included_if_an_action_prefix_is_specified
--- PASS: TestService_SearchUserPermissions (0.02s)
--- PASS: TestService_SearchUserPermissions/ram_only (0.00s)
--- PASS: TestService_SearchUserPermissions/stored_only (0.00s)
--- PASS: TestService_SearchUserPermissions/ram_and_stored (0.00s)
--- PASS: TestService_SearchUserPermissions/check_action_prefix_filter_works_correctly (0.00s)
--- PASS: TestService_SearchUserPermissions/check_action_filter_works_correctly (0.00s)
--- PASS: TestService_SearchUserPermissions/check_action_sets_are_correctly_included_if_an_action_is_specified (0.00s)
--- PASS: TestService_SearchUserPermissions/check_action_sets_are_correctly_included_if_an_action_prefix_is_specified (0.00s)
=== RUN   TestService_SaveExternalServiceRole
=== RUN   TestService_SaveExternalServiceRole/can_create_a_role
=== RUN   TestService_SaveExternalServiceRole/can_update_a_role
=== RUN   TestService_SaveExternalServiceRole/test_command_validity_-_no_service_account_ID
--- PASS: TestService_SaveExternalServiceRole (0.01s)
--- PASS: TestService_SaveExternalServiceRole/can_create_a_role (0.00s)
--- PASS: TestService_SaveExternalServiceRole/can_update_a_role (0.00s)
--- PASS: TestService_SaveExternalServiceRole/test_command_validity_-_no_service_account_ID (0.00s)
=== RUN   TestService_DeleteExternalServiceRole
=== RUN   TestService_DeleteExternalServiceRole/handles_deleting_role_that_doesn't_exist
=== RUN   TestService_DeleteExternalServiceRole/handles_deleting_role_that_exists
--- PASS: TestService_DeleteExternalServiceRole (0.01s)
--- PASS: TestService_DeleteExternalServiceRole/handles_deleting_role_that_doesn't_exist (0.00s)
--- PASS: TestService_DeleteExternalServiceRole/handles_deleting_role_that_exists (0.00s)
=== RUN   TestService_GetRoleByName
=== PAUSE TestService_GetRoleByName
=== RUN   TestAccessControl_Evaluate
=== RUN   TestAccessControl_Evaluate/expect_user_to_have_access_when_correct_permission_is_stored_on_user
=== RUN   TestAccessControl_Evaluate/expect_user_to_not_have_access_without_required_permissions
=== RUN   TestAccessControl_Evaluate/expect_user_to_have_access_when_resolver_translate_scope
--- PASS: TestAccessControl_Evaluate (0.00s)
--- PASS: TestAccessControl_Evaluate/expect_user_to_have_access_when_correct_permission_is_stored_on_user (0.00s)
--- PASS: TestAccessControl_Evaluate/expect_user_to_not_have_access_without_required_permissions (0.00s)
--- PASS: TestAccessControl_Evaluate/expect_user_to_have_access_when_resolver_translate_scope (0.00s)
=== CONT  TestService_GetRoleByName
=== RUN   TestService_GetRoleByName/when_the_role_does_not_exists,_it_returns_an_error
=== PAUSE TestService_GetRoleByName/when_the_role_does_not_exists,_it_returns_an_error
=== RUN   TestService_GetRoleByName/when_the_role_exists,_it_is_returned
=== PAUSE TestService_GetRoleByName/when_the_role_exists,_it_is_returned
=== CONT  TestService_GetRoleByName/when_the_role_does_not_exists,_it_returns_an_error
=== CONT  TestService_GetRoleByName/when_the_role_exists,_it_is_returned
--- PASS: TestService_GetRoleByName (0.00s)
--- PASS: TestService_GetRoleByName/when_the_role_does_not_exists,_it_returns_an_error (0.00s)
--- PASS: TestService_GetRoleByName/when_the_role_exists,_it_is_returned (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/acimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/accesscontrol/actest	[no test files]
=== RUN   TestAPI_getUserActions
=== RUN   TestAPI_getUserActions/Should_be_able_to_get_actions
--- PASS: TestAPI_getUserActions (0.01s)
--- PASS: TestAPI_getUserActions/Should_be_able_to_get_actions (0.01s)
=== RUN   TestAPI_getUserPermissions
=== RUN   TestAPI_getUserPermissions/Should_be_able_to_get_permissions_with_scope
--- PASS: TestAPI_getUserPermissions (0.00s)
--- PASS: TestAPI_getUserPermissions/Should_be_able_to_get_permissions_with_scope (0.00s)
=== RUN   TestAccessControlAPI_searchUsersPermissions
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_reject_if_no_filter_is_provided
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_reject_if_conflicting_action_filters_are_provided
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_work_with_valid_namespacedId_filter_provided
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_resolve_UID_based_identifier_to_the_corresponding_ID
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_fail_if_cannot_resolve_UID_based_identifier
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_reduce_permissions
=== RUN   TestAccessControlAPI_searchUsersPermissions/Should_work_with_valid_action_prefix_filter
--- PASS: TestAccessControlAPI_searchUsersPermissions (0.01s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_reject_if_no_filter_is_provided (0.00s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_reject_if_conflicting_action_filters_are_provided (0.00s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_work_with_valid_namespacedId_filter_provided (0.00s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_resolve_UID_based_identifier_to_the_corresponding_ID (0.00s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_fail_if_cannot_resolve_UID_based_identifier (0.00s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_reduce_permissions (0.00s)
--- PASS: TestAccessControlAPI_searchUsersPermissions/Should_work_with_valid_action_prefix_filter (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/api	(cached)
=== RUN   TestAccessControlStore_SaveExternalServiceRole
=== RUN   TestAccessControlStore_SaveExternalServiceRole/create_app_role
=== RUN   TestAccessControlStore_SaveExternalServiceRole/update_app_role
=== RUN   TestAccessControlStore_SaveExternalServiceRole/edge_case_-_remove_all_permissions
=== RUN   TestAccessControlStore_SaveExternalServiceRole/edge_case_-_reassign_to_another_service_account
--- PASS: TestAccessControlStore_SaveExternalServiceRole (0.36s)
--- PASS: TestAccessControlStore_SaveExternalServiceRole/create_app_role (0.35s)
--- PASS: TestAccessControlStore_SaveExternalServiceRole/update_app_role (0.00s)
--- PASS: TestAccessControlStore_SaveExternalServiceRole/edge_case_-_remove_all_permissions (0.00s)
--- PASS: TestAccessControlStore_SaveExternalServiceRole/edge_case_-_reassign_to_another_service_account (0.00s)
=== RUN   TestAccessControlStore_DeleteExternalServiceRole
=== RUN   TestAccessControlStore_DeleteExternalServiceRole/delete_no_role
=== RUN   TestAccessControlStore_DeleteExternalServiceRole/delete_role
--- PASS: TestAccessControlStore_DeleteExternalServiceRole (0.01s)
--- PASS: TestAccessControlStore_DeleteExternalServiceRole/delete_no_role (0.00s)
--- PASS: TestAccessControlStore_DeleteExternalServiceRole/delete_role (0.00s)
=== RUN   TestAccessControlStore_GetUserPermissions
=== RUN   TestAccessControlStore_GetUserPermissions/should_successfully_get_user,_team_and_builtin_permissions
=== RUN   TestAccessControlStore_GetUserPermissions/Should_not_get_admin_roles
=== RUN   TestAccessControlStore_GetUserPermissions/Should_work_without_org_role
=== RUN   TestAccessControlStore_GetUserPermissions/should_only_get_br_permissions_for_anonymous_user
--- PASS: TestAccessControlStore_GetUserPermissions (0.03s)
--- PASS: TestAccessControlStore_GetUserPermissions/should_successfully_get_user,_team_and_builtin_permissions (0.01s)
--- PASS: TestAccessControlStore_GetUserPermissions/Should_not_get_admin_roles (0.01s)
--- PASS: TestAccessControlStore_GetUserPermissions/Should_work_without_org_role (0.01s)
--- PASS: TestAccessControlStore_GetUserPermissions/should_only_get_br_permissions_for_anonymous_user (0.01s)
=== RUN   TestAccessControlStore_GetTeamsPermissions
=== RUN   TestAccessControlStore_GetTeamsPermissions/should_successfully_get_team_permissions
=== RUN   TestAccessControlStore_GetTeamsPermissions/Should_not_get_permissions_for_teams_not_listed_in_the_query
--- PASS: TestAccessControlStore_GetTeamsPermissions (0.02s)
--- PASS: TestAccessControlStore_GetTeamsPermissions/should_successfully_get_team_permissions (0.01s)
--- PASS: TestAccessControlStore_GetTeamsPermissions/Should_not_get_permissions_for_teams_not_listed_in_the_query (0.01s)
=== RUN   TestAccessControlStore_DeleteUserPermissions
=== RUN   TestAccessControlStore_DeleteUserPermissions/expect_permissions_in_all_orgs_to_be_deleted
=== RUN   TestAccessControlStore_DeleteUserPermissions/expect_permissions_in_org_1_to_be_deleted
--- PASS: TestAccessControlStore_DeleteUserPermissions (0.01s)
--- PASS: TestAccessControlStore_DeleteUserPermissions/expect_permissions_in_all_orgs_to_be_deleted (0.01s)
--- PASS: TestAccessControlStore_DeleteUserPermissions/expect_permissions_in_org_1_to_be_deleted (0.01s)
=== RUN   TestAccessControlStore_DeleteTeamPermissions
=== RUN   TestAccessControlStore_DeleteTeamPermissions/expect_permissions_related_to_team_to_be_deleted
=== RUN   TestAccessControlStore_DeleteTeamPermissions/expect_permissions_not_related_to_team_to_be_kept
--- PASS: TestAccessControlStore_DeleteTeamPermissions (0.01s)
--- PASS: TestAccessControlStore_DeleteTeamPermissions/expect_permissions_related_to_team_to_be_deleted (0.00s)
--- PASS: TestAccessControlStore_DeleteTeamPermissions/expect_permissions_not_related_to_team_to_be_kept (0.00s)
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/users_assignment_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/team_assignment_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/basic_role_assignment_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/server_admin_assignment_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/all_assignments_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/all_assignments_for_one_user_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/filter_permissions_by_action_prefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/include_not_org_member_server_admin_permissions_by_actionPrefix
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_action
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_scope
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_scope#01
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_action_and_scope
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_role_prefixes
=== RUN   TestIntegrationAccessControlStore_SearchUsersPermissions/filter_out_permissions_by_role_prefix
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions (0.09s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_actionPrefix (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/users_assignment_by_actionPrefix (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/team_assignment_by_actionPrefix (0.00s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/basic_role_assignment_by_actionPrefix (0.00s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/server_admin_assignment_by_actionPrefix (0.00s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/all_assignments_by_actionPrefix (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/all_assignments_for_one_user_by_actionPrefix (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/filter_permissions_by_action_prefix (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/include_not_org_member_server_admin_permissions_by_actionPrefix (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_action (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_scope (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_scope#01 (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_action_and_scope (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/user_assignment_by_role_prefixes (0.01s)
--- PASS: TestIntegrationAccessControlStore_SearchUsersPermissions/filter_out_permissions_by_role_prefix (0.01s)
=== RUN   TestAccessControlStore_GetUsersBasicRoles
=== RUN   TestAccessControlStore_GetUsersBasicRoles/user_with_basic_role
=== RUN   TestAccessControlStore_GetUsersBasicRoles/one_admin,_one_editor
=== RUN   TestAccessControlStore_GetUsersBasicRoles/one_org_member,_one_not_member_but_Server_Admin,_one_not_member_and_not_server_admin
=== RUN   TestAccessControlStore_GetUsersBasicRoles/when_filtered_to_one_user,_returns_results_only_for_that_user
--- PASS: TestAccessControlStore_GetUsersBasicRoles (0.03s)
--- PASS: TestAccessControlStore_GetUsersBasicRoles/user_with_basic_role (0.00s)
--- PASS: TestAccessControlStore_GetUsersBasicRoles/one_admin,_one_editor (0.00s)
--- PASS: TestAccessControlStore_GetUsersBasicRoles/one_org_member,_one_not_member_but_Server_Admin,_one_not_member_and_not_server_admin (0.01s)
--- PASS: TestAccessControlStore_GetUsersBasicRoles/when_filtered_to_one_user,_returns_results_only_for_that_user (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/database	(cached)
?   	github.com/grafana/grafana/pkg/services/accesscontrol/dualwrite	[no test files]
=== RUN   TestIntegrationMigrateScopeSplitTruncation
--- PASS: TestIntegrationMigrateScopeSplitTruncation (0.34s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/migrator	(cached)
?   	github.com/grafana/grafana/pkg/services/accesscontrol/mock	[no test files]
?   	github.com/grafana/grafana/pkg/services/accesscontrol/ossaccesscontrol	[no test files]
?   	github.com/grafana/grafana/pkg/services/accesscontrol/ossaccesscontrol/testutil	[no test files]
=== RUN   Test_permissionRegistry_RegisterPluginScope
=== RUN   Test_permissionRegistry_RegisterPluginScope/folders:uid:AABBCC
=== RUN   Test_permissionRegistry_RegisterPluginScope/plugins:id:test-app
=== RUN   Test_permissionRegistry_RegisterPluginScope/resource:uid:res
=== RUN   Test_permissionRegistry_RegisterPluginScope/resource:*
--- PASS: Test_permissionRegistry_RegisterPluginScope (0.00s)
--- PASS: Test_permissionRegistry_RegisterPluginScope/folders:uid:AABBCC (0.00s)
--- PASS: Test_permissionRegistry_RegisterPluginScope/plugins:id:test-app (0.00s)
--- PASS: Test_permissionRegistry_RegisterPluginScope/resource:uid:res (0.00s)
--- PASS: Test_permissionRegistry_RegisterPluginScope/resource:* (0.00s)
=== RUN   Test_permissionRegistry_RegisterPermission
=== RUN   Test_permissionRegistry_RegisterPermission/register_folders_read
=== RUN   Test_permissionRegistry_RegisterPermission/register_app_plugin_settings_read
=== RUN   Test_permissionRegistry_RegisterPermission/register_an_action_on_an_unknown_kind
=== RUN   Test_permissionRegistry_RegisterPermission/register_an_action_that_is_already_registered
--- PASS: Test_permissionRegistry_RegisterPermission (0.00s)
--- PASS: Test_permissionRegistry_RegisterPermission/register_folders_read (0.00s)
--- PASS: Test_permissionRegistry_RegisterPermission/register_app_plugin_settings_read (0.00s)
--- PASS: Test_permissionRegistry_RegisterPermission/register_an_action_on_an_unknown_kind (0.00s)
--- PASS: Test_permissionRegistry_RegisterPermission/register_an_action_that_is_already_registered (0.00s)
=== RUN   Test_permissionRegistry_IsPermissionValid
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_folders_read
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_folders_read_with_wildcard
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_folders_read_with_kind_level_wildcard
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_dashboards_read_with_dashboard_scope
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_dashboards_read_with_folder_scope
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_folders_read_with_super_wildcard
=== RUN   Test_permissionRegistry_IsPermissionValid/invalid_folders_read_with_wrong_kind
=== RUN   Test_permissionRegistry_IsPermissionValid/invalid_folders_read_with_wrong_attribute
=== RUN   Test_permissionRegistry_IsPermissionValid/valid_app_plugin_settings_read
=== RUN   Test_permissionRegistry_IsPermissionValid/app_plugin_settings_read_with_a_scope
=== RUN   Test_permissionRegistry_IsPermissionValid/unknown_action
--- PASS: Test_permissionRegistry_IsPermissionValid (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_folders_read (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_folders_read_with_wildcard (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_folders_read_with_kind_level_wildcard (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_dashboards_read_with_dashboard_scope (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_dashboards_read_with_folder_scope (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_folders_read_with_super_wildcard (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/invalid_folders_read_with_wrong_kind (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/invalid_folders_read_with_wrong_attribute (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/valid_app_plugin_settings_read (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/app_plugin_settings_read_with_a_scope (0.00s)
--- PASS: Test_permissionRegistry_IsPermissionValid/unknown_action (0.00s)
=== RUN   Test_permissionRegistry_GetScopePrefixes
=== RUN   Test_permissionRegistry_GetScopePrefixes/get_folders_read_scope_prefixes
=== RUN   Test_permissionRegistry_GetScopePrefixes/get_app_plugin_settings_read_scope_prefixes
=== RUN   Test_permissionRegistry_GetScopePrefixes/get_unknown_action_scope_prefixes
--- PASS: Test_permissionRegistry_GetScopePrefixes (0.00s)
--- PASS: Test_permissionRegistry_GetScopePrefixes/get_folders_read_scope_prefixes (0.00s)
--- PASS: Test_permissionRegistry_GetScopePrefixes/get_app_plugin_settings_read_scope_prefixes (0.00s)
--- PASS: Test_permissionRegistry_GetScopePrefixes/get_unknown_action_scope_prefixes (0.00s)
=== RUN   Test_generateValidScopeFormats
=== RUN   Test_generateValidScopeFormats/empty_prefix_set
=== RUN   Test_generateValidScopeFormats/short_prefix
=== RUN   Test_generateValidScopeFormats/single_prefix
=== RUN   Test_generateValidScopeFormats/multiple_prefixes
--- PASS: Test_generateValidScopeFormats (0.00s)
--- PASS: Test_generateValidScopeFormats/empty_prefix_set (0.00s)
--- PASS: Test_generateValidScopeFormats/short_prefix (0.00s)
--- PASS: Test_generateValidScopeFormats/single_prefix (0.00s)
--- PASS: Test_generateValidScopeFormats/multiple_prefixes (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/permreg	(cached)
?   	github.com/grafana/grafana/pkg/services/accesscontrol/permreg/test	[no test files]
=== RUN   TestToRegistrations
=== RUN   TestToRegistrations/no_registration
=== RUN   TestToRegistrations/registration_gets_converted_successfully
--- PASS: TestToRegistrations (0.00s)
--- PASS: TestToRegistrations/no_registration (0.00s)
--- PASS: TestToRegistrations/registration_gets_converted_successfully (0.00s)
=== RUN   TestValidatePluginRole
=== RUN   TestValidatePluginRole/empty_display_name
=== RUN   TestValidatePluginRole/empty
=== RUN   TestValidatePluginRole/invalid_name
=== RUN   TestValidatePluginRole/invalid_id_in_name
=== RUN   TestValidatePluginRole/valid_name
=== RUN   TestValidatePluginRole/invalid_permission
=== RUN   TestValidatePluginRole/valid_permissions
=== RUN   TestValidatePluginRole/invalid_permission_targets_other_plugin
=== RUN   TestValidatePluginRole/valid_core_permission_targets_plugin
=== RUN   TestValidatePluginRole/invalid_core_permission_targets_other_plugin
=== RUN   TestValidatePluginRole/valid_core_plugin_permission_targets_plugin
=== RUN   TestValidatePluginRole/invalid_core_plugin_permission_targets_other_plugin
--- PASS: TestValidatePluginRole (0.00s)
--- PASS: TestValidatePluginRole/empty_display_name (0.00s)
--- PASS: TestValidatePluginRole/empty (0.00s)
--- PASS: TestValidatePluginRole/invalid_name (0.00s)
--- PASS: TestValidatePluginRole/invalid_id_in_name (0.00s)
--- PASS: TestValidatePluginRole/valid_name (0.00s)
--- PASS: TestValidatePluginRole/invalid_permission (0.00s)
--- PASS: TestValidatePluginRole/valid_permissions (0.00s)
--- PASS: TestValidatePluginRole/invalid_permission_targets_other_plugin (0.00s)
--- PASS: TestValidatePluginRole/valid_core_permission_targets_plugin (0.00s)
--- PASS: TestValidatePluginRole/invalid_core_permission_targets_other_plugin (0.00s)
--- PASS: TestValidatePluginRole/valid_core_plugin_permission_targets_plugin (0.00s)
--- PASS: TestValidatePluginRole/invalid_core_plugin_permission_targets_other_plugin (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/pluginutils	(cached)
=== RUN   TestApi_getDescription
=== RUN   TestApi_getDescription/should_return_description
=== RUN   TestApi_getDescription/should_only_return_user_assignment
=== RUN   TestApi_getDescription/should_return_403_when_missing_read_permission
--- PASS: TestApi_getDescription (0.27s)
--- PASS: TestApi_getDescription/should_return_description (0.27s)
--- PASS: TestApi_getDescription/should_only_return_user_assignment (0.00s)
--- PASS: TestApi_getDescription/should_return_403_when_missing_read_permission (0.00s)
=== RUN   TestApi_getPermissions
=== RUN   TestApi_getPermissions/expect_permissions_for_resource_with_id_1
=== RUN   TestApi_getPermissions/expect_http_status_403_when_missing_permission
--- PASS: TestApi_getPermissions (0.01s)
--- PASS: TestApi_getPermissions/expect_permissions_for_resource_with_id_1 (0.01s)
--- PASS: TestApi_getPermissions/expect_http_status_403_when_missing_permission (0.01s)
=== RUN   TestApi_setBuiltinRolePermission
=== RUN   TestApi_setBuiltinRolePermission/should_set_Edit_permission_for_Viewer
=== RUN   TestApi_setBuiltinRolePermission/should_set_View_permission_for_Admin
=== RUN   TestApi_setBuiltinRolePermission/should_return_http_400_for_invalid_built_in_role
=== RUN   TestApi_setBuiltinRolePermission/should_set_return_http_403_when_missing_permissions
--- PASS: TestApi_setBuiltinRolePermission (0.01s)
--- PASS: TestApi_setBuiltinRolePermission/should_set_Edit_permission_for_Viewer (0.01s)
--- PASS: TestApi_setBuiltinRolePermission/should_set_View_permission_for_Admin (0.00s)
--- PASS: TestApi_setBuiltinRolePermission/should_return_http_400_for_invalid_built_in_role (0.00s)
--- PASS: TestApi_setBuiltinRolePermission/should_set_return_http_403_when_missing_permissions (0.00s)
=== RUN   TestApi_setTeamPermission
=== RUN   TestApi_setTeamPermission/should_set_Edit_permission_for_team_1
=== RUN   TestApi_setTeamPermission/should_set_View_permission_for_team_1
=== RUN   TestApi_setTeamPermission/should_set_return_http_400_when_team_does_not_exist
=== RUN   TestApi_setTeamPermission/should_set_return_http_403_when_missing_permissions
=== RUN   TestApi_setTeamPermission/should_set_View_permission_for_team_with_id_1_but_through_UID
--- PASS: TestApi_setTeamPermission (0.02s)
--- PASS: TestApi_setTeamPermission/should_set_Edit_permission_for_team_1 (0.01s)
--- PASS: TestApi_setTeamPermission/should_set_View_permission_for_team_1 (0.00s)
--- PASS: TestApi_setTeamPermission/should_set_return_http_400_when_team_does_not_exist (0.00s)
--- PASS: TestApi_setTeamPermission/should_set_return_http_403_when_missing_permissions (0.00s)
--- PASS: TestApi_setTeamPermission/should_set_View_permission_for_team_with_id_1_but_through_UID (0.00s)
=== RUN   TestApi_setUserPermission
=== RUN   TestApi_setUserPermission/should_set_Edit_permission_for_user_1
=== RUN   TestApi_setUserPermission/should_set_View_permission_for_user_1
=== RUN   TestApi_setUserPermission/should_set_return_http_400_when_user_does_not_exist
=== RUN   TestApi_setUserPermission/should_set_return_http_403_when_missing_permissions
--- PASS: TestApi_setUserPermission (0.02s)
--- PASS: TestApi_setUserPermission/should_set_Edit_permission_for_user_1 (0.01s)
--- PASS: TestApi_setUserPermission/should_set_View_permission_for_user_1 (0.01s)
--- PASS: TestApi_setUserPermission/should_set_return_http_400_when_user_does_not_exist (0.00s)
--- PASS: TestApi_setUserPermission/should_set_return_http_403_when_missing_permissions (0.00s)
=== RUN   TestApi_setUserPermissionForTeams
=== RUN   TestApi_setUserPermissionForTeams/should_set_Member_permission_for_user_1
=== RUN   TestApi_setUserPermissionForTeams/should_set_Admin_permission_for_user_1
=== RUN   TestApi_setUserPermissionForTeams/should_return_status_400_for_a_provisioned_team
--- PASS: TestApi_setUserPermissionForTeams (0.01s)
--- PASS: TestApi_setUserPermissionForTeams/should_set_Member_permission_for_user_1 (0.01s)
--- PASS: TestApi_setUserPermissionForTeams/should_set_Admin_permission_for_user_1 (0.00s)
--- PASS: TestApi_setUserPermissionForTeams/should_return_status_400_for_a_provisioned_team (0.00s)
=== RUN   TestService_SetUserPermission
=== RUN   TestService_SetUserPermission/should_call_hook_when_updating_user_permissions
=== RUN   TestService_SetUserPermission/should_not_call_hook_when_updating_user_permissions
--- PASS: TestService_SetUserPermission (0.01s)
--- PASS: TestService_SetUserPermission/should_call_hook_when_updating_user_permissions (0.00s)
--- PASS: TestService_SetUserPermission/should_not_call_hook_when_updating_user_permissions (0.00s)
=== RUN   TestService_SetTeamPermission
=== RUN   TestService_SetTeamPermission/should_call_hook_when_updating_user_permissions
=== RUN   TestService_SetTeamPermission/should_not_call_hook_when_updating_user_permissions
--- PASS: TestService_SetTeamPermission (0.01s)
--- PASS: TestService_SetTeamPermission/should_call_hook_when_updating_user_permissions (0.00s)
--- PASS: TestService_SetTeamPermission/should_not_call_hook_when_updating_user_permissions (0.00s)
=== RUN   TestService_SetBuiltInRolePermission
=== RUN   TestService_SetBuiltInRolePermission/should_call_hook_when_updating_user_permissions
=== RUN   TestService_SetBuiltInRolePermission/should_not_call_hook_when_updating_user_permissions
--- PASS: TestService_SetBuiltInRolePermission (0.01s)
--- PASS: TestService_SetBuiltInRolePermission/should_call_hook_when_updating_user_permissions (0.00s)
--- PASS: TestService_SetBuiltInRolePermission/should_not_call_hook_when_updating_user_permissions (0.00s)
=== RUN   TestService_SetPermissions
=== RUN   TestService_SetPermissions/should_set_all_permissions
=== RUN   TestService_SetPermissions/should_return_error_for_invalid_permission
--- PASS: TestService_SetPermissions (0.01s)
--- PASS: TestService_SetPermissions/should_set_all_permissions (0.01s)
--- PASS: TestService_SetPermissions/should_return_error_for_invalid_permission (0.00s)
=== RUN   TestService_RegisterActionSets
=== RUN   TestService_RegisterActionSets/should_register_folder_action_sets_if_action_sets_are_enabled
=== RUN   TestService_RegisterActionSets/should_register_dashboard_action_set_if_action_sets_are_enabled
--- PASS: TestService_RegisterActionSets (0.00s)
--- PASS: TestService_RegisterActionSets/should_register_folder_action_sets_if_action_sets_are_enabled (0.00s)
--- PASS: TestService_RegisterActionSets/should_register_dashboard_action_set_if_action_sets_are_enabled (0.00s)
=== RUN   TestStore_RegisterActionSet
=== RUN   TestStore_RegisterActionSet/should_be_able_to_register_a_plugin_action_set
=== RUN   TestStore_RegisterActionSet/should_be_able_to_register_multiple_plugin_action_sets
=== RUN   TestStore_RegisterActionSet/action_set_actions_should_be_added_not_replaced
=== RUN   TestStore_RegisterActionSet/should_not_be_able_to_register_an_action_that_doesn't_have_a_plugin_prefix
=== RUN   TestStore_RegisterActionSet/should_not_be_able_to_register_action_set_that_is_not_in_the_allow_list
--- PASS: TestStore_RegisterActionSet (0.00s)
--- PASS: TestStore_RegisterActionSet/should_be_able_to_register_a_plugin_action_set (0.00s)
--- PASS: TestStore_RegisterActionSet/should_be_able_to_register_multiple_plugin_action_sets (0.00s)
--- PASS: TestStore_RegisterActionSet/action_set_actions_should_be_added_not_replaced (0.00s)
--- PASS: TestStore_RegisterActionSet/should_not_be_able_to_register_an_action_that_doesn't_have_a_plugin_prefix (0.00s)
--- PASS: TestStore_RegisterActionSet/should_not_be_able_to_register_action_set_that_is_not_in_the_allow_list (0.00s)
=== RUN   TestIntegrationStore_SetUserResourcePermission
store_test.go:45: skipping integration test
--- SKIP: TestIntegrationStore_SetUserResourcePermission (0.00s)
=== RUN   TestIntegrationStore_SetTeamResourcePermission
store_test.go:130: skipping integration test
--- SKIP: TestIntegrationStore_SetTeamResourcePermission (0.00s)
=== RUN   TestIntegrationStore_SetBuiltInResourcePermission
store_test.go:218: skipping integration test
--- SKIP: TestIntegrationStore_SetBuiltInResourcePermission (0.00s)
=== RUN   TestIntegrationStore_SetResourcePermissions
store_test.go:302: skipping integration test
--- SKIP: TestIntegrationStore_SetResourcePermissions (0.00s)
=== RUN   TestIntegrationStore_GetResourcePermissions
store_test.go:375: skipping integration test
--- SKIP: TestIntegrationStore_GetResourcePermissions (0.00s)
=== RUN   TestStore_IsInherited
=== RUN   TestStore_IsInherited/same_scope_is_not_inherited
=== RUN   TestStore_IsInherited/specific_folder_scope_for_dashboards_is_inherited
=== RUN   TestStore_IsInherited/wildcard_scope_from_a_fixed_role_is_not_inherited
=== RUN   TestStore_IsInherited/parent_folder_scope_for_nested_folders_is_inherited
--- PASS: TestStore_IsInherited (0.00s)
--- PASS: TestStore_IsInherited/same_scope_is_not_inherited (0.00s)
--- PASS: TestStore_IsInherited/specific_folder_scope_for_dashboards_is_inherited (0.00s)
--- PASS: TestStore_IsInherited/wildcard_scope_from_a_fixed_role_is_not_inherited (0.00s)
--- PASS: TestStore_IsInherited/parent_folder_scope_for_nested_folders_is_inherited (0.00s)
=== RUN   TestIntegrationStore_DeleteResourcePermissions
store_test.go:632: skipping integration test
--- SKIP: TestIntegrationStore_DeleteResourcePermissions (0.00s)
=== RUN   TestStore_StoreActionSet
store_test.go:763: skipping integration test
--- SKIP: TestStore_StoreActionSet (0.00s)
=== RUN   TestStore_ResolveActionSet
=== RUN   TestStore_ResolveActionSet/should_return_empty_list_for_an_action_that_is_not_a_part_of_any_action_sets
=== RUN   TestStore_ResolveActionSet/should_be_able_to_resolve_one_action_set_for_the_resource_of_the_same_type
=== RUN   TestStore_ResolveActionSet/should_be_able_to_resolve_multiple_action_sets_for_the_resource_of_the_same_type
=== RUN   TestStore_ResolveActionSet/should_be_able_to_resolve_multiple_action_sets_for_the_resource_of_a_different_type
--- PASS: TestStore_ResolveActionSet (0.00s)
--- PASS: TestStore_ResolveActionSet/should_return_empty_list_for_an_action_that_is_not_a_part_of_any_action_sets (0.00s)
--- PASS: TestStore_ResolveActionSet/should_be_able_to_resolve_one_action_set_for_the_resource_of_the_same_type (0.00s)
--- PASS: TestStore_ResolveActionSet/should_be_able_to_resolve_multiple_action_sets_for_the_resource_of_the_same_type (0.00s)
--- PASS: TestStore_ResolveActionSet/should_be_able_to_resolve_multiple_action_sets_for_the_resource_of_a_different_type (0.00s)
=== RUN   TestStore_ExpandActions
=== RUN   TestStore_ExpandActions/should_return_empty_list_if_no_permissions_are_passed_in
=== RUN   TestStore_ExpandActions/should_return_unchanged_permissions_if_none_of_actions_are_part_of_any_action_sets
=== RUN   TestStore_ExpandActions/should_return_unchanged_permissions_if_none_of_actions_are_part_of_any_action_sets#01
=== RUN   TestStore_ExpandActions/should_be_able_to_expand_one_permission_and_leave_others_unchanged
--- PASS: TestStore_ExpandActions (0.00s)
--- PASS: TestStore_ExpandActions/should_return_empty_list_if_no_permissions_are_passed_in (0.00s)
--- PASS: TestStore_ExpandActions/should_return_unchanged_permissions_if_none_of_actions_are_part_of_any_action_sets (0.00s)
--- PASS: TestStore_ExpandActions/should_return_unchanged_permissions_if_none_of_actions_are_part_of_any_action_sets#01 (0.00s)
--- PASS: TestStore_ExpandActions/should_be_able_to_expand_one_permission_and_leave_others_unchanged (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/accesscontrol/resourcepermissions	(cached)
?   	github.com/grafana/grafana/pkg/services/accesscontrol/ssoutils	[no test files]
?   	github.com/grafana/grafana/pkg/services/annotations	[no test files]
=== RUN   TestIntegrationAuthorize
accesscontrol_test.go:43: skipping integration test
--- SKIP: TestIntegrationAuthorize (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/annotations/accesscontrol	(cached)
=== RUN   TestIntegrationAnnotationListingWithRBAC
annotations_test.go:50: skipping integration test
--- SKIP: TestIntegrationAnnotationListingWithRBAC (0.00s)
=== RUN   TestIntegrationAnnotationListingWithInheritedRBAC
annotations_test.go:204: skipping integration test
--- SKIP: TestIntegrationAnnotationListingWithInheritedRBAC (0.00s)
=== RUN   TestIntegrationAnnotationCleanUp
cleanup_test.go:20: Skipping integration test
--- SKIP: TestIntegrationAnnotationCleanUp (0.00s)
=== RUN   TestIntegrationOldAnnotationsAreDeletedFirst
cleanup_test.go:153: Skipping integration test
--- SKIP: TestIntegrationOldAnnotationsAreDeletedFirst (0.00s)
=== RUN   TestCompositeStore
=== RUN   TestCompositeStore/should_handle_panic
=== RUN   TestCompositeStore/should_return_first_error
=== RUN   TestCompositeStore/should_combine_and_sort_results_from_Get
=== RUN   TestCompositeStore/should_combine_and_sort_results_from_GetTags
=== RUN   TestCompositeStore/should_not_modify_query
--- PASS: TestCompositeStore (0.01s)
--- PASS: TestCompositeStore/should_handle_panic (0.00s)
--- PASS: TestCompositeStore/should_return_first_error (0.01s)
--- PASS: TestCompositeStore/should_combine_and_sort_results_from_Get (0.00s)
--- PASS: TestCompositeStore/should_combine_and_sort_results_from_GetTags (0.00s)
--- PASS: TestCompositeStore/should_not_modify_query (0.00s)
=== RUN   TestIntegrationAnnotations
xorm_store_test.go:30: skipping integration test
--- SKIP: TestIntegrationAnnotations (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/annotations/annotationsimpl	(cached)
=== RUN   TestIntegrationAlertStateHistoryStore
historian_store_test.go:44: skipping integration test
--- SKIP: TestIntegrationAlertStateHistoryStore (0.00s)
=== RUN   TestHasAccess
=== RUN   TestHasAccess/should_return_false_when_scope_is_organization_and_entry_has_dashboard_UID
=== RUN   TestHasAccess/should_return_false_when_scope_is_dashboard_and_dashboard_UID_is_not_in_resources
=== RUN   TestHasAccess/should_return_true_when_scope_is_organization_and_entry_has_no_dashboard_UID
=== RUN   TestHasAccess/should_return_true_when_scope_is_dashboard_and_dashboard_UID_is_in_resources
--- PASS: TestHasAccess (0.00s)
--- PASS: TestHasAccess/should_return_false_when_scope_is_organization_and_entry_has_dashboard_UID (0.00s)
--- PASS: TestHasAccess/should_return_false_when_scope_is_dashboard_and_dashboard_UID_is_not_in_resources (0.00s)
--- PASS: TestHasAccess/should_return_true_when_scope_is_organization_and_entry_has_no_dashboard_UID (0.00s)
--- PASS: TestHasAccess/should_return_true_when_scope_is_dashboard_and_dashboard_UID_is_in_resources (0.00s)
=== RUN   TestNumericMap
=== RUN   TestNumericMap/should_return_error_for_nil_value
=== RUN   TestNumericMap/should_return_error_for_nil_interface_value
=== RUN   TestNumericMap/should_convert_json_string:float_kv_to_Golang_map[string]float64
=== RUN   TestNumericMap/should_return_error_when_json_map_contains_non-float_values
--- PASS: TestNumericMap (0.00s)
--- PASS: TestNumericMap/should_return_error_for_nil_value (0.00s)
--- PASS: TestNumericMap/should_return_error_for_nil_interface_value (0.00s)
--- PASS: TestNumericMap/should_convert_json_string:float_kv_to_Golang_map[string]float64 (0.00s)
--- PASS: TestNumericMap/should_return_error_when_json_map_contains_non-float_values (0.00s)
=== RUN   TestBuildHistoryQuery
=== RUN   TestBuildHistoryQuery/should_set_dashboard_UID_from_dashboard_ID_if_query_does_not_contain_UID
=== RUN   TestBuildHistoryQuery/should_skip_dashboard_UID_if_missing_from_query_and_dashboard_map
=== RUN   TestBuildHistoryQuery/should_skip_dashboard_UID_when_not_in_query
--- PASS: TestBuildHistoryQuery (0.00s)
--- PASS: TestBuildHistoryQuery/should_set_dashboard_UID_from_dashboard_ID_if_query_does_not_contain_UID (0.00s)
--- PASS: TestBuildHistoryQuery/should_skip_dashboard_UID_if_missing_from_query_and_dashboard_map (0.00s)
--- PASS: TestBuildHistoryQuery/should_skip_dashboard_UID_when_not_in_query (0.00s)
=== RUN   TestBuildTransition
=== RUN   TestBuildTransition/should_return_error_when_entry_contains_invalid_state_strings
=== RUN   TestBuildTransition/should_return_error_when_values_are_not_numbers
=== RUN   TestBuildTransition/should_build_transition_correctly
--- PASS: TestBuildTransition (0.00s)
--- PASS: TestBuildTransition/should_return_error_when_entry_contains_invalid_state_strings (0.00s)
--- PASS: TestBuildTransition/should_return_error_when_values_are_not_numbers (0.00s)
--- PASS: TestBuildTransition/should_build_transition_correctly (0.00s)
=== RUN   TestUseStore
=== RUN   TestUseStore/false_if_state_history_disabled
=== RUN   TestUseStore/false_if_any_invalid_backend
=== RUN   TestUseStore/false_if_any_invalid_backend/single
=== RUN   TestUseStore/false_if_any_invalid_backend/primary
=== RUN   TestUseStore/false_if_any_invalid_backend/secondary
=== RUN   TestUseStore/false_if_no_backend_is_Loki
=== RUN   TestUseStore/false_if_Loki_is_part_of_multi_backend
=== RUN   TestUseStore/false_if_Loki_is_part_of_multi_backend/primary
=== RUN   TestUseStore/false_if_Loki_is_part_of_multi_backend/secondary
=== RUN   TestUseStore/true_if_only_backend_is_Loki
=== RUN   TestUseStore/true_if_only_backend_is_Loki/only
--- PASS: TestUseStore (0.00s)
--- PASS: TestUseStore/false_if_state_history_disabled (0.00s)
--- PASS: TestUseStore/false_if_any_invalid_backend (0.00s)
--- PASS: TestUseStore/false_if_any_invalid_backend/single (0.00s)
--- PASS: TestUseStore/false_if_any_invalid_backend/primary (0.00s)
--- PASS: TestUseStore/false_if_any_invalid_backend/secondary (0.00s)
--- PASS: TestUseStore/false_if_no_backend_is_Loki (0.00s)
--- PASS: TestUseStore/false_if_Loki_is_part_of_multi_backend (0.00s)
--- PASS: TestUseStore/false_if_Loki_is_part_of_multi_backend/primary (0.00s)
--- PASS: TestUseStore/false_if_Loki_is_part_of_multi_backend/secondary (0.00s)
--- PASS: TestUseStore/true_if_only_backend_is_Loki (0.00s)
--- PASS: TestUseStore/true_if_only_backend_is_Loki/only (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/annotations/annotationsimpl/loki	(cached)
?   	github.com/grafana/grafana/pkg/services/annotations/annotationstest	[no test files]
?   	github.com/grafana/grafana/pkg/services/annotations/testutil	[no test files]
?   	github.com/grafana/grafana/pkg/services/anonymous	[no test files]
=== RUN   TestAnonymous_Authenticate
=== RUN   TestAnonymous_Authenticate/should_success_with_valid_org_configured
=== RUN   TestAnonymous_Authenticate/should_return_error_if_any_error_occurs_during_org_lookup
--- PASS: TestAnonymous_Authenticate (0.00s)
--- PASS: TestAnonymous_Authenticate/should_success_with_valid_org_configured (0.00s)
--- PASS: TestAnonymous_Authenticate/should_return_error_if_any_error_occurs_during_org_lookup (0.00s)
=== RUN   TestAnonymous_ResolveIdentity
=== RUN   TestAnonymous_ResolveIdentity/should_return_error_when_org_id_is_not_the_configured_one
=== RUN   TestAnonymous_ResolveIdentity/should_return_error_when_namespace_id_does_not_match_anonymous_namespace_id
=== RUN   TestAnonymous_ResolveIdentity/should_resolve_identity
--- PASS: TestAnonymous_ResolveIdentity (0.00s)
--- PASS: TestAnonymous_ResolveIdentity/should_return_error_when_org_id_is_not_the_configured_one (0.00s)
--- PASS: TestAnonymous_ResolveIdentity/should_return_error_when_namespace_id_does_not_match_anonymous_namespace_id (0.00s)
--- PASS: TestAnonymous_ResolveIdentity/should_resolve_identity (0.00s)
=== RUN   TestIntegrationDeviceService_tag
impl_test.go:32: skipping test in short mode
--- SKIP: TestIntegrationDeviceService_tag (0.00s)
=== RUN   TestIntegrationAnonDeviceService_localCacheSafety
impl_test.go:212: skipping test in short mode
--- SKIP: TestIntegrationAnonDeviceService_localCacheSafety (0.00s)
=== RUN   TestIntegrationDeviceService_SearchDevice
impl_test.go:247: skipping test in short mode
--- SKIP: TestIntegrationDeviceService_SearchDevice (0.00s)
=== RUN   TestIntegrationAnonDeviceService_DeviceLimitWithCache
impl_test.go:340: skipping test in short mode
--- SKIP: TestIntegrationAnonDeviceService_DeviceLimitWithCache (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/anonymous/anonimpl	(cached)
=== RUN   TestIntegrationAnonStore_DeleteDevicesOlderThan
--- PASS: TestIntegrationAnonStore_DeleteDevicesOlderThan (0.23s)
=== RUN   TestIntegrationBeyondDeviceLimit
--- PASS: TestIntegrationBeyondDeviceLimit (0.00s)
=== RUN   TestIntegrationAnonStore_DeleteDevice
--- PASS: TestIntegrationAnonStore_DeleteDevice (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/anonymous/anonimpl/anonstore	(cached)
?   	github.com/grafana/grafana/pkg/services/anonymous/anonimpl/api	[no test files]
?   	github.com/grafana/grafana/pkg/services/anonymous/anontest	[no test files]
=== RUN   TestSorter
=== RUN   TestSorter/empty_query
=== RUN   TestSorter/single_field_ascending
=== RUN   TestSorter/single_field_descending
=== RUN   TestSorter/multiple_fields
=== RUN   TestSorter/unknown_option
--- PASS: TestSorter (0.00s)
--- PASS: TestSorter/empty_query (0.00s)
--- PASS: TestSorter/single_field_ascending (0.00s)
--- PASS: TestSorter/single_field_descending (0.00s)
--- PASS: TestSorter/multiple_fields (0.00s)
--- PASS: TestSorter/unknown_option (0.00s)
=== RUN   TestSorter_OrderBy
=== RUN   TestSorter_OrderBy/with_table_name_ascending
=== RUN   TestSorter_OrderBy/with_table_name_descending
=== RUN   TestSorter_OrderBy/without_table_name_ascending
=== RUN   TestSorter_OrderBy/without_table_name_descending
=== RUN   TestSorter_OrderBy/with_table_name_lowercase_ascending
=== RUN   TestSorter_OrderBy/with_table_name_lowercase_descending
=== RUN   TestSorter_OrderBy/without_table_name_lowercase_ascending
=== RUN   TestSorter_OrderBy/without_table_name_lowercase_descending
--- PASS: TestSorter_OrderBy (0.00s)
--- PASS: TestSorter_OrderBy/with_table_name_ascending (0.00s)
--- PASS: TestSorter_OrderBy/with_table_name_descending (0.00s)
--- PASS: TestSorter_OrderBy/without_table_name_ascending (0.00s)
--- PASS: TestSorter_OrderBy/without_table_name_descending (0.00s)
--- PASS: TestSorter_OrderBy/with_table_name_lowercase_ascending (0.00s)
--- PASS: TestSorter_OrderBy/with_table_name_lowercase_descending (0.00s)
--- PASS: TestSorter_OrderBy/without_table_name_lowercase_ascending (0.00s)
--- PASS: TestSorter_OrderBy/without_table_name_lowercase_descending (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/anonymous/sortopts	(cached)
?   	github.com/grafana/grafana/pkg/services/anonymous/validator	[no test files]
?   	github.com/grafana/grafana/pkg/services/apikey	[no test files]
=== RUN   TestIntegrationXORMApiKeyDataAccess
xorm_store_test.go:11: skipping integration test
--- SKIP: TestIntegrationXORMApiKeyDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apikey/apikeyimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/apikey/apikeytest	[no test files]
?   	github.com/grafana/grafana/pkg/services/apiserver	[no test files]
=== RUN   TestAggregatorPostStartHooks
W0414 20:27:20.510788   22180 authorization.go:59] Authorization is disabled
W0414 20:27:20.510828   22180 authentication.go:52] Authentication is disabled
I0414 20:27:20.519944   22180 handler.go:286] Adding GroupVersion apiregistration.k8s.io v1 to ResourceManager
W0414 20:27:20.519974   22180 genericapiserver.go:767] Skipping API apiregistration.k8s.io/v1beta1 because it has no resources.
--- PASS: TestAggregatorPostStartHooks (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/aggregator	(cached)
=== RUN   TestAuthenticator
=== RUN   TestAuthenticator/should_call_next_authenticator_if_identity_is_not_set_in_context
=== RUN   TestAuthenticator/should_authenticate_when_identity_is_set_in_context
--- PASS: TestAuthenticator (0.00s)
--- PASS: TestAuthenticator/should_call_next_authenticator_if_identity_is_not_set_in_context (0.00s)
--- PASS: TestAuthenticator/should_authenticate_when_identity_is_set_in_context (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/auth/authenticator	(cached)
=== RUN   TestImpersonationAuthorizer_Authorize
=== RUN   TestImpersonationAuthorizer_Authorize/impersonate_verb
=== RUN   TestImpersonationAuthorizer_Authorize/other_verb
--- PASS: TestImpersonationAuthorizer_Authorize (0.00s)
--- PASS: TestImpersonationAuthorizer_Authorize/impersonate_verb (0.00s)
--- PASS: TestImpersonationAuthorizer_Authorize/other_verb (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/auth/authorizer	(cached)
=== RUN   TestBuilderAdmission_Validate
=== RUN   TestBuilderAdmission_Validate/validator_exists_-_forbidden
=== RUN   TestBuilderAdmission_Validate/validator_exists_-_allowed
=== RUN   TestBuilderAdmission_Validate/validator_does_not_exist
=== RUN   TestBuilderAdmission_Validate/multiple_validators
--- PASS: TestBuilderAdmission_Validate (0.00s)
--- PASS: TestBuilderAdmission_Validate/validator_exists_-_forbidden (0.00s)
--- PASS: TestBuilderAdmission_Validate/validator_exists_-_allowed (0.00s)
--- PASS: TestBuilderAdmission_Validate/validator_does_not_exist (0.00s)
--- PASS: TestBuilderAdmission_Validate/multiple_validators (0.00s)
=== RUN   TestNewAdmissionFromBuilders
--- PASS: TestNewAdmissionFromBuilders (0.00s)
=== RUN   TestBuilderAdmission_Admit
=== RUN   TestBuilderAdmission_Admit/mutator_exists_-_error
=== RUN   TestBuilderAdmission_Admit/mutator_exists_-_add_hostname
=== RUN   TestBuilderAdmission_Admit/mutator_does_not_exist
--- PASS: TestBuilderAdmission_Admit (0.00s)
--- PASS: TestBuilderAdmission_Admit/mutator_exists_-_error (0.00s)
--- PASS: TestBuilderAdmission_Admit/mutator_exists_-_add_hostname (0.00s)
--- PASS: TestBuilderAdmission_Admit/mutator_does_not_exist (0.00s)
=== RUN   TestAddPostStartHooks
=== RUN   TestAddPostStartHooks/no_builders
=== PAUSE TestAddPostStartHooks/no_builders
=== RUN   TestAddPostStartHooks/builder_without_post_start_hooks
=== PAUSE TestAddPostStartHooks/builder_without_post_start_hooks
=== RUN   TestAddPostStartHooks/builder_with_post_start_hooks
=== PAUSE TestAddPostStartHooks/builder_with_post_start_hooks
=== RUN   TestAddPostStartHooks/builder_with_post_start_hook_provider_error
=== PAUSE TestAddPostStartHooks/builder_with_post_start_hook_provider_error
=== CONT  TestAddPostStartHooks/no_builders
=== CONT  TestAddPostStartHooks/builder_with_post_start_hooks
=== CONT  TestAddPostStartHooks/builder_without_post_start_hooks
=== CONT  TestAddPostStartHooks/builder_with_post_start_hook_provider_error
--- PASS: TestAddPostStartHooks (0.00s)
--- PASS: TestAddPostStartHooks/no_builders (0.00s)
--- PASS: TestAddPostStartHooks/builder_with_post_start_hooks (0.00s)
--- PASS: TestAddPostStartHooks/builder_without_post_start_hooks (0.00s)
--- PASS: TestAddPostStartHooks/builder_with_post_start_hook_provider_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/builder	(cached)
=== RUN   TestBuilderAdmission_Validate
=== RUN   TestBuilderAdmission_Validate/validator_exists_-_success
=== RUN   TestBuilderAdmission_Validate/validator_exists_-_error
=== RUN   TestBuilderAdmission_Validate/validator_not_set_-_success
--- PASS: TestBuilderAdmission_Validate (0.00s)
--- PASS: TestBuilderAdmission_Validate/validator_exists_-_success (0.00s)
--- PASS: TestBuilderAdmission_Validate/validator_exists_-_error (0.00s)
--- PASS: TestBuilderAdmission_Validate/validator_not_set_-_success (0.00s)
=== RUN   TestBuilderAdmission_Mutate
=== RUN   TestBuilderAdmission_Mutate/mutator_exists_-_success
=== RUN   TestBuilderAdmission_Mutate/mutator_exists_-_error
=== RUN   TestBuilderAdmission_Mutate/mutator_not_set_-_no_modification
--- PASS: TestBuilderAdmission_Mutate (0.00s)
--- PASS: TestBuilderAdmission_Mutate/mutator_exists_-_success (0.00s)
--- PASS: TestBuilderAdmission_Mutate/mutator_exists_-_error (0.00s)
--- PASS: TestBuilderAdmission_Mutate/mutator_not_set_-_no_modification (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/builder/runner	(cached)
=== RUN   TestGetUsersFromMeta
=== RUN   TestGetUsersFromMeta/returns_user_with_valid_UID
=== RUN   TestGetUsersFromMeta/returns_user_when_id_is_passed_in
=== RUN   TestGetUsersFromMeta/returns_users_when_id_and_uid_are_passed_in
--- PASS: TestGetUsersFromMeta (0.00s)
--- PASS: TestGetUsersFromMeta/returns_user_with_valid_UID (0.00s)
--- PASS: TestGetUsersFromMeta/returns_user_when_id_is_passed_in (0.00s)
--- PASS: TestGetUsersFromMeta/returns_users_when_id_and_uid_are_passed_in (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/client	(cached)
=== RUN   TestNamespaceMapper
=== RUN   TestNamespaceMapper/default_namespace
=== RUN   TestNamespaceMapper/with_org
=== RUN   TestNamespaceMapper/with_stackId
--- PASS: TestNamespaceMapper (0.00s)
--- PASS: TestNamespaceMapper/default_namespace (0.00s)
--- PASS: TestNamespaceMapper/with_org (0.00s)
--- PASS: TestNamespaceMapper/with_stackId (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/endpoints/request	(cached)
=== RUN   TestStorageOptions_CheckFeatureToggle
=== RUN   TestStorageOptions_CheckFeatureToggle/with_legacy_storage
=== RUN   TestStorageOptions_CheckFeatureToggle/with_unified_storage_and_without_config_for_resource
=== RUN   TestStorageOptions_CheckFeatureToggle/with_unified_storage,_mode_>_1_and_with_toggle_for_resource
=== RUN   TestStorageOptions_CheckFeatureToggle/with_unified_storage,_mode_>_1_and_without_toggle_for_resource
=== RUN   TestStorageOptions_CheckFeatureToggle/with_unified_storage_and_mode_=_1
--- PASS: TestStorageOptions_CheckFeatureToggle (0.00s)
--- PASS: TestStorageOptions_CheckFeatureToggle/with_legacy_storage (0.00s)
--- PASS: TestStorageOptions_CheckFeatureToggle/with_unified_storage_and_without_config_for_resource (0.00s)
--- PASS: TestStorageOptions_CheckFeatureToggle/with_unified_storage,_mode_>_1_and_with_toggle_for_resource (0.00s)
--- PASS: TestStorageOptions_CheckFeatureToggle/with_unified_storage,_mode_>_1_and_without_toggle_for_resource (0.00s)
--- PASS: TestStorageOptions_CheckFeatureToggle/with_unified_storage_and_mode_=_1 (0.00s)
=== RUN   TestStorageOptions_Validate
=== RUN   TestStorageOptions_Validate/with_unified_storage_grpc_and_no_auth_token
=== RUN   TestStorageOptions_Validate/with_unified_storage_grpc_and_auth_info
--- PASS: TestStorageOptions_Validate (0.00s)
--- PASS: TestStorageOptions_Validate/with_unified_storage_grpc_and_no_auth_token (0.00s)
--- PASS: TestStorageOptions_Validate/with_unified_storage_grpc_and_auth_info (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/options	(cached)
=== RUN   TestReadRuntimeCOnfig
--- PASS: TestReadRuntimeCOnfig (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/apiserver/standalone	(cached)
?   	github.com/grafana/grafana/pkg/services/apiserver/utils	[no test files]
?   	github.com/grafana/grafana/pkg/services/auth	[no test files]
=== RUN   TestIntegrationUserAuthToken
=== RUN   TestIntegrationUserAuthToken/When_creating_token
=== RUN   TestIntegrationUserAuthToken/When_creating_token/Can_count_active_tokens
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_lookup_unhashed_token_should_return_user_auth_token
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_lookup_hashed_token_should_return_user_auth_token_not_found_error
=== RUN   TestIntegrationUserAuthToken/When_creating_token/soft_revoking_existing_token_should_not_delete_it
=== RUN   TestIntegrationUserAuthToken/When_creating_token/revoking_existing_token_should_delete_it
=== RUN   TestIntegrationUserAuthToken/When_creating_token/revoking_nil_token_should_return_error
=== RUN   TestIntegrationUserAuthToken/When_creating_token/revoking_non-existing_token_should_return_error
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_get_first_user_token
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_get_second_user_token
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_get_user_tokens
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_revoke_all_user_tokens
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_revoking_users_tokens_in_a_batch
=== RUN   TestIntegrationUserAuthToken/When_creating_token/When_revoking_users_tokens_in_a_batch/Can_revoke_all_users_tokens
=== RUN   TestIntegrationUserAuthToken/When_creating_token_with_external_session
=== RUN   TestIntegrationUserAuthToken/When_creating_token_with_external_session/soft_revoking_existing_token_should_remove_the_associated_external_session
=== RUN   TestIntegrationUserAuthToken/When_creating_token_with_external_session/revoking_existing_token_should_also_remove_the_associated_external_session
=== RUN   TestIntegrationUserAuthToken/When_creating_token_with_external_session/When_revoking_users_tokens_in_a_batch
=== RUN   TestIntegrationUserAuthToken/When_creating_token_with_external_session/When_revoking_users_tokens_in_a_batch/Can_revoke_all_users_tokens_and_associated_external_sessions
=== RUN   TestIntegrationUserAuthToken/expires_correctly
=== RUN   TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_6:59:59_ago_should_find_token
=== RUN   TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_7:00:00_ago_should_return_token_expired_error
=== RUN   TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_7:00:00_ago_should_return_token_expired_error/should_not_find_active_token_when_expired
=== RUN   TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_5_days_ago_and_created_at_is_29_days_and_23:59:59_ago_should_not_find_token
=== RUN   TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_5_days_ago_and_created_at_is_30_days_ago_should_return_token_expired_error
=== RUN   TestIntegrationUserAuthToken/can_properly_rotate_tokens
=== RUN   TestIntegrationUserAuthToken/keeps_prev_token_valid_for_1_minute_after_it_is_confirmed
=== RUN   TestIntegrationUserAuthToken/will_not_mark_token_unseen_when_prev_and_current_are_the_same
=== RUN   TestIntegrationUserAuthToken/RotateToken
=== RUN   TestIntegrationUserAuthToken/RotateToken/should_rotate_token_when_called_with_current_auth_token
=== RUN   TestIntegrationUserAuthToken/RotateToken/should_rotate_token_when_called_with_previous
=== RUN   TestIntegrationUserAuthToken/RotateToken/should_not_rotate_token_when_called_with_old_previous
=== RUN   TestIntegrationUserAuthToken/RotateToken/should_return_error_when_token_is_revoked
=== RUN   TestIntegrationUserAuthToken/RotateToken/should_return_error_when_token_has_expired
=== RUN   TestIntegrationUserAuthToken/RotateToken/should_only_delete_revoked_tokens_that_are_outside_on_specified_window
=== RUN   TestIntegrationUserAuthToken/When_populating_userAuthToken_from_UserToken_should_copy_all_properties
=== RUN   TestIntegrationUserAuthToken/When_populating_userToken_from_userAuthToken_should_copy_all_properties
--- PASS: TestIntegrationUserAuthToken (0.25s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token (0.01s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/Can_count_active_tokens (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_lookup_unhashed_token_should_return_user_auth_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_lookup_hashed_token_should_return_user_auth_token_not_found_error (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/soft_revoking_existing_token_should_not_delete_it (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/revoking_existing_token_should_delete_it (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/revoking_nil_token_should_return_error (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/revoking_non-existing_token_should_return_error (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_get_first_user_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_get_second_user_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_get_user_tokens (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_creating_an_additional_token/Can_revoke_all_user_tokens (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_revoking_users_tokens_in_a_batch (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token/When_revoking_users_tokens_in_a_batch/Can_revoke_all_users_tokens (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token_with_external_session (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token_with_external_session/soft_revoking_existing_token_should_remove_the_associated_external_session (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token_with_external_session/revoking_existing_token_should_also_remove_the_associated_external_session (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token_with_external_session/When_revoking_users_tokens_in_a_batch (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_creating_token_with_external_session/When_revoking_users_tokens_in_a_batch/Can_revoke_all_users_tokens_and_associated_external_sessions (0.00s)
--- PASS: TestIntegrationUserAuthToken/expires_correctly (0.00s)
--- PASS: TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_6:59:59_ago_should_find_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_7:00:00_ago_should_return_token_expired_error (0.00s)
--- PASS: TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_7:00:00_ago_should_return_token_expired_error/should_not_find_active_token_when_expired (0.00s)
--- PASS: TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_5_days_ago_and_created_at_is_29_days_and_23:59:59_ago_should_not_find_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/expires_correctly/when_rotated_at_is_5_days_ago_and_created_at_is_30_days_ago_should_return_token_expired_error (0.00s)
--- PASS: TestIntegrationUserAuthToken/can_properly_rotate_tokens (0.00s)
--- PASS: TestIntegrationUserAuthToken/keeps_prev_token_valid_for_1_minute_after_it_is_confirmed (0.00s)
--- PASS: TestIntegrationUserAuthToken/will_not_mark_token_unseen_when_prev_and_current_are_the_same (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken/should_rotate_token_when_called_with_current_auth_token (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken/should_rotate_token_when_called_with_previous (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken/should_not_rotate_token_when_called_with_old_previous (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken/should_return_error_when_token_is_revoked (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken/should_return_error_when_token_has_expired (0.00s)
--- PASS: TestIntegrationUserAuthToken/RotateToken/should_only_delete_revoked_tokens_that_are_outside_on_specified_window (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_populating_userAuthToken_from_UserToken_should_copy_all_properties (0.00s)
--- PASS: TestIntegrationUserAuthToken/When_populating_userToken_from_userAuthToken_should_copy_all_properties (0.00s)
=== RUN   TestIntegrationTokenCount
--- PASS: TestIntegrationTokenCount (0.00s)
=== RUN   TestRevokeAllUserTokens
=== RUN   TestRevokeAllUserTokens/should_not_fail_if_the_external_sessions_could_not_be_removed
--- PASS: TestRevokeAllUserTokens (0.00s)
--- PASS: TestRevokeAllUserTokens/should_not_fail_if_the_external_sessions_could_not_be_removed (0.00s)
=== RUN   TestRevokeToken
=== RUN   TestRevokeToken/should_not_fail_if_the_external_sessions_could_not_be_removed
--- PASS: TestRevokeToken (0.00s)
--- PASS: TestRevokeToken/should_not_fail_if_the_external_sessions_could_not_be_removed (0.00s)
=== RUN   TestBatchRevokeAllUserTokens
=== RUN   TestBatchRevokeAllUserTokens/should_not_fail_if_the_external_sessions_could_not_be_removed
--- PASS: TestBatchRevokeAllUserTokens (0.00s)
--- PASS: TestBatchRevokeAllUserTokens/should_not_fail_if_the_external_sessions_could_not_be_removed (0.00s)
=== RUN   TestIntegrationGetExternalSession
external_session_store_test.go:16: skipping integration test
--- SKIP: TestIntegrationGetExternalSession (0.00s)
=== RUN   TestIntegrationListExternalSessions
external_session_store_test.go:44: skipping integration test
--- SKIP: TestIntegrationListExternalSessions (0.00s)
=== RUN   TestIntegrationDeleteExternalSessionsByUserID
external_session_store_test.go:110: skipping integration test
--- SKIP: TestIntegrationDeleteExternalSessionsByUserID (0.00s)
=== RUN   TestIntegrationDeleteExternalSession
external_session_store_test.go:151: skipping integration test
--- SKIP: TestIntegrationDeleteExternalSession (0.00s)
=== RUN   TestIntegrationBatchDeleteExternalSessionsByUserIDs
external_session_store_test.go:181: skipping integration test
--- SKIP: TestIntegrationBatchDeleteExternalSessionsByUserIDs (0.00s)
=== RUN   TestIntegrationUserAuthTokenCleanup
token_cleanup_test.go:17: skipping integration test
--- SKIP: TestIntegrationUserAuthTokenCleanup (0.00s)
=== RUN   TestIntegrationOrphanedExternalSessionsCleanup
token_cleanup_test.go:86: skipping integration test
--- SKIP: TestIntegrationOrphanedExternalSessionsCleanup (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/auth/authimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/auth/authtest	[no test files]
=== RUN   TestGComSSOService_LogoutHook
=== RUN   TestGComSSOService_LogoutHook/Successfully_logs_out_from_grafana.com
=== RUN   TestGComSSOService_LogoutHook/Fails_to_log_out_from_grafana.com
--- PASS: TestGComSSOService_LogoutHook (0.00s)
--- PASS: TestGComSSOService_LogoutHook/Successfully_logs_out_from_grafana.com (0.00s)
--- PASS: TestGComSSOService_LogoutHook/Fails_to_log_out_from_grafana.com (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/auth/gcomsso	(cached)
=== RUN   Test_ProvideService
=== RUN   Test_ProvideService/should_register_post_auth_hook
--- PASS: Test_ProvideService (0.00s)
--- PASS: Test_ProvideService/should_register_post_auth_hook (0.00s)
=== RUN   TestService_SignIdentity
=== RUN   TestService_SignIdentity/should_sign_identity
=== RUN   TestService_SignIdentity/should_sign_identity_with_authenticated_by_if_user_is_externally_authenticated
=== RUN   TestService_SignIdentity/should_sign_identity_with_authenticated_by_if_user_is_externally_authenticated#01
=== RUN   TestService_SignIdentity/should_sign_new_token_if_org_role_has_changed
--- PASS: TestService_SignIdentity (0.00s)
--- PASS: TestService_SignIdentity/should_sign_identity (0.00s)
--- PASS: TestService_SignIdentity/should_sign_identity_with_authenticated_by_if_user_is_externally_authenticated (0.00s)
--- PASS: TestService_SignIdentity/should_sign_identity_with_authenticated_by_if_user_is_externally_authenticated#01 (0.00s)
--- PASS: TestService_SignIdentity/should_sign_new_token_if_org_role_has_changed (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/auth/idimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/auth/idtest	[no test files]
=== RUN   TestVerifyUsingPKIXPublicKeyFile
=== RUN   TestVerifyUsingPKIXPublicKeyFile/verifies_a_token
=== RUN   TestVerifyUsingPKIXPublicKeyFile/rejects_a_token_signed_by_unknown_key
=== RUN   TestVerifyUsingPKIXPublicKeyFile/verifies_a_token_with_a_specified_kid
--- PASS: TestVerifyUsingPKIXPublicKeyFile (0.24s)
--- PASS: TestVerifyUsingPKIXPublicKeyFile/verifies_a_token (0.23s)
--- PASS: TestVerifyUsingPKIXPublicKeyFile/rejects_a_token_signed_by_unknown_key (0.00s)
--- PASS: TestVerifyUsingPKIXPublicKeyFile/verifies_a_token_with_a_specified_kid (0.00s)
=== RUN   TestVerifyUsingJWKSetFile
=== RUN   TestVerifyUsingJWKSetFile/verifies_a_token_signed_with_a_key_from_the_set
=== RUN   TestVerifyUsingJWKSetFile/verifies_a_token_signed_with_another_key_from_the_set
=== RUN   TestVerifyUsingJWKSetFile/rejects_a_token_signed_with_a_key_not_from_the_set
--- PASS: TestVerifyUsingJWKSetFile (0.01s)
--- PASS: TestVerifyUsingJWKSetFile/verifies_a_token_signed_with_a_key_from_the_set (0.00s)
--- PASS: TestVerifyUsingJWKSetFile/verifies_a_token_signed_with_another_key_from_the_set (0.00s)
--- PASS: TestVerifyUsingJWKSetFile/rejects_a_token_signed_with_a_key_not_from_the_set (0.00s)
=== RUN   TestVerifyUsingJWKSetURL
=== RUN   TestVerifyUsingJWKSetURL/should_refuse_to_start_with_non-https_URL
=== RUN   TestVerifyUsingJWKSetURL/verifies_a_token_signed_with_a_key_from_the_set
=== RUN   TestVerifyUsingJWKSetURL/verifies_a_token_signed_with_another_key_from_the_set
=== RUN   TestVerifyUsingJWKSetURL/rejects_a_token_signed_with_a_key_not_from_the_set
--- PASS: TestVerifyUsingJWKSetURL (0.03s)
--- PASS: TestVerifyUsingJWKSetURL/should_refuse_to_start_with_non-https_URL (0.00s)
--- PASS: TestVerifyUsingJWKSetURL/verifies_a_token_signed_with_a_key_from_the_set (0.01s)
--- PASS: TestVerifyUsingJWKSetURL/verifies_a_token_signed_with_another_key_from_the_set (0.01s)
--- PASS: TestVerifyUsingJWKSetURL/rejects_a_token_signed_with_a_key_not_from_the_set (0.01s)
=== RUN   TestCachingJWKHTTPResponse
=== RUN   TestCachingJWKHTTPResponse/caches_the_jwk_response
=== RUN   TestCachingJWKHTTPResponse/respects_TTL_setting_(while_cached)
=== RUN   TestCachingJWKHTTPResponse/does_not_cache_the_response_when_TTL_is_zero
--- PASS: TestCachingJWKHTTPResponse (0.03s)
--- PASS: TestCachingJWKHTTPResponse/caches_the_jwk_response (0.02s)
--- PASS: TestCachingJWKHTTPResponse/respects_TTL_setting_(while_cached) (0.01s)
--- PASS: TestCachingJWKHTTPResponse/does_not_cache_the_response_when_TTL_is_zero (0.01s)
=== RUN   TestSignatureWithNoneAlgorithm
=== RUN   TestSignatureWithNoneAlgorithm/rejects_a_token_signed_with_"none"_algorithm
--- PASS: TestSignatureWithNoneAlgorithm (0.00s)
--- PASS: TestSignatureWithNoneAlgorithm/rejects_a_token_signed_with_"none"_algorithm (0.00s)
=== RUN   TestClaimValidation
=== RUN   TestClaimValidation/validates_iss_field_for_equality
=== RUN   TestClaimValidation/validates_sub_field_for_equality
=== RUN   TestClaimValidation/validates_aud_field_for_inclusion
=== RUN   TestClaimValidation/validates_non-registered_(custom)_claims_for_equality
=== RUN   TestClaimValidation/validates_exp_claim_of_the_token
=== RUN   TestClaimValidation/validates_nbf_claim_of_the_token
=== RUN   TestClaimValidation/validates_iat_claim_of_the_token
--- PASS: TestClaimValidation (0.05s)
--- PASS: TestClaimValidation/validates_iss_field_for_equality (0.00s)
--- PASS: TestClaimValidation/validates_sub_field_for_equality (0.00s)
--- PASS: TestClaimValidation/validates_aud_field_for_inclusion (0.01s)
--- PASS: TestClaimValidation/validates_non-registered_(custom)_claims_for_equality (0.01s)
--- PASS: TestClaimValidation/validates_exp_claim_of_the_token (0.01s)
--- PASS: TestClaimValidation/validates_nbf_claim_of_the_token (0.01s)
--- PASS: TestClaimValidation/validates_iat_claim_of_the_token (0.01s)
=== RUN   TestBase64Paddings
=== RUN   TestBase64Paddings/verifies_a_token_with_base64_padding_(non_compliant_rfc7515#section-2_but_accepted)
--- PASS: TestBase64Paddings (0.00s)
--- PASS: TestBase64Paddings/verifies_a_token_with_base64_padding_(non_compliant_rfc7515#section-2_but_accepted) (0.00s)
=== RUN   TestGetCacheExpiration
=== RUN   TestGetCacheExpiration/no_cache_control_header
=== PAUSE TestGetCacheExpiration/no_cache_control_header
=== RUN   TestGetCacheExpiration/max-age_less_than_cache_duration
=== PAUSE TestGetCacheExpiration/max-age_less_than_cache_duration
=== RUN   TestGetCacheExpiration/max-age_greater_than_cache_duration
=== PAUSE TestGetCacheExpiration/max-age_greater_than_cache_duration
=== RUN   TestGetCacheExpiration/invalid_max-age
=== PAUSE TestGetCacheExpiration/invalid_max-age
=== RUN   TestGetCacheExpiration/multiple_cache_control_directives
=== PAUSE TestGetCacheExpiration/multiple_cache_control_directives
=== CONT  TestGetCacheExpiration/no_cache_control_header
=== CONT  TestGetCacheExpiration/invalid_max-age
=== CONT  TestGetCacheExpiration/max-age_greater_than_cache_duration
=== CONT  TestGetCacheExpiration/max-age_less_than_cache_duration
=== CONT  TestGetCacheExpiration/multiple_cache_control_directives
--- PASS: TestGetCacheExpiration (0.00s)
--- PASS: TestGetCacheExpiration/no_cache_control_header (0.00s)
--- PASS: TestGetCacheExpiration/invalid_max-age (0.00s)
--- PASS: TestGetCacheExpiration/max-age_greater_than_cache_duration (0.00s)
--- PASS: TestGetCacheExpiration/max-age_less_than_cache_duration (0.00s)
--- PASS: TestGetCacheExpiration/multiple_cache_control_directives (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/auth/jwt	(cached)
?   	github.com/grafana/grafana/pkg/services/authapi	[no test files]
?   	github.com/grafana/grafana/pkg/services/authapi/fake	[no test files]
?   	github.com/grafana/grafana/pkg/services/authn	[no test files]
=== RUN   TestQueue
=== RUN   TestQueue/expect_correct_order
--- PASS: TestQueue (0.00s)
--- PASS: TestQueue/expect_correct_order (0.00s)
=== RUN   TestService_Authenticate
=== RUN   TestService_Authenticate/should_succeed_with_authentication_for_configured_client
=== RUN   TestService_Authenticate/should_succeed_with_authentication_for_configured_client_for_identity_with_fetch_permissions_params
=== RUN   TestService_Authenticate/should_succeed_with_authentication_for_client_with_fetch_permissions_params_made_of_roles_and_actions
=== RUN   TestService_Authenticate/should_succeed_with_authentication_for_second_client_when_first_test_fail
=== RUN   TestService_Authenticate/should_succeed_with_authentication_for_third_client_when_error_happened_in_first
=== RUN   TestService_Authenticate/should_return_error_when_no_client_could_authenticate_the_request
=== RUN   TestService_Authenticate/should_return_all_errors_in_chain
=== RUN   TestService_Authenticate/should_return_error_on_disabled_identity
--- PASS: TestService_Authenticate (0.00s)
--- PASS: TestService_Authenticate/should_succeed_with_authentication_for_configured_client (0.00s)
--- PASS: TestService_Authenticate/should_succeed_with_authentication_for_configured_client_for_identity_with_fetch_permissions_params (0.00s)
--- PASS: TestService_Authenticate/should_succeed_with_authentication_for_client_with_fetch_permissions_params_made_of_roles_and_actions (0.00s)
--- PASS: TestService_Authenticate/should_succeed_with_authentication_for_second_client_when_first_test_fail (0.00s)
--- PASS: TestService_Authenticate/should_succeed_with_authentication_for_third_client_when_error_happened_in_first (0.00s)
--- PASS: TestService_Authenticate/should_return_error_when_no_client_could_authenticate_the_request (0.00s)
--- PASS: TestService_Authenticate/should_return_all_errors_in_chain (0.00s)
--- PASS: TestService_Authenticate/should_return_error_on_disabled_identity (0.00s)
=== RUN   TestService_OrgID
=== RUN   TestService_OrgID/should_set_org_id_when_present_in_header
=== RUN   TestService_OrgID/should_set_org_id_when_present_in_url
=== RUN   TestService_OrgID/should_prioritise_org_id_from_url_when_present_in_both_header_and_url
=== RUN   TestService_OrgID/should_set_org_id_to_0_when_missing_in_both_header_and_url
=== RUN   TestService_OrgID/should_set_org_id_from_default_namespace
=== RUN   TestService_OrgID/should_set_org_id_from_namespace
=== RUN   TestService_OrgID/should_set_set_org_1_for_stack_namespace
=== RUN   TestService_OrgID/should_error_for_wrong_stack_namespace
--- PASS: TestService_OrgID (0.00s)
--- PASS: TestService_OrgID/should_set_org_id_when_present_in_header (0.00s)
--- PASS: TestService_OrgID/should_set_org_id_when_present_in_url (0.00s)
--- PASS: TestService_OrgID/should_prioritise_org_id_from_url_when_present_in_both_header_and_url (0.00s)
--- PASS: TestService_OrgID/should_set_org_id_to_0_when_missing_in_both_header_and_url (0.00s)
--- PASS: TestService_OrgID/should_set_org_id_from_default_namespace (0.00s)
--- PASS: TestService_OrgID/should_set_org_id_from_namespace (0.00s)
--- PASS: TestService_OrgID/should_set_set_org_1_for_stack_namespace (0.00s)
--- PASS: TestService_OrgID/should_error_for_wrong_stack_namespace (0.00s)
=== RUN   TestService_HookClient
--- PASS: TestService_HookClient (0.00s)
=== RUN   TestService_Login
=== RUN   TestService_Login/should_login_for_valid_request
=== RUN   TestService_Login/should_not_login_with_invalid_client
=== RUN   TestService_Login/should_not_login_non_user_identity
--- PASS: TestService_Login (0.00s)
--- PASS: TestService_Login/should_login_for_valid_request (0.00s)
--- PASS: TestService_Login/should_not_login_with_invalid_client (0.00s)
--- PASS: TestService_Login/should_not_login_non_user_identity (0.00s)
=== RUN   TestService_RedirectURL
=== RUN   TestService_RedirectURL/should_generate_url_for_valid_redirect_client
=== RUN   TestService_RedirectURL/should_return_error_on_non_existing_client
=== RUN   TestService_RedirectURL/should_return_error_when_client_don't_support_the_redirect_interface
--- PASS: TestService_RedirectURL (0.00s)
--- PASS: TestService_RedirectURL/should_generate_url_for_valid_redirect_client (0.00s)
--- PASS: TestService_RedirectURL/should_return_error_on_non_existing_client (0.00s)
--- PASS: TestService_RedirectURL/should_return_error_when_client_don't_support_the_redirect_interface (0.00s)
=== RUN   TestService_Logout
=== RUN   TestService_Logout/should_redirect_to_default_redirect_url_when_identity_is_not_a_user
=== RUN   TestService_Logout/should_redirect_to_default_redirect_url_when_no_external_provider_was_used_to_authenticate
=== RUN   TestService_Logout/should_redirect_to_default_redirect_url_when_client_is_not_found
=== RUN   TestService_Logout/should_redirect_to_default_redirect_url_when_client_do_not_implement_logout_extension
=== RUN   TestService_Logout/should_use_signout_redirect_url_if_configured
=== RUN   TestService_Logout/should_redirect_to_client_specific_url
--- PASS: TestService_Logout (0.00s)
--- PASS: TestService_Logout/should_redirect_to_default_redirect_url_when_identity_is_not_a_user (0.00s)
--- PASS: TestService_Logout/should_redirect_to_default_redirect_url_when_no_external_provider_was_used_to_authenticate (0.00s)
--- PASS: TestService_Logout/should_redirect_to_default_redirect_url_when_client_is_not_found (0.00s)
--- PASS: TestService_Logout/should_redirect_to_default_redirect_url_when_client_do_not_implement_logout_extension (0.00s)
--- PASS: TestService_Logout/should_use_signout_redirect_url_if_configured (0.00s)
--- PASS: TestService_Logout/should_redirect_to_client_specific_url (0.00s)
=== RUN   TestService_ResolveIdentity
=== RUN   TestService_ResolveIdentity/should_return_error_for_for_unknown_namespace
=== RUN   TestService_ResolveIdentity/should_return_error_for_for_namespace_that_don't_have_a_resolver
=== RUN   TestService_ResolveIdentity/should_resolve_for_user
=== RUN   TestService_ResolveIdentity/should_resolve_for_service_account
=== RUN   TestService_ResolveIdentity/should_resolve_for_valid_namespace_if_client_is_registered
--- PASS: TestService_ResolveIdentity (0.00s)
--- PASS: TestService_ResolveIdentity/should_return_error_for_for_unknown_namespace (0.00s)
--- PASS: TestService_ResolveIdentity/should_return_error_for_for_namespace_that_don't_have_a_resolver (0.00s)
--- PASS: TestService_ResolveIdentity/should_resolve_for_user (0.00s)
--- PASS: TestService_ResolveIdentity/should_resolve_for_service_account (0.00s)
--- PASS: TestService_ResolveIdentity/should_resolve_for_valid_namespace_if_client_is_registered (0.00s)
=== RUN   TestService_getUsageStats
--- PASS: TestService_getUsageStats (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authn/authnimpl	(cached)
=== RUN   TestOAuthTokenSync_SyncOAuthTokenHook
=== RUN   TestOAuthTokenSync_SyncOAuthTokenHook/should_skip_sync_when_identity_is_not_a_user
=== RUN   TestOAuthTokenSync_SyncOAuthTokenHook/should_skip_sync_when_identity_is_a_user_but_is_not_authenticated_with_session_token
=== RUN   TestOAuthTokenSync_SyncOAuthTokenHook/should_invalidate_access_token_and_session_token_if_token_refresh_fails
=== RUN   TestOAuthTokenSync_SyncOAuthTokenHook/should_refresh_the_token_successfully
=== RUN   TestOAuthTokenSync_SyncOAuthTokenHook/should_not_invalidate_the_token_if_the_token_has_already_been_refreshed_by_another_request_(singleflight)
--- PASS: TestOAuthTokenSync_SyncOAuthTokenHook (0.00s)
--- PASS: TestOAuthTokenSync_SyncOAuthTokenHook/should_skip_sync_when_identity_is_not_a_user (0.00s)
--- PASS: TestOAuthTokenSync_SyncOAuthTokenHook/should_skip_sync_when_identity_is_a_user_but_is_not_authenticated_with_session_token (0.00s)
--- PASS: TestOAuthTokenSync_SyncOAuthTokenHook/should_invalidate_access_token_and_session_token_if_token_refresh_fails (0.00s)
--- PASS: TestOAuthTokenSync_SyncOAuthTokenHook/should_refresh_the_token_successfully (0.00s)
--- PASS: TestOAuthTokenSync_SyncOAuthTokenHook/should_not_invalidate_the_token_if_the_token_has_already_been_refreshed_by_another_request_(singleflight) (0.00s)
=== RUN   TestOrgSync_SyncOrgRolesHook
=== RUN   TestOrgSync_SyncOrgRolesHook/add_user_to_multiple_orgs,_should_not_set_the_user's_default_orgID_to_an_org_that_does_not_exist
--- PASS: TestOrgSync_SyncOrgRolesHook (0.00s)
--- PASS: TestOrgSync_SyncOrgRolesHook/add_user_to_multiple_orgs,_should_not_set_the_user's_default_orgID_to_an_org_that_does_not_exist (0.00s)
=== RUN   TestOrgSync_SetDefaultOrgHook
=== RUN   TestOrgSync_SetDefaultOrgHook/should_set_default_org
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_default_org_is_not_set
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_identity_is_nil
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_input_err_is_not_nil
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_identity_is_not_a_user
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_user_id_is_not_valid
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_user_is_not_allowed_to_use_the_configured_default_org
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_validateUsingOrg_returns_error
=== RUN   TestOrgSync_SetDefaultOrgHook/should_skip_the_hook_when_the_user_org_update_was_unsuccessful
--- PASS: TestOrgSync_SetDefaultOrgHook (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_set_default_org (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_default_org_is_not_set (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_identity_is_nil (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_input_err_is_not_nil (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_identity_is_not_a_user (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_user_id_is_not_valid (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_user_is_not_allowed_to_use_the_configured_default_org (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_setting_the_default_org_when_validateUsingOrg_returns_error (0.00s)
--- PASS: TestOrgSync_SetDefaultOrgHook/should_skip_the_hook_when_the_user_org_update_was_unsuccessful (0.00s)
=== RUN   TestRBACSync_SyncPermission
=== RUN   TestRBACSync_SyncPermission/enriches_the_identity_successfully_when_SyncPermissions_is_true
=== RUN   TestRBACSync_SyncPermission/does_not_load_the_permissions_when_SyncPermissions_is_false
--- PASS: TestRBACSync_SyncPermission (0.00s)
--- PASS: TestRBACSync_SyncPermission/enriches_the_identity_successfully_when_SyncPermissions_is_true (0.00s)
--- PASS: TestRBACSync_SyncPermission/does_not_load_the_permissions_when_SyncPermissions_is_false (0.00s)
=== RUN   TestRBACSync_FetchPermissions
=== RUN   TestRBACSync_FetchPermissions/restrict_permissions_from_store
=== RUN   TestRBACSync_FetchPermissions/fetch_roles_permissions
=== RUN   TestRBACSync_FetchPermissions/robust_to_missing_roles
=== RUN   TestRBACSync_FetchPermissions/fetch_permissions_from_permissions_registry
=== RUN   TestRBACSync_FetchPermissions/fetch_scopeless_permissions_from_permissions_registry
=== RUN   TestRBACSync_FetchPermissions/robust_to_unknown_actions
=== RUN   TestRBACSync_FetchPermissions/restrict_permissions_from_roles_and_registry
--- PASS: TestRBACSync_FetchPermissions (0.00s)
--- PASS: TestRBACSync_FetchPermissions/restrict_permissions_from_store (0.00s)
--- PASS: TestRBACSync_FetchPermissions/fetch_roles_permissions (0.00s)
--- PASS: TestRBACSync_FetchPermissions/robust_to_missing_roles (0.00s)
--- PASS: TestRBACSync_FetchPermissions/fetch_permissions_from_permissions_registry (0.00s)
--- PASS: TestRBACSync_FetchPermissions/fetch_scopeless_permissions_from_permissions_registry (0.00s)
--- PASS: TestRBACSync_FetchPermissions/robust_to_unknown_actions (0.00s)
--- PASS: TestRBACSync_FetchPermissions/restrict_permissions_from_roles_and_registry (0.00s)
=== RUN   TestRBACSync_SyncCloudRoles
=== RUN   TestRBACSync_SyncCloudRoles/should_call_sync_when_authenticated_with_grafana_com_and_has_viewer_role
=== RUN   TestRBACSync_SyncCloudRoles/should_call_sync_when_authenticated_with_grafana_com_and_has_editor_role
=== RUN   TestRBACSync_SyncCloudRoles/should_call_sync_when_authenticated_with_grafana_com_and_has_admin_role
=== RUN   TestRBACSync_SyncCloudRoles/should_not_call_sync_when_authenticated_with_grafana_com_and_has_invalid_role
=== RUN   TestRBACSync_SyncCloudRoles/should_not_call_sync_when_not_authenticated_with_grafana_com
--- PASS: TestRBACSync_SyncCloudRoles (0.00s)
--- PASS: TestRBACSync_SyncCloudRoles/should_call_sync_when_authenticated_with_grafana_com_and_has_viewer_role (0.00s)
--- PASS: TestRBACSync_SyncCloudRoles/should_call_sync_when_authenticated_with_grafana_com_and_has_editor_role (0.00s)
--- PASS: TestRBACSync_SyncCloudRoles/should_call_sync_when_authenticated_with_grafana_com_and_has_admin_role (0.00s)
--- PASS: TestRBACSync_SyncCloudRoles/should_not_call_sync_when_authenticated_with_grafana_com_and_has_invalid_role (0.00s)
--- PASS: TestRBACSync_SyncCloudRoles/should_not_call_sync_when_not_authenticated_with_grafana_com (0.00s)
=== RUN   TestRBACSync_cloudRolesToAddAndRemove
=== RUN   TestRBACSync_cloudRolesToAddAndRemove/should_map_Cloud_Viewer_to_Grafana_Cloud_Viewer_and_Support_ticket_reader
=== RUN   TestRBACSync_cloudRolesToAddAndRemove/should_map_Cloud_Editor_to_Grafana_Cloud_Editor_and_Support_ticket_admin
=== RUN   TestRBACSync_cloudRolesToAddAndRemove/should_map_Cloud_Admin_to_Grafana_Cloud_Admin_and_Support_ticket_admin
=== RUN   TestRBACSync_cloudRolesToAddAndRemove/should_return_an_error_for_not_supported_role
--- PASS: TestRBACSync_cloudRolesToAddAndRemove (0.00s)
--- PASS: TestRBACSync_cloudRolesToAddAndRemove/should_map_Cloud_Viewer_to_Grafana_Cloud_Viewer_and_Support_ticket_reader (0.00s)
--- PASS: TestRBACSync_cloudRolesToAddAndRemove/should_map_Cloud_Editor_to_Grafana_Cloud_Editor_and_Support_ticket_admin (0.00s)
--- PASS: TestRBACSync_cloudRolesToAddAndRemove/should_map_Cloud_Admin_to_Grafana_Cloud_Admin_and_Support_ticket_admin (0.00s)
--- PASS: TestRBACSync_cloudRolesToAddAndRemove/should_return_an_error_for_not_supported_role (0.00s)
=== RUN   TestRBACSync_ClearUserPermissionCacheHook
=== RUN   TestRBACSync_ClearUserPermissionCacheHook/should_clear_the_permission_cache_when_the_user_logged_in_successfully
=== RUN   TestRBACSync_ClearUserPermissionCacheHook/should_skip_clearing_the_permission_cache_when_the_user_failed_to_log_in
=== RUN   TestRBACSync_ClearUserPermissionCacheHook/should_skip_clearing_the_permission_cache_when_the_identity_is_not_a_user
--- PASS: TestRBACSync_ClearUserPermissionCacheHook (0.00s)
--- PASS: TestRBACSync_ClearUserPermissionCacheHook/should_clear_the_permission_cache_when_the_user_logged_in_successfully (0.00s)
--- PASS: TestRBACSync_ClearUserPermissionCacheHook/should_skip_clearing_the_permission_cache_when_the_user_failed_to_log_in (0.00s)
--- PASS: TestRBACSync_ClearUserPermissionCacheHook/should_skip_clearing_the_permission_cache_when_the_identity_is_not_a_user (0.00s)
=== RUN   TestUserSync_SyncUserHook
=== RUN   TestUserSync_SyncUserHook/no_sync
=== RUN   TestUserSync_SyncUserHook/sync_-_user_found_in_DB_-_by_email
=== RUN   TestUserSync_SyncUserHook/sync_-_user_found_in_DB_-_by_login
=== RUN   TestUserSync_SyncUserHook/sync_-_user_found_in_authInfo
=== RUN   TestUserSync_SyncUserHook/sync_-_user_needs_to_be_created_-_disabled_signup
=== RUN   TestUserSync_SyncUserHook/sync_-_user_needs_to_be_created_-_enabled_signup
=== RUN   TestUserSync_SyncUserHook/sync_-_needs_full_update
=== RUN   TestUserSync_SyncUserHook/sync_-_reset_email_verified_on_email_change
--- PASS: TestUserSync_SyncUserHook (0.00s)
--- PASS: TestUserSync_SyncUserHook/no_sync (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_user_found_in_DB_-_by_email (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_user_found_in_DB_-_by_login (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_user_found_in_authInfo (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_user_needs_to_be_created_-_disabled_signup (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_user_needs_to_be_created_-_enabled_signup (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_needs_full_update (0.00s)
--- PASS: TestUserSync_SyncUserHook/sync_-_reset_email_verified_on_email_change (0.00s)
=== RUN   TestUserSync_SyncUserRetryFetch
--- PASS: TestUserSync_SyncUserRetryFetch (0.00s)
=== RUN   TestUserSync_FetchSyncedUserHook
=== RUN   TestUserSync_FetchSyncedUserHook/should_skip_hook_when_flag_is_not_enabled
=== RUN   TestUserSync_FetchSyncedUserHook/should_skip_hook_when_identity_is_not_a_user
--- PASS: TestUserSync_FetchSyncedUserHook (0.00s)
--- PASS: TestUserSync_FetchSyncedUserHook/should_skip_hook_when_flag_is_not_enabled (0.00s)
--- PASS: TestUserSync_FetchSyncedUserHook/should_skip_hook_when_identity_is_not_a_user (0.00s)
=== RUN   TestUserSync_EnableDisabledUserHook
=== RUN   TestUserSync_EnableDisabledUserHook/should_skip_if_correct_flag_is_not_set
=== RUN   TestUserSync_EnableDisabledUserHook/should_skip_if_identity_is_not_a_user
=== RUN   TestUserSync_EnableDisabledUserHook/should_enabled_disabled_user
--- PASS: TestUserSync_EnableDisabledUserHook (0.00s)
--- PASS: TestUserSync_EnableDisabledUserHook/should_skip_if_correct_flag_is_not_set (0.00s)
--- PASS: TestUserSync_EnableDisabledUserHook/should_skip_if_identity_is_not_a_user (0.00s)
--- PASS: TestUserSync_EnableDisabledUserHook/should_enabled_disabled_user (0.00s)
=== RUN   TestUserSync_ValidateUserProvisioningHook
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_the_user_provisioning_is_disabled
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_allowedNonProvisionedUsers_is_enabled
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_the_user_is_authenticated_via_GrafanaComAuthModule
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_identity_with_the_provisioned_user,_unexpected_error
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_identity_with_the_provisioned_user,_no_user_found
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_provisioned_user.ExternalUID_with_the_identity.ExternalUID_-_empty_ExternalUID
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_provisioned_user.ExternalUID_with_the_identity.ExternalUID_-_different_ExternalUID
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_successfully_validate_the_provisioned_user.ExternalUID_with_the_identity.ExternalUID
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_failed_to_validate_a_non_provisioned_user_when_retrieved_from_the_database
=== RUN   TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_identity_is_incomplete_because_it's_not_from_the_SAML_auth_flow
--- PASS: TestUserSync_ValidateUserProvisioningHook (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_the_user_provisioning_is_disabled (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_allowedNonProvisionedUsers_is_enabled (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_the_user_is_authenticated_via_GrafanaComAuthModule (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_identity_with_the_provisioned_user,_unexpected_error (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_identity_with_the_provisioned_user,_no_user_found (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_provisioned_user.ExternalUID_with_the_identity.ExternalUID_-_empty_ExternalUID (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_fail_to_validate_the_provisioned_user.ExternalUID_with_the_identity.ExternalUID_-_different_ExternalUID (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_successfully_validate_the_provisioned_user.ExternalUID_with_the_identity.ExternalUID (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_failed_to_validate_a_non_provisioned_user_when_retrieved_from_the_database (0.00s)
--- PASS: TestUserSync_ValidateUserProvisioningHook/it_should_skip_validation_if_identity_is_incomplete_because_it's_not_from_the_SAML_auth_flow (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authn/authnimpl/sync	(cached)
?   	github.com/grafana/grafana/pkg/services/authn/authntest	[no test files]
=== RUN   TestAPIKey_Authenticate
=== RUN   TestAPIKey_Authenticate/should_success_for_valid_token_that_is_not_connected_to_a_service_account
=== RUN   TestAPIKey_Authenticate/should_success_for_valid_token_that_is_connected_to_service_account
=== RUN   TestAPIKey_Authenticate/should_fail_for_expired_api_key
=== RUN   TestAPIKey_Authenticate/should_fail_for_revoked_api_key
=== RUN   TestAPIKey_Authenticate/should_fail_for_api_key_in_another_organization
--- PASS: TestAPIKey_Authenticate (0.03s)
--- PASS: TestAPIKey_Authenticate/should_success_for_valid_token_that_is_not_connected_to_a_service_account (0.01s)
--- PASS: TestAPIKey_Authenticate/should_success_for_valid_token_that_is_connected_to_service_account (0.01s)
--- PASS: TestAPIKey_Authenticate/should_fail_for_expired_api_key (0.01s)
--- PASS: TestAPIKey_Authenticate/should_fail_for_revoked_api_key (0.01s)
--- PASS: TestAPIKey_Authenticate/should_fail_for_api_key_in_another_organization (0.01s)
=== RUN   TestAPIKey_Test
=== RUN   TestAPIKey_Test/should_succeed_when_api_key_is_provided_in_Authorization_header_as_bearer_token
=== RUN   TestAPIKey_Test/should_succeed_when_api_key_is_provided_in_Authorization_header_as_basic_auth_and_api_key_as_username
=== RUN   TestAPIKey_Test/should_fail_when_no_http_request_is_passed
=== RUN   TestAPIKey_Test/should_fail_when_no_there_is_no_Authorization_header
=== RUN   TestAPIKey_Test/should_fail_when_Authorization_header_is_not_prefixed_with_Basic_or_Bearer
--- PASS: TestAPIKey_Test (0.00s)
--- PASS: TestAPIKey_Test/should_succeed_when_api_key_is_provided_in_Authorization_header_as_bearer_token (0.00s)
--- PASS: TestAPIKey_Test/should_succeed_when_api_key_is_provided_in_Authorization_header_as_basic_auth_and_api_key_as_username (0.00s)
--- PASS: TestAPIKey_Test/should_fail_when_no_http_request_is_passed (0.00s)
--- PASS: TestAPIKey_Test/should_fail_when_no_there_is_no_Authorization_header (0.00s)
--- PASS: TestAPIKey_Test/should_fail_when_Authorization_header_is_not_prefixed_with_Basic_or_Bearer (0.00s)
=== RUN   TestAPIKey_ResolveIdentity
=== RUN   TestAPIKey_ResolveIdentity/should_return_error_for_invalid_type
=== RUN   TestAPIKey_ResolveIdentity/should_return_error_when_api_key_has_expired
=== RUN   TestAPIKey_ResolveIdentity/should_return_error_when_api_key_is_revoked
=== RUN   TestAPIKey_ResolveIdentity/should_return_error_when_api_key_is_connected_to_service_account
=== RUN   TestAPIKey_ResolveIdentity/should_return_error_when_api_key_is_belongs_to_different_org
=== RUN   TestAPIKey_ResolveIdentity/should_return_valid_idenitty
--- PASS: TestAPIKey_ResolveIdentity (0.00s)
--- PASS: TestAPIKey_ResolveIdentity/should_return_error_for_invalid_type (0.00s)
--- PASS: TestAPIKey_ResolveIdentity/should_return_error_when_api_key_has_expired (0.00s)
--- PASS: TestAPIKey_ResolveIdentity/should_return_error_when_api_key_is_revoked (0.00s)
--- PASS: TestAPIKey_ResolveIdentity/should_return_error_when_api_key_is_connected_to_service_account (0.00s)
--- PASS: TestAPIKey_ResolveIdentity/should_return_error_when_api_key_is_belongs_to_different_org (0.00s)
--- PASS: TestAPIKey_ResolveIdentity/should_return_valid_idenitty (0.00s)
=== RUN   TestBasic_Authenticate
=== RUN   TestBasic_Authenticate/should_success_when_password_client_return_identity
=== RUN   TestBasic_Authenticate/should_fail_when_basic_auth_header_could_not_be_decoded
--- PASS: TestBasic_Authenticate (0.00s)
--- PASS: TestBasic_Authenticate/should_success_when_password_client_return_identity (0.00s)
--- PASS: TestBasic_Authenticate/should_fail_when_basic_auth_header_could_not_be_decoded (0.00s)
=== RUN   TestBasic_Test
=== RUN   TestBasic_Test/should_succeed_when_authorization_header_is_set_with_basic_prefix
=== RUN   TestBasic_Test/should_fail_when_no_http_request_is_passed
=== RUN   TestBasic_Test/should_fail_when_no_http_authorization_header_is_set_in_http_request
=== RUN   TestBasic_Test/should_fail_when_authorization_header_is_set_but_without_basic_prefix
--- PASS: TestBasic_Test (0.00s)
--- PASS: TestBasic_Test/should_succeed_when_authorization_header_is_set_with_basic_prefix (0.00s)
--- PASS: TestBasic_Test/should_fail_when_no_http_request_is_passed (0.00s)
--- PASS: TestBasic_Test/should_fail_when_no_http_authorization_header_is_set_in_http_request (0.00s)
--- PASS: TestBasic_Test/should_fail_when_authorization_header_is_set_but_without_basic_prefix (0.00s)
=== RUN   TestExtendedJWT_Test
=== RUN   TestExtendedJWT_Test/should_return_false_when_extended_jwt_is_disabled
=== RUN   TestExtendedJWT_Test/should_return_true_when_Authorization_header_contains_Bearer_prefix
=== RUN   TestExtendedJWT_Test/should_return_true_when_Authorization_header_only_contains_the_token
=== RUN   TestExtendedJWT_Test/should_return_false_when_Authorization_header_is_empty
=== RUN   TestExtendedJWT_Test/should_return_false_when_jwt.ParseSigned_fails
--- PASS: TestExtendedJWT_Test (0.02s)
--- PASS: TestExtendedJWT_Test/should_return_false_when_extended_jwt_is_disabled (0.00s)
--- PASS: TestExtendedJWT_Test/should_return_true_when_Authorization_header_contains_Bearer_prefix (0.01s)
--- PASS: TestExtendedJWT_Test/should_return_true_when_Authorization_header_only_contains_the_token (0.01s)
--- PASS: TestExtendedJWT_Test/should_return_false_when_Authorization_header_is_empty (0.00s)
--- PASS: TestExtendedJWT_Test/should_return_false_when_jwt.ParseSigned_fails (0.00s)
=== RUN   TestExtendedJWT_Authenticate
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_service
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_service_using_wildcard_namespace
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_user
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_user_in_the_user_namespace
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_user_using_wildcard_namespace_for_access_token,_setting_allowed_namespace_to_specific
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_service_using_specific_namespace_claim_in_access_token
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_service_using_specific_deprecated_namespace_claim_in_access_token
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_user_using_specific_deprecated_namespace_claim_in_access_and_id_tokens
=== RUN   TestExtendedJWT_Authenticate/should_authenticate_as_user_using_wildcard_namespace_for_access_token,_setting_allowed_namespace_to_specific#01
=== RUN   TestExtendedJWT_Authenticate/should_return_error_when_id_token_has_an_invalid_namespace
=== RUN   TestExtendedJWT_Authenticate/should_return_error_when_id_token_subject_is_not_tied_to_a_user
=== RUN   TestExtendedJWT_Authenticate/should_return_error_when_the_subject_is_not_an_access-policy
--- PASS: TestExtendedJWT_Authenticate (0.18s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_service (0.01s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_service_using_wildcard_namespace (0.01s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_user (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_user_in_the_user_namespace (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_user_using_wildcard_namespace_for_access_token,_setting_allowed_namespace_to_specific (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_service_using_specific_namespace_claim_in_access_token (0.01s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_service_using_specific_deprecated_namespace_claim_in_access_token (0.01s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_user_using_specific_deprecated_namespace_claim_in_access_and_id_tokens (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_authenticate_as_user_using_wildcard_namespace_for_access_token,_setting_allowed_namespace_to_specific#01 (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_return_error_when_id_token_has_an_invalid_namespace (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_return_error_when_id_token_subject_is_not_tied_to_a_user (0.02s)
--- PASS: TestExtendedJWT_Authenticate/should_return_error_when_the_subject_is_not_an_access-policy (0.01s)
=== RUN   TestVerifyRFC9068TokenFailureScenarios
=== RUN   TestVerifyRFC9068TokenFailureScenarios/missing_iss
=== RUN   TestVerifyRFC9068TokenFailureScenarios/missing_expiry
=== RUN   TestVerifyRFC9068TokenFailureScenarios/expired_token
=== RUN   TestVerifyRFC9068TokenFailureScenarios/missing_aud
=== RUN   TestVerifyRFC9068TokenFailureScenarios/wrong_aud
=== RUN   TestVerifyRFC9068TokenFailureScenarios/wrong_typ
=== RUN   TestVerifyRFC9068TokenFailureScenarios/missing_sub
=== RUN   TestVerifyRFC9068TokenFailureScenarios/missing_iat
=== RUN   TestVerifyRFC9068TokenFailureScenarios/iat_later_than_current_time
=== RUN   TestVerifyRFC9068TokenFailureScenarios/unsupported_alg
--- PASS: TestVerifyRFC9068TokenFailureScenarios (0.10s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/missing_iss (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/missing_expiry (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/expired_token (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/missing_aud (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/wrong_aud (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/wrong_typ (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/missing_sub (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/missing_iat (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/iat_later_than_current_time (0.01s)
--- PASS: TestVerifyRFC9068TokenFailureScenarios/unsupported_alg (0.01s)
=== RUN   TestForm_Authenticate
=== RUN   TestForm_Authenticate/should_success_on_valid_request
=== RUN   TestForm_Authenticate/should_return_error_for_bad_request
--- PASS: TestForm_Authenticate (0.00s)
--- PASS: TestForm_Authenticate/should_success_on_valid_request (0.00s)
--- PASS: TestForm_Authenticate/should_return_error_for_bad_request (0.00s)
=== RUN   TestGrafana_AuthenticateProxy
=== RUN   TestGrafana_AuthenticateProxy/expect_valid_identity
=== RUN   TestGrafana_AuthenticateProxy/should_set_email_as_both_email_and_login_when_configured_proxy_auth_header_property_is_email
=== RUN   TestGrafana_AuthenticateProxy/should_return_error_on_invalid_auth_proxy_header_property
--- PASS: TestGrafana_AuthenticateProxy (0.00s)
--- PASS: TestGrafana_AuthenticateProxy/expect_valid_identity (0.00s)
--- PASS: TestGrafana_AuthenticateProxy/should_set_email_as_both_email_and_login_when_configured_proxy_auth_header_property_is_email (0.00s)
--- PASS: TestGrafana_AuthenticateProxy/should_return_error_on_invalid_auth_proxy_header_property (0.00s)
=== RUN   TestGrafana_AuthenticatePassword
=== RUN   TestGrafana_AuthenticatePassword/should_successfully_authenticate_user_with_correct_password
=== RUN   TestGrafana_AuthenticatePassword/should_fail_for_incorrect_password
=== RUN   TestGrafana_AuthenticatePassword/should_fail_if_user_is_not_found
--- PASS: TestGrafana_AuthenticatePassword (0.02s)
--- PASS: TestGrafana_AuthenticatePassword/should_successfully_authenticate_user_with_correct_password (0.01s)
--- PASS: TestGrafana_AuthenticatePassword/should_fail_for_incorrect_password (0.01s)
--- PASS: TestGrafana_AuthenticatePassword/should_fail_if_user_is_not_found (0.00s)
=== RUN   TestAuthenticateJWT
=== PAUSE TestAuthenticateJWT
=== RUN   TestJWTClaimConfig
=== PAUSE TestJWTClaimConfig
=== RUN   TestJWTTest
=== PAUSE TestJWTTest
=== RUN   TestJWTStripParam
=== PAUSE TestJWTStripParam
=== RUN   TestJWTSubClaimsConfig
=== PAUSE TestJWTSubClaimsConfig
=== RUN   TestLDAP_AuthenticateProxy
=== RUN   TestLDAP_AuthenticateProxy/should_return_valid_identity_when_found_by_ldap_service
=== RUN   TestLDAP_AuthenticateProxy/should_return_error_when_user_is_not_found
=== RUN   TestLDAP_AuthenticateProxy/should_disable_user_when_user_is_not_found
--- PASS: TestLDAP_AuthenticateProxy (0.00s)
--- PASS: TestLDAP_AuthenticateProxy/should_return_valid_identity_when_found_by_ldap_service (0.00s)
--- PASS: TestLDAP_AuthenticateProxy/should_return_error_when_user_is_not_found (0.00s)
--- PASS: TestLDAP_AuthenticateProxy/should_disable_user_when_user_is_not_found (0.00s)
=== RUN   TestLDAP_AuthenticatePassword
=== RUN   TestLDAP_AuthenticatePassword/should_successfully_authenticate_with_correct_username_and_password
=== RUN   TestLDAP_AuthenticatePassword/should_fail_if_provided_password_was_incorrect
=== RUN   TestLDAP_AuthenticatePassword/should_fail_if_not_found
=== RUN   TestLDAP_AuthenticatePassword/should_disable_user_if_not_found
--- PASS: TestLDAP_AuthenticatePassword (0.00s)
--- PASS: TestLDAP_AuthenticatePassword/should_successfully_authenticate_with_correct_username_and_password (0.00s)
--- PASS: TestLDAP_AuthenticatePassword/should_fail_if_provided_password_was_incorrect (0.00s)
--- PASS: TestLDAP_AuthenticatePassword/should_fail_if_not_found (0.00s)
--- PASS: TestLDAP_AuthenticatePassword/should_disable_user_if_not_found (0.00s)
=== RUN   TestOAuth_Authenticate
=== RUN   TestOAuth_Authenticate/should_return_error_when_missing_state_cookie
=== RUN   TestOAuth_Authenticate/should_return_error_when_state_cookie_is_present_but_don't_have_a_value
=== RUN   TestOAuth_Authenticate/should_return_error_when_the_client_is_not_enabled
=== RUN   TestOAuth_Authenticate/should_return_error_when_state_from_ipd_does_not_match_stored_state
=== RUN   TestOAuth_Authenticate/should_return_error_when_pkce_is_configured_but_the_cookie_is_not_present
=== RUN   TestOAuth_Authenticate/should_return_error_when_email_is_empty
=== RUN   TestOAuth_Authenticate/should_return_error_when_email_is_not_allowed
=== RUN   TestOAuth_Authenticate/should_return_error_when_no_auth_id_is_set_and_feature_toggle_is_enabled
=== RUN   TestOAuth_Authenticate/should_return_identity_for_valid_request
=== RUN   TestOAuth_Authenticate/should_return_identity_for_valid_request_-_and_lookup_user_by_email
=== RUN   TestOAuth_Authenticate/should_return_identity_when_feature_toggle_is_enabled_and_auth_id_is_set
--- PASS: TestOAuth_Authenticate (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_missing_state_cookie (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_state_cookie_is_present_but_don't_have_a_value (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_the_client_is_not_enabled (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_state_from_ipd_does_not_match_stored_state (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_pkce_is_configured_but_the_cookie_is_not_present (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_email_is_empty (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_email_is_not_allowed (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_error_when_no_auth_id_is_set_and_feature_toggle_is_enabled (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_identity_for_valid_request (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_identity_for_valid_request_-_and_lookup_user_by_email (0.00s)
--- PASS: TestOAuth_Authenticate/should_return_identity_when_feature_toggle_is_enabled_and_auth_id_is_set (0.00s)
=== RUN   TestOAuth_RedirectURL
=== RUN   TestOAuth_RedirectURL/should_generate_redirect_url_and_state
=== RUN   TestOAuth_RedirectURL/should_generate_redirect_url_with_hosted_domain_option_if_configured
=== RUN   TestOAuth_RedirectURL/should_generate_redirect_url_with_pkce_if_configured
=== RUN   TestOAuth_RedirectURL/should_return_error_if_the_client_is_not_enabled
--- PASS: TestOAuth_RedirectURL (0.00s)
--- PASS: TestOAuth_RedirectURL/should_generate_redirect_url_and_state (0.00s)
--- PASS: TestOAuth_RedirectURL/should_generate_redirect_url_with_hosted_domain_option_if_configured (0.00s)
--- PASS: TestOAuth_RedirectURL/should_generate_redirect_url_with_pkce_if_configured (0.00s)
--- PASS: TestOAuth_RedirectURL/should_return_error_if_the_client_is_not_enabled (0.00s)
=== RUN   TestOAuth_Logout
=== RUN   TestOAuth_Logout/should_not_return_redirect_url_if_not_configured_for_client_or_globably
=== RUN   TestOAuth_Logout/should_not_return_redirect_url_when_client_is_not_enabled
=== RUN   TestOAuth_Logout/should_return_redirect_url_for_globably_configured_redirect_url
=== RUN   TestOAuth_Logout/should_return_redirect_url_for_client_configured_redirect_url
=== RUN   TestOAuth_Logout/client_specific_url_should_take_precedence
=== RUN   TestOAuth_Logout/should_add_id_token_hint_if_oicd_logout_is_configured_and_token_is_valid
--- PASS: TestOAuth_Logout (0.00s)
--- PASS: TestOAuth_Logout/should_not_return_redirect_url_if_not_configured_for_client_or_globably (0.00s)
--- PASS: TestOAuth_Logout/should_not_return_redirect_url_when_client_is_not_enabled (0.00s)
--- PASS: TestOAuth_Logout/should_return_redirect_url_for_globably_configured_redirect_url (0.00s)
--- PASS: TestOAuth_Logout/should_return_redirect_url_for_client_configured_redirect_url (0.00s)
--- PASS: TestOAuth_Logout/client_specific_url_should_take_precedence (0.00s)
--- PASS: TestOAuth_Logout/should_add_id_token_hint_if_oicd_logout_is_configured_and_token_is_valid (0.00s)
=== RUN   TestGenPKCECodeVerifier
--- PASS: TestGenPKCECodeVerifier (0.00s)
=== RUN   TestIsEnabled
=== RUN   TestIsEnabled/should_return_false_when_client_is_not_enabled
=== RUN   TestIsEnabled/should_return_false_when_client_doesnt_exists
=== RUN   TestIsEnabled/should_return_true_when_client_is_enabled
--- PASS: TestIsEnabled (0.00s)
--- PASS: TestIsEnabled/should_return_false_when_client_is_not_enabled (0.00s)
--- PASS: TestIsEnabled/should_return_false_when_client_doesnt_exists (0.00s)
--- PASS: TestIsEnabled/should_return_true_when_client_is_enabled (0.00s)
=== RUN   TestPassword_AuthenticatePassword
=== RUN   TestPassword_AuthenticatePassword/should_success_when_password_client_return_identity
=== RUN   TestPassword_AuthenticatePassword/should_success_when_found_in_second_client
=== RUN   TestPassword_AuthenticatePassword/should_fail_for_empty_password
=== RUN   TestPassword_AuthenticatePassword/should_if_login_is_blocked_by_to_many_attempts
=== RUN   TestPassword_AuthenticatePassword/should_fail_when_not_found_in_any_clients
--- PASS: TestPassword_AuthenticatePassword (0.00s)
--- PASS: TestPassword_AuthenticatePassword/should_success_when_password_client_return_identity (0.00s)
--- PASS: TestPassword_AuthenticatePassword/should_success_when_found_in_second_client (0.00s)
--- PASS: TestPassword_AuthenticatePassword/should_fail_for_empty_password (0.00s)
--- PASS: TestPassword_AuthenticatePassword/should_if_login_is_blocked_by_to_many_attempts (0.00s)
--- PASS: TestPassword_AuthenticatePassword/should_fail_when_not_found_in_any_clients (0.00s)
=== RUN   TestPasswordless_StartPasswordless
=== RUN   TestPasswordless_StartPasswordless/should_succeed_if_user_is_found
=== RUN   TestPasswordless_StartPasswordless/should_succeed_if_temp_user_is_found
=== RUN   TestPasswordless_StartPasswordless/should_fail_if_user_or_temp_user_is_not_found
--- PASS: TestPasswordless_StartPasswordless (0.01s)
--- PASS: TestPasswordless_StartPasswordless/should_succeed_if_user_is_found (0.00s)
--- PASS: TestPasswordless_StartPasswordless/should_succeed_if_temp_user_is_found (0.01s)
--- PASS: TestPasswordless_StartPasswordless/should_fail_if_user_or_temp_user_is_not_found (0.01s)
=== RUN   TestPasswordless_AuthenticatePasswordless
=== RUN   TestPasswordless_AuthenticatePasswordless/should_successfully_authenticate_user_with_correct_passwordless_magic_link
=== RUN   TestPasswordless_AuthenticatePasswordless/should_fail_if_login_is_blocked
--- PASS: TestPasswordless_AuthenticatePasswordless (0.01s)
--- PASS: TestPasswordless_AuthenticatePasswordless/should_successfully_authenticate_user_with_correct_passwordless_magic_link (0.01s)
--- PASS: TestPasswordless_AuthenticatePasswordless/should_fail_if_login_is_blocked (0.01s)
=== RUN   TestProvisioning_Test
=== PAUSE TestProvisioning_Test
=== RUN   TestProvisioning_Authenticate
=== PAUSE TestProvisioning_Authenticate
=== RUN   TestProvisioning_Assumptions
=== RUN   TestProvisioning_Assumptions/APIVERSION_constant_has_no_leading_or_trailing_slashes
--- PASS: TestProvisioning_Assumptions (0.00s)
--- PASS: TestProvisioning_Assumptions/APIVERSION_constant_has_no_leading_or_trailing_slashes (0.00s)
=== RUN   TestProxy_Authenticate
=== RUN   TestProxy_Authenticate/should_authenticate_using_passed_in_proxy_client
=== RUN   TestProxy_Authenticate/should_fail_when_proxy_header_is_empty
=== RUN   TestProxy_Authenticate/should_fail_when_caller_ip_is_not_in_accept_list
--- PASS: TestProxy_Authenticate (0.00s)
--- PASS: TestProxy_Authenticate/should_authenticate_using_passed_in_proxy_client (0.00s)
--- PASS: TestProxy_Authenticate/should_fail_when_proxy_header_is_empty (0.00s)
--- PASS: TestProxy_Authenticate/should_fail_when_caller_ip_is_not_in_accept_list (0.00s)
=== RUN   TestProxy_Test
=== RUN   TestProxy_Test/should_return_true_when_proxy_header_exists
=== RUN   TestProxy_Test/should_return_false_when_proxy_header_exists_but_has_no_value
=== RUN   TestProxy_Test/should_return_false_when_no_proxy_header_is_set_on_request
=== RUN   TestProxy_Test/should_return_false_when_no_http_request_is_present
--- PASS: TestProxy_Test (0.00s)
--- PASS: TestProxy_Test/should_return_true_when_proxy_header_exists (0.00s)
--- PASS: TestProxy_Test/should_return_false_when_proxy_header_exists_but_has_no_value (0.00s)
--- PASS: TestProxy_Test/should_return_false_when_no_proxy_header_is_set_on_request (0.00s)
--- PASS: TestProxy_Test/should_return_false_when_no_http_request_is_present (0.00s)
=== RUN   TestProxy_Hook
=== RUN   TestProxy_Hook/step_1:_new_user_with_role_Admin
=== RUN   TestProxy_Hook/step_2:_cached_user_with_new_Role_Viewer
=== RUN   TestProxy_Hook/step_3:_cached_user_get_changed_back_to_Admin
--- PASS: TestProxy_Hook (0.00s)
--- PASS: TestProxy_Hook/step_1:_new_user_with_role_Admin (0.00s)
--- PASS: TestProxy_Hook/step_2:_cached_user_with_new_Role_Viewer (0.00s)
--- PASS: TestProxy_Hook/step_3:_cached_user_get_changed_back_to_Admin (0.00s)
=== RUN   TestRender_Authenticate
=== RUN   TestRender_Authenticate/expect_valid_render_key_to_return_anonymous_user_identity_for_org_role_Viewer
=== RUN   TestRender_Authenticate/expect_valid_render_key_to_return_render_user_identity_for_org_role_Admin
=== RUN   TestRender_Authenticate/expect_valid_render_key_connected_to_user_to_return_identity
=== RUN   TestRender_Authenticate/expect_error_when_render_key_is_invalid
--- PASS: TestRender_Authenticate (0.00s)
--- PASS: TestRender_Authenticate/expect_valid_render_key_to_return_anonymous_user_identity_for_org_role_Viewer (0.00s)
--- PASS: TestRender_Authenticate/expect_valid_render_key_to_return_render_user_identity_for_org_role_Admin (0.00s)
--- PASS: TestRender_Authenticate/expect_valid_render_key_connected_to_user_to_return_identity (0.00s)
--- PASS: TestRender_Authenticate/expect_error_when_render_key_is_invalid (0.00s)
=== RUN   TestRender_Test
=== RUN   TestRender_Test/should_success_when_request_has_render_cookie_available
=== RUN   TestRender_Test/should_fail_if_no_http_request_is_passed
=== RUN   TestRender_Test/should_fail_if_no_renderKey_cookie_is_present_in_request
--- PASS: TestRender_Test (0.00s)
--- PASS: TestRender_Test/should_success_when_request_has_render_cookie_available (0.00s)
--- PASS: TestRender_Test/should_fail_if_no_http_request_is_passed (0.00s)
--- PASS: TestRender_Test/should_fail_if_no_renderKey_cookie_is_present_in_request (0.00s)
=== RUN   TestSession_Test
--- PASS: TestSession_Test (0.00s)
=== RUN   TestSession_Authenticate
=== RUN   TestSession_Authenticate/cookie_not_found
=== RUN   TestSession_Authenticate/success
=== RUN   TestSession_Authenticate/should_return_error_for_token_that_needs_rotation
=== RUN   TestSession_Authenticate/should_return_identity_for_token_that_don't_need_rotation
=== RUN   TestSession_Authenticate/should_set_authID_and_authenticated_by_for_externally_authenticated_user
=== RUN   TestSession_Authenticate/should_not_set_authID_and_authenticated_by_when_no_auth_info_exists_for_user
--- PASS: TestSession_Authenticate (0.00s)
--- PASS: TestSession_Authenticate/cookie_not_found (0.00s)
--- PASS: TestSession_Authenticate/success (0.00s)
--- PASS: TestSession_Authenticate/should_return_error_for_token_that_needs_rotation (0.00s)
--- PASS: TestSession_Authenticate/should_return_identity_for_token_that_don't_need_rotation (0.00s)
--- PASS: TestSession_Authenticate/should_set_authID_and_authenticated_by_for_externally_authenticated_user (0.00s)
--- PASS: TestSession_Authenticate/should_not_set_authID_and_authenticated_by_when_no_auth_info_exists_for_user (0.00s)
=== CONT  TestAuthenticateJWT
=== RUN   TestAuthenticateJWT/Valid_Use_case_with_group_path
=== PAUSE TestAuthenticateJWT/Valid_Use_case_with_group_path
=== RUN   TestAuthenticateJWT/Valid_Use_case_without_group_path
=== PAUSE TestAuthenticateJWT/Valid_Use_case_without_group_path
=== RUN   TestAuthenticateJWT/Valid_Use_case_with_org_mapping
=== PAUSE TestAuthenticateJWT/Valid_Use_case_with_org_mapping
=== RUN   TestAuthenticateJWT/Invalid_Use_case_with_org_mapping_and_invalid_roles
=== PAUSE TestAuthenticateJWT/Invalid_Use_case_with_org_mapping_and_invalid_roles
=== CONT  TestAuthenticateJWT/Valid_Use_case_with_group_path
=== CONT  TestProvisioning_Authenticate
--- PASS: TestProvisioning_Authenticate (0.00s)
=== CONT  TestProvisioning_Test
=== RUN   TestProvisioning_Test/Root_path_is_invalid
=== PAUSE TestProvisioning_Test/Root_path_is_invalid
=== RUN   TestProvisioning_Test/Non-provisioning_path
=== PAUSE TestProvisioning_Test/Non-provisioning_path
=== RUN   TestProvisioning_Test/Provisioning_path_that_isn't_webhook
=== PAUSE TestProvisioning_Test/Provisioning_path_that_isn't_webhook
=== RUN   TestProvisioning_Test/Webhook_path
=== PAUSE TestProvisioning_Test/Webhook_path
=== RUN   TestProvisioning_Test/Webhook_path_with_subpath
=== PAUSE TestProvisioning_Test/Webhook_path_with_subpath
=== RUN   TestProvisioning_Test/Render_image_url
=== PAUSE TestProvisioning_Test/Render_image_url
=== CONT  TestProvisioning_Test/Root_path_is_invalid
=== CONT  TestJWTSubClaimsConfig
identity.Email mainemail+extraemail02@gmail.com
--- PASS: TestJWTSubClaimsConfig (0.00s)
=== CONT  TestJWTStripParam
--- PASS: TestJWTStripParam (0.00s)
=== CONT  TestJWTTest
=== RUN   TestJWTTest/valid
=== PAUSE TestJWTTest/valid
=== RUN   TestJWTTest/not_in_the_right_header
=== PAUSE TestJWTTest/not_in_the_right_header
=== RUN   TestJWTTest/valid_format_in_Authorization
=== PAUSE TestJWTTest/valid_format_in_Authorization
=== RUN   TestJWTTest/invalid_format_in_Authorization
=== PAUSE TestJWTTest/invalid_format_in_Authorization
=== RUN   TestJWTTest/url_login_enabled
=== PAUSE TestJWTTest/url_login_enabled
=== RUN   TestJWTTest/url_login_enabled#01
=== PAUSE TestJWTTest/url_login_enabled#01
=== RUN   TestJWTTest/token_without_a_sub_claim
=== PAUSE TestJWTTest/token_without_a_sub_claim
=== RUN   TestJWTTest/token_with_an_empty_sub_claim
=== PAUSE TestJWTTest/token_with_an_empty_sub_claim
=== CONT  TestJWTTest/valid
=== CONT  TestJWTClaimConfig
=== RUN   TestJWTClaimConfig/JWT_configuration_with_email_and_username_claims
=== PAUSE TestJWTClaimConfig/JWT_configuration_with_email_and_username_claims
=== RUN   TestJWTClaimConfig/JWT_configuration_with_email_claim
=== PAUSE TestJWTClaimConfig/JWT_configuration_with_email_claim
=== RUN   TestJWTClaimConfig/JWT_configuration_with_username_claim
=== PAUSE TestJWTClaimConfig/JWT_configuration_with_username_claim
=== RUN   TestJWTClaimConfig/JWT_configuration_without_email_and_username_claims
=== PAUSE TestJWTClaimConfig/JWT_configuration_without_email_and_username_claims
=== CONT  TestJWTClaimConfig/JWT_configuration_with_email_and_username_claims
=== CONT  TestAuthenticateJWT/Invalid_Use_case_with_org_mapping_and_invalid_roles
=== CONT  TestAuthenticateJWT/Valid_Use_case_with_org_mapping
=== CONT  TestJWTTest/token_without_a_sub_claim
=== CONT  TestAuthenticateJWT/Valid_Use_case_without_group_path
=== CONT  TestProvisioning_Test/Webhook_path
--- PASS: TestAuthenticateJWT (0.00s)
--- PASS: TestAuthenticateJWT/Valid_Use_case_with_group_path (0.00s)
--- PASS: TestAuthenticateJWT/Invalid_Use_case_with_org_mapping_and_invalid_roles (0.00s)
--- PASS: TestAuthenticateJWT/Valid_Use_case_with_org_mapping (0.00s)
--- PASS: TestAuthenticateJWT/Valid_Use_case_without_group_path (0.00s)
=== CONT  TestProvisioning_Test/Provisioning_path_that_isn't_webhook
=== CONT  TestProvisioning_Test/Render_image_url
=== CONT  TestProvisioning_Test/Non-provisioning_path
=== CONT  TestProvisioning_Test/Webhook_path_with_subpath
=== CONT  TestJWTTest/token_with_an_empty_sub_claim
=== CONT  TestJWTTest/valid_format_in_Authorization
--- PASS: TestProvisioning_Test (0.00s)
--- PASS: TestProvisioning_Test/Root_path_is_invalid (0.00s)
--- PASS: TestProvisioning_Test/Webhook_path (0.00s)
--- PASS: TestProvisioning_Test/Provisioning_path_that_isn't_webhook (0.00s)
--- PASS: TestProvisioning_Test/Render_image_url (0.00s)
--- PASS: TestProvisioning_Test/Non-provisioning_path (0.00s)
--- PASS: TestProvisioning_Test/Webhook_path_with_subpath (0.00s)
=== CONT  TestJWTTest/url_login_enabled
=== CONT  TestJWTTest/invalid_format_in_Authorization
=== CONT  TestJWTTest/url_login_enabled#01
=== CONT  TestJWTClaimConfig/JWT_configuration_without_email_and_username_claims
=== CONT  TestJWTClaimConfig/JWT_configuration_with_username_claim
=== CONT  TestJWTClaimConfig/JWT_configuration_with_email_claim
=== CONT  TestJWTTest/not_in_the_right_header
--- PASS: TestJWTTest (0.00s)
--- PASS: TestJWTTest/valid (0.00s)
--- PASS: TestJWTTest/token_without_a_sub_claim (0.00s)
--- PASS: TestJWTTest/token_with_an_empty_sub_claim (0.00s)
--- PASS: TestJWTTest/valid_format_in_Authorization (0.00s)
--- PASS: TestJWTTest/url_login_enabled (0.00s)
--- PASS: TestJWTTest/invalid_format_in_Authorization (0.00s)
--- PASS: TestJWTTest/url_login_enabled#01 (0.00s)
--- PASS: TestJWTTest/not_in_the_right_header (0.00s)
--- PASS: TestJWTClaimConfig (0.00s)
--- PASS: TestJWTClaimConfig/JWT_configuration_with_email_and_username_claims (0.00s)
--- PASS: TestJWTClaimConfig/JWT_configuration_with_username_claim (0.00s)
--- PASS: TestJWTClaimConfig/JWT_configuration_without_email_and_username_claims (0.00s)
--- PASS: TestJWTClaimConfig/JWT_configuration_with_email_claim (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authn/clients	(cached)
?   	github.com/grafana/grafana/pkg/services/authn/grpcutils	[no test files]
?   	github.com/grafana/grafana/pkg/services/authz	[no test files]
?   	github.com/grafana/grafana/pkg/services/authz/proto/v1	[no test files]
=== RUN   TestService_checkPermission
=== RUN   TestService_checkPermission/should_return_true_if_user_has_permission
=== RUN   TestService_checkPermission/should_return_false_if_user_has_permission_on_a_different_resource
=== RUN   TestService_checkPermission/should_return_true_if_user_has_wildcard_permission_on_identifier
=== RUN   TestService_checkPermission/should_return_true_if_user_has_wildcard_permission_on_attribute
=== RUN   TestService_checkPermission/should_return_true_if_user_has_wildcard_permission_on_kind
=== RUN   TestService_checkPermission/should_return_true_if_no_resource_is_specified
=== RUN   TestService_checkPermission/should_return_false_if_user_has_no_permissions_on_resource
=== RUN   TestService_checkPermission/should_return_true_if_user_has_permissions_on_folder
--- PASS: TestService_checkPermission (0.00s)
--- PASS: TestService_checkPermission/should_return_true_if_user_has_permission (0.00s)
--- PASS: TestService_checkPermission/should_return_false_if_user_has_permission_on_a_different_resource (0.00s)
--- PASS: TestService_checkPermission/should_return_true_if_user_has_wildcard_permission_on_identifier (0.00s)
--- PASS: TestService_checkPermission/should_return_true_if_user_has_wildcard_permission_on_attribute (0.00s)
--- PASS: TestService_checkPermission/should_return_true_if_user_has_wildcard_permission_on_kind (0.00s)
--- PASS: TestService_checkPermission/should_return_true_if_no_resource_is_specified (0.00s)
--- PASS: TestService_checkPermission/should_return_false_if_user_has_no_permissions_on_resource (0.00s)
--- PASS: TestService_checkPermission/should_return_true_if_user_has_permissions_on_folder (0.00s)
=== RUN   TestService_getUserTeams
=== RUN   TestService_getUserTeams/should_return_teams_from_cache_if_available
=== RUN   TestService_getUserTeams/should_return_teams_from_identity_store_if_not_in_cache
=== RUN   TestService_getUserTeams/should_return_error_if_identity_store_fails
--- PASS: TestService_getUserTeams (0.00s)
--- PASS: TestService_getUserTeams/should_return_teams_from_cache_if_available (0.00s)
--- PASS: TestService_getUserTeams/should_return_teams_from_identity_store_if_not_in_cache (0.00s)
--- PASS: TestService_getUserTeams/should_return_error_if_identity_store_fails (0.00s)
=== RUN   TestService_getUserBasicRole
=== RUN   TestService_getUserBasicRole/should_return_basic_role_from_cache_if_available
=== RUN   TestService_getUserBasicRole/should_return_basic_role_from_store_if_not_in_cache
=== RUN   TestService_getUserBasicRole/should_return_error_if_store_fails
--- PASS: TestService_getUserBasicRole (0.00s)
--- PASS: TestService_getUserBasicRole/should_return_basic_role_from_cache_if_available (0.00s)
--- PASS: TestService_getUserBasicRole/should_return_basic_role_from_store_if_not_in_cache (0.00s)
--- PASS: TestService_getUserBasicRole/should_return_error_if_store_fails (0.00s)
=== RUN   TestService_getUserPermissions
=== RUN   TestService_getUserPermissions/should_return_permissions_from_store_if_not_in_cache
=== RUN   TestService_getUserPermissions/should_return_error_if_store_fails
--- PASS: TestService_getUserPermissions (0.00s)
--- PASS: TestService_getUserPermissions/should_return_permissions_from_store_if_not_in_cache (0.00s)
--- PASS: TestService_getUserPermissions/should_return_error_if_store_fails (0.00s)
=== RUN   TestService_listPermission
=== RUN   TestService_listPermission/should_return_wildcard_if_user_has_a_wildcard_permission
=== RUN   TestService_listPermission/should_return_dashboards_and_folders_that_user_has_direct_access_to
=== RUN   TestService_listPermission/should_return_folders_that_user_has_inherited_access_to
=== RUN   TestService_listPermission/should_return_folders_that_user_has_inherited_access_to_as_well_as_dashboards_that_user_has_direct_access_to
=== RUN   TestService_listPermission/should_deduplicate_folders_that_user_has_inherited_as_well_as_direct_access_to
=== RUN   TestService_listPermission/return_no_dashboards_and_folders_if_the_user_doesn't_have_access_to_any_resources
=== RUN   TestService_listPermission/should_collect_folder_permissions_into_items
--- PASS: TestService_listPermission (0.00s)
--- PASS: TestService_listPermission/should_return_wildcard_if_user_has_a_wildcard_permission (0.00s)
--- PASS: TestService_listPermission/should_return_dashboards_and_folders_that_user_has_direct_access_to (0.00s)
--- PASS: TestService_listPermission/should_return_folders_that_user_has_inherited_access_to (0.00s)
--- PASS: TestService_listPermission/should_return_folders_that_user_has_inherited_access_to_as_well_as_dashboards_that_user_has_direct_access_to (0.00s)
--- PASS: TestService_listPermission/should_deduplicate_folders_that_user_has_inherited_as_well_as_direct_access_to (0.00s)
--- PASS: TestService_listPermission/return_no_dashboards_and_folders_if_the_user_doesn't_have_access_to_any_resources (0.00s)
--- PASS: TestService_listPermission/should_collect_folder_permissions_into_items (0.00s)
=== RUN   TestService_Check
=== RUN   TestService_Check/Require_auth_info
=== RUN   TestService_Check/Request_validation
=== RUN   TestService_Check/Request_validation/should_error_if_no_namespace_is_provided
=== RUN   TestService_Check/Request_validation/should_error_if_caller_namespace_does_not_match_request_namespace
=== RUN   TestService_Check/Request_validation/should_error_if_no_subject_is_provided
=== RUN   TestService_Check/Request_validation/should_error_if_an_unsupported_subject_type_is_provided
=== RUN   TestService_Check/Request_validation/should_error_if_an_invalid_subject_is_provided
=== RUN   TestService_Check/Request_validation/should_error_if_an_unknown_group_is_provided
=== RUN   TestService_Check/Request_validation/should_error_if_an_unknown_verb_is_provided
=== RUN   TestService_Check/User_permission_check
=== RUN   TestService_Check/User_permission_check/should_allow_user_with_permission
=== RUN   TestService_Check/User_permission_check/should_deny_user_without_permission
=== RUN   TestService_Check/Anonymous_permission_check
=== RUN   TestService_Check/Anonymous_permission_check/should_allow_anonymous_with_permission
=== RUN   TestService_Check/Anonymous_permission_check/should_deny_anonymous_without_permission
=== RUN   TestService_Check/Rendering_permission_check
=== RUN   TestService_Check/Rendering_permission_check/should_allow_rendering_with_permission
=== RUN   TestService_Check/Rendering_permission_check/should_deny_rendering_access_to_another_app_resources
--- PASS: TestService_Check (0.00s)
--- PASS: TestService_Check/Require_auth_info (0.00s)
--- PASS: TestService_Check/Request_validation (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_no_namespace_is_provided (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_caller_namespace_does_not_match_request_namespace (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_no_subject_is_provided (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_an_unsupported_subject_type_is_provided (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_an_invalid_subject_is_provided (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_an_unknown_group_is_provided (0.00s)
--- PASS: TestService_Check/Request_validation/should_error_if_an_unknown_verb_is_provided (0.00s)
--- PASS: TestService_Check/User_permission_check (0.00s)
--- PASS: TestService_Check/User_permission_check/should_allow_user_with_permission (0.00s)
--- PASS: TestService_Check/User_permission_check/should_deny_user_without_permission (0.00s)
--- PASS: TestService_Check/Anonymous_permission_check (0.00s)
--- PASS: TestService_Check/Anonymous_permission_check/should_allow_anonymous_with_permission (0.00s)
--- PASS: TestService_Check/Anonymous_permission_check/should_deny_anonymous_without_permission (0.00s)
--- PASS: TestService_Check/Rendering_permission_check (0.00s)
--- PASS: TestService_Check/Rendering_permission_check/should_allow_rendering_with_permission (0.00s)
--- PASS: TestService_Check/Rendering_permission_check/should_deny_rendering_access_to_another_app_resources (0.00s)
=== RUN   TestService_CacheCheck
=== RUN   TestService_CacheCheck/Allow_based_on_cached_permissions
=== RUN   TestService_CacheCheck/Fallback_to_the_database_on_cache_miss
=== RUN   TestService_CacheCheck/Fallback_to_the_database_on_outdated_cache
=== RUN   TestService_CacheCheck/Should_deny_on_explicit_cache_deny_entry
--- PASS: TestService_CacheCheck (0.00s)
--- PASS: TestService_CacheCheck/Allow_based_on_cached_permissions (0.00s)
--- PASS: TestService_CacheCheck/Fallback_to_the_database_on_cache_miss (0.00s)
--- PASS: TestService_CacheCheck/Fallback_to_the_database_on_outdated_cache (0.00s)
--- PASS: TestService_CacheCheck/Should_deny_on_explicit_cache_deny_entry (0.00s)
=== RUN   TestService_List
=== RUN   TestService_List/Require_auth_info
=== RUN   TestService_List/Request_validation
=== RUN   TestService_List/Request_validation/should_error_if_no_namespace_is_provided
=== RUN   TestService_List/Request_validation/should_error_if_caller_namespace_does_not_match_request_namespace
=== RUN   TestService_List/Request_validation/should_error_if_no_subject_is_provided
=== RUN   TestService_List/Request_validation/should_error_if_an_unsupported_subject_type_is_provided
=== RUN   TestService_List/Request_validation/should_error_if_an_invalid_subject_is_provided
=== RUN   TestService_List/Request_validation/should_error_if_an_unknown_group_is_provided
=== RUN   TestService_List/Request_validation/should_error_if_an_unknown_verb_is_provided
=== RUN   TestService_List/User_permission_list
=== RUN   TestService_List/User_permission_list/should_list_permissions_for_user_with_permission
=== RUN   TestService_List/User_permission_list/should_return_empty_list_for_user_without_permission
=== RUN   TestService_List/Anonymous_permission_list
=== RUN   TestService_List/Anonymous_permission_list/should_list_permissions_for_anonymous_with_permission
=== RUN   TestService_List/Anonymous_permission_list/should_return_empty_list_for_anonymous_without_permission
=== RUN   TestService_List/Rendering_permission_list
=== RUN   TestService_List/Rendering_permission_list/should_list_permissions_for_rendering
=== RUN   TestService_List/Rendering_permission_list/should_deny_rendering_access_to_another_app_resources
--- PASS: TestService_List (0.00s)
--- PASS: TestService_List/Require_auth_info (0.00s)
--- PASS: TestService_List/Request_validation (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_no_namespace_is_provided (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_caller_namespace_does_not_match_request_namespace (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_no_subject_is_provided (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_an_unsupported_subject_type_is_provided (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_an_invalid_subject_is_provided (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_an_unknown_group_is_provided (0.00s)
--- PASS: TestService_List/Request_validation/should_error_if_an_unknown_verb_is_provided (0.00s)
--- PASS: TestService_List/User_permission_list (0.00s)
--- PASS: TestService_List/User_permission_list/should_list_permissions_for_user_with_permission (0.00s)
--- PASS: TestService_List/User_permission_list/should_return_empty_list_for_user_without_permission (0.00s)
--- PASS: TestService_List/Anonymous_permission_list (0.00s)
--- PASS: TestService_List/Anonymous_permission_list/should_list_permissions_for_anonymous_with_permission (0.00s)
--- PASS: TestService_List/Anonymous_permission_list/should_return_empty_list_for_anonymous_without_permission (0.00s)
--- PASS: TestService_List/Rendering_permission_list (0.00s)
--- PASS: TestService_List/Rendering_permission_list/should_list_permissions_for_rendering (0.00s)
--- PASS: TestService_List/Rendering_permission_list/should_deny_rendering_access_to_another_app_resources (0.00s)
=== RUN   TestService_getAnonymousPermissions
=== RUN   TestService_getAnonymousPermissions/should_return_permissions_from_store_if_not_in_cache
=== RUN   TestService_getAnonymousPermissions/should_return_error_if_store_fails
=== RUN   TestService_getAnonymousPermissions/should_handle_wildcard_permissions
=== RUN   TestService_getAnonymousPermissions/should_use_custom_anonymous_role_when_specified
--- PASS: TestService_getAnonymousPermissions (0.00s)
--- PASS: TestService_getAnonymousPermissions/should_return_permissions_from_store_if_not_in_cache (0.00s)
--- PASS: TestService_getAnonymousPermissions/should_return_error_if_store_fails (0.00s)
--- PASS: TestService_getAnonymousPermissions/should_handle_wildcard_permissions (0.00s)
--- PASS: TestService_getAnonymousPermissions/should_use_custom_anonymous_role_when_specified (0.00s)
=== RUN   TestService_CacheList
=== RUN   TestService_CacheList/List_based_on_cached_permissions
--- PASS: TestService_CacheList (0.00s)
--- PASS: TestService_CacheList/List_based_on_cached_permissions (0.00s)
=== RUN   Test_Tree
=== RUN   Test_Tree/should_iterate_all_children_of_folder_1
=== RUN   Test_Tree/should_iterate_all_children_of_folder_2
=== RUN   Test_Tree/should_iterate_all_children_of_folder_111
=== RUN   Test_Tree/should_iterate_all_children_of_folder_1111
=== RUN   Test_Tree/should_iterate_all_acestors_of_folder_1111
=== RUN   Test_Tree/should_iterate_all_acestors_of_folder_11
=== RUN   Test_Tree/should_iterate_all_acestors_of_folder_222
--- PASS: Test_Tree (0.00s)
--- PASS: Test_Tree/should_iterate_all_children_of_folder_1 (0.00s)
--- PASS: Test_Tree/should_iterate_all_children_of_folder_2 (0.00s)
--- PASS: Test_Tree/should_iterate_all_children_of_folder_111 (0.00s)
--- PASS: Test_Tree/should_iterate_all_children_of_folder_1111 (0.00s)
--- PASS: Test_Tree/should_iterate_all_acestors_of_folder_1111 (0.00s)
--- PASS: Test_Tree/should_iterate_all_acestors_of_folder_11 (0.00s)
--- PASS: Test_Tree/should_iterate_all_acestors_of_folder_222 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authz/rbac	(cached)
=== RUN   TestIdentityQueries
=== PAUSE TestIdentityQueries
=== CONT  TestIdentityQueries
=== RUN   TestIdentityQueries/permission_query.sql
=== PAUSE TestIdentityQueries/permission_query.sql
=== RUN   TestIdentityQueries/folder_query.sql
=== PAUSE TestIdentityQueries/folder_query.sql
=== RUN   TestIdentityQueries/user_identifier_query.sql
=== PAUSE TestIdentityQueries/user_identifier_query.sql
=== RUN   TestIdentityQueries/basic_role_query.sql
=== PAUSE TestIdentityQueries/basic_role_query.sql
=== CONT  TestIdentityQueries/permission_query.sql
=== RUN   TestIdentityQueries/permission_query.sql/viewer_user
=== PAUSE TestIdentityQueries/permission_query.sql/viewer_user
=== CONT  TestIdentityQueries/basic_role_query.sql
=== RUN   TestIdentityQueries/basic_role_query.sql/basic_roles
=== PAUSE TestIdentityQueries/basic_role_query.sql/basic_roles
=== CONT  TestIdentityQueries/basic_role_query.sql/basic_roles
=== CONT  TestIdentityQueries/user_identifier_query.sql
=== RUN   TestIdentityQueries/basic_role_query.sql/basic_roles/mysql
=== RUN   TestIdentityQueries/user_identifier_query.sql/id_specified
=== PAUSE TestIdentityQueries/user_identifier_query.sql/id_specified
=== CONT  TestIdentityQueries/folder_query.sql
=== RUN   TestIdentityQueries/user_identifier_query.sql/uid_specified
=== RUN   TestIdentityQueries/folder_query.sql/folder_query
=== PAUSE TestIdentityQueries/user_identifier_query.sql/uid_specified
=== CONT  TestIdentityQueries/user_identifier_query.sql/id_specified
=== RUN   TestIdentityQueries/user_identifier_query.sql/id_specified/mysql
=== PAUSE TestIdentityQueries/folder_query.sql/folder_query
=== CONT  TestIdentityQueries/folder_query.sql/folder_query
=== RUN   TestIdentityQueries/permission_query.sql/admin_user
=== PAUSE TestIdentityQueries/permission_query.sql/admin_user
=== RUN   TestIdentityQueries/permission_query.sql/user_with_teams
=== PAUSE TestIdentityQueries/permission_query.sql/user_with_teams
=== RUN   TestIdentityQueries/permission_query.sql/anonymous_user
=== PAUSE TestIdentityQueries/permission_query.sql/anonymous_user
=== RUN   TestIdentityQueries/folder_query.sql/folder_query/mysql
=== CONT  TestIdentityQueries/user_identifier_query.sql/uid_specified
=== RUN   TestIdentityQueries/user_identifier_query.sql/uid_specified/mysql
=== RUN   TestIdentityQueries/permission_query.sql/With_action_sets
=== PAUSE TestIdentityQueries/permission_query.sql/With_action_sets
=== CONT  TestIdentityQueries/permission_query.sql/viewer_user
=== CONT  TestIdentityQueries/permission_query.sql/anonymous_user
=== CONT  TestIdentityQueries/permission_query.sql/user_with_teams
=== RUN   TestIdentityQueries/permission_query.sql/user_with_teams/mysql
=== RUN   TestIdentityQueries/permission_query.sql/anonymous_user/mysql
=== CONT  TestIdentityQueries/permission_query.sql/With_action_sets
=== RUN   TestIdentityQueries/permission_query.sql/With_action_sets/mysql
=== RUN   TestIdentityQueries/basic_role_query.sql/basic_roles/sqlite
=== RUN   TestIdentityQueries/user_identifier_query.sql/id_specified/sqlite
=== RUN   TestIdentityQueries/folder_query.sql/folder_query/sqlite
=== RUN   TestIdentityQueries/permission_query.sql/viewer_user/mysql
=== RUN   TestIdentityQueries/permission_query.sql/anonymous_user/sqlite
=== RUN   TestIdentityQueries/user_identifier_query.sql/uid_specified/sqlite
=== RUN   TestIdentityQueries/basic_role_query.sql/basic_roles/postgres
=== RUN   TestIdentityQueries/user_identifier_query.sql/id_specified/postgres
=== RUN   TestIdentityQueries/permission_query.sql/With_action_sets/sqlite
=== RUN   TestIdentityQueries/permission_query.sql/viewer_user/sqlite
=== RUN   TestIdentityQueries/permission_query.sql/user_with_teams/sqlite
=== RUN   TestIdentityQueries/permission_query.sql/anonymous_user/postgres
=== RUN   TestIdentityQueries/user_identifier_query.sql/uid_specified/postgres
=== CONT  TestIdentityQueries/permission_query.sql/admin_user
=== RUN   TestIdentityQueries/permission_query.sql/admin_user/mysql
=== RUN   TestIdentityQueries/folder_query.sql/folder_query/postgres
=== RUN   TestIdentityQueries/permission_query.sql/viewer_user/postgres
=== RUN   TestIdentityQueries/permission_query.sql/With_action_sets/postgres
=== RUN   TestIdentityQueries/permission_query.sql/user_with_teams/postgres
=== RUN   TestIdentityQueries/permission_query.sql/admin_user/sqlite
=== RUN   TestIdentityQueries/permission_query.sql/admin_user/postgres
--- PASS: TestIdentityQueries (0.00s)
--- PASS: TestIdentityQueries/basic_role_query.sql (0.00s)
--- PASS: TestIdentityQueries/basic_role_query.sql/basic_roles (0.00s)
--- PASS: TestIdentityQueries/basic_role_query.sql/basic_roles/mysql (0.00s)
--- PASS: TestIdentityQueries/basic_role_query.sql/basic_roles/sqlite (0.00s)
--- PASS: TestIdentityQueries/basic_role_query.sql/basic_roles/postgres (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/id_specified (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/id_specified/mysql (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/id_specified/sqlite (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/id_specified/postgres (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/uid_specified (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/uid_specified/mysql (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/uid_specified/sqlite (0.00s)
--- PASS: TestIdentityQueries/user_identifier_query.sql/uid_specified/postgres (0.00s)
--- PASS: TestIdentityQueries/folder_query.sql (0.00s)
--- PASS: TestIdentityQueries/folder_query.sql/folder_query (0.00s)
--- PASS: TestIdentityQueries/folder_query.sql/folder_query/mysql (0.00s)
--- PASS: TestIdentityQueries/folder_query.sql/folder_query/sqlite (0.00s)
--- PASS: TestIdentityQueries/folder_query.sql/folder_query/postgres (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/anonymous_user (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/anonymous_user/mysql (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/anonymous_user/sqlite (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/anonymous_user/postgres (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/viewer_user (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/viewer_user/mysql (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/viewer_user/sqlite (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/viewer_user/postgres (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/With_action_sets (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/With_action_sets/mysql (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/With_action_sets/sqlite (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/With_action_sets/postgres (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/user_with_teams (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/user_with_teams/mysql (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/user_with_teams/sqlite (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/user_with_teams/postgres (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/admin_user (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/admin_user/mysql (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/admin_user/sqlite (0.00s)
--- PASS: TestIdentityQueries/permission_query.sql/admin_user/postgres (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authz/rbac/store	0.385s
?   	github.com/grafana/grafana/pkg/services/authz/zanzana	[no test files]
?   	github.com/grafana/grafana/pkg/services/authz/zanzana/client	[no test files]
?   	github.com/grafana/grafana/pkg/services/authz/zanzana/common	[no test files]
?   	github.com/grafana/grafana/pkg/services/authz/zanzana/logger	[no test files]
=== RUN   TestEqualModels
=== RUN   TestEqualModels/should_be_equal
=== RUN   TestEqualModels/should_not_be_equal
--- PASS: TestEqualModels (0.00s)
--- PASS: TestEqualModels/should_be_equal (0.00s)
--- PASS: TestEqualModels/should_not_be_equal (0.00s)
=== RUN   TestModulesEqualModels
=== RUN   TestModulesEqualModels/should_be_equal
=== RUN   TestModulesEqualModels/should_not_be_equal
--- PASS: TestModulesEqualModels (0.00s)
--- PASS: TestModulesEqualModels/should_be_equal (0.00s)
--- PASS: TestModulesEqualModels/should_not_be_equal (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authz/zanzana/schema	(cached)
=== RUN   TestIntegrationServer
server_test.go:50: skipping integration test
--- SKIP: TestIntegrationServer (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/authz/zanzana/server	(cached)
?   	github.com/grafana/grafana/pkg/services/authz/zanzana/store	[no test files]
?   	github.com/grafana/grafana/pkg/services/authz/zanzana/store/migration	[no test files]
?   	github.com/grafana/grafana/pkg/services/caching	[no test files]
=== RUN   TestCleanUpTmpFiles
=== RUN   TestCleanUpTmpFiles/Should_not_cleanup_recent_files
=== RUN   TestCleanUpTmpFiles/Should_cleanup_older_files
=== RUN   TestCleanUpTmpFiles/After_increasing_temporary_files_lifetime,_older_files_should_be_kept
=== RUN   TestCleanUpTmpFiles/If_lifetime_is_0,_files_should_never_be_cleaned_up
--- PASS: TestCleanUpTmpFiles (0.00s)
--- PASS: TestCleanUpTmpFiles/Should_not_cleanup_recent_files (0.00s)
--- PASS: TestCleanUpTmpFiles/Should_cleanup_older_files (0.00s)
--- PASS: TestCleanUpTmpFiles/After_increasing_temporary_files_lifetime,_older_files_should_be_kept (0.00s)
--- PASS: TestCleanUpTmpFiles/If_lifetime_is_0,_files_should_never_be_cleaned_up (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/cleanup	(cached)
=== RUN   TestResourceDependencyParse
=== RUN   TestResourceDependencyParse/empty_input_returns_an_empty_set
=== RUN   TestResourceDependencyParse/input_with_duplicates_returns_an_error
=== RUN   TestResourceDependencyParse/unknown_resource_type_returns_an_error
=== RUN   TestResourceDependencyParse/PluginDataType_has_no_dependencies
=== RUN   TestResourceDependencyParse/FolderDataType_has_no_dependencies
=== RUN   TestResourceDependencyParse/DatasourceDataType_requires_PluginDataType
=== RUN   TestResourceDependencyParse/DatasourceDataType_requires_PluginDataType/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/DatasourceDataType_requires_PluginDataType/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/LibraryElementDataType_requires_FolderDataType
=== RUN   TestResourceDependencyParse/LibraryElementDataType_requires_FolderDataType/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/LibraryElementDataType_requires_FolderDataType/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/DashboardDataType_requires_multiple_dependencies
=== RUN   TestResourceDependencyParse/DashboardDataType_requires_multiple_dependencies/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/DashboardDataType_requires_multiple_dependencies/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/MuteTimingType_has_no_dependencies
=== RUN   TestResourceDependencyParse/NotificationTemplateType_has_no_dependencies
=== RUN   TestResourceDependencyParse/ContactPointType_requires_NotificationTemplateType
=== RUN   TestResourceDependencyParse/ContactPointType_requires_NotificationTemplateType/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/ContactPointType_requires_NotificationTemplateType/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/NotificationPolicyType_requires_multiple_dependencies
=== RUN   TestResourceDependencyParse/NotificationPolicyType_requires_multiple_dependencies/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/NotificationPolicyType_requires_multiple_dependencies/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/AlertRuleType_requires_multiple_dependencies
=== RUN   TestResourceDependencyParse/AlertRuleType_requires_multiple_dependencies/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/AlertRuleType_requires_multiple_dependencies/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/AlertRuleGroupType_requires_AlertRuleType_and_all_its_dependencies
=== RUN   TestResourceDependencyParse/AlertRuleGroupType_requires_AlertRuleType_and_all_its_dependencies/when_the_dependency_is_missing_returns_an_error
=== RUN   TestResourceDependencyParse/AlertRuleGroupType_requires_AlertRuleType_and_all_its_dependencies/when_the_dependency_is_present_returns_the_correct_set
=== RUN   TestResourceDependencyParse/multiple_resources_with_shared_dependencies
=== RUN   TestResourceDependencyParse/multiple_resources_with_shared_dependencies/resources_with_no_dependencies
=== RUN   TestResourceDependencyParse/multiple_resources_with_shared_dependencies/overlapping_dependencies
=== RUN   TestResourceDependencyParse/multiple_resources_with_shared_dependencies/missing_shared_dependency_fails
--- PASS: TestResourceDependencyParse (0.00s)
--- PASS: TestResourceDependencyParse/empty_input_returns_an_empty_set (0.00s)
--- PASS: TestResourceDependencyParse/input_with_duplicates_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/unknown_resource_type_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/PluginDataType_has_no_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/FolderDataType_has_no_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/DatasourceDataType_requires_PluginDataType (0.00s)
--- PASS: TestResourceDependencyParse/DatasourceDataType_requires_PluginDataType/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/DatasourceDataType_requires_PluginDataType/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/LibraryElementDataType_requires_FolderDataType (0.00s)
--- PASS: TestResourceDependencyParse/LibraryElementDataType_requires_FolderDataType/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/LibraryElementDataType_requires_FolderDataType/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/DashboardDataType_requires_multiple_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/DashboardDataType_requires_multiple_dependencies/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/DashboardDataType_requires_multiple_dependencies/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/MuteTimingType_has_no_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/NotificationTemplateType_has_no_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/ContactPointType_requires_NotificationTemplateType (0.00s)
--- PASS: TestResourceDependencyParse/ContactPointType_requires_NotificationTemplateType/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/ContactPointType_requires_NotificationTemplateType/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/NotificationPolicyType_requires_multiple_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/NotificationPolicyType_requires_multiple_dependencies/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/NotificationPolicyType_requires_multiple_dependencies/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/AlertRuleType_requires_multiple_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/AlertRuleType_requires_multiple_dependencies/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/AlertRuleType_requires_multiple_dependencies/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/AlertRuleGroupType_requires_AlertRuleType_and_all_its_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/AlertRuleGroupType_requires_AlertRuleType_and_all_its_dependencies/when_the_dependency_is_missing_returns_an_error (0.00s)
--- PASS: TestResourceDependencyParse/AlertRuleGroupType_requires_AlertRuleType_and_all_its_dependencies/when_the_dependency_is_present_returns_the_correct_set (0.00s)
--- PASS: TestResourceDependencyParse/multiple_resources_with_shared_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/multiple_resources_with_shared_dependencies/resources_with_no_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/multiple_resources_with_shared_dependencies/overlapping_dependencies (0.00s)
--- PASS: TestResourceDependencyParse/multiple_resources_with_shared_dependencies/missing_shared_dependency_fails (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/cloudmigration	(cached)
=== RUN   TestCloudMigrationAPI_GetToken
=== RUN   TestCloudMigrationAPI_GetToken/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetToken/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetToken/returns_500_if_service_returns_an_error
--- PASS: TestCloudMigrationAPI_GetToken (0.00s)
--- PASS: TestCloudMigrationAPI_GetToken/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetToken/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetToken/returns_500_if_service_returns_an_error (0.00s)
=== RUN   TestCloudMigrationAPI_CreateToken
=== RUN   TestCloudMigrationAPI_CreateToken/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_CreateToken/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_CreateToken/returns_500_if_service_returns_an_error
--- PASS: TestCloudMigrationAPI_CreateToken (0.00s)
--- PASS: TestCloudMigrationAPI_CreateToken/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CreateToken/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CreateToken/returns_500_if_service_returns_an_error (0.00s)
=== RUN   TestCloudMigrationAPI_DeleteToken
=== RUN   TestCloudMigrationAPI_DeleteToken/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_DeleteToken/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_DeleteToken/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_DeleteToken/returns_400_if_uid_is_invalid
--- PASS: TestCloudMigrationAPI_DeleteToken (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteToken/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteToken/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteToken/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteToken/returns_400_if_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_GetMigration
=== RUN   TestCloudMigrationAPI_GetMigration/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetMigration/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetMigration/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_GetMigration/returns_400_if_uid_is_invalid
--- PASS: TestCloudMigrationAPI_GetMigration (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigration/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigration/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigration/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigration/returns_400_if_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_GetMigrationList
=== RUN   TestCloudMigrationAPI_GetMigrationList/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetMigrationList/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetMigrationList/returns_500_if_service_returns_an_error
--- PASS: TestCloudMigrationAPI_GetMigrationList (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigrationList/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigrationList/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetMigrationList/returns_500_if_service_returns_an_error (0.00s)
=== RUN   TestCloudMigrationAPI_CreateMigration
=== RUN   TestCloudMigrationAPI_CreateMigration/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_CreateMigration/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_CreateMigration/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_CreateMigration/returns_400_if_body_is_not_a_valid_json
--- PASS: TestCloudMigrationAPI_CreateMigration (0.00s)
--- PASS: TestCloudMigrationAPI_CreateMigration/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CreateMigration/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CreateMigration/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_CreateMigration/returns_400_if_body_is_not_a_valid_json (0.00s)
=== RUN   TestCloudMigrationAPI_DeleteMigration
=== RUN   TestCloudMigrationAPI_DeleteMigration/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_DeleteMigration/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_DeleteMigration/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_DeleteMigration/returns_400_if_uid_is_invalid
--- PASS: TestCloudMigrationAPI_DeleteMigration (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteMigration/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteMigration/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteMigration/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_DeleteMigration/returns_400_if_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_CreateSnapshot
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_400_if_resource_types_are_not_provided
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_400_if_request_body_is_not_a_valid_json
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_400_if_resource_types_are_invalid
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_CreateSnapshot/returns_400_if_uid_is_invalid
--- PASS: TestCloudMigrationAPI_CreateSnapshot (0.01s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_400_if_resource_types_are_not_provided (0.00s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_400_if_request_body_is_not_a_valid_json (0.00s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_400_if_resource_types_are_invalid (0.00s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_CreateSnapshot/returns_400_if_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_GetSnapshot
=== RUN   TestCloudMigrationAPI_GetSnapshot/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetSnapshot/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_GetSnapshot/returns_400_if_uid_is_invalid
=== RUN   TestCloudMigrationAPI_GetSnapshot/returns_400_if_snapshot_uid_is_invalid
--- PASS: TestCloudMigrationAPI_GetSnapshot (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshot/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshot/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshot/returns_400_if_uid_is_invalid (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshot/returns_400_if_snapshot_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_GetSnapshotList
=== RUN   TestCloudMigrationAPI_GetSnapshotList/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetSnapshotList/with_limit_query_param_returns_200_if_everything_is_ok
=== RUN   TestCloudMigrationAPI_GetSnapshotList/with_sort_query_param_returns_200_if_everything_is_ok
=== RUN   TestCloudMigrationAPI_GetSnapshotList/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetSnapshotList/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_GetSnapshotList/returns_400_if_uid_is_invalid
--- PASS: TestCloudMigrationAPI_GetSnapshotList (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshotList/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshotList/with_limit_query_param_returns_200_if_everything_is_ok (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshotList/with_sort_query_param_returns_200_if_everything_is_ok (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshotList/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshotList/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_GetSnapshotList/returns_400_if_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_UploadSnapshot
=== RUN   TestCloudMigrationAPI_UploadSnapshot/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_UploadSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_UploadSnapshot/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_UploadSnapshot/returns_400_if_uid_is_invalid
=== RUN   TestCloudMigrationAPI_UploadSnapshot/returns_400_if_snapshot_uid_is_invalid
--- PASS: TestCloudMigrationAPI_UploadSnapshot (0.01s)
--- PASS: TestCloudMigrationAPI_UploadSnapshot/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_UploadSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_UploadSnapshot/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_UploadSnapshot/returns_400_if_uid_is_invalid (0.00s)
--- PASS: TestCloudMigrationAPI_UploadSnapshot/returns_400_if_snapshot_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_CancelSnapshot
=== RUN   TestCloudMigrationAPI_CancelSnapshot/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_CancelSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions
=== RUN   TestCloudMigrationAPI_CancelSnapshot/returns_500_if_service_returns_an_error
=== RUN   TestCloudMigrationAPI_CancelSnapshot/returns_400_if_uid_is_invalid
=== RUN   TestCloudMigrationAPI_CancelSnapshot/returns_400_if_snapshot_uid_is_invalid
--- PASS: TestCloudMigrationAPI_CancelSnapshot (0.00s)
--- PASS: TestCloudMigrationAPI_CancelSnapshot/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CancelSnapshot/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_CancelSnapshot/returns_500_if_service_returns_an_error (0.00s)
--- PASS: TestCloudMigrationAPI_CancelSnapshot/returns_400_if_uid_is_invalid (0.00s)
--- PASS: TestCloudMigrationAPI_CancelSnapshot/returns_400_if_snapshot_uid_is_invalid (0.00s)
=== RUN   TestCloudMigrationAPI_GetResourceDependencies
=== RUN   TestCloudMigrationAPI_GetResourceDependencies/returns_200_if_the_user_has_the_right_permissions
=== RUN   TestCloudMigrationAPI_GetResourceDependencies/returns_403_if_the_user_does_not_have_the_right_permissions
--- PASS: TestCloudMigrationAPI_GetResourceDependencies (0.00s)
--- PASS: TestCloudMigrationAPI_GetResourceDependencies/returns_200_if_the_user_has_the_right_permissions (0.00s)
--- PASS: TestCloudMigrationAPI_GetResourceDependencies/returns_403_if_the_user_does_not_have_the_right_permissions (0.00s)
=== RUN   TestGetQueryPageParams
=== RUN   TestGetQueryPageParams/returns_default_when_page_is_0
=== RUN   TestGetQueryPageParams/returns_default_when_page_is_negative
=== RUN   TestGetQueryPageParams/returns_default_when_page_exceeds_max
=== RUN   TestGetQueryPageParams/returns_page_when_within_valid_range
--- PASS: TestGetQueryPageParams (0.00s)
--- PASS: TestGetQueryPageParams/returns_default_when_page_is_0 (0.00s)
--- PASS: TestGetQueryPageParams/returns_default_when_page_is_negative (0.00s)
--- PASS: TestGetQueryPageParams/returns_default_when_page_exceeds_max (0.00s)
--- PASS: TestGetQueryPageParams/returns_page_when_within_valid_range (0.00s)
=== RUN   TestGetQueryCol
=== RUN   TestGetQueryCol/returns_id_column
=== RUN   TestGetQueryCol/returns_name_column
=== RUN   TestGetQueryCol/returns_type_column
=== RUN   TestGetQueryCol/returns_status_column
=== RUN   TestGetQueryCol/returns_default_for_unknown_column
=== RUN   TestGetQueryCol/case_insensitive_column_matching
--- PASS: TestGetQueryCol (0.00s)
--- PASS: TestGetQueryCol/returns_id_column (0.00s)
--- PASS: TestGetQueryCol/returns_name_column (0.00s)
--- PASS: TestGetQueryCol/returns_type_column (0.00s)
--- PASS: TestGetQueryCol/returns_status_column (0.00s)
--- PASS: TestGetQueryCol/returns_default_for_unknown_column (0.00s)
--- PASS: TestGetQueryCol/case_insensitive_column_matching (0.00s)
=== RUN   TestGetQueryOrder
=== RUN   TestGetQueryOrder/returns_ASC_order
=== RUN   TestGetQueryOrder/returns_DESC_order
=== RUN   TestGetQueryOrder/returns_default_for_unknown_order
=== RUN   TestGetQueryOrder/case_insensitive_order_matching
--- PASS: TestGetQueryOrder (0.00s)
--- PASS: TestGetQueryOrder/returns_ASC_order (0.00s)
--- PASS: TestGetQueryOrder/returns_DESC_order (0.00s)
--- PASS: TestGetQueryOrder/returns_default_for_unknown_order (0.00s)
--- PASS: TestGetQueryOrder/case_insensitive_order_matching (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/cloudmigration/api	(cached)
=== RUN   Test_NoopServiceDoesNothing
=== PAUSE Test_NoopServiceDoesNothing
=== RUN   Test_CreateGetAndDeleteToken
=== PAUSE Test_CreateGetAndDeleteToken
=== RUN   Test_GetSnapshotStatusFromGMS
=== PAUSE Test_GetSnapshotStatusFromGMS
=== RUN   Test_OnlyQueriesStatusFromGMSWhenRequired
=== PAUSE Test_OnlyQueriesStatusFromGMSWhenRequired
=== RUN   Test_SortFolders
--- PASS: Test_SortFolders (0.00s)
=== RUN   TestDeleteSession
=== PAUSE TestDeleteSession
=== RUN   TestReportEvent
=== PAUSE TestReportEvent
=== RUN   TestGetFolderNamesForFolderUIDs
=== PAUSE TestGetFolderNamesForFolderUIDs
=== RUN   TestGetParentNames
=== PAUSE TestGetParentNames
=== RUN   TestGetLibraryElementsCommands
=== PAUSE TestGetLibraryElementsCommands
=== RUN   TestIsPublicSignatureType
--- PASS: TestIsPublicSignatureType (0.00s)
=== RUN   TestGetPlugins
=== PAUSE TestGetPlugins
=== RUN   TestGetAlertMuteTimings
=== PAUSE TestGetAlertMuteTimings
=== RUN   TestGetNotificationTemplates
=== PAUSE TestGetNotificationTemplates
=== RUN   TestGetContactPoints
=== PAUSE TestGetContactPoints
=== RUN   TestGetNotificationPolicies
=== PAUSE TestGetNotificationPolicies
=== RUN   TestGetAlertRules
=== PAUSE TestGetAlertRules
=== RUN   TestGetAlertRuleGroups
=== PAUSE TestGetAlertRuleGroups
=== RUN   Test_GetAllCloudMigrationSessions
=== PAUSE Test_GetAllCloudMigrationSessions
=== RUN   Test_CreateMigrationSession
=== PAUSE Test_CreateMigrationSession
=== RUN   Test_GetMigrationSessionByUID
=== PAUSE Test_GetMigrationSessionByUID
=== RUN   Test_SnapshotManagement
=== PAUSE Test_SnapshotManagement
=== RUN   Test_SnapshotResources
=== PAUSE Test_SnapshotResources
=== RUN   Test_SnapshotResourceCaseInsensitiveSorting
=== PAUSE Test_SnapshotResourceCaseInsensitiveSorting
=== RUN   TestGetSnapshotList
=== PAUSE TestGetSnapshotList
=== RUN   TestDecryptToken
=== PAUSE TestDecryptToken
=== CONT  Test_NoopServiceDoesNothing
--- PASS: Test_NoopServiceDoesNothing (0.00s)
=== CONT  TestGetNotificationTemplates
=== CONT  TestGetContactPoints
=== RUN   TestGetNotificationTemplates/it_returns_the_notification_templates
=== PAUSE TestGetNotificationTemplates/it_returns_the_notification_templates
=== RUN   TestGetContactPoints/it_returns_the_contact_points
=== CONT  Test_GetMigrationSessionByUID
=== PAUSE TestGetContactPoints/it_returns_the_contact_points
=== CONT  TestGetAlertRuleGroups
=== RUN   TestGetAlertRuleGroups/it_returns_the_alert_rule_groups
=== PAUSE TestGetAlertRuleGroups/it_returns_the_alert_rule_groups
=== RUN   TestGetAlertRuleGroups/with_the_alert_rules_state_set_to_paused,_it_returns_the_alert_rule_groups_with_alert_rules_paused
=== PAUSE TestGetAlertRuleGroups/with_the_alert_rules_state_set_to_paused,_it_returns_the_alert_rule_groups_with_alert_rules_paused
=== CONT  TestGetAlertMuteTimings
=== RUN   TestGetAlertMuteTimings/it_returns_the_mute_timings
=== PAUSE TestGetAlertMuteTimings/it_returns_the_mute_timings
=== CONT  TestDecryptToken
=== CONT  Test_CreateMigrationSession
=== CONT  TestGetSnapshotList
=== CONT  Test_SnapshotResourceCaseInsensitiveSorting
=== CONT  Test_SnapshotResources
=== CONT  Test_SnapshotManagement
=== CONT  TestGetNotificationTemplates/it_returns_the_notification_templates
=== RUN   Test_SnapshotResources/test_CRUD_of_snapshot_resources
=== RUN   Test_SnapshotResources/test_pagination_and_sorting
=== RUN   Test_SnapshotResources/test_pagination_and_sorting/default_sorting_and_paging_and_default_params
=== RUN   Test_SnapshotResources/test_pagination_and_sorting/sort_by_name_descending
=== RUN   Test_SnapshotResources/test_pagination_and_sorting/sort_by_type_ascending
=== RUN   Test_SnapshotResources/test_pagination_and_sorting/sort_by_status_with_pagination
=== RUN   Test_SnapshotResources/test_pagination_and_sorting/only_errors_filter_returns_only_error_status_resources
--- PASS: Test_SnapshotResources (1.57s)
--- PASS: Test_SnapshotResources/test_CRUD_of_snapshot_resources (0.00s)
--- PASS: Test_SnapshotResources/test_pagination_and_sorting (0.00s)
--- PASS: Test_SnapshotResources/test_pagination_and_sorting/default_sorting_and_paging_and_default_params (0.00s)
--- PASS: Test_SnapshotResources/test_pagination_and_sorting/sort_by_name_descending (0.00s)
--- PASS: Test_SnapshotResources/test_pagination_and_sorting/sort_by_type_ascending (0.00s)
--- PASS: Test_SnapshotResources/test_pagination_and_sorting/sort_by_status_with_pagination (0.00s)
--- PASS: Test_SnapshotResources/test_pagination_and_sorting/only_errors_filter_returns_only_error_status_resources (0.00s)
=== CONT  TestGetPlugins
=== RUN   Test_GetMigrationSessionByUID/find_session_by_uid
=== RUN   Test_GetMigrationSessionByUID/returns_error_if_session_is_not_found_by_uid
--- PASS: Test_GetMigrationSessionByUID (1.61s)
--- PASS: Test_GetMigrationSessionByUID/find_session_by_uid (0.00s)
--- PASS: Test_GetMigrationSessionByUID/returns_error_if_session_is_not_found_by_uid (0.00s)
=== CONT  Test_GetAllCloudMigrationSessions
=== RUN   TestDecryptToken/with_an_nil_session,_it_returns_a_`migration_not_found`_error
=== PAUSE TestDecryptToken/with_an_nil_session,_it_returns_a_`migration_not_found`_error
=== RUN   TestDecryptToken/with_an_empty_auth_token,_it_returns_a_`token_not_found`_error
=== PAUSE TestDecryptToken/with_an_empty_auth_token,_it_returns_a_`token_not_found`_error
=== RUN   TestDecryptToken/with_an_invalid_base64_auth_token,_it_returns_an_error
=== PAUSE TestDecryptToken/with_an_invalid_base64_auth_token,_it_returns_an_error
=== RUN   TestDecryptToken/with_a_valid_base64_auth_token,_it_decrypts_it_and_overrides_the_auth_token_field
=== PAUSE TestDecryptToken/with_a_valid_base64_auth_token,_it_decrypts_it_and_overrides_the_auth_token_field
=== CONT  TestGetLibraryElementsCommands
--- PASS: TestGetNotificationTemplates (0.00s)
--- PASS: TestGetNotificationTemplates/it_returns_the_notification_templates (1.64s)
=== CONT  Test_OnlyQueriesStatusFromGMSWhenRequired
=== RUN   Test_CreateMigrationSession/creates_a_session_and_reads_it_from_the_db
--- PASS: Test_CreateMigrationSession (1.67s)
--- PASS: Test_CreateMigrationSession/creates_a_session_and_reads_it_from_the_db (0.00s)
=== CONT  TestDeleteSession
--- PASS: Test_SnapshotResourceCaseInsensitiveSorting (1.70s)
=== CONT  Test_GetSnapshotStatusFromGMS
=== RUN   Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_initialized
=== PAUSE Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_initialized
=== RUN   Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_processing
=== PAUSE Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_processing
=== RUN   Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_finished
=== PAUSE Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_finished
=== RUN   Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_canceled
=== PAUSE Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_canceled
=== RUN   Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_error
=== PAUSE Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_error
=== RUN   Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_unknown
=== PAUSE Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_unknown
=== RUN   Test_GetSnapshotStatusFromGMS/GMS_results_applied_to_local_snapshot
=== PAUSE Test_GetSnapshotStatusFromGMS/GMS_results_applied_to_local_snapshot
=== CONT  TestGetParentNames
=== RUN   TestGetSnapshotList/returns_list_of_snapshots_that_belong_to_a_session
=== RUN   TestGetSnapshotList/returns_only_one_snapshot_that_belongs_to_a_session
=== RUN   TestGetSnapshotList/return_no_snapshots_if_limit_is_set_to_0
=== RUN   TestGetSnapshotList/returns_paginated_snapshot_that_belongs_to_a_session
=== RUN   Test_SnapshotManagement/tests_the_snapshot_lifecycle
=== RUN   TestGetSnapshotList/returns_desc_sorted_list_of_snapshots_that_belong_to_a_session
=== RUN   TestGetSnapshotList/only_the_snapshots_that_belong_to_a_specific_session_are_returned
=== RUN   TestGetSnapshotList/if_the_session_is_deleted,_snapshots_can't_be_retrieved_anymore
--- PASS: TestGetSnapshotList (1.73s)
--- PASS: TestGetSnapshotList/returns_list_of_snapshots_that_belong_to_a_session (0.01s)
--- PASS: TestGetSnapshotList/returns_only_one_snapshot_that_belongs_to_a_session (0.00s)
--- PASS: TestGetSnapshotList/return_no_snapshots_if_limit_is_set_to_0 (0.00s)
--- PASS: TestGetSnapshotList/returns_paginated_snapshot_that_belongs_to_a_session (0.00s)
--- PASS: TestGetSnapshotList/returns_desc_sorted_list_of_snapshots_that_belong_to_a_session (0.00s)
--- PASS: TestGetSnapshotList/only_the_snapshots_that_belong_to_a_specific_session_are_returned (0.00s)
--- PASS: TestGetSnapshotList/if_the_session_is_deleted,_snapshots_can't_be_retrieved_anymore (0.00s)
=== CONT  Test_CreateGetAndDeleteToken
--- PASS: Test_SnapshotManagement (1.74s)
--- PASS: Test_SnapshotManagement/tests_the_snapshot_lifecycle (0.01s)
=== CONT  TestGetFolderNamesForFolderUIDs
--- PASS: TestGetPlugins (1.59s)
=== CONT  TestReportEvent
=== RUN   TestReportEvent/when_the_session_is_nil,_it_does_not_report_the_event
=== PAUSE TestReportEvent/when_the_session_is_nil,_it_does_not_report_the_event
=== RUN   TestReportEvent/when_the_session_is_not_nil,_it_reports_the_event
=== PAUSE TestReportEvent/when_the_session_is_not_nil,_it_reports_the_event
=== CONT  TestGetAlertRules
=== RUN   TestGetAlertRules/it_returns_the_alert_rules
=== PAUSE TestGetAlertRules/it_returns_the_alert_rules
=== RUN   TestGetAlertRules/when_the_alert_rules_state_config_is_`paused`,_then_the_alert_rules_are_all_returned_in_`paused`_state
=== PAUSE TestGetAlertRules/when_the_alert_rules_state_config_is_`paused`,_then_the_alert_rules_are_all_returned_in_`paused`_state
=== CONT  TestGetNotificationPolicies
=== RUN   TestGetNotificationPolicies/it_returns_the_contact_points
=== PAUSE TestGetNotificationPolicies/it_returns_the_contact_points
=== CONT  TestGetContactPoints/it_returns_the_contact_points
--- PASS: TestGetLibraryElementsCommands (1.58s)
=== CONT  TestGetAlertRuleGroups/it_returns_the_alert_rule_groups
=== RUN   TestDeleteSession/when_deleting_a_session_that_does_not_exist_in_the_database,_it_returns_an_error
=== RUN   TestDeleteSession/when_deleting_an_existing_session,_it_returns_the_deleted_session_and_no_error
--- PASS: TestDeleteSession (1.54s)
--- PASS: TestDeleteSession/when_deleting_a_session_that_does_not_exist_in_the_database,_it_returns_an_error (0.00s)
--- PASS: TestDeleteSession/when_deleting_an_existing_session,_it_returns_the_deleted_session_and_no_error (0.00s)
=== CONT  TestGetAlertMuteTimings/it_returns_the_mute_timings
=== RUN   Test_GetAllCloudMigrationSessions/get_all_cloud_migration_session_entries
--- PASS: Test_GetAllCloudMigrationSessions (1.62s)
--- PASS: Test_GetAllCloudMigrationSessions/get_all_cloud_migration_session_entries (0.00s)
=== CONT  TestGetAlertRuleGroups/with_the_alert_rules_state_set_to_paused,_it_returns_the_alert_rule_groups_with_alert_rules_paused
=== RUN   TestGetParentNames/multiple_data_types
=== RUN   TestGetParentNames/empty_folder_hierarchy
=== RUN   TestGetParentNames/all_root_folders_(no_parents)
=== RUN   TestGetParentNames/non-existent_folder_UIDs
--- PASS: TestGetParentNames (1.57s)
--- PASS: TestGetParentNames/multiple_data_types (0.00s)
--- PASS: TestGetParentNames/empty_folder_hierarchy (0.00s)
--- PASS: TestGetParentNames/all_root_folders_(no_parents) (0.00s)
--- PASS: TestGetParentNames/non-existent_folder_UIDs (0.00s)
=== CONT  TestDecryptToken/with_an_nil_session,_it_returns_a_`migration_not_found`_error
=== CONT  TestDecryptToken/with_an_empty_auth_token,_it_returns_a_`token_not_found`_error
=== CONT  TestDecryptToken/with_a_valid_base64_auth_token,_it_decrypts_it_and_overrides_the_auth_token_field
=== CONT  TestDecryptToken/with_an_invalid_base64_auth_token,_it_returns_an_error
=== CONT  Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_initialized
--- PASS: TestDecryptToken (1.62s)
--- PASS: TestDecryptToken/with_an_nil_session,_it_returns_a_`migration_not_found`_error (0.00s)
--- PASS: TestDecryptToken/with_an_empty_auth_token,_it_returns_a_`token_not_found`_error (0.00s)
--- PASS: TestDecryptToken/with_a_valid_base64_auth_token,_it_decrypts_it_and_overrides_the_auth_token_field (0.00s)
--- PASS: TestDecryptToken/with_an_invalid_base64_auth_token,_it_returns_an_error (0.00s)
--- PASS: TestGetFolderNamesForFolderUIDs (1.59s)
=== CONT  Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_canceled
--- PASS: Test_CreateGetAndDeleteToken (1.59s)
=== CONT  Test_GetSnapshotStatusFromGMS/GMS_results_applied_to_local_snapshot
=== CONT  Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_unknown
--- PASS: TestGetContactPoints (0.00s)
--- PASS: TestGetContactPoints/it_returns_the_contact_points (1.44s)
=== CONT  Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_error
=== CONT  Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_processing
--- PASS: TestGetAlertMuteTimings (0.00s)
--- PASS: TestGetAlertMuteTimings/it_returns_the_mute_timings (1.44s)
--- PASS: TestGetAlertRuleGroups (0.00s)
--- PASS: TestGetAlertRuleGroups/it_returns_the_alert_rule_groups (1.39s)
--- PASS: TestGetAlertRuleGroups/with_the_alert_rules_state_set_to_paused,_it_returns_the_alert_rule_groups_with_alert_rules_paused (1.46s)
=== CONT  Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_finished
=== CONT  TestReportEvent/when_the_session_is_nil,_it_does_not_report_the_event
=== CONT  TestReportEvent/when_the_session_is_not_nil,_it_reports_the_event
=== CONT  TestGetAlertRules/it_returns_the_alert_rules
=== CONT  TestGetNotificationPolicies/it_returns_the_contact_points
=== CONT  TestGetAlertRules/when_the_alert_rules_state_config_is_`paused`,_then_the_alert_rules_are_all_returned_in_`paused`_state
--- PASS: TestReportEvent (0.00s)
--- PASS: TestReportEvent/when_the_session_is_nil,_it_does_not_report_the_event (0.59s)
--- PASS: TestReportEvent/when_the_session_is_not_nil,_it_reports_the_event (0.66s)
--- PASS: Test_GetSnapshotStatusFromGMS (0.05s)
--- PASS: Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_initialized (2.47s)
--- PASS: Test_GetSnapshotStatusFromGMS/GMS_results_applied_to_local_snapshot (2.42s)
--- PASS: Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_canceled (2.52s)
--- PASS: Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_unknown (1.79s)
--- PASS: Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_error (1.86s)
--- PASS: Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_processing (1.84s)
--- PASS: Test_GetSnapshotStatusFromGMS/test_case:_gms_snapshot_finished (1.80s)
--- PASS: TestGetNotificationPolicies (0.00s)
--- PASS: TestGetNotificationPolicies/it_returns_the_contact_points (0.60s)
--- PASS: TestGetAlertRules (0.00s)
--- PASS: TestGetAlertRules/it_returns_the_alert_rules (0.77s)
--- PASS: TestGetAlertRules/when_the_alert_rules_state_config_is_`paused`,_then_the_alert_rules_are_all_returned_in_`paused`_state (0.56s)
--- PASS: Test_OnlyQueriesStatusFromGMSWhenRequired (8.66s)
PASS
ok  	github.com/grafana/grafana/pkg/services/cloudmigration/cloudmigrationimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/cloudmigration/cloudmigrationimpl/fake	[no test files]
=== RUN   Test_buildURL
=== PAUSE Test_buildURL
=== RUN   Test_handleGMSErrors
=== PAUSE Test_handleGMSErrors
=== RUN   Test_ValidateKey
=== PAUSE Test_ValidateKey
=== RUN   Test_StartSnapshot
=== PAUSE Test_StartSnapshot
=== RUN   Test_GetSnapshotStatus
=== PAUSE Test_GetSnapshotStatus
=== RUN   Test_CreatePresignedUploadUrl
=== PAUSE Test_CreatePresignedUploadUrl
=== RUN   Test_ReportEvent
=== PAUSE Test_ReportEvent
=== CONT  Test_buildURL
=== RUN   Test_buildURL/domain_starts_with_http://,_should_return_domain
=== RUN   Test_buildURL/domain_starts_with_https://,_should_return_domain
=== RUN   Test_buildURL/domain_starts_with_https://,_should_return_domain#01
=== RUN   Test_buildURL/domain_doesn't_start_with_http_or_https,_should_build_a_string_using_the_domain_and_clusterSlug
=== RUN   Test_buildURL/it_parses_and_escapes_the_path_when_building_the_URL
--- PASS: Test_buildURL (0.00s)
--- PASS: Test_buildURL/domain_starts_with_http://,_should_return_domain (0.00s)
--- PASS: Test_buildURL/domain_starts_with_https://,_should_return_domain (0.00s)
--- PASS: Test_buildURL/domain_starts_with_https://,_should_return_domain#01 (0.00s)
--- PASS: Test_buildURL/domain_doesn't_start_with_http_or_https,_should_build_a_string_using_the_domain_and_clusterSlug (0.00s)
--- PASS: Test_buildURL/it_parses_and_escapes_the_path_when_building_the_URL (0.00s)
=== CONT  Test_ReportEvent
=== RUN   Test_ReportEvent/when_the_session_data_is_valid,_it_does_not_log_an_error
=== PAUSE Test_ReportEvent/when_the_session_data_is_valid,_it_does_not_log_an_error
=== RUN   Test_ReportEvent/when_the_session_is_missing_required_data,_it_returns_without_doing_anything
=== PAUSE Test_ReportEvent/when_the_session_is_missing_required_data,_it_returns_without_doing_anything
=== RUN   Test_ReportEvent/when_the_upstream_server_is_down,_it_logs_the_error
=== PAUSE Test_ReportEvent/when_the_upstream_server_is_down,_it_logs_the_error
=== CONT  Test_ReportEvent/when_the_session_data_is_valid,_it_does_not_log_an_error
=== CONT  Test_ValidateKey
=== RUN   Test_ValidateKey/when_the_key_is_valid,_it_returns_no_error
=== PAUSE Test_ValidateKey/when_the_key_is_valid,_it_returns_no_error
=== RUN   Test_ValidateKey/when_the_key_invalidated_for_any_reason,_it_returns_a_token_validation_failure
=== PAUSE Test_ValidateKey/when_the_key_invalidated_for_any_reason,_it_returns_a_token_validation_failure
=== CONT  Test_ValidateKey/when_the_key_is_valid,_it_returns_no_error
=== CONT  Test_ReportEvent/when_the_upstream_server_is_down,_it_logs_the_error
=== CONT  Test_CreatePresignedUploadUrl
=== CONT  Test_ReportEvent/when_the_session_is_missing_required_data,_it_returns_without_doing_anything
=== RUN   Test_CreatePresignedUploadUrl/when_the_snapshot_and_session_are_valid,_it_returns_a_presigned_url_string
=== PAUSE Test_CreatePresignedUploadUrl/when_the_snapshot_and_session_are_valid,_it_returns_a_presigned_url_string
=== RUN   Test_CreatePresignedUploadUrl/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== PAUSE Test_CreatePresignedUploadUrl/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== CONT  Test_CreatePresignedUploadUrl/when_the_snapshot_and_session_are_valid,_it_returns_a_presigned_url_string
=== CONT  Test_handleGMSErrors
=== CONT  Test_GetSnapshotStatus
=== RUN   Test_GetSnapshotStatus/it_queries_the_snapshot_status_and_returns_it
--- PASS: Test_handleGMSErrors (0.00s)
=== PAUSE Test_GetSnapshotStatus/it_queries_the_snapshot_status_and_returns_it
=== RUN   Test_GetSnapshotStatus/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== PAUSE Test_GetSnapshotStatus/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== CONT  Test_GetSnapshotStatus/it_queries_the_snapshot_status_and_returns_it
=== CONT  Test_StartSnapshot
=== RUN   Test_StartSnapshot/when_the_session_is_valid,_a_snapshot_result_is_returned
=== PAUSE Test_StartSnapshot/when_the_session_is_valid,_a_snapshot_result_is_returned
=== RUN   Test_StartSnapshot/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== PAUSE Test_StartSnapshot/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== CONT  Test_StartSnapshot/when_the_session_is_valid,_a_snapshot_result_is_returned
=== CONT  Test_ValidateKey/when_the_key_invalidated_for_any_reason,_it_returns_a_token_validation_failure
=== CONT  Test_StartSnapshot/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
=== CONT  Test_CreatePresignedUploadUrl/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
--- PASS: Test_ReportEvent (0.00s)
--- PASS: Test_ReportEvent/when_the_session_is_missing_required_data,_it_returns_without_doing_anything (0.00s)
--- PASS: Test_ReportEvent/when_the_upstream_server_is_down,_it_logs_the_error (0.00s)
--- PASS: Test_ReportEvent/when_the_session_data_is_valid,_it_does_not_log_an_error (0.00s)
=== CONT  Test_GetSnapshotStatus/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error
--- PASS: Test_StartSnapshot (0.00s)
--- PASS: Test_StartSnapshot/when_the_session_is_valid,_a_snapshot_result_is_returned (0.00s)
--- PASS: Test_StartSnapshot/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error (0.00s)
--- PASS: Test_ValidateKey (0.00s)
--- PASS: Test_ValidateKey/when_the_key_is_valid,_it_returns_no_error (0.00s)
--- PASS: Test_ValidateKey/when_the_key_invalidated_for_any_reason,_it_returns_a_token_validation_failure (0.00s)
--- PASS: Test_CreatePresignedUploadUrl (0.00s)
--- PASS: Test_CreatePresignedUploadUrl/when_the_snapshot_and_session_are_valid,_it_returns_a_presigned_url_string (0.00s)
--- PASS: Test_CreatePresignedUploadUrl/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error (0.00s)
--- PASS: Test_GetSnapshotStatus (0.00s)
--- PASS: Test_GetSnapshotStatus/when_there_is_an_error_in_the_upstream,_it_logs_and_returns_the_error (0.00s)
--- PASS: Test_GetSnapshotStatus/it_queries_the_snapshot_status_and_returns_it (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/cloudmigration/gmsclient	(cached)
=== RUN   TestPresignedURLUpload
=== PAUSE TestPresignedURLUpload
=== CONT  TestPresignedURLUpload
=== RUN   TestPresignedURLUpload/successfully_send_data_to_the_server
=== PAUSE TestPresignedURLUpload/successfully_send_data_to_the_server
=== RUN   TestPresignedURLUpload/when_the_request_to_the_server_returns_an_error,_it_is_propagated
=== PAUSE TestPresignedURLUpload/when_the_request_to_the_server_returns_an_error,_it_is_propagated
=== CONT  TestPresignedURLUpload/successfully_send_data_to_the_server
=== CONT  TestPresignedURLUpload/when_the_request_to_the_server_returns_an_error,_it_is_propagated
--- PASS: TestPresignedURLUpload (0.00s)
--- PASS: TestPresignedURLUpload/successfully_send_data_to_the_server (0.00s)
--- PASS: TestPresignedURLUpload/when_the_request_to_the_server_returns_an_error,_it_is_propagated (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/cloudmigration/objectstorage	(cached)
=== RUN   TestContextHandler
=== RUN   TestContextHandler/should_set_auth_error_if_authentication_was_unsuccessful
=== RUN   TestContextHandler/should_set_identity_on_successful_authentication
=== RUN   TestContextHandler/should_not_set_IsSignedIn_on_anonymous_identity
=== RUN   TestContextHandler/should_set_IsRenderCall_when_authenticated_by_render_client
=== RUN   TestContextHandler/should_store_auth_header_in_context
=== RUN   TestContextHandler/id_response_headers
=== RUN   TestContextHandler/id_response_headers/should_add_id_header_for_user
=== RUN   TestContextHandler/id_response_headers/should_not_add_id_header_for_user_when_id_is_0
=== RUN   TestContextHandler/id_response_headers/should_add_id_header_for_service_account
=== RUN   TestContextHandler/id_response_headers/should_not_add_id_header_for_service_account_when_not_configured
--- PASS: TestContextHandler (0.01s)
--- PASS: TestContextHandler/should_set_auth_error_if_authentication_was_unsuccessful (0.00s)
--- PASS: TestContextHandler/should_set_identity_on_successful_authentication (0.00s)
--- PASS: TestContextHandler/should_not_set_IsSignedIn_on_anonymous_identity (0.00s)
--- PASS: TestContextHandler/should_set_IsRenderCall_when_authenticated_by_render_client (0.00s)
--- PASS: TestContextHandler/should_store_auth_header_in_context (0.00s)
--- PASS: TestContextHandler/id_response_headers (0.00s)
--- PASS: TestContextHandler/id_response_headers/should_add_id_header_for_user (0.00s)
--- PASS: TestContextHandler/id_response_headers/should_not_add_id_header_for_user_when_id_is_0 (0.00s)
--- PASS: TestContextHandler/id_response_headers/should_add_id_header_for_service_account (0.00s)
--- PASS: TestContextHandler/id_response_headers/should_not_add_id_header_for_service_account_when_not_configured (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/contexthandler	(cached)
?   	github.com/grafana/grafana/pkg/services/contexthandler/ctxkey	[no test files]
=== RUN   TestQueryBoolWithDefault
=== RUN   TestQueryBoolWithDefault/with_no_value_specified,_the_default_value_is_returned
=== RUN   TestQueryBoolWithDefault/with_a_value_specified,_the_default_value_is_overridden
--- PASS: TestQueryBoolWithDefault (0.00s)
--- PASS: TestQueryBoolWithDefault/with_no_value_specified,_the_default_value_is_returned (0.00s)
--- PASS: TestQueryBoolWithDefault/with_a_value_specified,_the_default_value_is_overridden (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/contexthandler/model	(cached)
=== RUN   TestCorrelationModels
=== RUN   TestCorrelationModels/CreateCorrelationCommand_Validate
=== RUN   TestCorrelationModels/CreateCorrelationCommand_Validate/Successfully_validates_a_correct_create_command
=== RUN   TestCorrelationModels/CreateCorrelationCommand_Validate/Fails_if_target_UID_is_not_set_and_config_type_=_query
=== RUN   TestCorrelationModels/CreateCorrelationCommand_Validate/Fails_if_config_type_is_unknown
=== RUN   TestCorrelationModels/CorrelationConfigType_Validate
=== RUN   TestCorrelationModels/CorrelationConfigType_Validate/Successfully_validates_a_correct_type
=== RUN   TestCorrelationModels/CorrelationConfig_JSON_Marshaling
=== RUN   TestCorrelationModels/CorrelationConfig_JSON_Marshaling/Applies_a_default_empty_object_if_target_is_not_defined
--- PASS: TestCorrelationModels (0.00s)
--- PASS: TestCorrelationModels/CreateCorrelationCommand_Validate (0.00s)
--- PASS: TestCorrelationModels/CreateCorrelationCommand_Validate/Successfully_validates_a_correct_create_command (0.00s)
--- PASS: TestCorrelationModels/CreateCorrelationCommand_Validate/Fails_if_target_UID_is_not_set_and_config_type_=_query (0.00s)
--- PASS: TestCorrelationModels/CreateCorrelationCommand_Validate/Fails_if_config_type_is_unknown (0.00s)
--- PASS: TestCorrelationModels/CorrelationConfigType_Validate (0.00s)
--- PASS: TestCorrelationModels/CorrelationConfigType_Validate/Successfully_validates_a_correct_type (0.00s)
--- PASS: TestCorrelationModels/CorrelationConfig_JSON_Marshaling (0.00s)
--- PASS: TestCorrelationModels/CorrelationConfig_JSON_Marshaling/Applies_a_default_empty_object_if_target_is_not_defined (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/correlations	(cached)
?   	github.com/grafana/grafana/pkg/services/correlations/correlationstest	[no test files]
?   	github.com/grafana/grafana/pkg/services/dashboardimport	[no test files]
=== RUN   TestImportDashboardAPI
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Not_signed_in_should_return_404
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Signed_in,_empty_plugin_id_and_dashboard_model_empty_should_return_error
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Signed_in,_dashboard_model_set_should_call_import_dashboard_service
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Signed_in,_dashboard_model_set,_trimdefaults_enabled_should_not_call_schema_loader_service
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_enabled
=== RUN   TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_enabled/Signed_in,_dashboard_model_set,_trimdefaults_enabled_should_call_schema_loader_service
=== RUN   TestImportDashboardAPI/Quota_reached
=== RUN   TestImportDashboardAPI/Quota_reached/Signed_in,_dashboard_model_set,_should_return_403_forbidden/quota_reached
--- PASS: TestImportDashboardAPI (0.01s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled (0.01s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Not_signed_in_should_return_404 (0.00s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Signed_in,_empty_plugin_id_and_dashboard_model_empty_should_return_error (0.00s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Signed_in,_dashboard_model_set_should_call_import_dashboard_service (0.00s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_disabled/Signed_in,_dashboard_model_set,_trimdefaults_enabled_should_not_call_schema_loader_service (0.00s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_enabled (0.00s)
--- PASS: TestImportDashboardAPI/Quota_not_reached,_schema_loader_service_enabled/Signed_in,_dashboard_model_set,_trimdefaults_enabled_should_call_schema_loader_service (0.00s)
--- PASS: TestImportDashboardAPI/Quota_reached (0.00s)
--- PASS: TestImportDashboardAPI/Quota_reached/Signed_in,_dashboard_model_set,_should_return_403_forbidden/quota_reached (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboardimport/api	(cached)
=== RUN   TestImportDashboardService
=== RUN   TestImportDashboardService/When_importing_a_plugin_dashboard_should_save_dashboard_and_sync_library_panels
=== RUN   TestImportDashboardService/When_importing_a_non-plugin_dashboard_should_save_dashboard_and_sync_library_panels
--- PASS: TestImportDashboardService (0.00s)
--- PASS: TestImportDashboardService/When_importing_a_plugin_dashboard_should_save_dashboard_and_sync_library_panels (0.00s)
--- PASS: TestImportDashboardService/When_importing_a_non-plugin_dashboard_should_save_dashboard_and_sync_library_panels (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboardimport/service	0.403s
=== RUN   TestDashTemplateEvaluator
--- PASS: TestDashTemplateEvaluator (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboardimport/utils	(cached)
=== RUN   TestNewFolderIDScopeResolver
=== RUN   TestNewFolderIDScopeResolver/prefix_should_be_expected
=== RUN   TestNewFolderIDScopeResolver/resolver_should_fail_if_input_scope_is_not_expected
=== RUN   TestNewFolderIDScopeResolver/resolver_should_convert_id_0_to_general_uid_scope
=== RUN   TestNewFolderIDScopeResolver/resolver_should_fail_if_resource_of_input_scope_is_empty
=== RUN   TestNewFolderIDScopeResolver/returns_'not_found'_if_folder_does_not_exist
--- PASS: TestNewFolderIDScopeResolver (0.00s)
--- PASS: TestNewFolderIDScopeResolver/prefix_should_be_expected (0.00s)
--- PASS: TestNewFolderIDScopeResolver/resolver_should_fail_if_input_scope_is_not_expected (0.00s)
--- PASS: TestNewFolderIDScopeResolver/resolver_should_convert_id_0_to_general_uid_scope (0.00s)
--- PASS: TestNewFolderIDScopeResolver/resolver_should_fail_if_resource_of_input_scope_is_empty (0.00s)
--- PASS: TestNewFolderIDScopeResolver/returns_'not_found'_if_folder_does_not_exist (0.00s)
=== RUN   TestNewDashboardIDScopeResolver
=== RUN   TestNewDashboardIDScopeResolver/prefix_should_be_expected
=== RUN   TestNewDashboardIDScopeResolver/resolver_should_fail_if_input_scope_is_not_expected
--- PASS: TestNewDashboardIDScopeResolver (0.00s)
--- PASS: TestNewDashboardIDScopeResolver/prefix_should_be_expected (0.00s)
--- PASS: TestNewDashboardIDScopeResolver/resolver_should_fail_if_input_scope_is_not_expected (0.00s)
=== RUN   TestNewDashboardUIDScopeResolver
=== RUN   TestNewDashboardUIDScopeResolver/prefix_should_be_expected
=== RUN   TestNewDashboardUIDScopeResolver/resolver_should_fail_if_input_scope_is_not_expected
--- PASS: TestNewDashboardUIDScopeResolver (0.00s)
--- PASS: TestNewDashboardUIDScopeResolver/prefix_should_be_expected (0.00s)
--- PASS: TestNewDashboardUIDScopeResolver/resolver_should_fail_if_input_scope_is_not_expected (0.00s)
=== RUN   TestGetDashboardUrl
--- PASS: TestGetDashboardUrl (0.00s)
=== RUN   TestGetFullDashboardUrl
--- PASS: TestGetFullDashboardUrl (0.00s)
=== RUN   TestDashboard_UpdateSlug
--- PASS: TestDashboard_UpdateSlug (0.00s)
=== RUN   TestNewDashboardFromJson
--- PASS: TestNewDashboardFromJson (0.00s)
=== RUN   TestSaveDashboardCommand_GetDashboardModel
=== RUN   TestSaveDashboardCommand_GetDashboardModel/should_set_IsFolder
=== RUN   TestSaveDashboardCommand_GetDashboardModel/should_set_FolderId
--- PASS: TestSaveDashboardCommand_GetDashboardModel (0.00s)
--- PASS: TestSaveDashboardCommand_GetDashboardModel/should_set_IsFolder (0.00s)
--- PASS: TestSaveDashboardCommand_GetDashboardModel/should_set_FolderId (0.00s)
=== RUN   TestSlugifyTitle
=== RUN   TestSlugifyTitle/Grafana_Play_Home
=== RUN   TestSlugifyTitle/snöräv-över-ån
=== RUN   TestSlugifyTitle/漢字
=== RUN   TestSlugifyTitle/🇦🇶
=== RUN   TestSlugifyTitle/𒆠
--- PASS: TestSlugifyTitle (0.00s)
--- PASS: TestSlugifyTitle/Grafana_Play_Home (0.00s)
--- PASS: TestSlugifyTitle/snöräv-över-ån (0.00s)
--- PASS: TestSlugifyTitle/漢字 (0.00s)
--- PASS: TestSlugifyTitle/🇦🇶 (0.00s)
--- PASS: TestSlugifyTitle/𒆠 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboards	(cached)
=== RUN   TestPermissionType_String
=== RUN   TestPermissionType_String/Admin
=== RUN   TestPermissionType_String/Edit
=== RUN   TestPermissionType_String/View
--- PASS: TestPermissionType_String (0.00s)
--- PASS: TestPermissionType_String/Admin (0.00s)
--- PASS: TestPermissionType_String/Edit (0.00s)
--- PASS: TestPermissionType_String/View (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboards/dashboardaccess	(cached)
=== RUN   TestIntegrationDashboardFolderDataAccess
database_folder_test.go:42: skipping integration test
--- SKIP: TestIntegrationDashboardFolderDataAccess (0.00s)
=== RUN   TestIntegrationDashboardInheritedFolderRBAC
database_folder_test.go:236: skipping integration test
--- SKIP: TestIntegrationDashboardInheritedFolderRBAC (0.00s)
=== RUN   TestIntegrationDashboardProvisioningTest
database_provisioning_test.go:18: skipping integration test
--- SKIP: TestIntegrationDashboardProvisioningTest (0.00s)
=== RUN   TestIntegrationDashboardDataAccess
database_test.go:45: skipping integration test
--- SKIP: TestIntegrationDashboardDataAccess (0.00s)
=== RUN   TestIntegrationDashboardDataAccessGivenPluginWithImportedDashboards
database_test.go:715: skipping integration test
--- SKIP: TestIntegrationDashboardDataAccessGivenPluginWithImportedDashboards (0.00s)
=== RUN   TestIntegrationDashboard_SortingOptions
database_test.go:739: skipping integration test
--- SKIP: TestIntegrationDashboard_SortingOptions (0.00s)
=== RUN   TestIntegrationDashboard_Filter
database_test.go:789: skipping integration test
--- SKIP: TestIntegrationDashboard_Filter (0.00s)
=== RUN   TestIntegrationFindDashboardsByTitle
database_test.go:835: skipping integration test
--- SKIP: TestIntegrationFindDashboardsByTitle (0.00s)
=== RUN   TestIntegrationFindDashboardsByFolder
database_test.go:955: skipping integration test
--- SKIP: TestIntegrationFindDashboardsByFolder (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboards/database	(cached)
?   	github.com/grafana/grafana/pkg/services/dashboards/database/migrations	[no test files]
=== RUN   TestIntegrationIntegratedDashboardService
dashboard_service_integration_test.go:48: skipping integration test
--- SKIP: TestIntegrationIntegratedDashboardService (0.00s)
=== RUN   TestIntegrationDashboardServicePermissions
dashboard_service_integration_test.go:583: skipping integration test
--- SKIP: TestIntegrationDashboardServicePermissions (0.00s)
=== RUN   TestDashboardService
=== RUN   TestDashboardService/Dashboard_service_tests
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/When_saving_a_dashboard_with_empty_title_it_should_return_error
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_message_is_too_long
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_folder_is_named_General
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/When_saving_a_dashboard_should_validate_uid
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_a_folder_that_is_specified_can't_be_found
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_dashboard_is_provisioned
=== RUN   TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_not_return_validation_error_if_dashboard_is_provisioned_but_UI_updates_allowed
=== RUN   TestDashboardService/Dashboard_service_tests/Save_provisioned_dashboard_validation
=== RUN   TestDashboardService/Dashboard_service_tests/Save_provisioned_dashboard_validation/Should_not_return_validation_error_if_dashboard_is_provisioned
=== RUN   TestDashboardService/Dashboard_service_tests/Save_provisioned_dashboard_validation/Should_override_invalid_refresh_interval_if_dashboard_is_provisioned
=== RUN   TestDashboardService/Dashboard_service_tests/Import_dashboard_validation
=== RUN   TestDashboardService/Dashboard_service_tests/Import_dashboard_validation/Should_return_validation_error_if_dashboard_is_provisioned
=== RUN   TestDashboardService/Dashboard_service_tests/Given_provisioned_dashboard
=== RUN   TestDashboardService/Dashboard_service_tests/Given_provisioned_dashboard/DeleteProvisionedDashboard_should_delete_it
=== RUN   TestDashboardService/Dashboard_service_tests/Given_provisioned_dashboard/DeleteDashboard_should_fail_to_delete_it_when_provisioning_information_is_missing
=== RUN   TestDashboardService/Dashboard_service_tests/Given_non_provisioned_dashboard
=== RUN   TestDashboardService/Dashboard_service_tests/Given_non_provisioned_dashboard/DeleteProvisionedDashboard_should_delete_the_dashboard
=== RUN   TestDashboardService/Dashboard_service_tests/Given_non_provisioned_dashboard/DeleteDashboard_should_delete_it
=== RUN   TestDashboardService/Dashboard_service_tests/Count_dashboards_in_folder
=== RUN   TestDashboardService/Dashboard_service_tests/Delete_dashboards_in_folder
--- PASS: TestDashboardService (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/When_saving_a_dashboard_with_empty_title_it_should_return_error (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_message_is_too_long (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_folder_is_named_General (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/When_saving_a_dashboard_should_validate_uid (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_a_folder_that_is_specified_can't_be_found (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_return_validation_error_if_dashboard_is_provisioned (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_dashboard_validation/Should_not_return_validation_error_if_dashboard_is_provisioned_but_UI_updates_allowed (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_provisioned_dashboard_validation (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_provisioned_dashboard_validation/Should_not_return_validation_error_if_dashboard_is_provisioned (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Save_provisioned_dashboard_validation/Should_override_invalid_refresh_interval_if_dashboard_is_provisioned (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Import_dashboard_validation (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Import_dashboard_validation/Should_return_validation_error_if_dashboard_is_provisioned (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Given_provisioned_dashboard (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Given_provisioned_dashboard/DeleteProvisionedDashboard_should_delete_it (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Given_provisioned_dashboard/DeleteDashboard_should_fail_to_delete_it_when_provisioning_information_is_missing (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Given_non_provisioned_dashboard (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Given_non_provisioned_dashboard/DeleteProvisionedDashboard_should_delete_the_dashboard (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Given_non_provisioned_dashboard/DeleteDashboard_should_delete_it (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Count_dashboards_in_folder (0.00s)
--- PASS: TestDashboardService/Dashboard_service_tests/Delete_dashboards_in_folder (0.00s)
=== RUN   TestGetDashboard
=== RUN   TestGetDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetDashboard/Should_use_Kubernetes_client_if_feature_flags_are_enabled
=== RUN   TestGetDashboard/Should_get_uid_if_not_passed_in_at_first
=== RUN   TestGetDashboard/Should_return_error_when_Kubernetes_client_fails
=== RUN   TestGetDashboard/Should_return_dashboard_not_found_if_Kubernetes_client_returns_nil
--- PASS: TestGetDashboard (0.00s)
--- PASS: TestGetDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetDashboard/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
--- PASS: TestGetDashboard/Should_get_uid_if_not_passed_in_at_first (0.00s)
--- PASS: TestGetDashboard/Should_return_error_when_Kubernetes_client_fails (0.00s)
--- PASS: TestGetDashboard/Should_return_dashboard_not_found_if_Kubernetes_client_returns_nil (0.00s)
=== RUN   TestGetAllDashboards
=== RUN   TestGetAllDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetAllDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetAllDashboards (0.00s)
--- PASS: TestGetAllDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetAllDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestGetAllDashboardsByOrgId
=== RUN   TestGetAllDashboardsByOrgId/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetAllDashboardsByOrgId/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetAllDashboardsByOrgId (0.00s)
--- PASS: TestGetAllDashboardsByOrgId/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetAllDashboardsByOrgId/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestGetProvisionedDashboardData
=== RUN   TestGetProvisionedDashboardData/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetProvisionedDashboardData/Should_use_Kubernetes_client_if_feature_flags_are_enabled_and_get_from_relevant_org
--- PASS: TestGetProvisionedDashboardData (0.00s)
--- PASS: TestGetProvisionedDashboardData/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetProvisionedDashboardData/Should_use_Kubernetes_client_if_feature_flags_are_enabled_and_get_from_relevant_org (0.00s)
=== RUN   TestGetProvisionedDashboardDataByDashboardID
=== RUN   TestGetProvisionedDashboardDataByDashboardID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetProvisionedDashboardDataByDashboardID/Should_use_Kubernetes_client_if_feature_flags_are_enabled_and_get_from_whatever_org_it_is_in
--- PASS: TestGetProvisionedDashboardDataByDashboardID (0.00s)
--- PASS: TestGetProvisionedDashboardDataByDashboardID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetProvisionedDashboardDataByDashboardID/Should_use_Kubernetes_client_if_feature_flags_are_enabled_and_get_from_whatever_org_it_is_in (0.00s)
=== RUN   TestGetProvisionedDashboardDataByDashboardUID
=== RUN   TestGetProvisionedDashboardDataByDashboardUID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetProvisionedDashboardDataByDashboardUID/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetProvisionedDashboardDataByDashboardUID (0.00s)
--- PASS: TestGetProvisionedDashboardDataByDashboardUID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetProvisionedDashboardDataByDashboardUID/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestDeleteOrphanedProvisionedDashboards
=== RUN   TestDeleteOrphanedProvisionedDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestDeleteOrphanedProvisionedDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled,_delete_across_all_orgs,_but_only_delete_file_based_provisioned_dashboards
=== RUN   TestDeleteOrphanedProvisionedDashboards/Should_retry_until_deleted_dashboard_not_found_in_search
=== RUN   TestDeleteOrphanedProvisionedDashboards/Will_not_wait_for_indexer_when_no_dashboards_were_deleted
--- PASS: TestDeleteOrphanedProvisionedDashboards (1.00s)
--- PASS: TestDeleteOrphanedProvisionedDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestDeleteOrphanedProvisionedDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled,_delete_across_all_orgs,_but_only_delete_file_based_provisioned_dashboards (0.00s)
--- PASS: TestDeleteOrphanedProvisionedDashboards/Should_retry_until_deleted_dashboard_not_found_in_search (1.00s)
--- PASS: TestDeleteOrphanedProvisionedDashboards/Will_not_wait_for_indexer_when_no_dashboards_were_deleted (0.00s)
=== RUN   TestUnprovisionDashboard
=== RUN   TestUnprovisionDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestUnprovisionDashboard/Should_use_Kubernetes_client_if_feature_flags_are_enabled_-_should_remove_annotations
--- PASS: TestUnprovisionDashboard (0.00s)
--- PASS: TestUnprovisionDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestUnprovisionDashboard/Should_use_Kubernetes_client_if_feature_flags_are_enabled_-_should_remove_annotations (0.00s)
=== RUN   TestGetDashboardsByPluginID
=== RUN   TestGetDashboardsByPluginID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetDashboardsByPluginID/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetDashboardsByPluginID (0.00s)
--- PASS: TestGetDashboardsByPluginID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetDashboardsByPluginID/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestSetDefaultPermissionsWhenSavingFolderForProvisionedDashboards
=== RUN   TestSetDefaultPermissionsWhenSavingFolderForProvisionedDashboards/folder_creation_succeeds,_via_legacy_storage
=== RUN   TestSetDefaultPermissionsWhenSavingFolderForProvisionedDashboards/folder_creation_succeeds,_via_API_Server
--- PASS: TestSetDefaultPermissionsWhenSavingFolderForProvisionedDashboards (0.00s)
--- PASS: TestSetDefaultPermissionsWhenSavingFolderForProvisionedDashboards/folder_creation_succeeds,_via_legacy_storage (0.00s)
--- PASS: TestSetDefaultPermissionsWhenSavingFolderForProvisionedDashboards/folder_creation_succeeds,_via_API_Server (0.00s)
=== RUN   TestSaveProvisionedDashboard
=== RUN   TestSaveProvisionedDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestSaveProvisionedDashboard/Should_use_Kubernetes_create_if_feature_flags_are_enabled
--- PASS: TestSaveProvisionedDashboard (0.00s)
--- PASS: TestSaveProvisionedDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestSaveProvisionedDashboard/Should_use_Kubernetes_create_if_feature_flags_are_enabled (0.00s)
=== RUN   TestSaveDashboard
=== RUN   TestSaveDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestSaveDashboard/Should_use_Kubernetes_create_if_feature_flags_are_enabled_and_dashboard_doesn't_exist
=== RUN   TestSaveDashboard/Should_use_Kubernetes_update_if_feature_flags_are_enabled_and_dashboard_exists
=== RUN   TestSaveDashboard/Should_return_an_error_if_uid_is_invalid
--- PASS: TestSaveDashboard (0.00s)
--- PASS: TestSaveDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestSaveDashboard/Should_use_Kubernetes_create_if_feature_flags_are_enabled_and_dashboard_doesn't_exist (0.00s)
--- PASS: TestSaveDashboard/Should_use_Kubernetes_update_if_feature_flags_are_enabled_and_dashboard_exists (0.00s)
--- PASS: TestSaveDashboard/Should_return_an_error_if_uid_is_invalid (0.00s)
=== RUN   TestDeleteDashboard
=== RUN   TestDeleteDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestDeleteDashboard/Should_use_Kubernetes_client_if_feature_flags_are_enabled
=== RUN   TestDeleteDashboard/If_UID_is_not_passed_in,_it_should_retrieve_that_first
--- PASS: TestDeleteDashboard (0.00s)
--- PASS: TestDeleteDashboard/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestDeleteDashboard/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
--- PASS: TestDeleteDashboard/If_UID_is_not_passed_in,_it_should_retrieve_that_first (0.00s)
=== RUN   TestDeleteAllDashboards
=== RUN   TestDeleteAllDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestDeleteAllDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestDeleteAllDashboards (0.00s)
--- PASS: TestDeleteAllDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestDeleteAllDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestSearchDashboards
=== RUN   TestSearchDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestSearchDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled
=== RUN   TestSearchDashboards/Should_handle_Shared_with_me_folder_correctly
--- PASS: TestSearchDashboards (0.00s)
--- PASS: TestSearchDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestSearchDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
--- PASS: TestSearchDashboards/Should_handle_Shared_with_me_folder_correctly (0.00s)
=== RUN   TestGetDashboards
=== RUN   TestGetDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetDashboards (0.00s)
--- PASS: TestGetDashboards/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetDashboards/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestGetDashboardUIDByID
=== RUN   TestGetDashboardUIDByID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetDashboardUIDByID/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetDashboardUIDByID (0.00s)
--- PASS: TestGetDashboardUIDByID/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetDashboardUIDByID/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestUnstructuredToLegacyDashboard
=== RUN   TestUnstructuredToLegacyDashboard/successfully_converts_unstructured_to_legacy_dashboard
=== RUN   TestUnstructuredToLegacyDashboard/returns_error_if_spec_is_missing
--- PASS: TestUnstructuredToLegacyDashboard (0.00s)
--- PASS: TestUnstructuredToLegacyDashboard/successfully_converts_unstructured_to_legacy_dashboard (0.00s)
--- PASS: TestUnstructuredToLegacyDashboard/returns_error_if_spec_is_missing (0.00s)
=== RUN   TestGetDashboardTags
=== RUN   TestGetDashboardTags/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestGetDashboardTags/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestGetDashboardTags (0.00s)
--- PASS: TestGetDashboardTags/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestGetDashboardTags/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestQuotaCount
=== RUN   TestQuotaCount/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestQuotaCount/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestQuotaCount (0.00s)
--- PASS: TestQuotaCount/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestQuotaCount/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestCountDashboardsInOrg
=== RUN   TestCountDashboardsInOrg/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestCountDashboardsInOrg/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestCountDashboardsInOrg (0.00s)
--- PASS: TestCountDashboardsInOrg/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestCountDashboardsInOrg/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestCountInFolders
=== RUN   TestCountInFolders/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled
=== RUN   TestCountInFolders/Should_use_Kubernetes_client_if_feature_flags_are_enabled
--- PASS: TestCountInFolders (0.00s)
--- PASS: TestCountInFolders/Should_fallback_to_dashboard_store_if_Kubernetes_feature_flags_are_not_enabled (0.00s)
--- PASS: TestCountInFolders/Should_use_Kubernetes_client_if_feature_flags_are_enabled (0.00s)
=== RUN   TestSearchDashboardsThroughK8sRaw
--- PASS: TestSearchDashboardsThroughK8sRaw (0.00s)
=== RUN   TestSearchProvisionedDashboardsThroughK8sRaw
--- PASS: TestSearchProvisionedDashboardsThroughK8sRaw (0.00s)
=== RUN   TestLegacySaveCommandToUnstructured
=== RUN   TestLegacySaveCommandToUnstructured/successfully_converts_save_command_to_unstructured
=== RUN   TestLegacySaveCommandToUnstructured/should_increase_version_when_called
--- PASS: TestLegacySaveCommandToUnstructured (0.00s)
--- PASS: TestLegacySaveCommandToUnstructured/successfully_converts_save_command_to_unstructured (0.00s)
--- PASS: TestLegacySaveCommandToUnstructured/should_increase_version_when_called (0.00s)
=== RUN   TestSetDefaultPermissionsAfterCreate
=== RUN   TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions
=== RUN   TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/without_kubernetesDashboards_feature_in_root_folder
=== RUN   TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/with_kubernetesDashboards_feature_in_root_folder
=== RUN   TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/without_kubernetesDashboards_feature_in_subfolder
=== RUN   TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/with_kubernetesDashboards_feature_in_subfolder
--- PASS: TestSetDefaultPermissionsAfterCreate (0.00s)
--- PASS: TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions (0.00s)
--- PASS: TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/without_kubernetesDashboards_feature_in_root_folder (0.00s)
--- PASS: TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/with_kubernetesDashboards_feature_in_root_folder (0.00s)
--- PASS: TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/without_kubernetesDashboards_feature_in_subfolder (0.00s)
--- PASS: TestSetDefaultPermissionsAfterCreate/Should_set_correct_default_permissions/with_kubernetesDashboards_feature_in_subfolder (0.00s)
=== RUN   TestCleanUpDashboard
=== RUN   TestCleanUpDashboard/Should_delete_public_dashboards_and_clean_up_after_delete
=== RUN   TestCleanUpDashboard/Should_return_error_if_DeleteByDashboardUIDs_fails
=== RUN   TestCleanUpDashboard/Should_return_error_if_CleanupAfterDelete_fails
--- PASS: TestCleanUpDashboard (0.00s)
--- PASS: TestCleanUpDashboard/Should_delete_public_dashboards_and_clean_up_after_delete (0.00s)
--- PASS: TestCleanUpDashboard/Should_return_error_if_DeleteByDashboardUIDs_fails (0.00s)
--- PASS: TestCleanUpDashboard/Should_return_error_if_CleanupAfterDelete_fails (0.00s)
=== RUN   TestK8sDashboardCleanupJob
=== RUN   TestK8sDashboardCleanupJob/Should_not_run_cleanup_when_feature_flag_is_disabled
=== RUN   TestK8sDashboardCleanupJob/Should_process_dashboard_cleanup_for_all_orgs
=== RUN   TestK8sDashboardCleanupJob/Should_handle_pagination_and_batching_when_processing_large_sets_of_dashboards
=== RUN   TestK8sDashboardCleanupJob/Should_start_and_stop_background_job_correctly
--- PASS: TestK8sDashboardCleanupJob (0.29s)
--- PASS: TestK8sDashboardCleanupJob/Should_not_run_cleanup_when_feature_flag_is_disabled (0.28s)
--- PASS: TestK8sDashboardCleanupJob/Should_process_dashboard_cleanup_for_all_orgs (0.00s)
--- PASS: TestK8sDashboardCleanupJob/Should_handle_pagination_and_batching_when_processing_large_sets_of_dashboards (0.01s)
--- PASS: TestK8sDashboardCleanupJob/Should_start_and_stop_background_job_correctly (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboards/service	(cached)
=== RUN   TestK8sHandlerWithFallback_Get
=== RUN   TestK8sHandlerWithFallback_Get/Get_without_fallback
=== RUN   TestK8sHandlerWithFallback_Get/Get_with_fallback_due_to_conversion_error
=== RUN   TestK8sHandlerWithFallback_Get/Get_initial_error
=== RUN   TestK8sHandlerWithFallback_Get/Get_with_fallback_fails
--- PASS: TestK8sHandlerWithFallback_Get (0.00s)
--- PASS: TestK8sHandlerWithFallback_Get/Get_without_fallback (0.00s)
--- PASS: TestK8sHandlerWithFallback_Get/Get_with_fallback_due_to_conversion_error (0.00s)
--- PASS: TestK8sHandlerWithFallback_Get/Get_initial_error (0.00s)
--- PASS: TestK8sHandlerWithFallback_Get/Get_with_fallback_fails (0.00s)
=== RUN   TestGetConversionStatus
=== RUN   TestGetConversionStatus/No_status_field
=== RUN   TestGetConversionStatus/Status_field,_but_no_conversion_field
=== RUN   TestGetConversionStatus/Conversion_field,_failed=true,_with_storedVersion_and_error
=== RUN   TestGetConversionStatus/Conversion_field,_failed=false
=== RUN   TestGetConversionStatus/Conversion_field,_missing_failed_(defaults_to_false)
=== RUN   TestGetConversionStatus/Conversion_field,_failed=true,_missing_storedVersion
=== RUN   TestGetConversionStatus/Conversion_field,_failed=true,_missing_error
=== RUN   TestGetConversionStatus/Empty_object
=== RUN   TestGetConversionStatus/Nil_object
=== RUN   TestGetConversionStatus/Status_not_a_map
=== RUN   TestGetConversionStatus/Conversion_not_a_map
--- PASS: TestGetConversionStatus (0.00s)
--- PASS: TestGetConversionStatus/No_status_field (0.00s)
--- PASS: TestGetConversionStatus/Status_field,_but_no_conversion_field (0.00s)
--- PASS: TestGetConversionStatus/Conversion_field,_failed=true,_with_storedVersion_and_error (0.00s)
--- PASS: TestGetConversionStatus/Conversion_field,_failed=false (0.00s)
--- PASS: TestGetConversionStatus/Conversion_field,_missing_failed_(defaults_to_false) (0.00s)
--- PASS: TestGetConversionStatus/Conversion_field,_failed=true,_missing_storedVersion (0.00s)
--- PASS: TestGetConversionStatus/Conversion_field,_failed=true,_missing_error (0.00s)
--- PASS: TestGetConversionStatus/Empty_object (0.00s)
--- PASS: TestGetConversionStatus/Nil_object (0.00s)
--- PASS: TestGetConversionStatus/Status_not_a_map (0.00s)
--- PASS: TestGetConversionStatus/Conversion_not_a_map (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboards/service/client	(cached)
=== RUN   TestParseResults
=== RUN   TestParseResults/should_parse_results
=== RUN   TestParseResults/should_return_error_when_trying_to_parse_results_with_mismatch_length_between_Columns_and_row_Cells
--- PASS: TestParseResults (0.00s)
--- PASS: TestParseResults/should_parse_results (0.00s)
--- PASS: TestParseResults/should_return_error_when_trying_to_parse_results_with_mismatch_length_between_Columns_and_row_Cells (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboards/service/search	(cached)
?   	github.com/grafana/grafana/pkg/services/dashboardsnapshots	[no test files]
=== RUN   TestIntegrationDashboardSnapshotDBAccess
database_test.go:30: skipping integration test
--- SKIP: TestIntegrationDashboardSnapshotDBAccess (0.00s)
=== RUN   TestIntegrationDeleteExpiredSnapshots
database_test.go:164: skipping integration test
--- SKIP: TestIntegrationDeleteExpiredSnapshots (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboardsnapshots/database	(cached)
=== RUN   TestDashboardSnapshotsService
=== RUN   TestDashboardSnapshotsService/create_dashboard_snapshot_should_encrypt_the_dashboard
=== RUN   TestDashboardSnapshotsService/get_dashboard_snapshot_should_return_the_dashboard_decrypted
--- PASS: TestDashboardSnapshotsService (0.40s)
--- PASS: TestDashboardSnapshotsService/create_dashboard_snapshot_should_encrypt_the_dashboard (0.01s)
--- PASS: TestDashboardSnapshotsService/get_dashboard_snapshot_should_return_the_dashboard_decrypted (0.00s)
=== RUN   TestValidateDashboardExists
=== RUN   TestValidateDashboardExists/returns_false_when_dashboard_does_not_exist
=== RUN   TestValidateDashboardExists/returns_true_when_dashboard_exists
--- PASS: TestValidateDashboardExists (0.00s)
--- PASS: TestValidateDashboardExists/returns_false_when_dashboard_does_not_exist (0.00s)
--- PASS: TestValidateDashboardExists/returns_true_when_dashboard_exists (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboardsnapshots/service	(cached)
?   	github.com/grafana/grafana/pkg/services/dashboardversion	[no test files]
=== RUN   TestDashboardVersionService
=== RUN   TestDashboardVersionService/Get_dashboard_version
=== RUN   TestDashboardVersionService/Get_dashboard_versions_through_k8s
=== RUN   TestDashboardVersionService/should_dashboard_not_found_error_when_k8s_returns_not_found
--- PASS: TestDashboardVersionService (0.00s)
--- PASS: TestDashboardVersionService/Get_dashboard_version (0.00s)
--- PASS: TestDashboardVersionService/Get_dashboard_versions_through_k8s (0.00s)
--- PASS: TestDashboardVersionService/should_dashboard_not_found_error_when_k8s_returns_not_found (0.00s)
=== RUN   TestDeleteExpiredVersions
=== RUN   TestDeleteExpiredVersions/Don't_delete_anything_if_there_are_no_expired_versions
=== RUN   TestDeleteExpiredVersions/Clean_up_old_dashboard_versions_successfully
=== RUN   TestDeleteExpiredVersions/Clean_up_old_dashboard_versions_with_error
--- PASS: TestDeleteExpiredVersions (0.00s)
--- PASS: TestDeleteExpiredVersions/Don't_delete_anything_if_there_are_no_expired_versions (0.00s)
--- PASS: TestDeleteExpiredVersions/Clean_up_old_dashboard_versions_successfully (0.00s)
--- PASS: TestDeleteExpiredVersions/Clean_up_old_dashboard_versions_with_error (0.00s)
=== RUN   TestListDashboardVersions
=== RUN   TestListDashboardVersions/List_all_versions_for_a_given_Dashboard_ID
=== RUN   TestListDashboardVersions/List_all_versions_for_a_non-existent_DashboardID
=== RUN   TestListDashboardVersions/List_all_versions_for_a_given_DashboardUID
=== RUN   TestListDashboardVersions/List_all_versions_for_a_given_non-existent_DashboardUID
=== RUN   TestListDashboardVersions/List_Dashboard_versions_-_error_from_store
=== RUN   TestListDashboardVersions/List_all_versions_for_a_given_Dashboard_ID_through_k8s
=== RUN   TestListDashboardVersions/should_return_dashboard_not_found_error_when_k8s_client_says_not_found
--- PASS: TestListDashboardVersions (0.00s)
--- PASS: TestListDashboardVersions/List_all_versions_for_a_given_Dashboard_ID (0.00s)
--- PASS: TestListDashboardVersions/List_all_versions_for_a_non-existent_DashboardID (0.00s)
--- PASS: TestListDashboardVersions/List_all_versions_for_a_given_DashboardUID (0.00s)
--- PASS: TestListDashboardVersions/List_all_versions_for_a_given_non-existent_DashboardUID (0.00s)
--- PASS: TestListDashboardVersions/List_Dashboard_versions_-_error_from_store (0.00s)
--- PASS: TestListDashboardVersions/List_all_versions_for_a_given_Dashboard_ID_through_k8s (0.00s)
--- PASS: TestListDashboardVersions/should_return_dashboard_not_found_error_when_k8s_client_says_not_found (0.00s)
=== RUN   TestIntegrationXORMGetDashboardVersion
xorm_store_test.go:11: skipping integration test
--- SKIP: TestIntegrationXORMGetDashboardVersion (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/dashboardversion/dashverimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/dashboardversion/dashvertest	[no test files]
=== RUN   TestDataProxy
=== RUN   TestDataProxy/extractProxyPath
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#01
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#02
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#03
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#04
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#05
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#06
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#07
=== RUN   TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#08
--- PASS: TestDataProxy (0.00s)
--- PASS: TestDataProxy/extractProxyPath (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#01 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#02 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#03 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#04 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#05 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#06 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#07 (0.00s)
--- PASS: TestDataProxy/extractProxyPath/Given_raw_path,_should_extract_expected_proxy_path#08 (0.00s)
=== RUN   TestDatasourceProxy_proxyDatasourceRequest
=== RUN   TestDatasourceProxy_proxyDatasourceRequest/Empty_datasource_URL_will_return_a_400_HTTP_status_code
=== RUN   TestDatasourceProxy_proxyDatasourceRequest/Invalid_datasource_URL_will_return_a_400_HTTP_status_code
--- PASS: TestDatasourceProxy_proxyDatasourceRequest (0.00s)
--- PASS: TestDatasourceProxy_proxyDatasourceRequest/Empty_datasource_URL_will_return_a_400_HTTP_status_code (0.00s)
--- PASS: TestDatasourceProxy_proxyDatasourceRequest/Invalid_datasource_URL_will_return_a_400_HTTP_status_code (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/datasourceproxy	(cached)
=== RUN   TestAllowedCookies
=== RUN   TestAllowedCookies/Usual_json_data_with_keepCookies
=== RUN   TestAllowedCookies/Usual_json_data_without_kepCookies
=== RUN   TestAllowedCookies/Usual_json_data_that_has_multiple_values_in_keepCookies
--- PASS: TestAllowedCookies (0.00s)
--- PASS: TestAllowedCookies/Usual_json_data_with_keepCookies (0.00s)
--- PASS: TestAllowedCookies/Usual_json_data_without_kepCookies (0.00s)
--- PASS: TestAllowedCookies/Usual_json_data_that_has_multiple_values_in_keepCookies (0.00s)
=== RUN   TestTeamHTTPHeaders
=== RUN   TestTeamHTTPHeaders/Usual_json_data_with_teamHttpHeaders
=== RUN   TestTeamHTTPHeaders/Json_data_without_teamHttpHeaders
--- PASS: TestTeamHTTPHeaders (0.00s)
--- PASS: TestTeamHTTPHeaders/Usual_json_data_with_teamHttpHeaders (0.00s)
--- PASS: TestTeamHTTPHeaders/Json_data_without_teamHttpHeaders (0.00s)
=== RUN   TestIsSecureSocksDSProxyEnabled
=== RUN   TestIsSecureSocksDSProxyEnabled/Empty_json
=== RUN   TestIsSecureSocksDSProxyEnabled/Json_with_enableSecureSocksProxy
=== RUN   TestIsSecureSocksDSProxyEnabled/Json_with_string_enableSecureSocksProxy
=== RUN   TestIsSecureSocksDSProxyEnabled/Json_with_enableSecureSocksProxy_false
=== RUN   TestIsSecureSocksDSProxyEnabled/Json_with_no_json_data
--- PASS: TestIsSecureSocksDSProxyEnabled (0.00s)
--- PASS: TestIsSecureSocksDSProxyEnabled/Empty_json (0.00s)
--- PASS: TestIsSecureSocksDSProxyEnabled/Json_with_enableSecureSocksProxy (0.00s)
--- PASS: TestIsSecureSocksDSProxyEnabled/Json_with_string_enableSecureSocksProxy (0.00s)
--- PASS: TestIsSecureSocksDSProxyEnabled/Json_with_enableSecureSocksProxy_false (0.00s)
--- PASS: TestIsSecureSocksDSProxyEnabled/Json_with_no_json_data (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/datasources	(cached)
?   	github.com/grafana/grafana/pkg/services/datasources/fakes	[no test files]
?   	github.com/grafana/grafana/pkg/services/datasources/guardian	[no test files]
=== RUN   TestService_AddDataSource
=== RUN   TestService_AddDataSource/should_not_fail_if_the_plugin_is_not_installed
=== RUN   TestService_AddDataSource/should_fail_if_the_datasource_name_is_too_long
=== RUN   TestService_AddDataSource/should_fail_if_the_datasource_url_is_invalid
=== RUN   TestService_AddDataSource/should_fail_if_the_datasource_managed_permissions_fail
=== RUN   TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)
=== RUN   TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_success_to_run_admission_hooks
=== RUN   TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_ignore_if_AdmissionHandler_is_not_implemented_for_v0alpha1
=== RUN   TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_fail_at_validation
=== RUN   TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_mutate_a_request
--- PASS: TestService_AddDataSource (0.30s)
--- PASS: TestService_AddDataSource/should_not_fail_if_the_plugin_is_not_installed (0.26s)
--- PASS: TestService_AddDataSource/should_fail_if_the_datasource_name_is_too_long (0.00s)
--- PASS: TestService_AddDataSource/should_fail_if_the_datasource_url_is_invalid (0.00s)
--- PASS: TestService_AddDataSource/should_fail_if_the_datasource_managed_permissions_fail (0.01s)
--- PASS: TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL) (0.02s)
--- PASS: TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_success_to_run_admission_hooks (0.01s)
--- PASS: TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_ignore_if_AdmissionHandler_is_not_implemented_for_v0alpha1 (0.01s)
--- PASS: TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_fail_at_validation (0.00s)
--- PASS: TestService_AddDataSource/if_a_plugin_has_an_API_version_defined_(EXPERIMENTAL)/should_mutate_a_request (0.01s)
=== RUN   TestService_getAvailableName
=== RUN   TestService_getAvailableName/should_return_type_as_the_name_if_no_DS_are_passed_in
=== RUN   TestService_getAvailableName/should_return_type_as_the_name_if_no_DS_with_that_name_exists
=== RUN   TestService_getAvailableName/should_return_type-1_as_the_name_if_one_data_source_with_that_name_exists
=== RUN   TestService_getAvailableName/should_correctly_increment_the_number_suffix_of_the_name
=== RUN   TestService_getAvailableName/should_correctly_increment_the_number_suffix_for_multidigit_numbers
=== RUN   TestService_getAvailableName/name_comparison_should_be_case_insensitive
--- PASS: TestService_getAvailableName (0.00s)
--- PASS: TestService_getAvailableName/should_return_type_as_the_name_if_no_DS_are_passed_in (0.00s)
--- PASS: TestService_getAvailableName/should_return_type_as_the_name_if_no_DS_with_that_name_exists (0.00s)
--- PASS: TestService_getAvailableName/should_return_type-1_as_the_name_if_one_data_source_with_that_name_exists (0.00s)
--- PASS: TestService_getAvailableName/should_correctly_increment_the_number_suffix_of_the_name (0.00s)
--- PASS: TestService_getAvailableName/should_correctly_increment_the_number_suffix_for_multidigit_numbers (0.00s)
--- PASS: TestService_getAvailableName/name_comparison_should_be_case_insensitive (0.00s)
=== RUN   TestService_UpdateDataSource
=== RUN   TestService_UpdateDataSource/should_return_not_found_error_if_datasource_not_found
=== RUN   TestService_UpdateDataSource/should_return_validation_error_if_command_validation_failed
=== RUN   TestService_UpdateDataSource/should_return_no_error_if_updated_datasource
=== RUN   TestService_UpdateDataSource/should_return_error_if_datasource_with_same_name_exist
=== RUN   TestService_UpdateDataSource/should_merge_cmd.SecureJsonData_with_db_data
=== RUN   TestService_UpdateDataSource/should_preserve_cmd.SecureJsonData_when_cmd.IgnoreOldSecureJsonData=true
=== RUN   TestService_UpdateDataSource/should_run_validation_and_mutation_hooks
=== RUN   TestService_UpdateDataSource/Should_update_LBAC_rules_when_updating_from_API
=== RUN   TestService_UpdateDataSource/Should_preserve_LBAC_rules_when_not_updating_from_API
=== RUN   TestService_UpdateDataSource/Should_not_remove_stored_rules_without_AllowLBACRuleUpdates
=== RUN   TestService_UpdateDataSource/Should_not_populate_empty_stored_rules_without_AllowLBACRuleUpdates
--- PASS: TestService_UpdateDataSource (0.14s)
--- PASS: TestService_UpdateDataSource/should_return_not_found_error_if_datasource_not_found (0.00s)
--- PASS: TestService_UpdateDataSource/should_return_validation_error_if_command_validation_failed (0.01s)
--- PASS: TestService_UpdateDataSource/should_return_no_error_if_updated_datasource (0.01s)
--- PASS: TestService_UpdateDataSource/should_return_error_if_datasource_with_same_name_exist (0.01s)
--- PASS: TestService_UpdateDataSource/should_merge_cmd.SecureJsonData_with_db_data (0.02s)
--- PASS: TestService_UpdateDataSource/should_preserve_cmd.SecureJsonData_when_cmd.IgnoreOldSecureJsonData=true (0.02s)
--- PASS: TestService_UpdateDataSource/should_run_validation_and_mutation_hooks (0.01s)
--- PASS: TestService_UpdateDataSource/Should_update_LBAC_rules_when_updating_from_API (0.01s)
--- PASS: TestService_UpdateDataSource/Should_preserve_LBAC_rules_when_not_updating_from_API (0.01s)
--- PASS: TestService_UpdateDataSource/Should_not_remove_stored_rules_without_AllowLBACRuleUpdates (0.01s)
--- PASS: TestService_UpdateDataSource/Should_not_populate_empty_stored_rules_without_AllowLBACRuleUpdates (0.01s)
=== RUN   TestService_DeleteDataSource
=== RUN   TestService_DeleteDataSource/should_not_return_an_error_if_data_source_doesn't_exist
=== RUN   TestService_DeleteDataSource/should_successfully_delete_a_data_source_that_exists
--- PASS: TestService_DeleteDataSource (0.01s)
--- PASS: TestService_DeleteDataSource/should_not_return_an_error_if_data_source_doesn't_exist (0.00s)
--- PASS: TestService_DeleteDataSource/should_successfully_delete_a_data_source_that_exists (0.01s)
=== RUN   TestService_NameScopeResolver
=== RUN   TestService_NameScopeResolver/correct
=== RUN   TestService_NameScopeResolver/asterisk_in_name
=== RUN   TestService_NameScopeResolver/complex_name
=== RUN   TestService_NameScopeResolver/colon_in_name
=== RUN   TestService_NameScopeResolver/unknown_datasource
=== RUN   TestService_NameScopeResolver/malformed_scope
=== RUN   TestService_NameScopeResolver/empty_name_scope
--- PASS: TestService_NameScopeResolver (0.00s)
--- PASS: TestService_NameScopeResolver/correct (0.00s)
--- PASS: TestService_NameScopeResolver/asterisk_in_name (0.00s)
--- PASS: TestService_NameScopeResolver/complex_name (0.00s)
--- PASS: TestService_NameScopeResolver/colon_in_name (0.00s)
--- PASS: TestService_NameScopeResolver/unknown_datasource (0.00s)
--- PASS: TestService_NameScopeResolver/malformed_scope (0.00s)
--- PASS: TestService_NameScopeResolver/empty_name_scope (0.00s)
=== RUN   TestService_IDScopeResolver
=== RUN   TestService_IDScopeResolver/correct
=== RUN   TestService_IDScopeResolver/unknown_datasource
=== RUN   TestService_IDScopeResolver/malformed_scope
=== RUN   TestService_IDScopeResolver/empty_uid_scope
--- PASS: TestService_IDScopeResolver (0.00s)
--- PASS: TestService_IDScopeResolver/correct (0.00s)
--- PASS: TestService_IDScopeResolver/unknown_datasource (0.00s)
--- PASS: TestService_IDScopeResolver/malformed_scope (0.00s)
--- PASS: TestService_IDScopeResolver/empty_uid_scope (0.00s)
=== RUN   TestService_awsServiceNamespace
=== RUN   TestService_awsServiceNamespace/elasticsearch
=== RUN   TestService_awsServiceNamespace/opendistro
=== RUN   TestService_awsServiceNamespace/opensearch_not_serverless
=== RUN   TestService_awsServiceNamespace/opensearch_not_serverless#01
=== RUN   TestService_awsServiceNamespace/opensearch_serverless
=== RUN   TestService_awsServiceNamespace/prometheus
=== RUN   TestService_awsServiceNamespace/amazon_prometheus
=== RUN   TestService_awsServiceNamespace/alertmanager
=== RUN   TestService_awsServiceNamespace/panic
=== RUN   TestService_awsServiceNamespace/azure_prometheus
--- PASS: TestService_awsServiceNamespace (0.00s)
--- PASS: TestService_awsServiceNamespace/elasticsearch (0.00s)
--- PASS: TestService_awsServiceNamespace/opendistro (0.00s)
--- PASS: TestService_awsServiceNamespace/opensearch_not_serverless (0.00s)
--- PASS: TestService_awsServiceNamespace/opensearch_not_serverless#01 (0.00s)
--- PASS: TestService_awsServiceNamespace/opensearch_serverless (0.00s)
--- PASS: TestService_awsServiceNamespace/prometheus (0.00s)
--- PASS: TestService_awsServiceNamespace/amazon_prometheus (0.00s)
--- PASS: TestService_awsServiceNamespace/alertmanager (0.00s)
--- PASS: TestService_awsServiceNamespace/panic (0.00s)
--- PASS: TestService_awsServiceNamespace/azure_prometheus (0.00s)
=== RUN   TestService_GetHttpTransport
=== RUN   TestService_GetHttpTransport/Should_use_cached_proxy
=== RUN   TestService_GetHttpTransport/Should_not_use_cached_proxy_when_datasource_updated
=== RUN   TestService_GetHttpTransport/Should_set_TLS_client_authentication_enabled_if_configured_in_JsonData
=== RUN   TestService_GetHttpTransport/Should_set_user-supplied_TLS_CA_if_configured_in_JsonData
=== RUN   TestService_GetHttpTransport/Should_set_skip_TLS_verification_if_configured_in_JsonData
=== RUN   TestService_GetHttpTransport/Should_set_custom_headers_if_configured_in_JsonData
=== RUN   TestService_GetHttpTransport/Should_set_request_Host_if_it_is_configured_in_custom_headers_within_JsonData
=== RUN   TestService_GetHttpTransport/Should_populate_SigV4_options_if_configured_in_JsonData
--- PASS: TestService_GetHttpTransport (0.05s)
--- PASS: TestService_GetHttpTransport/Should_use_cached_proxy (0.00s)
--- PASS: TestService_GetHttpTransport/Should_not_use_cached_proxy_when_datasource_updated (0.00s)
--- PASS: TestService_GetHttpTransport/Should_set_TLS_client_authentication_enabled_if_configured_in_JsonData (0.01s)
--- PASS: TestService_GetHttpTransport/Should_set_user-supplied_TLS_CA_if_configured_in_JsonData (0.01s)
--- PASS: TestService_GetHttpTransport/Should_set_skip_TLS_verification_if_configured_in_JsonData (0.00s)
--- PASS: TestService_GetHttpTransport/Should_set_custom_headers_if_configured_in_JsonData (0.01s)
--- PASS: TestService_GetHttpTransport/Should_set_request_Host_if_it_is_configured_in_custom_headers_within_JsonData (0.01s)
--- PASS: TestService_GetHttpTransport/Should_populate_SigV4_options_if_configured_in_JsonData (0.00s)
=== RUN   TestService_getProxySettings
=== RUN   TestService_getProxySettings/Should_default_to_disabled
=== RUN   TestService_getProxySettings/Username_should_default_to_datasource_UID
=== RUN   TestService_getProxySettings/Can_override_options
--- PASS: TestService_getProxySettings (0.01s)
--- PASS: TestService_getProxySettings/Should_default_to_disabled (0.00s)
--- PASS: TestService_getProxySettings/Username_should_default_to_datasource_UID (0.00s)
--- PASS: TestService_getProxySettings/Can_override_options (0.01s)
=== RUN   TestService_getTimeout
--- PASS: TestService_getTimeout (0.00s)
=== RUN   TestService_GetDecryptedValues
=== RUN   TestService_GetDecryptedValues/should_migrate_and_retrieve_values_from_secure_json_data
=== RUN   TestService_GetDecryptedValues/should_retrieve_values_from_secret_store
--- PASS: TestService_GetDecryptedValues (0.02s)
--- PASS: TestService_GetDecryptedValues/should_migrate_and_retrieve_values_from_secure_json_data (0.01s)
--- PASS: TestService_GetDecryptedValues/should_retrieve_values_from_secret_store (0.01s)
=== RUN   TestDataSource_CustomHeaders
=== RUN   TestDataSource_CustomHeaders/valid_custom_headers
=== RUN   TestDataSource_CustomHeaders/missing_header_value
=== RUN   TestDataSource_CustomHeaders/non_customer_header_value
=== RUN   TestDataSource_CustomHeaders/add_multiple_header_value
--- PASS: TestDataSource_CustomHeaders (0.02s)
--- PASS: TestDataSource_CustomHeaders/valid_custom_headers (0.00s)
--- PASS: TestDataSource_CustomHeaders/missing_header_value (0.00s)
--- PASS: TestDataSource_CustomHeaders/non_customer_header_value (0.00s)
--- PASS: TestDataSource_CustomHeaders/add_multiple_header_value (0.01s)
=== RUN   TestIntegrationDataAccess
store_test.go:21: skipping integration test
--- SKIP: TestIntegrationDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/datasources/service	(cached)
=== RUN   Test_KeyToBytes
=== RUN   Test_KeyToBytes/with_regular_secret
=== RUN   Test_KeyToBytes/with_very_long_secret
--- PASS: Test_KeyToBytes (0.00s)
--- PASS: Test_KeyToBytes/with_regular_secret (0.00s)
--- PASS: Test_KeyToBytes/with_very_long_secret (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/encryption	(cached)
=== RUN   Test_aesCfbCipher
--- PASS: Test_aesCfbCipher (0.00s)
=== RUN   Test_aesDecipher
=== RUN   Test_aesDecipher/aes-cfb
=== RUN   Test_aesDecipher/aes-gcm
--- PASS: Test_aesDecipher (0.01s)
--- PASS: Test_aesDecipher/aes-cfb (0.00s)
--- PASS: Test_aesDecipher/aes-gcm (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/encryption/provider	(cached)
=== RUN   Test_Service
=== RUN   Test_Service/decrypt_empty_payload_should_return_error
=== RUN   Test_Service/encrypt_and_decrypt_with_aes-cfb_should_work
=== RUN   Test_Service/decrypt_with_aes-gcm_should_work
=== RUN   Test_Service/encrypt_with_aes-gcm_should_fail
=== RUN   Test_Service/decrypting_legacy_ciphertext_should_work
--- PASS: Test_Service (0.01s)
--- PASS: Test_Service/decrypt_empty_payload_should_return_error (0.00s)
--- PASS: Test_Service/encrypt_and_decrypt_with_aes-cfb_should_work (0.01s)
--- PASS: Test_Service/decrypt_with_aes-gcm_should_work (0.00s)
--- PASS: Test_Service/encrypt_with_aes-gcm_should_fail (0.00s)
--- PASS: Test_Service/decrypting_legacy_ciphertext_should_work (0.00s)
=== RUN   Test_Service_MissingProvider
--- PASS: Test_Service_MissingProvider (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/encryption/service	(cached)
?   	github.com/grafana/grafana/pkg/services/extsvcauth	[no test files]
=== RUN   TestRegistry_CleanUpOrphanedExternalServices
=== RUN   TestRegistry_CleanUpOrphanedExternalServices/should_not_clean_up_when_every_service_registered
=== RUN   TestRegistry_CleanUpOrphanedExternalServices/should_clean_up_an_orphaned_service_account
--- PASS: TestRegistry_CleanUpOrphanedExternalServices (0.00s)
--- PASS: TestRegistry_CleanUpOrphanedExternalServices/should_not_clean_up_when_every_service_registered (0.00s)
--- PASS: TestRegistry_CleanUpOrphanedExternalServices/should_clean_up_an_orphaned_service_account (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/extsvcauth/registry	(cached)
?   	github.com/grafana/grafana/pkg/services/extsvcauth/tests	[no test files]
=== RUN   TestFeatureManager
=== RUN   TestFeatureManager/check_testing_stubs
=== RUN   TestFeatureManager/check_description_and_stage_configs
=== RUN   TestFeatureManager/check_startup_false_flags
--- PASS: TestFeatureManager (0.00s)
--- PASS: TestFeatureManager/check_testing_stubs (0.00s)
--- PASS: TestFeatureManager/check_description_and_stage_configs (0.00s)
--- PASS: TestFeatureManager/check_startup_false_flags (0.00s)
=== RUN   TestProvideOpenFeatureManager
=== RUN   TestProvideOpenFeatureManager/static_provider
=== RUN   TestProvideOpenFeatureManager/goff_provider
=== RUN   TestProvideOpenFeatureManager/invalid_provider
--- PASS: TestProvideOpenFeatureManager (0.00s)
--- PASS: TestProvideOpenFeatureManager/static_provider (0.00s)
--- PASS: TestProvideOpenFeatureManager/goff_provider (0.00s)
--- PASS: TestProvideOpenFeatureManager/invalid_provider (0.00s)
=== RUN   Test_CtxAttrs
=== RUN   Test_CtxAttrs/empty_config_-_only_default_attributes_should_be_present
=== RUN   Test_CtxAttrs/config_with_some_attributes
=== RUN   Test_CtxAttrs/config_with_an_attribute_that_overrides_a_default_one
--- PASS: Test_CtxAttrs (0.00s)
--- PASS: Test_CtxAttrs/empty_config_-_only_default_attributes_should_be_present (0.00s)
--- PASS: Test_CtxAttrs/config_with_some_attributes (0.00s)
--- PASS: Test_CtxAttrs/config_with_an_attribute_that_overrides_a_default_one (0.00s)
=== RUN   TestFeatureService
--- PASS: TestFeatureService (0.00s)
=== RUN   Test_StaticProvider
=== RUN   Test_StaticProvider/empty_config_loads_standard_flags
=== RUN   Test_StaticProvider/featureOne_does_not_exist_in_standard_flags_but_should_be_loaded
=== RUN   Test_StaticProvider/missing_feature_should_return_default_evaluation_value_and_an_error
--- PASS: Test_StaticProvider (0.00s)
--- PASS: Test_StaticProvider/empty_config_loads_standard_flags (0.00s)
--- PASS: Test_StaticProvider/featureOne_does_not_exist_in_standard_flags_but_should_be_loaded (0.00s)
--- PASS: Test_StaticProvider/missing_feature_should_return_default_evaluation_value_and_an_error (0.00s)
=== RUN   TestFeatureToggleFiles
=== RUN   TestFeatureToggleFiles/check_registry_constraints
=== RUN   TestFeatureToggleFiles/check_registry_constraints/update_k8s_resource_list
=== RUN   TestFeatureToggleFiles/verify_files
--- PASS: TestFeatureToggleFiles (0.02s)
--- PASS: TestFeatureToggleFiles/check_registry_constraints (0.01s)
--- PASS: TestFeatureToggleFiles/check_registry_constraints/update_k8s_resource_list (0.01s)
--- PASS: TestFeatureToggleFiles/verify_files (0.01s)
=== RUN   TestFeatureUsageStats
--- PASS: TestFeatureUsageStats (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/featuremgmt	0.048s
?   	github.com/grafana/grafana/pkg/services/featuremgmt/strcase	[no test files]
?   	github.com/grafana/grafana/pkg/services/folder	[no test files]
=== RUN   TestFolderConversions
--- PASS: TestFolderConversions (0.00s)
=== RUN   TestFolderListConversions
--- PASS: TestFolderListConversions (0.00s)
=== RUN   TestIntegrationDashboardFolderStore
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByUID
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByUID/should_return_folder_by_UID
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByUID/should_not_find_dashboard
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByUID/should_search_in_organization
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByID
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByID/should_return_folder_by_ID
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByID/should_not_find_dashboard
=== RUN   TestIntegrationDashboardFolderStore/GetFolderByID/should_search_in_organization
--- PASS: TestIntegrationDashboardFolderStore (0.24s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByUID (0.24s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByUID/should_return_folder_by_UID (0.00s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByUID/should_not_find_dashboard (0.00s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByUID/should_search_in_organization (0.00s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByID (0.00s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByID/should_return_folder_by_ID (0.00s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByID/should_not_find_dashboard (0.00s)
--- PASS: TestIntegrationDashboardFolderStore/GetFolderByID/should_search_in_organization (0.00s)
=== RUN   TestIntegrationGetDashFolderStore
dashboard_folder_store_test.go:117: skipping integration test
--- SKIP: TestIntegrationGetDashFolderStore (0.00s)
=== RUN   TestIntegrationProvideFolderService
folder_test.go:67: skipping integration test
--- SKIP: TestIntegrationProvideFolderService (0.00s)
=== RUN   TestIntegrationFolderService
folder_test.go:84: skipping integration test
--- SKIP: TestIntegrationFolderService (0.00s)
=== RUN   TestIntegrationNestedFolderService
folder_test.go:373: skipping integration test
--- SKIP: TestIntegrationNestedFolderService (0.00s)
=== RUN   TestNestedFolderServiceFeatureToggle
=== RUN   TestNestedFolderServiceFeatureToggle/create_folder
--- PASS: TestNestedFolderServiceFeatureToggle (0.00s)
--- PASS: TestNestedFolderServiceFeatureToggle/create_folder (0.00s)
=== RUN   TestFolderServiceDualWrite
=== RUN   TestFolderServiceDualWrite/When_creating_a_folder_it_should_trim_leading_and_trailing_spaces_in_both_dashboard_and_folder_tables
=== RUN   TestFolderServiceDualWrite/When_updating_a_folder_it_should_trim_leading_and_trailing_spaces_in_both_dashboard_and_folder_tables
--- PASS: TestFolderServiceDualWrite (0.01s)
--- PASS: TestFolderServiceDualWrite/When_creating_a_folder_it_should_trim_leading_and_trailing_spaces_in_both_dashboard_and_folder_tables (0.00s)
--- PASS: TestFolderServiceDualWrite/When_updating_a_folder_it_should_trim_leading_and_trailing_spaces_in_both_dashboard_and_folder_tables (0.00s)
=== RUN   TestNestedFolderService
=== RUN   TestNestedFolderService/with_feature_flag_unset
=== RUN   TestNestedFolderService/with_feature_flag_unset/Should_create_a_folder_in_both_dashboard_and_folders_tables
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/Should_be_able_to_create_a_nested_folder_under_the_root_with_the_right_permissions
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/Should_not_be_able_to_create_a_folder_under_the_root_with_subfolder_creation_permissions
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/Should_not_be_able_to_create_new_folder_under_another_folder_without_the_right_permissions
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/Should_be_able_to_create_new_folder_under_another_folder_with_the_right_permissions
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/create_without_UID,_no_error
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/create_failed_because_of_circular_reference
logger.go:256: time=2025-04-14T21:34:41.456Z level=ERROR msg="error saving folder to nested folder store" error="[folder.maximum-depth-reached] failed to validate parent folder"
2025-04-15T08:37:21.8199871Z
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/create_returns_error_from_nested_folder_service
logger.go:256: time=2025-04-14T21:34:41.458Z level=ERROR msg="error saving folder to nested folder store" error=FAILED
2025-04-15T08:37:21.8202730Z
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_without_the_right_permissions_should_fail
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_with_the_right_permissions_succeeds
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/cannot_move_the_k6_folder_even_when_has_permissions_to_move_folders
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/cannot_move_a_k6_subfolder_even_when_has_permissions_to_move_folders
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_to_the_root_folder_without_folder_creation_permissions_fails
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_to_the_root_folder_with_root_folder_creation_permissions_succeeds
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_to_the_root_folder_with_only_subfolder_creation_permissions_fails
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_when_parentUID_in_the_current_subtree_returns_error_from_nested_folder_service
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_when_new_parentUID_depth_+_subTree_height_bypassed_maximum_depth_returns_error
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/move_when_parentUID_in_the_current_subtree_returns_error_from_nested_folder_service#01
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/create_returns_error_if_maximum_depth_reached
logger.go:256: time=2025-04-14T21:34:41.461Z level=ERROR msg="error saving folder to nested folder store" error="[folder.maximum-depth-reached] failed to validate parent folder"
2025-04-15T08:37:21.8217559Z
=== RUN   TestNestedFolderService/with_nested_folder_feature_flag_on/get_default_folder,_no_error
--- PASS: TestNestedFolderService (0.02s)
--- PASS: TestNestedFolderService/with_feature_flag_unset (0.00s)
--- PASS: TestNestedFolderService/with_feature_flag_unset/Should_create_a_folder_in_both_dashboard_and_folders_tables (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on (0.02s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/Should_be_able_to_create_a_nested_folder_under_the_root_with_the_right_permissions (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/Should_not_be_able_to_create_a_folder_under_the_root_with_subfolder_creation_permissions (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/Should_not_be_able_to_create_new_folder_under_another_folder_without_the_right_permissions (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/Should_be_able_to_create_new_folder_under_another_folder_with_the_right_permissions (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/create_without_UID,_no_error (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/create_failed_because_of_circular_reference (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/create_returns_error_from_nested_folder_service (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_without_the_right_permissions_should_fail (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_with_the_right_permissions_succeeds (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/cannot_move_the_k6_folder_even_when_has_permissions_to_move_folders (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/cannot_move_a_k6_subfolder_even_when_has_permissions_to_move_folders (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_to_the_root_folder_without_folder_creation_permissions_fails (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_to_the_root_folder_with_root_folder_creation_permissions_succeeds (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_to_the_root_folder_with_only_subfolder_creation_permissions_fails (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_when_parentUID_in_the_current_subtree_returns_error_from_nested_folder_service (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_when_new_parentUID_depth_+_subTree_height_bypassed_maximum_depth_returns_error (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/move_when_parentUID_in_the_current_subtree_returns_error_from_nested_folder_service#01 (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/create_returns_error_if_maximum_depth_reached (0.00s)
--- PASS: TestNestedFolderService/with_nested_folder_feature_flag_on/get_default_folder,_no_error (0.00s)
=== RUN   TestIntegrationNestedFolderSharedWithMe
folder_test.go:1434: skipping integration test
--- SKIP: TestIntegrationNestedFolderSharedWithMe (0.00s)
=== RUN   TestFolderServiceGetFolder
logger.go:256: time=2025-04-14T21:34:41.464Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8281720Z
logger.go:256: time=2025-04-14T21:34:41.464Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8284739Z
logger.go:256: time=2025-04-14T21:34:41.464Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8287639Z
logger.go:256: time=2025-04-14T21:34:41.465Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8290677Z
logger.go:256: time=2025-04-14T21:34:41.465Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8293542Z
logger.go:256: time=2025-04-14T21:34:41.465Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8296426Z
=== RUN   TestFolderServiceGetFolder/when_flag_is_off
=== RUN   TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpath_is_false
=== RUN   TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpath_is_true
=== RUN   TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpathUIDs_is_false
=== RUN   TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpathUIDs_is_true
--- PASS: TestFolderServiceGetFolder (0.01s)
--- PASS: TestFolderServiceGetFolder/when_flag_is_off (0.00s)
--- PASS: TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpath_is_false (0.00s)
--- PASS: TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpath_is_true (0.00s)
--- PASS: TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpathUIDs_is_false (0.00s)
--- PASS: TestFolderServiceGetFolder/when_flag_is_on_and_WithFullpathUIDs_is_true (0.00s)
=== RUN   TestFolderServiceGetFolders
logger.go:256: time=2025-04-14T21:34:41.468Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8315900Z
logger.go:256: time=2025-04-14T21:34:41.469Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8318810Z
logger.go:256: time=2025-04-14T21:34:41.469Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8321741Z
logger.go:256: time=2025-04-14T21:34:41.469Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8324483Z
logger.go:256: time=2025-04-14T21:34:41.470Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8327195Z
logger.go:256: time=2025-04-14T21:34:41.470Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8330377Z
logger.go:256: time=2025-04-14T21:34:41.471Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8333053Z
logger.go:256: time=2025-04-14T21:34:41.471Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8334647Z
logger.go:256: time=2025-04-14T21:34:41.471Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8336351Z
logger.go:256: time=2025-04-14T21:34:41.471Z level=WARN msg="User does not belong to a user or service account namespace, using 0 as user ID" id=:0
2025-04-15T08:37:21.8337909Z
=== RUN   TestFolderServiceGetFolders/when_flag_is_off
=== RUN   TestFolderServiceGetFolders/when_flag_is_off/full_path_should_be_a_title
=== RUN   TestFolderServiceGetFolders/when_flag_is_off/full_path_should_be_a_title/path_should_not_be_escaped
--- PASS: TestFolderServiceGetFolders (0.01s)
--- PASS: TestFolderServiceGetFolders/when_flag_is_off (0.00s)
--- PASS: TestFolderServiceGetFolders/when_flag_is_off/full_path_should_be_a_title (0.00s)
--- PASS: TestFolderServiceGetFolders/when_flag_is_off/full_path_should_be_a_title/path_should_not_be_escaped (0.00s)
=== RUN   TestGetChildrenFilterByPermission
=== RUN   TestGetChildrenFilterByPermission/should_return_root_folders_with_view_permission
=== RUN   TestGetChildrenFilterByPermission/should_return_subfolders_with_view_permission
=== RUN   TestGetChildrenFilterByPermission/should_return_shared_with_me_folders_with_view_permission
=== RUN   TestGetChildrenFilterByPermission/should_return_root_folders_with_edit_permission
=== RUN   TestGetChildrenFilterByPermission/should_fail_returning_subfolders_with_edit_permission_when_parent_folder_has_no_edit_permission
=== RUN   TestGetChildrenFilterByPermission/should_return_shared_with_me_folders_with_edit_permission
--- PASS: TestGetChildrenFilterByPermission (0.01s)
--- PASS: TestGetChildrenFilterByPermission/should_return_root_folders_with_view_permission (0.00s)
--- PASS: TestGetChildrenFilterByPermission/should_return_subfolders_with_view_permission (0.00s)
--- PASS: TestGetChildrenFilterByPermission/should_return_shared_with_me_folders_with_view_permission (0.00s)
--- PASS: TestGetChildrenFilterByPermission/should_return_root_folders_with_edit_permission (0.00s)
--- PASS: TestGetChildrenFilterByPermission/should_fail_returning_subfolders_with_edit_permission_when_parent_folder_has_no_edit_permission (0.00s)
--- PASS: TestGetChildrenFilterByPermission/should_return_shared_with_me_folders_with_edit_permission (0.00s)
=== RUN   TestIntegration_canMove
folder_test.go:2266: skipping integration test
--- SKIP: TestIntegration_canMove (0.00s)
=== RUN   TestSupportBundle
--- PASS: TestSupportBundle (0.00s)
=== RUN   TestSplitFullpath
=== RUN   TestSplitFullpath/empty_string
=== RUN   TestSplitFullpath/root_folder
=== RUN   TestSplitFullpath/single_folder
=== RUN   TestSplitFullpath/single_folder_with_leading_slash
=== RUN   TestSplitFullpath/nested_folder
=== RUN   TestSplitFullpath/escaped_slashes
=== RUN   TestSplitFullpath/nested_folder_with_escaped_slashes
--- PASS: TestSplitFullpath (0.00s)
--- PASS: TestSplitFullpath/empty_string (0.00s)
--- PASS: TestSplitFullpath/root_folder (0.00s)
--- PASS: TestSplitFullpath/single_folder (0.00s)
--- PASS: TestSplitFullpath/single_folder_with_leading_slash (0.00s)
--- PASS: TestSplitFullpath/nested_folder (0.00s)
--- PASS: TestSplitFullpath/escaped_slashes (0.00s)
--- PASS: TestSplitFullpath/nested_folder_with_escaped_slashes (0.00s)
=== RUN   TestIntegrationFolderServiceViaUnifiedStorage
folder_unifiedstorage_test.go:59: skipping integration test
--- SKIP: TestIntegrationFolderServiceViaUnifiedStorage (0.00s)
=== RUN   TestSearchFoldersFromApiServer
=== RUN   TestSearchFoldersFromApiServer/Should_call_search_with_uids,_if_provided
=== RUN   TestSearchFoldersFromApiServer/Should_call_search_by_ID_if_uids_are_not_provided
=== RUN   TestSearchFoldersFromApiServer/Search_by_title,_wildcard_should_be_added_to_search_request_(won't_match_in_search_mock_if_not)
--- PASS: TestSearchFoldersFromApiServer (0.00s)
--- PASS: TestSearchFoldersFromApiServer/Should_call_search_with_uids,_if_provided (0.00s)
--- PASS: TestSearchFoldersFromApiServer/Should_call_search_by_ID_if_uids_are_not_provided (0.00s)
--- PASS: TestSearchFoldersFromApiServer/Search_by_title,_wildcard_should_be_added_to_search_request_(won't_match_in_search_mock_if_not) (0.00s)
=== RUN   TestGetFoldersFromApiServer
=== RUN   TestGetFoldersFromApiServer/Get_folder_by_title)
--- PASS: TestGetFoldersFromApiServer (0.00s)
--- PASS: TestGetFoldersFromApiServer/Get_folder_by_title) (0.00s)
=== RUN   TestDeleteFoldersFromApiServer
=== RUN   TestDeleteFoldersFromApiServer/Should_delete_folder
=== RUN   TestDeleteFoldersFromApiServer/Should_delete_folders,_dashboards,_and_public_dashboards_within_the_folder
--- PASS: TestDeleteFoldersFromApiServer (0.00s)
--- PASS: TestDeleteFoldersFromApiServer/Should_delete_folder (0.00s)
--- PASS: TestDeleteFoldersFromApiServer/Should_delete_folders,_dashboards,_and_public_dashboards_within_the_folder (0.00s)
=== RUN   TestIntegrationCreate
sqlstore_test.go:35: skipping integration test
--- SKIP: TestIntegrationCreate (0.00s)
=== RUN   TestIntegrationDelete
sqlstore_test.go:167: skipping integration test
--- SKIP: TestIntegrationDelete (0.00s)
=== RUN   TestIntegrationUpdate
sqlstore_test.go:214: skipping integration test
--- SKIP: TestIntegrationUpdate (0.00s)
=== RUN   TestIntegrationGet
sqlstore_test.go:389: skipping integration test
--- SKIP: TestIntegrationGet (0.00s)
=== RUN   TestIntegrationGetParents
sqlstore_test.go:524: skipping integration test
--- SKIP: TestIntegrationGetParents (0.00s)
=== RUN   TestIntegrationGetChildren
sqlstore_test.go:592: skipping integration test
--- SKIP: TestIntegrationGetChildren (0.00s)
=== RUN   TestIntegrationGetHeight
sqlstore_test.go:827: skipping integration test
--- SKIP: TestIntegrationGetHeight (0.00s)
=== RUN   TestIntegrationGetFolders
sqlstore_test.go:859: skipping integration test
--- SKIP: TestIntegrationGetFolders (0.00s)
=== RUN   TestComputeFullPath
=== RUN   TestComputeFullPath/empty_slice_should_return_empty_paths
=== RUN   TestComputeFullPath/single_element_should_return_single_path
=== RUN   TestComputeFullPath/multiple_parents_should_return_hierarchical_path
=== RUN   TestComputeFullPath/should_handle_special_characters_in_titles
--- PASS: TestComputeFullPath (0.00s)
--- PASS: TestComputeFullPath/empty_slice_should_return_empty_paths (0.00s)
--- PASS: TestComputeFullPath/single_element_should_return_single_path (0.00s)
--- PASS: TestComputeFullPath/multiple_parents_should_return_hierarchical_path (0.00s)
--- PASS: TestComputeFullPath/should_handle_special_characters_in_titles (0.00s)
=== RUN   TestGetParents
=== RUN   TestGetParents/should_return_list_of_parent_folders_of_a_given_folder_uid
=== RUN   TestGetParents/should_stop_if_user_doesnt_have_access_to_the_parent_folder
=== RUN   TestGetParents/should_stop_if_parent_folder_is_not_found
--- PASS: TestGetParents (0.00s)
--- PASS: TestGetParents/should_return_list_of_parent_folders_of_a_given_folder_uid (0.00s)
--- PASS: TestGetParents/should_stop_if_user_doesnt_have_access_to_the_parent_folder (0.00s)
--- PASS: TestGetParents/should_stop_if_parent_folder_is_not_found (0.00s)
=== RUN   TestGetChildren
=== RUN   TestGetChildren/should_be_able_to_find_children_folders,_and_set_defaults_for_pages
=== RUN   TestGetChildren/should_return_an_error_if_the_folder_is_not_found
=== RUN   TestGetChildren/pages_should_be_able_to_be_set,_general_folder_should_be_turned_to_empty_string,_and_folder_uids_should_be_passed_in
=== RUN   TestGetChildren/k6_folder_should_only_be_returned_to_service_accounts
=== RUN   TestGetChildren/should_not_do_get_requests_for_the_children_if_RefOnly_is_true
--- PASS: TestGetChildren (0.00s)
--- PASS: TestGetChildren/should_be_able_to_find_children_folders,_and_set_defaults_for_pages (0.00s)
--- PASS: TestGetChildren/should_return_an_error_if_the_folder_is_not_found (0.00s)
--- PASS: TestGetChildren/pages_should_be_able_to_be_set,_general_folder_should_be_turned_to_empty_string,_and_folder_uids_should_be_passed_in (0.00s)
--- PASS: TestGetChildren/k6_folder_should_only_be_returned_to_service_accounts (0.00s)
--- PASS: TestGetChildren/should_not_do_get_requests_for_the_children_if_RefOnly_is_true (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/folder/folderimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/folder/foldertest	[no test files]
?   	github.com/grafana/grafana/pkg/services/gcom	[no test files]
?   	github.com/grafana/grafana/pkg/services/grpcserver	[no test files]
?   	github.com/grafana/grafana/pkg/services/grpcserver/context	[no test files]
=== RUN   TestAuthenticator_Authenticate
=== RUN   TestAuthenticator_Authenticate/accepts_service_api_key_with_admin_role
=== RUN   TestAuthenticator_Authenticate/rejects_non-admin_role
=== RUN   TestAuthenticator_Authenticate/removes_auth_header_from_context
=== RUN   TestAuthenticator_Authenticate/sets_SignInUser
=== RUN   TestAuthenticator_Authenticate/sets_SignInUser_permissions
--- PASS: TestAuthenticator_Authenticate (0.04s)
--- PASS: TestAuthenticator_Authenticate/accepts_service_api_key_with_admin_role (0.01s)
--- PASS: TestAuthenticator_Authenticate/rejects_non-admin_role (0.01s)
--- PASS: TestAuthenticator_Authenticate/removes_auth_header_from_context (0.01s)
--- PASS: TestAuthenticator_Authenticate/sets_SignInUser (0.01s)
--- PASS: TestAuthenticator_Authenticate/sets_SignInUser_permissions (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/grpcserver/interceptors	(cached)
=== RUN   TestAccessControlDashboardGuardian_CanSave
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_with_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_with_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_with_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_under_root_with_general_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_dashboard_with_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_dashboard_with_incorrect_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_folder_with_folder_write_and_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_folder_with_folder_write_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_incorrect_folder_scope
--- PASS: TestAccessControlDashboardGuardian_CanSave (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_with_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_with_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_with_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_dashboard_under_root_with_general_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_dashboard_with_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_dashboard_with_incorrect_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_folder_with_folder_write_and_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_be_able_to_save_folder_with_folder_write_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanSave/should_not_be_able_to_save_folder_with_folder_write_and_incorrect_folder_scope (0.00s)
=== RUN   TestAccessControlDashboardGuardian_CanEdit
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_with_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_with_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_with_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_under_root_with_general_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_dashboard_with_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_dashboard_with_incorrect_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_folder_with_folder_write_and_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_folder_with_folder_write_and_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_folder_with_folder_write_and_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_folder_with_folder_write_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_folder_with_folder_write_and_incorrect_folder_scope
--- PASS: TestAccessControlDashboardGuardian_CanEdit (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_with_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_with_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_with_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_dashboard_under_root_with_general_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_dashboard_with_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_dashboard_with_incorrect_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_folder_with_folder_write_and_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_folder_with_folder_write_and_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_folder_with_folder_write_and_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_be_able_to_edit_folder_with_folder_write_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanEdit/should_not_be_able_to_edit_folder_with_folder_write_and_incorrect_folder_scope (0.00s)
=== RUN   TestAccessControlDashboardGuardian_CanView
=== RUN   TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_with_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_with_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_with_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_under_root_with_general_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_dashboard_with_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_dashboard_with_incorrect_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_folder_with_folders_read_and_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_folder_with_folders_read_and_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_folder_view_with_folders_read_and_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_folder_with_folders_read_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_folder_with_folders_read_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_folder_with_folders_read_and_incorrect_folder_scope
--- PASS: TestAccessControlDashboardGuardian_CanView (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_with_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_with_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_with_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_dashboard_under_root_with_general_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_dashboard_with_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_dashboard_with_incorrect_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_folder_with_folders_read_and_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_folder_with_folders_read_and_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_folder_view_with_folders_read_and_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_be_able_to_view_folder_with_folders_read_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_folder_with_folders_read_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanView/should_not_be_able_to_view_folder_with_folders_read_and_incorrect_folder_scope (0.00s)
=== RUN   TestAccessControlDashboardGuardian_CanAdmin
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_with_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_with_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_with_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_under_root_with_general_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_dashboard_with_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_dashboard_with_incorrect_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_folder_with_folder_read_and_write_and_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_write_and_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_folder_with_folder_read_and_write_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_write_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_incorrect_folder_scope
--- PASS: TestAccessControlDashboardGuardian_CanAdmin (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_with_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_with_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_with_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_dashboard_under_root_with_general_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_dashboard_with_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_dashboard_with_incorrect_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_folder_with_folder_read_and_write_and_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_write_and_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_be_able_to_admin_folder_with_folder_read_and_write_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_write_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanAdmin/should_not_be_able_to_admin_folder_with_folder_read_and_write_and_incorrect_folder_scope (0.00s)
=== RUN   TestAccessControlDashboardGuardian_CanDelete
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_with_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_with_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_with_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_under_root_with_general_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_dashboard_with_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_dashboard_with_incorrect_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_dashboard_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_folder_with_folder_deletea_and_folder_wildcard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_folder_with_folder_delete_and_folder_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_incorrect_dashboard_scope
=== RUN   TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_incorrect_folder_scope
--- PASS: TestAccessControlDashboardGuardian_CanDelete (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_with_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_with_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_with_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_dashboard_under_root_with_general_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_dashboard_with_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_dashboard_with_incorrect_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_dashboard_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_folder_with_folder_deletea_and_folder_wildcard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_be_able_to_delete_folder_with_folder_delete_and_folder_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_incorrect_dashboard_scope (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanDelete/should_not_be_able_to_delete_folder_with_folder_delete_and_incorrect_folder_scope (0.00s)
=== RUN   TestAccessControlDashboardGuardian_CanCreate
=== RUN   TestAccessControlDashboardGuardian_CanCreate/should_be_able_to_create_dashboard_in_general_folder
=== RUN   TestAccessControlDashboardGuardian_CanCreate/should_be_able_to_create_dashboard_in_any_folder
=== RUN   TestAccessControlDashboardGuardian_CanCreate/should_not_be_able_to_create_dashboard_without_permissions
=== RUN   TestAccessControlDashboardGuardian_CanCreate/should_be_able_to_create_folder_with_correct_permissions
=== RUN   TestAccessControlDashboardGuardian_CanCreate/should_not_be_able_to_create_folders_without_permissions
--- PASS: TestAccessControlDashboardGuardian_CanCreate (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanCreate/should_be_able_to_create_dashboard_in_general_folder (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanCreate/should_be_able_to_create_dashboard_in_any_folder (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanCreate/should_not_be_able_to_create_dashboard_without_permissions (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanCreate/should_be_able_to_create_folder_with_correct_permissions (0.00s)
--- PASS: TestAccessControlDashboardGuardian_CanCreate/should_not_be_able_to_create_folders_without_permissions (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/guardian	(cached)
?   	github.com/grafana/grafana/pkg/services/hooks	[no test files]
?   	github.com/grafana/grafana/pkg/services/kmsproviders	[no test files]
?   	github.com/grafana/grafana/pkg/services/kmsproviders/defaultprovider	[no test files]
?   	github.com/grafana/grafana/pkg/services/kmsproviders/osskmsproviders	[no test files]
=== RUN   TestIsMemberOf
=== RUN   TestIsMemberOf/isMemberOf([],_"*")_=_true
=== RUN   TestIsMemberOf/isMemberOf([one_Two_three],_"two")_=_true
=== RUN   TestIsMemberOf/isMemberOf([one_Two_three],_"twos")_=_false
--- PASS: TestIsMemberOf (0.00s)
--- PASS: TestIsMemberOf/isMemberOf([],_"*")_=_true (0.00s)
--- PASS: TestIsMemberOf/isMemberOf([one_Two_three],_"two")_=_true (0.00s)
--- PASS: TestIsMemberOf/isMemberOf([one_Two_three],_"twos")_=_false (0.00s)
=== RUN   TestGetUsersIteration
=== RUN   TestGetUsersIteration/getUserIteration_iterates_3_times_for_1500_users
=== RUN   TestGetUsersIteration/getUserIteration_iterates_0_times_for_0_users
=== RUN   TestGetUsersIteration/getUserIteration_iterates_1_times_for_400_users
=== RUN   TestGetUsersIteration/getUserIteration_iterates_2_times_for_600_users
--- PASS: TestGetUsersIteration (0.00s)
--- PASS: TestGetUsersIteration/getUserIteration_iterates_3_times_for_1500_users (0.00s)
--- PASS: TestGetUsersIteration/getUserIteration_iterates_0_times_for_0_users (0.00s)
--- PASS: TestGetUsersIteration/getUserIteration_iterates_1_times_for_400_users (0.00s)
--- PASS: TestGetUsersIteration/getUserIteration_iterates_2_times_for_600_users (0.00s)
=== RUN   TestGetAttribute
=== RUN   TestGetAttribute/DN
=== RUN   TestGetAttribute/username
=== RUN   TestGetAttribute/letter_case_mismatch
=== RUN   TestGetAttribute/no_result
--- PASS: TestGetAttribute (0.00s)
--- PASS: TestGetAttribute/DN (0.00s)
--- PASS: TestGetAttribute/username (0.00s)
--- PASS: TestGetAttribute/letter_case_mismatch (0.00s)
--- PASS: TestGetAttribute/no_result (0.00s)
=== RUN   TestGetArrayAttribute
=== RUN   TestGetArrayAttribute/DN
=== RUN   TestGetArrayAttribute/username
=== RUN   TestGetArrayAttribute/letter_case_mismatch
=== RUN   TestGetArrayAttribute/no_result
--- PASS: TestGetArrayAttribute (0.00s)
--- PASS: TestGetArrayAttribute/DN (0.00s)
--- PASS: TestGetArrayAttribute/username (0.00s)
--- PASS: TestGetArrayAttribute/letter_case_mismatch (0.00s)
--- PASS: TestGetArrayAttribute/no_result (0.00s)
=== RUN   TestServer_Login_UserBind_Fail
--- PASS: TestServer_Login_UserBind_Fail (0.00s)
=== RUN   TestServer_Login_Search_NoResult
--- PASS: TestServer_Login_Search_NoResult (0.00s)
=== RUN   TestServer_Login_Search_Error
--- PASS: TestServer_Login_Search_Error (0.00s)
=== RUN   TestServer_Login_ValidCredentials
--- PASS: TestServer_Login_ValidCredentials (0.00s)
=== RUN   TestServer_Login_UnauthenticatedBind
--- PASS: TestServer_Login_UnauthenticatedBind (0.00s)
=== RUN   TestServer_Login_AuthenticatedBind
--- PASS: TestServer_Login_AuthenticatedBind (0.00s)
=== RUN   TestServer_Login_UserWildcardBind
--- PASS: TestServer_Login_UserWildcardBind (0.00s)
=== RUN   TestServer_getSearchRequest
--- PASS: TestServer_getSearchRequest (0.00s)
=== RUN   TestSerializeUsers
=== RUN   TestSerializeUsers/simple_case
=== RUN   TestSerializeUsers/without_lastname
=== RUN   TestSerializeUsers/mark_user_without_matching_group_as_disabled
--- PASS: TestSerializeUsers (0.00s)
--- PASS: TestSerializeUsers/simple_case (0.00s)
--- PASS: TestSerializeUsers/without_lastname (0.00s)
--- PASS: TestSerializeUsers/mark_user_without_matching_group_as_disabled (0.00s)
=== RUN   TestServer_validateGrafanaUser
=== RUN   TestServer_validateGrafanaUser/no_group_config
=== RUN   TestServer_validateGrafanaUser/user_in_group
=== RUN   TestServer_validateGrafanaUser/user_not_in_group
--- PASS: TestServer_validateGrafanaUser (0.00s)
--- PASS: TestServer_validateGrafanaUser/no_group_config (0.00s)
--- PASS: TestServer_validateGrafanaUser/user_in_group (0.00s)
--- PASS: TestServer_validateGrafanaUser/user_not_in_group (0.00s)
=== RUN   TestServer_binds
=== RUN   TestServer_binds/single_bind_with_cn_wildcard
=== RUN   TestServer_binds/don't_single_bind
=== RUN   TestServer_binds/admin_user_bind
=== RUN   TestServer_binds/don't_admin_user_bind
--- PASS: TestServer_binds (0.00s)
--- PASS: TestServer_binds/single_bind_with_cn_wildcard (0.00s)
--- PASS: TestServer_binds/don't_single_bind (0.00s)
--- PASS: TestServer_binds/admin_user_bind (0.00s)
--- PASS: TestServer_binds/don't_admin_user_bind (0.00s)
=== RUN   TestNew
--- PASS: TestNew (0.00s)
=== RUN   TestServer_Dial
=== RUN   TestServer_Dial/fails_having_no_host_but_with_valid_root_and_client_certificate_files
=== RUN   TestServer_Dial/fails_with_invalid_root_certificate_file
=== RUN   TestServer_Dial/fails_with_non_existing_root_certificate_file
=== RUN   TestServer_Dial/fails_with_invalid_client_certificate_file
=== RUN   TestServer_Dial/fails_with_non_existing_client_certificate_file
=== RUN   TestServer_Dial/fails_having_no_host_but_with_valid_root_and_client_certificate_values
=== RUN   TestServer_Dial/fails_with_invalid_base64_root_certificate_value
=== RUN   TestServer_Dial/fails_with_invalid_root_certificate_value
=== RUN   TestServer_Dial/fails_with_invalid_base64_client_certificate_value
=== RUN   TestServer_Dial/fails_with_invalid_client_certificate_value
--- PASS: TestServer_Dial (0.00s)
--- PASS: TestServer_Dial/fails_having_no_host_but_with_valid_root_and_client_certificate_files (0.00s)
--- PASS: TestServer_Dial/fails_with_invalid_root_certificate_file (0.00s)
--- PASS: TestServer_Dial/fails_with_non_existing_root_certificate_file (0.00s)
--- PASS: TestServer_Dial/fails_with_invalid_client_certificate_file (0.00s)
--- PASS: TestServer_Dial/fails_with_non_existing_client_certificate_file (0.00s)
--- PASS: TestServer_Dial/fails_having_no_host_but_with_valid_root_and_client_certificate_values (0.00s)
--- PASS: TestServer_Dial/fails_with_invalid_base64_root_certificate_value (0.00s)
--- PASS: TestServer_Dial/fails_with_invalid_root_certificate_value (0.00s)
--- PASS: TestServer_Dial/fails_with_invalid_base64_client_certificate_value (0.00s)
--- PASS: TestServer_Dial/fails_with_invalid_client_certificate_value (0.00s)
=== RUN   TestServer_Close
=== RUN   TestServer_Close/close_the_connection
=== RUN   TestServer_Close/panic_if_no_connection
--- PASS: TestServer_Close (0.00s)
--- PASS: TestServer_Close/close_the_connection (0.00s)
--- PASS: TestServer_Close/panic_if_no_connection (0.00s)
=== RUN   TestServer_Users
=== RUN   TestServer_Users/one_user
=== RUN   TestServer_Users/error
=== RUN   TestServer_Users/no_user
=== RUN   TestServer_Users/multiple_DNs
=== RUN   TestServer_Users/same_user_in_multiple_DNs
=== RUN   TestServer_Users/org_role_mapping
=== RUN   TestServer_Users/org_role_mapping/disable_user_with_no_mapping
=== RUN   TestServer_Users/org_role_mapping/skip_org_role_sync
=== RUN   TestServer_Users/org_role_mapping/sync_org_role
=== RUN   TestServer_Users/org_role_mapping/set_Grafana_Admin_to_false_by_default
--- PASS: TestServer_Users (0.00s)
--- PASS: TestServer_Users/one_user (0.00s)
--- PASS: TestServer_Users/error (0.00s)
--- PASS: TestServer_Users/no_user (0.00s)
--- PASS: TestServer_Users/multiple_DNs (0.00s)
--- PASS: TestServer_Users/same_user_in_multiple_DNs (0.00s)
--- PASS: TestServer_Users/org_role_mapping (0.00s)
--- PASS: TestServer_Users/org_role_mapping/disable_user_with_no_mapping (0.00s)
--- PASS: TestServer_Users/org_role_mapping/skip_org_role_sync (0.00s)
--- PASS: TestServer_Users/org_role_mapping/sync_org_role (0.00s)
--- PASS: TestServer_Users/org_role_mapping/set_Grafana_Admin_to_false_by_default (0.00s)
=== RUN   TestServer_UserBind
=== RUN   TestServer_UserBind/use_provided_DN_and_password
=== RUN   TestServer_UserBind/error
--- PASS: TestServer_UserBind (0.00s)
--- PASS: TestServer_UserBind/use_provided_DN_and_password (0.00s)
--- PASS: TestServer_UserBind/error (0.00s)
=== RUN   TestServer_AdminBind
=== RUN   TestServer_AdminBind/use_admin_DN_and_password
=== RUN   TestServer_AdminBind/error
--- PASS: TestServer_AdminBind (0.00s)
--- PASS: TestServer_AdminBind/use_admin_DN_and_password (0.00s)
--- PASS: TestServer_AdminBind/error (0.00s)
=== RUN   TestReadingLDAPSettings
--- PASS: TestReadingLDAPSettings (0.00s)
=== RUN   TestReadingLDAPSettingsWithEnvVariable
--- PASS: TestReadingLDAPSettingsWithEnvVariable (0.00s)
=== RUN   TestReadingLDAPSettingsUsingCache
--- PASS: TestReadingLDAPSettingsUsingCache (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ldap	0.046s
=== RUN   TestGetUserFromLDAPAPIEndpoint_UserNotFound
--- PASS: TestGetUserFromLDAPAPIEndpoint_UserNotFound (0.00s)
=== RUN   TestGetUserFromLDAPAPIEndpoint_OrgNotfound
--- PASS: TestGetUserFromLDAPAPIEndpoint_OrgNotfound (0.00s)
=== RUN   TestGetUserFromLDAPAPIEndpoint
--- PASS: TestGetUserFromLDAPAPIEndpoint (0.00s)
=== RUN   TestGetUserFromLDAPAPIEndpoint_WithTeamHandler
--- PASS: TestGetUserFromLDAPAPIEndpoint_WithTeamHandler (0.00s)
=== RUN   TestGetLDAPStatusAPIEndpoint
--- PASS: TestGetLDAPStatusAPIEndpoint (0.00s)
=== RUN   TestPostSyncUserWithLDAPAPIEndpoint_Success
--- PASS: TestPostSyncUserWithLDAPAPIEndpoint_Success (0.00s)
=== RUN   TestPostSyncUserWithLDAPAPIEndpoint_WhenUserNotFound
--- PASS: TestPostSyncUserWithLDAPAPIEndpoint_WhenUserNotFound (0.00s)
=== RUN   TestPostSyncUserWithLDAPAPIEndpoint_WhenGrafanaAdmin
--- PASS: TestPostSyncUserWithLDAPAPIEndpoint_WhenGrafanaAdmin (0.00s)
=== RUN   TestPostSyncUserWithLDAPAPIEndpoint_WhenUserNotInLDAP
--- PASS: TestPostSyncUserWithLDAPAPIEndpoint_WhenUserNotInLDAP (0.00s)
=== RUN   TestLDAP_AccessControl
=== RUN   TestLDAP_AccessControl/ReloadLDAPCfg_should_return_200_for_user_with_correct_permissions
=== RUN   TestLDAP_AccessControl/ReloadLDAPCfg_should_return_403_for_user_without_required_permissions
=== RUN   TestLDAP_AccessControl/GetLDAPStatus_should_return_200_for_user_without_required_permissions
=== RUN   TestLDAP_AccessControl/GetLDAPStatus_should_return_200_for_user_without_required_permissions#01
=== RUN   TestLDAP_AccessControl/GetUserFromLDAP_should_return_200_for_user_with_required_permissions
=== RUN   TestLDAP_AccessControl/GetUserFromLDAP_should_return_403_for_user_without_required_permissions
=== RUN   TestLDAP_AccessControl/PostSyncUserWithLDAP_should_return_200_for_user_without_required_permissions
=== RUN   TestLDAP_AccessControl/PostSyncUserWithLDAP_should_return_200_for_user_without_required_permissions#01
--- PASS: TestLDAP_AccessControl (0.00s)
--- PASS: TestLDAP_AccessControl/ReloadLDAPCfg_should_return_200_for_user_with_correct_permissions (0.00s)
--- PASS: TestLDAP_AccessControl/ReloadLDAPCfg_should_return_403_for_user_without_required_permissions (0.00s)
--- PASS: TestLDAP_AccessControl/GetLDAPStatus_should_return_200_for_user_without_required_permissions (0.00s)
--- PASS: TestLDAP_AccessControl/GetLDAPStatus_should_return_200_for_user_without_required_permissions#01 (0.00s)
--- PASS: TestLDAP_AccessControl/GetUserFromLDAP_should_return_200_for_user_with_required_permissions (0.00s)
--- PASS: TestLDAP_AccessControl/GetUserFromLDAP_should_return_403_for_user_without_required_permissions (0.00s)
--- PASS: TestLDAP_AccessControl/PostSyncUserWithLDAP_should_return_200_for_user_without_required_permissions (0.00s)
--- PASS: TestLDAP_AccessControl/PostSyncUserWithLDAP_should_return_200_for_user_without_required_permissions#01 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ldap/api	(cached)
=== RUN   TestMultiLDAP
=== RUN   TestMultiLDAP/Ping()
=== RUN   TestMultiLDAP/Ping()/Should_return_error_for_absent_config_list
=== RUN   TestMultiLDAP/Ping()/Should_return_an_unavailable_status_on_dial_error
=== RUN   TestMultiLDAP/Ping()/Should_get_the_LDAP_server_statuses
=== RUN   TestMultiLDAP/Login()
=== RUN   TestMultiLDAP/Login()/Should_return_error_for_absent_config_list
=== RUN   TestMultiLDAP/Login()/Should_return_a_dial_error
=== RUN   TestMultiLDAP/Login()/Should_call_underlying_LDAP_methods
=== RUN   TestMultiLDAP/Login()/Should_get_login_result
=== RUN   TestMultiLDAP/Login()/Should_still_call_a_second_error_for_invalid_not_found_error
=== RUN   TestMultiLDAP/Login()/Should_still_try_to_auth_with_the_second_server_after_receiving_an_invalid_credentials_error_from_the_first
=== RUN   TestMultiLDAP/Login()/Should_still_try_to_auth_with_the_second_server_after_receiving_a_dial_error_from_the_first
=== RUN   TestMultiLDAP/Login()/Should_return_unknown_error
=== RUN   TestMultiLDAP/User()
=== RUN   TestMultiLDAP/User()/Should_return_error_for_absent_config_list
=== RUN   TestMultiLDAP/User()/Should_return_a_dial_error
=== RUN   TestMultiLDAP/User()/Should_call_underlying_LDAP_methods
=== RUN   TestMultiLDAP/User()/Should_return_some_error
=== RUN   TestMultiLDAP/User()/Should_get_only_one_user
=== RUN   TestMultiLDAP/User()/Should_still_try_to_auth_with_the_second_server_after_receiving_a_dial_error_from_the_first
=== RUN   TestMultiLDAP/Users()
=== RUN   TestMultiLDAP/Users()/Should_still_try_to_auth_with_the_second_server_after_receiving_a_dial_error_from_the_first
=== RUN   TestMultiLDAP/Users()/Should_return_error_for_absent_config_list
=== RUN   TestMultiLDAP/Users()/Should_return_a_dial_error
=== RUN   TestMultiLDAP/Users()/Should_call_underlying_LDAP_methods
=== RUN   TestMultiLDAP/Users()/Should_return_some_error
=== RUN   TestMultiLDAP/Users()/Should_get_users
--- PASS: TestMultiLDAP (0.00s)
--- PASS: TestMultiLDAP/Ping() (0.00s)
--- PASS: TestMultiLDAP/Ping()/Should_return_error_for_absent_config_list (0.00s)
--- PASS: TestMultiLDAP/Ping()/Should_return_an_unavailable_status_on_dial_error (0.00s)
--- PASS: TestMultiLDAP/Ping()/Should_get_the_LDAP_server_statuses (0.00s)
--- PASS: TestMultiLDAP/Login() (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_return_error_for_absent_config_list (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_return_a_dial_error (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_call_underlying_LDAP_methods (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_get_login_result (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_still_call_a_second_error_for_invalid_not_found_error (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_still_try_to_auth_with_the_second_server_after_receiving_an_invalid_credentials_error_from_the_first (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_still_try_to_auth_with_the_second_server_after_receiving_a_dial_error_from_the_first (0.00s)
--- PASS: TestMultiLDAP/Login()/Should_return_unknown_error (0.00s)
--- PASS: TestMultiLDAP/User() (0.00s)
--- PASS: TestMultiLDAP/User()/Should_return_error_for_absent_config_list (0.00s)
--- PASS: TestMultiLDAP/User()/Should_return_a_dial_error (0.00s)
--- PASS: TestMultiLDAP/User()/Should_call_underlying_LDAP_methods (0.00s)
--- PASS: TestMultiLDAP/User()/Should_return_some_error (0.00s)
--- PASS: TestMultiLDAP/User()/Should_get_only_one_user (0.00s)
--- PASS: TestMultiLDAP/User()/Should_still_try_to_auth_with_the_second_server_after_receiving_a_dial_error_from_the_first (0.00s)
--- PASS: TestMultiLDAP/Users() (0.00s)
--- PASS: TestMultiLDAP/Users()/Should_still_try_to_auth_with_the_second_server_after_receiving_a_dial_error_from_the_first (0.00s)
--- PASS: TestMultiLDAP/Users()/Should_return_error_for_absent_config_list (0.00s)
--- PASS: TestMultiLDAP/Users()/Should_return_a_dial_error (0.00s)
--- PASS: TestMultiLDAP/Users()/Should_call_underlying_LDAP_methods (0.00s)
--- PASS: TestMultiLDAP/Users()/Should_return_some_error (0.00s)
--- PASS: TestMultiLDAP/Users()/Should_get_users (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ldap/multildap	(cached)
=== RUN   TestReload
=== RUN   TestReload/basic_flow_with_minimal_config
=== RUN   TestReload/complete_set_of_server_parameters
=== RUN   TestReload/no_servers_config
=== RUN   TestReload/invalid_settings
=== RUN   TestReload/config_disabled
--- PASS: TestReload (0.00s)
--- PASS: TestReload/basic_flow_with_minimal_config (0.00s)
--- PASS: TestReload/complete_set_of_server_parameters (0.00s)
--- PASS: TestReload/no_servers_config (0.00s)
--- PASS: TestReload/invalid_settings (0.00s)
--- PASS: TestReload/config_disabled (0.00s)
=== RUN   TestValidate
=== RUN   TestValidate/successfully_validate_basic_settings
=== RUN   TestValidate/successfully_validate_settings_that_are_not_enabled
=== RUN   TestValidate/validation_fails_for_invalid_settings
=== RUN   TestValidate/validation_fails_when_no_servers_are_configured
=== RUN   TestValidate/validation_fails_if_one_server_does_not_have_a_host_configured
=== RUN   TestValidate/validation_fails_if_search_filter_is_not_configured
=== RUN   TestValidate/validation_fails_if_search_base_DN_is_not_configured
=== RUN   TestValidate/validation_fails_if_min_TLS_version_is_invalid
=== RUN   TestValidate/validation_fails_if_TLS_cyphers_are_invalid
=== RUN   TestValidate/validation_fails_if_a_group_mapping_contains_no_organization_role
--- PASS: TestValidate (0.00s)
--- PASS: TestValidate/successfully_validate_basic_settings (0.00s)
--- PASS: TestValidate/successfully_validate_settings_that_are_not_enabled (0.00s)
--- PASS: TestValidate/validation_fails_for_invalid_settings (0.00s)
--- PASS: TestValidate/validation_fails_when_no_servers_are_configured (0.00s)
--- PASS: TestValidate/validation_fails_if_one_server_does_not_have_a_host_configured (0.00s)
--- PASS: TestValidate/validation_fails_if_search_filter_is_not_configured (0.00s)
--- PASS: TestValidate/validation_fails_if_search_base_DN_is_not_configured (0.00s)
--- PASS: TestValidate/validation_fails_if_min_TLS_version_is_invalid (0.00s)
--- PASS: TestValidate/validation_fails_if_TLS_cyphers_are_invalid (0.00s)
--- PASS: TestValidate/validation_fails_if_a_group_mapping_contains_no_organization_role (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ldap/service	(cached)
=== RUN   TestCreateLibraryElement
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_already_exists,_it_should_fail
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists,_it_should_succeed
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_nonexistent_UID,_it_should_succeed
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_existent_UID,_it_should_fail
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_invalid_UID,_it_should_fail
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_UID_that_is_too_long,_it_should_fail
=== RUN   TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_where_name_and_panel_title_differ,_it_should_not_update_panel_title
--- PASS: TestCreateLibraryElement (0.36s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_already_exists,_it_should_fail (0.01s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists,_it_should_succeed (0.00s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_nonexistent_UID,_it_should_succeed (0.00s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_existent_UID,_it_should_fail (0.00s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_invalid_UID,_it_should_fail (0.00s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_that_does_not_exists_using_an_UID_that_is_too_long,_it_should_fail (0.00s)
--- PASS: TestCreateLibraryElement/When_an_admin_tries_to_create_a_library_panel_where_name_and_panel_title_differ,_it_should_not_update_panel_title (0.01s)
=== RUN   TestDeleteLibraryElement
=== RUN   TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_does_not_exist,_it_should_fail
=== RUN   TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_exists,_it_should_succeed_and_return_correct_ID
=== RUN   TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_in_another_org,_it_should_fail
=== RUN   TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_is_connected,_it_should_fail
=== RUN   TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_is_connected_to_a_non-existent_dashboard,_it_should_succeed
--- PASS: TestDeleteLibraryElement (0.05s)
--- PASS: TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_does_not_exist,_it_should_fail (0.00s)
--- PASS: TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_exists,_it_should_succeed_and_return_correct_ID (0.01s)
--- PASS: TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_in_another_org,_it_should_fail (0.01s)
--- PASS: TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_is_connected,_it_should_fail (0.01s)
--- PASS: TestDeleteLibraryElement/When_an_admin_tries_to_delete_a_library_panel_that_is_connected_to_a_non-existent_dashboard,_it_should_succeed (0.01s)
=== RUN   TestGetAllLibraryElements
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_none_exists,_it_should_return_none
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_panel_elements_and_both_panels_and_variables_exist,_it_should_only_return_panels
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_variable_elements_and_both_panels_and_variables_exist,_it_should_only_return_panels
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist,_it_should_succeed
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_sort_desc_is_set,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_typeFilter_is_set_to_existing_types,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_typeFilter_is_set_to_a_nonexistent_type,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_folderFilterUIDs_is_set_to_existing_folders,_it_should_succeed_and_the_result_should_be_correct
libraryelements_get_all_test.go:542: Creating folder with title "NewFolder" and UID uid_for_NewFolder
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_folderFilter_is_set_to_a_nonexistent_folders,_it_should_succeed_and_the_result_should_be_correct
libraryelements_get_all_test.go:611: Creating folder with title "NewFolder" and UID uid_for_NewFolder
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_folderFilter_is_set_to_General_folder,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_excludeUID_is_set,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_2,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_searchString_exists_in_the_description,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_searchString_exists_in_both_name_and_description,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_1_and_searchString_is_panel2,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_3_and_searchString_is_panel,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_3_and_searchString_does_not_exist,_it_should_succeed_and_the_result_should_be_correct
=== RUN   TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_in_a_different_org,_none_should_be_returned
--- PASS: TestGetAllLibraryElements (0.18s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_none_exists,_it_should_return_none (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_panel_elements_and_both_panels_and_variables_exist,_it_should_only_return_panels (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_variable_elements_and_both_panels_and_variables_exist,_it_should_only_return_panels (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist,_it_should_succeed (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_sort_desc_is_set,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_typeFilter_is_set_to_existing_types,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_typeFilter_is_set_to_a_nonexistent_type,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_folderFilterUIDs_is_set_to_existing_folders,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_folderFilter_is_set_to_a_nonexistent_folders,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_folderFilter_is_set_to_General_folder,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_excludeUID_is_set,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_2,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_searchString_exists_in_the_description,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_searchString_exists_in_both_name_and_description,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_1_and_searchString_is_panel2,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_3_and_searchString_is_panel,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_and_two_exist_and_perPage_is_1_and_page_is_3_and_searchString_does_not_exist,_it_should_succeed_and_the_result_should_be_correct (0.01s)
--- PASS: TestGetAllLibraryElements/When_an_admin_tries_to_get_all_library_panels_in_a_different_org,_none_should_be_returned (0.01s)
=== RUN   TestGetLibraryElement
=== RUN   TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_does_not_exist,_it_should_fail
=== RUN   TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_exists,_it_should_succeed_and_return_correct_result
=== RUN   TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_exists,_but_the_original_folder_does_not,_it_should_succeed_and_return_correct_result
libraryelements_get_test.go:101: Creating folder with title "NewFolder" and UID uid_for_NewFolder
=== RUN   TestGetLibraryElement/When_an_admin_tries_to_get_a_connected_library_panel,_it_should_succeed_and_return_correct_connected_dashboards
=== RUN   TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_exists_in_an_other_org,_it_should_fail
--- PASS: TestGetLibraryElement (0.05s)
--- PASS: TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_does_not_exist,_it_should_fail (0.01s)
--- PASS: TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_exists,_it_should_succeed_and_return_correct_result (0.01s)
--- PASS: TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_exists,_but_the_original_folder_does_not,_it_should_succeed_and_return_correct_result (0.01s)
--- PASS: TestGetLibraryElement/When_an_admin_tries_to_get_a_connected_library_panel,_it_should_succeed_and_return_correct_connected_dashboards (0.01s)
--- PASS: TestGetLibraryElement/When_an_admin_tries_to_get_a_library_panel_that_exists_in_an_other_org,_it_should_fail (0.01s)
=== RUN   TestPatchLibraryElement
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_that_does_not_exist,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_that_exists,_it_should_succeed
libraryelements_patch_test.go:27: Creating folder with title "NewFolder" and UID uid_for_NewFolder
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_folder_only,_it_should_change_folder_successfully_and_return_correct_result
libraryelements_patch_test.go:94: Creating folder with title "NewFolder" and UID uid_for_NewFolder
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_name_only,_it_should_change_name_successfully_and_return_correct_result
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_a_nonexistent_UID,_it_should_change_UID_successfully_and_return_correct_result
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_invalid_UID,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_UID_that_is_too_long,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_existing_UID,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_model_only,_it_should_change_model_successfully,_sync_type_and_description_fields_and_return_correct_result
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_model.description_only,_it_should_change_model_successfully,_sync_type_and_description_fields_and_return_correct_result
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_model.type_only,_it_should_change_model_successfully,_sync_type_and_description_fields_and_return_correct_result
=== RUN   TestPatchLibraryElement/When_another_admin_tries_to_patch_a_library_panel,_it_should_change_UpdatedBy_successfully_and_return_correct_result
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_a_name_that_already_exists,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_a_folder_where_a_library_panel_with_the_same_name_already_exists,_it_should_fail
libraryelements_patch_test.go:338: Creating folder with title "NewFolder" and UID uid_for_NewFolder
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_in_another_org,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_old_version_number,_it_should_fail
=== RUN   TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_other_kind,_it_should_succeed_but_panel_should_not_change
--- PASS: TestPatchLibraryElement (0.18s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_that_does_not_exist,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_that_exists,_it_should_succeed (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_folder_only,_it_should_change_folder_successfully_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_name_only,_it_should_change_name_successfully_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_a_nonexistent_UID,_it_should_change_UID_successfully_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_invalid_UID,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_UID_that_is_too_long,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_existing_UID,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_model_only,_it_should_change_model_successfully,_sync_type_and_description_fields_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_model.description_only,_it_should_change_model_successfully,_sync_type_and_description_fields_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_model.type_only,_it_should_change_model_successfully,_sync_type_and_description_fields_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_another_admin_tries_to_patch_a_library_panel,_it_should_change_UpdatedBy_successfully_and_return_correct_result (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_a_name_that_already_exists,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_a_folder_where_a_library_panel_with_the_same_name_already_exists,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_in_another_org,_it_should_fail (0.00s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_old_version_number,_it_should_fail (0.01s)
--- PASS: TestPatchLibraryElement/When_an_admin_tries_to_patch_a_library_panel_with_an_other_kind,_it_should_succeed_but_panel_should_not_change (0.01s)
=== RUN   TestLibraryElementPermissionsGeneralFolder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_create_a_library_panel_in_the_General_folder,_it_should_return_correct_status
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_patch_a_library_panel_by_moving_it_to_the_General_folder,_it_should_return_correct_status
libraryelements_permissions_test.go:41: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_patch_a_library_panel_by_moving_it_from_the_General_folder,_it_should_return_correct_status
libraryelements_permissions_test.go:59: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_delete_a_library_panel_in_the_General_folder,_it_should_return_correct_status
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_get_a_library_panel_from_General_folder,_it_should_return_correct_response
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_get_all_library_panels_from_General_folder,_it_should_return_correct_response
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_create_a_library_panel_in_the_General_folder,_it_should_return_correct_status
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_patch_a_library_panel_by_moving_it_to_the_General_folder,_it_should_return_correct_status
libraryelements_permissions_test.go:41: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_patch_a_library_panel_by_moving_it_from_the_General_folder,_it_should_return_correct_status
libraryelements_permissions_test.go:59: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_delete_a_library_panel_in_the_General_folder,_it_should_return_correct_status
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_get_a_library_panel_from_General_folder,_it_should_return_correct_response
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_get_all_library_panels_from_General_folder,_it_should_return_correct_response
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_create_a_library_panel_in_the_General_folder,_it_should_return_correct_status
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_patch_a_library_panel_by_moving_it_to_the_General_folder,_it_should_return_correct_status
libraryelements_permissions_test.go:41: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_patch_a_library_panel_by_moving_it_from_the_General_folder,_it_should_return_correct_status
libraryelements_permissions_test.go:59: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_delete_a_library_panel_in_the_General_folder,_it_should_return_correct_status
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_get_a_library_panel_from_General_folder,_it_should_return_correct_response
=== RUN   TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_get_all_library_panels_from_General_folder,_it_should_return_correct_response
--- PASS: TestLibraryElementPermissionsGeneralFolder (0.08s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_create_a_library_panel_in_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_patch_a_library_panel_by_moving_it_to_the_General_folder,_it_should_return_correct_status (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_patch_a_library_panel_by_moving_it_from_the_General_folder,_it_should_return_correct_status (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_delete_a_library_panel_in_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_get_a_library_panel_from_General_folder,_it_should_return_correct_response (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Admin_tries_to_get_all_library_panels_from_General_folder,_it_should_return_correct_response (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_create_a_library_panel_in_the_General_folder,_it_should_return_correct_status (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_patch_a_library_panel_by_moving_it_to_the_General_folder,_it_should_return_correct_status (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_patch_a_library_panel_by_moving_it_from_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_delete_a_library_panel_in_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_get_a_library_panel_from_General_folder,_it_should_return_correct_response (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Editor_tries_to_get_all_library_panels_from_General_folder,_it_should_return_correct_response (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_create_a_library_panel_in_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_patch_a_library_panel_by_moving_it_to_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_patch_a_library_panel_by_moving_it_from_the_General_folder,_it_should_return_correct_status (0.01s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_delete_a_library_panel_in_the_General_folder,_it_should_return_correct_status (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_get_a_library_panel_from_General_folder,_it_should_return_correct_response (0.00s)
--- PASS: TestLibraryElementPermissionsGeneralFolder/When_Viewer_tries_to_get_all_library_panels_from_General_folder,_it_should_return_correct_response (0.00s)
=== RUN   TestLibraryElementCreatePermissions
=== RUN   TestLibraryElementCreatePermissions/can_create_library_elements_when_granted_write_access_to_the_correct_folder
libraryelements_permissions_test.go:181: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementCreatePermissions/can_create_library_elements_when_granted_write_access_to_all_folders
libraryelements_permissions_test.go:181: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementCreatePermissions/can't_create_library_elements_when_granted_write_access_to_the_wrong_folder
libraryelements_permissions_test.go:181: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementCreatePermissions/can't_create_library_elements_when_granted_read_access_to_the_right_folder
libraryelements_permissions_test.go:181: Creating folder with title "Folder" and UID uid_for_Folder
--- PASS: TestLibraryElementCreatePermissions (0.02s)
--- PASS: TestLibraryElementCreatePermissions/can_create_library_elements_when_granted_write_access_to_the_correct_folder (0.01s)
--- PASS: TestLibraryElementCreatePermissions/can_create_library_elements_when_granted_write_access_to_all_folders (0.00s)
--- PASS: TestLibraryElementCreatePermissions/can't_create_library_elements_when_granted_write_access_to_the_wrong_folder (0.01s)
--- PASS: TestLibraryElementCreatePermissions/can't_create_library_elements_when_granted_read_access_to_the_right_folder (0.00s)
=== RUN   TestLibraryElementPatchPermissions
=== RUN   TestLibraryElementPatchPermissions/can_move_library_elements_when_granted_write_access_to_the_source_and_destination_folders
libraryelements_permissions_test.go:238: Creating folder with title "FromFolder" and UID uid_for_FromFolder
libraryelements_permissions_test.go:245: Creating folder with title "ToFolder" and UID uid_for_ToFolder
=== RUN   TestLibraryElementPatchPermissions/can_move_library_elements_when_granted_write_access_to_all_folders
libraryelements_permissions_test.go:238: Creating folder with title "FromFolder" and UID uid_for_FromFolder
libraryelements_permissions_test.go:245: Creating folder with title "ToFolder" and UID uid_for_ToFolder
=== RUN   TestLibraryElementPatchPermissions/can't_move_library_elements_when_granted_write_access_only_to_the_source_folder
libraryelements_permissions_test.go:238: Creating folder with title "FromFolder" and UID uid_for_FromFolder
libraryelements_permissions_test.go:245: Creating folder with title "ToFolder" and UID uid_for_ToFolder
=== RUN   TestLibraryElementPatchPermissions/can't_move_library_elements_when_granted_write_access_to_the_destination_folder
libraryelements_permissions_test.go:238: Creating folder with title "FromFolder" and UID uid_for_FromFolder
libraryelements_permissions_test.go:245: Creating folder with title "ToFolder" and UID uid_for_ToFolder
--- PASS: TestLibraryElementPatchPermissions (0.03s)
--- PASS: TestLibraryElementPatchPermissions/can_move_library_elements_when_granted_write_access_to_the_source_and_destination_folders (0.01s)
--- PASS: TestLibraryElementPatchPermissions/can_move_library_elements_when_granted_write_access_to_all_folders (0.01s)
--- PASS: TestLibraryElementPatchPermissions/can't_move_library_elements_when_granted_write_access_only_to_the_source_folder (0.01s)
--- PASS: TestLibraryElementPatchPermissions/can't_move_library_elements_when_granted_write_access_to_the_destination_folder (0.01s)
=== RUN   TestLibraryElementDeletePermissions
=== RUN   TestLibraryElementDeletePermissions/can_delete_library_elements_when_granted_write_access_to_the_correct_folder
=== RUN   TestLibraryElementDeletePermissions/can_delete_library_elements_when_granted_write_access_to_all_folders
=== RUN   TestLibraryElementDeletePermissions/can't_delete_library_elements_when_granted_write_access_to_the_wrong_folder
=== RUN   TestLibraryElementDeletePermissions/can't_delete_library_elements_when_granted_read_access_to_the_right_folder
--- PASS: TestLibraryElementDeletePermissions (0.02s)
--- PASS: TestLibraryElementDeletePermissions/can_delete_library_elements_when_granted_write_access_to_the_correct_folder (0.00s)
--- PASS: TestLibraryElementDeletePermissions/can_delete_library_elements_when_granted_write_access_to_all_folders (0.00s)
--- PASS: TestLibraryElementDeletePermissions/can't_delete_library_elements_when_granted_write_access_to_the_wrong_folder (0.00s)
--- PASS: TestLibraryElementDeletePermissions/can't_delete_library_elements_when_granted_read_access_to_the_right_folder (0.00s)
=== RUN   TestLibraryElementsWithMissingFolders
=== RUN   TestLibraryElementsWithMissingFolders/When_a_user_tries_to_create_a_library_panel_in_a_folder_that_doesn't_exist,_it_should_fail
{"message":"failed to get folder"}
=== RUN   TestLibraryElementsWithMissingFolders/When_a_user_tries_to_patch_a_library_panel_by_moving_it_to_a_folder_that_doesn't_exist,_it_should_fail
libraryelements_permissions_test.go:333: Creating folder with title "Folder" and UID uid_for_Folder
--- PASS: TestLibraryElementsWithMissingFolders (0.01s)
--- PASS: TestLibraryElementsWithMissingFolders/When_a_user_tries_to_create_a_library_panel_in_a_folder_that_doesn't_exist,_it_should_fail (0.00s)
--- PASS: TestLibraryElementsWithMissingFolders/When_a_user_tries_to_patch_a_library_panel_by_moving_it_to_a_folder_that_doesn't_exist,_it_should_fail (0.00s)
=== RUN   TestLibraryElementsGetPermissions
=== RUN   TestLibraryElementsGetPermissions/can_get_a_library_element_when_granted_read_access_to_all_folders
libraryelements_permissions_test.go:374: Creating folder with title "Folder" and UID uid_for_Folder
=== RUN   TestLibraryElementsGetPermissions/can't_list_library_element_when_granted_read_access_to_the_wrong_folder
libraryelements_permissions_test.go:374: Creating folder with title "Folder" and UID uid_for_Folder
--- PASS: TestLibraryElementsGetPermissions (0.02s)
--- PASS: TestLibraryElementsGetPermissions/can_get_a_library_element_when_granted_read_access_to_all_folders (0.01s)
--- PASS: TestLibraryElementsGetPermissions/can't_list_library_element_when_granted_read_access_to_the_wrong_folder (0.01s)
=== RUN   TestLibraryElementsGetAllPermissions
=== RUN   TestLibraryElementsGetAllPermissions/can_get_all_library_elements_when_granted_read_access_to_all_folders
libraryelements_permissions_test.go:425: Creating folder with title "Folder1" and UID uid_for_Folder1
libraryelements_permissions_test.go:425: Creating folder with title "Folder2" and UID uid_for_Folder2
=== RUN   TestLibraryElementsGetAllPermissions/can't_get_any_library_element_when_doesn't_have_access_to_any_folders
libraryelements_permissions_test.go:425: Creating folder with title "Folder1" and UID uid_for_Folder1
libraryelements_permissions_test.go:425: Creating folder with title "Folder2" and UID uid_for_Folder2
--- PASS: TestLibraryElementsGetAllPermissions (0.01s)
--- PASS: TestLibraryElementsGetAllPermissions/can_get_all_library_elements_when_granted_read_access_to_all_folders (0.01s)
--- PASS: TestLibraryElementsGetAllPermissions/can't_get_any_library_element_when_doesn't_have_access_to_any_folders (0.01s)
=== RUN   TestDeleteLibraryPanelsInFolder
=== RUN   TestDeleteLibraryPanelsInFolder/When_an_admin_tries_to_delete_a_folder_that_contains_connected_library_elements,_it_should_fail
=== RUN   TestDeleteLibraryPanelsInFolder/When_an_admin_tries_to_delete_a_folder_uid_that_doesn't_exist,_it_should_fail
=== RUN   TestDeleteLibraryPanelsInFolder/When_an_admin_tries_to_delete_a_folder_that_contains_disconnected_elements,_it_should_delete_all_disconnected_elements_too
--- PASS: TestDeleteLibraryPanelsInFolder (0.02s)
--- PASS: TestDeleteLibraryPanelsInFolder/When_an_admin_tries_to_delete_a_folder_that_contains_connected_library_elements,_it_should_fail (0.01s)
--- PASS: TestDeleteLibraryPanelsInFolder/When_an_admin_tries_to_delete_a_folder_uid_that_doesn't_exist,_it_should_fail (0.00s)
--- PASS: TestDeleteLibraryPanelsInFolder/When_an_admin_tries_to_delete_a_folder_that_contains_disconnected_elements,_it_should_delete_all_disconnected_elements_too (0.01s)
=== RUN   TestGetLibraryPanelConnections
=== RUN   TestGetLibraryPanelConnections/When_an_admin_tries_to_get_connections_of_library_panel,_it_should_succeed_and_return_correct_result
=== RUN   TestGetLibraryPanelConnections/When_an_admin_tries_to_create_a_connection_with_an_element_that_exists,_but_the_original_folder_does_not,_it_should_still_succeed
libraryelements_test.go:215: Creating folder with title "NewFolder" and UID uid_for_NewFolder
--- PASS: TestGetLibraryPanelConnections (0.02s)
--- PASS: TestGetLibraryPanelConnections/When_an_admin_tries_to_get_connections_of_library_panel,_it_should_succeed_and_return_correct_result (0.01s)
--- PASS: TestGetLibraryPanelConnections/When_an_admin_tries_to_create_a_connection_with_an_element_that_exists,_but_the_original_folder_does_not,_it_should_still_succeed (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/libraryelements	(cached)
=== RUN   TestLibraryElementService
=== PAUSE TestLibraryElementService
=== CONT  TestLibraryElementService
=== RUN   TestLibraryElementService/GetElement
=== PAUSE TestLibraryElementService/GetElement
=== RUN   TestLibraryElementService/CreateElement
=== PAUSE TestLibraryElementService/CreateElement
=== RUN   TestLibraryElementService/GetAllElements
=== PAUSE TestLibraryElementService/GetAllElements
=== CONT  TestLibraryElementService/GetElement
=== RUN   TestLibraryElementService/GetElement/when_the_element_does_not_exist,_it_returns_a_`model.ErrLibraryElementNotFound`_error
=== CONT  TestLibraryElementService/GetAllElements
=== CONT  TestLibraryElementService/CreateElement
=== RUN   TestLibraryElementService/GetAllElements/only_returns_the_elements_belonging_to_the_requestor_org
=== RUN   TestLibraryElementService/CreateElement/when_the_uid_already_exists,_it_returns_a_`model.ErrLibraryElementAlreadyExists`_error
=== PAUSE TestLibraryElementService/GetElement/when_the_element_does_not_exist,_it_returns_a_`model.ErrLibraryElementNotFound`_error
=== PAUSE TestLibraryElementService/GetAllElements/only_returns_the_elements_belonging_to_the_requestor_org
=== CONT  TestLibraryElementService/GetAllElements/only_returns_the_elements_belonging_to_the_requestor_org
=== RUN   TestLibraryElementService/GetElement/when_the_element_exists,_it_returns_it
=== PAUSE TestLibraryElementService/GetElement/when_the_element_exists,_it_returns_it
=== CONT  TestLibraryElementService/GetElement/when_the_element_does_not_exist,_it_returns_a_`model.ErrLibraryElementNotFound`_error
=== PAUSE TestLibraryElementService/CreateElement/when_the_uid_already_exists,_it_returns_a_`model.ErrLibraryElementAlreadyExists`_error
=== RUN   TestLibraryElementService/CreateElement/when_the_uid_is_not_passed_in,_it_generates_a_new_one
=== PAUSE TestLibraryElementService/CreateElement/when_the_uid_is_not_passed_in,_it_generates_a_new_one
=== CONT  TestLibraryElementService/CreateElement/when_the_uid_already_exists,_it_returns_a_`model.ErrLibraryElementAlreadyExists`_error
=== CONT  TestLibraryElementService/CreateElement/when_the_uid_is_not_passed_in,_it_generates_a_new_one
=== CONT  TestLibraryElementService/GetElement/when_the_element_exists,_it_returns_it
--- PASS: TestLibraryElementService (0.00s)
--- PASS: TestLibraryElementService/GetAllElements (0.00s)
--- PASS: TestLibraryElementService/GetAllElements/only_returns_the_elements_belonging_to_the_requestor_org (0.00s)
--- PASS: TestLibraryElementService/CreateElement (0.00s)
--- PASS: TestLibraryElementService/CreateElement/when_the_uid_is_not_passed_in,_it_generates_a_new_one (0.00s)
--- PASS: TestLibraryElementService/CreateElement/when_the_uid_already_exists,_it_returns_a_`model.ErrLibraryElementAlreadyExists`_error (0.00s)
--- PASS: TestLibraryElementService/GetElement (0.00s)
--- PASS: TestLibraryElementService/GetElement/when_the_element_does_not_exist,_it_returns_a_`model.ErrLibraryElementNotFound`_error (0.00s)
--- PASS: TestLibraryElementService/GetElement/when_the_element_exists,_it_returns_it (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/libraryelements/fake	(cached)
?   	github.com/grafana/grafana/pkg/services/libraryelements/model	[no test files]
=== RUN   TestConnectLibraryPanelsForDashboard
=== RUN   TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_a_library_panel,_it_should_connect_the_two
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_library_panels_inside_and_outside_of_rows,_it_should_connect_all
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_a_library_panel_without_uid,_it_should_fail
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_unused/removed_library_panels,_it_should_disconnect_unused/removed_library_panels
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestConnectLibraryPanelsForDashboard/It_should_return_the_correct_count_of_library_panels_in_a_folder
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestConnectLibraryPanelsForDashboard/It_should_delete_library_panels_in_a_folder
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
--- PASS: TestConnectLibraryPanelsForDashboard (0.44s)
--- PASS: TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_a_library_panel,_it_should_connect_the_two (0.42s)
--- PASS: TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_library_panels_inside_and_outside_of_rows,_it_should_connect_all (0.00s)
--- PASS: TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_a_library_panel_without_uid,_it_should_fail (0.00s)
--- PASS: TestConnectLibraryPanelsForDashboard/When_an_admin_tries_to_store_a_dashboard_with_unused/removed_library_panels,_it_should_disconnect_unused/removed_library_panels (0.00s)
--- PASS: TestConnectLibraryPanelsForDashboard/It_should_return_the_correct_count_of_library_panels_in_a_folder (0.00s)
--- PASS: TestConnectLibraryPanelsForDashboard/It_should_delete_library_panels_in_a_folder (0.00s)
=== RUN   TestImportLibraryPanelsForDashboard
=== RUN   TestImportLibraryPanelsForDashboard/When_an_admin_tries_to_import_a_dashboard_with_a_library_panel_that_does_not_exist,_it_should_import_the_library_panel
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestImportLibraryPanelsForDashboard/When_an_admin_tries_to_import_a_dashboard_with_a_library_panel_that_already_exist,_it_should_not_import_the_library_panel_and_existing_library_panel_should_be_unchanged
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
=== RUN   TestImportLibraryPanelsForDashboard/When_an_admin_tries_to_import_a_dashboard_with_library_panels_inside_and_outside_of_rows,_it_should_import_all_that_do_not_exist
librarypanels_test.go:909: Creating folder with title and UID "ScenarioFolder"
--- PASS: TestImportLibraryPanelsForDashboard (0.02s)
--- PASS: TestImportLibraryPanelsForDashboard/When_an_admin_tries_to_import_a_dashboard_with_a_library_panel_that_does_not_exist,_it_should_import_the_library_panel (0.00s)
--- PASS: TestImportLibraryPanelsForDashboard/When_an_admin_tries_to_import_a_dashboard_with_a_library_panel_that_already_exist,_it_should_not_import_the_library_panel_and_existing_library_panel_should_be_unchanged (0.01s)
--- PASS: TestImportLibraryPanelsForDashboard/When_an_admin_tries_to_import_a_dashboard_with_library_panels_inside_and_outside_of_rows,_it_should_import_all_that_do_not_exist (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/librarypanels	(cached)
?   	github.com/grafana/grafana/pkg/services/licensing	[no test files]
?   	github.com/grafana/grafana/pkg/services/licensing/licensingtest	[no test files]
=== RUN   Test_provideLiveService_RedisUnavailable
--- PASS: Test_provideLiveService_RedisUnavailable (0.24s)
=== RUN   Test_runConcurrentlyIfNeeded_Concurrent
--- PASS: Test_runConcurrentlyIfNeeded_Concurrent (0.00s)
=== RUN   Test_runConcurrentlyIfNeeded_NoConcurrency
--- PASS: Test_runConcurrentlyIfNeeded_NoConcurrency (0.00s)
=== RUN   Test_runConcurrentlyIfNeeded_DeadlineExceeded
--- PASS: Test_runConcurrentlyIfNeeded_DeadlineExceeded (0.00s)
=== RUN   TestCheckOrigin
=== RUN   TestCheckOrigin/empty_origin
=== PAUSE TestCheckOrigin/empty_origin
=== RUN   TestCheckOrigin/valid_origin
=== PAUSE TestCheckOrigin/valid_origin
=== RUN   TestCheckOrigin/valid_origin_no_port
=== PAUSE TestCheckOrigin/valid_origin_no_port
=== RUN   TestCheckOrigin/unauthorized_origin
=== PAUSE TestCheckOrigin/unauthorized_origin
=== RUN   TestCheckOrigin/bad_origin
=== PAUSE TestCheckOrigin/bad_origin
=== RUN   TestCheckOrigin/different_scheme
=== PAUSE TestCheckOrigin/different_scheme
=== RUN   TestCheckOrigin/authorized_case_insensitive
=== PAUSE TestCheckOrigin/authorized_case_insensitive
=== RUN   TestCheckOrigin/authorized_allowed_origins
=== PAUSE TestCheckOrigin/authorized_allowed_origins
=== RUN   TestCheckOrigin/authorized_allowed_origins_pattern
=== PAUSE TestCheckOrigin/authorized_allowed_origins_pattern
=== RUN   TestCheckOrigin/authorized_allowed_origins_all
=== PAUSE TestCheckOrigin/authorized_allowed_origins_all
=== RUN   TestCheckOrigin/request_host_matches_origin_host
=== PAUSE TestCheckOrigin/request_host_matches_origin_host
=== CONT  TestCheckOrigin/empty_origin
=== CONT  TestCheckOrigin/authorized_case_insensitive
=== CONT  TestCheckOrigin/valid_origin_no_port
=== CONT  TestCheckOrigin/unauthorized_origin
=== CONT  TestCheckOrigin/valid_origin
=== CONT  TestCheckOrigin/authorized_allowed_origins_all
=== CONT  TestCheckOrigin/authorized_allowed_origins_pattern
=== CONT  TestCheckOrigin/different_scheme
=== CONT  TestCheckOrigin/authorized_allowed_origins
=== CONT  TestCheckOrigin/bad_origin
=== CONT  TestCheckOrigin/request_host_matches_origin_host
--- PASS: TestCheckOrigin (0.00s)
--- PASS: TestCheckOrigin/empty_origin (0.00s)
--- PASS: TestCheckOrigin/valid_origin_no_port (0.00s)
--- PASS: TestCheckOrigin/authorized_case_insensitive (0.00s)
--- PASS: TestCheckOrigin/valid_origin (0.00s)
--- PASS: TestCheckOrigin/unauthorized_origin (0.00s)
--- PASS: TestCheckOrigin/authorized_allowed_origins_all (0.00s)
--- PASS: TestCheckOrigin/authorized_allowed_origins_pattern (0.00s)
--- PASS: TestCheckOrigin/different_scheme (0.00s)
--- PASS: TestCheckOrigin/authorized_allowed_origins (0.00s)
--- PASS: TestCheckOrigin/bad_origin (0.00s)
--- PASS: TestCheckOrigin/request_host_matches_origin_host (0.00s)
=== RUN   Test_getHistogramMetric
=== RUN   Test_getHistogramMetric/zero
=== RUN   Test_getHistogramMetric/equal_to_bound
=== RUN   Test_getHistogramMetric/in_the_middle
=== RUN   Test_getHistogramMetric/more_than_upper_bound
--- PASS: Test_getHistogramMetric (0.00s)
--- PASS: Test_getHistogramMetric/zero (0.00s)
--- PASS: Test_getHistogramMetric/equal_to_bound (0.00s)
--- PASS: Test_getHistogramMetric/in_the_middle (0.00s)
--- PASS: Test_getHistogramMetric/more_than_upper_bound (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live	(cached)
?   	github.com/grafana/grafana/pkg/services/live/convert	[no test files]
?   	github.com/grafana/grafana/pkg/services/live/database	[no test files]
=== RUN   TestIntegrationLiveMessage
storage_test.go:19: skipping integration test
--- SKIP: TestIntegrationLiveMessage (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/database/tests	(cached)
=== RUN   TestNewBroadcastRunner
--- PASS: TestNewBroadcastRunner (0.00s)
=== RUN   TestBroadcastRunner_OnSubscribe
--- PASS: TestBroadcastRunner_OnSubscribe (0.00s)
=== RUN   TestBroadcastRunner_OnPublish
--- PASS: TestBroadcastRunner_OnPublish (0.00s)
=== RUN   TestParseWatchRqeust
=== RUN   TestParseWatchRqeust/dashbaords
=== RUN   TestParseWatchRqeust/dashbaords_with_anme
=== RUN   TestParseWatchRqeust/bad_user_id
--- PASS: TestParseWatchRqeust (0.00s)
--- PASS: TestParseWatchRqeust/dashbaords (0.00s)
--- PASS: TestParseWatchRqeust/dashbaords_with_anme (0.00s)
--- PASS: TestParseWatchRqeust/bad_user_id (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/features	(cached)
?   	github.com/grafana/grafana/pkg/services/live/livecontext	[no test files]
?   	github.com/grafana/grafana/pkg/services/live/liveplugin	[no test files]
=== RUN   TestMemoryFrameCache
--- PASS: TestMemoryFrameCache (0.00s)
=== RUN   TestIntegrationRedisCacheStorage
cache_redis_test.go:15: skipping integration test
--- SKIP: TestIntegrationRedisCacheStorage (0.00s)
=== RUN   TestNewManagedStream
--- PASS: TestNewManagedStream (0.00s)
=== RUN   TestManagedStreamMinuteRate
--- PASS: TestManagedStreamMinuteRate (0.00s)
=== RUN   TestGetManagedStreams
--- PASS: TestGetManagedStreams (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/managedstream	(cached)
?   	github.com/grafana/grafana/pkg/services/live/model	[no test files]
=== RUN   TestStripOrgID
--- PASS: TestStripOrgID (0.00s)
=== RUN   TestPrependOrgID
--- PASS: TestPrependOrgID (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/orgchannel	(cached)
=== RUN   TestAutoJsonConverter_Convert
--- PASS: TestAutoJsonConverter_Convert (0.00s)
=== RUN   TestChangeLogOutput_NoPreviousFrame_SingleRow
--- PASS: TestChangeLogOutput_NoPreviousFrame_SingleRow (0.00s)
=== RUN   TestChangeLogOutput_NoPreviousFrame_MultipleRows
--- PASS: TestChangeLogOutput_NoPreviousFrame_MultipleRows (0.00s)
=== RUN   TestRemoteWriteFrameOutput_sample
--- PASS: TestRemoteWriteFrameOutput_sample (0.00s)
=== RUN   TestRemoteWriteFrameOutput_sample_merge
--- PASS: TestRemoteWriteFrameOutput_sample_merge (0.00s)
=== RUN   TestThresholdOutput_Output
=== RUN   TestThresholdOutput_Output/nil_input_frame
--- PASS: TestThresholdOutput_Output (0.00s)
--- PASS: TestThresholdOutput_Output/nil_input_frame (0.00s)
=== RUN   TestThresholdOutput_NoPreviousFrame_SingleRow
--- PASS: TestThresholdOutput_NoPreviousFrame_SingleRow (0.00s)
=== RUN   TestThresholdOutput_NoPreviousFrame_MultipleRows
--- PASS: TestThresholdOutput_NoPreviousFrame_MultipleRows (0.00s)
=== RUN   TestThresholdOutput_WithPreviousFrame_SingleRow
--- PASS: TestThresholdOutput_WithPreviousFrame_SingleRow (0.00s)
=== RUN   TestThresholdOutput_WithPreviousFrame_MultipleRows
--- PASS: TestThresholdOutput_WithPreviousFrame_MultipleRows (0.00s)
=== RUN   TestPipeline_New
--- PASS: TestPipeline_New (0.00s)
=== RUN   TestPipelineNoConverter
--- PASS: TestPipelineNoConverter (0.00s)
=== RUN   TestPipeline
--- PASS: TestPipeline (0.00s)
=== RUN   TestPipeline_OutputError
--- PASS: TestPipeline_OutputError (0.00s)
=== RUN   TestPipeline_Recursion
--- PASS: TestPipeline_Recursion (0.00s)
=== RUN   TestStorage_Get
--- PASS: TestStorage_Get (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/pipeline	0.013s
=== RUN   TestValid
=== RUN   TestValid/valid
=== RUN   TestValid/invalid
--- PASS: TestValid (0.00s)
--- PASS: TestValid/valid (0.00s)
--- PASS: TestValid/invalid (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/pipeline/pattern	(cached)
=== RUN   TestCountParams
--- PASS: TestCountParams (0.00s)
=== RUN   TestTreeAddAndGet
--- PASS: TestTreeAddAndGet (0.00s)
=== RUN   TestTreeWildcard
--- PASS: TestTreeWildcard (0.00s)
=== RUN   TestUnescapeParameters
--- PASS: TestUnescapeParameters (0.00s)
=== RUN   TestTreeWildcardConflict
--- PASS: TestTreeWildcardConflict (0.00s)
=== RUN   TestCatchAllAfterSlash
--- PASS: TestCatchAllAfterSlash (0.00s)
=== RUN   TestTreeChildConflict
--- PASS: TestTreeChildConflict (0.00s)
=== RUN   TestTreeDuplicatePath
--- PASS: TestTreeDuplicatePath (0.00s)
=== RUN   TestEmptyWildcardName
--- PASS: TestEmptyWildcardName (0.00s)
=== RUN   TestTreeCatchAllConflict
--- PASS: TestTreeCatchAllConflict (0.00s)
=== RUN   TestTreeCatchAllConflictRoot
--- PASS: TestTreeCatchAllConflictRoot (0.00s)
=== RUN   TestTreeCatchMaxParams
--- PASS: TestTreeCatchMaxParams (0.00s)
=== RUN   TestTreeDoubleWildcard
--- PASS: TestTreeDoubleWildcard (0.00s)
=== RUN   TestTreeTrailingSlashRedirect
--- PASS: TestTreeTrailingSlashRedirect (0.00s)
=== RUN   TestTreeRootTrailingSlashRedirect
--- PASS: TestTreeRootTrailingSlashRedirect (0.00s)
=== RUN   TestTreeFindCaseInsensitivePath
--- PASS: TestTreeFindCaseInsensitivePath (0.00s)
=== RUN   TestTreeInvalidNodeType
--- PASS: TestTreeInvalidNodeType (0.00s)
=== RUN   TestTreeInvalidParamsType
--- PASS: TestTreeInvalidParamsType (0.00s)
=== RUN   TestTreeWildcardConflictEx
--- PASS: TestTreeWildcardConflictEx (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/pipeline/tree	(cached)
?   	github.com/grafana/grafana/pkg/services/live/pushhttp	[no test files]
=== RUN   TestFrameFormatFromValues
--- PASS: TestFrameFormatFromValues (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/pushurl	(cached)
?   	github.com/grafana/grafana/pkg/services/live/pushws	[no test files]
=== RUN   TestTsFromFrames
--- PASS: TestTsFromFrames (0.00s)
=== RUN   TestTsFromFramesMultipleSeries
--- PASS: TestTsFromFramesMultipleSeries (0.00s)
=== RUN   TestTsFromFramesMultipleFrames
--- PASS: TestTsFromFramesMultipleFrames (0.00s)
=== RUN   TestSerialize
--- PASS: TestSerialize (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/remotewrite	(cached)
=== RUN   TestStreamManager_Run
--- PASS: TestStreamManager_Run (0.00s)
=== RUN   TestStreamManager_SubmitStream_Send
--- PASS: TestStreamManager_SubmitStream_Send (0.00s)
=== RUN   TestStreamManager_SubmitStream_DifferentOrgID
--- PASS: TestStreamManager_SubmitStream_DifferentOrgID (0.00s)
=== RUN   TestStreamManager_SubmitStream_CloseNoSubscribers
--- PASS: TestStreamManager_SubmitStream_CloseNoSubscribers (0.03s)
=== RUN   TestStreamManager_SubmitStream_ErrorRestartsRunStream
--- PASS: TestStreamManager_SubmitStream_ErrorRestartsRunStream (0.60s)
=== RUN   TestStreamManager_SubmitStream_NilErrorStopsRunStream
--- PASS: TestStreamManager_SubmitStream_NilErrorStopsRunStream (0.00s)
=== RUN   TestStreamManager_HandleDatasourceUpdate
--- PASS: TestStreamManager_HandleDatasourceUpdate (0.00s)
=== RUN   TestStreamManager_HandleDatasourceDelete
--- PASS: TestStreamManager_HandleDatasourceDelete (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/runstream	(cached)
?   	github.com/grafana/grafana/pkg/services/live/survey	[no test files]
?   	github.com/grafana/grafana/pkg/services/live/telemetry	[no test files]
=== RUN   TestNewConverter
--- PASS: TestNewConverter (0.00s)
=== RUN   TestConverter_Convert
=== RUN   TestConverter_Convert/single_metric
=== RUN   TestConverter_Convert/same_metrics_same_labels_different_time
=== RUN   TestConverter_Convert/same_metrics_different_labels_different_time
=== RUN   TestConverter_Convert/same_metrics_different_labels_same_time
--- PASS: TestConverter_Convert (0.00s)
--- PASS: TestConverter_Convert/single_metric (0.00s)
--- PASS: TestConverter_Convert/same_metrics_same_labels_different_time (0.00s)
--- PASS: TestConverter_Convert/same_metrics_different_labels_different_time (0.00s)
--- PASS: TestConverter_Convert/same_metrics_different_labels_same_time (0.00s)
=== RUN   TestConverter_Convert_LabelsColumn
=== RUN   TestConverter_Convert_LabelsColumn/single_metric
=== RUN   TestConverter_Convert_LabelsColumn/same_metrics_same_labels_different_time
=== RUN   TestConverter_Convert_LabelsColumn/same_metrics_different_labels_different_time
=== RUN   TestConverter_Convert_LabelsColumn/same_metrics_different_labels_same_time
=== RUN   TestConverter_Convert_LabelsColumn/incomplete_fields
=== RUN   TestConverter_Convert_LabelsColumn/incomplete_fields_2
=== RUN   TestConverter_Convert_LabelsColumn/incomplete_fields_full
--- PASS: TestConverter_Convert_LabelsColumn (0.01s)
--- PASS: TestConverter_Convert_LabelsColumn/single_metric (0.00s)
--- PASS: TestConverter_Convert_LabelsColumn/same_metrics_same_labels_different_time (0.00s)
--- PASS: TestConverter_Convert_LabelsColumn/same_metrics_different_labels_different_time (0.00s)
--- PASS: TestConverter_Convert_LabelsColumn/same_metrics_different_labels_same_time (0.00s)
--- PASS: TestConverter_Convert_LabelsColumn/incomplete_fields (0.00s)
--- PASS: TestConverter_Convert_LabelsColumn/incomplete_fields_2 (0.00s)
--- PASS: TestConverter_Convert_LabelsColumn/incomplete_fields_full (0.00s)
=== RUN   TestConverter_Convert_NumFrameFields
--- PASS: TestConverter_Convert_NumFrameFields (0.00s)
=== RUN   TestConverter_Convert_ChangingTypes
--- PASS: TestConverter_Convert_ChangingTypes (0.00s)
=== RUN   TestConverter_Convert_FieldOrder
--- PASS: TestConverter_Convert_FieldOrder (0.00s)
=== RUN   TestConverter_Convert_NumFrameFields_LabelsColumn
--- PASS: TestConverter_Convert_NumFrameFields_LabelsColumn (0.00s)
=== RUN   TestConverter_Convert_MixedNumberTypes_OK
--- PASS: TestConverter_Convert_MixedNumberTypes_OK (0.00s)
=== RUN   TestConverter_Convert_MixedNumberTypes_OK_LabelsColumn
--- PASS: TestConverter_Convert_MixedNumberTypes_OK_LabelsColumn (0.00s)
=== RUN   TestConverter_Convert_PartInput
--- PASS: TestConverter_Convert_PartInput (0.00s)
=== RUN   TestConverter_Convert_PartInput_LabelsColumn
--- PASS: TestConverter_Convert_PartInput_LabelsColumn (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/live/telemetry/telegraf	0.032s
?   	github.com/grafana/grafana/pkg/services/login	[no test files]
=== RUN   TestIntegrationAuthInfoStore
store_test.go:25: skipping integration test
--- SKIP: TestIntegrationAuthInfoStore (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/login/authinfoimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/login/authinfotest	[no test files]
?   	github.com/grafana/grafana/pkg/services/loginattempt	[no test files]
=== RUN   TestService_Validate
=== RUN   TestService_Validate/Should_be_valid_when_brute_force_protection_enabled_and_user_login_attempt_count_is_less_than_max
=== RUN   TestService_Validate/Should_be_invalid_when_brute_force_protection_enabled_and_user_login_attempt_count_equals_max
=== RUN   TestService_Validate/Should_be_invalid_when_brute_force_protection_enabled_and_user_login_attempt_count_is_greater_than_max
=== RUN   TestService_Validate/Should_be_valid_when_brute_force_protection_disabled_and_user_login_attempt_count_is_less_than_max
=== RUN   TestService_Validate/Should_be_valid_when_brute_force_protection_disabled_and_user_login_attempt_count_equals_max
=== RUN   TestService_Validate/Should_be_valid_when_brute_force_protection_disabled_and_user_login_attempt_count_is_greater_than_max
--- PASS: TestService_Validate (0.00s)
--- PASS: TestService_Validate/Should_be_valid_when_brute_force_protection_enabled_and_user_login_attempt_count_is_less_than_max (0.00s)
--- PASS: TestService_Validate/Should_be_invalid_when_brute_force_protection_enabled_and_user_login_attempt_count_equals_max (0.00s)
--- PASS: TestService_Validate/Should_be_invalid_when_brute_force_protection_enabled_and_user_login_attempt_count_is_greater_than_max (0.00s)
--- PASS: TestService_Validate/Should_be_valid_when_brute_force_protection_disabled_and_user_login_attempt_count_is_less_than_max (0.00s)
--- PASS: TestService_Validate/Should_be_valid_when_brute_force_protection_disabled_and_user_login_attempt_count_equals_max (0.00s)
--- PASS: TestService_Validate/Should_be_valid_when_brute_force_protection_disabled_and_user_login_attempt_count_is_greater_than_max (0.00s)
=== RUN   TestUserLoginAttempts
--- PASS: TestUserLoginAttempts (0.36s)
=== RUN   TestService_ValidateIPAddress
=== RUN   TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_enabled_and_IP_address_login_attempt_count_is_less_than_max
=== RUN   TestService_ValidateIPAddress/Should_be_invalid_when_brute_force_protection_enabled_and_IP_address_login_attempt_count_equals_max
=== RUN   TestService_ValidateIPAddress/Should_be_invalid_when_brute_force_protection_enabled_and_IP_address_login_attempt_count_is_greater_than_max
=== RUN   TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_disabled_and_IP_address_login_attempt_count_is_less_than_max
=== RUN   TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_disabled_and_IP_address_login_attempt_count_equals_max
=== RUN   TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_disabled_and_IP_address_login_attempt_count_is_greater_than_max
--- PASS: TestService_ValidateIPAddress (0.00s)
--- PASS: TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_enabled_and_IP_address_login_attempt_count_is_less_than_max (0.00s)
--- PASS: TestService_ValidateIPAddress/Should_be_invalid_when_brute_force_protection_enabled_and_IP_address_login_attempt_count_equals_max (0.00s)
--- PASS: TestService_ValidateIPAddress/Should_be_invalid_when_brute_force_protection_enabled_and_IP_address_login_attempt_count_is_greater_than_max (0.00s)
--- PASS: TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_disabled_and_IP_address_login_attempt_count_is_less_than_max (0.00s)
--- PASS: TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_disabled_and_IP_address_login_attempt_count_equals_max (0.00s)
--- PASS: TestService_ValidateIPAddress/Should_be_valid_when_brute_force_protection_disabled_and_IP_address_login_attempt_count_is_greater_than_max (0.00s)
=== RUN   TestIPLoginAttempts
--- PASS: TestIPLoginAttempts (0.00s)
=== RUN   TestIntegrationLoginAttemptsQuery
store_test.go:20: skipping integration test
--- SKIP: TestIntegrationLoginAttemptsQuery (0.00s)
=== RUN   TestIntegrationLoginAttemptsDelete
store_test.go:89: skipping integration test
--- SKIP: TestIntegrationLoginAttemptsDelete (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/loginattempt/loginattemptimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/loginattempt/loginattempttest	[no test files]
=== RUN   TestNavTreeRoot
=== RUN   TestNavTreeRoot/Sorting_by_index
=== RUN   TestNavTreeRoot/Sorting_by_index_and_SortWeight
=== RUN   TestNavTreeRoot/FindByURL_is_able_to_find_a_navItem_by_url
--- PASS: TestNavTreeRoot (0.00s)
--- PASS: TestNavTreeRoot/Sorting_by_index (0.00s)
--- PASS: TestNavTreeRoot/Sorting_by_index_and_SortWeight (0.00s)
--- PASS: TestNavTreeRoot/FindByURL_is_able_to_find_a_navItem_by_url (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/navtree	(cached)
=== RUN   TestAddAppLinks
=== RUN   TestAddAppLinks/Should_move_apps_to_'More_apps'_category
=== RUN   TestAddAppLinks/Should_add_enabled_apps_with_pages
=== RUN   TestAddAppLinks/Should_remove_the_default_nav_child_(DefaultNav=true)_and_should_set_its_URL_to_the_plugin_nav_root
=== RUN   TestAddAppLinks/Should_move_apps_that_have_root_nav_id_configured_to_the_root
=== RUN   TestAddAppLinks/Should_move_apps_that_have_specific_nav_id_configured_to_correct_section
=== RUN   TestAddAppLinks/Should_only_add_an_'Observability'_section_if_a_plugin_exists_that_wants_to_live_there
=== RUN   TestAddAppLinks/Should_add_a_'Alerts_and_Incidents'_section_if_a_plugin_exists_that_wants_to_live_there
=== RUN   TestAddAppLinks/Should_add_a_'Alerts_and_Incidents'_section_if_a_plugin_exists_that_wants_to_live_there_even_without_an_alerting_node
=== RUN   TestAddAppLinks/Should_be_able_to_control_app_sort_order_with_SortWeight_(smaller_SortWeight_displayed_first)
=== RUN   TestAddAppLinks/Should_replace_page_from_plugin
=== RUN   TestAddAppLinks/Should_not_register_pages_under_the_app_plugin_section_unless_AddToNav=true
--- PASS: TestAddAppLinks (0.00s)
--- PASS: TestAddAppLinks/Should_move_apps_to_'More_apps'_category (0.00s)
--- PASS: TestAddAppLinks/Should_add_enabled_apps_with_pages (0.00s)
--- PASS: TestAddAppLinks/Should_remove_the_default_nav_child_(DefaultNav=true)_and_should_set_its_URL_to_the_plugin_nav_root (0.00s)
--- PASS: TestAddAppLinks/Should_move_apps_that_have_root_nav_id_configured_to_the_root (0.00s)
--- PASS: TestAddAppLinks/Should_move_apps_that_have_specific_nav_id_configured_to_correct_section (0.00s)
--- PASS: TestAddAppLinks/Should_only_add_an_'Observability'_section_if_a_plugin_exists_that_wants_to_live_there (0.00s)
--- PASS: TestAddAppLinks/Should_add_a_'Alerts_and_Incidents'_section_if_a_plugin_exists_that_wants_to_live_there (0.00s)
--- PASS: TestAddAppLinks/Should_add_a_'Alerts_and_Incidents'_section_if_a_plugin_exists_that_wants_to_live_there_even_without_an_alerting_node (0.00s)
--- PASS: TestAddAppLinks/Should_be_able_to_control_app_sort_order_with_SortWeight_(smaller_SortWeight_displayed_first) (0.00s)
--- PASS: TestAddAppLinks/Should_replace_page_from_plugin (0.00s)
--- PASS: TestAddAppLinks/Should_not_register_pages_under_the_app_plugin_section_unless_AddToNav=true (0.00s)
=== RUN   TestReadingNavigationSettings
=== RUN   TestReadingNavigationSettings/Should_include_defaults
=== RUN   TestReadingNavigationSettings/Can_add_additional_overrides_via_ini_system
--- PASS: TestReadingNavigationSettings (0.00s)
--- PASS: TestReadingNavigationSettings/Should_include_defaults (0.00s)
--- PASS: TestReadingNavigationSettings/Can_add_additional_overrides_via_ini_system (0.00s)
=== RUN   TestAddAppLinksAccessControl
=== RUN   TestAddAppLinksAccessControl/Should_not_see_any_includes_with_no_app_access
=== RUN   TestAddAppLinksAccessControl/Should_only_see_the_announcements_as_a_none_role_user_with_app_access
=== RUN   TestAddAppLinksAccessControl/Should_now_see_the_catalog_as_a_viewer_with_catalog_read
=== RUN   TestAddAppLinksAccessControl/Should_not_see_the_catalog_include_as_an_editor_without_catalog_read
--- PASS: TestAddAppLinksAccessControl (0.00s)
--- PASS: TestAddAppLinksAccessControl/Should_not_see_any_includes_with_no_app_access (0.00s)
--- PASS: TestAddAppLinksAccessControl/Should_only_see_the_announcements_as_a_none_role_user_with_app_access (0.00s)
--- PASS: TestAddAppLinksAccessControl/Should_now_see_the_catalog_as_a_viewer_with_catalog_read (0.00s)
--- PASS: TestAddAppLinksAccessControl/Should_not_see_the_catalog_include_as_an_editor_without_catalog_read (0.00s)
=== RUN   TestBuildStarredItemsNavLinks
=== RUN   TestBuildStarredItemsNavLinks/Should_return_empty_list_when_there_are_no_starred_dashboards
=== RUN   TestBuildStarredItemsNavLinks/Should_return_nav_links_for_starred_dashboards
=== RUN   TestBuildStarredItemsNavLinks/Should_limit_to_50_starred_dashboards
=== RUN   TestBuildStarredItemsNavLinks/Should_sort_dashboards_by_title
--- PASS: TestBuildStarredItemsNavLinks (0.00s)
--- PASS: TestBuildStarredItemsNavLinks/Should_return_empty_list_when_there_are_no_starred_dashboards (0.00s)
--- PASS: TestBuildStarredItemsNavLinks/Should_return_nav_links_for_starred_dashboards (0.00s)
--- PASS: TestBuildStarredItemsNavLinks/Should_limit_to_50_starred_dashboards (0.00s)
--- PASS: TestBuildStarredItemsNavLinks/Should_sort_dashboards_by_title (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/navtree/navtreeimpl	(cached)
=== RUN   TestUsageReporter
=== RUN   TestUsageReporter/reports_org_usage
=== RUN   TestUsageReporter/reports_global_usage
=== RUN   TestUsageReporter/reports_global_usage_if_scope_params_are_nil
--- PASS: TestUsageReporter (0.00s)
--- PASS: TestUsageReporter/reports_org_usage (0.00s)
--- PASS: TestUsageReporter/reports_global_usage (0.00s)
--- PASS: TestUsageReporter/reports_global_usage_if_scope_params_are_nil (0.00s)
=== RUN   TestReadQuotaConfig
=== RUN   TestReadQuotaConfig/registers_per-org_rule_quota_from_config
=== RUN   TestReadQuotaConfig/registers_global_rule_quota_from_config
--- PASS: TestReadQuotaConfig (0.00s)
--- PASS: TestReadQuotaConfig/registers_per-org_rule_quota_from_config (0.00s)
--- PASS: TestReadQuotaConfig/registers_global_rule_quota_from_config (0.00s)
=== RUN   Test_subscribeToFolderChanges
--- PASS: Test_subscribeToFolderChanges (0.01s)
=== RUN   TestConfigureHistorianBackend
=== RUN   TestConfigureHistorianBackend/fail_initialization_if_invalid_backend
=== RUN   TestConfigureHistorianBackend/fail_initialization_if_invalid_multi-backend_primary
=== RUN   TestConfigureHistorianBackend/fail_initialization_if_invalid_multi-backend_secondary
=== RUN   TestConfigureHistorianBackend/do_not_fail_initialization_if_pinging_Loki_fails
=== RUN   TestConfigureHistorianBackend/emit_metric_describing_chosen_backend
=== RUN   TestConfigureHistorianBackend/emit_special_zero_metric_if_state_history_disabled
--- PASS: TestConfigureHistorianBackend (0.01s)
--- PASS: TestConfigureHistorianBackend/fail_initialization_if_invalid_backend (0.00s)
--- PASS: TestConfigureHistorianBackend/fail_initialization_if_invalid_multi-backend_primary (0.00s)
--- PASS: TestConfigureHistorianBackend/fail_initialization_if_invalid_multi-backend_secondary (0.00s)
--- PASS: TestConfigureHistorianBackend/do_not_fail_initialization_if_pinging_Loki_fails (0.01s)
--- PASS: TestConfigureHistorianBackend/emit_metric_describing_chosen_backend (0.00s)
--- PASS: TestConfigureHistorianBackend/emit_special_zero_metric_if_state_history_disabled (0.00s)
=== RUN   TestInitInstanceStore
=== RUN   TestInitInstanceStore/Compressed_flag_enabled,_no_periodic_flag
=== RUN   TestInitInstanceStore/Compressed_flag_enabled_with_periodic_flag
=== RUN   TestInitInstanceStore/Compressed_flag_disabled
--- PASS: TestInitInstanceStore (0.00s)
--- PASS: TestInitInstanceStore/Compressed_flag_enabled,_no_periodic_flag (0.00s)
--- PASS: TestInitInstanceStore/Compressed_flag_enabled_with_periodic_flag (0.00s)
--- PASS: TestInitInstanceStore/Compressed_flag_disabled (0.00s)
=== RUN   TestInitStatePersister
=== RUN   TestInitStatePersister/Compressed_flag_enabled
=== RUN   TestInitStatePersister/Periodic_flag_enabled
=== RUN   TestInitStatePersister/No_flags_enabled
=== RUN   TestInitStatePersister/Both_flags_enabled_-_compressed_takes_precedence
--- PASS: TestInitStatePersister (0.00s)
--- PASS: TestInitStatePersister/Compressed_flag_enabled (0.00s)
--- PASS: TestInitStatePersister/Periodic_flag_enabled (0.00s)
--- PASS: TestInitStatePersister/No_flags_enabled (0.00s)
--- PASS: TestInitStatePersister/Both_flags_enabled_-_compressed_takes_precedence (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert	(cached)
=== RUN   TestReceiverAccess
=== RUN   TestReceiverAccess/legacy_global_reader_should_have_no_elevated_permissions
=== RUN   TestReceiverAccess/legacy_global_notifications_provisioning_reader_should_have_no_elevated_permissions
=== RUN   TestReceiverAccess/legacy_global_provisioning_reader_should_have_no_elevated_permissions
=== RUN   TestReceiverAccess/legacy_global_provisioning_secret_reader_should_have_secret_permissions_on_provisioning_only
=== RUN   TestReceiverAccess/global_receiver_reader_should_have_no_elevated_permissions
=== RUN   TestReceiverAccess/global_receiver_secret_reader_should_have_secret_permissions
=== RUN   TestReceiverAccess/per-receiver_secret_reader_should_have_per-receiver
=== RUN   TestReceiverAccess/legacy_global_writer_should_have_full_write
=== RUN   TestReceiverAccess/legacy_writers_should_require_read
=== RUN   TestReceiverAccess/receiver_create_should_not_have_write
=== RUN   TestReceiverAccess/global_receiver_update_should_have_write_but_no_delete
=== RUN   TestReceiverAccess/per-receiver_update_should_have_per-receiver_write_but_no_delete
=== RUN   TestReceiverAccess/per-receiver_update_should_require_read
=== RUN   TestReceiverAccess/global_receiver_delete_should_have_delete_but_no_write
=== RUN   TestReceiverAccess/per-receiver_delete_should_have_per-receiver_delete_but_no_write
=== RUN   TestReceiverAccess/per-receiver_delete_should_require_read
=== RUN   TestReceiverAccess/receiver_read_permissions_alone_can't_admin
=== RUN   TestReceiverAccess/receiver_write_permissions_alone_can't_admin
=== RUN   TestReceiverAccess/global_receiver_read_+_write_permissions_can_admin
=== RUN   TestReceiverAccess/per-receiver_read_+_write_permissions_should_have_per-receiver_admin
=== RUN   TestReceiverAccess/per-receiver_admin_should_require_read
=== RUN   TestReceiverAccess/legacy_provisioning_secret_read,_receiver_write
=== RUN   TestReceiverAccess/legacy_provisioning_secret_read,_receiver_delete
=== RUN   TestReceiverAccess/legacy_write,_receiver_secret
=== RUN   TestReceiverAccess/mixed_secret_/_delete_/_write
=== RUN   TestReceiverAccess/mixed_requires_read
--- PASS: TestReceiverAccess (0.00s)
--- PASS: TestReceiverAccess/legacy_global_reader_should_have_no_elevated_permissions (0.00s)
--- PASS: TestReceiverAccess/legacy_global_notifications_provisioning_reader_should_have_no_elevated_permissions (0.00s)
--- PASS: TestReceiverAccess/legacy_global_provisioning_reader_should_have_no_elevated_permissions (0.00s)
--- PASS: TestReceiverAccess/legacy_global_provisioning_secret_reader_should_have_secret_permissions_on_provisioning_only (0.00s)
--- PASS: TestReceiverAccess/global_receiver_reader_should_have_no_elevated_permissions (0.00s)
--- PASS: TestReceiverAccess/global_receiver_secret_reader_should_have_secret_permissions (0.00s)
--- PASS: TestReceiverAccess/per-receiver_secret_reader_should_have_per-receiver (0.00s)
--- PASS: TestReceiverAccess/legacy_global_writer_should_have_full_write (0.00s)
--- PASS: TestReceiverAccess/legacy_writers_should_require_read (0.00s)
--- PASS: TestReceiverAccess/receiver_create_should_not_have_write (0.00s)
--- PASS: TestReceiverAccess/global_receiver_update_should_have_write_but_no_delete (0.00s)
--- PASS: TestReceiverAccess/per-receiver_update_should_have_per-receiver_write_but_no_delete (0.00s)
--- PASS: TestReceiverAccess/per-receiver_update_should_require_read (0.00s)
--- PASS: TestReceiverAccess/global_receiver_delete_should_have_delete_but_no_write (0.00s)
--- PASS: TestReceiverAccess/per-receiver_delete_should_have_per-receiver_delete_but_no_write (0.00s)
--- PASS: TestReceiverAccess/per-receiver_delete_should_require_read (0.00s)
--- PASS: TestReceiverAccess/receiver_read_permissions_alone_can't_admin (0.00s)
--- PASS: TestReceiverAccess/receiver_write_permissions_alone_can't_admin (0.00s)
--- PASS: TestReceiverAccess/global_receiver_read_+_write_permissions_can_admin (0.00s)
--- PASS: TestReceiverAccess/per-receiver_read_+_write_permissions_should_have_per-receiver_admin (0.00s)
--- PASS: TestReceiverAccess/per-receiver_admin_should_require_read (0.00s)
--- PASS: TestReceiverAccess/legacy_provisioning_secret_read,_receiver_write (0.00s)
--- PASS: TestReceiverAccess/legacy_provisioning_secret_read,_receiver_delete (0.00s)
--- PASS: TestReceiverAccess/legacy_write,_receiver_secret (0.00s)
--- PASS: TestReceiverAccess/mixed_secret_/_delete_/_write (0.00s)
--- PASS: TestReceiverAccess/mixed_requires_read (0.00s)
=== RUN   TestAuthorizeRuleChanges
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_to_add_it_should_check_create_action_and_query_for_datasource
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_to_add_it_should_check_create_action_and_query_for_datasource/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_to_delete_it_should_check_delete_action_and_NOT_query_for_datasource
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_to_delete_it_should_check_delete_action_and_NOT_query_for_datasource/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_with_query_updates_within_the_same_namespace_it_should_check_update_action_and_access_to_datasource
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_with_query_updates_within_the_same_namespace_it_should_check_update_action_and_access_to_datasource/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_w/o_query_updates_to_update_within_the_same_namespace_it_should_check_update_action
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_w/o_query_updates_to_update_within_the_same_namespace_it_should_check_update_action/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_namespaces_it_should_check_delete+add_action_and_access_to_group_where_rules_come_from
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_namespaces_it_should_check_delete+add_action_and_access_to_group_where_rules_come_from/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_it_should_check_update_action_and_access_to_all_groups_(source+target)
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_it_should_check_update_action_and_access_to_all_groups_(source+target)/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_AND_the_query_is_changed_it_should_check_update_action_and_access_to_all_groups_(source+target)_and_datasources
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_AND_the_query_is_changed_it_should_check_update_action_and_access_to_all_groups_(source+target)_and_datasources/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_new_rules_that_have_notification_settings_it_should_check_access_to_all_receivers
=== RUN   TestAuthorizeRuleChanges/if_there_are_new_rules_that_have_notification_settings_it_should_check_access_to_all_receivers/should_fail_with_insufficient_permissions
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_modify_notification_settings_it_should_check_access_to_all_receivers
=== RUN   TestAuthorizeRuleChanges/if_there_are_rules_that_modify_notification_settings_it_should_check_access_to_all_receivers/should_fail_with_insufficient_permissions
--- PASS: TestAuthorizeRuleChanges (0.01s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_to_add_it_should_check_create_action_and_query_for_datasource (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_to_add_it_should_check_create_action_and_query_for_datasource/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_to_delete_it_should_check_delete_action_and_NOT_query_for_datasource (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_to_delete_it_should_check_delete_action_and_NOT_query_for_datasource/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_with_query_updates_within_the_same_namespace_it_should_check_update_action_and_access_to_datasource (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_with_query_updates_within_the_same_namespace_it_should_check_update_action_and_access_to_datasource/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_w/o_query_updates_to_update_within_the_same_namespace_it_should_check_update_action (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_w/o_query_updates_to_update_within_the_same_namespace_it_should_check_update_action/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_namespaces_it_should_check_delete+add_action_and_access_to_group_where_rules_come_from (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_namespaces_it_should_check_delete+add_action_and_access_to_group_where_rules_come_from/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_it_should_check_update_action_and_access_to_all_groups_(source+target) (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_it_should_check_update_action_and_access_to_all_groups_(source+target)/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_AND_the_query_is_changed_it_should_check_update_action_and_access_to_all_groups_(source+target)_and_datasources (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_are_moved_between_groups_in_the_same_namespace_AND_the_query_is_changed_it_should_check_update_action_and_access_to_all_groups_(source+target)_and_datasources/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_new_rules_that_have_notification_settings_it_should_check_access_to_all_receivers (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_new_rules_that_have_notification_settings_it_should_check_access_to_all_receivers/should_fail_with_insufficient_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_modify_notification_settings_it_should_check_access_to_all_receivers (0.00s)
--- PASS: TestAuthorizeRuleChanges/if_there_are_rules_that_modify_notification_settings_it_should_check_access_to_all_receivers/should_fail_with_insufficient_permissions (0.00s)
=== RUN   TestCheckDatasourcePermissionsForRule
=== RUN   TestCheckDatasourcePermissionsForRule/should_check_only_expressions
=== RUN   TestCheckDatasourcePermissionsForRule/should_return_on_first_negative_evaluation
--- PASS: TestCheckDatasourcePermissionsForRule (0.00s)
--- PASS: TestCheckDatasourcePermissionsForRule/should_check_only_expressions (0.00s)
--- PASS: TestCheckDatasourcePermissionsForRule/should_return_on_first_negative_evaluation (0.00s)
=== RUN   Test_authorizeAccessToRuleGroup
=== RUN   Test_authorizeAccessToRuleGroup/should_succeed_if_user_has_access_to_all_namespaces
=== RUN   Test_authorizeAccessToRuleGroup/should_fail_if_user_does_not_have_access_to_namespace
--- PASS: Test_authorizeAccessToRuleGroup (0.00s)
--- PASS: Test_authorizeAccessToRuleGroup/should_succeed_if_user_has_access_to_all_namespaces (0.00s)
--- PASS: Test_authorizeAccessToRuleGroup/should_fail_if_user_does_not_have_access_to_namespace (0.00s)
=== RUN   TestCanReadAllRules
--- PASS: TestCanReadAllRules (0.00s)
=== RUN   TestFilterByAccess
=== RUN   TestFilterByAccess/no_silence_access,_cannot_read
=== RUN   TestFilterByAccess/instance_reader_should_get_all
=== RUN   TestFilterByAccess/silence_wildcard_should_get_all
=== RUN   TestFilterByAccess/silence_reader_should_get_global_+_folder
=== RUN   TestFilterByAccess/silence_reader_with_no_accessible_rule_silences,_global_only
--- PASS: TestFilterByAccess (0.00s)
--- PASS: TestFilterByAccess/no_silence_access,_cannot_read (0.00s)
--- PASS: TestFilterByAccess/instance_reader_should_get_all (0.00s)
--- PASS: TestFilterByAccess/silence_wildcard_should_get_all (0.00s)
--- PASS: TestFilterByAccess/silence_reader_should_get_global_+_folder (0.00s)
--- PASS: TestFilterByAccess/silence_reader_with_no_accessible_rule_silences,_global_only (0.00s)
=== RUN   TestAuthorizeReadSilence
=== RUN   TestAuthorizeReadSilence/not_authorized_without_permissions
=== RUN   TestAuthorizeReadSilence/not_authorized_without_permissions/global
=== RUN   TestAuthorizeReadSilence/not_authorized_without_permissions/rule-1
=== RUN   TestAuthorizeReadSilence/not_authorized_without_permissions/unknown-rule
=== RUN   TestAuthorizeReadSilence/instance_reader_can_read_any_silence
=== RUN   TestAuthorizeReadSilence/instance_reader_can_read_any_silence/global
=== RUN   TestAuthorizeReadSilence/instance_reader_can_read_any_silence/rule-1
=== RUN   TestAuthorizeReadSilence/instance_reader_can_read_any_silence/unknown-rule
=== RUN   TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence
=== RUN   TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence/global
=== RUN   TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence/rule-1
=== RUN   TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence/unknown-rule
=== RUN   TestAuthorizeReadSilence/silence_reader_can_read_global
=== RUN   TestAuthorizeReadSilence/silence_reader_can_read_global/global
=== RUN   TestAuthorizeReadSilence/silence_reader_can_read_from_allowed_folder
=== RUN   TestAuthorizeReadSilence/silence_reader_can_read_from_allowed_folder/rule-1
=== RUN   TestAuthorizeReadSilence/silence_reader_cannot_read_from_other_folders
=== RUN   TestAuthorizeReadSilence/silence_reader_cannot_read_from_other_folders/rule-2
=== RUN   TestAuthorizeReadSilence/silence_reader_cannot_read_unknown_rule
=== RUN   TestAuthorizeReadSilence/silence_reader_cannot_read_unknown_rule/unknown-rule
--- PASS: TestAuthorizeReadSilence (0.00s)
--- PASS: TestAuthorizeReadSilence/not_authorized_without_permissions (0.00s)
--- PASS: TestAuthorizeReadSilence/not_authorized_without_permissions/global (0.00s)
--- PASS: TestAuthorizeReadSilence/not_authorized_without_permissions/rule-1 (0.00s)
--- PASS: TestAuthorizeReadSilence/not_authorized_without_permissions/unknown-rule (0.00s)
--- PASS: TestAuthorizeReadSilence/instance_reader_can_read_any_silence (0.00s)
--- PASS: TestAuthorizeReadSilence/instance_reader_can_read_any_silence/global (0.00s)
--- PASS: TestAuthorizeReadSilence/instance_reader_can_read_any_silence/rule-1 (0.00s)
--- PASS: TestAuthorizeReadSilence/instance_reader_can_read_any_silence/unknown-rule (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence/global (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence/rule-1 (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_wildcard_reader_can_read_any_silence/unknown-rule (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_can_read_global (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_can_read_global/global (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_can_read_from_allowed_folder (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_can_read_from_allowed_folder/rule-1 (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_cannot_read_from_other_folders (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_cannot_read_from_other_folders/rule-2 (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_cannot_read_unknown_rule (0.00s)
--- PASS: TestAuthorizeReadSilence/silence_reader_cannot_read_unknown_rule/unknown-rule (0.00s)
=== RUN   TestAuthorizeCreateSilence
=== RUN   TestAuthorizeCreateSilence/not_authorized_without_permissions
=== RUN   TestAuthorizeCreateSilence/not_authorized_without_permissions/global
=== RUN   TestAuthorizeCreateSilence/not_authorized_without_permissions/rule-1
=== RUN   TestAuthorizeCreateSilence/not_authorized_without_permissions/rule-2
=== RUN   TestAuthorizeCreateSilence/not_authorized_without_permissions/unknown-rule
=== RUN   TestAuthorizeCreateSilence/no_create_access,_instance_reader
=== RUN   TestAuthorizeCreateSilence/no_create_access,_instance_reader/global
=== RUN   TestAuthorizeCreateSilence/no_create_access,_instance_reader/rule-1
=== RUN   TestAuthorizeCreateSilence/no_create_access,_instance_reader/rule-2
=== RUN   TestAuthorizeCreateSilence/no_create_access,_instance_reader/unknown-rule
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/global
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/rule-1
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/rule-2
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/unknown-rule
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_reader
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_reader/global
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_reader/rule-1
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_reader/rule-2
=== RUN   TestAuthorizeCreateSilence/no_create_access,_silence_reader/unknown-rule
=== RUN   TestAuthorizeCreateSilence/only_create_access,_instance_create
=== RUN   TestAuthorizeCreateSilence/only_create_access,_instance_create/global
=== RUN   TestAuthorizeCreateSilence/only_create_access,_instance_create/rule-1
=== RUN   TestAuthorizeCreateSilence/only_create_access,_instance_create/rule-2
=== RUN   TestAuthorizeCreateSilence/only_create_access,_instance_create/unknown-rule
=== RUN   TestAuthorizeCreateSilence/only_create_access,_silence_create
=== RUN   TestAuthorizeCreateSilence/only_create_access,_silence_create/global
=== RUN   TestAuthorizeCreateSilence/only_create_access,_silence_create/rule-1
=== RUN   TestAuthorizeCreateSilence/only_create_access,_silence_create/rule-2
=== RUN   TestAuthorizeCreateSilence/only_create_access,_silence_create/unknown-rule
=== RUN   TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything
=== RUN   TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/global
=== RUN   TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/rule-1
=== RUN   TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/rule-2
=== RUN   TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/unknown-rule
=== RUN   TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything
=== RUN   TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/global
=== RUN   TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/rule-1
=== RUN   TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/rule-2
=== RUN   TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/unknown-rule
=== RUN   TestAuthorizeCreateSilence/instance_read_+_silence_create
=== RUN   TestAuthorizeCreateSilence/instance_read_+_silence_create/global
=== RUN   TestAuthorizeCreateSilence/instance_read_+_silence_create/rule-1
=== RUN   TestAuthorizeCreateSilence/instance_read_+_silence_create/rule-2
=== RUN   TestAuthorizeCreateSilence/instance_read_+_silence_create/unknown-rule
=== RUN   TestAuthorizeCreateSilence/silence_read_+_instance_create
=== RUN   TestAuthorizeCreateSilence/silence_read_+_instance_create/global
=== RUN   TestAuthorizeCreateSilence/silence_read_+_instance_create/rule-1
=== RUN   TestAuthorizeCreateSilence/silence_read_+_instance_create/rule-2
=== RUN   TestAuthorizeCreateSilence/silence_read_+_instance_create/unknown-rule
=== RUN   TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create
=== RUN   TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/global
=== RUN   TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/rule-1
=== RUN   TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/rule-2
=== RUN   TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/unknown-rule
=== RUN   TestAuthorizeCreateSilence/silence_read_+_create
=== RUN   TestAuthorizeCreateSilence/silence_read_+_create/global
=== RUN   TestAuthorizeCreateSilence/silence_read_+_create/rule-1
=== RUN   TestAuthorizeCreateSilence/silence_read_+_create/rule-2
=== RUN   TestAuthorizeCreateSilence/silence_read_+_create/unknown-rule
--- PASS: TestAuthorizeCreateSilence (0.00s)
--- PASS: TestAuthorizeCreateSilence/not_authorized_without_permissions (0.00s)
--- PASS: TestAuthorizeCreateSilence/not_authorized_without_permissions/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/not_authorized_without_permissions/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/not_authorized_without_permissions/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/not_authorized_without_permissions/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_instance_reader (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_instance_reader/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_instance_reader/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_instance_reader/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_instance_reader/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_wildcard_reader/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_reader (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_reader/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_reader/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_reader/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/no_create_access,_silence_reader/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_instance_create (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_instance_create/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_instance_create/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_instance_create/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_instance_create/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_silence_create (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_silence_create/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_silence_create/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_silence_create/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/only_create_access,_silence_create/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_create_can_do_everything/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_wildcard_read_+_instance_create_can_do_everything/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_silence_create (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_silence_create/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_silence_create/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_silence_create/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/instance_read_+_silence_create/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_instance_create (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_instance_create/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_instance_create/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_instance_create/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_instance_create/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_silence_wildcard_create/unknown-rule (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_create (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_create/global (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_create/rule-1 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_create/rule-2 (0.00s)
--- PASS: TestAuthorizeCreateSilence/silence_read_+_create/unknown-rule (0.00s)
=== RUN   TestAuthorizeUpdateSilence
=== RUN   TestAuthorizeUpdateSilence/not_authorized_without_permissions
=== RUN   TestAuthorizeUpdateSilence/not_authorized_without_permissions/global
=== RUN   TestAuthorizeUpdateSilence/not_authorized_without_permissions/rule-1
=== RUN   TestAuthorizeUpdateSilence/not_authorized_without_permissions/rule-2
=== RUN   TestAuthorizeUpdateSilence/not_authorized_without_permissions/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_instance_reader
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_instance_reader/global
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_instance_reader/rule-1
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_instance_reader/rule-2
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_instance_reader/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/global
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/rule-1
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/rule-2
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_reader
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_reader/global
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_reader/rule-1
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_reader/rule-2
=== RUN   TestAuthorizeUpdateSilence/no_write_access,_silence_reader/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_instance_write
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_instance_write/global
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_instance_write/rule-1
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_instance_write/rule-2
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_instance_write/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_silence_write
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_silence_write/global
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_silence_write/rule-1
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_silence_write/rule-2
=== RUN   TestAuthorizeUpdateSilence/only_write_access,_silence_write/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/global
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/rule-1
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/rule-2
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything
=== RUN   TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/global
=== RUN   TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/rule-1
=== RUN   TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/rule-2
=== RUN   TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_silence_write
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_silence_write/global
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_silence_write/rule-1
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_silence_write/rule-2
=== RUN   TestAuthorizeUpdateSilence/instance_read_+_silence_write/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_instance_write
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_instance_write/global
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_instance_write/rule-1
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_instance_write/rule-2
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_instance_write/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/global
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/rule-1
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/rule-2
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/unknown-rule
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_write
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_write/global
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_write/rule-1
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_write/rule-2
=== RUN   TestAuthorizeUpdateSilence/silence_read_+_write/unknown-rule
--- PASS: TestAuthorizeUpdateSilence (0.00s)
--- PASS: TestAuthorizeUpdateSilence/not_authorized_without_permissions (0.00s)
--- PASS: TestAuthorizeUpdateSilence/not_authorized_without_permissions/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/not_authorized_without_permissions/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/not_authorized_without_permissions/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/not_authorized_without_permissions/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_instance_reader (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_instance_reader/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_instance_reader/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_instance_reader/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_instance_reader/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_wildcard_reader/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_reader (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_reader/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_reader/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_reader/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/no_write_access,_silence_reader/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_instance_write (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_instance_write/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_instance_write/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_instance_write/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_instance_write/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_silence_write (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_silence_write/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_silence_write/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_silence_write/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/only_write_access,_silence_write/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_write_can_do_everything/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_wildcard_read_+_instance_write_can_do_everything/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_silence_write (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_silence_write/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_silence_write/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_silence_write/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/instance_read_+_silence_write/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_instance_write (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_instance_write/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_instance_write/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_instance_write/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_instance_write/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_silence_wildcard_write/unknown-rule (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_write (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_write/global (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_write/rule-1 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_write/rule-2 (0.00s)
--- PASS: TestAuthorizeUpdateSilence/silence_read_+_write/unknown-rule (0.00s)
=== RUN   TestSilenceAccess
=== RUN   TestSilenceAccess/not_authorized_without_permissions
=== RUN   TestSilenceAccess/instance_read_gives_read_access_to_everything
=== RUN   TestSilenceAccess/silence_wildcard_read_gives_read_access_to_everything
=== RUN   TestSilenceAccess/silence_read_in_folders_gives_read_access_to_global_and_folders
=== RUN   TestSilenceAccess/instance_reade+write+create_can_do_everything
=== RUN   TestSilenceAccess/silence_wildcard_read_+_instance_write+create_can_do_everything
=== RUN   TestSilenceAccess/instance_readr+write_can_read_and_write
=== RUN   TestSilenceAccess/silence_wildcard_read_+_instance_write_can_read_and_write
=== RUN   TestSilenceAccess/instance_reader+create_can_read_and_create
=== RUN   TestSilenceAccess/silence_wildcard_read_+_instance_create_can_read_and_create
=== RUN   TestSilenceAccess/cannot_write/create_without_read_-_instance_permissions
=== RUN   TestSilenceAccess/cannot_write/create_without_read_-_silence_permissions
=== RUN   TestSilenceAccess/instance_read_+_silence_write_in_folder
=== RUN   TestSilenceAccess/instance_read_+_silence_create_in_folder
=== RUN   TestSilenceAccess/silence_read_in_folder_+_instance_write_also_provides_global_write
=== RUN   TestSilenceAccess/silence_read_in_folder_+_instance_create_also_provides_global_create
=== RUN   TestSilenceAccess/silence_wildcard_write_doesn't_provide_global_write_but_does_provide_unknown_rule_write
=== RUN   TestSilenceAccess/silence_wildcard_create_doesn't_provide_global_create_but_does_provide_unknown_rule_create
=== RUN   TestSilenceAccess/silence_read_+_write_in_single_folder
=== RUN   TestSilenceAccess/silence_read_+_create_in_single_folder
--- PASS: TestSilenceAccess (0.00s)
--- PASS: TestSilenceAccess/not_authorized_without_permissions (0.00s)
--- PASS: TestSilenceAccess/instance_read_gives_read_access_to_everything (0.00s)
--- PASS: TestSilenceAccess/silence_wildcard_read_gives_read_access_to_everything (0.00s)
--- PASS: TestSilenceAccess/silence_read_in_folders_gives_read_access_to_global_and_folders (0.00s)
--- PASS: TestSilenceAccess/instance_reade+write+create_can_do_everything (0.00s)
--- PASS: TestSilenceAccess/silence_wildcard_read_+_instance_write+create_can_do_everything (0.00s)
--- PASS: TestSilenceAccess/instance_readr+write_can_read_and_write (0.00s)
--- PASS: TestSilenceAccess/silence_wildcard_read_+_instance_write_can_read_and_write (0.00s)
--- PASS: TestSilenceAccess/instance_reader+create_can_read_and_create (0.00s)
--- PASS: TestSilenceAccess/silence_wildcard_read_+_instance_create_can_read_and_create (0.00s)
--- PASS: TestSilenceAccess/cannot_write/create_without_read_-_instance_permissions (0.00s)
--- PASS: TestSilenceAccess/cannot_write/create_without_read_-_silence_permissions (0.00s)
--- PASS: TestSilenceAccess/instance_read_+_silence_write_in_folder (0.00s)
--- PASS: TestSilenceAccess/instance_read_+_silence_create_in_folder (0.00s)
--- PASS: TestSilenceAccess/silence_read_in_folder_+_instance_write_also_provides_global_write (0.00s)
--- PASS: TestSilenceAccess/silence_read_in_folder_+_instance_create_also_provides_global_create (0.00s)
--- PASS: TestSilenceAccess/silence_wildcard_write_doesn't_provide_global_write_but_does_provide_unknown_rule_write (0.00s)
--- PASS: TestSilenceAccess/silence_wildcard_create_doesn't_provide_global_create_but_does_provide_unknown_rule_create (0.00s)
--- PASS: TestSilenceAccess/silence_read_+_write_in_single_folder (0.00s)
--- PASS: TestSilenceAccess/silence_read_+_create_in_single_folder (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/accesscontrol	(cached)
?   	github.com/grafana/grafana/pkg/services/ngalert/accesscontrol/fakes	[no test files]
=== RUN   TestCheckRoute
=== RUN   TestCheckRoute/equal_configs_should_not_error
=== RUN   TestCheckRoute/editing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckRoute/editing_a_provisioned_object_should_fail
--- PASS: TestCheckRoute (0.00s)
--- PASS: TestCheckRoute/equal_configs_should_not_error (0.00s)
--- PASS: TestCheckRoute/editing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckRoute/editing_a_provisioned_object_should_fail (0.00s)
=== RUN   TestCheckTemplates
=== RUN   TestCheckTemplates/equal_configs_should_not_error
=== RUN   TestCheckTemplates/removing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckTemplates/removing_a_provisioned_object_should_fail
=== RUN   TestCheckTemplates/adding_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckTemplates/editing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckTemplates/editing_a_provisioned_object_should_fail
--- PASS: TestCheckTemplates (0.00s)
--- PASS: TestCheckTemplates/equal_configs_should_not_error (0.00s)
--- PASS: TestCheckTemplates/removing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckTemplates/removing_a_provisioned_object_should_fail (0.00s)
--- PASS: TestCheckTemplates/adding_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckTemplates/editing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckTemplates/editing_a_provisioned_object_should_fail (0.00s)
=== RUN   TestCheckContactPoints
=== RUN   TestCheckContactPoints/equal_configs_should_not_error
=== RUN   TestCheckContactPoints/removing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckContactPoints/removing_a_provisioned_object_should_fail
=== RUN   TestCheckContactPoints/adding_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckContactPoints/editing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckContactPoints/editing_secure_settings_of_a_provisioned_object_should_fail
=== RUN   TestCheckContactPoints/editing_settings_of_a_provisioned_object_should_fail
=== RUN   TestCheckContactPoints/editing_name_of_a_provisioned_receiver_should_fail
=== RUN   TestCheckContactPoints/Moving_provisioned_integration_to_different_receiver_should_fail
--- PASS: TestCheckContactPoints (0.00s)
--- PASS: TestCheckContactPoints/equal_configs_should_not_error (0.00s)
--- PASS: TestCheckContactPoints/removing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckContactPoints/removing_a_provisioned_object_should_fail (0.00s)
--- PASS: TestCheckContactPoints/adding_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckContactPoints/editing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckContactPoints/editing_secure_settings_of_a_provisioned_object_should_fail (0.00s)
--- PASS: TestCheckContactPoints/editing_settings_of_a_provisioned_object_should_fail (0.00s)
--- PASS: TestCheckContactPoints/editing_name_of_a_provisioned_receiver_should_fail (0.00s)
--- PASS: TestCheckContactPoints/Moving_provisioned_integration_to_different_receiver_should_fail (0.00s)
=== RUN   TestReceiversDelta
=== RUN   TestReceiversDelta/no_changes
=== RUN   TestReceiversDelta/create_one
=== RUN   TestReceiversDelta/delete_one
=== RUN   TestReceiversDelta/update_some
--- PASS: TestReceiversDelta (0.00s)
--- PASS: TestReceiversDelta/no_changes (0.00s)
--- PASS: TestReceiversDelta/create_one (0.00s)
--- PASS: TestReceiversDelta/delete_one (0.00s)
--- PASS: TestReceiversDelta/update_some (0.00s)
=== RUN   TestCheckMuteTimes
=== RUN   TestCheckMuteTimes/equal_configs_should_not_error
=== RUN   TestCheckMuteTimes/removing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckMuteTimes/removing_a_provisioned_object_should_fail
=== RUN   TestCheckMuteTimes/adding_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckMuteTimes/editing_a_non_provisioned_object_should_not_fail
=== RUN   TestCheckMuteTimes/editing_a_provisioned_object_should_fail
--- PASS: TestCheckMuteTimes (0.00s)
--- PASS: TestCheckMuteTimes/equal_configs_should_not_error (0.00s)
--- PASS: TestCheckMuteTimes/removing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckMuteTimes/removing_a_provisioned_object_should_fail (0.00s)
--- PASS: TestCheckMuteTimes/adding_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckMuteTimes/editing_a_non_provisioned_object_should_not_fail (0.00s)
--- PASS: TestCheckMuteTimes/editing_a_provisioned_object_should_fail (0.00s)
=== RUN   TestSilenceCreate
=== RUN   TestSilenceCreate/Valid_Silence
=== RUN   TestSilenceCreate/No_Comment_Silence
--- PASS: TestSilenceCreate (0.01s)
--- PASS: TestSilenceCreate/Valid_Silence (0.01s)
--- PASS: TestSilenceCreate/No_Comment_Silence (0.00s)
=== RUN   TestRouteCreateSilence
=== RUN   TestRouteCreateSilence/new_silence,_role-based_access_control_is_enabled,_not_authorized
=== RUN   TestRouteCreateSilence/new_silence,_role-based_access_control_is_enabled,_authorized
=== RUN   TestRouteCreateSilence/update_silence,_role-based_access_control_is_enabled,_not_authorized
=== RUN   TestRouteCreateSilence/update_silence,_role-based_access_control_is_enabled,_authorized
--- PASS: TestRouteCreateSilence (0.02s)
--- PASS: TestRouteCreateSilence/new_silence,_role-based_access_control_is_enabled,_not_authorized (0.00s)
--- PASS: TestRouteCreateSilence/new_silence,_role-based_access_control_is_enabled,_authorized (0.00s)
--- PASS: TestRouteCreateSilence/update_silence,_role-based_access_control_is_enabled,_not_authorized (0.00s)
--- PASS: TestRouteCreateSilence/update_silence,_role-based_access_control_is_enabled,_authorized (0.01s)
=== RUN   TestContextWithTimeoutFromRequest
=== RUN   TestContextWithTimeoutFromRequest/assert_context_has_default_timeout_when_header_is_absent
=== RUN   TestContextWithTimeoutFromRequest/assert_context_has_timeout_in_request_header
=== RUN   TestContextWithTimeoutFromRequest/assert_timeout_in_request_header_cannot_exceed_max_timeout
--- PASS: TestContextWithTimeoutFromRequest (0.00s)
--- PASS: TestContextWithTimeoutFromRequest/assert_context_has_default_timeout_when_header_is_absent (0.00s)
--- PASS: TestContextWithTimeoutFromRequest/assert_context_has_timeout_in_request_header (0.00s)
--- PASS: TestContextWithTimeoutFromRequest/assert_timeout_in_request_header_cannot_exceed_max_timeout (0.00s)
=== RUN   TestAlertmanagerConfig
=== RUN   TestAlertmanagerConfig/when_objects_are_not_provisioned
=== RUN   TestAlertmanagerConfig/when_objects_are_not_provisioned/route_from_GET_config_has_no_provenance
=== RUN   TestAlertmanagerConfig/when_objects_are_not_provisioned/contact_point_from_GET_config_has_no_provenance
=== RUN   TestAlertmanagerConfig/when_objects_are_not_provisioned/templates_from_GET_config_have_no_provenance
=== RUN   TestAlertmanagerConfig/when_objects_are_provisioned
=== RUN   TestAlertmanagerConfig/when_objects_are_provisioned/route_from_GET_config_has_expected_provenance
=== RUN   TestAlertmanagerConfig/when_objects_are_provisioned/contact_point_from_GET_config_has_expected_provenance
=== RUN   TestAlertmanagerConfig/when_objects_are_provisioned/templates_from_GET_config_have_expected_provenance
--- PASS: TestAlertmanagerConfig (0.04s)
--- PASS: TestAlertmanagerConfig/when_objects_are_not_provisioned (0.02s)
--- PASS: TestAlertmanagerConfig/when_objects_are_not_provisioned/route_from_GET_config_has_no_provenance (0.01s)
--- PASS: TestAlertmanagerConfig/when_objects_are_not_provisioned/contact_point_from_GET_config_has_no_provenance (0.01s)
--- PASS: TestAlertmanagerConfig/when_objects_are_not_provisioned/templates_from_GET_config_have_no_provenance (0.01s)
--- PASS: TestAlertmanagerConfig/when_objects_are_provisioned (0.02s)
--- PASS: TestAlertmanagerConfig/when_objects_are_provisioned/route_from_GET_config_has_expected_provenance (0.01s)
--- PASS: TestAlertmanagerConfig/when_objects_are_provisioned/contact_point_from_GET_config_has_expected_provenance (0.01s)
--- PASS: TestAlertmanagerConfig/when_objects_are_provisioned/templates_from_GET_config_have_expected_provenance (0.01s)
=== RUN   TestGetAlertmanagerConfiguration_NewSecretField
--- PASS: TestGetAlertmanagerConfiguration_NewSecretField (0.02s)
=== RUN   TestAlertmanagerAutogenConfig
=== RUN   TestAlertmanagerAutogenConfig/route_GET_config
=== RUN   TestAlertmanagerAutogenConfig/route_GET_config/when_admin_return_autogen_routes
=== RUN   TestAlertmanagerAutogenConfig/route_GET_config/when_not_admin_return_no_autogen_routes
=== RUN   TestAlertmanagerAutogenConfig/route_GET_status
=== RUN   TestAlertmanagerAutogenConfig/route_GET_status/when_admin_return_autogen_routes
=== RUN   TestAlertmanagerAutogenConfig/route_GET_status/when_not_admin_return_no_autogen_routes
--- PASS: TestAlertmanagerAutogenConfig (0.05s)
--- PASS: TestAlertmanagerAutogenConfig/route_GET_config (0.03s)
--- PASS: TestAlertmanagerAutogenConfig/route_GET_config/when_admin_return_autogen_routes (0.02s)
--- PASS: TestAlertmanagerAutogenConfig/route_GET_config/when_not_admin_return_no_autogen_routes (0.01s)
--- PASS: TestAlertmanagerAutogenConfig/route_GET_status (0.02s)
--- PASS: TestAlertmanagerAutogenConfig/route_GET_status/when_admin_return_autogen_routes (0.01s)
--- PASS: TestAlertmanagerAutogenConfig/route_GET_status/when_not_admin_return_no_autogen_routes (0.01s)
=== RUN   TestRouteGetAlertingConfigHistory
=== RUN   TestRouteGetAlertingConfigHistory/assert_200_and_empty_slice_when_no_applied_configurations_are_found
=== RUN   TestRouteGetAlertingConfigHistory/assert_200_and_one_config_in_the_response_for_an_org_that_has_one_successfully_applied_configuration
=== RUN   TestRouteGetAlertingConfigHistory/assert_200_when_no_limit_is_provided
=== RUN   TestRouteGetAlertingConfigHistory/assert_200_when_limit_is_<_1
=== RUN   TestRouteGetAlertingConfigHistory/assert_200_when_limit_is_>_100
--- PASS: TestRouteGetAlertingConfigHistory (0.01s)
--- PASS: TestRouteGetAlertingConfigHistory/assert_200_and_empty_slice_when_no_applied_configurations_are_found (0.00s)
--- PASS: TestRouteGetAlertingConfigHistory/assert_200_and_one_config_in_the_response_for_an_org_that_has_one_successfully_applied_configuration (0.00s)
--- PASS: TestRouteGetAlertingConfigHistory/assert_200_when_no_limit_is_provided (0.00s)
--- PASS: TestRouteGetAlertingConfigHistory/assert_200_when_limit_is_<_1 (0.00s)
--- PASS: TestRouteGetAlertingConfigHistory/assert_200_when_limit_is_>_100 (0.00s)
=== RUN   TestRoutePostGrafanaAlertingConfigHistoryActivate
=== RUN   TestRoutePostGrafanaAlertingConfigHistoryActivate/assert_404_when_no_historical_configurations_are_found
=== RUN   TestRoutePostGrafanaAlertingConfigHistoryActivate/assert_202_for_a_valid_org_and_id
=== RUN   TestRoutePostGrafanaAlertingConfigHistoryActivate/assert_400_when_id_is_not_parseable
--- PASS: TestRoutePostGrafanaAlertingConfigHistoryActivate (0.01s)
--- PASS: TestRoutePostGrafanaAlertingConfigHistoryActivate/assert_404_when_no_historical_configurations_are_found (0.00s)
--- PASS: TestRoutePostGrafanaAlertingConfigHistoryActivate/assert_202_for_a_valid_org_and_id (0.00s)
--- PASS: TestRoutePostGrafanaAlertingConfigHistoryActivate/assert_400_when_id_is_not_parseable (0.00s)
=== RUN   TestRoutePostTestTemplates
=== RUN   TestRoutePostTestTemplates/assert_404_when_no_alertmanager_found
=== RUN   TestRoutePostTestTemplates/assert_409_when_alertmanager_not_ready
=== RUN   TestRoutePostTestTemplates/assert_200_for_a_valid_alertmanager
--- PASS: TestRoutePostTestTemplates (0.01s)
--- PASS: TestRoutePostTestTemplates/assert_404_when_no_alertmanager_found (0.00s)
--- PASS: TestRoutePostTestTemplates/assert_409_when_alertmanager_not_ready (0.00s)
--- PASS: TestRoutePostTestTemplates/assert_200_for_a_valid_alertmanager (0.00s)
=== RUN   TestExternalAlertmanagerChoice
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_external_by_having_a_enabled_external_am_datasource_should_succeed
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_external_by_having_a_disabled_external_am_datasource_should_fail
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_external_and_having_no_am_configured_should_fail
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_all_and_having_no_external_am_configured_should_succeed
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_internal_should_always_succeed
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_internal_should_succeed_when_external_disallowed
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_all_should_fail_when_external_disallowed
=== RUN   TestExternalAlertmanagerChoice/setting_the_choice_to_external_should_fail_when_external_disallowed
--- PASS: TestExternalAlertmanagerChoice (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_external_by_having_a_enabled_external_am_datasource_should_succeed (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_external_by_having_a_disabled_external_am_datasource_should_fail (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_external_and_having_no_am_configured_should_fail (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_all_and_having_no_external_am_configured_should_succeed (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_internal_should_always_succeed (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_internal_should_succeed_when_external_disallowed (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_all_should_fail_when_external_disallowed (0.00s)
--- PASS: TestExternalAlertmanagerChoice/setting_the_choice_to_external_should_fail_when_external_disallowed (0.00s)
=== RUN   TestRouteConvertPrometheusPostRuleGroup
=== RUN   TestRouteConvertPrometheusPostRuleGroup/without_datasource_UID_header_should_return_400
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_invalid_datasource_should_return_error
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_rule_group_without_evaluation_interval_should_return_202
=== RUN   TestRouteConvertPrometheusPostRuleGroup/should_replace_an_existing_rule_group
=== RUN   TestRouteConvertPrometheusPostRuleGroup/should_fail_to_replace_a_provisioned_rule_group
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_no_access_to_the_datasource_should_return_403
=== RUN   TestRouteConvertPrometheusPostRuleGroup/when_alert_rule_quota_limit_exceeded
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/true_recording_rules_pause_value
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/false_recording_rules_pause_value
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/true_alert_rules_pause_value
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/false_alert_rules_pause_value
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_invalid_pause_header_values_should_return_400
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_invalid_pause_header_values_should_return_400/invalid_recording_rules_pause_value
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_invalid_pause_header_values_should_return_400/invalid_alert_rules_pause_value
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_valid_request_should_return_202
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_recording_rules_are_enabled
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_recording_rules_are_disabled
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_target_datasources_for_recording_rules_are_disabled
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_both_recording_rules_and_target_datasources_are_disabled
=== RUN   TestRouteConvertPrometheusPostRuleGroup/with_disable_provenance_header_should_use_ProvenanceNone
=== RUN   TestRouteConvertPrometheusPostRuleGroup/returns_error_when_target_datasource_does_not_exist
=== RUN   TestRouteConvertPrometheusPostRuleGroup/uses_target_datasource_for_recording_rules
--- PASS: TestRouteConvertPrometheusPostRuleGroup (0.01s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/without_datasource_UID_header_should_return_400 (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_invalid_datasource_should_return_error (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_rule_group_without_evaluation_interval_should_return_202 (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/should_replace_an_existing_rule_group (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/should_fail_to_replace_a_provisioned_rule_group (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_no_access_to_the_datasource_should_return_403 (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/when_alert_rule_quota_limit_exceeded (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202 (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/true_recording_rules_pause_value (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/false_recording_rules_pause_value (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/true_alert_rules_pause_value (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_valid_pause_header_values_should_return_202/false_alert_rules_pause_value (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_invalid_pause_header_values_should_return_400 (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_invalid_pause_header_values_should_return_400/invalid_recording_rules_pause_value (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_invalid_pause_header_values_should_return_400/invalid_alert_rules_pause_value (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_valid_request_should_return_202 (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_recording_rules_are_enabled (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_recording_rules_are_disabled (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_target_datasources_for_recording_rules_are_disabled (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_disabled_recording_rules/when_both_recording_rules_and_target_datasources_are_disabled (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/with_disable_provenance_header_should_use_ProvenanceNone (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/returns_error_when_target_datasource_does_not_exist (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroup/uses_target_datasource_for_recording_rules (0.00s)
=== RUN   TestRouteConvertPrometheusGetRuleGroup
=== RUN   TestRouteConvertPrometheusGetRuleGroup/with_non-existent_folder_should_return_404
=== RUN   TestRouteConvertPrometheusGetRuleGroup/with_non-existent_group_should_return_404
=== RUN   TestRouteConvertPrometheusGetRuleGroup/with_valid_request_should_return_200
--- PASS: TestRouteConvertPrometheusGetRuleGroup (0.00s)
--- PASS: TestRouteConvertPrometheusGetRuleGroup/with_non-existent_folder_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusGetRuleGroup/with_non-existent_group_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusGetRuleGroup/with_valid_request_should_return_200 (0.00s)
=== RUN   TestRouteConvertPrometheusGetNamespace
=== RUN   TestRouteConvertPrometheusGetNamespace/with_non-existent_folder_should_return_404
=== RUN   TestRouteConvertPrometheusGetNamespace/with_valid_request_should_return_200
--- PASS: TestRouteConvertPrometheusGetNamespace (0.00s)
--- PASS: TestRouteConvertPrometheusGetNamespace/with_non-existent_folder_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusGetNamespace/with_valid_request_should_return_200 (0.00s)
=== RUN   TestRouteConvertPrometheusGetRules
=== RUN   TestRouteConvertPrometheusGetRules/without_custom_root_folder
=== RUN   TestRouteConvertPrometheusGetRules/without_custom_root_folder/for_non-existent_folder_should_return_empty_response
=== RUN   TestRouteConvertPrometheusGetRules/without_custom_root_folder/for_existing_folder_with_no_children_should_return_empty_response
=== RUN   TestRouteConvertPrometheusGetRules/with_custom_root_folder
=== RUN   TestRouteConvertPrometheusGetRules/with_custom_root_folder/for_non-existent_folder_should_return_empty_response
=== RUN   TestRouteConvertPrometheusGetRules/with_custom_root_folder/for_existing_folder_with_no_children_should_return_empty_response
=== RUN   TestRouteConvertPrometheusGetRules/with_rules_should_return_200_with_rules
--- PASS: TestRouteConvertPrometheusGetRules (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/without_custom_root_folder (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/without_custom_root_folder/for_non-existent_folder_should_return_empty_response (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/without_custom_root_folder/for_existing_folder_with_no_children_should_return_empty_response (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/with_custom_root_folder (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/with_custom_root_folder/for_non-existent_folder_should_return_empty_response (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/with_custom_root_folder/for_existing_folder_with_no_children_should_return_empty_response (0.00s)
--- PASS: TestRouteConvertPrometheusGetRules/with_rules_should_return_200_with_rules (0.00s)
=== RUN   TestRouteConvertPrometheusDeleteNamespace
=== RUN   TestRouteConvertPrometheusDeleteNamespace/for_non-existent_folder_should_return_404
=== RUN   TestRouteConvertPrometheusDeleteNamespace/for_existing_folder_with_no_groups_should_return_404
=== RUN   TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules
=== RUN   TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules/valid_request_should_delete_rules
=== RUN   TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules/fails_to_delete_rules_when_they_are_provisioned
=== RUN   TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules/with_disable_provenance_header_should_still_be_able_to_delete_rules
--- PASS: TestRouteConvertPrometheusDeleteNamespace (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteNamespace/for_non-existent_folder_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteNamespace/for_existing_folder_with_no_groups_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules/valid_request_should_delete_rules (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules/fails_to_delete_rules_when_they_are_provisioned (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteNamespace/valid_request_should_delete_rules/with_disable_provenance_header_should_still_be_able_to_delete_rules (0.00s)
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup/for_non-existent_folder_should_return_404
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup/for_existing_folder_with_no_group_should_return_404
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules/valid_request_should_delete_rules
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules/fails_to_delete_rules_when_they_are_provisioned
=== RUN   TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules/with_disable_provenance_header_should_still_be_able_to_delete_rules
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup/for_non-existent_folder_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup/for_existing_folder_with_no_group_should_return_404 (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules/valid_request_should_delete_rules (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules/fails_to_delete_rules_when_they_are_provisioned (0.00s)
--- PASS: TestRouteConvertPrometheusDeleteRuleGroup/valid_request_should_delete_rules/with_disable_provenance_header_should_still_be_able_to_delete_rules (0.00s)
=== RUN   TestRouteConvertPrometheusPostRuleGroups
=== RUN   TestRouteConvertPrometheusPostRuleGroups/should_convert_prometheus_rules_to_Grafana_rules
=== RUN   TestRouteConvertPrometheusPostRuleGroups/should_convert_Prometheus_rules_to_Grafana_rules_but_pause_recording_rules
=== RUN   TestRouteConvertPrometheusPostRuleGroups/should_convert_Prometheus_rules_to_Grafana_rules_but_pause_alert_rules
=== RUN   TestRouteConvertPrometheusPostRuleGroups/should_convert_Prometheus_rules_to_Grafana_rules_but_pause_both_alert_and_recording_rules
=== RUN   TestRouteConvertPrometheusPostRuleGroups/convert_Prometheus_rules_to_Grafana_rules_into_a_specified_target_folder
--- PASS: TestRouteConvertPrometheusPostRuleGroups (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroups/should_convert_prometheus_rules_to_Grafana_rules (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroups/should_convert_Prometheus_rules_to_Grafana_rules_but_pause_recording_rules (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroups/should_convert_Prometheus_rules_to_Grafana_rules_but_pause_alert_rules (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroups/should_convert_Prometheus_rules_to_Grafana_rules_but_pause_both_alert_and_recording_rules (0.00s)
--- PASS: TestRouteConvertPrometheusPostRuleGroups/convert_Prometheus_rules_to_Grafana_rules_into_a_specified_target_folder (0.00s)
=== RUN   TestParseBooleanHeader
=== RUN   TestParseBooleanHeader/should_return_false_when_header_is_not_present
=== RUN   TestParseBooleanHeader/should_return_true_when_header_is_'true'
=== RUN   TestParseBooleanHeader/should_return_false_when_header_is_'false'
=== RUN   TestParseBooleanHeader/should_return_true_when_header_is_'TRUE'_(case_insensitive)
=== RUN   TestParseBooleanHeader/should_return_error_when_header_has_invalid_value
=== RUN   TestParseBooleanHeader/should_return_error_when_header_is_numeric_but_not_0/1
--- PASS: TestParseBooleanHeader (0.00s)
--- PASS: TestParseBooleanHeader/should_return_false_when_header_is_not_present (0.00s)
--- PASS: TestParseBooleanHeader/should_return_true_when_header_is_'true' (0.00s)
--- PASS: TestParseBooleanHeader/should_return_false_when_header_is_'false' (0.00s)
--- PASS: TestParseBooleanHeader/should_return_true_when_header_is_'TRUE'_(case_insensitive) (0.00s)
--- PASS: TestParseBooleanHeader/should_return_error_when_header_has_invalid_value (0.00s)
--- PASS: TestParseBooleanHeader/should_return_error_when_header_is_numeric_but_not_0/1 (0.00s)
=== RUN   TestGetWorkingFolderUID
=== RUN   TestGetWorkingFolderUID/should_return_root_folder_UID_when_header_is_not_present
=== RUN   TestGetWorkingFolderUID/should_return_specified_folder_UID_when_header_is_present
=== RUN   TestGetWorkingFolderUID/should_return_root_folder_UID_when_header_is_empty
=== RUN   TestGetWorkingFolderUID/should_trim_whitespace_from_header_value
--- PASS: TestGetWorkingFolderUID (0.00s)
--- PASS: TestGetWorkingFolderUID/should_return_root_folder_UID_when_header_is_not_present (0.00s)
--- PASS: TestGetWorkingFolderUID/should_return_specified_folder_UID_when_header_is_present (0.00s)
--- PASS: TestGetWorkingFolderUID/should_return_root_folder_UID_when_header_is_empty (0.00s)
--- PASS: TestGetWorkingFolderUID/should_trim_whitespace_from_header_value (0.00s)
=== RUN   TestGetProvenance
=== RUN   TestGetProvenance/should_return_ProvenanceConvertedPrometheus_when_header_is_not_present
=== RUN   TestGetProvenance/should_return_ProvenanceNone_when_header_is_present
=== RUN   TestGetProvenance/should_return_ProvenanceNone_when_header_is_present_with_any_value
--- PASS: TestGetProvenance (0.00s)
--- PASS: TestGetProvenance/should_return_ProvenanceConvertedPrometheus_when_header_is_not_present (0.00s)
--- PASS: TestGetProvenance/should_return_ProvenanceNone_when_header_is_present (0.00s)
--- PASS: TestGetProvenance/should_return_ProvenanceNone_when_header_is_present_with_any_value (0.00s)
=== RUN   Test_FormatValues
=== RUN   Test_FormatValues/with_no_value,_it_renders_the_evaluation_string
=== RUN   Test_FormatValues/with_one_value,_it_renders_the_single_value
=== RUN   Test_FormatValues/with_two_values,_it_renders_the_value_based_on_their_refID_and_position
=== RUN   Test_FormatValues/with_a_high_number_of_values,_it_renders_the_value_based_on_their_refID_and_position_using_a_natural_order
--- PASS: Test_FormatValues (0.00s)
--- PASS: Test_FormatValues/with_no_value,_it_renders_the_evaluation_string (0.00s)
--- PASS: Test_FormatValues/with_one_value,_it_renders_the_single_value (0.00s)
--- PASS: Test_FormatValues/with_two_values,_it_renders_the_value_based_on_their_refID_and_position (0.00s)
--- PASS: Test_FormatValues/with_a_high_number_of_values,_it_renders_the_value_based_on_their_refID_and_position_using_a_natural_order (0.00s)
=== RUN   TestRouteGetAlertStatuses
=== RUN   TestRouteGetAlertStatuses/with_no_alerts
=== RUN   TestRouteGetAlertStatuses/with_two_alerts
=== RUN   TestRouteGetAlertStatuses/with_two_firing_alerts
=== RUN   TestRouteGetAlertStatuses/with_a_recovering_alert
=== RUN   TestRouteGetAlertStatuses/with_the_inclusion_of_internal_labels
--- PASS: TestRouteGetAlertStatuses (0.00s)
--- PASS: TestRouteGetAlertStatuses/with_no_alerts (0.00s)
--- PASS: TestRouteGetAlertStatuses/with_two_alerts (0.00s)
--- PASS: TestRouteGetAlertStatuses/with_two_firing_alerts (0.00s)
--- PASS: TestRouteGetAlertStatuses/with_a_recovering_alert (0.00s)
--- PASS: TestRouteGetAlertStatuses/with_the_inclusion_of_internal_labels (0.00s)
=== RUN   TestRouteGetRuleStatuses
=== RUN   TestRouteGetRuleStatuses/with_no_rules
=== RUN   TestRouteGetRuleStatuses/with_a_rule_that_only_has_one_query
=== RUN   TestRouteGetRuleStatuses/with_the_inclusion_of_internal_Labels
=== RUN   TestRouteGetRuleStatuses/with_a_rule_that_has_multiple_queries
=== RUN   TestRouteGetRuleStatuses/with_a_recovering_alert
=== RUN   TestRouteGetRuleStatuses/with_a_recovering_alert/when_it_is_the_only_alert
=== RUN   TestRouteGetRuleStatuses/with_a_recovering_alert/when_the_rule_has_also_a_firing_alert
=== RUN   TestRouteGetRuleStatuses/with_a_recovering_alert/filtered_by_recovering_state
=== RUN   TestRouteGetRuleStatuses/with_many_rules_in_a_group
=== RUN   TestRouteGetRuleStatuses/with_many_rules_in_a_group/should_return_sorted
=== RUN   TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params
=== RUN   TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_groups_under_given_folder_uid
=== RUN   TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_groups_under_given_rule_group_list
=== RUN   TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_under_given_rule_name_list
=== RUN   TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_with_given_folder_uid,_rule_group_and_rule_name
=== RUN   TestRouteGetRuleStatuses/when_requesting_rules_with_pagination
=== RUN   TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/should_return_all_groups_when_not_specifying_max_groups_query_param
=== RUN   TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/should_return_group_limit_number_of_groups_in_each_call
=== RUN   TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/bad_token_should_return_first_group_limit_results
=== RUN   TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/should_return_nothing_when_using_group_limit=0
=== RUN   TestRouteGetRuleStatuses/when_fine-grained_access_is_enabled
=== RUN   TestRouteGetRuleStatuses/when_fine-grained_access_is_enabled/should_return_only_rules_if_the_user_can_query_all_data_sources
=== RUN   TestRouteGetRuleStatuses/test_totals_are_expected
=== RUN   TestRouteGetRuleStatuses/test_time_of_first_firing_alert
=== RUN   TestRouteGetRuleStatuses/test_with_limit_on_Rule_Groups
=== RUN   TestRouteGetRuleStatuses/test_with_limit_on_Rule_Groups/first_without_limit
=== RUN   TestRouteGetRuleStatuses/test_with_limit_rules
=== RUN   TestRouteGetRuleStatuses/test_with_limit_rules/first_without_limit
=== RUN   TestRouteGetRuleStatuses/test_with_limit_rules/then_with_limit
=== RUN   TestRouteGetRuleStatuses/test_with_limit_rules/then_with_limit_larger_than_number_of_rules
=== RUN   TestRouteGetRuleStatuses/test_with_limit_alerts
=== RUN   TestRouteGetRuleStatuses/test_with_limit_alerts/first_without_limit
=== RUN   TestRouteGetRuleStatuses/test_with_limit_alerts/then_with_limits
=== RUN   TestRouteGetRuleStatuses/test_with_limit_alerts/then_with_limit_larger_than_number_of_alerts
=== RUN   TestRouteGetRuleStatuses/test_with_filters_on_state
api_prometheus_test.go:1336:
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/invalid_matchers_returns_400_Bad_Request
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/first_without_matchers
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_single_matcher
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_URL_encoded_regex_matcher
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_multiple_matchers
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_multiple_matchers_that_don't_match
=== RUN   TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_single_matcher_and_limit_alerts
--- PASS: TestRouteGetRuleStatuses (0.01s)
--- PASS: TestRouteGetRuleStatuses/with_no_rules (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_a_rule_that_only_has_one_query (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_the_inclusion_of_internal_Labels (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_a_rule_that_has_multiple_queries (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_a_recovering_alert (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_a_recovering_alert/when_it_is_the_only_alert (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_a_recovering_alert/when_the_rule_has_also_a_firing_alert (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_a_recovering_alert/filtered_by_recovering_state (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_many_rules_in_a_group (0.00s)
--- PASS: TestRouteGetRuleStatuses/with_many_rules_in_a_group/should_return_sorted (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_groups_under_given_folder_uid (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_groups_under_given_rule_group_list (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_under_given_rule_name_list (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_folder,_group_and_rule_name_query_params/should_only_return_rule_with_given_folder_uid,_rule_group_and_rule_name (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_requesting_rules_with_pagination (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/should_return_all_groups_when_not_specifying_max_groups_query_param (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/should_return_group_limit_number_of_groups_in_each_call (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/bad_token_should_return_first_group_limit_results (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_requesting_rules_with_pagination/should_return_nothing_when_using_group_limit=0 (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_fine-grained_access_is_enabled (0.00s)
--- PASS: TestRouteGetRuleStatuses/when_fine-grained_access_is_enabled/should_return_only_rules_if_the_user_can_query_all_data_sources (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_totals_are_expected (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_time_of_first_firing_alert (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_on_Rule_Groups (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_on_Rule_Groups/first_without_limit (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_rules (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_rules/first_without_limit (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_rules/then_with_limit (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_rules/then_with_limit_larger_than_number_of_rules (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_alerts (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_alerts/first_without_limit (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_alerts/then_with_limits (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_limit_alerts/then_with_limit_larger_than_number_of_alerts (0.00s)
--- SKIP: TestRouteGetRuleStatuses/test_with_filters_on_state (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/invalid_matchers_returns_400_Bad_Request (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/first_without_matchers (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_single_matcher (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_URL_encoded_regex_matcher (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_multiple_matchers (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_multiple_matchers_that_don't_match (0.00s)
--- PASS: TestRouteGetRuleStatuses/test_with_matcher_on_labels/then_with_single_matcher_and_limit_alerts (0.00s)
=== RUN   TestProvisioningApi
=== RUN   TestProvisioningApi/policies
=== RUN   TestProvisioningApi/policies/successful_GET_returns_200
=== RUN   TestProvisioningApi/policies/successful_PUT_returns_202
=== RUN   TestProvisioningApi/policies/successful_DELETE_returns_202
=== RUN   TestProvisioningApi/policies/when_new_policy_tree_is_invalid
=== RUN   TestProvisioningApi/policies/when_new_policy_tree_is_invalid/PUT_returns_400
=== RUN   TestProvisioningApi/policies/when_org_has_no_AM_config
=== RUN   TestProvisioningApi/policies/when_org_has_no_AM_config/GET_returns_404
=== RUN   TestProvisioningApi/policies/when_org_has_no_AM_config/POST_returns_404
=== RUN   TestProvisioningApi/policies/when_an_unspecified_error_occurs
=== RUN   TestProvisioningApi/policies/when_an_unspecified_error_occurs/GET_returns_500
=== RUN   TestProvisioningApi/policies/when_an_unspecified_error_occurs/PUT_returns_500
=== RUN   TestProvisioningApi/policies/when_an_unspecified_error_occurs/DELETE_returns_500
=== RUN   TestProvisioningApi/contact_points
=== RUN   TestProvisioningApi/contact_points/are_invalid
=== RUN   TestProvisioningApi/contact_points/are_invalid/POST_returns_400
=== RUN   TestProvisioningApi/contact_points/are_invalid/PUT_returns_400
=== RUN   TestProvisioningApi/contact_points/are_missing,_PUT_returns_404
=== RUN   TestProvisioningApi/templates
=== RUN   TestProvisioningApi/templates/are_invalid
=== RUN   TestProvisioningApi/templates/are_invalid/PUT_returns_400
=== RUN   TestProvisioningApi/mute_timings
=== RUN   TestProvisioningApi/mute_timings/are_invalid
=== RUN   TestProvisioningApi/mute_timings/are_invalid/POST_returns_400
=== RUN   TestProvisioningApi/mute_timings/are_invalid/PUT_returns_400
=== RUN   TestProvisioningApi/mute_timings/are_missing,_PUT_returns_404
=== RUN   TestProvisioningApi/alert_rules
=== RUN   TestProvisioningApi/alert_rules/are_invalid
=== RUN   TestProvisioningApi/alert_rules/are_invalid/POST_returns_400_on_wrong_body_params
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_returns_400_on_wrong_body_params
=== RUN   TestProvisioningApi/alert_rules/are_invalid/POST_returns_400_when_folderUID_not_set
=== RUN   TestProvisioningApi/alert_rules/are_invalid/POST_returns_400_if_folder_does_not_exist
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_returns_400_when_folderUID_not_set
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_returns_400_if_folder_does_not_exist
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_returns_200_when_the_alert_rule_is_updated_by_the_admin_user
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_returns_404_when_the_UID_is_not_specified
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_returns_200_when_the_alert_rule_has_not_changed
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_without_MissingSeriesEvalsToResolve_clears_the_field
=== RUN   TestProvisioningApi/alert_rules/are_invalid/PUT_with_MissingSeriesEvalsToResolve_updates_the_value
=== RUN   TestProvisioningApi/alert_rules/exist_in_non-default_orgs
=== RUN   TestProvisioningApi/alert_rules/exist_in_non-default_orgs/POST_sets_expected_fields_with_no_provenance
=== RUN   TestProvisioningApi/alert_rules/exist_in_non-default_orgs/PUT_sets_expected_fields_with_no_provenance
=== RUN   TestProvisioningApi/alert_rules/are_missing,_PUT_returns_404
=== RUN   TestProvisioningApi/alert_rules/are_missing,_GET_returns_404
=== RUN   TestProvisioningApi/alert_rules/have_reached_the_rule_quota,_POST_returns_403
=== RUN   TestProvisioningApi/recording_rules
=== RUN   TestProvisioningApi/recording_rules/are_enabled
=== RUN   TestProvisioningApi/recording_rules/are_enabled/POST_returns_201
=== RUN   TestProvisioningApi/recording_rules/are_enabled/PUT_returns_200
=== RUN   TestProvisioningApi/recording_rules/are_not_enabled
=== RUN   TestProvisioningApi/recording_rules/are_not_enabled/POST_returns_400
=== RUN   TestProvisioningApi/recording_rules/are_not_enabled/PUT_returns_400
=== RUN   TestProvisioningApi/alert_rule_groups
=== RUN   TestProvisioningApi/alert_rule_groups/are_present
=== RUN   TestProvisioningApi/alert_rule_groups/are_present/GET_returns_200
=== RUN   TestProvisioningApi/alert_rule_groups/are_present/DELETE_returns_204
=== RUN   TestProvisioningApi/alert_rule_groups/are_missing
=== RUN   TestProvisioningApi/alert_rule_groups/are_missing/GET_returns_404
=== RUN   TestProvisioningApi/alert_rule_groups/are_missing/DELETE_returns_404
=== RUN   TestProvisioningApi/alert_rule_groups/are_invalid_at_group_level
=== RUN   TestProvisioningApi/alert_rule_groups/are_invalid_at_group_level/PUT_returns_400
=== RUN   TestProvisioningApi/alert_rule_groups/are_invalid_at_rule_level
=== RUN   TestProvisioningApi/alert_rule_groups/are_invalid_at_rule_level/PUT_returns_400
=== RUN   TestProvisioningApi/alert_rule_groups/are_valid
=== RUN   TestProvisioningApi/alert_rule_groups/are_valid/PUT_returns_200
=== RUN   TestProvisioningApi/alert_rule_groups/are_valid/PUT_with_MissingSeriesEvalsToResolve_updates_the_value
=== RUN   TestProvisioningApi/exports
=== RUN   TestProvisioningApi/exports/alert_rule_group
=== RUN   TestProvisioningApi/exports/alert_rule_group/are_present,_GET_returns_200
=== RUN   TestProvisioningApi/exports/alert_rule_group/are_missing,_GET_returns_404
=== RUN   TestProvisioningApi/exports/alert_rule_group/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/alert_rule_group/query_format_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/alert_rule_group/query_format_contains_unknown_value,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/alert_rule_group/accept_header_contains_json,_GET_returns_json
=== RUN   TestProvisioningApi/exports/alert_rule_group/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestProvisioningApi/exports/alert_rule_group/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestProvisioningApi/exports/alert_rule_group/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/alert_rule_group/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/alert_rule_group/yaml_body_content_is_the_default
=== RUN   TestProvisioningApi/exports/alert_rule_group/json_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/alert_rule_group/yaml_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/alert_rule_group/hcl_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/alert_rule_group/hcl_body_content_is_as_expected/and_add_specific_headers_if_download=true
=== RUN   TestProvisioningApi/exports/alert_rule
=== RUN   TestProvisioningApi/exports/alert_rule/are_present,_GET_returns_200
=== RUN   TestProvisioningApi/exports/alert_rule/are_missing,_GET_returns_404
=== RUN   TestProvisioningApi/exports/alert_rule/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/alert_rule/accept_header_contains_json,_GET_returns_json
=== RUN   TestProvisioningApi/exports/alert_rule/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestProvisioningApi/exports/alert_rule/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestProvisioningApi/exports/alert_rule/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/alert_rule/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/alert_rule/json_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/alert_rule/yaml_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/all_alert_rules
=== RUN   TestProvisioningApi/exports/all_alert_rules/are_present,_GET_returns_200
=== RUN   TestProvisioningApi/exports/all_alert_rules/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/all_alert_rules/accept_header_contains_json,_GET_returns_json
=== RUN   TestProvisioningApi/exports/all_alert_rules/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestProvisioningApi/exports/all_alert_rules/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestProvisioningApi/exports/all_alert_rules/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/all_alert_rules/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/all_alert_rules/json_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/all_alert_rules/yaml_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/all_alert_rules/accept_query_parameter_folder_uid
=== RUN   TestProvisioningApi/exports/all_alert_rules/accept_multiple_query_parameters_folder_uid
=== RUN   TestProvisioningApi/exports/all_alert_rules/accepts_parameter_group
=== RUN   TestProvisioningApi/exports/all_alert_rules/accepts_parameter_group/and_fails_if_folderUID_is_empty
=== RUN   TestProvisioningApi/exports/all_alert_rules/accepts_parameter_group/and_fails_if_multiple_folder_UIDs_are_specified
=== RUN   TestProvisioningApi/exports/all_alert_rules/accepts_parameter_ruleUid
=== RUN   TestProvisioningApi/exports/all_alert_rules/accepts_parameter_ruleUid/and_fails_if_folderUID_and_group_are_specified
=== RUN   TestProvisioningApi/exports/all_alert_rules/accepts_parameter_ruleUid/and_fails_if_only_folderUID_is_specified
=== RUN   TestProvisioningApi/exports/notification_policies
=== RUN   TestProvisioningApi/exports/notification_policies/are_present,_GET_returns_200
=== RUN   TestProvisioningApi/exports/notification_policies/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/notification_policies/accept_header_contains_json,_GET_returns_json
=== RUN   TestProvisioningApi/exports/notification_policies/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestProvisioningApi/exports/notification_policies/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestProvisioningApi/exports/notification_policies/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/notification_policies/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/notification_policies/json_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/notification_policies/yaml_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/notification_policies/hcl_body_content_is_as_expected
api_provisioning_test.go:1506: resource "grafana_notification_policy" "notification_policy_1" {
contact_point = "default-receiver"
group_by      = ["g1", "g2"]
2025-04-15T08:37:33.3316336Z
policy {
contact_point = "nested-receiver"
group_by      = ["g3", "g4"]
2025-04-15T08:37:33.3318451Z
matcher {
label = "foo"
match = "="
value = "bar"
}
2025-04-15T08:37:33.3321362Z
mute_timings    = ["interval"]
continue        = true
group_wait      = "5m"
group_interval  = "5m"
repeat_interval = "5m"
}
2025-04-15T08:37:33.3324889Z
group_wait      = "30s"
group_interval  = "5m"
repeat_interval = "1h"
}
2025-04-15T08:37:33.3327151Z
=== RUN   TestProvisioningApi/exports/notification_policies/hcl_contains_required_group_by_field
api_provisioning_test.go:1523: resource "grafana_notification_policy" "notification_policy_1" {
contact_point = "some-receiver"
group_by      = []
}
2025-04-15T08:37:33.3331173Z
=== RUN   TestProvisioningApi/exports/mute_timings
=== RUN   TestProvisioningApi/exports/mute_timings/are_present,_GET_returns_200
=== RUN   TestProvisioningApi/exports/mute_timings/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApi/exports/mute_timings/accept_header_contains_json,_GET_returns_json
=== RUN   TestProvisioningApi/exports/mute_timings/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestProvisioningApi/exports/mute_timings/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestProvisioningApi/exports/mute_timings/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/mute_timings/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApi/exports/mute_timings/json_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/mute_timings/yaml_body_content_is_as_expected
=== RUN   TestProvisioningApi/exports/mute_timings/hcl_body_content_is_as_expected
api_provisioning_test.go:1649: resource "grafana_mute_timing" "mute_timing_28f674b3cd26d778" {
name = "interval-1"
}
resource "grafana_mute_timing" "mute_timing_28f674b3cd26d77b" {
name = "interval-2"
2025-04-15T08:37:33.3344236Z
intervals {
2025-04-15T08:37:33.3345049Z
times {
start = "10:00"
end   = "12:00"
}
2025-04-15T08:37:33.3347183Z
weekdays      = ["monday", "wednesday", "friday"]
days_of_month = ["1", "14:16", "20"]
months        = ["1:3", "7", "12"]
years         = ["2023:2025"]
location      = "America/New_York"
}
}
2025-04-15T08:37:33.3351598Z
--- PASS: TestProvisioningApi (0.68s)
--- PASS: TestProvisioningApi/policies (0.25s)
--- PASS: TestProvisioningApi/policies/successful_GET_returns_200 (0.22s)
--- PASS: TestProvisioningApi/policies/successful_PUT_returns_202 (0.00s)
--- PASS: TestProvisioningApi/policies/successful_DELETE_returns_202 (0.00s)
--- PASS: TestProvisioningApi/policies/when_new_policy_tree_is_invalid (0.00s)
--- PASS: TestProvisioningApi/policies/when_new_policy_tree_is_invalid/PUT_returns_400 (0.00s)
--- PASS: TestProvisioningApi/policies/when_org_has_no_AM_config (0.01s)
--- PASS: TestProvisioningApi/policies/when_org_has_no_AM_config/GET_returns_404 (0.00s)
--- PASS: TestProvisioningApi/policies/when_org_has_no_AM_config/POST_returns_404 (0.00s)
--- PASS: TestProvisioningApi/policies/when_an_unspecified_error_occurs (0.01s)
--- PASS: TestProvisioningApi/policies/when_an_unspecified_error_occurs/GET_returns_500 (0.00s)
--- PASS: TestProvisioningApi/policies/when_an_unspecified_error_occurs/PUT_returns_500 (0.00s)
--- PASS: TestProvisioningApi/policies/when_an_unspecified_error_occurs/DELETE_returns_500 (0.00s)
--- PASS: TestProvisioningApi/contact_points (0.01s)
--- PASS: TestProvisioningApi/contact_points/are_invalid (0.01s)
--- PASS: TestProvisioningApi/contact_points/are_invalid/POST_returns_400 (0.00s)
--- PASS: TestProvisioningApi/contact_points/are_invalid/PUT_returns_400 (0.00s)
--- PASS: TestProvisioningApi/contact_points/are_missing,_PUT_returns_404 (0.00s)
--- PASS: TestProvisioningApi/templates (0.00s)
--- PASS: TestProvisioningApi/templates/are_invalid (0.00s)
--- PASS: TestProvisioningApi/templates/are_invalid/PUT_returns_400 (0.00s)
--- PASS: TestProvisioningApi/mute_timings (0.01s)
--- PASS: TestProvisioningApi/mute_timings/are_invalid (0.01s)
--- PASS: TestProvisioningApi/mute_timings/are_invalid/POST_returns_400 (0.00s)
--- PASS: TestProvisioningApi/mute_timings/are_invalid/PUT_returns_400 (0.00s)
--- PASS: TestProvisioningApi/mute_timings/are_missing,_PUT_returns_404 (0.00s)
--- PASS: TestProvisioningApi/alert_rules (0.08s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid (0.06s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/POST_returns_400_on_wrong_body_params (0.00s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_returns_400_on_wrong_body_params (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/POST_returns_400_when_folderUID_not_set (0.00s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/POST_returns_400_if_folder_does_not_exist (0.00s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_returns_400_when_folderUID_not_set (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_returns_400_if_folder_does_not_exist (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_returns_200_when_the_alert_rule_is_updated_by_the_admin_user (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_returns_404_when_the_UID_is_not_specified (0.00s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_returns_200_when_the_alert_rule_has_not_changed (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_without_MissingSeriesEvalsToResolve_clears_the_field (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_invalid/PUT_with_MissingSeriesEvalsToResolve_updates_the_value (0.01s)
--- PASS: TestProvisioningApi/alert_rules/exist_in_non-default_orgs (0.01s)
--- PASS: TestProvisioningApi/alert_rules/exist_in_non-default_orgs/POST_sets_expected_fields_with_no_provenance (0.01s)
--- PASS: TestProvisioningApi/alert_rules/exist_in_non-default_orgs/PUT_sets_expected_fields_with_no_provenance (0.01s)
--- PASS: TestProvisioningApi/alert_rules/are_missing,_PUT_returns_404 (0.00s)
--- PASS: TestProvisioningApi/alert_rules/are_missing,_GET_returns_404 (0.00s)
--- PASS: TestProvisioningApi/alert_rules/have_reached_the_rule_quota,_POST_returns_403 (0.00s)
--- PASS: TestProvisioningApi/recording_rules (0.02s)
--- PASS: TestProvisioningApi/recording_rules/are_enabled (0.01s)
--- PASS: TestProvisioningApi/recording_rules/are_enabled/POST_returns_201 (0.00s)
--- PASS: TestProvisioningApi/recording_rules/are_enabled/PUT_returns_200 (0.00s)
--- PASS: TestProvisioningApi/recording_rules/are_not_enabled (0.01s)
--- PASS: TestProvisioningApi/recording_rules/are_not_enabled/POST_returns_400 (0.01s)
--- PASS: TestProvisioningApi/recording_rules/are_not_enabled/PUT_returns_400 (0.01s)
--- PASS: TestProvisioningApi/alert_rule_groups (0.03s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_present (0.01s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_present/GET_returns_200 (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_present/DELETE_returns_204 (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_missing (0.01s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_missing/GET_returns_404 (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_missing/DELETE_returns_404 (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_invalid_at_group_level (0.01s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_invalid_at_group_level/PUT_returns_400 (0.01s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_invalid_at_rule_level (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_invalid_at_rule_level/PUT_returns_400 (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_valid (0.01s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_valid/PUT_returns_200 (0.00s)
--- PASS: TestProvisioningApi/alert_rule_groups/are_valid/PUT_with_MissingSeriesEvalsToResolve_updates_the_value (0.01s)
--- PASS: TestProvisioningApi/exports (0.28s)
--- PASS: TestProvisioningApi/exports/alert_rule_group (0.07s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/are_present,_GET_returns_200 (0.01s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/are_missing,_GET_returns_404 (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/accept_header_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/query_format_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/query_format_contains_unknown_value,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/query_param_download=true,_GET_returns_content_disposition_attachment (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/query_param_download=false,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/query_param_download_not_set,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/yaml_body_content_is_the_default (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/json_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/yaml_body_content_is_as_expected (0.01s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/hcl_body_content_is_as_expected (0.01s)
--- PASS: TestProvisioningApi/exports/alert_rule_group/hcl_body_content_is_as_expected/and_add_specific_headers_if_download=true (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule (0.05s)
--- PASS: TestProvisioningApi/exports/alert_rule/are_present,_GET_returns_200 (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/are_missing,_GET_returns_404 (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/accept_header_contains_yaml,_GET_returns_text_yaml (0.01s)
--- PASS: TestProvisioningApi/exports/alert_rule/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/query_param_download=true,_GET_returns_content_disposition_attachment (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/query_param_download=false,_GET_returns_empty_content_disposition (0.01s)
--- PASS: TestProvisioningApi/exports/alert_rule/query_param_download_not_set,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/json_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/alert_rule/yaml_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules (0.08s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/are_present,_GET_returns_200 (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accept_header_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/query_param_download=true,_GET_returns_content_disposition_attachment (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/query_param_download=false,_GET_returns_empty_content_disposition (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/query_param_download_not_set,_GET_returns_empty_content_disposition (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/json_body_content_is_as_expected (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/yaml_body_content_is_as_expected (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accept_query_parameter_folder_uid (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accept_multiple_query_parameters_folder_uid (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accepts_parameter_group (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accepts_parameter_group/and_fails_if_folderUID_is_empty (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accepts_parameter_group/and_fails_if_multiple_folder_UIDs_are_specified (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accepts_parameter_ruleUid (0.01s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accepts_parameter_ruleUid/and_fails_if_folderUID_and_group_are_specified (0.00s)
--- PASS: TestProvisioningApi/exports/all_alert_rules/accepts_parameter_ruleUid/and_fails_if_only_folderUID_is_specified (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies (0.04s)
--- PASS: TestProvisioningApi/exports/notification_policies/are_present,_GET_returns_200 (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/accept_header_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/query_param_download=true,_GET_returns_content_disposition_attachment (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/query_param_download=false,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/query_param_download_not_set,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/json_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/yaml_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/hcl_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/notification_policies/hcl_contains_required_group_by_field (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings (0.04s)
--- PASS: TestProvisioningApi/exports/mute_timings/are_present,_GET_returns_200 (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/accept_header_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/query_param_download=true,_GET_returns_content_disposition_attachment (0.01s)
--- PASS: TestProvisioningApi/exports/mute_timings/query_param_download=false,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/query_param_download_not_set,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/json_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/yaml_body_content_is_as_expected (0.00s)
--- PASS: TestProvisioningApi/exports/mute_timings/hcl_body_content_is_as_expected (0.00s)
=== RUN   TestProvisioningApiContactPointExport
=== RUN   TestProvisioningApiContactPointExport/contact_point_export
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/are_present,_GET_returns_200
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/accept_header_contains_json,_GET_returns_json
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/decrypt_true_without_alert.provisioning.secrets:read_permissions_returns_403
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/decrypt_true_with_admin_returns_200
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/decrypt_false
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/decrypt_missing
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/decrypt_true
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/name_filters_response
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/decrypt_false
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/decrypt_missing
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/decrypt_true
=== RUN   TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/name_filters_response
--- PASS: TestProvisioningApiContactPointExport (0.07s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export (0.07s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/are_present,_GET_returns_200 (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/accept_header_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/query_param_download=true,_GET_returns_content_disposition_attachment (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/query_param_download=false,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/query_param_download_not_set,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/decrypt_true_without_alert.provisioning.secrets:read_permissions_returns_403 (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/decrypt_true_with_admin_returns_200 (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected (0.02s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/decrypt_false (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/decrypt_missing (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/decrypt_true (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/json_body_content_is_as_expected/name_filters_response (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected (0.02s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/decrypt_false (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/decrypt_missing (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/decrypt_true (0.00s)
--- PASS: TestProvisioningApiContactPointExport/contact_point_export/yaml_body_content_is_as_expected/name_filters_response (0.00s)
=== RUN   TestExportFromPayload
=== RUN   TestExportFromPayload/accept_header_contains_yaml,_GET_returns_text_yaml
=== RUN   TestExportFromPayload/query_format_contains_yaml,_GET_returns_text_yaml
=== RUN   TestExportFromPayload/query_format_contains_unknown_value,_GET_returns_text_yaml
=== RUN   TestExportFromPayload/accept_header_contains_json,_GET_returns_json
=== RUN   TestExportFromPayload/accept_header_contains_json_and_yaml,_GET_returns_json
=== RUN   TestExportFromPayload/query_param_download=true,_GET_returns_content_disposition_attachment
=== RUN   TestExportFromPayload/query_param_download=false,_GET_returns_empty_content_disposition
=== RUN   TestExportFromPayload/query_param_download_not_set,_GET_returns_empty_content_disposition
=== RUN   TestExportFromPayload/json_body_content_is_as_expected
api_ruler_export_test.go:156: {"apiVersion":1,"groups":[{"orgId":1,"name":"group101","folder":"foo bar","interval":"10s","rules":[{"title":"prom query with SSE - 2","condition":"condition","data":[{"refId":"query","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"000000002","model":{"expr":"http_request_duration_microseconds_count","hide":false,"interval":"","intervalMs":1000,"legendFormat":"","maxDataPoints":100,"refId":"query"}},{"refId":"reduced","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"__expr__","model":{"expression":"query","hide":false,"intervalMs":1000,"maxDataPoints":100,"reducer":"mean","refId":"reduced","type":"reduce"}},{"refId":"condition","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"__expr__","model":{"expression":"$reduced \u003e 10","hide":false,"intervalMs":1000,"maxDataPoints":100,"refId":"condition","type":"math"}}],"noDataState":"NoData","execErrState":"Alerting","for":"2m","isPaused":false},{"title":"reduced testdata query - 2","condition":"B","data":[{"refId":"A","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"000000004","model":{"alias":"just-testing","intervalMs":1000,"maxDataPoints":100,"orgId":0,"refId":"A","scenarioId":"csv_metric_values","stringInput":"1,20,90,30,5,0"}},{"refId":"B","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"__expr__","model":{"expression":"$A","intervalMs":2000,"maxDataPoints":200,"orgId":0,"reducer":"mean","refId":"B","type":"reduce"}}],"noDataState":"NoData","execErrState":"Alerting","isPaused":false,"notification_settings":{"receiver":"Test-Receiver","group_by":["alertname","grafana_folder","test"],"group_wait":"1s","group_interval":"5s","repeat_interval":"5m","mute_time_intervals":["test-mute"]}},{"uid":"alert-with-uid","title":"alert with uid","condition":"B","data":[{"refId":"A","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"000000004","model":{"alias":"just-testing","intervalMs":1000,"maxDataPoints":100,"orgId":0,"refId":"A","scenarioId":"csv_metric_values","stringInput":"1,20,90,30,5,0"}},{"refId":"B","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"__expr__","model":{"expression":"$A","intervalMs":2000,"maxDataPoints":200,"orgId":0,"reducer":"mean","refId":"B","type":"reduce"}}],"noDataState":"NoData","execErrState":"Alerting","for":"0s","keepFiringFor":"0s","isPaused":false,"notification_settings":{"receiver":"Test-Receiver","group_by":["alertname","grafana_folder","test"],"group_wait":"1s","group_interval":"5s","repeat_interval":"5m","mute_time_intervals":["test-mute"]}},{"title":"recording rule","data":[{"refId":"query","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"000000002","model":{"expr":"http_request_duration_microseconds_count","hide":false,"interval":"","intervalMs":1000,"legendFormat":"","maxDataPoints":100,"refId":"query"}},{"refId":"reduced","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"__expr__","model":{"expression":"query","hide":false,"intervalMs":1000,"maxDataPoints":100,"reducer":"mean","refId":"reduced","type":"reduce"}},{"refId":"condition","relativeTimeRange":{"from":18000,"to":10800},"datasourceUid":"__expr__","model":{"expression":"$reduced \u003e 10","hide":false,"intervalMs":1000,"maxDataPoints":100,"refId":"condition","type":"math"}}],"isPaused":false,"record":{"metric":"test_metric","from":"condition"}}]}]}
=== RUN   TestExportFromPayload/yaml_body_content_is_as_expected
=== RUN   TestExportFromPayload/hcl_body_content_is_as_expected
=== RUN   TestExportFromPayload/hcl_body_content_is_as_expected/and_add_specific_headers_if_download=true
--- PASS: TestExportFromPayload (0.01s)
--- PASS: TestExportFromPayload/accept_header_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestExportFromPayload/query_format_contains_yaml,_GET_returns_text_yaml (0.00s)
--- PASS: TestExportFromPayload/query_format_contains_unknown_value,_GET_returns_text_yaml (0.00s)
--- PASS: TestExportFromPayload/accept_header_contains_json,_GET_returns_json (0.00s)
--- PASS: TestExportFromPayload/accept_header_contains_json_and_yaml,_GET_returns_json (0.00s)
--- PASS: TestExportFromPayload/query_param_download=true,_GET_returns_content_disposition_attachment (0.00s)
--- PASS: TestExportFromPayload/query_param_download=false,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestExportFromPayload/query_param_download_not_set,_GET_returns_empty_content_disposition (0.00s)
--- PASS: TestExportFromPayload/json_body_content_is_as_expected (0.00s)
--- PASS: TestExportFromPayload/yaml_body_content_is_as_expected (0.00s)
--- PASS: TestExportFromPayload/hcl_body_content_is_as_expected (0.00s)
--- PASS: TestExportFromPayload/hcl_body_content_is_as_expected/and_add_specific_headers_if_download=true (0.00s)
=== RUN   TestExportRules
=== RUN   TestExportRules/return_all_rules_user_has_access_to_when_no_parameters
=== RUN   TestExportRules/return_all_rules_in_folder
=== RUN   TestExportRules/return_all_rules_in_many_folders
=== RUN   TestExportRules/return_rules_in_single_group
=== RUN   TestExportRules/return_single_rule
=== RUN   TestExportRules/fail_if_group_and_many_folders
=== RUN   TestExportRules/fail_if_ruleUid_and_group
=== RUN   TestExportRules/fail_if_ruleUid_and_folderUid
=== RUN   TestExportRules/forbidden_if_folders_are_not_accessible
=== RUN   TestExportRules/return_in_JSON_if_header_is_specified
=== RUN   TestExportRules/return_in_JSON_if_format_is_specified
=== RUN   TestExportRules/return_in_HCL_if_format_is_specified
--- PASS: TestExportRules (0.01s)
--- PASS: TestExportRules/return_all_rules_user_has_access_to_when_no_parameters (0.00s)
--- PASS: TestExportRules/return_all_rules_in_folder (0.00s)
--- PASS: TestExportRules/return_all_rules_in_many_folders (0.00s)
--- PASS: TestExportRules/return_rules_in_single_group (0.00s)
--- PASS: TestExportRules/return_single_rule (0.00s)
--- PASS: TestExportRules/fail_if_group_and_many_folders (0.00s)
--- PASS: TestExportRules/fail_if_ruleUid_and_group (0.00s)
--- PASS: TestExportRules/fail_if_ruleUid_and_folderUid (0.00s)
--- PASS: TestExportRules/forbidden_if_folders_are_not_accessible (0.00s)
--- PASS: TestExportRules/return_in_JSON_if_header_is_specified (0.00s)
--- PASS: TestExportRules/return_in_JSON_if_format_is_specified (0.00s)
--- PASS: TestExportRules/return_in_HCL_if_format_is_specified (0.00s)
=== RUN   TestRouteDeleteAlertRules
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/allow_deleting_without_access_to_datasource
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/return_Forbidden_if_user_is_not_authorized_to_access_any_group_in_the_folder
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/delete_only_non-provisioned_groups_that_user_is_authorized
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/return_400_if_all_rules_user_can_access_are_provisioned
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/should_return_202_if_folder_is_empty
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_not_empty
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_not_empty/return_Forbidden_if_user_is_not_authorized_to_access_the_group
=== RUN   TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_not_empty/return_400_if_group_is_provisioned
--- PASS: TestRouteDeleteAlertRules (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/allow_deleting_without_access_to_datasource (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/return_Forbidden_if_user_is_not_authorized_to_access_any_group_in_the_folder (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/delete_only_non-provisioned_groups_that_user_is_authorized (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/return_400_if_all_rules_user_can_access_are_provisioned (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_empty/should_return_202_if_folder_is_empty (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_not_empty (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_not_empty/return_Forbidden_if_user_is_not_authorized_to_access_the_group (0.00s)
--- PASS: TestRouteDeleteAlertRules/when_fine-grained_access_is_enabled/and_group_argument_is_not_empty/return_400_if_group_is_provisioned (0.00s)
=== RUN   TestRouteGetNamespaceRulesConfig
=== RUN   TestRouteGetNamespaceRulesConfig/fine-grained_access_is_enabled
=== RUN   TestRouteGetNamespaceRulesConfig/fine-grained_access_is_enabled/should_return_all_rules,_with_or_without_data_source_access
=== RUN   TestRouteGetNamespaceRulesConfig/should_return_the_provenance_of_the_alert_rules
=== RUN   TestRouteGetNamespaceRulesConfig/should_enforce_order_of_rules_in_the_group
--- PASS: TestRouteGetNamespaceRulesConfig (0.00s)
--- PASS: TestRouteGetNamespaceRulesConfig/fine-grained_access_is_enabled (0.00s)
--- PASS: TestRouteGetNamespaceRulesConfig/fine-grained_access_is_enabled/should_return_all_rules,_with_or_without_data_source_access (0.00s)
--- PASS: TestRouteGetNamespaceRulesConfig/should_return_the_provenance_of_the_alert_rules (0.00s)
--- PASS: TestRouteGetNamespaceRulesConfig/should_enforce_order_of_rules_in_the_group (0.00s)
=== RUN   TestRouteGetRuleByUID
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/nil_if_UpdatedBy_is_nil
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/just_UID_if_user_is_not_found
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/just_UID_if_error
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/login_if_it's_known_user
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/recognize_system_identifier_(alerting)
=== RUN   TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/recognize_system_identifier_(provisioning)
=== RUN   TestRouteGetRuleByUID/error_when_fetching_rule_with_non-existent_UID
--- PASS: TestRouteGetRuleByUID (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/nil_if_UpdatedBy_is_nil (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/just_UID_if_user_is_not_found (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/just_UID_if_error (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/login_if_it's_known_user (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/recognize_system_identifier_(alerting) (0.00s)
--- PASS: TestRouteGetRuleByUID/rule_is_successfully_fetched_with_the_correct_UID/should_resolve_Updated_by_with_user_service/recognize_system_identifier_(provisioning) (0.00s)
--- PASS: TestRouteGetRuleByUID/error_when_fetching_rule_with_non-existent_UID (0.00s)
=== RUN   TestRouteGetRuleVersionsByUID
=== RUN   TestRouteGetRuleVersionsByUID/rule_history_is_successfully_fetched_with_the_correct_UID
=== RUN   TestRouteGetRuleVersionsByUID/rule_history_is_successfully_fetched_with_the_correct_UID/should_be_in_correct_order
=== RUN   TestRouteGetRuleVersionsByUID/NotFound_when_rule_does_not_exist
=== RUN   TestRouteGetRuleVersionsByUID/Empty_result_when_rule_history_is_empty
=== RUN   TestRouteGetRuleVersionsByUID/Unauthorized_if_user_does_not_have_access_to_the_current_rule
--- PASS: TestRouteGetRuleVersionsByUID (0.00s)
--- PASS: TestRouteGetRuleVersionsByUID/rule_history_is_successfully_fetched_with_the_correct_UID (0.00s)
--- PASS: TestRouteGetRuleVersionsByUID/rule_history_is_successfully_fetched_with_the_correct_UID/should_be_in_correct_order (0.00s)
--- PASS: TestRouteGetRuleVersionsByUID/NotFound_when_rule_does_not_exist (0.00s)
--- PASS: TestRouteGetRuleVersionsByUID/Empty_result_when_rule_history_is_empty (0.00s)
--- PASS: TestRouteGetRuleVersionsByUID/Unauthorized_if_user_does_not_have_access_to_the_current_rule (0.00s)
=== RUN   TestRouteGetRulesConfig
=== RUN   TestRouteGetRulesConfig/fine-grained_access_is_enabled
=== RUN   TestRouteGetRulesConfig/fine-grained_access_is_enabled/should_check_access_to_data_source
=== RUN   TestRouteGetRulesConfig/fine-grained_access_is_enabled/should_check_access_to_data_source/and_do_not_return_group_if_user_does_not_have_access_to_one_of_rules
=== RUN   TestRouteGetRulesConfig/should_return_rules_in_group_sorted_by_group_index
--- PASS: TestRouteGetRulesConfig (0.00s)
--- PASS: TestRouteGetRulesConfig/fine-grained_access_is_enabled (0.00s)
--- PASS: TestRouteGetRulesConfig/fine-grained_access_is_enabled/should_check_access_to_data_source (0.00s)
--- PASS: TestRouteGetRulesConfig/fine-grained_access_is_enabled/should_check_access_to_data_source/and_do_not_return_group_if_user_does_not_have_access_to_one_of_rules (0.00s)
--- PASS: TestRouteGetRulesConfig/should_return_rules_in_group_sorted_by_group_index (0.00s)
=== RUN   TestRouteGetRulesGroupConfig
=== RUN   TestRouteGetRulesGroupConfig/should_return_rules_in_group_sorted_by_group_index
=== RUN   TestRouteGetRulesGroupConfig/should_return_a_404_when_fetching_a_group_that_doesn't_exist
--- PASS: TestRouteGetRulesGroupConfig (0.00s)
--- PASS: TestRouteGetRulesGroupConfig/should_return_rules_in_group_sorted_by_group_index (0.00s)
--- PASS: TestRouteGetRulesGroupConfig/should_return_a_404_when_fetching_a_group_that_doesn't_exist (0.00s)
=== RUN   TestVerifyProvisionedRulesNotAffected
=== RUN   TestVerifyProvisionedRulesNotAffected/should_return_error_if_at_least_one_rule_in_affected_groups_is_provisioned
=== RUN   TestVerifyProvisionedRulesNotAffected/should_return_nil_if_all_have_ProvenanceNone
=== RUN   TestVerifyProvisionedRulesNotAffected/should_return_nil_if_no_alerts_have_provisioning_status
--- PASS: TestVerifyProvisionedRulesNotAffected (0.00s)
--- PASS: TestVerifyProvisionedRulesNotAffected/should_return_error_if_at_least_one_rule_in_affected_groups_is_provisioned (0.00s)
--- PASS: TestVerifyProvisionedRulesNotAffected/should_return_nil_if_all_have_ProvenanceNone (0.00s)
--- PASS: TestVerifyProvisionedRulesNotAffected/should_return_nil_if_no_alerts_have_provisioning_status (0.00s)
=== RUN   TestValidateQueries
=== RUN   TestValidateQueries/should_not_validate_deleted_rules_or_updated_rules_with_ignored_fields
=== RUN   TestValidateQueries/should_return_rule_validate_error_if_fails_on_new_rule
=== RUN   TestValidateQueries/should_return_rule_validate_error_with_UID_if_fails_on_updated_rule
--- PASS: TestValidateQueries (0.00s)
--- PASS: TestValidateQueries/should_not_validate_deleted_rules_or_updated_rules_with_ignored_fields (0.00s)
--- PASS: TestValidateQueries/should_return_rule_validate_error_if_fails_on_new_rule (0.00s)
--- PASS: TestValidateQueries/should_return_rule_validate_error_with_UID_if_fails_on_updated_rule (0.00s)
=== RUN   TestValidateCondition
=== RUN   TestValidateCondition/error_when_condition_is_empty
=== RUN   TestValidateCondition/error_when_data_is_empty
=== RUN   TestValidateCondition/error_when_condition_does_not_exist
=== RUN   TestValidateCondition/error_when_duplicated_refId
=== RUN   TestValidateCondition/error_when_refId_is_empty
=== RUN   TestValidateCondition/valid_case
--- PASS: TestValidateCondition (0.00s)
--- PASS: TestValidateCondition/error_when_condition_is_empty (0.00s)
--- PASS: TestValidateCondition/error_when_data_is_empty (0.00s)
--- PASS: TestValidateCondition/error_when_condition_does_not_exist (0.00s)
--- PASS: TestValidateCondition/error_when_duplicated_refId (0.00s)
--- PASS: TestValidateCondition/error_when_refId_is_empty (0.00s)
--- PASS: TestValidateCondition/valid_case (0.00s)
=== RUN   TestValidateRuleGroup
api_ruler_validation_test.go:213: Config Base interval is [1m22s]
=== RUN   TestValidateRuleGroup/should_validate_struct_and_rules
=== RUN   TestValidateRuleGroup/should_default_to_default_interval_from_config_if_group_interval_is_0
=== RUN   TestValidateRuleGroup/should_show_the_payload_has_isPaused_field
--- PASS: TestValidateRuleGroup (0.00s)
--- PASS: TestValidateRuleGroup/should_validate_struct_and_rules (0.00s)
--- PASS: TestValidateRuleGroup/should_default_to_default_interval_from_config_if_group_interval_is_0 (0.00s)
--- PASS: TestValidateRuleGroup/should_show_the_payload_has_isPaused_field (0.00s)
=== RUN   TestValidateRuleGroupFailures
api_ruler_validation_test.go:252: Config Base interval is [26s]
=== RUN   TestValidateRuleGroupFailures/fail_if_title_is_empty
=== RUN   TestValidateRuleGroupFailures/fail_if_title_is_too_long
=== RUN   TestValidateRuleGroupFailures/fail_if_interval_is_negative
=== RUN   TestValidateRuleGroupFailures/fail_if_interval_is_not_aligned_with_base_interval
=== RUN   TestValidateRuleGroupFailures/fail_if_two_rules_have_same_UID
=== RUN   TestValidateRuleGroupFailures/fail_with_4xx_if_rule_contains_only_panelID
=== RUN   TestValidateRuleGroupFailures/fail_with_4xx_if_rule_contains_only_dashboardUID
--- PASS: TestValidateRuleGroupFailures (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_if_title_is_empty (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_if_title_is_too_long (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_if_interval_is_negative (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_if_interval_is_not_aligned_with_base_interval (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_if_two_rules_have_same_UID (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_with_4xx_if_rule_contains_only_panelID (0.00s)
--- PASS: TestValidateRuleGroupFailures/fail_with_4xx_if_rule_contains_only_dashboardUID (0.00s)
=== RUN   TestValidateRuleNode_NoUID
api_ruler_validation_test.go:357: Config Base interval is [2s]
=== RUN   TestValidateRuleNode_NoUID/coverts_api_model_to_AlertRule
=== RUN   TestValidateRuleNode_NoUID/coverts_api_without_ApiRuleNode
=== RUN   TestValidateRuleNode_NoUID/defaults_to_NoData_if_NoDataState_is_empty
=== RUN   TestValidateRuleNode_NoUID/defaults_to_Alerting_if_ExecErrState_is_empty
=== RUN   TestValidateRuleNode_NoUID/extracts_Dashboard_UID_and_Panel_Id_from_annotations
=== RUN   TestValidateRuleNode_NoUID/accepts_and_converts_recording_rule_when_toggle_is_enabled
=== RUN   TestValidateRuleNode_NoUID/recording_rules_ignore_fields_that_only_make_sense_for_Alerting_rules
=== RUN   TestValidateRuleNode_NoUID/accepts_empty_group_name
--- PASS: TestValidateRuleNode_NoUID (0.00s)
--- PASS: TestValidateRuleNode_NoUID/coverts_api_model_to_AlertRule (0.00s)
--- PASS: TestValidateRuleNode_NoUID/coverts_api_without_ApiRuleNode (0.00s)
--- PASS: TestValidateRuleNode_NoUID/defaults_to_NoData_if_NoDataState_is_empty (0.00s)
--- PASS: TestValidateRuleNode_NoUID/defaults_to_Alerting_if_ExecErrState_is_empty (0.00s)
--- PASS: TestValidateRuleNode_NoUID/extracts_Dashboard_UID_and_Panel_Id_from_annotations (0.00s)
--- PASS: TestValidateRuleNode_NoUID/accepts_and_converts_recording_rule_when_toggle_is_enabled (0.00s)
--- PASS: TestValidateRuleNode_NoUID/recording_rules_ignore_fields_that_only_make_sense_for_Alerting_rules (0.00s)
--- PASS: TestValidateRuleNode_NoUID/accepts_empty_group_name (0.00s)
=== RUN   TestValidateRuleNodeFailures_NoUID
api_ruler_validation_test.go:542: Config Base interval is [17s]
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_GrafanaManagedAlert_is_not_specified
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_title_is_empty
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_title_is_too_long
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_NoDataState_is_not_known
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_ExecErrState_is_not_known
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_there_are_not_data_(nil)
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_there_are_not_data_(empty)
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_Dashboard_UID_is_specified_but_not_Panel_ID
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_Dashboard_UID_is_specified_and_Panel_ID_is_NaN
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_PanelID_is_specified_but_not_Dashboard_UID_
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_Condition_is_empty
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_Data_is_empty
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_Condition_does_not_exist
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_Data_has_duplicate_ref_ID
=== RUN   TestValidateRuleNodeFailures_NoUID/rejects_valid_recording_rules_if_toggle_is_disabled
=== RUN   TestValidateRuleNodeFailures_NoUID/rejects_recording_rule_with_invalid_metric_name
=== RUN   TestValidateRuleNodeFailures_NoUID/rejects_recording_rule_with_empty_from
=== RUN   TestValidateRuleNodeFailures_NoUID/rejects_recording_rule_with_from_not_matching
=== RUN   TestValidateRuleNodeFailures_NoUID/fail_if_keep_firing_for_is_negative
--- PASS: TestValidateRuleNodeFailures_NoUID (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_GrafanaManagedAlert_is_not_specified (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_title_is_empty (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_title_is_too_long (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_NoDataState_is_not_known (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_ExecErrState_is_not_known (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_there_are_not_data_(nil) (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_there_are_not_data_(empty) (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_Dashboard_UID_is_specified_but_not_Panel_ID (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_Dashboard_UID_is_specified_and_Panel_ID_is_NaN (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_PanelID_is_specified_but_not_Dashboard_UID_ (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_Condition_is_empty (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_Data_is_empty (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_Condition_does_not_exist (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_Data_has_duplicate_ref_ID (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/rejects_valid_recording_rules_if_toggle_is_disabled (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/rejects_recording_rule_with_invalid_metric_name (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/rejects_recording_rule_with_empty_from (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/rejects_recording_rule_with_from_not_matching (0.00s)
--- PASS: TestValidateRuleNodeFailures_NoUID/fail_if_keep_firing_for_is_negative (0.00s)
=== RUN   TestValidateRuleNode_UID
api_ruler_validation_test.go:778: Config Base interval is [1m25s]
=== RUN   TestValidateRuleNode_UID/use_empty_Title
=== RUN   TestValidateRuleNode_UID/use_empty_NoData_if_NoDataState_is_empty
=== RUN   TestValidateRuleNode_UID/use_empty_Alerting_if_ExecErrState_is_empty
=== RUN   TestValidateRuleNode_UID/use_empty_Condition_and_Data_if_they_are_empty
=== RUN   TestValidateRuleNode_UID/extracts_Dashboard_UID_and_Panel_Id_from_annotations
=== RUN   TestValidateRuleNode_UID/accepts_empty_group_name
--- PASS: TestValidateRuleNode_UID (0.00s)
--- PASS: TestValidateRuleNode_UID/use_empty_Title (0.00s)
--- PASS: TestValidateRuleNode_UID/use_empty_NoData_if_NoDataState_is_empty (0.00s)
--- PASS: TestValidateRuleNode_UID/use_empty_Alerting_if_ExecErrState_is_empty (0.00s)
--- PASS: TestValidateRuleNode_UID/use_empty_Condition_and_Data_if_they_are_empty (0.00s)
--- PASS: TestValidateRuleNode_UID/extracts_Dashboard_UID_and_Panel_Id_from_annotations (0.00s)
--- PASS: TestValidateRuleNode_UID/accepts_empty_group_name (0.00s)
=== RUN   TestValidateRuleNodeFailures_UID
api_ruler_validation_test.go:875: Config Base interval is [41s]
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_GrafanaManagedAlert_is_not_specified
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_title_is_too_long
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_there_are_not_data_(nil)_but_condition_is_set
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_there_are_not_data_(empty)_but_condition_is_set
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_Dashboard_UID_is_specified_but_not_Panel_ID
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_Dashboard_UID_is_specified_and_Panel_ID_is_NaN
=== RUN   TestValidateRuleNodeFailures_UID/fail_if_PanelID_is_specified_but_not_Dashboard_UID_
--- PASS: TestValidateRuleNodeFailures_UID (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_GrafanaManagedAlert_is_not_specified (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_title_is_too_long (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_there_are_not_data_(nil)_but_condition_is_set (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_there_are_not_data_(empty)_but_condition_is_set (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_Dashboard_UID_is_specified_but_not_Panel_ID (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_Dashboard_UID_is_specified_and_Panel_ID_is_NaN (0.00s)
--- PASS: TestValidateRuleNodeFailures_UID/fail_if_PanelID_is_specified_but_not_Dashboard_UID_ (0.00s)
=== RUN   TestValidateRuleNodeIntervalFailures
api_ruler_validation_test.go:972: Config Base interval is [36s]
=== RUN   TestValidateRuleNodeIntervalFailures/fail_if_interval_is_negative
=== RUN   TestValidateRuleNodeIntervalFailures/fail_if_interval_is_0
=== RUN   TestValidateRuleNodeIntervalFailures/fail_if_interval_is_not_multiple_of_base_interval
--- PASS: TestValidateRuleNodeIntervalFailures (0.00s)
--- PASS: TestValidateRuleNodeIntervalFailures/fail_if_interval_is_negative (0.00s)
--- PASS: TestValidateRuleNodeIntervalFailures/fail_if_interval_is_0 (0.00s)
--- PASS: TestValidateRuleNodeIntervalFailures/fail_if_interval_is_not_multiple_of_base_interval (0.00s)
=== RUN   TestValidateRuleNodeNotificationSettings
api_ruler_validation_test.go:1003: Config Base interval is [1m4s]
=== RUN   TestValidateRuleNodeNotificationSettings/valid_notification_settings
=== RUN   TestValidateRuleNodeNotificationSettings/missing_receiver_is_invalid
=== RUN   TestValidateRuleNodeNotificationSettings/group_by_empty_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_by_..._is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_by_with_alert_name_and_folder_name_labels_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_by_missing_alert_name_label_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_by_missing_folder_name_label_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_wait_empty_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_wait_positive_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_wait_negative_is_invalid
=== RUN   TestValidateRuleNodeNotificationSettings/group_interval_empty_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_interval_positive_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/group_interval_negative_is_invalid
=== RUN   TestValidateRuleNodeNotificationSettings/repeat_interval_empty_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/repeat_interval_positive_is_valid
=== RUN   TestValidateRuleNodeNotificationSettings/repeat_interval_negative_is_invalid
--- PASS: TestValidateRuleNodeNotificationSettings (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/valid_notification_settings (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/missing_receiver_is_invalid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_by_empty_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_by_..._is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_by_with_alert_name_and_folder_name_labels_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_by_missing_alert_name_label_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_by_missing_folder_name_label_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_wait_empty_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_wait_positive_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_wait_negative_is_invalid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_interval_empty_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_interval_positive_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/group_interval_negative_is_invalid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/repeat_interval_empty_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/repeat_interval_positive_is_valid (0.00s)
--- PASS: TestValidateRuleNodeNotificationSettings/repeat_interval_negative_is_invalid (0.00s)
=== RUN   TestValidateRuleNodeEditorSettings
api_ruler_validation_test.go:1100: Config Base interval is [47s]
=== RUN   TestValidateRuleNodeEditorSettings/valid_editor_settings
--- PASS: TestValidateRuleNodeEditorSettings (0.00s)
--- PASS: TestValidateRuleNodeEditorSettings/valid_editor_settings (0.00s)
=== RUN   TestValidateRuleNodeReservedLabels
api_ruler_validation_test.go:1130: Config Base interval is [1m36s]
=== RUN   TestValidateRuleNodeReservedLabels/__grafana_autogenerated__
=== RUN   TestValidateRuleNodeReservedLabels/__grafana_receiver__
=== RUN   TestValidateRuleNodeReservedLabels/__grafana_route_settings_hash__
--- PASS: TestValidateRuleNodeReservedLabels (0.00s)
--- PASS: TestValidateRuleNodeReservedLabels/__grafana_autogenerated__ (0.00s)
--- PASS: TestValidateRuleNodeReservedLabels/__grafana_receiver__ (0.00s)
--- PASS: TestValidateRuleNodeReservedLabels/__grafana_route_settings_hash__ (0.00s)
=== RUN   Test
--- PASS: Test (0.00s)
=== RUN   TestRouteTestGrafanaRuleConfig
=== RUN   TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled
=== RUN   TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled/should_return_Forbidden_if_user_cannot_access_folder
api_testing_test.go:404: Config Base interval is [46s]
=== RUN   TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled/should_return_Forbidden_if_user_cannot_query_a_data_source
api_testing_test.go:404: Config Base interval is [38s]
api_testing_test.go:200: {"statusCode":403,"messageId":"alerting.unauthorized","message":"user is not authorized to access one or many data sources of the rule UID 'aeiyxo29wccz3a'","extra":{"permissions":"all(action:datasources:query scopes:datasources:uid:deiyxo29wccypc action:datasources:query scopes:datasources:uid:ceiyxo29wccyva)"}}
=== RUN   TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled/should_return_200_if_user_can_query_all_data_sources
api_testing_test.go:404: Config Base interval is [1m7s]
--- PASS: TestRouteTestGrafanaRuleConfig (0.00s)
--- PASS: TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled (0.00s)
--- PASS: TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled/should_return_Forbidden_if_user_cannot_access_folder (0.00s)
--- PASS: TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled/should_return_Forbidden_if_user_cannot_query_a_data_source (0.00s)
--- PASS: TestRouteTestGrafanaRuleConfig/when_fine-grained_access_is_enabled/should_return_200_if_user_can_query_all_data_sources (0.00s)
=== RUN   TestRouteEvalQueries
=== RUN   TestRouteEvalQueries/when_fine-grained_access_is_enabled
=== RUN   TestRouteEvalQueries/when_fine-grained_access_is_enabled/should_return_Forbidden_if_user_cannot_query_a_data_source
=== RUN   TestRouteEvalQueries/when_fine-grained_access_is_enabled/should_return_200_if_user_can_query_all_data_sources
api_testing_test.go:404: Config Base interval is [53s]
=== RUN   TestRouteEvalQueries/when_query_is_optimizable
=== RUN   TestRouteEvalQueries/when_query_is_optimizable/should_return_warning_notice_on_optimized_queries
api_testing_test.go:404: Config Base interval is [48s]
--- PASS: TestRouteEvalQueries (0.00s)
--- PASS: TestRouteEvalQueries/when_fine-grained_access_is_enabled (0.00s)
--- PASS: TestRouteEvalQueries/when_fine-grained_access_is_enabled/should_return_Forbidden_if_user_cannot_query_a_data_source (0.00s)
--- PASS: TestRouteEvalQueries/when_fine-grained_access_is_enabled/should_return_200_if_user_can_query_all_data_sources (0.00s)
--- PASS: TestRouteEvalQueries/when_query_is_optimizable (0.00s)
--- PASS: TestRouteEvalQueries/when_query_is_optimizable/should_return_warning_notice_on_optimized_queries (0.00s)
=== RUN   TestAuthorize
=== RUN   TestAuthorize/should_not_panic_on_known_routes
=== RUN   TestAuthorize/should_panic_if_route_is_unknown
--- PASS: TestAuthorize (0.10s)
--- PASS: TestAuthorize/should_not_panic_on_known_routes (0.00s)
--- PASS: TestAuthorize/should_panic_if_route_is_unknown (0.00s)
=== RUN   TestContactPointFromContactPointExports
=== RUN   TestContactPointFromContactPointExports/telegram
=== RUN   TestContactPointFromContactPointExports/dingding
=== RUN   TestContactPointFromContactPointExports/discord
=== RUN   TestContactPointFromContactPointExports/jira
=== RUN   TestContactPointFromContactPointExports/pushover
=== RUN   TestContactPointFromContactPointExports/sns
=== RUN   TestContactPointFromContactPointExports/victorops
=== RUN   TestContactPointFromContactPointExports/webex
=== RUN   TestContactPointFromContactPointExports/sensugo
=== RUN   TestContactPointFromContactPointExports/slack
=== RUN   TestContactPointFromContactPointExports/prometheus-alertmanager
=== RUN   TestContactPointFromContactPointExports/googlechat
=== RUN   TestContactPointFromContactPointExports/mqtt
=== RUN   TestContactPointFromContactPointExports/teams
=== RUN   TestContactPointFromContactPointExports/threema
=== RUN   TestContactPointFromContactPointExports/webhook
=== RUN   TestContactPointFromContactPointExports/wecom
=== RUN   TestContactPointFromContactPointExports/email
=== RUN   TestContactPointFromContactPointExports/kafka
=== RUN   TestContactPointFromContactPointExports/line
=== RUN   TestContactPointFromContactPointExports/opsgenie
=== RUN   TestContactPointFromContactPointExports/pagerduty
=== RUN   TestContactPointFromContactPointExports/pushover_optional_numbers_as_string
=== RUN   TestContactPointFromContactPointExports/email_with_multiple_addresses
=== RUN   TestContactPointFromContactPointExports/webhook_with_optional_numbers_as_string
=== RUN   TestContactPointFromContactPointExports/oncall_with_optional_numbers_as_string
=== RUN   TestContactPointFromContactPointExports/mqtt_with_optional_numbers_as_string
--- PASS: TestContactPointFromContactPointExports (0.01s)
--- PASS: TestContactPointFromContactPointExports/telegram (0.00s)
--- PASS: TestContactPointFromContactPointExports/dingding (0.00s)
--- PASS: TestContactPointFromContactPointExports/discord (0.00s)
--- PASS: TestContactPointFromContactPointExports/jira (0.00s)
--- PASS: TestContactPointFromContactPointExports/pushover (0.00s)
--- PASS: TestContactPointFromContactPointExports/sns (0.00s)
--- PASS: TestContactPointFromContactPointExports/victorops (0.00s)
--- PASS: TestContactPointFromContactPointExports/webex (0.00s)
--- PASS: TestContactPointFromContactPointExports/sensugo (0.00s)
--- PASS: TestContactPointFromContactPointExports/slack (0.00s)
--- PASS: TestContactPointFromContactPointExports/prometheus-alertmanager (0.00s)
--- PASS: TestContactPointFromContactPointExports/googlechat (0.00s)
--- PASS: TestContactPointFromContactPointExports/mqtt (0.00s)
--- PASS: TestContactPointFromContactPointExports/teams (0.00s)
--- PASS: TestContactPointFromContactPointExports/threema (0.00s)
--- PASS: TestContactPointFromContactPointExports/webhook (0.00s)
--- PASS: TestContactPointFromContactPointExports/wecom (0.00s)
--- PASS: TestContactPointFromContactPointExports/email (0.00s)
--- PASS: TestContactPointFromContactPointExports/kafka (0.00s)
--- PASS: TestContactPointFromContactPointExports/line (0.00s)
--- PASS: TestContactPointFromContactPointExports/opsgenie (0.00s)
--- PASS: TestContactPointFromContactPointExports/pagerduty (0.00s)
--- PASS: TestContactPointFromContactPointExports/pushover_optional_numbers_as_string (0.00s)
--- PASS: TestContactPointFromContactPointExports/email_with_multiple_addresses (0.00s)
--- PASS: TestContactPointFromContactPointExports/webhook_with_optional_numbers_as_string (0.00s)
--- PASS: TestContactPointFromContactPointExports/oncall_with_optional_numbers_as_string (0.00s)
--- PASS: TestContactPointFromContactPointExports/mqtt_with_optional_numbers_as_string (0.00s)
=== RUN   TestHooks
=== RUN   TestHooks/Hooks
=== RUN   TestHooks/Hooks/yields_handlers_for_paths_with_hooks
=== RUN   TestHooks/Hooks/yields_no_handlers_for_paths_without_hooks
=== RUN   TestHooks/Hooks/hooks_do_not_match_routes_with_additional_subpaths
=== RUN   TestHooks/Hooks/hooks_do_not_match_requests_with_the_wrong_HTTP_method
=== RUN   TestHooks/Hooks/hooks_match_routes_with_query_parameters
=== RUN   TestHooks/Hooks/hooks_match_routes_with_path_variables
=== RUN   TestHooks/Wrap
=== RUN   TestHooks/Wrap/invokes_hooks_if_one_is_defined
=== RUN   TestHooks/Wrap/does_not_invoke_hooks_if_path_has_none_defined
--- PASS: TestHooks (0.00s)
--- PASS: TestHooks/Hooks (0.00s)
--- PASS: TestHooks/Hooks/yields_handlers_for_paths_with_hooks (0.00s)
--- PASS: TestHooks/Hooks/yields_no_handlers_for_paths_without_hooks (0.00s)
--- PASS: TestHooks/Hooks/hooks_do_not_match_routes_with_additional_subpaths (0.00s)
--- PASS: TestHooks/Hooks/hooks_do_not_match_requests_with_the_wrong_HTTP_method (0.00s)
--- PASS: TestHooks/Hooks/hooks_match_routes_with_query_parameters (0.00s)
--- PASS: TestHooks/Hooks/hooks_match_routes_with_path_variables (0.00s)
--- PASS: TestHooks/Wrap (0.00s)
--- PASS: TestHooks/Wrap/invokes_hooks_if_one_is_defined (0.00s)
--- PASS: TestHooks/Wrap/does_not_invoke_hooks_if_path_has_none_defined (0.00s)
=== RUN   TestLotexProm_GetEndpoints
=== RUN   TestLotexProm_GetEndpoints/with_an_empty_datasource_UID
=== RUN   TestLotexProm_GetEndpoints/with_an_error_while_trying_to_fetch_the_datasource
=== RUN   TestLotexProm_GetEndpoints/with_an_empty_datasource_URL
=== RUN   TestLotexProm_GetEndpoints/with_an_unsupported_datasource_type
=== RUN   TestLotexProm_GetEndpoints/with_a_Loki_datasource
=== RUN   TestLotexProm_GetEndpoints/with_a_Prometheus_datasource
=== RUN   TestLotexProm_GetEndpoints/with_an_Amazon_Prometheus_datasource
=== RUN   TestLotexProm_GetEndpoints/with_an_Azure_Prometheus_datasource
--- PASS: TestLotexProm_GetEndpoints (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_an_empty_datasource_UID (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_an_error_while_trying_to_fetch_the_datasource (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_an_empty_datasource_URL (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_an_unsupported_datasource_type (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_a_Loki_datasource (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_a_Prometheus_datasource (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_an_Amazon_Prometheus_datasource (0.00s)
--- PASS: TestLotexProm_GetEndpoints/with_an_Azure_Prometheus_datasource (0.00s)
=== RUN   TestLotexRuler_ValidateAndGetPrefix
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_empty_datasource_UID
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_error_while_trying_to_fetch_the_datasource
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_empty_datasource_URL
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_unsupported_datasource_type
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_a_Loki_datasource
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_Amazon_Prometheus_datasource
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_Azure_Prometheus_datasource
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_subtype_of_Cortex
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_subtype_of_Mimir
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_subtype_of_Prometheus
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_no_subtype
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_Amazon_Prometheus_datasource_and_subtype_of_Mimir
=== RUN   TestLotexRuler_ValidateAndGetPrefix/with_an_Azure_Prometheus_datasource_and_subtype_of_Mimir
--- PASS: TestLotexRuler_ValidateAndGetPrefix (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_empty_datasource_UID (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_error_while_trying_to_fetch_the_datasource (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_empty_datasource_URL (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_unsupported_datasource_type (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_a_Loki_datasource (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_Amazon_Prometheus_datasource (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_Azure_Prometheus_datasource (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_subtype_of_Cortex (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_subtype_of_Mimir (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_subtype_of_Prometheus (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_a_Prometheus_datasource_and_no_subtype (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_Amazon_Prometheus_datasource_and_subtype_of_Mimir (0.00s)
--- PASS: TestLotexRuler_ValidateAndGetPrefix/with_an_Azure_Prometheus_datasource_and_subtype_of_Mimir (0.00s)
=== RUN   TestLotexRuler_RouteDeleteNamespaceRulesConfig
=== RUN   TestLotexRuler_RouteDeleteNamespaceRulesConfig/with_a_namespace_that_has_to_be_escaped
=== RUN   TestLotexRuler_RouteDeleteNamespaceRulesConfig/with_a_namespace_that_does_not_need_to_be_escaped
--- PASS: TestLotexRuler_RouteDeleteNamespaceRulesConfig (0.00s)
--- PASS: TestLotexRuler_RouteDeleteNamespaceRulesConfig/with_a_namespace_that_has_to_be_escaped (0.00s)
--- PASS: TestLotexRuler_RouteDeleteNamespaceRulesConfig/with_a_namespace_that_does_not_need_to_be_escaped (0.00s)
=== RUN   TestLotexRuler_RouteDeleteRuleGroupConfig
=== RUN   TestLotexRuler_RouteDeleteRuleGroupConfig/with_a_namespace_that_has_to_be_escaped
=== RUN   TestLotexRuler_RouteDeleteRuleGroupConfig/with_a_namespace_that_does_not_need_to_be_escaped
--- PASS: TestLotexRuler_RouteDeleteRuleGroupConfig (0.00s)
--- PASS: TestLotexRuler_RouteDeleteRuleGroupConfig/with_a_namespace_that_has_to_be_escaped (0.00s)
--- PASS: TestLotexRuler_RouteDeleteRuleGroupConfig/with_a_namespace_that_does_not_need_to_be_escaped (0.00s)
=== RUN   TestLotexRuler_RouteGetNamespaceRulesConfig
=== RUN   TestLotexRuler_RouteGetNamespaceRulesConfig/with_a_namespace_that_has_to_be_escaped
=== RUN   TestLotexRuler_RouteGetNamespaceRulesConfig/with_a_namespace_that_does_not_need_to_be_escaped
--- PASS: TestLotexRuler_RouteGetNamespaceRulesConfig (0.00s)
--- PASS: TestLotexRuler_RouteGetNamespaceRulesConfig/with_a_namespace_that_has_to_be_escaped (0.00s)
--- PASS: TestLotexRuler_RouteGetNamespaceRulesConfig/with_a_namespace_that_does_not_need_to_be_escaped (0.00s)
=== RUN   TestLotexRuler_RouteGetRulegGroupConfig
=== RUN   TestLotexRuler_RouteGetRulegGroupConfig/with_a_namespace_that_has_to_be_escaped
=== RUN   TestLotexRuler_RouteGetRulegGroupConfig/with_a_namespace_that_does_not_need_to_be_escaped
--- PASS: TestLotexRuler_RouteGetRulegGroupConfig (0.00s)
--- PASS: TestLotexRuler_RouteGetRulegGroupConfig/with_a_namespace_that_has_to_be_escaped (0.00s)
--- PASS: TestLotexRuler_RouteGetRulegGroupConfig/with_a_namespace_that_does_not_need_to_be_escaped (0.00s)
=== RUN   Test_instantQueryMarshaling
=== RUN   Test_instantQueryMarshaling/scalar
=== RUN   Test_instantQueryMarshaling/vector
=== RUN   Test_instantQueryMarshaling/successfully_parse_error
--- PASS: Test_instantQueryMarshaling (0.00s)
--- PASS: Test_instantQueryMarshaling/scalar (0.00s)
--- PASS: Test_instantQueryMarshaling/vector (0.00s)
--- PASS: Test_instantQueryMarshaling/successfully_parse_error (0.00s)
=== RUN   TestToMacaronPath
--- PASS: TestToMacaronPath (0.00s)
=== RUN   TestAlertingProxy_createProxyContext
=== RUN   TestAlertingProxy_createProxyContext/should_create_a_copy_of_request_context
=== RUN   TestAlertingProxy_createProxyContext/should_overwrite_response_writer
=== RUN   TestAlertingProxy_createProxyContext/if_access_control_is_enabled
=== RUN   TestAlertingProxy_createProxyContext/if_access_control_is_enabled/should_elevate_permissions_to_Editor_for_Viewer
=== RUN   TestAlertingProxy_createProxyContext/if_access_control_is_enabled/should_not_alter_user_if_it_is_Editor
--- PASS: TestAlertingProxy_createProxyContext (0.00s)
--- PASS: TestAlertingProxy_createProxyContext/should_create_a_copy_of_request_context (0.00s)
--- PASS: TestAlertingProxy_createProxyContext/should_overwrite_response_writer (0.00s)
--- PASS: TestAlertingProxy_createProxyContext/if_access_control_is_enabled (0.00s)
--- PASS: TestAlertingProxy_createProxyContext/if_access_control_is_enabled/should_elevate_permissions_to_Editor_for_Viewer (0.00s)
--- PASS: TestAlertingProxy_createProxyContext/if_access_control_is_enabled/should_not_alter_user_if_it_is_Editor (0.00s)
=== RUN   Test_containsProvisionedAlerts
=== RUN   Test_containsProvisionedAlerts/should_return_true_if_at_least_one_rule_is_provisioned
=== RUN   Test_containsProvisionedAlerts/should_return_false_if_map_does_not_contain_or_has_ProvenanceNone
--- PASS: Test_containsProvisionedAlerts (0.00s)
--- PASS: Test_containsProvisionedAlerts/should_return_true_if_at_least_one_rule_is_provisioned (0.00s)
--- PASS: Test_containsProvisionedAlerts/should_return_false_if_map_does_not_contain_or_has_ProvenanceNone (0.00s)
=== RUN   TestIsPrometheusCompatible
=== RUN   TestIsPrometheusCompatible/prometheus_datasource_should_be_compatible
=== RUN   TestIsPrometheusCompatible/amazon_prometheus_datasource_should_be_compatible
=== RUN   TestIsPrometheusCompatible/azure_prometheus_datasource_should_be_compatible
=== RUN   TestIsPrometheusCompatible/loki_datasource_should_not_be_prometheus_compatible
=== RUN   TestIsPrometheusCompatible/other_datasource_types_should_not_be_compatible
--- PASS: TestIsPrometheusCompatible (0.00s)
--- PASS: TestIsPrometheusCompatible/prometheus_datasource_should_be_compatible (0.00s)
--- PASS: TestIsPrometheusCompatible/amazon_prometheus_datasource_should_be_compatible (0.00s)
--- PASS: TestIsPrometheusCompatible/azure_prometheus_datasource_should_be_compatible (0.00s)
--- PASS: TestIsPrometheusCompatible/loki_datasource_should_not_be_prometheus_compatible (0.00s)
--- PASS: TestIsPrometheusCompatible/other_datasource_types_should_not_be_compatible (0.00s)
=== RUN   TestIsLotexRulerCompatible
=== RUN   TestIsLotexRulerCompatible/prometheus_datasource_should_be_compatible
=== RUN   TestIsLotexRulerCompatible/amazon_prometheus_datasource_should_be_compatible
=== RUN   TestIsLotexRulerCompatible/azure_prometheus_datasource_should_be_compatible
=== RUN   TestIsLotexRulerCompatible/loki_datasource_should_be_compatible
=== RUN   TestIsLotexRulerCompatible/other_datasource_types_should_not_be_compatible
--- PASS: TestIsLotexRulerCompatible (0.00s)
--- PASS: TestIsLotexRulerCompatible/prometheus_datasource_should_be_compatible (0.00s)
--- PASS: TestIsLotexRulerCompatible/amazon_prometheus_datasource_should_be_compatible (0.00s)
--- PASS: TestIsLotexRulerCompatible/azure_prometheus_datasource_should_be_compatible (0.00s)
--- PASS: TestIsLotexRulerCompatible/loki_datasource_should_be_compatible (0.00s)
--- PASS: TestIsLotexRulerCompatible/other_datasource_types_should_not_be_compatible (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/api	1.543s
=== RUN   TestToModel
=== RUN   TestToModel/if_no_rules_are_provided_the_rule_field_should_be_nil
=== RUN   TestToModel/if_rules_are_provided_the_rule_field_should_be_not_nil
=== RUN   TestToModel/should_clear_recording_rule_ignored_fields_correctly
=== RUN   TestToModel/should_copy_the_fields_correctly
=== RUN   TestToModel/should_handle_empty_keep_firing_for
--- PASS: TestToModel (0.00s)
--- PASS: TestToModel/if_no_rules_are_provided_the_rule_field_should_be_nil (0.00s)
--- PASS: TestToModel/if_rules_are_provided_the_rule_field_should_be_not_nil (0.00s)
--- PASS: TestToModel/should_clear_recording_rule_ignored_fields_correctly (0.00s)
--- PASS: TestToModel/should_copy_the_fields_correctly (0.00s)
--- PASS: TestToModel/should_handle_empty_keep_firing_for (0.00s)
=== RUN   TestAlertRuleMetadataFromModelMetadata
=== RUN   TestAlertRuleMetadataFromModelMetadata/should_convert_model_metadata_to_api_metadata
--- PASS: TestAlertRuleMetadataFromModelMetadata (0.00s)
--- PASS: TestAlertRuleMetadataFromModelMetadata/should_convert_model_metadata_to_api_metadata (0.00s)
=== RUN   TestApiAlertRuleGroupFromAlertRuleGroup
=== RUN   TestApiAlertRuleGroupFromAlertRuleGroup/should_convert_keepfiringfor_duration_correctly
=== RUN   TestApiAlertRuleGroupFromAlertRuleGroup/handles_empty_keep_firing_for
--- PASS: TestApiAlertRuleGroupFromAlertRuleGroup (0.00s)
--- PASS: TestApiAlertRuleGroupFromAlertRuleGroup/should_convert_keepfiringfor_duration_correctly (0.00s)
--- PASS: TestApiAlertRuleGroupFromAlertRuleGroup/handles_empty_keep_firing_for (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/api/compat	(cached)
=== RUN   TestEncode
hcl_test.go:49: resource "grafana_test" "test-01" {
name      = "test"
number    = 123
numberRef = 1333
bul       = false
bulRef    = true
2025-04-15T08:37:33.3991047Z
blocks {
name   = "el-0"
number = 1
bul    = false
}
blocks {
name   = "el-1"
number = 2
bul    = true
}
2025-04-15T08:37:33.3993469Z
sub {
name   = "sub-data"
number = 123123
bul    = false
}
}
2025-04-15T08:37:33.3994990Z
--- PASS: TestEncode (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/api/hcl	(cached)
?   	github.com/grafana/grafana/pkg/services/ngalert/api/prometheus	[no test files]
?   	github.com/grafana/grafana/pkg/services/ngalert/api/tooling/cmd/clean-swagger	[no test files]
=== RUN   Test_GettableUserConfigUnmarshaling
=== RUN   Test_GettableUserConfigUnmarshaling/empty
=== RUN   Test_GettableUserConfigUnmarshaling/empty-ish
=== RUN   Test_GettableUserConfigUnmarshaling/bad_type_for_template
=== RUN   Test_GettableUserConfigUnmarshaling/existing_templates
=== RUN   Test_GettableUserConfigUnmarshaling/existing_templates_inline
=== RUN   Test_GettableUserConfigUnmarshaling/existing_am_config
--- PASS: Test_GettableUserConfigUnmarshaling (0.00s)
--- PASS: Test_GettableUserConfigUnmarshaling/empty (0.00s)
--- PASS: Test_GettableUserConfigUnmarshaling/empty-ish (0.00s)
--- PASS: Test_GettableUserConfigUnmarshaling/bad_type_for_template (0.00s)
--- PASS: Test_GettableUserConfigUnmarshaling/existing_templates (0.00s)
--- PASS: Test_GettableUserConfigUnmarshaling/existing_templates_inline (0.00s)
--- PASS: Test_GettableUserConfigUnmarshaling/existing_am_config (0.00s)
=== RUN   Test_GettableUserConfigRoundtrip
--- PASS: Test_GettableUserConfigRoundtrip (0.00s)
=== RUN   Test_Marshaling_Validation
--- PASS: Test_Marshaling_Validation (0.00s)
=== RUN   Test_RawMessageMarshaling
=== RUN   Test_RawMessageMarshaling/should_unmarshal_nil
=== RUN   Test_RawMessageMarshaling/should_unmarshal_value
--- PASS: Test_RawMessageMarshaling (0.00s)
--- PASS: Test_RawMessageMarshaling/should_unmarshal_nil (0.00s)
--- PASS: Test_RawMessageMarshaling/should_unmarshal_value (0.00s)
=== RUN   TestValidateRoutes
=== RUN   TestValidateRoutes/valid_route
=== RUN   TestValidateRoutes/valid_route/empty
=== RUN   TestValidateRoutes/valid_route/simple
=== RUN   TestValidateRoutes/valid_route/nested
=== RUN   TestValidateRoutes/invalid_route
=== RUN   TestValidateRoutes/invalid_route/zero_group_interval
=== RUN   TestValidateRoutes/invalid_route/zero_repeat_interval
=== RUN   TestValidateRoutes/invalid_route/duplicated_label
=== RUN   TestValidateRoutes/invalid_route/wildcard_and_non-wildcard_label_simultaneously
=== RUN   TestValidateRoutes/invalid_route/valid_with_nested_invalid
=== RUN   TestValidateRoutes/route_validator_normalizes_group_by
=== RUN   TestValidateRoutes/route_validator_normalizes_group_by/when_grouping_normally
=== RUN   TestValidateRoutes/route_validator_normalizes_group_by/when_grouping_by_wildcard,_nil
=== RUN   TestValidateRoutes/route_validator_normalizes_group_by/idempotently
=== RUN   TestValidateRoutes/valid_root_route
=== RUN   TestValidateRoutes/valid_root_route/simple
=== RUN   TestValidateRoutes/invalid_root_route
=== RUN   TestValidateRoutes/invalid_root_route/no_receiver
=== RUN   TestValidateRoutes/invalid_root_route/exact_matchers_present
=== RUN   TestValidateRoutes/invalid_root_route/regex_matchers_present
=== RUN   TestValidateRoutes/invalid_root_route/mute_time_intervals_present
=== RUN   TestValidateRoutes/invalid_root_route/validation_error_that_is_not_specific_to_root
=== RUN   TestValidateRoutes/invalid_root_route/nested_validation_error_that_is_not_specific_to_root
--- PASS: TestValidateRoutes (0.00s)
--- PASS: TestValidateRoutes/valid_route (0.00s)
--- PASS: TestValidateRoutes/valid_route/empty (0.00s)
--- PASS: TestValidateRoutes/valid_route/simple (0.00s)
--- PASS: TestValidateRoutes/valid_route/nested (0.00s)
--- PASS: TestValidateRoutes/invalid_route (0.00s)
--- PASS: TestValidateRoutes/invalid_route/zero_group_interval (0.00s)
--- PASS: TestValidateRoutes/invalid_route/zero_repeat_interval (0.00s)
--- PASS: TestValidateRoutes/invalid_route/duplicated_label (0.00s)
--- PASS: TestValidateRoutes/invalid_route/wildcard_and_non-wildcard_label_simultaneously (0.00s)
--- PASS: TestValidateRoutes/invalid_route/valid_with_nested_invalid (0.00s)
--- PASS: TestValidateRoutes/route_validator_normalizes_group_by (0.00s)
--- PASS: TestValidateRoutes/route_validator_normalizes_group_by/when_grouping_normally (0.00s)
--- PASS: TestValidateRoutes/route_validator_normalizes_group_by/when_grouping_by_wildcard,_nil (0.00s)
--- PASS: TestValidateRoutes/route_validator_normalizes_group_by/idempotently (0.00s)
--- PASS: TestValidateRoutes/valid_root_route (0.00s)
--- PASS: TestValidateRoutes/valid_root_route/simple (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route/no_receiver (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route/exact_matchers_present (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route/regex_matchers_present (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route/mute_time_intervals_present (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route/validation_error_that_is_not_specific_to_root (0.00s)
--- PASS: TestValidateRoutes/invalid_root_route/nested_validation_error_that_is_not_specific_to_root (0.00s)
=== RUN   TestValidateMuteTimeInterval
=== RUN   TestValidateMuteTimeInterval/valid_interval
=== RUN   TestValidateMuteTimeInterval/valid_interval/nil_intervals
=== RUN   TestValidateMuteTimeInterval/valid_interval/empty_intervals
=== RUN   TestValidateMuteTimeInterval/valid_interval/blank_interval
=== RUN   TestValidateMuteTimeInterval/valid_interval/simple
=== RUN   TestValidateMuteTimeInterval/invalid_interval
=== RUN   TestValidateMuteTimeInterval/invalid_interval/empty
=== RUN   TestValidateMuteTimeInterval/invalid_interval/empty#01
--- PASS: TestValidateMuteTimeInterval (0.00s)
--- PASS: TestValidateMuteTimeInterval/valid_interval (0.00s)
--- PASS: TestValidateMuteTimeInterval/valid_interval/nil_intervals (0.00s)
--- PASS: TestValidateMuteTimeInterval/valid_interval/empty_intervals (0.00s)
--- PASS: TestValidateMuteTimeInterval/valid_interval/blank_interval (0.00s)
--- PASS: TestValidateMuteTimeInterval/valid_interval/simple (0.00s)
--- PASS: TestValidateMuteTimeInterval/invalid_interval (0.00s)
--- PASS: TestValidateMuteTimeInterval/invalid_interval/empty (0.00s)
--- PASS: TestValidateMuteTimeInterval/invalid_interval/empty#01 (0.00s)
=== RUN   TestValidateNotificationTemplates
=== RUN   TestValidateNotificationTemplates/Same_template_name_as_definition
=== RUN   TestValidateNotificationTemplates/Different_template_name_than_definition
=== RUN   TestValidateNotificationTemplates/Fix_template_-_missing_both_{{_define_}}_and_{{_end_}}
=== RUN   TestValidateNotificationTemplates/Multiple_definitions
=== RUN   TestValidateNotificationTemplates/Malformed_template_-_missing_{{_define_}}
=== RUN   TestValidateNotificationTemplates/Malformed_template_-_missing_{{_end_}}
=== RUN   TestValidateNotificationTemplates/Malformed_template_-_multiple_definitions_duplicate_name
=== RUN   TestValidateNotificationTemplates/Extra_text_outside_definition_block_-_different_template_name_and_definition
=== RUN   TestValidateNotificationTemplates/Extra_text_outside_definition_block_-_same_template_name_and_definition
--- PASS: TestValidateNotificationTemplates (0.00s)
--- PASS: TestValidateNotificationTemplates/Same_template_name_as_definition (0.00s)
--- PASS: TestValidateNotificationTemplates/Different_template_name_than_definition (0.00s)
--- PASS: TestValidateNotificationTemplates/Fix_template_-_missing_both_{{_define_}}_and_{{_end_}} (0.00s)
--- PASS: TestValidateNotificationTemplates/Multiple_definitions (0.00s)
--- PASS: TestValidateNotificationTemplates/Malformed_template_-_missing_{{_define_}} (0.00s)
--- PASS: TestValidateNotificationTemplates/Malformed_template_-_missing_{{_end_}} (0.00s)
--- PASS: TestValidateNotificationTemplates/Malformed_template_-_multiple_definitions_duplicate_name (0.00s)
--- PASS: TestValidateNotificationTemplates/Extra_text_outside_definition_block_-_different_template_name_and_definition (0.00s)
--- PASS: TestValidateNotificationTemplates/Extra_text_outside_definition_block_-_same_template_name_and_definition (0.00s)
=== RUN   Test_Rule_Marshaling
=== RUN   Test_Rule_Marshaling/success_lotex
=== RUN   Test_Rule_Marshaling/success_grafana
=== RUN   Test_Rule_Marshaling/failure_mixed_with_alert_lotex_rule
=== RUN   Test_Rule_Marshaling/failure_mixed_with_record_lotex_rule
=== RUN   Test_Rule_Marshaling/grafana_with_for,_annotation_and_label_properties
--- PASS: Test_Rule_Marshaling (0.00s)
--- PASS: Test_Rule_Marshaling/success_lotex (0.00s)
--- PASS: Test_Rule_Marshaling/success_grafana (0.00s)
--- PASS: Test_Rule_Marshaling/failure_mixed_with_alert_lotex_rule (0.00s)
--- PASS: Test_Rule_Marshaling/failure_mixed_with_record_lotex_rule (0.00s)
--- PASS: Test_Rule_Marshaling/grafana_with_for,_annotation_and_label_properties (0.00s)
=== RUN   Test_Rule_Group_Marshaling
=== RUN   Test_Rule_Group_Marshaling/success_lotex
=== RUN   Test_Rule_Group_Marshaling/success_federated_lotex
=== RUN   Test_Rule_Group_Marshaling/success_grafana
=== RUN   Test_Rule_Group_Marshaling/success_grafana_with_for_and_annotations
=== RUN   Test_Rule_Group_Marshaling/failure_mixed
--- PASS: Test_Rule_Group_Marshaling (0.00s)
--- PASS: Test_Rule_Group_Marshaling/success_lotex (0.00s)
--- PASS: Test_Rule_Group_Marshaling/success_federated_lotex (0.00s)
--- PASS: Test_Rule_Group_Marshaling/success_grafana (0.00s)
--- PASS: Test_Rule_Group_Marshaling/success_grafana_with_for_and_annotations (0.00s)
--- PASS: Test_Rule_Group_Marshaling/failure_mixed (0.00s)
=== RUN   Test_Rule_Group_Type
=== RUN   Test_Rule_Group_Type/success_lotex
=== RUN   Test_Rule_Group_Type/success_federated_lotex
=== RUN   Test_Rule_Group_Type/success_grafana
--- PASS: Test_Rule_Group_Type (0.00s)
--- PASS: Test_Rule_Group_Type/success_lotex (0.00s)
--- PASS: Test_Rule_Group_Type/success_federated_lotex (0.00s)
--- PASS: Test_Rule_Group_Type/success_grafana (0.00s)
=== RUN   TestNamespaceMarshalling
--- PASS: TestNamespaceMarshalling (0.00s)
=== RUN   TestDiscoveryBaseHTTPStatusCode
=== RUN   TestDiscoveryBaseHTTPStatusCode/OK_when_status_is_success
=== RUN   TestDiscoveryBaseHTTPStatusCode/InternalServerError_when_status_is_error_but_no_error_type
=== RUN   TestDiscoveryBaseHTTPStatusCode/BadRequest_when_status_is_error_and_type_is_bad_data
=== RUN   TestDiscoveryBaseHTTPStatusCode/InternalServerError_when_status_is_error_and_type_is_server_error
--- PASS: TestDiscoveryBaseHTTPStatusCode (0.00s)
--- PASS: TestDiscoveryBaseHTTPStatusCode/OK_when_status_is_success (0.00s)
--- PASS: TestDiscoveryBaseHTTPStatusCode/InternalServerError_when_status_is_error_but_no_error_type (0.00s)
--- PASS: TestDiscoveryBaseHTTPStatusCode/BadRequest_when_status_is_error_and_type_is_bad_data (0.00s)
--- PASS: TestDiscoveryBaseHTTPStatusCode/InternalServerError_when_status_is_error_and_type_is_server_error (0.00s)
=== RUN   TestSortAlertsByImportance
=== RUN   TestSortAlertsByImportance/alerts_are_ordered_in_expected_importance
=== RUN   TestSortAlertsByImportance/alerts_with_same_importance_are_ordered_active_first
=== RUN   TestSortAlertsByImportance/active_alerts_with_same_importance_are_ordered_newest_first
=== RUN   TestSortAlertsByImportance/inactive_alerts_with_same_importance_are_ordered_by_labels
=== RUN   TestSortAlertsByImportance/active_alerts_with_same_importance_and_active_time_are_ordered_by_label_names
=== RUN   TestSortAlertsByImportance/active_alerts_with_same_importance_and_active_time_are_ordered_by_labels
=== RUN   TestSortAlertsByImportance/active_alerts_with_same_importance_and_active_time_are_ordered_by_label_values
--- PASS: TestSortAlertsByImportance (0.00s)
--- PASS: TestSortAlertsByImportance/alerts_are_ordered_in_expected_importance (0.00s)
--- PASS: TestSortAlertsByImportance/alerts_with_same_importance_are_ordered_active_first (0.00s)
--- PASS: TestSortAlertsByImportance/active_alerts_with_same_importance_are_ordered_newest_first (0.00s)
--- PASS: TestSortAlertsByImportance/inactive_alerts_with_same_importance_are_ordered_by_labels (0.00s)
--- PASS: TestSortAlertsByImportance/active_alerts_with_same_importance_and_active_time_are_ordered_by_label_names (0.00s)
--- PASS: TestSortAlertsByImportance/active_alerts_with_same_importance_and_active_time_are_ordered_by_labels (0.00s)
--- PASS: TestSortAlertsByImportance/active_alerts_with_same_importance_and_active_time_are_ordered_by_label_values (0.00s)
=== RUN   TestTopKAlertsByImportance
=== RUN   TestTopKAlertsByImportance/no_alerts_are_returned_(k=0)
=== RUN   TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=1)
=== RUN   TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=2)
=== RUN   TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=3)
=== RUN   TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=4)
=== RUN   TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=5)
=== RUN   TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=6)
--- PASS: TestTopKAlertsByImportance (0.00s)
--- PASS: TestTopKAlertsByImportance/no_alerts_are_returned_(k=0) (0.00s)
--- PASS: TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=1) (0.00s)
--- PASS: TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=2) (0.00s)
--- PASS: TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=3) (0.00s)
--- PASS: TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=4) (0.00s)
--- PASS: TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=5) (0.00s)
--- PASS: TestTopKAlertsByImportance/alerts_are_ordered_in_expected_importance_(k=6) (0.00s)
=== RUN   TestNotificationPolicyExportMarshal
=== RUN   TestNotificationPolicyExportMarshal/json
=== RUN   TestNotificationPolicyExportMarshal/yaml
--- PASS: TestNotificationPolicyExportMarshal (0.00s)
--- PASS: TestNotificationPolicyExportMarshal/json (0.00s)
--- PASS: TestNotificationPolicyExportMarshal/yaml (0.00s)
=== RUN   TestRulePayloadMarshaling
=== RUN   TestRulePayloadMarshaling/success_lotex
=== RUN   TestRulePayloadMarshaling/success_grafana
=== RUN   TestRulePayloadMarshaling/failure_mixed
=== RUN   TestRulePayloadMarshaling/failure_both_empty
--- PASS: TestRulePayloadMarshaling (0.00s)
--- PASS: TestRulePayloadMarshaling/success_lotex (0.00s)
--- PASS: TestRulePayloadMarshaling/success_grafana (0.00s)
--- PASS: TestRulePayloadMarshaling/failure_mixed (0.00s)
--- PASS: TestRulePayloadMarshaling/failure_both_empty (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/api/tooling/definitions	0.046s
?   	github.com/grafana/grafana/pkg/services/ngalert/api/validation	[no test files]
=== RUN   TestNewBacktestingEvaluator
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator/creates_data_evaluator_when_there_is_one_query_with_type___data__
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator/creates_data_evaluator_when_there_is_one_query_with_datasource_UID___data__
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_queries_contain_data_and_other_queries
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_data_query_does_not_contain_data
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_data_query_does_not_contain_frame_in_data
=== RUN   TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_condition_refID_and_data_refID_does_not_match
--- PASS: TestNewBacktestingEvaluator (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator/creates_data_evaluator_when_there_is_one_query_with_type___data__ (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator/creates_data_evaluator_when_there_is_one_query_with_datasource_UID___data__ (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_queries_contain_data_and_other_queries (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_data_query_does_not_contain_data (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_data_query_does_not_contain_frame_in_data (0.00s)
--- PASS: TestNewBacktestingEvaluator/creates_data_evaluator/fails_if_condition_refID_and_data_refID_does_not_match (0.00s)
=== RUN   TestEvaluatorTest
=== RUN   TestEvaluatorTest/should_return_data_frame_in_specific_format
=== RUN   TestEvaluatorTest/should_return_data_frame_in_specific_format/should_contain_field_Time
=== RUN   TestEvaluatorTest/should_return_data_frame_in_specific_format/should_contain_a_field_per_state
=== RUN   TestEvaluatorTest/should_return_data_frame_in_specific_format/should_be_populated_with_correct_values
=== RUN   TestEvaluatorTest/should_not_fail_if_'to-from'_is_not_times_of_interval
=== RUN   TestEvaluatorTest/should_backfill_field_with_nulls_if_a_new_dimension_created_in_the_middle
=== RUN   TestEvaluatorTest/should_fail
=== RUN   TestEvaluatorTest/should_fail/when_interval_is_not_correct
=== RUN   TestEvaluatorTest/should_fail/when_interval_is_not_correct/when_from=to
=== RUN   TestEvaluatorTest/should_fail/when_interval_is_not_correct/when_from_>_to
=== RUN   TestEvaluatorTest/should_fail/when_interval_is_not_correct/when_to-from_<_interval
=== RUN   TestEvaluatorTest/should_fail/when_evaluation_fails
--- PASS: TestEvaluatorTest (0.01s)
--- PASS: TestEvaluatorTest/should_return_data_frame_in_specific_format (0.00s)
--- PASS: TestEvaluatorTest/should_return_data_frame_in_specific_format/should_contain_field_Time (0.00s)
--- PASS: TestEvaluatorTest/should_return_data_frame_in_specific_format/should_contain_a_field_per_state (0.00s)
--- PASS: TestEvaluatorTest/should_return_data_frame_in_specific_format/should_be_populated_with_correct_values (0.00s)
--- PASS: TestEvaluatorTest/should_not_fail_if_'to-from'_is_not_times_of_interval (0.01s)
--- PASS: TestEvaluatorTest/should_backfill_field_with_nulls_if_a_new_dimension_created_in_the_middle (0.00s)
--- PASS: TestEvaluatorTest/should_fail (0.00s)
--- PASS: TestEvaluatorTest/should_fail/when_interval_is_not_correct (0.00s)
--- PASS: TestEvaluatorTest/should_fail/when_interval_is_not_correct/when_from=to (0.00s)
--- PASS: TestEvaluatorTest/should_fail/when_interval_is_not_correct/when_from_>_to (0.00s)
--- PASS: TestEvaluatorTest/should_fail/when_interval_is_not_correct/when_to-from_<_interval (0.00s)
--- PASS: TestEvaluatorTest/should_fail/when_evaluation_fails (0.00s)
=== RUN   TestDataEvaluator_New
=== RUN   TestDataEvaluator_New/should_fail_if_frame_is_not_TimeSeriesTypeWide
=== RUN   TestDataEvaluator_New/should_fail_if_frame_is_not_TimeSeriesTypeWide/but_TimeSeriesTypeNot
=== RUN   TestDataEvaluator_New/should_fail_if_frame_is_not_TimeSeriesTypeWide/but_TimeSeriesTypeLong
=== RUN   TestDataEvaluator_New/should_convert_fame_to_series_and_sort_it
--- PASS: TestDataEvaluator_New (0.00s)
--- PASS: TestDataEvaluator_New/should_fail_if_frame_is_not_TimeSeriesTypeWide (0.00s)
--- PASS: TestDataEvaluator_New/should_fail_if_frame_is_not_TimeSeriesTypeWide/but_TimeSeriesTypeNot (0.00s)
--- PASS: TestDataEvaluator_New/should_fail_if_frame_is_not_TimeSeriesTypeWide/but_TimeSeriesTypeLong (0.00s)
--- PASS: TestDataEvaluator_New/should_convert_fame_to_series_and_sort_it (0.00s)
=== RUN   TestDataEvaluator_Eval
=== RUN   TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval
=== RUN   TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/results_should_be_in_the_same_refID
=== RUN   TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/should_be_Alerting_if_value_is_not_0
=== RUN   TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/results_should_be_in_ascending_order
=== RUN   TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/results_should_be_in_the_same_order_as_fields_in_frame
=== RUN   TestDataEvaluator_Eval/when_frame_resolution_does_not_match_evaluation_interval
=== RUN   TestDataEvaluator_Eval/when_frame_resolution_does_not_match_evaluation_interval/should_closest_timestamp_if_interval_is_smaller_than_frame_resolution
=== RUN   TestDataEvaluator_Eval/when_frame_resolution_does_not_match_evaluation_interval/should_downscale_series_if_interval_is_smaller_using_previous_value
=== RUN   TestDataEvaluator_Eval/when_eval_interval_is_larger_than_data
=== RUN   TestDataEvaluator_Eval/when_eval_interval_is_larger_than_data/should_be_noData_until_the_frame_interval
=== RUN   TestDataEvaluator_Eval/when_eval_interval_is_larger_than_data/should_be_the_last_value_after_the_frame_interval
=== RUN   TestDataEvaluator_Eval/should_stop_if_callback_error
--- PASS: TestDataEvaluator_Eval (0.02s)
--- PASS: TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval (0.00s)
--- PASS: TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/results_should_be_in_the_same_refID (0.00s)
--- PASS: TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/should_be_Alerting_if_value_is_not_0 (0.00s)
--- PASS: TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/results_should_be_in_ascending_order (0.00s)
--- PASS: TestDataEvaluator_Eval/should_use_data_points_when_frame_resolution_matches_evaluation_interval/results_should_be_in_the_same_order_as_fields_in_frame (0.00s)
--- PASS: TestDataEvaluator_Eval/when_frame_resolution_does_not_match_evaluation_interval (0.01s)
--- PASS: TestDataEvaluator_Eval/when_frame_resolution_does_not_match_evaluation_interval/should_closest_timestamp_if_interval_is_smaller_than_frame_resolution (0.01s)
--- PASS: TestDataEvaluator_Eval/when_frame_resolution_does_not_match_evaluation_interval/should_downscale_series_if_interval_is_smaller_using_previous_value (0.00s)
--- PASS: TestDataEvaluator_Eval/when_eval_interval_is_larger_than_data (0.01s)
--- PASS: TestDataEvaluator_Eval/when_eval_interval_is_larger_than_data/should_be_noData_until_the_frame_interval (0.00s)
--- PASS: TestDataEvaluator_Eval/when_eval_interval_is_larger_than_data/should_be_the_last_value_after_the_frame_interval (0.00s)
--- PASS: TestDataEvaluator_Eval/should_stop_if_callback_error (0.00s)
=== RUN   TestQueryEvaluator_Eval
=== RUN   TestQueryEvaluator_Eval/should_evaluate_query
=== RUN   TestQueryEvaluator_Eval/should_stop_evaluation_if_error
=== RUN   TestQueryEvaluator_Eval/should_stop_evaluation_if_error/when_evaluation_fails
=== RUN   TestQueryEvaluator_Eval/should_stop_evaluation_if_error/when_callback_fails
--- PASS: TestQueryEvaluator_Eval (0.00s)
--- PASS: TestQueryEvaluator_Eval/should_evaluate_query (0.00s)
--- PASS: TestQueryEvaluator_Eval/should_stop_evaluation_if_error (0.00s)
--- PASS: TestQueryEvaluator_Eval/should_stop_evaluation_if_error/when_evaluation_fails (0.00s)
--- PASS: TestQueryEvaluator_Eval/should_stop_evaluation_if_error/when_callback_fails (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/backtesting	(cached)
=== RUN   TestTimedClient_operationName
--- PASS: TestTimedClient_operationName (0.00s)
=== RUN   TestTimedClient_operationName_Default
--- PASS: TestTimedClient_operationName_Default (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/client	(cached)
=== RUN   TestEvaluateExecutionResult
=== RUN   TestEvaluateExecutionResult/zero_valued_single_instance_is_single_Normal_state_result
=== RUN   TestEvaluateExecutionResult/non-zero_valued_single_instance_is_single_Alerting_state_result
=== RUN   TestEvaluateExecutionResult/nil_value_single_instance_is_single_a_NoData_state_result
=== RUN   TestEvaluateExecutionResult/an_execution_error_produces_a_single_Error_state_result
=== RUN   TestEvaluateExecutionResult/empty_results_produces_a_single_NoData_state_result
=== RUN   TestEvaluateExecutionResult/frame_with_no_fields_produces_a_NoData_state_result
=== RUN   TestEvaluateExecutionResult/empty_field_produces_a_NoData_state_result
=== RUN   TestEvaluateExecutionResult/empty_field_with_labels_produces_a_NoData_state_result_with_labels
=== RUN   TestEvaluateExecutionResult/malformed_frame_(unequal_lengths)_produces_Error_state_result
=== RUN   TestEvaluateExecutionResult/too_many_fields_produces_Error_state_result
=== RUN   TestEvaluateExecutionResult/more_than_one_row_produces_Error_state_result
=== RUN   TestEvaluateExecutionResult/time_fields_(looks_like_time_series)_returns_error
=== RUN   TestEvaluateExecutionResult/non_[]*float64_field_will_produce_Error_state_result
=== RUN   TestEvaluateExecutionResult/duplicate_labels_produce_a_single_Error_state_result
=== RUN   TestEvaluateExecutionResult/error_that_produce_duplicate_empty_labels_produce_a_single_Error_state_result
=== RUN   TestEvaluateExecutionResult/certain_errors_will_produce_multiple_mixed_Error_and_other_state_results
--- PASS: TestEvaluateExecutionResult (0.00s)
--- PASS: TestEvaluateExecutionResult/zero_valued_single_instance_is_single_Normal_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/non-zero_valued_single_instance_is_single_Alerting_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/nil_value_single_instance_is_single_a_NoData_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/an_execution_error_produces_a_single_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/empty_results_produces_a_single_NoData_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/frame_with_no_fields_produces_a_NoData_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/empty_field_produces_a_NoData_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/empty_field_with_labels_produces_a_NoData_state_result_with_labels (0.00s)
--- PASS: TestEvaluateExecutionResult/malformed_frame_(unequal_lengths)_produces_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/too_many_fields_produces_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/more_than_one_row_produces_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/time_fields_(looks_like_time_series)_returns_error (0.00s)
--- PASS: TestEvaluateExecutionResult/non_[]*float64_field_will_produce_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/duplicate_labels_produce_a_single_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/error_that_produce_duplicate_empty_labels_produce_a_single_Error_state_result (0.00s)
--- PASS: TestEvaluateExecutionResult/certain_errors_will_produce_multiple_mixed_Error_and_other_state_results (0.00s)
=== RUN   TestEvaluateExecutionResultsNoData
=== RUN   TestEvaluateExecutionResultsNoData/no_data_for_Ref_ID_will_produce_NoData_result
=== RUN   TestEvaluateExecutionResultsNoData/no_data_for_Ref_IDs_will_produce_NoData_result_for_each_Ref_ID
--- PASS: TestEvaluateExecutionResultsNoData (0.00s)
--- PASS: TestEvaluateExecutionResultsNoData/no_data_for_Ref_ID_will_produce_NoData_result (0.00s)
--- PASS: TestEvaluateExecutionResultsNoData/no_data_for_Ref_IDs_will_produce_NoData_result_for_each_Ref_ID (0.00s)
=== RUN   TestValidate
=== RUN   TestValidate/fail_if_no_expressions
=== RUN   TestValidate/fail_if_condition_RefID_does_not_exist
=== RUN   TestValidate/fail_if_condition_RefID_is_empty
=== RUN   TestValidate/fail_if_datasource_with_UID_does_not_exists
=== RUN   TestValidate/fail_if_datasource_cannot_be_found_in_plugin_store
=== RUN   TestValidate/fail_if_datasource_is_not_backend_one
=== RUN   TestValidate/pass_if_datasource_exists_and_condition_is_correct
=== RUN   TestValidate/fail_if_hysteresis_command_is_not_the_condition
=== RUN   TestValidate/pass_if_hysteresis_command_and_it_is_the_condition
--- PASS: TestValidate (0.00s)
--- PASS: TestValidate/fail_if_no_expressions (0.00s)
--- PASS: TestValidate/fail_if_condition_RefID_does_not_exist (0.00s)
--- PASS: TestValidate/fail_if_condition_RefID_is_empty (0.00s)
--- PASS: TestValidate/fail_if_datasource_with_UID_does_not_exists (0.00s)
--- PASS: TestValidate/fail_if_datasource_cannot_be_found_in_plugin_store (0.00s)
--- PASS: TestValidate/fail_if_datasource_is_not_backend_one (0.00s)
--- PASS: TestValidate/pass_if_datasource_exists_and_condition_is_correct (0.00s)
--- PASS: TestValidate/fail_if_hysteresis_command_is_not_the_condition (0.00s)
--- PASS: TestValidate/pass_if_hysteresis_command_and_it_is_the_condition (0.00s)
=== RUN   TestCreate_HysteresisCommand
=== RUN   TestCreate_HysteresisCommand/fail_if_hysteresis_command_is_not_the_condition
=== RUN   TestCreate_HysteresisCommand/populate_with_loaded_metrics
=== RUN   TestCreate_HysteresisCommand/do_nothing_if_reader_is_not_specified
--- PASS: TestCreate_HysteresisCommand (0.00s)
--- PASS: TestCreate_HysteresisCommand/fail_if_hysteresis_command_is_not_the_condition (0.00s)
--- PASS: TestCreate_HysteresisCommand/populate_with_loaded_metrics (0.00s)
--- PASS: TestCreate_HysteresisCommand/do_nothing_if_reader_is_not_specified (0.00s)
=== RUN   TestQueryDataResponseToExecutionResults
=== RUN   TestQueryDataResponseToExecutionResults/should_set_datasource_type_for_captured_values
--- PASS: TestQueryDataResponseToExecutionResults (0.00s)
--- PASS: TestQueryDataResponseToExecutionResults/should_set_datasource_type_for_captured_values (0.00s)
=== RUN   TestEvaluate
=== RUN   TestEvaluate/is_no_data_with_no_frames
=== RUN   TestEvaluate/is_no_data_for_one_frame_with_no_fields
=== RUN   TestEvaluate/results_contains_captured_values_for_exact_label_matches
=== RUN   TestEvaluate/results_contains_captured_values_for_subset_of_labels
=== RUN   TestEvaluate/results_contains_error_if_condition_frame_has_error
=== RUN   TestEvaluate/results_contain_underlying_error_if_condition_frame_has_error_that_depends_on_another_node
=== RUN   TestEvaluate/result_values_for_all_refIDs_when_a_math_no-op_expression_is_used_and_two_results_share_the_same_frame_pointer
=== RUN   TestEvaluate/range_query_with_reducer_includes_only_reducer_and_condition_values_in_EvaluationString
--- PASS: TestEvaluate (0.00s)
--- PASS: TestEvaluate/is_no_data_with_no_frames (0.00s)
--- PASS: TestEvaluate/is_no_data_for_one_frame_with_no_fields (0.00s)
--- PASS: TestEvaluate/results_contains_captured_values_for_exact_label_matches (0.00s)
--- PASS: TestEvaluate/results_contains_captured_values_for_subset_of_labels (0.00s)
--- PASS: TestEvaluate/results_contains_error_if_condition_frame_has_error (0.00s)
--- PASS: TestEvaluate/results_contain_underlying_error_if_condition_frame_has_error_that_depends_on_another_node (0.00s)
--- PASS: TestEvaluate/result_values_for_all_refIDs_when_a_math_no-op_expression_is_used_and_two_results_share_the_same_frame_pointer (0.00s)
--- PASS: TestEvaluate/range_query_with_reducer_includes_only_reducer_and_condition_values_in_EvaluationString (0.00s)
=== RUN   TestEvaluateRaw
=== RUN   TestEvaluateRaw/should_timeout_if_request_takes_too_long
--- PASS: TestEvaluateRaw (0.02s)
--- PASS: TestEvaluateRaw/should_timeout_if_request_takes_too_long (0.02s)
=== RUN   TestEvaluateRawLimit
=== RUN   TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation
=== RUN   TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/too_many_results_from_the_condition_query_results_in_an_error
=== RUN   TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/if_the_limit_equals_to_the_number_of_condition_query_frames,_no_error_is_returned
=== RUN   TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/if_the_limit_is_0,_no_error_is_returned
=== RUN   TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/if_the_limit_is_-1,_no_error_is_returned
=== RUN   TestEvaluateRawLimit/should_return_the_original_error_if_the_evaluation_did_not_succeed
=== RUN   TestEvaluateRawLimit/should_return_the_original_error_if_the_evaluation_did_not_succeed/the_original_query_evaluation_result_is_preserved
=== RUN   TestEvaluateRawLimit/should_return_the_original_error_if_the_evaluation_did_not_succeed/the_original_query_evaluation_result_is_preserved_(no_evaluation_result)
--- PASS: TestEvaluateRawLimit (0.00s)
--- PASS: TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation (0.00s)
--- PASS: TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/too_many_results_from_the_condition_query_results_in_an_error (0.00s)
--- PASS: TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/if_the_limit_equals_to_the_number_of_condition_query_frames,_no_error_is_returned (0.00s)
--- PASS: TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/if_the_limit_is_0,_no_error_is_returned (0.00s)
--- PASS: TestEvaluateRawLimit/should_apply_the_limit_to_the_successful_query_evaluation/if_the_limit_is_-1,_no_error_is_returned (0.00s)
--- PASS: TestEvaluateRawLimit/should_return_the_original_error_if_the_evaluation_did_not_succeed (0.00s)
--- PASS: TestEvaluateRawLimit/should_return_the_original_error_if_the_evaluation_did_not_succeed/the_original_query_evaluation_result_is_preserved (0.00s)
--- PASS: TestEvaluateRawLimit/should_return_the_original_error_if_the_evaluation_did_not_succeed/the_original_query_evaluation_result_is_preserved_(no_evaluation_result) (0.00s)
=== RUN   TestResults_HasNonRetryableErrors
=== RUN   TestResults_HasNonRetryableErrors/with_invalid_format_error
=== RUN   TestResults_HasNonRetryableErrors/with_expected_wide_series_but_got_type_long_error
=== RUN   TestResults_HasNonRetryableErrors/with_retryable_errors
--- PASS: TestResults_HasNonRetryableErrors (0.00s)
--- PASS: TestResults_HasNonRetryableErrors/with_invalid_format_error (0.00s)
--- PASS: TestResults_HasNonRetryableErrors/with_expected_wide_series_but_got_type_long_error (0.00s)
--- PASS: TestResults_HasNonRetryableErrors/with_retryable_errors (0.00s)
=== RUN   TestResults_Error
=== RUN   TestResults_Error/with_non-retryable_errors
--- PASS: TestResults_Error (0.00s)
--- PASS: TestResults_Error/with_non-retryable_errors (0.00s)
=== RUN   TestCreate
=== RUN   TestCreate/should_generate_headers_from_metadata
--- PASS: TestCreate (0.00s)
--- PASS: TestCreate/should_generate_headers_from_metadata (0.00s)
=== RUN   TestExtractEvalString
=== RUN   TestExtractEvalString/1_EvalMatch
=== RUN   TestExtractEvalString/2_EvalMatches
=== RUN   TestExtractEvalString/3_EvalMatches
=== RUN   TestExtractEvalString/Captures_are_sorted_in_ascending_order_of_var
--- PASS: TestExtractEvalString (0.00s)
--- PASS: TestExtractEvalString/1_EvalMatch (0.00s)
--- PASS: TestExtractEvalString/2_EvalMatches (0.00s)
--- PASS: TestExtractEvalString/3_EvalMatches (0.00s)
--- PASS: TestExtractEvalString/Captures_are_sorted_in_ascending_order_of_var (0.00s)
=== RUN   TestExtractValues
=== RUN   TestExtractValues/No_values_in_frame_returns_nil
=== RUN   TestExtractValues/Classic_condition_frame_with_one_match
=== RUN   TestExtractValues/Classic_condition_frame_with_multiple_matches
=== RUN   TestExtractValues/Nil_value
=== RUN   TestExtractValues/1_value
=== RUN   TestExtractValues/2_values
--- PASS: TestExtractValues (0.00s)
--- PASS: TestExtractValues/No_values_in_frame_returns_nil (0.00s)
--- PASS: TestExtractValues/Classic_condition_frame_with_one_match (0.00s)
--- PASS: TestExtractValues/Classic_condition_frame_with_multiple_matches (0.00s)
--- PASS: TestExtractValues/Nil_value (0.00s)
--- PASS: TestExtractValues/1_value (0.00s)
--- PASS: TestExtractValues/2_values (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/eval	(cached)
?   	github.com/grafana/grafana/pkg/services/ngalert/eval/eval_mocks	[no test files]
=== RUN   TestInmemCacheService
--- PASS: TestInmemCacheService (1.00s)
=== RUN   TestScreenshotImageService
=== RUN   TestScreenshotImageService/image_is_taken,_uploaded,_saved_to_database_and_cached
=== RUN   TestScreenshotImageService/image_is_taken,_upload_return_error,_saved_to_database_without_URL_and_cached
=== RUN   TestScreenshotImageService/image_is_returned_from_cache
=== RUN   TestScreenshotImageService/error_is_returned_when_timeout_is_exceeded
--- PASS: TestScreenshotImageService (0.00s)
--- PASS: TestScreenshotImageService/image_is_taken,_uploaded,_saved_to_database_and_cached (0.00s)
--- PASS: TestScreenshotImageService/image_is_taken,_upload_return_error,_saved_to_database_without_URL_and_cached (0.00s)
--- PASS: TestScreenshotImageService/image_is_returned_from_cache (0.00s)
--- PASS: TestScreenshotImageService/error_is_returned_when_timeout_is_exceeded (0.00s)
=== RUN   TestUploadingService
--- PASS: TestUploadingService (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/image	(cached)
=== RUN   Test_NewAlertmanagerConfigMetrics
=== RUN   Test_NewAlertmanagerConfigMetrics/Successfully_registers_collectors_despite_previous_call
--- PASS: Test_NewAlertmanagerConfigMetrics (0.00s)
--- PASS: Test_NewAlertmanagerConfigMetrics/Successfully_registers_collectors_despite_previous_call (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/metrics	(cached)
=== RUN   TestStringToAlertmanagersChoice
=== RUN   TestStringToAlertmanagersChoice/all_alertmanagers
=== RUN   TestStringToAlertmanagersChoice/internal_alertmanager
=== RUN   TestStringToAlertmanagersChoice/external_alertmanagers
=== RUN   TestStringToAlertmanagersChoice/empty_string_value
=== RUN   TestStringToAlertmanagersChoice/invalid_string
--- PASS: TestStringToAlertmanagersChoice (0.00s)
--- PASS: TestStringToAlertmanagersChoice/all_alertmanagers (0.00s)
--- PASS: TestStringToAlertmanagersChoice/internal_alertmanager (0.00s)
--- PASS: TestStringToAlertmanagersChoice/external_alertmanagers (0.00s)
--- PASS: TestStringToAlertmanagersChoice/empty_string_value (0.00s)
--- PASS: TestStringToAlertmanagersChoice/invalid_string (0.00s)
=== RUN   TestAlertQuery
=== RUN   TestAlertQuery/given_an_expression_query
=== RUN   TestAlertQuery/given_an_expression_query/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_an_expression_query/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_an_expression_query/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_an_expression_query/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_an_expression_query/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_an_expression_query/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query
=== RUN   TestAlertQuery/given_a_query/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_valid_intervalMs/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_threshold_expression/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_recognize_if_it's_an_expression
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_recognize_if_it's_a_hysteresis_expression
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_set_queryType_for_expression
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_update_model_maxDataPoints_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_update_model_intervalMs_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_get_the_updated_model_with_the_default_properties_(if_missing)
=== RUN   TestAlertQuery/given_a_query_with_hysteresis_expression/can_patch_the_command_with_loaded_metrics
--- PASS: TestAlertQuery (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_an_expression_query/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query (0.00s)
--- PASS: TestAlertQuery/given_a_query/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_maxDataPoints/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_maxDataPoints/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_zero_maxDataPoints/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_valid_intervalMs/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01 (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_invalid_intervalMs#01/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_threshold_expression/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_recognize_if_it's_an_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_recognize_if_it's_a_hysteresis_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_set_queryType_for_expression (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_update_model_maxDataPoints_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_update_model_intervalMs_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_get_the_updated_model_with_the_default_properties_(if_missing) (0.00s)
--- PASS: TestAlertQuery/given_a_query_with_hysteresis_expression/can_patch_the_command_with_loaded_metrics (0.00s)
=== RUN   TestAlertQueryMarshalling
--- PASS: TestAlertQueryMarshalling (0.00s)
=== RUN   TestAlertQuery_PreSave
=== RUN   TestAlertQuery_PreSave/no_error_when_input_is_correct
=== RUN   TestAlertQuery_PreSave/expected_error_when_range_is_incorrect
--- PASS: TestAlertQuery_PreSave (0.00s)
--- PASS: TestAlertQuery_PreSave/no_error_when_input_is_correct (0.00s)
--- PASS: TestAlertQuery_PreSave/expected_error_when_range_is_incorrect (0.00s)
=== RUN   TestAlertQuery_GetQuery
=== RUN   TestAlertQuery_GetQuery/when_a_query_is_present
=== RUN   TestAlertQuery_GetQuery/when_no_query_is_found
=== RUN   TestAlertQuery_GetQuery/when_we're_unable_to_cast_the_query_to_a_string
--- PASS: TestAlertQuery_GetQuery (0.00s)
--- PASS: TestAlertQuery_GetQuery/when_a_query_is_present (0.00s)
--- PASS: TestAlertQuery_GetQuery/when_no_query_is_found (0.00s)
--- PASS: TestAlertQuery_GetQuery/when_we're_unable_to_cast_the_query_to_a_string (0.00s)
=== RUN   TestSortAlertRulesByGroupKeyAndIndex
=== RUN   TestSortAlertRulesByGroupKeyAndIndex/alert_rules_are_ordered_by_organization
=== RUN   TestSortAlertRulesByGroupKeyAndIndex/alert_rules_in_same_organization_are_ordered_by_namespace
=== RUN   TestSortAlertRulesByGroupKeyAndIndex/alert_rules_with_same_group_key_are_ordered_by_index
--- PASS: TestSortAlertRulesByGroupKeyAndIndex (0.00s)
--- PASS: TestSortAlertRulesByGroupKeyAndIndex/alert_rules_are_ordered_by_organization (0.00s)
--- PASS: TestSortAlertRulesByGroupKeyAndIndex/alert_rules_in_same_organization_are_ordered_by_namespace (0.00s)
--- PASS: TestSortAlertRulesByGroupKeyAndIndex/alert_rules_with_same_group_key_are_ordered_by_index (0.00s)
=== RUN   TestNoDataStateFromString
=== RUN   TestNoDataStateFromString/should_parse_known_values
=== RUN   TestNoDataStateFromString/should_fail_to_parse_in_different_case
=== RUN   TestNoDataStateFromString/should_fail_to_parse_unknown_values
--- PASS: TestNoDataStateFromString (0.00s)
--- PASS: TestNoDataStateFromString/should_parse_known_values (0.00s)
--- PASS: TestNoDataStateFromString/should_fail_to_parse_in_different_case (0.00s)
--- PASS: TestNoDataStateFromString/should_fail_to_parse_unknown_values (0.00s)
=== RUN   TestErrStateFromString
=== RUN   TestErrStateFromString/should_parse_known_values
=== RUN   TestErrStateFromString/should_fail_to_parse_in_different_case
=== RUN   TestErrStateFromString/should_fail_to_parse_unknown_values
--- PASS: TestErrStateFromString (0.00s)
--- PASS: TestErrStateFromString/should_parse_known_values (0.00s)
--- PASS: TestErrStateFromString/should_fail_to_parse_in_different_case (0.00s)
--- PASS: TestErrStateFromString/should_fail_to_parse_unknown_values (0.00s)
=== RUN   TestSetDashboardAndPanelFromAnnotations
=== RUN   TestSetDashboardAndPanelFromAnnotations/annotations_is_empty
=== RUN   TestSetDashboardAndPanelFromAnnotations/dashboardUID_is_not_present
=== RUN   TestSetDashboardAndPanelFromAnnotations/dashboardUID_is_present_but_empty
=== RUN   TestSetDashboardAndPanelFromAnnotations/panelID_is_not_present
=== RUN   TestSetDashboardAndPanelFromAnnotations/panelID_is_present_but_empty
=== RUN   TestSetDashboardAndPanelFromAnnotations/dashboardUID_and_panelID_are_present_but_panelID_is_not_a_correct_int64
=== RUN   TestSetDashboardAndPanelFromAnnotations/dashboardUID_and_panelID_are_present_and_correct
--- PASS: TestSetDashboardAndPanelFromAnnotations (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/annotations_is_empty (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/dashboardUID_is_not_present (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/dashboardUID_is_present_but_empty (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/panelID_is_not_present (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/panelID_is_present_but_empty (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/dashboardUID_and_panelID_are_present_but_panelID_is_not_a_correct_int64 (0.00s)
--- PASS: TestSetDashboardAndPanelFromAnnotations/dashboardUID_and_panelID_are_present_and_correct (0.00s)
=== RUN   TestPatchPartialAlertRule
=== RUN   TestPatchPartialAlertRule/patches
=== RUN   TestPatchPartialAlertRule/patches/title_is_empty
=== RUN   TestPatchPartialAlertRule/patches/condition_and_data_are_empty
=== RUN   TestPatchPartialAlertRule/patches/ExecErrState_is_empty
=== RUN   TestPatchPartialAlertRule/patches/NoDataState_is_empty
=== RUN   TestPatchPartialAlertRule/patches/For_is_-1
=== RUN   TestPatchPartialAlertRule/patches/IsPaused_did_not_come_in_request
=== RUN   TestPatchPartialAlertRule/patches/No_metadata
=== RUN   TestPatchPartialAlertRule/does_not_patch
=== RUN   TestPatchPartialAlertRule/does_not_patch/ID
=== RUN   TestPatchPartialAlertRule/does_not_patch/OrgID
=== RUN   TestPatchPartialAlertRule/does_not_patch/Updated
=== RUN   TestPatchPartialAlertRule/does_not_patch/Version
=== RUN   TestPatchPartialAlertRule/does_not_patch/UID
=== RUN   TestPatchPartialAlertRule/does_not_patch/DashboardUID
=== RUN   TestPatchPartialAlertRule/does_not_patch/PanelID
=== RUN   TestPatchPartialAlertRule/does_not_patch/Annotations
=== RUN   TestPatchPartialAlertRule/does_not_patch/Labels
--- PASS: TestPatchPartialAlertRule (0.01s)
--- PASS: TestPatchPartialAlertRule/patches (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/title_is_empty (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/condition_and_data_are_empty (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/ExecErrState_is_empty (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/NoDataState_is_empty (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/For_is_-1 (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/IsPaused_did_not_come_in_request (0.00s)
--- PASS: TestPatchPartialAlertRule/patches/No_metadata (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch (0.01s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/ID (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/OrgID (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/Updated (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/Version (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/UID (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/DashboardUID (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/PanelID (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/Annotations (0.00s)
--- PASS: TestPatchPartialAlertRule/does_not_patch/Labels (0.00s)
=== RUN   TestDiff
=== RUN   TestDiff/should_return_nil_if_there_is_no_diff
=== RUN   TestDiff/should_respect_fields_to_ignore
=== RUN   TestDiff/should_find_diff_in_simple_fields
=== RUN   TestDiff/should_not_see_difference_between_nil_and_empty_Annotations
=== RUN   TestDiff/should_detect_changes_in_Annotations
=== RUN   TestDiff/should_not_see_difference_between_nil_and_empty_Labels
=== RUN   TestDiff/should_detect_changes_in_Labels
=== RUN   TestDiff/should_detect_changes_in_Data
=== RUN   TestDiff/should_detect_changes_in_Data/should_ignore_modelProps
=== RUN   TestDiff/should_detect_changes_in_Data/should_detect_changes_inside_the_query
=== RUN   TestDiff/should_detect_changes_in_Data/should_correctly_detect_no_change_with_'<'_and_'>'_in_query
=== RUN   TestDiff/should_detect_changes_in_Data/should_detect_new_changes_in_array_if_too_many_fields_changed
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_Receiver
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_GroupWait
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_GroupInterval
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_RepeatInterval
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_GroupBy
=== RUN   TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_MuteTimeIntervals
=== RUN   TestDiff/should_detect_changes_in_Metadata.EditorSettings
=== RUN   TestDiff/should_detect_changes_in_Metadata.PrometheusStyleRule
--- PASS: TestDiff (0.01s)
--- PASS: TestDiff/should_return_nil_if_there_is_no_diff (0.00s)
--- PASS: TestDiff/should_respect_fields_to_ignore (0.00s)
--- PASS: TestDiff/should_find_diff_in_simple_fields (0.00s)
--- PASS: TestDiff/should_not_see_difference_between_nil_and_empty_Annotations (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Annotations (0.00s)
--- PASS: TestDiff/should_not_see_difference_between_nil_and_empty_Labels (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Labels (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Data (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Data/should_ignore_modelProps (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Data/should_detect_changes_inside_the_query (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Data/should_correctly_detect_no_change_with_'<'_and_'>'_in_query (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Data/should_detect_new_changes_in_array_if_too_many_fields_changed (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_Receiver (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_GroupWait (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_GroupInterval (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_RepeatInterval (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_GroupBy (0.00s)
--- PASS: TestDiff/should_detect_changes_in_NotificationSettings/should_detect_changes_in_MuteTimeIntervals (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Metadata.EditorSettings (0.00s)
--- PASS: TestDiff/should_detect_changes_in_Metadata.PrometheusStyleRule (0.00s)
=== RUN   TestSortByGroupIndex
=== RUN   TestSortByGroupIndex/should_sort_rules_by_GroupIndex
=== RUN   TestSortByGroupIndex/should_sort_by_ID_if_same_GroupIndex
--- PASS: TestSortByGroupIndex (0.00s)
--- PASS: TestSortByGroupIndex/should_sort_rules_by_GroupIndex (0.00s)
--- PASS: TestSortByGroupIndex/should_sort_by_ID_if_same_GroupIndex (0.00s)
=== RUN   TestTimeRangeYAML
--- PASS: TestTimeRangeYAML (0.00s)
=== RUN   TestAlertRuleGetKey
=== RUN   TestAlertRuleGetKey/should_return_correct_key
--- PASS: TestAlertRuleGetKey (0.00s)
--- PASS: TestAlertRuleGetKey/should_return_correct_key (0.00s)
=== RUN   TestAlertRuleGetKeyWithGroup
=== RUN   TestAlertRuleGetKeyWithGroup/should_return_correct_key
--- PASS: TestAlertRuleGetKeyWithGroup (0.00s)
--- PASS: TestAlertRuleGetKeyWithGroup/should_return_correct_key (0.00s)
=== RUN   TestAlertRuleGetMissingSeriesEvalsToResolve
=== RUN   TestAlertRuleGetMissingSeriesEvalsToResolve/should_return_the_default_2_if_MissingSeriesEvalsToResolve_is_nil
=== RUN   TestAlertRuleGetMissingSeriesEvalsToResolve/should_return_the_correct_value
--- PASS: TestAlertRuleGetMissingSeriesEvalsToResolve (0.00s)
--- PASS: TestAlertRuleGetMissingSeriesEvalsToResolve/should_return_the_default_2_if_MissingSeriesEvalsToResolve_is_nil (0.00s)
--- PASS: TestAlertRuleGetMissingSeriesEvalsToResolve/should_return_the_correct_value (0.00s)
=== RUN   TestAlertRuleCopy
=== RUN   TestAlertRuleCopy/should_return_a_copy_of_the_rule
=== RUN   TestAlertRuleCopy/should_create_a_copy_of_the_prometheus_rule_definition_from_the_metadata
--- PASS: TestAlertRuleCopy (0.02s)
--- PASS: TestAlertRuleCopy/should_return_a_copy_of_the_rule (0.02s)
--- PASS: TestAlertRuleCopy/should_create_a_copy_of_the_prometheus_rule_definition_from_the_metadata (0.00s)
=== RUN   TestGeneratorFillsAllFields
--- PASS: TestGeneratorFillsAllFields (0.00s)
=== RUN   TestValidateAlertRule
=== RUN   TestValidateAlertRule/should_accept_zero_keep_firing_for
=== RUN   TestValidateAlertRule/should_accept_positive_keep_firing_for
=== RUN   TestValidateAlertRule/should_reject_negative_keep_firing_for
--- PASS: TestValidateAlertRule (0.00s)
--- PASS: TestValidateAlertRule/should_accept_zero_keep_firing_for (0.00s)
--- PASS: TestValidateAlertRule/should_accept_positive_keep_firing_for (0.00s)
--- PASS: TestValidateAlertRule/should_reject_negative_keep_firing_for (0.00s)
=== RUN   TestAlertRule_PrometheusRuleDefinition
=== RUN   TestAlertRule_PrometheusRuleDefinition/rule_with_prometheus_definition
=== RUN   TestAlertRule_PrometheusRuleDefinition/rule_with_empty_prometheus_definition
=== RUN   TestAlertRule_PrometheusRuleDefinition/rule_with_nil_prometheus_style_rule
=== RUN   TestAlertRule_PrometheusRuleDefinition/rule_with_empty_metadata
--- PASS: TestAlertRule_PrometheusRuleDefinition (0.00s)
--- PASS: TestAlertRule_PrometheusRuleDefinition/rule_with_prometheus_definition (0.00s)
--- PASS: TestAlertRule_PrometheusRuleDefinition/rule_with_empty_prometheus_definition (0.00s)
--- PASS: TestAlertRule_PrometheusRuleDefinition/rule_with_nil_prometheus_style_rule (0.00s)
--- PASS: TestAlertRule_PrometheusRuleDefinition/rule_with_empty_metadata (0.00s)
=== RUN   TestMissingSeriesEvalsToResolveValidation
=== RUN   TestMissingSeriesEvalsToResolveValidation/should_allow_nil_value
=== RUN   TestMissingSeriesEvalsToResolveValidation/should_reject_negative_value
=== RUN   TestMissingSeriesEvalsToResolveValidation/should_reject_0
=== RUN   TestMissingSeriesEvalsToResolveValidation/should_accept_positive_value
--- PASS: TestMissingSeriesEvalsToResolveValidation (0.00s)
--- PASS: TestMissingSeriesEvalsToResolveValidation/should_allow_nil_value (0.00s)
--- PASS: TestMissingSeriesEvalsToResolveValidation/should_reject_negative_value (0.00s)
--- PASS: TestMissingSeriesEvalsToResolveValidation/should_reject_0 (0.00s)
--- PASS: TestMissingSeriesEvalsToResolveValidation/should_accept_positive_value (0.00s)
=== RUN   TestImage_ExtendDuration
--- PASS: TestImage_ExtendDuration (0.00s)
=== RUN   TestImage_HasExpired
--- PASS: TestImage_HasExpired (0.00s)
=== RUN   TestImage_HasPath
--- PASS: TestImage_HasPath (0.00s)
=== RUN   TestImage_HasURL
--- PASS: TestImage_HasURL (0.00s)
=== RUN   TestTupleLabelsToLabels
=== RUN   TestTupleLabelsToLabels/converts_tupleLabels_to_InstanceLabels
=== RUN   TestTupleLabelsToLabels/nil_input_gives_empty_output
=== RUN   TestTupleLabelsToLabels/duplicate_keys_are_not_allowed
--- PASS: TestTupleLabelsToLabels (0.00s)
--- PASS: TestTupleLabelsToLabels/converts_tupleLabels_to_InstanceLabels (0.00s)
--- PASS: TestTupleLabelsToLabels/nil_input_gives_empty_output (0.00s)
--- PASS: TestTupleLabelsToLabels/duplicate_keys_are_not_allowed (0.00s)
=== RUN   TestInstanceLabelsFingerprint
=== RUN   TestInstanceLabelsFingerprint/returns_labels_fingerprint
--- PASS: TestInstanceLabelsFingerprint (0.00s)
--- PASS: TestInstanceLabelsFingerprint/returns_labels_fingerprint (0.00s)
=== RUN   TestInstanceStateType_IsValid
=== RUN   TestInstanceStateType_IsValid/"Alerting"_should_be_valid
=== RUN   TestInstanceStateType_IsValid/"Normal"_should_be_valid
=== RUN   TestInstanceStateType_IsValid/"Pending"_should_be_valid
=== RUN   TestInstanceStateType_IsValid/"NoData"_should_be_valid
=== RUN   TestInstanceStateType_IsValid/"Error"_should_be_valid
=== RUN   TestInstanceStateType_IsValid/"Recovering"_should_be_valid
=== RUN   TestInstanceStateType_IsValid/"notAValidInstanceStateType"_should_not_be_valid
--- PASS: TestInstanceStateType_IsValid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"Alerting"_should_be_valid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"Normal"_should_be_valid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"Pending"_should_be_valid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"NoData"_should_be_valid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"Error"_should_be_valid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"Recovering"_should_be_valid (0.00s)
--- PASS: TestInstanceStateType_IsValid/"notAValidInstanceStateType"_should_not_be_valid (0.00s)
=== RUN   TestValidateAlertInstance
=== RUN   TestValidateAlertInstance/fails_if_orgID_is_empty
=== RUN   TestValidateAlertInstance/fails_if_uid_is_empty
=== RUN   TestValidateAlertInstance/fails_if_current_state_is_not_valid
=== RUN   TestValidateAlertInstance/ok_if_validated_fields_are_correct
--- PASS: TestValidateAlertInstance (0.00s)
--- PASS: TestValidateAlertInstance/fails_if_orgID_is_empty (0.00s)
--- PASS: TestValidateAlertInstance/fails_if_uid_is_empty (0.00s)
--- PASS: TestValidateAlertInstance/fails_if_current_state_is_not_valid (0.00s)
--- PASS: TestValidateAlertInstance/ok_if_validated_fields_are_correct (0.00s)
=== RUN   TestValidate
=== RUN   TestValidate/valid_notification_settings
=== RUN   TestValidate/missing_receiver_is_invalid
=== RUN   TestValidate/group_by_empty_is_valid
=== RUN   TestValidate/group_by_..._is_valid
=== RUN   TestValidate/group_by_with_alert_name_and_folder_name_labels_is_valid
=== RUN   TestValidate/group_by_missing_alert_name_label_is_valid
=== RUN   TestValidate/group_by_missing_folder_name_label_is_valid
=== RUN   TestValidate/group_wait_empty_is_valid
=== RUN   TestValidate/group_wait_positive_is_valid
=== RUN   TestValidate/group_wait_negative_is_invalid
=== RUN   TestValidate/group_interval_empty_is_valid
=== RUN   TestValidate/group_interval_positive_is_valid
=== RUN   TestValidate/group_interval_negative_is_invalid
=== RUN   TestValidate/group_interval_zero_is_invalid
=== RUN   TestValidate/repeat_interval_empty_is_valid
=== RUN   TestValidate/repeat_interval_positive_is_valid
=== RUN   TestValidate/repeat_interval_negative_is_invalid
=== RUN   TestValidate/repeat_interval_zero_is_invalid
--- PASS: TestValidate (0.00s)
--- PASS: TestValidate/valid_notification_settings (0.00s)
--- PASS: TestValidate/missing_receiver_is_invalid (0.00s)
--- PASS: TestValidate/group_by_empty_is_valid (0.00s)
--- PASS: TestValidate/group_by_..._is_valid (0.00s)
--- PASS: TestValidate/group_by_with_alert_name_and_folder_name_labels_is_valid (0.00s)
--- PASS: TestValidate/group_by_missing_alert_name_label_is_valid (0.00s)
--- PASS: TestValidate/group_by_missing_folder_name_label_is_valid (0.00s)
--- PASS: TestValidate/group_wait_empty_is_valid (0.00s)
--- PASS: TestValidate/group_wait_positive_is_valid (0.00s)
--- PASS: TestValidate/group_wait_negative_is_invalid (0.00s)
--- PASS: TestValidate/group_interval_empty_is_valid (0.00s)
--- PASS: TestValidate/group_interval_positive_is_valid (0.00s)
--- PASS: TestValidate/group_interval_negative_is_invalid (0.00s)
--- PASS: TestValidate/group_interval_zero_is_invalid (0.00s)
--- PASS: TestValidate/repeat_interval_empty_is_valid (0.00s)
--- PASS: TestValidate/repeat_interval_positive_is_valid (0.00s)
--- PASS: TestValidate/repeat_interval_negative_is_invalid (0.00s)
--- PASS: TestValidate/repeat_interval_zero_is_invalid (0.00s)
=== RUN   TestNotificationSettingsLabels
=== RUN   TestNotificationSettingsLabels/default_notification_settings
=== RUN   TestNotificationSettingsLabels/default_notification_settings_with_hardcoded_default_group_by
=== RUN   TestNotificationSettingsLabels/custom_notification_settings
--- PASS: TestNotificationSettingsLabels (0.00s)
--- PASS: TestNotificationSettingsLabels/default_notification_settings (0.00s)
--- PASS: TestNotificationSettingsLabels/default_notification_settings_with_hardcoded_default_group_by (0.00s)
--- PASS: TestNotificationSettingsLabels/custom_notification_settings (0.00s)
=== RUN   TestNormalizedGroupBy
=== RUN   TestNormalizedGroupBy/default_group_by_is_normal
=== RUN   TestNormalizedGroupBy/group_by_..._is_normal
=== RUN   TestNormalizedGroupBy/group_by_empty_is_normal
=== RUN   TestNormalizedGroupBy/group_by_with_..._and_other_labels_is_not_normal
=== RUN   TestNormalizedGroupBy/group_by_missing_alert_name_label_is_not_normal
=== RUN   TestNormalizedGroupBy/group_by_missing_folder_name_label_is_not_normal
=== RUN   TestNormalizedGroupBy/group_by_with_all_required_labels_plus_extra_is_normal
=== RUN   TestNormalizedGroupBy/ensure_consistent_ordering,_required_labels_in_front_followed_by_sorted_custom_labels_
--- PASS: TestNormalizedGroupBy (0.00s)
--- PASS: TestNormalizedGroupBy/default_group_by_is_normal (0.00s)
--- PASS: TestNormalizedGroupBy/group_by_..._is_normal (0.00s)
--- PASS: TestNormalizedGroupBy/group_by_empty_is_normal (0.00s)
--- PASS: TestNormalizedGroupBy/group_by_with_..._and_other_labels_is_not_normal (0.00s)
--- PASS: TestNormalizedGroupBy/group_by_missing_alert_name_label_is_not_normal (0.00s)
--- PASS: TestNormalizedGroupBy/group_by_missing_folder_name_label_is_not_normal (0.00s)
--- PASS: TestNormalizedGroupBy/group_by_with_all_required_labels_plus_extra_is_normal (0.00s)
--- PASS: TestNormalizedGroupBy/ensure_consistent_ordering,_required_labels_in_front_followed_by_sorted_custom_labels_ (0.00s)
=== RUN   TestReceiver_Clone
=== RUN   TestReceiver_Clone/empty_receiver
=== RUN   TestReceiver_Clone/empty_integration
=== RUN   TestReceiver_Clone/random_receiver
--- PASS: TestReceiver_Clone (0.00s)
--- PASS: TestReceiver_Clone/empty_receiver (0.00s)
--- PASS: TestReceiver_Clone/empty_integration (0.00s)
--- PASS: TestReceiver_Clone/random_receiver (0.00s)
=== RUN   TestReceiver_EncryptDecrypt
=== RUN   TestReceiver_EncryptDecrypt/jira
=== RUN   TestReceiver_EncryptDecrypt/mqtt
=== RUN   TestReceiver_EncryptDecrypt/slack
=== RUN   TestReceiver_EncryptDecrypt/teams
=== RUN   TestReceiver_EncryptDecrypt/wecom
=== RUN   TestReceiver_EncryptDecrypt/prometheus-alertmanager
=== RUN   TestReceiver_EncryptDecrypt/email
=== RUN   TestReceiver_EncryptDecrypt/line
=== RUN   TestReceiver_EncryptDecrypt/opsgenie
=== RUN   TestReceiver_EncryptDecrypt/sns
=== RUN   TestReceiver_EncryptDecrypt/telegram
=== RUN   TestReceiver_EncryptDecrypt/discord
=== RUN   TestReceiver_EncryptDecrypt/pagerduty
=== RUN   TestReceiver_EncryptDecrypt/pushover
=== RUN   TestReceiver_EncryptDecrypt/webhook
=== RUN   TestReceiver_EncryptDecrypt/webex
=== RUN   TestReceiver_EncryptDecrypt/dingding
=== RUN   TestReceiver_EncryptDecrypt/googlechat
=== RUN   TestReceiver_EncryptDecrypt/kafka
=== RUN   TestReceiver_EncryptDecrypt/sensugo
=== RUN   TestReceiver_EncryptDecrypt/threema
=== RUN   TestReceiver_EncryptDecrypt/victorops
--- PASS: TestReceiver_EncryptDecrypt (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/jira (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/mqtt (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/slack (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/teams (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/wecom (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/prometheus-alertmanager (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/email (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/line (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/opsgenie (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/sns (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/telegram (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/discord (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/pagerduty (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/pushover (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/webhook (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/webex (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/dingding (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/googlechat (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/kafka (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/sensugo (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/threema (0.00s)
--- PASS: TestReceiver_EncryptDecrypt/victorops (0.00s)
=== RUN   TestIntegration_Redact
=== RUN   TestIntegration_Redact/jira
=== RUN   TestIntegration_Redact/mqtt
=== RUN   TestIntegration_Redact/slack
=== RUN   TestIntegration_Redact/teams
=== RUN   TestIntegration_Redact/wecom
=== RUN   TestIntegration_Redact/prometheus-alertmanager
=== RUN   TestIntegration_Redact/email
=== RUN   TestIntegration_Redact/line
=== RUN   TestIntegration_Redact/opsgenie
=== RUN   TestIntegration_Redact/sns
=== RUN   TestIntegration_Redact/telegram
=== RUN   TestIntegration_Redact/discord
=== RUN   TestIntegration_Redact/pagerduty
=== RUN   TestIntegration_Redact/pushover
=== RUN   TestIntegration_Redact/webhook
=== RUN   TestIntegration_Redact/webex
=== RUN   TestIntegration_Redact/dingding
=== RUN   TestIntegration_Redact/googlechat
=== RUN   TestIntegration_Redact/kafka
=== RUN   TestIntegration_Redact/sensugo
=== RUN   TestIntegration_Redact/threema
=== RUN   TestIntegration_Redact/victorops
--- PASS: TestIntegration_Redact (0.00s)
--- PASS: TestIntegration_Redact/jira (0.00s)
--- PASS: TestIntegration_Redact/mqtt (0.00s)
--- PASS: TestIntegration_Redact/slack (0.00s)
--- PASS: TestIntegration_Redact/teams (0.00s)
--- PASS: TestIntegration_Redact/wecom (0.00s)
--- PASS: TestIntegration_Redact/prometheus-alertmanager (0.00s)
--- PASS: TestIntegration_Redact/email (0.00s)
--- PASS: TestIntegration_Redact/line (0.00s)
--- PASS: TestIntegration_Redact/opsgenie (0.00s)
--- PASS: TestIntegration_Redact/sns (0.00s)
--- PASS: TestIntegration_Redact/telegram (0.00s)
--- PASS: TestIntegration_Redact/discord (0.00s)
--- PASS: TestIntegration_Redact/pagerduty (0.00s)
--- PASS: TestIntegration_Redact/pushover (0.00s)
--- PASS: TestIntegration_Redact/webhook (0.00s)
--- PASS: TestIntegration_Redact/webex (0.00s)
--- PASS: TestIntegration_Redact/dingding (0.00s)
--- PASS: TestIntegration_Redact/googlechat (0.00s)
--- PASS: TestIntegration_Redact/kafka (0.00s)
--- PASS: TestIntegration_Redact/sensugo (0.00s)
--- PASS: TestIntegration_Redact/threema (0.00s)
--- PASS: TestIntegration_Redact/victorops (0.00s)
=== RUN   TestIntegration_Validate
=== RUN   TestIntegration_Validate/pagerduty
=== RUN   TestIntegration_Validate/pushover
=== RUN   TestIntegration_Validate/webhook
=== RUN   TestIntegration_Validate/webex
=== RUN   TestIntegration_Validate/dingding
=== RUN   TestIntegration_Validate/googlechat
=== RUN   TestIntegration_Validate/kafka
=== RUN   TestIntegration_Validate/sensugo
=== RUN   TestIntegration_Validate/threema
=== RUN   TestIntegration_Validate/victorops
=== RUN   TestIntegration_Validate/jira
=== RUN   TestIntegration_Validate/mqtt
=== RUN   TestIntegration_Validate/slack
=== RUN   TestIntegration_Validate/teams
=== RUN   TestIntegration_Validate/wecom
=== RUN   TestIntegration_Validate/prometheus-alertmanager
=== RUN   TestIntegration_Validate/email
=== RUN   TestIntegration_Validate/line
=== RUN   TestIntegration_Validate/opsgenie
=== RUN   TestIntegration_Validate/sns
=== RUN   TestIntegration_Validate/telegram
=== RUN   TestIntegration_Validate/discord
--- PASS: TestIntegration_Validate (0.01s)
--- PASS: TestIntegration_Validate/pagerduty (0.00s)
--- PASS: TestIntegration_Validate/pushover (0.00s)
--- PASS: TestIntegration_Validate/webhook (0.00s)
--- PASS: TestIntegration_Validate/webex (0.00s)
--- PASS: TestIntegration_Validate/dingding (0.00s)
--- PASS: TestIntegration_Validate/googlechat (0.00s)
--- PASS: TestIntegration_Validate/kafka (0.00s)
--- PASS: TestIntegration_Validate/sensugo (0.00s)
--- PASS: TestIntegration_Validate/threema (0.00s)
--- PASS: TestIntegration_Validate/victorops (0.00s)
--- PASS: TestIntegration_Validate/jira (0.00s)
--- PASS: TestIntegration_Validate/mqtt (0.00s)
--- PASS: TestIntegration_Validate/slack (0.00s)
--- PASS: TestIntegration_Validate/teams (0.00s)
--- PASS: TestIntegration_Validate/wecom (0.00s)
--- PASS: TestIntegration_Validate/prometheus-alertmanager (0.00s)
--- PASS: TestIntegration_Validate/email (0.00s)
--- PASS: TestIntegration_Validate/line (0.00s)
--- PASS: TestIntegration_Validate/opsgenie (0.00s)
--- PASS: TestIntegration_Validate/sns (0.00s)
--- PASS: TestIntegration_Validate/telegram (0.00s)
--- PASS: TestIntegration_Validate/discord (0.00s)
=== RUN   TestIntegration_WithExistingSecureFields
=== RUN   TestIntegration_WithExistingSecureFields/test_receiver
=== RUN   TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[true],_Existing[exists]:_old_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[true],_Existing[missing]:_no_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[false],_Existing[exists]:_new_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[false],_Existing[missing]:_new_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[true],_Existing[exists]:_old_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[true],_Existing[missing]:_no_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[false],_Existing[exists]:_no_value
=== RUN   TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[false],_Existing[missing]:_no_value
--- PASS: TestIntegration_WithExistingSecureFields (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/test_receiver (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[true],_Existing[exists]:_old_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[true],_Existing[missing]:_no_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[false],_Existing[exists]:_new_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[exists],_SecureFields[false],_Existing[missing]:_new_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[true],_Existing[exists]:_old_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[true],_Existing[missing]:_no_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[false],_Existing[exists]:_no_value (0.00s)
--- PASS: TestIntegration_WithExistingSecureFields/Integration[missing],_SecureFields[false],_Existing[missing]:_no_value (0.00s)
=== RUN   TestIntegrationConfig
=== RUN   TestIntegrationConfig/prometheus-alertmanager
=== RUN   TestIntegrationConfig/email
=== RUN   TestIntegrationConfig/line
=== RUN   TestIntegrationConfig/opsgenie
=== RUN   TestIntegrationConfig/sns
=== RUN   TestIntegrationConfig/telegram
=== RUN   TestIntegrationConfig/discord
=== RUN   TestIntegrationConfig/pagerduty
=== RUN   TestIntegrationConfig/pushover
=== RUN   TestIntegrationConfig/webhook
=== RUN   TestIntegrationConfig/webex
=== RUN   TestIntegrationConfig/dingding
=== RUN   TestIntegrationConfig/googlechat
=== RUN   TestIntegrationConfig/kafka
=== RUN   TestIntegrationConfig/sensugo
=== RUN   TestIntegrationConfig/threema
=== RUN   TestIntegrationConfig/victorops
=== RUN   TestIntegrationConfig/jira
=== RUN   TestIntegrationConfig/mqtt
=== RUN   TestIntegrationConfig/slack
=== RUN   TestIntegrationConfig/teams
=== RUN   TestIntegrationConfig/wecom
=== RUN   TestIntegrationConfig/Unknown_type_returns_error
--- PASS: TestIntegrationConfig (0.01s)
--- PASS: TestIntegrationConfig/prometheus-alertmanager (0.00s)
--- PASS: TestIntegrationConfig/email (0.00s)
--- PASS: TestIntegrationConfig/line (0.00s)
--- PASS: TestIntegrationConfig/opsgenie (0.00s)
--- PASS: TestIntegrationConfig/sns (0.00s)
--- PASS: TestIntegrationConfig/telegram (0.00s)
--- PASS: TestIntegrationConfig/discord (0.00s)
--- PASS: TestIntegrationConfig/pagerduty (0.00s)
--- PASS: TestIntegrationConfig/pushover (0.01s)
--- PASS: TestIntegrationConfig/webhook (0.00s)
--- PASS: TestIntegrationConfig/webex (0.00s)
--- PASS: TestIntegrationConfig/dingding (0.00s)
--- PASS: TestIntegrationConfig/googlechat (0.00s)
--- PASS: TestIntegrationConfig/kafka (0.00s)
--- PASS: TestIntegrationConfig/sensugo (0.00s)
--- PASS: TestIntegrationConfig/threema (0.00s)
--- PASS: TestIntegrationConfig/victorops (0.00s)
--- PASS: TestIntegrationConfig/jira (0.00s)
--- PASS: TestIntegrationConfig/mqtt (0.00s)
--- PASS: TestIntegrationConfig/slack (0.00s)
--- PASS: TestIntegrationConfig/teams (0.00s)
--- PASS: TestIntegrationConfig/wecom (0.00s)
--- PASS: TestIntegrationConfig/Unknown_type_returns_error (0.00s)
=== RUN   TestIntegration_SecureFields
=== RUN   TestIntegration_SecureFields/telegram
=== RUN   TestIntegration_SecureFields/telegram/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/telegram/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/discord
=== RUN   TestIntegration_SecureFields/discord/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/discord/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/pagerduty
=== RUN   TestIntegration_SecureFields/pagerduty/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/pagerduty/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/pushover
=== RUN   TestIntegration_SecureFields/pushover/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/pushover/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/webhook
=== RUN   TestIntegration_SecureFields/webhook/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/webhook/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/webex
=== RUN   TestIntegration_SecureFields/webex/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/webex/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/dingding
=== RUN   TestIntegration_SecureFields/dingding/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/dingding/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/googlechat
=== RUN   TestIntegration_SecureFields/googlechat/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/googlechat/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/kafka
=== RUN   TestIntegration_SecureFields/kafka/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/kafka/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/sensugo
=== RUN   TestIntegration_SecureFields/sensugo/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/sensugo/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/threema
=== RUN   TestIntegration_SecureFields/threema/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/threema/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/victorops
=== RUN   TestIntegration_SecureFields/victorops/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/victorops/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/jira
=== RUN   TestIntegration_SecureFields/jira/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/jira/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/mqtt
=== RUN   TestIntegration_SecureFields/mqtt/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/mqtt/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/slack
=== RUN   TestIntegration_SecureFields/slack/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/slack/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/teams
=== RUN   TestIntegration_SecureFields/teams/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/teams/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/wecom
=== RUN   TestIntegration_SecureFields/wecom/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/wecom/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/prometheus-alertmanager
=== RUN   TestIntegration_SecureFields/prometheus-alertmanager/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/prometheus-alertmanager/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/email
=== RUN   TestIntegration_SecureFields/email/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/email/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/line
=== RUN   TestIntegration_SecureFields/line/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/line/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/opsgenie
=== RUN   TestIntegration_SecureFields/opsgenie/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/opsgenie/contains_secret_Settings_not_in_SecureSettings
=== RUN   TestIntegration_SecureFields/sns
=== RUN   TestIntegration_SecureFields/sns/contains_SecureSettings
=== RUN   TestIntegration_SecureFields/sns/contains_secret_Settings_not_in_SecureSettings
--- PASS: TestIntegration_SecureFields (0.01s)
--- PASS: TestIntegration_SecureFields/telegram (0.00s)
--- PASS: TestIntegration_SecureFields/telegram/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/telegram/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/discord (0.00s)
--- PASS: TestIntegration_SecureFields/discord/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/discord/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/pagerduty (0.00s)
--- PASS: TestIntegration_SecureFields/pagerduty/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/pagerduty/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/pushover (0.00s)
--- PASS: TestIntegration_SecureFields/pushover/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/pushover/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/webhook (0.00s)
--- PASS: TestIntegration_SecureFields/webhook/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/webhook/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/webex (0.00s)
--- PASS: TestIntegration_SecureFields/webex/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/webex/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/dingding (0.00s)
--- PASS: TestIntegration_SecureFields/dingding/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/dingding/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/googlechat (0.00s)
--- PASS: TestIntegration_SecureFields/googlechat/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/googlechat/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/kafka (0.00s)
--- PASS: TestIntegration_SecureFields/kafka/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/kafka/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/sensugo (0.00s)
--- PASS: TestIntegration_SecureFields/sensugo/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/sensugo/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/threema (0.00s)
--- PASS: TestIntegration_SecureFields/threema/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/threema/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/victorops (0.00s)
--- PASS: TestIntegration_SecureFields/victorops/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/victorops/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/jira (0.00s)
--- PASS: TestIntegration_SecureFields/jira/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/jira/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/mqtt (0.00s)
--- PASS: TestIntegration_SecureFields/mqtt/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/mqtt/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/slack (0.00s)
--- PASS: TestIntegration_SecureFields/slack/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/slack/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/teams (0.00s)
--- PASS: TestIntegration_SecureFields/teams/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/teams/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/wecom (0.00s)
--- PASS: TestIntegration_SecureFields/wecom/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/wecom/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/prometheus-alertmanager (0.00s)
--- PASS: TestIntegration_SecureFields/prometheus-alertmanager/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/prometheus-alertmanager/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/email (0.00s)
--- PASS: TestIntegration_SecureFields/email/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/email/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/line (0.00s)
--- PASS: TestIntegration_SecureFields/line/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/line/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/opsgenie (0.00s)
--- PASS: TestIntegration_SecureFields/opsgenie/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/opsgenie/contains_secret_Settings_not_in_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/sns (0.00s)
--- PASS: TestIntegration_SecureFields/sns/contains_SecureSettings (0.00s)
--- PASS: TestIntegration_SecureFields/sns/contains_secret_Settings_not_in_SecureSettings (0.00s)
=== RUN   TestReceiver_Fingerprint
=== RUN   TestReceiver_Fingerprint/stable_across_code_changes
=== RUN   TestReceiver_Fingerprint/stable_across_clones
=== RUN   TestReceiver_Fingerprint/stable_across_Version_field_modification
=== RUN   TestReceiver_Fingerprint/unstable_across_field_modification
--- PASS: TestReceiver_Fingerprint (0.00s)
--- PASS: TestReceiver_Fingerprint/stable_across_code_changes (0.00s)
--- PASS: TestReceiver_Fingerprint/stable_across_clones (0.00s)
--- PASS: TestReceiver_Fingerprint/stable_across_Version_field_modification (0.00s)
--- PASS: TestReceiver_Fingerprint/unstable_across_field_modification (0.00s)
=== RUN   TestSilenceGetRuleUID
=== RUN   TestSilenceGetRuleUID/silence_with_no_rule_UID
=== RUN   TestSilenceGetRuleUID/silence_with_rule_UID
=== RUN   TestSilenceGetRuleUID/silence_with_rule_UID_Matcher_but_MatchNotEqual
=== RUN   TestSilenceGetRuleUID/silence_with_rule_UID_Matcher_but_MatchRegexp
=== RUN   TestSilenceGetRuleUID/silence_with_rule_UID_Matcher_but_MatchNotRegexp
--- PASS: TestSilenceGetRuleUID (0.00s)
--- PASS: TestSilenceGetRuleUID/silence_with_no_rule_UID (0.00s)
--- PASS: TestSilenceGetRuleUID/silence_with_rule_UID (0.00s)
--- PASS: TestSilenceGetRuleUID/silence_with_rule_UID_Matcher_but_MatchNotEqual (0.00s)
--- PASS: TestSilenceGetRuleUID/silence_with_rule_UID_Matcher_but_MatchRegexp (0.00s)
--- PASS: TestSilenceGetRuleUID/silence_with_rule_UID_Matcher_but_MatchNotRegexp (0.00s)
=== RUN   TestSilencePermissionSet
=== RUN   TestSilencePermissionSet/Clone
=== RUN   TestSilencePermissionSet/AllSet_+_SilencePermissions
=== RUN   TestSilencePermissionSet/Has
=== RUN   TestSilencePermissionSet/Has/all_false
=== RUN   TestSilencePermissionSet/Has/all_true
=== RUN   TestSilencePermissionSet/Has/mixed
=== RUN   TestSilencePermissionSet/Has/not_set_=_false
--- PASS: TestSilencePermissionSet (0.00s)
--- PASS: TestSilencePermissionSet/Clone (0.00s)
--- PASS: TestSilencePermissionSet/AllSet_+_SilencePermissions (0.00s)
--- PASS: TestSilencePermissionSet/Has (0.00s)
--- PASS: TestSilencePermissionSet/Has/all_false (0.00s)
--- PASS: TestSilencePermissionSet/Has/all_true (0.00s)
--- PASS: TestSilencePermissionSet/Has/mixed (0.00s)
--- PASS: TestSilencePermissionSet/Has/not_set_=_false (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/models	(cached)
=== RUN   TestAlertmanager_newAlertmanager
--- PASS: TestAlertmanager_newAlertmanager (0.22s)
=== RUN   TestAddAutogenConfig
=== RUN   TestAddAutogenConfig/no_settings_or_receivers,_no_change
=== RUN   TestAddAutogenConfig/no_settings_but_some_receivers,_add_default_routes_for_receivers
=== RUN   TestAddAutogenConfig/settings_with_no_custom_options,_add_default_routes_only
=== RUN   TestAddAutogenConfig/settings_with_custom_options,_add_option-specific_routes
=== RUN   TestAddAutogenConfig/settings_with_custom_options_and_nil_groupBy,_groupBy_should_inherit_from_parent
=== RUN   TestAddAutogenConfig/settings_with_nil_groupBy_should_have_different_fingerprint_than_default_groupBy
=== RUN   TestAddAutogenConfig/settings_with_incomplete_required_groupBy_labels_will_be_completed_and_should_have_the_same_fingerprint
=== RUN   TestAddAutogenConfig/when_skipInvalid=true,_invalid_settings_are_skipped
=== RUN   TestAddAutogenConfig/when_skipInvalid=false,_invalid_receiver_throws_error
=== RUN   TestAddAutogenConfig/when_skipInvalid=false,_invalid_settings_throws_error
=== RUN   TestAddAutogenConfig/when_skipInvalid=false,_invalid_settings_throws_error#01
--- PASS: TestAddAutogenConfig (0.00s)
--- PASS: TestAddAutogenConfig/no_settings_or_receivers,_no_change (0.00s)
--- PASS: TestAddAutogenConfig/no_settings_but_some_receivers,_add_default_routes_for_receivers (0.00s)
--- PASS: TestAddAutogenConfig/settings_with_no_custom_options,_add_default_routes_only (0.00s)
--- PASS: TestAddAutogenConfig/settings_with_custom_options,_add_option-specific_routes (0.00s)
--- PASS: TestAddAutogenConfig/settings_with_custom_options_and_nil_groupBy,_groupBy_should_inherit_from_parent (0.00s)
--- PASS: TestAddAutogenConfig/settings_with_nil_groupBy_should_have_different_fingerprint_than_default_groupBy (0.00s)
--- PASS: TestAddAutogenConfig/settings_with_incomplete_required_groupBy_labels_will_be_completed_and_should_have_the_same_fingerprint (0.00s)
--- PASS: TestAddAutogenConfig/when_skipInvalid=true,_invalid_settings_are_skipped (0.00s)
--- PASS: TestAddAutogenConfig/when_skipInvalid=false,_invalid_receiver_throws_error (0.00s)
--- PASS: TestAddAutogenConfig/when_skipInvalid=false,_invalid_settings_throws_error (0.00s)
--- PASS: TestAddAutogenConfig/when_skipInvalid=false,_invalid_settings_throws_error#01 (0.00s)
=== RUN   TestPostableGrafanaReceiverToGrafanaIntegrationConfig
--- PASS: TestPostableGrafanaReceiverToGrafanaIntegrationConfig (0.00s)
=== RUN   TestPostableApiReceiverToApiReceiver
=== RUN   TestPostableApiReceiverToApiReceiver/returns_empty_when_no_receivers
=== RUN   TestPostableApiReceiverToApiReceiver/converts_receivers
--- PASS: TestPostableApiReceiverToApiReceiver (0.00s)
--- PASS: TestPostableApiReceiverToApiReceiver/returns_empty_when_no_receivers (0.00s)
--- PASS: TestPostableApiReceiverToApiReceiver/converts_receivers (0.00s)
=== RUN   TestPostableApiAlertingConfigToApiReceivers
=== RUN   TestPostableApiAlertingConfigToApiReceivers/returns_empty_when_no_receivers
--- PASS: TestPostableApiAlertingConfigToApiReceivers (0.00s)
--- PASS: TestPostableApiAlertingConfigToApiReceivers/returns_empty_when_no_receivers (0.00s)
=== RUN   TestLoad
=== RUN   TestLoad/with_a_valid_config_and_template
=== RUN   TestLoad/with_an_empty_configuration,_it_is_not_valid.
--- PASS: TestLoad (0.00s)
--- PASS: TestLoad/with_a_valid_config_and_template (0.00s)
--- PASS: TestLoad/with_an_empty_configuration,_it_is_not_valid. (0.00s)
=== RUN   TestEmailNotifierIntegration
=== RUN   TestEmailNotifierIntegration/single_alert_with_templated_message
=== RUN   TestEmailNotifierIntegration/multiple_alerts_with_templated_message
=== RUN   TestEmailNotifierIntegration/empty_message_with_alerts_uses_default_template_content
=== RUN   TestEmailNotifierIntegration/message_containing_HTML_gets_HTMLencoded
=== RUN   TestEmailNotifierIntegration/single_alert_with_templated_subject
--- PASS: TestEmailNotifierIntegration (0.01s)
--- PASS: TestEmailNotifierIntegration/single_alert_with_templated_message (0.00s)
--- PASS: TestEmailNotifierIntegration/multiple_alerts_with_templated_message (0.00s)
--- PASS: TestEmailNotifierIntegration/empty_message_with_alerts_uses_default_template_content (0.00s)
--- PASS: TestEmailNotifierIntegration/message_containing_HTML_gets_HTMLencoded (0.00s)
--- PASS: TestEmailNotifierIntegration/single_alert_with_templated_subject (0.00s)
=== RUN   TestFileStore_Silences
--- PASS: TestFileStore_Silences (0.00s)
=== RUN   TestFileStore_NotificationLog
--- PASS: TestFileStore_NotificationLog (0.00s)
=== RUN   TestGetImage
=== RUN   TestGetImage/Given_existing_raw_token,_expect_image
=== RUN   TestGetImage/Given_existing_token_and_url,_expect_image
=== RUN   TestGetImage/Given_existing_with_just_url,_expect_nil
=== RUN   TestGetImage/Given_missing_raw_token,_expect_nil
=== RUN   TestGetImage/Given_image_with_Path,_expect_RawData
=== RUN   TestGetImage/Given_image_with_Path_but_file_doesn't_exist,_expect_RawData_error
=== RUN   TestGetImage/Given_image_without_Path,_expect_RawData_error
--- PASS: TestGetImage (0.00s)
--- PASS: TestGetImage/Given_existing_raw_token,_expect_image (0.00s)
--- PASS: TestGetImage/Given_existing_token_and_url,_expect_image (0.00s)
--- PASS: TestGetImage/Given_existing_with_just_url,_expect_nil (0.00s)
--- PASS: TestGetImage/Given_missing_raw_token,_expect_nil (0.00s)
--- PASS: TestGetImage/Given_image_with_Path,_expect_RawData (0.00s)
--- PASS: TestGetImage/Given_image_with_Path_but_file_doesn't_exist,_expect_RawData_error (0.00s)
--- PASS: TestGetImage/Given_image_without_Path,_expect_RawData_error (0.00s)
=== RUN   TestMultiOrgAlertmanager_SyncAlertmanagersForOrgs
--- PASS: TestMultiOrgAlertmanager_SyncAlertmanagersForOrgs (0.01s)
=== RUN   TestMultiOrgAlertmanager_SyncAlertmanagersForOrgsWithFailures
--- PASS: TestMultiOrgAlertmanager_SyncAlertmanagersForOrgsWithFailures (0.01s)
=== RUN   TestMultiOrgAlertmanager_AlertmanagerFor
--- PASS: TestMultiOrgAlertmanager_AlertmanagerFor (0.01s)
=== RUN   TestMultiOrgAlertmanager_ActivateHistoricalConfiguration
--- PASS: TestMultiOrgAlertmanager_ActivateHistoricalConfiguration (0.01s)
=== RUN   TestMultiOrgAlertmanager_Silences
--- PASS: TestMultiOrgAlertmanager_Silences (0.01s)
=== RUN   TestReceiverService_GetReceiver
=== RUN   TestReceiverService_GetReceiver/service_gets_receiver_from_AM_config
=== RUN   TestReceiverService_GetReceiver/service_returns_error_when_receiver_does_not_exist
--- PASS: TestReceiverService_GetReceiver (0.01s)
--- PASS: TestReceiverService_GetReceiver/service_gets_receiver_from_AM_config (0.00s)
--- PASS: TestReceiverService_GetReceiver/service_returns_error_when_receiver_does_not_exist (0.00s)
=== RUN   TestReceiverService_GetReceivers
=== RUN   TestReceiverService_GetReceivers/service_gets_receivers_from_AM_config
=== RUN   TestReceiverService_GetReceivers/service_filters_receivers_by_name
--- PASS: TestReceiverService_GetReceivers (0.01s)
--- PASS: TestReceiverService_GetReceivers/service_gets_receivers_from_AM_config (0.00s)
--- PASS: TestReceiverService_GetReceivers/service_filters_receivers_by_name (0.00s)
=== RUN   TestReceiverService_DecryptRedact
=== RUN   TestReceiverService_DecryptRedact/service_redacts_receivers_by_default_single
=== RUN   TestReceiverService_DecryptRedact/service_redacts_receivers_by_default_multi
=== RUN   TestReceiverService_DecryptRedact/service_returns_error_when_trying_to_decrypt_without_permission_single
=== RUN   TestReceiverService_DecryptRedact/service_returns_error_when_trying_to_decrypt_without_permission_multi
=== RUN   TestReceiverService_DecryptRedact/service_returns_error_if_user_is_nil_and_decrypt_is_true_single
=== RUN   TestReceiverService_DecryptRedact/service_returns_error_if_user_is_nil_and_decrypt_is_true_multi
=== RUN   TestReceiverService_DecryptRedact/service_decrypts_receivers_with_permission_single
=== RUN   TestReceiverService_DecryptRedact/service_decrypts_receivers_with_permission_multi
--- PASS: TestReceiverService_DecryptRedact (0.04s)
--- PASS: TestReceiverService_DecryptRedact/service_redacts_receivers_by_default_single (0.01s)
--- PASS: TestReceiverService_DecryptRedact/service_redacts_receivers_by_default_multi (0.01s)
--- PASS: TestReceiverService_DecryptRedact/service_returns_error_when_trying_to_decrypt_without_permission_single (0.00s)
--- PASS: TestReceiverService_DecryptRedact/service_returns_error_when_trying_to_decrypt_without_permission_multi (0.00s)
--- PASS: TestReceiverService_DecryptRedact/service_returns_error_if_user_is_nil_and_decrypt_is_true_single (0.00s)
--- PASS: TestReceiverService_DecryptRedact/service_returns_error_if_user_is_nil_and_decrypt_is_true_multi (0.00s)
--- PASS: TestReceiverService_DecryptRedact/service_decrypts_receivers_with_permission_single (0.01s)
--- PASS: TestReceiverService_DecryptRedact/service_decrypts_receivers_with_permission_multi (0.01s)
=== RUN   TestReceiverService_Delete
=== RUN   TestReceiverService_Delete/service_deletes_receiver
=== RUN   TestReceiverService_Delete/service_deletes_receiver_with_multiple_integrations
=== RUN   TestReceiverService_Delete/service_deletes_receiver_with_provenance
=== RUN   TestReceiverService_Delete/non-existing_receiver_doesn't_fail
=== RUN   TestReceiverService_Delete/delete_receiver_used_by_route_fails
=== RUN   TestReceiverService_Delete/delete_receiver_used_by_rule_fails
=== RUN   TestReceiverService_Delete/delete_provisioning_provenance_fails_when_caller_is_ProvenanceNone
=== RUN   TestReceiverService_Delete/delete_provisioning_provenance_fails_when_caller_is_a_different_type
=== RUN   TestReceiverService_Delete/delete_receiver_with_optimistic_version_mismatch_fails
--- PASS: TestReceiverService_Delete (0.02s)
--- PASS: TestReceiverService_Delete/service_deletes_receiver (0.00s)
--- PASS: TestReceiverService_Delete/service_deletes_receiver_with_multiple_integrations (0.00s)
--- PASS: TestReceiverService_Delete/service_deletes_receiver_with_provenance (0.00s)
--- PASS: TestReceiverService_Delete/non-existing_receiver_doesn't_fail (0.00s)
--- PASS: TestReceiverService_Delete/delete_receiver_used_by_route_fails (0.00s)
--- PASS: TestReceiverService_Delete/delete_receiver_used_by_rule_fails (0.00s)
--- PASS: TestReceiverService_Delete/delete_provisioning_provenance_fails_when_caller_is_ProvenanceNone (0.00s)
--- PASS: TestReceiverService_Delete/delete_provisioning_provenance_fails_when_caller_is_a_different_type (0.00s)
--- PASS: TestReceiverService_Delete/delete_receiver_with_optimistic_version_mismatch_fails (0.00s)
=== RUN   TestReceiverService_Create
=== RUN   TestReceiverService_Create/service_creates_receiver
=== RUN   TestReceiverService_Create/service_creates_receiver_with_multiple_integrations
=== RUN   TestReceiverService_Create/service_creates_receiver_with_provenance
=== RUN   TestReceiverService_Create/existing_receiver_fails
=== RUN   TestReceiverService_Create/create_integration_with_empty_UID_generates_a_new_UID
=== RUN   TestReceiverService_Create/create_integration_with_invalid_UID_fails
=== RUN   TestReceiverService_Create/create_integration_with_existing_UID_fails
=== RUN   TestReceiverService_Create/create_with_invalid_integration_fails
=== RUN   TestReceiverService_Create/create_integration_with_no_normal_settings_should_not_store_nil_settings
--- PASS: TestReceiverService_Create (0.01s)
--- PASS: TestReceiverService_Create/service_creates_receiver (0.00s)
--- PASS: TestReceiverService_Create/service_creates_receiver_with_multiple_integrations (0.00s)
--- PASS: TestReceiverService_Create/service_creates_receiver_with_provenance (0.00s)
--- PASS: TestReceiverService_Create/existing_receiver_fails (0.00s)
--- PASS: TestReceiverService_Create/create_integration_with_empty_UID_generates_a_new_UID (0.00s)
--- PASS: TestReceiverService_Create/create_integration_with_invalid_UID_fails (0.00s)
--- PASS: TestReceiverService_Create/create_integration_with_existing_UID_fails (0.00s)
--- PASS: TestReceiverService_Create/create_with_invalid_integration_fails (0.00s)
--- PASS: TestReceiverService_Create/create_integration_with_no_normal_settings_should_not_store_nil_settings (0.00s)
=== RUN   TestReceiverService_Update
=== RUN   TestReceiverService_Update/copies_existing_secure_fields
=== RUN   TestReceiverService_Update/encrypts_previously_unencrypted_secure_fields
=== RUN   TestReceiverService_Update/encrypts_previously_unencrypted_secure_fields_when_passed_in_as_secureFields
=== RUN   TestReceiverService_Update/doesn't_copy_existing_unsecure_fields
=== RUN   TestReceiverService_Update/creates_new_provenance_when_integration_is_added
=== RUN   TestReceiverService_Update/deletes_old_provenance_when_integration_is_removed
=== RUN   TestReceiverService_Update/changing_provenance_from_something_to_None_fails
=== RUN   TestReceiverService_Update/changing_provenance_from_one_type_to_another_fails
=== RUN   TestReceiverService_Update/update_receiver_with_optimistic_version_mismatch_fails
=== RUN   TestReceiverService_Update/update_receiver_that_doesn't_exist_fails
=== RUN   TestReceiverService_Update/update_that_adds_new_integration_generates_a_new_UID
=== RUN   TestReceiverService_Update/update_with_integration_that_has_a_UID_that_already_exists_fails
=== RUN   TestReceiverService_Update/update_with_invalid_integration_fails
--- PASS: TestReceiverService_Update (0.02s)
--- PASS: TestReceiverService_Update/copies_existing_secure_fields (0.00s)
--- PASS: TestReceiverService_Update/encrypts_previously_unencrypted_secure_fields (0.00s)
--- PASS: TestReceiverService_Update/encrypts_previously_unencrypted_secure_fields_when_passed_in_as_secureFields (0.00s)
--- PASS: TestReceiverService_Update/doesn't_copy_existing_unsecure_fields (0.00s)
--- PASS: TestReceiverService_Update/creates_new_provenance_when_integration_is_added (0.00s)
--- PASS: TestReceiverService_Update/deletes_old_provenance_when_integration_is_removed (0.00s)
--- PASS: TestReceiverService_Update/changing_provenance_from_something_to_None_fails (0.00s)
--- PASS: TestReceiverService_Update/changing_provenance_from_one_type_to_another_fails (0.00s)
--- PASS: TestReceiverService_Update/update_receiver_with_optimistic_version_mismatch_fails (0.00s)
--- PASS: TestReceiverService_Update/update_receiver_that_doesn't_exist_fails (0.00s)
--- PASS: TestReceiverService_Update/update_that_adds_new_integration_generates_a_new_UID (0.00s)
--- PASS: TestReceiverService_Update/update_with_integration_that_has_a_UID_that_already_exists_fails (0.00s)
--- PASS: TestReceiverService_Update/update_with_invalid_integration_fails (0.00s)
=== RUN   TestReceiverService_UpdateReceiverName
=== RUN   TestReceiverService_UpdateReceiverName/renames_receiver_and_all_its_dependencies
=== RUN   TestReceiverService_UpdateReceiverName/returns_ErrReceiverDependentResourcesProvenance_if_route_has_different_provenance_status
=== RUN   TestReceiverService_UpdateReceiverName/returns_ErrReceiverDependentResourcesProvenance_if_rules_have_different_provenance_status
--- PASS: TestReceiverService_UpdateReceiverName (0.01s)
--- PASS: TestReceiverService_UpdateReceiverName/renames_receiver_and_all_its_dependencies (0.00s)
--- PASS: TestReceiverService_UpdateReceiverName/returns_ErrReceiverDependentResourcesProvenance_if_route_has_different_provenance_status (0.00s)
--- PASS: TestReceiverService_UpdateReceiverName/returns_ErrReceiverDependentResourcesProvenance_if_rules_have_different_provenance_status (0.00s)
=== RUN   TestReceiverServiceAC_Read
=== RUN   TestReceiverServiceAC_Read/not_authorized_without_permissions
=== RUN   TestReceiverServiceAC_Read/not_authorized_without_receivers_scope
=== RUN   TestReceiverServiceAC_Read/global_legacy_permissions_-_read_all
=== RUN   TestReceiverServiceAC_Read/global_receivers_permissions_-_read_all
=== RUN   TestReceiverServiceAC_Read/single_receivers_permissions_-_read_some
=== RUN   TestReceiverServiceAC_Read/global_receivers_secret_permissions_-_read_all
=== RUN   TestReceiverServiceAC_Read/single_receivers_secret_permissions_-_read_some
=== RUN   TestReceiverServiceAC_Read/provisioning_read_applies_to_only_provisioning
=== RUN   TestReceiverServiceAC_Read/provisioning_read_secrets_applies_to_only_provisioning
--- PASS: TestReceiverServiceAC_Read (0.04s)
--- PASS: TestReceiverServiceAC_Read/not_authorized_without_permissions (0.00s)
--- PASS: TestReceiverServiceAC_Read/not_authorized_without_receivers_scope (0.00s)
--- PASS: TestReceiverServiceAC_Read/global_legacy_permissions_-_read_all (0.00s)
--- PASS: TestReceiverServiceAC_Read/global_receivers_permissions_-_read_all (0.00s)
--- PASS: TestReceiverServiceAC_Read/single_receivers_permissions_-_read_some (0.00s)
--- PASS: TestReceiverServiceAC_Read/global_receivers_secret_permissions_-_read_all (0.01s)
--- PASS: TestReceiverServiceAC_Read/single_receivers_secret_permissions_-_read_some (0.00s)
--- PASS: TestReceiverServiceAC_Read/provisioning_read_applies_to_only_provisioning (0.00s)
--- PASS: TestReceiverServiceAC_Read/provisioning_read_secrets_applies_to_only_provisioning (0.00s)
=== RUN   TestReceiverServiceAC_Create
=== RUN   TestReceiverServiceAC_Create/not_authorized_without_permissions
=== RUN   TestReceiverServiceAC_Create/global_legacy_permissions_-_authorized_without_read
=== RUN   TestReceiverServiceAC_Create/receivers_permissions_-_authorized_without_read
=== RUN   TestReceiverServiceAC_Create/global_legacy_permissions_-_create_all
=== RUN   TestReceiverServiceAC_Create/receivers_permissions_-_create_all
=== RUN   TestReceiverServiceAC_Create/receivers_mixed_global_read_permissions_-_create_all
--- PASS: TestReceiverServiceAC_Create (0.01s)
--- PASS: TestReceiverServiceAC_Create/not_authorized_without_permissions (0.00s)
--- PASS: TestReceiverServiceAC_Create/global_legacy_permissions_-_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Create/receivers_permissions_-_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Create/global_legacy_permissions_-_create_all (0.00s)
--- PASS: TestReceiverServiceAC_Create/receivers_permissions_-_create_all (0.00s)
--- PASS: TestReceiverServiceAC_Create/receivers_mixed_global_read_permissions_-_create_all (0.01s)
=== RUN   TestReceiverServiceAC_Update
=== RUN   TestReceiverServiceAC_Update/not_authorized_without_permissions
=== RUN   TestReceiverServiceAC_Update/not_authorized_without_receivers_scope
=== RUN   TestReceiverServiceAC_Update/global_legacy_permissions_-_not_authorized_without_read
=== RUN   TestReceiverServiceAC_Update/global_receivers_permissions_-_not_authorized_without_read
=== RUN   TestReceiverServiceAC_Update/single_receivers_permissions_-_not_authorized_without_read
=== RUN   TestReceiverServiceAC_Update/global_legacy_permissions_-_update_all
=== RUN   TestReceiverServiceAC_Update/global_receivers_permissions_-_update_all
=== RUN   TestReceiverServiceAC_Update/single_receivers_permissions_-_update_some
=== RUN   TestReceiverServiceAC_Update/single_receivers_mixed_read_permissions_-_update_some
=== RUN   TestReceiverServiceAC_Update/single_receivers_mixed_global_read_permissions_-_update_some
--- PASS: TestReceiverServiceAC_Update (0.04s)
--- PASS: TestReceiverServiceAC_Update/not_authorized_without_permissions (0.00s)
--- PASS: TestReceiverServiceAC_Update/not_authorized_without_receivers_scope (0.00s)
--- PASS: TestReceiverServiceAC_Update/global_legacy_permissions_-_not_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Update/global_receivers_permissions_-_not_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Update/single_receivers_permissions_-_not_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Update/global_legacy_permissions_-_update_all (0.00s)
--- PASS: TestReceiverServiceAC_Update/global_receivers_permissions_-_update_all (0.00s)
--- PASS: TestReceiverServiceAC_Update/single_receivers_permissions_-_update_some (0.00s)
--- PASS: TestReceiverServiceAC_Update/single_receivers_mixed_read_permissions_-_update_some (0.01s)
--- PASS: TestReceiverServiceAC_Update/single_receivers_mixed_global_read_permissions_-_update_some (0.00s)
=== RUN   TestReceiverServiceAC_Delete
=== RUN   TestReceiverServiceAC_Delete/not_authorized_without_permissions
=== RUN   TestReceiverServiceAC_Delete/not_authorized_without_receivers_scope
=== RUN   TestReceiverServiceAC_Delete/global_legacy_permissions_-_not_authorized_without_read
=== RUN   TestReceiverServiceAC_Delete/global_receivers_permissions_-_not_authorized_without_read
=== RUN   TestReceiverServiceAC_Delete/single_receivers_permissions_-_not_authorized_without_read
=== RUN   TestReceiverServiceAC_Delete/global_legacy_permissions_-_delete_all
=== RUN   TestReceiverServiceAC_Delete/global_receivers_permissions_-_delete_all
=== RUN   TestReceiverServiceAC_Delete/single_receivers_permissions_-_delete_some
=== RUN   TestReceiverServiceAC_Delete/single_receivers_mixed_read_permissions_-_delete_some
=== RUN   TestReceiverServiceAC_Delete/single_receivers_mixed_global_read_permissions_-_delete_some
--- PASS: TestReceiverServiceAC_Delete (0.03s)
--- PASS: TestReceiverServiceAC_Delete/not_authorized_without_permissions (0.00s)
--- PASS: TestReceiverServiceAC_Delete/not_authorized_without_receivers_scope (0.00s)
--- PASS: TestReceiverServiceAC_Delete/global_legacy_permissions_-_not_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Delete/global_receivers_permissions_-_not_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Delete/single_receivers_permissions_-_not_authorized_without_read (0.00s)
--- PASS: TestReceiverServiceAC_Delete/global_legacy_permissions_-_delete_all (0.00s)
--- PASS: TestReceiverServiceAC_Delete/global_receivers_permissions_-_delete_all (0.00s)
--- PASS: TestReceiverServiceAC_Delete/single_receivers_permissions_-_delete_some (0.01s)
--- PASS: TestReceiverServiceAC_Delete/single_receivers_mixed_read_permissions_-_delete_some (0.00s)
--- PASS: TestReceiverServiceAC_Delete/single_receivers_mixed_global_read_permissions_-_delete_some (0.00s)
=== RUN   TestReceiverService_InUseMetadata
=== RUN   TestReceiverService_InUseMetadata/mixed_metadata
--- PASS: TestReceiverService_InUseMetadata (0.00s)
--- PASS: TestReceiverService_InUseMetadata/mixed_metadata (0.00s)
=== RUN   TestNewRedisChannel
--- PASS: TestNewRedisChannel (0.00s)
=== RUN   TestBroadcastAndHandleMessages
redis_channel_test.go:32:
--- SKIP: TestBroadcastAndHandleMessages (0.00s)
=== RUN   TestNewRedisPeerClusterMode
redis: 2025/04/15 08:37:36 pubsub.go:168: redis: discarding bad PubSub connection: EOF
redis: 2025/04/15 08:37:36 pubsub.go:168: redis: discarding bad PubSub connection: EOF
--- PASS: TestNewRedisPeerClusterMode (0.05s)
=== RUN   TestNewRedisPeerWithTLS
redis: 2025/04/15 08:37:36 pubsub.go:168: redis: discarding bad PubSub connection: EOF
redis: 2025/04/15 08:37:36 pubsub.go:168: redis: discarding bad PubSub connection: EOF
--- PASS: TestNewRedisPeerWithTLS (0.04s)
=== RUN   TestNewRedisPeerWithMutualTLS
redis: 2025/04/15 08:37:36 pubsub.go:168: redis: discarding bad PubSub connection: EOF
redis: 2025/04/15 08:37:36 pubsub.go:168: redis: discarding bad PubSub connection: EOF
--- PASS: TestNewRedisPeerWithMutualTLS (0.07s)
=== RUN   TestWithAccessControlMetadata
=== RUN   TestWithAccessControlMetadata/Attach_permissions_to_silences
--- PASS: TestWithAccessControlMetadata (0.00s)
--- PASS: TestWithAccessControlMetadata/Attach_permissions_to_silences (0.00s)
=== RUN   TestWithRuleMetadata
=== RUN   TestWithRuleMetadata/Attach_rule_metadata_to_silences
=== RUN   TestWithRuleMetadata/Don't_attach_full_rule_metadata_if_no_access_or_global
=== RUN   TestWithRuleMetadata/Don't_check_same_namespace_access_more_than_once
--- PASS: TestWithRuleMetadata (0.00s)
--- PASS: TestWithRuleMetadata/Attach_rule_metadata_to_silences (0.00s)
--- PASS: TestWithRuleMetadata/Don't_attach_full_rule_metadata_if_no_access_or_global (0.00s)
--- PASS: TestWithRuleMetadata/Don't_check_same_namespace_access_more_than_once (0.00s)
=== RUN   TestUpdateSilence
=== RUN   TestUpdateSilence/Updates_to_general_silences_allowed
=== RUN   TestUpdateSilence/Updates_to_general_silences_that_add_rule_uid_matcher_error
=== RUN   TestUpdateSilence/Updates_that_change_rule_uid_matcher_error
=== RUN   TestUpdateSilence/Updates_that_don't_change_rule_uid_matcher_are_allowed
--- PASS: TestUpdateSilence (0.00s)
--- PASS: TestUpdateSilence/Updates_to_general_silences_allowed (0.00s)
--- PASS: TestUpdateSilence/Updates_to_general_silences_that_add_rule_uid_matcher_error (0.00s)
--- PASS: TestUpdateSilence/Updates_that_change_rule_uid_matcher_error (0.00s)
--- PASS: TestUpdateSilence/Updates_that_don't_change_rule_uid_matcher_are_allowed (0.00s)
=== RUN   TestTemplateDefaultData
=== RUN   TestTemplateDefaultData/check_various_extended_data
=== RUN   TestTemplateDefaultData/AlertNameLabel
=== RUN   TestTemplateDefaultData/FolderTitleLabel
=== RUN   TestTemplateDefaultData/ValuesAnnotation
=== RUN   TestTemplateDefaultData/ValueStringAnnotation
=== RUN   TestTemplateDefaultData/DashboardURL_generation_contains_DashboardUIDAnnotation_and_OrgIDAnnotation_
=== RUN   TestTemplateDefaultData/PanelURL_generation_contains_DashboardUIDAnnotation,_PanelIDAnnotation,_and_OrgIDAnnotation_
=== RUN   TestTemplateDefaultData/GeneratorURL_generation_
=== RUN   TestTemplateDefaultData/Alerts_scoped_templated_
=== RUN   TestTemplateDefaultData/Alert_scoped_templated_
=== RUN   TestTemplateDefaultData/DashboardURL_generation_contains_from_and_to_time
=== RUN   TestTemplateDefaultData/PanelURL_generation_contains_from_and_to_time_
--- PASS: TestTemplateDefaultData (0.02s)
--- PASS: TestTemplateDefaultData/check_various_extended_data (0.00s)
--- PASS: TestTemplateDefaultData/AlertNameLabel (0.00s)
--- PASS: TestTemplateDefaultData/FolderTitleLabel (0.00s)
--- PASS: TestTemplateDefaultData/ValuesAnnotation (0.00s)
--- PASS: TestTemplateDefaultData/ValueStringAnnotation (0.00s)
--- PASS: TestTemplateDefaultData/DashboardURL_generation_contains_DashboardUIDAnnotation_and_OrgIDAnnotation_ (0.00s)
--- PASS: TestTemplateDefaultData/PanelURL_generation_contains_DashboardUIDAnnotation,_PanelIDAnnotation,_and_OrgIDAnnotation_ (0.00s)
--- PASS: TestTemplateDefaultData/GeneratorURL_generation_ (0.00s)
--- PASS: TestTemplateDefaultData/Alerts_scoped_templated_ (0.00s)
--- PASS: TestTemplateDefaultData/Alert_scoped_templated_ (0.00s)
--- PASS: TestTemplateDefaultData/DashboardURL_generation_contains_from_and_to_time (0.00s)
--- PASS: TestTemplateDefaultData/PanelURL_generation_contains_from_and_to_time_ (0.00s)
=== RUN   TestInvalidReceiverError_Error
--- PASS: TestInvalidReceiverError_Error (0.00s)
=== RUN   TestReceiverTimeoutError_Error
--- PASS: TestReceiverTimeoutError_Error (0.00s)
=== RUN   TestProcessNotifierError
=== RUN   TestProcessNotifierError/assert_ReceiverTimeoutError_is_returned_for_context_deadline_exceeded
=== RUN   TestProcessNotifierError/assert_ReceiverTimeoutError_is_returned_for_*url.Error_timeout
=== RUN   TestProcessNotifierError/assert_unknown_error_is_returned_unmodified
--- PASS: TestProcessNotifierError (0.00s)
--- PASS: TestProcessNotifierError/assert_ReceiverTimeoutError_is_returned_for_context_deadline_exceeded (0.00s)
--- PASS: TestProcessNotifierError/assert_ReceiverTimeoutError_is_returned_for_*url.Error_timeout (0.00s)
--- PASS: TestProcessNotifierError/assert_unknown_error_is_returned_unmodified (0.00s)
=== RUN   TestMultiorgAlertmanager_RemoteSecondaryMode
--- PASS: TestMultiorgAlertmanager_RemoteSecondaryMode (10.21s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/notifier	11.423s
?   	github.com/grafana/grafana/pkg/services/ngalert/notifier/alertmanager_mock	[no test files]
=== RUN   TestGetSecretKeysForContactPointType
=== RUN   TestGetSecretKeysForContactPointType/dingding
=== RUN   TestGetSecretKeysForContactPointType/kafka
=== RUN   TestGetSecretKeysForContactPointType/email
=== RUN   TestGetSecretKeysForContactPointType/pagerduty
=== RUN   TestGetSecretKeysForContactPointType/victorops
=== RUN   TestGetSecretKeysForContactPointType/oncall
=== RUN   TestGetSecretKeysForContactPointType/pushover
=== RUN   TestGetSecretKeysForContactPointType/slack
=== RUN   TestGetSecretKeysForContactPointType/sensugo
=== RUN   TestGetSecretKeysForContactPointType/teams
=== RUN   TestGetSecretKeysForContactPointType/telegram
=== RUN   TestGetSecretKeysForContactPointType/webhook
=== RUN   TestGetSecretKeysForContactPointType/wecom
=== RUN   TestGetSecretKeysForContactPointType/prometheus-alertmanager
=== RUN   TestGetSecretKeysForContactPointType/discord
=== RUN   TestGetSecretKeysForContactPointType/googlechat
=== RUN   TestGetSecretKeysForContactPointType/LINE
=== RUN   TestGetSecretKeysForContactPointType/threema
=== RUN   TestGetSecretKeysForContactPointType/opsgenie
=== RUN   TestGetSecretKeysForContactPointType/webex
=== RUN   TestGetSecretKeysForContactPointType/sns
=== RUN   TestGetSecretKeysForContactPointType/mqtt
=== RUN   TestGetSecretKeysForContactPointType/jira
--- PASS: TestGetSecretKeysForContactPointType (0.01s)
--- PASS: TestGetSecretKeysForContactPointType/dingding (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/kafka (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/email (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/pagerduty (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/victorops (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/oncall (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/pushover (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/slack (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/sensugo (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/teams (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/telegram (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/webhook (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/wecom (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/prometheus-alertmanager (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/discord (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/googlechat (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/LINE (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/threema (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/opsgenie (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/webex (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/sns (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/mqtt (0.00s)
--- PASS: TestGetSecretKeysForContactPointType/jira (0.00s)
=== RUN   Test_getSecretFields
=== RUN   Test_getSecretFields/No_secure_fields
=== RUN   Test_getSecretFields/Single_secure_field
=== RUN   Test_getSecretFields/Secure_field_in_subform
--- PASS: Test_getSecretFields (0.00s)
--- PASS: Test_getSecretFields/No_secure_fields (0.00s)
--- PASS: Test_getSecretFields/Single_secure_field (0.00s)
--- PASS: Test_getSecretFields/Secure_field_in_subform (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/notifier/channels_config	(cached)
=== RUN   TestAlertmanagerConfigStoreGet
=== RUN   TestAlertmanagerConfigStoreGet/should_read_the_latest_config_for_giving_organization
=== RUN   TestAlertmanagerConfigStoreGet/propagate_errors
=== RUN   TestAlertmanagerConfigStoreGet/propagate_errors/when_underlying_store_fails
=== RUN   TestAlertmanagerConfigStoreGet/propagate_errors/return_ErrNoAlertmanagerConfiguration_config_does_not_exist
=== RUN   TestAlertmanagerConfigStoreGet/propagate_errors/when_config_cannot_be_unmarshalled
--- PASS: TestAlertmanagerConfigStoreGet (0.00s)
--- PASS: TestAlertmanagerConfigStoreGet/should_read_the_latest_config_for_giving_organization (0.00s)
--- PASS: TestAlertmanagerConfigStoreGet/propagate_errors (0.00s)
--- PASS: TestAlertmanagerConfigStoreGet/propagate_errors/when_underlying_store_fails (0.00s)
--- PASS: TestAlertmanagerConfigStoreGet/propagate_errors/return_ErrNoAlertmanagerConfiguration_config_does_not_exist (0.00s)
--- PASS: TestAlertmanagerConfigStoreGet/propagate_errors/when_config_cannot_be_unmarshalled (0.00s)
=== RUN   TestAlertmanagerConfigStoreSave
=== RUN   TestAlertmanagerConfigStoreSave/should_save_the_config_to_store
=== RUN   TestAlertmanagerConfigStoreSave/propagates_errors_when_underlying_storage_returns_error
--- PASS: TestAlertmanagerConfigStoreSave (0.00s)
--- PASS: TestAlertmanagerConfigStoreSave/should_save_the_config_to_store (0.00s)
--- PASS: TestAlertmanagerConfigStoreSave/propagates_errors_when_underlying_storage_returns_error (0.00s)
=== RUN   TestReceiverInUse
--- PASS: TestReceiverInUse (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/notifier/legacy_storage	(cached)
=== RUN   TestPrometheusRulesToGrafana
=== RUN   TestPrometheusRulesToGrafana/valid_rule_group
=== RUN   TestPrometheusRulesToGrafana/alert_rules_with_non-prometheus_target_datasource
=== RUN   TestPrometheusRulesToGrafana/recording_rules_with_non-prometheus_target_datasource
=== RUN   TestPrometheusRulesToGrafana/mixed_group_with_both_alert_and_recording_rules_requires_prometheus_target_datasource
=== RUN   TestPrometheusRulesToGrafana/rule_group_with_empty_interval
=== RUN   TestPrometheusRulesToGrafana/recording_rule
=== RUN   TestPrometheusRulesToGrafana/recording_rule_with_target_datasource
=== RUN   TestPrometheusRulesToGrafana/query_offset_must_be_>=_0
=== RUN   TestPrometheusRulesToGrafana/rule_group_with_limit_is_not_supported
=== RUN   TestPrometheusRulesToGrafana/rule_group_with_labels
=== RUN   TestPrometheusRulesToGrafana/when_global_query_offset_is_set,_it_should_be_used
--- PASS: TestPrometheusRulesToGrafana (0.00s)
--- PASS: TestPrometheusRulesToGrafana/valid_rule_group (0.00s)
--- PASS: TestPrometheusRulesToGrafana/alert_rules_with_non-prometheus_target_datasource (0.00s)
--- PASS: TestPrometheusRulesToGrafana/recording_rules_with_non-prometheus_target_datasource (0.00s)
--- PASS: TestPrometheusRulesToGrafana/mixed_group_with_both_alert_and_recording_rules_requires_prometheus_target_datasource (0.00s)
--- PASS: TestPrometheusRulesToGrafana/rule_group_with_empty_interval (0.00s)
--- PASS: TestPrometheusRulesToGrafana/recording_rule (0.00s)
--- PASS: TestPrometheusRulesToGrafana/recording_rule_with_target_datasource (0.00s)
--- PASS: TestPrometheusRulesToGrafana/query_offset_must_be_>=_0 (0.00s)
--- PASS: TestPrometheusRulesToGrafana/rule_group_with_limit_is_not_supported (0.00s)
--- PASS: TestPrometheusRulesToGrafana/rule_group_with_labels (0.00s)
--- PASS: TestPrometheusRulesToGrafana/when_global_query_offset_is_set,_it_should_be_used (0.00s)
=== RUN   TestPrometheusRulesToGrafanaWithDuplicateRuleNames
--- PASS: TestPrometheusRulesToGrafanaWithDuplicateRuleNames (0.00s)
=== RUN   TestCreateMathNode
--- PASS: TestCreateMathNode (0.00s)
=== RUN   TestCreateThresholdNode
--- PASS: TestCreateThresholdNode (0.00s)
=== RUN   TestPrometheusRulesToGrafana_NodesInRules
=== RUN   TestPrometheusRulesToGrafana_NodesInRules/alert_rule_should_have_math_and_threshold_nodes
=== RUN   TestPrometheusRulesToGrafana_NodesInRules/recording_rule_should_only_have_query_node
--- PASS: TestPrometheusRulesToGrafana_NodesInRules (0.00s)
--- PASS: TestPrometheusRulesToGrafana_NodesInRules/alert_rule_should_have_math_and_threshold_nodes (0.00s)
--- PASS: TestPrometheusRulesToGrafana_NodesInRules/recording_rule_should_only_have_query_node (0.00s)
=== RUN   TestPrometheusRulesToGrafana_GroupLabels
=== RUN   TestPrometheusRulesToGrafana_GroupLabels/group_labels_are_merged_with_alert_rule_labels
=== RUN   TestPrometheusRulesToGrafana_GroupLabels/group_labels_are_merged_with_recording_rule_labels
=== RUN   TestPrometheusRulesToGrafana_GroupLabels/rule_with_no_labels_gets_group_labels
=== RUN   TestPrometheusRulesToGrafana_GroupLabels/rule_and_group_with_nil_labels
--- PASS: TestPrometheusRulesToGrafana_GroupLabels (0.00s)
--- PASS: TestPrometheusRulesToGrafana_GroupLabels/group_labels_are_merged_with_alert_rule_labels (0.00s)
--- PASS: TestPrometheusRulesToGrafana_GroupLabels/group_labels_are_merged_with_recording_rule_labels (0.00s)
--- PASS: TestPrometheusRulesToGrafana_GroupLabels/rule_with_no_labels_gets_group_labels (0.00s)
--- PASS: TestPrometheusRulesToGrafana_GroupLabels/rule_and_group_with_nil_labels (0.00s)
=== RUN   TestPrometheusRulesToGrafana_UID
=== RUN   TestPrometheusRulesToGrafana_UID/if_not_specified,_UID_is_generated_based_on_the_rule_index
=== RUN   TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified
=== RUN   TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified/and_the_label_is_valid_it_should_be_used
=== RUN   TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified/and_the_label_is_invalid
=== RUN   TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified/and_the_label_is_empty
--- PASS: TestPrometheusRulesToGrafana_UID (0.00s)
--- PASS: TestPrometheusRulesToGrafana_UID/if_not_specified,_UID_is_generated_based_on_the_rule_index (0.00s)
--- PASS: TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified (0.00s)
--- PASS: TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified/and_the_label_is_valid_it_should_be_used (0.00s)
--- PASS: TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified/and_the_label_is_invalid (0.00s)
--- PASS: TestPrometheusRulesToGrafana_UID/if_the_special_label_is_specified/and_the_label_is_empty (0.00s)
=== RUN   TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition
=== RUN   TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition/keep_original_rule_definition_is_true
=== RUN   TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition/keep_original_rule_definition_is_false
=== RUN   TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition/keep_original_rule_definition_is_nil_(should_use_default)
--- PASS: TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition (0.00s)
--- PASS: TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition/keep_original_rule_definition_is_true (0.00s)
--- PASS: TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition/keep_original_rule_definition_is_false (0.00s)
--- PASS: TestPrometheusRulesToGrafana_KeepOriginalRuleDefinition/keep_original_rule_definition_is_nil_(should_use_default) (0.00s)
=== RUN   TestQueryModelContainsRequiredParameters
--- PASS: TestQueryModelContainsRequiredParameters (0.00s)
=== RUN   TestPrometheusRuleGroup_Validate
=== RUN   TestPrometheusRuleGroup_Validate/valid_group_with_no_unsupported_fields
=== RUN   TestPrometheusRuleGroup_Validate/invalid_group_with_negative_query_offset
=== RUN   TestPrometheusRuleGroup_Validate/invalid_group_with_limit
--- PASS: TestPrometheusRuleGroup_Validate (0.00s)
--- PASS: TestPrometheusRuleGroup_Validate/valid_group_with_no_unsupported_fields (0.00s)
--- PASS: TestPrometheusRuleGroup_Validate/invalid_group_with_negative_query_offset (0.00s)
--- PASS: TestPrometheusRuleGroup_Validate/invalid_group_with_limit (0.00s)
=== RUN   TestPrometheusRulesFileYAML
=== RUN   TestPrometheusRulesFileYAML/simple_alert_rule_and_a_recording_rule
=== RUN   TestPrometheusRulesFileYAML/empty_rules_file
=== RUN   TestPrometheusRulesFileYAML/empty_group
--- PASS: TestPrometheusRulesFileYAML (0.00s)
--- PASS: TestPrometheusRulesFileYAML/simple_alert_rule_and_a_recording_rule (0.00s)
--- PASS: TestPrometheusRulesFileYAML/empty_rules_file (0.00s)
--- PASS: TestPrometheusRulesFileYAML/empty_group (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/prom	(cached)
=== RUN   TestCanReadAllRules
=== RUN   TestCanReadAllRules/should_check_for_provisioning_permissions
=== RUN   TestCanReadAllRules/should_return_error
--- PASS: TestCanReadAllRules (0.00s)
--- PASS: TestCanReadAllRules/should_check_for_provisioning_permissions (0.00s)
--- PASS: TestCanReadAllRules/should_return_error (0.00s)
=== RUN   TestCanWriteAllRules
=== RUN   TestCanWriteAllRules/should_check_for_provisioning_permissions
=== RUN   TestCanWriteAllRules/should_return_error
--- PASS: TestCanWriteAllRules (0.00s)
--- PASS: TestCanWriteAllRules/should_check_for_provisioning_permissions (0.00s)
--- PASS: TestCanWriteAllRules/should_return_error (0.00s)
=== RUN   TestAuthorizeAccessToRuleGroup
=== RUN   TestAuthorizeAccessToRuleGroup/should_return_nil_when_user_has_provisioning_permissions
=== RUN   TestAuthorizeAccessToRuleGroup/should_call_upstream_method_if_no_provisioning_permissions
=== RUN   TestAuthorizeAccessToRuleGroup/should_propagate_error
--- PASS: TestAuthorizeAccessToRuleGroup (0.00s)
--- PASS: TestAuthorizeAccessToRuleGroup/should_return_nil_when_user_has_provisioning_permissions (0.00s)
--- PASS: TestAuthorizeAccessToRuleGroup/should_call_upstream_method_if_no_provisioning_permissions (0.00s)
--- PASS: TestAuthorizeAccessToRuleGroup/should_propagate_error (0.00s)
=== RUN   TestAuthorizeAccessToRule
=== RUN   TestAuthorizeAccessToRule/should_return_nil_when_user_has_provisioning_permissions
=== RUN   TestAuthorizeAccessToRule/should_call_upstream_method_if_no_provisioning_permissions
=== RUN   TestAuthorizeAccessToRule/should_propagate_error
--- PASS: TestAuthorizeAccessToRule (0.00s)
--- PASS: TestAuthorizeAccessToRule/should_return_nil_when_user_has_provisioning_permissions (0.00s)
--- PASS: TestAuthorizeAccessToRule/should_call_upstream_method_if_no_provisioning_permissions (0.00s)
--- PASS: TestAuthorizeAccessToRule/should_propagate_error (0.00s)
=== RUN   TestAuthorizeRuleChanges
=== RUN   TestAuthorizeRuleChanges/should_return_nil_when_user_has_provisioning_permissions
=== RUN   TestAuthorizeRuleChanges/should_call_upstream_method_if_no_provisioning_permissions
=== RUN   TestAuthorizeRuleChanges/should_propagate_error
--- PASS: TestAuthorizeRuleChanges (0.00s)
--- PASS: TestAuthorizeRuleChanges/should_return_nil_when_user_has_provisioning_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/should_call_upstream_method_if_no_provisioning_permissions (0.00s)
--- PASS: TestAuthorizeRuleChanges/should_propagate_error (0.00s)
=== RUN   TestAlertRuleService
=== RUN   TestAlertRuleService/group_creation_should_set_the_right_provenance
=== RUN   TestAlertRuleService/alert_rule_group_should_be_updated_correctly
=== RUN   TestAlertRuleService/if_a_folder_was_renamed_the_interval_should_be_fetched_from_the_renamed_folder
=== RUN   TestAlertRuleService/group_update_should_propagate_folderUID_from_group_to_rules
=== RUN   TestAlertRuleService/group_creation_should_propagate_group_title_correctly
=== RUN   TestAlertRuleService/alert_rule_should_get_interval_from_existing_rule_group
=== RUN   TestAlertRuleService/updating_a_rule_group's_top_level_fields_should_bump_the_version_number
=== RUN   TestAlertRuleService/updating_a_group_by_updating_a_rule_should_bump_that_rule's_data_and_version_number
=== RUN   TestAlertRuleService/updating_a_group_should_not_override_its_rules_editor_settings
=== RUN   TestAlertRuleService/updating_a_group_with_editor_settings_should_override_its_prometheus_rule_definition
=== RUN   TestAlertRuleService/updating_a_group_should_override_its_prometheus_rule_definition
=== RUN   TestAlertRuleService/updating_a_rule_should_not_override_its_editor_settings
=== RUN   TestAlertRuleService/updating_a_group_to_temporarily_overlap_rule_names_should_not_throw_unique_constraint
=== RUN   TestAlertRuleService/updating_a_group_to_swap_the_name_of_two_rules_should_not_throw_unique_constraint
=== RUN   TestAlertRuleService/updating_a_group_that_has_a_rule_name_cycle_should_not_throw_unique_constraint
=== RUN   TestAlertRuleService/updating_a_group_that_has_multiple_rule_name_cycles_should_not_throw_unique_constraint
=== RUN   TestAlertRuleService/updating_a_group_to_recreate_a_rule_using_the_same_name_should_not_throw_unique_constraint
=== RUN   TestAlertRuleService/updating_a_group_to_create_a_rule_that_temporarily_overlaps_an_existing_should_not_throw_unique_constraint
=== RUN   TestAlertRuleService/updating_a_group_by_updating_a_rule_should_not_remove_dashboard_and_panel_ids
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_api
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_file
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_file
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_none
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_api
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_none
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_none_to_api
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_none_to_file
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_api_to_file
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_api_to_none
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_file_to_api
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_file_to_none
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_none_to_'converted_prometheus'
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_'converted_prometheus'_to_none
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_'converted_prometheus'_to_api
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_'converted_prometheus'_to_file
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_api_to_'converted_prometheus'
=== RUN   TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_file_to_'converted_prometheus'
=== RUN   TestAlertRuleService/quota_met_causes_create_to_be_rejected
=== RUN   TestAlertRuleService/quota_met_causes_group_write_to_be_rejected
--- PASS: TestAlertRuleService (0.42s)
--- PASS: TestAlertRuleService/group_creation_should_set_the_right_provenance (0.00s)
--- PASS: TestAlertRuleService/alert_rule_group_should_be_updated_correctly (0.00s)
--- PASS: TestAlertRuleService/if_a_folder_was_renamed_the_interval_should_be_fetched_from_the_renamed_folder (0.00s)
--- PASS: TestAlertRuleService/group_update_should_propagate_folderUID_from_group_to_rules (0.00s)
--- PASS: TestAlertRuleService/group_creation_should_propagate_group_title_correctly (0.00s)
--- PASS: TestAlertRuleService/alert_rule_should_get_interval_from_existing_rule_group (0.00s)
--- PASS: TestAlertRuleService/updating_a_rule_group's_top_level_fields_should_bump_the_version_number (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_by_updating_a_rule_should_bump_that_rule's_data_and_version_number (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_should_not_override_its_rules_editor_settings (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_with_editor_settings_should_override_its_prometheus_rule_definition (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_should_override_its_prometheus_rule_definition (0.00s)
--- PASS: TestAlertRuleService/updating_a_rule_should_not_override_its_editor_settings (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_to_temporarily_overlap_rule_names_should_not_throw_unique_constraint (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_to_swap_the_name_of_two_rules_should_not_throw_unique_constraint (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_that_has_a_rule_name_cycle_should_not_throw_unique_constraint (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_that_has_multiple_rule_name_cycles_should_not_throw_unique_constraint (0.01s)
--- PASS: TestAlertRuleService/updating_a_group_to_recreate_a_rule_using_the_same_name_should_not_throw_unique_constraint (0.01s)
--- PASS: TestAlertRuleService/updating_a_group_to_create_a_rule_that_temporarily_overlaps_an_existing_should_not_throw_unique_constraint (0.00s)
--- PASS: TestAlertRuleService/updating_a_group_by_updating_a_rule_should_not_remove_dashboard_and_panel_ids (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked (0.01s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_api (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_file (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_file (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_none (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_api (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_none (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups (0.01s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_none_to_api (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_none_to_file (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_api_to_file (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_api_to_none (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_file_to_api (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_file_to_none (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_none_to_'converted_prometheus' (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_be_able_to_update_from_provenance_'converted_prometheus'_to_none (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_'converted_prometheus'_to_api (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_'converted_prometheus'_to_file (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_api_to_'converted_prometheus' (0.00s)
--- PASS: TestAlertRuleService/alert_rule_provenace_should_be_correctly_checked_when_writing_groups/should_not_be_able_to_update_from_provenance_file_to_'converted_prometheus' (0.00s)
--- PASS: TestAlertRuleService/quota_met_causes_create_to_be_rejected (0.00s)
--- PASS: TestAlertRuleService/quota_met_causes_group_write_to_be_rejected (0.00s)
=== RUN   TestCreateAlertRule
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group/it_should_assign_default_interval
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group/inserts_to_database
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group/set_correct_provenance
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_assign_group_interval
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group/inserts_to_database
=== RUN   TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group/set_correct_provenance
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change/it_should_assign_default_interval
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change/inserts_to_database
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change/set_correct_provenance
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group/it_should_assign_group_interval
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group/inserts_to_database
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group/set_correct_provenance
=== RUN   TestCreateAlertRule/when_user_cannot_write_all_rules/it_should_not_insert_if_not_authorized
=== RUN   TestCreateAlertRule/should_return_the_created_id
=== RUN   TestCreateAlertRule/should_set_the_right_provenance
=== RUN   TestCreateAlertRule/when_UID_is_specified
=== RUN   TestCreateAlertRule/when_UID_is_specified/return_error_if_it_is_not_valid_UID
=== RUN   TestCreateAlertRule/when_UID_is_specified/should_create_a_new_rule_with_this_UID
=== RUN   TestCreateAlertRule/when_dashboard_is_specified
=== RUN   TestCreateAlertRule/when_dashboard_is_specified/return_no_error_when_both_specified
=== RUN   TestCreateAlertRule/when_dashboard_is_specified/return_4xx_error_when_missing_dashboard_uid
=== RUN   TestCreateAlertRule/when_dashboard_is_specified/return_4xx_error_when_missing_panel_id
--- PASS: TestCreateAlertRule (0.01s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group/it_should_assign_default_interval (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group/inserts_to_database (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_a_new_rule_creates_a_new_group/set_correct_provenance (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_assign_group_interval (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group/inserts_to_database (0.00s)
--- PASS: TestCreateAlertRule/when_user_can_write_all_rules/and_it_adds_a_rule_to_a_group/set_correct_provenance (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change/it_should_assign_default_interval (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change/inserts_to_database (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_creates_a_new_group/it_should_authorize_the_change/set_correct_provenance (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group/it_should_assign_group_interval (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group/inserts_to_database (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/and_it_adds_a_rule_to_a_group/it_should_authorize_the_change_to_whole_group/set_correct_provenance (0.00s)
--- PASS: TestCreateAlertRule/when_user_cannot_write_all_rules/it_should_not_insert_if_not_authorized (0.00s)
--- PASS: TestCreateAlertRule/should_return_the_created_id (0.00s)
--- PASS: TestCreateAlertRule/should_set_the_right_provenance (0.00s)
--- PASS: TestCreateAlertRule/when_UID_is_specified (0.00s)
--- PASS: TestCreateAlertRule/when_UID_is_specified/return_error_if_it_is_not_valid_UID (0.00s)
--- PASS: TestCreateAlertRule/when_UID_is_specified/should_create_a_new_rule_with_this_UID (0.00s)
--- PASS: TestCreateAlertRule/when_dashboard_is_specified (0.00s)
--- PASS: TestCreateAlertRule/when_dashboard_is_specified/return_no_error_when_both_specified (0.00s)
--- PASS: TestCreateAlertRule/when_dashboard_is_specified/return_4xx_error_when_missing_dashboard_uid (0.00s)
--- PASS: TestCreateAlertRule/when_dashboard_is_specified/return_4xx_error_when_missing_panel_id (0.00s)
=== RUN   TestUpdateAlertRule
=== RUN   TestUpdateAlertRule/when_user_can_write_all_rules
=== RUN   TestUpdateAlertRule/when_user_cannot_write_all_rules
=== RUN   TestUpdateAlertRule/when_user_cannot_write_all_rules/it_should_authorize_the_change_to_whole_group
=== RUN   TestUpdateAlertRule/when_user_cannot_write_all_rules/it_should_not_update_if_not_authorized
=== RUN   TestUpdateAlertRule/when_user_cannot_write_all_rules/when_there_are_no_changes_it_should_be_successful
--- PASS: TestUpdateAlertRule (0.00s)
--- PASS: TestUpdateAlertRule/when_user_can_write_all_rules (0.00s)
--- PASS: TestUpdateAlertRule/when_user_cannot_write_all_rules (0.00s)
--- PASS: TestUpdateAlertRule/when_user_cannot_write_all_rules/it_should_authorize_the_change_to_whole_group (0.00s)
--- PASS: TestUpdateAlertRule/when_user_cannot_write_all_rules/it_should_not_update_if_not_authorized (0.00s)
--- PASS: TestUpdateAlertRule/when_user_cannot_write_all_rules/when_there_are_no_changes_it_should_be_successful (0.00s)
=== RUN   TestDeleteAlertRule
=== RUN   TestDeleteAlertRule/when_user_can_write_all_rules
=== RUN   TestDeleteAlertRule/when_user_cannot_write_all_rules
=== RUN   TestDeleteAlertRule/when_user_cannot_write_all_rules/it_should_authorize_the_change_to_whole_group
=== RUN   TestDeleteAlertRule/when_user_cannot_write_all_rules/it_should_not_delete_if_not_authorized
--- PASS: TestDeleteAlertRule (0.00s)
--- PASS: TestDeleteAlertRule/when_user_can_write_all_rules (0.00s)
--- PASS: TestDeleteAlertRule/when_user_cannot_write_all_rules (0.00s)
--- PASS: TestDeleteAlertRule/when_user_cannot_write_all_rules/it_should_authorize_the_change_to_whole_group (0.00s)
--- PASS: TestDeleteAlertRule/when_user_cannot_write_all_rules/it_should_not_delete_if_not_authorized (0.00s)
=== RUN   TestGetAlertRule
=== RUN   TestGetAlertRule/should_authorize_access_to_rule
=== RUN   TestGetAlertRule/should_return_ErrAlertRuleNotFound_if_rule_does_not_exist
--- PASS: TestGetAlertRule (0.00s)
--- PASS: TestGetAlertRule/should_authorize_access_to_rule (0.00s)
--- PASS: TestGetAlertRule/should_return_ErrAlertRuleNotFound_if_rule_does_not_exist (0.00s)
=== RUN   TestGetRuleGroup
=== RUN   TestGetRuleGroup/return_ErrAlertRuleGroupNotFound_when_rule_group_does_not_exist
=== RUN   TestGetRuleGroup/when_user_cannot_read_all_rules
=== RUN   TestGetRuleGroup/when_user_cannot_read_all_rules/it_should_authorize_access_to_entire_group
=== RUN   TestGetRuleGroup/when_user_can_read_all_rules
=== RUN   TestGetRuleGroup/when_user_can_read_all_rules/it_should_skip_AuthorizeRuleGroupRead
=== RUN   TestGetRuleGroup/return_error_immediately_when_CanReadAllRules_returns_error
--- PASS: TestGetRuleGroup (0.00s)
--- PASS: TestGetRuleGroup/return_ErrAlertRuleGroupNotFound_when_rule_group_does_not_exist (0.00s)
--- PASS: TestGetRuleGroup/when_user_cannot_read_all_rules (0.00s)
--- PASS: TestGetRuleGroup/when_user_cannot_read_all_rules/it_should_authorize_access_to_entire_group (0.00s)
--- PASS: TestGetRuleGroup/when_user_can_read_all_rules (0.00s)
--- PASS: TestGetRuleGroup/when_user_can_read_all_rules/it_should_skip_AuthorizeRuleGroupRead (0.00s)
--- PASS: TestGetRuleGroup/return_error_immediately_when_CanReadAllRules_returns_error (0.00s)
=== RUN   TestGetAlertRules
=== RUN   TestGetAlertRules/return_error_when_CanReadAllRules_return_error
=== RUN   TestGetAlertRules/when_user_can_read_all_rules
=== RUN   TestGetAlertRules/when_user_can_read_all_rules/should_skip_AuthorizeRuleGroupRead_and_return_all_rules
=== RUN   TestGetAlertRules/when_user_cannot_read_all_rules
=== RUN   TestGetAlertRules/when_user_cannot_read_all_rules/should_group_rules_and_check_AuthorizeRuleGroupRead_and_return_only_available_rules
=== RUN   TestGetAlertRules/when_user_cannot_read_all_rules/should_group_rules_and_check_AuthorizeRuleGroupRead_and_return_only_available_rules/should_remove_group_from_output_if_AuthorizeRuleGroupRead_returns_authorization_error
=== RUN   TestGetAlertRules/when_user_cannot_read_all_rules/should_group_rules_and_check_AuthorizeRuleGroupRead_and_return_only_available_rules/should_immediately_exist_if_AuthorizeRuleGroupRead_returns_another_error
--- PASS: TestGetAlertRules (0.00s)
--- PASS: TestGetAlertRules/return_error_when_CanReadAllRules_return_error (0.00s)
--- PASS: TestGetAlertRules/when_user_can_read_all_rules (0.00s)
--- PASS: TestGetAlertRules/when_user_can_read_all_rules/should_skip_AuthorizeRuleGroupRead_and_return_all_rules (0.00s)
--- PASS: TestGetAlertRules/when_user_cannot_read_all_rules (0.00s)
--- PASS: TestGetAlertRules/when_user_cannot_read_all_rules/should_group_rules_and_check_AuthorizeRuleGroupRead_and_return_only_available_rules (0.00s)
--- PASS: TestGetAlertRules/when_user_cannot_read_all_rules/should_group_rules_and_check_AuthorizeRuleGroupRead_and_return_only_available_rules/should_remove_group_from_output_if_AuthorizeRuleGroupRead_returns_authorization_error (0.00s)
--- PASS: TestGetAlertRules/when_user_cannot_read_all_rules/should_group_rules_and_check_AuthorizeRuleGroupRead_and_return_only_available_rules/should_immediately_exist_if_AuthorizeRuleGroupRead_returns_another_error (0.00s)
=== RUN   TestReplaceGroup
=== RUN   TestReplaceGroup/when_user_can_write_all_rules
=== RUN   TestReplaceGroup/when_user_cannot_write_all_rules
=== RUN   TestReplaceGroup/when_user_cannot_write_all_rules/it_should_not_update_if_not_authorized
=== RUN   TestReplaceGroup/when_user_cannot_write_all_rules/it_should_update_if_authorized
=== RUN   TestReplaceGroup/alert_rule_metadata_should_be_updated_correctly
--- PASS: TestReplaceGroup (0.00s)
--- PASS: TestReplaceGroup/when_user_can_write_all_rules (0.00s)
--- PASS: TestReplaceGroup/when_user_cannot_write_all_rules (0.00s)
--- PASS: TestReplaceGroup/when_user_cannot_write_all_rules/it_should_not_update_if_not_authorized (0.00s)
--- PASS: TestReplaceGroup/when_user_cannot_write_all_rules/it_should_update_if_authorized (0.00s)
--- PASS: TestReplaceGroup/alert_rule_metadata_should_be_updated_correctly (0.00s)
=== RUN   TestDeleteRuleGroup
=== RUN   TestDeleteRuleGroup/when_user_can_write_all_rules
=== RUN   TestDeleteRuleGroup/when_user_cannot_write_all_rules
=== RUN   TestDeleteRuleGroup/when_user_cannot_write_all_rules/it_should_not_update_if_not_authorized
=== RUN   TestDeleteRuleGroup/when_user_cannot_write_all_rules/it_should_update_if_authorized
--- PASS: TestDeleteRuleGroup (0.00s)
--- PASS: TestDeleteRuleGroup/when_user_can_write_all_rules (0.00s)
--- PASS: TestDeleteRuleGroup/when_user_cannot_write_all_rules (0.00s)
--- PASS: TestDeleteRuleGroup/when_user_cannot_write_all_rules/it_should_not_update_if_not_authorized (0.00s)
--- PASS: TestDeleteRuleGroup/when_user_cannot_write_all_rules/it_should_update_if_authorized (0.00s)
=== RUN   TestDeleteRuleGroups
=== RUN   TestDeleteRuleGroups/when_deleting_specific_groups
=== RUN   TestDeleteRuleGroups/when_deleting_specific_groups/when_user_can_write_all_rules
=== RUN   TestDeleteRuleGroups/when_deleting_specific_groups/when_user_cannot_write_all_rules
=== RUN   TestDeleteRuleGroups/when_deleting_specific_groups/when_user_cannot_write_all_rules/should_not_delete_if_not_authorized
=== RUN   TestDeleteRuleGroups/when_deleting_specific_groups/when_user_cannot_write_all_rules/should_delete_group1_when_authorized
=== RUN   TestDeleteRuleGroups/when_deleting_multiple_groups_from_multiple_namespaces
=== RUN   TestDeleteRuleGroups/when_deleting_multiple_groups_from_multiple_namespaces/should_delete_all_matching_groups_from_correct_org
=== RUN   TestDeleteRuleGroups/when_filtering_by_imported_Prometheus_rules
=== RUN   TestDeleteRuleGroups/when_filtering_by_imported_Prometheus_rules/when_the_group_is_not_imported
=== RUN   TestDeleteRuleGroups/when_filtering_by_imported_Prometheus_rules/when_the_group_is_imported
=== RUN   TestDeleteRuleGroups/with_no_matching_rule_groups
--- PASS: TestDeleteRuleGroups (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_specific_groups (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_specific_groups/when_user_can_write_all_rules (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_specific_groups/when_user_cannot_write_all_rules (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_specific_groups/when_user_cannot_write_all_rules/should_not_delete_if_not_authorized (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_specific_groups/when_user_cannot_write_all_rules/should_delete_group1_when_authorized (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_multiple_groups_from_multiple_namespaces (0.00s)
--- PASS: TestDeleteRuleGroups/when_deleting_multiple_groups_from_multiple_namespaces/should_delete_all_matching_groups_from_correct_org (0.00s)
--- PASS: TestDeleteRuleGroups/when_filtering_by_imported_Prometheus_rules (0.00s)
--- PASS: TestDeleteRuleGroups/when_filtering_by_imported_Prometheus_rules/when_the_group_is_not_imported (0.00s)
--- PASS: TestDeleteRuleGroups/when_filtering_by_imported_Prometheus_rules/when_the_group_is_imported (0.00s)
--- PASS: TestDeleteRuleGroups/with_no_matching_rule_groups (0.00s)
=== RUN   TestProvisiongWithFullpath
=== RUN   TestProvisiongWithFullpath/for_a_rule_under_a_root_folder_should_set_the_right_fullpath
=== RUN   TestProvisiongWithFullpath/for_a_rule_under_a_subfolder_should_set_the_right_fullpath
--- PASS: TestProvisiongWithFullpath (0.01s)
--- PASS: TestProvisiongWithFullpath/for_a_rule_under_a_root_folder_should_set_the_right_fullpath (0.00s)
--- PASS: TestProvisiongWithFullpath/for_a_rule_under_a_subfolder_should_set_the_right_fullpath (0.00s)
=== RUN   TestPostableGrafanaReceiverToEmbeddedContactPoint
=== RUN   TestPostableGrafanaReceiverToEmbeddedContactPoint/should_create_expected_object
=== RUN   TestPostableGrafanaReceiverToEmbeddedContactPoint/should_merge_decrypted_secrets_into_settings
=== RUN   TestPostableGrafanaReceiverToEmbeddedContactPoint/should_override_existing_settings_with_decrypted_secrets_into_settings
=== RUN   TestPostableGrafanaReceiverToEmbeddedContactPoint/should_support_nested_secrets
=== RUN   TestPostableGrafanaReceiverToEmbeddedContactPoint/should_amend_to_nested_structs
--- PASS: TestPostableGrafanaReceiverToEmbeddedContactPoint (0.00s)
--- PASS: TestPostableGrafanaReceiverToEmbeddedContactPoint/should_create_expected_object (0.00s)
--- PASS: TestPostableGrafanaReceiverToEmbeddedContactPoint/should_merge_decrypted_secrets_into_settings (0.00s)
--- PASS: TestPostableGrafanaReceiverToEmbeddedContactPoint/should_override_existing_settings_with_decrypted_secrets_into_settings (0.00s)
--- PASS: TestPostableGrafanaReceiverToEmbeddedContactPoint/should_support_nested_secrets (0.00s)
--- PASS: TestPostableGrafanaReceiverToEmbeddedContactPoint/should_amend_to_nested_structs (0.00s)
=== RUN   TestContactPointService
=== RUN   TestContactPointService/service_gets_contact_points_from_AM_config
=== RUN   TestContactPointService/service_filters_contact_points_by_name
=== RUN   TestContactPointService/service_filters_contact_points_by_name,_returns_empty_when_no_match
=== RUN   TestContactPointService/service_stitches_contact_point_into_org's_AM_config
=== RUN   TestContactPointService/it's_possible_to_use_a_custom_uid
=== RUN   TestContactPointService/it's_not_possible_to_use_invalid_UID
=== RUN   TestContactPointService/it's_not_possible_to_use_the_same_uid_twice
=== RUN   TestContactPointService/create_rejects_contact_points_that_fail_validation
=== RUN   TestContactPointService/update_rejects_contact_points_with_no_settings
=== RUN   TestContactPointService/update_rejects_contact_points_with_no_type
=== RUN   TestContactPointService/update_rejects_contact_points_which_fail_validation_after_merging
=== RUN   TestContactPointService/update_renames_references_when_group_is_renamed
=== RUN   TestContactPointService/default_provenance_of_contact_points_is_none
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_api
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_file
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_file
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_none
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_api
=== RUN   TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_none
=== RUN   TestContactPointService/service_respects_concurrency_token_when_updating
=== RUN   TestContactPointService/secrets_are_parsed_in_a_case-insensitive_way
=== RUN   TestContactPointService/secrets_are_parsed_in_a_case-insensitive_way/token_key_is_uppercased
=== RUN   TestContactPointService/secrets_are_parsed_in_a_case-insensitive_way/multiple_token_keys
--- PASS: TestContactPointService (0.24s)
--- PASS: TestContactPointService/service_gets_contact_points_from_AM_config (0.01s)
--- PASS: TestContactPointService/service_filters_contact_points_by_name (0.00s)
--- PASS: TestContactPointService/service_filters_contact_points_by_name,_returns_empty_when_no_match (0.00s)
--- PASS: TestContactPointService/service_stitches_contact_point_into_org's_AM_config (0.01s)
--- PASS: TestContactPointService/it's_possible_to_use_a_custom_uid (0.01s)
--- PASS: TestContactPointService/it's_not_possible_to_use_invalid_UID (0.01s)
--- PASS: TestContactPointService/it's_not_possible_to_use_the_same_uid_twice (0.01s)
--- PASS: TestContactPointService/create_rejects_contact_points_that_fail_validation (0.00s)
--- PASS: TestContactPointService/update_rejects_contact_points_with_no_settings (0.01s)
--- PASS: TestContactPointService/update_rejects_contact_points_with_no_type (0.01s)
--- PASS: TestContactPointService/update_rejects_contact_points_which_fail_validation_after_merging (0.02s)
--- PASS: TestContactPointService/update_renames_references_when_group_is_renamed (0.02s)
--- PASS: TestContactPointService/default_provenance_of_contact_points_is_none (0.00s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked (0.08s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_api (0.02s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_be_able_to_update_from_provenance_none_to_file (0.02s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_file (0.01s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_api_to_none (0.01s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_api (0.01s)
--- PASS: TestContactPointService/contact_point_provenance_should_be_correctly_checked/should_not_be_able_to_update_from_provenance_file_to_none (0.01s)
--- PASS: TestContactPointService/service_respects_concurrency_token_when_updating (0.01s)
--- PASS: TestContactPointService/secrets_are_parsed_in_a_case-insensitive_way (0.02s)
--- PASS: TestContactPointService/secrets_are_parsed_in_a_case-insensitive_way/token_key_is_uppercased (0.01s)
--- PASS: TestContactPointService/secrets_are_parsed_in_a_case-insensitive_way/multiple_token_keys (0.01s)
=== RUN   TestContactPointServiceDecryptRedact
=== RUN   TestContactPointServiceDecryptRedact/GetContactPoints_gets_redacted_contact_points_by_default
=== RUN   TestContactPointServiceDecryptRedact/GetContactPoints_errors_when_Decrypt_=_true_and_user_does_not_have_permissions
=== RUN   TestContactPointServiceDecryptRedact/GetContactPoints_errors_when_Decrypt_=_true_and_user_is_nil
=== RUN   TestContactPointServiceDecryptRedact/GetContactPoints_gets_decrypted_contact_points_when_Decrypt_=_true_and_user_has_permissions
--- PASS: TestContactPointServiceDecryptRedact (0.02s)
--- PASS: TestContactPointServiceDecryptRedact/GetContactPoints_gets_redacted_contact_points_by_default (0.00s)
--- PASS: TestContactPointServiceDecryptRedact/GetContactPoints_errors_when_Decrypt_=_true_and_user_does_not_have_permissions (0.00s)
--- PASS: TestContactPointServiceDecryptRedact/GetContactPoints_errors_when_Decrypt_=_true_and_user_is_nil (0.00s)
--- PASS: TestContactPointServiceDecryptRedact/GetContactPoints_gets_decrypted_contact_points_when_Decrypt_=_true_and_user_has_permissions (0.01s)
=== RUN   TestRemoveSecretsForContactPoint
=== RUN   TestRemoveSecretsForContactPoint/dingding
=== RUN   TestRemoveSecretsForContactPoint/discord
=== RUN   TestRemoveSecretsForContactPoint/email
=== RUN   TestRemoveSecretsForContactPoint/googlechat
=== RUN   TestRemoveSecretsForContactPoint/jira
=== RUN   TestRemoveSecretsForContactPoint/kafka
=== RUN   TestRemoveSecretsForContactPoint/line
=== RUN   TestRemoveSecretsForContactPoint/mqtt
=== RUN   TestRemoveSecretsForContactPoint/opsgenie
=== RUN   TestRemoveSecretsForContactPoint/pagerduty
=== RUN   TestRemoveSecretsForContactPoint/prometheus-alertmanager
=== RUN   TestRemoveSecretsForContactPoint/pushover
=== RUN   TestRemoveSecretsForContactPoint/sensugo
=== RUN   TestRemoveSecretsForContactPoint/slack
=== RUN   TestRemoveSecretsForContactPoint/sns
=== RUN   TestRemoveSecretsForContactPoint/teams
=== RUN   TestRemoveSecretsForContactPoint/telegram
=== RUN   TestRemoveSecretsForContactPoint/threema
=== RUN   TestRemoveSecretsForContactPoint/victorops
=== RUN   TestRemoveSecretsForContactPoint/webex
=== RUN   TestRemoveSecretsForContactPoint/webhook
=== RUN   TestRemoveSecretsForContactPoint/wecom
--- PASS: TestRemoveSecretsForContactPoint (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/dingding (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/discord (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/email (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/googlechat (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/jira (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/kafka (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/line (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/mqtt (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/opsgenie (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/pagerduty (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/prometheus-alertmanager (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/pushover (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/sensugo (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/slack (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/sns (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/teams (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/telegram (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/threema (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/victorops (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/webex (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/webhook (0.00s)
--- PASS: TestRemoveSecretsForContactPoint/wecom (0.00s)
=== RUN   TestStitchReceivers
=== RUN   TestStitchReceivers/non_matching_receiver_by_UID,_no_change
=== RUN   TestStitchReceivers/matching_receiver_with_unchanged_name,_replaces
=== RUN   TestStitchReceivers/rename_with_only_one_receiver_in_group,_renames_group_and_references
=== RUN   TestStitchReceivers/rename_to_another_existing_group,_moves_receiver
=== RUN   TestStitchReceivers/rename_to_another,_larger_group
=== RUN   TestStitchReceivers/rename_when_there_are_many_groups
=== RUN   TestStitchReceivers/rename_to_a_name_that_doesn't_exist,_creates_new_group_and_moves
=== RUN   TestStitchReceivers/rename_an_inconsistent_group_in_the_database,_algorithm_fixes_it
=== RUN   TestStitchReceivers/single_item_group_rename_to_existing_group
--- PASS: TestStitchReceivers (0.00s)
--- PASS: TestStitchReceivers/non_matching_receiver_by_UID,_no_change (0.00s)
--- PASS: TestStitchReceivers/matching_receiver_with_unchanged_name,_replaces (0.00s)
--- PASS: TestStitchReceivers/rename_with_only_one_receiver_in_group,_renames_group_and_references (0.00s)
--- PASS: TestStitchReceivers/rename_to_another_existing_group,_moves_receiver (0.00s)
--- PASS: TestStitchReceivers/rename_to_another,_larger_group (0.00s)
--- PASS: TestStitchReceivers/rename_when_there_are_many_groups (0.00s)
--- PASS: TestStitchReceivers/rename_to_a_name_that_doesn't_exist,_creates_new_group_and_moves (0.00s)
--- PASS: TestStitchReceivers/rename_an_inconsistent_group_in_the_database,_algorithm_fixes_it (0.00s)
--- PASS: TestStitchReceivers/single_item_group_rename_to_existing_group (0.00s)
=== RUN   TestMakeErrTimeIntervalDependentResourcesProvenance
=== RUN   TestMakeErrTimeIntervalDependentResourcesProvenance/both_specified
=== RUN   TestMakeErrTimeIntervalDependentResourcesProvenance/rules_specified
=== RUN   TestMakeErrTimeIntervalDependentResourcesProvenance/routes_specified
--- PASS: TestMakeErrTimeIntervalDependentResourcesProvenance (0.00s)
--- PASS: TestMakeErrTimeIntervalDependentResourcesProvenance/both_specified (0.00s)
--- PASS: TestMakeErrTimeIntervalDependentResourcesProvenance/rules_specified (0.00s)
--- PASS: TestMakeErrTimeIntervalDependentResourcesProvenance/routes_specified (0.00s)
=== RUN   TestGetMuteTimings
=== RUN   TestGetMuteTimings/service_returns_timings_from_config_file
=== RUN   TestGetMuteTimings/service_returns_empty_list_when_config_file_contains_no_mute_timings
=== RUN   TestGetMuteTimings/service_propagates_errors
=== RUN   TestGetMuteTimings/service_propagates_errors/when_unable_to_read_config
=== RUN   TestGetMuteTimings/service_propagates_errors/when_unable_to_read_provenance
--- PASS: TestGetMuteTimings (0.00s)
--- PASS: TestGetMuteTimings/service_returns_timings_from_config_file (0.00s)
--- PASS: TestGetMuteTimings/service_returns_empty_list_when_config_file_contains_no_mute_timings (0.00s)
--- PASS: TestGetMuteTimings/service_propagates_errors (0.00s)
--- PASS: TestGetMuteTimings/service_propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestGetMuteTimings/service_propagates_errors/when_unable_to_read_provenance (0.00s)
=== RUN   TestGetMuteTiming
=== RUN   TestGetMuteTiming/service_returns_timing_by_name
=== RUN   TestGetMuteTiming/service_returns_timing_by_name/and_by_UID
=== RUN   TestGetMuteTiming/service_looks_in_both_places
=== RUN   TestGetMuteTiming/service_looks_in_both_places/and_by_UID
=== RUN   TestGetMuteTiming/service_returns_ErrTimeIntervalNotFound_if_no_mute_timings
=== RUN   TestGetMuteTiming/service_returns_ErrTimeIntervalNotFound_if_no_mute_timing_by_name
=== RUN   TestGetMuteTiming/service_propagates_errors
=== RUN   TestGetMuteTiming/service_propagates_errors/when_unable_to_read_config
=== RUN   TestGetMuteTiming/service_propagates_errors/when_unable_to_read_provenance
--- PASS: TestGetMuteTiming (0.00s)
--- PASS: TestGetMuteTiming/service_returns_timing_by_name (0.00s)
--- PASS: TestGetMuteTiming/service_returns_timing_by_name/and_by_UID (0.00s)
--- PASS: TestGetMuteTiming/service_looks_in_both_places (0.00s)
--- PASS: TestGetMuteTiming/service_looks_in_both_places/and_by_UID (0.00s)
--- PASS: TestGetMuteTiming/service_returns_ErrTimeIntervalNotFound_if_no_mute_timings (0.00s)
--- PASS: TestGetMuteTiming/service_returns_ErrTimeIntervalNotFound_if_no_mute_timing_by_name (0.00s)
--- PASS: TestGetMuteTiming/service_propagates_errors (0.00s)
--- PASS: TestGetMuteTiming/service_propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestGetMuteTiming/service_propagates_errors/when_unable_to_read_provenance (0.00s)
=== RUN   TestCreateMuteTimings
=== RUN   TestCreateMuteTimings/returns_ErrTimeIntervalInvalid_if_mute_timings_fail_validation
=== RUN   TestCreateMuteTimings/returns_ErrTimeIntervalExists_if_mute_timing_with_the_name_exists
=== RUN   TestCreateMuteTimings/saves_mute_timing_and_provenance_in_a_transaction
=== RUN   TestCreateMuteTimings/propagates_errors
=== RUN   TestCreateMuteTimings/propagates_errors/when_unable_to_read_config
=== RUN   TestCreateMuteTimings/propagates_errors/when_provenance_fails_to_save
=== RUN   TestCreateMuteTimings/propagates_errors/when_AM_config_fails_to_save
--- PASS: TestCreateMuteTimings (0.00s)
--- PASS: TestCreateMuteTimings/returns_ErrTimeIntervalInvalid_if_mute_timings_fail_validation (0.00s)
--- PASS: TestCreateMuteTimings/returns_ErrTimeIntervalExists_if_mute_timing_with_the_name_exists (0.00s)
--- PASS: TestCreateMuteTimings/saves_mute_timing_and_provenance_in_a_transaction (0.00s)
--- PASS: TestCreateMuteTimings/propagates_errors (0.00s)
--- PASS: TestCreateMuteTimings/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestCreateMuteTimings/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestCreateMuteTimings/propagates_errors/when_AM_config_fails_to_save (0.00s)
=== RUN   TestUpdateMuteTimings
=== RUN   TestUpdateMuteTimings/rejects_mute_timings_that_fail_validation
=== RUN   TestUpdateMuteTimings/rejects_mute_timings_if_provenance_is_not_right
=== RUN   TestUpdateMuteTimings/returns_ErrVersionConflict_if_storage_version_does_not_match
=== RUN   TestUpdateMuteTimings/returns_ErrMuteTimingsNotFound_if_mute_timing_does_not_exist
=== RUN   TestUpdateMuteTimings/returns_ErrMuteTimingsNotFound_if_mute_timing_does_not_exist/when_UID_is_specified
=== RUN   TestUpdateMuteTimings/returns_ErrMuteTimingsNotFound_if_mute_timing_does_not_exist/when_only_Name_is_specified
=== RUN   TestUpdateMuteTimings/saves_mute_timing_and_provenance_in_a_transaction_if_optimistic_concurrency_passes
=== RUN   TestUpdateMuteTimings/saves_mute_timing_and_provenance_in_a_transaction_if_optimistic_concurrency_passes/bypass_optimistic_concurrency_check_if_version_is_empty
=== RUN   TestUpdateMuteTimings/updates_time_interval_where_it_is
=== RUN   TestUpdateMuteTimings/renames_interval_and_all_its_dependencies
=== RUN   TestUpdateMuteTimings/returns_ErrTimeIntervalDependentResourcesProvenance_if_route_has_different_provenance_status
=== RUN   TestUpdateMuteTimings/returns_ErrTimeIntervalDependentResourcesProvenance_if_rules_have_different_provenance_status
=== RUN   TestUpdateMuteTimings/propagates_errors
=== RUN   TestUpdateMuteTimings/propagates_errors/when_unable_to_read_config
=== RUN   TestUpdateMuteTimings/propagates_errors/when_provenance_fails_to_save
=== RUN   TestUpdateMuteTimings/propagates_errors/when_AM_config_fails_to_save
=== RUN   TestUpdateMuteTimings/propagates_errors/when_RenameTimeIntervalInNotificationSettings_fails
--- PASS: TestUpdateMuteTimings (0.00s)
--- PASS: TestUpdateMuteTimings/rejects_mute_timings_that_fail_validation (0.00s)
--- PASS: TestUpdateMuteTimings/rejects_mute_timings_if_provenance_is_not_right (0.00s)
--- PASS: TestUpdateMuteTimings/returns_ErrVersionConflict_if_storage_version_does_not_match (0.00s)
--- PASS: TestUpdateMuteTimings/returns_ErrMuteTimingsNotFound_if_mute_timing_does_not_exist (0.00s)
--- PASS: TestUpdateMuteTimings/returns_ErrMuteTimingsNotFound_if_mute_timing_does_not_exist/when_UID_is_specified (0.00s)
--- PASS: TestUpdateMuteTimings/returns_ErrMuteTimingsNotFound_if_mute_timing_does_not_exist/when_only_Name_is_specified (0.00s)
--- PASS: TestUpdateMuteTimings/saves_mute_timing_and_provenance_in_a_transaction_if_optimistic_concurrency_passes (0.00s)
--- PASS: TestUpdateMuteTimings/saves_mute_timing_and_provenance_in_a_transaction_if_optimistic_concurrency_passes/bypass_optimistic_concurrency_check_if_version_is_empty (0.00s)
--- PASS: TestUpdateMuteTimings/updates_time_interval_where_it_is (0.00s)
--- PASS: TestUpdateMuteTimings/renames_interval_and_all_its_dependencies (0.00s)
--- PASS: TestUpdateMuteTimings/returns_ErrTimeIntervalDependentResourcesProvenance_if_route_has_different_provenance_status (0.00s)
--- PASS: TestUpdateMuteTimings/returns_ErrTimeIntervalDependentResourcesProvenance_if_rules_have_different_provenance_status (0.00s)
--- PASS: TestUpdateMuteTimings/propagates_errors (0.00s)
--- PASS: TestUpdateMuteTimings/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestUpdateMuteTimings/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestUpdateMuteTimings/propagates_errors/when_AM_config_fails_to_save (0.00s)
--- PASS: TestUpdateMuteTimings/propagates_errors/when_RenameTimeIntervalInNotificationSettings_fails (0.00s)
=== RUN   TestDeleteMuteTimings
=== RUN   TestDeleteMuteTimings/fails_if_provenance_check_fails
=== RUN   TestDeleteMuteTimings/returns_ErrTimeIntervalInUse_if_mute_timing_is_used_by_a_route
=== RUN   TestDeleteMuteTimings/returns_ErrTimeIntervalInUse_if_mute_timing_is_used_by_rules
=== RUN   TestDeleteMuteTimings/returns_ErrVersionConflict_if_provided_version_does_not_match
=== RUN   TestDeleteMuteTimings/deletes_mute_timing_and_provenance_in_transaction_if_passes_optimistic_concurrency_check
=== RUN   TestDeleteMuteTimings/deletes_mute_timing_and_provenance_in_transaction_if_passes_optimistic_concurrency_check/should_bypass_optimistic_concurrency_check_if_version_is_empty
=== RUN   TestDeleteMuteTimings/deletes_time_interval_and_provenance
=== RUN   TestDeleteMuteTimings/deletes_mute_timing_and_provenance_by_UID
=== RUN   TestDeleteMuteTimings/propagates_errors
=== RUN   TestDeleteMuteTimings/propagates_errors/when_unable_to_read_config
=== RUN   TestDeleteMuteTimings/propagates_errors/when_provenance_fails_to_save
=== RUN   TestDeleteMuteTimings/propagates_errors/when_AM_config_fails_to_save
--- PASS: TestDeleteMuteTimings (0.00s)
--- PASS: TestDeleteMuteTimings/fails_if_provenance_check_fails (0.00s)
--- PASS: TestDeleteMuteTimings/returns_ErrTimeIntervalInUse_if_mute_timing_is_used_by_a_route (0.00s)
--- PASS: TestDeleteMuteTimings/returns_ErrTimeIntervalInUse_if_mute_timing_is_used_by_rules (0.00s)
--- PASS: TestDeleteMuteTimings/returns_ErrVersionConflict_if_provided_version_does_not_match (0.00s)
--- PASS: TestDeleteMuteTimings/deletes_mute_timing_and_provenance_in_transaction_if_passes_optimistic_concurrency_check (0.00s)
--- PASS: TestDeleteMuteTimings/deletes_mute_timing_and_provenance_in_transaction_if_passes_optimistic_concurrency_check/should_bypass_optimistic_concurrency_check_if_version_is_empty (0.00s)
--- PASS: TestDeleteMuteTimings/deletes_time_interval_and_provenance (0.00s)
--- PASS: TestDeleteMuteTimings/deletes_mute_timing_and_provenance_by_UID (0.00s)
--- PASS: TestDeleteMuteTimings/propagates_errors (0.00s)
--- PASS: TestDeleteMuteTimings/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestDeleteMuteTimings/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestDeleteMuteTimings/propagates_errors/when_AM_config_fails_to_save (0.00s)
=== RUN   TestGetPolicyTree
--- PASS: TestGetPolicyTree (0.00s)
=== RUN   TestUpdatePolicyTree
=== RUN   TestUpdatePolicyTree/ErrValidation_if_referenced_mute_time_interval_does_not_exist
=== RUN   TestUpdatePolicyTree/ErrValidation_if_root_route_has_no_receiver
=== RUN   TestUpdatePolicyTree/ErrValidation_if_referenced_receiver_does_not_exist
=== RUN   TestUpdatePolicyTree/ErrValidation_if_referenced_receiver_does_not_exist/including_sub-routes
=== RUN   TestUpdatePolicyTree/ErrVersionConflict_if_provided_version_does_not_match_current
=== RUN   TestUpdatePolicyTree/Error_if_provenance_validation_fails
=== RUN   TestUpdatePolicyTree/updates_Route_and_sets_provenance_in_transaction_if_route_is_valid_and_version_matches
=== RUN   TestUpdatePolicyTree/bypasses_optimistic_concurrency_if_provided_version_is_empty
--- PASS: TestUpdatePolicyTree (0.00s)
--- PASS: TestUpdatePolicyTree/ErrValidation_if_referenced_mute_time_interval_does_not_exist (0.00s)
--- PASS: TestUpdatePolicyTree/ErrValidation_if_root_route_has_no_receiver (0.00s)
--- PASS: TestUpdatePolicyTree/ErrValidation_if_referenced_receiver_does_not_exist (0.00s)
--- PASS: TestUpdatePolicyTree/ErrValidation_if_referenced_receiver_does_not_exist/including_sub-routes (0.00s)
--- PASS: TestUpdatePolicyTree/ErrVersionConflict_if_provided_version_does_not_match_current (0.00s)
--- PASS: TestUpdatePolicyTree/Error_if_provenance_validation_fails (0.00s)
--- PASS: TestUpdatePolicyTree/updates_Route_and_sets_provenance_in_transaction_if_route_is_valid_and_version_matches (0.00s)
--- PASS: TestUpdatePolicyTree/bypasses_optimistic_concurrency_if_provided_version_is_empty (0.00s)
=== RUN   TestResetPolicyTree
=== RUN   TestResetPolicyTree/Error_if_default_config_is_invalid
=== RUN   TestResetPolicyTree/Error_if_provenance_validation_fails
=== RUN   TestResetPolicyTree/replaces_route_with_one_from_the_default_config_and_copies_receivers_if_do_not_exist
--- PASS: TestResetPolicyTree (0.00s)
--- PASS: TestResetPolicyTree/Error_if_default_config_is_invalid (0.00s)
--- PASS: TestResetPolicyTree/Error_if_provenance_validation_fails (0.00s)
--- PASS: TestResetPolicyTree/replaces_route_with_one_from_the_default_config_and_copies_receivers_if_do_not_exist (0.00s)
=== RUN   TestRoute_Fingerprint
=== RUN   TestRoute_Fingerprint/stable_across_code_changes
=== RUN   TestRoute_Fingerprint/unstable_across_field_modification
--- PASS: TestRoute_Fingerprint (0.01s)
--- PASS: TestRoute_Fingerprint/stable_across_code_changes (0.00s)
--- PASS: TestRoute_Fingerprint/unstable_across_field_modification (0.01s)
=== RUN   TestGetTemplates
=== RUN   TestGetTemplates/returns_templates_from_config_file
=== RUN   TestGetTemplates/returns_empty_list_when_config_file_contains_no_templates
=== RUN   TestGetTemplates/propagates_errors
=== RUN   TestGetTemplates/propagates_errors/when_unable_to_read_config
=== RUN   TestGetTemplates/propagates_errors/when_provenance_status_fails
--- PASS: TestGetTemplates (0.00s)
--- PASS: TestGetTemplates/returns_templates_from_config_file (0.00s)
--- PASS: TestGetTemplates/returns_empty_list_when_config_file_contains_no_templates (0.00s)
--- PASS: TestGetTemplates/propagates_errors (0.00s)
--- PASS: TestGetTemplates/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestGetTemplates/propagates_errors/when_provenance_status_fails (0.00s)
=== RUN   TestGetTemplate
=== RUN   TestGetTemplate/return_a_template_from_config_file_by_name
=== RUN   TestGetTemplate/returns_ErrTemplateNotFound_when_template_does_not_exist
=== RUN   TestGetTemplate/service_propagates_errors
=== RUN   TestGetTemplate/service_propagates_errors/when_unable_to_read_config
=== RUN   TestGetTemplate/service_propagates_errors/when_provenance_status_fails
--- PASS: TestGetTemplate (0.00s)
--- PASS: TestGetTemplate/return_a_template_from_config_file_by_name (0.00s)
--- PASS: TestGetTemplate/returns_ErrTemplateNotFound_when_template_does_not_exist (0.00s)
--- PASS: TestGetTemplate/service_propagates_errors (0.00s)
--- PASS: TestGetTemplate/service_propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestGetTemplate/service_propagates_errors/when_provenance_status_fails (0.00s)
=== RUN   TestUpsertTemplate
=== RUN   TestUpsertTemplate/adds_new_template_to_config_file
=== RUN   TestUpsertTemplate/updates_current_template
=== RUN   TestUpsertTemplate/updates_current_template/when_version_matches
=== RUN   TestUpsertTemplate/updates_current_template/bypasses_optimistic_concurrency_validation_when_version_is_empty
=== RUN   TestUpsertTemplate/normalizes_template_content_with_no_define
=== RUN   TestUpsertTemplate/does_not_reject_template_with_unknown_field
=== RUN   TestUpsertTemplate/rejects_templates_that_fail_validation
=== RUN   TestUpsertTemplate/rejects_templates_that_fail_validation/empty_content
=== RUN   TestUpsertTemplate/rejects_templates_that_fail_validation/invalid_content
=== RUN   TestUpsertTemplate/rejects_existing_templates_if_provenance_is_not_right
=== RUN   TestUpsertTemplate/rejects_existing_templates_if_version_is_not_right
=== RUN   TestUpsertTemplate/rejects_new_template_if_version_is_set
=== RUN   TestUpsertTemplate/rejects_new_template_has_UID_
=== RUN   TestUpsertTemplate/propagates_errors
=== RUN   TestUpsertTemplate/propagates_errors/when_unable_to_read_config
=== RUN   TestUpsertTemplate/propagates_errors/when_reading_provenance_status_fails
=== RUN   TestUpsertTemplate/propagates_errors/when_provenance_fails_to_save
=== RUN   TestUpsertTemplate/propagates_errors/when_AM_config_fails_to_save
--- PASS: TestUpsertTemplate (0.00s)
--- PASS: TestUpsertTemplate/adds_new_template_to_config_file (0.00s)
--- PASS: TestUpsertTemplate/updates_current_template (0.00s)
--- PASS: TestUpsertTemplate/updates_current_template/when_version_matches (0.00s)
--- PASS: TestUpsertTemplate/updates_current_template/bypasses_optimistic_concurrency_validation_when_version_is_empty (0.00s)
--- PASS: TestUpsertTemplate/normalizes_template_content_with_no_define (0.00s)
--- PASS: TestUpsertTemplate/does_not_reject_template_with_unknown_field (0.00s)
--- PASS: TestUpsertTemplate/rejects_templates_that_fail_validation (0.00s)
--- PASS: TestUpsertTemplate/rejects_templates_that_fail_validation/empty_content (0.00s)
--- PASS: TestUpsertTemplate/rejects_templates_that_fail_validation/invalid_content (0.00s)
--- PASS: TestUpsertTemplate/rejects_existing_templates_if_provenance_is_not_right (0.00s)
--- PASS: TestUpsertTemplate/rejects_existing_templates_if_version_is_not_right (0.00s)
--- PASS: TestUpsertTemplate/rejects_new_template_if_version_is_set (0.00s)
--- PASS: TestUpsertTemplate/rejects_new_template_has_UID_ (0.00s)
--- PASS: TestUpsertTemplate/propagates_errors (0.00s)
--- PASS: TestUpsertTemplate/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestUpsertTemplate/propagates_errors/when_reading_provenance_status_fails (0.00s)
--- PASS: TestUpsertTemplate/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestUpsertTemplate/propagates_errors/when_AM_config_fails_to_save (0.00s)
=== RUN   TestCreateTemplate
=== RUN   TestCreateTemplate/adds_new_template_to_config_file
=== RUN   TestCreateTemplate/returns_ErrTemplateExists_if_template_exists
=== RUN   TestCreateTemplate/rejects_templates_that_fail_validation
=== RUN   TestCreateTemplate/rejects_templates_that_fail_validation/empty_content
=== RUN   TestCreateTemplate/rejects_templates_that_fail_validation/invalid_content
=== RUN   TestCreateTemplate/propagates_errors
=== RUN   TestCreateTemplate/propagates_errors/when_unable_to_read_config
=== RUN   TestCreateTemplate/propagates_errors/when_provenance_fails_to_save
=== RUN   TestCreateTemplate/propagates_errors/when_AM_config_fails_to_save
--- PASS: TestCreateTemplate (0.00s)
--- PASS: TestCreateTemplate/adds_new_template_to_config_file (0.00s)
--- PASS: TestCreateTemplate/returns_ErrTemplateExists_if_template_exists (0.00s)
--- PASS: TestCreateTemplate/rejects_templates_that_fail_validation (0.00s)
--- PASS: TestCreateTemplate/rejects_templates_that_fail_validation/empty_content (0.00s)
--- PASS: TestCreateTemplate/rejects_templates_that_fail_validation/invalid_content (0.00s)
--- PASS: TestCreateTemplate/propagates_errors (0.00s)
--- PASS: TestCreateTemplate/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestCreateTemplate/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestCreateTemplate/propagates_errors/when_AM_config_fails_to_save (0.00s)
=== RUN   TestUpdateTemplate
=== RUN   TestUpdateTemplate/returns_ErrTemplateNotFound_if_template_name_does_not_exist
=== RUN   TestUpdateTemplate/returns_ErrTemplateNotFound_if_template_UID_does_not_exist
=== RUN   TestUpdateTemplate/updates_current_template_by_name
=== RUN   TestUpdateTemplate/updates_current_template_by_name/when_version_matches
=== RUN   TestUpdateTemplate/updates_current_template_by_name/bypasses_optimistic_concurrency_validation_when_version_is_empty
=== RUN   TestUpdateTemplate/updates_current_template_by_uid
=== RUN   TestUpdateTemplate/updates_current_template_by_uid/when_version_matches
=== RUN   TestUpdateTemplate/updates_current_template_by_uid/bypasses_optimistic_concurrency_validation_when_version_is_empty
=== RUN   TestUpdateTemplate/creates_a_new_template_and_delete_old_one_when_template_is_renamed
=== RUN   TestUpdateTemplate/rejects_rename_operation_if_template_with_the_new_name_exists
=== RUN   TestUpdateTemplate/rejects_templates_that_fail_validation
=== RUN   TestUpdateTemplate/rejects_templates_that_fail_validation/empty_content
=== RUN   TestUpdateTemplate/rejects_templates_that_fail_validation/invalid_content
=== RUN   TestUpdateTemplate/rejects_existing_templates_if_provenance_is_not_right
=== RUN   TestUpdateTemplate/rejects_existing_templates_if_version_is_not_right
=== RUN   TestUpdateTemplate/propagates_errors
=== RUN   TestUpdateTemplate/propagates_errors/when_unable_to_read_config
=== RUN   TestUpdateTemplate/propagates_errors/when_reading_provenance_status_fails
=== RUN   TestUpdateTemplate/propagates_errors/when_provenance_fails_to_save
=== RUN   TestUpdateTemplate/propagates_errors/when_AM_config_fails_to_save
--- PASS: TestUpdateTemplate (0.00s)
--- PASS: TestUpdateTemplate/returns_ErrTemplateNotFound_if_template_name_does_not_exist (0.00s)
--- PASS: TestUpdateTemplate/returns_ErrTemplateNotFound_if_template_UID_does_not_exist (0.00s)
--- PASS: TestUpdateTemplate/updates_current_template_by_name (0.00s)
--- PASS: TestUpdateTemplate/updates_current_template_by_name/when_version_matches (0.00s)
--- PASS: TestUpdateTemplate/updates_current_template_by_name/bypasses_optimistic_concurrency_validation_when_version_is_empty (0.00s)
--- PASS: TestUpdateTemplate/updates_current_template_by_uid (0.00s)
--- PASS: TestUpdateTemplate/updates_current_template_by_uid/when_version_matches (0.00s)
--- PASS: TestUpdateTemplate/updates_current_template_by_uid/bypasses_optimistic_concurrency_validation_when_version_is_empty (0.00s)
--- PASS: TestUpdateTemplate/creates_a_new_template_and_delete_old_one_when_template_is_renamed (0.00s)
--- PASS: TestUpdateTemplate/rejects_rename_operation_if_template_with_the_new_name_exists (0.00s)
--- PASS: TestUpdateTemplate/rejects_templates_that_fail_validation (0.00s)
--- PASS: TestUpdateTemplate/rejects_templates_that_fail_validation/empty_content (0.00s)
--- PASS: TestUpdateTemplate/rejects_templates_that_fail_validation/invalid_content (0.00s)
--- PASS: TestUpdateTemplate/rejects_existing_templates_if_provenance_is_not_right (0.00s)
--- PASS: TestUpdateTemplate/rejects_existing_templates_if_version_is_not_right (0.00s)
--- PASS: TestUpdateTemplate/propagates_errors (0.00s)
--- PASS: TestUpdateTemplate/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestUpdateTemplate/propagates_errors/when_reading_provenance_status_fails (0.00s)
--- PASS: TestUpdateTemplate/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestUpdateTemplate/propagates_errors/when_AM_config_fails_to_save (0.00s)
=== RUN   TestDeleteTemplate
=== RUN   TestDeleteTemplate/deletes_template_from_config_file_by_name
=== RUN   TestDeleteTemplate/deletes_template_from_config_file_by_name/when_version_matches
=== RUN   TestDeleteTemplate/deletes_template_from_config_file_by_name/bypasses_optimistic_concurrency_when_version_is_empty
=== RUN   TestDeleteTemplate/deletes_template_from_config_file_by_uid
=== RUN   TestDeleteTemplate/deletes_template_from_config_file_by_uid/when_version_matches
=== RUN   TestDeleteTemplate/deletes_template_from_config_file_by_uid/bypasses_optimistic_concurrency_when_version_is_empty
=== RUN   TestDeleteTemplate/should_look_by_name_before_uid
=== RUN   TestDeleteTemplate/does_not_error_when_deleting_templates_that_do_not_exist
=== RUN   TestDeleteTemplate/errors_if_provenance_is_not_right
=== RUN   TestDeleteTemplate/errors_if_version_is_not_right
=== RUN   TestDeleteTemplate/propagates_errors
=== RUN   TestDeleteTemplate/propagates_errors/when_unable_to_read_config
=== RUN   TestDeleteTemplate/propagates_errors/when_reading_provenance_status_fails
=== RUN   TestDeleteTemplate/propagates_errors/when_provenance_fails_to_save
=== RUN   TestDeleteTemplate/propagates_errors/when_AM_config_fails_to_save
--- PASS: TestDeleteTemplate (0.00s)
--- PASS: TestDeleteTemplate/deletes_template_from_config_file_by_name (0.00s)
--- PASS: TestDeleteTemplate/deletes_template_from_config_file_by_name/when_version_matches (0.00s)
--- PASS: TestDeleteTemplate/deletes_template_from_config_file_by_name/bypasses_optimistic_concurrency_when_version_is_empty (0.00s)
--- PASS: TestDeleteTemplate/deletes_template_from_config_file_by_uid (0.00s)
--- PASS: TestDeleteTemplate/deletes_template_from_config_file_by_uid/when_version_matches (0.00s)
--- PASS: TestDeleteTemplate/deletes_template_from_config_file_by_uid/bypasses_optimistic_concurrency_when_version_is_empty (0.00s)
--- PASS: TestDeleteTemplate/should_look_by_name_before_uid (0.00s)
--- PASS: TestDeleteTemplate/does_not_error_when_deleting_templates_that_do_not_exist (0.00s)
--- PASS: TestDeleteTemplate/errors_if_provenance_is_not_right (0.00s)
--- PASS: TestDeleteTemplate/errors_if_version_is_not_right (0.00s)
--- PASS: TestDeleteTemplate/propagates_errors (0.00s)
--- PASS: TestDeleteTemplate/propagates_errors/when_unable_to_read_config (0.00s)
--- PASS: TestDeleteTemplate/propagates_errors/when_reading_provenance_status_fails (0.00s)
--- PASS: TestDeleteTemplate/propagates_errors/when_provenance_fails_to_save (0.00s)
--- PASS: TestDeleteTemplate/propagates_errors/when_AM_config_fails_to_save (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/provisioning	(cached)
=== RUN   TestValidateProvenanceRelaxed
=== RUN   TestValidateProvenanceRelaxed/all_transitions_from_'none'_are_allowed
=== RUN   TestValidateProvenanceRelaxed/noop_transitions_are_allowed
=== RUN   TestValidateProvenanceRelaxed/no_transitions_to_'none'_are_allowed
=== RUN   TestValidateProvenanceRelaxed/transitions_between_others_are_are_allowed
--- PASS: TestValidateProvenanceRelaxed (0.00s)
--- PASS: TestValidateProvenanceRelaxed/all_transitions_from_'none'_are_allowed (0.00s)
--- PASS: TestValidateProvenanceRelaxed/noop_transitions_are_allowed (0.00s)
--- PASS: TestValidateProvenanceRelaxed/no_transitions_to_'none'_are_allowed (0.00s)
--- PASS: TestValidateProvenanceRelaxed/transitions_between_others_are_are_allowed (0.00s)
=== RUN   TestCanUpdateProvenanceInRuleGroup
=== RUN   TestCanUpdateProvenanceInRuleGroup/same_provenance_transitions_are_allowed
=== RUN   TestCanUpdateProvenanceInRuleGroup/all_transitions_from_'none'_are_allowed
=== RUN   TestCanUpdateProvenanceInRuleGroup/only_specific_provenances_can_transition_to_'none'
=== RUN   TestCanUpdateProvenanceInRuleGroup/transitions_between_different_provenances_are_not_allowed
--- PASS: TestCanUpdateProvenanceInRuleGroup (0.00s)
--- PASS: TestCanUpdateProvenanceInRuleGroup/same_provenance_transitions_are_allowed (0.00s)
--- PASS: TestCanUpdateProvenanceInRuleGroup/all_transitions_from_'none'_are_allowed (0.00s)
--- PASS: TestCanUpdateProvenanceInRuleGroup/only_specific_provenances_can_transition_to_'none' (0.00s)
--- PASS: TestCanUpdateProvenanceInRuleGroup/transitions_between_different_provenances_are_not_allowed (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/provisioning/validation	(cached)
=== RUN   TestNewAlertmanager
=== RUN   TestNewAlertmanager/empty_URL
=== RUN   TestNewAlertmanager/invalid_URL
=== RUN   TestNewAlertmanager/valid_parameters
--- PASS: TestNewAlertmanager (0.00s)
--- PASS: TestNewAlertmanager/empty_URL (0.00s)
--- PASS: TestNewAlertmanager/invalid_URL (0.00s)
--- PASS: TestNewAlertmanager/valid_parameters (0.00s)
=== RUN   TestApplyConfig
--- PASS: TestApplyConfig (10.39s)
=== RUN   TestCompareAndSendConfiguration
=== RUN   TestCompareAndSendConfiguration/invalid_config
=== RUN   TestCompareAndSendConfiguration/invalid_base-64_in_key
=== RUN   TestCompareAndSendConfiguration/decrypt_error
=== RUN   TestCompareAndSendConfiguration/error_from_autogen_function
=== RUN   TestCompareAndSendConfiguration/no_error
--- PASS: TestCompareAndSendConfiguration (0.01s)
--- PASS: TestCompareAndSendConfiguration/invalid_config (0.00s)
--- PASS: TestCompareAndSendConfiguration/invalid_base-64_in_key (0.00s)
--- PASS: TestCompareAndSendConfiguration/decrypt_error (0.00s)
--- PASS: TestCompareAndSendConfiguration/error_from_autogen_function (0.00s)
--- PASS: TestCompareAndSendConfiguration/no_error (0.00s)
=== RUN   Test_TestReceiversDecryptsSecureSettings
--- PASS: Test_TestReceiversDecryptsSecureSettings (0.00s)
=== RUN   Test_isDefaultConfiguration
=== RUN   Test_isDefaultConfiguration/empty_configuration
=== RUN   Test_isDefaultConfiguration/valid_configuration
=== RUN   Test_isDefaultConfiguration/default_configuration
=== RUN   Test_isDefaultConfiguration/default_configuration_with_different_field_order
--- PASS: Test_isDefaultConfiguration (0.00s)
--- PASS: Test_isDefaultConfiguration/empty_configuration (0.00s)
--- PASS: Test_isDefaultConfiguration/valid_configuration (0.00s)
--- PASS: Test_isDefaultConfiguration/default_configuration (0.00s)
--- PASS: Test_isDefaultConfiguration/default_configuration_with_different_field_order (0.00s)
=== RUN   TestIntegrationRemoteAlertmanagerConfiguration
alertmanager_test.go:457: skipping integration test
--- SKIP: TestIntegrationRemoteAlertmanagerConfiguration (0.00s)
=== RUN   TestIntegrationRemoteAlertmanagerGetStatus
alertmanager_test.go:632: skipping integration test
--- SKIP: TestIntegrationRemoteAlertmanagerGetStatus (0.00s)
=== RUN   TestIntegrationRemoteAlertmanagerSilences
alertmanager_test.go:666: skipping integration test
--- SKIP: TestIntegrationRemoteAlertmanagerSilences (0.00s)
=== RUN   TestIntegrationRemoteAlertmanagerAlerts
alertmanager_test.go:751: skipping integration test
--- SKIP: TestIntegrationRemoteAlertmanagerAlerts (0.00s)
=== RUN   TestIntegrationRemoteAlertmanagerReceivers
alertmanager_test.go:827: skipping integration test
--- SKIP: TestIntegrationRemoteAlertmanagerReceivers (0.00s)
=== RUN   TestIntegrationRemoteAlertmanagerTestTemplates
alertmanager_test.go:865: skipping integration test
--- SKIP: TestIntegrationRemoteAlertmanagerTestTemplates (0.00s)
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/ApplyConfig
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/SaveAndApplyConfig
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/SaveAndApplyDefaultConfig
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/GetStatus
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/CreateSilence
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/DeleteSilence
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/GetSilence
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/ListSilences
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/GetAlerts
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/GetAlertGroups
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/PutAlerts
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/GetReceivers
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/TestReceivers
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/TestTemplate
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/StopAndWait
=== RUN   TestForkedAlertmanager_ModeRemoteSecondary/Ready
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/ApplyConfig (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/SaveAndApplyConfig (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/SaveAndApplyDefaultConfig (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/GetStatus (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/CreateSilence (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/DeleteSilence (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/GetSilence (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/ListSilences (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/GetAlerts (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/GetAlertGroups (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/PutAlerts (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/GetReceivers (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/TestReceivers (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/TestTemplate (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/StopAndWait (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemoteSecondary/Ready (0.00s)
=== RUN   TestForkedAlertmanager_ModeRemotePrimary
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/ApplyConfig
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/SaveAndApplyDefaultConfig
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/SaveAndApplyConfig
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/GetStatus
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/CreateSilence
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/DeleteSilence
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/GetSilence
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/ListSilences
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/GetAlerts
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/GetAlertGroups
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/PutAlerts
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/GetReceivers
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/TestReceivers
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/TestTemplate
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/StopAndWait
=== RUN   TestForkedAlertmanager_ModeRemotePrimary/Ready
--- PASS: TestForkedAlertmanager_ModeRemotePrimary (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/ApplyConfig (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/SaveAndApplyDefaultConfig (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/SaveAndApplyConfig (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/GetStatus (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/CreateSilence (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/DeleteSilence (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/GetSilence (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/ListSilences (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/GetAlerts (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/GetAlertGroups (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/PutAlerts (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/GetReceivers (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/TestReceivers (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/TestTemplate (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/StopAndWait (0.00s)
--- PASS: TestForkedAlertmanager_ModeRemotePrimary/Ready (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/remote	(cached)
?   	github.com/grafana/grafana/pkg/services/ngalert/remote/client	[no test files]
?   	github.com/grafana/grafana/pkg/services/ngalert/remote/mock	[no test files]
=== RUN   TestAlertRule
=== RUN   TestAlertRule/when_rule_evaluation_is_not_stopped
=== RUN   TestAlertRule/when_rule_evaluation_is_not_stopped/update_should_send_to_updateCh
=== RUN   TestAlertRule/when_rule_evaluation_is_not_stopped/update_should_drop_any_concurrent_sending_to_updateCh
=== RUN   TestAlertRule/when_rule_evaluation_is_not_stopped/eval_should_send_to_evalCh
=== RUN   TestAlertRule/when_rule_evaluation_is_not_stopped/eval_should_drop_any_concurrent_sending_to_evalCh
=== RUN   TestAlertRule/when_rule_evaluation_is_not_stopped/eval_should_exit_when_context_is_cancelled
=== RUN   TestAlertRule/when_rule_evaluation_is_stopped
=== RUN   TestAlertRule/when_rule_evaluation_is_stopped/Update_should_do_nothing
=== RUN   TestAlertRule/when_rule_evaluation_is_stopped/eval_should_do_nothing
=== RUN   TestAlertRule/when_rule_evaluation_is_stopped/calling_stop_multiple_times_should_not_panic
=== RUN   TestAlertRule/when_rule_evaluation_is_stopped/stop_should_not_panic_if_parent_context_stopped
=== RUN   TestAlertRule/should_be_thread-safe
=== RUN   TestAlertRule/Run_should_exit_if_idle_when_Stop_is_called
--- PASS: TestAlertRule (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_not_stopped (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_not_stopped/update_should_send_to_updateCh (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_not_stopped/update_should_drop_any_concurrent_sending_to_updateCh (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_not_stopped/eval_should_send_to_evalCh (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_not_stopped/eval_should_drop_any_concurrent_sending_to_evalCh (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_not_stopped/eval_should_exit_when_context_is_cancelled (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_stopped (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_stopped/Update_should_do_nothing (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_stopped/eval_should_do_nothing (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_stopped/calling_stop_multiple_times_should_not_panic (0.00s)
--- PASS: TestAlertRule/when_rule_evaluation_is_stopped/stop_should_not_panic_if_parent_context_stopped (0.00s)
--- PASS: TestAlertRule/should_be_thread-safe (0.00s)
--- PASS: TestAlertRule/Run_should_exit_if_idle_when_Stop_is_called (0.00s)
=== RUN   TestAlertRuleIdentifier
=== RUN   TestAlertRuleIdentifier/should_return_correct_identifier
--- PASS: TestAlertRuleIdentifier (0.00s)
--- PASS: TestAlertRuleIdentifier/should_return_correct_identifier (0.00s)
=== RUN   TestAlertRuleAfterEval
=== RUN   TestAlertRuleAfterEval/afterEval_callback_is_called_after_successful_evaluation
=== RUN   TestAlertRuleAfterEval/afterEval_callback_is_called_even_when_evaluation_produces_errors
=== RUN   TestAlertRuleAfterEval/afterEval_callback_is_called_when_rule_is_paused
=== RUN   TestAlertRuleAfterEval/afterEval_callback_is_called_before_stopping_rule_evaluation
--- PASS: TestAlertRuleAfterEval (0.00s)
--- PASS: TestAlertRuleAfterEval/afterEval_callback_is_called_after_successful_evaluation (0.00s)
--- PASS: TestAlertRuleAfterEval/afterEval_callback_is_called_even_when_evaluation_produces_errors (0.00s)
--- PASS: TestAlertRuleAfterEval/afterEval_callback_is_called_when_rule_is_paused (0.00s)
--- PASS: TestAlertRuleAfterEval/afterEval_callback_is_called_before_stopping_rule_evaluation (0.00s)
=== RUN   TestRuleRoutine
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_should_add_extra_labels
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_should_process_evaluation_results_via_state_manager
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_should_save_alert_instances_to_storage
alert_rule_test.go:598: Saved alert instances: &{{1249 aeixalb7rdtznd acf36439c48bcfbdcf6cae03ab24b952c847b01c} map[__alert_rule_namespace_uid__:ceixalb7rdtzob __alert_rule_uid__:aeixalb7rdtznd __grafana_autogenerated__:true __grafana_receiver__:beixalb7rdtzba __grafana_route_settings_hash__:69e9f44fd7b8b42d alertname:title-feixalb7rdtzgd grafana_folder:TEST-FOLDER-ceixalb7rdtzob] Normal  17060-11-03 15:37:21.441821 +0000 UTC 17060-11-03 15:37:21.441821 +0000 UTC 17060-11-03 15:37:21.441821 +0000 UTC <nil> <nil> cbf29ce484222325}
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/status_should_accurately_reflect_latest_evaluation
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_reports_metrics
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_should_add_extra_labels
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_should_process_evaluation_results_via_state_manager
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_should_save_alert_instances_to_storage
alert_rule_test.go:598: Saved alert instances: &{{425 deixalb7wdmobc 267d76fd99f0536e80045bd189a9543d3e2b62d5} map[__alert_rule_namespace_uid__:eeixalb7wdmocb __alert_rule_uid__:deixalb7wdmobc __grafana_autogenerated__:true __grafana_receiver__:ceixalb7wdmo0c __grafana_route_settings_hash__:fc9993a39bc64eac alertname:title-deixalb7wdmo4f grafana_folder:TEST-FOLDER-eeixalb7wdmocb] Alerting  169534-02-11 23:14:31.762483 +0000 UTC 169534-02-11 23:16:31.762483 +0000 UTC 169534-02-11 23:14:31.762483 +0000 UTC 169534-02-11 23:14:31.762483 +0000 UTC <nil> cbf29ce484222325}
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/status_should_accurately_reflect_latest_evaluation
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_reports_metrics
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_should_add_extra_labels
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_should_process_evaluation_results_via_state_manager
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_should_save_alert_instances_to_storage
alert_rule_test.go:598: Saved alert instances: &{{617 beixalb7yvj0ob 16931231562d6f942b2b95c310677bc01525d168} map[__alert_rule_namespace_uid__:beixalb7yvj0pc __alert_rule_uid__:beixalb7yvj0ob alertname:title-eeixalb7yvj0hb grafana_folder:TEST-FOLDER-beixalb7yvj0pc] Pending  140941-08-24 17:56:10.553829 +0000 UTC 140941-08-24 17:58:10.553829 +0000 UTC 140941-08-24 17:56:10.553829 +0000 UTC <nil> <nil> cbf29ce484222325}
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/status_should_accurately_reflect_latest_evaluation
=== RUN   TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_reports_metrics
=== RUN   TestRuleRoutine/should_exit
=== RUN   TestRuleRoutine/should_exit/and_clean_up_the_state_if_parent_context_is_cancelled
=== RUN   TestRuleRoutine/should_exit/and_clean_up_the_state_but_not_send_anything_if_the_reason_is_not_rule_deleted
=== RUN   TestRuleRoutine/should_exit/and_send_resolved_notifications_if_errRuleDeleted_is_the_reason_for_stopping
=== RUN   TestRuleRoutine/when_a_message_is_sent_to_update_channel
=== RUN   TestRuleRoutine/when_a_message_is_sent_to_update_channel/should_do_nothing_if_version_in_channel_is_the_same
=== RUN   TestRuleRoutine/when_a_message_is_sent_to_update_channel/should_clear_the_state_and_expire_firing_alerts_if_version_in_channel_is_greater
=== RUN   TestRuleRoutine/when_evaluation_fails
=== RUN   TestRuleRoutine/when_evaluation_fails/it_should_increase_failure_counter_by_1_and_attempt_failure_counter_by_3
=== RUN   TestRuleRoutine/when_evaluation_fails/it_should_send_special_alert_DatasourceError
=== RUN   TestRuleRoutine/when_evaluation_fails/status_should_reflect_unhealthy_rule
=== RUN   TestRuleRoutine/when_there_are_alerts_that_should_be_firing
=== RUN   TestRuleRoutine/when_there_are_alerts_that_should_be_firing/it_should_call_sender
=== RUN   TestRuleRoutine/when_there_are_no_alerts_to_send_it_should_not_call_notifiers
=== RUN   TestRuleRoutine/when_there_are_resolved_alerts_they_should_keep_sending_until_retention_period_is_over
--- PASS: TestRuleRoutine (2.12s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal) (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_should_add_extra_labels (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_should_process_evaluation_results_via_state_manager (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_should_save_alert_instances_to_storage (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/status_should_accurately_reflect_latest_evaluation (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Normal)/it_reports_metrics (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting) (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_should_add_extra_labels (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_should_process_evaluation_results_via_state_manager (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_should_save_alert_instances_to_storage (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/status_should_accurately_reflect_latest_evaluation (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Alerting)/it_reports_metrics (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending) (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_should_add_extra_labels (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_should_process_evaluation_results_via_state_manager (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_should_save_alert_instances_to_storage (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/status_should_accurately_reflect_latest_evaluation (0.00s)
--- PASS: TestRuleRoutine/when_rule_evaluation_happens_(evaluation_state_Pending)/it_reports_metrics (0.00s)
--- PASS: TestRuleRoutine/should_exit (0.00s)
--- PASS: TestRuleRoutine/should_exit/and_clean_up_the_state_if_parent_context_is_cancelled (0.00s)
--- PASS: TestRuleRoutine/should_exit/and_clean_up_the_state_but_not_send_anything_if_the_reason_is_not_rule_deleted (0.00s)
--- PASS: TestRuleRoutine/should_exit/and_send_resolved_notifications_if_errRuleDeleted_is_the_reason_for_stopping (0.00s)
--- PASS: TestRuleRoutine/when_a_message_is_sent_to_update_channel (0.10s)
--- PASS: TestRuleRoutine/when_a_message_is_sent_to_update_channel/should_do_nothing_if_version_in_channel_is_the_same (0.00s)
--- PASS: TestRuleRoutine/when_a_message_is_sent_to_update_channel/should_clear_the_state_and_expire_firing_alerts_if_version_in_channel_is_greater (0.10s)
--- PASS: TestRuleRoutine/when_evaluation_fails (2.01s)
--- PASS: TestRuleRoutine/when_evaluation_fails/it_should_increase_failure_counter_by_1_and_attempt_failure_counter_by_3 (0.00s)
--- PASS: TestRuleRoutine/when_evaluation_fails/it_should_send_special_alert_DatasourceError (0.00s)
--- PASS: TestRuleRoutine/when_evaluation_fails/status_should_reflect_unhealthy_rule (0.00s)
--- PASS: TestRuleRoutine/when_there_are_alerts_that_should_be_firing (0.00s)
--- PASS: TestRuleRoutine/when_there_are_alerts_that_should_be_firing/it_should_call_sender (0.00s)
--- PASS: TestRuleRoutine/when_there_are_no_alerts_to_send_it_should_not_call_notifiers (0.00s)
--- PASS: TestRuleRoutine/when_there_are_resolved_alerts_they_should_keep_sending_until_retention_period_is_over (0.00s)
=== RUN   TestJitter
=== RUN   TestJitter/when_strategy_is_JitterNever
=== RUN   TestJitter/when_strategy_is_JitterNever/offset_is_always_zero
=== RUN   TestJitter/when_strategy_is_JitterByGroup
=== RUN   TestJitter/when_strategy_is_JitterByGroup/offset_is_stable_for_the_same_rule
=== RUN   TestJitter/when_strategy_is_JitterByGroup/offset_is_on_the_interval_[0,_interval/baseInterval)
=== RUN   TestJitter/when_strategy_is_JitterByGroup/offset_for_any_rule_in_the_same_group_is_always_the_same
=== RUN   TestJitter/when_strategy_is_JitterByRule
=== RUN   TestJitter/when_strategy_is_JitterByRule/offset_is_stable_for_the_same_rule
=== RUN   TestJitter/when_strategy_is_JitterByRule/offset_is_on_the_interval_[0,_interval/baseInterval)
--- PASS: TestJitter (0.05s)
--- PASS: TestJitter/when_strategy_is_JitterNever (0.00s)
--- PASS: TestJitter/when_strategy_is_JitterNever/offset_is_always_zero (0.00s)
--- PASS: TestJitter/when_strategy_is_JitterByGroup (0.03s)
--- PASS: TestJitter/when_strategy_is_JitterByGroup/offset_is_stable_for_the_same_rule (0.00s)
--- PASS: TestJitter/when_strategy_is_JitterByGroup/offset_is_on_the_interval_[0,_interval/baseInterval) (0.01s)
--- PASS: TestJitter/when_strategy_is_JitterByGroup/offset_for_any_rule_in_the_same_group_is_always_the_same (0.02s)
--- PASS: TestJitter/when_strategy_is_JitterByRule (0.01s)
--- PASS: TestJitter/when_strategy_is_JitterByRule/offset_is_stable_for_the_same_rule (0.00s)
--- PASS: TestJitter/when_strategy_is_JitterByRule/offset_is_on_the_interval_[0,_interval/baseInterval) (0.01s)
=== RUN   TestLoadedResultsFromRuleState
=== RUN   TestLoadedResultsFromRuleState/should_return_pending_and_alerting_states
=== RUN   TestLoadedResultsFromRuleState/should_not_return_any_states_with_reason
=== RUN   TestLoadedResultsFromRuleState/empty_if_no_states
--- PASS: TestLoadedResultsFromRuleState (0.00s)
--- PASS: TestLoadedResultsFromRuleState/should_return_pending_and_alerting_states (0.00s)
--- PASS: TestLoadedResultsFromRuleState/should_not_return_any_states_with_reason (0.00s)
--- PASS: TestLoadedResultsFromRuleState/empty_if_no_states (0.00s)
=== RUN   TestHashUIDs
--- PASS: TestHashUIDs (0.00s)
=== RUN   TestRecordingRule
=== RUN   TestRecordingRule/when_rule_evaluation_is_not_stopped
=== RUN   TestRecordingRule/when_rule_evaluation_is_not_stopped/eval_should_send_to_evalCh
=== RUN   TestRecordingRule/when_rule_evaluation_is_stopped
=== RUN   TestRecordingRule/when_rule_evaluation_is_stopped/eval_should_do_nothing
=== RUN   TestRecordingRule/when_rule_evaluation_is_stopped/calling_stop_multiple_times_should_not_panic
=== RUN   TestRecordingRule/when_rule_evaluation_is_stopped/stop_should_not_panic_if_parent_context_stopped
=== RUN   TestRecordingRule/eval_should_be_thread-safe
=== RUN   TestRecordingRule/Run_should_exit_if_idle_when_Stop_is_called
--- PASS: TestRecordingRule (0.00s)
--- PASS: TestRecordingRule/when_rule_evaluation_is_not_stopped (0.00s)
--- PASS: TestRecordingRule/when_rule_evaluation_is_not_stopped/eval_should_send_to_evalCh (0.00s)
--- PASS: TestRecordingRule/when_rule_evaluation_is_stopped (0.00s)
--- PASS: TestRecordingRule/when_rule_evaluation_is_stopped/eval_should_do_nothing (0.00s)
--- PASS: TestRecordingRule/when_rule_evaluation_is_stopped/calling_stop_multiple_times_should_not_panic (0.00s)
--- PASS: TestRecordingRule/when_rule_evaluation_is_stopped/stop_should_not_panic_if_parent_context_stopped (0.00s)
--- PASS: TestRecordingRule/eval_should_be_thread-safe (0.00s)
--- PASS: TestRecordingRule/Run_should_exit_if_idle_when_Stop_is_called (0.00s)
=== RUN   TestRecordingRuleIdentifier
=== RUN   TestRecordingRuleIdentifier/should_return_correct_identifier
--- PASS: TestRecordingRuleIdentifier (0.00s)
--- PASS: TestRecordingRuleIdentifier/should_return_correct_identifier (0.00s)
=== RUN   TestRecordingRule_Integration
=== RUN   TestRecordingRule_Integration/with_prometheus_writer
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/status_shows_no_evaluations
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/reports_basic_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/reports_success_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/reports_remote_write_metrics
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/status_shows_evaluation
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/write_was_performed
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/status_shows_no_evaluations
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/reports_basic_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/reports_failure_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/reports_remote_write_metrics
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/status_shows_evaluation
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/no_write_was_performed
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/nodata_rule
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/nodata_rule/status_shows_no_evaluations
=== RUN   TestRecordingRule_Integration/with_prometheus_writer/nodata_rule/status_shows_evaluation
=== RUN   TestRecordingRule_Integration/with_datasource_writer
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/status_shows_no_evaluations
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/reports_basic_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/reports_success_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/reports_remote_write_metrics
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/status_shows_evaluation
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/write_was_performed
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/status_shows_no_evaluations
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/reports_basic_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/reports_failure_evaluation_metrics
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/reports_remote_write_metrics
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/status_shows_evaluation
=== RUN   TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/no_write_was_performed
=== RUN   TestRecordingRule_Integration/with_datasource_writer/nodata_rule
=== RUN   TestRecordingRule_Integration/with_datasource_writer/nodata_rule/status_shows_no_evaluations
=== RUN   TestRecordingRule_Integration/with_datasource_writer/nodata_rule/status_shows_evaluation
--- PASS: TestRecordingRule_Integration (0.01s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer (0.01s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/status_shows_no_evaluations (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/reports_basic_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/reports_success_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/reports_remote_write_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/status_shows_evaluation (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_succeeds/write_was_performed (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/status_shows_no_evaluations (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/reports_basic_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/reports_failure_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/reports_remote_write_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/status_shows_evaluation (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/rule_that_errors/no_write_was_performed (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/nodata_rule (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/nodata_rule/status_shows_no_evaluations (0.00s)
--- PASS: TestRecordingRule_Integration/with_prometheus_writer/nodata_rule/status_shows_evaluation (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer (0.01s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/status_shows_no_evaluations (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/reports_basic_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/reports_success_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/reports_remote_write_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/status_shows_evaluation (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_succeeds/write_was_performed (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/status_shows_no_evaluations (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/reports_basic_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/reports_failure_evaluation_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/reports_remote_write_metrics (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/status_shows_evaluation (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/rule_that_errors/no_write_was_performed (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/nodata_rule (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/nodata_rule/status_shows_no_evaluations (0.00s)
--- PASS: TestRecordingRule_Integration/with_datasource_writer/nodata_rule/status_shows_evaluation (0.00s)
=== RUN   TestRecordingRuleAfterEval
=== RUN   TestRecordingRuleAfterEval/afterEval_callback_is_called_after_successful_evaluation
=== RUN   TestRecordingRuleAfterEval/afterEval_callback_is_called_even_when_evaluation_fails
=== RUN   TestRecordingRuleAfterEval/afterEval_callback_is_not_called_when_recording_rule_feature_is_disabled
=== RUN   TestRecordingRuleAfterEval/afterEval_callback_is_called_before_stopping_rule_evaluation
=== RUN   TestRecordingRuleAfterEval/afterEval_callback_is_still_called_when_rule_is_paused
--- PASS: TestRecordingRuleAfterEval (0.50s)
--- PASS: TestRecordingRuleAfterEval/afterEval_callback_is_called_after_successful_evaluation (0.00s)
--- PASS: TestRecordingRuleAfterEval/afterEval_callback_is_called_even_when_evaluation_fails (0.00s)
--- PASS: TestRecordingRuleAfterEval/afterEval_callback_is_not_called_when_recording_rule_feature_is_disabled (0.50s)
--- PASS: TestRecordingRuleAfterEval/afterEval_callback_is_called_before_stopping_rule_evaluation (0.00s)
--- PASS: TestRecordingRuleAfterEval/afterEval_callback_is_still_called_when_rule_is_paused (0.00s)
=== RUN   TestSchedulableAlertRulesRegistry
--- PASS: TestSchedulableAlertRulesRegistry (0.00s)
=== RUN   TestSchedulableAlertRulesRegistry_set
=== RUN   TestSchedulableAlertRulesRegistry_set/should_return_empty_diff_if_exactly_the_same_rules
=== RUN   TestSchedulableAlertRulesRegistry_set/should_return_empty_diff_if_version_does_not_change
=== RUN   TestSchedulableAlertRulesRegistry_set/should_return_key_in_diff_if_version_changes
--- PASS: TestSchedulableAlertRulesRegistry_set (0.00s)
--- PASS: TestSchedulableAlertRulesRegistry_set/should_return_empty_diff_if_exactly_the_same_rules (0.00s)
--- PASS: TestSchedulableAlertRulesRegistry_set/should_return_empty_diff_if_version_does_not_change (0.00s)
--- PASS: TestSchedulableAlertRulesRegistry_set/should_return_key_in_diff_if_version_changes (0.00s)
=== RUN   TestRuleWithFolderFingerprint
=== RUN   TestRuleWithFolderFingerprint/should_calculate_a_fingerprint
=== RUN   TestRuleWithFolderFingerprint/mirror_copy_should_have_the_same_fingerprint
=== RUN   TestRuleWithFolderFingerprint/order_of_queries_should_not_affect_the_fingerprint
=== RUN   TestRuleWithFolderFingerprint/folder_name_should_be_used_in_fingerprint
=== RUN   TestRuleWithFolderFingerprint/Version,_Updated,_IntervalSeconds,_GUID_and_Annotations_should_be_excluded_from_fingerprint
=== RUN   TestRuleWithFolderFingerprint/all_other_fields_should_be_considered
--- PASS: TestRuleWithFolderFingerprint (0.00s)
--- PASS: TestRuleWithFolderFingerprint/should_calculate_a_fingerprint (0.00s)
--- PASS: TestRuleWithFolderFingerprint/mirror_copy_should_have_the_same_fingerprint (0.00s)
--- PASS: TestRuleWithFolderFingerprint/order_of_queries_should_not_affect_the_fingerprint (0.00s)
--- PASS: TestRuleWithFolderFingerprint/folder_name_should_be_used_in_fingerprint (0.00s)
--- PASS: TestRuleWithFolderFingerprint/Version,_Updated,_IntervalSeconds,_GUID_and_Annotations_should_be_excluded_from_fingerprint (0.00s)
--- PASS: TestRuleWithFolderFingerprint/all_other_fields_should_be_considered (0.00s)
=== RUN   TestProcessTicks
=== RUN   TestProcessTicks/before_1st_tick_status_should_not_be_available
=== RUN   TestProcessTicks/on_1st_tick_alert_rule_should_be_evaluated
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:01 +0000 UTC
=== RUN   TestProcessTicks/after_1st_tick_rule_metrics_should_report_one_active_alert_rule
=== RUN   TestProcessTicks/after_1st_tick_status_for_rule_should_be_available
=== RUN   TestProcessTicks/before_2nd_tick_status_for_rule_should_not_be_available
=== RUN   TestProcessTicks/on_2nd_tick_first_alert_rule_should_be_evaluated
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:02 +0000 UTC
=== RUN   TestProcessTicks/after_2nd_tick_rule_metrics_should_report_two_active_alert_rules_in_two_groups
=== RUN   TestProcessTicks/on_3rd_tick_two_alert_rules_should_be_evaluated
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:03 +0000 UTC
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgekagwkc} evaluated at: 0001-01-01 00:00:03 +0000 UTC
=== RUN   TestProcessTicks/after_3rd_tick_status_for_both_rules_should_be_available
=== RUN   TestProcessTicks/on_4th_tick_only_one_alert_rule_should_be_evaluated
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:04 +0000 UTC
=== RUN   TestProcessTicks/on_5th_tick_an_alert_rule_is_paused_(it_still_enters_evaluation_but_it_is_early_skipped)
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:05 +0000 UTC
=== RUN   TestProcessTicks/after_5th_tick_rule_metrics_should_report_one_active_and_one_paused_alert_rules_in_two_groups
=== RUN   TestProcessTicks/after_5th_tick_status_for_both_rules_should_be_available_regardless_of_pause_state
=== RUN   TestProcessTicks/on_6th_tick_all_alert_rule_are_paused_(it_still_enters_evaluation_but_it_is_early_skipped)
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:06 +0000 UTC
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgekagwkc} evaluated at: 0001-01-01 00:00:06 +0000 UTC
=== RUN   TestProcessTicks/after_6th_tick_rule_metrics_should_report_two_paused_alert_rules_in_two_groups
=== RUN   TestProcessTicks/on_7th_tick_unpause_all_alert_rules
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgehskjre} evaluated at: 0001-01-01 00:00:07 +0000 UTC
=== RUN   TestProcessTicks/after_7th_tick_rule_metrics_should_report_two_active_alert_rules_in_two_groups
=== RUN   TestProcessTicks/on_8th_tick_deleted_rule_should_not_be_evaluated_but_stopped
schedule_unit_test.go:1327: alert rule: {orgID: 1, UID: aeixalgehskjre} stopped
=== RUN   TestProcessTicks/after_8th_tick_rule_metrics_should_report_one_active_alert_rule
=== RUN   TestProcessTicks/after_8th_tick_status_for_deleted_rule_should_not_be_available
=== RUN   TestProcessTicks/on_9th_tick_one_alert_rule_should_be_evaluated
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: aeixalgekagwkc} evaluated at: 0001-01-01 00:00:09 +0000 UTC
=== RUN   TestProcessTicks/on_10th_tick_a_new_alert_rule_should_be_evaluated
schedule_unit_test.go:1300: alert rule: {orgID: 1, UID: ceixalic7gjyud} evaluated at: 0001-01-01 00:00:10 +0000 UTC
=== RUN   TestProcessTicks/after_10th_tick_status_for_remaining_rules_should_be_available
=== RUN   TestProcessTicks/on_11th_tick_rule2_should_be_updated
=== RUN   TestProcessTicks/on_12th_tick_recording_rule_and_alert_rules_should_be_evaluated
=== RUN   TestProcessTicks/on_13th_tick_recording_rule_should_be_updated
=== RUN   TestProcessTicks/on_14th_tick_both_1-tick_alert_rule_and_2-tick_recording_rule_should_be_evaluated
=== RUN   TestProcessTicks/prior_to_15th_tick_alertRule3_should_still_be_scheduled_as_alerting_rule
=== RUN   TestProcessTicks/on_15th_tick_converted_rule_and_3-tick_alert_rule_should_be_evaluated
=== RUN   TestProcessTicks/on_16th_tick_converted_rule_and_2-tick_recording_rule_should_be_evaluated
=== RUN   TestProcessTicks/on_17th_tick_all_rules_should_be_stopped
=== RUN   TestProcessTicks/after_17th_tick_no_status_should_be_available
=== RUN   TestProcessTicks/scheduled_rules_should_be_sorted
=== RUN   TestProcessTicks/sequence_should_be_evaluated_in_the_correct_order
--- PASS: TestProcessTicks (1.11s)
--- PASS: TestProcessTicks/before_1st_tick_status_should_not_be_available (0.00s)
--- PASS: TestProcessTicks/on_1st_tick_alert_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/after_1st_tick_rule_metrics_should_report_one_active_alert_rule (0.00s)
--- PASS: TestProcessTicks/after_1st_tick_status_for_rule_should_be_available (0.00s)
--- PASS: TestProcessTicks/before_2nd_tick_status_for_rule_should_not_be_available (0.00s)
--- PASS: TestProcessTicks/on_2nd_tick_first_alert_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/after_2nd_tick_rule_metrics_should_report_two_active_alert_rules_in_two_groups (0.00s)
--- PASS: TestProcessTicks/on_3rd_tick_two_alert_rules_should_be_evaluated (0.50s)
--- PASS: TestProcessTicks/after_3rd_tick_status_for_both_rules_should_be_available (0.00s)
--- PASS: TestProcessTicks/on_4th_tick_only_one_alert_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/on_5th_tick_an_alert_rule_is_paused_(it_still_enters_evaluation_but_it_is_early_skipped) (0.00s)
--- PASS: TestProcessTicks/after_5th_tick_rule_metrics_should_report_one_active_and_one_paused_alert_rules_in_two_groups (0.00s)
--- PASS: TestProcessTicks/after_5th_tick_status_for_both_rules_should_be_available_regardless_of_pause_state (0.00s)
--- PASS: TestProcessTicks/on_6th_tick_all_alert_rule_are_paused_(it_still_enters_evaluation_but_it_is_early_skipped) (0.50s)
--- PASS: TestProcessTicks/after_6th_tick_rule_metrics_should_report_two_paused_alert_rules_in_two_groups (0.00s)
--- PASS: TestProcessTicks/on_7th_tick_unpause_all_alert_rules (0.00s)
--- PASS: TestProcessTicks/after_7th_tick_rule_metrics_should_report_two_active_alert_rules_in_two_groups (0.00s)
--- PASS: TestProcessTicks/on_8th_tick_deleted_rule_should_not_be_evaluated_but_stopped (0.00s)
--- PASS: TestProcessTicks/after_8th_tick_rule_metrics_should_report_one_active_alert_rule (0.00s)
--- PASS: TestProcessTicks/after_8th_tick_status_for_deleted_rule_should_not_be_available (0.00s)
--- PASS: TestProcessTicks/on_9th_tick_one_alert_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/on_10th_tick_a_new_alert_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/after_10th_tick_status_for_remaining_rules_should_be_available (0.00s)
--- PASS: TestProcessTicks/on_11th_tick_rule2_should_be_updated (0.00s)
--- PASS: TestProcessTicks/on_12th_tick_recording_rule_and_alert_rules_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/on_13th_tick_recording_rule_should_be_updated (0.00s)
--- PASS: TestProcessTicks/on_14th_tick_both_1-tick_alert_rule_and_2-tick_recording_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/prior_to_15th_tick_alertRule3_should_still_be_scheduled_as_alerting_rule (0.00s)
--- PASS: TestProcessTicks/on_15th_tick_converted_rule_and_3-tick_alert_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/on_16th_tick_converted_rule_and_2-tick_recording_rule_should_be_evaluated (0.00s)
--- PASS: TestProcessTicks/on_17th_tick_all_rules_should_be_stopped (0.00s)
--- PASS: TestProcessTicks/after_17th_tick_no_status_should_be_available (0.00s)
--- PASS: TestProcessTicks/scheduled_rules_should_be_sorted (0.00s)
--- PASS: TestProcessTicks/sequence_should_be_evaluated_in_the_correct_order (0.10s)
=== RUN   TestSchedule_updateRulesMetrics
=== RUN   TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state
=== RUN   TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics
=== RUN   TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_one_active_rule_in_a_single_group
=== RUN   TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_two_active_rules_in_two_groups
=== RUN   TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_one_active_rules_in_one_groups
=== RUN   TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_one_active_rules_in_one_groups#01
=== RUN   TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state
=== RUN   TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics
=== RUN   TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/it_should_show_one_imported_rule_in_a_single_org
=== RUN   TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/it_should_show_two_imported_rules_in_two_orgs
=== RUN   TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/after_removing_all_rules_it_should_not_show_any_metrics
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/it_should_not_show_metrics
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/it_should_show_one_rule_group_in_a_single_org
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/it_should_show_two_rule_groups_in_two_orgs
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/when_the_first_rule_is_removed_it_should_show_one_rule_group
=== RUN   TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state
=== RUN   TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics
=== RUN   TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/it_should_show_one_rule_in_a_single_org
=== RUN   TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/it_should_show_two_rules_in_two_orgs
=== RUN   TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/after_removing_one_of_the_rules_it_should_show_one_present_rule_and_two_org
=== RUN   TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/after_removing_all_rules_it_should_not_show_any_metrics
=== RUN   TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state
=== RUN   TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics
=== RUN   TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/it_should_show_one_rule_in_a_single_org
=== RUN   TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/it_should_show_two_rules_in_two_orgs
=== RUN   TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/after_removing_one_of_the_rules_it_should_show_one_present_rule_and_one_org
=== RUN   TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/after_removing_all_rules_it_should_not_show_any_metrics
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/it_should_not_show_metrics
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/it_should_show_one_rule_group_in_a_single_org
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/it_should_show_two_rule_groups_in_two_orgs
=== RUN   TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/when_the_first_rule_is_removed_it_should_show_one_rule_group
--- PASS: TestSchedule_updateRulesMetrics (0.01s)
--- PASS: TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_one_active_rule_in_a_single_group (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_two_active_rules_in_two_groups (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_one_active_rules_in_one_groups (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/grafana_alerting_rule_group_rules_metric_should_reflect_the_current_state/it_should_show_one_active_rules_in_one_groups#01 (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/it_should_show_one_imported_rule_in_a_single_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/it_should_show_two_imported_rules_in_two_orgs (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/prometheus_imported_rules_metric_should_reflect_the_current_state/after_removing_all_rules_it_should_not_show_any_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/it_should_not_show_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/it_should_show_one_rule_group_in_a_single_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/it_should_show_two_rule_groups_in_two_orgs (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state/when_the_first_rule_is_removed_it_should_show_one_rule_group (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/it_should_show_one_rule_in_a_single_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/it_should_show_two_rules_in_two_orgs (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/after_removing_one_of_the_rules_it_should_show_one_present_rule_and_two_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simple_routing_rules_metric_should_reflect_the_current_state/after_removing_all_rules_it_should_not_show_any_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/it_should_not_show_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/it_should_show_one_rule_in_a_single_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/it_should_show_two_rules_in_two_orgs (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/after_removing_one_of_the_rules_it_should_show_one_present_rule_and_one_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/simplified_editor_rules_metric_should_reflect_the_current_state/after_removing_all_rules_it_should_not_show_any_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01 (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/it_should_not_show_metrics (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/it_should_show_one_rule_group_in_a_single_org (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/it_should_show_two_rule_groups_in_two_orgs (0.00s)
--- PASS: TestSchedule_updateRulesMetrics/rule_groups_metric_should_reflect_the_current_state#01/when_the_first_rule_is_removed_it_should_show_one_rule_group (0.00s)
=== RUN   TestSchedule_deleteAlertRule
=== RUN   TestSchedule_deleteAlertRule/when_rule_exists
=== RUN   TestSchedule_deleteAlertRule/when_rule_exists/it_should_stop_evaluation_loop_and_remove_the_controller_from_registry
=== RUN   TestSchedule_deleteAlertRule/when_rule_exists/it_should_call_ruleStopReasonProvider_if_it_is_defined
=== RUN   TestSchedule_deleteAlertRule/when_rule_exists/it_should_use_the_default_reason_if_ruleStopReasonProvider_does_not_return_anything
=== RUN   TestSchedule_deleteAlertRule/when_rule_exists/it_should_still_call_ruleStopReasonProvider_if_the_rule_is_not_found_in_the_registry
=== RUN   TestSchedule_deleteAlertRule/when_rule_does_not_exist
=== RUN   TestSchedule_deleteAlertRule/when_rule_does_not_exist/should_exit
--- PASS: TestSchedule_deleteAlertRule (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_exists (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_exists/it_should_stop_evaluation_loop_and_remove_the_controller_from_registry (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_exists/it_should_call_ruleStopReasonProvider_if_it_is_defined (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_exists/it_should_use_the_default_reason_if_ruleStopReasonProvider_does_not_return_anything (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_exists/it_should_still_call_ruleStopReasonProvider_if_the_rule_is_not_found_in_the_registry (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_does_not_exist (0.00s)
--- PASS: TestSchedule_deleteAlertRule/when_rule_does_not_exist/should_exit (0.00s)
=== RUN   TestSequence
=== RUN   TestSequence/should_set_callbacks_in_correct_order
--- PASS: TestSequence (0.00s)
--- PASS: TestSequence/should_set_callbacks_in_correct_order (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/schedule	(cached)
=== RUN   TestPostPath
--- PASS: TestPostPath (0.00s)
=== RUN   TestHandlerNextBatch
--- PASS: TestHandlerNextBatch (0.00s)
=== RUN   TestHandlerSendAll
--- PASS: TestHandlerSendAll (0.01s)
=== RUN   TestHandlerSendAllRemapPerAm
--- PASS: TestHandlerSendAllRemapPerAm (0.00s)
=== RUN   TestCustomDo
--- PASS: TestCustomDo (0.00s)
=== RUN   TestExternalLabels
--- PASS: TestExternalLabels (0.00s)
=== RUN   TestHandlerRelabel
--- PASS: TestHandlerRelabel (0.00s)
=== RUN   TestHandlerQueuing
--- PASS: TestHandlerQueuing (0.01s)
=== RUN   TestLabelSetNotReused
--- PASS: TestLabelSetNotReused (0.00s)
=== RUN   TestReload
--- PASS: TestReload (0.00s)
=== RUN   TestDroppedAlertmanagers
--- PASS: TestDroppedAlertmanagers (0.00s)
=== RUN   TestLabelsToOpenAPILabelSet
--- PASS: TestLabelsToOpenAPILabelSet (0.00s)
=== RUN   TestHangingNotifier
--- PASS: TestHangingNotifier (0.06s)
=== RUN   TestStop_DrainingDisabled
--- PASS: TestStop_DrainingDisabled (1.01s)
=== RUN   TestStop_DrainingEnabled
--- PASS: TestStop_DrainingEnabled (0.00s)
=== RUN   TestApplyConfig
--- PASS: TestApplyConfig (0.00s)
=== RUN   TestIntegrationSendingToExternalAlertmanager
router_test.go:37: skipping integration test
--- SKIP: TestIntegrationSendingToExternalAlertmanager (0.00s)
=== RUN   TestIntegrationSendingToExternalAlertmanager_WithMultipleOrgs
router_test.go:106: skipping integration test
--- SKIP: TestIntegrationSendingToExternalAlertmanager_WithMultipleOrgs (0.00s)
=== RUN   TestChangingAlertmanagersChoice
--- PASS: TestChangingAlertmanagersChoice (5.92s)
=== RUN   TestAlertmanagersChoiceWithDisableExternalFeatureToggle
--- PASS: TestAlertmanagersChoiceWithDisableExternalFeatureToggle (0.11s)
=== RUN   TestBuildExternalURL
=== RUN   TestBuildExternalURL/datasource_without_auth
=== RUN   TestBuildExternalURL/datasource_without_auth_and_with_path
=== RUN   TestBuildExternalURL/datasource_with_auth
=== RUN   TestBuildExternalURL/datasource_with_auth_that_needs_escaping
=== RUN   TestBuildExternalURL/datasource_with_auth_and_path
=== RUN   TestBuildExternalURL/with_no_scheme_specified_in_the_datasource
=== RUN   TestBuildExternalURL/with_no_scheme_specified_not_auth_in_the_datasource
=== RUN   TestBuildExternalURL/adds_/alertmanager_to_path_when_implementation_is_mimir
=== RUN   TestBuildExternalURL/adds_/alertmanager_to_path_when_implementation_is_cortex
=== RUN   TestBuildExternalURL/do_nothing_when_implementation_is_prometheus
=== RUN   TestBuildExternalURL/do_not_add_/alertmanager_to_path_when_last_segment_already_contains_it
=== RUN   TestBuildExternalURL/add_/alertmanager_to_path_when_last_segment_does_not_exactly_match
=== RUN   TestBuildExternalURL/add_/alertmanager_to_path_when_exists_but_is_not_last_segment
--- PASS: TestBuildExternalURL (0.00s)
--- PASS: TestBuildExternalURL/datasource_without_auth (0.00s)
--- PASS: TestBuildExternalURL/datasource_without_auth_and_with_path (0.00s)
--- PASS: TestBuildExternalURL/datasource_with_auth (0.00s)
--- PASS: TestBuildExternalURL/datasource_with_auth_that_needs_escaping (0.00s)
--- PASS: TestBuildExternalURL/datasource_with_auth_and_path (0.00s)
--- PASS: TestBuildExternalURL/with_no_scheme_specified_in_the_datasource (0.00s)
--- PASS: TestBuildExternalURL/with_no_scheme_specified_not_auth_in_the_datasource (0.00s)
--- PASS: TestBuildExternalURL/adds_/alertmanager_to_path_when_implementation_is_mimir (0.00s)
--- PASS: TestBuildExternalURL/adds_/alertmanager_to_path_when_implementation_is_cortex (0.00s)
--- PASS: TestBuildExternalURL/do_nothing_when_implementation_is_prometheus (0.00s)
--- PASS: TestBuildExternalURL/do_not_add_/alertmanager_to_path_when_last_segment_already_contains_it (0.00s)
--- PASS: TestBuildExternalURL/add_/alertmanager_to_path_when_last_segment_does_not_exactly_match (0.00s)
--- PASS: TestBuildExternalURL/add_/alertmanager_to_path_when_exists_but_is_not_last_segment (0.00s)
=== RUN   TestAlertManegers_asSHA256
=== RUN   TestAlertManegers_asSHA256/asSHA256
--- PASS: TestAlertManegers_asSHA256 (0.00s)
--- PASS: TestAlertManegers_asSHA256/asSHA256 (0.00s)
=== RUN   TestAlertManagers_buildRedactedAMs
=== RUN   TestAlertManagers_buildRedactedAMs/buildRedactedAMs
=== RUN   TestAlertManagers_buildRedactedAMs/Error_building_redacted_AM_URLs
--- PASS: TestAlertManagers_buildRedactedAMs (0.00s)
--- PASS: TestAlertManagers_buildRedactedAMs/buildRedactedAMs (0.00s)
--- PASS: TestAlertManagers_buildRedactedAMs/Error_building_redacted_AM_URLs (0.00s)
=== RUN   TestSanitizeLabelName
=== RUN   TestSanitizeLabelName/Remove_whitespace
=== RUN   TestSanitizeLabelName/Replace_ASCII_with_underscore
=== RUN   TestSanitizeLabelName/Replace_non-ASCII_unicode_with_hex
=== RUN   TestSanitizeLabelName/If_first_character_is_replaced_with_hex,_prefix_with_underscore
=== RUN   TestSanitizeLabelName/Empty_string_should_error
=== RUN   TestSanitizeLabelName/Only_whitespace_should_error
--- PASS: TestSanitizeLabelName (0.00s)
--- PASS: TestSanitizeLabelName/Remove_whitespace (0.00s)
--- PASS: TestSanitizeLabelName/Replace_ASCII_with_underscore (0.00s)
--- PASS: TestSanitizeLabelName/Replace_non-ASCII_unicode_with_hex (0.00s)
--- PASS: TestSanitizeLabelName/If_first_character_is_replaced_with_hex,_prefix_with_underscore (0.00s)
--- PASS: TestSanitizeLabelName/Empty_string_should_error (0.00s)
--- PASS: TestSanitizeLabelName/Only_whitespace_should_error (0.00s)
=== RUN   TestSanitizeLabelSet
=== RUN   TestSanitizeLabelSet/Duplicate_labels_after_sanitizations,_append_short_has_as_suffix_to_duplicates
=== RUN   TestSanitizeLabelSet/If_sanitize_fails_for_a_label,_skip_it
--- PASS: TestSanitizeLabelSet (0.00s)
--- PASS: TestSanitizeLabelSet/Duplicate_labels_after_sanitizations,_append_short_has_as_suffix_to_duplicates (0.00s)
--- PASS: TestSanitizeLabelSet/If_sanitize_fails_for_a_label,_skip_it (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/sender	(cached)
=== RUN   Test_expand
=== RUN   Test_expand/err_is_nil_if_there_are_no_errors
=== RUN   Test_expand/original_is_expanded_with_template_data
=== RUN   Test_expand/original_is_returned_with_an_error
=== RUN   Test_expand/originals_are_returned_with_two_errors
=== RUN   Test_expand/expanded_and_original_is_returned_when_there_is_one_error
--- PASS: Test_expand (0.00s)
--- PASS: Test_expand/err_is_nil_if_there_are_no_errors (0.00s)
--- PASS: Test_expand/original_is_expanded_with_template_data (0.00s)
--- PASS: Test_expand/original_is_returned_with_an_error (0.00s)
--- PASS: Test_expand/originals_are_returned_with_two_errors (0.00s)
--- PASS: Test_expand/expanded_and_original_is_returned_when_there_is_one_error (0.00s)
=== RUN   Test_mergeLabels
=== RUN   Test_mergeLabels/merges_two_maps
=== RUN   Test_mergeLabels/first_set_take_precedence_if_conflict
--- PASS: Test_mergeLabels (0.00s)
--- PASS: Test_mergeLabels/merges_two_maps (0.00s)
--- PASS: Test_mergeLabels/first_set_take_precedence_if_conflict (0.00s)
=== RUN   Test_StateToPostableAlert
=== RUN   Test_StateToPostableAlert/when_state_is_Normal
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL/to_alert_rule
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/Start_and_End_timestamps_should_be_the_same
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations/add___value_string___if_it_has_results
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/should_add_state_reason_annotation_if_not_empty
=== RUN   Test_StateToPostableAlert/when_state_is_Normal/should_copy_labels_as_is
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL/to_alert_rule
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/Start_and_End_timestamps_should_be_the_same
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations/add___value_string___if_it_has_results
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/should_add_state_reason_annotation_if_not_empty
=== RUN   Test_StateToPostableAlert/when_state_is_Alerting/should_copy_labels_as_is
=== RUN   Test_StateToPostableAlert/when_state_is_Pending
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL/to_alert_rule
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/Start_and_End_timestamps_should_be_the_same
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations/add___value_string___if_it_has_results
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/should_add_state_reason_annotation_if_not_empty
=== RUN   Test_StateToPostableAlert/when_state_is_Pending/should_copy_labels_as_is
=== RUN   Test_StateToPostableAlert/when_state_is_NoData
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL/to_alert_rule
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/Start_and_End_timestamps_should_be_the_same
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations/add___value_string___if_it_has_results
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_add_state_reason_annotation_if_not_empty
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_keep_existing_labels_and_change_name
=== RUN   Test_StateToPostableAlert/when_state_is_NoData/should_keep_existing_labels_and_change_name/should_not_backup_original_alert_name_if_it_does_not_exist
=== RUN   Test_StateToPostableAlert/when_state_is_Error
=== RUN   Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL
=== RUN   Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL/to_alert_rule
=== RUN   Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified
=== RUN   Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided
=== RUN   Test_StateToPostableAlert/when_state_is_Error/Start_and_End_timestamps_should_be_the_same
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations/add___value_string___if_it_has_results
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_add_state_reason_annotation_if_not_empty
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_keep_existing_labels_and_change_name
=== RUN   Test_StateToPostableAlert/when_state_is_Error/should_keep_existing_labels_and_change_name/should_not_backup_original_alert_name_if_it_does_not_exist
--- PASS: Test_StateToPostableAlert (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL/to_alert_rule (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/Start_and_End_timestamps_should_be_the_same (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations/add___value_string___if_it_has_results (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/should_add_state_reason_annotation_if_not_empty (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Normal/should_copy_labels_as_is (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL/to_alert_rule (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/Start_and_End_timestamps_should_be_the_same (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations/add___value_string___if_it_has_results (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/should_add_state_reason_annotation_if_not_empty (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Alerting/should_copy_labels_as_is (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL/to_alert_rule (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/Start_and_End_timestamps_should_be_the_same (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations/add___value_string___if_it_has_results (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/should_add_state_reason_annotation_if_not_empty (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Pending/should_copy_labels_as_is (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL/to_alert_rule (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/Start_and_End_timestamps_should_be_the_same (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations/add___value_string___if_it_has_results (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_add_state_reason_annotation_if_not_empty (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_keep_existing_labels_and_change_name (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_NoData/should_keep_existing_labels_and_change_name/should_not_backup_original_alert_name_if_it_does_not_exist (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL/to_alert_rule (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL/app_URL_as_is_if_rule_UID_is_not_specified (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/it_generates_proper_URL/empty_string_if_app_URL_is_not_provided (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/Start_and_End_timestamps_should_be_the_same (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations/add___value_string___if_it_has_results (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations/add_both_annotations_if_there_is_an_image_token_and_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_copy_annotations/don't_add_annotations_if_there's_no_image_token_or_url (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_add_state_reason_annotation_if_not_empty (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_keep_existing_labels_and_change_name (0.00s)
--- PASS: Test_StateToPostableAlert/when_state_is_Error/should_keep_existing_labels_and_change_name/should_not_backup_original_alert_name_if_it_does_not_exist (0.00s)
=== RUN   TestStateToPostableAlertFromNodataError
=== RUN   TestStateToPostableAlertFromNodataError/from_NoData_to_Normal_resolved
=== RUN   TestStateToPostableAlertFromNodataError/from_Error__to_Normal_resolved
=== RUN   TestStateToPostableAlertFromNodataError/from_NoData_to_Normal_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_Error__to_Normal_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_NoData_to_Alerting_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_Error__to_Alerting_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_NoData_to_Pending_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_Error__to_Pending_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_NoData_to_NoData_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_Error__to_NoData_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_NoData_to_Error_unresolved
=== RUN   TestStateToPostableAlertFromNodataError/from_Error__to_Error_unresolved
--- PASS: TestStateToPostableAlertFromNodataError (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_NoData_to_Normal_resolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_Error__to_Normal_resolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_NoData_to_Normal_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_Error__to_Normal_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_NoData_to_Alerting_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_Error__to_Alerting_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_NoData_to_Pending_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_Error__to_Pending_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_NoData_to_NoData_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_Error__to_NoData_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_NoData_to_Error_unresolved (0.00s)
--- PASS: TestStateToPostableAlertFromNodataError/from_Error__to_Error_unresolved (0.00s)
=== RUN   Test_FromAlertsStateToStoppedAlert
--- PASS: Test_FromAlertsStateToStoppedAlert (0.00s)
=== RUN   TestStateIsStale
=== RUN   TestStateIsStale/false_if_last_evaluation_is_now
=== RUN   TestStateIsStale/false_if_last_evaluation_is_1_interval_before_now
=== RUN   TestStateIsStale/false_if_last_evaluation_is_little_less_than_2_interval_before_now
=== RUN   TestStateIsStale/true_if_last_evaluation_is_2_intervals_from_now
=== RUN   TestStateIsStale/true_if_last_evaluation_is_3_intervals_from_now
=== RUN   TestStateIsStale/false_if_last_evaluation_is_within_custom_resolve_after_missing_for
=== RUN   TestStateIsStale/true_if_last_evaluation_equals_custom_resolve_after_missing_for
=== RUN   TestStateIsStale/true_if_last_evaluation_exceeds_custom_resolve_after_missing_for
=== RUN   TestStateIsStale/when_missingSeriesEvalsToResolve_is_1_and_the_state_is_just_created
=== RUN   TestStateIsStale/when_missingSeriesEvalsToResolve_is_1_and_the_state_is_created_in_the_past
--- PASS: TestStateIsStale (0.00s)
--- PASS: TestStateIsStale/false_if_last_evaluation_is_now (0.00s)
--- PASS: TestStateIsStale/false_if_last_evaluation_is_1_interval_before_now (0.00s)
--- PASS: TestStateIsStale/false_if_last_evaluation_is_little_less_than_2_interval_before_now (0.00s)
--- PASS: TestStateIsStale/true_if_last_evaluation_is_2_intervals_from_now (0.00s)
--- PASS: TestStateIsStale/true_if_last_evaluation_is_3_intervals_from_now (0.00s)
--- PASS: TestStateIsStale/false_if_last_evaluation_is_within_custom_resolve_after_missing_for (0.00s)
--- PASS: TestStateIsStale/true_if_last_evaluation_equals_custom_resolve_after_missing_for (0.00s)
--- PASS: TestStateIsStale/true_if_last_evaluation_exceeds_custom_resolve_after_missing_for (0.00s)
--- PASS: TestStateIsStale/when_missingSeriesEvalsToResolve_is_1_and_the_state_is_just_created (0.00s)
--- PASS: TestStateIsStale/when_missingSeriesEvalsToResolve_is_1_and_the_state_is_created_in_the_past (0.00s)
=== RUN   TestProcessEvalResults_StateTransitions
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:normal,2:normal]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting,2:normal]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting,2:normal]_and_'for'>0_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:normal,2:normal]_t2[1:alerting,2:normal]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:alerting]_t3[1:alerting]_and_'for'=2_at_t1,t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting],_t2[1:normal]_and_'for'=2_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/t1:[1:alerting]_t2[1:normal]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:normal,2:alerting,3:normal]_t2[3:normal]_t3[3:normal]_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/t1[{}:normal]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/t1[{}:alerting]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/t1[{}:alerting]_and_'for'>0__at_t1
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:normal]_t3[1:normal]_t4[1:normal]_and_'keep_firing_for'>0__at_t2,t3,t4
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:normal]_t3[1:alerting]_and_'keep_firing_for'>0__at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:alerting]_t3[1:normal]_t4[1:alerting]_and_'keep_firing_for'>0_and_'for'>0_at_t2,t3,t4
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[NoData]_t3[NoData]_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_with_missing_series_evals_to_resolve=3_at_t3,t4
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[NoData]_t3[NoData]_with_missing_series_evals_to_resolve=1_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/t1[1:alerting,2:alerting]_t2[1:alerting]_t3[1:alerting]_with_missing_series_evals_to_resolve=1_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/t1[{}:normal]_t2[{}:alerting]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/no-data
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_NoData
=== RUN   TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_KeepLast
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_Error
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_Alerting
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_OK
=== RUN   TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_KeepLast
--- PASS: TestProcessEvalResults_StateTransitions (0.38s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:normal,2:normal]_at_t1 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting,2:normal]_at_t1 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting,2:normal]_and_'for'>0_at_t1 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:normal,2:normal]_t2[1:alerting,2:normal]_at_t2 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:alerting]_t3[1:alerting]_and_'for'=2_at_t1,t2,t3 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting],_t2[1:normal]_and_'for'=2_at_t2 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1:[1:alerting]_t2[1:normal]_at_t2 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:normal,2:alerting,3:normal]_t2[3:normal]_t3[3:normal]_at_t2,t3 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[{}:normal]_at_t1 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[{}:alerting]_at_t1 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[{}:alerting]_and_'for'>0__at_t1 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:normal]_t3[1:normal]_t4[1:normal]_and_'keep_firing_for'>0__at_t2,t3,t4 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:normal]_t3[1:alerting]_and_'keep_firing_for'>0__at_t2,t3 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[1:alerting]_t3[1:normal]_t4[1:alerting]_and_'keep_firing_for'>0_and_'for'>0_at_t2,t3,t4 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[NoData]_t3[NoData]_at_t2,t3 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_with_missing_series_evals_to_resolve=3_at_t3,t4 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting]_t2[NoData]_t3[NoData]_with_missing_series_evals_to_resolve=1_at_t2,t3 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[1:alerting,2:alerting]_t2[1:alerting]_t3[1:alerting]_with_missing_series_evals_to_resolve=1_at_t2,t3 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/t1[{}:normal]_t2[{}:alerting]_at_t2 (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data (0.17s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_at_t1/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal]_t2[NoData]_at_t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:normal,2:alerting]_t2[NoData]_t3[NoData]_and_'for'=1_at_t2*,t3/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[1:alerting]_t2[NoData]_t3[1:alerting]_and_'for'=2_at_t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_Alerting (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_t4[NoData]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5 (0.03s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_NoData (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_Alerting (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_OK (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_t3[NoData]_t4[{}:normal]_t5[NoData]_and_'keep_firing_for'=2_and_'for'=1_at_t3,t4,t5/execute_as_KeepLast (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[NoData]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:normal]_t2[NoData]_at_t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[NoData]_at_t2,t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_NoData (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/no-data/t1[{}:alerting]_t2[NoData]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error (0.15s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_at_t1/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[GenericError]_at_t1/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:alerting]_t2[QueryError]_and_'for'=1_at_t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[1:normal]_t2[QueryError]_at_t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[1:normal]_t3[1:normal]_at_t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:normal]_t3[{}:normal]_t4[{}:normal]_and_'keep_firing_for'=2_at_t2,t3,t4/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_Error (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:QueryError]_t2[{}:QueryError]_t3[{}:normal]_t4[{}:QueryError]_and_'keep_firing_for'=2_and_'for'=1_at_t2,t3,t4/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:normal]_t2[QueryError]_at_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_and_'for'=1_at_t1*,t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3 (0.02s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[{}:alerting]_t2[QueryError]_t3[{}:alerting]_and_'for'=2_at_t2,t3/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[{}:normal]_at_t2/execute_as_KeepLast (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2 (0.01s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_Error (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_Alerting (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_OK (0.00s)
--- PASS: TestProcessEvalResults_StateTransitions/error/t1[QueryError]_t2[GenericError]_at_t1,_t2/execute_as_KeepLast (0.00s)
=== RUN   TestProcessEvalResults_Screenshots
=== RUN   TestProcessEvalResults_Screenshots/when_transition_to_Alerting_from_empty_state
=== RUN   TestProcessEvalResults_Screenshots/when_transition_to_Alerting_from_Normal_states,_existing_images_ignored
=== RUN   TestProcessEvalResults_Screenshots/when_Alerting_and_no_screenshot
--- PASS: TestProcessEvalResults_Screenshots (0.00s)
--- PASS: TestProcessEvalResults_Screenshots/when_transition_to_Alerting_from_empty_state (0.00s)
--- PASS: TestProcessEvalResults_Screenshots/when_transition_to_Alerting_from_Normal_states,_existing_images_ignored (0.00s)
--- PASS: TestProcessEvalResults_Screenshots/when_Alerting_and_no_screenshot (0.00s)
=== RUN   TestMultiInstanceReader_ListAlertInstances
=== RUN   TestMultiInstanceReader_ListAlertInstances/both_readers_return_empty_lists
=== RUN   TestMultiInstanceReader_ListAlertInstances/when_readerB_is_empty,_use_instances_from_readerA
=== RUN   TestMultiInstanceReader_ListAlertInstances/when_readerA_is_empty,_use_instances_from_readerB
=== RUN   TestMultiInstanceReader_ListAlertInstances/when_same_rule_exists_in_both_readers,_picks_instances_from_reader_with_newer_evaluation_time
=== RUN   TestMultiInstanceReader_ListAlertInstances/combines_instances_across_rules_using_newest_evaluation_time_per_rule
=== RUN   TestMultiInstanceReader_ListAlertInstances/error_from_readerA
=== RUN   TestMultiInstanceReader_ListAlertInstances/error_from_readerB
=== RUN   TestMultiInstanceReader_ListAlertInstances/nil_instances_are_filtered_out_from_results
=== RUN   TestMultiInstanceReader_ListAlertInstances/when_instances_have_equal_evaluation_times,_picks_instances_from_readerA
--- PASS: TestMultiInstanceReader_ListAlertInstances (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/both_readers_return_empty_lists (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/when_readerB_is_empty,_use_instances_from_readerA (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/when_readerA_is_empty,_use_instances_from_readerB (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/when_same_rule_exists_in_both_readers,_picks_instances_from_reader_with_newer_evaluation_time (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/combines_instances_across_rules_using_newest_evaluation_time_per_rule (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/error_from_readerA (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/error_from_readerB (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/nil_instances_are_filtered_out_from_results (0.00s)
--- PASS: TestMultiInstanceReader_ListAlertInstances/when_instances_have_equal_evaluation_times,_picks_instances_from_readerA (0.00s)
=== RUN   TestAsyncStatePersister_Async
=== RUN   TestAsyncStatePersister_Async/It_should_save_on_tick
=== RUN   TestAsyncStatePersister_Async/It_should_save_on_context_done
--- PASS: TestAsyncStatePersister_Async (2.00s)
--- PASS: TestAsyncStatePersister_Async/It_should_save_on_tick (1.00s)
--- PASS: TestAsyncStatePersister_Async/It_should_save_on_context_done (1.00s)
=== RUN   TestSyncRuleStatePersister_Sync
=== RUN   TestSyncRuleStatePersister_Sync/success_case
=== RUN   TestSyncRuleStatePersister_Sync/no-op_when_store_is_nil
--- PASS: TestSyncRuleStatePersister_Sync (0.00s)
--- PASS: TestSyncRuleStatePersister_Sync/success_case (0.00s)
--- PASS: TestSyncRuleStatePersister_Sync/no-op_when_store_is_nil (0.00s)
=== RUN   TestSyncPersister_saveAlertStates
=== RUN   TestSyncPersister_saveAlertStates/should_save_all_transitions_if_doNotSaveNormalState_is_false
=== RUN   TestSyncPersister_saveAlertStates/should_not_save_Normal->Normal_if_doNotSaveNormalState_is_true
=== RUN   TestSyncPersister_saveAlertStates/should_save_expected_fields
--- PASS: TestSyncPersister_saveAlertStates (0.00s)
--- PASS: TestSyncPersister_saveAlertStates/should_save_all_transitions_if_doNotSaveNormalState_is_false (0.00s)
--- PASS: TestSyncPersister_saveAlertStates/should_not_save_Normal->Normal_if_doNotSaveNormalState_is_true (0.00s)
--- PASS: TestSyncPersister_saveAlertStates/should_save_expected_fields (0.00s)
=== RUN   TestSetAlerting
=== RUN   TestSetAlerting/state_is_set_to_Alerting
=== RUN   TestSetAlerting/previous_state_is_removed
--- PASS: TestSetAlerting (0.00s)
--- PASS: TestSetAlerting/state_is_set_to_Alerting (0.00s)
--- PASS: TestSetAlerting/previous_state_is_removed (0.00s)
=== RUN   TestSetPending
=== RUN   TestSetPending/state_is_set_to_Pending
=== RUN   TestSetPending/previous_state_is_removed
--- PASS: TestSetPending (0.00s)
--- PASS: TestSetPending/state_is_set_to_Pending (0.00s)
--- PASS: TestSetPending/previous_state_is_removed (0.00s)
=== RUN   TestNormal
=== RUN   TestNormal/state_is_set_to_Normal
=== RUN   TestNormal/previous_state_is_removed
--- PASS: TestNormal (0.00s)
--- PASS: TestNormal/state_is_set_to_Normal (0.00s)
--- PASS: TestNormal/previous_state_is_removed (0.00s)
=== RUN   TestNoData
=== RUN   TestNoData/state_is_set_to_No_Data
=== RUN   TestNoData/previous_state_is_removed
--- PASS: TestNoData (0.00s)
--- PASS: TestNoData/state_is_set_to_No_Data (0.00s)
--- PASS: TestNoData/previous_state_is_removed (0.00s)
=== RUN   TestSetError
=== RUN   TestSetError/state_is_set_to_Error
=== RUN   TestSetError/previous_state_is_removed
--- PASS: TestSetError (0.00s)
--- PASS: TestSetError/state_is_set_to_Error (0.00s)
--- PASS: TestSetError/previous_state_is_removed (0.00s)
=== RUN   TestMaintain
--- PASS: TestMaintain (0.00s)
=== RUN   TestEnd
=== RUN   TestEnd/less_than_resend_delay:_for=unset,interval=10s_-_endsAt_=_resendDelay_*_3
=== RUN   TestEnd/less_than_resend_delay:_for=0s,interval=10s_-_endsAt_=_resendDelay_*_3
=== RUN   TestEnd/less_than_resend_delay:_for=10s,interval=10s_-_endsAt_=_resendDelay_*_3
=== RUN   TestEnd/less_than_resend_delay:_for=10s,interval=20s_-_endsAt_=_resendDelay_*_3
=== RUN   TestEnd/more_than_resend_delay:_for=unset,interval=1m_-_endsAt_=_interval_*_3
=== RUN   TestEnd/more_than_resend_delay:_for=0s,interval=1m_-_endsAt_=_resendDelay_*_3
=== RUN   TestEnd/more_than_resend_delay:_for=1m,interval=5m_-_endsAt_=_interval_*_3
=== RUN   TestEnd/more_than_resend_delay:_for=5m,interval=1m_-_endsAt_=_interval_*_3
--- PASS: TestEnd (0.00s)
--- PASS: TestEnd/less_than_resend_delay:_for=unset,interval=10s_-_endsAt_=_resendDelay_*_3 (0.00s)
--- PASS: TestEnd/less_than_resend_delay:_for=0s,interval=10s_-_endsAt_=_resendDelay_*_3 (0.00s)
--- PASS: TestEnd/less_than_resend_delay:_for=10s,interval=10s_-_endsAt_=_resendDelay_*_3 (0.00s)
--- PASS: TestEnd/less_than_resend_delay:_for=10s,interval=20s_-_endsAt_=_resendDelay_*_3 (0.00s)
--- PASS: TestEnd/more_than_resend_delay:_for=unset,interval=1m_-_endsAt_=_interval_*_3 (0.00s)
--- PASS: TestEnd/more_than_resend_delay:_for=0s,interval=1m_-_endsAt_=_resendDelay_*_3 (0.00s)
--- PASS: TestEnd/more_than_resend_delay:_for=1m,interval=5m_-_endsAt_=_interval_*_3 (0.00s)
--- PASS: TestEnd/more_than_resend_delay:_for=5m,interval=1m_-_endsAt_=_interval_*_3 (0.00s)
=== RUN   TestNeedsSending
=== RUN   TestNeedsSending/state:_alerting_and_LastSentAt_before_LastEvaluationTime_+_ResendDelay
=== RUN   TestNeedsSending/state:_alerting_and_LastSentAt_after_LastEvaluationTime_+_ResendDelay
=== RUN   TestNeedsSending/state:_alerting_and_LastSentAt_equals_LastEvaluationTime_+_ResendDelay
=== RUN   TestNeedsSending/state:_pending
=== RUN   TestNeedsSending/state:_alerting_and_ResendDelay_is_zero
=== RUN   TestNeedsSending/state:_normal_+_resolved_should_send_without_waiting_if_ResolvedAt_>_LastSentAt
=== RUN   TestNeedsSending/state:_normal_+_recently_resolved_should_send_with_wait
=== RUN   TestNeedsSending/state:_normal_+_recently_resolved_should_not_send_without_wait
=== RUN   TestNeedsSending/state:_normal_+_not_recently_resolved_should_not_send_even_with_wait
=== RUN   TestNeedsSending/state:_normal_but_not_resolved_does_not_send_after_a_minute
=== RUN   TestNeedsSending/state:_no-data,_needs_to_be_re-sent
=== RUN   TestNeedsSending/state:_no-data,_should_not_be_re-sent
=== RUN   TestNeedsSending/state:_error,_needs_to_be_re-sent
=== RUN   TestNeedsSending/state:_error,_should_not_be_re-sent
--- PASS: TestNeedsSending (0.00s)
--- PASS: TestNeedsSending/state:_alerting_and_LastSentAt_before_LastEvaluationTime_+_ResendDelay (0.00s)
--- PASS: TestNeedsSending/state:_alerting_and_LastSentAt_after_LastEvaluationTime_+_ResendDelay (0.00s)
--- PASS: TestNeedsSending/state:_alerting_and_LastSentAt_equals_LastEvaluationTime_+_ResendDelay (0.00s)
--- PASS: TestNeedsSending/state:_pending (0.00s)
--- PASS: TestNeedsSending/state:_alerting_and_ResendDelay_is_zero (0.00s)
--- PASS: TestNeedsSending/state:_normal_+_resolved_should_send_without_waiting_if_ResolvedAt_>_LastSentAt (0.00s)
--- PASS: TestNeedsSending/state:_normal_+_recently_resolved_should_send_with_wait (0.00s)
--- PASS: TestNeedsSending/state:_normal_+_recently_resolved_should_not_send_without_wait (0.00s)
--- PASS: TestNeedsSending/state:_normal_+_not_recently_resolved_should_not_send_even_with_wait (0.00s)
--- PASS: TestNeedsSending/state:_normal_but_not_resolved_does_not_send_after_a_minute (0.00s)
--- PASS: TestNeedsSending/state:_no-data,_needs_to_be_re-sent (0.00s)
--- PASS: TestNeedsSending/state:_no-data,_should_not_be_re-sent (0.00s)
--- PASS: TestNeedsSending/state:_error,_needs_to_be_re-sent (0.00s)
--- PASS: TestNeedsSending/state:_error,_should_not_be_re-sent (0.00s)
=== RUN   TestGetLastEvaluationValuesForCondition
=== RUN   TestGetLastEvaluationValuesForCondition/should_return_nil_if_no_results
=== RUN   TestGetLastEvaluationValuesForCondition/should_return_value_of_the_condition_of_the_last_result
=== RUN   TestGetLastEvaluationValuesForCondition/should_return_empty_map_if_there_is_no_value_for_condition
=== RUN   TestGetLastEvaluationValuesForCondition/should_use_NaN_if_value_is_not_defined
--- PASS: TestGetLastEvaluationValuesForCondition (0.00s)
--- PASS: TestGetLastEvaluationValuesForCondition/should_return_nil_if_no_results (0.00s)
--- PASS: TestGetLastEvaluationValuesForCondition/should_return_value_of_the_condition_of_the_last_result (0.00s)
--- PASS: TestGetLastEvaluationValuesForCondition/should_return_empty_map_if_there_is_no_value_for_condition (0.00s)
--- PASS: TestGetLastEvaluationValuesForCondition/should_use_NaN_if_value_is_not_defined (0.00s)
=== RUN   TestShouldTakeImage
=== RUN   TestShouldTakeImage/should_take_image_for_state_that_just_transitioned_to_alerting
=== RUN   TestShouldTakeImage/should_take_image_for_alerting_state_without_image
=== RUN   TestShouldTakeImage/should_take_image_for_resolved_state
=== RUN   TestShouldTakeImage/should_not_take_image_for_normal_state
=== RUN   TestShouldTakeImage/should_not_take_image_for_pending_state
=== RUN   TestShouldTakeImage/should_not_take_image_for_alerting_state_with_valid_image
=== RUN   TestShouldTakeImage/should_take_image_for_alerting_state_with_expired_image
--- PASS: TestShouldTakeImage (0.00s)
--- PASS: TestShouldTakeImage/should_take_image_for_state_that_just_transitioned_to_alerting (0.00s)
--- PASS: TestShouldTakeImage/should_take_image_for_alerting_state_without_image (0.00s)
--- PASS: TestShouldTakeImage/should_take_image_for_resolved_state (0.00s)
--- PASS: TestShouldTakeImage/should_not_take_image_for_normal_state (0.00s)
--- PASS: TestShouldTakeImage/should_not_take_image_for_pending_state (0.00s)
--- PASS: TestShouldTakeImage/should_not_take_image_for_alerting_state_with_valid_image (0.00s)
--- PASS: TestShouldTakeImage/should_take_image_for_alerting_state_with_expired_image (0.00s)
=== RUN   TestTakeImage
=== RUN   TestTakeImage/ErrNoDashboard_should_return_nil
=== RUN   TestTakeImage/ErrNoPanel_should_return_nil
=== RUN   TestTakeImage/ErrScreenshotsUnavailable_should_return_nil
=== RUN   TestTakeImage/other_errors_should_be_returned
=== RUN   TestTakeImage/image_should_be_returned
--- PASS: TestTakeImage (0.00s)
--- PASS: TestTakeImage/ErrNoDashboard_should_return_nil (0.00s)
--- PASS: TestTakeImage/ErrNoPanel_should_return_nil (0.00s)
--- PASS: TestTakeImage/ErrScreenshotsUnavailable_should_return_nil (0.00s)
--- PASS: TestTakeImage/other_errors_should_be_returned (0.00s)
--- PASS: TestTakeImage/image_should_be_returned (0.00s)
=== RUN   TestParseFormattedState
=== RUN   TestParseFormattedState/should_parse_formatted_state
=== RUN   TestParseFormattedState/should_parse_formatted_state_with_concatenated_reasons
=== RUN   TestParseFormattedState/should_error_on_empty_string
=== RUN   TestParseFormattedState/should_error_on_invalid_string_content
--- PASS: TestParseFormattedState (0.00s)
--- PASS: TestParseFormattedState/should_parse_formatted_state (0.00s)
--- PASS: TestParseFormattedState/should_parse_formatted_state_with_concatenated_reasons (0.00s)
--- PASS: TestParseFormattedState/should_error_on_empty_string (0.00s)
--- PASS: TestParseFormattedState/should_error_on_invalid_string_content (0.00s)
=== RUN   TestGetRuleExtraLabels
=== RUN   TestGetRuleExtraLabels/no_folder_no_notification
=== RUN   TestGetRuleExtraLabels/with_folder_no_notification
=== RUN   TestGetRuleExtraLabels/with_notification
=== RUN   TestGetRuleExtraLabels/ignore_multiple_notifications
--- PASS: TestGetRuleExtraLabels (0.00s)
--- PASS: TestGetRuleExtraLabels/no_folder_no_notification (0.00s)
--- PASS: TestGetRuleExtraLabels/with_folder_no_notification (0.00s)
--- PASS: TestGetRuleExtraLabels/with_notification (0.00s)
--- PASS: TestGetRuleExtraLabels/ignore_multiple_notifications (0.00s)
=== RUN   TestNewState
=== RUN   TestNewState/should_combine_all_labels
=== RUN   TestNewState/extra_labels_should_take_precedence_over_rule_and_result_labels
=== RUN   TestNewState/rule_labels_should_take_precedence_over_result_labels
=== RUN   TestNewState/rule_labels_should_be_able_to_be_expanded_with_result_and_extra_labels
=== RUN   TestNewState/rule_annotations_should_be_able_to_be_expanded_with_result_and_extra_labels
=== RUN   TestNewState/when_result_labels_collide_with_system_labels_from_LabelsUserCannotSpecify
=== RUN   TestNewState/when_result_labels_collide_with_system_labels_from_LabelsUserCannotSpecify/should_drop_label_if_renamed_collides_with_existing
=== RUN   TestNewState/creates_a_state_with_preset_fields_if_there_is_no_current_state
--- PASS: TestNewState (0.00s)
--- PASS: TestNewState/should_combine_all_labels (0.00s)
--- PASS: TestNewState/extra_labels_should_take_precedence_over_rule_and_result_labels (0.00s)
--- PASS: TestNewState/rule_labels_should_take_precedence_over_result_labels (0.00s)
--- PASS: TestNewState/rule_labels_should_be_able_to_be_expanded_with_result_and_extra_labels (0.00s)
--- PASS: TestNewState/rule_annotations_should_be_able_to_be_expanded_with_result_and_extra_labels (0.00s)
--- PASS: TestNewState/when_result_labels_collide_with_system_labels_from_LabelsUserCannotSpecify (0.00s)
--- PASS: TestNewState/when_result_labels_collide_with_system_labels_from_LabelsUserCannotSpecify/should_drop_label_if_renamed_collides_with_existing (0.00s)
--- PASS: TestNewState/creates_a_state_with_preset_fields_if_there_is_no_current_state (0.00s)
=== RUN   TestPatch
=== RUN   TestPatch/it_populates_some_fields_from_the_current_state_if_it_exists
=== RUN   TestPatch/copies_system-owned_annotations_from_current_state
=== RUN   TestPatch/if_result_Error_and_current_state_is_Error_it_should_copy_datasource_uid_and_ref_id_labels
--- PASS: TestPatch (0.00s)
--- PASS: TestPatch/it_populates_some_fields_from_the_current_state_if_it_exists (0.00s)
--- PASS: TestPatch/copies_system-owned_annotations_from_current_state (0.00s)
--- PASS: TestPatch/if_result_Error_and_current_state_is_Error_it_should_copy_datasource_uid_and_ref_id_labels (0.00s)
=== RUN   TestResultStateReason
=== RUN   TestResultStateReason/Error_state_with_KeepLast
=== RUN   TestResultStateReason/Error_state_without_KeepLast
=== RUN   TestResultStateReason/NoData_state_with_KeepLast_state
=== RUN   TestResultStateReason/NoData_state_without_KeepLast
=== RUN   TestResultStateReason/Normal_state
--- PASS: TestResultStateReason (0.00s)
--- PASS: TestResultStateReason/Error_state_with_KeepLast (0.00s)
--- PASS: TestResultStateReason/Error_state_without_KeepLast (0.00s)
--- PASS: TestResultStateReason/NoData_state_with_KeepLast_state (0.00s)
--- PASS: TestResultStateReason/NoData_state_without_KeepLast (0.00s)
--- PASS: TestResultStateReason/Normal_state (0.00s)
=== RUN   TestWarmStateCache
util.go:179: alert definition: {orgID: 1, UID: beixaltl748oxd} with title: "an alert definition aeixaltl748owd" interval: 600 folder: namespace created
=== RUN   TestWarmStateCache/instance_cache_has_expected_entries
--- PASS: TestWarmStateCache (0.26s)
--- PASS: TestWarmStateCache/instance_cache_has_expected_entries (0.00s)
=== RUN   TestDashboardAnnotations
util.go:179: alert definition: {orgID: 1, UID: eeixaltlm3mrnb} with title: "an alert definition aeixaltlm3mrmb" interval: 600 folder: namespace created
--- PASS: TestDashboardAnnotations (0.10s)
=== RUN   TestProcessEvalResults
=== RUN   TestProcessEvalResults/a_cache_entry_is_correctly_created
=== RUN   TestProcessEvalResults/two_results_create_two_correct_cache_entries
=== RUN   TestProcessEvalResults/state_is_maintained
=== RUN   TestProcessEvalResults/normal_->_alerting_transition_when_For_is_unset
=== RUN   TestProcessEvalResults/normal_->_alerting_when_For_is_set
=== RUN   TestProcessEvalResults/alerting_->_normal_resolves_and_sets_ResolvedAt
=== RUN   TestProcessEvalResults/alerting_->_normal_->_normal_resolves_and_maintains_ResolvedAt
=== RUN   TestProcessEvalResults/pending_->_alerting_->_normal_->_pending_resolves_and_resets_ResolvedAt_at_t4
=== RUN   TestProcessEvalResults/normal_->_alerting_->_noData_->_alerting_when_For_is_set
=== RUN   TestProcessEvalResults/pending_->_alerting_->_noData_when_For_is_set_and_NoDataState_is_NoData
=== RUN   TestProcessEvalResults/normal_->_pending_when_For_is_set_but_not_exceeded_and_first_result_is_normal
=== RUN   TestProcessEvalResults/normal_->_pending_when_For_is_set_but_not_exceeded_and_first_result_is_alerting
=== RUN   TestProcessEvalResults/normal_->_nodata_when_result_is_NoData_and_NoDataState_is_nodata
=== RUN   TestProcessEvalResults/normal_->_nodata_no_labels_when_result_is_NoData_and_NoDataState_is_nodata
=== RUN   TestProcessEvalResults/normal_(multi-dimensional)_->_nodata_no_labels_when_result_is_NoData_and_NoDataState_is_nodata
=== RUN   TestProcessEvalResults/normal_->_nodata_no_labels_->_normal_when_result_is_NoData_and_NoDataState_is_nodata
=== RUN   TestProcessEvalResults/normal_->_pending_when_For_is_set_but_not_exceeded,_result_is_Error_and_ExecErrState_is_Alerting
=== RUN   TestProcessEvalResults/normal_->_alerting_when_For_is_exceeded,_result_is_Error_and_ExecErrState_is_Alerting
=== RUN   TestProcessEvalResults/template_is_correctly_expanded
=== RUN   TestProcessEvalResults/classic_condition,_execution_Error_as_Error_(alerting_->_query_error_->_alerting)
=== RUN   TestProcessEvalResults/expected_Reduce_and_Math_expression_values
=== RUN   TestProcessEvalResults/expected_Classic_Condition_values
=== RUN   TestProcessEvalResults/normal_->_alerting_->_normal_(recovering)_when_KeepFiringFor_is_set_but_is_not_exceeded
=== RUN   TestProcessEvalResults/normal_->_alerting_->_normal_(recovering)_->_normal_(recovering)_->_normal_(resolved)_when_KeepFiringFor_is_set_and_has_passed
=== RUN   TestProcessEvalResults/normal_->_alerting_->_normal(recovering)_->_alerting_->_alerting_->_recovering_when_KeepFiringFor_is_set
=== RUN   TestProcessEvalResults/normal_->_alerting_(pending)_->_alerting_->_normal_(recovering)_->_alerting_when_both_KeepFiringFor_and_For_are_set
=== RUN   TestProcessEvalResults/converts_values_to_NaN_if_not_defined
=== RUN   TestProcessEvalResults/should_save_state_to_database
--- PASS: TestProcessEvalResults (2.71s)
--- PASS: TestProcessEvalResults/a_cache_entry_is_correctly_created (0.10s)
--- PASS: TestProcessEvalResults/two_results_create_two_correct_cache_entries (0.10s)
--- PASS: TestProcessEvalResults/state_is_maintained (0.10s)
--- PASS: TestProcessEvalResults/normal_->_alerting_transition_when_For_is_unset (0.10s)
--- PASS: TestProcessEvalResults/normal_->_alerting_when_For_is_set (0.11s)
--- PASS: TestProcessEvalResults/alerting_->_normal_resolves_and_sets_ResolvedAt (0.10s)
--- PASS: TestProcessEvalResults/alerting_->_normal_->_normal_resolves_and_maintains_ResolvedAt (0.10s)
--- PASS: TestProcessEvalResults/pending_->_alerting_->_normal_->_pending_resolves_and_resets_ResolvedAt_at_t4 (0.11s)
--- PASS: TestProcessEvalResults/normal_->_alerting_->_noData_->_alerting_when_For_is_set (0.11s)
--- PASS: TestProcessEvalResults/pending_->_alerting_->_noData_when_For_is_set_and_NoDataState_is_NoData (0.11s)
--- PASS: TestProcessEvalResults/normal_->_pending_when_For_is_set_but_not_exceeded_and_first_result_is_normal (0.10s)
--- PASS: TestProcessEvalResults/normal_->_pending_when_For_is_set_but_not_exceeded_and_first_result_is_alerting (0.10s)
--- PASS: TestProcessEvalResults/normal_->_nodata_when_result_is_NoData_and_NoDataState_is_nodata (0.10s)
--- PASS: TestProcessEvalResults/normal_->_nodata_no_labels_when_result_is_NoData_and_NoDataState_is_nodata (0.10s)
--- PASS: TestProcessEvalResults/normal_(multi-dimensional)_->_nodata_no_labels_when_result_is_NoData_and_NoDataState_is_nodata (0.10s)
--- PASS: TestProcessEvalResults/normal_->_nodata_no_labels_->_normal_when_result_is_NoData_and_NoDataState_is_nodata (0.10s)
--- PASS: TestProcessEvalResults/normal_->_pending_when_For_is_set_but_not_exceeded,_result_is_Error_and_ExecErrState_is_Alerting (0.10s)
--- PASS: TestProcessEvalResults/normal_->_alerting_when_For_is_exceeded,_result_is_Error_and_ExecErrState_is_Alerting (0.11s)
--- PASS: TestProcessEvalResults/template_is_correctly_expanded (0.10s)
--- PASS: TestProcessEvalResults/classic_condition,_execution_Error_as_Error_(alerting_->_query_error_->_alerting) (0.10s)
--- PASS: TestProcessEvalResults/expected_Reduce_and_Math_expression_values (0.10s)
--- PASS: TestProcessEvalResults/expected_Classic_Condition_values (0.10s)
--- PASS: TestProcessEvalResults/normal_->_alerting_->_normal_(recovering)_when_KeepFiringFor_is_set_but_is_not_exceeded (0.10s)
--- PASS: TestProcessEvalResults/normal_->_alerting_->_normal_(recovering)_->_normal_(recovering)_->_normal_(resolved)_when_KeepFiringFor_is_set_and_has_passed (0.11s)
--- PASS: TestProcessEvalResults/normal_->_alerting_->_normal(recovering)_->_alerting_->_alerting_->_recovering_when_KeepFiringFor_is_set (0.11s)
--- PASS: TestProcessEvalResults/normal_->_alerting_(pending)_->_alerting_->_normal_(recovering)_->_alerting_when_both_KeepFiringFor_and_For_are_set (0.11s)
--- PASS: TestProcessEvalResults/converts_values_to_NaN_if_not_defined (0.00s)
--- PASS: TestProcessEvalResults/should_save_state_to_database (0.00s)
=== RUN   TestStaleResultsHandler
util.go:179: alert definition: {orgID: 1, UID: beixalz0vnvurb} with title: "an alert definition aeixalz0vnvuqf" interval: 60 folder: namespace created
--- PASS: TestStaleResultsHandler (0.01s)
=== RUN   TestStaleResults
=== RUN   TestStaleResults/should_mark_missing_states_as_stale
=== RUN   TestStaleResults/should_remove_stale_states_from_cache
=== RUN   TestStaleResults/should_delete_stale_states_from_the_database
--- PASS: TestStaleResults (0.00s)
--- PASS: TestStaleResults/should_mark_missing_states_as_stale (0.00s)
--- PASS: TestStaleResults/should_remove_stale_states_from_cache (0.00s)
--- PASS: TestStaleResults/should_delete_stale_states_from_the_database (0.00s)
=== RUN   TestDeleteStateByRuleUID
util.go:179: alert definition: {orgID: 1, UID: ceixalz1i4yyrc} with title: "an alert definition feixalz1i4yyqf" interval: 60 folder: namespace created
=== RUN   TestDeleteStateByRuleUID/all_states/instances_are_removed_from_cache_and_DB
--- PASS: TestDeleteStateByRuleUID (0.01s)
--- PASS: TestDeleteStateByRuleUID/all_states/instances_are_removed_from_cache_and_DB (0.00s)
=== RUN   TestResetStateByRuleUID
util.go:179: alert definition: {orgID: 1, UID: ceixalz24m22pe} with title: "an alert definition feixalz24m22of" interval: 60 folder: namespace created
=== RUN   TestResetStateByRuleUID/all_states/instances_are_removed_from_cache_and_DB_and_saved_in_historian
--- PASS: TestResetStateByRuleUID (0.01s)
--- PASS: TestResetStateByRuleUID/all_states/instances_are_removed_from_cache_and_DB_and_saved_in_historian (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/state	(cached)
=== RUN   TestAnnotationHistorian
=== RUN   TestAnnotationHistorian/alert_annotations_are_queryable
=== RUN   TestAnnotationHistorian/alert_annotations_are_authorized
=== RUN   TestAnnotationHistorian/annotation_queries_send_expected_item_query
=== RUN   TestAnnotationHistorian/writing_state_transitions_as_annotations_succeeds
=== RUN   TestAnnotationHistorian/emits_expected_write_metrics
--- PASS: TestAnnotationHistorian (0.00s)
--- PASS: TestAnnotationHistorian/alert_annotations_are_queryable (0.00s)
--- PASS: TestAnnotationHistorian/alert_annotations_are_authorized (0.00s)
--- PASS: TestAnnotationHistorian/annotation_queries_send_expected_item_query (0.00s)
--- PASS: TestAnnotationHistorian/writing_state_transitions_as_annotations_succeeds (0.00s)
--- PASS: TestAnnotationHistorian/emits_expected_write_metrics (0.00s)
=== RUN   TestBuildAnnotations
=== RUN   TestBuildAnnotations/data_wraps_nil_values_when_values_are_nil
=== RUN   TestBuildAnnotations/data_approximately_contains_expected_values
=== RUN   TestBuildAnnotations/data_handles_special_float_values
--- PASS: TestBuildAnnotations (0.00s)
--- PASS: TestBuildAnnotations/data_wraps_nil_values_when_values_are_nil (0.00s)
--- PASS: TestBuildAnnotations/data_approximately_contains_expected_values (0.00s)
--- PASS: TestBuildAnnotations/data_handles_special_float_values (0.00s)
=== RUN   TestShouldRecord
=== RUN   TestShouldRecord/Normal_->_Normal_should_be_false
=== RUN   TestShouldRecord/Normal_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(MissingSeries)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_should_be_false
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_(Paused)_should_be_false
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Paused)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_should_be_false
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_(Updated)_should_be_false
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Updated)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_false
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(RuleDeleted)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_(Error)_should_be_false
=== RUN   TestShouldRecord/Normal_(Error)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(Error)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Normal_(NoData)_should_be_false
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Normal_(NoData)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Alerting_should_be_false
=== RUN   TestShouldRecord/Alerting_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(MissingSeries)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_(Paused)_should_be_false
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Paused)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_(Updated)_should_be_false
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Updated)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_false
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_(Error)_should_be_false
=== RUN   TestShouldRecord/Alerting_(Error)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(Error)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Alerting_(NoData)_should_be_false
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Alerting_(NoData)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Pending_should_be_false
=== RUN   TestShouldRecord/Pending_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(MissingSeries)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_(Paused)_should_be_false
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Paused)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_(Updated)_should_be_false
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Updated)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_false
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(RuleDeleted)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_(Error)_should_be_false
=== RUN   TestShouldRecord/Pending_(Error)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(Error)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Pending_(NoData)_should_be_false
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Pending_(NoData)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_->_NoData_should_be_false
=== RUN   TestShouldRecord/NoData_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(MissingSeries)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_(Paused)_should_be_false
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Paused)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_(Updated)_should_be_false
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Updated)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_false
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(RuleDeleted)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_(Error)_should_be_false
=== RUN   TestShouldRecord/NoData_(Error)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(Error)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_NoData_(NoData)_should_be_false
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/NoData_(NoData)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_->_Error_should_be_false
=== RUN   TestShouldRecord/Error_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_(MissingSeries)_should_be_false
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(MissingSeries)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_(Paused)_should_be_false
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Paused)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_(Updated)_should_be_false
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Updated)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_false
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(RuleDeleted)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Error_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(Error)_->_Error_(Error)_should_be_false
=== RUN   TestShouldRecord/Error_(Error)_->_Error_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Normal_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Alerting_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Pending_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_NoData_(NoData)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_(MissingSeries)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_(Paused)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_(Updated)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_(RuleDeleted)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_(Error)_should_be_true
=== RUN   TestShouldRecord/Error_(NoData)_->_Error_(NoData)_should_be_false
--- PASS: TestShouldRecord (0.04s)
--- PASS: TestShouldRecord/Normal_->_Normal_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(MissingSeries)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_(Paused)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Paused)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_(Updated)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Updated)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(RuleDeleted)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_(Error)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(Error)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Normal_(NoData)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Normal_(NoData)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(MissingSeries)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_(Paused)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Paused)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_(Updated)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Updated)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(RuleDeleted)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_(Error)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(Error)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Alerting_(NoData)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Alerting_(NoData)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(MissingSeries)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_(Paused)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Paused)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_(Updated)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Updated)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(RuleDeleted)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_(Error)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(Error)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Pending_(NoData)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Pending_(NoData)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(MissingSeries)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_(Paused)_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Paused)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_(Updated)_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Updated)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(RuleDeleted)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_(Error)_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(Error)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_NoData_(NoData)_should_be_false (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/NoData_(NoData)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_should_be_false (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_(MissingSeries)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(MissingSeries)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_(Paused)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Paused)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_(Updated)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Updated)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_(RuleDeleted)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(RuleDeleted)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_(Error)_should_be_false (0.00s)
--- PASS: TestShouldRecord/Error_(Error)_->_Error_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Normal_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Alerting_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Pending_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_NoData_(NoData)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_(MissingSeries)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_(Paused)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_(Updated)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_(RuleDeleted)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_(Error)_should_be_true (0.00s)
--- PASS: TestShouldRecord/Error_(NoData)_->_Error_(NoData)_should_be_false (0.00s)
=== RUN   TestShouldRecordAnnotation
=== RUN   TestShouldRecordAnnotation/transitions_between_Normal_and_Normal(NoData)_not_recorded
=== RUN   TestShouldRecordAnnotation/other_Normal_transitions_involving_NoData_still_recorded
=== RUN   TestShouldRecordAnnotation/respects_filters_in_shouldRecord()
--- PASS: TestShouldRecordAnnotation (0.00s)
--- PASS: TestShouldRecordAnnotation/transitions_between_Normal_and_Normal(NoData)_not_recorded (0.00s)
--- PASS: TestShouldRecordAnnotation/other_Normal_transitions_involving_NoData_still_recorded (0.00s)
--- PASS: TestShouldRecordAnnotation/respects_filters_in_shouldRecord() (0.00s)
=== RUN   TestRemovePrivateLabels
=== RUN   TestRemovePrivateLabels/empty
=== RUN   TestRemovePrivateLabels/nil
=== RUN   TestRemovePrivateLabels/prefix
=== RUN   TestRemovePrivateLabels/suffix
=== RUN   TestRemovePrivateLabels/both
=== RUN   TestRemovePrivateLabels/all
=== RUN   TestRemovePrivateLabels/whitespace
--- PASS: TestRemovePrivateLabels (0.00s)
--- PASS: TestRemovePrivateLabels/empty (0.00s)
--- PASS: TestRemovePrivateLabels/nil (0.00s)
--- PASS: TestRemovePrivateLabels/prefix (0.00s)
--- PASS: TestRemovePrivateLabels/suffix (0.00s)
--- PASS: TestRemovePrivateLabels/both (0.00s)
--- PASS: TestRemovePrivateLabels/all (0.00s)
--- PASS: TestRemovePrivateLabels/whitespace (0.00s)
=== RUN   TestDashboardResolver
=== RUN   TestDashboardResolver/fetches_dashboards_from_dashboard_service
=== RUN   TestDashboardResolver/fetches_dashboardNotFound_if_underlying_dashboard_does_not_exist
--- PASS: TestDashboardResolver (0.00s)
--- PASS: TestDashboardResolver/fetches_dashboards_from_dashboard_service (0.00s)
--- PASS: TestDashboardResolver/fetches_dashboardNotFound_if_underlying_dashboard_does_not_exist (0.00s)
=== RUN   TestLokiConfig
=== RUN   TestLokiConfig/test_URL_options
=== RUN   TestLokiConfig/test_URL_options/remote_url_only
=== RUN   TestLokiConfig/test_URL_options/separate_urls
=== RUN   TestLokiConfig/test_URL_options/single_fallback
=== RUN   TestLokiConfig/test_URL_options/missing_read
=== RUN   TestLokiConfig/test_URL_options/missing_write
=== RUN   TestLokiConfig/test_URL_options/invalid
=== RUN   TestLokiConfig/captures_external_labels
--- PASS: TestLokiConfig (0.00s)
--- PASS: TestLokiConfig/test_URL_options (0.00s)
--- PASS: TestLokiConfig/test_URL_options/remote_url_only (0.00s)
--- PASS: TestLokiConfig/test_URL_options/separate_urls (0.00s)
--- PASS: TestLokiConfig/test_URL_options/single_fallback (0.00s)
--- PASS: TestLokiConfig/test_URL_options/missing_read (0.00s)
--- PASS: TestLokiConfig/test_URL_options/missing_write (0.00s)
--- PASS: TestLokiConfig/test_URL_options/invalid (0.00s)
--- PASS: TestLokiConfig/captures_external_labels (0.00s)
=== RUN   TestLokiHTTPClient
=== RUN   TestLokiHTTPClient/push_formats_expected_data
=== RUN   TestLokiHTTPClient/range_query
=== RUN   TestLokiHTTPClient/range_query/passes_along_page_size
=== RUN   TestLokiHTTPClient/range_query/uses_default_page_size_if_limit_not_provided
=== RUN   TestLokiHTTPClient/range_query/uses_default_page_size_if_limit_invalid
=== RUN   TestLokiHTTPClient/range_query/uses_maximum_page_size_if_limit_too_big
--- PASS: TestLokiHTTPClient (0.00s)
--- PASS: TestLokiHTTPClient/push_formats_expected_data (0.00s)
--- PASS: TestLokiHTTPClient/range_query (0.00s)
--- PASS: TestLokiHTTPClient/range_query/passes_along_page_size (0.00s)
--- PASS: TestLokiHTTPClient/range_query/uses_default_page_size_if_limit_not_provided (0.00s)
--- PASS: TestLokiHTTPClient/range_query/uses_default_page_size_if_limit_invalid (0.00s)
--- PASS: TestLokiHTTPClient/range_query/uses_maximum_page_size_if_limit_too_big (0.00s)
=== RUN   TestLokiHTTPClient_Manual
loki_http_test.go:221:
--- SKIP: TestLokiHTTPClient_Manual (0.00s)
=== RUN   TestRow
=== RUN   TestRow/marshal
=== RUN   TestRow/unmarshal
=== RUN   TestRow/unmarshal_invalid
=== RUN   TestRow/unmarshal_bad_timestamp
--- PASS: TestRow (0.00s)
--- PASS: TestRow/marshal (0.00s)
--- PASS: TestRow/unmarshal (0.00s)
--- PASS: TestRow/unmarshal_invalid (0.00s)
--- PASS: TestRow/unmarshal_bad_timestamp (0.00s)
=== RUN   TestStream
=== RUN   TestStream/marshal
--- PASS: TestStream (0.00s)
--- PASS: TestStream/marshal (0.00s)
=== RUN   TestClampRange
=== RUN   TestClampRange/clamps_start_value_if_max_is_smaller_than_range
=== RUN   TestClampRange/returns_same_values_if_max_is_greater_than_range
=== RUN   TestClampRange/returns_same_values_if_max_is_equal_to_range
=== RUN   TestClampRange/returns_same_values_if_max_is_zero
--- PASS: TestClampRange (0.00s)
--- PASS: TestClampRange/clamps_start_value_if_max_is_smaller_than_range (0.00s)
--- PASS: TestClampRange/returns_same_values_if_max_is_greater_than_range (0.00s)
--- PASS: TestClampRange/returns_same_values_if_max_is_equal_to_range (0.00s)
--- PASS: TestClampRange/returns_same_values_if_max_is_zero (0.00s)
=== RUN   TestRemoteLokiBackend
=== RUN   TestRemoteLokiBackend/statesToStream
=== RUN   TestRemoteLokiBackend/statesToStream/skips_non-transitory_states
=== RUN   TestRemoteLokiBackend/statesToStream/maps_evaluation_errors
=== RUN   TestRemoteLokiBackend/statesToStream/maps_NoData_results
=== RUN   TestRemoteLokiBackend/statesToStream/produces_expected_stream_identifier
=== RUN   TestRemoteLokiBackend/statesToStream/excludes_private_labels
=== RUN   TestRemoteLokiBackend/statesToStream/includes_rule_data_in_log_line
=== RUN   TestRemoteLokiBackend/statesToStream/includes_instance_labels_in_log_line
=== RUN   TestRemoteLokiBackend/statesToStream/does_not_include_labels_other_than_instance_labels_in_log_line
=== RUN   TestRemoteLokiBackend/statesToStream/serializes_values_when_regular
=== RUN   TestRemoteLokiBackend/statesToStream/captures_condition_from_rule
=== RUN   TestRemoteLokiBackend/statesToStream/stores_fingerprint_of_instance_labels
--- PASS: TestRemoteLokiBackend (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/skips_non-transitory_states (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/maps_evaluation_errors (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/maps_NoData_results (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/produces_expected_stream_identifier (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/excludes_private_labels (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/includes_rule_data_in_log_line (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/includes_instance_labels_in_log_line (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/does_not_include_labels_other_than_instance_labels_in_log_line (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/serializes_values_when_regular (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/captures_condition_from_rule (0.00s)
--- PASS: TestRemoteLokiBackend/statesToStream/stores_fingerprint_of_instance_labels (0.00s)
=== RUN   TestBuildLogQuery
=== RUN   TestBuildLogQuery/default_includes_state_history_label_and_orgID_label
=== RUN   TestBuildLogQuery/adds_stream_label_filter_for_orgID
=== RUN   TestBuildLogQuery/filters_ruleUID_in_log_line
=== RUN   TestBuildLogQuery/filters_dashboardUID_in_log_line
=== RUN   TestBuildLogQuery/filters_panelID_in_log_line
=== RUN   TestBuildLogQuery/filters_instance_labels_in_log_line
=== RUN   TestBuildLogQuery/filters_both_instance_labels_+_ruleUID
=== RUN   TestBuildLogQuery/should_return_if_query_does_not_exceed_max_limit
=== RUN   TestBuildLogQuery/should_return_error_if_query_is_too_long
=== RUN   TestBuildLogQuery/filters_by_all_namespaces
=== RUN   TestBuildLogQuery/should_batch_queries_to_fit_all_folders
=== RUN   TestBuildLogQuery/should_fail_if_a_single_folder_UID_is_too_long
--- PASS: TestBuildLogQuery (0.00s)
--- PASS: TestBuildLogQuery/default_includes_state_history_label_and_orgID_label (0.00s)
--- PASS: TestBuildLogQuery/adds_stream_label_filter_for_orgID (0.00s)
--- PASS: TestBuildLogQuery/filters_ruleUID_in_log_line (0.00s)
--- PASS: TestBuildLogQuery/filters_dashboardUID_in_log_line (0.00s)
--- PASS: TestBuildLogQuery/filters_panelID_in_log_line (0.00s)
--- PASS: TestBuildLogQuery/filters_instance_labels_in_log_line (0.00s)
--- PASS: TestBuildLogQuery/filters_both_instance_labels_+_ruleUID (0.00s)
--- PASS: TestBuildLogQuery/should_return_if_query_does_not_exceed_max_limit (0.00s)
--- PASS: TestBuildLogQuery/should_return_error_if_query_is_too_long (0.00s)
--- PASS: TestBuildLogQuery/filters_by_all_namespaces (0.00s)
--- PASS: TestBuildLogQuery/should_batch_queries_to_fit_all_folders (0.00s)
--- PASS: TestBuildLogQuery/should_fail_if_a_single_folder_UID_is_too_long (0.00s)
=== RUN   TestMerge
=== RUN   TestMerge/Should_return_values_from_multiple_streams_in_right_order
=== RUN   TestMerge/Should_handle_empty_values
=== RUN   TestMerge/Should_handle_multiple_values_in_one_stream
=== RUN   TestMerge/should_filter_streams_by_folder_UID
=== RUN   TestMerge/should_skip_streams_without_folder_UID_if_filter_is_specified
=== RUN   TestMerge/should_return_streams_without_folder_UID_if_filter_is_not_specified
--- PASS: TestMerge (0.00s)
--- PASS: TestMerge/Should_return_values_from_multiple_streams_in_right_order (0.00s)
--- PASS: TestMerge/Should_handle_empty_values (0.00s)
--- PASS: TestMerge/Should_handle_multiple_values_in_one_stream (0.00s)
--- PASS: TestMerge/should_filter_streams_by_folder_UID (0.00s)
--- PASS: TestMerge/should_skip_streams_without_folder_UID_if_filter_is_specified (0.00s)
--- PASS: TestMerge/should_return_streams_without_folder_UID_if_filter_is_not_specified (0.00s)
=== RUN   TestRecordStates
=== RUN   TestRecordStates/writes_state_transitions_to_loki
=== RUN   TestRecordStates/emits_expected_write_metrics
=== RUN   TestRecordStates/elides_request_if_nothing_to_send
=== RUN   TestRecordStates/succeeds_with_special_chars_in_labels
=== RUN   TestRecordStates/adds_external_labels_to_log_lines
--- PASS: TestRecordStates (0.00s)
--- PASS: TestRecordStates/writes_state_transitions_to_loki (0.00s)
--- PASS: TestRecordStates/emits_expected_write_metrics (0.00s)
--- PASS: TestRecordStates/elides_request_if_nothing_to_send (0.00s)
--- PASS: TestRecordStates/succeeds_with_special_chars_in_labels (0.00s)
--- PASS: TestRecordStates/adds_external_labels_to_log_lines (0.00s)
=== RUN   TestGetFolderUIDsForFilter
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_specified
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_bypass_authorization_if_user_can_read_all_rules
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_bypass_authorization_if_user_can_read_all_rules/even_if_rule_does_not_exist
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_authorize_access_to_the_rule
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_authorize_access_to_the_rule/should_fail_if_unauthorized
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_authorize_access_to_the_rule/should_fail_if_rule_does_not_exist
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_empty
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_bypass_authorization_if_user_can_read_all_rules
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_return_only_folders_user_has_access_to
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_return_only_folders_user_has_access_to/should_fail_if_no_folders_to_read
=== RUN   TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_return_only_folders_user_has_access_to/should_fail_if_no_folders_to_read_alert_rules_in
--- PASS: TestGetFolderUIDsForFilter (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_specified (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_bypass_authorization_if_user_can_read_all_rules (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_bypass_authorization_if_user_can_read_all_rules/even_if_rule_does_not_exist (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_authorize_access_to_the_rule (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_authorize_access_to_the_rule/should_fail_if_unauthorized (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_specified/should_authorize_access_to_the_rule/should_fail_if_rule_does_not_exist (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_empty (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_bypass_authorization_if_user_can_read_all_rules (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_return_only_folders_user_has_access_to (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_return_only_folders_user_has_access_to/should_fail_if_no_folders_to_read (0.00s)
--- PASS: TestGetFolderUIDsForFilter/when_rule_UID_is_empty/should_return_only_folders_user_has_access_to/should_fail_if_no_folders_to_read_alert_rules_in (0.00s)
=== RUN   TestMultipleBackend
=== RUN   TestMultipleBackend/querying_dispatches_to_primary
=== RUN   TestMultipleBackend/writes_dispatch_to_all
=== RUN   TestMultipleBackend/writes_combine_errors
--- PASS: TestMultipleBackend (0.00s)
--- PASS: TestMultipleBackend/querying_dispatches_to_primary (0.00s)
--- PASS: TestMultipleBackend/writes_dispatch_to_all (0.00s)
--- PASS: TestMultipleBackend/writes_combine_errors (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/state/historian	(cached)
=== RUN   TestNewRuleMeta
=== RUN   TestNewRuleMeta/no_dash_UID
=== RUN   TestNewRuleMeta/no_panel_ID
=== RUN   TestNewRuleMeta/invalid_panel_ID
=== RUN   TestNewRuleMeta/success
--- PASS: TestNewRuleMeta (0.00s)
--- PASS: TestNewRuleMeta/no_dash_UID (0.00s)
--- PASS: TestNewRuleMeta/no_panel_ID (0.00s)
--- PASS: TestNewRuleMeta/invalid_panel_ID (0.00s)
--- PASS: TestNewRuleMeta/success (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/state/historian/model	(cached)
=== RUN   TestFilterLabelsFunc
--- PASS: TestFilterLabelsFunc (0.00s)
=== RUN   TestFilterLabelsReFunc
--- PASS: TestFilterLabelsReFunc (0.00s)
=== RUN   TestRemoveLabelsFunc
--- PASS: TestRemoveLabelsFunc (0.00s)
=== RUN   TestRemoveLabelsReFunc
--- PASS: TestRemoveLabelsReFunc (0.00s)
=== RUN   TestDeduplicateLabelsFunc
--- PASS: TestDeduplicateLabelsFunc (0.00s)
=== RUN   TestDeduplicateLabelsFuncAllSameVal
--- PASS: TestDeduplicateLabelsFuncAllSameVal (0.00s)
=== RUN   TestDeduplicateLabelsFuncNoDuplicates
--- PASS: TestDeduplicateLabelsFuncNoDuplicates (0.00s)
=== RUN   TestLabelsString
=== RUN   TestLabelsString/single_label_has_no_commas
=== RUN   TestLabelsString/labels_are_sorted_in_increasing_order
--- PASS: TestLabelsString (0.00s)
--- PASS: TestLabelsString/single_label_has_no_commas (0.00s)
--- PASS: TestLabelsString/labels_are_sorted_in_increasing_order (0.00s)
=== RUN   TestValueString
=== RUN   TestValueString/0_is_returned_as_integer_value
=== RUN   TestValueString/1.0_is_returned_as_integer_value
=== RUN   TestValueString/1.1_is_returned_as_decimal_value
=== RUN   TestValueString/1.1_is_returned_as_decimal_value,_no_labels
--- PASS: TestValueString (0.00s)
--- PASS: TestValueString/0_is_returned_as_integer_value (0.00s)
--- PASS: TestValueString/1.0_is_returned_as_integer_value (0.00s)
--- PASS: TestValueString/1.1_is_returned_as_decimal_value (0.00s)
--- PASS: TestValueString/1.1_is_returned_as_decimal_value,_no_labels (0.00s)
=== RUN   TestExpandError
--- PASS: TestExpandError (0.00s)
=== RUN   TestNewData
=== RUN   TestNewData/uses_evaluation_string_when_no_datasource_nodes
=== RUN   TestNewData/uses_single_datasource_node_value_when_exactly_one_exists
=== RUN   TestNewData/uses_evaluation_string_when_multiple_datasource_nodes_exist
--- PASS: TestNewData (0.00s)
--- PASS: TestNewData/uses_evaluation_string_when_no_datasource_nodes (0.00s)
--- PASS: TestNewData/uses_single_datasource_node_value_when_exactly_one_exists (0.00s)
--- PASS: TestNewData/uses_evaluation_string_when_multiple_datasource_nodes_exist (0.00s)
=== RUN   TestDatasourceValueInTemplating
=== RUN   TestDatasourceValueInTemplating/nil_datasource_value_is_rendered_as_NaN
=== RUN   TestDatasourceValueInTemplating/single_datasource_node_uses_query_value
=== RUN   TestDatasourceValueInTemplating/multiple_datasource_nodes_uses_evaluation_string
--- PASS: TestDatasourceValueInTemplating (0.00s)
--- PASS: TestDatasourceValueInTemplating/nil_datasource_value_is_rendered_as_NaN (0.00s)
--- PASS: TestDatasourceValueInTemplating/single_datasource_node_uses_query_value (0.00s)
--- PASS: TestDatasourceValueInTemplating/multiple_datasource_nodes_uses_evaluation_string (0.00s)
=== RUN   TestExpandTemplate
=== RUN   TestExpandTemplate/labels_are_expanded_into_$labels
=== RUN   TestExpandTemplate/missing_label_in_$labels_returns_[no_value]
=== RUN   TestExpandTemplate/values_are_expanded_into_$values
=== RUN   TestExpandTemplate/values_can_be_passed_to_template_functions_such_as_printf
=== RUN   TestExpandTemplate/missing_label_in_$values_returns_[no_value]
=== RUN   TestExpandTemplate/missing_value_in_$values_is_returned_as_NaN
=== RUN   TestExpandTemplate/$value_is_expanded_into_a_number_for_a_single_datasource_query
=== RUN   TestExpandTemplate/$value_is_expanded_into_a_string_for_multi-datasource_query
=== RUN   TestExpandTemplate/assert_value_string_is_expanded_into_$value
=== RUN   TestExpandTemplate/float64_is_humanized_correctly
=== RUN   TestExpandTemplate/int_is_humanized_correctly
=== RUN   TestExpandTemplate/humanize_string_with_error
=== RUN   TestExpandTemplate/humanize1024_float64
=== RUN   TestExpandTemplate/humanize1024_string_with_error
=== RUN   TestExpandTemplate/humanizeDuration_-_seconds_-_float64
=== RUN   TestExpandTemplate/humanizeDuration_-_string
=== RUN   TestExpandTemplate/humanizeDuration_-_subsecond_and_fractional_seconds_-_float64
=== RUN   TestExpandTemplate/humanizeDuration_-_subsecond_-_string
=== RUN   TestExpandTemplate/humanizeDuration_-_fractional_seconds_-_string
=== RUN   TestExpandTemplate/humanizeDuration_-_string_with_error
=== RUN   TestExpandTemplate/humanizePercentage_-_float64
=== RUN   TestExpandTemplate/humanizePercentage_-_string
=== RUN   TestExpandTemplate/humanizePercentage_-_string_with_error
=== RUN   TestExpandTemplate/humanizeTimestamp_-_float64
=== RUN   TestExpandTemplate/humanizeTimestamp_-_string
=== RUN   TestExpandTemplate/title
=== RUN   TestExpandTemplate/toUpper
=== RUN   TestExpandTemplate/toLower
=== RUN   TestExpandTemplate/match
=== RUN   TestExpandTemplate/regex_replacement
=== RUN   TestExpandTemplate/pass_multiple_arguments_to_templates
=== RUN   TestExpandTemplate/pathPrefix
=== RUN   TestExpandTemplate/externalURL
=== RUN   TestExpandTemplate/check_that_query,_first_and_value_don't_error_or_panic
=== RUN   TestExpandTemplate/check_that_label_doesn't_error_or_panic
=== RUN   TestExpandTemplate/graphLink
=== RUN   TestExpandTemplate/graphLink_should_escape_both_the_expression_and_the_datasource
=== RUN   TestExpandTemplate/check_that_graphLink_returns_an_empty_string_when_the_query_is_not_formatted_correctly
=== RUN   TestExpandTemplate/tableLink
=== RUN   TestExpandTemplate/tableLink_should_escape_both_the_expression_and_the_datasource
=== RUN   TestExpandTemplate/check_that_tableLink_returns_an_empty_string__when_the_query_is_not_formatted_correctly
=== RUN   TestExpandTemplate/check_that_sortByLabel_doesn't_error_or_panic
=== RUN   TestExpandTemplate/check_that_strvalue_returns_an_empty_string_(for_now)
=== RUN   TestExpandTemplate/check_that_safeHtml_doesn't_error_or_panic
--- PASS: TestExpandTemplate (0.00s)
--- PASS: TestExpandTemplate/labels_are_expanded_into_$labels (0.00s)
--- PASS: TestExpandTemplate/missing_label_in_$labels_returns_[no_value] (0.00s)
--- PASS: TestExpandTemplate/values_are_expanded_into_$values (0.00s)
--- PASS: TestExpandTemplate/values_can_be_passed_to_template_functions_such_as_printf (0.00s)
--- PASS: TestExpandTemplate/missing_label_in_$values_returns_[no_value] (0.00s)
--- PASS: TestExpandTemplate/missing_value_in_$values_is_returned_as_NaN (0.00s)
--- PASS: TestExpandTemplate/$value_is_expanded_into_a_number_for_a_single_datasource_query (0.00s)
--- PASS: TestExpandTemplate/$value_is_expanded_into_a_string_for_multi-datasource_query (0.00s)
--- PASS: TestExpandTemplate/assert_value_string_is_expanded_into_$value (0.00s)
--- PASS: TestExpandTemplate/float64_is_humanized_correctly (0.00s)
--- PASS: TestExpandTemplate/int_is_humanized_correctly (0.00s)
--- PASS: TestExpandTemplate/humanize_string_with_error (0.00s)
--- PASS: TestExpandTemplate/humanize1024_float64 (0.00s)
--- PASS: TestExpandTemplate/humanize1024_string_with_error (0.00s)
--- PASS: TestExpandTemplate/humanizeDuration_-_seconds_-_float64 (0.00s)
--- PASS: TestExpandTemplate/humanizeDuration_-_string (0.00s)
--- PASS: TestExpandTemplate/humanizeDuration_-_subsecond_and_fractional_seconds_-_float64 (0.00s)
--- PASS: TestExpandTemplate/humanizeDuration_-_subsecond_-_string (0.00s)
--- PASS: TestExpandTemplate/humanizeDuration_-_fractional_seconds_-_string (0.00s)
--- PASS: TestExpandTemplate/humanizeDuration_-_string_with_error (0.00s)
--- PASS: TestExpandTemplate/humanizePercentage_-_float64 (0.00s)
--- PASS: TestExpandTemplate/humanizePercentage_-_string (0.00s)
--- PASS: TestExpandTemplate/humanizePercentage_-_string_with_error (0.00s)
--- PASS: TestExpandTemplate/humanizeTimestamp_-_float64 (0.00s)
--- PASS: TestExpandTemplate/humanizeTimestamp_-_string (0.00s)
--- PASS: TestExpandTemplate/title (0.00s)
--- PASS: TestExpandTemplate/toUpper (0.00s)
--- PASS: TestExpandTemplate/toLower (0.00s)
--- PASS: TestExpandTemplate/match (0.00s)
--- PASS: TestExpandTemplate/regex_replacement (0.00s)
--- PASS: TestExpandTemplate/pass_multiple_arguments_to_templates (0.00s)
--- PASS: TestExpandTemplate/pathPrefix (0.00s)
--- PASS: TestExpandTemplate/externalURL (0.00s)
--- PASS: TestExpandTemplate/check_that_query,_first_and_value_don't_error_or_panic (0.00s)
--- PASS: TestExpandTemplate/check_that_label_doesn't_error_or_panic (0.00s)
--- PASS: TestExpandTemplate/graphLink (0.00s)
--- PASS: TestExpandTemplate/graphLink_should_escape_both_the_expression_and_the_datasource (0.00s)
--- PASS: TestExpandTemplate/check_that_graphLink_returns_an_empty_string_when_the_query_is_not_formatted_correctly (0.00s)
--- PASS: TestExpandTemplate/tableLink (0.00s)
--- PASS: TestExpandTemplate/tableLink_should_escape_both_the_expression_and_the_datasource (0.00s)
--- PASS: TestExpandTemplate/check_that_tableLink_returns_an_empty_string__when_the_query_is_not_formatted_correctly (0.00s)
--- PASS: TestExpandTemplate/check_that_sortByLabel_doesn't_error_or_panic (0.00s)
--- PASS: TestExpandTemplate/check_that_strvalue_returns_an_empty_string_(for_now) (0.00s)
--- PASS: TestExpandTemplate/check_that_safeHtml_doesn't_error_or_panic (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/state/template	(cached)
=== RUN   TestIntegrationUpdateAlertRules
alert_rule_test.go:43: skipping integration test
--- SKIP: TestIntegrationUpdateAlertRules (0.00s)
=== RUN   TestIntegration_GetAlertRulesForScheduling
alert_rule_test.go:236: skipping integration test
--- SKIP: TestIntegration_GetAlertRulesForScheduling (0.00s)
=== RUN   TestIntegration_CountAlertRules
alert_rule_test.go:363: skipping integration test
--- SKIP: TestIntegration_CountAlertRules (0.00s)
=== RUN   TestIntegration_DeleteInFolder
alert_rule_test.go:430: skipping integration test
--- SKIP: TestIntegration_DeleteInFolder (0.00s)
=== RUN   TestIntegration_DeleteAlertRulesByUID
alert_rule_test.go:462: skipping integration test
--- SKIP: TestIntegration_DeleteAlertRulesByUID (0.00s)
=== RUN   TestIntegrationInsertAlertRules
alert_rule_test.go:713: skipping integration test
--- SKIP: TestIntegrationInsertAlertRules (0.00s)
=== RUN   TestIntegrationAlertRulesNotificationSettings
alert_rule_test.go:882: skipping integration test
--- SKIP: TestIntegrationAlertRulesNotificationSettings (0.00s)
=== RUN   TestIntegrationListNotificationSettings
alert_rule_test.go:1166: skipping integration test
--- SKIP: TestIntegrationListNotificationSettings (0.00s)
=== RUN   TestIntegrationGetNamespacesByRuleUID
alert_rule_test.go:1287: skipping integration test
--- SKIP: TestIntegrationGetNamespacesByRuleUID (0.00s)
=== RUN   TestIntegrationRuleGroupsCaseSensitive
alert_rule_test.go:1338: skipping integration test
--- SKIP: TestIntegrationRuleGroupsCaseSensitive (0.00s)
=== RUN   TestIncreaseVersionForAllRulesInNamespaces
alert_rule_test.go:1445: skipping integration test
--- SKIP: TestIncreaseVersionForAllRulesInNamespaces (0.00s)
=== RUN   TestGetRuleVersions
alert_rule_test.go:1494: skipping integration test
--- SKIP: TestGetRuleVersions (0.00s)
=== RUN   TestIntegration_AlertRuleVersionsCleanup
alert_rule_test.go:1625: skipping integration test
--- SKIP: TestIntegration_AlertRuleVersionsCleanup (0.00s)
=== RUN   TestIntegration_ListAlertRules
alert_rule_test.go:1752: skipping integration test
--- SKIP: TestIntegration_ListAlertRules (0.00s)
=== RUN   TestIntegration_ListDeletedRules
alert_rule_test.go:1810: skipping integration test
--- SKIP: TestIntegration_ListDeletedRules (0.00s)
=== RUN   TestIntegration_CleanUpDeletedAlertRules
alert_rule_test.go:1896: skipping integration test
--- SKIP: TestIntegration_CleanUpDeletedAlertRules (0.00s)
=== RUN   TestIntegrationAlertmanagerStore
alertmanager_test.go:25: skipping integration test
--- SKIP: TestIntegrationAlertmanagerStore (0.00s)
=== RUN   TestIntegrationAlertmanagerHash
alertmanager_test.go:147: skipping integration test
--- SKIP: TestIntegrationAlertmanagerHash (0.00s)
=== RUN   TestIntegrationAlertmanagerConfigCleanup
alertmanager_test.go:194: skipping integration test
--- SKIP: TestIntegrationAlertmanagerConfigCleanup (0.00s)
=== RUN   TestIntegrationMarkConfigurationAsApplied
alertmanager_test.go:287: skipping integration test
--- SKIP: TestIntegrationMarkConfigurationAsApplied (0.00s)
=== RUN   TestIntegrationGetAppliedConfigurations
alertmanager_test.go:342: skipping integration test
--- SKIP: TestIntegrationGetAppliedConfigurations (0.00s)
=== RUN   TestIntegrationGetHistoricalConfiguration
alertmanager_test.go:433: skipping integration test
--- SKIP: TestIntegrationGetHistoricalConfiguration (0.00s)
=== RUN   TestAlertRuleToModelsAlertRule
=== RUN   TestAlertRuleToModelsAlertRule/make_sure_no_data_is_lost_between_conversions
=== RUN   TestAlertRuleToModelsAlertRule/should_use_NoData_if_NoDataState_is_not_known
=== RUN   TestAlertRuleToModelsAlertRule/should_use_Error_if_ExecErrState_is_not_known
--- PASS: TestAlertRuleToModelsAlertRule (0.03s)
--- PASS: TestAlertRuleToModelsAlertRule/make_sure_no_data_is_lost_between_conversions (0.03s)
--- PASS: TestAlertRuleToModelsAlertRule/should_use_NoData_if_NoDataState_is_not_known (0.00s)
--- PASS: TestAlertRuleToModelsAlertRule/should_use_Error_if_ExecErrState_is_not_known (0.00s)
=== RUN   TestAlertRuleVersionToAlertRule
=== RUN   TestAlertRuleVersionToAlertRule/make_sure_no_data_is_lost_between_conversions
--- PASS: TestAlertRuleVersionToAlertRule (0.00s)
--- PASS: TestAlertRuleVersionToAlertRule/make_sure_no_data_is_lost_between_conversions (0.00s)
=== RUN   TestCalculateChanges
=== RUN   TestCalculateChanges/detects_alerts_that_need_to_be_added
=== RUN   TestCalculateChanges/detects_alerts_that_need_to_be_deleted
=== RUN   TestCalculateChanges/should_detect_alerts_that_needs_to_be_updated
=== RUN   TestCalculateChanges/should_include_only_if_there_are_changes_ignoring_specific_fields
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/title_is_empty
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/condition_and_data_are_empty
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/ExecErrState_is_empty
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/NoDataState_is_empty
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/For_is_0
=== RUN   TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/GUID_is_empty
=== RUN   TestCalculateChanges/should_be_able_to_find_alerts_by_UID_in_other_group/namespace
=== RUN   TestCalculateChanges/should_add_rule_when_submitted_rule_has_UID_that_does_not_exist_in_db
=== RUN   TestCalculateChanges/should_fail_if_cannot_fetch_current_rules_in_the_group
=== RUN   TestCalculateChanges/should_fail_if_cannot_fetch_rule_by_UID
--- PASS: TestCalculateChanges (0.01s)
--- PASS: TestCalculateChanges/detects_alerts_that_need_to_be_added (0.00s)
--- PASS: TestCalculateChanges/detects_alerts_that_need_to_be_deleted (0.00s)
--- PASS: TestCalculateChanges/should_detect_alerts_that_needs_to_be_updated (0.00s)
--- PASS: TestCalculateChanges/should_include_only_if_there_are_changes_ignoring_specific_fields (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/title_is_empty (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/condition_and_data_are_empty (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/ExecErrState_is_empty (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/NoDataState_is_empty (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/For_is_0 (0.00s)
--- PASS: TestCalculateChanges/should_patch_rule_with_UID_specified_by_existing_rule/GUID_is_empty (0.00s)
--- PASS: TestCalculateChanges/should_be_able_to_find_alerts_by_UID_in_other_group/namespace (0.00s)
--- PASS: TestCalculateChanges/should_add_rule_when_submitted_rule_has_UID_that_does_not_exist_in_db (0.00s)
--- PASS: TestCalculateChanges/should_fail_if_cannot_fetch_current_rules_in_the_group (0.00s)
--- PASS: TestCalculateChanges/should_fail_if_cannot_fetch_rule_by_UID (0.00s)
=== RUN   TestCalculateAutomaticChanges
=== RUN   TestCalculateAutomaticChanges/should_mark_all_rules_in_affected_groups
=== RUN   TestCalculateAutomaticChanges/should_re-index_rules_in_affected_groups_other_than_updated
--- PASS: TestCalculateAutomaticChanges (0.00s)
--- PASS: TestCalculateAutomaticChanges/should_mark_all_rules_in_affected_groups (0.00s)
--- PASS: TestCalculateAutomaticChanges/should_re-index_rules_in_affected_groups_other_than_updated (0.00s)
=== RUN   TestCalculateRuleGroupsDelete
=== RUN   TestCalculateRuleGroupsDelete/returns_ErrAlertRuleGroupNotFound_when_namespace_has_no_rules
=== RUN   TestCalculateRuleGroupsDelete/returns_deltas_for_all_affected_groups_in_namespace
=== RUN   TestCalculateRuleGroupsDelete/fails_if_store_returns_error
--- PASS: TestCalculateRuleGroupsDelete (0.00s)
--- PASS: TestCalculateRuleGroupsDelete/returns_ErrAlertRuleGroupNotFound_when_namespace_has_no_rules (0.00s)
--- PASS: TestCalculateRuleGroupsDelete/returns_deltas_for_all_affected_groups_in_namespace (0.00s)
--- PASS: TestCalculateRuleGroupsDelete/fails_if_store_returns_error (0.00s)
=== RUN   TestCalculateRuleGroupDelete
=== RUN   TestCalculateRuleGroupDelete/NotFound_when_group_does_not_exist
=== RUN   TestCalculateRuleGroupDelete/set_AffectedGroups_when_a_rule_refers_to_an_existing_group
--- PASS: TestCalculateRuleGroupDelete (0.00s)
--- PASS: TestCalculateRuleGroupDelete/NotFound_when_group_does_not_exist (0.00s)
--- PASS: TestCalculateRuleGroupDelete/set_AffectedGroups_when_a_rule_refers_to_an_existing_group (0.00s)
=== RUN   TestCalculateRuleDelete
=== RUN   TestCalculateRuleDelete/nil_when_a_rule_does_not_exist
=== RUN   TestCalculateRuleDelete/set_AffectedGroups_when_a_rule_refers_to_an_existing_group
--- PASS: TestCalculateRuleDelete (0.00s)
--- PASS: TestCalculateRuleDelete/nil_when_a_rule_does_not_exist (0.00s)
--- PASS: TestCalculateRuleDelete/set_AffectedGroups_when_a_rule_refers_to_an_existing_group (0.00s)
=== RUN   TestCalculateRuleUpdate
=== RUN   TestCalculateRuleUpdate/when_a_rule_is_not_changed
=== RUN   TestCalculateRuleUpdate/when_a_rule_is_updated
=== RUN   TestCalculateRuleUpdate/when_a_rule_is_moved_between_groups
=== RUN   TestCalculateRuleUpdate/when_an_alert_rule_query_is_updated
=== RUN   TestCalculateRuleUpdate/when_a_recording_rule_query_is_updated
--- PASS: TestCalculateRuleUpdate (0.00s)
--- PASS: TestCalculateRuleUpdate/when_a_rule_is_not_changed (0.00s)
--- PASS: TestCalculateRuleUpdate/when_a_rule_is_updated (0.00s)
--- PASS: TestCalculateRuleUpdate/when_a_rule_is_moved_between_groups (0.00s)
--- PASS: TestCalculateRuleUpdate/when_an_alert_rule_query_is_updated (0.00s)
--- PASS: TestCalculateRuleUpdate/when_a_recording_rule_query_is_updated (0.00s)
=== RUN   TestCalculateRuleCreate
=== RUN   TestCalculateRuleCreate/when_a_rule_refers_to_a_new_group
=== RUN   TestCalculateRuleCreate/when_a_rule_refers_to_an_existing_group
--- PASS: TestCalculateRuleCreate (0.00s)
--- PASS: TestCalculateRuleCreate/when_a_rule_refers_to_a_new_group (0.00s)
--- PASS: TestCalculateRuleCreate/when_a_rule_refers_to_an_existing_group (0.00s)
=== RUN   TestDeltaAffectsQuery
=== RUN   TestDeltaAffectsQuery/returns_false_when_there_are_no_diffs
=== RUN   TestDeltaAffectsQuery/returns_true_when_diff_contains_a_field_that_affects_query
=== RUN   TestDeltaAffectsQuery/returns_false_when_diff_contains_only_fields_that_do_not_affect_query
=== RUN   TestDeltaAffectsQuery/returns_true_when_diff_contains_multiple_fields,_including_one_that_affects_query
=== RUN   TestDeltaAffectsQuery/handles_nested_paths_in_diff
=== RUN   TestDeltaAffectsQuery/returns_false_for_empty_diff_paths
--- PASS: TestDeltaAffectsQuery (0.00s)
--- PASS: TestDeltaAffectsQuery/returns_false_when_there_are_no_diffs (0.00s)
--- PASS: TestDeltaAffectsQuery/returns_true_when_diff_contains_a_field_that_affects_query (0.00s)
--- PASS: TestDeltaAffectsQuery/returns_false_when_diff_contains_only_fields_that_do_not_affect_query (0.00s)
--- PASS: TestDeltaAffectsQuery/returns_true_when_diff_contains_multiple_fields,_including_one_that_affects_query (0.00s)
--- PASS: TestDeltaAffectsQuery/handles_nested_paths_in_diff (0.00s)
--- PASS: TestDeltaAffectsQuery/returns_false_for_empty_diff_paths (0.00s)
=== RUN   TestIntegration_GetUserVisibleNamespaces
namespace_test.go:25: skipping integration test
--- SKIP: TestIntegration_GetUserVisibleNamespaces (0.00s)
=== RUN   TestIntegration_GetNamespaceByUID
namespace_test.go:72: skipping integration test
--- SKIP: TestIntegration_GetNamespaceByUID (0.00s)
=== RUN   TestIntegration_GetNamespaceByTitle
namespace_test.go:130: skipping integration test
--- SKIP: TestIntegration_GetNamespaceByTitle (0.00s)
=== RUN   TestIntegration_GetOrCreateNamespaceByTitle
namespace_test.go:188: skipping integration test
--- SKIP: TestIntegration_GetOrCreateNamespaceByTitle (0.00s)
=== RUN   TestIntegration_GetNamespaceChildren
namespace_test.go:391: skipping integration test
--- SKIP: TestIntegration_GetNamespaceChildren (0.00s)
=== RUN   TestGenerateAlertingFolderUID
=== RUN   TestGenerateAlertingFolderUID/should_generate_deterministic_UIDs_for_same_inputs
=== RUN   TestGenerateAlertingFolderUID/should_generate_different_UIDs_for_different_inputs
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder/with/slashes
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder_with_spaces
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder-with-dashes
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder_with_underscores
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder.with.dots
=== RUN   TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/!@#$%^&*()
--- PASS: TestGenerateAlertingFolderUID (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_generate_deterministic_UIDs_for_same_inputs (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_generate_different_UIDs_for_different_inputs (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder/with/slashes (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder_with_spaces (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder-with-dashes (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder_with_underscores (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/folder.with.dots (0.00s)
--- PASS: TestGenerateAlertingFolderUID/should_handle_special_characters_in_folder_titles/!@#$%^&*() (0.00s)
=== RUN   TestFetchOrgIds
=== RUN   TestFetchOrgIds/returns_empty_result_when_no_orgs_exist
=== RUN   TestFetchOrgIds/returns_all_org_IDs
--- PASS: TestFetchOrgIds (0.23s)
--- PASS: TestFetchOrgIds/returns_empty_result_when_no_orgs_exist (0.23s)
--- PASS: TestFetchOrgIds/returns_all_org_IDs (0.00s)
=== RUN   TestAlertInstanceModelToProto
=== RUN   TestAlertInstanceModelToProto/valid_instance
--- PASS: TestAlertInstanceModelToProto (0.00s)
--- PASS: TestAlertInstanceModelToProto/valid_instance (0.00s)
=== RUN   TestAlertInstanceProtoToModel
=== RUN   TestAlertInstanceProtoToModel/valid_instance
--- PASS: TestAlertInstanceProtoToModel (0.00s)
--- PASS: TestAlertInstanceProtoToModel/valid_instance (0.00s)
=== RUN   TestModelAlertInstanceMatchesProtobuf
=== RUN   TestModelAlertInstanceMatchesProtobuf/when_AlertInstance_model_changes
--- PASS: TestModelAlertInstanceMatchesProtobuf (0.00s)
--- PASS: TestModelAlertInstanceMatchesProtobuf/when_AlertInstance_model_changes (0.00s)
=== RUN   TestCompressAndDecompressAlertInstances
--- PASS: TestCompressAndDecompressAlertInstances (0.00s)
=== RUN   TestCanBeInstant
=== RUN   TestCanBeInstant/valid_loki_rule_that_can_be_migrated_from_range_to_instant
=== RUN   TestCanBeInstant/valid_prom_rule_that_can_be_migrated_from_range_to_instant
=== RUN   TestCanBeInstant/valid_loki_rule_with_external_loki_datasource
=== RUN   TestCanBeInstant/valid_prom_rule_with_external_prometheus_datasource
=== RUN   TestCanBeInstant/valid_prom_rule_with_missing_datasource
=== RUN   TestCanBeInstant/valid_prom_rule_with_missing_datasource_and_instant_query
=== RUN   TestCanBeInstant/valid_loki_multi_query_rule_with_loki_datasources
=== RUN   TestCanBeInstant/valid_prom_multi_query_rule_with_prom_datasources
=== RUN   TestCanBeInstant/invalid_rule_where_the_data_array_is_too_short_to_be_migrateable
=== RUN   TestCanBeInstant/invalid_rule_that_is_not_a_range_query
=== RUN   TestCanBeInstant/invalid_rule_that_has_not_last()_as_aggregation
=== RUN   TestCanBeInstant/invalid_rule_that_has_not_all_reducers_last()
=== RUN   TestCanBeInstant/invalid_rule_that_has_no_aggregation
=== RUN   TestCanBeInstant/invalid_rule_that_has_not_last()_pointing_to_range_query
--- PASS: TestCanBeInstant (0.00s)
--- PASS: TestCanBeInstant/valid_loki_rule_that_can_be_migrated_from_range_to_instant (0.00s)
--- PASS: TestCanBeInstant/valid_prom_rule_that_can_be_migrated_from_range_to_instant (0.00s)
--- PASS: TestCanBeInstant/valid_loki_rule_with_external_loki_datasource (0.00s)
--- PASS: TestCanBeInstant/valid_prom_rule_with_external_prometheus_datasource (0.00s)
--- PASS: TestCanBeInstant/valid_prom_rule_with_missing_datasource (0.00s)
--- PASS: TestCanBeInstant/valid_prom_rule_with_missing_datasource_and_instant_query (0.00s)
--- PASS: TestCanBeInstant/valid_loki_multi_query_rule_with_loki_datasources (0.00s)
--- PASS: TestCanBeInstant/valid_prom_multi_query_rule_with_prom_datasources (0.00s)
--- PASS: TestCanBeInstant/invalid_rule_where_the_data_array_is_too_short_to_be_migrateable (0.00s)
--- PASS: TestCanBeInstant/invalid_rule_that_is_not_a_range_query (0.00s)
--- PASS: TestCanBeInstant/invalid_rule_that_has_not_last()_as_aggregation (0.00s)
--- PASS: TestCanBeInstant/invalid_rule_that_has_not_all_reducers_last() (0.00s)
--- PASS: TestCanBeInstant/invalid_rule_that_has_no_aggregation (0.00s)
--- PASS: TestCanBeInstant/invalid_rule_that_has_not_last()_pointing_to_range_query (0.00s)
=== RUN   TestMigrateLokiQueryToInstant
--- PASS: TestMigrateLokiQueryToInstant (0.00s)
=== RUN   TestMigrateMultiLokiQueryToInstant
--- PASS: TestMigrateMultiLokiQueryToInstant (0.00s)
=== RUN   TestMigratePromQueryToInstant
--- PASS: TestMigratePromQueryToInstant (0.00s)
=== RUN   TestMigrateMultiPromQueryToInstant
--- PASS: TestMigrateMultiPromQueryToInstant (0.00s)
=== RUN   TestIntegrationSaveAndGetImage
image_test.go:19: skipping integration test
--- SKIP: TestIntegrationSaveAndGetImage (0.00s)
=== RUN   TestIntegrationGetImages
image_test.go:90: skipping integration test
--- SKIP: TestIntegrationGetImages (0.00s)
=== RUN   TestIntegrationDeleteExpiredImages
image_test.go:172: skipping integration test
--- SKIP: TestIntegrationDeleteExpiredImages (0.00s)
=== RUN   TestIntegration_CompressedAlertRuleStateOperations
instance_database_test.go:26: skipping integration test
--- SKIP: TestIntegration_CompressedAlertRuleStateOperations (0.00s)
=== RUN   TestIntegrationAlertInstanceOperations
instance_database_test.go:128: skipping integration test
--- SKIP: TestIntegrationAlertInstanceOperations (0.00s)
=== RUN   TestIntegrationFullSync
=== RUN   TestIntegrationFullSync/Should_do_a_proper_full_sync
=== RUN   TestIntegrationFullSync/Should_remove_non_existing_entries_on_sync
=== RUN   TestIntegrationFullSync/Should_add_new_entries_on_sync
=== RUN   TestIntegrationFullSync/Should_save_all_instances_when_batch_size_is_bigger_than_1
=== RUN   TestIntegrationFullSync/Should_not_fail_when_the_instances_are_empty
=== RUN   TestIntegrationFullSync/Should_handle_invalid_instances_by_skipping_them
=== RUN   TestIntegrationFullSync/Should_handle_batchSize_larger_than_the_number_of_instances
=== RUN   TestIntegrationFullSync/Should_handle_a_large_set_of_instances_with_a_moderate_batchSize
--- PASS: TestIntegrationFullSync (0.01s)
--- PASS: TestIntegrationFullSync/Should_do_a_proper_full_sync (0.00s)
--- PASS: TestIntegrationFullSync/Should_remove_non_existing_entries_on_sync (0.00s)
--- PASS: TestIntegrationFullSync/Should_add_new_entries_on_sync (0.00s)
--- PASS: TestIntegrationFullSync/Should_save_all_instances_when_batch_size_is_bigger_than_1 (0.00s)
--- PASS: TestIntegrationFullSync/Should_not_fail_when_the_instances_are_empty (0.00s)
--- PASS: TestIntegrationFullSync/Should_handle_invalid_instances_by_skipping_them (0.00s)
--- PASS: TestIntegrationFullSync/Should_handle_batchSize_larger_than_the_number_of_instances (0.00s)
--- PASS: TestIntegrationFullSync/Should_handle_a_large_set_of_instances_with_a_moderate_batchSize (0.01s)
=== RUN   TestIntegration_ProtoInstanceDBStore_VerifyCompressedData
instance_database_test.go:512: skipping integration test
--- SKIP: TestIntegration_ProtoInstanceDBStore_VerifyCompressedData (0.00s)
=== RUN   TestIntegrationProvisioningStore
provisioning_store_test.go:20: skipping integration test
--- SKIP: TestIntegrationProvisioningStore (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/store	(cached)
?   	github.com/grafana/grafana/pkg/services/ngalert/store/proto/v1	[no test files]
?   	github.com/grafana/grafana/pkg/services/ngalert/tests	[no test files]
?   	github.com/grafana/grafana/pkg/services/ngalert/tests/fakes	[no test files]
?   	github.com/grafana/grafana/pkg/services/ngalert/testutil	[no test files]
=== RUN   TestDatasourceWriter
=== RUN   TestDatasourceWriter/when_writing_a_prometheus_datasource_then_the_request_is_made_to_the_expected_endpoint
=== RUN   TestDatasourceWriter/when_writing_an_unknown_datasource_then_an_error_is_returned
=== RUN   TestDatasourceWriter/when_writing_a_non-prometheus_datasource_then_an_error_is_returned
=== RUN   TestDatasourceWriter/when_writing_with_an_empty_datasource_uid_then_the_default_is_written
--- PASS: TestDatasourceWriter (0.00s)
--- PASS: TestDatasourceWriter/when_writing_a_prometheus_datasource_then_the_request_is_made_to_the_expected_endpoint (0.00s)
--- PASS: TestDatasourceWriter/when_writing_an_unknown_datasource_then_an_error_is_returned (0.00s)
--- PASS: TestDatasourceWriter/when_writing_a_non-prometheus_datasource_then_an_error_is_returned (0.00s)
--- PASS: TestDatasourceWriter/when_writing_with_an_empty_datasource_uid_then_the_default_is_written (0.00s)
=== RUN   TestDatasourceWriterGetRemoteWriteURL
=== RUN   TestDatasourceWriterGetRemoteWriteURL/prometheus
=== RUN   TestDatasourceWriterGetRemoteWriteURL/prometheus_with_prefix
=== RUN   TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_legacy_routes
=== RUN   TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_legacy_routes_with_prefix
=== RUN   TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_new_routes
=== RUN   TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_new_routes_with_prefix
=== RUN   TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_with_unknown_suffix
--- PASS: TestDatasourceWriterGetRemoteWriteURL (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/prometheus (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/prometheus_with_prefix (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_legacy_routes (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_legacy_routes_with_prefix (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_new_routes (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_new_routes_with_prefix (0.00s)
--- PASS: TestDatasourceWriterGetRemoteWriteURL/mimir/cortex_with_unknown_suffix (0.00s)
=== RUN   TestValidateSettings
=== RUN   TestValidateSettings/invalid_url
=== RUN   TestValidateSettings/missing_password
=== RUN   TestValidateSettings/timeout_is_0
=== RUN   TestValidateSettings/valid_settings_w/_auth
=== RUN   TestValidateSettings/valid_settings_w/o_auth
--- PASS: TestValidateSettings (0.00s)
--- PASS: TestValidateSettings/invalid_url (0.00s)
--- PASS: TestValidateSettings/missing_password (0.00s)
--- PASS: TestValidateSettings/timeout_is_0 (0.00s)
--- PASS: TestValidateSettings/valid_settings_w/_auth (0.00s)
--- PASS: TestValidateSettings/valid_settings_w/o_auth (0.00s)
=== RUN   TestPointsFromFrames
=== RUN   TestPointsFromFrames/error_when_frames_are_empty
=== RUN   TestPointsFromFrames/error_when_frames_are_empty/wide
=== RUN   TestPointsFromFrames/error_when_frames_are_empty/long
=== RUN   TestPointsFromFrames/error_when_frames_are_empty/multi
=== RUN   TestPointsFromFrames/maps_frames_correctly
=== RUN   TestPointsFromFrames/maps_frames_correctly/wide
=== RUN   TestPointsFromFrames/maps_frames_correctly/long
=== RUN   TestPointsFromFrames/maps_frames_correctly/multi
--- PASS: TestPointsFromFrames (0.00s)
--- PASS: TestPointsFromFrames/error_when_frames_are_empty (0.00s)
--- PASS: TestPointsFromFrames/error_when_frames_are_empty/wide (0.00s)
--- PASS: TestPointsFromFrames/error_when_frames_are_empty/long (0.00s)
--- PASS: TestPointsFromFrames/error_when_frames_are_empty/multi (0.00s)
--- PASS: TestPointsFromFrames/maps_frames_correctly (0.00s)
--- PASS: TestPointsFromFrames/maps_frames_correctly/wide (0.00s)
--- PASS: TestPointsFromFrames/maps_frames_correctly/long (0.00s)
--- PASS: TestPointsFromFrames/maps_frames_correctly/multi (0.00s)
=== RUN   TestPrometheusWriter_Write
=== RUN   TestPrometheusWriter_Write/error_when_frames_are_empty
=== RUN   TestPrometheusWriter_Write/include_client_error_when_client_fails
=== RUN   TestPrometheusWriter_Write/writes_expected_points
=== RUN   TestPrometheusWriter_Write/ignores_client_error_when_status_code_is_400_and_message_contains_duplicate_timestamp_error
=== RUN   TestPrometheusWriter_Write/ignores_client_error_when_status_code_is_400_and_message_contains_duplicate_timestamp_error/err-mimir-sample-duplicate-timestamp
=== RUN   TestPrometheusWriter_Write/ignores_client_error_when_status_code_is_400_and_message_contains_duplicate_timestamp_error/duplicate_sample_for_timestamp
=== RUN   TestPrometheusWriter_Write/bad_labels_fit_under_the_client_error_category
=== RUN   TestPrometheusWriter_Write/max_series_limit_fit_under_the_client_error_category_
=== RUN   TestPrometheusWriter_Write/too_long_labels_fit_under_the_client_error_category
=== RUN   TestPrometheusWriter_Write/too_many_labels_fit_under_the_client_error_category
--- PASS: TestPrometheusWriter_Write (0.00s)
--- PASS: TestPrometheusWriter_Write/error_when_frames_are_empty (0.00s)
--- PASS: TestPrometheusWriter_Write/include_client_error_when_client_fails (0.00s)
--- PASS: TestPrometheusWriter_Write/writes_expected_points (0.00s)
--- PASS: TestPrometheusWriter_Write/ignores_client_error_when_status_code_is_400_and_message_contains_duplicate_timestamp_error (0.00s)
--- PASS: TestPrometheusWriter_Write/ignores_client_error_when_status_code_is_400_and_message_contains_duplicate_timestamp_error/err-mimir-sample-duplicate-timestamp (0.00s)
--- PASS: TestPrometheusWriter_Write/ignores_client_error_when_status_code_is_400_and_message_contains_duplicate_timestamp_error/duplicate_sample_for_timestamp (0.00s)
--- PASS: TestPrometheusWriter_Write/bad_labels_fit_under_the_client_error_category (0.00s)
--- PASS: TestPrometheusWriter_Write/max_series_limit_fit_under_the_client_error_category_ (0.00s)
--- PASS: TestPrometheusWriter_Write/too_long_labels_fit_under_the_client_error_category (0.00s)
--- PASS: TestPrometheusWriter_Write/too_many_labels_fit_under_the_client_error_category (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ngalert/writer	(cached)
=== RUN   TestTimeLimitCodes
=== RUN   TestTimeLimitCodes/code_generated_10_minutes_ago,_5_minutes_valid
=== RUN   TestTimeLimitCodes/code_generated_10_minutes_ago,_9_minutes_valid
=== RUN   TestTimeLimitCodes/code_generated_10_minutes_ago,_10_minutes_valid
=== RUN   TestTimeLimitCodes/code_generated_10_minutes_ago,_11_minutes_valid
=== RUN   TestTimeLimitCodes/code_generated_10_minutes_ago,_20_minutes_valid
=== RUN   TestTimeLimitCodes/code_generated_10_minutes_ago,_20_minutes_valid,_tampered_payload
=== RUN   TestTimeLimitCodes/tampered_minutes
=== RUN   TestTimeLimitCodes/tampered_start_string
--- PASS: TestTimeLimitCodes (0.00s)
--- PASS: TestTimeLimitCodes/code_generated_10_minutes_ago,_5_minutes_valid (0.00s)
--- PASS: TestTimeLimitCodes/code_generated_10_minutes_ago,_9_minutes_valid (0.00s)
--- PASS: TestTimeLimitCodes/code_generated_10_minutes_ago,_10_minutes_valid (0.00s)
--- PASS: TestTimeLimitCodes/code_generated_10_minutes_ago,_11_minutes_valid (0.00s)
--- PASS: TestTimeLimitCodes/code_generated_10_minutes_ago,_20_minutes_valid (0.00s)
--- PASS: TestTimeLimitCodes/code_generated_10_minutes_ago,_20_minutes_valid,_tampered_payload (0.00s)
--- PASS: TestTimeLimitCodes/tampered_minutes (0.00s)
--- PASS: TestTimeLimitCodes/tampered_start_string (0.00s)
=== RUN   TestEmailCodes
=== RUN   TestEmailCodes/When_generating_code
=== RUN   TestEmailCodes/When_generating_code/getLoginForCode_should_return_login
=== RUN   TestEmailCodes/When_generating_code/Can_verify_valid_code
=== RUN   TestEmailCodes/When_generating_code/Cannot_verify_invalid_code
--- PASS: TestEmailCodes (0.00s)
--- PASS: TestEmailCodes/When_generating_code (0.00s)
--- PASS: TestEmailCodes/When_generating_code/getLoginForCode_should_return_login (0.00s)
--- PASS: TestEmailCodes/When_generating_code/Can_verify_valid_code (0.00s)
--- PASS: TestEmailCodes/When_generating_code/Cannot_verify_invalid_code (0.00s)
=== RUN   TestProvideService
=== RUN   TestProvideService/When_invalid_from_address_in_configuration
=== RUN   TestProvideService/When_all_template_patterns_fail_to_parse
=== RUN   TestProvideService/When_some_template_patterns_fail_to_parse
--- PASS: TestProvideService (0.01s)
--- PASS: TestProvideService/When_invalid_from_address_in_configuration (0.01s)
--- PASS: TestProvideService/When_all_template_patterns_fail_to_parse (0.00s)
--- PASS: TestProvideService/When_some_template_patterns_fail_to_parse (0.00s)
=== RUN   TestSendEmailSync
=== RUN   TestSendEmailSync/When_sending_emails_synchronously
=== RUN   TestSendEmailSync/When_using_Single_Email_mode_with_multiple_recipients
=== RUN   TestSendEmailSync/When_using_Multi_Email_mode_with_multiple_recipients
=== RUN   TestSendEmailSync/When_attaching_files_to_emails
=== RUN   TestSendEmailSync/When_embedding_readers_to_emails
=== RUN   TestSendEmailSync/When_SMTP_disabled_in_configuration
=== RUN   TestSendEmailSync/When_invalid_content_type_in_configuration
=== RUN   TestSendEmailSync/When_SMTP_dialer_is_disconnected
--- PASS: TestSendEmailSync (0.03s)
--- PASS: TestSendEmailSync/When_sending_emails_synchronously (0.00s)
--- PASS: TestSendEmailSync/When_using_Single_Email_mode_with_multiple_recipients (0.01s)
--- PASS: TestSendEmailSync/When_using_Multi_Email_mode_with_multiple_recipients (0.00s)
--- PASS: TestSendEmailSync/When_attaching_files_to_emails (0.00s)
--- PASS: TestSendEmailSync/When_embedding_readers_to_emails (0.00s)
--- PASS: TestSendEmailSync/When_SMTP_disabled_in_configuration (0.00s)
--- PASS: TestSendEmailSync/When_invalid_content_type_in_configuration (0.01s)
--- PASS: TestSendEmailSync/When_SMTP_dialer_is_disconnected (0.00s)
=== RUN   TestSendEmailAsync
=== RUN   TestSendEmailAsync/When_sending_reset_email_password
=== RUN   TestSendEmailAsync/When_SMTP_disabled_in_configuration
=== RUN   TestSendEmailAsync/When_invalid_content_type_in_configuration
=== RUN   TestSendEmailAsync/When_SMTP_dialer_is_disconnected
--- PASS: TestSendEmailAsync (0.01s)
--- PASS: TestSendEmailAsync/When_sending_reset_email_password (0.00s)
--- PASS: TestSendEmailAsync/When_SMTP_disabled_in_configuration (0.00s)
--- PASS: TestSendEmailAsync/When_invalid_content_type_in_configuration (0.00s)
--- PASS: TestSendEmailAsync/When_SMTP_dialer_is_disconnected (0.00s)
=== RUN   TestEmailIntegrationTest
=== RUN   TestEmailIntegrationTest/Given_the_notifications_service
=== RUN   TestEmailIntegrationTest/Given_the_notifications_service/When_sending_reset_email_password
--- PASS: TestEmailIntegrationTest (0.00s)
--- PASS: TestEmailIntegrationTest/Given_the_notifications_service (0.00s)
--- PASS: TestEmailIntegrationTest/Given_the_notifications_service/When_sending_reset_email_password (0.00s)
=== RUN   TestBuildMail
=== RUN   TestBuildMail/Can_successfully_build_mail
=== RUN   TestBuildMail/Skips_trace_headers_when_context_has_no_span
=== RUN   TestBuildMail/Adds_trace_headers_when_context_has_span
--- PASS: TestBuildMail (0.00s)
--- PASS: TestBuildMail/Can_successfully_build_mail (0.00s)
--- PASS: TestBuildMail/Skips_trace_headers_when_context_has_no_span (0.00s)
--- PASS: TestBuildMail/Adds_trace_headers_when_context_has_span (0.00s)
=== RUN   TestSmtpDialer
=== RUN   TestSmtpDialer/When_SMTP_hostname_is_invalid
=== RUN   TestSmtpDialer/When_SMTP_port_is_invalid
=== RUN   TestSmtpDialer/When_TLS_certificate_does_not_exist
--- PASS: TestSmtpDialer (0.00s)
--- PASS: TestSmtpDialer/When_SMTP_hostname_is_invalid (0.00s)
--- PASS: TestSmtpDialer/When_SMTP_port_is_invalid (0.00s)
--- PASS: TestSmtpDialer/When_TLS_certificate_does_not_exist (0.00s)
=== RUN   TestSmtpSend
=== RUN   TestSmtpSend/single_message_sends
smtp_test.go:214: line: "--31148b06c43082709bcadce9c7e19cbc68f96fa6599c063ab0ca5cd25bf0"
smtp_test.go:214: line: "Content-Transfer-Encoding: quoted-printable"
smtp_test.go:214: line: "Content-Type: text/plain; charset=UTF-8"
smtp_test.go:214: line: ""
smtp_test.go:214: line: "hello world"
=== RUN   TestSmtpSend/multiple_recipients,_single_message
smtp_test.go:273: line: "--ab5682cd8fccbe66c760bfda891d05fa105c83d78b02a52a2e212da3595f"
smtp_test.go:273: line: "Content-Transfer-Encoding: quoted-printable"
smtp_test.go:273: line: "Content-Type: text/plain; charset=UTF-8"
smtp_test.go:273: line: ""
smtp_test.go:273: line: "hello world"
=== RUN   TestSmtpSend/multiple_recipients,_multiple_messages
smtp_test.go:337: line: "--16f97a601f37900fc6d0af6676d50ea2dc72facc0853d93d4eb4302cdaec"
smtp_test.go:337: line: "Content-Transfer-Encoding: quoted-printable"
smtp_test.go:337: line: "Content-Type: text/plain; charset=UTF-8"
smtp_test.go:337: line: ""
smtp_test.go:337: line: "hello world"
smtp_test.go:337: line: "--2d6a81a6a69d838a336a88357985cdfff410ae85161eb6aa21683de31f86"
smtp_test.go:337: line: "Content-Transfer-Encoding: quoted-printable"
smtp_test.go:337: line: "Content-Type: text/plain; charset=UTF-8"
smtp_test.go:337: line: ""
smtp_test.go:337: line: "hello world"
smtp_test.go:337: line: "--91e4511485fc8a36129a19d9d175ed4f442538e965b2981d26377f1bc2d1"
smtp_test.go:337: line: "Content-Transfer-Encoding: quoted-printable"
smtp_test.go:337: line: "Content-Type: text/plain; charset=UTF-8"
smtp_test.go:337: line: ""
smtp_test.go:337: line: "hello world"
--- PASS: TestSmtpSend (0.02s)
--- PASS: TestSmtpSend/single_message_sends (0.00s)
--- PASS: TestSmtpSend/multiple_recipients,_single_message (0.01s)
--- PASS: TestSmtpSend/multiple_recipients,_multiple_messages (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/notifications	0.104s
=== RUN   TestIntegration_TryTokenRefresh
oauth_token_test.go:68: skipping integration test
--- SKIP: TestIntegration_TryTokenRefresh (0.00s)
=== RUN   TestIntegration_TryTokenRefresh_WithExternalSessions
oauth_token_test.go:350: skipping integration test
--- SKIP: TestIntegration_TryTokenRefresh_WithExternalSessions (0.00s)
=== RUN   TestOAuthTokenSync_needTokenRefresh
=== RUN   TestOAuthTokenSync_needTokenRefresh/should_not_need_token_refresh_when_token_has_no_expiration_date
=== RUN   TestOAuthTokenSync_needTokenRefresh/should_not_need_token_refresh_with_an_invalid_jwt_token_that_might_result_in_an_error_when_parsing
=== RUN   TestOAuthTokenSync_needTokenRefresh/should_flag_token_refresh_with_id_token_is_expired
=== RUN   TestOAuthTokenSync_needTokenRefresh/should_flag_token_refresh_when_expiry_date_is_zero
--- PASS: TestOAuthTokenSync_needTokenRefresh (0.00s)
--- PASS: TestOAuthTokenSync_needTokenRefresh/should_not_need_token_refresh_when_token_has_no_expiration_date (0.00s)
--- PASS: TestOAuthTokenSync_needTokenRefresh/should_not_need_token_refresh_with_an_invalid_jwt_token_that_might_result_in_an_error_when_parsing (0.00s)
--- PASS: TestOAuthTokenSync_needTokenRefresh/should_flag_token_refresh_with_id_token_is_expired (0.00s)
--- PASS: TestOAuthTokenSync_needTokenRefresh/should_flag_token_refresh_when_expiry_date_is_zero (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/oauthtoken	(cached)
?   	github.com/grafana/grafana/pkg/services/oauthtoken/oauthtokentest	[no test files]
?   	github.com/grafana/grafana/pkg/services/org	[no test files]
=== RUN   TestOrgService
=== RUN   TestOrgService/create_org
=== RUN   TestOrgService/no_autoassign_-_org_defined
=== RUN   TestOrgService/create_org_with_auto_assign_org_ID
=== RUN   TestOrgService/create_org_with_auto_assign_org_ID_and_orgID
=== RUN   TestOrgService/delete_user_from_all_orgs
--- PASS: TestOrgService (0.00s)
--- PASS: TestOrgService/create_org (0.00s)
--- PASS: TestOrgService/no_autoassign_-_org_defined (0.00s)
--- PASS: TestOrgService/create_org_with_auto_assign_org_ID (0.00s)
--- PASS: TestOrgService/create_org_with_auto_assign_org_ID_and_orgID (0.00s)
--- PASS: TestOrgService/delete_user_from_all_orgs (0.00s)
=== RUN   TestIntegrationOrgDataAccess
store_test.go:36: skipping integration test
--- SKIP: TestIntegrationOrgDataAccess (0.00s)
=== RUN   TestIntegrationOrgUserDataAccess
store_test.go:277: skipping integration test
--- SKIP: TestIntegrationOrgUserDataAccess (0.00s)
=== RUN   TestIntegrationSQLStore_AddOrgUser
store_test.go:558: skipping integration test
--- SKIP: TestIntegrationSQLStore_AddOrgUser (0.00s)
=== RUN   TestIntegration_SQLStore_GetOrgUsers
store_test.go:629: skipping integration test
--- SKIP: TestIntegration_SQLStore_GetOrgUsers (0.00s)
=== RUN   TestIntegration_SQLStore_GetOrgUsers_PopulatesCorrectly
store_test.go:743: skipping integration test
--- SKIP: TestIntegration_SQLStore_GetOrgUsers_PopulatesCorrectly (0.00s)
=== RUN   TestIntegration_SQLStore_SearchOrgUsers
store_test.go:808: skipping integration test
--- SKIP: TestIntegration_SQLStore_SearchOrgUsers (0.00s)
=== RUN   TestIntegration_SQLStore_RemoveOrgUser
store_test.go:885: skipping integration test
--- SKIP: TestIntegration_SQLStore_RemoveOrgUser (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/org/orgimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/org/orgtest	[no test files]
?   	github.com/grafana/grafana/pkg/services/playlist	[no test files]
=== RUN   TestIntegrationXormPlaylistDataAccess
xorm_store_test.go:11: skipping integration test
--- SKIP: TestIntegrationXormPlaylistDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/playlist/playlistimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/playlist/playlisttest	[no test files]
?   	github.com/grafana/grafana/pkg/services/plugindashboards	[no test files]
=== RUN   TestDashboardUpdater
=== RUN   TestDashboardUpdater/updateAppDashboards
=== RUN   TestDashboardUpdater/updateAppDashboards/Without_any_stored_plugin_settings_shouldn't_delete/import_any_dashboards
=== RUN   TestDashboardUpdater/updateAppDashboards/Without_any_stored_enabled_plugin_shouldn't_delete/import_any_dashboards
=== RUN   TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin,_but_not_installed_shouldn't_delete/import_any_dashboards
=== RUN   TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin_and_installed_with_same_version_shouldn't_delete/import_any_dashboards
=== RUN   TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin_and_installed_with_different_versions,_but_no_dashboard_updates_shouldn't_delete/import_dashboards
=== RUN   TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin_and_installed_with_different_versions_and_with_dashboard_updates_should_delete/import_dashboards
=== RUN   TestDashboardUpdater/handlePluginStateChanged
=== RUN   TestDashboardUpdater/handlePluginStateChanged/When_app_plugin_is_disabled_that_doesn't_have_any_imported_dashboards_shouldn't_delete_any
=== RUN   TestDashboardUpdater/When_app_plugin_is_disabled_that_have_imported_dashboards_should_delete_them
=== RUN   TestDashboardUpdater/When_app_plugin_is_enabled,_stored_disabled_plugin_and_with_dashboard_updates_should_import_dashboards
--- PASS: TestDashboardUpdater (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards/Without_any_stored_plugin_settings_shouldn't_delete/import_any_dashboards (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards/Without_any_stored_enabled_plugin_shouldn't_delete/import_any_dashboards (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin,_but_not_installed_shouldn't_delete/import_any_dashboards (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin_and_installed_with_same_version_shouldn't_delete/import_any_dashboards (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin_and_installed_with_different_versions,_but_no_dashboard_updates_shouldn't_delete/import_dashboards (0.00s)
--- PASS: TestDashboardUpdater/updateAppDashboards/With_stored_enabled_plugin_and_installed_with_different_versions_and_with_dashboard_updates_should_delete/import_dashboards (0.00s)
--- PASS: TestDashboardUpdater/handlePluginStateChanged (0.00s)
--- PASS: TestDashboardUpdater/handlePluginStateChanged/When_app_plugin_is_disabled_that_doesn't_have_any_imported_dashboards_shouldn't_delete_any (0.00s)
--- PASS: TestDashboardUpdater/When_app_plugin_is_disabled_that_have_imported_dashboards_should_delete_them (0.00s)
--- PASS: TestDashboardUpdater/When_app_plugin_is_enabled,_stored_disabled_plugin_and_with_dashboard_updates_should_import_dashboards (0.00s)
=== RUN   TestGetPluginDashboards
=== RUN   TestGetPluginDashboards/LoadPluginDashboard
=== RUN   TestGetPluginDashboards/LoadPluginDashboard/Should_return_error_for_nil_req
=== RUN   TestGetPluginDashboards/LoadPluginDashboard/Should_return_error_for_non-existing_plugin
=== RUN   TestGetPluginDashboards/LoadPluginDashboard/Should_return_error_for_non-existing_file_reference
=== RUN   TestGetPluginDashboards/LoadPluginDashboard/Should_return_expected_loaded_dashboard_model
=== RUN   TestGetPluginDashboards/ListPluginDashboards
=== RUN   TestGetPluginDashboards/ListPluginDashboards/Should_return_error_for_nil_req
=== RUN   TestGetPluginDashboards/ListPluginDashboards/Should_return_error_for_non-existing_plugin
=== RUN   TestGetPluginDashboards/ListPluginDashboards/Should_return_updated_nginx_dashboard_revision_and_removed_title_dashboard
--- PASS: TestGetPluginDashboards (0.00s)
--- PASS: TestGetPluginDashboards/LoadPluginDashboard (0.00s)
--- PASS: TestGetPluginDashboards/LoadPluginDashboard/Should_return_error_for_nil_req (0.00s)
--- PASS: TestGetPluginDashboards/LoadPluginDashboard/Should_return_error_for_non-existing_plugin (0.00s)
--- PASS: TestGetPluginDashboards/LoadPluginDashboard/Should_return_error_for_non-existing_file_reference (0.00s)
--- PASS: TestGetPluginDashboards/LoadPluginDashboard/Should_return_expected_loaded_dashboard_model (0.00s)
--- PASS: TestGetPluginDashboards/ListPluginDashboards (0.00s)
--- PASS: TestGetPluginDashboards/ListPluginDashboards/Should_return_error_for_nil_req (0.00s)
--- PASS: TestGetPluginDashboards/ListPluginDashboards/Should_return_error_for_non-existing_plugin (0.00s)
--- PASS: TestGetPluginDashboards/ListPluginDashboards/Should_return_updated_nginx_dashboard_revision_and_removed_title_dashboard (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/plugindashboards/service	(cached)
=== RUN   TestIntegrationPluginManager
plugins_integration_test.go:54: skipping integration test
--- SKIP: TestIntegrationPluginManager (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/adapters	[no test files]
=== RUN   TestService_ReportSummary
=== RUN   TestService_ReportSummary/should_return_correct_report_with_multiple_checks
=== RUN   TestService_ReportSummary/should_handle_empty_check_list
=== RUN   TestService_ReportSummary/should_handle_list_error
--- PASS: TestService_ReportSummary (0.00s)
--- PASS: TestService_ReportSummary/should_return_correct_report_with_multiple_checks (0.00s)
--- PASS: TestService_ReportSummary/should_handle_empty_check_list (0.00s)
--- PASS: TestService_ReportSummary/should_handle_list_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/advisor	(cached)
=== RUN   TestDynamicAngularDetectorsProvider
=== RUN   TestDynamicAngularDetectorsProvider/patternsToDetectors
=== RUN   TestDynamicAngularDetectorsProvider/patternsToDetectors/valid
=== RUN   TestDynamicAngularDetectorsProvider/patternsToDetectors/invalid_regex
=== RUN   TestDynamicAngularDetectorsProvider/patternsToDetectors/unknown_pattern_type_is_ignored_silently
=== RUN   TestDynamicAngularDetectorsProvider/ProvideDetectors
=== RUN   TestDynamicAngularDetectorsProvider/ProvideDetectors/returns_empty_result_by_default
=== RUN   TestDynamicAngularDetectorsProvider/ProvideDetectors/awaits_initial_restore
=== RUN   TestDynamicAngularDetectorsProvider/fetch
=== RUN   TestDynamicAngularDetectorsProvider/fetch/returns_value_from_gcom_api
=== RUN   TestDynamicAngularDetectorsProvider/fetch/handles_timeout
=== RUN   TestDynamicAngularDetectorsProvider/fetch/returns_error_if_status_code_is_outside_2xx_range
=== RUN   TestDynamicAngularDetectorsProvider/fetch/etag
=== RUN   TestDynamicAngularDetectorsProvider/fetch/etag/no_client_etag
=== RUN   TestDynamicAngularDetectorsProvider/fetch/etag/no_server_etag
=== RUN   TestDynamicAngularDetectorsProvider/fetch/etag/client_different_etag_than_server
=== RUN   TestDynamicAngularDetectorsProvider/fetch/etag/same_client_and_server_etag_returns_errNotModified
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors/successful
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors/gcom_error_does_not_update_store
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors/etag
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors/etag/etag_is_saved_in_underlying_store
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors/etag/same_etag_does_not_modify_underlying_store
=== RUN   TestDynamicAngularDetectorsProvider/updateDetectors/etag/different_etag_modified_underlying_store
=== RUN   TestDynamicAngularDetectorsProvider/setDetectorsFromCache
=== RUN   TestDynamicAngularDetectorsProvider/setDetectorsFromCache/empty_store_doesn't_return_an_error
=== RUN   TestDynamicAngularDetectorsProvider/setDetectorsFromCache/store_is_restored_before_returning_the_service
--- PASS: TestDynamicAngularDetectorsProvider (0.01s)
--- PASS: TestDynamicAngularDetectorsProvider/patternsToDetectors (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/patternsToDetectors/valid (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/patternsToDetectors/invalid_regex (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/patternsToDetectors/unknown_pattern_type_is_ignored_silently (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/ProvideDetectors (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/ProvideDetectors/returns_empty_result_by_default (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/ProvideDetectors/awaits_initial_restore (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch (0.01s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/returns_value_from_gcom_api (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/handles_timeout (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/returns_error_if_status_code_is_outside_2xx_range (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/etag (0.01s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/etag/no_client_etag (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/etag/no_server_etag (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/etag/client_different_etag_than_server (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/fetch/etag/same_client_and_server_etag_returns_errNotModified (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors/successful (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors/gcom_error_does_not_update_store (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors/etag (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors/etag/etag_is_saved_in_underlying_store (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors/etag/same_etag_does_not_modify_underlying_store (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/updateDetectors/etag/different_etag_modified_underlying_store (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/setDetectorsFromCache (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/setDetectorsFromCache/empty_store_doesn't_return_an_error (0.00s)
--- PASS: TestDynamicAngularDetectorsProvider/setDetectorsFromCache/store_is_restored_before_returning_the_service (0.00s)
=== RUN   TestDynamicAngularDetectorsProviderCloudVsOnPrem
=== RUN   TestDynamicAngularDetectorsProviderCloudVsOnPrem/should_use_cloud_interval_if_stack_id_is_set
=== RUN   TestDynamicAngularDetectorsProviderCloudVsOnPrem/should_use_on-prem_interval_if_stack_id_is_not_set
--- PASS: TestDynamicAngularDetectorsProviderCloudVsOnPrem (0.00s)
--- PASS: TestDynamicAngularDetectorsProviderCloudVsOnPrem/should_use_cloud_interval_if_stack_id_is_set (0.00s)
--- PASS: TestDynamicAngularDetectorsProviderCloudVsOnPrem/should_use_on-prem_interval_if_stack_id_is_not_set (0.00s)
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService/background_service
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService/background_service/fetches_value_from_gcom_on_start_if_too_much_time_has_passed
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService/background_service/runs_the_job_periodically
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService/background_service/IsDisabled
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService/background_service/IsDisabled/true
=== RUN   TestDynamicAngularDetectorsProviderBackgroundService/background_service/IsDisabled/false
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService (0.03s)
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService/background_service (0.03s)
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService/background_service/fetches_value_from_gcom_on_start_if_too_much_time_has_passed (0.01s)
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService/background_service/runs_the_job_periodically (0.02s)
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService/background_service/IsDisabled (0.00s)
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService/background_service/IsDisabled/true (0.00s)
--- PASS: TestDynamicAngularDetectorsProviderBackgroundService/background_service/IsDisabled/false (0.00s)
=== RUN   TestRandomSkew
--- PASS: TestRandomSkew (0.00s)
=== RUN   TestGCOMPatterns
=== RUN   TestGCOMPatterns/angularDetector
=== RUN   TestGCOMPatterns/angularDetector/contains
=== RUN   TestGCOMPatterns/angularDetector/regex
=== RUN   TestGCOMPatterns/angularDetector/invalid_regex_returns_errInvalidRegex
=== RUN   TestGCOMPatterns/angularDetector/invalid_type_returns_errUnknownPatternType
--- PASS: TestGCOMPatterns (0.00s)
--- PASS: TestGCOMPatterns/angularDetector (0.00s)
--- PASS: TestGCOMPatterns/angularDetector/contains (0.00s)
--- PASS: TestGCOMPatterns/angularDetector/regex (0.00s)
--- PASS: TestGCOMPatterns/angularDetector/invalid_regex_returns_errInvalidRegex (0.00s)
--- PASS: TestGCOMPatterns/angularDetector/invalid_type_returns_errUnknownPatternType (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/angulardetectorsprovider	(cached)
=== RUN   TestProvideService
=== RUN   TestProvideService/uses_dynamic_inspector_with_hardcoded_fallback
--- PASS: TestProvideService (0.00s)
--- PASS: TestProvideService/uses_dynamic_inspector_with_hardcoded_fallback (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/angularinspector	(cached)
=== RUN   TestAngularPatternsStore
=== RUN   TestAngularPatternsStore/get_set
=== RUN   TestAngularPatternsStore/get_set/get_empty
=== RUN   TestAngularPatternsStore/get_set/set_and_get
=== RUN   TestAngularPatternsStore/latest_update
=== RUN   TestAngularPatternsStore/latest_update/empty
=== RUN   TestAngularPatternsStore/latest_update/not_empty
=== RUN   TestAngularPatternsStore/latest_update/invalid_timestamp_stored
--- PASS: TestAngularPatternsStore (0.00s)
--- PASS: TestAngularPatternsStore/get_set (0.00s)
--- PASS: TestAngularPatternsStore/get_set/get_empty (0.00s)
--- PASS: TestAngularPatternsStore/get_set/set_and_get (0.00s)
--- PASS: TestAngularPatternsStore/latest_update (0.00s)
--- PASS: TestAngularPatternsStore/latest_update/empty (0.00s)
--- PASS: TestAngularPatternsStore/latest_update/not_empty (0.00s)
--- PASS: TestAngularPatternsStore/latest_update/invalid_timestamp_stored (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/angularpatternsstore	(cached)
=== RUN   TestNamespacedStore
=== RUN   TestNamespacedStore/simple
=== RUN   TestNamespacedStore/simple/default_last_updated_time_is_zero
=== RUN   TestNamespacedStore/simple/Get_returns_false_if_key_does_not_exist
=== RUN   TestNamespacedStore/simple/Set_sets_the_value_and_updates_the_last_updated_time
=== RUN   TestNamespacedStore/simple/Delete_deletes_the_value
=== RUN   TestNamespacedStore/simple/sets_last_updated_on_delete
=== RUN   TestNamespacedStore/simple/last_updated_key_is_used_in_GetLastUpdated
=== RUN   TestNamespacedStore/simple/last_updated_key_is_used_in_SetLastUpdated
=== RUN   TestNamespacedStore/simple/ListKeys
=== RUN   TestNamespacedStore/simple/ListKeys/returns_empty_list_if_no_keys
=== RUN   TestNamespacedStore/simple/ListKeys/returns_the_keys
=== RUN   TestNamespacedStore/prefix
=== RUN   TestNamespacedStore/prefix/no_prefix
=== RUN   TestNamespacedStore/prefix/prefix
--- PASS: TestNamespacedStore (0.00s)
--- PASS: TestNamespacedStore/simple (0.00s)
--- PASS: TestNamespacedStore/simple/default_last_updated_time_is_zero (0.00s)
--- PASS: TestNamespacedStore/simple/Get_returns_false_if_key_does_not_exist (0.00s)
--- PASS: TestNamespacedStore/simple/Set_sets_the_value_and_updates_the_last_updated_time (0.00s)
--- PASS: TestNamespacedStore/simple/Delete_deletes_the_value (0.00s)
--- PASS: TestNamespacedStore/simple/sets_last_updated_on_delete (0.00s)
--- PASS: TestNamespacedStore/simple/last_updated_key_is_used_in_GetLastUpdated (0.00s)
--- PASS: TestNamespacedStore/simple/last_updated_key_is_used_in_SetLastUpdated (0.00s)
--- PASS: TestNamespacedStore/simple/ListKeys (0.00s)
--- PASS: TestNamespacedStore/simple/ListKeys/returns_empty_list_if_no_keys (0.00s)
--- PASS: TestNamespacedStore/simple/ListKeys/returns_the_keys (0.00s)
--- PASS: TestNamespacedStore/prefix (0.00s)
--- PASS: TestNamespacedStore/prefix/no_prefix (0.00s)
--- PASS: TestNamespacedStore/prefix/prefix (0.00s)
=== RUN   TestMarshal
=== RUN   TestMarshal/json
=== RUN   TestMarshal/string
=== RUN   TestMarshal/stringer
=== RUN   TestMarshal/byte_slice
--- PASS: TestMarshal (0.00s)
--- PASS: TestMarshal/json (0.00s)
--- PASS: TestMarshal/string (0.00s)
--- PASS: TestMarshal/stringer (0.00s)
--- PASS: TestMarshal/byte_slice (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/cachekvstore	(cached)
=== RUN   TestCachingMiddleware
=== RUN   TestCachingMiddleware/When_QueryData_is_called
=== RUN   TestCachingMiddleware/When_QueryData_is_called/If_cache_returns_a_hit,_no_queries_are_issued
=== RUN   TestCachingMiddleware/When_QueryData_is_called/If_cache_returns_a_miss,_queries_are_issued_and_the_update_cache_function_is_called
=== RUN   TestCachingMiddleware/When_QueryData_is_called/with_async_queries
=== RUN   TestCachingMiddleware/When_QueryData_is_called/with_async_queries/If_shoudCacheQuery_returns_true_update_cache_function_is_called
=== RUN   TestCachingMiddleware/When_QueryData_is_called/with_async_queries/If_shoudCacheQuery_returns_false_update_cache_function_is_not_called
=== RUN   TestCachingMiddleware/When_CallResource_is_called
=== RUN   TestCachingMiddleware/When_CallResource_is_called/If_cache_returns_a_hit,_no_resource_call_is_issued
=== RUN   TestCachingMiddleware/When_CallResource_is_called/If_cache_returns_a_miss,_resource_call_is_issued_and_the_update_cache_function_is_called
=== RUN   TestCachingMiddleware/When_RequestContext_is_nil
=== RUN   TestCachingMiddleware/When_RequestContext_is_nil/Query_caching_is_skipped
=== RUN   TestCachingMiddleware/When_RequestContext_is_nil/Resource_caching_is_skipped
--- PASS: TestCachingMiddleware (0.00s)
--- PASS: TestCachingMiddleware/When_QueryData_is_called (0.00s)
--- PASS: TestCachingMiddleware/When_QueryData_is_called/If_cache_returns_a_hit,_no_queries_are_issued (0.00s)
--- PASS: TestCachingMiddleware/When_QueryData_is_called/If_cache_returns_a_miss,_queries_are_issued_and_the_update_cache_function_is_called (0.00s)
--- PASS: TestCachingMiddleware/When_QueryData_is_called/with_async_queries (0.00s)
--- PASS: TestCachingMiddleware/When_QueryData_is_called/with_async_queries/If_shoudCacheQuery_returns_true_update_cache_function_is_called (0.00s)
--- PASS: TestCachingMiddleware/When_QueryData_is_called/with_async_queries/If_shoudCacheQuery_returns_false_update_cache_function_is_not_called (0.00s)
--- PASS: TestCachingMiddleware/When_CallResource_is_called (0.00s)
--- PASS: TestCachingMiddleware/When_CallResource_is_called/If_cache_returns_a_hit,_no_resource_call_is_issued (0.00s)
--- PASS: TestCachingMiddleware/When_CallResource_is_called/If_cache_returns_a_miss,_resource_call_is_issued_and_the_update_cache_function_is_called (0.00s)
--- PASS: TestCachingMiddleware/When_RequestContext_is_nil (0.00s)
--- PASS: TestCachingMiddleware/When_RequestContext_is_nil/Query_caching_is_skipped (0.00s)
--- PASS: TestCachingMiddleware/When_RequestContext_is_nil/Resource_caching_is_skipped (0.00s)
=== RUN   TestClearAuthHeadersMiddleware
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_QueryData
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_CallResource
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_CheckHealth
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_SubscribeStream
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_PublishStream
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_RunStream
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_QueryData
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_CallResource
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_CheckHealth
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_SubscribeStream
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_PublishStream
=== RUN   TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_RunStream
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_QueryData
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_CallResource
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_CheckHealth
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_SubscribeStream
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_PublishStream
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_RunStream
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_QueryData
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_CallResource
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_CheckHealth
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_SubscribeStream
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_PublishStream
=== RUN   TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_RunStream
--- PASS: TestClearAuthHeadersMiddleware (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_QueryData (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_CallResource (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_CheckHealth (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_SubscribeStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_PublishStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_a_datasource/No_auth_headers_to_clear_when_calling_RunStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_QueryData (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_CallResource (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_CheckHealth (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_SubscribeStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_PublishStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_no_auth_headers_in_reqContext/And_requests_are_for_an_app/No_auth_headers_to_clear_when_calling_RunStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_QueryData (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_CallResource (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_CheckHealth (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_SubscribeStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_PublishStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_a_datasource/Should_clear_auth_headers_when_calling_RunStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_QueryData (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_CallResource (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_CheckHealth (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_SubscribeStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_PublishStream (0.00s)
--- PASS: TestClearAuthHeadersMiddleware/When_auth_headers_in_reqContext/And_requests_are_for_an_app/Should_clear_auth_headers_when_calling_RunStream (0.00s)
=== RUN   TestCookiesMiddleware
=== RUN   TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource
=== RUN   TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource/Should_not_forward_cookies_when_calling_QueryData
=== RUN   TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource/Should_not_forward_cookies_when_calling_CallResource
=== RUN   TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource/Should_not_forward_cookies_when_calling_CheckHealth
=== RUN   TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource
=== RUN   TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource/Should_forward_cookies_when_calling_QueryData
=== RUN   TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource/Should_forward_cookies_when_calling_CallResource
=== RUN   TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource/Should_forward_cookies_when_calling_CheckHealth
=== RUN   TestCookiesMiddleware/When_app
=== RUN   TestCookiesMiddleware/When_app/Should_not_forward_cookies_when_calling_QueryData
=== RUN   TestCookiesMiddleware/When_app/Should_not_forward_cookies_when_calling_CallResource
=== RUN   TestCookiesMiddleware/When_app/Should_not_forward_cookies_when_calling_CheckHealth
--- PASS: TestCookiesMiddleware (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource/Should_not_forward_cookies_when_calling_QueryData (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource/Should_not_forward_cookies_when_calling_CallResource (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_not_configured_for_a_datasource/Should_not_forward_cookies_when_calling_CheckHealth (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource/Should_forward_cookies_when_calling_QueryData (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource/Should_forward_cookies_when_calling_CallResource (0.00s)
--- PASS: TestCookiesMiddleware/When_keepCookies_configured_for_a_datasource/Should_forward_cookies_when_calling_CheckHealth (0.00s)
--- PASS: TestCookiesMiddleware/When_app (0.00s)
--- PASS: TestCookiesMiddleware/When_app/Should_not_forward_cookies_when_calling_QueryData (0.00s)
--- PASS: TestCookiesMiddleware/When_app/Should_not_forward_cookies_when_calling_CallResource (0.00s)
--- PASS: TestCookiesMiddleware/When_app/Should_not_forward_cookies_when_calling_CheckHealth (0.00s)
=== RUN   TestForwardIDMiddleware
=== RUN   TestForwardIDMiddleware/When_not_signed_in
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_QueryData
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_CallResource
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_CheckHealth
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_SubscribeStream
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_PublishStream
=== RUN   TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_RunStream
=== RUN   TestForwardIDMiddleware/When_signed_in
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_QueryData
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_CallResource
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_CheckHealth
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_SubscribeStream
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_PublishStream
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_RunStream
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_QueryData
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_CallResource
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_CheckHealth
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_SubscribeStream
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_PublishStream
=== RUN   TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_RunStream
--- PASS: TestForwardIDMiddleware (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_QueryData (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_CallResource (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_CheckHealth (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_SubscribeStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_PublishStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_not_signed_in/And_requests_are_for_a_datasource/Should_not_set_forwarded_id_header_if_not_present_for_RunStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_QueryData (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_CallResource (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_CheckHealth (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_SubscribeStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_PublishStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_a_datasource/Should_set_forwarded_id_header_if_present_for_RunStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_QueryData (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_CallResource (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_CheckHealth (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_SubscribeStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_PublishStream (0.00s)
--- PASS: TestForwardIDMiddleware/When_signed_in/And_requests_are_for_an_app/Should_set_forwarded_id_header_to_app_plugin_if_present_for_RunStream (0.00s)
=== RUN   Test_HostedGrafanaACHeaderMiddleware
=== RUN   Test_HostedGrafanaACHeaderMiddleware/Should_set_Grafana_request_ID_headers_if_the_data_source_URL_is_in_the_allow_list
=== RUN   Test_HostedGrafanaACHeaderMiddleware/Should_not_set_Grafana_request_ID_headers_if_the_data_source_URL_is_not_in_the_allow_list
=== RUN   Test_HostedGrafanaACHeaderMiddleware/Should_set_Grafana_request_ID_headers_if_URL_scheme_and_host_match_a_URL_from_the_allow_list
=== RUN   Test_HostedGrafanaACHeaderMiddleware/Should_set_Grafana_internal_request_header_if_the_request_is_internal_(doesn't_have_X-Real-IP_header_set)
--- PASS: Test_HostedGrafanaACHeaderMiddleware (0.00s)
--- PASS: Test_HostedGrafanaACHeaderMiddleware/Should_set_Grafana_request_ID_headers_if_the_data_source_URL_is_in_the_allow_list (0.00s)
--- PASS: Test_HostedGrafanaACHeaderMiddleware/Should_not_set_Grafana_request_ID_headers_if_the_data_source_URL_is_not_in_the_allow_list (0.00s)
--- PASS: Test_HostedGrafanaACHeaderMiddleware/Should_set_Grafana_request_ID_headers_if_URL_scheme_and_host_match_a_URL_from_the_allow_list (0.00s)
--- PASS: Test_HostedGrafanaACHeaderMiddleware/Should_set_Grafana_internal_request_header_if_the_request_is_internal_(doesn't_have_X-Real-IP_header_set) (0.00s)
=== RUN   TestHTTPClientMiddleware
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_forward_headers_when_calling_QueryData
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_forward_headers_when_calling_CallResource
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_forward_headers_when_calling_CheckHealth
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app/Should_not_forward_headers_when_calling_QueryData
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app/Should_not_forward_headers_when_calling_CallResource
=== RUN   TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app/Should_not_forward_headers_when_calling_CheckHealth
=== RUN   TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request
=== RUN   TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource
=== RUN   TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_forward_headers_when_calling_QueryData
=== RUN   TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_forward_headers_when_calling_CallResource
=== RUN   TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_forward_headers_when_calling_CheckHealth
=== RUN   TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_overwrite_an_existing_header
--- PASS: TestHTTPClientMiddleware (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_forward_headers_when_calling_QueryData (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_forward_headers_when_calling_CallResource (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_forward_headers_when_calling_CheckHealth (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app/Should_not_forward_headers_when_calling_QueryData (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app/Should_not_forward_headers_when_calling_CallResource (0.00s)
--- PASS: TestHTTPClientMiddleware/When_no_http_headers_in_plugin_request/And_requests_are_for_an_app/Should_not_forward_headers_when_calling_CheckHealth (0.00s)
--- PASS: TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request (0.00s)
--- PASS: TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_forward_headers_when_calling_QueryData (0.00s)
--- PASS: TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_forward_headers_when_calling_CallResource (0.00s)
--- PASS: TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_forward_headers_when_calling_CheckHealth (0.00s)
--- PASS: TestHTTPClientMiddleware/When_HTTP_headers_in_plugin_request/And_requests_are_for_a_datasource/Should_not_overwrite_an_existing_header (0.00s)
=== RUN   TestInstrumentationMiddleware
=== RUN   TestInstrumentationMiddleware/should_instrument_requests
=== RUN   TestInstrumentationMiddleware/should_instrument_requests/checkHealth
=== RUN   TestInstrumentationMiddleware/should_instrument_requests/callResource
=== RUN   TestInstrumentationMiddleware/should_instrument_requests/queryData
=== RUN   TestInstrumentationMiddleware/should_instrument_requests/collectMetrics
--- PASS: TestInstrumentationMiddleware (0.00s)
--- PASS: TestInstrumentationMiddleware/should_instrument_requests (0.00s)
--- PASS: TestInstrumentationMiddleware/should_instrument_requests/checkHealth (0.00s)
--- PASS: TestInstrumentationMiddleware/should_instrument_requests/callResource (0.00s)
--- PASS: TestInstrumentationMiddleware/should_instrument_requests/queryData (0.00s)
--- PASS: TestInstrumentationMiddleware/should_instrument_requests/collectMetrics (0.00s)
=== RUN   TestInstrumentationMiddlewareStatusSource
=== RUN   TestInstrumentationMiddlewareStatusSource/Metrics
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority/Default_status_source_for_ok_responses_should_be_plugin
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority/Plugin_errors_should_have_higher_priority_than_downstream_errors
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority/Errors_without_ErrorSource_should_be_reported_as_plugin_status_source
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority/Downstream_errors_should_have_higher_priority_than_ok_responses
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority/Plugin_errors_should_have_higher_priority_than_ok_responses
=== RUN   TestInstrumentationMiddlewareStatusSource/Priority/Legacy_errors_should_have_higher_priority_than_ok_responses
--- PASS: TestInstrumentationMiddlewareStatusSource (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Metrics (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority/Default_status_source_for_ok_responses_should_be_plugin (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority/Plugin_errors_should_have_higher_priority_than_downstream_errors (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority/Errors_without_ErrorSource_should_be_reported_as_plugin_status_source (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority/Downstream_errors_should_have_higher_priority_than_ok_responses (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority/Plugin_errors_should_have_higher_priority_than_ok_responses (0.00s)
--- PASS: TestInstrumentationMiddlewareStatusSource/Priority/Legacy_errors_should_have_higher_priority_than_ok_responses (0.00s)
=== RUN   TestOAuthTokenMiddleware
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource/Should_not_forward_OAuth_Identity_when_calling_QueryData
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource/Should_not_forward_OAuth_Identity_when_calling_CallResource
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource/Should_not_forward_OAuth_Identity_when_calling_CheckHealth
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource/Should_forward_OAuth_Identity_when_calling_QueryData
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource/Should_forward_OAuth_Identity_when_calling_CallResource
=== RUN   TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource/Should_forward_OAuth_Identity_when_calling_CheckHealth
--- PASS: TestOAuthTokenMiddleware (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource/Should_not_forward_OAuth_Identity_when_calling_QueryData (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource/Should_not_forward_OAuth_Identity_when_calling_CallResource (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_not_configured_for_a_datasource/Should_not_forward_OAuth_Identity_when_calling_CheckHealth (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource/Should_forward_OAuth_Identity_when_calling_QueryData (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource/Should_forward_OAuth_Identity_when_calling_CallResource (0.00s)
--- PASS: TestOAuthTokenMiddleware/When_oauthPassThru_configured_for_a_datasource/Should_forward_OAuth_Identity_when_calling_CheckHealth (0.00s)
=== RUN   TestTracingHeaderMiddleware
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set_to_empty_strings
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set_to_empty_strings/tracing_headers_are_not_set_for_query_data
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set_to_empty_strings/tracing_headers_are_not_set_for_health_check
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_empty
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_empty/tracing_headers_are_not_set_for_query_data
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_empty/tracing_headers_are_not_set_for_health_check
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_query_data
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_health_check
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_subscribe_stream
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_publish_stream
=== RUN   TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_run_stream
--- PASS: TestTracingHeaderMiddleware (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set_to_empty_strings (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set_to_empty_strings/tracing_headers_are_not_set_for_query_data (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set_to_empty_strings/tracing_headers_are_not_set_for_health_check (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_empty (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_empty/tracing_headers_are_not_set_for_query_data (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_empty/tracing_headers_are_not_set_for_health_check (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_query_data (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_health_check (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_subscribe_stream (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_publish_stream (0.00s)
--- PASS: TestTracingHeaderMiddleware/When_a_request_comes_in_with_tracing_headers_set/tracing_headers_are_set_for_run_stream (0.00s)
=== RUN   TestTracingMiddleware
=== RUN   TestTracingMiddleware/Creates_spans_on_QueryData
=== RUN   TestTracingMiddleware/Creates_spans_on_QueryData/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_QueryData/error
=== RUN   TestTracingMiddleware/Creates_spans_on_QueryData/panic
=== RUN   TestTracingMiddleware/Creates_spans_on_CallResource
=== RUN   TestTracingMiddleware/Creates_spans_on_CallResource/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_CallResource/error
=== RUN   TestTracingMiddleware/Creates_spans_on_CallResource/panic
=== RUN   TestTracingMiddleware/Creates_spans_on_CheckHealth
=== RUN   TestTracingMiddleware/Creates_spans_on_CheckHealth/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_CheckHealth/error
=== RUN   TestTracingMiddleware/Creates_spans_on_CheckHealth/panic
=== RUN   TestTracingMiddleware/Creates_spans_on_CollectMetrics
=== RUN   TestTracingMiddleware/Creates_spans_on_CollectMetrics/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_CollectMetrics/error
=== RUN   TestTracingMiddleware/Creates_spans_on_CollectMetrics/panic
=== RUN   TestTracingMiddleware/Creates_spans_on_SubscribeStream
=== RUN   TestTracingMiddleware/Creates_spans_on_SubscribeStream/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_SubscribeStream/error
=== RUN   TestTracingMiddleware/Creates_spans_on_SubscribeStream/panic
=== RUN   TestTracingMiddleware/Creates_spans_on_PublishStream
=== RUN   TestTracingMiddleware/Creates_spans_on_PublishStream/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_PublishStream/error
=== RUN   TestTracingMiddleware/Creates_spans_on_PublishStream/panic
=== RUN   TestTracingMiddleware/Creates_spans_on_RunStream
=== RUN   TestTracingMiddleware/Creates_spans_on_RunStream/successful
=== RUN   TestTracingMiddleware/Creates_spans_on_RunStream/error
=== RUN   TestTracingMiddleware/Creates_spans_on_RunStream/panic
--- PASS: TestTracingMiddleware (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_QueryData (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_QueryData/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_QueryData/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_QueryData/panic (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CallResource (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CallResource/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CallResource/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CallResource/panic (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CheckHealth (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CheckHealth/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CheckHealth/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CheckHealth/panic (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CollectMetrics (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CollectMetrics/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CollectMetrics/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_CollectMetrics/panic (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_SubscribeStream (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_SubscribeStream/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_SubscribeStream/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_SubscribeStream/panic (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_PublishStream (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_PublishStream/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_PublishStream/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_PublishStream/panic (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_RunStream (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_RunStream/successful (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_RunStream/error (0.00s)
--- PASS: TestTracingMiddleware/Creates_spans_on_RunStream/panic (0.00s)
=== RUN   TestTracingMiddlewareAttributes
=== RUN   TestTracingMiddlewareAttributes/default
=== RUN   TestTracingMiddlewareAttributes/with_user
=== RUN   TestTracingMiddlewareAttributes/empty_retains_zero_values
=== RUN   TestTracingMiddlewareAttributes/no_http_headers
=== RUN   TestTracingMiddlewareAttributes/datasource_settings
=== RUN   TestTracingMiddlewareAttributes/http_headers
=== RUN   TestTracingMiddlewareAttributes/single_http_headers_are_skipped_if_not_present_or_empty
--- PASS: TestTracingMiddlewareAttributes (0.00s)
--- PASS: TestTracingMiddlewareAttributes/default (0.00s)
--- PASS: TestTracingMiddlewareAttributes/with_user (0.00s)
--- PASS: TestTracingMiddlewareAttributes/empty_retains_zero_values (0.00s)
--- PASS: TestTracingMiddlewareAttributes/no_http_headers (0.00s)
--- PASS: TestTracingMiddlewareAttributes/datasource_settings (0.00s)
--- PASS: TestTracingMiddlewareAttributes/http_headers (0.00s)
--- PASS: TestTracingMiddlewareAttributes/single_http_headers_are_skipped_if_not_present_or_empty (0.00s)
=== RUN   TestUserAlertingHeadersMiddleware
=== RUN   TestUserAlertingHeadersMiddleware/Handle_non-alerting_case_without_problems
=== RUN   TestUserAlertingHeadersMiddleware/Use_Alerting_headers_when_they_exist
--- PASS: TestUserAlertingHeadersMiddleware (0.00s)
--- PASS: TestUserAlertingHeadersMiddleware/Handle_non-alerting_case_without_problems (0.00s)
--- PASS: TestUserAlertingHeadersMiddleware/Use_Alerting_headers_when_they_exist (0.00s)
=== RUN   TestUserHeaderMiddleware
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_QueryData
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_CallResource
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_CheckHealth
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_SubscribeStream
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_PublishStream
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_RunStream
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_QueryData
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_CallResource
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_CheckHealth
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_SubscribeStream
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_PublishStream
=== RUN   TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_RunStream
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_QueryData
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_CallResource
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_CheckHealth
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_SubscribeStream
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_PublishStream
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_RunStream
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_QueryData
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_CallResource
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_CheckHealth
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_SubscribeStream
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_PublishStream
=== RUN   TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_RunStream
--- PASS: TestUserHeaderMiddleware (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_QueryData (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_CallResource (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_CheckHealth (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_SubscribeStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_PublishStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_a_datasource/Should_not_forward_user_header_when_calling_RunStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_QueryData (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_CallResource (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_CheckHealth (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_SubscribeStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_PublishStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_anonymous_user_in_reqContext/And_requests_are_for_an_app/Should_not_forward_user_header_when_calling_RunStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_QueryData (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_CallResource (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_CheckHealth (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_SubscribeStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_PublishStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_a_datasource/Should_forward_user_header_when_calling_RunStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_QueryData (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_CallResource (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_CheckHealth (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_SubscribeStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_PublishStream (0.00s)
--- PASS: TestUserHeaderMiddleware/When_real_user_in_reqContext/And_requests_are_for_an_app/Should_forward_user_header_when_calling_RunStream (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/clientmiddleware	(cached)
=== RUN   TestDashboardFileStore
=== RUN   TestDashboardFileStore/Input_validation
=== RUN   TestDashboardFileStore/Input_validation/ListPluginDashboardFiles
=== RUN   TestDashboardFileStore/Input_validation/ListPluginDashboardFiles/nil_args_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/ListPluginDashboardFiles/empty_args.PluginID_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/ListPluginDashboardFiles/args.PluginID_with_only_space_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents
=== RUN   TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/nil_args_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/empty_args.PluginID_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/args.PluginID_with_only_space_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/empty_args.FileReference_should_return_error
=== RUN   TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/args.FileReference_with_only_space_should_return_error
=== RUN   TestDashboardFileStore/Plugin_without_dashboards
=== RUN   TestDashboardFileStore/Plugin_without_dashboards/Should_return_zero_file_references
=== RUN   TestDashboardFileStore/Plugin_without_dashboards/Should_return_file_not_found_error_when_trying_to_get_non-existing_plugin_dashboard_file_content
=== RUN   TestDashboardFileStore/Plugin_with_dashboards
=== RUN   TestDashboardFileStore/Plugin_with_dashboards/Should_return_two_file_references
=== RUN   TestDashboardFileStore/Plugin_with_dashboards/With_filesystem
=== RUN   TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_file_not_found_error_when_trying_to_get_non-existing_plugin_dashboard_file_content
=== RUN   TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_file_content_for_dashboards/dash1.json
=== RUN   TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_file_content_for_dashboards/dash2.json
=== RUN   TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_error_when_trying_to_read_relative_file
--- PASS: TestDashboardFileStore (0.00s)
--- PASS: TestDashboardFileStore/Input_validation (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/ListPluginDashboardFiles (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/ListPluginDashboardFiles/nil_args_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/ListPluginDashboardFiles/empty_args.PluginID_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/ListPluginDashboardFiles/args.PluginID_with_only_space_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/nil_args_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/empty_args.PluginID_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/args.PluginID_with_only_space_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/empty_args.FileReference_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Input_validation/GetPluginDashboardFileContents/args.FileReference_with_only_space_should_return_error (0.00s)
--- PASS: TestDashboardFileStore/Plugin_without_dashboards (0.00s)
--- PASS: TestDashboardFileStore/Plugin_without_dashboards/Should_return_zero_file_references (0.00s)
--- PASS: TestDashboardFileStore/Plugin_without_dashboards/Should_return_file_not_found_error_when_trying_to_get_non-existing_plugin_dashboard_file_content (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards/Should_return_two_file_references (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards/With_filesystem (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_file_not_found_error_when_trying_to_get_non-existing_plugin_dashboard_file_content (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_file_content_for_dashboards/dash1.json (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_file_content_for_dashboards/dash2.json (0.00s)
--- PASS: TestDashboardFileStore/Plugin_with_dashboards/With_filesystem/Should_return_error_when_trying_to_read_relative_file (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/dashboards	(cached)
=== RUN   Test_GetPublicKey
=== RUN   Test_GetPublicKey/it_should_return_a_static_key
--- PASS: Test_GetPublicKey (0.00s)
--- PASS: Test_GetPublicKey/it_should_return_a_static_key (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/keyretriever	(cached)
=== RUN   Test_PublicKeyUpdate
=== RUN   Test_PublicKeyUpdate/it_should_retrieve_an_API_key
=== RUN   Test_PublicKeyUpdate/it_should_update_the_latest_update_date
=== RUN   Test_PublicKeyUpdate/it_should_remove_old_keys
=== RUN   Test_PublicKeyUpdate/it_should_force-download_the_key
--- PASS: Test_PublicKeyUpdate (0.00s)
--- PASS: Test_PublicKeyUpdate/it_should_retrieve_an_API_key (0.00s)
--- PASS: Test_PublicKeyUpdate/it_should_update_the_latest_update_date (0.00s)
--- PASS: Test_PublicKeyUpdate/it_should_remove_old_keys (0.00s)
--- PASS: Test_PublicKeyUpdate/it_should_force-download_the_key (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/keyretriever/dynamic	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/keystore	[no test files]
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/licensing	[no test files]
=== RUN   TestLoader_Load
=== RUN   TestLoader_Load/Load_a_Core_plugin
=== RUN   TestLoader_Load/Load_plugin_with_symbolic_links
=== RUN   TestLoader_Load/Load_an_unsigned_plugin_(development)
=== RUN   TestLoader_Load/Load_an_unsigned_plugin_(production)
=== RUN   TestLoader_Load/Load_an_unsigned_plugin_using_PluginsAllowUnsigned_config_(production)
=== RUN   TestLoader_Load/Load_a_plugin_with_v1_manifest_should_return_signatureInvalid
=== RUN   TestLoader_Load/Load_a_plugin_with_v1_manifest_using_PluginsAllowUnsigned_config_(production)_should_return_signatureInvalid
=== RUN   TestLoader_Load/Load_a_plugin_with_manifest_which_has_a_file_not_found_in_plugin_folder
=== RUN   TestLoader_Load/Load_a_plugin_with_file_which_is_missing_from_the_manifest
=== RUN   TestLoader_Load/Load_an_app_with_includes
--- PASS: TestLoader_Load (0.09s)
--- PASS: TestLoader_Load/Load_a_Core_plugin (0.01s)
--- PASS: TestLoader_Load/Load_plugin_with_symbolic_links (0.02s)
--- PASS: TestLoader_Load/Load_an_unsigned_plugin_(development) (0.00s)
--- PASS: TestLoader_Load/Load_an_unsigned_plugin_(production) (0.00s)
--- PASS: TestLoader_Load/Load_an_unsigned_plugin_using_PluginsAllowUnsigned_config_(production) (0.00s)
--- PASS: TestLoader_Load/Load_a_plugin_with_v1_manifest_should_return_signatureInvalid (0.01s)
--- PASS: TestLoader_Load/Load_a_plugin_with_v1_manifest_using_PluginsAllowUnsigned_config_(production)_should_return_signatureInvalid (0.01s)
--- PASS: TestLoader_Load/Load_a_plugin_with_manifest_which_has_a_file_not_found_in_plugin_folder (0.01s)
--- PASS: TestLoader_Load/Load_a_plugin_with_file_which_is_missing_from_the_manifest (0.01s)
--- PASS: TestLoader_Load/Load_an_app_with_includes (0.00s)
=== RUN   TestLoader_Load_ExternalRegistration
=== RUN   TestLoader_Load_ExternalRegistration/Load_a_plugin_with_service_account_registration
--- PASS: TestLoader_Load_ExternalRegistration (0.00s)
--- PASS: TestLoader_Load_ExternalRegistration/Load_a_plugin_with_service_account_registration (0.00s)
=== RUN   TestLoader_Load_CustomSource
=== RUN   TestLoader_Load_CustomSource/Load_a_plugin
--- PASS: TestLoader_Load_CustomSource (0.00s)
--- PASS: TestLoader_Load_CustomSource/Load_a_plugin (0.00s)
=== RUN   TestLoader_Load_MultiplePlugins
=== RUN   TestLoader_Load_MultiplePlugins/Load_multiple
=== RUN   TestLoader_Load_MultiplePlugins/Load_multiple/Load_multiple_plugins_(broken,_valid,_unsigned)
--- PASS: TestLoader_Load_MultiplePlugins (0.01s)
--- PASS: TestLoader_Load_MultiplePlugins/Load_multiple (0.01s)
--- PASS: TestLoader_Load_MultiplePlugins/Load_multiple/Load_multiple_plugins_(broken,_valid,_unsigned) (0.01s)
=== RUN   TestLoader_Load_RBACReady
--- PASS: TestLoader_Load_RBACReady (0.01s)
=== RUN   TestLoader_Load_Signature_RootURL
=== RUN   TestLoader_Load_Signature_RootURL/Private_signature_verification_ignores_trailing_slash_in_root_URL
--- PASS: TestLoader_Load_Signature_RootURL (0.01s)
--- PASS: TestLoader_Load_Signature_RootURL/Private_signature_verification_ignores_trailing_slash_in_root_URL (0.01s)
=== RUN   TestLoader_Load_DuplicatePlugins
=== RUN   TestLoader_Load_DuplicatePlugins/Load_duplicate_plugin_folders
--- PASS: TestLoader_Load_DuplicatePlugins (0.01s)
--- PASS: TestLoader_Load_DuplicatePlugins/Load_duplicate_plugin_folders (0.01s)
=== RUN   TestLoader_Load_SkipUninitializedPlugins
=== RUN   TestLoader_Load_SkipUninitializedPlugins/Load_duplicate_plugin_folders
--- PASS: TestLoader_Load_SkipUninitializedPlugins (0.02s)
--- PASS: TestLoader_Load_SkipUninitializedPlugins/Load_duplicate_plugin_folders (0.02s)
=== RUN   TestLoader_AngularClass
=== RUN   TestLoader_AngularClass/core_plugin_should_skip_angular_detection
=== RUN   TestLoader_AngularClass/external_plugin_should_run_angular_detection
=== RUN   TestLoader_AngularClass/other-class_plugin_should_run_angular_detection
--- PASS: TestLoader_AngularClass (0.03s)
--- PASS: TestLoader_AngularClass/core_plugin_should_skip_angular_detection (0.01s)
--- PASS: TestLoader_AngularClass/external_plugin_should_run_angular_detection (0.01s)
--- PASS: TestLoader_AngularClass/other-class_plugin_should_run_angular_detection (0.01s)
=== RUN   TestLoader_Load_Angular
=== RUN   TestLoader_Load_Angular/angular_support_enabled
=== RUN   TestLoader_Load_Angular/angular_support_enabled/angular_plugin
=== RUN   TestLoader_Load_Angular/angular_support_enabled/non_angular_plugin
=== RUN   TestLoader_Load_Angular/angular_support_disabled
=== RUN   TestLoader_Load_Angular/angular_support_disabled/angular_plugin
=== RUN   TestLoader_Load_Angular/angular_support_disabled/non_angular_plugin
--- PASS: TestLoader_Load_Angular (0.04s)
--- PASS: TestLoader_Load_Angular/angular_support_enabled (0.02s)
--- PASS: TestLoader_Load_Angular/angular_support_enabled/angular_plugin (0.01s)
--- PASS: TestLoader_Load_Angular/angular_support_enabled/non_angular_plugin (0.01s)
--- PASS: TestLoader_Load_Angular/angular_support_disabled (0.02s)
--- PASS: TestLoader_Load_Angular/angular_support_disabled/angular_plugin (0.01s)
--- PASS: TestLoader_Load_Angular/angular_support_disabled/non_angular_plugin (0.01s)
=== RUN   TestLoader_HideAngularDeprecation
=== RUN   TestLoader_HideAngularDeprecation/with_plugin_id_in_HideAngularDeprecation_list
=== RUN   TestLoader_HideAngularDeprecation/without_plugin_id_in_HideAngularDeprecation_list
=== RUN   TestLoader_HideAngularDeprecation/with_empty_HideAngularDeprecation
--- PASS: TestLoader_HideAngularDeprecation (0.03s)
--- PASS: TestLoader_HideAngularDeprecation/with_plugin_id_in_HideAngularDeprecation_list (0.01s)
--- PASS: TestLoader_HideAngularDeprecation/without_plugin_id_in_HideAngularDeprecation_list (0.01s)
--- PASS: TestLoader_HideAngularDeprecation/with_empty_HideAngularDeprecation (0.01s)
=== RUN   TestLoader_Load_NestedPlugins
=== RUN   TestLoader_Load_NestedPlugins/Load_nested_External_plugins
=== RUN   TestLoader_Load_NestedPlugins/Load_nested_External_plugins/Load_will_exclude_plugins_that_already_exist
=== RUN   TestLoader_Load_NestedPlugins/Plugin_child_field_`IncludedInAppID`_is_set_to_parent_app's_plugin_ID
--- PASS: TestLoader_Load_NestedPlugins (0.02s)
--- PASS: TestLoader_Load_NestedPlugins/Load_nested_External_plugins (0.01s)
--- PASS: TestLoader_Load_NestedPlugins/Load_nested_External_plugins/Load_will_exclude_plugins_that_already_exist (0.00s)
--- PASS: TestLoader_Load_NestedPlugins/Plugin_child_field_`IncludedInAppID`_is_set_to_parent_app's_plugin_ID (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/loader	0.327s
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/managedplugins	[no test files]
=== RUN   TestSkipPlugins
--- PASS: TestSkipPlugins (0.00s)
=== RUN   TestAsExternal
=== RUN   TestAsExternal/should_skip_a_core_plugin
--- PASS: TestAsExternal (0.00s)
--- PASS: TestAsExternal/should_skip_a_core_plugin (0.00s)
=== RUN   TestDuplicatePluginIDValidation
=== RUN   TestDuplicatePluginIDValidation/should_filter_out_a_plugin_if_it_already_exists_in_the_plugin_registry
=== RUN   TestDuplicatePluginIDValidation/should_not_filter_out_a_plugin_if_it_doesn't_exist_in_the_plugin_registry
=== RUN   TestDuplicatePluginIDValidation/should_filter_out_child_plugins_if_they_are_already_registered
--- PASS: TestDuplicatePluginIDValidation (0.00s)
--- PASS: TestDuplicatePluginIDValidation/should_filter_out_a_plugin_if_it_already_exists_in_the_plugin_registry (0.00s)
--- PASS: TestDuplicatePluginIDValidation/should_not_filter_out_a_plugin_if_it_doesn't_exist_in_the_plugin_registry (0.00s)
--- PASS: TestDuplicatePluginIDValidation/should_filter_out_child_plugins_if_they_are_already_registered (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/pipeline	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginaccesscontrol	[no test files]
=== RUN   TestService_Calculate
=== RUN   TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_compatible_and_plugin_is_not_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyScript_when_parent_create-plugin_version_is_compatible_and_plugin_is_not_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_future_compatible_and_plugin_is_not_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_not_provided,_plugin_is_not_angular_and_is_not_configured_as_CDN_enabled
=== RUN   TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular,_is_not_configured_as_CDN_enabled_and_does_not_have_the_CDN_class
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_parent_create-plugin_version_is_not_set,_is_configured_as_CDN_enabled_and_plugin_is_not_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_parent_create-plugin_version_is_not_set,_is_configured_as_CDN_enabled_and_plugin_is_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_parent_create-plugin_version_is_not_set,_is_not_configured_as_CDN_enabled_and_plugin_is_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular,_is_configured_as_CDN_enabled_and_does_not_have_the_CDN_class
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible_and_plugin_is_angular
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular_and_plugin_is_configured_as_CDN_enabled
=== RUN   TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular_and_has_the_CDN_class
=== RUN   TestService_Calculate/Expected_LoadingStrategyScript_when_plugin_setting_create-plugin_version_is_badly_formatted,_plugin_is_not_configured_as_CDN_enabled_and_does_not_have_the_CDN_class
--- PASS: TestService_Calculate (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_compatible_and_plugin_is_not_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyScript_when_parent_create-plugin_version_is_compatible_and_plugin_is_not_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_future_compatible_and_plugin_is_not_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_not_provided,_plugin_is_not_angular_and_is_not_configured_as_CDN_enabled (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyScript_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular,_is_not_configured_as_CDN_enabled_and_does_not_have_the_CDN_class (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_parent_create-plugin_version_is_not_set,_is_configured_as_CDN_enabled_and_plugin_is_not_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_parent_create-plugin_version_is_not_set,_is_configured_as_CDN_enabled_and_plugin_is_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_parent_create-plugin_version_is_not_set,_is_not_configured_as_CDN_enabled_and_plugin_is_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular,_is_configured_as_CDN_enabled_and_does_not_have_the_CDN_class (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible_and_plugin_is_angular (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular_and_plugin_is_configured_as_CDN_enabled (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyFetch_when_create-plugin_version_is_not_compatible,_plugin_is_not_angular_and_has_the_CDN_class (0.00s)
--- PASS: TestService_Calculate/Expected_LoadingStrategyScript_when_plugin_setting_create-plugin_version_is_badly_formatted,_plugin_is_not_configured_as_CDN_enabled_and_does_not_have_the_CDN_class (0.00s)
=== RUN   TestService_ModuleHash
=== RUN   TestService_ModuleHash/unsigned_should_not_return_module_hash
=== RUN   TestService_ModuleHash/feature=true,_cdn_config=true,_class=cdn_should_return_module_hash
=== RUN   TestService_ModuleHash/feature=true,_cdn_config=true,_class=external_should_return_module_hash
=== RUN   TestService_ModuleHash/feature=true,_cdn_config=false,_class=_should_not_return_module_hash
=== RUN   TestService_ModuleHash/feature=false,_cdn_config=true,_class=cdn_should_not_return_module_hash
=== RUN   TestService_ModuleHash/feature=false,_cdn_config=false,_class=_should_not_return_module_hash
=== RUN   TestService_ModuleHash/nested_plugin_should_return_module_hash_from_parent_MANIFEST.txt
=== RUN   TestService_ModuleHash/nested_plugin_deeper_than_one_subfolder_should_return_module_hash_from_parent_MANIFEST.txt
=== RUN   TestService_ModuleHash/nested_plugin_of_a_nested_plugin_should_return_module_hash_from_parent_MANIFEST.txt
=== RUN   TestService_ModuleHash/nested_plugin_should_not_return_module_hash_from_parent_if_it's_not_registered_in_the_store
=== RUN   TestService_ModuleHash/missing_module.js_entry_from_MANIFEST.txt_should_not_return_module_hash
=== RUN   TestService_ModuleHash/signed_status_but_missing_MANIFEST.txt_should_not_return_module_hash
--- PASS: TestService_ModuleHash (0.07s)
--- PASS: TestService_ModuleHash/unsigned_should_not_return_module_hash (0.00s)
--- PASS: TestService_ModuleHash/feature=true,_cdn_config=true,_class=cdn_should_return_module_hash (0.02s)
--- PASS: TestService_ModuleHash/feature=true,_cdn_config=true,_class=external_should_return_module_hash (0.01s)
--- PASS: TestService_ModuleHash/feature=true,_cdn_config=false,_class=_should_not_return_module_hash (0.00s)
--- PASS: TestService_ModuleHash/feature=false,_cdn_config=true,_class=cdn_should_not_return_module_hash (0.00s)
--- PASS: TestService_ModuleHash/feature=false,_cdn_config=false,_class=_should_not_return_module_hash (0.00s)
--- PASS: TestService_ModuleHash/nested_plugin_should_return_module_hash_from_parent_MANIFEST.txt (0.01s)
--- PASS: TestService_ModuleHash/nested_plugin_deeper_than_one_subfolder_should_return_module_hash_from_parent_MANIFEST.txt (0.01s)
--- PASS: TestService_ModuleHash/nested_plugin_of_a_nested_plugin_should_return_module_hash_from_parent_MANIFEST.txt (0.01s)
--- PASS: TestService_ModuleHash/nested_plugin_should_not_return_module_hash_from_parent_if_it's_not_registered_in_the_store (0.00s)
--- PASS: TestService_ModuleHash/missing_module.js_entry_from_MANIFEST.txt_should_not_return_module_hash (0.00s)
--- PASS: TestService_ModuleHash/signed_status_but_missing_MANIFEST.txt_should_not_return_module_hash (0.00s)
=== RUN   TestService_ModuleHash_Cache
=== RUN   TestService_ModuleHash_Cache/cache_key
=== RUN   TestService_ModuleHash_Cache/cache_key/with_version
=== RUN   TestService_ModuleHash_Cache/cache_key/without_version
=== RUN   TestService_ModuleHash_Cache/ModuleHash_usage
=== RUN   TestService_ModuleHash_Cache/ModuleHash_usage/different_version_uses_different_cache_key
=== RUN   TestService_ModuleHash_Cache/ModuleHash_usage/cache_should_be_used
--- PASS: TestService_ModuleHash_Cache (0.02s)
--- PASS: TestService_ModuleHash_Cache/cache_key (0.00s)
--- PASS: TestService_ModuleHash_Cache/cache_key/with_version (0.00s)
--- PASS: TestService_ModuleHash_Cache/cache_key/without_version (0.00s)
--- PASS: TestService_ModuleHash_Cache/ModuleHash_usage (0.02s)
--- PASS: TestService_ModuleHash_Cache/ModuleHash_usage/different_version_uses_different_cache_key (0.01s)
--- PASS: TestService_ModuleHash_Cache/ModuleHash_usage/cache_should_be_used (0.00s)
=== RUN   TestConvertHashFromSRI
=== RUN   TestConvertHashFromSRI/ddfcb449445064e6c39f0c20b15be3cb6a55837cf4781df23d02de005f436811
=== RUN   TestConvertHashFromSRI/not-a-valid-hash
--- PASS: TestConvertHashFromSRI (0.00s)
--- PASS: TestConvertHashFromSRI/ddfcb449445064e6c39f0c20b15be3cb6a55837cf4781df23d02de005f436811 (0.00s)
--- PASS: TestConvertHashFromSRI/not-a-valid-hash (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginassets	0.112s
=== RUN   TestPluginSettings
--- PASS: TestPluginSettings (0.00s)
=== RUN   TestPluginEnvVarsProvider_PluginEnvVars
=== RUN   TestPluginEnvVarsProvider_PluginEnvVars/backend_datasource_with_license
--- PASS: TestPluginEnvVarsProvider_PluginEnvVars (0.00s)
--- PASS: TestPluginEnvVarsProvider_PluginEnvVars/backend_datasource_with_license (0.00s)
=== RUN   TestPluginEnvVarsProvider_skipHostEnvVars
=== RUN   TestPluginEnvVarsProvider_skipHostEnvVars/without_FlagPluginsSkipHostEnvVars_should_not_populate_host_env_vars
=== RUN   TestPluginEnvVarsProvider_skipHostEnvVars/with_SkipHostEnvVars_=_true
=== RUN   TestPluginEnvVarsProvider_skipHostEnvVars/with_SkipHostEnvVars_=_true/should_populate_allowed_host_env_vars
=== RUN   TestPluginEnvVarsProvider_skipHostEnvVars/with_SkipHostEnvVars_=_true/should_not_populate_host_env_vars_that_aren't_allowed
--- PASS: TestPluginEnvVarsProvider_skipHostEnvVars (0.00s)
--- PASS: TestPluginEnvVarsProvider_skipHostEnvVars/without_FlagPluginsSkipHostEnvVars_should_not_populate_host_env_vars (0.00s)
--- PASS: TestPluginEnvVarsProvider_skipHostEnvVars/with_SkipHostEnvVars_=_true (0.00s)
--- PASS: TestPluginEnvVarsProvider_skipHostEnvVars/with_SkipHostEnvVars_=_true/should_populate_allowed_host_env_vars (0.00s)
--- PASS: TestPluginEnvVarsProvider_skipHostEnvVars/with_SkipHostEnvVars_=_true/should_not_populate_host_env_vars_that_aren't_allowed (0.00s)
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/otel_not_configured
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/otlp_no_propagation
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/otlp_propagation_plugin_enabled
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/otlp_enabled_composite_propagation
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/GF_PLUGIN_VERSION_is_not_present_if_tracing_is_disabled
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/GF_PLUGIN_VERSION_is_present_if_tracing_is_enabled_and_plugin_has_version
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/GF_PLUGIN_VERSION_is_not_present_if_tracing_is_enabled_but_plugin_doesn't_have_a_version
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/no_sampling_(neversample)
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/empty_sampler_with_param
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/const_sampler_with_param
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/rateLimiting_sampler
=== RUN   TestPluginEnvVarsProvider_tracingEnvironmentVariables/remote_sampler
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/otel_not_configured (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/otlp_no_propagation (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/otlp_propagation_plugin_enabled (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/otlp_enabled_composite_propagation (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/GF_PLUGIN_VERSION_is_not_present_if_tracing_is_disabled (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/GF_PLUGIN_VERSION_is_present_if_tracing_is_enabled_and_plugin_has_version (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/GF_PLUGIN_VERSION_is_not_present_if_tracing_is_enabled_but_plugin_doesn't_have_a_version (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/no_sampling_(neversample) (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/empty_sampler_with_param (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/const_sampler_with_param (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/rateLimiting_sampler (0.00s)
--- PASS: TestPluginEnvVarsProvider_tracingEnvironmentVariables/remote_sampler (0.00s)
=== RUN   TestPluginEnvVarsProvider_authEnvVars
=== RUN   TestPluginEnvVarsProvider_authEnvVars/backend_datasource_with_auth_registration
--- PASS: TestPluginEnvVarsProvider_authEnvVars (0.00s)
--- PASS: TestPluginEnvVarsProvider_authEnvVars/backend_datasource_with_auth_registration (0.00s)
=== RUN   TestPluginEnvVarsProvider_awsEnvVars
=== RUN   TestPluginEnvVarsProvider_awsEnvVars/backend_datasource_with_aws_settings
--- PASS: TestPluginEnvVarsProvider_awsEnvVars (0.00s)
--- PASS: TestPluginEnvVarsProvider_awsEnvVars/backend_datasource_with_aws_settings (0.00s)
=== RUN   TestPluginEnvVarsProvider_featureToggleEnvVar
=== RUN   TestPluginEnvVarsProvider_featureToggleEnvVar/backend_datasource_with_feature_toggle
--- PASS: TestPluginEnvVarsProvider_featureToggleEnvVar (0.00s)
--- PASS: TestPluginEnvVarsProvider_featureToggleEnvVar/backend_datasource_with_feature_toggle (0.00s)
=== RUN   TestPluginEnvVarsProvider_azureEnvVars
=== RUN   TestPluginEnvVarsProvider_azureEnvVars/backend_datasource_with_azure_settings
--- PASS: TestPluginEnvVarsProvider_azureEnvVars (0.00s)
--- PASS: TestPluginEnvVarsProvider_azureEnvVars/backend_datasource_with_azure_settings (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_Defaults
--- PASS: TestRequestConfigProvider_PluginRequestConfig_Defaults (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig
=== RUN   TestRequestConfigProvider_PluginRequestConfig/Both_features_and_proxy_settings_enabled
=== RUN   TestRequestConfigProvider_PluginRequestConfig/Features_enabled_but_proxy_settings_disabled
=== RUN   TestRequestConfigProvider_PluginRequestConfig/Both_features_and_proxy_settings_disabled
=== RUN   TestRequestConfigProvider_PluginRequestConfig/Both_features_and_proxy_settings_empty
=== RUN   TestRequestConfigProvider_PluginRequestConfig/Multiple_Root_CA_certs_in_proxy_settings_are_supported
--- PASS: TestRequestConfigProvider_PluginRequestConfig (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig/Both_features_and_proxy_settings_enabled (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig/Features_enabled_but_proxy_settings_disabled (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig/Both_features_and_proxy_settings_disabled (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig/Both_features_and_proxy_settings_empty (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig/Multiple_Root_CA_certs_in_proxy_settings_are_supported (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_featureToggles
=== RUN   TestRequestConfigProvider_PluginRequestConfig_featureToggles/Feature_toggles_list_is_deterministic
--- PASS: TestRequestConfigProvider_PluginRequestConfig_featureToggles (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_featureToggles/Feature_toggles_list_is_deterministic (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_appURL
=== RUN   TestRequestConfigProvider_PluginRequestConfig_appURL/Uses_the_configured_app_URL
--- PASS: TestRequestConfigProvider_PluginRequestConfig_appURL (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_appURL/Uses_the_configured_app_URL (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_SQL
=== RUN   TestRequestConfigProvider_PluginRequestConfig_SQL/Uses_the_configured_values
=== RUN   TestRequestConfigProvider_PluginRequestConfig_SQL/Uses_the_configured_max-default-values,_even_when_they_are_zero
--- PASS: TestRequestConfigProvider_PluginRequestConfig_SQL (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_SQL/Uses_the_configured_values (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_SQL/Uses_the_configured_max-default-values,_even_when_they_are_zero (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount
=== RUN   TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount/Uses_the_configured_concurrent_query_count
=== RUN   TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount/Doesn't_set_the_concurrent_query_count_if_it_is_not_in_the_config
=== RUN   TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount/Doesn't_set_the_concurrent_query_count_if_it_is_zero
--- PASS: TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount/Uses_the_configured_concurrent_query_count (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount/Doesn't_set_the_concurrent_query_count_if_it_is_not_in_the_config (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_concurrentQueryCount/Doesn't_set_the_concurrent_query_count_if_it_is_zero (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled/Uses_the_configured_azureAuthEnabled
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled/Doesn't_set_the_azureAuthEnabled_if_it_is_not_in_the_config
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled/Doesn't_set_the_azureAuthEnabled_if_it_is_false
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled/Uses_the_configured_azureAuthEnabled (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled/Doesn't_set_the_azureAuthEnabled_if_it_is_not_in_the_config (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azureAuthEnabled/Doesn't_set_the_azureAuthEnabled_if_it_is_false (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azure
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azure/uses_the_azure_settings_for_an_Azure_plugin
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azure/azure_settings_include_custom_clouds_when_set
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azure/does_not_use_the_azure_settings_for_a_non-Azure_plugin
=== RUN   TestRequestConfigProvider_PluginRequestConfig_azure/uses_the_azure_settings_for_a_non-Azure_user-specified_plugin
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azure (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azure/uses_the_azure_settings_for_an_Azure_plugin (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azure/azure_settings_include_custom_clouds_when_set (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azure/does_not_use_the_azure_settings_for_a_non-Azure_plugin (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_azure/uses_the_azure_settings_for_a_non-Azure_user-specified_plugin (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_aws
=== RUN   TestRequestConfigProvider_PluginRequestConfig_aws/uses_the_aws_settings_for_an_AWS_plugin
=== RUN   TestRequestConfigProvider_PluginRequestConfig_aws/does_not_use_the_aws_settings_for_a_non-aws_plugin
=== RUN   TestRequestConfigProvider_PluginRequestConfig_aws/uses_the_aws_settings_for_a_non-aws_user-specified_plugin
--- PASS: TestRequestConfigProvider_PluginRequestConfig_aws (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_aws/uses_the_aws_settings_for_an_AWS_plugin (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_aws/does_not_use_the_aws_settings_for_a_non-aws_plugin (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_aws/uses_the_aws_settings_for_a_non-aws_user-specified_plugin (0.00s)
=== RUN   TestRequestConfigProvider_PluginRequestConfig_appClientSecret
=== RUN   TestRequestConfigProvider_PluginRequestConfig_appClientSecret/Uses_the_configured_app_URL
--- PASS: TestRequestConfigProvider_PluginRequestConfig_appClientSecret (0.00s)
--- PASS: TestRequestConfigProvider_PluginRequestConfig_appClientSecret/Uses_the_configured_app_URL (0.00s)
=== RUN   TestNewTracingCfg
=== RUN   TestNewTracingCfg/empty
=== RUN   TestNewTracingCfg/enabled
=== RUN   TestNewTracingCfg/enabled/empty
=== RUN   TestNewTracingCfg/enabled/jaeger
=== RUN   TestNewTracingCfg/enabled/w3c
=== RUN   TestNewTracingCfg/enabled/multiple
--- PASS: TestNewTracingCfg (0.00s)
--- PASS: TestNewTracingCfg/empty (0.00s)
--- PASS: TestNewTracingCfg/enabled (0.00s)
--- PASS: TestNewTracingCfg/enabled/empty (0.00s)
--- PASS: TestNewTracingCfg/enabled/jaeger (0.00s)
--- PASS: TestNewTracingCfg/enabled/w3c (0.00s)
--- PASS: TestNewTracingCfg/enabled/multiple (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginconfig	(cached)
=== RUN   TestGet
=== RUN   TestGet/with_id
=== RUN   TestGet/with_id/Get
=== RUN   TestGet/with_id/GetWithDataSource
=== RUN   TestGet/with_alias
=== RUN   TestGet/with_alias/Get
=== RUN   TestGet/with_alias/GetWithDataSource
--- PASS: TestGet (0.00s)
--- PASS: TestGet/with_id (0.00s)
--- PASS: TestGet/with_id/Get (0.00s)
--- PASS: TestGet/with_id/GetWithDataSource (0.00s)
--- PASS: TestGet/with_alias (0.00s)
--- PASS: TestGet/with_alias/Get (0.00s)
--- PASS: TestGet/with_alias/GetWithDataSource (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/plugincontext	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginerrs	[no test files]
=== RUN   TestService_validateExternal
=== RUN   TestService_validateExternal/should_not_log_error_if_core_plugin_is_loaded_as_external
=== RUN   TestService_validateExternal/should_log_error_if_a_core_plugin_is_missing
--- PASS: TestService_validateExternal (0.00s)
--- PASS: TestService_validateExternal/should_not_log_error_if_core_plugin_is_loaded_as_external (0.00s)
--- PASS: TestService_validateExternal/should_log_error_if_a_core_plugin_is_missing (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginexternal	(cached)
=== RUN   TestIsPreinstalled
--- PASS: TestIsPreinstalled (0.00s)
=== RUN   TestIsPinned
--- PASS: TestIsPinned (0.00s)
=== RUN   TestService_IsDisabled
--- PASS: TestService_IsDisabled (0.00s)
=== RUN   TestService_Run
=== RUN   TestService_Run/Installs_a_plugin
=== RUN   TestService_Run/Install_a_plugin_with_version
=== RUN   TestService_Run/Skips_already_installed_plugin
=== RUN   TestService_Run/Still_installs_a_plugin_if_the_plugin_version_does_not_match
=== RUN   TestService_Run/Install_multiple_plugins
=== RUN   TestService_Run/Fails_to_install_a_plugin_but_install_the_rest
=== RUN   TestService_Run/Install_a_blocking_plugin
=== RUN   TestService_Run/Fails_to_install_a_blocking_plugin
=== RUN   TestService_Run/Updates_a_plugin
=== RUN   TestService_Run/Should_not_update_a_plugin_if_the_latest_version_is_installed
=== RUN   TestService_Run/Should_not_update_a_plugin_if_the_latest_version_is_a_major_version
=== RUN   TestService_Run/Should_install_a_plugin_with_a_URL
--- PASS: TestService_Run (0.00s)
--- PASS: TestService_Run/Installs_a_plugin (0.00s)
--- PASS: TestService_Run/Install_a_plugin_with_version (0.00s)
--- PASS: TestService_Run/Skips_already_installed_plugin (0.00s)
--- PASS: TestService_Run/Still_installs_a_plugin_if_the_plugin_version_does_not_match (0.00s)
--- PASS: TestService_Run/Install_multiple_plugins (0.00s)
--- PASS: TestService_Run/Fails_to_install_a_plugin_but_install_the_rest (0.00s)
--- PASS: TestService_Run/Install_a_blocking_plugin (0.00s)
--- PASS: TestService_Run/Fails_to_install_a_blocking_plugin (0.00s)
--- PASS: TestService_Run/Updates_a_plugin (0.00s)
--- PASS: TestService_Run/Should_not_update_a_plugin_if_the_latest_version_is_installed (0.00s)
--- PASS: TestService_Run/Should_not_update_a_plugin_if_the_latest_version_is_a_major_version (0.00s)
--- PASS: TestService_Run/Should_install_a_plugin_with_a_URL (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/plugininstaller	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginsettings	[no test files]
=== RUN   TestService_DecryptedValuesCache
=== RUN   TestService_DecryptedValuesCache/When_plugin_settings_hasn't_been_updated,_encrypted_JSON_should_be_fetched_from_cache
=== RUN   TestService_DecryptedValuesCache/When_plugin_settings_is_updated,_encrypted_JSON_should_not_be_fetched_from_cache
--- PASS: TestService_DecryptedValuesCache (0.02s)
--- PASS: TestService_DecryptedValuesCache/When_plugin_settings_hasn't_been_updated,_encrypted_JSON_should_be_fetched_from_cache (0.01s)
--- PASS: TestService_DecryptedValuesCache/When_plugin_settings_is_updated,_encrypted_JSON_should_not_be_fetched_from_cache (0.01s)
=== RUN   TestIntegrationPluginSettings
service_test.go:103: skipping integration test
--- SKIP: TestIntegrationPluginSettings (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginsettings/service	(cached)
=== RUN   TestToGrafanaDTO
=== RUN   TestToGrafanaDTO/Translations
--- PASS: TestToGrafanaDTO (0.00s)
--- PASS: TestToGrafanaDTO/Translations (0.00s)
=== RUN   TestStore_ProvideService
=== RUN   TestStore_ProvideService/Plugin_sources_are_added_in_order
--- PASS: TestStore_ProvideService (0.00s)
--- PASS: TestStore_ProvideService/Plugin_sources_are_added_in_order (0.00s)
=== RUN   TestStore_Plugin
=== RUN   TestStore_Plugin/Plugin_returns_all_non-decommissioned_plugins
--- PASS: TestStore_Plugin (0.00s)
--- PASS: TestStore_Plugin/Plugin_returns_all_non-decommissioned_plugins (0.00s)
=== RUN   TestStore_Plugins
=== RUN   TestStore_Plugins/Plugin_returns_all_non-decommissioned_plugins_by_type
--- PASS: TestStore_Plugins (0.00s)
--- PASS: TestStore_Plugins/Plugin_returns_all_non-decommissioned_plugins_by_type (0.00s)
=== RUN   TestStore_Routes
=== RUN   TestStore_Routes/Routes_returns_all_static_routes_for_non-decommissioned_plugins
--- PASS: TestStore_Routes (0.00s)
--- PASS: TestStore_Routes/Routes_returns_all_static_routes_for_non-decommissioned_plugins (0.00s)
=== RUN   TestProcessManager_shutdown
=== RUN   TestProcessManager_shutdown/When_context_is_cancelled_the_plugin_is_stopped
--- PASS: TestProcessManager_shutdown (0.00s)
--- PASS: TestProcessManager_shutdown/When_context_is_cancelled_the_plugin_is_stopped (0.00s)
=== RUN   TestStore_availablePlugins
=== RUN   TestStore_availablePlugins/Decommissioned_plugins_are_excluded_from_availablePlugins
--- PASS: TestStore_availablePlugins (0.00s)
--- PASS: TestStore_availablePlugins/Decommissioned_plugins_are_excluded_from_availablePlugins (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/pluginstore	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/provisionedplugins	[no test files]
=== RUN   TestRenderer
=== RUN   TestRenderer/Test_Renderer_will_treat_directories_under_plugins_path_as_individual_sources
=== RUN   TestRenderer/Test_Renderer_load_all_directories_until_a_plugin_is_returned
--- PASS: TestRenderer (0.00s)
--- PASS: TestRenderer/Test_Renderer_will_treat_directories_under_plugins_path_as_individual_sources (0.00s)
--- PASS: TestRenderer/Test_Renderer_load_all_directories_until_a_plugin_is_returned (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/renderer	0.485s
=== RUN   TestService_Plugins
--- PASS: TestService_Plugins (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/pluginsintegration/sandbox	(cached)
?   	github.com/grafana/grafana/pkg/services/pluginsintegration/serviceregistration	[no test files]
?   	github.com/grafana/grafana/pkg/services/preference	[no test files]
?   	github.com/grafana/grafana/pkg/services/preference/prefapi	[no test files]
=== RUN   TestGet_empty
--- PASS: TestGet_empty (0.00s)
=== RUN   TestGetDefaults
=== RUN   TestGetDefaults/GetDefaults
=== RUN   TestGetDefaults/GetWithDefaults
--- PASS: TestGetDefaults (0.00s)
--- PASS: TestGetDefaults/GetDefaults (0.00s)
--- PASS: TestGetDefaults/GetWithDefaults (0.00s)
=== RUN   TestGetWithDefaults_withUserAndOrgPrefs
=== RUN   TestGetWithDefaults_withUserAndOrgPrefs/prefer_user's_preferences
=== RUN   TestGetWithDefaults_withUserAndOrgPrefs/ignore_other_user's_preferences
--- PASS: TestGetWithDefaults_withUserAndOrgPrefs (0.00s)
--- PASS: TestGetWithDefaults_withUserAndOrgPrefs/prefer_user's_preferences (0.00s)
--- PASS: TestGetWithDefaults_withUserAndOrgPrefs/ignore_other_user's_preferences (0.00s)
=== RUN   TestGetDefaults_JSONData
=== RUN   TestGetDefaults_JSONData/users_have_precedence_over_org
=== RUN   TestGetDefaults_JSONData/user_JSONData_with_missing_language_does_not_override_org_preference
=== RUN   TestGetDefaults_JSONData/user_JSONData_with_missing_locale_does_not_override_org_preference
=== RUN   TestGetDefaults_JSONData/teams_have_precedence_over_org_and_are_read_in_ascending_order
--- PASS: TestGetDefaults_JSONData (0.00s)
--- PASS: TestGetDefaults_JSONData/users_have_precedence_over_org (0.00s)
--- PASS: TestGetDefaults_JSONData/user_JSONData_with_missing_language_does_not_override_org_preference (0.00s)
--- PASS: TestGetDefaults_JSONData/user_JSONData_with_missing_locale_does_not_override_org_preference (0.00s)
--- PASS: TestGetDefaults_JSONData/teams_have_precedence_over_org_and_are_read_in_ascending_order (0.00s)
=== RUN   TestGetWithDefaults_teams
--- PASS: TestGetWithDefaults_teams (0.00s)
=== RUN   TestPatch_toCreate
--- PASS: TestPatch_toCreate (0.00s)
=== RUN   TestSave
=== RUN   TestSave/insert
=== RUN   TestSave/update
=== RUN   TestSave/patch
--- PASS: TestSave (0.00s)
--- PASS: TestSave/insert (0.00s)
--- PASS: TestSave/update (0.00s)
--- PASS: TestSave/patch (0.00s)
=== RUN   TestIntegrationXORMPreferencesDataAccess
xorm_store_test.go:11: skipping integration test
--- SKIP: TestIntegrationXORMPreferencesDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/preference/prefimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/preference/preftest	[no test files]
=== RUN   TestProvisioningServiceImpl
=== RUN   TestProvisioningServiceImpl/Restart_dashboard_provisioning_and_stop_service
=== RUN   TestProvisioningServiceImpl/Failed_reloading_does_not_stop_polling_with_old_provisioned
=== RUN   TestProvisioningServiceImpl/Should_not_return_run_error_when_dashboard_provisioning_fails_because_of_folder
=== RUN   TestProvisioningServiceImpl/Should_return_run_error_when_dashboard_provisioning_fails_for_non-allow-listed_error
=== RUN   TestProvisioningServiceImpl/Should_set_dashboard_provisioner_when_provisioning_dashboards
--- PASS: TestProvisioningServiceImpl (2.00s)
--- PASS: TestProvisioningServiceImpl/Restart_dashboard_provisioning_and_stop_service (0.00s)
--- PASS: TestProvisioningServiceImpl/Failed_reloading_does_not_stop_polling_with_old_provisioned (0.00s)
--- PASS: TestProvisioningServiceImpl/Should_not_return_run_error_when_dashboard_provisioning_fails_because_of_folder (0.00s)
--- PASS: TestProvisioningServiceImpl/Should_return_run_error_when_dashboard_provisioning_fails_for_non-allow-listed_error (1.00s)
--- PASS: TestProvisioningServiceImpl/Should_set_dashboard_provisioner_when_provisioning_dashboards (1.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning	(cached)
=== RUN   TestConfigReader
=== RUN   TestConfigReader/a_broken_YAML_file_should_error
=== RUN   TestConfigReader/a_rule_file_with_correct_properties_should_not_error
=== RUN   TestConfigReader/a_rule_file_with_correct_properties_should_not_error/when_no_organization_is_present_it_should_be_set_to_1
=== RUN   TestConfigReader/a_rule_file_with_correct_properties_and_specific_org_should_not_error
=== RUN   TestConfigReader/a_rule_file_with_correct_properties_and_specific_org_should_not_error/when_an_organization_is_set_it_should_not_overwrite_if_with_the_default_of_1
=== RUN   TestConfigReader/an_empty_rule_file_should_not_make_the_config_reader_error
=== RUN   TestConfigReader/an_empty_folder_should_not_make_the_config_reader_error
=== RUN   TestConfigReader/the_config_reader_should_be_able_to_read_multiple_files_in_the_folder
=== RUN   TestConfigReader/the_config_reader_should_be_able_to_read_multiple_rule_groups
=== RUN   TestConfigReader/the_config_reader_should_support_.yaml,.yml_and_.json_files
=== RUN   TestConfigReader/a_contact_point_file_with_correct_properties_should_not_error
=== RUN   TestConfigReader/a_contact_point_file_with_correct_properties_should_not_error/when_no_organization_is_present_it_should_be_set_to_1
=== RUN   TestConfigReader/a_contact_point_file_with_correct_properties_and_specific_org_should_not_error
=== RUN   TestConfigReader/a_contact_point_file_with_correct_properties_and_specific_org_should_not_error/when_an_organization_is_set_it_should_not_overwrite_if_with_the_default_of_1
=== RUN   TestConfigReader/a_contact_point_file_with_empty_UID_should_fail
=== RUN   TestConfigReader/a_contact_point_file_with_missing_UID_should_fail
=== RUN   TestConfigReader/a_contact_point_file_with_whitespace_UID_should_fail
=== RUN   TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_contact_points
=== RUN   TestConfigReader/a_notification_policy_file_with_correct_properties_and_specific_org_should_not_error
=== RUN   TestConfigReader/a_notification_policy_file_with_correct_properties_and_specific_org_should_not_error#01
=== RUN   TestConfigReader/a_notification_policy_file_with_correct_properties_and_specific_org_should_not_error#01/when_an_organization_is_set_it_should_not_overwrite_it_with_the_default_of_1
=== RUN   TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_notification_policies
=== RUN   TestConfigReader/a_mute_times_file_with_correct_properties_and_specific_org_should_not_error
=== RUN   TestConfigReader/a_mute_times_file_with_correct_properties_and_specific_org_should_not_error#01
=== RUN   TestConfigReader/a_mute_times_file_with_correct_properties_and_specific_org_should_not_error#01/when_an_organization_is_set_it_should_not_overwrite_it_with_the_default_of_1
=== RUN   TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_mute_times
=== RUN   TestConfigReader/a_template_file_with_correct_properties_and_specific_org_should_not_error
=== RUN   TestConfigReader/a_template_file_with_correct_properties_and_specific_org_should_not_error#01
=== RUN   TestConfigReader/a_template_file_with_correct_properties_and_specific_org_should_not_error#01/when_an_organization_is_set_it_should_not_overwrite_it_with_the_default_of_1
=== RUN   TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_mute_times#01
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/only_dasboard_present
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/only_dasboard_present/json_group
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/only_dasboard_present/yaml_group
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/only_dashboard_present
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/only_dashboard_present/json_group
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/only_dashboard_present/yaml_group
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/both_dasboard_and_dashboard_present
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/both_dasboard_and_dashboard_present/json_group
=== RUN   TestConfigReader/a_rule_file_with_dasboard_typo/both_dasboard_and_dashboard_present/yaml_group
--- PASS: TestConfigReader (0.01s)
--- PASS: TestConfigReader/a_broken_YAML_file_should_error (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_correct_properties_should_not_error (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_correct_properties_should_not_error/when_no_organization_is_present_it_should_be_set_to_1 (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_correct_properties_and_specific_org_should_not_error (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_correct_properties_and_specific_org_should_not_error/when_an_organization_is_set_it_should_not_overwrite_if_with_the_default_of_1 (0.00s)
--- PASS: TestConfigReader/an_empty_rule_file_should_not_make_the_config_reader_error (0.00s)
--- PASS: TestConfigReader/an_empty_folder_should_not_make_the_config_reader_error (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_be_able_to_read_multiple_files_in_the_folder (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_be_able_to_read_multiple_rule_groups (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_support_.yaml,.yml_and_.json_files (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_correct_properties_should_not_error (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_correct_properties_should_not_error/when_no_organization_is_present_it_should_be_set_to_1 (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_correct_properties_and_specific_org_should_not_error (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_correct_properties_and_specific_org_should_not_error/when_an_organization_is_set_it_should_not_overwrite_if_with_the_default_of_1 (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_empty_UID_should_fail (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_missing_UID_should_fail (0.00s)
--- PASS: TestConfigReader/a_contact_point_file_with_whitespace_UID_should_fail (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_contact_points (0.00s)
--- PASS: TestConfigReader/a_notification_policy_file_with_correct_properties_and_specific_org_should_not_error (0.00s)
--- PASS: TestConfigReader/a_notification_policy_file_with_correct_properties_and_specific_org_should_not_error#01 (0.00s)
--- PASS: TestConfigReader/a_notification_policy_file_with_correct_properties_and_specific_org_should_not_error#01/when_an_organization_is_set_it_should_not_overwrite_it_with_the_default_of_1 (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_notification_policies (0.00s)
--- PASS: TestConfigReader/a_mute_times_file_with_correct_properties_and_specific_org_should_not_error (0.00s)
--- PASS: TestConfigReader/a_mute_times_file_with_correct_properties_and_specific_org_should_not_error#01 (0.00s)
--- PASS: TestConfigReader/a_mute_times_file_with_correct_properties_and_specific_org_should_not_error#01/when_an_organization_is_set_it_should_not_overwrite_it_with_the_default_of_1 (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_mute_times (0.00s)
--- PASS: TestConfigReader/a_template_file_with_correct_properties_and_specific_org_should_not_error (0.00s)
--- PASS: TestConfigReader/a_template_file_with_correct_properties_and_specific_org_should_not_error#01 (0.00s)
--- PASS: TestConfigReader/a_template_file_with_correct_properties_and_specific_org_should_not_error#01/when_an_organization_is_set_it_should_not_overwrite_it_with_the_default_of_1 (0.00s)
--- PASS: TestConfigReader/the_config_reader_should_be_able_to_read_a_file_with_multiple_mute_times#01 (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/only_dasboard_present (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/only_dasboard_present/json_group (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/only_dasboard_present/yaml_group (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/only_dashboard_present (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/only_dashboard_present/json_group (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/only_dashboard_present/yaml_group (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/both_dasboard_and_dashboard_present (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/both_dasboard_and_dashboard_present/json_group (0.00s)
--- PASS: TestConfigReader/a_rule_file_with_dasboard_typo/both_dasboard_and_dashboard_present/yaml_group (0.00s)
=== RUN   TestReceivers
=== RUN   TestReceivers/Valid_config_should_not_error_on_mapping
=== RUN   TestReceivers/Invalid_config_should_error_on_mapping
=== RUN   TestReceivers/Empty_config_should_error_on_mapping
=== RUN   TestReceivers/Missing_UID_should_error_on_mapping
=== RUN   TestReceivers/Missing_type_should_error_on_mapping
=== RUN   TestReceivers/Ivalid_type_should_error_on_mapping
--- PASS: TestReceivers (0.00s)
--- PASS: TestReceivers/Valid_config_should_not_error_on_mapping (0.00s)
--- PASS: TestReceivers/Invalid_config_should_error_on_mapping (0.00s)
--- PASS: TestReceivers/Empty_config_should_error_on_mapping (0.00s)
--- PASS: TestReceivers/Missing_UID_should_error_on_mapping (0.00s)
--- PASS: TestReceivers/Missing_type_should_error_on_mapping (0.00s)
--- PASS: TestReceivers/Ivalid_type_should_error_on_mapping (0.00s)
=== RUN   TestNotificationPolicy
--- PASS: TestNotificationPolicy (0.00s)
=== RUN   TestRuleGroup
=== RUN   TestRuleGroup/a_valid_rule_group_should_not_error
=== RUN   TestRuleGroup/a_rule_group_with_out_a_name_should_error
=== RUN   TestRuleGroup/a_rule_group_with_out_a_folder_should_error
=== RUN   TestRuleGroup/a_rule_group_with_out_an_interval_should_error
=== RUN   TestRuleGroup/a_rule_group_with_an_invalid_interval_should_error
=== RUN   TestRuleGroup/a_rule_group_with_an_interval_containing_'d'_should_work
=== RUN   TestRuleGroup/a_rule_group_with_an_empty_org_id_should_default_to_1
=== RUN   TestRuleGroup/a_rule_group_with_a_negative_org_id_should_default_to_1
--- PASS: TestRuleGroup (0.00s)
--- PASS: TestRuleGroup/a_valid_rule_group_should_not_error (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_out_a_name_should_error (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_out_a_folder_should_error (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_out_an_interval_should_error (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_an_invalid_interval_should_error (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_an_interval_containing_'d'_should_work (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_an_empty_org_id_should_default_to_1 (0.00s)
--- PASS: TestRuleGroup/a_rule_group_with_a_negative_org_id_should_default_to_1 (0.00s)
=== RUN   TestRules
=== RUN   TestRules/a_valid_rule_should_not_error
=== RUN   TestRules/a_rule_with_out_a_uid_should_error
=== RUN   TestRules/a_rule_with_out_a_title_should_error
=== RUN   TestRules/a_rule_without_a_for_duration_should_default_to_0s
=== RUN   TestRules/a_rule_with_an_invalid_for_duration_should_error
=== RUN   TestRules/a_rule_with_a_for_duration_containing_'d'_should_work
=== RUN   TestRules/a_rule_with_out_a_condition_should_error
=== RUN   TestRules/a_rule_with_out_data_should_error
=== RUN   TestRules/a_rule_with_out_execErrState_should_have_sane_defaults
=== RUN   TestRules/a_rule_with_invalid_execErrState_should_error
=== RUN   TestRules/a_rule_with_a_valid_execErrState_should_map_it_correctly
=== RUN   TestRules/a_rule_with_out_noDataState_should_have_sane_defaults
=== RUN   TestRules/a_rule_with_an_invalid_noDataState_should_error
=== RUN   TestRules/a_rule_with_a_valid_noDataState_should_map_it_correctly
=== RUN   TestRules/a_rule_with_notification_settings_should_map_it_correctly
--- PASS: TestRules (0.00s)
--- PASS: TestRules/a_valid_rule_should_not_error (0.00s)
--- PASS: TestRules/a_rule_with_out_a_uid_should_error (0.00s)
--- PASS: TestRules/a_rule_with_out_a_title_should_error (0.00s)
--- PASS: TestRules/a_rule_without_a_for_duration_should_default_to_0s (0.00s)
--- PASS: TestRules/a_rule_with_an_invalid_for_duration_should_error (0.00s)
--- PASS: TestRules/a_rule_with_a_for_duration_containing_'d'_should_work (0.00s)
--- PASS: TestRules/a_rule_with_out_a_condition_should_error (0.00s)
--- PASS: TestRules/a_rule_with_out_data_should_error (0.00s)
--- PASS: TestRules/a_rule_with_out_execErrState_should_have_sane_defaults (0.00s)
--- PASS: TestRules/a_rule_with_invalid_execErrState_should_error (0.00s)
--- PASS: TestRules/a_rule_with_a_valid_execErrState_should_map_it_correctly (0.00s)
--- PASS: TestRules/a_rule_with_out_noDataState_should_have_sane_defaults (0.00s)
--- PASS: TestRules/a_rule_with_an_invalid_noDataState_should_error (0.00s)
--- PASS: TestRules/a_rule_with_a_valid_noDataState_should_map_it_correctly (0.00s)
--- PASS: TestRules/a_rule_with_notification_settings_should_map_it_correctly (0.00s)
=== RUN   TestNotificationsSettingsV1MapToModel
=== RUN   TestNotificationsSettingsV1MapToModel/Valid_Input
=== RUN   TestNotificationsSettingsV1MapToModel/Skips_empty_elements_in_group_by
=== RUN   TestNotificationsSettingsV1MapToModel/Skips_empty_elements_in_mute_timings
=== RUN   TestNotificationsSettingsV1MapToModel/Empty_Receiver
=== RUN   TestNotificationsSettingsV1MapToModel/Invalid_GroupWait_Duration
=== RUN   TestNotificationsSettingsV1MapToModel/Invalid_GroupInterval_Duration
=== RUN   TestNotificationsSettingsV1MapToModel/Invalid_RepeatInterval_Duration
--- PASS: TestNotificationsSettingsV1MapToModel (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Valid_Input (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Skips_empty_elements_in_group_by (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Skips_empty_elements_in_mute_timings (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Empty_Receiver (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Invalid_GroupWait_Duration (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Invalid_GroupInterval_Duration (0.00s)
--- PASS: TestNotificationsSettingsV1MapToModel/Invalid_RepeatInterval_Duration (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning/alerting	0.455s
=== RUN   TestDashboardsAsConfig
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration/Should_fail_if_orgs_don't_exist_in_the_database
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration/default_values_should_be_applied
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration/Can_read_config_file_version_1_format
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration/Can_read_config_file_in_version_0_format
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration/Should_skip_invalid_path
=== RUN   TestDashboardsAsConfig/Dashboards_as_configuration/Should_skip_broken_config_files
--- PASS: TestDashboardsAsConfig (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration/Should_fail_if_orgs_don't_exist_in_the_database (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration/default_values_should_be_applied (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration/Can_read_config_file_version_1_format (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration/Can_read_config_file_in_version_0_format (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration/Should_skip_invalid_path (0.00s)
--- PASS: TestDashboardsAsConfig/Dashboards_as_configuration/Should_skip_broken_config_files (0.00s)
=== RUN   TestProvisionedSymlinkedFolder
--- PASS: TestProvisionedSymlinkedFolder (0.00s)
=== RUN   TestCreatingNewDashboardFileReader
=== RUN   TestCreatingNewDashboardFileReader/using_path_parameter
=== RUN   TestCreatingNewDashboardFileReader/using_folder_as_options
=== RUN   TestCreatingNewDashboardFileReader/using_foldersFromFilesStructure_as_options
=== RUN   TestCreatingNewDashboardFileReader/using_full_path
=== RUN   TestCreatingNewDashboardFileReader/using_relative_path
--- PASS: TestCreatingNewDashboardFileReader (0.00s)
--- PASS: TestCreatingNewDashboardFileReader/using_path_parameter (0.00s)
--- PASS: TestCreatingNewDashboardFileReader/using_folder_as_options (0.00s)
--- PASS: TestCreatingNewDashboardFileReader/using_foldersFromFilesStructure_as_options (0.00s)
--- PASS: TestCreatingNewDashboardFileReader/using_full_path (0.00s)
--- PASS: TestCreatingNewDashboardFileReader/using_relative_path (0.00s)
=== RUN   TestDashboardFileReader
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Can_read_default_dashboard
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Can_read_default_dashboard_and_replace_old_version_in_database
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_older_timestamp_and_the_same_checksum_will_not_replace_imported_dashboard
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_older_timestamp_and_different_checksum_will_replace_imported_dashboard
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_newer_timestamp_and_the_same_checksum_will_not_replace_imported_dashboard
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_newer_timestamp_and_different_checksum_should_replace_imported_dashboard
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Overrides_id_from_dashboard.json_files
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Get_folder_from_files_structure
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Invalid_configuration_should_return_error
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Broken_dashboards_should_not_cause_error
=== RUN   TestDashboardFileReader/Reading_dashboards_from_disk/Two_dashboard_providers_should_be_able_to_provisioned_the_same_dashboard_without_uid
=== RUN   TestDashboardFileReader/Should_not_create_new_folder_if_folder_name_is_missing
=== RUN   TestDashboardFileReader/can_get_or_Create_dashboard_folder
=== RUN   TestDashboardFileReader/should_not_create_dashboard_folder_with_uid_general
=== RUN   TestDashboardFileReader/Walking_the_folder_with_dashboards
=== RUN   TestDashboardFileReader/Walking_the_folder_with_dashboards/should_skip_dirs_that_starts_with_.
=== RUN   TestDashboardFileReader/Walking_the_folder_with_dashboards/should_keep_walking_if_file_is_not_.json
=== RUN   TestDashboardFileReader/Given_missing_dashboard_file
=== RUN   TestDashboardFileReader/Given_missing_dashboard_file/Missing_dashboard_should_be_unprovisioned_if_DisableDeletion_=_true
=== RUN   TestDashboardFileReader/Given_missing_dashboard_file/Missing_dashboard_should_be_deleted_if_DisableDeletion_=_false
--- PASS: TestDashboardFileReader (0.27s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk (0.01s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Can_read_default_dashboard (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Can_read_default_dashboard_and_replace_old_version_in_database (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_older_timestamp_and_the_same_checksum_will_not_replace_imported_dashboard (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_older_timestamp_and_different_checksum_will_replace_imported_dashboard (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_newer_timestamp_and_the_same_checksum_will_not_replace_imported_dashboard (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Dashboard_with_newer_timestamp_and_different_checksum_should_replace_imported_dashboard (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Overrides_id_from_dashboard.json_files (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Get_folder_from_files_structure (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Invalid_configuration_should_return_error (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Broken_dashboards_should_not_cause_error (0.00s)
--- PASS: TestDashboardFileReader/Reading_dashboards_from_disk/Two_dashboard_providers_should_be_able_to_provisioned_the_same_dashboard_without_uid (0.00s)
--- PASS: TestDashboardFileReader/Should_not_create_new_folder_if_folder_name_is_missing (0.00s)
--- PASS: TestDashboardFileReader/can_get_or_Create_dashboard_folder (0.00s)
--- PASS: TestDashboardFileReader/should_not_create_dashboard_folder_with_uid_general (0.00s)
--- PASS: TestDashboardFileReader/Walking_the_folder_with_dashboards (0.00s)
--- PASS: TestDashboardFileReader/Walking_the_folder_with_dashboards/should_skip_dirs_that_starts_with_. (0.00s)
--- PASS: TestDashboardFileReader/Walking_the_folder_with_dashboards/should_keep_walking_if_file_is_not_.json (0.00s)
--- PASS: TestDashboardFileReader/Given_missing_dashboard_file (0.00s)
--- PASS: TestDashboardFileReader/Given_missing_dashboard_file/Missing_dashboard_should_be_unprovisioned_if_DisableDeletion_=_true (0.00s)
--- PASS: TestDashboardFileReader/Given_missing_dashboard_file/Missing_dashboard_should_be_deleted_if_DisableDeletion_=_false (0.00s)
=== RUN   TestDuplicatesValidator
=== RUN   TestDuplicatesValidator/Duplicates_validator_should_collect_info_about_duplicate_UIDs_and_titles_within_folders
=== RUN   TestDuplicatesValidator/Duplicates_validator_should_not_collect_info_about_duplicate_UIDs_and_titles_within_folders_for_different_orgs
=== RUN   TestDuplicatesValidator/Duplicates_validator_should_restrict_write_access_only_for_readers_with_duplicates
--- PASS: TestDuplicatesValidator (0.01s)
--- PASS: TestDuplicatesValidator/Duplicates_validator_should_collect_info_about_duplicate_UIDs_and_titles_within_folders (0.00s)
--- PASS: TestDuplicatesValidator/Duplicates_validator_should_not_collect_info_about_duplicate_UIDs_and_titles_within_folders_for_different_orgs (0.00s)
--- PASS: TestDuplicatesValidator/Duplicates_validator_should_restrict_write_access_only_for_readers_with_duplicates (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning/dashboards	0.762s
=== RUN   TestDatasourceAsConfig
=== RUN   TestDatasourceAsConfig/when_some_values_missing_should_apply_default_on_insert
=== RUN   TestDatasourceAsConfig/when_some_values_missing_should_not_change_UID_when_updates
=== RUN   TestDatasourceAsConfig/no_datasource_in_database
=== RUN   TestDatasourceAsConfig/One_datasource_in_database_with_same_name_should_update_one_datasource
=== RUN   TestDatasourceAsConfig/Two_datasources_with_is_default_should_raise_error
=== RUN   TestDatasourceAsConfig/Multiple_datasources_in_different_organizations_with_isDefault_in_each_organization_should_not_raise_error
=== RUN   TestDatasourceAsConfig/Remove_one_datasource_should_have_removed_old_datasource
=== RUN   TestDatasourceAsConfig/Two_configured_datasource_and_purge_others
=== RUN   TestDatasourceAsConfig/Two_configured_datasource_and_purge_others_=_false
=== RUN   TestDatasourceAsConfig/Delete_data_sources_when_removing_them_from_provision_files
=== RUN   TestDatasourceAsConfig/broken_yaml_should_return_error
=== RUN   TestDatasourceAsConfig/invalid_access_should_warn_about_invalid_value_and_return_'proxy'
=== RUN   TestDatasourceAsConfig/skip_invalid_directory
=== RUN   TestDatasourceAsConfig/can_read_all_properties_from_version_1
=== RUN   TestDatasourceAsConfig/can_read_all_properties_from_version_0
=== RUN   TestDatasourceAsConfig/Correlations
=== RUN   TestDatasourceAsConfig/Correlations/Creates_two_correlations
=== RUN   TestDatasourceAsConfig/Correlations/Updating_existing_datasource_deletes_existing_correlations_and_creates_two
=== RUN   TestDatasourceAsConfig/Correlations/Deleting_datasource_deletes_existing_correlations
=== RUN   TestDatasourceAsConfig/Correlations/Re-creating_datasource_does_not_delete_existing_correlations
=== RUN   TestDatasourceAsConfig/Correlations/Using_correct_organization_id
--- PASS: TestDatasourceAsConfig (0.01s)
--- PASS: TestDatasourceAsConfig/when_some_values_missing_should_apply_default_on_insert (0.00s)
--- PASS: TestDatasourceAsConfig/when_some_values_missing_should_not_change_UID_when_updates (0.00s)
--- PASS: TestDatasourceAsConfig/no_datasource_in_database (0.00s)
--- PASS: TestDatasourceAsConfig/One_datasource_in_database_with_same_name_should_update_one_datasource (0.00s)
--- PASS: TestDatasourceAsConfig/Two_datasources_with_is_default_should_raise_error (0.00s)
--- PASS: TestDatasourceAsConfig/Multiple_datasources_in_different_organizations_with_isDefault_in_each_organization_should_not_raise_error (0.00s)
--- PASS: TestDatasourceAsConfig/Remove_one_datasource_should_have_removed_old_datasource (0.00s)
--- PASS: TestDatasourceAsConfig/Two_configured_datasource_and_purge_others (0.00s)
--- PASS: TestDatasourceAsConfig/Two_configured_datasource_and_purge_others_=_false (0.00s)
--- PASS: TestDatasourceAsConfig/Delete_data_sources_when_removing_them_from_provision_files (0.00s)
--- PASS: TestDatasourceAsConfig/broken_yaml_should_return_error (0.00s)
--- PASS: TestDatasourceAsConfig/invalid_access_should_warn_about_invalid_value_and_return_'proxy' (0.00s)
--- PASS: TestDatasourceAsConfig/skip_invalid_directory (0.00s)
--- PASS: TestDatasourceAsConfig/can_read_all_properties_from_version_1 (0.00s)
--- PASS: TestDatasourceAsConfig/can_read_all_properties_from_version_0 (0.00s)
--- PASS: TestDatasourceAsConfig/Correlations (0.00s)
--- PASS: TestDatasourceAsConfig/Correlations/Creates_two_correlations (0.00s)
--- PASS: TestDatasourceAsConfig/Correlations/Updating_existing_datasource_deletes_existing_correlations_and_creates_two (0.00s)
--- PASS: TestDatasourceAsConfig/Correlations/Deleting_datasource_deletes_existing_correlations (0.00s)
--- PASS: TestDatasourceAsConfig/Correlations/Re-creating_datasource_does_not_delete_existing_correlations (0.00s)
--- PASS: TestDatasourceAsConfig/Correlations/Using_correct_organization_id (0.00s)
=== RUN   TestUIDFromNames
=== RUN   TestUIDFromNames/generate_safe_uid_from_name
--- PASS: TestUIDFromNames (0.00s)
--- PASS: TestUIDFromNames/generate_safe_uid_from_name (0.00s)
=== RUN   TestCreateUpdateCommand
=== RUN   TestCreateUpdateCommand/includes_the_version_in_the_command
--- PASS: TestCreateUpdateCommand (0.00s)
--- PASS: TestCreateUpdateCommand/includes_the_version_in_the_command (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning/datasources	0.480s
=== RUN   TestConfigReader
=== RUN   TestConfigReader/Broken_yaml_should_return_error
=== RUN   TestConfigReader/Skip_invalid_directory
=== RUN   TestConfigReader/Unknown_app_plugin_should_return_error
=== RUN   TestConfigReader/Read_incorrect_properties
=== RUN   TestConfigReader/Can_read_correct_properties
--- PASS: TestConfigReader (0.00s)
--- PASS: TestConfigReader/Broken_yaml_should_return_error (0.00s)
--- PASS: TestConfigReader/Skip_invalid_directory (0.00s)
--- PASS: TestConfigReader/Unknown_app_plugin_should_return_error (0.00s)
--- PASS: TestConfigReader/Read_incorrect_properties (0.00s)
--- PASS: TestConfigReader/Can_read_correct_properties (0.00s)
=== RUN   TestPluginProvisioner
=== RUN   TestPluginProvisioner/Should_return_error_when_config_reader_returns_error
=== RUN   TestPluginProvisioner/Should_apply_configurations
=== RUN   TestPluginProvisioner/Should_return_error_trying_to_disable_an_auto-enabled_plugin
--- PASS: TestPluginProvisioner (0.00s)
--- PASS: TestPluginProvisioner/Should_return_error_when_config_reader_returns_error (0.00s)
--- PASS: TestPluginProvisioner/Should_apply_configurations (0.00s)
--- PASS: TestPluginProvisioner/Should_return_error_trying_to_disable_an_auto-enabled_plugin (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning/plugins	0.027s
testing: warning: no tests to run
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning/utils	(cached) [no tests to run]
=== RUN   TestValues
=== RUN   TestValues/Values
=== RUN   TestValues/Values/IntValue
=== RUN   TestValues/Values/IntValue/Should_unmarshal_simple_number
=== RUN   TestValues/Values/IntValue/Should_unmarshal_env_var
=== RUN   TestValues/Values/IntValue/Should_ignore_empty_value
=== RUN   TestValues/Values/StringValue
=== RUN   TestValues/Values/StringValue/Should_unmarshal_simple_string
=== RUN   TestValues/Values/StringValue/Should_unmarshal_env_var
=== RUN   TestValues/Values/StringValue/Should_ignore_empty_value
=== RUN   TestValues/Values/StringValue/empty_var_should_have_empty_value
=== RUN   TestValues/Values/StringValue/$$_should_be_a_literal_$
=== RUN   TestValues/Values/StringValue/$$_should_be_a_literal_$_and_not_expanded_within_a_string
=== RUN   TestValues/Values/BoolValue
=== RUN   TestValues/Values/BoolValue/Should_unmarshal_bool_value
=== RUN   TestValues/Values/BoolValue/Should_unmarshal_explicit_string
=== RUN   TestValues/Values/BoolValue/Should_unmarshal_env_var
=== RUN   TestValues/Values/BoolValue/Should_ignore_empty_value
=== RUN   TestValues/Values/JSONValue
=== RUN   TestValues/Values/JSONValue/Should_unmarshal_variable_nesting
=== RUN   TestValues/Values/JSONSliceValue
=== RUN   TestValues/Values/JSONSliceValue/Should_unmarshal_top-level_slices_and_nested_structures
=== RUN   TestValues/Values/StringMapValue
=== RUN   TestValues/Values/StringMapValue/Should_unmarshal_mapping
--- PASS: TestValues (0.00s)
--- PASS: TestValues/Values (0.00s)
--- PASS: TestValues/Values/IntValue (0.00s)
--- PASS: TestValues/Values/IntValue/Should_unmarshal_simple_number (0.00s)
--- PASS: TestValues/Values/IntValue/Should_unmarshal_env_var (0.00s)
--- PASS: TestValues/Values/IntValue/Should_ignore_empty_value (0.00s)
--- PASS: TestValues/Values/StringValue (0.00s)
--- PASS: TestValues/Values/StringValue/Should_unmarshal_simple_string (0.00s)
--- PASS: TestValues/Values/StringValue/Should_unmarshal_env_var (0.00s)
--- PASS: TestValues/Values/StringValue/Should_ignore_empty_value (0.00s)
--- PASS: TestValues/Values/StringValue/empty_var_should_have_empty_value (0.00s)
--- PASS: TestValues/Values/StringValue/$$_should_be_a_literal_$ (0.00s)
--- PASS: TestValues/Values/StringValue/$$_should_be_a_literal_$_and_not_expanded_within_a_string (0.00s)
--- PASS: TestValues/Values/BoolValue (0.00s)
--- PASS: TestValues/Values/BoolValue/Should_unmarshal_bool_value (0.00s)
--- PASS: TestValues/Values/BoolValue/Should_unmarshal_explicit_string (0.00s)
--- PASS: TestValues/Values/BoolValue/Should_unmarshal_env_var (0.00s)
--- PASS: TestValues/Values/BoolValue/Should_ignore_empty_value (0.00s)
--- PASS: TestValues/Values/JSONValue (0.00s)
--- PASS: TestValues/Values/JSONValue/Should_unmarshal_variable_nesting (0.00s)
--- PASS: TestValues/Values/JSONSliceValue (0.00s)
--- PASS: TestValues/Values/JSONSliceValue/Should_unmarshal_top-level_slices_and_nested_structures (0.00s)
--- PASS: TestValues/Values/StringMapValue (0.00s)
--- PASS: TestValues/Values/StringMapValue/Should_unmarshal_mapping (0.00s)
=== RUN   TestValues_readFile
--- PASS: TestValues_readFile (0.00s)
=== RUN   TestValues_expanderError
--- PASS: TestValues_expanderError (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/provisioning/values	(cached)
?   	github.com/grafana/grafana/pkg/services/publicdashboards	[no test files]
=== RUN   TestAPIFeatureDisabled
=== RUN   TestAPIFeatureDisabled/API:_Load_Dashboard_-_setting_disabled
=== RUN   TestAPIFeatureDisabled/API:_Query_Dashboard_-_setting_disabled
=== RUN   TestAPIFeatureDisabled/API:_List_Dashboards_-_setting_disabled
=== RUN   TestAPIFeatureDisabled/API:_Get_Public_Dashboard_-_setting_disabled
=== RUN   TestAPIFeatureDisabled/API:_Create_Public_Dashboard_-_setting_disabled
=== RUN   TestAPIFeatureDisabled/API:_Update_Public_Dashboard_-_setting_disabled
=== RUN   TestAPIFeatureDisabled/API:_Delete_Public_Dashboard_-_setting_disabled
--- PASS: TestAPIFeatureDisabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_Load_Dashboard_-_setting_disabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_Query_Dashboard_-_setting_disabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_List_Dashboards_-_setting_disabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_Get_Public_Dashboard_-_setting_disabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_Create_Public_Dashboard_-_setting_disabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_Update_Public_Dashboard_-_setting_disabled (0.00s)
--- PASS: TestAPIFeatureDisabled/API:_Delete_Public_Dashboard_-_setting_disabled (0.00s)
=== RUN   TestAPIListPublicDashboard
=== RUN   TestAPIListPublicDashboard/Anonymous_user_cannot_list_dashboards
=== RUN   TestAPIListPublicDashboard/User_viewer_can_see_public_dashboards
=== RUN   TestAPIListPublicDashboard/Handles_Service_error
--- PASS: TestAPIListPublicDashboard (0.00s)
--- PASS: TestAPIListPublicDashboard/Anonymous_user_cannot_list_dashboards (0.00s)
--- PASS: TestAPIListPublicDashboard/User_viewer_can_see_public_dashboards (0.00s)
--- PASS: TestAPIListPublicDashboard/Handles_Service_error (0.00s)
=== RUN   TestAPIDeletePublicDashboard
=== RUN   TestAPIDeletePublicDashboard/User_viewer_cannot_delete_public_dashboard
=== RUN   TestAPIDeletePublicDashboard/User_editor_without_specific_dashboard_access_cannot_delete_public_dashboard
=== RUN   TestAPIDeletePublicDashboard/User_editor_with_all_dashboard_accesses_can_delete_public_dashboard
=== RUN   TestAPIDeletePublicDashboard/User_editor_with_dashboard_access_can_delete_public_dashboard
=== RUN   TestAPIDeletePublicDashboard/Internal_server_error_returns_an_error
=== RUN   TestAPIDeletePublicDashboard/PublicDashboard_error_returns_correct_status_code_instead_of_500
=== RUN   TestAPIDeletePublicDashboard/Invalid_publicDashboardUid_throws_an_error
=== RUN   TestAPIDeletePublicDashboard/Public_dashboard_uid_does_not_exist
--- PASS: TestAPIDeletePublicDashboard (0.00s)
--- PASS: TestAPIDeletePublicDashboard/User_viewer_cannot_delete_public_dashboard (0.00s)
--- PASS: TestAPIDeletePublicDashboard/User_editor_without_specific_dashboard_access_cannot_delete_public_dashboard (0.00s)
--- PASS: TestAPIDeletePublicDashboard/User_editor_with_all_dashboard_accesses_can_delete_public_dashboard (0.00s)
--- PASS: TestAPIDeletePublicDashboard/User_editor_with_dashboard_access_can_delete_public_dashboard (0.00s)
--- PASS: TestAPIDeletePublicDashboard/Internal_server_error_returns_an_error (0.00s)
--- PASS: TestAPIDeletePublicDashboard/PublicDashboard_error_returns_correct_status_code_instead_of_500 (0.00s)
--- PASS: TestAPIDeletePublicDashboard/Invalid_publicDashboardUid_throws_an_error (0.00s)
--- PASS: TestAPIDeletePublicDashboard/Public_dashboard_uid_does_not_exist (0.00s)
=== RUN   TestAPIGetPublicDashboard
=== RUN   TestAPIGetPublicDashboard/returns_404_when_dashboard_not_found
=== RUN   TestAPIGetPublicDashboard/returns_500_when_internal_server_error
=== RUN   TestAPIGetPublicDashboard/retrieves_public_dashboard_when_dashboard_is_found_RBAC_on
=== RUN   TestAPIGetPublicDashboard/returns_403_when_no_permissions_RBAC_on
--- PASS: TestAPIGetPublicDashboard (0.00s)
--- PASS: TestAPIGetPublicDashboard/returns_404_when_dashboard_not_found (0.00s)
--- PASS: TestAPIGetPublicDashboard/returns_500_when_internal_server_error (0.00s)
--- PASS: TestAPIGetPublicDashboard/retrieves_public_dashboard_when_dashboard_is_found_RBAC_on (0.00s)
--- PASS: TestAPIGetPublicDashboard/returns_403_when_no_permissions_RBAC_on (0.00s)
=== RUN   TestApiCreatePublicDashboard
=== RUN   TestApiCreatePublicDashboard/returns_500_when_not_persisted
=== RUN   TestApiCreatePublicDashboard/returns_404_when_dashboard_not_found
=== RUN   TestApiCreatePublicDashboard/returns_200_when_update_persists_RBAC_on
=== RUN   TestApiCreatePublicDashboard/returns_403_when_no_permissions_RBAC_on
=== RUN   TestApiCreatePublicDashboard/returns_400_when_uid_is_invalid
=== RUN   TestApiCreatePublicDashboard/returns_200_when_uid_is_valid
=== RUN   TestApiCreatePublicDashboard/returns_400_when_access_token_is_invalid
=== RUN   TestApiCreatePublicDashboard/returns_200_when_access_token_is_valid
--- PASS: TestApiCreatePublicDashboard (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_500_when_not_persisted (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_404_when_dashboard_not_found (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_200_when_update_persists_RBAC_on (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_403_when_no_permissions_RBAC_on (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_400_when_uid_is_invalid (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_200_when_uid_is_valid (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_400_when_access_token_is_invalid (0.00s)
--- PASS: TestApiCreatePublicDashboard/returns_200_when_access_token_is_valid (0.00s)
=== RUN   TestAPIUpdatePublicDashboard
=== RUN   TestAPIUpdatePublicDashboard/Invalid_dashboard_uid_bad_request_error
=== RUN   TestAPIUpdatePublicDashboard/Invalid_public_dashboard_uid_bad_request_error
=== RUN   TestAPIUpdatePublicDashboard/Dashboard_not_found_error
=== RUN   TestAPIUpdatePublicDashboard/Success
=== RUN   TestAPIUpdatePublicDashboard/Invalid_payload_bad_request_error
=== RUN   TestAPIUpdatePublicDashboard/User_has_permissions_to_update_this_public_dashboard
=== RUN   TestAPIUpdatePublicDashboard/User_has_permissions_to_update_another_dashboard_but_not_the_requested_one
=== RUN   TestAPIUpdatePublicDashboard/User_Viewer_cannot_update_any_dashboard
--- PASS: TestAPIUpdatePublicDashboard (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/Invalid_dashboard_uid_bad_request_error (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/Invalid_public_dashboard_uid_bad_request_error (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/Dashboard_not_found_error (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/Success (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/Invalid_payload_bad_request_error (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/User_has_permissions_to_update_this_public_dashboard (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/User_has_permissions_to_update_another_dashboard_but_not_the_requested_one (0.00s)
--- PASS: TestAPIUpdatePublicDashboard/User_Viewer_cannot_update_any_dashboard (0.00s)
=== RUN   TestRequiresExistingAccessToken
=== RUN   TestRequiresExistingAccessToken/Returns_200_when_public_dashboard_with_access_token_exists
=== RUN   TestRequiresExistingAccessToken/Returns_400_when_access_token_is_empty
=== RUN   TestRequiresExistingAccessToken/Returns_400_when_invalid_access_token
=== RUN   TestRequiresExistingAccessToken/Returns_404_when_public_dashboard_with_access_token_does_not_exist
=== RUN   TestRequiresExistingAccessToken/Returns_500_when_public_dashboard_service_gives_an_error
--- PASS: TestRequiresExistingAccessToken (0.00s)
--- PASS: TestRequiresExistingAccessToken/Returns_200_when_public_dashboard_with_access_token_exists (0.00s)
--- PASS: TestRequiresExistingAccessToken/Returns_400_when_access_token_is_empty (0.00s)
--- PASS: TestRequiresExistingAccessToken/Returns_400_when_invalid_access_token (0.00s)
--- PASS: TestRequiresExistingAccessToken/Returns_404_when_public_dashboard_with_access_token_does_not_exist (0.00s)
--- PASS: TestRequiresExistingAccessToken/Returns_500_when_public_dashboard_service_gives_an_error (0.00s)
=== RUN   TestSetPublicDashboardOrgIdOnContext
=== RUN   TestSetPublicDashboardOrgIdOnContext/Adds_orgId_for_enabled_public_dashboard
=== RUN   TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_invalid_accessToken
=== RUN   TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_disabled_public_dashboard
=== RUN   TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_error_querying_public_dashboard
=== RUN   TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_missing_public_dashboard
--- PASS: TestSetPublicDashboardOrgIdOnContext (0.00s)
--- PASS: TestSetPublicDashboardOrgIdOnContext/Adds_orgId_for_enabled_public_dashboard (0.00s)
--- PASS: TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_invalid_accessToken (0.00s)
--- PASS: TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_disabled_public_dashboard (0.00s)
--- PASS: TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_error_querying_public_dashboard (0.00s)
--- PASS: TestSetPublicDashboardOrgIdOnContext/Does_not_set_orgId_or_fail_with_missing_public_dashboard (0.00s)
=== RUN   TestSetPublicDashboardFlag
=== RUN   TestSetPublicDashboardFlag/Adds_context.PublicDashboardAccessToken_to_request
--- PASS: TestSetPublicDashboardFlag (0.00s)
--- PASS: TestSetPublicDashboardFlag/Adds_context.PublicDashboardAccessToken_to_request (0.00s)
=== RUN   TestAPIViewPublicDashboard
=== RUN   TestAPIViewPublicDashboard/It_gets_a_public_dashboard
=== RUN   TestAPIViewPublicDashboard/It_should_return_404_if_no_public_dashboard
=== RUN   TestAPIViewPublicDashboard/It_should_return_400_if_it_is_an_invalid_access_token
--- PASS: TestAPIViewPublicDashboard (0.00s)
--- PASS: TestAPIViewPublicDashboard/It_gets_a_public_dashboard (0.00s)
--- PASS: TestAPIViewPublicDashboard/It_should_return_404_if_no_public_dashboard (0.00s)
--- PASS: TestAPIViewPublicDashboard/It_should_return_400_if_it_is_an_invalid_access_token (0.00s)
=== RUN   TestAPIQueryPublicDashboard
=== RUN   TestAPIQueryPublicDashboard/Status_code_is_400_when_the_panel_ID_is_invalid
=== RUN   TestAPIQueryPublicDashboard/Status_code_is_400_when_the_access_token_is_invalid
=== RUN   TestAPIQueryPublicDashboard/Status_code_is_400_when_the_intervalMS_is_lesser_than_0
=== RUN   TestAPIQueryPublicDashboard/Status_code_is_400_when_the_maxDataPoints_is_lesser_than_0
=== RUN   TestAPIQueryPublicDashboard/Returns_query_data_when_feature_toggle_is_enabled
=== RUN   TestAPIQueryPublicDashboard/Status_code_is_500_when_the_query_fails
--- PASS: TestAPIQueryPublicDashboard (0.00s)
--- PASS: TestAPIQueryPublicDashboard/Status_code_is_400_when_the_panel_ID_is_invalid (0.00s)
--- PASS: TestAPIQueryPublicDashboard/Status_code_is_400_when_the_access_token_is_invalid (0.00s)
--- PASS: TestAPIQueryPublicDashboard/Status_code_is_400_when_the_intervalMS_is_lesser_than_0 (0.00s)
--- PASS: TestAPIQueryPublicDashboard/Status_code_is_400_when_the_maxDataPoints_is_lesser_than_0 (0.00s)
--- PASS: TestAPIQueryPublicDashboard/Returns_query_data_when_feature_toggle_is_enabled (0.00s)
--- PASS: TestAPIQueryPublicDashboard/Status_code_is_500_when_the_query_fails (0.00s)
=== RUN   TestIntegrationUnauthenticatedUserCanGetPubdashPanelQueryData
query_test.go:263: skipping integration test
--- SKIP: TestIntegrationUnauthenticatedUserCanGetPubdashPanelQueryData (0.00s)
=== RUN   TestAPIGetAnnotations
=== RUN   TestAPIGetAnnotations/will_return_success_when_there_is_no_error_and_to_and_from_are_provided
=== RUN   TestAPIGetAnnotations/will_return_500_when_service_returns_an_error
=== RUN   TestAPIGetAnnotations/will_return_400_when_has_an_incorrect_Access_Token
--- PASS: TestAPIGetAnnotations (0.00s)
--- PASS: TestAPIGetAnnotations/will_return_success_when_there_is_no_error_and_to_and_from_are_provided (0.00s)
--- PASS: TestAPIGetAnnotations/will_return_500_when_service_returns_an_error (0.00s)
--- PASS: TestAPIGetAnnotations/will_return_400_when_has_an_incorrect_Access_Token (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/api	(cached)
=== RUN   TestCanGetCompatibleDatasources
--- PASS: TestCanGetCompatibleDatasources (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/commands/generate_datasources	(cached)
=== RUN   TestLogPrefix
--- PASS: TestLogPrefix (0.00s)
=== RUN   TestIntegrationListPublicDashboard
database_test.go:46: skipping integration test
--- SKIP: TestIntegrationListPublicDashboard (0.00s)
=== RUN   TestIntegrationExistsEnabledByAccessToken
database_test.go:120: skipping integration test
--- SKIP: TestIntegrationExistsEnabledByAccessToken (0.00s)
=== RUN   TestIntegrationExistsEnabledByDashboardUid
database_test.go:192: skipping integration test
--- SKIP: TestIntegrationExistsEnabledByDashboardUid (0.00s)
=== RUN   TestIntegrationFindByDashboardUid
database_test.go:256: skipping integration test
--- SKIP: TestIntegrationFindByDashboardUid (0.00s)
=== RUN   TestIntegrationFindByAccessToken
database_test.go:323: skipping integration test
--- SKIP: TestIntegrationFindByAccessToken (0.00s)
=== RUN   TestIntegrationCreatePublicDashboard
database_test.go:391: skipping integration test
--- SKIP: TestIntegrationCreatePublicDashboard (0.00s)
=== RUN   TestIntegrationUpdatePublicDashboard
database_test.go:469: skipping integration test
--- SKIP: TestIntegrationUpdatePublicDashboard (0.00s)
=== RUN   TestIntegrationGetOrgIdByAccessToken
database_test.go:573: skipping integration test
--- SKIP: TestIntegrationGetOrgIdByAccessToken (0.00s)
=== RUN   TestIntegrationDelete
database_test.go:644: skipping integration test
--- SKIP: TestIntegrationDelete (0.00s)
=== RUN   TestDeleteByDashboardUIDs
=== RUN   TestDeleteByDashboardUIDs/returns_nil_when_dashboardUIDs_is_empty
=== RUN   TestDeleteByDashboardUIDs/deletes_public_dashboards_with_provided_dashboard_uids
--- PASS: TestDeleteByDashboardUIDs (0.28s)
--- PASS: TestDeleteByDashboardUIDs/returns_nil_when_dashboardUIDs_is_empty (0.28s)
--- PASS: TestDeleteByDashboardUIDs/deletes_public_dashboards_with_provided_dashboard_uids (0.00s)
=== RUN   TestGetMetrics
database_test.go:737: skipping integration test
--- SKIP: TestGetMetrics (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/database	(cached)
?   	github.com/grafana/grafana/pkg/services/publicdashboards/internal	[no test files]
?   	github.com/grafana/grafana/pkg/services/publicdashboards/metric	[no test files]
=== RUN   TestPublicDashboardTableName
--- PASS: TestPublicDashboardTableName (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/models	(cached)
=== RUN   TestGetQueryDataResponse
=== RUN   TestGetQueryDataResponse/Returns_query_data_even_when_the_query_is_hidden
--- PASS: TestGetQueryDataResponse (0.28s)
--- PASS: TestGetQueryDataResponse/Returns_query_data_even_when_the_query_is_hidden (0.00s)
=== RUN   TestFindAnnotations
=== RUN   TestFindAnnotations/service_identity_has_correct_permissions_to_get_annotations_dashboards_and_query_datasources
=== RUN   TestFindAnnotations/Test_events_from_tag_queries_overwrite_built-in_annotation_queries_and_duplicate_events_are_not_returned
=== RUN   TestFindAnnotations/Test_panelId_set_to_zero_when_annotation_event_is_for_a_tags_query
=== RUN   TestFindAnnotations/Test_can_get_grafana_annotations_and_will_skip_annotation_queries_and_disabled_annotations
=== RUN   TestFindAnnotations/test_will_return_nothing_when_dashboard_has_no_annotations
=== RUN   TestFindAnnotations/test_will_return_nothing_when_pubdash_annotations_are_disabled
=== RUN   TestFindAnnotations/test_will_error_when_annotations_repo_returns_an_error
=== RUN   TestFindAnnotations/Test_find_annotations_does_not_panics_when_Target_in_datasource_is_nil
--- PASS: TestFindAnnotations (0.02s)
--- PASS: TestFindAnnotations/service_identity_has_correct_permissions_to_get_annotations_dashboards_and_query_datasources (0.00s)
--- PASS: TestFindAnnotations/Test_events_from_tag_queries_overwrite_built-in_annotation_queries_and_duplicate_events_are_not_returned (0.00s)
--- PASS: TestFindAnnotations/Test_panelId_set_to_zero_when_annotation_event_is_for_a_tags_query (0.00s)
--- PASS: TestFindAnnotations/Test_can_get_grafana_annotations_and_will_skip_annotation_queries_and_disabled_annotations (0.00s)
--- PASS: TestFindAnnotations/test_will_return_nothing_when_dashboard_has_no_annotations (0.00s)
--- PASS: TestFindAnnotations/test_will_return_nothing_when_pubdash_annotations_are_disabled (0.00s)
--- PASS: TestFindAnnotations/test_will_error_when_annotations_repo_returns_an_error (0.00s)
--- PASS: TestFindAnnotations/Test_find_annotations_does_not_panics_when_Target_in_datasource_is_nil (0.00s)
=== RUN   TestGetMetricRequest
=== RUN   TestGetMetricRequest/will_return_an_error_when_validation_fails
=== RUN   TestGetMetricRequest/will_not_return_an_error_when_validation_succeeds
--- PASS: TestGetMetricRequest (0.00s)
--- PASS: TestGetMetricRequest/will_return_an_error_when_validation_fails (0.00s)
--- PASS: TestGetMetricRequest/will_not_return_an_error_when_validation_succeeds (0.00s)
=== RUN   TestBuildMetricRequest
=== RUN   TestBuildMetricRequest/extracts_queries_from_provided_dashboard
=== RUN   TestBuildMetricRequest/returns_an_error_when_panel_missing
=== RUN   TestBuildMetricRequest/metric_request_built_with_hidden_query
--- PASS: TestBuildMetricRequest (0.00s)
--- PASS: TestBuildMetricRequest/extracts_queries_from_provided_dashboard (0.00s)
--- PASS: TestBuildMetricRequest/returns_an_error_when_panel_missing (0.00s)
--- PASS: TestBuildMetricRequest/metric_request_built_with_hidden_query (0.00s)
=== RUN   TestGroupQueriesByPanelId
=== RUN   TestGroupQueriesByPanelId/can_extract_queries_from_dashboard_with_panel_datasource_string_that_has_no_datasource_on_panel_targets
=== RUN   TestGroupQueriesByPanelId/will_delete_exemplar_property_from_target_if_exists
=== RUN   TestGroupQueriesByPanelId/can_extract_queries_from_dashboard_with_panel_json_datasource_that_has_no_datasource_on_panel_targets
=== RUN   TestGroupQueriesByPanelId/can_extract_no_queries_from_empty_dashboard
=== RUN   TestGroupQueriesByPanelId/can_extract_no_queries_from_empty_panel
=== RUN   TestGroupQueriesByPanelId/can_extract_queries_from_panels
=== RUN   TestGroupQueriesByPanelId/can_extract_queries_from_old-style_panels
=== RUN   TestGroupQueriesByPanelId/hidden_queries_in_a_panel_with_an_expression_not_filtered
=== RUN   TestGroupQueriesByPanelId/all_hidden_queries_in_a_panel_with_an_expression_not_filtered
=== RUN   TestGroupQueriesByPanelId/queries_inside_panels_inside_rows_are_returned
=== RUN   TestGroupQueriesByPanelId/hidden_queries_are_not_returned
--- PASS: TestGroupQueriesByPanelId (0.00s)
--- PASS: TestGroupQueriesByPanelId/can_extract_queries_from_dashboard_with_panel_datasource_string_that_has_no_datasource_on_panel_targets (0.00s)
--- PASS: TestGroupQueriesByPanelId/will_delete_exemplar_property_from_target_if_exists (0.00s)
--- PASS: TestGroupQueriesByPanelId/can_extract_queries_from_dashboard_with_panel_json_datasource_that_has_no_datasource_on_panel_targets (0.00s)
--- PASS: TestGroupQueriesByPanelId/can_extract_no_queries_from_empty_dashboard (0.00s)
--- PASS: TestGroupQueriesByPanelId/can_extract_no_queries_from_empty_panel (0.00s)
--- PASS: TestGroupQueriesByPanelId/can_extract_queries_from_panels (0.00s)
--- PASS: TestGroupQueriesByPanelId/can_extract_queries_from_old-style_panels (0.00s)
--- PASS: TestGroupQueriesByPanelId/hidden_queries_in_a_panel_with_an_expression_not_filtered (0.00s)
--- PASS: TestGroupQueriesByPanelId/all_hidden_queries_in_a_panel_with_an_expression_not_filtered (0.00s)
--- PASS: TestGroupQueriesByPanelId/queries_inside_panels_inside_rows_are_returned (0.00s)
--- PASS: TestGroupQueriesByPanelId/hidden_queries_are_not_returned (0.00s)
=== RUN   TestGroupQueriesByDataSource
=== RUN   TestGroupQueriesByDataSource/can_divide_queries_by_datasource
--- PASS: TestGroupQueriesByDataSource (0.00s)
--- PASS: TestGroupQueriesByDataSource/can_divide_queries_by_datasource (0.00s)
=== RUN   TestSanitizeMetadataFromQueryData
=== RUN   TestSanitizeMetadataFromQueryData/can_remove_ExecutedQueryString_from_metadata
--- PASS: TestSanitizeMetadataFromQueryData (0.00s)
--- PASS: TestSanitizeMetadataFromQueryData/can_remove_ExecutedQueryString_from_metadata (0.00s)
=== RUN   TestBuildTimeSettings
=== RUN   TestBuildTimeSettings/should_return_default_time_range_with_timezone_with_relative_time_range
=== RUN   TestBuildTimeSettings/should_return_default_time_range_with_UTC_timezone_with_relative_time_range_with_unknown_timezone
=== RUN   TestBuildTimeSettings/should_return_default_time_range_with_timezone_with_relative_time_range_if_time_selection_is_not_enabled
=== RUN   TestBuildTimeSettings/should_return_user_time_range_with_dashboard_timezone_with_relative_time_range
=== RUN   TestBuildTimeSettings/should_return_user_time_range_with_dashboard_timezone_with_relative_time_range_for_the_last_hour
=== RUN   TestBuildTimeSettings/should_use_dashboard_time_if_pubdash_time_empty
=== RUN   TestBuildTimeSettings/should_use_dashboard_time_when_time_selection_is_disabled
=== RUN   TestBuildTimeSettings/should_use_selected_values_if_time_selection_is_enabled
=== RUN   TestBuildTimeSettings/should_use_default_values_if_time_selection_is_enabled_but_the_time_range_is_empty
=== RUN   TestBuildTimeSettings/should_use_panel_relative_time_when_time_selection_is_disabled
=== RUN   TestBuildTimeSettings/should_use_selected_values_if_time_selection_is_enabled_for_panels_with_relative_time_set
--- PASS: TestBuildTimeSettings (0.12s)
--- PASS: TestBuildTimeSettings/should_return_default_time_range_with_timezone_with_relative_time_range (0.00s)
--- PASS: TestBuildTimeSettings/should_return_default_time_range_with_UTC_timezone_with_relative_time_range_with_unknown_timezone (0.00s)
--- PASS: TestBuildTimeSettings/should_return_default_time_range_with_timezone_with_relative_time_range_if_time_selection_is_not_enabled (0.00s)
--- PASS: TestBuildTimeSettings/should_return_user_time_range_with_dashboard_timezone_with_relative_time_range (0.00s)
--- PASS: TestBuildTimeSettings/should_return_user_time_range_with_dashboard_timezone_with_relative_time_range_for_the_last_hour (0.00s)
--- PASS: TestBuildTimeSettings/should_use_dashboard_time_if_pubdash_time_empty (0.04s)
--- PASS: TestBuildTimeSettings/should_use_dashboard_time_when_time_selection_is_disabled (0.00s)
--- PASS: TestBuildTimeSettings/should_use_selected_values_if_time_selection_is_enabled (0.00s)
--- PASS: TestBuildTimeSettings/should_use_default_values_if_time_selection_is_enabled_but_the_time_range_is_empty (0.00s)
--- PASS: TestBuildTimeSettings/should_use_panel_relative_time_when_time_selection_is_disabled (0.00s)
--- PASS: TestBuildTimeSettings/should_use_selected_values_if_time_selection_is_enabled_for_panels_with_relative_time_set (0.00s)
=== RUN   TestLogPrefix
--- PASS: TestLogPrefix (0.00s)
=== RUN   TestGetPublicDashboardForView
=== RUN   TestGetPublicDashboardForView/returns_a_dashboard_with_the_time_picker_shown
=== RUN   TestGetPublicDashboardForView/returns_a_dashboard_with_the_time_picker_hidden
--- PASS: TestGetPublicDashboardForView (0.01s)
--- PASS: TestGetPublicDashboardForView/returns_a_dashboard_with_the_time_picker_shown (0.00s)
--- PASS: TestGetPublicDashboardForView/returns_a_dashboard_with_the_time_picker_hidden (0.00s)
=== RUN   TestGetPublicDashboard
=== RUN   TestGetPublicDashboard/returns_a_dashboard
=== RUN   TestGetPublicDashboard/returns_dashboard_when_isEnabled_is_false
=== RUN   TestGetPublicDashboard/returns_ErrPublicDashboardNotFound_if_PublicDashboard_missing
=== RUN   TestGetPublicDashboard/returns_ErrPublicDashboardNotFound_if_Dashboard_missing
--- PASS: TestGetPublicDashboard (0.01s)
--- PASS: TestGetPublicDashboard/returns_a_dashboard (0.00s)
--- PASS: TestGetPublicDashboard/returns_dashboard_when_isEnabled_is_false (0.00s)
--- PASS: TestGetPublicDashboard/returns_ErrPublicDashboardNotFound_if_PublicDashboard_missing (0.00s)
--- PASS: TestGetPublicDashboard/returns_ErrPublicDashboardNotFound_if_Dashboard_missing (0.00s)
=== RUN   TestGetEnabledPublicDashboard
=== RUN   TestGetEnabledPublicDashboard/returns_a_dashboard
=== RUN   TestGetEnabledPublicDashboard/returns_ErrPublicDashboardNotFound_when_isEnabled_is_false
--- PASS: TestGetEnabledPublicDashboard (0.01s)
--- PASS: TestGetEnabledPublicDashboard/returns_a_dashboard (0.00s)
--- PASS: TestGetEnabledPublicDashboard/returns_ErrPublicDashboardNotFound_when_isEnabled_is_false (0.00s)
=== RUN   TestCreatePublicDashboard
=== RUN   TestCreatePublicDashboard/Create_public_dashboard
=== RUN   TestCreatePublicDashboard/Create_public_dashboard_with_isEnabled_null_boolean_fields_stores_them_as_false
=== RUN   TestCreatePublicDashboard/Create_public_dashboard_with_timeSelectionEnabled_null_boolean_fields_stores_them_as_false
=== RUN   TestCreatePublicDashboard/Create_public_dashboard_with_annotationsEnabled_null_boolean_fields_stores_them_as_false
=== RUN   TestCreatePublicDashboard/Create_public_dashboard_with_isEnabled,_timeSelectionEnabled_and_annotationsEnabled_null_boolean_fields_stores_them_as_false
=== RUN   TestCreatePublicDashboard/Validate_pubdash_has_default_time_setting_value
=== RUN   TestCreatePublicDashboard/Creates_pubdash_whose_dashboard_has_template_variables_successfully
=== RUN   TestCreatePublicDashboard/Throws_an_error_when_given_pubdash_uid_already_exists
=== RUN   TestCreatePublicDashboard/Create_public_dashboard_with_given_pubdash_uid
=== RUN   TestCreatePublicDashboard/Throws_an_error_when_pubdash_with_given_access_token_input_already_exists
=== RUN   TestCreatePublicDashboard/Create_public_dashboard_with_given_pubdash_access_token
=== RUN   TestCreatePublicDashboard/Throws_an_error_when_pubdash_with_generated_access_token_already_exists
=== RUN   TestCreatePublicDashboard/Returns_error_if_public_dashboard_exists
=== RUN   TestCreatePublicDashboard/Validate_pubdash_has_default_share_value
--- PASS: TestCreatePublicDashboard (0.05s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard (0.00s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard_with_isEnabled_null_boolean_fields_stores_them_as_false (0.00s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard_with_timeSelectionEnabled_null_boolean_fields_stores_them_as_false (0.00s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard_with_annotationsEnabled_null_boolean_fields_stores_them_as_false (0.00s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard_with_isEnabled,_timeSelectionEnabled_and_annotationsEnabled_null_boolean_fields_stores_them_as_false (0.00s)
--- PASS: TestCreatePublicDashboard/Validate_pubdash_has_default_time_setting_value (0.00s)
--- PASS: TestCreatePublicDashboard/Creates_pubdash_whose_dashboard_has_template_variables_successfully (0.00s)
--- PASS: TestCreatePublicDashboard/Throws_an_error_when_given_pubdash_uid_already_exists (0.00s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard_with_given_pubdash_uid (0.00s)
--- PASS: TestCreatePublicDashboard/Throws_an_error_when_pubdash_with_given_access_token_input_already_exists (0.00s)
--- PASS: TestCreatePublicDashboard/Create_public_dashboard_with_given_pubdash_access_token (0.00s)
--- PASS: TestCreatePublicDashboard/Throws_an_error_when_pubdash_with_generated_access_token_already_exists (0.00s)
--- PASS: TestCreatePublicDashboard/Returns_error_if_public_dashboard_exists (0.00s)
--- PASS: TestCreatePublicDashboard/Validate_pubdash_has_default_share_value (0.00s)
=== RUN   TestUpdatePublicDashboard
=== RUN   TestUpdatePublicDashboard/Updating_public_dashboard
=== RUN   TestUpdatePublicDashboard/Updating_set_empty_time_settings
=== RUN   TestUpdatePublicDashboard/Should_fail_when_public_dashboard_uid_does_not_match_dashboard_uid
=== RUN   TestUpdatePublicDashboard/Updating_not_existent_dashboard
=== RUN   TestUpdatePublicDashboard/Update_public_dashboard_with_isEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value
=== RUN   TestUpdatePublicDashboard/Update_public_dashboard_with_timeSelectionEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value
=== RUN   TestUpdatePublicDashboard/Update_public_dashboard_with_annotationsEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value
=== RUN   TestUpdatePublicDashboard/Update_public_dashboard_with_isEnabled,_timeSelectionEnabled_and_annotationsEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value
--- PASS: TestUpdatePublicDashboard (0.03s)
--- PASS: TestUpdatePublicDashboard/Updating_public_dashboard (0.00s)
--- PASS: TestUpdatePublicDashboard/Updating_set_empty_time_settings (0.00s)
--- PASS: TestUpdatePublicDashboard/Should_fail_when_public_dashboard_uid_does_not_match_dashboard_uid (0.00s)
--- PASS: TestUpdatePublicDashboard/Updating_not_existent_dashboard (0.00s)
--- PASS: TestUpdatePublicDashboard/Update_public_dashboard_with_isEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value (0.00s)
--- PASS: TestUpdatePublicDashboard/Update_public_dashboard_with_timeSelectionEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value (0.00s)
--- PASS: TestUpdatePublicDashboard/Update_public_dashboard_with_annotationsEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value (0.00s)
--- PASS: TestUpdatePublicDashboard/Update_public_dashboard_with_isEnabled,_timeSelectionEnabled_and_annotationsEnabled_null_boolean_fields_let_those_fields_with_old_persisted_value (0.00s)
=== RUN   TestDeletePublicDashboard
=== RUN   TestDeletePublicDashboard/Successfully_deletes_a_public_dashboard
=== RUN   TestDeletePublicDashboard/Public_dashboard_not_found
=== RUN   TestDeletePublicDashboard/Public_dashboard_not_found_by_UID
=== RUN   TestDeletePublicDashboard/Public_dashboard_UID_does_not_belong_to_the_dashboard
=== RUN   TestDeletePublicDashboard/Failed_to_delete_-_Database_error
--- PASS: TestDeletePublicDashboard (0.01s)
--- PASS: TestDeletePublicDashboard/Successfully_deletes_a_public_dashboard (0.00s)
--- PASS: TestDeletePublicDashboard/Public_dashboard_not_found (0.00s)
--- PASS: TestDeletePublicDashboard/Public_dashboard_not_found_by_UID (0.00s)
--- PASS: TestDeletePublicDashboard/Public_dashboard_UID_does_not_belong_to_the_dashboard (0.00s)
--- PASS: TestDeletePublicDashboard/Failed_to_delete_-_Database_error (0.00s)
=== RUN   TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints
=== RUN   TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_original_interval
=== RUN   TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_safe_interval_because_of_a_small_interval
=== RUN   TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_safe_interval_for_long_time_range
=== RUN   TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_safe_interval_when_reqDTO_is_empty
--- PASS: TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints (0.00s)
--- PASS: TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_original_interval (0.00s)
--- PASS: TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_safe_interval_because_of_a_small_interval (0.00s)
--- PASS: TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_safe_interval_for_long_time_range (0.00s)
--- PASS: TestPublicDashboardServiceImpl_getSafeIntervalAndMaxDataPoints/return_safe_interval_when_reqDTO_is_empty (0.00s)
=== RUN   TestDashboardEnabledChanged
=== RUN   TestDashboardEnabledChanged/created_isEnabled:_false
=== RUN   TestDashboardEnabledChanged/created_isEnabled:_true
=== RUN   TestDashboardEnabledChanged/updated_isEnabled_same
=== RUN   TestDashboardEnabledChanged/updated_isEnabled_changed
--- PASS: TestDashboardEnabledChanged (0.00s)
--- PASS: TestDashboardEnabledChanged/created_isEnabled:_false (0.00s)
--- PASS: TestDashboardEnabledChanged/created_isEnabled:_true (0.00s)
--- PASS: TestDashboardEnabledChanged/updated_isEnabled_same (0.00s)
--- PASS: TestDashboardEnabledChanged/updated_isEnabled_changed (0.00s)
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_full_response_when_user_has_access_to_all_dashboards
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_only_return_the_one_dashboard_user_2_has_access_to
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_full_response_when_user_3_has_specific_access_to_all_dashboards
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_an_empty_response_for_a_user_with_no_access
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_correct_pagination_response_if_limited
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_correct_page
=== RUN   TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_error_when_store_returns_error
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards (0.01s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_full_response_when_user_has_access_to_all_dashboards (0.00s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_only_return_the_one_dashboard_user_2_has_access_to (0.00s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_full_response_when_user_3_has_specific_access_to_all_dashboards (0.00s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_an_empty_response_for_a_user_with_no_access (0.00s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_correct_pagination_response_if_limited (0.00s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_correct_page (0.00s)
--- PASS: TestPublicDashboardServiceImpl_ListPublicDashboards/should_return_error_when_store_returns_error (0.00s)
=== RUN   TestPublicDashboardServiceImpl_NewPublicDashboardUid
=== RUN   TestPublicDashboardServiceImpl_NewPublicDashboardUid/should_return_a_new_uid
=== RUN   TestPublicDashboardServiceImpl_NewPublicDashboardUid/should_return_an_error_if_the_generated_uid_exists_3_times
--- PASS: TestPublicDashboardServiceImpl_NewPublicDashboardUid (0.00s)
--- PASS: TestPublicDashboardServiceImpl_NewPublicDashboardUid/should_return_a_new_uid (0.00s)
--- PASS: TestPublicDashboardServiceImpl_NewPublicDashboardUid/should_return_an_error_if_the_generated_uid_exists_3_times (0.00s)
=== RUN   TestPublicDashboardServiceImpl_NewPublicDashboardAccessToken
=== RUN   TestPublicDashboardServiceImpl_NewPublicDashboardAccessToken/should_return_a_new_access_token
=== RUN   TestPublicDashboardServiceImpl_NewPublicDashboardAccessToken/should_return_an_error_if_the_generated_access_token_exists_3_times
--- PASS: TestPublicDashboardServiceImpl_NewPublicDashboardAccessToken (0.00s)
--- PASS: TestPublicDashboardServiceImpl_NewPublicDashboardAccessToken/should_return_a_new_access_token (0.00s)
--- PASS: TestPublicDashboardServiceImpl_NewPublicDashboardAccessToken/should_return_an_error_if_the_generated_access_token_exists_3_times (0.00s)
=== RUN   TestGenerateAccessToken
=== RUN   TestGenerateAccessToken/length
=== RUN   TestGenerateAccessToken/no_-_
--- PASS: TestGenerateAccessToken (0.00s)
--- PASS: TestGenerateAccessToken/length (0.00s)
--- PASS: TestGenerateAccessToken/no_-_ (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/service	(cached)
=== RUN   TestIntervalCalculator_Calculate
=== RUN   TestIntervalCalculator_Calculate/from_5m_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_5m_to_now_and_500_resolution
=== RUN   TestIntervalCalculator_Calculate/from_15m_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_15m_to_now_and_100_resolution
=== RUN   TestIntervalCalculator_Calculate/from_30m_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_30m_to_now_and_3000_resolution
=== RUN   TestIntervalCalculator_Calculate/from_1h_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_1h_to_now_and_1000_resoluion
--- PASS: TestIntervalCalculator_Calculate (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_5m_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_5m_to_now_and_500_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_15m_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_15m_to_now_and_100_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_30m_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_30m_to_now_and_3000_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_1h_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_1h_to_now_and_1000_resoluion (0.00s)
=== RUN   TestIntervalCalculator_CalculateSafeInterval
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_5m_to_now
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_15m_to_now
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_30m_to_now
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_24h_to_now
--- PASS: TestIntervalCalculator_CalculateSafeInterval (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_5m_to_now (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_15m_to_now (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_30m_to_now (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_24h_to_now (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/service/intervalv2	(cached)
=== RUN   TestValidatePublicDashboard
=== RUN   TestValidatePublicDashboard/Returns_no_error_when_valid_shareType_value_is_received
=== RUN   TestValidatePublicDashboard/Returns_error_when_invalid_shareType_value
--- PASS: TestValidatePublicDashboard (0.00s)
--- PASS: TestValidatePublicDashboard/Returns_no_error_when_valid_shareType_value_is_received (0.00s)
--- PASS: TestValidatePublicDashboard/Returns_error_when_invalid_shareType_value (0.00s)
=== RUN   TestValidateQueryPublicDashboardRequest
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_no_error_when_input_is_valid
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_no_error_when_input_is_valid_and_time_selection_is_disabled
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_intervalMs_is_less_than_0
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_maxDataPoints_is_less_than_0
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_time_range_from_is_invalid
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_time_range_to_is_invalid
=== RUN   TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_time_range_from_or_to_is_blank
--- PASS: TestValidateQueryPublicDashboardRequest (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_no_error_when_input_is_valid (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_no_error_when_input_is_valid_and_time_selection_is_disabled (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_intervalMs_is_less_than_0 (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_maxDataPoints_is_less_than_0 (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_time_range_from_is_invalid (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_time_range_to_is_invalid (0.00s)
--- PASS: TestValidateQueryPublicDashboardRequest/Returns_validation_error_when_time_range_from_or_to_is_blank (0.00s)
=== RUN   TestValidAccessToken
=== RUN   TestValidAccessToken/true
=== RUN   TestValidAccessToken/false_when_blank
=== RUN   TestValidAccessToken/false_when_can't_be_parsed_by_uuid_lib
--- PASS: TestValidAccessToken (0.00s)
--- PASS: TestValidAccessToken/true (0.00s)
--- PASS: TestValidAccessToken/false_when_blank (0.00s)
--- PASS: TestValidAccessToken/false_when_can't_be_parsed_by_uuid_lib (0.00s)
=== RUN   TestValidUid
=== RUN   TestValidUid/true
=== RUN   TestValidUid/false_when_blank
=== RUN   TestValidUid/false_when_invalid_chars
--- PASS: TestValidUid (0.00s)
--- PASS: TestValidUid/true (0.00s)
--- PASS: TestValidUid/false_when_blank (0.00s)
--- PASS: TestValidUid/false_when_invalid_chars (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/publicdashboards/validation	(cached)
=== RUN   TestParseMetricRequest
=== RUN   TestParseMetricRequest/Test_a_simple_single_datasource_query
=== RUN   TestParseMetricRequest/Test_a_single_datasource_query_with_expressions
=== RUN   TestParseMetricRequest/Test_a_single_datasource_query_with_expressions/Should_forward_user_and_org_ID_to_QueryData_from_expression_request
=== RUN   TestParseMetricRequest/Test_a_simple_mixed_datasource_query
=== RUN   TestParseMetricRequest/Test_a_mixed_datasource_query_with_expressions
=== RUN   TestParseMetricRequest/Header_validation
=== RUN   TestParseMetricRequest/Test_a_duplicated_refId
--- PASS: TestParseMetricRequest (0.31s)
--- PASS: TestParseMetricRequest/Test_a_simple_single_datasource_query (0.29s)
--- PASS: TestParseMetricRequest/Test_a_single_datasource_query_with_expressions (0.00s)
--- PASS: TestParseMetricRequest/Test_a_single_datasource_query_with_expressions/Should_forward_user_and_org_ID_to_QueryData_from_expression_request (0.00s)
--- PASS: TestParseMetricRequest/Test_a_simple_mixed_datasource_query (0.00s)
--- PASS: TestParseMetricRequest/Test_a_mixed_datasource_query_with_expressions (0.00s)
--- PASS: TestParseMetricRequest/Header_validation (0.01s)
--- PASS: TestParseMetricRequest/Test_a_duplicated_refId (0.00s)
=== RUN   TestQueryDataMultipleSources
=== RUN   TestQueryDataMultipleSources/can_query_multiple_datasources
=== RUN   TestQueryDataMultipleSources/can_query_multiple_datasources_with_an_expression_present
=== RUN   TestQueryDataMultipleSources/error_is_returned_in_query_when_one_of_the_queries_fails
=== RUN   TestQueryDataMultipleSources/ignores_a_deprecated_datasourceID
--- PASS: TestQueryDataMultipleSources (0.01s)
--- PASS: TestQueryDataMultipleSources/can_query_multiple_datasources (0.00s)
--- PASS: TestQueryDataMultipleSources/can_query_multiple_datasources_with_an_expression_present (0.00s)
--- PASS: TestQueryDataMultipleSources/error_is_returned_in_query_when_one_of_the_queries_fails (0.00s)
--- PASS: TestQueryDataMultipleSources/ignores_a_deprecated_datasourceID (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/query	(cached)
=== RUN   TestIntegrationCreateQueryInQueryHistory
queryhistory_create_test.go:13: skipping integration test
--- SKIP: TestIntegrationCreateQueryInQueryHistory (0.00s)
=== RUN   TestIntegrationDeleteStaleQueryFromQueryHistory
queryhistory_delete_stale_test.go:15: skipping integration test
--- SKIP: TestIntegrationDeleteStaleQueryFromQueryHistory (0.00s)
=== RUN   TestIntegrationDeleteQueryFromQueryHistory
queryhistory_delete_test.go:15: skipping integration test
--- SKIP: TestIntegrationDeleteQueryFromQueryHistory (0.00s)
=== RUN   TestQueryHistoryDetails
=== RUN   TestQueryHistoryDetails/should_return_error_when_json_is_invalid
=== RUN   TestQueryHistoryDetails/should_return_no_error_when_data_source_uid_is_missing
=== RUN   TestQueryHistoryDetails/should_return_no_error_when_data_source_property_is_missing
=== RUN   TestQueryHistoryDetails/should_find_data_source_uids_in_mixed_queries
=== RUN   TestQueryHistoryDetails/should_find_data_source_uids_in_non-mixed_queries
=== RUN   TestQueryHistoryDetails/should_remove_duplicated_uids
--- PASS: TestQueryHistoryDetails (0.00s)
--- PASS: TestQueryHistoryDetails/should_return_error_when_json_is_invalid (0.00s)
--- PASS: TestQueryHistoryDetails/should_return_no_error_when_data_source_uid_is_missing (0.00s)
--- PASS: TestQueryHistoryDetails/should_return_no_error_when_data_source_property_is_missing (0.00s)
--- PASS: TestQueryHistoryDetails/should_find_data_source_uids_in_mixed_queries (0.00s)
--- PASS: TestQueryHistoryDetails/should_find_data_source_uids_in_non-mixed_queries (0.00s)
--- PASS: TestQueryHistoryDetails/should_remove_duplicated_uids (0.00s)
=== RUN   TestIntegrationEnforceRowLimitInQueryHistory
queryhistory_enforce_limit_test.go:12: skipping integration test
--- SKIP: TestIntegrationEnforceRowLimitInQueryHistory (0.00s)
=== RUN   TestIntegrationPatchQueryCommentInQueryHistory
queryhistory_patch_test.go:13: skipping integration test
--- SKIP: TestIntegrationPatchQueryCommentInQueryHistory (0.00s)
=== RUN   TestIntegrationGetQueriesFromQueryHistory
queryhistory_search_test.go:13: skipping integration test
--- SKIP: TestIntegrationGetQueriesFromQueryHistory (0.00s)
=== RUN   TestIntegrationStarQueryInQueryHistory
queryhistory_star_test.go:13: skipping integration test
--- SKIP: TestIntegrationStarQueryInQueryHistory (0.00s)
=== RUN   TestIntegrationUnstarQueryInQueryHistory
queryhistory_unstar_test.go:13: skipping integration test
--- SKIP: TestIntegrationUnstarQueryInQueryHistory (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/queryhistory	(cached)
?   	github.com/grafana/grafana/pkg/services/quota	[no test files]
=== RUN   TestQuotaService
=== RUN   TestQuotaService/delete_quota
--- PASS: TestQuotaService (0.00s)
--- PASS: TestQuotaService/delete_quota (0.00s)
=== RUN   TestIntegrationQuotaCommandsAndQueries
quota_test.go:78: skipping integration test
--- SKIP: TestIntegrationQuotaCommandsAndQueries (0.00s)
=== RUN   TestIntegrationQuotaDataAccess
store_test.go:20: skipping integration test
--- SKIP: TestIntegrationQuotaDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/quota/quotaimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/quota/quotatest	[no test files]
=== RUN   TestCapabilities
=== RUN   TestCapabilities/when_image-renderer_plugin_is_not_available
=== RUN   TestCapabilities/when_image-renderer_plugin_version_is_not_populated
=== RUN   TestCapabilities/when_image-renderer_plugin_version_is_not_valid
=== RUN   TestCapabilities/when_image-renderer_version_does_not_match_target_constraint
=== RUN   TestCapabilities/when_image-renderer_version_matches_target_constraint
=== RUN   TestCapabilities/when_capability_is_unknown
=== RUN   TestCapabilities/when_capability_has_invalid_semver_constraint
--- PASS: TestCapabilities (0.00s)
--- PASS: TestCapabilities/when_image-renderer_plugin_is_not_available (0.00s)
--- PASS: TestCapabilities/when_image-renderer_plugin_version_is_not_populated (0.00s)
--- PASS: TestCapabilities/when_image-renderer_plugin_version_is_not_valid (0.00s)
--- PASS: TestCapabilities/when_image-renderer_version_does_not_match_target_constraint (0.00s)
--- PASS: TestCapabilities/when_image-renderer_version_matches_target_constraint (0.00s)
--- PASS: TestCapabilities/when_capability_is_unknown (0.00s)
--- PASS: TestCapabilities/when_capability_has_invalid_semver_constraint (0.00s)
=== RUN   TestGetUrl
=== RUN   TestGetUrl/When_renderer_and_callback_url_configured_should_return_callback_url_plus_path
=== RUN   TestGetUrl/When_callback_url_is_configured_and_https_should_return_domain_of_callback_url_plus_path
=== RUN   TestGetUrl/When_renderer_url_not_configured
=== RUN   TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTP_configured_should_return_expected_path
=== RUN   TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTP_configured_should_return_expected_path/And_serve_from_sub_path_should_return_expected_path
=== RUN   TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTPS_configured_should_return_expected_path
=== RUN   TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTP2_configured_should_return_expected_path
--- PASS: TestGetUrl (0.00s)
--- PASS: TestGetUrl/When_renderer_and_callback_url_configured_should_return_callback_url_plus_path (0.00s)
--- PASS: TestGetUrl/When_callback_url_is_configured_and_https_should_return_domain_of_callback_url_plus_path (0.00s)
--- PASS: TestGetUrl/When_renderer_url_not_configured (0.00s)
--- PASS: TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTP_configured_should_return_expected_path (0.00s)
--- PASS: TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTP_configured_should_return_expected_path/And_serve_from_sub_path_should_return_expected_path (0.00s)
--- PASS: TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTPS_configured_should_return_expected_path (0.00s)
--- PASS: TestGetUrl/When_renderer_url_not_configured/And_protocol_HTTP2_configured_should_return_expected_path (0.00s)
=== RUN   TestRenderErrorImage
=== RUN   TestRenderErrorImage/No_theme_set_returns_error_image_with_dark_theme
=== RUN   TestRenderErrorImage/Timeout_error_returns_timeout_error_image
=== RUN   TestRenderErrorImage/Generic_error_returns_error_image
=== RUN   TestRenderErrorImage/Unknown_image_path_returns_error
--- PASS: TestRenderErrorImage (0.00s)
--- PASS: TestRenderErrorImage/No_theme_set_returns_error_image_with_dark_theme (0.00s)
--- PASS: TestRenderErrorImage/Timeout_error_returns_timeout_error_image (0.00s)
--- PASS: TestRenderErrorImage/Generic_error_returns_error_image (0.00s)
--- PASS: TestRenderErrorImage/Unknown_image_path_returns_error (0.00s)
=== RUN   TestRenderUnavailableError
--- PASS: TestRenderUnavailableError (0.00s)
=== RUN   TestRenderLimitImage
=== RUN   TestRenderLimitImage/Light_theme_returns_light_image
=== RUN   TestRenderLimitImage/Dark_theme_returns_dark_image
=== RUN   TestRenderLimitImage/No_theme_returns_dark_image
--- PASS: TestRenderLimitImage (0.00s)
--- PASS: TestRenderLimitImage/Light_theme_returns_light_image (0.00s)
--- PASS: TestRenderLimitImage/Dark_theme_returns_dark_image (0.00s)
--- PASS: TestRenderLimitImage/No_theme_returns_dark_image (0.00s)
=== RUN   TestRenderLimitImageError
--- PASS: TestRenderLimitImageError (0.00s)
=== RUN   TestRenderingServiceGetRemotePluginVersion
=== RUN   TestRenderingServiceGetRemotePluginVersion/When_renderer_responds_with_correct_version_should_return_that_version
=== RUN   TestRenderingServiceGetRemotePluginVersion/When_renderer_responds_with_404_should_assume_a_valid_but_old_version
=== RUN   TestRenderingServiceGetRemotePluginVersion/When_renderer_responds_with_500_should_retry_until_success
--- PASS: TestRenderingServiceGetRemotePluginVersion (0.01s)
--- PASS: TestRenderingServiceGetRemotePluginVersion/When_renderer_responds_with_correct_version_should_return_that_version (0.00s)
--- PASS: TestRenderingServiceGetRemotePluginVersion/When_renderer_responds_with_404_should_assume_a_valid_but_old_version (0.00s)
--- PASS: TestRenderingServiceGetRemotePluginVersion/When_renderer_responds_with_500_should_retry_until_success (0.01s)
=== RUN   TestProvideService
=== RUN   TestProvideService/Default_configuration_values
=== RUN   TestProvideService/RendererURL_is_set_but_not_RendererCallbackUrl
=== RUN   TestProvideService/RendererURL_and_RendererCallbackUrl_are_set
=== RUN   TestProvideService/RendererURL_is_not_set_but_RendererCallbackUrl_is_set
=== RUN   TestProvideService/RendererCallbackURL_is_missing_trailing_slash
=== RUN   TestProvideService/RendererCallbackURL_is_invalid
--- PASS: TestProvideService (0.00s)
--- PASS: TestProvideService/Default_configuration_values (0.00s)
--- PASS: TestProvideService/RendererURL_is_set_but_not_RendererCallbackUrl (0.00s)
--- PASS: TestProvideService/RendererURL_and_RendererCallbackUrl_are_set (0.00s)
--- PASS: TestProvideService/RendererURL_is_not_set_but_RendererCallbackUrl_is_set (0.00s)
--- PASS: TestProvideService/RendererCallbackURL_is_missing_trailing_slash (0.00s)
--- PASS: TestProvideService/RendererCallbackURL_is_invalid (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/rendering	0.317s
=== RUN   TestInmemCacheService
--- PASS: TestInmemCacheService (1.00s)
=== RUN   TestScreenshotOptions
--- PASS: TestScreenshotOptions (0.00s)
=== RUN   TestScreenshotOptions_Hash
--- PASS: TestScreenshotOptions_Hash (0.00s)
=== RUN   TestTokenRateLimiter
--- PASS: TestTokenRateLimiter (0.00s)
=== RUN   TestHeadlessScreenshotService
--- PASS: TestHeadlessScreenshotService (0.00s)
=== RUN   TestNoOpScreenshotService
--- PASS: TestNoOpScreenshotService (0.00s)
=== RUN   TestScreenshotUnavailableService
--- PASS: TestScreenshotUnavailableService (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/screenshot	(cached)
=== RUN   TestSearch_SortedResults
--- PASS: TestSearch_SortedResults (0.00s)
=== RUN   TestSearch_StarredResults
--- PASS: TestSearch_StarredResults (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/search	(cached)
?   	github.com/grafana/grafana/pkg/services/search/model	[no test files]
?   	github.com/grafana/grafana/pkg/services/search/sort	[no test files]
=== RUN   TestAllowedActionsForPermissionsWithScopeAll
--- PASS: TestAllowedActionsForPermissionsWithScopeAll (0.00s)
=== RUN   TestDashboardIndex
=== RUN   TestDashboardIndex/basic-search
=== RUN   TestDashboardIndex/basic-filter
--- PASS: TestDashboardIndex (0.01s)
--- PASS: TestDashboardIndex/basic-search (0.00s)
--- PASS: TestDashboardIndex/basic-filter (0.00s)
=== RUN   TestDashboardIndexUpdates
=== RUN   TestDashboardIndexUpdates/dashboard-delete
=== RUN   TestDashboardIndexUpdates/dashboard-create
=== RUN   TestDashboardIndexUpdates/dashboard-update
--- PASS: TestDashboardIndexUpdates (0.01s)
--- PASS: TestDashboardIndexUpdates/dashboard-delete (0.00s)
--- PASS: TestDashboardIndexUpdates/dashboard-create (0.00s)
--- PASS: TestDashboardIndexUpdates/dashboard-update (0.00s)
=== RUN   TestDashboardIndexSort
=== RUN   TestDashboardIndexSort/sort-asc
=== RUN   TestDashboardIndexSort/sort-desc
--- PASS: TestDashboardIndexSort (0.00s)
--- PASS: TestDashboardIndexSort/sort-asc (0.00s)
--- PASS: TestDashboardIndexSort/sort-desc (0.00s)
=== RUN   TestDashboardIndex_PrefixSearch
=== RUN   TestDashboardIndex_PrefixSearch/prefix-search-beginning
=== RUN   TestDashboardIndex_PrefixSearch/prefix-search-middle
=== RUN   TestDashboardIndex_PrefixSearch/prefix-search-beginning-lower
=== RUN   TestDashboardIndex_PrefixSearch/prefix-search-middle-lower
--- PASS: TestDashboardIndex_PrefixSearch (0.01s)
--- PASS: TestDashboardIndex_PrefixSearch/prefix-search-beginning (0.00s)
--- PASS: TestDashboardIndex_PrefixSearch/prefix-search-middle (0.00s)
--- PASS: TestDashboardIndex_PrefixSearch/prefix-search-beginning-lower (0.00s)
--- PASS: TestDashboardIndex_PrefixSearch/prefix-search-middle-lower (0.00s)
=== RUN   TestDashboardIndex_MultipleTokensInRow
=== RUN   TestDashboardIndex_MultipleTokensInRow/multiple-tokens-beginning
=== RUN   TestDashboardIndex_MultipleTokensInRow/multiple-tokens-beginning-lower
=== RUN   TestDashboardIndex_MultipleTokensInRow/multiple-tokens-middle
=== RUN   TestDashboardIndex_MultipleTokensInRow/multiple-tokens-middle-lower
--- PASS: TestDashboardIndex_MultipleTokensInRow (0.01s)
--- PASS: TestDashboardIndex_MultipleTokensInRow/multiple-tokens-beginning (0.00s)
--- PASS: TestDashboardIndex_MultipleTokensInRow/multiple-tokens-beginning-lower (0.00s)
--- PASS: TestDashboardIndex_MultipleTokensInRow/multiple-tokens-middle (0.00s)
--- PASS: TestDashboardIndex_MultipleTokensInRow/multiple-tokens-middle-lower (0.00s)
=== RUN   TestDashboardIndex_PrefixNgramExceeded
=== RUN   TestDashboardIndex_PrefixNgramExceeded/prefix-search-ngram-exceeded
--- PASS: TestDashboardIndex_PrefixNgramExceeded (0.00s)
--- PASS: TestDashboardIndex_PrefixNgramExceeded/prefix-search-ngram-exceeded (0.00s)
=== RUN   TestDashboardIndex_MultipleTokensScattered
=== RUN   TestDashboardIndex_MultipleTokensScattered/scattered-tokens-match
=== RUN   TestDashboardIndex_MultipleTokensScattered/scattered-tokens-match-reversed
--- PASS: TestDashboardIndex_MultipleTokensScattered (0.01s)
--- PASS: TestDashboardIndex_MultipleTokensScattered/scattered-tokens-match (0.00s)
--- PASS: TestDashboardIndex_MultipleTokensScattered/scattered-tokens-match-reversed (0.00s)
=== RUN   TestDashboardIndex_Folders
=== RUN   TestDashboardIndex_Folders/folders-indexed
=== RUN   TestDashboardIndex_Folders/folders-dashboard-has-folder
=== RUN   TestDashboardIndex_Folders/folders-dashboard-removed-on-folder-removed
=== RUN   TestDashboardIndex_Folders/folders-panels-removed-on-folder-removed
--- PASS: TestDashboardIndex_Folders (0.01s)
--- PASS: TestDashboardIndex_Folders/folders-indexed (0.00s)
--- PASS: TestDashboardIndex_Folders/folders-dashboard-has-folder (0.00s)
--- PASS: TestDashboardIndex_Folders/folders-dashboard-removed-on-folder-removed (0.00s)
--- PASS: TestDashboardIndex_Folders/folders-panels-removed-on-folder-removed (0.00s)
=== RUN   TestDashboardIndex_Panels
=== RUN   TestDashboardIndex_Panels/panels-indexed
=== RUN   TestDashboardIndex_Panels/panels-panel-removed-on-dashboard-removed
--- PASS: TestDashboardIndex_Panels (0.01s)
--- PASS: TestDashboardIndex_Panels/panels-indexed (0.00s)
--- PASS: TestDashboardIndex_Panels/panels-panel-removed-on-dashboard-removed (0.00s)
=== RUN   TestDashboardIndex_PunctuationNgram
=== RUN   TestDashboardIndex_PunctuationNgram/ngram-punctuation-split
=== RUN   TestDashboardIndex_PunctuationNgram/ngram-simple
--- PASS: TestDashboardIndex_PunctuationNgram (0.01s)
--- PASS: TestDashboardIndex_PunctuationNgram/ngram-punctuation-split (0.00s)
--- PASS: TestDashboardIndex_PunctuationNgram/ngram-simple (0.00s)
=== RUN   TestDashboardIndex_CamelCaseNgram
=== RUN   TestDashboardIndex_CamelCaseNgram/ngram-camel-case-split
--- PASS: TestDashboardIndex_CamelCaseNgram (0.00s)
--- PASS: TestDashboardIndex_CamelCaseNgram/ngram-camel-case-split (0.00s)
=== RUN   TestDashboardIndex_MultiTermPrefixMatch
=== RUN   TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-1-[Prometheus_2.]
=== RUN   TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-2-[Prome]
=== RUN   TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-3-[Prometheus_stat]
=== RUN   TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-4-[Loki_2.]
=== RUN   TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-5-[Lok]
=== RUN   TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-6-[Loki_stats]
--- PASS: TestDashboardIndex_MultiTermPrefixMatch (0.02s)
--- PASS: TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-1-[Prometheus_2.] (0.01s)
--- PASS: TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-2-[Prome] (0.00s)
--- PASS: TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-3-[Prometheus_stat] (0.00s)
--- PASS: TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-4-[Loki_2.] (0.00s)
--- PASS: TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-5-[Lok] (0.00s)
--- PASS: TestDashboardIndex_MultiTermPrefixMatch/ordering-tests-6-[Loki_stats] (0.00s)
=== RUN   Test_punctuationCharFilter_Filter
=== RUN   Test_punctuationCharFilter_Filter/1
=== RUN   Test_punctuationCharFilter_Filter/2
=== RUN   Test_punctuationCharFilter_Filter/3
--- PASS: Test_punctuationCharFilter_Filter (0.00s)
--- PASS: Test_punctuationCharFilter_Filter/1 (0.00s)
--- PASS: Test_punctuationCharFilter_Filter/2 (0.00s)
--- PASS: Test_punctuationCharFilter_Filter/3 (0.00s)
=== RUN   TestNgramIndexAnalyzer
--- PASS: TestNgramIndexAnalyzer (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/searchV2	0.502s
?   	github.com/grafana/grafana/pkg/services/searchusers	[no test files]
?   	github.com/grafana/grafana/pkg/services/searchusers/filters	[no test files]
?   	github.com/grafana/grafana/pkg/services/searchusers/sortopts	[no test files]
?   	github.com/grafana/grafana/pkg/services/secrets	[no test files]
?   	github.com/grafana/grafana/pkg/services/secrets/database	[no test files]
?   	github.com/grafana/grafana/pkg/services/secrets/fakes	[no test files]
=== RUN   TestSecretsKVStoreSQL
=== RUN   TestSecretsKVStoreSQL/get_existing_keys
=== RUN   TestSecretsKVStoreSQL/get_nonexistent_keys
=== RUN   TestSecretsKVStoreSQL/modify_existing_key
=== RUN   TestSecretsKVStoreSQL/use_fixed_client
namespace1 0 testing1
=== RUN   TestSecretsKVStoreSQL/deleting_keys
=== RUN   TestSecretsKVStoreSQL/listing_existing_keys
=== RUN   TestSecretsKVStoreSQL/getting_all_secrets
--- PASS: TestSecretsKVStoreSQL (0.61s)
--- PASS: TestSecretsKVStoreSQL/get_existing_keys (0.01s)
--- PASS: TestSecretsKVStoreSQL/get_nonexistent_keys (0.00s)
--- PASS: TestSecretsKVStoreSQL/modify_existing_key (0.01s)
--- PASS: TestSecretsKVStoreSQL/use_fixed_client (0.01s)
--- PASS: TestSecretsKVStoreSQL/deleting_keys (0.00s)
--- PASS: TestSecretsKVStoreSQL/listing_existing_keys (0.03s)
--- PASS: TestSecretsKVStoreSQL/getting_all_secrets (0.05s)
PASS
ok  	github.com/grafana/grafana/pkg/services/secrets/kvstore	(cached)
=== RUN   TestMigrate
=== RUN   TestMigrate/should_migrate_from_legacy_to_unified_without_compatibility
=== RUN   TestMigrate/should_migrate_from_legacy_to_unified_with_compatibility
=== RUN   TestMigrate/should_replicate_from_unified_to_legacy_for_compatibility
=== RUN   TestMigrate/should_delete_from_legacy_to_remove_compatibility
--- PASS: TestMigrate (0.46s)
--- PASS: TestMigrate/should_migrate_from_legacy_to_unified_without_compatibility (0.36s)
--- PASS: TestMigrate/should_migrate_from_legacy_to_unified_with_compatibility (0.03s)
--- PASS: TestMigrate/should_replicate_from_unified_to_legacy_for_compatibility (0.04s)
--- PASS: TestMigrate/should_delete_from_legacy_to_remove_compatibility (0.04s)
PASS
ok  	github.com/grafana/grafana/pkg/services/secrets/kvstore/migrations	(cached)
=== RUN   TestSecretsService_EnvelopeEncryption
=== RUN   TestSecretsService_EnvelopeEncryption/encrypting_with_no_entity_id_should_create_DEK
=== RUN   TestSecretsService_EnvelopeEncryption/encrypting_another_secret_with_no_entity_id_should_use_the_same_DEK
=== RUN   TestSecretsService_EnvelopeEncryption/encrypting_with_entity_id_provided_should_create_a_new_DEK
=== RUN   TestSecretsService_EnvelopeEncryption/usage_stats_should_be_registered
--- PASS: TestSecretsService_EnvelopeEncryption (0.36s)
--- PASS: TestSecretsService_EnvelopeEncryption/encrypting_with_no_entity_id_should_create_DEK (0.01s)
--- PASS: TestSecretsService_EnvelopeEncryption/encrypting_another_secret_with_no_entity_id_should_use_the_same_DEK (0.01s)
--- PASS: TestSecretsService_EnvelopeEncryption/encrypting_with_entity_id_provided_should_create_a_new_DEK (0.01s)
--- PASS: TestSecretsService_EnvelopeEncryption/usage_stats_should_be_registered (0.00s)
=== RUN   TestSecretsService_DataKeys
=== RUN   TestSecretsService_DataKeys/querying_for_a_DEK_that_does_not_exist
=== RUN   TestSecretsService_DataKeys/creating_an_active_DEK
=== RUN   TestSecretsService_DataKeys/creating_an_inactive_DEK
=== RUN   TestSecretsService_DataKeys/deleting_DEK_when_no_id_provided_must_fail
=== RUN   TestSecretsService_DataKeys/deleting_a_DEK
--- PASS: TestSecretsService_DataKeys (0.00s)
--- PASS: TestSecretsService_DataKeys/querying_for_a_DEK_that_does_not_exist (0.00s)
--- PASS: TestSecretsService_DataKeys/creating_an_active_DEK (0.00s)
--- PASS: TestSecretsService_DataKeys/creating_an_inactive_DEK (0.00s)
--- PASS: TestSecretsService_DataKeys/deleting_DEK_when_no_id_provided_must_fail (0.00s)
--- PASS: TestSecretsService_DataKeys/deleting_a_DEK (0.00s)
=== RUN   TestSecretsService_UseCurrentProvider
=== RUN   TestSecretsService_UseCurrentProvider/When_encryption_provider_is_not_specified_explicitly,_should_use_'secretKey'_as_a_current_provider
=== RUN   TestSecretsService_UseCurrentProvider/Should_use_encrypt/decrypt_methods_of_the_current_encryption_provider
--- PASS: TestSecretsService_UseCurrentProvider (0.01s)
--- PASS: TestSecretsService_UseCurrentProvider/When_encryption_provider_is_not_specified_explicitly,_should_use_'secretKey'_as_a_current_provider (0.00s)
--- PASS: TestSecretsService_UseCurrentProvider/Should_use_encrypt/decrypt_methods_of_the_current_encryption_provider (0.01s)
=== RUN   TestSecretsService_Run
=== RUN   TestSecretsService_Run/should_stop_with_no_error_once_the_context's_finished
=== RUN   TestSecretsService_Run/should_trigger_cache_clean_up
--- PASS: TestSecretsService_Run (1.02s)
--- PASS: TestSecretsService_Run/should_stop_with_no_error_once_the_context's_finished (0.00s)
--- PASS: TestSecretsService_Run/should_trigger_cache_clean_up (1.01s)
=== RUN   TestSecretsService_ReEncryptDataKeys
=== RUN   TestSecretsService_ReEncryptDataKeys/existing_key_should_be_re-encrypted
=== RUN   TestSecretsService_ReEncryptDataKeys/data_keys_cache_should_be_invalidated
--- PASS: TestSecretsService_ReEncryptDataKeys (0.03s)
--- PASS: TestSecretsService_ReEncryptDataKeys/existing_key_should_be_re-encrypted (0.01s)
--- PASS: TestSecretsService_ReEncryptDataKeys/data_keys_cache_should_be_invalidated (0.01s)
=== RUN   TestSecretsService_Decrypt
=== RUN   TestSecretsService_Decrypt/empty_payload_should_fail
=== RUN   TestSecretsService_Decrypt/ee_encrypted_payload_with_ee_disabled_should_fail
=== RUN   TestSecretsService_Decrypt/ee_encrypted_payload_with_providers_initialized_should_work
=== RUN   TestSecretsService_Decrypt/ee_encrypted_payload_with_ee_enabled_should_work
=== RUN   TestSecretsService_Decrypt/legacy_payload_should_always_work
--- PASS: TestSecretsService_Decrypt (0.03s)
--- PASS: TestSecretsService_Decrypt/empty_payload_should_fail (0.00s)
--- PASS: TestSecretsService_Decrypt/ee_encrypted_payload_with_ee_disabled_should_fail (0.01s)
--- PASS: TestSecretsService_Decrypt/ee_encrypted_payload_with_providers_initialized_should_work (0.01s)
--- PASS: TestSecretsService_Decrypt/ee_encrypted_payload_with_ee_enabled_should_work (0.01s)
--- PASS: TestSecretsService_Decrypt/legacy_payload_should_always_work (0.01s)
=== RUN   TestIntegration_SecretsService
manager_test.go:438: skipping integration test
--- SKIP: TestIntegration_SecretsService (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/secrets/manager	(cached)
?   	github.com/grafana/grafana/pkg/services/secrets/migrator	[no test files]
=== RUN   TestIsExternalServiceAccount
=== RUN   TestIsExternalServiceAccount/external_service_account
=== RUN   TestIsExternalServiceAccount/not_external_service_account_(too_short)
=== RUN   TestIsExternalServiceAccount/not_external_service_account_(wrong_sa_prefix)
=== RUN   TestIsExternalServiceAccount/not_external_service_account_(wrong_extsvc_prefix)
--- PASS: TestIsExternalServiceAccount (0.00s)
--- PASS: TestIsExternalServiceAccount/external_service_account (0.00s)
--- PASS: TestIsExternalServiceAccount/not_external_service_account_(too_short) (0.00s)
--- PASS: TestIsExternalServiceAccount/not_external_service_account_(wrong_sa_prefix) (0.00s)
--- PASS: TestIsExternalServiceAccount/not_external_service_account_(wrong_extsvc_prefix) (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts	(cached)
=== RUN   TestServiceAccountsAPI_CreateServiceAccount
=== RUN   TestServiceAccountsAPI_CreateServiceAccount/should_be_able_to_create_service_account_with_correct_permission
=== RUN   TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_without_permission
=== RUN   TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_with_role_that_has_higher_privilege_than_caller
=== RUN   TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_with_invalid_role
=== RUN   TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_with_missing_name
--- PASS: TestServiceAccountsAPI_CreateServiceAccount (0.00s)
--- PASS: TestServiceAccountsAPI_CreateServiceAccount/should_be_able_to_create_service_account_with_correct_permission (0.00s)
--- PASS: TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_without_permission (0.00s)
--- PASS: TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_with_role_that_has_higher_privilege_than_caller (0.00s)
--- PASS: TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_with_invalid_role (0.00s)
--- PASS: TestServiceAccountsAPI_CreateServiceAccount/should_not_be_able_to_create_service_account_with_missing_name (0.00s)
=== RUN   TestServiceAccountsAPI_DeleteServiceAccount
=== RUN   TestServiceAccountsAPI_DeleteServiceAccount/should_be_able_to_delete_service_account_with_correct_permission
=== RUN   TestServiceAccountsAPI_DeleteServiceAccount/should_not_ba_able_to_delete_with_wrong_permission
--- PASS: TestServiceAccountsAPI_DeleteServiceAccount (0.00s)
--- PASS: TestServiceAccountsAPI_DeleteServiceAccount/should_be_able_to_delete_service_account_with_correct_permission (0.00s)
--- PASS: TestServiceAccountsAPI_DeleteServiceAccount/should_not_ba_able_to_delete_with_wrong_permission (0.00s)
=== RUN   TestServiceAccountsAPI_RetrieveServiceAccount
=== RUN   TestServiceAccountsAPI_RetrieveServiceAccount/should_be_able_to_get_service_account_with_correct_permission
=== RUN   TestServiceAccountsAPI_RetrieveServiceAccount/should_not_ba_able_to_get_service_account_with_wrong_permission
--- PASS: TestServiceAccountsAPI_RetrieveServiceAccount (0.00s)
--- PASS: TestServiceAccountsAPI_RetrieveServiceAccount/should_be_able_to_get_service_account_with_correct_permission (0.00s)
--- PASS: TestServiceAccountsAPI_RetrieveServiceAccount/should_not_ba_able_to_get_service_account_with_wrong_permission (0.00s)
=== RUN   TestServiceAccountsAPI_UpdateServiceAccount
=== RUN   TestServiceAccountsAPI_UpdateServiceAccount/should_be_able_to_update_service_account_with_correct_permission
=== RUN   TestServiceAccountsAPI_UpdateServiceAccount/should_not_be_able_to_update_service_account_with_wrong_permission
=== RUN   TestServiceAccountsAPI_UpdateServiceAccount/should_not_be_able_to_update_service_account_with_a_role_that_has_higher_privilege_then_caller
=== RUN   TestServiceAccountsAPI_UpdateServiceAccount/should_not_be_able_to_update_service_account_with_invalid_role
--- PASS: TestServiceAccountsAPI_UpdateServiceAccount (0.00s)
--- PASS: TestServiceAccountsAPI_UpdateServiceAccount/should_be_able_to_update_service_account_with_correct_permission (0.00s)
--- PASS: TestServiceAccountsAPI_UpdateServiceAccount/should_not_be_able_to_update_service_account_with_wrong_permission (0.00s)
--- PASS: TestServiceAccountsAPI_UpdateServiceAccount/should_not_be_able_to_update_service_account_with_a_role_that_has_higher_privilege_then_caller (0.00s)
--- PASS: TestServiceAccountsAPI_UpdateServiceAccount/should_not_be_able_to_update_service_account_with_invalid_role (0.00s)
=== RUN   TestServiceAccountsAPI_MigrateApiKeysToServiceAccounts
=== RUN   TestServiceAccountsAPI_MigrateApiKeysToServiceAccounts/should_be_able_to_migrate_API_keys_to_service_accounts_with_correct_permissions
=== RUN   TestServiceAccountsAPI_MigrateApiKeysToServiceAccounts/should_not_be_able_to_migrate_API_keys_to_service_accounts_with_wrong_permissions
--- PASS: TestServiceAccountsAPI_MigrateApiKeysToServiceAccounts (0.00s)
--- PASS: TestServiceAccountsAPI_MigrateApiKeysToServiceAccounts/should_be_able_to_migrate_API_keys_to_service_accounts_with_correct_permissions (0.00s)
--- PASS: TestServiceAccountsAPI_MigrateApiKeysToServiceAccounts/should_not_be_able_to_migrate_API_keys_to_service_accounts_with_wrong_permissions (0.00s)
=== RUN   TestServiceAccountsAPI_ListTokens
=== RUN   TestServiceAccountsAPI_ListTokens/should_be_able_to_list_tokens_with_correct_permission
=== RUN   TestServiceAccountsAPI_ListTokens/should_not_be_able_to_list_tokens_with_wrong_permission
--- PASS: TestServiceAccountsAPI_ListTokens (0.00s)
--- PASS: TestServiceAccountsAPI_ListTokens/should_be_able_to_list_tokens_with_correct_permission (0.00s)
--- PASS: TestServiceAccountsAPI_ListTokens/should_not_be_able_to_list_tokens_with_wrong_permission (0.00s)
=== RUN   TestServiceAccountsAPI_CreateToken
=== RUN   TestServiceAccountsAPI_CreateToken/should_be_able_to_create_token_for_service_account_with_correct_permission
=== RUN   TestServiceAccountsAPI_CreateToken/should_not_be_able_to_create_token_for_service_account_with_wrong_permission
=== RUN   TestServiceAccountsAPI_CreateToken/should_not_be_able_to_create_token_for_service_account_that_dont_exists
=== RUN   TestServiceAccountsAPI_CreateToken/should_not_be_able_to_create_token_for_service_account_if_max_ttl_is_configured_but_not_set_in_body
--- PASS: TestServiceAccountsAPI_CreateToken (0.01s)
--- PASS: TestServiceAccountsAPI_CreateToken/should_be_able_to_create_token_for_service_account_with_correct_permission (0.01s)
--- PASS: TestServiceAccountsAPI_CreateToken/should_not_be_able_to_create_token_for_service_account_with_wrong_permission (0.00s)
--- PASS: TestServiceAccountsAPI_CreateToken/should_not_be_able_to_create_token_for_service_account_that_dont_exists (0.00s)
--- PASS: TestServiceAccountsAPI_CreateToken/should_not_be_able_to_create_token_for_service_account_if_max_ttl_is_configured_but_not_set_in_body (0.00s)
=== RUN   TestServiceAccountsAPI_DeleteToken
=== RUN   TestServiceAccountsAPI_DeleteToken/should_be_able_to_delete_service_account_token_with_correct_permission
=== RUN   TestServiceAccountsAPI_DeleteToken/should_not_be_able_to_delete_service_account_token_with_wrong_permission
=== RUN   TestServiceAccountsAPI_DeleteToken/should_not_be_able_to_delete_service_account_token_when_service_account_don't_exist
--- PASS: TestServiceAccountsAPI_DeleteToken (0.00s)
--- PASS: TestServiceAccountsAPI_DeleteToken/should_be_able_to_delete_service_account_token_with_correct_permission (0.00s)
--- PASS: TestServiceAccountsAPI_DeleteToken/should_not_be_able_to_delete_service_account_token_with_wrong_permission (0.00s)
--- PASS: TestServiceAccountsAPI_DeleteToken/should_not_be_able_to_delete_service_account_token_when_service_account_don't_exist (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts/api	(cached)
=== RUN   TestIntegrationStore_UsageStats
stats_test.go:18: skipping test in short mode
--- SKIP: TestIntegrationStore_UsageStats (0.00s)
=== RUN   TestIntegrationStore_CreateServiceAccountOrgNonExistant
store_test.go:33: skipping test in short mode
--- SKIP: TestIntegrationStore_CreateServiceAccountOrgNonExistant (0.00s)
=== RUN   TestIntegration_Store_CreateServiceAccount
=== RUN   TestIntegration_Store_CreateServiceAccount/create_service_account
=== RUN   TestIntegration_Store_CreateServiceAccount/create_service_account_twice_same_org,_error
=== RUN   TestIntegration_Store_CreateServiceAccount/create_service_account_twice_different_orgs_should_work
--- PASS: TestIntegration_Store_CreateServiceAccount (0.36s)
--- PASS: TestIntegration_Store_CreateServiceAccount/create_service_account (0.35s)
--- PASS: TestIntegration_Store_CreateServiceAccount/create_service_account_twice_same_org,_error (0.00s)
--- PASS: TestIntegration_Store_CreateServiceAccount/create_service_account_twice_different_orgs_should_work (0.00s)
=== RUN   TestIntegrationStore_CreateServiceAccountRoleNone
store_test.go:174: skipping test in short mode
--- SKIP: TestIntegrationStore_CreateServiceAccountRoleNone (0.00s)
=== RUN   TestIntegrationStore_DeleteServiceAccount
store_test.go:213: skipping test in short mode
--- SKIP: TestIntegrationStore_DeleteServiceAccount (0.00s)
=== RUN   TestIntegrationStore_RetrieveServiceAccount
store_test.go:265: skipping test in short mode
--- SKIP: TestIntegrationStore_RetrieveServiceAccount (0.00s)
=== RUN   TestIntegrationStore_MigrateApiKeys
store_test.go:324: skipping test in short mode
--- SKIP: TestIntegrationStore_MigrateApiKeys (0.00s)
=== RUN   TestIntegrationStore_MigrateAllApiKeys
store_test.go:447: skipping test in short mode
--- SKIP: TestIntegrationStore_MigrateAllApiKeys (0.00s)
=== RUN   TestIntegrationServiceAccountsStoreImpl_SearchOrgServiceAccounts
store_test.go:567: skipping test in short mode
--- SKIP: TestIntegrationServiceAccountsStoreImpl_SearchOrgServiceAccounts (0.00s)
=== RUN   TestIntegrationServiceAccountsStoreImpl_EnableServiceAccounts
store_test.go:762: skipping test in short mode
--- SKIP: TestIntegrationServiceAccountsStoreImpl_EnableServiceAccounts (0.00s)
=== RUN   TestIntegration_Store_AddServiceAccountToken
=== RUN   TestIntegration_Store_AddServiceAccountToken/invalid
=== RUN   TestIntegration_Store_AddServiceAccountToken/no_expiry
=== RUN   TestIntegration_Store_AddServiceAccountToken/valid
--- PASS: TestIntegration_Store_AddServiceAccountToken (0.02s)
--- PASS: TestIntegration_Store_AddServiceAccountToken/invalid (0.01s)
--- PASS: TestIntegration_Store_AddServiceAccountToken/no_expiry (0.00s)
--- PASS: TestIntegration_Store_AddServiceAccountToken/valid (0.01s)
=== RUN   TestIntegration_Store_AddServiceAccountToken_WrongServiceAccount
--- PASS: TestIntegration_Store_AddServiceAccountToken_WrongServiceAccount (0.01s)
=== RUN   TestIntegration_Store_RevokeServiceAccountToken
--- PASS: TestIntegration_Store_RevokeServiceAccountToken (0.01s)
=== RUN   TestIntegration_Store_DeleteServiceAccountToken
--- PASS: TestIntegration_Store_DeleteServiceAccountToken (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts/database	(cached)
=== RUN   TestExtSvcAccountsService_ManageExtSvcAccount
=== RUN   TestExtSvcAccountsService_ManageExtSvcAccount/should_disable_service_account
=== RUN   TestExtSvcAccountsService_ManageExtSvcAccount/should_remove_service_account_when_no_permission
=== RUN   TestExtSvcAccountsService_ManageExtSvcAccount/should_create_new_service_account
=== RUN   TestExtSvcAccountsService_ManageExtSvcAccount/should_update_service_account
--- PASS: TestExtSvcAccountsService_ManageExtSvcAccount (0.00s)
--- PASS: TestExtSvcAccountsService_ManageExtSvcAccount/should_disable_service_account (0.00s)
--- PASS: TestExtSvcAccountsService_ManageExtSvcAccount/should_remove_service_account_when_no_permission (0.00s)
--- PASS: TestExtSvcAccountsService_ManageExtSvcAccount/should_create_new_service_account (0.00s)
--- PASS: TestExtSvcAccountsService_ManageExtSvcAccount/should_update_service_account (0.00s)
=== RUN   TestExtSvcAccountsService_SaveExternalService
=== RUN   TestExtSvcAccountsService_SaveExternalService/should_disable_service_account
=== RUN   TestExtSvcAccountsService_SaveExternalService/should_remove_service_account_when_no_permission
=== RUN   TestExtSvcAccountsService_SaveExternalService/should_create_new_service_account
=== RUN   TestExtSvcAccountsService_SaveExternalService/should_update_service_account
=== RUN   TestExtSvcAccountsService_SaveExternalService/should_recover_from_a_failed_token_encryption
--- PASS: TestExtSvcAccountsService_SaveExternalService (0.02s)
--- PASS: TestExtSvcAccountsService_SaveExternalService/should_disable_service_account (0.00s)
--- PASS: TestExtSvcAccountsService_SaveExternalService/should_remove_service_account_when_no_permission (0.00s)
--- PASS: TestExtSvcAccountsService_SaveExternalService/should_create_new_service_account (0.01s)
--- PASS: TestExtSvcAccountsService_SaveExternalService/should_update_service_account (0.00s)
--- PASS: TestExtSvcAccountsService_SaveExternalService/should_recover_from_a_failed_token_encryption (0.01s)
=== RUN   TestExtSvcAccountsService_RemoveExtSvcAccount
=== RUN   TestExtSvcAccountsService_RemoveExtSvcAccount/should_not_fail_if_the_service_account_does_not_exist
=== RUN   TestExtSvcAccountsService_RemoveExtSvcAccount/should_remove_service_account
--- PASS: TestExtSvcAccountsService_RemoveExtSvcAccount (0.00s)
--- PASS: TestExtSvcAccountsService_RemoveExtSvcAccount/should_not_fail_if_the_service_account_does_not_exist (0.00s)
--- PASS: TestExtSvcAccountsService_RemoveExtSvcAccount/should_remove_service_account (0.00s)
=== RUN   TestExtSvcAccountsService_GetExternalServiceNames
=== RUN   TestExtSvcAccountsService_GetExternalServiceNames/should_return_names
=== RUN   TestExtSvcAccountsService_GetExternalServiceNames/should_handle_nil_search
--- PASS: TestExtSvcAccountsService_GetExternalServiceNames (0.00s)
--- PASS: TestExtSvcAccountsService_GetExternalServiceNames/should_return_names (0.00s)
--- PASS: TestExtSvcAccountsService_GetExternalServiceNames/should_handle_nil_search (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts/extsvcaccounts	(cached)
=== RUN   TestProvideServiceAccount_DeleteServiceAccount
=== RUN   TestProvideServiceAccount_DeleteServiceAccount/should_create_service_account
=== RUN   TestProvideServiceAccount_DeleteServiceAccount/should_delete_service_account
--- PASS: TestProvideServiceAccount_DeleteServiceAccount (0.29s)
--- PASS: TestProvideServiceAccount_DeleteServiceAccount/should_create_service_account (0.00s)
--- PASS: TestProvideServiceAccount_DeleteServiceAccount/should_delete_service_account (0.00s)
=== RUN   Test_UsageStats
--- PASS: Test_UsageStats (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts/manager	(cached)
=== RUN   TestProvideServiceAccount_crudServiceAccount
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_create_service_account
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_create_service_account/should_create_service_account_and_not_return_error
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_create_service_account/should_not_allow_to_create_a_service_account_with_extsvc-_prefix
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_create_service_account/should_not_allow_to_create_a_service_account_with_extsvc_prefix
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_delete_service_account
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_delete_service_account/should_allow_to_delete_a_service_account
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_delete_service_account/should_not_allow_to_delete_a_service_account_with_sa-2-extsvc-_prefix
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_delete_service_account_token
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_delete_service_account_token/should_allow_to_delete_a_service_account_token
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_delete_service_account_token/should_not_allow_to_delete_a_external_service_account_token
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_retrieve_service_account_with_IsExternal_field
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_retrieve_service_account_with_IsExternal_field/should_not_mark_as_external
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_retrieve_service_account_with_IsExternal_field/should_mark_as_external
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_flag_external_service_accounts_correctly
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_update_service_account
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_update_a_non-external_service_account_with_a_valid_name
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_not_allow_to_update_a_non-external_service_account_with_extsvc_prefix
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_not_allow_to_update_an_external_service_account_with_a_valid_name
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_not_allow_to_update_an_external_service_account_with_a_extsvc_prefix
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_add_service_account_tokens
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_add_service_account_tokens/should_allow_to_create_a_service_account_token
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_add_service_account_tokens/should_not_allow_to_create_a_service_account_token
=== RUN   TestProvideServiceAccount_crudServiceAccount/should_identify_service_account_logins_for_being_external_or_not
--- PASS: TestProvideServiceAccount_crudServiceAccount (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_create_service_account (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_create_service_account/should_create_service_account_and_not_return_error (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_create_service_account/should_not_allow_to_create_a_service_account_with_extsvc-_prefix (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_create_service_account/should_not_allow_to_create_a_service_account_with_extsvc_prefix (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_delete_service_account (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_delete_service_account/should_allow_to_delete_a_service_account (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_delete_service_account/should_not_allow_to_delete_a_service_account_with_sa-2-extsvc-_prefix (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_delete_service_account_token (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_delete_service_account_token/should_allow_to_delete_a_service_account_token (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_delete_service_account_token/should_not_allow_to_delete_a_external_service_account_token (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_retrieve_service_account_with_IsExternal_field (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_retrieve_service_account_with_IsExternal_field/should_not_mark_as_external (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_retrieve_service_account_with_IsExternal_field/should_mark_as_external (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_flag_external_service_accounts_correctly (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_update_service_account (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_update_a_non-external_service_account_with_a_valid_name (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_not_allow_to_update_a_non-external_service_account_with_extsvc_prefix (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_not_allow_to_update_an_external_service_account_with_a_valid_name (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_update_service_account/should_not_allow_to_update_an_external_service_account_with_a_extsvc_prefix (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_add_service_account_tokens (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_add_service_account_tokens/should_allow_to_create_a_service_account_token (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_add_service_account_tokens/should_not_allow_to_create_a_service_account_token (0.00s)
--- PASS: TestProvideServiceAccount_crudServiceAccount/should_identify_service_account_logins_for_being_external_or_not (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts/proxy	(cached)
?   	github.com/grafana/grafana/pkg/services/serviceaccounts/retriever	[no test files]
=== RUN   TestService_CheckTokens
=== RUN   TestService_CheckTokens/no_tokens
=== RUN   TestService_CheckTokens/one_token_leaked_-_no_revoke,_no_notify
=== RUN   TestService_CheckTokens/one_token_leaked_-_revoke,_no_notify
=== RUN   TestService_CheckTokens/two_tokens_-_one_revoke,_notify
=== RUN   TestService_CheckTokens/one_token_already_revoked_should_not_be_checked
=== RUN   TestService_CheckTokens/one_token_expired_should_not_be_checked
--- PASS: TestService_CheckTokens (0.00s)
--- PASS: TestService_CheckTokens/no_tokens (0.00s)
--- PASS: TestService_CheckTokens/one_token_leaked_-_no_revoke,_no_notify (0.00s)
--- PASS: TestService_CheckTokens/one_token_leaked_-_revoke,_no_notify (0.00s)
--- PASS: TestService_CheckTokens/two_tokens_-_one_revoke,_notify (0.00s)
--- PASS: TestService_CheckTokens/one_token_already_revoked_should_not_be_checked (0.00s)
--- PASS: TestService_CheckTokens/one_token_expired_should_not_be_checked (0.00s)
=== RUN   TestService
--- PASS: TestService (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/serviceaccounts/secretscan	(cached)
?   	github.com/grafana/grafana/pkg/services/serviceaccounts/tests	[no test files]
?   	github.com/grafana/grafana/pkg/services/shorturls	[no test files]
=== RUN   TestShortURLService
=== RUN   TestShortURLService/User_can_create_and_read_short_URLs
=== RUN   TestShortURLService/User_can_create_and_read_short_URLs/and_update_last_seen_at
=== RUN   TestShortURLService/User_can_create_and_read_short_URLs/and_stale_short_urls_can_be_deleted
=== RUN   TestShortURLService/User_can_create_and_read_short_URLs/and_stale_short_urls_can_be_deleted/and_previously_accessed_short_urls_will_still_exist
=== RUN   TestShortURLService/User_can_create_and_read_short_URLs/and_stale_short_urls_can_be_deleted/and_no_action_when_no_stale_short_urls_exist
=== RUN   TestShortURLService/User_cannot_look_up_nonexistent_short_URLs
=== RUN   TestShortURLService/User_cannot_create_short_URLs_from_invalid_paths
=== RUN   TestShortURLService/The_same_URL_will_generate_different_entries
--- PASS: TestShortURLService (0.29s)
--- PASS: TestShortURLService/User_can_create_and_read_short_URLs (0.00s)
--- PASS: TestShortURLService/User_can_create_and_read_short_URLs/and_update_last_seen_at (0.00s)
--- PASS: TestShortURLService/User_can_create_and_read_short_URLs/and_stale_short_urls_can_be_deleted (0.00s)
--- PASS: TestShortURLService/User_can_create_and_read_short_URLs/and_stale_short_urls_can_be_deleted/and_previously_accessed_short_urls_will_still_exist (0.00s)
--- PASS: TestShortURLService/User_can_create_and_read_short_URLs/and_stale_short_urls_can_be_deleted/and_no_action_when_no_stale_short_urls_exist (0.00s)
--- PASS: TestShortURLService/User_cannot_look_up_nonexistent_short_URLs (0.00s)
--- PASS: TestShortURLService/User_cannot_create_short_URLs_from_invalid_paths (0.00s)
--- PASS: TestShortURLService/The_same_URL_will_generate_different_entries (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/shorturls/shorturlimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/signingkeys	[no test files]
=== RUN   TestEmbeddedKeyService_GetJWKS_OnlyPublicKeyShared
--- PASS: TestEmbeddedKeyService_GetJWKS_OnlyPublicKeyShared (0.00s)
=== RUN   TestEmbeddedKeyService_GetOrCreatePrivateKey
--- PASS: TestEmbeddedKeyService_GetOrCreatePrivateKey (0.00s)
=== RUN   TestExposeJWKS
--- PASS: TestExposeJWKS (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/signingkeys/signingkeysimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/signingkeys/signingkeystest	[no test files]
=== RUN   TestIntegrationSigningKeyStore
store_test.go:22: skipping integration test
--- SKIP: TestIntegrationSigningKeyStore (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/signingkeys/signingkeystore	(cached)
=== RUN   TestBatching
=== RUN   TestBatching/InBatches
=== RUN   TestBatching/InBatches/calls_fn_0_times_if_items_is_empty
=== RUN   TestBatching/InBatches/succeeds_if_batch_size_is_nonpositive
=== RUN   TestBatching/InBatches/rejects_if_items_is_not_a_slice
=== RUN   TestBatching/InBatches/calls_expected_number_of_times_when_batch_size_does_not_evenly_divide_length
--- PASS: TestBatching (0.00s)
--- PASS: TestBatching/InBatches (0.00s)
--- PASS: TestBatching/InBatches/calls_fn_0_times_if_items_is_empty (0.00s)
--- PASS: TestBatching/InBatches/succeeds_if_batch_size_is_nonpositive (0.00s)
--- PASS: TestBatching/InBatches/rejects_if_items_is_not_a_slice (0.00s)
--- PASS: TestBatching/InBatches/calls_expected_number_of_times_when_batch_size_does_not_evenly_divide_length (0.00s)
=== RUN   TestIntegrationBulkOps
bulk_test.go:65: skipping integration test
--- SKIP: TestIntegrationBulkOps (0.00s)
=== RUN   TestIntegrationSQLConnectionString
database_config_test.go:109: skipping integration test
--- SKIP: TestIntegrationSQLConnectionString (0.00s)
=== RUN   TestBuildConnectionStringPostgres
=== RUN   TestBuildConnectionStringPostgres/Postgres_with_sslmode_disable
=== RUN   TestBuildConnectionStringPostgres/Postgres_with_sslmode_verify-ca
=== RUN   TestBuildConnectionStringPostgres/Postgres_with_sslmode_verify-ca_without_SNI
=== RUN   TestBuildConnectionStringPostgres/Postgres_with_sslmode_verify-ca_with_SNI
--- PASS: TestBuildConnectionStringPostgres (0.00s)
--- PASS: TestBuildConnectionStringPostgres/Postgres_with_sslmode_disable (0.00s)
--- PASS: TestBuildConnectionStringPostgres/Postgres_with_sslmode_verify-ca (0.00s)
--- PASS: TestBuildConnectionStringPostgres/Postgres_with_sslmode_verify-ca_without_SNI (0.00s)
--- PASS: TestBuildConnectionStringPostgres/Postgres_with_sslmode_verify-ca_with_SNI (0.00s)
=== RUN   TestIntegration_RetryingDisabled
=== RUN   TestIntegration_RetryingDisabled/WithDbSession_should_return_the_error_immediately
=== RUN   TestIntegration_RetryingDisabled/WithDbSession_should_return_the_sqlite3.Error_database_is_locked_immediately
=== RUN   TestIntegration_RetryingDisabled/WithDbSession_should_return_the_sqlite3.Error_database_table_is_locked_immediately
=== RUN   TestIntegration_RetryingDisabled/WithDbSession_should_not_return_error_if_the_callback_succeeds
--- PASS: TestIntegration_RetryingDisabled (0.32s)
--- PASS: TestIntegration_RetryingDisabled/WithDbSession_should_return_the_error_immediately (0.00s)
--- PASS: TestIntegration_RetryingDisabled/WithDbSession_should_return_the_sqlite3.Error_database_is_locked_immediately (0.00s)
--- PASS: TestIntegration_RetryingDisabled/WithDbSession_should_return_the_sqlite3.Error_database_table_is_locked_immediately (0.00s)
--- PASS: TestIntegration_RetryingDisabled/WithDbSession_should_not_return_error_if_the_callback_succeeds (0.00s)
=== RUN   TestIntegration_RetryingOnFailures
=== RUN   TestIntegration_RetryingOnFailures/WithDbSession_should_return_the_error_immediately_if_it's_other_than_sqlite3.ErrLocked_or_sqlite3.ErrBusy
=== RUN   TestIntegration_RetryingOnFailures/WithDbSession_should_return_the_error_database_is_locked_if_all_retries_have_failed
=== RUN   TestIntegration_RetryingOnFailures/WithDbSession_should_return_the_error_database_table_is_locked_if_all_retries_have_failed
=== RUN   TestIntegration_RetryingOnFailures/WithDbSession_should_not_return_the_error_if_successive_retries_succeed
--- PASS: TestIntegration_RetryingOnFailures (0.46s)
--- PASS: TestIntegration_RetryingOnFailures/WithDbSession_should_return_the_error_immediately_if_it's_other_than_sqlite3.ErrLocked_or_sqlite3.ErrBusy (0.00s)
--- PASS: TestIntegration_RetryingOnFailures/WithDbSession_should_return_the_error_database_is_locked_if_all_retries_have_failed (0.15s)
--- PASS: TestIntegration_RetryingOnFailures/WithDbSession_should_return_the_error_database_table_is_locked_if_all_retries_have_failed (0.15s)
--- PASS: TestIntegration_RetryingOnFailures/WithDbSession_should_not_return_the_error_if_successive_retries_succeed (0.15s)
=== RUN   TestSQLStore_Metrics
--- PASS: TestSQLStore_Metrics (0.00s)
=== RUN   TestIntegrationIsUniqueConstraintViolation
=== RUN   TestIntegrationIsUniqueConstraintViolation/successfully_detect_primary_key_violations
=== RUN   TestIntegrationIsUniqueConstraintViolation/successfully_detect_unique_constrain_violations
--- PASS: TestIntegrationIsUniqueConstraintViolation (0.00s)
--- PASS: TestIntegrationIsUniqueConstraintViolation/successfully_detect_primary_key_violations (0.00s)
--- PASS: TestIntegrationIsUniqueConstraintViolation/successfully_detect_unique_constrain_violations (0.00s)
=== RUN   TestInitEngine_ParseTimeInConnectionString
=== RUN   TestInitEngine_ParseTimeInConnectionString/MySQL_with_parseTime_already_present
=== RUN   TestInitEngine_ParseTimeInConnectionString/MySQL_with_feature_enabled
=== RUN   TestInitEngine_ParseTimeInConnectionString/MySQL_with_feature_enabled#01
=== RUN   TestInitEngine_ParseTimeInConnectionString/Postgres
--- PASS: TestInitEngine_ParseTimeInConnectionString (0.00s)
--- PASS: TestInitEngine_ParseTimeInConnectionString/MySQL_with_parseTime_already_present (0.00s)
--- PASS: TestInitEngine_ParseTimeInConnectionString/MySQL_with_feature_enabled (0.00s)
--- PASS: TestInitEngine_ParseTimeInConnectionString/MySQL_with_feature_enabled#01 (0.00s)
--- PASS: TestInitEngine_ParseTimeInConnectionString/Postgres (0.00s)
=== RUN   TestIntegrationReuseSessionWithTransaction
transactions_test.go:14: skipping integration test
--- SKIP: TestIntegrationReuseSessionWithTransaction (0.00s)
=== RUN   TestIntegrationPublishAfterCommitWithNestedTransactions
transactions_test.go:73: skipping integration test
--- SKIP: TestIntegrationPublishAfterCommitWithNestedTransactions (0.00s)
=== RUN   TestIntegrationGetOrCreateOrg
user_test.go:15: Skipping integration test in short mode
--- SKIP: TestIntegrationGetOrCreateOrg (0.00s)
=== RUN   TestIntegrationTempDatabaseConnect
sqlstore_testinfra_test.go:22: skipping integration test
--- SKIP: TestIntegrationTempDatabaseConnect (0.00s)
=== RUN   TestIntegrationTempDatabaseOSSMigrate
sqlstore_testinfra_test.go:38: skipping integration test
--- SKIP: TestIntegrationTempDatabaseOSSMigrate (0.00s)
=== RUN   TestIntegrationUniqueConstraintViolation
sqlstore_testinfra_test.go:46: skipping integration test
--- SKIP: TestIntegrationUniqueConstraintViolation (0.00s)
=== RUN   TestIntegrationTruncateDatabase
sqlstore_testinfra_test.go:97: skipping integration test
--- SKIP: TestIntegrationTruncateDatabase (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore	(cached)
=== RUN   TestMigrations
--- PASS: TestMigrations (0.29s)
=== RUN   TestIntegrationMigrationLock
migrations_test.go:76: skipping integration test
--- SKIP: TestIntegrationMigrationLock (0.00s)
=== RUN   TestMigratorLocking
migrations_test.go:193:
--- SKIP: TestMigratorLocking (0.00s)
=== RUN   TestDatabaseLocking
migrations_test.go:240:
--- SKIP: TestDatabaseLocking (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/migrations	(cached)
=== RUN   TestBatch
=== RUN   TestBatch/empty
=== RUN   TestBatch/1_run_of_5
=== RUN   TestBatch/10_runs_of_5
=== RUN   TestBatch/unmatching_end
=== RUN   TestBatch/batch_bigger_than_count
--- PASS: TestBatch (0.00s)
--- PASS: TestBatch/empty (0.00s)
--- PASS: TestBatch/1_run_of_5 (0.00s)
--- PASS: TestBatch/10_runs_of_5 (0.00s)
--- PASS: TestBatch/unmatching_end (0.00s)
--- PASS: TestBatch/batch_bigger_than_count (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/migrations/accesscontrol	(cached)
=== RUN   TestActionMigration
=== RUN   TestActionMigration/empty_perms
=== RUN   TestActionMigration/no_permissions_with_legacy_names
=== RUN   TestActionMigration/some_permissions_with_legacy_names
=== RUN   TestActionMigration/permission_with_legacy_name_and_permission_with_new_name_with_the_same_role_ID_and_scope
=== RUN   TestActionMigration/permission_with_legacy_name_and_permission_with_new_name_with_different_role_ID_and_scope
=== RUN   TestActionMigration/permission_with_legacy_name_and_a_different_permission_with_new_name_with_the_same_role_ID_and_scope
--- PASS: TestActionMigration (0.29s)
--- PASS: TestActionMigration/empty_perms (0.01s)
--- PASS: TestActionMigration/no_permissions_with_legacy_names (0.01s)
--- PASS: TestActionMigration/some_permissions_with_legacy_names (0.01s)
--- PASS: TestActionMigration/permission_with_legacy_name_and_permission_with_new_name_with_the_same_role_ID_and_scope (0.01s)
--- PASS: TestActionMigration/permission_with_legacy_name_and_permission_with_new_name_with_different_role_ID_and_scope (0.01s)
--- PASS: TestActionMigration/permission_with_legacy_name_and_a_different_permission_with_new_name_with_the_same_role_ID_and_scope (0.01s)
=== RUN   TestActionSetMigration
=== RUN   TestActionSetMigration/empty_perms
=== RUN   TestActionSetMigration/dashboard_permissions_that_are_not_managed_don't_get_an_action_set
=== RUN   TestActionSetMigration/managed_permissions_that_are_not_dashboard_permissions_don't_get_an_action_set
=== RUN   TestActionSetMigration/managed_dash_viewer_gets_a_viewer_action_set
=== RUN   TestActionSetMigration/managed_dash_editor_gets_an_editor_action_set
=== RUN   TestActionSetMigration/managed_dash_admin_gets_an_admin_action_set
=== RUN   TestActionSetMigration/managed_folder_viewer_gets_a_viewer_action_set
=== RUN   TestActionSetMigration/managed_folder_editor_gets_an_editor_action_set
=== RUN   TestActionSetMigration/managed_folder_admin_gets_an_admin_action_set
=== RUN   TestActionSetMigration/can_add_action_sets_for_multiple_folders_and_dashboards_under_the_same_managed_permission
=== RUN   TestActionSetMigration/can_add_action_sets_for_multiple_managed_roles
=== RUN   TestActionSetMigration/can_handle_existing_action_sets
--- PASS: TestActionSetMigration (0.42s)
--- PASS: TestActionSetMigration/empty_perms (0.01s)
--- PASS: TestActionSetMigration/dashboard_permissions_that_are_not_managed_don't_get_an_action_set (0.01s)
--- PASS: TestActionSetMigration/managed_permissions_that_are_not_dashboard_permissions_don't_get_an_action_set (0.01s)
--- PASS: TestActionSetMigration/managed_dash_viewer_gets_a_viewer_action_set (0.01s)
--- PASS: TestActionSetMigration/managed_dash_editor_gets_an_editor_action_set (0.02s)
--- PASS: TestActionSetMigration/managed_dash_admin_gets_an_admin_action_set (0.02s)
--- PASS: TestActionSetMigration/managed_folder_viewer_gets_a_viewer_action_set (0.02s)
--- PASS: TestActionSetMigration/managed_folder_editor_gets_an_editor_action_set (0.02s)
--- PASS: TestActionSetMigration/managed_folder_admin_gets_an_admin_action_set (0.02s)
--- PASS: TestActionSetMigration/can_add_action_sets_for_multiple_folders_and_dashboards_under_the_same_managed_permission (0.02s)
--- PASS: TestActionSetMigration/can_add_action_sets_for_multiple_managed_roles (0.03s)
--- PASS: TestActionSetMigration/can_handle_existing_action_sets (0.01s)
=== RUN   TestAnnotationActionMigration
=== RUN   TestAnnotationActionMigration/empty_permissions_lead_to_empty_permissions
=== RUN   TestAnnotationActionMigration/adds_new_permissions_for_instances_without_basic_roles_(should_only_be_OSS_instances)
=== RUN   TestAnnotationActionMigration/doesn't_add_any_new_permissions_if_has_default_annotation_permissions_on_basic_roles_but_no_dashboard_or_folder_permissions
=== RUN   TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_dashboard_read_permissions
=== RUN   TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_dashboard_write_permissions
=== RUN   TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_folder_read_permissions
=== RUN   TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_folder_write_permissions
=== RUN   TestAnnotationActionMigration/adds_new_permissions_to_several_managed_roles_if_has_default_annotation_permissions_on_basic_roles_and_dashboard_read_permissions
=== RUN   TestAnnotationActionMigration/doesn't_add_any_new_permissions_if_annotation_permissions_are_missing_from_the_basic_roles
=== RUN   TestAnnotationActionMigration/doesn't_add_any_new_permissions_if_annotation_permissions_from_the_basic_roles_don't_have_the_dashboard_scope
=== RUN   TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_with_different_wildcard_scopes
--- PASS: TestAnnotationActionMigration (0.47s)
--- PASS: TestAnnotationActionMigration/empty_permissions_lead_to_empty_permissions (0.02s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_for_instances_without_basic_roles_(should_only_be_OSS_instances) (0.01s)
--- PASS: TestAnnotationActionMigration/doesn't_add_any_new_permissions_if_has_default_annotation_permissions_on_basic_roles_but_no_dashboard_or_folder_permissions (0.01s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_dashboard_read_permissions (0.01s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_dashboard_write_permissions (0.02s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_folder_read_permissions (0.02s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_on_basic_roles_and_folder_write_permissions (0.02s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_to_several_managed_roles_if_has_default_annotation_permissions_on_basic_roles_and_dashboard_read_permissions (0.02s)
--- PASS: TestAnnotationActionMigration/doesn't_add_any_new_permissions_if_annotation_permissions_are_missing_from_the_basic_roles (0.02s)
--- PASS: TestAnnotationActionMigration/doesn't_add_any_new_permissions_if_annotation_permissions_from_the_basic_roles_don't_have_the_dashboard_scope (0.02s)
--- PASS: TestAnnotationActionMigration/adds_new_permissions_if_has_default_annotation_permissions_with_different_wildcard_scopes (0.02s)
=== RUN   TestManagedPermissionsMigration
=== RUN   TestManagedPermissionsMigration/empty_perms
=== RUN   TestManagedPermissionsMigration/only_unrelated_perms
=== RUN   TestManagedPermissionsMigration/inherit_permissions_from_managed_role
--- PASS: TestManagedPermissionsMigration (0.25s)
--- PASS: TestManagedPermissionsMigration/empty_perms (0.01s)
--- PASS: TestManagedPermissionsMigration/only_unrelated_perms (0.01s)
--- PASS: TestManagedPermissionsMigration/inherit_permissions_from_managed_role (0.01s)
=== RUN   TestManagedPermissionsMigrationRunTwice
=== RUN   TestManagedPermissionsMigrationRunTwice/empty_perms
=== RUN   TestManagedPermissionsMigrationRunTwice/only_unrelated_perms
=== RUN   TestManagedPermissionsMigrationRunTwice/inherit_permissions_from_managed_role
--- PASS: TestManagedPermissionsMigrationRunTwice (0.28s)
--- PASS: TestManagedPermissionsMigrationRunTwice/empty_perms (0.01s)
--- PASS: TestManagedPermissionsMigrationRunTwice/only_unrelated_perms (0.02s)
--- PASS: TestManagedPermissionsMigrationRunTwice/inherit_permissions_from_managed_role (0.03s)
=== RUN   TestScopeMigration
=== RUN   TestScopeMigration/empty_perms
=== RUN   TestScopeMigration/no_permissions_with_alerting_instance_read_action
=== RUN   TestScopeMigration/has_permission_with_alerting_instance_read_action_and_folder_scope
=== RUN   TestScopeMigration/has_permission_with_alerting_instance_read_action_and_no_scope
--- PASS: TestScopeMigration (0.28s)
--- PASS: TestScopeMigration/empty_perms (0.01s)
--- PASS: TestScopeMigration/no_permissions_with_alerting_instance_read_action (0.01s)
--- PASS: TestScopeMigration/has_permission_with_alerting_instance_read_action_and_folder_scope (0.01s)
--- PASS: TestScopeMigration/has_permission_with_alerting_instance_read_action_and_no_scope (0.01s)
=== RUN   TestPreventOnCallAccessSeed
=== RUN   TestPreventOnCallAccessSeed/fresh_table_skip_migration
=== RUN   TestPreventOnCallAccessSeed/seeded_with_an_OnCall_access_already
=== RUN   TestPreventOnCallAccessSeed/seeded_without_any_OnCall_access
--- PASS: TestPreventOnCallAccessSeed (0.48s)
--- PASS: TestPreventOnCallAccessSeed/fresh_table_skip_migration (0.02s)
--- PASS: TestPreventOnCallAccessSeed/seeded_with_an_OnCall_access_already (0.02s)
--- PASS: TestPreventOnCallAccessSeed/seeded_without_any_OnCall_access (0.02s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/migrations/accesscontrol/test	(cached)
?   	github.com/grafana/grafana/pkg/services/sqlstore/migrations/anonservice	[no test files]
?   	github.com/grafana/grafana/pkg/services/sqlstore/migrations/externalsession	[no test files]
?   	github.com/grafana/grafana/pkg/services/sqlstore/migrations/signingkeys	[no test files]
?   	github.com/grafana/grafana/pkg/services/sqlstore/migrations/ssosettings	[no test files]
?   	github.com/grafana/grafana/pkg/services/sqlstore/migrations/ualert	[no test files]
=== RUN   TestScopeMigration
=== RUN   TestScopeMigration/convert_existing_alert.notifications.receivers:read_regardless_of_scope
=== RUN   TestScopeMigration/convert_existing_alert.notifications.receivers:read_regardless_of_scope#01
=== RUN   TestScopeMigration/empty_perms
=== RUN   TestScopeMigration/unrelated_perms
--- PASS: TestScopeMigration (0.30s)
--- PASS: TestScopeMigration/convert_existing_alert.notifications.receivers:read_regardless_of_scope (0.01s)
--- PASS: TestScopeMigration/convert_existing_alert.notifications.receivers:read_regardless_of_scope#01 (0.01s)
--- PASS: TestScopeMigration/empty_perms (0.01s)
--- PASS: TestScopeMigration/unrelated_perms (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/migrations/ualert/test	(cached)
?   	github.com/grafana/grafana/pkg/services/sqlstore/migrations/usermig	[no test files]
=== RUN   TestIntegrationServiceAccountMigration
service_account_test.go:19: skipping integration test in short mode
--- SKIP: TestIntegrationServiceAccountMigration (0.00s)
=== RUN   TestIntegrationServiceAccountDedupOrgMigration
service_account_test.go:291: skipping integration test in short mode
--- SKIP: TestIntegrationServiceAccountDedupOrgMigration (0.00s)
=== RUN   TestLowerCaseMigration
=== RUN   TestLowerCaseMigration/basic_case_updates_login_and_email_to_lowercase
=== RUN   TestLowerCaseMigration/2_users_with_same_login_one_already_has_lowercase_so_we_keep_both
=== RUN   TestLowerCaseMigration/2_users_with_same_login_one_already_has_lowercase_so_we_keep_both_case_for_uppercasing_comes_first_in_our_loop
=== RUN   TestLowerCaseMigration/2_users_with_same_email_one_already_has_lowercase_so_we_keep_both
=== RUN   TestLowerCaseMigration/2_users_with_same_login_noone_is_lowercased_we_pick_the_most_recent_user_to_lowercase
--- PASS: TestLowerCaseMigration (1.21s)
--- PASS: TestLowerCaseMigration/basic_case_updates_login_and_email_to_lowercase (0.23s)
--- PASS: TestLowerCaseMigration/2_users_with_same_login_one_already_has_lowercase_so_we_keep_both (0.22s)
--- PASS: TestLowerCaseMigration/2_users_with_same_login_one_already_has_lowercase_so_we_keep_both_case_for_uppercasing_comes_first_in_our_loop (0.22s)
--- PASS: TestLowerCaseMigration/2_users_with_same_email_one_already_has_lowercase_so_we_keep_both (0.23s)
--- PASS: TestLowerCaseMigration/2_users_with_same_login_noone_is_lowercased_we_pick_the_most_recent_user_to_lowercase (0.31s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/migrations/usermig/test	(cached)
=== RUN   TestInsertQuery
=== RUN   TestInsertQuery/insert_one
--- PASS: TestInsertQuery (0.00s)
--- PASS: TestInsertQuery/insert_one (0.00s)
=== RUN   TestUpdateQuery
=== RUN   TestUpdateQuery/insert_one
--- PASS: TestUpdateQuery (0.00s)
--- PASS: TestUpdateQuery/insert_one (0.00s)
=== RUN   TestUpsertMultiple
=== RUN   TestUpsertMultiple/upsert_one
=== RUN   TestUpsertMultiple/upsert_two
=== RUN   TestUpsertMultiple/count_error
--- PASS: TestUpsertMultiple (0.00s)
--- PASS: TestUpsertMultiple/upsert_one (0.00s)
--- PASS: TestUpsertMultiple/upsert_two (0.00s)
--- PASS: TestUpsertMultiple/count_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/migrator	(cached)
=== RUN   TestIntegration_DashboardPermissionFilter
dashboard_test.go:46: skipping integration test
--- SKIP: TestIntegration_DashboardPermissionFilter (0.00s)
=== RUN   TestIntegration_DashboardPermissionFilter_WithSelfContainedPermissions
dashboard_test.go:215: skipping integration test
--- SKIP: TestIntegration_DashboardPermissionFilter_WithSelfContainedPermissions (0.00s)
=== RUN   TestIntegration_DashboardNestedPermissionFilter
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_permissionsFilterRemoveSubquery,nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_permissionsFilterRemoveSubquery,nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_
=== RUN   TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_permissionsFilterRemoveSubquery
--- PASS: TestIntegration_DashboardNestedPermissionFilter (0.47s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders (0.40s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_permissionsFilterRemoveSubquery,nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_permissionsFilterRemoveSubquery,nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_ (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_permissionsFilterRemoveSubquery (0.01s)
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_permissionsFilterRemoveSubquery,nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_permissionsFilterRemoveSubquery
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions (0.06s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_dashboards_under_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_permissionsFilterRemoveSubquery,nestedFolders (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_dashboards_and_folders_with_no_permissions_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_dashboards_under_inherited_folders_with_wildcard_scope_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_be_able_to_view_inherited_folders_if_nested_folders_are_enabled_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_ (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithSelfContainedPermissions/Should_not_be_able_to_view_inherited_folders_if_nested_folders_are_not_enabled_with_features_permissionsFilterRemoveSubquery (0.00s)
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_dashboards_if_user_has_no_permissions_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_dashboards_if_user_has_no_permissions_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_folders_if_user_has_no_permissions_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_folders_if_user_has_no_permissions_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_`folders:read`_access_to_them_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_`folders:read`_access_to_them_with_features_nestedFolders,permissionsFilterRemoveSubquery
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_action_set_access_to_them_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_action_set_access_to_them_with_features_permissionsFilterRemoveSubquery,nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_only_the_subfolder_if_user_has_action_set_access_to_it_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_only_the_subfolder_if_user_has_action_set_access_to_it_with_features_permissionsFilterRemoveSubquery,nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_filter_for_folders_that_user_has_write_access_to_with_features_nestedFolders
=== RUN   TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_filter_for_folders_that_user_has_write_access_to_with_features_nestedFolders,permissionsFilterRemoveSubquery
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets (0.06s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_dashboards_if_user_has_no_permissions_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_dashboards_if_user_has_no_permissions_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_folders_if_user_has_no_permissions_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_not_list_any_folders_if_user_has_no_permissions_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_`folders:read`_access_to_them_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_`folders:read`_access_to_them_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_action_set_access_to_them_with_features_nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_folders_if_user_has_action_set_access_to_them_with_features_permissionsFilterRemoveSubquery,nestedFolders (0.01s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_only_the_subfolder_if_user_has_action_set_access_to_it_with_features_nestedFolders (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_view_only_the_subfolder_if_user_has_action_set_access_to_it_with_features_permissionsFilterRemoveSubquery,nestedFolders (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_filter_for_folders_that_user_has_write_access_to_with_features_nestedFolders (0.00s)
--- PASS: TestIntegration_DashboardNestedPermissionFilter_WithActionSets/Should_be_able_to_filter_for_folders_that_user_has_write_access_to_with_features_nestedFolders,permissionsFilterRemoveSubquery (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/permissions	(cached)
=== RUN   TestFolderUIDFilter
=== RUN   TestFolderUIDFilter/searching_general_folder
=== RUN   TestFolderUIDFilter/searching_a_specific_folder
=== RUN   TestFolderUIDFilter/searching_a_specific_folders
=== RUN   TestFolderUIDFilter/searching_a_specific_folders_or_general
=== RUN   TestFolderUIDFilter/searching_general_folder_with_nestedFoldersEnabled
=== RUN   TestFolderUIDFilter/searching_a_specific_folder_with_nestedFoldersEnabled
=== RUN   TestFolderUIDFilter/searching_a_specific_folders_with_nestedFoldersEnabled
=== RUN   TestFolderUIDFilter/searching_a_specific_folders_or_general_with_nestedFoldersEnabled
--- PASS: TestFolderUIDFilter (0.33s)
--- PASS: TestFolderUIDFilter/searching_general_folder (0.00s)
--- PASS: TestFolderUIDFilter/searching_a_specific_folder (0.00s)
--- PASS: TestFolderUIDFilter/searching_a_specific_folders (0.00s)
--- PASS: TestFolderUIDFilter/searching_a_specific_folders_or_general (0.00s)
--- PASS: TestFolderUIDFilter/searching_general_folder_with_nestedFoldersEnabled (0.00s)
--- PASS: TestFolderUIDFilter/searching_a_specific_folder_with_nestedFoldersEnabled (0.00s)
--- PASS: TestFolderUIDFilter/searching_a_specific_folders_with_nestedFoldersEnabled (0.00s)
--- PASS: TestFolderUIDFilter/searching_a_specific_folders_or_general_with_nestedFoldersEnabled (0.00s)
=== RUN   TestBuilder_EqualResults_Basic
--- PASS: TestBuilder_EqualResults_Basic (0.00s)
=== RUN   TestBuilder_Pagination
--- PASS: TestBuilder_Pagination (0.01s)
=== RUN   TestBuilder_RBAC
=== RUN   TestBuilder_RBAC/no_user_permissions
=== RUN   TestBuilder_RBAC/user_with_view_permission
=== RUN   TestBuilder_RBAC/user_with_write_permission
=== RUN   TestBuilder_RBAC/user_with_view_permission_with_nesting
=== RUN   TestBuilder_RBAC/user_with_view_permission_with_remove_subquery
=== RUN   TestBuilder_RBAC/user_with_edit_permission_with_nesting_and_remove_subquery
--- PASS: TestBuilder_RBAC (0.01s)
--- PASS: TestBuilder_RBAC/no_user_permissions (0.00s)
--- PASS: TestBuilder_RBAC/user_with_view_permission (0.00s)
--- PASS: TestBuilder_RBAC/user_with_write_permission (0.00s)
--- PASS: TestBuilder_RBAC/user_with_view_permission_with_nesting (0.00s)
--- PASS: TestBuilder_RBAC/user_with_view_permission_with_remove_subquery (0.00s)
--- PASS: TestBuilder_RBAC/user_with_edit_permission_with_nesting_and_remove_subquery (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/sqlstore/searchstore	(cached)
?   	github.com/grafana/grafana/pkg/services/sqlstore/session	[no test files]
?   	github.com/grafana/grafana/pkg/services/sqlstore/sqlutil	[no test files]
?   	github.com/grafana/grafana/pkg/services/ssosettings	[no test files]
=== RUN   TestSSOSettingsAPI_Update
=== RUN   TestSSOSettingsAPI_Update/successfully_updates_SSO_settings
=== RUN   TestSSOSettingsAPI_Update/fails_when_action_doesn't_match
=== RUN   TestSSOSettingsAPI_Update/fails_when_scope_doesn't_match
=== RUN   TestSSOSettingsAPI_Update/fails_when_scope_contains_another_provider
=== RUN   TestSSOSettingsAPI_Update/fails_with_not_found_when_key_is_empty
=== RUN   TestSSOSettingsAPI_Update/fails_with_bad_request_when_body_contains_invalid_json
=== RUN   TestSSOSettingsAPI_Update/fails_with_bad_request_when_key_was_not_found
=== RUN   TestSSOSettingsAPI_Update/fails_with_internal_server_error_when_service_returns_an_error
--- PASS: TestSSOSettingsAPI_Update (0.01s)
--- PASS: TestSSOSettingsAPI_Update/successfully_updates_SSO_settings (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_when_action_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_when_scope_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_when_scope_contains_another_provider (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_with_not_found_when_key_is_empty (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_with_bad_request_when_body_contains_invalid_json (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_with_bad_request_when_key_was_not_found (0.00s)
--- PASS: TestSSOSettingsAPI_Update/fails_with_internal_server_error_when_service_returns_an_error (0.00s)
=== RUN   TestSSOSettingsAPI_Delete
=== RUN   TestSSOSettingsAPI_Delete/successfully_deletes_SSO_settings
=== RUN   TestSSOSettingsAPI_Delete/fails_when_action_doesn't_match
=== RUN   TestSSOSettingsAPI_Delete/fails_when_scope_doesn't_match
=== RUN   TestSSOSettingsAPI_Delete/fails_when_scope_contains_another_provider
=== RUN   TestSSOSettingsAPI_Delete/fails_with_not_found_when_key_is_empty
=== RUN   TestSSOSettingsAPI_Delete/fails_with_not_found_when_key_was_not_found
=== RUN   TestSSOSettingsAPI_Delete/fails_with_internal_server_error_when_service_returns_an_error
--- PASS: TestSSOSettingsAPI_Delete (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/successfully_deletes_SSO_settings (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/fails_when_action_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/fails_when_scope_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/fails_when_scope_contains_another_provider (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/fails_with_not_found_when_key_is_empty (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/fails_with_not_found_when_key_was_not_found (0.00s)
--- PASS: TestSSOSettingsAPI_Delete/fails_with_internal_server_error_when_service_returns_an_error (0.00s)
=== RUN   TestSSOSettingsAPI_GetForProvider
=== RUN   TestSSOSettingsAPI_GetForProvider/successfully_gets_SSO_settings
=== RUN   TestSSOSettingsAPI_GetForProvider/fails_when_action_doesn't_match
=== RUN   TestSSOSettingsAPI_GetForProvider/fails_when_scope_doesn't_match
=== RUN   TestSSOSettingsAPI_GetForProvider/fails_when_scope_contains_another_provider
=== RUN   TestSSOSettingsAPI_GetForProvider/fails_with_not_found_when_key_was_not_found
=== RUN   TestSSOSettingsAPI_GetForProvider/fails_with_internal_server_error_when_service_returns_an_error
=== RUN   TestSSOSettingsAPI_GetForProvider/fails_with_not_found_error_when_the_provider_is_not_configurable
--- PASS: TestSSOSettingsAPI_GetForProvider (0.01s)
--- PASS: TestSSOSettingsAPI_GetForProvider/successfully_gets_SSO_settings (0.00s)
--- PASS: TestSSOSettingsAPI_GetForProvider/fails_when_action_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_GetForProvider/fails_when_scope_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_GetForProvider/fails_when_scope_contains_another_provider (0.00s)
--- PASS: TestSSOSettingsAPI_GetForProvider/fails_with_not_found_when_key_was_not_found (0.00s)
--- PASS: TestSSOSettingsAPI_GetForProvider/fails_with_internal_server_error_when_service_returns_an_error (0.00s)
--- PASS: TestSSOSettingsAPI_GetForProvider/fails_with_not_found_error_when_the_provider_is_not_configurable (0.00s)
=== RUN   TestSSOSettingsAPI_List
=== RUN   TestSSOSettingsAPI_List/successfully_lists_SSO_settings
=== RUN   TestSSOSettingsAPI_List/returns_empty_list_when_the_user_has_the_action_but_the_scope_doesn't_match_any_of_the_providerss_scope
=== RUN   TestSSOSettingsAPI_List/successfully_lists_SSO_settings_when_scope_contains_wildcard
=== RUN   TestSSOSettingsAPI_List/fails_when_action_doesn't_match
=== RUN   TestSSOSettingsAPI_List/fails_with_internal_server_error_when_service_returns_an_error
--- PASS: TestSSOSettingsAPI_List (0.00s)
--- PASS: TestSSOSettingsAPI_List/successfully_lists_SSO_settings (0.00s)
--- PASS: TestSSOSettingsAPI_List/returns_empty_list_when_the_user_has_the_action_but_the_scope_doesn't_match_any_of_the_providerss_scope (0.00s)
--- PASS: TestSSOSettingsAPI_List/successfully_lists_SSO_settings_when_scope_contains_wildcard (0.00s)
--- PASS: TestSSOSettingsAPI_List/fails_when_action_doesn't_match (0.00s)
--- PASS: TestSSOSettingsAPI_List/fails_with_internal_server_error_when_service_returns_an_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ssosettings/api	(cached)
=== RUN   TestIntegrationGetSSOSettings
database_test.go:27: skipping integration test
--- SKIP: TestIntegrationGetSSOSettings (0.00s)
=== RUN   TestIntegrationUpsertSSOSettings
database_test.go:90: skipping integration test
--- SKIP: TestIntegrationUpsertSSOSettings (0.00s)
=== RUN   TestIntegrationListSSOSettings
database_test.go:269: skipping integration test
--- SKIP: TestIntegrationListSSOSettings (0.00s)
=== RUN   TestIntegrationDeleteSSOSettings
database_test.go:335: skipping integration test
--- SKIP: TestIntegrationDeleteSSOSettings (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ssosettings/database	(cached)
?   	github.com/grafana/grafana/pkg/services/ssosettings/models	[no test files]
=== RUN   TestService_GetForProvider
=== PAUSE TestService_GetForProvider
=== RUN   TestService_GetForProviderWithRedactedSecrets
=== PAUSE TestService_GetForProviderWithRedactedSecrets
=== RUN   TestService_List
=== PAUSE TestService_List
=== RUN   TestService_ListWithRedactedSecrets
=== PAUSE TestService_ListWithRedactedSecrets
=== RUN   TestService_Upsert
=== PAUSE TestService_Upsert
=== RUN   TestService_Delete
=== PAUSE TestService_Delete
=== RUN   TestRemoveSecrets
--- PASS: TestRemoveSecrets (0.00s)
=== RUN   TestService_DoReload
=== PAUSE TestService_DoReload
=== RUN   TestService_decryptSecrets
=== PAUSE TestService_decryptSecrets
=== RUN   Test_ProviderService
=== RUN   Test_ProviderService/should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_not_enabled
=== PAUSE Test_ProviderService/should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_not_enabled
=== RUN   Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_enabled_but_the_configurable_provider_is_not_setup
=== PAUSE Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_enabled_but_the_configurable_provider_is_not_setup
=== RUN   Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_and_SAML_because_the_licensing_feature_is_enabled_and_the_provider_is_setup
=== PAUSE Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_and_SAML_because_the_licensing_feature_is_enabled_and_the_provider_is_setup
=== CONT  Test_ProviderService/should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_not_enabled
=== CONT  Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_and_SAML_because_the_licensing_feature_is_enabled_and_the_provider_is_setup
=== CONT  Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_enabled_but_the_configurable_provider_is_not_setup
--- PASS: Test_ProviderService (0.00s)
--- PASS: Test_ProviderService/should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_not_enabled (0.00s)
--- PASS: Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_and_SAML_because_the_licensing_feature_is_enabled_and_the_provider_is_setup (0.00s)
--- PASS: Test_ProviderService/should_return_all_fallback_strategies_and_it_should_return_all_OAuth_providers_but_not_SAML_because_the_licensing_feature_is_enabled_but_the_configurable_provider_is_not_setup (0.00s)
=== RUN   TestService_getUsageStats
--- PASS: TestService_getUsageStats (0.00s)
=== CONT  TestService_GetForProvider
=== CONT  TestService_Upsert
=== CONT  TestService_GetForProviderWithRedactedSecrets
=== CONT  TestService_List
=== RUN   TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets
=== CONT  TestService_ListWithRedactedSecrets
=== PAUSE TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets
=== CONT  TestService_decryptSecrets
=== CONT  TestService_DoReload
=== RUN   TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets_for_LDAP
=== RUN   TestService_decryptSecrets/should_decrypt_secrets_successfully
=== PAUSE TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets_for_LDAP
=== RUN   TestService_DoReload/successfully_reload_settings
=== RUN   TestService_GetForProviderWithRedactedSecrets/should_return_error_if_store_returns_an_error_different_than_not_found
=== PAUSE TestService_decryptSecrets/should_decrypt_secrets_successfully
=== PAUSE TestService_GetForProviderWithRedactedSecrets/should_return_error_if_store_returns_an_error_different_than_not_found
=== RUN   TestService_decryptSecrets/should_decrypt_LDAP_secrets_successfully
=== PAUSE TestService_DoReload/successfully_reload_settings
=== PAUSE TestService_decryptSecrets/should_decrypt_LDAP_secrets_successfully
=== RUN   TestService_DoReload/successfully_reload_settings_when_some_providers_have_empty_settings
=== RUN   TestService_decryptSecrets/should_not_decrypt_when_a_secret_is_empty
=== PAUSE TestService_DoReload/successfully_reload_settings_when_some_providers_have_empty_settings
=== RUN   TestService_DoReload/failed_fetching_the_SSO_settings
=== PAUSE TestService_DoReload/failed_fetching_the_SSO_settings
=== CONT  TestService_DoReload/successfully_reload_settings
=== RUN   TestService_Upsert/successfully_upsert_SSO_settings
=== PAUSE TestService_Upsert/successfully_upsert_SSO_settings
=== RUN   TestService_List/should_return_all_oauth_providers_successfully_without_saml
=== RUN   TestService_Upsert/successfully_upsert_SSO_settings_for_LDAP
=== PAUSE TestService_List/should_return_all_oauth_providers_successfully_without_saml
=== PAUSE TestService_Upsert/successfully_upsert_SSO_settings_for_LDAP
=== RUN   TestService_ListWithRedactedSecrets/should_return_successfully
=== PAUSE TestService_ListWithRedactedSecrets/should_return_successfully
=== RUN   TestService_ListWithRedactedSecrets/should_return_error_if_store_returns_an_error
=== PAUSE TestService_ListWithRedactedSecrets/should_return_error_if_store_returns_an_error
=== RUN   TestService_ListWithRedactedSecrets/should_use_the_fallback_strategy_if_store_returns_empty_list
=== RUN   TestService_List/should_return_error_if_any_of_the_fallback_strategies_was_not_found
=== PAUSE TestService_ListWithRedactedSecrets/should_use_the_fallback_strategy_if_store_returns_empty_list
=== PAUSE TestService_List/should_return_error_if_any_of_the_fallback_strategies_was_not_found
=== RUN   TestService_ListWithRedactedSecrets/should_return_error_if_any_of_the_fallback_strategies_was_not_found
=== CONT  TestService_DoReload/failed_fetching_the_SSO_settings
=== PAUSE TestService_ListWithRedactedSecrets/should_return_error_if_any_of_the_fallback_strategies_was_not_found
=== CONT  TestService_Delete
=== RUN   TestService_Delete/successfully_delete_SSO_settings
=== PAUSE TestService_Delete/successfully_delete_SSO_settings
=== RUN   TestService_Delete/return_error_if_SSO_setting_was_not_found_for_the_specified_provider
=== CONT  TestService_DoReload/successfully_reload_settings_when_some_providers_have_empty_settings
=== PAUSE TestService_Delete/return_error_if_SSO_setting_was_not_found_for_the_specified_provider
=== RUN   TestService_Delete/should_not_delete_the_SSO_settings_if_the_provider_is_not_configurable
=== PAUSE TestService_Delete/should_not_delete_the_SSO_settings_if_the_provider_is_not_configurable
=== RUN   TestService_Delete/return_error_when_store_fails_to_delete_the_SSO_settings_for_the_specified_provider
=== PAUSE TestService_Delete/return_error_when_store_fails_to_delete_the_SSO_settings_for_the_specified_provider
=== RUN   TestService_Delete/return_successfully_when_the_deletion_was_successful_but_reloading_the_settings_fail
=== PAUSE TestService_Delete/return_successfully_when_the_deletion_was_successful_but_reloading_the_settings_fail
=== RUN   TestService_Upsert/returns_error_if_provider_is_not_configurable
=== RUN   TestService_Delete/should_delete_SAML_SettingsProvider_while_deleting_SAML_SSO_Settings
=== PAUSE TestService_Delete/should_delete_SAML_SettingsProvider_while_deleting_SAML_SSO_Settings
=== PAUSE TestService_Upsert/returns_error_if_provider_is_not_configurable
=== RUN   TestService_Upsert/returns_error_if_provider_was_not_found_in_reloadables
=== PAUSE TestService_Upsert/returns_error_if_provider_was_not_found_in_reloadables
=== RUN   TestService_Upsert/returns_error_if_validation_fails
=== PAUSE TestService_Upsert/returns_error_if_validation_fails
=== RUN   TestService_Upsert/returns_error_if_a_fallback_strategy_is_not_available_for_the_provider
=== PAUSE TestService_Upsert/returns_error_if_a_fallback_strategy_is_not_available_for_the_provider
=== RUN   TestService_Upsert/returns_error_if_a_secret_does_not_have_the_type_string
=== PAUSE TestService_Upsert/returns_error_if_a_secret_does_not_have_the_type_string
=== CONT  TestService_List/should_return_all_oauth_providers_successfully_without_saml
=== PAUSE TestService_decryptSecrets/should_not_decrypt_when_a_secret_is_empty
=== RUN   TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_string
=== PAUSE TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_string
=== RUN   TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_valid_base64_string
=== PAUSE TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_valid_base64_string
=== RUN   TestService_decryptSecrets/should_return_an_error_if_decryption_fails
=== PAUSE TestService_decryptSecrets/should_return_an_error_if_decryption_fails
=== RUN   TestService_GetForProvider/should_return_successfully
=== PAUSE TestService_GetForProvider/should_return_successfully
=== RUN   TestService_GetForProvider/should_return_error_if_store_returns_an_error_different_than_not_found
=== PAUSE TestService_GetForProvider/should_return_error_if_store_returns_an_error_different_than_not_found
=== RUN   TestService_GetForProvider/should_fallback_to_the_system_settings_if_store_returns_not_found
=== PAUSE TestService_GetForProvider/should_fallback_to_the_system_settings_if_store_returns_not_found
=== RUN   TestService_GetForProvider/should_return_error_if_the_fallback_strategy_was_not_found
=== PAUSE TestService_GetForProvider/should_return_error_if_the_fallback_strategy_was_not_found
=== RUN   TestService_GetForProvider/should_return_error_if_fallback_strategy_returns_error
=== PAUSE TestService_GetForProvider/should_return_error_if_fallback_strategy_returns_error
=== RUN   TestService_GetForProvider/should_decrypt_secrets_if_data_is_coming_from_store
=== PAUSE TestService_GetForProvider/should_decrypt_secrets_if_data_is_coming_from_store
=== RUN   TestService_GetForProvider/should_decrypt_secrets_for_LDAP_if_data_is_coming_from_store
=== PAUSE TestService_GetForProvider/should_decrypt_secrets_for_LDAP_if_data_is_coming_from_store
=== RUN   TestService_GetForProvider/should_not_decrypt_secrets_if_data_is_coming_from_the_fallback_strategy
=== PAUSE TestService_GetForProvider/should_not_decrypt_secrets_if_data_is_coming_from_the_fallback_strategy
=== RUN   TestService_GetForProvider/should_return_an_error_if_the_data_in_the_store_is_invalid
=== PAUSE TestService_GetForProvider/should_return_an_error_if_the_data_in_the_store_is_invalid
=== RUN   TestService_GetForProvider/correctly_merge_URLs_from_the_DB_and_system_settings
=== PAUSE TestService_GetForProvider/correctly_merge_URLs_from_the_DB_and_system_settings
=== RUN   TestService_GetForProvider/correctly_merge_group_of_settings_for_SAML
=== PAUSE TestService_GetForProvider/correctly_merge_group_of_settings_for_SAML
=== CONT  TestService_ListWithRedactedSecrets/should_return_successfully
=== CONT  TestService_ListWithRedactedSecrets/should_use_the_fallback_strategy_if_store_returns_empty_list
=== CONT  TestService_ListWithRedactedSecrets/should_return_error_if_any_of_the_fallback_strategies_was_not_found
--- PASS: TestService_DoReload (0.00s)
--- PASS: TestService_DoReload/failed_fetching_the_SSO_settings (0.00s)
--- PASS: TestService_DoReload/successfully_reload_settings_when_some_providers_have_empty_settings (0.00s)
--- PASS: TestService_DoReload/successfully_reload_settings (0.00s)
=== CONT  TestService_ListWithRedactedSecrets/should_return_error_if_store_returns_an_error
=== CONT  TestService_Delete/successfully_delete_SSO_settings
=== RUN   TestService_GetForProviderWithRedactedSecrets/should_fallback_to_strategy_if_store_returns_not_found
=== PAUSE TestService_GetForProviderWithRedactedSecrets/should_fallback_to_strategy_if_store_returns_not_found
=== RUN   TestService_GetForProviderWithRedactedSecrets/should_return_error_if_the_fallback_strategy_was_not_found
=== PAUSE TestService_GetForProviderWithRedactedSecrets/should_return_error_if_the_fallback_strategy_was_not_found
=== CONT  TestService_Delete/should_delete_SAML_SettingsProvider_while_deleting_SAML_SSO_Settings
=== RUN   TestService_GetForProviderWithRedactedSecrets/should_return_error_if_fallback_strategy_returns_error
=== PAUSE TestService_GetForProviderWithRedactedSecrets/should_return_error_if_fallback_strategy_returns_error
=== CONT  TestService_Delete/return_successfully_when_the_deletion_was_successful_but_reloading_the_settings_fail
=== CONT  TestService_Delete/return_error_when_store_fails_to_delete_the_SSO_settings_for_the_specified_provider
--- PASS: TestService_ListWithRedactedSecrets (0.00s)
--- PASS: TestService_ListWithRedactedSecrets/should_return_successfully (0.00s)
--- PASS: TestService_ListWithRedactedSecrets/should_return_error_if_store_returns_an_error (0.00s)
--- PASS: TestService_ListWithRedactedSecrets/should_use_the_fallback_strategy_if_store_returns_empty_list (0.00s)
--- PASS: TestService_ListWithRedactedSecrets/should_return_error_if_any_of_the_fallback_strategies_was_not_found (0.00s)
=== CONT  TestService_Delete/should_not_delete_the_SSO_settings_if_the_provider_is_not_configurable
=== CONT  TestService_decryptSecrets/should_decrypt_secrets_successfully
=== CONT  TestService_GetForProvider/should_return_successfully
=== CONT  TestService_decryptSecrets/should_return_an_error_if_decryption_fails
=== CONT  TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_valid_base64_string
=== CONT  TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_string
=== CONT  TestService_decryptSecrets/should_not_decrypt_when_a_secret_is_empty
=== RUN   TestService_Upsert/returns_error_if_secrets_encryption_failed
=== PAUSE TestService_Upsert/returns_error_if_secrets_encryption_failed
=== RUN   TestService_Upsert/should_not_update_the_current_secret_if_the_secret_has_not_been_updated
=== PAUSE TestService_Upsert/should_not_update_the_current_secret_if_the_secret_has_not_been_updated
=== RUN   TestService_Upsert/run_validation_with_all_new_and_current_secrets_available_in_settings
=== PAUSE TestService_Upsert/run_validation_with_all_new_and_current_secrets_available_in_settings
=== RUN   TestService_Upsert/returns_error_if_store_failed_to_upsert_settings
=== PAUSE TestService_Upsert/returns_error_if_store_failed_to_upsert_settings
=== RUN   TestService_Upsert/successfully_upsert_SSO_settings_if_reload_fails
=== PAUSE TestService_Upsert/successfully_upsert_SSO_settings_if_reload_fails
=== CONT  TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets
=== CONT  TestService_decryptSecrets/should_decrypt_LDAP_secrets_successfully
=== CONT  TestService_GetForProvider/correctly_merge_URLs_from_the_DB_and_system_settings
=== CONT  TestService_GetForProvider/should_return_an_error_if_the_data_in_the_store_is_invalid
=== CONT  TestService_GetForProvider/should_not_decrypt_secrets_if_data_is_coming_from_the_fallback_strategy
=== CONT  TestService_GetForProvider/should_decrypt_secrets_for_LDAP_if_data_is_coming_from_store
=== CONT  TestService_GetForProvider/should_decrypt_secrets_if_data_is_coming_from_store
--- PASS: TestService_decryptSecrets (0.00s)
--- PASS: TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_valid_base64_string (0.00s)
--- PASS: TestService_decryptSecrets/should_decrypt_secrets_successfully (0.00s)
--- PASS: TestService_decryptSecrets/should_return_an_error_if_data_is_not_a_string (0.00s)
--- PASS: TestService_decryptSecrets/should_return_an_error_if_decryption_fails (0.00s)
--- PASS: TestService_decryptSecrets/should_not_decrypt_when_a_secret_is_empty (0.00s)
--- PASS: TestService_decryptSecrets/should_decrypt_LDAP_secrets_successfully (0.00s)
=== CONT  TestService_GetForProvider/correctly_merge_group_of_settings_for_SAML
=== CONT  TestService_GetForProvider/should_return_error_if_the_fallback_strategy_was_not_found
=== CONT  TestService_List/should_return_error_if_any_of_the_fallback_strategies_was_not_found
=== CONT  TestService_Delete/return_error_if_SSO_setting_was_not_found_for_the_specified_provider
=== CONT  TestService_GetForProvider/should_return_error_if_fallback_strategy_returns_error
=== CONT  TestService_GetForProvider/should_fallback_to_the_system_settings_if_store_returns_not_found
=== CONT  TestService_GetForProvider/should_return_error_if_store_returns_an_error_different_than_not_found
--- PASS: TestService_List (0.00s)
--- PASS: TestService_List/should_return_all_oauth_providers_successfully_without_saml (0.00s)
--- PASS: TestService_List/should_return_error_if_any_of_the_fallback_strategies_was_not_found (0.00s)
=== CONT  TestService_GetForProviderWithRedactedSecrets/should_return_error_if_fallback_strategy_returns_error
=== CONT  TestService_Upsert/successfully_upsert_SSO_settings
=== CONT  TestService_GetForProviderWithRedactedSecrets/should_return_error_if_the_fallback_strategy_was_not_found
--- PASS: TestService_Delete (0.00s)
--- PASS: TestService_Delete/successfully_delete_SSO_settings (0.00s)
--- PASS: TestService_Delete/return_error_when_store_fails_to_delete_the_SSO_settings_for_the_specified_provider (0.00s)
--- PASS: TestService_Delete/return_successfully_when_the_deletion_was_successful_but_reloading_the_settings_fail (0.00s)
--- PASS: TestService_Delete/should_delete_SAML_SettingsProvider_while_deleting_SAML_SSO_Settings (0.00s)
--- PASS: TestService_Delete/should_not_delete_the_SSO_settings_if_the_provider_is_not_configurable (0.00s)
--- PASS: TestService_Delete/return_error_if_SSO_setting_was_not_found_for_the_specified_provider (0.00s)
=== CONT  TestService_GetForProviderWithRedactedSecrets/should_return_error_if_store_returns_an_error_different_than_not_found
=== CONT  TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets_for_LDAP
=== CONT  TestService_Upsert/returns_error_if_a_fallback_strategy_is_not_available_for_the_provider
=== CONT  TestService_GetForProviderWithRedactedSecrets/should_fallback_to_strategy_if_store_returns_not_found
=== CONT  TestService_Upsert/successfully_upsert_SSO_settings_if_reload_fails
=== CONT  TestService_Upsert/returns_error_if_store_failed_to_upsert_settings
=== CONT  TestService_Upsert/run_validation_with_all_new_and_current_secrets_available_in_settings
=== CONT  TestService_Upsert/should_not_update_the_current_secret_if_the_secret_has_not_been_updated
=== CONT  TestService_Upsert/returns_error_if_secrets_encryption_failed
=== CONT  TestService_Upsert/returns_error_if_a_secret_does_not_have_the_type_string
=== CONT  TestService_Upsert/successfully_upsert_SSO_settings_for_LDAP
=== CONT  TestService_Upsert/returns_error_if_validation_fails
=== CONT  TestService_Upsert/returns_error_if_provider_was_not_found_in_reloadables
=== CONT  TestService_Upsert/returns_error_if_provider_is_not_configurable
--- PASS: TestService_GetForProviderWithRedactedSecrets (0.00s)
--- PASS: TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets (0.00s)
--- PASS: TestService_GetForProviderWithRedactedSecrets/should_return_error_if_the_fallback_strategy_was_not_found (0.00s)
--- PASS: TestService_GetForProviderWithRedactedSecrets/should_return_error_if_fallback_strategy_returns_error (0.00s)
--- PASS: TestService_GetForProviderWithRedactedSecrets/should_fallback_to_strategy_if_store_returns_not_found (0.00s)
--- PASS: TestService_GetForProviderWithRedactedSecrets/should_return_successfully_and_redact_secrets_for_LDAP (0.00s)
--- PASS: TestService_GetForProviderWithRedactedSecrets/should_return_error_if_store_returns_an_error_different_than_not_found (0.00s)
--- PASS: TestService_GetForProvider (0.00s)
--- PASS: TestService_GetForProvider/should_return_successfully (0.00s)
--- PASS: TestService_GetForProvider/should_return_an_error_if_the_data_in_the_store_is_invalid (0.00s)
--- PASS: TestService_GetForProvider/correctly_merge_URLs_from_the_DB_and_system_settings (0.00s)
--- PASS: TestService_GetForProvider/should_not_decrypt_secrets_if_data_is_coming_from_the_fallback_strategy (0.00s)
--- PASS: TestService_GetForProvider/should_decrypt_secrets_if_data_is_coming_from_store (0.00s)
--- PASS: TestService_GetForProvider/should_return_error_if_fallback_strategy_returns_error (0.00s)
--- PASS: TestService_GetForProvider/should_fallback_to_the_system_settings_if_store_returns_not_found (0.00s)
--- PASS: TestService_GetForProvider/should_decrypt_secrets_for_LDAP_if_data_is_coming_from_store (0.00s)
--- PASS: TestService_GetForProvider/should_return_error_if_store_returns_an_error_different_than_not_found (0.00s)
--- PASS: TestService_GetForProvider/should_return_error_if_the_fallback_strategy_was_not_found (0.00s)
--- PASS: TestService_GetForProvider/correctly_merge_group_of_settings_for_SAML (0.01s)
--- PASS: TestService_Upsert (0.00s)
--- PASS: TestService_Upsert/successfully_upsert_SSO_settings (0.00s)
--- PASS: TestService_Upsert/successfully_upsert_SSO_settings_if_reload_fails (0.00s)
--- PASS: TestService_Upsert/returns_error_if_a_fallback_strategy_is_not_available_for_the_provider (0.00s)
--- PASS: TestService_Upsert/returns_error_if_store_failed_to_upsert_settings (0.00s)
--- PASS: TestService_Upsert/returns_error_if_a_secret_does_not_have_the_type_string (0.00s)
--- PASS: TestService_Upsert/run_validation_with_all_new_and_current_secrets_available_in_settings (0.00s)
--- PASS: TestService_Upsert/should_not_update_the_current_secret_if_the_secret_has_not_been_updated (0.00s)
--- PASS: TestService_Upsert/returns_error_if_secrets_encryption_failed (0.00s)
--- PASS: TestService_Upsert/successfully_upsert_SSO_settings_for_LDAP (0.00s)
--- PASS: TestService_Upsert/returns_error_if_validation_fails (0.00s)
--- PASS: TestService_Upsert/returns_error_if_provider_was_not_found_in_reloadables (0.00s)
--- PASS: TestService_Upsert/returns_error_if_provider_is_not_configurable (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ssosettings/ssosettingsimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/ssosettings/ssosettingstests	[no test files]
=== RUN   TestGetLDAPConfig
--- PASS: TestGetLDAPConfig (0.00s)
=== RUN   TestGetProviderConfig
--- PASS: TestGetProviderConfig (0.00s)
=== RUN   TestGetProviderConfig_ExtraFields
=== RUN   TestGetProviderConfig_ExtraFields/azuread
=== RUN   TestGetProviderConfig_ExtraFields/github
=== RUN   TestGetProviderConfig_ExtraFields/generic_oauth
=== RUN   TestGetProviderConfig_ExtraFields/grafana_com
=== RUN   TestGetProviderConfig_ExtraFields/google
--- PASS: TestGetProviderConfig_ExtraFields (0.00s)
--- PASS: TestGetProviderConfig_ExtraFields/azuread (0.00s)
--- PASS: TestGetProviderConfig_ExtraFields/github (0.00s)
--- PASS: TestGetProviderConfig_ExtraFields/generic_oauth (0.00s)
--- PASS: TestGetProviderConfig_ExtraFields/grafana_com (0.00s)
--- PASS: TestGetProviderConfig_ExtraFields/google (0.00s)
=== RUN   TestGetProviderConfig_GrafanaComGrafanaNet
=== RUN   TestGetProviderConfig_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_it_is_enabled
=== RUN   TestGetProviderConfig_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafananet_section_if_it_is_enabled
=== RUN   TestGetProviderConfig_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_both_are_enabled
=== RUN   TestGetProviderConfig_GrafanaComGrafanaNet/should_not_setup_the_connector_when_both_are_disabled
--- PASS: TestGetProviderConfig_GrafanaComGrafanaNet (0.00s)
--- PASS: TestGetProviderConfig_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_it_is_enabled (0.00s)
--- PASS: TestGetProviderConfig_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafananet_section_if_it_is_enabled (0.00s)
--- PASS: TestGetProviderConfig_GrafanaComGrafanaNet/should_setup_the_connector_using_auth.grafana_com_section_if_both_are_enabled (0.00s)
--- PASS: TestGetProviderConfig_GrafanaComGrafanaNet/should_not_setup_the_connector_when_both_are_disabled (0.00s)
=== RUN   TestSAMLIsMatch
--- PASS: TestSAMLIsMatch (0.00s)
=== RUN   TestSAMLGetProviderConfig
--- PASS: TestSAMLGetProviderConfig (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ssosettings/strategies	0.390s
=== RUN   TestUrlValidator
=== RUN   TestUrlValidator/passes_when_url_is_valid
=== RUN   TestUrlValidator/fails_when_url_is_invalid
--- PASS: TestUrlValidator (0.00s)
--- PASS: TestUrlValidator/passes_when_url_is_valid (0.00s)
--- PASS: TestUrlValidator/fails_when_url_is_invalid (0.00s)
=== RUN   TestRequiredValidator
=== RUN   TestRequiredValidator/passes_when_client_id_is_not_empty
=== RUN   TestRequiredValidator/fails_when_client_id_is_empty
--- PASS: TestRequiredValidator (0.00s)
--- PASS: TestRequiredValidator/passes_when_client_id_is_not_empty (0.00s)
--- PASS: TestRequiredValidator/fails_when_client_id_is_empty (0.00s)
=== RUN   TestAllowAssignGrafanaAdminValidator
=== RUN   TestAllowAssignGrafanaAdminValidator/passes_when_user_is_Grafana_Admin_and_Allow_assign_Grafana_Admin_was_changed
=== RUN   TestAllowAssignGrafanaAdminValidator/passess_when_user_is_not_Grafana_Admin_and_Allow_assign_Grafana_Admin_was_not_changed
=== RUN   TestAllowAssignGrafanaAdminValidator/fails_when_user_is_not_Grafana_Admin_and_Allow_assign_Grafana_Admin_was_changed
--- PASS: TestAllowAssignGrafanaAdminValidator (0.00s)
--- PASS: TestAllowAssignGrafanaAdminValidator/passes_when_user_is_Grafana_Admin_and_Allow_assign_Grafana_Admin_was_changed (0.00s)
--- PASS: TestAllowAssignGrafanaAdminValidator/passess_when_user_is_not_Grafana_Admin_and_Allow_assign_Grafana_Admin_was_not_changed (0.00s)
--- PASS: TestAllowAssignGrafanaAdminValidator/fails_when_user_is_not_Grafana_Admin_and_Allow_assign_Grafana_Admin_was_changed (0.00s)
=== RUN   TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator
=== RUN   TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator/passes_when_allow_assign_Grafana_Admin_is_set,_but_skip_org_role_sync_is_not_set
=== RUN   TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator/passes_when_allow_assign_Grafana_Admin_is_not_set,_but_skip_org_role_sync_is_set
=== RUN   TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator/fails_when_both_allow_assign_Grafana_Admin_and_skip_org_role_sync_is_set
--- PASS: TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator (0.00s)
--- PASS: TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator/passes_when_allow_assign_Grafana_Admin_is_set,_but_skip_org_role_sync_is_not_set (0.00s)
--- PASS: TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator/passes_when_allow_assign_Grafana_Admin_is_not_set,_but_skip_org_role_sync_is_set (0.00s)
--- PASS: TestSkipOrgRoleSyncAllowAssignGrafanaAdminValidator/fails_when_both_allow_assign_Grafana_Admin_and_skip_org_role_sync_is_set (0.00s)
=== RUN   TestOrgMappingValidator
=== RUN   TestOrgMappingValidator/passes_when_user_is_Grafana_Admin_and_Org_mapping_was_changed
=== RUN   TestOrgMappingValidator/passes_when_user_is_not_Grafana_Admin_and_Org_mapping_was_not_changed
=== RUN   TestOrgMappingValidator/fails_when_user_is_not_Grafana_Admin_and_Org_mapping_was_changed
--- PASS: TestOrgMappingValidator (0.00s)
--- PASS: TestOrgMappingValidator/passes_when_user_is_Grafana_Admin_and_Org_mapping_was_changed (0.00s)
--- PASS: TestOrgMappingValidator/passes_when_user_is_not_Grafana_Admin_and_Org_mapping_was_not_changed (0.00s)
--- PASS: TestOrgMappingValidator/fails_when_user_is_not_Grafana_Admin_and_Org_mapping_was_changed (0.00s)
=== RUN   TestOrgAttributePathValidator
=== RUN   TestOrgAttributePathValidator/passes_when_user_is_Grafana_Admin_and_Org_attribute_path_was_changed
=== RUN   TestOrgAttributePathValidator/passes_when_user_is_Grafana_Admin_and_Org_attribute_path_was_not_changed
=== RUN   TestOrgAttributePathValidator/fails_when_user_is_not_Grafana_Admin_and_Org_attribute_path_casing_was_changed
=== RUN   TestOrgAttributePathValidator/fails_when_user_is_not_Grafana_Admin_and_Org_attribute_path_was_changed
--- PASS: TestOrgAttributePathValidator (0.00s)
--- PASS: TestOrgAttributePathValidator/passes_when_user_is_Grafana_Admin_and_Org_attribute_path_was_changed (0.00s)
--- PASS: TestOrgAttributePathValidator/passes_when_user_is_Grafana_Admin_and_Org_attribute_path_was_not_changed (0.00s)
--- PASS: TestOrgAttributePathValidator/fails_when_user_is_not_Grafana_Admin_and_Org_attribute_path_casing_was_changed (0.00s)
--- PASS: TestOrgAttributePathValidator/fails_when_user_is_not_Grafana_Admin_and_Org_attribute_path_was_changed (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/ssosettings/validation	(cached)
?   	github.com/grafana/grafana/pkg/services/star	[no test files]
=== RUN   TestStarDashboardID
=== RUN   TestStarDashboardID/Star_dashboard_with_user
=== RUN   TestStarDashboardID/Star_dashboard_with_anonymous_user
=== RUN   TestStarDashboardID/Star_dashboard_with_API_Key
=== RUN   TestStarDashboardID/Star_dashboard_with_Service_Account
--- PASS: TestStarDashboardID (0.00s)
--- PASS: TestStarDashboardID/Star_dashboard_with_user (0.00s)
--- PASS: TestStarDashboardID/Star_dashboard_with_anonymous_user (0.00s)
--- PASS: TestStarDashboardID/Star_dashboard_with_API_Key (0.00s)
--- PASS: TestStarDashboardID/Star_dashboard_with_Service_Account (0.00s)
=== RUN   TestStarDashboardUID
=== RUN   TestStarDashboardUID/Star_dashboard_with_user
=== RUN   TestStarDashboardUID/Star_dashboard_with_anonymous_user
=== RUN   TestStarDashboardUID/Star_dashboard_with_API_Key
=== RUN   TestStarDashboardUID/Star_dashboard_with_Service_Account
--- PASS: TestStarDashboardUID (0.00s)
--- PASS: TestStarDashboardUID/Star_dashboard_with_user (0.00s)
--- PASS: TestStarDashboardUID/Star_dashboard_with_anonymous_user (0.00s)
--- PASS: TestStarDashboardUID/Star_dashboard_with_API_Key (0.00s)
--- PASS: TestStarDashboardUID/Star_dashboard_with_Service_Account (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/star/api	(cached)
=== RUN   TestIntegration_StarMigrations
--- PASS: TestIntegration_StarMigrations (0.41s)
=== RUN   TestIntegrationXormUserStarsDataAccess
xorm_store_test.go:11: skipping integration test
--- SKIP: TestIntegrationXormUserStarsDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/star/starimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/star/startest	[no test files]
?   	github.com/grafana/grafana/pkg/services/stats	[no test files]
=== RUN   TestIntegrationStatsDataAccess
stats_test.go:38: skipping integration test
--- SKIP: TestIntegrationStatsDataAccess (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/stats/statsimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/stats/statstest	[no test files]
=== RUN   TestIntegrationEntityEventsService
entity_events_test.go:28: skipping integration test
--- SKIP: TestIntegrationEntityEventsService (0.00s)
=== RUN   TestIntegrationCreateDatabaseEntityId
entity_events_test.go:151: skipping integration test
--- SKIP: TestIntegrationCreateDatabaseEntityId (0.00s)
=== RUN   TestListFiles
service_test.go:91: Skipping golden JSON frame test as it is flaky
--- SKIP: TestListFiles (0.23s)
=== RUN   TestListFilesWithoutPermissions
--- PASS: TestListFilesWithoutPermissions (0.00s)
=== RUN   TestShouldUploadWhenNoFileAlreadyExists
--- PASS: TestShouldUploadWhenNoFileAlreadyExists (0.00s)
=== RUN   TestShouldFailUploadWithoutAccess
--- PASS: TestShouldFailUploadWithoutAccess (0.00s)
=== RUN   TestShouldFailUploadWhenFileAlreadyExists
--- PASS: TestShouldFailUploadWhenFileAlreadyExists (0.00s)
=== RUN   TestShouldDelegateFileDeletion
--- PASS: TestShouldDelegateFileDeletion (0.00s)
=== RUN   TestShouldDelegateFolderCreation
--- PASS: TestShouldDelegateFolderCreation (0.00s)
=== RUN   TestShouldDelegateFolderDeletion
--- PASS: TestShouldDelegateFolderDeletion (0.00s)
=== RUN   TestShouldUploadSvg
--- PASS: TestShouldUploadSvg (0.00s)
=== RUN   TestShouldNotUploadHtmlDisguisedAsSvg
--- PASS: TestShouldNotUploadHtmlDisguisedAsSvg (0.00s)
=== RUN   TestShouldNotUploadJpgDisguisedAsSvg
--- PASS: TestShouldNotUploadJpgDisguisedAsSvg (0.00s)
=== RUN   TestSetupWithNonUniqueStoragePrefixes
--- PASS: TestSetupWithNonUniqueStoragePrefixes (0.00s)
=== RUN   TestContentRootWithNestedStorage
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Uploading_a_file_under_a_/content/nested/.._should_delegate_to_the_nested_storage
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Creating_a_/content/nested_folder_should_fail
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Deleting_a_/content/nested_folder_should_fail
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Listing_/content/nested_should_delegate_to_the_nested_root
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Listing_a_folder_inside_/content/nested/.._should_delegate_to_the_nested_root
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Listing_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Uploading_files_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Creating_folders_under_/content/nested/.._should_delegate_to_the_nested_roots
=== RUN   TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Creating_folders_under_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Uploading_a_file_under_a_/content/nested/.._should_delegate_to_the_nested_storage
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Creating_a_/content/nested_folder_should_fail
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Deleting_a_/content/nested_folder_should_fail
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Listing_/content/nested_should_delegate_to_the_nested_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Listing_a_folder_inside_/content/nested/.._should_delegate_to_the_nested_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Listing_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Uploading_files_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Creating_folders_under_/content/nested/.._should_delegate_to_the_nested_roots
=== RUN   TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Creating_folders_under_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Uploading_a_file_under_a_/content/nested/.._should_delegate_to_the_nested_storage
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Creating_a_/content/nested_folder_should_fail
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Deleting_a_/content/nested_folder_should_fail
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Listing_/content/nested_should_delegate_to_the_nested_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Listing_a_folder_inside_/content/nested/.._should_delegate_to_the_nested_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Listing_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Uploading_files_outside_of_the_nested_storages_should_delegate_to_the_content_root
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Creating_folders_under_/content/nested/.._should_delegate_to_the_nested_roots
=== RUN   TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Creating_folders_under_outside_of_the_nested_storages_should_delegate_to_the_content_root
--- PASS: TestContentRootWithNestedStorage (0.01s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Uploading_a_file_under_a_/content/nested/.._should_delegate_to_the_nested_storage (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Creating_a_/content/nested_folder_should_fail (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Deleting_a_/content/nested_folder_should_fail (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Listing_/content/nested_should_delegate_to_the_nested_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Listing_a_folder_inside_/content/nested/.._should_delegate_to_the_nested_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Listing_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Uploading_files_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Creating_folders_under_/content/nested/.._should_delegate_to_the_nested_roots (0.00s)
--- PASS: TestContentRootWithNestedStorage/global_user,_global_nested_storage:_Creating_folders_under_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Uploading_a_file_under_a_/content/nested/.._should_delegate_to_the_nested_storage (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Creating_a_/content/nested_folder_should_fail (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Deleting_a_/content/nested_folder_should_fail (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Listing_/content/nested_should_delegate_to_the_nested_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Listing_a_folder_inside_/content/nested/.._should_delegate_to_the_nested_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Listing_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Uploading_files_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Creating_folders_under_/content/nested/.._should_delegate_to_the_nested_roots (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_global_nested_storage:_Creating_folders_under_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Uploading_a_file_under_a_/content/nested/.._should_delegate_to_the_nested_storage (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Creating_a_/content/nested_folder_should_fail (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Deleting_a_/content/nested_folder_should_fail (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Listing_/content/nested_should_delegate_to_the_nested_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Listing_a_folder_inside_/content/nested/.._should_delegate_to_the_nested_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Listing_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Uploading_files_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Creating_folders_under_/content/nested/.._should_delegate_to_the_nested_roots (0.00s)
--- PASS: TestContentRootWithNestedStorage/non-global_user,_non-global_nested_storage:_Creating_folders_under_outside_of_the_nested_storages_should_delegate_to_the_content_root (0.00s)
=== RUN   TestShadowingExistingFolderByNestedContentRoot
--- PASS: TestShadowingExistingFolderByNestedContentRoot (0.00s)
=== RUN   TestGetDbStoragePathPrefix
=== RUN   TestGetDbStoragePathPrefix/orgId:_124,_storageName:_long-storage-name
--- PASS: TestGetDbStoragePathPrefix (0.00s)
--- PASS: TestGetDbStoragePathPrefix/orgId:_124,_storageName:_long-storage-name (0.00s)
=== RUN   TestRetrievalOfNotInitializedOrg
--- PASS: TestRetrievalOfNotInitializedOrg (0.00s)
=== RUN   TestRetrievalOfFilterForInitializedUser
--- PASS: TestRetrievalOfFilterForInitializedUser (0.00s)
=== RUN   TestRetrievalOfFilterForNotInitializedUser
--- PASS: TestRetrievalOfFilterForNotInitializedUser (0.00s)
=== RUN   TestGetFileNames
--- PASS: TestGetFileNames (0.00s)
=== RUN   TestGetFileNamesRootLevel
--- PASS: TestGetFileNamesRootLevel (0.00s)
=== RUN   TestUtils
--- PASS: TestUtils (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/store	0.693s
?   	github.com/grafana/grafana/pkg/services/store/entity	[no test files]
=== RUN   TestReadDashboard
--- PASS: TestReadDashboard (0.01s)
=== RUN   TestGdevReadSummaries
--- PASS: TestGdevReadSummaries (0.01s)
=== RUN   TestReadSummaries
--- PASS: TestReadSummaries (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/store/kind/dashboard	0.434s
=== RUN   TestResolver
--- PASS: TestResolver (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/store/resolver	(cached)
?   	github.com/grafana/grafana/pkg/services/store/sanitizer	[no test files]
?   	github.com/grafana/grafana/pkg/services/supportbundles	[no test files]
=== RUN   TestService_RegisterSupportItemCollector
=== RUN   TestService_RegisterSupportItemCollector/should_register_collector
=== RUN   TestService_RegisterSupportItemCollector/should_not_register_collector_with_same_UID
--- PASS: TestService_RegisterSupportItemCollector (0.00s)
--- PASS: TestService_RegisterSupportItemCollector/should_register_collector (0.00s)
--- PASS: TestService_RegisterSupportItemCollector/should_not_register_collector_with_same_UID (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/supportbundles/bundleregistry	(cached)
=== RUN   TestService_bundleCreate
--- PASS: TestService_bundleCreate (0.00s)
=== RUN   TestService_bundleEncryptDecrypt
--- PASS: TestService_bundleEncryptDecrypt (0.00s)
=== RUN   TestService_bundleEncryptDecryptMultipleRecipients
--- PASS: TestService_bundleEncryptDecryptMultipleRecipients (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/supportbundles/supportbundlesimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/supportbundles/supportbundlestest	[no test files]
=== RUN   TestParseTagPairs
=== RUN   TestParseTagPairs/Can_parse_one_empty_tag
=== RUN   TestParseTagPairs/Can_parse_valid_tags
=== RUN   TestParseTagPairs/Can_parse_tags_with_spaces
=== RUN   TestParseTagPairs/Can_parse_empty_tags
=== RUN   TestParseTagPairs/Can_parse_tags_with_extra_colons
=== RUN   TestParseTagPairs/Can_parse_tags_that_contains_key_and_values_with_spaces
=== RUN   TestParseTagPairs/Can_filter_out_duplicate_tags
=== RUN   TestParseTagPairs/Nil_tag_returns_an_allocated_but_empty_pair
--- PASS: TestParseTagPairs (0.00s)
--- PASS: TestParseTagPairs/Can_parse_one_empty_tag (0.00s)
--- PASS: TestParseTagPairs/Can_parse_valid_tags (0.00s)
--- PASS: TestParseTagPairs/Can_parse_tags_with_spaces (0.00s)
--- PASS: TestParseTagPairs/Can_parse_empty_tags (0.00s)
--- PASS: TestParseTagPairs/Can_parse_tags_with_extra_colons (0.00s)
--- PASS: TestParseTagPairs/Can_parse_tags_that_contains_key_and_values_with_spaces (0.00s)
--- PASS: TestParseTagPairs/Can_filter_out_duplicate_tags (0.00s)
--- PASS: TestParseTagPairs/Nil_tag_returns_an_allocated_but_empty_pair (0.00s)
=== RUN   TestJoinTagPairs
=== RUN   TestJoinTagPairs/Can_join_tag_pairs
--- PASS: TestJoinTagPairs (0.00s)
--- PASS: TestJoinTagPairs/Can_join_tag_pairs (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/tag	(cached)
=== RUN   TestIntegrationXormSavingTags
xorm_store_test.go:11: skipping integration test
--- SKIP: TestIntegrationXormSavingTags (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/tag/tagimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/team	[no test files]
=== RUN   TestSorter_Filters
--- PASS: TestSorter_Filters (0.00s)
=== RUN   TestSorter_OrderBy
=== RUN   TestSorter_OrderBy/team.email_case_sensitive_desc
=== RUN   TestSorter_OrderBy/member_count_sensitive_desc
=== RUN   TestSorter_OrderBy/team.name_case_insensitive_asc
--- PASS: TestSorter_OrderBy (0.00s)
--- PASS: TestSorter_OrderBy/team.email_case_sensitive_desc (0.00s)
--- PASS: TestSorter_OrderBy/member_count_sensitive_desc (0.00s)
--- PASS: TestSorter_OrderBy/team.name_case_insensitive_asc (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/team/sortopts	(cached)
=== RUN   TestAddTeamMembersAPIEndpoint
=== RUN   TestAddTeamMembersAPIEndpoint/should_be_able_to_add_team_member_with_correct_permission
=== RUN   TestAddTeamMembersAPIEndpoint/should_be_able_to_add_team_member_with_correct_permission_by_UID
=== RUN   TestAddTeamMembersAPIEndpoint/should_not_be_able_to_add_team_member_without_correct_permission
--- PASS: TestAddTeamMembersAPIEndpoint (0.00s)
--- PASS: TestAddTeamMembersAPIEndpoint/should_be_able_to_add_team_member_with_correct_permission (0.00s)
--- PASS: TestAddTeamMembersAPIEndpoint/should_be_able_to_add_team_member_with_correct_permission_by_UID (0.00s)
--- PASS: TestAddTeamMembersAPIEndpoint/should_not_be_able_to_add_team_member_without_correct_permission (0.00s)
=== RUN   TestGetTeamMembersAPIEndpoint
=== RUN   TestGetTeamMembersAPIEndpoint/should_be_able_to_get_team_members_with_correct_permission
=== RUN   TestGetTeamMembersAPIEndpoint/should_be_able_to_get_team_members_with_correct_permission_by_UID
=== RUN   TestGetTeamMembersAPIEndpoint/should_not_be_able_to_get_team_members_without_correct_permission
--- PASS: TestGetTeamMembersAPIEndpoint (0.00s)
--- PASS: TestGetTeamMembersAPIEndpoint/should_be_able_to_get_team_members_with_correct_permission (0.00s)
--- PASS: TestGetTeamMembersAPIEndpoint/should_be_able_to_get_team_members_with_correct_permission_by_UID (0.00s)
--- PASS: TestGetTeamMembersAPIEndpoint/should_not_be_able_to_get_team_members_without_correct_permission (0.00s)
=== RUN   TestUpdateTeamMembersAPIEndpoint
=== RUN   TestUpdateTeamMembersAPIEndpoint/should_be_able_to_update_team_member_with_correct_permission
=== RUN   TestUpdateTeamMembersAPIEndpoint/should_be_able_to_update_team_member_with_correct_permission_by_team_UID
=== RUN   TestUpdateTeamMembersAPIEndpoint/should_not_be_able_to_update_team_member_without_correct_permission
--- PASS: TestUpdateTeamMembersAPIEndpoint (0.01s)
--- PASS: TestUpdateTeamMembersAPIEndpoint/should_be_able_to_update_team_member_with_correct_permission (0.00s)
--- PASS: TestUpdateTeamMembersAPIEndpoint/should_be_able_to_update_team_member_with_correct_permission_by_team_UID (0.00s)
--- PASS: TestUpdateTeamMembersAPIEndpoint/should_not_be_able_to_update_team_member_without_correct_permission (0.00s)
=== RUN   TestUpdateTeamMembersFromProvisionedTeam
=== RUN   TestUpdateTeamMembersFromProvisionedTeam/should_not_be_able_to_update_team_member_from_a_provisioned_team
=== RUN   TestUpdateTeamMembersFromProvisionedTeam/should_not_be_able_to_update_team_member_from_a_provisioned_team_by_team_UID
--- PASS: TestUpdateTeamMembersFromProvisionedTeam (0.01s)
--- PASS: TestUpdateTeamMembersFromProvisionedTeam/should_not_be_able_to_update_team_member_from_a_provisioned_team (0.00s)
--- PASS: TestUpdateTeamMembersFromProvisionedTeam/should_not_be_able_to_update_team_member_from_a_provisioned_team_by_team_UID (0.00s)
=== RUN   TestDeleteTeamMembersAPIEndpoint
=== RUN   TestDeleteTeamMembersAPIEndpoint/should_be_able_to_delete_team_member_with_correct_permission
=== RUN   TestDeleteTeamMembersAPIEndpoint/should_not_be_able_to_delete_member_without_correct_permission
--- PASS: TestDeleteTeamMembersAPIEndpoint (0.00s)
--- PASS: TestDeleteTeamMembersAPIEndpoint/should_be_able_to_delete_team_member_with_correct_permission (0.00s)
--- PASS: TestDeleteTeamMembersAPIEndpoint/should_not_be_able_to_delete_member_without_correct_permission (0.00s)
=== RUN   TestDeleteTeamMembersFromProvisionedTeam
=== RUN   TestDeleteTeamMembersFromProvisionedTeam/should_not_be_able_to_delete_team_member_from_a_provisioned_team
--- PASS: TestDeleteTeamMembersFromProvisionedTeam (0.00s)
--- PASS: TestDeleteTeamMembersFromProvisionedTeam/should_not_be_able_to_delete_team_member_from_a_provisioned_team (0.00s)
=== RUN   Test_getTeamMembershipUpdates
=== RUN   Test_getTeamMembershipUpdates/should_correctly_list_members_and_admins_for_a_team_with_no_current_members_or_admins
=== RUN   Test_getTeamMembershipUpdates/should_correctly_diff_the_member_updates_for_a_team_with_existing_members_and_admins
=== RUN   Test_getTeamMembershipUpdates/should_correctly_update_membership_type_for_the_existing_members_and_admins
=== RUN   Test_getTeamMembershipUpdates/should_correctly_remove_current_members_and_admins_that_are_not_in_the_new_list
=== RUN   Test_getTeamMembershipUpdates/should_error_if_a_non-existent_user_is_provided
--- PASS: Test_getTeamMembershipUpdates (0.00s)
--- PASS: Test_getTeamMembershipUpdates/should_correctly_list_members_and_admins_for_a_team_with_no_current_members_or_admins (0.00s)
--- PASS: Test_getTeamMembershipUpdates/should_correctly_diff_the_member_updates_for_a_team_with_existing_members_and_admins (0.00s)
--- PASS: Test_getTeamMembershipUpdates/should_correctly_update_membership_type_for_the_existing_members_and_admins (0.00s)
--- PASS: Test_getTeamMembershipUpdates/should_correctly_remove_current_members_and_admins_that_are_not_in_the_new_list (0.00s)
--- PASS: Test_getTeamMembershipUpdates/should_error_if_a_non-existent_user_is_provided (0.00s)
=== RUN   TestTeamAPIEndpoint_CreateTeam
=== RUN   TestTeamAPIEndpoint_CreateTeam/Access_control_allows_creating_teams_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_CreateTeam/Access_control_prevents_creating_teams_with_the_incorrect_permissions
--- PASS: TestTeamAPIEndpoint_CreateTeam (0.00s)
--- PASS: TestTeamAPIEndpoint_CreateTeam/Access_control_allows_creating_teams_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_CreateTeam/Access_control_prevents_creating_teams_with_the_incorrect_permissions (0.00s)
=== RUN   TestTeamAPIEndpoint_SearchTeams
=== RUN   TestTeamAPIEndpoint_SearchTeams/Access_control_prevents_searching_for_teams_with_the_incorrect_permissions
=== RUN   TestTeamAPIEndpoint_SearchTeams/Access_control_allows_searching_for_teams_with_the_correct_permissions
--- PASS: TestTeamAPIEndpoint_SearchTeams (0.00s)
--- PASS: TestTeamAPIEndpoint_SearchTeams/Access_control_prevents_searching_for_teams_with_the_incorrect_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_SearchTeams/Access_control_allows_searching_for_teams_with_the_correct_permissions (0.00s)
=== RUN   TestTeamAPIEndpoint_GetTeamByID
=== RUN   TestTeamAPIEndpoint_GetTeamByID/Access_control_prevents_getting_a_team_when_missing_permissions
=== RUN   TestTeamAPIEndpoint_GetTeamByID/Access_control_allows_getting_a_team_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_GetTeamByID/Access_control_prevents_getting_a_team_when_missing_permissions_by_UID
=== RUN   TestTeamAPIEndpoint_GetTeamByID/Access_control_allows_getting_a_team_by_UID_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_GetTeamByID/Access_control_allows_getting_a_team_with_wildcard_scope
--- PASS: TestTeamAPIEndpoint_GetTeamByID (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamByID/Access_control_prevents_getting_a_team_when_missing_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamByID/Access_control_allows_getting_a_team_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamByID/Access_control_prevents_getting_a_team_when_missing_permissions_by_UID (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamByID/Access_control_allows_getting_a_team_by_UID_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamByID/Access_control_allows_getting_a_team_with_wildcard_scope (0.00s)
=== RUN   TestTeamAPIEndpoint_UpdateTeam
=== RUN   TestTeamAPIEndpoint_UpdateTeam/Access_control_allows_updating_team_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_UpdateTeam/Access_control_allows_updating_team_by_UID_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_UpdateTeam/Access_control_allows_updating_teams_with_the_wildcard_scope
=== RUN   TestTeamAPIEndpoint_UpdateTeam/Access_control_prevent_updating_a_team_with_wrong_scope
--- PASS: TestTeamAPIEndpoint_UpdateTeam (0.00s)
--- PASS: TestTeamAPIEndpoint_UpdateTeam/Access_control_allows_updating_team_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_UpdateTeam/Access_control_allows_updating_team_by_UID_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_UpdateTeam/Access_control_allows_updating_teams_with_the_wildcard_scope (0.00s)
--- PASS: TestTeamAPIEndpoint_UpdateTeam/Access_control_prevent_updating_a_team_with_wrong_scope (0.00s)
=== RUN   TestTeamAPIEndpoint_DeleteTeam
=== RUN   TestTeamAPIEndpoint_DeleteTeam/Access_control_prevents_deleting_teams_with_the_incorrect_permissions
=== RUN   TestTeamAPIEndpoint_DeleteTeam/Access_control_allows_deleting_teams_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_DeleteTeam/Access_control_allows_deleting_teams_with_the_correct_permissions_by_UID
--- PASS: TestTeamAPIEndpoint_DeleteTeam (0.01s)
--- PASS: TestTeamAPIEndpoint_DeleteTeam/Access_control_prevents_deleting_teams_with_the_incorrect_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_DeleteTeam/Access_control_allows_deleting_teams_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_DeleteTeam/Access_control_allows_deleting_teams_with_the_correct_permissions_by_UID (0.00s)
=== RUN   TestTeamAPIEndpoint_GetTeamPreferences
=== RUN   TestTeamAPIEndpoint_GetTeamPreferences/Access_control_allows_getting_team_preferences_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_GetTeamPreferences/Access_control_allows_getting_team_preferences_with_the_correct_permissions_by_UID
=== RUN   TestTeamAPIEndpoint_GetTeamPreferences/Access_control_prevents_getting_team_preferences_with_the_incorrect_permissions
--- PASS: TestTeamAPIEndpoint_GetTeamPreferences (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamPreferences/Access_control_allows_getting_team_preferences_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamPreferences/Access_control_allows_getting_team_preferences_with_the_correct_permissions_by_UID (0.00s)
--- PASS: TestTeamAPIEndpoint_GetTeamPreferences/Access_control_prevents_getting_team_preferences_with_the_incorrect_permissions (0.00s)
=== RUN   TestTeamAPIEndpoint_UpdateTeamPreferences
=== RUN   TestTeamAPIEndpoint_UpdateTeamPreferences/Access_control_allows_updating_team_preferences_with_the_correct_permissions
=== RUN   TestTeamAPIEndpoint_UpdateTeamPreferences/Access_control_prevents_updating_team_preferences_with_the_incorrect_permissions
--- PASS: TestTeamAPIEndpoint_UpdateTeamPreferences (0.00s)
--- PASS: TestTeamAPIEndpoint_UpdateTeamPreferences/Access_control_allows_updating_team_preferences_with_the_correct_permissions (0.00s)
--- PASS: TestTeamAPIEndpoint_UpdateTeamPreferences/Access_control_prevents_updating_team_preferences_with_the_incorrect_permissions (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/team/teamapi	(cached)
=== RUN   TestIntegrationTeamCommandsAndQueries
store_test.go:34: skipping integration test
--- SKIP: TestIntegrationTeamCommandsAndQueries (0.00s)
=== RUN   TestIntegrationSQLStore_SearchTeams
store_test.go:501: skipping integration test
--- SKIP: TestIntegrationSQLStore_SearchTeams (0.00s)
=== RUN   TestIntegrationSQLStore_GetTeamMembers_ACFilter
store_test.go:585: skipping integration test
--- SKIP: TestIntegrationSQLStore_GetTeamMembers_ACFilter (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/team/teamimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/team/teamtest	[no test files]
?   	github.com/grafana/grafana/pkg/services/temp_user	[no test files]
=== RUN   TestIntegrationTempUserCommandsAndQueries
store_test.go:21: skipping integration test
--- SKIP: TestIntegrationTempUserCommandsAndQueries (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/temp_user/tempuserimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/temp_user/tempusertest	[no test files]
=== RUN   TestGrafanaService
=== PAUSE TestGrafanaService
=== RUN   TestGrafanaService_Run
--- PASS: TestGrafanaService_Run (0.02s)
=== RUN   TestPluginUpdateChecker_HasUpdate
=== RUN   TestPluginUpdateChecker_HasUpdate/update_is_available
=== RUN   TestPluginUpdateChecker_HasUpdate/update_is_not_available
=== RUN   TestPluginUpdateChecker_HasUpdate/update_is_available_but_plugin_is_not_in_store
--- PASS: TestPluginUpdateChecker_HasUpdate (0.00s)
--- PASS: TestPluginUpdateChecker_HasUpdate/update_is_available (0.00s)
--- PASS: TestPluginUpdateChecker_HasUpdate/update_is_not_available (0.00s)
--- PASS: TestPluginUpdateChecker_HasUpdate/update_is_available_but_plugin_is_not_in_store (0.00s)
=== RUN   TestPluginUpdateChecker_checkForUpdates
=== RUN   TestPluginUpdateChecker_checkForUpdates/update_is_available
--- PASS: TestPluginUpdateChecker_checkForUpdates (0.00s)
--- PASS: TestPluginUpdateChecker_checkForUpdates/update_is_available (0.00s)
=== CONT  TestGrafanaService
=== RUN   TestGrafanaService/when_the_Grafana_version_is_stable
=== PAUSE TestGrafanaService/when_the_Grafana_version_is_stable
=== RUN   TestGrafanaService/when_the_Grafana_version_is_a_development_build
=== PAUSE TestGrafanaService/when_the_Grafana_version_is_a_development_build
=== CONT  TestGrafanaService/when_the_Grafana_version_is_stable
=== RUN   TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_newer_than_the_current_one
=== PAUSE TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_newer_than_the_current_one
=== RUN   TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_the_same_as_the_current_one
=== PAUSE TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_the_same_as_the_current_one
=== CONT  TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_newer_than_the_current_one
=== CONT  TestGrafanaService/when_the_Grafana_version_is_a_development_build
=== CONT  TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_the_same_as_the_current_one
--- PASS: TestGrafanaService (0.00s)
--- PASS: TestGrafanaService/when_the_Grafana_version_is_a_development_build (0.00s)
--- PASS: TestGrafanaService/when_the_Grafana_version_is_stable (0.00s)
--- PASS: TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_newer_than_the_current_one (0.00s)
--- PASS: TestGrafanaService/when_the_Grafana_version_is_stable/and_the_latest_version_is_the_same_as_the_current_one (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/updatechecker	(cached)
=== RUN   TestIdentityGetName
--- PASS: TestIdentityGetName (0.00s)
=== RUN   TestPasswowrdService_ValidatePasswordHardcodePolicy
--- PASS: TestPasswowrdService_ValidatePasswordHardcodePolicy (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/user	(cached)
=== RUN   TestIntegrationUserDataAccess
store_test.go:36: skipping integration test
--- SKIP: TestIntegrationUserDataAccess (0.00s)
=== RUN   TestIntegrationUserUpdate
store_test.go:957: skipping integration test
--- SKIP: TestIntegrationUserUpdate (0.00s)
=== RUN   TestMetricsUsage
=== RUN   TestMetricsUsage/Get_empty_role_metrics_for_an_org
--- PASS: TestMetricsUsage (0.37s)
--- PASS: TestMetricsUsage/Get_empty_role_metrics_for_an_org (0.00s)
=== RUN   TestUserService
=== RUN   TestUserService/create_user
=== RUN   TestUserService/create_user_should_fail_when_username_and_email_are_empty
=== RUN   TestUserService/get_user_by_ID
=== RUN   TestUserService/delete_user_store_returns_error
=== RUN   TestUserService/delete_user_successfully
=== RUN   TestUserService/delete_user_store_returns_error#01
=== RUN   TestUserService/delete_user_successfully#01
=== RUN   TestUserService/GetByID_-_email_conflict
=== RUN   TestUserService/Testing_DB_-_return_list_users_based_on_their_is_disabled_flag
=== RUN   TestUserService/SignedInUserQuery_with_a_different_org
--- PASS: TestUserService (0.00s)
--- PASS: TestUserService/create_user (0.00s)
--- PASS: TestUserService/create_user_should_fail_when_username_and_email_are_empty (0.00s)
--- PASS: TestUserService/get_user_by_ID (0.00s)
--- PASS: TestUserService/delete_user_store_returns_error (0.00s)
--- PASS: TestUserService/delete_user_successfully (0.00s)
--- PASS: TestUserService/delete_user_store_returns_error#01 (0.00s)
--- PASS: TestUserService/delete_user_successfully#01 (0.00s)
--- PASS: TestUserService/GetByID_-_email_conflict (0.00s)
--- PASS: TestUserService/Testing_DB_-_return_list_users_based_on_their_is_disabled_flag (0.00s)
--- PASS: TestUserService/SignedInUserQuery_with_a_different_org (0.00s)
=== RUN   TestService_Update
=== RUN   TestService_Update/should_return_error_if_old_password_does_not_match_stored_password
=== RUN   TestService_Update/should_return_error_new_password_is_not_valid
=== RUN   TestService_Update/Can_set_using_org
=== RUN   TestService_Update/Cannot_set_using_org_when_user_is_not_member_of_it
--- PASS: TestService_Update (0.02s)
--- PASS: TestService_Update/should_return_error_if_old_password_does_not_match_stored_password (0.01s)
--- PASS: TestService_Update/should_return_error_new_password_is_not_valid (0.01s)
--- PASS: TestService_Update/Can_set_using_org (0.00s)
--- PASS: TestService_Update/Cannot_set_using_org_when_user_is_not_member_of_it (0.00s)
=== RUN   TestUpdateLastSeenAt
=== RUN   TestUpdateLastSeenAt/update_last_seen_at
=== RUN   TestUpdateLastSeenAt/do_not_update_last_seen_at
--- PASS: TestUpdateLastSeenAt (0.00s)
--- PASS: TestUpdateLastSeenAt/update_last_seen_at (0.00s)
--- PASS: TestUpdateLastSeenAt/do_not_update_last_seen_at (0.00s)
=== RUN   TestMetrics
=== RUN   TestMetrics/update_user_with_role_None
--- PASS: TestMetrics (0.00s)
--- PASS: TestMetrics/update_user_with_role_None (0.00s)
=== RUN   TestVerifier_Start
=== RUN   TestVerifier_Start/should_error_if_email_already_exist_for_other_user
=== RUN   TestVerifier_Start/should_succeed_when_no_user_has_the_email
=== RUN   TestVerifier_Start/should_succeed_when_the_user_holding_the_email_is_the_same_user_that_want_to_verify_it
--- PASS: TestVerifier_Start (0.00s)
--- PASS: TestVerifier_Start/should_error_if_email_already_exist_for_other_user (0.00s)
--- PASS: TestVerifier_Start/should_succeed_when_no_user_has_the_email (0.00s)
--- PASS: TestVerifier_Start/should_succeed_when_the_user_holding_the_email_is_the_same_user_that_want_to_verify_it (0.00s)
=== RUN   TestVerifier_Complete
=== RUN   TestVerifier_Complete/should_return_error_for_invalid_code
=== RUN   TestVerifier_Complete/should_return_error_when_verification_has_wrong_status
=== RUN   TestVerifier_Complete/should_return_error_when_verification_email_was_never_sent
=== RUN   TestVerifier_Complete/should_return_error_when_verification_code_has_expired
=== RUN   TestVerifier_Complete/should_return_error_user_connect_to_code_don't_exists
=== RUN   TestVerifier_Complete/should_update_user_email_on_valid_code
=== RUN   TestVerifier_Complete/should_update_user_email_and_login_if_login_is_an_email_on_valid_code
--- PASS: TestVerifier_Complete (0.00s)
--- PASS: TestVerifier_Complete/should_return_error_for_invalid_code (0.00s)
--- PASS: TestVerifier_Complete/should_return_error_when_verification_has_wrong_status (0.00s)
--- PASS: TestVerifier_Complete/should_return_error_when_verification_email_was_never_sent (0.00s)
--- PASS: TestVerifier_Complete/should_return_error_when_verification_code_has_expired (0.00s)
--- PASS: TestVerifier_Complete/should_return_error_user_connect_to_code_don't_exists (0.00s)
--- PASS: TestVerifier_Complete/should_update_user_email_on_valid_code (0.00s)
--- PASS: TestVerifier_Complete/should_update_user_email_and_login_if_login_is_an_email_on_valid_code (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/services/user/userimpl	(cached)
?   	github.com/grafana/grafana/pkg/services/user/usertest	[no test files]
?   	github.com/grafana/grafana/pkg/services/validations	[no test files]
=== RUN   TestValueAsTimezone
--- PASS: TestValueAsTimezone (0.00s)
=== RUN   TestDynamicSettingsSupport_Override
--- PASS: TestDynamicSettingsSupport_Override (0.00s)
=== RUN   TestDynamicSettingsSupport_NoOverride
--- PASS: TestDynamicSettingsSupport_NoOverride (0.00s)
=== RUN   TestExpandVar_EnvSuccessful
--- PASS: TestExpandVar_EnvSuccessful (0.00s)
=== RUN   TestExpandVar_FileSuccessful
--- PASS: TestExpandVar_FileSuccessful (0.00s)
=== RUN   TestExpandVar_FileDoesNotExist
--- PASS: TestExpandVar_FileDoesNotExist (0.00s)
=== RUN   TestExpanderRegex
--- PASS: TestExpanderRegex (0.00s)
=== RUN   TestAzureSettings
=== RUN   TestAzureSettings/cloud_name
=== RUN   TestAzureSettings/cloud_name/should_be_Public_if_not_set
=== RUN   TestAzureSettings/cloud_name/should_be_Public_if_set_to_Public
=== RUN   TestAzureSettings/cloud_name/should_be_Public_if_set_to_Public_using_alternative_name
=== RUN   TestAzureSettings/cloud_name/should_be_China_if_set_to_China
=== RUN   TestAzureSettings/cloud_name/should_be_US_Government_if_set_to_US_Government_using_alternative_name
=== RUN   TestAzureSettings/cloud_name/should_be_same_as_set_if_not_known
=== RUN   TestAzureSettings/prometheus
=== RUN   TestAzureSettings/prometheus/should_enable_azure_auth
=== RUN   TestAzureSettings/prometheus/should_default_to_disabled
=== RUN   TestAzureSettings/User_Identity
=== RUN   TestAzureSettings/User_Identity/should_be_disabled_by_default
=== RUN   TestAzureSettings/User_Identity/should_be_enabled
=== RUN   TestAzureSettings/User_Identity/enables_service_credentials_by_default
=== RUN   TestAzureSettings/User_Identity/disables_service_credentials
=== RUN   TestAzureSettings/User_Identity/should_use_token_endpoint_from_Azure_AD_if_enabled
=== RUN   TestAzureSettings/User_Identity/should_not_use_token_endpoint_from_Azure_AD_if_not_enabled
=== RUN   TestAzureSettings/User_Identity/should_override_Azure_AD_settings
=== RUN   TestAzureSettings/User_Identity/should_not_use_secret_from_Azure_AD_if_client_ID_overridden
=== RUN   TestAzureSettings/User_Identity/does_not_enable_username_assertion_by_default
=== RUN   TestAzureSettings/User_Identity/should_appropriately_set_username_assertion
=== RUN   TestAzureSettings/forward_settings_to_plugins
=== RUN   TestAzureSettings/forward_settings_to_plugins/should_be_set_to_user_plugins_if_set
--- PASS: TestAzureSettings (0.00s)
--- PASS: TestAzureSettings/cloud_name (0.00s)
--- PASS: TestAzureSettings/cloud_name/should_be_Public_if_not_set (0.00s)
--- PASS: TestAzureSettings/cloud_name/should_be_Public_if_set_to_Public (0.00s)
--- PASS: TestAzureSettings/cloud_name/should_be_Public_if_set_to_Public_using_alternative_name (0.00s)
--- PASS: TestAzureSettings/cloud_name/should_be_China_if_set_to_China (0.00s)
--- PASS: TestAzureSettings/cloud_name/should_be_US_Government_if_set_to_US_Government_using_alternative_name (0.00s)
--- PASS: TestAzureSettings/cloud_name/should_be_same_as_set_if_not_known (0.00s)
--- PASS: TestAzureSettings/prometheus (0.00s)
--- PASS: TestAzureSettings/prometheus/should_enable_azure_auth (0.00s)
--- PASS: TestAzureSettings/prometheus/should_default_to_disabled (0.00s)
--- PASS: TestAzureSettings/User_Identity (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_be_disabled_by_default (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_be_enabled (0.00s)
--- PASS: TestAzureSettings/User_Identity/enables_service_credentials_by_default (0.00s)
--- PASS: TestAzureSettings/User_Identity/disables_service_credentials (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_use_token_endpoint_from_Azure_AD_if_enabled (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_not_use_token_endpoint_from_Azure_AD_if_not_enabled (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_override_Azure_AD_settings (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_not_use_secret_from_Azure_AD_if_client_ID_overridden (0.00s)
--- PASS: TestAzureSettings/User_Identity/does_not_enable_username_assertion_by_default (0.00s)
--- PASS: TestAzureSettings/User_Identity/should_appropriately_set_username_assertion (0.00s)
--- PASS: TestAzureSettings/forward_settings_to_plugins (0.00s)
--- PASS: TestAzureSettings/forward_settings_to_plugins/should_be_set_to_user_plugins_if_set (0.00s)
=== RUN   TestFeatureToggles
--- PASS: TestFeatureToggles (0.00s)
=== RUN   TestPluginSettings
--- PASS: TestPluginSettings (0.00s)
=== RUN   Test_readPluginSettings
=== RUN   Test_readPluginSettings/should_parse_separated_plugin_ids
=== RUN   Test_readPluginSettings/should_parse_separated_plugin_ids/commas
=== RUN   Test_readPluginSettings/should_parse_separated_plugin_ids/commas_and_a_space
=== RUN   Test_readPluginSettings/should_parse_separated_plugin_ids/spaces
=== RUN   Test_readPluginSettings/should_parse_separated_plugin_ids/json-like
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_add_the_default_preinstalled_plugin
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_add_the_default_preinstalled_plugin_and_the_one_defined
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_add_the_default_preinstalled_plugin_and_the_one_defined_with_version
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/it_should_remove_the_disabled_plugin
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/it_should_remove_default_plugins
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_ignore_input_when_preinstall_is_disabled
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_mark_preinstall_as_sync
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_parse_a_plugin_with_version_and_URL
=== RUN   Test_readPluginSettings/when_plugins.preinstall_is_defined/should_parse_a_plugin_with_URL
--- PASS: Test_readPluginSettings (0.01s)
--- PASS: Test_readPluginSettings/should_parse_separated_plugin_ids (0.00s)
--- PASS: Test_readPluginSettings/should_parse_separated_plugin_ids/commas (0.00s)
--- PASS: Test_readPluginSettings/should_parse_separated_plugin_ids/commas_and_a_space (0.00s)
--- PASS: Test_readPluginSettings/should_parse_separated_plugin_ids/spaces (0.00s)
--- PASS: Test_readPluginSettings/should_parse_separated_plugin_ids/json-like (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined (0.01s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_add_the_default_preinstalled_plugin (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_add_the_default_preinstalled_plugin_and_the_one_defined (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_add_the_default_preinstalled_plugin_and_the_one_defined_with_version (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/it_should_remove_the_disabled_plugin (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/it_should_remove_default_plugins (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_ignore_input_when_preinstall_is_disabled (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_mark_preinstall_as_sync (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_parse_a_plugin_with_version_and_URL (0.00s)
--- PASS: Test_readPluginSettings/when_plugins.preinstall_is_defined/should_parse_a_plugin_with_URL (0.00s)
=== RUN   TestReadSecureSocksDSProxySettings
=== PAUSE TestReadSecureSocksDSProxySettings
=== RUN   TestSessionSettings
=== RUN   TestSessionSettings/Reading_session_should_log_error_
--- PASS: TestSessionSettings (0.01s)
--- PASS: TestSessionSettings/Reading_session_should_log_error_ (0.01s)
=== RUN   TestLoadSmtpStaticHeaders
=== RUN   TestLoadSmtpStaticHeaders/will_load_valid_headers
=== RUN   TestLoadSmtpStaticHeaders/will_load_no_static_headers_into_smtp_config_when_section_is_defined_but_has_no_keys
=== RUN   TestLoadSmtpStaticHeaders/will_load_no_static_headers_into_smtp_config_when_section_is_not_defined
=== RUN   TestLoadSmtpStaticHeaders/will_return_error_when_header_label_is_not_in_valid_format
--- PASS: TestLoadSmtpStaticHeaders (0.00s)
--- PASS: TestLoadSmtpStaticHeaders/will_load_valid_headers (0.00s)
--- PASS: TestLoadSmtpStaticHeaders/will_load_no_static_headers_into_smtp_config_when_section_is_defined_but_has_no_keys (0.00s)
--- PASS: TestLoadSmtpStaticHeaders/will_load_no_static_headers_into_smtp_config_when_section_is_not_defined (0.00s)
--- PASS: TestLoadSmtpStaticHeaders/will_return_error_when_header_label_is_not_in_valid_format (0.00s)
=== RUN   TestSmtpHeaderValidation
--- PASS: TestSmtpHeaderValidation (0.00s)
=== RUN   TestLoadingSettings
=== RUN   TestLoadingSettings/Given_the_default_ini_files
logger=settings t=2025-04-15T08:38:02.825757904Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.826142483Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.826160828Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.826171728Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.826195202Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.82620491Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.826214137Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.826224236Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.826233994Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.826951165Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/default.ini_should_have_no_semi-colon_commented_entries
=== RUN   TestLoadingSettings/sample.ini_should_load_successfully
logger=settings t=2025-04-15T08:38:02.834442041Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.83477867Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.834793979Z level=info msg="Config loaded from" file=../../conf/sample.ini
logger=settings t=2025-04-15T08:38:02.834804058Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.834817964Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.834827561Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.834836739Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.834854311Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.834870201Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.834878056Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_be_able_to_override_via_environment_variables
logger=settings t=2025-04-15T08:38:02.849937692Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.850288659Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.850305651Z level=info msg="Config overridden from Environment variable" var="GF_SECURITY_ADMIN_USER=superduper"
logger=settings t=2025-04-15T08:38:02.850314828Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.850328954Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.850336839Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.850344493Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.850351927Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.850359571Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.850367336Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_be_able_to_expand_parameter_from_environment_variables
logger=settings t=2025-04-15T08:38:02.857976543Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.858270262Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.858294808Z level=info msg="Config overridden from Environment variable" var="GF_AUTH_GENERIC_OAUTH_AUTH_URL=${DEFAULT_IDP_URL}/auth"
logger=settings t=2025-04-15T08:38:02.858301941Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.85831202Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.85831753Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.858323181Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.85832828Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.85833351Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.85833859Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_replace_password_when_defined_in_environment
logger=settings t=2025-04-15T08:38:02.860647219Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.860905321Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.860934466Z level=info msg="Config overridden from Environment variable" var="GF_SECURITY_ADMIN_PASSWORD=*********"
logger=settings t=2025-04-15T08:38:02.860941188Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.860951428Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.860956898Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.860962418Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.860972507Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.860989208Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.860999317Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_replace_password_in_URL_when_url_environment_is_defined
logger=settings t=2025-04-15T08:38:02.863494222Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.863800464Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.863813248Z level=info msg="Config overridden from Environment variable" var="GF_DATABASE_URL=***localhost:3306/database"
logger=settings t=2025-04-15T08:38:02.863822976Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.863834087Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.863841992Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.863859284Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.863867429Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.863875023Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.863882908Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_get_property_map_from_command_line_args_array
=== RUN   TestLoadingSettings/Should_be_able_to_override_via_command_line
logger=settings t=2025-04-15T08:38:02.867633718Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.867881842Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.867893194Z level=info msg="Config overridden from command line" arg="paths.data=/tmp/data"
logger=settings t=2025-04-15T08:38:02.867898964Z level=info msg="Config overridden from command line" arg="paths.logs=/tmp/logs"
logger=settings t=2025-04-15T08:38:02.867904635Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.867913862Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.867919182Z level=info msg="Path Data" path=/tmp/data
logger=settings t=2025-04-15T08:38:02.867924071Z level=info msg="Path Logs" path=/tmp/logs
logger=settings t=2025-04-15T08:38:02.86792885Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.867933799Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.867939089Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_be_able_to_override_defaults_via_command_line
logger=settings t=2025-04-15T08:38:02.870907289Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.871289353Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.871333556Z level=info msg="Config loaded from" file=../../pkg/setting/testdata/override.ini
logger=settings t=2025-04-15T08:38:02.871343394Z level=info msg="Config overridden from command line" arg="default.server.domain=test2"
logger=settings t=2025-04-15T08:38:02.871355347Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.871373681Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.871386375Z level=info msg="Path Data" path=/tmp/override
logger=settings t=2025-04-15T08:38:02.87139461Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.871406793Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.87142131Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.871429635Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Should_be_able_to_override_TLS_version_via_command_line
logger=settings t=2025-04-15T08:38:02.876679283Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.877001816Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.877036982Z level=info msg="Config loaded from" file=../../pkg/setting/testdata/override.ini
logger=settings t=2025-04-15T08:38:02.87704667Z level=info msg="Config overridden from command line" arg="default.server.min_tls_version=TLS1.3"
logger=settings t=2025-04-15T08:38:02.877055186Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.8770679Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.877075274Z level=info msg="Path Data" path=/tmp/override
logger=settings t=2025-04-15T08:38:02.877082367Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.877090171Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.877097926Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.87710534Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Defaults_can_be_overridden_in_specified_config_file
logger=settings t=2025-04-15T08:38:02.882833104Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.883191705Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.883215399Z level=info msg="Config loaded from" file=../../pkg/setting/testdata/override.ini
logger=settings t=2025-04-15T08:38:02.883224145Z level=info msg="Config overridden from command line" arg="default.paths.data=/tmp/data"
logger=settings t=2025-04-15T08:38:02.883240706Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.883256937Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.883264601Z level=info msg="Path Data" path=/tmp/override
logger=settings t=2025-04-15T08:38:02.883275211Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.883283156Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.883293245Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.88330143Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Command_line_overrides_specified_config_file
logger=settings t=2025-04-15T08:38:02.886447612Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.886760026Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.88677825Z level=info msg="Config loaded from" file=../../pkg/setting/testdata/override.ini
logger=settings t=2025-04-15T08:38:02.886786305Z level=info msg="Config overridden from command line" arg="paths.data=/tmp/data"
logger=settings t=2025-04-15T08:38:02.886794641Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.886809869Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.886824417Z level=info msg="Path Data" path=/tmp/data
logger=settings t=2025-04-15T08:38:02.886834325Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.886841589Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.8868528Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.886860644Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Can_use_environment_variables_in_config_values
logger=settings t=2025-04-15T08:38:02.889990226Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.890356641Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.890396485Z level=info msg="Config overridden from command line" arg="paths.data=${GF_DATA_PATH}"
logger=settings t=2025-04-15T08:38:02.890405322Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.890417755Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.890429888Z level=info msg="Path Data" path=/tmp/env_override
logger=settings t=2025-04-15T08:38:02.890437572Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.890448843Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.890456608Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.890467638Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/instance_name_default_to_hostname_even_if_hostname_env_is_empty
logger=settings t=2025-04-15T08:38:02.893518913Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.893833572Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.893851786Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.893863497Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.893876292Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.893884156Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.893895157Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.893902841Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.893913731Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Only_sync_ttl_should_return_the_value_sync_ttl
logger=settings t=2025-04-15T08:38:02.899482535Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.899870421Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.899885188Z level=info msg="Config overridden from command line" arg="auth.proxy.sync_ttl=2"
logger=settings t=2025-04-15T08:38:02.899894746Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.899909053Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.899917348Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.899925223Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.899934721Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.899943307Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.899951602Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Test_reading_string_values_from_.ini_file
logger=settings t=2025-04-15T08:38:02.903733493Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.90414891Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.904181631Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.904196779Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.904205756Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.904214062Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.904222207Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.904230252Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.904239069Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/Test_reading_string_values_from_.ini_file/If_key_is_found_-_should_return_value_from_ini_file
=== RUN   TestLoadingSettings/Test_reading_string_values_from_.ini_file/If_key_is_not_found_-_should_return_default_value
=== RUN   TestLoadingSettings/grafana.com_API_URL_can_be_set_separately_from_grafana.com_URL
logger=settings t=2025-04-15T08:38:02.910602005Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.911109845Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.911138839Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.911148627Z level=info msg="Config overridden from Environment variable" var="GF_GRAFANA_NET_URL=https://grafana-dev.com"
logger=settings t=2025-04-15T08:38:02.911158135Z level=info msg="Config overridden from Environment variable" var="GF_GRAFANA_COM_API_URL=http://grafana-dev.internal/api"
logger=settings t=2025-04-15T08:38:02.911167663Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.911200023Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.911209611Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.911218728Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.911227615Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.911236572Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.911290673Z level=info msg="App mode production"
=== RUN   TestLoadingSettings/grafana.com_API_URL_falls_back_to_grafana.com_URL_+_/api
logger=settings t=2025-04-15T08:38:02.914437206Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.914779946Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.914801597Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.914813479Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.914821344Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.914832395Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.91484083Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.914852112Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.914895803Z level=info msg="App mode production"
--- PASS: TestLoadingSettings (0.10s)
--- PASS: TestLoadingSettings/Given_the_default_ini_files (0.01s)
--- PASS: TestLoadingSettings/default.ini_should_have_no_semi-colon_commented_entries (0.00s)
--- PASS: TestLoadingSettings/sample.ini_should_load_successfully (0.01s)
--- PASS: TestLoadingSettings/Should_be_able_to_override_via_environment_variables (0.01s)
--- PASS: TestLoadingSettings/Should_be_able_to_expand_parameter_from_environment_variables (0.01s)
--- PASS: TestLoadingSettings/Should_replace_password_when_defined_in_environment (0.00s)
--- PASS: TestLoadingSettings/Should_replace_password_in_URL_when_url_environment_is_defined (0.00s)
--- PASS: TestLoadingSettings/Should_get_property_map_from_command_line_args_array (0.00s)
--- PASS: TestLoadingSettings/Should_be_able_to_override_via_command_line (0.00s)
--- PASS: TestLoadingSettings/Should_be_able_to_override_defaults_via_command_line (0.00s)
--- PASS: TestLoadingSettings/Should_be_able_to_override_TLS_version_via_command_line (0.01s)
--- PASS: TestLoadingSettings/Defaults_can_be_overridden_in_specified_config_file (0.01s)
--- PASS: TestLoadingSettings/Command_line_overrides_specified_config_file (0.00s)
--- PASS: TestLoadingSettings/Can_use_environment_variables_in_config_values (0.00s)
--- PASS: TestLoadingSettings/instance_name_default_to_hostname_even_if_hostname_env_is_empty (0.00s)
--- PASS: TestLoadingSettings/Only_sync_ttl_should_return_the_value_sync_ttl (0.01s)
--- PASS: TestLoadingSettings/Test_reading_string_values_from_.ini_file (0.00s)
--- PASS: TestLoadingSettings/Test_reading_string_values_from_.ini_file/If_key_is_found_-_should_return_value_from_ini_file (0.00s)
--- PASS: TestLoadingSettings/Test_reading_string_values_from_.ini_file/If_key_is_not_found_-_should_return_default_value (0.00s)
--- PASS: TestLoadingSettings/grafana.com_API_URL_can_be_set_separately_from_grafana.com_URL (0.01s)
--- PASS: TestLoadingSettings/grafana.com_API_URL_falls_back_to_grafana.com_URL_+_/api (0.00s)
=== RUN   TestParseAppURLAndSubURL
--- PASS: TestParseAppURLAndSubURL (0.00s)
=== RUN   TestAuthDurationSettings
logger=settings t=2025-04-15T08:38:02.915163924Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
logger=settings t=2025-04-15T08:38:02.91524726Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
logger=settings t=2025-04-15T08:38:02.91531652Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
logger=settings t=2025-04-15T08:38:02.915386391Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
logger=settings t=2025-04-15T08:38:02.915451983Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
--- PASS: TestAuthDurationSettings (0.00s)
=== RUN   TestGetCDNPath
=== RUN   TestGetCDNPath/should_return_CDN_url_as_expected
=== RUN   TestGetCDNPath/should_error_if_BuildVersion__is_not_set
--- PASS: TestGetCDNPath (0.00s)
--- PASS: TestGetCDNPath/should_return_CDN_url_as_expected (0.00s)
--- PASS: TestGetCDNPath/should_error_if_BuildVersion__is_not_set (0.00s)
=== RUN   TestGetCDNPathWithPreReleaseVersionAndSubPath
--- PASS: TestGetCDNPathWithPreReleaseVersionAndSubPath (0.00s)
=== RUN   TestGetCDNPathWithAlphaVersion
--- PASS: TestGetCDNPathWithAlphaVersion (0.00s)
=== RUN   TestAlertingEnabled
=== RUN   TestAlertingEnabled/fail_if_legacy_alerting_enabled
logger=settings t=2025-04-15T08:38:02.915767183Z level=error msg="Option '[alerting].enabled' cannot be true. Legacy Alerting is removed. It is no longer deployed, enhanced, or supported. Delete '[alerting].enabled' and use '[unified_alerting].enabled' to enable Grafana Alerting. For more information, refer to the documentation on upgrading to Grafana Alerting (https://grafana.com/docs/grafana/v10.4/alerting/set-up/migrating-alerts)"
=== RUN   TestAlertingEnabled/do_nothing_if_it_is_disabled
=== RUN   TestAlertingEnabled/do_nothing_if_it_invalid
--- PASS: TestAlertingEnabled (0.00s)
--- PASS: TestAlertingEnabled/fail_if_legacy_alerting_enabled (0.00s)
--- PASS: TestAlertingEnabled/do_nothing_if_it_is_disabled (0.00s)
--- PASS: TestAlertingEnabled/do_nothing_if_it_invalid (0.00s)
=== RUN   TestRedactedValue
=== RUN   TestRedactedValue/non-sensitive_key
=== RUN   TestRedactedValue/sensitive_key_with_non-empty_value
=== RUN   TestRedactedValue/license_key_with_non-empty_value
=== RUN   TestRedactedValue/sensitive_key_with_empty_value
=== RUN   TestRedactedValue/authentication_token
--- PASS: TestRedactedValue (0.00s)
--- PASS: TestRedactedValue/non-sensitive_key (0.00s)
--- PASS: TestRedactedValue/sensitive_key_with_non-empty_value (0.00s)
--- PASS: TestRedactedValue/license_key_with_non-empty_value (0.00s)
--- PASS: TestRedactedValue/sensitive_key_with_empty_value (0.00s)
--- PASS: TestRedactedValue/authentication_token (0.00s)
=== RUN   TestHandleAWSSettings
=== RUN   TestHandleAWSSettings/Should_set_default_auth_providers_if_not_defined
=== RUN   TestHandleAWSSettings/Should_pass_on_auth_providers_defined_in_config
=== RUN   TestHandleAWSSettings/Should_set_assume_role_to_true_if_not_defined
=== RUN   TestHandleAWSSettings/Should_set_assume_role_to_true_if_defined_as_true_in_the_config
=== RUN   TestHandleAWSSettings/Should_set_assume_role_to_false_if_defined_as_false_in_the_config
=== RUN   TestHandleAWSSettings/Should_set_default_page_limit_if_not_defined
=== RUN   TestHandleAWSSettings/Should_pass_on_the_limit_if_it_is_defined_in_the_config
--- PASS: TestHandleAWSSettings (0.00s)
--- PASS: TestHandleAWSSettings/Should_set_default_auth_providers_if_not_defined (0.00s)
--- PASS: TestHandleAWSSettings/Should_pass_on_auth_providers_defined_in_config (0.00s)
--- PASS: TestHandleAWSSettings/Should_set_assume_role_to_true_if_not_defined (0.00s)
--- PASS: TestHandleAWSSettings/Should_set_assume_role_to_true_if_defined_as_true_in_the_config (0.00s)
--- PASS: TestHandleAWSSettings/Should_set_assume_role_to_false_if_defined_as_false_in_the_config (0.00s)
--- PASS: TestHandleAWSSettings/Should_set_default_page_limit_if_not_defined (0.00s)
--- PASS: TestHandleAWSSettings/Should_pass_on_the_limit_if_it_is_defined_in_the_config (0.00s)
=== RUN   TestNewCfgFromBytes
logger=settings t=2025-04-15T08:38:02.916957628Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
--- PASS: TestNewCfgFromBytes (0.00s)
=== RUN   TestNewCfgFromINIFile
logger=settings t=2025-04-15T08:38:02.918066842Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
--- PASS: TestNewCfgFromINIFile (0.00s)
=== RUN   TestDynamicSection
=== PAUSE TestDynamicSection
=== RUN   TestCfg_ReadUnifiedAlertingSettings
logger=settings t=2025-04-15T08:38:02.923311288Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.923604476Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.923618772Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.923624533Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.923634652Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.923639932Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.923644891Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.923649941Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.923665931Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.923678344Z level=info msg="App mode production"
=== RUN   TestCfg_ReadUnifiedAlertingSettings/should_read_'scheduler_tick_interval'
logger=settings t=2025-04-15T08:38:02.923765887Z level=warn msg="Scheduler tick interval is changed to non-default" interval=1m0s default=10s
=== RUN   TestCfg_ReadUnifiedAlertingSettings/should_read_'scheduler_tick_interval'/and_fail_if_it_is_wrong
=== RUN   TestCfg_ReadUnifiedAlertingSettings/should_read_'scheduler_tick_interval'/and_use_default_if_not_specified
--- PASS: TestCfg_ReadUnifiedAlertingSettings (0.01s)
--- PASS: TestCfg_ReadUnifiedAlertingSettings/should_read_'scheduler_tick_interval' (0.00s)
--- PASS: TestCfg_ReadUnifiedAlertingSettings/should_read_'scheduler_tick_interval'/and_fail_if_it_is_wrong (0.00s)
--- PASS: TestCfg_ReadUnifiedAlertingSettings/should_read_'scheduler_tick_interval'/and_use_default_if_not_specified (0.00s)
=== RUN   TestUnifiedAlertingSettings
=== RUN   TestUnifiedAlertingSettings/when_the_unified_options_do_not_equal_the_defaults,_it_should_not_apply_the_legacy_ones
=== RUN   TestUnifiedAlertingSettings/when_the_unified_options_equal_the_defaults,_it_should_apply_the_legacy_ones
logger=settings t=2025-04-15T08:38:02.924220217Z level=warn msg="falling back to legacy setting of 'evaluation_timeout_seconds'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
logger=settings t=2025-04-15T08:38:02.924258238Z level=warn msg="falling back to legacy setting of 'min_interval_seconds'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
=== RUN   TestUnifiedAlertingSettings/when_both_unified_and_legacy_options_are_invalid,_apply_the_defaults
=== RUN   TestUnifiedAlertingSettings/when_unified_alerting_options_are_invalid,_apply_legacy_options
logger=settings t=2025-04-15T08:38:02.925284657Z level=warn msg="falling back to legacy setting of 'execute_alerts'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
logger=settings t=2025-04-15T08:38:02.925370738Z level=warn msg="falling back to legacy setting of 'evaluation_timeout_seconds'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
logger=settings t=2025-04-15T08:38:02.92543053Z level=warn msg="falling back to legacy setting of 'min_interval_seconds'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
--- PASS: TestUnifiedAlertingSettings (0.00s)
--- PASS: TestUnifiedAlertingSettings/when_the_unified_options_do_not_equal_the_defaults,_it_should_not_apply_the_legacy_ones (0.00s)
--- PASS: TestUnifiedAlertingSettings/when_the_unified_options_equal_the_defaults,_it_should_apply_the_legacy_ones (0.00s)
--- PASS: TestUnifiedAlertingSettings/when_both_unified_and_legacy_options_are_invalid,_apply_the_defaults (0.00s)
--- PASS: TestUnifiedAlertingSettings/when_unified_alerting_options_are_invalid,_apply_legacy_options (0.00s)
=== RUN   TestMinInterval
=== RUN   TestMinInterval/should_fail_if_min_interval_is_less_than_base_interval
=== RUN   TestMinInterval/should_fail_if_min_interval_is_not_multiple_of_base_interval
=== RUN   TestMinInterval/should_not_fail_if_min_interval_is__multiple_of_base_interval
=== RUN   TestMinInterval/should_fail_if_fallback_to_legacy_min_interval_and_it_is_not_multiple_of_base_interval
logger=settings t=2025-04-15T08:38:02.926611347Z level=warn msg="falling back to legacy setting of 'min_interval_seconds'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
=== RUN   TestMinInterval/should_not_fail_if_fallback_to_legacy_min_interval_it_is_multiple_of_base_interval
logger=settings t=2025-04-15T08:38:02.926752311Z level=warn msg="falling back to legacy setting of 'min_interval_seconds'; please use the configuration option in the `unified_alerting` section if Grafana 8 alerts are enabled."
=== RUN   TestMinInterval/should_adjust_DefaultRuleEvaluationInterval_to_min_interval_if_it_is_greater
=== RUN   TestMinInterval/should_fallback_to_the_default_if_legacy_interval_is_less_than_base
--- PASS: TestMinInterval (0.00s)
--- PASS: TestMinInterval/should_fail_if_min_interval_is_less_than_base_interval (0.00s)
--- PASS: TestMinInterval/should_fail_if_min_interval_is_not_multiple_of_base_interval (0.00s)
--- PASS: TestMinInterval/should_not_fail_if_min_interval_is__multiple_of_base_interval (0.00s)
--- PASS: TestMinInterval/should_fail_if_fallback_to_legacy_min_interval_and_it_is_not_multiple_of_base_interval (0.00s)
--- PASS: TestMinInterval/should_not_fail_if_fallback_to_legacy_min_interval_it_is_multiple_of_base_interval (0.00s)
--- PASS: TestMinInterval/should_adjust_DefaultRuleEvaluationInterval_to_min_interval_if_it_is_greater (0.00s)
--- PASS: TestMinInterval/should_fallback_to_the_default_if_legacy_interval_is_less_than_base (0.00s)
=== RUN   TestHARedisTLSSettings
--- PASS: TestHARedisTLSSettings (0.00s)
=== RUN   TestCfg_setUnifiedStorageConfig
=== RUN   TestCfg_setUnifiedStorageConfig/read_unified_storage_configs
logger=settings t=2025-04-15T08:38:02.935717804Z level=info msg="Starting Grafana" version= commit= branch= compiled=1970-01-01T00:00:00Z
logger=settings t=2025-04-15T08:38:02.936114515Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.936131517Z level=info msg="Config loaded from" file=../../conf/defaults.ini
logger=settings t=2025-04-15T08:38:02.936139853Z level=info msg=Target target=[all]
logger=settings t=2025-04-15T08:38:02.936153528Z level=info msg="Path Home" path=../../
logger=settings t=2025-04-15T08:38:02.936161263Z level=info msg="Path Data" path=../../data
logger=settings t=2025-04-15T08:38:02.936239208Z level=info msg="Path Logs" path=../../data/log
logger=settings t=2025-04-15T08:38:02.936290144Z level=info msg="Path Plugins" path=../../data/plugins
logger=settings t=2025-04-15T08:38:02.936318437Z level=info msg="Path Provisioning" path=../../conf/provisioning
logger=settings t=2025-04-15T08:38:02.936344064Z level=info msg="App mode production"
--- PASS: TestCfg_setUnifiedStorageConfig (0.01s)
--- PASS: TestCfg_setUnifiedStorageConfig/read_unified_storage_configs (0.01s)
=== CONT  TestReadSecureSocksDSProxySettings
=== CONT  TestDynamicSection
=== RUN   TestDynamicSection/repro_#44509_-_panic_on_concurrent_map_write
=== PAUSE TestDynamicSection/repro_#44509_-_panic_on_concurrent_map_write
=== CONT  TestDynamicSection/repro_#44509_-_panic_on_concurrent_map_write
logger=settings t=2025-04-15T08:38:02.936991906Z level=warn msg="auth.anonymous.org_role is deprecated, only viewer role is supported"
--- PASS: TestDynamicSection (0.00s)
--- PASS: TestDynamicSection/repro_#44509_-_panic_on_concurrent_map_write (0.40s)
=== RUN   TestReadSecureSocksDSProxySettings/default_values
=== RUN   TestReadSecureSocksDSProxySettings/one_or_more_root_ca_is_required
=== RUN   TestReadSecureSocksDSProxySettings/client_cert_is_required
=== RUN   TestReadSecureSocksDSProxySettings/client_key_is_required
=== RUN   TestReadSecureSocksDSProxySettings/server_name_is_required
=== RUN   TestReadSecureSocksDSProxySettings/proxy_address_is_required
=== RUN   TestReadSecureSocksDSProxySettings/root_ca,_client_cert_and_client_key_are_not_required_in_insecure_more
=== RUN   TestReadSecureSocksDSProxySettings/custom_values
--- PASS: TestReadSecureSocksDSProxySettings (3.18s)
--- PASS: TestReadSecureSocksDSProxySettings/default_values (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/one_or_more_root_ca_is_required (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/client_cert_is_required (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/client_key_is_required (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/server_name_is_required (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/proxy_address_is_required (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/root_ca,_client_cert_and_client_key_are_not_required_in_insecure_more (0.00s)
--- PASS: TestReadSecureSocksDSProxySettings/custom_values (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/setting	3.354s
?   	github.com/grafana/grafana/pkg/setting/settingtest	[no test files]
?   	github.com/grafana/grafana/pkg/storage/legacysql	[no test files]
=== RUN   TestMode1_Create
=== RUN   TestMode1_Create/creating_an_object_only_in_the_legacy_store
=== RUN   TestMode1_Create/error_when_creating_object_in_the_legacy_store_fails
--- PASS: TestMode1_Create (0.00s)
--- PASS: TestMode1_Create/creating_an_object_only_in_the_legacy_store (0.00s)
--- PASS: TestMode1_Create/error_when_creating_object_in_the_legacy_store_fails (0.00s)
=== RUN   TestMode1_Get
=== RUN   TestMode1_Get/should_succeed_when_getting_an_object_from_LegacyStorage
=== RUN   TestMode1_Get/should_error_when_getting_an_object_from_LegacyStorage_fails
=== RUN   TestMode1_Get/should_not_error_when_getting_an_object_from_UnifiedStorage_fails
=== RUN   TestMode1_Get/should_not_block_for_unified_storage
--- PASS: TestMode1_Get (0.00s)
--- PASS: TestMode1_Get/should_succeed_when_getting_an_object_from_LegacyStorage (0.00s)
--- PASS: TestMode1_Get/should_error_when_getting_an_object_from_LegacyStorage_fails (0.00s)
--- PASS: TestMode1_Get/should_not_error_when_getting_an_object_from_UnifiedStorage_fails (0.00s)
--- PASS: TestMode1_Get/should_not_block_for_unified_storage (0.00s)
=== RUN   TestMode1_List
=== RUN   TestMode1_List/should_error_when_listing_from_LegacyStorage_fails
=== RUN   TestMode1_List/should_not_error_when_listing_from_UnifiedStorage_fails
--- PASS: TestMode1_List (0.00s)
--- PASS: TestMode1_List/should_error_when_listing_from_LegacyStorage_fails (0.00s)
--- PASS: TestMode1_List/should_not_error_when_listing_from_UnifiedStorage_fails (0.00s)
=== RUN   TestMode1_Delete
=== RUN   TestMode1_Delete/should_succeed_when_deleting_an_object_from_LegacyStorage
=== RUN   TestMode1_Delete/should_error_when_deleting_an_object_from_LegacyStorage_fails
=== RUN   TestMode1_Delete/should_not_error_when_deleting_an_object_from_UnifiedStorage_fails
--- PASS: TestMode1_Delete (0.01s)
--- PASS: TestMode1_Delete/should_succeed_when_deleting_an_object_from_LegacyStorage (0.00s)
--- PASS: TestMode1_Delete/should_error_when_deleting_an_object_from_LegacyStorage_fails (0.00s)
--- PASS: TestMode1_Delete/should_not_error_when_deleting_an_object_from_UnifiedStorage_fails (0.00s)
=== RUN   TestMode1_DeleteCollection
=== RUN   TestMode1_DeleteCollection/should_succeed_when_deleting_a_collection_from_LegacyStorage
=== RUN   TestMode1_DeleteCollection/should_error_when_deleting_a_collection_from_LegacyStorage_fails
=== RUN   TestMode1_DeleteCollection/should_not_error_when_deleting_a_collection_from_UnifiedStorage_fails
--- PASS: TestMode1_DeleteCollection (0.00s)
--- PASS: TestMode1_DeleteCollection/should_succeed_when_deleting_a_collection_from_LegacyStorage (0.00s)
--- PASS: TestMode1_DeleteCollection/should_error_when_deleting_a_collection_from_LegacyStorage_fails (0.00s)
--- PASS: TestMode1_DeleteCollection/should_not_error_when_deleting_a_collection_from_UnifiedStorage_fails (0.00s)
=== RUN   TestMode1_Update
=== RUN   TestMode1_Update/should_succeed_when_updating_an_object_in_LegacyStorage
=== RUN   TestMode1_Update/should_error_when_updating_an_object_in_LegacyStorage_fails
=== RUN   TestMode1_Update/should_not_error_when_updating_an_object_in_UnifiedStorage_fails
--- PASS: TestMode1_Update (0.00s)
--- PASS: TestMode1_Update/should_succeed_when_updating_an_object_in_LegacyStorage (0.00s)
--- PASS: TestMode1_Update/should_error_when_updating_an_object_in_LegacyStorage_fails (0.00s)
--- PASS: TestMode1_Update/should_not_error_when_updating_an_object_in_UnifiedStorage_fails (0.00s)
=== RUN   TestMode2_Create
=== RUN   TestMode2_Create/should_create_an_object_in_both_the_LegacyStorage_and_Storage
=== RUN   TestMode2_Create/should_return_an_error_when_creating_an_object_in_the_LegacyStorage_fails
--- PASS: TestMode2_Create (0.00s)
--- PASS: TestMode2_Create/should_create_an_object_in_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestMode2_Create/should_return_an_error_when_creating_an_object_in_the_LegacyStorage_fails (0.00s)
=== RUN   TestMode2_Get
=== RUN   TestMode2_Get/should_get_an_object_from_both_the_LegacyStorage_and_Storage
=== RUN   TestMode2_Get/should_return_an_error_when_getting_an_object_from_the_Storage_fails
=== RUN   TestMode2_Get/should_not_error_when_object_is_not_found_in_the_Storage_but_found_in_the_LegacyStorage
=== RUN   TestMode2_Get/should_return_an_error_when_getting_an_object_from_both_the_LegacyStorage_and_Storage_fails
--- PASS: TestMode2_Get (0.00s)
--- PASS: TestMode2_Get/should_get_an_object_from_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestMode2_Get/should_return_an_error_when_getting_an_object_from_the_Storage_fails (0.00s)
--- PASS: TestMode2_Get/should_not_error_when_object_is_not_found_in_the_Storage_but_found_in_the_LegacyStorage (0.00s)
--- PASS: TestMode2_Get/should_return_an_error_when_getting_an_object_from_both_the_LegacyStorage_and_Storage_fails (0.00s)
=== RUN   TestMode2_List
=== RUN   TestMode2_List/should_return_a_list_of_objects_from_both_the_LegacyStorage_and_Storage
=== RUN   TestMode2_List/should_return_an_error_when_listing_objects_from_the_LegacyStorage_fails
=== RUN   TestMode2_List/should_return_an_error_when_listing_objects_from_the_Storage_fails
--- PASS: TestMode2_List (0.00s)
--- PASS: TestMode2_List/should_return_a_list_of_objects_from_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestMode2_List/should_return_an_error_when_listing_objects_from_the_LegacyStorage_fails (0.00s)
--- PASS: TestMode2_List/should_return_an_error_when_listing_objects_from_the_Storage_fails (0.00s)
=== RUN   TestMode2_Delete
=== RUN   TestMode2_Delete/should_delete_an_object_from_both_the_LegacyStorage_and_Storage
=== RUN   TestMode2_Delete/should_return_an_error_when_deleting_an_object_from_the_LegacyStorage_fails
=== RUN   TestMode2_Delete/should_return_an_error_when_deleting_an_object_from_the_Storage_fails
=== RUN   TestMode2_Delete/should_return_an_error_when_the_object_is_not_found_in_LegacyStorage
=== RUN   TestMode2_Delete/should_not_return_an_error_when_the_object_is_not_found_in_Storage
=== RUN   TestMode2_Delete/should_return_an_error_when_deleting_an_object_from_both_the_LegacyStorage_and_Storage_fails
--- PASS: TestMode2_Delete (0.00s)
--- PASS: TestMode2_Delete/should_delete_an_object_from_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestMode2_Delete/should_return_an_error_when_deleting_an_object_from_the_LegacyStorage_fails (0.00s)
--- PASS: TestMode2_Delete/should_return_an_error_when_deleting_an_object_from_the_Storage_fails (0.00s)
--- PASS: TestMode2_Delete/should_return_an_error_when_the_object_is_not_found_in_LegacyStorage (0.00s)
--- PASS: TestMode2_Delete/should_not_return_an_error_when_the_object_is_not_found_in_Storage (0.00s)
--- PASS: TestMode2_Delete/should_return_an_error_when_deleting_an_object_from_both_the_LegacyStorage_and_Storage_fails (0.00s)
=== RUN   TestMode2_DeleteCollection
=== RUN   TestMode2_DeleteCollection/should_delete_a_collection_from_both_the_LegacyStorage_and_Storage
=== RUN   TestMode2_DeleteCollection/should_return_an_error_when_deleting_a_collection_from_the_Storage_fails
=== RUN   TestMode2_DeleteCollection/should_return_an_error_when_deleting_a_collection_from_the_LegacyStorage_fails
--- PASS: TestMode2_DeleteCollection (0.00s)
--- PASS: TestMode2_DeleteCollection/should_delete_a_collection_from_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestMode2_DeleteCollection/should_return_an_error_when_deleting_a_collection_from_the_Storage_fails (0.00s)
--- PASS: TestMode2_DeleteCollection/should_return_an_error_when_deleting_a_collection_from_the_LegacyStorage_fails (0.00s)
=== RUN   TestMode2_Update
=== RUN   TestMode2_Update/should_succeed_when_updating_an_object_in_both_the_LegacyStorage_and_Storage_is_successful
=== RUN   TestMode2_Update/should_return_an_error_when_updating_the_LegacyStorage_fails
=== RUN   TestMode2_Update/should_return_an_error_when_updating_the_Storage_fails
--- PASS: TestMode2_Update (0.00s)
--- PASS: TestMode2_Update/should_succeed_when_updating_an_object_in_both_the_LegacyStorage_and_Storage_is_successful (0.00s)
--- PASS: TestMode2_Update/should_return_an_error_when_updating_the_LegacyStorage_fails (0.00s)
--- PASS: TestMode2_Update/should_return_an_error_when_updating_the_Storage_fails (0.00s)
=== RUN   TestMode3_Create
=== RUN   TestMode3_Create/should_succeed_when_creating_an_object_in_both_the_LegacyStorage_and_Storage
=== RUN   TestMode3_Create/should_return_an_error_when_creating_an_object_in_the_legacy_store_fails
=== RUN   TestMode3_Create/should_return_an_error_when_creating_an_object_in_the_unified_store_fails_and_delete_from_LegacyStorage
--- PASS: TestMode3_Create (0.00s)
--- PASS: TestMode3_Create/should_succeed_when_creating_an_object_in_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestMode3_Create/should_return_an_error_when_creating_an_object_in_the_legacy_store_fails (0.00s)
--- PASS: TestMode3_Create/should_return_an_error_when_creating_an_object_in_the_unified_store_fails_and_delete_from_LegacyStorage (0.00s)
=== RUN   TestMode3_Get
=== RUN   TestMode3_Get/should_succeed_when_getting_an_object_from_both_stores
=== RUN   TestMode3_Get/should_return_an_error_when_getting_an_object_in_the_unified_store_fails,_and_should_not_go_to_legacy
=== RUN   TestMode3_Get/should_succeed_when_getting_an_object_in_the_LegacyStorage_fails
--- PASS: TestMode3_Get (0.00s)
--- PASS: TestMode3_Get/should_succeed_when_getting_an_object_from_both_stores (0.00s)
--- PASS: TestMode3_Get/should_return_an_error_when_getting_an_object_in_the_unified_store_fails,_and_should_not_go_to_legacy (0.00s)
--- PASS: TestMode3_Get/should_succeed_when_getting_an_object_in_the_LegacyStorage_fails (0.00s)
=== RUN   TestMode3_List
=== RUN   TestMode3_List/should_return_an_error_when_listing_an_object_in_the_UnifiedStorage_is_failing
=== RUN   TestMode3_List/should_succeed_when_listing_objects_in_the_UnifiedStorage_is_successful
--- PASS: TestMode3_List (0.00s)
--- PASS: TestMode3_List/should_return_an_error_when_listing_an_object_in_the_UnifiedStorage_is_failing (0.00s)
--- PASS: TestMode3_List/should_succeed_when_listing_objects_in_the_UnifiedStorage_is_successful (0.00s)
=== RUN   TestMode3_Delete
=== RUN   TestMode3_Delete/should_succeed_when_deleting_an_object_in_both_stores
=== RUN   TestMode3_Delete/should_succeed_when_deleting_an_object_in_the_LegacyStorage_is_not_found,_but_found_in_the_UnifiedStorage
=== RUN   TestMode3_Delete/should_succeed_when_deleting_an_object_in_the_UnifiedStorage_is_not_found_in_the_LegacyStorage
=== RUN   TestMode3_Delete/should_return_an_error_when_deleting_an_object_in_the_LegacyStorage_and_UnifiedStorage_is_failing
=== RUN   TestMode3_Delete/should_return_an_error_when_deleting_an_object_in_the_LegacyStorage_fails
--- PASS: TestMode3_Delete (0.00s)
--- PASS: TestMode3_Delete/should_succeed_when_deleting_an_object_in_both_stores (0.00s)
--- PASS: TestMode3_Delete/should_succeed_when_deleting_an_object_in_the_LegacyStorage_is_not_found,_but_found_in_the_UnifiedStorage (0.00s)
--- PASS: TestMode3_Delete/should_succeed_when_deleting_an_object_in_the_UnifiedStorage_is_not_found_in_the_LegacyStorage (0.00s)
--- PASS: TestMode3_Delete/should_return_an_error_when_deleting_an_object_in_the_LegacyStorage_and_UnifiedStorage_is_failing (0.00s)
--- PASS: TestMode3_Delete/should_return_an_error_when_deleting_an_object_in_the_LegacyStorage_fails (0.00s)
=== RUN   TestMode3_DeleteCollection
=== RUN   TestMode3_DeleteCollection/should_succeed_when_deleting_a_collection_in_both_stores
=== RUN   TestMode3_DeleteCollection/should_return_an_error_when_deleting_a_collection_in_the_storage_fails_and_LegacyStorage_is_successful
=== RUN   TestMode3_DeleteCollection/should_return_an_error_when_deleting_a_collection_in_the_LegacyStorage_fails
--- PASS: TestMode3_DeleteCollection (0.00s)
--- PASS: TestMode3_DeleteCollection/should_succeed_when_deleting_a_collection_in_both_stores (0.00s)
--- PASS: TestMode3_DeleteCollection/should_return_an_error_when_deleting_a_collection_in_the_storage_fails_and_LegacyStorage_is_successful (0.00s)
--- PASS: TestMode3_DeleteCollection/should_return_an_error_when_deleting_a_collection_in_the_LegacyStorage_fails (0.00s)
=== RUN   TestMode3_Update
=== RUN   TestMode3_Update/should_succeed_when_updating_an_object_in_both_stores
=== RUN   TestMode3_Update/should_return_an_error_when_updating_an_object_in_the_LegacyStorage_fails
=== RUN   TestMode3_Update/should_return_an_error_when_updating_an_object_in_the_UnifiedStorage_fails
--- PASS: TestMode3_Update (0.00s)
--- PASS: TestMode3_Update/should_succeed_when_updating_an_object_in_both_stores (0.00s)
--- PASS: TestMode3_Update/should_return_an_error_when_updating_an_object_in_the_LegacyStorage_fails (0.00s)
--- PASS: TestMode3_Update/should_return_an_error_when_updating_an_object_in_the_UnifiedStorage_fails (0.00s)
=== RUN   TestRuntime_Create
=== RUN   TestRuntime_Create/should_succeed_when_creating_an_object_in_both_the_LegacyStorage_and_Storage
=== RUN   TestRuntime_Create/should_return_an_error_when_creating_an_object_in_the_legacy_store_fails
=== RUN   TestRuntime_Create/should_return_an_error_when_creating_an_object_in_the_unified_store_fails_and_delete_from_LegacyStorage
--- PASS: TestRuntime_Create (0.00s)
--- PASS: TestRuntime_Create/should_succeed_when_creating_an_object_in_both_the_LegacyStorage_and_Storage (0.00s)
--- PASS: TestRuntime_Create/should_return_an_error_when_creating_an_object_in_the_legacy_store_fails (0.00s)
--- PASS: TestRuntime_Create/should_return_an_error_when_creating_an_object_in_the_unified_store_fails_and_delete_from_LegacyStorage (0.00s)
=== RUN   TestRuntime_Get
=== RUN   TestRuntime_Get/should_succeed_when_getting_an_object_from_both_stores
=== RUN   TestRuntime_Get/should_return_an_error_when_getting_an_object_in_the_unified_store_fails
=== RUN   TestRuntime_Get/should_succeed_when_getting_an_object_in_the_LegacyStorage_fails
--- PASS: TestRuntime_Get (0.00s)
--- PASS: TestRuntime_Get/should_succeed_when_getting_an_object_from_both_stores (0.00s)
--- PASS: TestRuntime_Get/should_return_an_error_when_getting_an_object_in_the_unified_store_fails (0.00s)
--- PASS: TestRuntime_Get/should_succeed_when_getting_an_object_in_the_LegacyStorage_fails (0.00s)
=== RUN   TestRuntime_CreateWhileMigrating
=== RUN   TestRuntime_CreateWhileMigrating/should_succeed_when_not_migrated
=== RUN   TestRuntime_CreateWhileMigrating/should_be_unavailable_if_migrating
=== RUN   TestRuntime_CreateWhileMigrating/should_succeed_after_migration
--- PASS: TestRuntime_CreateWhileMigrating (0.00s)
--- PASS: TestRuntime_CreateWhileMigrating/should_succeed_when_not_migrated (0.00s)
--- PASS: TestRuntime_CreateWhileMigrating/should_be_unavailable_if_migrating (0.00s)
--- PASS: TestRuntime_CreateWhileMigrating/should_succeed_after_migration (0.00s)
=== RUN   TestService
--- PASS: TestService (0.00s)
=== RUN   TestIsReadingLegacyDashboardsAndFolders
=== RUN   TestIsReadingLegacyDashboardsAndFolders/both_folders_and_dashboards_are_read_from_unified_storage
=== RUN   TestIsReadingLegacyDashboardsAndFolders/only_folders_are_read_from_unified_storage
=== RUN   TestIsReadingLegacyDashboardsAndFolders/only_dashboards_are_read_from_unified_storage
=== RUN   TestIsReadingLegacyDashboardsAndFolders/neither_folders_nor_dashboards_are_read_from_unified_storage
--- PASS: TestIsReadingLegacyDashboardsAndFolders (0.00s)
--- PASS: TestIsReadingLegacyDashboardsAndFolders/both_folders_and_dashboards_are_read_from_unified_storage (0.00s)
--- PASS: TestIsReadingLegacyDashboardsAndFolders/only_folders_are_read_from_unified_storage (0.00s)
--- PASS: TestIsReadingLegacyDashboardsAndFolders/only_dashboards_are_read_from_unified_storage (0.00s)
--- PASS: TestIsReadingLegacyDashboardsAndFolders/neither_folders_nor_dashboards_are_read_from_unified_storage (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/legacysql/dualwrite	(cached)
?   	github.com/grafana/grafana/pkg/storage/secret/metadata	[no test files]
?   	github.com/grafana/grafana/pkg/storage/unified	[no test files]
?   	github.com/grafana/grafana/pkg/storage/unified/federated	[no test files]
=== RUN   TestDirectSQLStats
=== RUN   TestDirectSQLStats/GetStatsForFolder1
=== RUN   TestDirectSQLStats/GetStatsForFolder2
--- PASS: TestDirectSQLStats (0.24s)
--- PASS: TestDirectSQLStats/GetStatsForFolder1 (0.00s)
--- PASS: TestDirectSQLStats/GetStatsForFolder2 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/federated/federatedtests	(cached)
=== RUN   TestParquetWriteThenRead
=== RUN   TestParquetWriteThenRead/read-write-couple-rows
=== RUN   TestParquetWriteThenRead/read-write-empty-db
--- PASS: TestParquetWriteThenRead (0.01s)
--- PASS: TestParquetWriteThenRead/read-write-couple-rows (0.01s)
--- PASS: TestParquetWriteThenRead/read-write-empty-db (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/parquet	(cached)
=== RUN   TestBleveBackend
=== RUN   TestBleveBackend/build_dashboards
{
"items": [
{
"object": {
"namespace": "ns",
"group": "dashboard.grafana.app",
"resource": "dashboards",
"name": "aaa"
},
"path": "path/to/aaa.json",
"hash": "xyz",
"time": 1609462800000,
"title": "aaa (dash)",
"folder": "xxx"
},
{
"object": {
"namespace": "ns",
"group": "dashboard.grafana.app",
"resource": "dashboards",
"name": "bbb"
},
"path": "path/to/bbb.json",
"hash": "hijk",
"time": 1640998800000,
"title": "bbb (dash)",
"folder": "xxx"
}
]
}
[
{
"kind": "repo",
"id": "repo-1",
"group": "dashboard.grafana.app",
"resource": "dashboards",
"count": 2
},
{
"kind": "repo",
"id": "repo2",
"group": "dashboard.grafana.app",
"resource": "dashboards",
"count": 1
}
]
=== RUN   TestBleveBackend/build_folders
=== RUN   TestBleveBackend/simple_federation
--- PASS: TestBleveBackend (0.01s)
--- PASS: TestBleveBackend/build_dashboards (0.00s)
--- PASS: TestBleveBackend/build_folders (0.00s)
--- PASS: TestBleveBackend/simple_federation (0.00s)
=== RUN   TestGetSortFields
=== RUN   TestGetSortFields/will_prepend_'fields.'_to_sort_fields_when_they_are_dashboard_fields
=== RUN   TestGetSortFields/will_prepend_sort_fields_with_a_'-'_when_sort_is_Desc
=== RUN   TestGetSortFields/will_not_prepend_'fields.'_to_common_fields
--- PASS: TestGetSortFields (0.00s)
--- PASS: TestGetSortFields/will_prepend_'fields.'_to_sort_fields_when_they_are_dashboard_fields (0.00s)
--- PASS: TestGetSortFields/will_prepend_sort_fields_with_a_'-'_when_sort_is_Desc (0.00s)
--- PASS: TestGetSortFields/will_not_prepend_'fields.'_to_common_fields (0.00s)
=== RUN   TestSafeInt64ToInt
=== RUN   TestSafeInt64ToInt/Valid_int64_within_int_range
=== RUN   TestSafeInt64ToInt/Overflow_int64_value
=== RUN   TestSafeInt64ToInt/Underflow_int64_value
--- PASS: TestSafeInt64ToInt (0.00s)
--- PASS: TestSafeInt64ToInt/Valid_int64_within_int_range (0.00s)
--- PASS: TestSafeInt64ToInt/Overflow_int64_value (0.00s)
--- PASS: TestSafeInt64ToInt/Underflow_int64_value (0.00s)
=== RUN   Test_isValidPath
=== RUN   Test_isValidPath/valid_path
=== RUN   Test_isValidPath/valid_path_without_trailing_slash
=== RUN   Test_isValidPath/path_with_double_slashes
=== RUN   Test_isValidPath/invalid_path:_..
=== RUN   Test_isValidPath/invalid_path:_\
=== RUN   Test_isValidPath/invalid_path:_not_under_safe_dir
=== RUN   Test_isValidPath/invalid_path:_empty_paths
=== RUN   Test_isValidPath/invalid_path:_different_path
=== RUN   Test_isValidPath/invalid_path:_empty_safe_path
--- PASS: Test_isValidPath (0.00s)
--- PASS: Test_isValidPath/valid_path (0.00s)
--- PASS: Test_isValidPath/valid_path_without_trailing_slash (0.00s)
--- PASS: Test_isValidPath/path_with_double_slashes (0.00s)
--- PASS: Test_isValidPath/invalid_path:_.. (0.00s)
--- PASS: Test_isValidPath/invalid_path:_\ (0.00s)
--- PASS: Test_isValidPath/invalid_path:_not_under_safe_dir (0.00s)
--- PASS: Test_isValidPath/invalid_path:_empty_paths (0.00s)
--- PASS: Test_isValidPath/invalid_path:_different_path (0.00s)
--- PASS: Test_isValidPath/invalid_path:_empty_safe_path (0.00s)
=== RUN   TestDocumentMapping
name = []
title = [116 105 116 108 101]
title = [116 105 116 108 101]
title = [116 105 116 108 101]
title_phrase = [116 105 116 108 101]
description = [100 101 115 99 114]
tags = [97]
tags = [98]
labels.a = [98]
labels.x = [121]
folder = [120 121 122]
manager.kind = [114 101 112 111]
manager.id = [114 114 114]
managedBy = [114 101 112 111 58 114 114 114]
source.path = [112 112 112]
source.checksum = [111 111 111]
source.timestampMillis = [32 1 64 73 82 0 0 0 0 0 0]
DOC: fields 17
DOC: size 2524
--- PASS: TestDocumentMapping (0.00s)
=== RUN   TestCanSearchByTitle
=== RUN   TestCanSearchByTitle/when_query_is_empty,_sort_documents_by_title_instead_of_search_score
=== RUN   TestCanSearchByTitle/will_boost_phrase_match_query_over_match_query_results
=== RUN   TestCanSearchByTitle/will_prioritize_matches
=== RUN   TestCanSearchByTitle/will_boost_exact_match_query_over_match_phrase_query_results
=== RUN   TestCanSearchByTitle/title_with_numbers_will_match_document
=== RUN   TestCanSearchByTitle/title_will_match_escaped_characters
=== RUN   TestCanSearchByTitle/title_search_will_match_document
=== RUN   TestCanSearchByTitle/title_search_will_NOT_match_documents
=== RUN   TestCanSearchByTitle/title_search_with_character_will_match_one_document
--- PASS: TestCanSearchByTitle (0.02s)
--- PASS: TestCanSearchByTitle/when_query_is_empty,_sort_documents_by_title_instead_of_search_score (0.00s)
--- PASS: TestCanSearchByTitle/will_boost_phrase_match_query_over_match_query_results (0.00s)
--- PASS: TestCanSearchByTitle/will_prioritize_matches (0.00s)
--- PASS: TestCanSearchByTitle/will_boost_exact_match_query_over_match_phrase_query_results (0.00s)
--- PASS: TestCanSearchByTitle/title_with_numbers_will_match_document (0.00s)
--- PASS: TestCanSearchByTitle/title_will_match_escaped_characters (0.00s)
--- PASS: TestCanSearchByTitle/title_search_will_match_document (0.00s)
--- PASS: TestCanSearchByTitle/title_search_will_NOT_match_documents (0.00s)
--- PASS: TestCanSearchByTitle/title_search_with_character_will_match_one_document (0.01s)
=== RUN   TestDashboardDocumentBuilder
=== RUN   TestDashboardDocumentBuilder/dashboard-aaa
=== RUN   TestDashboardDocumentBuilder/folder-aaa
=== RUN   TestDashboardDocumentBuilder/folder-bbb
=== RUN   TestDashboardDocumentBuilder/playlist-aaa
=== RUN   TestDashboardDocumentBuilder/report-aaa
--- PASS: TestDashboardDocumentBuilder (0.00s)
--- PASS: TestDashboardDocumentBuilder/dashboard-aaa (0.00s)
--- PASS: TestDashboardDocumentBuilder/folder-aaa (0.00s)
--- PASS: TestDashboardDocumentBuilder/folder-bbb (0.00s)
--- PASS: TestDashboardDocumentBuilder/playlist-aaa (0.00s)
--- PASS: TestDashboardDocumentBuilder/report-aaa (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/search	0.395s
=== RUN   TestNewBackend
=== PAUSE TestNewBackend
=== RUN   TestBackend_Init
=== PAUSE TestBackend_Init
=== RUN   TestBackend_IsHealthy
=== PAUSE TestBackend_IsHealthy
=== RUN   TestBackend_create
=== PAUSE TestBackend_create
=== RUN   TestBackend_update
=== PAUSE TestBackend_update
=== RUN   TestBackend_delete
=== PAUSE TestBackend_delete
=== RUN   TestBackend_ReadResource
=== PAUSE TestBackend_ReadResource
=== RUN   TestBackend_getHistory
=== PAUSE TestBackend_getHistory
=== RUN   TestBackend_getHistoryPagination
=== PAUSE TestBackend_getHistoryPagination
=== RUN   TestBatch
=== PAUSE TestBatch
=== RUN   TestPollingNotifierConfig
=== PAUSE TestPollingNotifierConfig
=== RUN   TestPollingNotifier
=== PAUSE TestPollingNotifier
=== RUN   TestChannelNotifier
=== RUN   TestChannelNotifier/should_notify_subscribers_of_events
=== RUN   TestChannelNotifier/should_drop_events_when_buffer_is_full
=== RUN   TestChannelNotifier/should_close_subscriber_channels_when_context_cancelled
--- PASS: TestChannelNotifier (0.00s)
--- PASS: TestChannelNotifier/should_notify_subscribers_of_events (0.00s)
--- PASS: TestChannelNotifier/should_drop_events_when_buffer_is_full (0.00s)
--- PASS: TestChannelNotifier/should_close_subscriber_channels_when_context_cancelled (0.00s)
=== RUN   TestUnifiedStorageQueries
=== PAUSE TestUnifiedStorageQueries
=== RUN   TestResourceVersionManager
=== RUN   TestResourceVersionManager/should_handle_single_operation
--- PASS: TestResourceVersionManager (0.00s)
--- PASS: TestResourceVersionManager/should_handle_single_operation (0.00s)
=== RUN   TestIsHighAvailabilityEnabled
=== RUN   TestIsHighAvailabilityEnabled/SQLite_should_never_have_HA_enabled
=== RUN   TestIsHighAvailabilityEnabled/MySQL_with_HA_enabled_in_config_should_default_to_true
=== RUN   TestIsHighAvailabilityEnabled/MySQL_with_HA_disabled_in_config_should_default_to_false
=== RUN   TestIsHighAvailabilityEnabled/MySQL_with_no_HA_config_should_default_to_true
=== RUN   TestIsHighAvailabilityEnabled/Postgres_with_HA_enabled_in_config_should_default_to_true
=== RUN   TestIsHighAvailabilityEnabled/Postgres_with_HA_disabled_in_config_should_default_to_false
=== RUN   TestIsHighAvailabilityEnabled/Postgres_with_no_HA_config_should_default_to_true
=== RUN   TestIsHighAvailabilityEnabled/No_database_type_set_should_default_to_true
=== RUN   TestIsHighAvailabilityEnabled/No_database_type_set_with_HA_enabled_in_config_should_default_to_true
=== RUN   TestIsHighAvailabilityEnabled/No_database_type_set_with_HA_disabled_in_config_should_default_to_false
=== RUN   TestIsHighAvailabilityEnabled/Resource_API_with_non-SQLite_database_type_should_default_to_true
--- PASS: TestIsHighAvailabilityEnabled (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/SQLite_should_never_have_HA_enabled (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/MySQL_with_HA_enabled_in_config_should_default_to_true (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/MySQL_with_HA_disabled_in_config_should_default_to_false (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/MySQL_with_no_HA_config_should_default_to_true (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/Postgres_with_HA_enabled_in_config_should_default_to_true (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/Postgres_with_HA_disabled_in_config_should_default_to_false (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/Postgres_with_no_HA_config_should_default_to_true (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/No_database_type_set_should_default_to_true (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/No_database_type_set_with_HA_enabled_in_config_should_default_to_true (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/No_database_type_set_with_HA_disabled_in_config_should_default_to_false (0.00s)
--- PASS: TestIsHighAvailabilityEnabled/Resource_API_with_non-SQLite_database_type_should_default_to_true (0.00s)
=== CONT  TestNewBackend
=== RUN   TestNewBackend/happy_path
=== PAUSE TestNewBackend/happy_path
=== RUN   TestNewBackend/no_db_provider
=== PAUSE TestNewBackend/no_db_provider
=== CONT  TestNewBackend/happy_path
=== CONT  TestUnifiedStorageQueries
=== RUN   TestUnifiedStorageQueries/resource_history_poll.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_poll.sql
=== RUN   TestUnifiedStorageQueries/resource_history_update_rv.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_update_rv.sql
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_prune.sql
=== RUN   TestUnifiedStorageQueries/resource_version_update.sql
=== PAUSE TestUnifiedStorageQueries/resource_version_update.sql
=== RUN   TestUnifiedStorageQueries/resource_insert_from_history.sql
=== PAUSE TestUnifiedStorageQueries/resource_insert_from_history.sql
=== CONT  TestBackend_delete
=== CONT  TestPollingNotifier
=== CONT  TestPollingNotifierConfig
=== CONT  TestBatch
=== CONT  TestBackend_getHistoryPagination
=== CONT  TestBackend_getHistory
=== CONT  TestBackend_ReadResource
=== RUN   TestUnifiedStorageQueries/resource_insert.sql
=== PAUSE TestUnifiedStorageQueries/resource_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_read.sql
=== PAUSE TestUnifiedStorageQueries/resource_read.sql
=== RUN   TestUnifiedStorageQueries/resource_list.sql
=== PAUSE TestUnifiedStorageQueries/resource_list.sql
=== RUN   TestUnifiedStorageQueries/resource_history_insert.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_get.sql
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_delete.sql
=== RUN   TestUnifiedStorageQueries/resource_delete.sql
=== PAUSE TestUnifiedStorageQueries/resource_delete.sql
=== RUN   TestUnifiedStorageQueries/resource_update.sql
=== PAUSE TestUnifiedStorageQueries/resource_update.sql
=== RUN   TestUnifiedStorageQueries/resource_history_read.sql
=== RUN   TestBackend_delete/happy_path
=== PAUSE TestBackend_delete/happy_path
=== RUN   TestBackend_delete/error_deleting_resource
=== PAUSE TestBackend_delete/error_deleting_resource
=== RUN   TestBackend_delete/error_inserting_into_resource_history
=== PAUSE TestBackend_delete/error_inserting_into_resource_history
=== RUN   TestPollingNotifier/notify_returns_channel_and_starts_polling
=== PAUSE TestPollingNotifier/notify_returns_channel_and_starts_polling
=== RUN   TestPollingNotifier/handles_polling_errors_gracefully
=== PAUSE TestPollingNotifier/handles_polling_errors_gracefully
=== RUN   TestPollingNotifier/stops_polling_when_done_channel_is_closed
=== PAUSE TestPollingNotifier/stops_polling_when_done_channel_is_closed
=== RUN   TestPollingNotifier/stops_polling_when_context_is_cancelled
=== PAUSE TestPollingNotifier/stops_polling_when_context_is_cancelled
=== CONT  TestBackend_IsHealthy
--- PASS: TestBackend_IsHealthy (0.00s)
=== CONT  TestBackend_create
=== RUN   TestBackend_create/happy_path
=== PAUSE TestBackend_create/happy_path
=== RUN   TestBackend_create/resource_already_exists
=== PAUSE TestBackend_create/resource_already_exists
=== RUN   TestBackend_create/error_inserting_into_resource
=== PAUSE TestBackend_create/error_inserting_into_resource
=== RUN   TestBackend_create/error_inserting_into_resource_history
=== PAUSE TestBackend_create/error_inserting_into_resource_history
=== RUN   TestPollingNotifierConfig/valid_config
=== PAUSE TestPollingNotifierConfig/valid_config
=== RUN   TestPollingNotifierConfig/missing_historyPoll
=== PAUSE TestPollingNotifierConfig/missing_historyPoll
=== RUN   TestPollingNotifierConfig/missing_listLatestRVs
=== PAUSE TestPollingNotifierConfig/missing_listLatestRVs
=== RUN   TestPollingNotifierConfig/missing_bulkLock
=== PAUSE TestPollingNotifierConfig/missing_bulkLock
=== RUN   TestPollingNotifierConfig/missing_tracer
=== PAUSE TestPollingNotifierConfig/missing_tracer
=== RUN   TestPollingNotifierConfig/missing_logger
=== PAUSE TestPollingNotifierConfig/missing_logger
=== RUN   TestPollingNotifierConfig/invalid_watch_buffer_size
=== PAUSE TestPollingNotifierConfig/invalid_watch_buffer_size
=== RUN   TestPollingNotifierConfig/invalid_polling_interval
=== PAUSE TestPollingNotifierConfig/invalid_polling_interval
=== RUN   TestPollingNotifierConfig/missing_done_channel
=== PAUSE TestPollingNotifierConfig/missing_done_channel
=== RUN   TestPollingNotifierConfig/missing_dialect
=== PAUSE TestPollingNotifierConfig/missing_dialect
=== CONT  TestBackend_update
=== RUN   TestBackend_update/happy_path
=== PAUSE TestBackend_update/happy_path
=== RUN   TestBackend_update/error_in_first_update_to_resource
=== PAUSE TestBackend_update/error_in_first_update_to_resource
=== RUN   TestBackend_update/error_inserting_into_resource_history
=== PAUSE TestBackend_update/error_inserting_into_resource_history
=== CONT  TestNewBackend/no_db_provider
--- PASS: TestNewBackend (0.00s)
--- PASS: TestNewBackend/happy_path (0.00s)
--- PASS: TestNewBackend/no_db_provider (0.00s)
=== RUN   TestBatch/rv_iterator
=== PAUSE TestBatch/rv_iterator
=== CONT  TestBackend_Init
=== RUN   TestBackend_Init/happy_path
=== PAUSE TestBackend_Init/happy_path
=== RUN   TestBackend_Init/no_db_provider
=== PAUSE TestBackend_Init/no_db_provider
=== RUN   TestBackend_Init/no_dialect_for_driver
=== PAUSE TestBackend_Init/no_dialect_for_driver
=== RUN   TestBackend_Init/database_unreachable
=== PAUSE TestBackend_Init/database_unreachable
=== CONT  TestBackend_delete/happy_path
=== CONT  TestPollingNotifier/notify_returns_channel_and_starts_polling
=== RUN   TestBackend_getHistoryPagination/pagination_with_NotOlderThan_should_return_entries_from_oldest_to_newest
=== CONT  TestBackend_delete/error_deleting_resource
=== RUN   TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan
=== PAUSE TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan
=== RUN   TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan_and_ResourceVersion=0
=== PAUSE TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan_and_ResourceVersion=0
=== RUN   TestBackend_getHistory/with_ResourceVersionMatch_Exact
=== PAUSE TestBackend_getHistory/with_ResourceVersionMatch_Exact
=== RUN   TestBackend_getHistory/with_ResourceVersionMatch_Unset_(default)
=== PAUSE TestBackend_getHistory/with_ResourceVersionMatch_Unset_(default)
=== RUN   TestBackend_getHistory/error_with_ResourceVersionMatch_Exact_and_ResourceVersion_<=_0
=== PAUSE TestBackend_getHistory/error_with_ResourceVersionMatch_Exact_and_ResourceVersion_<=_0
=== RUN   TestBackend_getHistory/with_ListRequest_TRASH
=== PAUSE TestBackend_getHistory/with_ListRequest_TRASH
=== CONT  TestPollingNotifierConfig/valid_config
=== RUN   TestBackend_ReadResource/happy_path
=== PAUSE TestBackend_ReadResource/happy_path
=== RUN   TestBackend_ReadResource/no_resource_found
=== PAUSE TestBackend_ReadResource/no_resource_found
=== RUN   TestBackend_ReadResource/with_resource_version
=== PAUSE TestBackend_ReadResource/with_resource_version
=== RUN   TestBackend_ReadResource/error_reading_resource
=== PAUSE TestBackend_ReadResource/error_reading_resource
=== CONT  TestBackend_update/happy_path
=== CONT  TestPollingNotifier/stops_polling_when_context_is_cancelled
=== CONT  TestPollingNotifier/handles_polling_errors_gracefully
=== CONT  TestPollingNotifier/stops_polling_when_done_channel_is_closed
=== CONT  TestBackend_create/error_inserting_into_resource_history
=== CONT  TestBackend_create/error_inserting_into_resource
=== CONT  TestBackend_create/resource_already_exists
=== CONT  TestBatch/rv_iterator
--- PASS: TestBatch (0.00s)
--- PASS: TestBatch/rv_iterator (0.00s)
=== CONT  TestBackend_Init/happy_path
=== CONT  TestPollingNotifierConfig/missing_dialect
=== CONT  TestPollingNotifierConfig/missing_done_channel
=== CONT  TestPollingNotifierConfig/invalid_polling_interval
=== CONT  TestPollingNotifierConfig/invalid_watch_buffer_size
=== CONT  TestPollingNotifierConfig/missing_logger
=== CONT  TestPollingNotifierConfig/missing_tracer
=== CONT  TestPollingNotifierConfig/missing_bulkLock
=== CONT  TestPollingNotifierConfig/missing_listLatestRVs
=== CONT  TestPollingNotifierConfig/missing_historyPoll
--- PASS: TestPollingNotifierConfig (0.00s)
--- PASS: TestPollingNotifierConfig/valid_config (0.00s)
--- PASS: TestPollingNotifierConfig/missing_dialect (0.00s)
--- PASS: TestPollingNotifierConfig/missing_done_channel (0.00s)
--- PASS: TestPollingNotifierConfig/invalid_polling_interval (0.00s)
--- PASS: TestPollingNotifierConfig/invalid_watch_buffer_size (0.00s)
--- PASS: TestPollingNotifierConfig/missing_logger (0.00s)
--- PASS: TestPollingNotifierConfig/missing_tracer (0.00s)
--- PASS: TestPollingNotifierConfig/missing_bulkLock (0.00s)
--- PASS: TestPollingNotifierConfig/missing_listLatestRVs (0.00s)
--- PASS: TestPollingNotifierConfig/missing_historyPoll (0.00s)
=== CONT  TestBackend_update/error_inserting_into_resource_history
=== CONT  TestBackend_create/happy_path
--- PASS: TestBackend_create (0.00s)
--- PASS: TestBackend_create/error_inserting_into_resource_history (0.00s)
--- PASS: TestBackend_create/error_inserting_into_resource (0.00s)
--- PASS: TestBackend_create/resource_already_exists (0.00s)
--- PASS: TestBackend_create/happy_path (0.00s)
=== CONT  TestBackend_delete/error_inserting_into_resource_history
--- PASS: TestBackend_delete (0.00s)
--- PASS: TestBackend_delete/happy_path (0.00s)
--- PASS: TestBackend_delete/error_deleting_resource (0.00s)
--- PASS: TestBackend_delete/error_inserting_into_resource_history (0.00s)
=== CONT  TestBackend_update/error_in_first_update_to_resource
=== CONT  TestBackend_Init/no_db_provider
=== CONT  TestBackend_Init/no_dialect_for_driver
=== CONT  TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan
=== CONT  TestBackend_ReadResource/happy_path
=== RUN   TestBackend_getHistoryPagination/pagination_with_ResourceVersion=0_and_NotOlderThan_should_return_entries_in_ASC_order
=== CONT  TestBackend_getHistory/with_ListRequest_TRASH
=== CONT  TestBackend_getHistory/error_with_ResourceVersionMatch_Exact_and_ResourceVersion_<=_0
=== CONT  TestBackend_getHistory/with_ResourceVersionMatch_Unset_(default)
=== CONT  TestBackend_getHistory/with_ResourceVersionMatch_Exact
=== CONT  TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan_and_ResourceVersion=0
=== CONT  TestBackend_ReadResource/with_resource_version
=== PAUSE TestUnifiedStorageQueries/resource_history_read.sql
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_read_latest_rv.sql
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql
=== PAUSE TestUnifiedStorageQueries/resource_blob_query.sql
=== RUN   TestUnifiedStorageQueries/resource_history_list.sql
=== PAUSE TestUnifiedStorageQueries/resource_history_list.sql
=== RUN   TestUnifiedStorageQueries/resource_update_rv.sql
=== PAUSE TestUnifiedStorageQueries/resource_update_rv.sql
=== RUN   TestUnifiedStorageQueries/resource_version_get.sql
=== PAUSE TestUnifiedStorageQueries/resource_version_get.sql
=== RUN   TestUnifiedStorageQueries/resource_version_insert.sql
=== PAUSE TestUnifiedStorageQueries/resource_version_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_stats.sql
=== PAUSE TestUnifiedStorageQueries/resource_stats.sql
=== RUN   TestUnifiedStorageQueries/resource_blob_insert.sql
=== PAUSE TestUnifiedStorageQueries/resource_blob_insert.sql
=== CONT  TestBackend_ReadResource/error_reading_resource
=== CONT  TestBackend_Init/database_unreachable
=== CONT  TestBackend_ReadResource/no_resource_found
--- PASS: TestBackend_Init (0.00s)
--- PASS: TestBackend_Init/happy_path (0.00s)
--- PASS: TestBackend_Init/no_db_provider (0.00s)
--- PASS: TestBackend_Init/no_dialect_for_driver (0.00s)
--- PASS: TestBackend_Init/database_unreachable (0.00s)
=== CONT  TestUnifiedStorageQueries/resource_history_poll.sql
=== RUN   TestUnifiedStorageQueries/resource_history_poll.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_history_poll.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_history_poll.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_history_poll.sql/single_path/mysql
--- PASS: TestBackend_getHistoryPagination (0.02s)
--- PASS: TestBackend_getHistoryPagination/pagination_with_NotOlderThan_should_return_entries_from_oldest_to_newest (0.01s)
--- PASS: TestBackend_getHistoryPagination/pagination_with_ResourceVersion=0_and_NotOlderThan_should_return_entries_in_ASC_order (0.00s)
=== CONT  TestUnifiedStorageQueries/resource_history_delete.sql
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/guid
=== PAUSE TestUnifiedStorageQueries/resource_history_delete.sql/guid
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/wipe
=== PAUSE TestUnifiedStorageQueries/resource_history_delete.sql/wipe
=== CONT  TestUnifiedStorageQueries/resource_history_delete.sql/guid
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/guid/mysql
=== CONT  TestUnifiedStorageQueries/resource_insert_from_history.sql
=== RUN   TestUnifiedStorageQueries/resource_insert_from_history.sql/update
=== PAUSE TestUnifiedStorageQueries/resource_insert_from_history.sql/update
=== CONT  TestUnifiedStorageQueries/resource_history_get.sql
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_object_history
=== PAUSE TestUnifiedStorageQueries/resource_history_get.sql/read_object_history
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash
=== PAUSE TestUnifiedStorageQueries/resource_history_get.sql/read_trash
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page
=== PAUSE TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page
=== CONT  TestUnifiedStorageQueries/resource_history_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history
=== PAUSE TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history
=== CONT  TestUnifiedStorageQueries/resource_list.sql
=== RUN   TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace
=== PAUSE TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace
=== CONT  TestUnifiedStorageQueries/resource_read.sql
=== RUN   TestUnifiedStorageQueries/resource_read.sql/without_resource_version
=== PAUSE TestUnifiedStorageQueries/resource_read.sql/without_resource_version
=== CONT  TestUnifiedStorageQueries/resource_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_insert.sql/simple
=== PAUSE TestUnifiedStorageQueries/resource_insert.sql/simple
=== CONT  TestUnifiedStorageQueries/resource_history_list.sql
=== RUN   TestUnifiedStorageQueries/resource_history_list.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_history_list.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_blob_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_blob_insert.sql/basic
=== PAUSE TestUnifiedStorageQueries/resource_blob_insert.sql/basic
=== CONT  TestUnifiedStorageQueries/resource_stats.sql
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/global
=== PAUSE TestUnifiedStorageQueries/resource_stats.sql/global
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/namespace
=== PAUSE TestUnifiedStorageQueries/resource_stats.sql/namespace
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/folder
=== PAUSE TestUnifiedStorageQueries/resource_stats.sql/folder
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/resource
=== PAUSE TestUnifiedStorageQueries/resource_stats.sql/resource
=== CONT  TestUnifiedStorageQueries/resource_version_insert.sql
=== RUN   TestUnifiedStorageQueries/resource_version_insert.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_version_insert.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_version_get.sql
=== RUN   TestUnifiedStorageQueries/resource_version_get.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_version_get.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_update_rv.sql
=== RUN   TestUnifiedStorageQueries/resource_update_rv.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_update_rv.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_history_read.sql
=== RUN   TestUnifiedStorageQueries/resource_history_read.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_history_read.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_blob_query.sql
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/basic
=== PAUSE TestUnifiedStorageQueries/resource_blob_query.sql/basic
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/resource
=== PAUSE TestUnifiedStorageQueries/resource_blob_query.sql/resource
=== CONT  TestUnifiedStorageQueries/resource_history_read_latest_rv.sql
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED
=== PAUSE TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED
=== CONT  TestUnifiedStorageQueries/resource_history_update_rv.sql
=== RUN   TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_version_update.sql
=== RUN   TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version
=== PAUSE TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version
=== CONT  TestUnifiedStorageQueries/resource_history_prune.sql
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/max-versions
=== PAUSE TestUnifiedStorageQueries/resource_history_prune.sql/max-versions
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations
=== PAUSE TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations
=== CONT  TestUnifiedStorageQueries/resource_delete.sql
=== RUN   TestUnifiedStorageQueries/resource_delete.sql/simple
=== PAUSE TestUnifiedStorageQueries/resource_delete.sql/simple
=== CONT  TestUnifiedStorageQueries/resource_update.sql
=== RUN   TestUnifiedStorageQueries/resource_update.sql/single_path
=== PAUSE TestUnifiedStorageQueries/resource_update.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_history_delete.sql/wipe
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/wipe/mysql
=== CONT  TestUnifiedStorageQueries/resource_insert_from_history.sql/update
=== RUN   TestUnifiedStorageQueries/resource_insert_from_history.sql/update/mysql
--- PASS: TestBackend_getHistory (0.00s)
--- PASS: TestBackend_getHistory/with_ListRequest_TRASH (0.00s)
--- PASS: TestBackend_getHistory/error_with_ResourceVersionMatch_Exact_and_ResourceVersion_<=_0 (0.00s)
--- PASS: TestBackend_getHistory/with_ResourceVersionMatch_Unset_(default) (0.00s)
--- PASS: TestBackend_getHistory/with_ResourceVersionMatch_Exact (0.00s)
--- PASS: TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan_and_ResourceVersion=0 (0.00s)
--- PASS: TestBackend_getHistory/with_ResourceVersionMatch_NotOlderThan (0.01s)
=== CONT  TestUnifiedStorageQueries/resource_history_get.sql/read_object_history
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_object_history/mysql
--- PASS: TestBackend_update (0.00s)
--- PASS: TestBackend_update/error_in_first_update_to_resource (0.00s)
--- PASS: TestBackend_update/happy_path (0.02s)
--- PASS: TestBackend_update/error_inserting_into_resource_history (0.01s)
=== CONT  TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history
=== RUN   TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history/mysql
--- PASS: TestBackend_ReadResource (0.00s)
--- PASS: TestBackend_ReadResource/happy_path (0.00s)
--- PASS: TestBackend_ReadResource/error_reading_resource (0.00s)
--- PASS: TestBackend_ReadResource/no_resource_found (0.00s)
--- PASS: TestBackend_ReadResource/with_resource_version (0.00s)
=== CONT  TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_poll.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_poll.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/guid/sqlite
=== CONT  TestUnifiedStorageQueries/resource_history_get.sql/read_trash
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/wipe/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/guid/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash/sqlite
=== CONT  TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace
=== RUN   TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_delete.sql/wipe/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_object_history/sqlite
=== RUN   TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace/sqlite
=== RUN   TestUnifiedStorageQueries/resource_insert_from_history.sql/update/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page/sqlite
=== CONT  TestUnifiedStorageQueries/resource_read.sql/without_resource_version
=== RUN   TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace/postgres
=== RUN   TestUnifiedStorageQueries/resource_read.sql/without_resource_version/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_object_history/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history/sqlite
=== CONT  TestUnifiedStorageQueries/resource_insert.sql/simple
=== RUN   TestUnifiedStorageQueries/resource_insert.sql/simple/mysql
=== RUN   TestUnifiedStorageQueries/resource_insert_from_history.sql/update/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page/postgres
=== RUN   TestUnifiedStorageQueries/resource_read.sql/without_resource_version/sqlite
=== RUN   TestUnifiedStorageQueries/resource_insert.sql/simple/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_get.sql/read_trash/postgres
=== CONT  TestUnifiedStorageQueries/resource_history_list.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_history_list.sql/single_path/mysql
=== RUN   TestUnifiedStorageQueries/resource_insert.sql/simple/postgres
=== CONT  TestUnifiedStorageQueries/resource_blob_insert.sql/basic
=== RUN   TestUnifiedStorageQueries/resource_blob_insert.sql/basic/mysql
=== CONT  TestUnifiedStorageQueries/resource_stats.sql/global
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/global/mysql
=== RUN   TestUnifiedStorageQueries/resource_blob_insert.sql/basic/sqlite
=== CONT  TestUnifiedStorageQueries/resource_version_insert.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_version_insert.sql/single_path/mysql
=== CONT  TestUnifiedStorageQueries/resource_stats.sql/resource
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/resource/mysql
=== RUN   TestUnifiedStorageQueries/resource_blob_insert.sql/basic/postgres
=== RUN   TestUnifiedStorageQueries/resource_version_insert.sql/single_path/sqlite
=== CONT  TestUnifiedStorageQueries/resource_stats.sql/folder
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/folder/mysql
=== RUN   TestUnifiedStorageQueries/resource_version_insert.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_read.sql/without_resource_version/postgres
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/global/sqlite
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/folder/sqlite
=== CONT  TestUnifiedStorageQueries/resource_stats.sql/namespace
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/namespace/mysql
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/resource/sqlite
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/namespace/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_list.sql/single_path/sqlite
=== CONT  TestUnifiedStorageQueries/resource_version_get.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_version_get.sql/single_path/mysql
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/global/postgres
=== RUN   TestUnifiedStorageQueries/resource_version_get.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/folder/postgres
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/resource/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_list.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_version_get.sql/single_path/postgres
=== CONT  TestUnifiedStorageQueries/resource_update_rv.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_update_rv.sql/single_path/mysql
=== CONT  TestUnifiedStorageQueries/resource_history_read.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_history_read.sql/single_path/mysql
=== CONT  TestUnifiedStorageQueries/resource_blob_query.sql/basic
=== CONT  TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path
=== CONT  TestUnifiedStorageQueries/resource_blob_query.sql/resource
=== CONT  TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/basic/mysql
=== RUN   TestUnifiedStorageQueries/resource_update_rv.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/basic/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path/mysql
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/resource/mysql
=== RUN   TestUnifiedStorageQueries/resource_stats.sql/namespace/postgres
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/basic/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/resource/sqlite
=== CONT  TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version
=== RUN   TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path/mysql
=== CONT  TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED
=== RUN   TestUnifiedStorageQueries/resource_history_read.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED/mysql
=== RUN   TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version/mysql
=== RUN   TestUnifiedStorageQueries/resource_update_rv.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_read.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path/postgres
=== CONT  TestUnifiedStorageQueries/resource_history_prune.sql/max-versions
=== RUN   TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/max-versions/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED/postgres
=== CONT  TestUnifiedStorageQueries/resource_delete.sql/simple
=== CONT  TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations
=== RUN   TestUnifiedStorageQueries/resource_delete.sql/simple/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations/mysql
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/max-versions/sqlite
=== CONT  TestUnifiedStorageQueries/resource_update.sql/single_path
=== RUN   TestUnifiedStorageQueries/resource_update.sql/single_path/mysql
=== RUN   TestUnifiedStorageQueries/resource_delete.sql/simple/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations/sqlite
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/max-versions/postgres
=== RUN   TestUnifiedStorageQueries/resource_update.sql/single_path/sqlite
=== RUN   TestUnifiedStorageQueries/resource_delete.sql/simple/postgres
=== RUN   TestUnifiedStorageQueries/resource_update.sql/single_path/postgres
=== RUN   TestUnifiedStorageQueries/resource_blob_query.sql/resource/postgres
=== RUN   TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations/postgres
--- PASS: TestUnifiedStorageQueries (0.02s)
--- PASS: TestUnifiedStorageQueries/resource_history_poll.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_poll.sql/single_path (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_poll.sql/single_path/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_poll.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_poll.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/guid (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/guid/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/guid/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/guid/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/wipe (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/wipe/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/wipe/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_delete.sql/wipe/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_list.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_list.sql/filter_on_namespace/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_insert.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_insert.sql/insert_into_resource_history/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert.sql/simple (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert.sql/simple/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert.sql/simple/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert.sql/simple/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_object_history (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_object_history/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_object_history/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_object_history/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash_second_page/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_get.sql/read_trash/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert_from_history.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert_from_history.sql/update (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_insert_from_history.sql/update/mysql (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_insert_from_history.sql/update/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_insert_from_history.sql/update/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_insert.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_insert.sql/single_path (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_insert.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_insert.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_insert.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_read.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_read.sql/without_resource_version (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_read.sql/without_resource_version/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_read.sql/without_resource_version/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_read.sql/without_resource_version/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_get.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_get.sql/single_path (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_get.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_get.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_get.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_list.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_list.sql/single_path (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_list.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_list.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_list.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_insert.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_insert.sql/basic (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_blob_insert.sql/basic/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_insert.sql/basic/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_insert.sql/basic/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/resource (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/resource/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/resource/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/resource/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/folder (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/folder/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/folder/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/folder/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/global (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/global/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/global/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/global/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/namespace (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/namespace/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/namespace/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_stats.sql/namespace/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read.sql/single_path (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_read.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_update_rv.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_update_rv.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_update.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_version_update.sql/increment_resource_version/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_read_latest_rv.sql/with_WatchEvent_DELETED/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update_rv.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update_rv.sql/single_path (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_update_rv.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update_rv.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update_rv.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_delete.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_delete.sql/simple (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_delete.sql/simple/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_delete.sql/simple/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_delete.sql/simple/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update.sql/single_path (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update.sql/single_path/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update.sql/single_path/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_update.sql/single_path/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/basic (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/basic/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/basic/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/basic/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/resource (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/resource/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/resource/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_blob_query.sql/resource/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/max-versions (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/max-versions/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/max-versions/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/max-versions/postgres (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations (0.01s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations/mysql (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations/sqlite (0.00s)
--- PASS: TestUnifiedStorageQueries/resource_history_prune.sql/collapse-generations/postgres (0.00s)
--- PASS: TestPollingNotifier (0.00s)
--- PASS: TestPollingNotifier/stops_polling_when_context_is_cancelled (0.00s)
--- PASS: TestPollingNotifier/stops_polling_when_done_channel_is_closed (0.00s)
--- PASS: TestPollingNotifier/notify_returns_channel_and_starts_polling (0.01s)
--- PASS: TestPollingNotifier/handles_polling_errors_gracefully (0.05s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql	0.720s
=== RUN   TestNewWithTxFunc
=== PAUSE TestNewWithTxFunc
=== CONT  TestNewWithTxFunc
=== RUN   TestNewWithTxFunc/happy_path
=== PAUSE TestNewWithTxFunc/happy_path
=== RUN   TestNewWithTxFunc/failed_begin
=== PAUSE TestNewWithTxFunc/failed_begin
=== RUN   TestNewWithTxFunc/fail_tx
=== PAUSE TestNewWithTxFunc/fail_tx
=== RUN   TestNewWithTxFunc/fail_tx;_fail_rollback
=== PAUSE TestNewWithTxFunc/fail_tx;_fail_rollback
=== RUN   TestNewWithTxFunc/fail_commit
=== PAUSE TestNewWithTxFunc/fail_commit
=== CONT  TestNewWithTxFunc/happy_path
=== CONT  TestNewWithTxFunc/fail_tx;_fail_rollback
=== CONT  TestNewWithTxFunc/fail_tx
=== CONT  TestNewWithTxFunc/failed_begin
=== CONT  TestNewWithTxFunc/fail_commit
--- PASS: TestNewWithTxFunc (0.00s)
--- PASS: TestNewWithTxFunc/fail_tx (0.00s)
--- PASS: TestNewWithTxFunc/happy_path (0.00s)
--- PASS: TestNewWithTxFunc/failed_begin (0.00s)
--- PASS: TestNewWithTxFunc/fail_commit (0.00s)
--- PASS: TestNewWithTxFunc/fail_tx;_fail_rollback (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql/db	(cached)
=== RUN   TestGetEngine
=== PAUSE TestGetEngine
=== RUN   TestGetEngineMySQLFromConfig
=== PAUSE TestGetEngineMySQLFromConfig
=== RUN   TestGetEnginePostgresFromConfig
=== PAUSE TestGetEnginePostgresFromConfig
=== RUN   TestGetEngineMySQLTLS
=== RUN   TestGetEngineMySQLTLS/with_TLS_disabled
=== RUN   TestGetEngineMySQLTLS/with_TLS_skip-verify
=== RUN   TestGetEngineMySQLTLS/with_valid_TLS_certificates
=== RUN   TestGetEngineMySQLTLS/with_invalid_cert_paths
=== RUN   TestGetEngineMySQLTLS/with_TLS_certs_and_tls_parameter
--- PASS: TestGetEngineMySQLTLS (0.97s)
--- PASS: TestGetEngineMySQLTLS/with_TLS_disabled (0.00s)
--- PASS: TestGetEngineMySQLTLS/with_TLS_skip-verify (0.00s)
--- PASS: TestGetEngineMySQLTLS/with_valid_TLS_certificates (0.00s)
--- PASS: TestGetEngineMySQLTLS/with_invalid_cert_paths (0.00s)
--- PASS: TestGetEngineMySQLTLS/with_TLS_certs_and_tls_parameter (0.00s)
=== RUN   TestDB_BeginTx
=== PAUSE TestDB_BeginTx
=== RUN   TestReproIncident2144IndependentOfGrafanaDB
=== PAUSE TestReproIncident2144IndependentOfGrafanaDB
=== RUN   TestReproIncident2144UsingGrafanaDB
=== PAUSE TestReproIncident2144UsingGrafanaDB
=== RUN   TestSectionGetter
=== PAUSE TestSectionGetter
=== RUN   TestMakeDSN
=== PAUSE TestMakeDSN
=== RUN   TestSplitHostPort
=== PAUSE TestSplitHostPort
=== CONT  TestGetEngine
=== RUN   TestGetEngine/MySQL_engine
=== PAUSE TestGetEngine/MySQL_engine
=== RUN   TestGetEngine/Postgres_engine
=== PAUSE TestGetEngine/Postgres_engine
=== RUN   TestGetEngine/SQLite_engine
=== PAUSE TestGetEngine/SQLite_engine
=== RUN   TestGetEngine/Unknown_database_type
=== PAUSE TestGetEngine/Unknown_database_type
=== CONT  TestGetEngine/MySQL_engine
=== CONT  TestDB_BeginTx
--- PASS: TestDB_BeginTx (0.00s)
=== CONT  TestSplitHostPort
=== RUN   TestSplitHostPort/test_index_#0
=== PAUSE TestSplitHostPort/test_index_#0
=== RUN   TestSplitHostPort/test_index_#1
=== PAUSE TestSplitHostPort/test_index_#1
=== RUN   TestSplitHostPort/test_index_#2
=== PAUSE TestSplitHostPort/test_index_#2
=== RUN   TestSplitHostPort/test_index_#3
=== PAUSE TestSplitHostPort/test_index_#3
=== RUN   TestSplitHostPort/test_index_#4
=== PAUSE TestSplitHostPort/test_index_#4
=== RUN   TestSplitHostPort/test_index_#5
=== PAUSE TestSplitHostPort/test_index_#5
=== RUN   TestSplitHostPort/test_index_#6
=== PAUSE TestSplitHostPort/test_index_#6
=== RUN   TestSplitHostPort/test_index_#7
=== PAUSE TestSplitHostPort/test_index_#7
=== RUN   TestSplitHostPort/test_index_#8
=== PAUSE TestSplitHostPort/test_index_#8
=== CONT  TestSplitHostPort/test_index_#0
=== CONT  TestMakeDSN
--- PASS: TestMakeDSN (0.00s)
=== CONT  TestSectionGetter
=== RUN   TestSectionGetter/with_prefix
=== PAUSE TestSectionGetter/with_prefix
=== RUN   TestSectionGetter/without_prefix
=== PAUSE TestSectionGetter/without_prefix
=== CONT  TestSectionGetter/with_prefix
=== CONT  TestReproIncident2144UsingGrafanaDB
=== RUN   TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels
=== PAUSE TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels
=== RUN   TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels
=== PAUSE TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels
=== CONT  TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels
=== RUN   TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/base_behaviour_is_preserved
=== PAUSE TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/base_behaviour_is_preserved
=== RUN   TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/Resource_API_does_not_fail_and_correctly_uses_Grafana_DB_as_fallback
=== PAUSE TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/Resource_API_does_not_fail_and_correctly_uses_Grafana_DB_as_fallback
=== CONT  TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/base_behaviour_is_preserved
=== CONT  TestGetEnginePostgresFromConfig
=== RUN   TestGetEnginePostgresFromConfig/happy_path_-_with_key_prefix
=== PAUSE TestGetEnginePostgresFromConfig/happy_path_-_with_key_prefix
=== RUN   TestGetEnginePostgresFromConfig/happy_path_-_without_key_prefix
=== PAUSE TestGetEnginePostgresFromConfig/happy_path_-_without_key_prefix
=== RUN   TestGetEnginePostgresFromConfig/invalid_string
=== PAUSE TestGetEnginePostgresFromConfig/invalid_string
=== RUN   TestGetEnginePostgresFromConfig/invalid_hostport
=== PAUSE TestGetEnginePostgresFromConfig/invalid_hostport
=== CONT  TestGetEnginePostgresFromConfig/happy_path_-_with_key_prefix
=== CONT  TestGetEngineMySQLFromConfig
=== RUN   TestGetEngineMySQLFromConfig/happy_path_-_with_key_prefix
=== PAUSE TestGetEngineMySQLFromConfig/happy_path_-_with_key_prefix
=== RUN   TestGetEngineMySQLFromConfig/happy_path_-_without_key_prefix
=== PAUSE TestGetEngineMySQLFromConfig/happy_path_-_without_key_prefix
=== RUN   TestGetEngineMySQLFromConfig/invalid_string
=== PAUSE TestGetEngineMySQLFromConfig/invalid_string
=== CONT  TestGetEngineMySQLFromConfig/happy_path_-_with_key_prefix
=== CONT  TestGetEngine/Unknown_database_type
=== CONT  TestGetEngine/SQLite_engine
=== CONT  TestGetEngine/Postgres_engine
--- PASS: TestGetEngine (0.00s)
--- PASS: TestGetEngine/MySQL_engine (0.00s)
--- PASS: TestGetEngine/Unknown_database_type (0.00s)
--- PASS: TestGetEngine/SQLite_engine (0.00s)
--- PASS: TestGetEngine/Postgres_engine (0.00s)
=== CONT  TestGetEnginePostgresFromConfig/invalid_hostport
=== CONT  TestGetEnginePostgresFromConfig/invalid_string
=== CONT  TestGetEnginePostgresFromConfig/happy_path_-_without_key_prefix
--- PASS: TestGetEnginePostgresFromConfig (0.00s)
--- PASS: TestGetEnginePostgresFromConfig/happy_path_-_with_key_prefix (0.00s)
--- PASS: TestGetEnginePostgresFromConfig/invalid_hostport (0.00s)
--- PASS: TestGetEnginePostgresFromConfig/invalid_string (0.00s)
--- PASS: TestGetEnginePostgresFromConfig/happy_path_-_without_key_prefix (0.00s)
=== CONT  TestGetEngineMySQLFromConfig/invalid_string
=== CONT  TestGetEngineMySQLFromConfig/happy_path_-_without_key_prefix
--- PASS: TestGetEngineMySQLFromConfig (0.00s)
--- PASS: TestGetEngineMySQLFromConfig/happy_path_-_with_key_prefix (0.00s)
--- PASS: TestGetEngineMySQLFromConfig/invalid_string (0.00s)
--- PASS: TestGetEngineMySQLFromConfig/happy_path_-_without_key_prefix (0.00s)
=== CONT  TestSplitHostPort/test_index_#4
=== CONT  TestReproIncident2144IndependentOfGrafanaDB
=== RUN   TestReproIncident2144IndependentOfGrafanaDB/driver_without_isolation_level_should_fail
=== PAUSE TestReproIncident2144IndependentOfGrafanaDB/driver_without_isolation_level_should_fail
=== RUN   TestReproIncident2144IndependentOfGrafanaDB/driver_with_isolation_level_should_work
=== PAUSE TestReproIncident2144IndependentOfGrafanaDB/driver_with_isolation_level_should_work
=== CONT  TestReproIncident2144IndependentOfGrafanaDB/driver_without_isolation_level_should_fail
=== CONT  TestSplitHostPort/test_index_#8
=== CONT  TestSplitHostPort/test_index_#7
=== CONT  TestSplitHostPort/test_index_#6
=== CONT  TestSplitHostPort/test_index_#5
=== CONT  TestReproIncident2144IndependentOfGrafanaDB/driver_with_isolation_level_should_work
--- PASS: TestReproIncident2144IndependentOfGrafanaDB (0.00s)
--- PASS: TestReproIncident2144IndependentOfGrafanaDB/driver_without_isolation_level_should_fail (0.00s)
--- PASS: TestReproIncident2144IndependentOfGrafanaDB/driver_with_isolation_level_should_work (0.00s)
=== CONT  TestSectionGetter/without_prefix
=== CONT  TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/Resource_API_does_not_fail_and_correctly_uses_Grafana_DB_as_fallback
=== CONT  TestSplitHostPort/test_index_#2
=== CONT  TestSplitHostPort/test_index_#3
=== CONT  TestSplitHostPort/test_index_#1
--- PASS: TestSplitHostPort (0.00s)
--- PASS: TestSplitHostPort/test_index_#0 (0.00s)
--- PASS: TestSplitHostPort/test_index_#4 (0.00s)
--- PASS: TestSplitHostPort/test_index_#8 (0.00s)
--- PASS: TestSplitHostPort/test_index_#7 (0.00s)
--- PASS: TestSplitHostPort/test_index_#6 (0.00s)
--- PASS: TestSplitHostPort/test_index_#5 (0.00s)
--- PASS: TestSplitHostPort/test_index_#2 (0.00s)
--- PASS: TestSplitHostPort/test_index_#3 (0.00s)
--- PASS: TestSplitHostPort/test_index_#1 (0.00s)
=== CONT  TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels
--- PASS: TestSectionGetter (0.00s)
--- PASS: TestSectionGetter/with_prefix (0.00s)
--- PASS: TestSectionGetter/without_prefix (0.00s)
=== RUN   TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/base_failure_caused_by_instrumentation
=== PAUSE TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/base_failure_caused_by_instrumentation
=== RUN   TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/Resource_API_provides_a_reasonable_error_for_this_case
=== PAUSE TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/Resource_API_provides_a_reasonable_error_for_this_case
=== CONT  TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/base_failure_caused_by_instrumentation
=== CONT  TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/Resource_API_provides_a_reasonable_error_for_this_case
--- PASS: TestReproIncident2144UsingGrafanaDB (0.00s)
--- PASS: TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels (0.00s)
--- PASS: TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/base_behaviour_is_preserved (0.03s)
--- PASS: TestReproIncident2144UsingGrafanaDB/core_Grafana_db_without_instrumentation_preserves_driver_ability_to_use_isolation_levels/Resource_API_does_not_fail_and_correctly_uses_Grafana_DB_as_fallback (0.02s)
--- PASS: TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels (0.03s)
--- PASS: TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/base_failure_caused_by_instrumentation (0.00s)
--- PASS: TestReproIncident2144UsingGrafanaDB/core_Grafana_db_instrumentation_removes_driver_ability_to_use_isolation_levels/Resource_API_provides_a_reasonable_error_for_this_case (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql/db/dbimpl	1.823s
?   	github.com/grafana/grafana/pkg/storage/unified/sql/db/migrations	[no test files]
?   	github.com/grafana/grafana/pkg/storage/unified/sql/db/mocks	[no test files]
=== RUN   TestContextAttributes
=== PAUSE TestContextAttributes
=== RUN   TestOTelTransactions
=== PAUSE TestOTelTransactions
=== RUN   TestOTelDB_PingContext
=== PAUSE TestOTelDB_PingContext
=== CONT  TestContextAttributes
=== RUN   TestContextAttributes/consumeAttributes_returns_nil_if_SetAttributes_was_never_called
=== RUN   TestContextAttributes/setting_and_getting_attributes
=== RUN   TestContextAttributes/attributes_are_now_cleared
=== RUN   TestContextAttributes/SetAttributes_overwrites_previous_attributes
=== RUN   TestContextAttributes/attributes_are_now_cleared_again
--- PASS: TestContextAttributes (0.00s)
--- PASS: TestContextAttributes/consumeAttributes_returns_nil_if_SetAttributes_was_never_called (0.00s)
--- PASS: TestContextAttributes/setting_and_getting_attributes (0.00s)
--- PASS: TestContextAttributes/attributes_are_now_cleared (0.00s)
--- PASS: TestContextAttributes/SetAttributes_overwrites_previous_attributes (0.00s)
--- PASS: TestContextAttributes/attributes_are_now_cleared_again (0.00s)
=== CONT  TestOTelDB_PingContext
=== RUN   TestOTelDB_PingContext/happy_path_-_default_DB_version
=== PAUSE TestOTelDB_PingContext/happy_path_-_default_DB_version
=== RUN   TestOTelDB_PingContext/happy_path_-_SQLite_DB_version
=== PAUSE TestOTelDB_PingContext/happy_path_-_SQLite_DB_version
=== RUN   TestOTelDB_PingContext/happy_path_-_unknown_DB_version
=== PAUSE TestOTelDB_PingContext/happy_path_-_unknown_DB_version
=== RUN   TestOTelDB_PingContext/fail_making_ping
=== PAUSE TestOTelDB_PingContext/fail_making_ping
=== CONT  TestOTelDB_PingContext/happy_path_-_default_DB_version
=== CONT  TestOTelTransactions
=== CONT  TestOTelDB_PingContext/happy_path_-_unknown_DB_version
=== CONT  TestOTelDB_PingContext/fail_making_ping
=== CONT  TestOTelDB_PingContext/happy_path_-_SQLite_DB_version
--- PASS: TestOTelTransactions (0.00s)
--- PASS: TestOTelDB_PingContext (0.00s)
--- PASS: TestOTelDB_PingContext/happy_path_-_unknown_DB_version (0.00s)
--- PASS: TestOTelDB_PingContext/fail_making_ping (0.00s)
--- PASS: TestOTelDB_PingContext/happy_path_-_default_DB_version (0.00s)
--- PASS: TestOTelDB_PingContext/happy_path_-_SQLite_DB_version (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql/db/otel	(cached)
=== RUN   TestSQLError
=== PAUSE TestSQLError
=== RUN   TestQuery
=== PAUSE TestQuery
=== RUN   TestQueryRow
=== PAUSE TestQueryRow
=== RUN   TestScanRow
=== PAUSE TestScanRow
=== RUN   TestExec
=== PAUSE TestExec
=== CONT  TestSQLError
=== CONT  TestScanRow
=== RUN   TestScanRow/happy_path
=== PAUSE TestScanRow/happy_path
=== RUN   TestScanRow/scan_error
=== PAUSE TestScanRow/scan_error
=== RUN   TestScanRow/results_error
=== PAUSE TestScanRow/results_error
=== CONT  TestScanRow/happy_path
=== CONT  TestExec
=== RUN   TestExec/happy_path
=== PAUSE TestExec/happy_path
=== RUN   TestExec/invalid_request
=== PAUSE TestExec/invalid_request
=== RUN   TestExec/error_executing_template
=== PAUSE TestExec/error_executing_template
=== RUN   TestExec/error_executing_SQL
=== PAUSE TestExec/error_executing_SQL
=== CONT  TestExec/happy_path
=== CONT  TestScanRow/results_error
=== CONT  TestScanRow/scan_error
--- PASS: TestScanRow (0.00s)
--- PASS: TestScanRow/happy_path (0.00s)
--- PASS: TestScanRow/results_error (0.00s)
--- PASS: TestScanRow/scan_error (0.00s)
=== CONT  TestExec/error_executing_SQL
=== CONT  TestExec/error_executing_template
=== CONT  TestExec/invalid_request
--- PASS: TestExec (0.00s)
--- PASS: TestExec/happy_path (0.00s)
--- PASS: TestExec/error_executing_SQL (0.00s)
--- PASS: TestExec/error_executing_template (0.00s)
--- PASS: TestExec/invalid_request (0.00s)
=== CONT  TestQueryRow
=== RUN   TestQueryRow/happy_path
=== PAUSE TestQueryRow/happy_path
=== RUN   TestQueryRow/no_rows_returned
=== PAUSE TestQueryRow/no_rows_returned
=== RUN   TestQueryRow/error_executing_query
=== PAUSE TestQueryRow/error_executing_query
=== RUN   TestQueryRow/too_many_rows_returned
=== PAUSE TestQueryRow/too_many_rows_returned
=== RUN   TestQueryRow/too_many_result_sets
=== PAUSE TestQueryRow/too_many_result_sets
=== CONT  TestQueryRow/happy_path
=== CONT  TestQueryRow/too_many_result_sets
=== CONT  TestQueryRow/too_many_rows_returned
=== CONT  TestQueryRow/error_executing_query
=== CONT  TestQueryRow/no_rows_returned
--- PASS: TestQueryRow (0.00s)
--- PASS: TestQueryRow/happy_path (0.00s)
--- PASS: TestQueryRow/too_many_result_sets (0.00s)
--- PASS: TestQueryRow/too_many_rows_returned (0.00s)
--- PASS: TestQueryRow/error_executing_query (0.00s)
--- PASS: TestQueryRow/no_rows_returned (0.00s)
=== CONT  TestQuery
=== RUN   TestQuery/happy_path_-_no_rows_returned
=== PAUSE TestQuery/happy_path_-_no_rows_returned
=== RUN   TestQuery/happy_path_-_multiple_rows_returned
=== PAUSE TestQuery/happy_path_-_multiple_rows_returned
=== RUN   TestQuery/invalid_request
=== PAUSE TestQuery/invalid_request
=== RUN   TestQuery/error_executing_template
=== PAUSE TestQuery/error_executing_template
=== RUN   TestQuery/error_executing_query
=== PAUSE TestQuery/error_executing_query
=== RUN   TestQuery/error_decoding_row
=== PAUSE TestQuery/error_decoding_row
=== RUN   TestQuery/error_iterating_rows
=== PAUSE TestQuery/error_iterating_rows
=== RUN   TestQuery/too_many_result_sets
=== PAUSE TestQuery/too_many_result_sets
=== CONT  TestQuery/happy_path_-_no_rows_returned
=== CONT  TestQuery/error_executing_query
=== CONT  TestQuery/happy_path_-_multiple_rows_returned
=== CONT  TestQuery/error_iterating_rows
=== CONT  TestQuery/too_many_result_sets
=== CONT  TestQuery/error_decoding_row
=== CONT  TestQuery/invalid_request
=== CONT  TestQuery/error_executing_template
--- PASS: TestSQLError (0.01s)
--- PASS: TestQuery (0.00s)
--- PASS: TestQuery/error_executing_query (0.00s)
--- PASS: TestQuery/happy_path_-_multiple_rows_returned (0.00s)
--- PASS: TestQuery/error_iterating_rows (0.00s)
--- PASS: TestQuery/too_many_result_sets (0.00s)
--- PASS: TestQuery/error_decoding_row (0.00s)
--- PASS: TestQuery/invalid_request (0.00s)
--- PASS: TestQuery/error_executing_template (0.00s)
--- PASS: TestQuery/happy_path_-_no_rows_returned (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql/dbutil	(cached)
=== RUN   TestArgs_Arg
=== PAUSE TestArgs_Arg
=== RUN   TestArg_ArgList
=== PAUSE TestArg_ArgList
=== RUN   TestPostgreSQL_Ident
=== PAUSE TestPostgreSQL_Ident
=== RUN   TestSelectForOption_Valid
=== PAUSE TestSelectForOption_Valid
=== RUN   TestParseRowLockingClause
=== PAUSE TestParseRowLockingClause
=== RUN   TestRowLockingClauseMap_SelectFor
=== PAUSE TestRowLockingClauseMap_SelectFor
=== RUN   TestStandardIdent_Ident
=== PAUSE TestStandardIdent_Ident
=== RUN   TestArgPlaceholderFunc
=== PAUSE TestArgPlaceholderFunc
=== RUN   TestName_Name
=== PAUSE TestName_Name
=== RUN   TestScanDest_Into
=== PAUSE TestScanDest_Into
=== RUN   TestSQLTemplate
=== PAUSE TestSQLTemplate
=== RUN   TestExecute
=== PAUSE TestExecute
=== RUN   TestFormatSQL
=== PAUSE TestFormatSQL
=== CONT  TestArgs_Arg
--- PASS: TestArgs_Arg (0.00s)
=== CONT  TestFormatSQL
--- PASS: TestFormatSQL (0.00s)
=== CONT  TestExecute
--- PASS: TestExecute (0.00s)
=== CONT  TestSQLTemplate
--- PASS: TestSQLTemplate (0.00s)
=== CONT  TestScanDest_Into
--- PASS: TestScanDest_Into (0.00s)
=== CONT  TestName_Name
--- PASS: TestName_Name (0.00s)
=== CONT  TestArgPlaceholderFunc
--- PASS: TestArgPlaceholderFunc (0.00s)
=== CONT  TestStandardIdent_Ident
--- PASS: TestStandardIdent_Ident (0.00s)
=== CONT  TestRowLockingClauseMap_SelectFor
--- PASS: TestRowLockingClauseMap_SelectFor (0.00s)
=== CONT  TestParseRowLockingClause
--- PASS: TestParseRowLockingClause (0.00s)
=== CONT  TestSelectForOption_Valid
--- PASS: TestSelectForOption_Valid (0.00s)
=== CONT  TestPostgreSQL_Ident
--- PASS: TestPostgreSQL_Ident (0.00s)
=== CONT  TestArg_ArgList
--- PASS: TestArg_ArgList (0.00s)
=== RUN   Example
--- PASS: Example (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql/sqltemplate	(cached)
?   	github.com/grafana/grafana/pkg/storage/unified/sql/sqltemplate/mocks	[no test files]
=== RUN   TestIntegrationStorageServer
=== RUN   TestIntegrationStorageServer/Create_resource_in_folder
=== RUN   TestIntegrationStorageServer/Create_resource_denied
=== RUN   TestIntegrationStorageServer/Update_resource_in_same_folder
=== RUN   TestIntegrationStorageServer/Update_resource_denied
=== RUN   TestIntegrationStorageServer/Move_resource_to_another_folder_-_allowed
=== RUN   TestIntegrationStorageServer/Move_resource_-_source_folder_access_denied
=== RUN   TestIntegrationStorageServer/Move_resource_-_destination_folder_access_denied
=== RUN   TestIntegrationStorageServer/Move_resource_-_from_empty_folder_to_named_folder
--- PASS: TestIntegrationStorageServer (0.39s)
--- PASS: TestIntegrationStorageServer/Create_resource_in_folder (0.00s)
--- PASS: TestIntegrationStorageServer/Create_resource_denied (0.00s)
--- PASS: TestIntegrationStorageServer/Update_resource_in_same_folder (0.00s)
--- PASS: TestIntegrationStorageServer/Update_resource_denied (0.00s)
--- PASS: TestIntegrationStorageServer/Move_resource_to_another_folder_-_allowed (0.00s)
--- PASS: TestIntegrationStorageServer/Move_resource_-_source_folder_access_denied (0.00s)
--- PASS: TestIntegrationStorageServer/Move_resource_-_destination_folder_access_denied (0.01s)
--- PASS: TestIntegrationStorageServer/Move_resource_-_from_empty_folder_to_named_folder (0.00s)
=== RUN   TestIntegrationSQLStorageBackend
=== RUN   TestIntegrationSQLStorageBackend/IsHA_(polling_notifier)
storage_backend.go:57: skipping integration test
=== RUN   TestIntegrationSQLStorageBackend/NotHA_(in_process_notifier)
storage_backend.go:57: skipping integration test
--- PASS: TestIntegrationSQLStorageBackend (0.00s)
--- SKIP: TestIntegrationSQLStorageBackend/IsHA_(polling_notifier) (0.00s)
--- SKIP: TestIntegrationSQLStorageBackend/NotHA_(in_process_notifier) (0.00s)
=== RUN   TestClientServer
integration_test.go:101: TODO: test blocking, skipping to unblock Enterprise until we fix this
--- SKIP: TestClientServer (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/sql/test	(cached)
?   	github.com/grafana/grafana/pkg/storage/unified/testing	[no test files]
?   	github.com/grafana/grafana/pkg/tests	[no test files]
=== RUN   TestAlertmanager_ExtraDedupStage
alertmanager_test.go:12: skipping integration test
--- SKIP: TestAlertmanager_ExtraDedupStage (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/alertmanager	(cached)
=== RUN   TestIntegrationAdminConfiguration_SendingToExternalAlertmanagers
api_admin_configuration_test.go:30: skipping integration test
--- SKIP: TestIntegrationAdminConfiguration_SendingToExternalAlertmanagers (0.00s)
=== RUN   TestIntegrationSilenceAuth
api_alertmanager_silence_test.go:29: skipping integration test
--- SKIP: TestIntegrationSilenceAuth (0.00s)
=== RUN   TestIntegrationAMConfigAccess
api_alertmanager_test.go:28: skipping integration test
--- SKIP: TestIntegrationAMConfigAccess (0.00s)
=== RUN   TestIntegrationAlertmanagerCreateSilence
api_alertmanager_test.go:362: skipping integration test
--- SKIP: TestIntegrationAlertmanagerCreateSilence (0.00s)
=== RUN   TestIntegrationAlertmanagerStatus
api_alertmanager_test.go:516: skipping integration test
--- SKIP: TestIntegrationAlertmanagerStatus (0.00s)
=== RUN   TestIntegrationAvailableChannels
api_available_channel_test.go:19: skipping integration test
--- SKIP: TestIntegrationAvailableChannels (0.00s)
=== RUN   TestBacktesting
api_backtesting_test.go:36: Grafana is listening on 127.0.0.1:45001
api_backtesting_test.go:58: Creating a new test data source with UID testdata
=== RUN   TestBacktesting/and_request_contains_data
=== RUN   TestBacktesting/and_request_contains_data/should_accept_request
=== RUN   TestBacktesting/and_request_contains_query
=== RUN   TestBacktesting/and_request_contains_query/should_accept_request_with_query
=== RUN   TestBacktesting/if_user_does_not_have_permissions
=== RUN   TestBacktesting/if_user_does_not_have_permissions/fail_if_can't_read_rules
=== RUN   TestBacktesting/if_user_does_not_have_permissions/fail_if_can't_query_data_sources
--- PASS: TestBacktesting (2.54s)
--- PASS: TestBacktesting/and_request_contains_data (0.02s)
--- PASS: TestBacktesting/and_request_contains_data/should_accept_request (0.02s)
--- PASS: TestBacktesting/and_request_contains_query (0.09s)
--- PASS: TestBacktesting/and_request_contains_query/should_accept_request_with_query (0.09s)
--- PASS: TestBacktesting/if_user_does_not_have_permissions (0.05s)
--- PASS: TestBacktesting/if_user_does_not_have_permissions/fail_if_can't_read_rules (0.01s)
--- PASS: TestBacktesting/if_user_does_not_have_permissions/fail_if_can't_query_data_sources (0.01s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_RecordingRuleTargetDatasource
=== RUN   TestIntegrationConvertPrometheusEndpoints_RecordingRuleTargetDatasource/with_the_mimirtool_paths
api_convert_prometheus_test.go:109: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_RecordingRuleTargetDatasource/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:109: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_RecordingRuleTargetDatasource (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_RecordingRuleTargetDatasource/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_RecordingRuleTargetDatasource/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints
=== RUN   TestIntegrationConvertPrometheusEndpoints/with_the_mimirtool_paths;_empty_content-type
api_convert_prometheus_test.go:181: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints/with_the_cortextool_Loki_paths;_empty_content-type
api_convert_prometheus_test.go:181: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints/with_the_mimirtool_paths;_yaml
api_convert_prometheus_test.go:181: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints/with_the_cortextool_Loki_paths;_yaml
api_convert_prometheus_test.go:181: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints/with_the_mimirtool_paths;_json
api_convert_prometheus_test.go:181: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints/with_the_cortextool_Loki_paths;_json
api_convert_prometheus_test.go:181: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints/with_the_mimirtool_paths;_empty_content-type (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints/with_the_cortextool_Loki_paths;_empty_content-type (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints/with_the_mimirtool_paths;_yaml (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints/with_the_cortextool_Loki_paths;_yaml (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints/with_the_mimirtool_paths;_json (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints/with_the_cortextool_Loki_paths;_json (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_UpdateRule
=== RUN   TestIntegrationConvertPrometheusEndpoints_UpdateRule/with_the_mimirtool_paths
api_convert_prometheus_test.go:393: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_UpdateRule/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:393: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_UpdateRule (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_UpdateRule/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_UpdateRule/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_Conflict
=== RUN   TestIntegrationConvertPrometheusEndpoints_Conflict/with_the_mimirtool_paths
api_convert_prometheus_test.go:480: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_Conflict/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:480: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_Conflict (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_Conflict/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_Conflict/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_CreatePausedRules
=== RUN   TestIntegrationConvertPrometheusEndpoints_CreatePausedRules/with_the_mimirtool_paths
api_convert_prometheus_test.go:568: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_CreatePausedRules/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:568: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_CreatePausedRules (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_CreatePausedRules/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_CreatePausedRules/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_FolderUIDHeader
=== RUN   TestIntegrationConvertPrometheusEndpoints_FolderUIDHeader/with_the_mimirtool_paths
api_convert_prometheus_test.go:682: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_FolderUIDHeader/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:682: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_FolderUIDHeader (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_FolderUIDHeader/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_FolderUIDHeader/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_Provenance
=== RUN   TestIntegrationConvertPrometheusEndpoints_Provenance/with_the_mimirtool_paths
api_convert_prometheus_test.go:784: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_Provenance/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:784: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_Provenance (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_Provenance/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_Provenance/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationConvertPrometheusEndpoints_Delete
=== RUN   TestIntegrationConvertPrometheusEndpoints_Delete/with_the_mimirtool_paths
api_convert_prometheus_test.go:900: skipping integration test
=== RUN   TestIntegrationConvertPrometheusEndpoints_Delete/with_the_cortextool_Loki_paths
api_convert_prometheus_test.go:900: skipping integration test
--- PASS: TestIntegrationConvertPrometheusEndpoints_Delete (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_Delete/with_the_mimirtool_paths (0.00s)
--- SKIP: TestIntegrationConvertPrometheusEndpoints_Delete/with_the_cortextool_Loki_paths (0.00s)
=== RUN   TestIntegrationTestReceivers
api_notification_channel_test.go:43: skipping integration test
--- SKIP: TestIntegrationTestReceivers (0.00s)
=== RUN   TestIntegrationTestReceiversAlertCustomization
api_notification_channel_test.go:547: skipping integration test
--- SKIP: TestIntegrationTestReceiversAlertCustomization (0.00s)
=== RUN   TestIntegrationNotificationChannels
api_notification_channel_test.go:834: skipping integration test
--- SKIP: TestIntegrationNotificationChannels (0.00s)
=== RUN   TestIntegrationPrometheusRules
api_prometheus_test.go:34: skipping integration test
--- SKIP: TestIntegrationPrometheusRules (0.00s)
=== RUN   TestIntegrationPrometheusRulesFilterByDashboard
api_prometheus_test.go:358: skipping integration test
--- SKIP: TestIntegrationPrometheusRulesFilterByDashboard (0.00s)
=== RUN   TestIntegrationPrometheusRulesPermissions
api_prometheus_test.go:686: skipping integration test
--- SKIP: TestIntegrationPrometheusRulesPermissions (0.00s)
=== RUN   TestIntegrationProvisioning
api_provisioning_test.go:80: skipping integration test
--- SKIP: TestIntegrationProvisioning (0.00s)
=== RUN   TestIntegrationProvisioningRules
api_provisioning_test.go:567: skipping integration test
--- SKIP: TestIntegrationProvisioningRules (0.00s)
=== RUN   TestMuteTimings
api_provisioning_test.go:727: Grafana is listening on 127.0.0.1:43683
=== RUN   TestMuteTimings/default_config_should_return_empty_list
=== RUN   TestMuteTimings/should_create_a_new_mute_timing_without_any_intervals
=== RUN   TestMuteTimings/should_create_a_new_mute_timing_with_some_settings
=== RUN   TestMuteTimings/should_return_mute_timing_by_name
=== RUN   TestMuteTimings/should_return_NotFound_if_mute_timing_does_not_exist
=== RUN   TestMuteTimings/should_return_all_mute_timings
=== RUN   TestMuteTimings/should_get_BadRequest_if_creates_a_new_mute_timing_with_the_same_name
api_provisioning_test.go:831: {"statusCode":400,"messageId":"alerting.notifications.time-intervals.nameExists","message":"Time interval with this name already exists. Use a different name or update existing one."}
=== RUN   TestMuteTimings/should_get_BadRequest_if_creates_an_invalid_mute_timing
api_provisioning_test.go:859: {"message":"bad request data"}
=== RUN   TestMuteTimings/should_fail_to_update_mute_timing_if_version_does_not_match
=== RUN   TestMuteTimings/should_update_existing_mute_timing
=== RUN   TestMuteTimings/should_fail_to_update_existing_mute_timing_with_invalid_one
=== RUN   TestMuteTimings/should_get_NotFound_if_updates_mute_timing_that_does_not_exist
=== RUN   TestMuteTimings/should_delete_unused_mute_timing
=== RUN   TestMuteTimings/should_get_409_Conflict_if_deletes_used_mute-timing
--- PASS: TestMuteTimings (1.87s)
--- PASS: TestMuteTimings/default_config_should_return_empty_list (0.03s)
--- PASS: TestMuteTimings/should_create_a_new_mute_timing_without_any_intervals (0.01s)
--- PASS: TestMuteTimings/should_create_a_new_mute_timing_with_some_settings (0.02s)
--- PASS: TestMuteTimings/should_return_mute_timing_by_name (0.05s)
--- PASS: TestMuteTimings/should_return_NotFound_if_mute_timing_does_not_exist (0.02s)
--- PASS: TestMuteTimings/should_return_all_mute_timings (0.02s)
--- PASS: TestMuteTimings/should_get_BadRequest_if_creates_a_new_mute_timing_with_the_same_name (0.01s)
--- PASS: TestMuteTimings/should_get_BadRequest_if_creates_an_invalid_mute_timing (0.01s)
--- PASS: TestMuteTimings/should_fail_to_update_mute_timing_if_version_does_not_match (0.02s)
--- PASS: TestMuteTimings/should_update_existing_mute_timing (0.03s)
--- PASS: TestMuteTimings/should_fail_to_update_existing_mute_timing_with_invalid_one (0.01s)
--- PASS: TestMuteTimings/should_get_NotFound_if_updates_mute_timing_that_does_not_exist (0.01s)
--- PASS: TestMuteTimings/should_delete_unused_mute_timing (0.06s)
--- PASS: TestMuteTimings/should_get_409_Conflict_if_deletes_used_mute-timing (0.06s)
=== RUN   TestIntegrationExportFileProvision
api_provisioning_test.go:1011: Grafana is listening on 127.0.0.1:41633
=== RUN   TestIntegrationExportFileProvision/when_provisioning_alert_rules_from_files
=== RUN   TestIntegrationExportFileProvision/when_provisioning_alert_rules_from_files/exported_alert_rules_should_escape_$_characters
=== RUN   TestIntegrationExportFileProvision/when_provisioning_mute_times_from_files
=== RUN   TestIntegrationExportFileProvision/when_provisioning_mute_times_from_files/exported_mute_times_shouldn't_escape_$_characters
=== RUN   TestIntegrationExportFileProvision/when_provisioning_mute_times_from_files/reloading_provisioning_should_not_fail
--- PASS: TestIntegrationExportFileProvision (1.96s)
--- PASS: TestIntegrationExportFileProvision/when_provisioning_alert_rules_from_files (0.67s)
--- PASS: TestIntegrationExportFileProvision/when_provisioning_alert_rules_from_files/exported_alert_rules_should_escape_$_characters (0.01s)
--- PASS: TestIntegrationExportFileProvision/when_provisioning_mute_times_from_files (0.06s)
--- PASS: TestIntegrationExportFileProvision/when_provisioning_mute_times_from_files/exported_mute_times_shouldn't_escape_$_characters (0.01s)
--- PASS: TestIntegrationExportFileProvision/when_provisioning_mute_times_from_files/reloading_provisioning_should_not_fail (0.03s)
=== RUN   TestIntegrationExportFileProvisionMixed
api_provisioning_test.go:1106: Grafana is listening on 127.0.0.1:42763
=== RUN   TestIntegrationExportFileProvisionMixed/when_provisioning_mixed_set_of_alerting_configurations_from_files
=== RUN   TestIntegrationExportFileProvisionMixed/when_provisioning_mixed_set_of_alerting_configurations_from_files/exported_notification_policy_matches_imported
--- PASS: TestIntegrationExportFileProvisionMixed (2.55s)
--- PASS: TestIntegrationExportFileProvisionMixed/when_provisioning_mixed_set_of_alerting_configurations_from_files (1.98s)
--- PASS: TestIntegrationExportFileProvisionMixed/when_provisioning_mixed_set_of_alerting_configurations_from_files/exported_notification_policy_matches_imported (0.01s)
=== RUN   TestIntegrationExportFileProvisionContactPoints
api_provisioning_test.go:1159: Grafana is listening on 127.0.0.1:37345
=== RUN   TestIntegrationExportFileProvisionContactPoints/when_provisioning_contact_points_from_files
=== RUN   TestIntegrationExportFileProvisionContactPoints/when_provisioning_contact_points_from_files/exported_contact_points_should_escape_$_characters
=== RUN   TestIntegrationExportFileProvisionContactPoints/when_provisioning_contact_points_from_files/reloading_provisioning_should_not_change_things
--- PASS: TestIntegrationExportFileProvisionContactPoints (2.36s)
--- PASS: TestIntegrationExportFileProvisionContactPoints/when_provisioning_contact_points_from_files (0.08s)
--- PASS: TestIntegrationExportFileProvisionContactPoints/when_provisioning_contact_points_from_files/exported_contact_points_should_escape_$_characters (0.01s)
--- PASS: TestIntegrationExportFileProvisionContactPoints/when_provisioning_contact_points_from_files/reloading_provisioning_should_not_change_things (0.04s)
=== RUN   TestIntegrationAlertRulePermissions
api_ruler_test.go:48: skipping integration test
--- SKIP: TestIntegrationAlertRulePermissions (0.00s)
=== RUN   TestIntegrationAlertRuleNestedPermissions
api_ruler_test.go:352: skipping integration test
--- SKIP: TestIntegrationAlertRuleNestedPermissions (0.00s)
=== RUN   TestAlertRulePostExport
api_ruler_test.go:709: skipping integration test
--- SKIP: TestAlertRulePostExport (0.00s)
=== RUN   TestIntegrationAlertRuleEditorSettings
api_ruler_test.go:787: skipping integration test
--- SKIP: TestIntegrationAlertRuleEditorSettings (0.00s)
=== RUN   TestIntegrationAlertRuleConflictingTitle
api_ruler_test.go:964: skipping integration test
--- SKIP: TestIntegrationAlertRuleConflictingTitle (0.00s)
=== RUN   TestIntegrationRulerRulesFilterByDashboard
api_ruler_test.go:1051: skipping integration test
--- SKIP: TestIntegrationRulerRulesFilterByDashboard (0.00s)
=== RUN   TestIntegrationRuleGroupSequence
api_ruler_test.go:1421: skipping integration test
--- SKIP: TestIntegrationRuleGroupSequence (0.00s)
=== RUN   TestIntegrationRuleCreate
api_ruler_test.go:1527: skipping integration test
--- SKIP: TestIntegrationRuleCreate (0.00s)
=== RUN   TestIntegrationRuleUpdate
api_ruler_test.go:1666: skipping integration test
--- SKIP: TestIntegrationRuleUpdate (0.00s)
=== RUN   TestIntegrationAlertAndGroupsQuery
api_ruler_test.go:1947: skipping integration test
--- SKIP: TestIntegrationAlertAndGroupsQuery (0.00s)
=== RUN   TestIntegrationRulerAccess
api_ruler_test.go:2106: skipping integration test
--- SKIP: TestIntegrationRulerAccess (0.00s)
=== RUN   TestIntegrationEval
api_ruler_test.go:2223: skipping integration test
--- SKIP: TestIntegrationEval (0.00s)
=== RUN   TestIntegrationQuota
api_ruler_test.go:2503: skipping integration test
--- SKIP: TestIntegrationQuota (0.00s)
=== RUN   TestIntegrationDeleteFolderWithRules
api_ruler_test.go:2714: skipping integration test
--- SKIP: TestIntegrationDeleteFolderWithRules (0.00s)
=== RUN   TestIntegrationAlertRuleCRUD
api_ruler_test.go:2880: skipping integration test
--- SKIP: TestIntegrationAlertRuleCRUD (0.00s)
=== RUN   TestIntegrationRulePause
api_ruler_test.go:4161: skipping integration test
--- SKIP: TestIntegrationRulePause (0.00s)
=== RUN   TestIntegrationHysteresisRule
api_ruler_test.go:4291: skipping integration test
--- SKIP: TestIntegrationHysteresisRule (0.00s)
=== RUN   TestIntegrationRuleNotificationSettings
api_ruler_test.go:4365: skipping integration test
--- SKIP: TestIntegrationRuleNotificationSettings (0.00s)
=== RUN   TestIntegrationRuleUpdateAllDatabases
api_ruler_test.go:4628: Grafana is listening on 127.0.0.1:37061
=== RUN   TestIntegrationRuleUpdateAllDatabases/group_renamed_followed_by_delete_for_case-only_changes_should_not_delete_both_groups
--- PASS: TestIntegrationRuleUpdateAllDatabases (2.43s)
--- PASS: TestIntegrationRuleUpdateAllDatabases/group_renamed_followed_by_delete_for_case-only_changes_should_not_delete_both_groups (0.10s)
=== RUN   TestIntegrationRuleVersions
api_ruler_test.go:4680: skipping integration test
--- SKIP: TestIntegrationRuleVersions (0.00s)
=== RUN   TestIntegrationRuleSoftDelete
api_ruler_test.go:4770: skipping integration test
--- SKIP: TestIntegrationRuleSoftDelete (0.00s)
=== RUN   TestIntegrationRulePermanentlyDelete
api_ruler_test.go:4887: skipping integration test
--- SKIP: TestIntegrationRulePermanentlyDelete (0.00s)
=== RUN   TestGrafanaRuleConfig
api_testing_test.go:49: Grafana is listening on 127.0.0.1:46641
=== RUN   TestGrafanaRuleConfig/valid_rule_should_accept_request
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_alerts_in_response
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_static_annotations
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_static_labels
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_interpolated_annotations
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_interpolated_labels
=== RUN   TestGrafanaRuleConfig/valid_rule_should_use_functions_with_annotations
=== RUN   TestGrafanaRuleConfig/valid_rule_should_use_functions_with_labels
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_dynamic_labels
=== RUN   TestGrafanaRuleConfig/valid_rule_should_return_built-in_labels
=== RUN   TestGrafanaRuleConfig/invalid_rule_should_reject_request
=== RUN   TestGrafanaRuleConfig/authentication_permissions
api_testing_test.go:261: flakey tests - skipping
--- PASS: TestGrafanaRuleConfig (2.21s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_accept_request (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_alerts_in_response (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_static_annotations (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_static_labels (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_interpolated_annotations (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_interpolated_labels (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_use_functions_with_annotations (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_use_functions_with_labels (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_dynamic_labels (0.01s)
--- PASS: TestGrafanaRuleConfig/valid_rule_should_return_built-in_labels (0.01s)
--- PASS: TestGrafanaRuleConfig/invalid_rule_should_reject_request (0.01s)
--- SKIP: TestGrafanaRuleConfig/authentication_permissions (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/alerting	16.554s
=== RUN   TestIntegrationAzureMonitor
azuremonitor_test.go:30: skipping integration test
--- SKIP: TestIntegrationAzureMonitor (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/azuremonitor	0.610s
=== RUN   TestIntegrationCreateCorrelation
correlations_create_test.go:20: skipping integration test
--- SKIP: TestIntegrationCreateCorrelation (0.00s)
=== RUN   TestIntegrationDeleteCorrelation
correlations_delete_test.go:20: skipping integration test
--- SKIP: TestIntegrationDeleteCorrelation (0.00s)
=== RUN   TestIntegrationCreateOrUpdateCorrelation
correlations_provisioning_api_test.go:20: skipping integration test
--- SKIP: TestIntegrationCreateOrUpdateCorrelation (0.00s)
=== RUN   TestIntegrationReadCorrelation
correlations_read_test.go:22: skipping integration test
--- SKIP: TestIntegrationReadCorrelation (0.00s)
=== RUN   TestIntegrationUpdateCorrelation
correlations_update_test.go:20: skipping integration test
--- SKIP: TestIntegrationUpdateCorrelation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/correlations	0.631s
=== RUN   TestIntegrationDashboardQuota
api_dashboards_test.go:47: skipping integration test
--- SKIP: TestIntegrationDashboardQuota (0.00s)
=== RUN   TestIntegrationDashboardQuotaK8s
api_dashboards_test.go:54: skipping integration test
--- SKIP: TestIntegrationDashboardQuotaK8s (0.00s)
=== RUN   TestIntegrationUpdatingProvisionionedDashboards
api_dashboards_test.go:151: skipping integration test
--- SKIP: TestIntegrationUpdatingProvisionionedDashboards (0.00s)
=== RUN   TestIntegrationUpdatingProvisionionedDashboardsK8s
api_dashboards_test.go:159: skipping integration test
--- SKIP: TestIntegrationUpdatingProvisionionedDashboardsK8s (0.00s)
=== RUN   TestIntegrationCreate
api_dashboards_test.go:329: skipping integration test
--- SKIP: TestIntegrationCreate (0.00s)
=== RUN   TestIntegrationCreateK8s
api_dashboards_test.go:337: skipping integration test
--- SKIP: TestIntegrationCreateK8s (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/dashboards	0.647s
=== RUN   TestIntegrationElasticsearch
elasticsearch_test.go:30: skipping integration test
--- SKIP: TestIntegrationElasticsearch (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/elasticsearch	0.607s
=== RUN   TestIntegrationUpdateFolder
api_folder_test.go:29: skipping integration test
--- SKIP: TestIntegrationUpdateFolder (0.00s)
=== RUN   TestIntegrationUpdateFolderK8s
api_folder_test.go:36: skipping integration test
--- SKIP: TestIntegrationUpdateFolderK8s (0.00s)
=== RUN   TestIntegrationCreateFolder
api_folder_test.go:77: skipping integration test
--- SKIP: TestIntegrationCreateFolder (0.00s)
=== RUN   TestIntegrationCreateFolderK8s
api_folder_test.go:84: skipping integration test
--- SKIP: TestIntegrationCreateFolderK8s (0.00s)
=== RUN   TestIntegrationNestedFoldersOn
api_folder_test.go:126: skipping integration test
--- SKIP: TestIntegrationNestedFoldersOn (0.00s)
=== RUN   TestIntegrationNestedFoldersOnK8s
api_folder_test.go:133: skipping integration test
--- SKIP: TestIntegrationNestedFoldersOnK8s (0.00s)
=== RUN   TestGetFolders
api_folders_test.go:46: Grafana is listening on 127.0.0.1:39759
api_folders_test.go:107: Removed viewer permission from folder folder-3
=== RUN   TestGetFolders/Admin_can_get_all_folders
=== RUN   TestGetFolders/Pagination_works_as_expect_for_admin
=== RUN   TestGetFolders/Editor_can_get_all_folders
=== RUN   TestGetFolders/Pagination_works_as_expect_for_editor
=== RUN   TestGetFolders/Viewer_can_get_only_the_folders_has_access_too
=== RUN   TestGetFolders/Pagination_works_as_expect_for_viewer
--- PASS: TestGetFolders (3.00s)
--- PASS: TestGetFolders/Admin_can_get_all_folders (0.02s)
--- PASS: TestGetFolders/Pagination_works_as_expect_for_admin (0.03s)
--- PASS: TestGetFolders/Editor_can_get_all_folders (0.02s)
--- PASS: TestGetFolders/Pagination_works_as_expect_for_editor (0.03s)
--- PASS: TestGetFolders/Viewer_can_get_only_the_folders_has_access_too (0.01s)
--- PASS: TestGetFolders/Pagination_works_as_expect_for_viewer (0.03s)
=== RUN   TestGetFoldersK8s
api_folders_test.go:46: Grafana is listening on 127.0.0.1:39587
api_folders_test.go:107: Removed viewer permission from folder folder-3
=== RUN   TestGetFoldersK8s/Admin_can_get_all_folders
=== RUN   TestGetFoldersK8s/Pagination_works_as_expect_for_admin
=== RUN   TestGetFoldersK8s/Editor_can_get_all_folders
=== RUN   TestGetFoldersK8s/Pagination_works_as_expect_for_editor
=== RUN   TestGetFoldersK8s/Viewer_can_get_only_the_folders_has_access_too
=== RUN   TestGetFoldersK8s/Pagination_works_as_expect_for_viewer
--- PASS: TestGetFoldersK8s (1.76s)
--- PASS: TestGetFoldersK8s/Admin_can_get_all_folders (0.01s)
--- PASS: TestGetFoldersK8s/Pagination_works_as_expect_for_admin (0.04s)
--- PASS: TestGetFoldersK8s/Editor_can_get_all_folders (0.02s)
--- PASS: TestGetFoldersK8s/Pagination_works_as_expect_for_editor (0.03s)
--- PASS: TestGetFoldersK8s/Viewer_can_get_only_the_folders_has_access_too (0.01s)
--- PASS: TestGetFoldersK8s/Pagination_works_as_expect_for_viewer (0.05s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/folders	5.382s
=== RUN   TestIntegrationGraphite
graphite_test.go:30: skipping integration test
--- SKIP: TestIntegrationGraphite (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/graphite	0.639s
=== RUN   TestIntegrationInflux
influxdb_test.go:29: skipping due to flaky test
--- SKIP: TestIntegrationInflux (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/influxdb	0.866s
=== RUN   TestIntegrationLoki
loki_test.go:31: skipping integration test
--- SKIP: TestIntegrationLoki (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/loki	0.568s
=== RUN   TestIntegrationOpenTSDB
opentdsb_test.go:30: skipping integration test
--- SKIP: TestIntegrationOpenTSDB (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/opentdsb	0.718s
=== RUN   TestIntegrationPlugins
api_plugins_test.go:47: skipping integration test
--- SKIP: TestIntegrationPlugins (0.00s)
=== RUN   TestIntegrationPluginAssets
api_plugins_test.go:147: skipping integration test
--- SKIP: TestIntegrationPluginAssets (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/plugins	0.641s
=== RUN   TestIntegrationBackendPlugins
backendplugin_test.go:41: skipping integration test
--- SKIP: TestIntegrationBackendPlugins (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/plugins/backendplugin	0.626s
=== RUN   TestIntegrationPrometheus
prometheus_test.go:29: skipping integration test
--- SKIP: TestIntegrationPrometheus (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/prometheus	0.643s
=== RUN   TestShortURL
short_url_test.go:36: Grafana is listening on 127.0.0.1:39599
--- PASS: TestShortURL (2.07s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/shorturl	2.895s
=== RUN   TestIntegrationAdminStats
=== RUN   TestIntegrationAdminStats/with_unified_alerting_enabled
admin_test.go:30: skipping integration test
=== RUN   TestIntegrationAdminStats/with_legacy_alerting_enabled
admin_test.go:46: skipping integration test
--- PASS: TestIntegrationAdminStats (0.00s)
--- SKIP: TestIntegrationAdminStats/with_unified_alerting_enabled (0.00s)
--- SKIP: TestIntegrationAdminStats/with_legacy_alerting_enabled (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/api/stats	0.545s
=== RUN   TestIntegrationOpenAPIs
openapi_test.go:25: skipping integration test
--- SKIP: TestIntegrationOpenAPIs (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis	1.002s
?   	github.com/grafana/grafana/pkg/tests/apis/alerting/notifications/common	[no test files]
=== RUN   TestIntegrationResourceIdentifier
receiver_test.go:66: skipping integration test
--- SKIP: TestIntegrationResourceIdentifier (0.00s)
=== RUN   TestIntegrationResourcePermissions
receiver_test.go:130: skipping integration test
--- SKIP: TestIntegrationResourcePermissions (0.00s)
=== RUN   TestIntegrationAccessControl
receiver_test.go:406: skipping integration test
--- SKIP: TestIntegrationAccessControl (0.00s)
=== RUN   TestIntegrationInUseMetadata
receiver_test.go:734: skipping integration test
--- SKIP: TestIntegrationInUseMetadata (0.00s)
=== RUN   TestIntegrationProvisioning
receiver_test.go:862: skipping integration test
--- SKIP: TestIntegrationProvisioning (0.00s)
=== RUN   TestIntegrationOptimisticConcurrency
receiver_test.go:919: skipping integration test
--- SKIP: TestIntegrationOptimisticConcurrency (0.00s)
=== RUN   TestIntegrationPatch
receiver_test.go:1002: skipping integration test
--- SKIP: TestIntegrationPatch (0.00s)
=== RUN   TestIntegrationReferentialIntegrity
receiver_test.go:1098: skipping integration test
--- SKIP: TestIntegrationReferentialIntegrity (0.00s)
=== RUN   TestIntegrationCRUD
receiver_test.go:1218: skipping integration test
--- SKIP: TestIntegrationCRUD (0.00s)
=== RUN   TestIntegrationReceiverListSelector
receiver_test.go:1386: skipping integration test
--- SKIP: TestIntegrationReceiverListSelector (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/alerting/notifications/receivers	0.888s
=== RUN   TestIntegrationNotAllowedMethods
routing_tree_test.go:52: skipping integration test
--- SKIP: TestIntegrationNotAllowedMethods (0.00s)
=== RUN   TestIntegrationAccessControl
routing_tree_test.go:76: skipping integration test
--- SKIP: TestIntegrationAccessControl (0.00s)
=== RUN   TestIntegrationProvisioning
routing_tree_test.go:287: skipping integration test
--- SKIP: TestIntegrationProvisioning (0.00s)
=== RUN   TestIntegrationOptimisticConcurrency
routing_tree_test.go:341: skipping integration test
--- SKIP: TestIntegrationOptimisticConcurrency (0.00s)
=== RUN   TestIntegrationDataConsistency
routing_tree_test.go:384: skipping integration test
--- SKIP: TestIntegrationDataConsistency (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/alerting/notifications/routingtree	0.871s
=== RUN   TestIntegrationResourceIdentifier
templates_group_test.go:44: skipping integration test
--- SKIP: TestIntegrationResourceIdentifier (0.00s)
=== RUN   TestIntegrationAccessControl
templates_group_test.go:142: skipping integration test
--- SKIP: TestIntegrationAccessControl (0.00s)
=== RUN   TestIntegrationProvisioning
templates_group_test.go:370: skipping integration test
--- SKIP: TestIntegrationProvisioning (0.00s)
=== RUN   TestIntegrationOptimisticConcurrency
templates_group_test.go:423: skipping integration test
--- SKIP: TestIntegrationOptimisticConcurrency (0.00s)
=== RUN   TestIntegrationPatch
templates_group_test.go:507: skipping integration test
--- SKIP: TestIntegrationPatch (0.00s)
=== RUN   TestIntegrationListSelector
templates_group_test.go:568: skipping integration test
--- SKIP: TestIntegrationListSelector (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/alerting/notifications/templategroup	0.824s
=== RUN   TestIntegrationResourceIdentifier
timeinterval_test.go:56: skipping integration test
--- SKIP: TestIntegrationResourceIdentifier (0.00s)
=== RUN   TestIntegrationTimeIntervalAccessControl
timeinterval_test.go:118: skipping integration test
--- SKIP: TestIntegrationTimeIntervalAccessControl (0.00s)
=== RUN   TestIntegrationTimeIntervalProvisioning
timeinterval_test.go:344: skipping integration test
--- SKIP: TestIntegrationTimeIntervalProvisioning (0.00s)
=== RUN   TestIntegrationTimeIntervalOptimisticConcurrency
timeinterval_test.go:399: skipping integration test
--- SKIP: TestIntegrationTimeIntervalOptimisticConcurrency (0.00s)
=== RUN   TestIntegrationTimeIntervalPatch
timeinterval_test.go:483: skipping integration test
--- SKIP: TestIntegrationTimeIntervalPatch (0.00s)
=== RUN   TestIntegrationTimeIntervalListSelector
timeinterval_test.go:548: skipping integration test
--- SKIP: TestIntegrationTimeIntervalListSelector (0.00s)
=== RUN   TestIntegrationTimeIntervalReferentialIntegrity
timeinterval_test.go:634: skipping integration test
--- SKIP: TestIntegrationTimeIntervalReferentialIntegrity (0.00s)
=== RUN   TestIntegrationTimeIntervalValidation
timeinterval_test.go:783: skipping integration test
--- SKIP: TestIntegrationTimeIntervalValidation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/alerting/notifications/timeinterval	0.698s
=== RUN   TestIntegrationDashboardsAppV0Alpha1
dashboards_test.go:120: skipping integration test
--- SKIP: TestIntegrationDashboardsAppV0Alpha1 (0.00s)
=== RUN   TestIntegrationDashboardsAppV1Alpha1
dashboards_test.go:192: skipping integration test
--- SKIP: TestIntegrationDashboardsAppV1Alpha1 (0.00s)
=== RUN   TestIntegrationLegacySupport
dashboards_test.go:259: Grafana is listening on 127.0.0.1:45403
--- PASS: TestIntegrationLegacySupport (2.27s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/dashboard	2.837s
=== RUN   TestIntegrationValidation
api_validation_test.go:53: skipping integration test2
--- SKIP: TestIntegrationValidation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/dashboard/integration	0.649s
=== RUN   TestIntegrationDashboardSnapshots
snapshots_test.go:20: skipping integration test
--- SKIP: TestIntegrationDashboardSnapshots (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/dashboardsnapshot	0.685s
=== RUN   TestIntegrationTestDatasource
testdata_test.go:25: skipping integration test
--- SKIP: TestIntegrationTestDatasource (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/datasource	0.661s
=== RUN   TestIntegrationFoldersApp
folders_test.go:46: skipping integration test
--- SKIP: TestIntegrationFoldersApp (0.00s)
=== RUN   TestIntegrationFolderCreatePermissions
folders_test.go:493: skipping integration test
--- SKIP: TestIntegrationFolderCreatePermissions (0.00s)
=== RUN   TestIntegrationFolderGetPermissions
folders_test.go:618: skipping integration test
--- SKIP: TestIntegrationFolderGetPermissions (0.00s)
=== RUN   TestFoldersCreateAPIEndpointK8S
folders_test.go:769: skipping integration test
--- SKIP: TestFoldersCreateAPIEndpointK8S (0.00s)
=== RUN   TestFoldersGetAPIEndpointK8S
folders_test.go:930: skipping integration test
--- SKIP: TestFoldersGetAPIEndpointK8S (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/folder	0.505s
=== RUN   TestIntegrationIdentity
iam_test.go:35: skipping integration test
--- SKIP: TestIntegrationIdentity (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/iam	0.481s
=== RUN   TestIntegrationPlaylist
playlist_test.go:44: skipping integration test
--- SKIP: TestIntegrationPlaylist (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/playlist	0.534s
=== RUN   TestIntegrationProvisioning_Client
client_test.go:16: skipping integration test
--- SKIP: TestIntegrationProvisioning_Client (0.00s)
=== RUN   TestIntegrationProvisioning_CreatingAndGetting
provisioning_test.go:32: skipping integration test
--- SKIP: TestIntegrationProvisioning_CreatingAndGetting (0.00s)
=== RUN   TestIntegrationProvisioning_FailInvalidSchema
provisioning_test.go:126: skipping integration test
--- SKIP: TestIntegrationProvisioning_FailInvalidSchema (0.00s)
=== RUN   TestIntegrationProvisioning_CreatingGitHubRepository
provisioning_test.go:208: skipping integration test
--- SKIP: TestIntegrationProvisioning_CreatingGitHubRepository (0.00s)
=== RUN   TestIntegrationProvisioning_RunLocalRepository
provisioning_test.go:337: skipping integration test
--- SKIP: TestIntegrationProvisioning_RunLocalRepository (0.00s)
=== RUN   TestIntegrationProvisioning_ImportAllPanelsFromLocalRepository
provisioning_test.go:504: skipping integration test
--- SKIP: TestIntegrationProvisioning_ImportAllPanelsFromLocalRepository (0.00s)
=== RUN   TestProvisioning_ExportUnifiedToRepository
provisioning_test.go:573: skipping integration test
--- SKIP: TestProvisioning_ExportUnifiedToRepository (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/provisioning	0.368s
=== RUN   TestIntegrationSimpleQuery
query_test.go:27: skipping integration test
--- SKIP: TestIntegrationSimpleQuery (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/apis/query	0.382s
?   	github.com/grafana/grafana/pkg/tests/testinfra	[no test files]
?   	github.com/grafana/grafana/pkg/tests/testsuite	[no test files]
=== RUN   TestIntegrationIndexView
index_view_test.go:33: skipping integration test
--- SKIP: TestIntegrationIndexView (0.00s)
=== RUN   TestIntegrationIndexViewAnalytics
index_view_test.go:131: skipping integration test
--- SKIP: TestIntegrationIndexViewAnalytics (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tests/web	0.447s
=== RUN   Test_parseResourcePath
=== RUN   Test_parseResourcePath/Path_with_a_subscription
=== RUN   Test_parseResourcePath/Malformed_path
--- PASS: Test_parseResourcePath (0.00s)
--- PASS: Test_parseResourcePath/Path_with_a_subscription (0.00s)
--- PASS: Test_parseResourcePath/Malformed_path (0.00s)
=== RUN   Test_proxyRequest
=== RUN   Test_proxyRequest/forwards_headers_and_body
--- PASS: Test_proxyRequest (0.00s)
--- PASS: Test_proxyRequest/forwards_headers_and_body (0.00s)
=== RUN   Test_handleResourceReq
{"@level":"debug","@message":"Received resource call","@timestamp":"2025-04-14T09:14:38.470335Z","method":"GET","url":"http://foo/azuremonitor/subscriptions/44693801"}
--- PASS: Test_handleResourceReq (0.00s)
=== RUN   TestNewInstanceSettings
=== RUN   TestNewInstanceSettings/current_user_authentication_disabled_by_feature_toggle
=== RUN   TestNewInstanceSettings/creates_an_instance
=== RUN   TestNewInstanceSettings/creates_an_instance_for_customized_cloud
--- PASS: TestNewInstanceSettings (0.00s)
--- PASS: TestNewInstanceSettings/current_user_authentication_disabled_by_feature_toggle (0.00s)
--- PASS: TestNewInstanceSettings/creates_an_instance (0.00s)
--- PASS: TestNewInstanceSettings/creates_an_instance_for_customized_cloud (0.00s)
=== RUN   Test_newMux
=== RUN   Test_newMux/creates_an_Azure_Monitor_executor
=== RUN   Test_newMux/creates_an_Azure_Log_Analytics_executor
=== RUN   Test_newMux/creates_an_Azure_Traces_executor
--- PASS: Test_newMux (0.00s)
--- PASS: Test_newMux/creates_an_Azure_Monitor_executor (0.00s)
--- PASS: Test_newMux/creates_an_Azure_Log_Analytics_executor (0.00s)
--- PASS: Test_newMux/creates_an_Azure_Traces_executor (0.00s)
=== RUN   TestCheckHealth
=== RUN   TestCheckHealth/Successfully_queries_all_endpoints
=== RUN   TestCheckHealth/Successfully_queries_all_endpoints_except_metrics
=== RUN   TestCheckHealth/Successfully_queries_all_endpoints_except_log_analytics
=== RUN   TestCheckHealth/Successfully_queries_all_endpoints_except_resource_graph
=== RUN   TestCheckHealth/Successfully_returns_UNKNOWN_status_if_no_log_analytics_workspace_is_found
=== RUN   TestCheckHealth/Successfully_returns_Azure_health_check_errors
--- PASS: TestCheckHealth (0.00s)
--- PASS: TestCheckHealth/Successfully_queries_all_endpoints (0.00s)
--- PASS: TestCheckHealth/Successfully_queries_all_endpoints_except_metrics (0.00s)
--- PASS: TestCheckHealth/Successfully_queries_all_endpoints_except_log_analytics (0.00s)
--- PASS: TestCheckHealth/Successfully_queries_all_endpoints_except_resource_graph (0.00s)
--- PASS: TestCheckHealth/Successfully_returns_UNKNOWN_status_if_no_log_analytics_workspace_is_found (0.00s)
--- PASS: TestCheckHealth/Successfully_returns_Azure_health_check_errors (0.00s)
=== RUN   Test_QueryData
=== RUN   Test_QueryData/Azure_Monitor_query_type
=== RUN   Test_QueryData/Azure_Log_Analytics_query_type
=== RUN   Test_QueryData/Azure_Resource_Graph_query_type
=== RUN   Test_QueryData/Azure_Traces_query_type
=== RUN   Test_QueryData/traceExemplar_query_type
=== RUN   Test_QueryData/Deprecated_Application_Insights_query_type
=== RUN   Test_QueryData/Deprecated_Insights_Analytics_query_type
--- PASS: Test_QueryData (0.00s)
--- PASS: Test_QueryData/Azure_Monitor_query_type (0.00s)
--- PASS: Test_QueryData/Azure_Log_Analytics_query_type (0.00s)
--- PASS: Test_QueryData/Azure_Resource_Graph_query_type (0.00s)
--- PASS: Test_QueryData/Azure_Traces_query_type (0.00s)
--- PASS: Test_QueryData/traceExemplar_query_type (0.00s)
--- PASS: Test_QueryData/Deprecated_Application_Insights_query_type (0.00s)
--- PASS: Test_QueryData/Deprecated_Insights_Analytics_query_type (0.00s)
=== RUN   TestHttpClient_AzureCredentials
=== RUN   TestHttpClient_AzureCredentials/should_have_Azure_middleware_when_scopes_provided
=== RUN   TestHttpClient_AzureCredentials/should_not_have_Azure_middleware_when_scopes_are_not_provided
=== RUN   TestHttpClient_AzureCredentials/should_combine_custom_azure_and_custom_grafana_headers
--- PASS: TestHttpClient_AzureCredentials (0.00s)
--- PASS: TestHttpClient_AzureCredentials/should_have_Azure_middleware_when_scopes_provided (0.00s)
--- PASS: TestHttpClient_AzureCredentials/should_not_have_Azure_middleware_when_scopes_are_not_provided (0.00s)
--- PASS: TestHttpClient_AzureCredentials/should_combine_custom_azure_and_custom_grafana_headers (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor	(cached)
=== RUN   TestFromDatasourceData
=== RUN   TestFromDatasourceData/should_return_nil_when_no_credentials_configured
=== RUN   TestFromDatasourceData/should_return_managed_identity_credentials_when_auth_type_is_managed_identity
=== RUN   TestFromDatasourceData/should_return_workload_identity_credentials_when_auth_type_is_workload_identity
=== RUN   TestFromDatasourceData/when_legacy_client_secret_configuration_present
=== RUN   TestFromDatasourceData/when_legacy_client_secret_configuration_present/should_return_client_secret_credentials_when_auth_type_is_client_secret
=== RUN   TestFromDatasourceData/when_legacy_client_secret_configuration_present/should_return_client_secret_credentials_when_auth_type_is_not_specified_but_configuration_present
=== RUN   TestFromDatasourceData/when_legacy_client_secret_configuration_present/should_error_if_no_client_secret_is_set
=== RUN   TestFromDatasourceData/should_return_client_secret_credentials_when_client_secret_auth_configured_even_if_legacy_configuration_present
=== RUN   TestFromDatasourceData/should_return_error_when_credentials_not_supported_even_if_legacy_configuration_present
--- PASS: TestFromDatasourceData (0.00s)
--- PASS: TestFromDatasourceData/should_return_nil_when_no_credentials_configured (0.00s)
--- PASS: TestFromDatasourceData/should_return_managed_identity_credentials_when_auth_type_is_managed_identity (0.00s)
--- PASS: TestFromDatasourceData/should_return_workload_identity_credentials_when_auth_type_is_workload_identity (0.00s)
--- PASS: TestFromDatasourceData/when_legacy_client_secret_configuration_present (0.00s)
--- PASS: TestFromDatasourceData/when_legacy_client_secret_configuration_present/should_return_client_secret_credentials_when_auth_type_is_client_secret (0.00s)
--- PASS: TestFromDatasourceData/when_legacy_client_secret_configuration_present/should_return_client_secret_credentials_when_auth_type_is_not_specified_but_configuration_present (0.00s)
--- PASS: TestFromDatasourceData/when_legacy_client_secret_configuration_present/should_error_if_no_client_secret_is_set (0.00s)
--- PASS: TestFromDatasourceData/should_return_client_secret_credentials_when_client_secret_auth_configured_even_if_legacy_configuration_present (0.00s)
--- PASS: TestFromDatasourceData/should_return_error_when_credentials_not_supported_even_if_legacy_configuration_present (0.00s)
=== RUN   TestNormalizedCloudName
=== RUN   TestNormalizedCloudName/should_return_normalized_cloud_name
=== RUN   TestNormalizedCloudName/should_return_normalized_cloud_name/#00
=== RUN   TestNormalizedCloudName/should_return_normalized_cloud_name/#01
=== RUN   TestNormalizedCloudName/should_return_normalized_cloud_name/#02
=== RUN   TestNormalizedCloudName/should_return_normalized_cloud_name/#03
=== RUN   TestNormalizedCloudName/should_fail_when_cloud_is_unknown
--- PASS: TestNormalizedCloudName (0.00s)
--- PASS: TestNormalizedCloudName/should_return_normalized_cloud_name (0.00s)
--- PASS: TestNormalizedCloudName/should_return_normalized_cloud_name/#00 (0.00s)
--- PASS: TestNormalizedCloudName/should_return_normalized_cloud_name/#01 (0.00s)
--- PASS: TestNormalizedCloudName/should_return_normalized_cloud_name/#02 (0.00s)
--- PASS: TestNormalizedCloudName/should_return_normalized_cloud_name/#03 (0.00s)
--- PASS: TestNormalizedCloudName/should_fail_when_cloud_is_unknown (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/azmoncredentials	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/azuremonitor/kinds/dataquery	[no test files]
=== RUN   TestBuildLogAnalyticsQuery
=== RUN   TestBuildLogAnalyticsQuery/Query_with_macros_should_be_interpolated
=== RUN   TestBuildLogAnalyticsQuery/Legacy_queries_with_a_workspace_GUID_should_use_workspace-centric_url
=== RUN   TestBuildLogAnalyticsQuery/Legacy_workspace_queries_with_a_resource_URI_(from_a_template_variable)_should_use_resource-centric_url
=== RUN   TestBuildLogAnalyticsQuery/Queries_with_multiple_resources
=== RUN   TestBuildLogAnalyticsQuery/Query_with_multiple_resources
=== RUN   TestBuildLogAnalyticsQuery/Query_that_uses_dashboard_time
=== RUN   TestBuildLogAnalyticsQuery/Basic_Logs_query
=== RUN   TestBuildLogAnalyticsQuery/Basic_Logs_query_with_multiple_resources
=== RUN   TestBuildLogAnalyticsQuery/Basic_Logs_query_with_non_LA_workspace_resources
=== RUN   TestBuildLogAnalyticsQuery/Basic_Logs_query_from_alerts
=== RUN   TestBuildLogAnalyticsQuery/Basic_Logs_query_fails_if_basicLogsEnabled_is_set_to_false
=== RUN   TestBuildLogAnalyticsQuery/Detects_App_Insights_resource_queries
=== RUN   TestBuildLogAnalyticsQuery/Detects_App_Insights_resource_queries_(case_insensitive)
--- PASS: TestBuildLogAnalyticsQuery (0.01s)
--- PASS: TestBuildLogAnalyticsQuery/Query_with_macros_should_be_interpolated (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Legacy_queries_with_a_workspace_GUID_should_use_workspace-centric_url (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Legacy_workspace_queries_with_a_resource_URI_(from_a_template_variable)_should_use_resource-centric_url (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Queries_with_multiple_resources (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Query_with_multiple_resources (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Query_that_uses_dashboard_time (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Basic_Logs_query (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Basic_Logs_query_with_multiple_resources (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Basic_Logs_query_with_non_LA_workspace_resources (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Basic_Logs_query_from_alerts (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Basic_Logs_query_fails_if_basicLogsEnabled_is_set_to_false (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Detects_App_Insights_resource_queries (0.00s)
--- PASS: TestBuildLogAnalyticsQuery/Detects_App_Insights_resource_queries_(case_insensitive) (0.00s)
=== RUN   TestLogAnalyticsCreateRequest
=== RUN   TestLogAnalyticsCreateRequest/creates_a_request
=== RUN   TestLogAnalyticsCreateRequest/creates_a_request_with_multiple_resources
=== RUN   TestLogAnalyticsCreateRequest/creates_a_request_with_timerange_from_dashboard
=== RUN   TestLogAnalyticsCreateRequest/correctly_passes_multiple_resources_for_traces_queries
=== RUN   TestLogAnalyticsCreateRequest/correctly_classifies_resources_as_workspaces_when_matching_criteria
=== RUN   TestLogAnalyticsCreateRequest/correctly_passes_multiple_resources_not_classified_as_workspaces
=== RUN   TestLogAnalyticsCreateRequest/correctly_passes_multiple_application_insights_resources_in_a_logs_query
--- PASS: TestLogAnalyticsCreateRequest (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/creates_a_request (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/creates_a_request_with_multiple_resources (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/creates_a_request_with_timerange_from_dashboard (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/correctly_passes_multiple_resources_for_traces_queries (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/correctly_classifies_resources_as_workspaces_when_matching_criteria (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/correctly_passes_multiple_resources_not_classified_as_workspaces (0.00s)
--- PASS: TestLogAnalyticsCreateRequest/correctly_passes_multiple_application_insights_resources_in_a_logs_query (0.00s)
=== RUN   Test_executeQueryErrorWithDifferentLogAnalyticsCreds
=== RUN   Test_executeQueryErrorWithDifferentLogAnalyticsCreds/errors_with_azureLogAnalyticsSameAs_set_to_false_(boolean)
=== RUN   Test_executeQueryErrorWithDifferentLogAnalyticsCreds/errors_with_azureLogAnalyticsSameAs_set_to_false_(boolean)#01
--- PASS: Test_executeQueryErrorWithDifferentLogAnalyticsCreds (0.00s)
--- PASS: Test_executeQueryErrorWithDifferentLogAnalyticsCreds/errors_with_azureLogAnalyticsSameAs_set_to_false_(boolean) (0.00s)
--- PASS: Test_executeQueryErrorWithDifferentLogAnalyticsCreds/errors_with_azureLogAnalyticsSameAs_set_to_false_(boolean)#01 (0.00s)
=== RUN   Test_exemplarsFeatureToggle
=== RUN   Test_exemplarsFeatureToggle/does_not_error_if_feature_toggle_enabled
=== RUN   Test_exemplarsFeatureToggle/errors_if_feature_toggle_disabled
--- PASS: Test_exemplarsFeatureToggle (0.00s)
--- PASS: Test_exemplarsFeatureToggle/does_not_error_if_feature_toggle_enabled (0.00s)
--- PASS: Test_exemplarsFeatureToggle/errors_if_feature_toggle_disabled (0.00s)
=== RUN   TestLogTableToFrame
=== RUN   TestLogTableToFrame/single_series
=== RUN   TestLogTableToFrame/response_table
=== RUN   TestLogTableToFrame/all_supported_field_types
=== RUN   TestLogTableToFrame/nan_and_infinity_in_real_response
=== RUN   TestLogTableToFrame/data_and_error_in_real_response
=== RUN   TestLogTableToFrame/data_and_warning_in_real_response
=== RUN   TestLogTableToFrame/empty_data_response
--- PASS: TestLogTableToFrame (0.01s)
--- PASS: TestLogTableToFrame/single_series (0.00s)
--- PASS: TestLogTableToFrame/response_table (0.00s)
--- PASS: TestLogTableToFrame/all_supported_field_types (0.00s)
--- PASS: TestLogTableToFrame/nan_and_infinity_in_real_response (0.00s)
--- PASS: TestLogTableToFrame/data_and_error_in_real_response (0.00s)
--- PASS: TestLogTableToFrame/data_and_warning_in_real_response (0.00s)
--- PASS: TestLogTableToFrame/empty_data_response (0.00s)
=== RUN   TestTraceTableToFrame
=== RUN   TestTraceTableToFrame/multi_trace
=== RUN   TestTraceTableToFrame/multi_trace_as_trace_format
=== RUN   TestTraceTableToFrame/single_trace
=== RUN   TestTraceTableToFrame/single_trace_as_trace_format
=== RUN   TestTraceTableToFrame/single_trace_with_empty_serviceTags_and_tags
=== RUN   TestTraceTableToFrame/single_trace_as_trace_format_from_exemplars_query
--- PASS: TestTraceTableToFrame (0.02s)
--- PASS: TestTraceTableToFrame/multi_trace (0.01s)
--- PASS: TestTraceTableToFrame/multi_trace_as_trace_format (0.01s)
--- PASS: TestTraceTableToFrame/single_trace (0.00s)
--- PASS: TestTraceTableToFrame/single_trace_as_trace_format (0.00s)
--- PASS: TestTraceTableToFrame/single_trace_with_empty_serviceTags_and_tags (0.00s)
--- PASS: TestTraceTableToFrame/single_trace_as_trace_format_from_exemplars_query (0.00s)
=== RUN   TestLargeLogsResponse
=== RUN   TestLargeLogsResponse/large_logs_response_with_limit_enabled
=== RUN   TestLargeLogsResponse/large_logs_response_with_limit_disabled
--- PASS: TestLargeLogsResponse (0.02s)
--- PASS: TestLargeLogsResponse/large_logs_response_with_limit_enabled (0.01s)
--- PASS: TestLargeLogsResponse/large_logs_response_with_limit_disabled (0.01s)
=== RUN   TestBuildAppInsightsQuery
=== RUN   TestBuildAppInsightsQuery/trace_query
=== RUN   TestBuildAppInsightsQuery/trace_query_with_no_result_format_set
=== RUN   TestBuildAppInsightsQuery/trace_query_with_no_operation_ID
=== RUN   TestBuildAppInsightsQuery/trace_query_with_no_types
=== RUN   TestBuildAppInsightsQuery/trace_query_with_eq_filter
=== RUN   TestBuildAppInsightsQuery/trace_query_with_ne_filter
=== RUN   TestBuildAppInsightsQuery/trace_query_with_multiple_filters
=== RUN   TestBuildAppInsightsQuery/trace_query_with_trace_result_format
=== RUN   TestBuildAppInsightsQuery/trace_query_with_trace_result_format_and_operation_ID
=== RUN   TestBuildAppInsightsQuery/trace_query_with_trace_result_format_and_only_trace_type
=== RUN   TestBuildAppInsightsQuery/trace_query_with_operation_ID_and_correlated_workspaces
=== RUN   TestBuildAppInsightsQuery/trace_query_with_multiple_resources
=== RUN   TestBuildAppInsightsQuery/trace_query_with_multiple_resources_and_overlapping_correlated_workspaces
=== RUN   TestBuildAppInsightsQuery/trace_query_with_multiple_resources_and_non-overlapping_correlated_workspaces
=== RUN   TestBuildAppInsightsQuery/trace_query_with_missing_operation_ID
--- PASS: TestBuildAppInsightsQuery (0.01s)
--- PASS: TestBuildAppInsightsQuery/trace_query (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_no_result_format_set (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_no_operation_ID (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_no_types (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_eq_filter (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_ne_filter (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_multiple_filters (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_trace_result_format (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_trace_result_format_and_operation_ID (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_trace_result_format_and_only_trace_type (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_operation_ID_and_correlated_workspaces (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_multiple_resources (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_multiple_resources_and_overlapping_correlated_workspaces (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_multiple_resources_and_non-overlapping_correlated_workspaces (0.00s)
--- PASS: TestBuildAppInsightsQuery/trace_query_with_missing_operation_ID (0.00s)
=== RUN   TestParseResultFormat
=== RUN   TestParseResultFormat/returns_the_time_series_format_as_default_for_logs_queries_if_input_format_is_nil
=== RUN   TestParseResultFormat/returns_the_table_format_as_default_for_traces_queries_if_input_format_is_nil
=== RUN   TestParseResultFormat/returns_the_logs_format_as_default_for_logs_queries_if_input_format_is_empty
=== RUN   TestParseResultFormat/returns_the_table_format_as_default_for_traces_queries_if_input_format_is_empty
=== RUN   TestParseResultFormat/returns_the_query_result_format
--- PASS: TestParseResultFormat (0.00s)
--- PASS: TestParseResultFormat/returns_the_time_series_format_as_default_for_logs_queries_if_input_format_is_nil (0.00s)
--- PASS: TestParseResultFormat/returns_the_table_format_as_default_for_traces_queries_if_input_format_is_nil (0.00s)
--- PASS: TestParseResultFormat/returns_the_logs_format_as_default_for_logs_queries_if_input_format_is_empty (0.00s)
--- PASS: TestParseResultFormat/returns_the_table_format_as_default_for_traces_queries_if_input_format_is_empty (0.00s)
--- PASS: TestParseResultFormat/returns_the_query_result_format (0.00s)
=== RUN   TestRetrieveResources
=== RUN   TestRetrieveResources/current_resource_query_returns_the_resources_and_the_first_resource
=== RUN   TestRetrieveResources/legacy_query_with_resource_specified
=== RUN   TestRetrieveResources/legacy_query_with_workspace_specified
--- PASS: TestRetrieveResources (0.00s)
--- PASS: TestRetrieveResources/current_resource_query_returns_the_resources_and_the_first_resource (0.00s)
--- PASS: TestRetrieveResources/legacy_query_with_resource_specified (0.00s)
--- PASS: TestRetrieveResources/legacy_query_with_workspace_specified (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/loganalytics	0.095s
=== RUN   TestAzureLogAnalyticsMacros
=== RUN   TestAzureLogAnalyticsMacros/invalid_macro_should_be_ignored
=== RUN   TestAzureLogAnalyticsMacros/Kusto_variables_should_be_ignored
=== RUN   TestAzureLogAnalyticsMacros/$__contains_macro_with_a_multi_template_variable_that_has_multiple_selected_values_as_a_parameter_should_build_in_clause
=== RUN   TestAzureLogAnalyticsMacros/$__contains_macro_with_a_multi_template_variable_that_has_a_single_selected_value_as_a_parameter_should_build_in_clause
=== RUN   TestAzureLogAnalyticsMacros/$__contains_macro_with_multi_template_variable_has_custom_All_value_as_a_parameter_should_return_a_true_expression
=== RUN   TestAzureLogAnalyticsMacros/$__timeFilter_has_no_column_parameter_should_use_default_time_field
=== RUN   TestAzureLogAnalyticsMacros/$__timeFilter_has_time_field_parameter
=== RUN   TestAzureLogAnalyticsMacros/$__timeFrom_and_$__timeTo_is_in_the_query_and_range_is_a_specific_interval
=== RUN   TestAzureLogAnalyticsMacros/$__interval_should_use_the_defined_interval_from_the_query
=== RUN   TestAzureLogAnalyticsMacros/$__interval_should_use_the_default_interval_if_none_is_specified
=== RUN   TestAzureLogAnalyticsMacros/$__escapeMulti_with_multi_template_variable_should_replace_values_with_KQL_style_escaped_strings
=== RUN   TestAzureLogAnalyticsMacros/$__escapeMulti_with_multi_template_variable_and_has_one_selected_value_that_contains_comma
=== RUN   TestAzureLogAnalyticsMacros/$__escapeMulti_with_multi_template_variable_and_is_not_wrapped_in_single_quotes_should_fail
=== RUN   TestAzureLogAnalyticsMacros/traces_time_field_should_remain_as_timestamp
--- PASS: TestAzureLogAnalyticsMacros (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/invalid_macro_should_be_ignored (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/Kusto_variables_should_be_ignored (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__contains_macro_with_a_multi_template_variable_that_has_multiple_selected_values_as_a_parameter_should_build_in_clause (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__contains_macro_with_a_multi_template_variable_that_has_a_single_selected_value_as_a_parameter_should_build_in_clause (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__contains_macro_with_multi_template_variable_has_custom_All_value_as_a_parameter_should_return_a_true_expression (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__timeFilter_has_no_column_parameter_should_use_default_time_field (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__timeFilter_has_time_field_parameter (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__timeFrom_and_$__timeTo_is_in_the_query_and_range_is_a_specific_interval (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__interval_should_use_the_defined_interval_from_the_query (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__interval_should_use_the_default_interval_if_none_is_specified (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__escapeMulti_with_multi_template_variable_should_replace_values_with_KQL_style_escaped_strings (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__escapeMulti_with_multi_template_variable_and_has_one_selected_value_that_contains_comma (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/$__escapeMulti_with_multi_template_variable_and_is_not_wrapped_in_single_quotes_should_fail (0.00s)
--- PASS: TestAzureLogAnalyticsMacros/traces_time_field_should_remain_as_timestamp (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/macros	(cached)
=== RUN   TestAzureMonitorBuildQueries
=== RUN   TestAzureMonitorBuildQueries/Parse_queries_from_frontend_and_build_AzureMonitor_API_queries
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_time_grain_set_to_auto
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_time_grain_set_to_auto#01
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_a_dimension_filter
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_a_dimension_filter_and_none_Dimension
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_dimensionFilter*s*_property_with_one_dimension
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_dimensionFilter*s*_property_with_two_dimensions
=== RUN   TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_a_dimension_filter_without_specifying_a_top
=== RUN   TestAzureMonitorBuildQueries/has_dimensionFilter*s*_property_with_not_equals_operator
=== RUN   TestAzureMonitorBuildQueries/has_dimensionFilter*s*_property_with_startsWith_operator
=== RUN   TestAzureMonitorBuildQueries/correctly_sets_dimension_operator_to_eq_(irrespective_of_operator)_when_filter_value_is_'*'
=== RUN   TestAzureMonitorBuildQueries/correctly_constructs_target_when_multiple_filter_values_are_provided_for_the_'eq'_operator
=== RUN   TestAzureMonitorBuildQueries/correctly_constructs_target_when_multiple_filter_values_are_provided_for_ne_'eq'_operator
=== RUN   TestAzureMonitorBuildQueries/Includes_a_region
=== RUN   TestAzureMonitorBuildQueries/Includes_a_region_and_a_filter_in_the_body_with_multiple_resources
=== RUN   TestAzureMonitorBuildQueries/includes_a_single_resource_as_a_parameter_filter
=== RUN   TestAzureMonitorBuildQueries/includes_a_resource_and_a_dimesion_as_filters
--- PASS: TestAzureMonitorBuildQueries (0.00s)
--- PASS: TestAzureMonitorBuildQueries/Parse_queries_from_frontend_and_build_AzureMonitor_API_queries (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_time_grain_set_to_auto (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_time_grain_set_to_auto#01 (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_a_dimension_filter (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_a_dimension_filter_and_none_Dimension (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_dimensionFilter*s*_property_with_one_dimension (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_dimensionFilter*s*_property_with_two_dimensions (0.00s)
--- PASS: TestAzureMonitorBuildQueries/legacy_query_without_resourceURI_and_has_a_dimension_filter_without_specifying_a_top (0.00s)
--- PASS: TestAzureMonitorBuildQueries/has_dimensionFilter*s*_property_with_not_equals_operator (0.00s)
--- PASS: TestAzureMonitorBuildQueries/has_dimensionFilter*s*_property_with_startsWith_operator (0.00s)
--- PASS: TestAzureMonitorBuildQueries/correctly_sets_dimension_operator_to_eq_(irrespective_of_operator)_when_filter_value_is_'*' (0.00s)
--- PASS: TestAzureMonitorBuildQueries/correctly_constructs_target_when_multiple_filter_values_are_provided_for_the_'eq'_operator (0.00s)
--- PASS: TestAzureMonitorBuildQueries/correctly_constructs_target_when_multiple_filter_values_are_provided_for_ne_'eq'_operator (0.00s)
--- PASS: TestAzureMonitorBuildQueries/Includes_a_region (0.00s)
--- PASS: TestAzureMonitorBuildQueries/Includes_a_region_and_a_filter_in_the_body_with_multiple_resources (0.00s)
--- PASS: TestAzureMonitorBuildQueries/includes_a_single_resource_as_a_parameter_filter (0.00s)
--- PASS: TestAzureMonitorBuildQueries/includes_a_resource_and_a_dimesion_as_filters (0.00s)
=== RUN   TestCustomNamespace
=== RUN   TestCustomNamespace/it_should_set_the_metricNamespace_to_a_customNamespace_value_if_customNamespace_is_present_as_a_parameter
--- PASS: TestCustomNamespace (0.00s)
--- PASS: TestCustomNamespace/it_should_set_the_metricNamespace_to_a_customNamespace_value_if_customNamespace_is_present_as_a_parameter (0.00s)
=== RUN   TestAzureMonitorParseResponse
=== RUN   TestAzureMonitorParseResponse/average_aggregate_time_series_response
=== RUN   TestAzureMonitorParseResponse/total_aggregate_time_series_response
=== RUN   TestAzureMonitorParseResponse/maximum_aggregate_time_series_response
=== RUN   TestAzureMonitorParseResponse/minimum_aggregate_time_series_response
=== RUN   TestAzureMonitorParseResponse/count_aggregate_time_series_response
=== RUN   TestAzureMonitorParseResponse/single_dimension_time_series_response
=== RUN   TestAzureMonitorParseResponse/with_alias_patterns_in_the_query
=== RUN   TestAzureMonitorParseResponse/single_dimension_with_alias
=== RUN   TestAzureMonitorParseResponse/multiple_dimension_time_series_response_with_label_alias
=== RUN   TestAzureMonitorParseResponse/unspecified_unit_with_alias_should_not_panic
=== RUN   TestAzureMonitorParseResponse/with_legacy_azure_monitor_query_properties_and_without_a_resource_uri
=== RUN   TestAzureMonitorParseResponse/with_legacy_azure_monitor_query_properties_and_with_a_resource_uri_it_should_use_the_resource_uri
=== RUN   TestAzureMonitorParseResponse/multiple_time_series_response
=== RUN   TestAzureMonitorParseResponse/multiple_time_series_response_with_multiple_dimensions
--- PASS: TestAzureMonitorParseResponse (0.03s)
--- PASS: TestAzureMonitorParseResponse/average_aggregate_time_series_response (0.01s)
--- PASS: TestAzureMonitorParseResponse/total_aggregate_time_series_response (0.00s)
--- PASS: TestAzureMonitorParseResponse/maximum_aggregate_time_series_response (0.00s)
--- PASS: TestAzureMonitorParseResponse/minimum_aggregate_time_series_response (0.00s)
--- PASS: TestAzureMonitorParseResponse/count_aggregate_time_series_response (0.00s)
--- PASS: TestAzureMonitorParseResponse/single_dimension_time_series_response (0.00s)
--- PASS: TestAzureMonitorParseResponse/with_alias_patterns_in_the_query (0.00s)
--- PASS: TestAzureMonitorParseResponse/single_dimension_with_alias (0.00s)
--- PASS: TestAzureMonitorParseResponse/multiple_dimension_time_series_response_with_label_alias (0.00s)
--- PASS: TestAzureMonitorParseResponse/unspecified_unit_with_alias_should_not_panic (0.00s)
--- PASS: TestAzureMonitorParseResponse/with_legacy_azure_monitor_query_properties_and_without_a_resource_uri (0.00s)
--- PASS: TestAzureMonitorParseResponse/with_legacy_azure_monitor_query_properties_and_with_a_resource_uri_it_should_use_the_resource_uri (0.00s)
--- PASS: TestAzureMonitorParseResponse/multiple_time_series_response (0.00s)
--- PASS: TestAzureMonitorParseResponse/multiple_time_series_response_with_multiple_dimensions (0.00s)
=== RUN   TestFindClosestAllowIntervalMS
=== RUN   TestFindClosestAllowIntervalMS/closest_to_3m_is_5m
=== RUN   TestFindClosestAllowIntervalMS/closest_to_10m_is_15m
=== RUN   TestFindClosestAllowIntervalMS/closest_to_2d_is_1d
=== RUN   TestFindClosestAllowIntervalMS/closest_to_3m_is_1d_when_1d_is_only_allowed_interval
--- PASS: TestFindClosestAllowIntervalMS (0.00s)
--- PASS: TestFindClosestAllowIntervalMS/closest_to_3m_is_5m (0.00s)
--- PASS: TestFindClosestAllowIntervalMS/closest_to_10m_is_15m (0.00s)
--- PASS: TestFindClosestAllowIntervalMS/closest_to_2d_is_1d (0.00s)
--- PASS: TestFindClosestAllowIntervalMS/closest_to_3m_is_1d_when_1d_is_only_allowed_interval (0.00s)
=== RUN   TestAzureMonitorCreateRequest
=== RUN   TestAzureMonitorCreateRequest/creates_a_request
--- PASS: TestAzureMonitorCreateRequest (0.00s)
--- PASS: TestAzureMonitorCreateRequest/creates_a_request (0.00s)
=== RUN   TestExtractResourceNameFromMetricsURL
=== RUN   TestExtractResourceNameFromMetricsURL/it_should_extract_the_resourceName_from_a_well-formed_Metrics_URL
=== RUN   TestExtractResourceNameFromMetricsURL/it_should_extract_the_resourceName_from_a_well-formed_Metrics_URL_in_a_case_insensitive_manner
=== RUN   TestExtractResourceNameFromMetricsURL/it_should_return_an_empty_string_if_no_match_is_found
--- PASS: TestExtractResourceNameFromMetricsURL (0.00s)
--- PASS: TestExtractResourceNameFromMetricsURL/it_should_extract_the_resourceName_from_a_well-formed_Metrics_URL (0.00s)
--- PASS: TestExtractResourceNameFromMetricsURL/it_should_extract_the_resourceName_from_a_well-formed_Metrics_URL_in_a_case_insensitive_manner (0.00s)
--- PASS: TestExtractResourceNameFromMetricsURL/it_should_return_an_empty_string_if_no_match_is_found (0.00s)
=== RUN   TestDimensionFiltersMigration
=== RUN   TestDimensionFiltersMigration/will_return_new_format_unchanged
=== RUN   TestDimensionFiltersMigration/correctly_updates_old_format_with_wildcard
=== RUN   TestDimensionFiltersMigration/correctly_updates_old_format_with_a_value
=== RUN   TestDimensionFiltersMigration/correctly_ignores_wildcard_if_filters_has_a_value
=== RUN   TestDimensionFiltersMigration/correctly_merges_values_if_filters_has_a_value_(ignores_duplicates)
=== RUN   TestDimensionFiltersMigration/correctly_merges_values_if_filters_has_a_value
--- PASS: TestDimensionFiltersMigration (0.00s)
--- PASS: TestDimensionFiltersMigration/will_return_new_format_unchanged (0.00s)
--- PASS: TestDimensionFiltersMigration/correctly_updates_old_format_with_wildcard (0.00s)
--- PASS: TestDimensionFiltersMigration/correctly_updates_old_format_with_a_value (0.00s)
--- PASS: TestDimensionFiltersMigration/correctly_ignores_wildcard_if_filters_has_a_value (0.00s)
--- PASS: TestDimensionFiltersMigration/correctly_merges_values_if_filters_has_a_value_(ignores_duplicates) (0.00s)
--- PASS: TestDimensionFiltersMigration/correctly_merges_values_if_filters_has_a_value (0.00s)
=== RUN   TestBuildResourceURI
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_there_is_no_resource_uri
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_only_resource_uri_is_provided_it_returns_the_resource_URI
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_resource_uri_and_legacy_fields_are_provided_the_legacy_fields_are_ignored
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/Legacy_URL_Builder_params
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/Legacy_URL_Builder_params/when_metric_definition_is_in_the_short_form
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_in_the_short_form_and_a_subscription_is_defined
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.Storage/storageAccounts/blobServices
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.Storage/storageAccounts/tableServices
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.Storage/storageAccounts/fileServices
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.NetApp/netAppAccounts/capacityPools/volumes
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metricDefinition_or_metricNamespace_is_not_defined_an_error_is_thrown
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/provider_extraction_from_metricNamespaceArray
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metricNamespace_is_not_in_the_correct_format
=== RUN   TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_resourceNameArray_index_out_of_range
--- PASS: TestBuildResourceURI (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_there_is_no_resource_uri (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_only_resource_uri_is_provided_it_returns_the_resource_URI (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_resource_uri_and_legacy_fields_are_provided_the_legacy_fields_are_ignored (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/Legacy_URL_Builder_params (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/Legacy_URL_Builder_params/when_metric_definition_is_in_the_short_form (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_in_the_short_form_and_a_subscription_is_defined (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.Storage/storageAccounts/blobServices (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.Storage/storageAccounts/tableServices (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.Storage/storageAccounts/fileServices (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metric_definition_is_Microsoft.NetApp/netAppAccounts/capacityPools/volumes (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metricDefinition_or_metricNamespace_is_not_defined_an_error_is_thrown (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/provider_extraction_from_metricNamespaceArray (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_metricNamespace_is_not_in_the_correct_format (0.00s)
--- PASS: TestBuildResourceURI/AzureMonitor_Resource_URI_Builder/when_resourceNameArray_index_out_of_range (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/metrics	0.046s
=== RUN   TestBuildingAzureResourceGraphQueries
=== RUN   TestBuildingAzureResourceGraphQueries/Query_with_macros_should_be_interpolated
--- PASS: TestBuildingAzureResourceGraphQueries (0.00s)
--- PASS: TestBuildingAzureResourceGraphQueries/Query_with_macros_should_be_interpolated (0.00s)
=== RUN   TestAzureResourceGraphCreateRequest
=== RUN   TestAzureResourceGraphCreateRequest/creates_a_request
--- PASS: TestAzureResourceGraphCreateRequest (0.00s)
--- PASS: TestAzureResourceGraphCreateRequest/creates_a_request (0.00s)
=== RUN   TestAddConfigData
--- PASS: TestAddConfigData (0.00s)
=== RUN   TestUnmarshalResponse400
--- PASS: TestUnmarshalResponse400 (0.00s)
=== RUN   TestUnmarshalResponse200Invalid
--- PASS: TestUnmarshalResponse200Invalid (0.00s)
=== RUN   TestUnmarshalResponse200
--- PASS: TestUnmarshalResponse200 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/resourcegraph	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/azuremonitor/standalone	[no test files]
=== RUN   TestTimeGrain_createISO8601Duration
=== RUN   TestTimeGrain_createISO8601Duration/1m
=== RUN   TestTimeGrain_createISO8601Duration/1minute
=== RUN   TestTimeGrain_createISO8601Duration/2h
=== RUN   TestTimeGrain_createISO8601Duration/2hour
=== RUN   TestTimeGrain_createISO8601Duration/1d
=== RUN   TestTimeGrain_createISO8601Duration/2day
--- PASS: TestTimeGrain_createISO8601Duration (0.00s)
--- PASS: TestTimeGrain_createISO8601Duration/1m (0.00s)
--- PASS: TestTimeGrain_createISO8601Duration/1minute (0.00s)
--- PASS: TestTimeGrain_createISO8601Duration/2h (0.00s)
--- PASS: TestTimeGrain_createISO8601Duration/2hour (0.00s)
--- PASS: TestTimeGrain_createISO8601Duration/1d (0.00s)
--- PASS: TestTimeGrain_createISO8601Duration/2day (0.00s)
=== RUN   TestTimeGrain_createISO8601DurationFromIntervalMS
=== RUN   TestTimeGrain_createISO8601DurationFromIntervalMS/100
=== RUN   TestTimeGrain_createISO8601DurationFromIntervalMS/59999
=== RUN   TestTimeGrain_createISO8601DurationFromIntervalMS/600000
=== RUN   TestTimeGrain_createISO8601DurationFromIntervalMS/172800000
--- PASS: TestTimeGrain_createISO8601DurationFromIntervalMS (0.00s)
--- PASS: TestTimeGrain_createISO8601DurationFromIntervalMS/100 (0.00s)
--- PASS: TestTimeGrain_createISO8601DurationFromIntervalMS/59999 (0.00s)
--- PASS: TestTimeGrain_createISO8601DurationFromIntervalMS/600000 (0.00s)
--- PASS: TestTimeGrain_createISO8601DurationFromIntervalMS/172800000 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/time	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/azuremonitor/types	[no test files]
=== RUN   TestCreateResponseErrorFromStatusCode
=== RUN   TestCreateResponseErrorFromStatusCode/Downstream_error_for_500_status
=== RUN   TestCreateResponseErrorFromStatusCode/Plugin_error_for_501_status
=== RUN   TestCreateResponseErrorFromStatusCode/Downstream_error_for_502_status
--- PASS: TestCreateResponseErrorFromStatusCode (0.00s)
--- PASS: TestCreateResponseErrorFromStatusCode/Downstream_error_for_500_status (0.00s)
--- PASS: TestCreateResponseErrorFromStatusCode/Plugin_error_for_501_status (0.00s)
--- PASS: TestCreateResponseErrorFromStatusCode/Downstream_error_for_502_status (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/azuremonitor/utils	(cached)
=== RUN   TestExecutor_parseToAnnotations
--- PASS: TestExecutor_parseToAnnotations (0.00s)
=== RUN   TestCloudMonitoringExecutor_parseToAnnotations_emptyTimeSeries
--- PASS: TestCloudMonitoringExecutor_parseToAnnotations_emptyTimeSeries (0.00s)
=== RUN   TestCloudMonitoringExecutor_parseToAnnotations_noPointsInSeries
--- PASS: TestCloudMonitoringExecutor_parseToAnnotations_noPointsInSeries (0.00s)
=== RUN   TestNewInstanceSettings
=== RUN   TestNewInstanceSettings/should_create_a_new_instance_with_empty_settings
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:25.889774Z","error":"label name cannot be empty"}
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:25.889810Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/should_create_a_new_instance_parsing_settings
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:25.889874Z","error":"label name cannot be empty"}
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:25.889885Z","error":"label name cannot be empty"}
--- PASS: TestNewInstanceSettings (0.00s)
--- PASS: TestNewInstanceSettings/should_create_a_new_instance_with_empty_settings (0.00s)
--- PASS: TestNewInstanceSettings/should_create_a_new_instance_parsing_settings (0.00s)
=== RUN   TestCloudMonitoring
=== RUN   TestCloudMonitoring/parses_a_time_series_list_query
=== RUN   TestCloudMonitoring/parses_a_time_series_query
=== RUN   TestCloudMonitoring/parses_a_time_series_list_with_secondary_inputs
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_no_aggregation_set
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_no_aggregation_set/and_generated_deep_link_has_correct_parameters
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_filters
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_grafana-auto
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_grafana-auto/and_IntervalMS_is_larger_than_60000
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_grafana-auto/and_IntervalMS_is_less_than_60000
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_two_hours
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_22_hours
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_23_hours
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_7_days
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_two_hours
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_22_hours
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_23_hours
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_7_days
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_in_frontend
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_in_frontend/and_alignment_period_is_within_accepted_range
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_aggregation_mean_set
=== RUN   TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_group_bys
=== RUN   TestCloudMonitoring/Parse_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries
=== RUN   TestCloudMonitoring/Parse_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_type_is_metrics
=== RUN   TestCloudMonitoring/Parse_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_type_is_SLOs
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_and_the_end_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_and_the_end_of_the_word/and_there's_no_wildcard_in_the_middle_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_and_the_end_of_the_word/and_there_is_a_wildcard_in_the_middle_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_of_the_word/and_there_is_not_a_wildcard_elsewhere_in_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_of_the_word/and_there_is_a_wildcard_elsewhere_in_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_at_the_end_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_at_the_end_of_the_word/and_there_is_not_a_wildcard_elsewhere_in_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_at_the_end_of_the_word/and_there_is_a_wildcard_elsewhere_in_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word/and_there_is_only_one_wildcard
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word/and_there_is_more_than_one_wildcard
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word_and_in_the_beginning_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word_and_in_the_ending_of_the_word
=== RUN   TestCloudMonitoring/when_interpolating_filter_wildcards/and_no_wildcard_is_used
=== RUN   TestCloudMonitoring/and_query_preprocessor_is_not_defined
=== RUN   TestCloudMonitoring/and_query_preprocessor_is_set_to_none
=== RUN   TestCloudMonitoring/and_query_preprocessor_is_set_to_rate_and_there's_no_group_bys
=== RUN   TestCloudMonitoring/and_query_preprocessor_is_set_to_rate_and_group_bys_exist
=== RUN   TestCloudMonitoring/and_query_preprocessor_is_set_to_delta_and_there's_no_group_bys
=== RUN   TestCloudMonitoring/and_query_preprocessor_is_set_to_delta_and_group_bys_exist
--- PASS: TestCloudMonitoring (0.00s)
--- PASS: TestCloudMonitoring/parses_a_time_series_list_query (0.00s)
--- PASS: TestCloudMonitoring/parses_a_time_series_query (0.00s)
--- PASS: TestCloudMonitoring/parses_a_time_series_list_with_secondary_inputs (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_no_aggregation_set (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_no_aggregation_set/and_generated_deep_link_has_correct_parameters (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_filters (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_grafana-auto (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_grafana-auto/and_IntervalMS_is_larger_than_60000 (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_grafana-auto/and_IntervalMS_is_less_than_60000 (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_two_hours (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_22_hours (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_23_hours (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_cloud-monitoring-auto/and_range_is_7_days (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_two_hours (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_22_hours (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_23_hours (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_to_stackdriver-auto/and_range_is_7_days (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_in_frontend (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_alignmentPeriod_is_set_in_frontend/and_alignment_period_is_within_accepted_range (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_aggregation_mean_set (0.00s)
--- PASS: TestCloudMonitoring/Parse_migrated_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_has_group_bys (0.00s)
--- PASS: TestCloudMonitoring/Parse_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries (0.00s)
--- PASS: TestCloudMonitoring/Parse_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_type_is_metrics (0.00s)
--- PASS: TestCloudMonitoring/Parse_queries_from_frontend_and_build_Google_Cloud_Monitoring_API_queries/and_query_type_is_SLOs (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_and_the_end_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_and_the_end_of_the_word/and_there's_no_wildcard_in_the_middle_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_and_the_end_of_the_word/and_there_is_a_wildcard_in_the_middle_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_of_the_word/and_there_is_not_a_wildcard_elsewhere_in_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_beginning_of_the_word/and_there_is_a_wildcard_elsewhere_in_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_at_the_end_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_at_the_end_of_the_word/and_there_is_not_a_wildcard_elsewhere_in_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_at_the_end_of_the_word/and_there_is_a_wildcard_elsewhere_in_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word/and_there_is_only_one_wildcard (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word/and_there_is_more_than_one_wildcard (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word_and_in_the_beginning_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_wildcard_is_used_in_the_middle_of_the_word_and_in_the_ending_of_the_word (0.00s)
--- PASS: TestCloudMonitoring/when_interpolating_filter_wildcards/and_no_wildcard_is_used (0.00s)
--- PASS: TestCloudMonitoring/and_query_preprocessor_is_not_defined (0.00s)
--- PASS: TestCloudMonitoring/and_query_preprocessor_is_set_to_none (0.00s)
--- PASS: TestCloudMonitoring/and_query_preprocessor_is_set_to_rate_and_there's_no_group_bys (0.00s)
--- PASS: TestCloudMonitoring/and_query_preprocessor_is_set_to_rate_and_group_bys_exist (0.00s)
--- PASS: TestCloudMonitoring/and_query_preprocessor_is_set_to_delta_and_there's_no_group_bys (0.00s)
--- PASS: TestCloudMonitoring/and_query_preprocessor_is_set_to_delta_and_group_bys_exist (0.00s)
=== RUN   TestCheckHealth
=== RUN   TestCheckHealth/and_using_GCE_authentation_should_return_proper_error
--- PASS: TestCheckHealth (0.00s)
--- PASS: TestCheckHealth/and_using_GCE_authentation_should_return_proper_error (0.00s)
=== RUN   TestPromqlQuery
=== RUN   TestPromqlQuery/parseResponse_is_returned
=== RUN   TestPromqlQuery/parseResponse_is_returned_with_error
--- PASS: TestPromqlQuery (0.00s)
--- PASS: TestPromqlQuery/parseResponse_is_returned (0.00s)
--- PASS: TestPromqlQuery/parseResponse_is_returned_with_error (0.00s)
=== RUN   Test_parseResourcePath
=== RUN   Test_parseResourcePath/Path_with_a_subscription
=== RUN   Test_parseResourcePath/Malformed_path
--- PASS: Test_parseResourcePath (0.00s)
--- PASS: Test_parseResourcePath/Path_with_a_subscription (0.00s)
--- PASS: Test_parseResourcePath/Malformed_path (0.00s)
=== RUN   Test_doRequest
--- PASS: Test_doRequest (0.00s)
=== RUN   Test_setRequestVariables
{"@level":"debug","@message":"Received resource call","@timestamp":"2025-04-15T08:39:25.897036Z","method":"GET","url":"http://foo/cloudmonitoring/v3/projects/bar/metricDescriptors"}
--- PASS: Test_setRequestVariables (0.00s)
=== RUN   Test_processData_functions
=== RUN   Test_processData_functions/metricDescriptor
=== RUN   Test_processData_functions/services
=== RUN   Test_processData_functions/slos
=== RUN   Test_processData_functions/cloudresourcemanager
--- PASS: Test_processData_functions (0.00s)
--- PASS: Test_processData_functions/metricDescriptor (0.00s)
--- PASS: Test_processData_functions/services (0.00s)
--- PASS: Test_processData_functions/slos (0.00s)
--- PASS: Test_processData_functions/cloudresourcemanager (0.00s)
=== RUN   Test_getGCEDefaultProject
--- PASS: Test_getGCEDefaultProject (0.00s)
=== RUN   TestTimeSeriesFilter
=== RUN   TestTimeSeriesFilter/parses_params
=== RUN   TestTimeSeriesFilter/parses_params_with_preprocessor
=== RUN   TestTimeSeriesFilter/when_data_from_query_aggregated_to_one_time_series
=== RUN   TestTimeSeriesFilter/when_data_from_query_with_no_aggregation
=== RUN   TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_group_bys
=== RUN   TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_alias_by
=== RUN   TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_alias_by/and_the_alias_pattern_is_for_metric_type,_a_metric_label_and_a_resource_label
=== RUN   TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_alias_by/and_the_alias_pattern_is_for_metric_name
=== RUN   TestTimeSeriesFilter/when_data_from_query_is_distribution_with_exponential_bounds
=== RUN   TestTimeSeriesFilter/when_data_from_query_is_distribution_with_explicit_bounds
=== RUN   TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels
=== RUN   TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels_and_alias_by_is_defined
=== RUN   TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels_and_alias_by_is_defined/and_systemlabel_contains_key_with_array_of_string
value1, value2
=== RUN   TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels_and_alias_by_is_defined/and_systemlabel_contains_key_with_array_of_string2
=== RUN   TestTimeSeriesFilter/Parse_cloud_monitoring_unit
=== RUN   TestTimeSeriesFilter/Parse_cloud_monitoring_unit/when_mapping_is_found_a_unit_should_be_specified_on_the_field_config
=== RUN   TestTimeSeriesFilter/Parse_cloud_monitoring_unit/when_mapping_is_found_a_unit_should_be_specified_on_the_field_config#01
=== RUN   TestTimeSeriesFilter/when_data_from_query_returns_MQL_and_alias_by_is_defined
=== RUN   TestTimeSeriesFilter/when_data_from_query_returns_MQL_and_alias_by_is_defined/and_alias_by_is_expanded
=== RUN   TestTimeSeriesFilter/field_name_is_filled_in_for_agg_statement
=== RUN   TestTimeSeriesFilter/Parse_labels
=== RUN   TestTimeSeriesFilter/includes_time_interval
=== RUN   TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType
=== RUN   TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType/exponential_bounds
=== RUN   TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType/explicit_bounds
=== RUN   TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType/without_series_points
=== RUN   TestTimeSeriesFilter/when_building_filter_string
=== RUN   TestTimeSeriesFilter/when_building_filter_string/and_there's_no_regex_operator
=== RUN   TestTimeSeriesFilter/when_building_filter_string/and_there's_no_regex_operator/and_there_are_wildcards_in_a_filter_value
=== RUN   TestTimeSeriesFilter/when_building_filter_string/and_there's_no_regex_operator/and_there_are_no_wildcards_in_any_filter_value
=== RUN   TestTimeSeriesFilter/when_building_filter_string/and_there_is_a_regex_operator
=== RUN   TestTimeSeriesFilter/time_field_is_appropriately_named
--- PASS: TestTimeSeriesFilter (0.01s)
--- PASS: TestTimeSeriesFilter/parses_params (0.00s)
--- PASS: TestTimeSeriesFilter/parses_params_with_preprocessor (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_aggregated_to_one_time_series (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_with_no_aggregation (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_group_bys (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_alias_by (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_alias_by/and_the_alias_pattern_is_for_metric_type,_a_metric_label_and_a_resource_label (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_with_no_aggregation_and_alias_by/and_the_alias_pattern_is_for_metric_name (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_is_distribution_with_exponential_bounds (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_is_distribution_with_explicit_bounds (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels_and_alias_by_is_defined (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels_and_alias_by_is_defined/and_systemlabel_contains_key_with_array_of_string (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_returns_metadata_system_labels_and_alias_by_is_defined/and_systemlabel_contains_key_with_array_of_string2 (0.00s)
--- PASS: TestTimeSeriesFilter/Parse_cloud_monitoring_unit (0.00s)
--- PASS: TestTimeSeriesFilter/Parse_cloud_monitoring_unit/when_mapping_is_found_a_unit_should_be_specified_on_the_field_config (0.00s)
--- PASS: TestTimeSeriesFilter/Parse_cloud_monitoring_unit/when_mapping_is_found_a_unit_should_be_specified_on_the_field_config#01 (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_returns_MQL_and_alias_by_is_defined (0.00s)
--- PASS: TestTimeSeriesFilter/when_data_from_query_returns_MQL_and_alias_by_is_defined/and_alias_by_is_expanded (0.00s)
--- PASS: TestTimeSeriesFilter/field_name_is_filled_in_for_agg_statement (0.00s)
--- PASS: TestTimeSeriesFilter/Parse_labels (0.00s)
--- PASS: TestTimeSeriesFilter/includes_time_interval (0.00s)
--- PASS: TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType (0.00s)
--- PASS: TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType/exponential_bounds (0.00s)
--- PASS: TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType/explicit_bounds (0.00s)
--- PASS: TestTimeSeriesFilter/parseResponse_successfully_parses_metadata_for_distribution_valueType/without_series_points (0.00s)
--- PASS: TestTimeSeriesFilter/when_building_filter_string (0.00s)
--- PASS: TestTimeSeriesFilter/when_building_filter_string/and_there's_no_regex_operator (0.00s)
--- PASS: TestTimeSeriesFilter/when_building_filter_string/and_there's_no_regex_operator/and_there_are_wildcards_in_a_filter_value (0.00s)
--- PASS: TestTimeSeriesFilter/when_building_filter_string/and_there's_no_regex_operator/and_there_are_no_wildcards_in_any_filter_value (0.00s)
--- PASS: TestTimeSeriesFilter/when_building_filter_string/and_there_is_a_regex_operator (0.00s)
--- PASS: TestTimeSeriesFilter/time_field_is_appropriately_named (0.00s)
=== RUN   TestTimeSeriesQuery
=== RUN   TestTimeSeriesQuery/multiple_point_descriptor_is_returned
=== RUN   TestTimeSeriesQuery/multiple_point_descriptor_is_returned/and_alias_template_is_not_specified
=== RUN   TestTimeSeriesQuery/multiple_point_descriptor_is_returned/and_alias_template_is_specified
=== RUN   TestTimeSeriesQuery/single_point_descriptor_is_returned
=== RUN   TestTimeSeriesQuery/single_point_descriptor_is_returned/and_alias_by_is_expanded
=== RUN   TestTimeSeriesQuery/Parse_labels
=== RUN   TestTimeSeriesQuery/includes_time_interval
=== RUN   TestTimeSeriesQuery/appends_graph_period_to_the_query
=== RUN   TestTimeSeriesQuery/skips_graph_period_if_disabled
=== RUN   TestTimeSeriesQuery/time_field_is_appropriately_named
--- PASS: TestTimeSeriesQuery (0.00s)
--- PASS: TestTimeSeriesQuery/multiple_point_descriptor_is_returned (0.00s)
--- PASS: TestTimeSeriesQuery/multiple_point_descriptor_is_returned/and_alias_template_is_not_specified (0.00s)
--- PASS: TestTimeSeriesQuery/multiple_point_descriptor_is_returned/and_alias_template_is_specified (0.00s)
--- PASS: TestTimeSeriesQuery/single_point_descriptor_is_returned (0.00s)
--- PASS: TestTimeSeriesQuery/single_point_descriptor_is_returned/and_alias_by_is_expanded (0.00s)
--- PASS: TestTimeSeriesQuery/Parse_labels (0.00s)
--- PASS: TestTimeSeriesQuery/includes_time_interval (0.00s)
--- PASS: TestTimeSeriesQuery/appends_graph_period_to_the_query (0.00s)
--- PASS: TestTimeSeriesQuery/skips_graph_period_if_disabled (0.00s)
--- PASS: TestTimeSeriesQuery/time_field_is_appropriately_named (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloud-monitoring	0.025s
?   	github.com/grafana/grafana/pkg/tsdb/cloud-monitoring/converter	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/cloud-monitoring/kinds/dataquery	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/cloud-monitoring/standalone	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/cloud-monitoring/time	[no test files]
=== RUN   TestQuery_AnnotationQuery
=== RUN   TestQuery_AnnotationQuery/DescribeAlarmsForMetric_is_called_with_minimum_parameters
=== RUN   TestQuery_AnnotationQuery/DescribeAlarms_is_called_when_prefixMatching_is_true
--- PASS: TestQuery_AnnotationQuery (0.00s)
--- PASS: TestQuery_AnnotationQuery/DescribeAlarmsForMetric_is_called_with_minimum_parameters (0.00s)
--- PASS: TestQuery_AnnotationQuery/DescribeAlarms_is_called_when_prefixMatching_is_true (0.00s)
=== RUN   Test_CloudWatch_CallResource_Integration_Test
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_dimension_value_request_and_return_values_from_the_api
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_dimension_key_filter_query_and_return_keys_from_the_api
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_standard_dimension_key_query_and_return_hard_coded_keys
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_custom_namespace_dimension_key_query_and_return_hard_coded_keys
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_custom_namespace_metrics_query_and_return_metrics_from_api
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_log_group_fields_request
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_handle_region_requests_and_return_regions_from_the_api
=== RUN   Test_CloudWatch_CallResource_Integration_Test/Should_error_for_any_request_when_a_default_region_is_not_selected
--- PASS: Test_CloudWatch_CallResource_Integration_Test (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_dimension_value_request_and_return_values_from_the_api (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_dimension_key_filter_query_and_return_keys_from_the_api (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_standard_dimension_key_query_and_return_hard_coded_keys (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_custom_namespace_dimension_key_query_and_return_hard_coded_keys (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_custom_namespace_metrics_query_and_return_metrics_from_api (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_log_group_fields_request (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_handle_region_requests_and_return_regions_from_the_api (0.00s)
--- PASS: Test_CloudWatch_CallResource_Integration_Test/Should_error_for_any_request_when_a_default_region_is_not_selected (0.00s)
=== RUN   TestNewInstanceSettings
=== RUN   TestNewInstanceSettings/creates_a_request
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:26.528302Z","error":"label name cannot be empty"}
--- PASS: TestNewInstanceSettings (0.00s)
--- PASS: TestNewInstanceSettings/creates_a_request (0.00s)
=== RUN   Test_CheckHealth
=== RUN   Test_CheckHealth/successfully_query_metrics_and_logs
=== RUN   Test_CheckHealth/successfully_queries_metrics,_fails_during_logs_query
=== RUN   Test_CheckHealth/successfully_queries_logs,_fails_during_metrics_query
=== RUN   Test_CheckHealth/fail_to_get_clients
--- PASS: Test_CheckHealth (0.00s)
--- PASS: Test_CheckHealth/successfully_query_metrics_and_logs (0.00s)
--- PASS: Test_CheckHealth/successfully_queries_metrics,_fails_during_logs_query (0.00s)
--- PASS: Test_CheckHealth/successfully_queries_logs,_fails_during_metrics_query (0.00s)
--- PASS: Test_CheckHealth/fail_to_get_clients (0.00s)
=== RUN   TestNewSession_passes_authSettings
--- PASS: TestNewSession_passes_authSettings (0.00s)
=== RUN   TestQuery_ResourceRequest_DescribeLogGroups_with_CrossAccountQuerying
=== RUN   TestQuery_ResourceRequest_DescribeLogGroups_with_CrossAccountQuerying/maps_log_group_api_response_to_resource_response_of_log-groups
--- PASS: TestQuery_ResourceRequest_DescribeLogGroups_with_CrossAccountQuerying (0.00s)
--- PASS: TestQuery_ResourceRequest_DescribeLogGroups_with_CrossAccountQuerying/maps_log_group_api_response_to_resource_response_of_log-groups (0.00s)
=== RUN   TestGetDimensionValuesForWildcards
=== RUN   TestGetDimensionValuesForWildcards/Tag_value_cache
=== RUN   TestGetDimensionValuesForWildcards/Tag_value_cache/Should_use_cache_for_previously_fetched_value
=== RUN   TestGetDimensionValuesForWildcards/Tag_value_cache/Should_not_cache_when_no_values_are_returned
=== RUN   TestGetDimensionValuesForWildcards/Should_skip_queries
=== RUN   TestGetDimensionValuesForWildcards/Should_skip_queries/when_namespace_not_set
=== RUN   TestGetDimensionValuesForWildcards/Should_skip_queries/when_metricName_not_set
=== RUN   TestGetDimensionValuesForWildcards/MetricSearch_query_type
=== RUN   TestGetDimensionValuesForWildcards/MetricSearch_query_type/Should_not_change_non-wildcard_dimension_value
=== RUN   TestGetDimensionValuesForWildcards/MetricSearch_query_type/Should_not_change_exact_dimension_value
=== RUN   TestGetDimensionValuesForWildcards/MetricSearch_query_type/Should_change_wildcard_dimension_value
=== RUN   TestGetDimensionValuesForWildcards/MetricQuery_query_type
=== RUN   TestGetDimensionValuesForWildcards/MetricQuery_query_type/Should_fetch_dimensions_when_there_is_a_`GROUP_BY`_clause
=== RUN   TestGetDimensionValuesForWildcards/MetricQuery_query_type/Should_not_fetch_dimensions_when_there_is_not_a_`GROUP_BY`_clause
--- PASS: TestGetDimensionValuesForWildcards (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/Tag_value_cache (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/Tag_value_cache/Should_use_cache_for_previously_fetched_value (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/Tag_value_cache/Should_not_cache_when_no_values_are_returned (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/Should_skip_queries (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/Should_skip_queries/when_namespace_not_set (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/Should_skip_queries/when_metricName_not_set (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricSearch_query_type (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricSearch_query_type/Should_not_change_non-wildcard_dimension_value (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricSearch_query_type/Should_not_change_exact_dimension_value (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricSearch_query_type/Should_change_wildcard_dimension_value (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricQuery_query_type (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricQuery_query_type/Should_fetch_dimensions_when_there_is_a_`GROUP_BY`_clause (0.00s)
--- PASS: TestGetDimensionValuesForWildcards/MetricQuery_query_type/Should_not_fetch_dimensions_when_there_is_not_a_`GROUP_BY`_clause (0.00s)
=== RUN   TestGetMetricDataExecutorTestRequest
=== RUN   TestGetMetricDataExecutorTestRequest/Should_round_up_end_time_if_cloudWatchRoundUpEndTime_is_enabled
--- PASS: TestGetMetricDataExecutorTestRequest (0.00s)
--- PASS: TestGetMetricDataExecutorTestRequest/Should_round_up_end_time_if_cloudWatchRoundUpEndTime_is_enabled (0.00s)
=== RUN   TestGetMetricDataExecutorTestResponse
--- PASS: TestGetMetricDataExecutorTestResponse (0.00s)
=== RUN   TestGetMetricQueryBatches
=== RUN   TestGetMetricQueryBatches/m99_ref_m98_which_ref_m88_which_ref_m98,_with_2_insights
=== RUN   TestGetMetricQueryBatches/zero_insight_queries_should_not_separate_into_batches
=== RUN   TestGetMetricQueryBatches/one_insight_query_should_not_separate_into_batches
=== RUN   TestGetMetricQueryBatches/multiple_insight_queries_should_separate_into_batches
=== RUN   TestGetMetricQueryBatches/math_queries_with_one_insight_query_should_not_separate_into_batches
=== RUN   TestGetMetricQueryBatches/math_queries_with_multiple_insight_queries_should_separate_into_batches
=== RUN   TestGetMetricQueryBatches/a_math_query_with_multiple_insight_queries_should_batch_them_together
--- PASS: TestGetMetricQueryBatches (0.00s)
--- PASS: TestGetMetricQueryBatches/m99_ref_m98_which_ref_m88_which_ref_m98,_with_2_insights (0.00s)
--- PASS: TestGetMetricQueryBatches/zero_insight_queries_should_not_separate_into_batches (0.00s)
--- PASS: TestGetMetricQueryBatches/one_insight_query_should_not_separate_into_batches (0.00s)
--- PASS: TestGetMetricQueryBatches/multiple_insight_queries_should_separate_into_batches (0.00s)
--- PASS: TestGetMetricQueryBatches/math_queries_with_one_insight_query_should_not_separate_into_batches (0.00s)
--- PASS: TestGetMetricQueryBatches/math_queries_with_multiple_insight_queries_should_separate_into_batches (0.00s)
--- PASS: TestGetMetricQueryBatches/a_math_query_with_multiple_insight_queries_should_batch_them_together (0.00s)
=== RUN   TestQuery_handleGetLogEvents_passes_nil_start_and_end_times_to_GetLogEvents
=== RUN   TestQuery_handleGetLogEvents_passes_nil_start_and_end_times_to_GetLogEvents/Nil_startTime
=== RUN   TestQuery_handleGetLogEvents_passes_nil_start_and_end_times_to_GetLogEvents/Nil_endTime
--- PASS: TestQuery_handleGetLogEvents_passes_nil_start_and_end_times_to_GetLogEvents (0.00s)
--- PASS: TestQuery_handleGetLogEvents_passes_nil_start_and_end_times_to_GetLogEvents/Nil_startTime (0.00s)
--- PASS: TestQuery_handleGetLogEvents_passes_nil_start_and_end_times_to_GetLogEvents/Nil_endTime (0.00s)
=== RUN   TestQuery_GetLogEvents_returns_response_from_GetLogEvents_to_data_frame_field
--- PASS: TestQuery_GetLogEvents_returns_response_from_GetLogEvents_to_data_frame_field (0.00s)
=== RUN   TestQuery_StartQuery
=== RUN   TestQuery_StartQuery/invalid_time_range
=== RUN   TestQuery_StartQuery/valid_time_range
--- PASS: TestQuery_StartQuery (0.00s)
--- PASS: TestQuery_StartQuery/invalid_time_range (0.00s)
--- PASS: TestQuery_StartQuery/valid_time_range (0.00s)
=== RUN   Test_executeStartQuery
=== RUN   Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language
=== RUN   Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/not_defined
=== RUN   Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/CWLI
=== RUN   Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/PPL
=== RUN   Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/SQL
=== RUN   Test_executeStartQuery/does_not_populate_StartQueryInput.limit_when_no_limit_provided
=== RUN   Test_executeStartQuery/attaches_logGroupIdentifiers_if_the_crossAccount_feature_is_enabled
=== RUN   Test_executeStartQuery/attaches_logGroupIdentifiers_if_the_crossAccount_feature_is_enabled_and_strips_out_trailing_*
=== RUN   Test_executeStartQuery/uses_LogGroupNames_if_the_cross_account_feature_flag_is_not_enabled,_and_log_group_names_is_present
=== RUN   Test_executeStartQuery/ignores_logGroups_if_feature_flag_is_disabled_even_if_logGroupNames_is_not_present
=== RUN   Test_executeStartQuery/it_always_uses_logGroups_when_feature_flag_is_enabled_and_ignores_log_group_names
--- PASS: Test_executeStartQuery (0.00s)
--- PASS: Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language (0.00s)
--- PASS: Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/not_defined (0.00s)
--- PASS: Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/CWLI (0.00s)
--- PASS: Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/PPL (0.00s)
--- PASS: Test_executeStartQuery/successfully_parses_information_from_JSON_to_StartQueryWithContext_for_language/SQL (0.00s)
--- PASS: Test_executeStartQuery/does_not_populate_StartQueryInput.limit_when_no_limit_provided (0.00s)
--- PASS: Test_executeStartQuery/attaches_logGroupIdentifiers_if_the_crossAccount_feature_is_enabled (0.00s)
--- PASS: Test_executeStartQuery/attaches_logGroupIdentifiers_if_the_crossAccount_feature_is_enabled_and_strips_out_trailing_* (0.00s)
--- PASS: Test_executeStartQuery/uses_LogGroupNames_if_the_cross_account_feature_flag_is_not_enabled,_and_log_group_names_is_present (0.00s)
--- PASS: Test_executeStartQuery/ignores_logGroups_if_feature_flag_is_disabled_even_if_logGroupNames_is_not_present (0.00s)
--- PASS: Test_executeStartQuery/it_always_uses_logGroups_when_feature_flag_is_enabled_and_ignores_log_group_names (0.00s)
=== RUN   TestQuery_StopQuery
--- PASS: TestQuery_StopQuery (0.00s)
=== RUN   TestQuery_GetQueryResults
--- PASS: TestQuery_GetQueryResults (0.00s)
=== RUN   TestGroupResponseFrame
=== RUN   TestGroupResponseFrame/Doesn't_group_results_without_time_field
--- PASS: TestGroupResponseFrame (0.00s)
--- PASS: TestGroupResponseFrame/Doesn't_group_results_without_time_field (0.00s)
=== RUN   TestLogsResultsToDataframes
--- PASS: TestLogsResultsToDataframes (0.00s)
=== RUN   TestLogsResultsToDataframes_MixedTypes_NumericValuesMixedWithStringFallBackToStringValues
--- PASS: TestLogsResultsToDataframes_MixedTypes_NumericValuesMixedWithStringFallBackToStringValues (0.00s)
=== RUN   TestLogsResultsToDataframes_With_Millisecond_Timestamps
--- PASS: TestLogsResultsToDataframes_With_Millisecond_Timestamps (0.00s)
=== RUN   TestLogsResultsToDataframes_With_Int_Grouping_Field
--- PASS: TestLogsResultsToDataframes_With_Int_Grouping_Field (0.00s)
=== RUN   TestGroupKeyGeneration
--- PASS: TestGroupKeyGeneration (0.00s)
=== RUN   TestGroupingResults
--- PASS: TestGroupingResults (0.00s)
=== RUN   TestGroupingResultsWithFromSyncQueryTrue
--- PASS: TestGroupingResultsWithFromSyncQueryTrue (0.00s)
=== RUN   Test_executeSyncLogQuery
=== RUN   Test_executeSyncLogQuery/getCWLogsClient_is_called_with_region_from_input_JSON
=== RUN   Test_executeSyncLogQuery/getCWLogsClient_is_called_with_region_from_instance_manager_when_region_is_default
=== RUN   Test_executeSyncLogQuery/with_header
=== RUN   Test_executeSyncLogQuery/with_header/alert_header
=== RUN   Test_executeSyncLogQuery/with_header/expression_header
=== RUN   Test_executeSyncLogQuery/with_header/no_header
=== RUN   Test_executeSyncLogQuery/when_query_mode_is_'Logs'_and_does_not_include_type_or_subtype
--- PASS: Test_executeSyncLogQuery (2.00s)
--- PASS: Test_executeSyncLogQuery/getCWLogsClient_is_called_with_region_from_input_JSON (1.00s)
--- PASS: Test_executeSyncLogQuery/getCWLogsClient_is_called_with_region_from_instance_manager_when_region_is_default (1.00s)
--- PASS: Test_executeSyncLogQuery/with_header (0.00s)
--- PASS: Test_executeSyncLogQuery/with_header/alert_header (0.00s)
--- PASS: Test_executeSyncLogQuery/with_header/expression_header (0.00s)
--- PASS: Test_executeSyncLogQuery/with_header/no_header (0.00s)
--- PASS: Test_executeSyncLogQuery/when_query_mode_is_'Logs'_and_does_not_include_type_or_subtype (0.00s)
=== RUN   Test_executeSyncLogQuery_handles_RefId_from_input_queries
=== RUN   Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_a_query_refId_is_not_provided,_'A'_is_assigned_by_default
=== RUN   Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_a_query_refId_is_provided,_it_is_returned_in_the_response
=== RUN   Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_RefIDs_are_provided,_correctly_pass_them_on_with_the_results
=== RUN   Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_logsTimeout_setting_is_defined,_the_polling_period_will_be_set_to_that_variable
=== RUN   Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_getQueryResults_returns_aws_error_is_returned,_it_keeps_the_context
--- PASS: Test_executeSyncLogQuery_handles_RefId_from_input_queries (7.01s)
--- PASS: Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_a_query_refId_is_not_provided,_'A'_is_assigned_by_default (1.00s)
--- PASS: Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_a_query_refId_is_provided,_it_is_returned_in_the_response (2.00s)
--- PASS: Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_RefIDs_are_provided,_correctly_pass_them_on_with_the_results (2.00s)
--- PASS: Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_logsTimeout_setting_is_defined,_the_polling_period_will_be_set_to_that_variable (1.00s)
--- PASS: Test_executeSyncLogQuery_handles_RefId_from_input_queries/when_getQueryResults_returns_aws_error_is_returned,_it_keeps_the_context (1.00s)
=== RUN   TestMetricDataInputBuilder
=== RUN   TestMetricDataInputBuilder/when_timezoneUTCOffset_is_provided
=== RUN   TestMetricDataInputBuilder/when_timezoneUTCOffset_is_not_provided
--- PASS: TestMetricDataInputBuilder (0.00s)
--- PASS: TestMetricDataInputBuilder/when_timezoneUTCOffset_is_provided (0.00s)
--- PASS: TestMetricDataInputBuilder/when_timezoneUTCOffset_is_not_provided (0.00s)
=== RUN   TestMetricDataQueryBuilder
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_metric_stat
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_pass_AccountId_in_metric_stat_query
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_leave_AccountId_in_metric_stat_query
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_custom_built_expression
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_sql_expression
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_user_defined_math_expression
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_set_period_in_user_defined_expression
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_set_label
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_not_set_label_for_empty_string_query_label
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_not_specify_accountId_when_it_is_"all"
=== RUN   TestMetricDataQueryBuilder/buildMetricDataQuery/should_set_accountId_when_it_is_specified
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_three_dimension_values_for_a_given_dimension_key
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_three_dimension_values_for_two_given_dimension_keys
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_one_dimension_key_with_a_*_value
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_three_dimension_values_for_two_given_dimension_keys,_and_one_value_is_a_star
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_multiple_dimensions_and_an_account_Id
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_a_dimension_key_with_a_space
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_a_custom_namespace_contains_spaces
=== RUN   TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_a_custom_label
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_three_dimension_values_for_a_given_dimension_key
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_three_dimension_values_for_two_given_dimension_keys
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_one_dimension_key_with_a_*_value
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/query_has_three_dimension_values_for_two_given_dimension_keys,_and_one_value_is_a_star
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/query_has_multiple_dimensions_and_an_account_Id
=== RUN   TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_a_custom_label
=== RUN   TestMetricDataQueryBuilder/Query_has_invalid_characters_in_dimension_values
--- PASS: TestMetricDataQueryBuilder (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_metric_stat (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_pass_AccountId_in_metric_stat_query (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_leave_AccountId_in_metric_stat_query (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_custom_built_expression (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_sql_expression (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_use_user_defined_math_expression (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_set_period_in_user_defined_expression (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_set_label (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_not_set_label_for_empty_string_query_label (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_not_specify_accountId_when_it_is_"all" (0.00s)
--- PASS: TestMetricDataQueryBuilder/buildMetricDataQuery/should_set_accountId_when_it_is_specified (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_three_dimension_values_for_a_given_dimension_key (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_three_dimension_values_for_two_given_dimension_keys (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_one_dimension_key_with_a_*_value (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_three_dimension_values_for_two_given_dimension_keys,_and_one_value_is_a_star (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_multiple_dimensions_and_an_account_Id (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_a_dimension_key_with_a_space (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_a_custom_namespace_contains_spaces (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_be_matched_exact/Query_has_a_custom_label (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_three_dimension_values_for_a_given_dimension_key (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_three_dimension_values_for_two_given_dimension_keys (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_one_dimension_key_with_a_*_value (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/query_has_three_dimension_values_for_two_given_dimension_keys,_and_one_value_is_a_star (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/query_has_multiple_dimensions_and_an_account_Id (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_should_not_be_matched_exact/Query_has_a_custom_label (0.00s)
--- PASS: TestMetricDataQueryBuilder/Query_has_invalid_characters_in_dimension_values (0.00s)
=== RUN   TestQuery_InstanceAttributes
=== RUN   TestQuery_InstanceAttributes/Get_instance_ID
=== RUN   TestQuery_InstanceAttributes/Get_different_types
=== RUN   TestQuery_InstanceAttributes/Get_different_types/int_field
=== RUN   TestQuery_InstanceAttributes/Get_different_types/bool_field
=== RUN   TestQuery_InstanceAttributes/Get_different_types/nested_field
=== RUN   TestQuery_InstanceAttributes/Get_different_types/nil_field
--- PASS: TestQuery_InstanceAttributes (0.00s)
--- PASS: TestQuery_InstanceAttributes/Get_instance_ID (0.00s)
--- PASS: TestQuery_InstanceAttributes/Get_different_types (0.00s)
--- PASS: TestQuery_InstanceAttributes/Get_different_types/int_field (0.00s)
--- PASS: TestQuery_InstanceAttributes/Get_different_types/bool_field (0.00s)
--- PASS: TestQuery_InstanceAttributes/Get_different_types/nested_field (0.00s)
--- PASS: TestQuery_InstanceAttributes/Get_different_types/nil_field (0.00s)
=== RUN   TestQuery_EBSVolumeIDs
=== RUN   TestQuery_EBSVolumeIDs/#00
--- PASS: TestQuery_EBSVolumeIDs (0.00s)
--- PASS: TestQuery_EBSVolumeIDs/#00 (0.00s)
=== RUN   TestQuery_ResourceARNs
=== RUN   TestQuery_ResourceARNs/#00
--- PASS: TestQuery_ResourceARNs (0.00s)
--- PASS: TestQuery_ResourceARNs/#00 (0.00s)
=== RUN   TestCloudWatchResponseParser
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_two_labels
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_points_for_label1_taken_from_both_getMetricDataOutputs
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_statuscode_'Complete'
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_request_limit
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_query_time_range
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_max_query_results
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_max_matching_results
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response_with_PartialData_and_ArithmeticError
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response_with_PartialData_and_ArithmeticError/should_have_statuscode_is_'PartialData'
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response_with_PartialData_and_ArithmeticError/should_have_an_arithmetic_error_and_an_error_message
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01/should_have_one_label
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01/should_have_points_for_label1_taken_from_both_MetricDataResults
=== RUN   TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01/should_have_statuscode_'Complete'
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_request_limit
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_query_time_range
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_query_results
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_matching_results
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_request_limit
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_query_time_range
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_query_results
=== RUN   TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_matching_results
=== RUN   TestCloudWatchResponseParser/when_receiving_a_permissions_error_should_pass_it_to_the_user
--- PASS: TestCloudWatchResponseParser (0.01s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_two_labels (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_points_for_label1_taken_from_both_getMetricDataOutputs (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_statuscode_'Complete' (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_request_limit (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_query_time_range (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_max_query_results (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response/should_have_exceeded_max_matching_results (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response_with_PartialData_and_ArithmeticError (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response_with_PartialData_and_ArithmeticError/should_have_statuscode_is_'PartialData' (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response_with_PartialData_and_ArithmeticError/should_have_an_arithmetic_error_and_an_error_message (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01 (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01/should_have_one_label (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01/should_have_points_for_label1_taken_from_both_MetricDataResults (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_multi-outputs_response#01/should_have_statuscode_'Complete' (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_request_limit (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_query_time_range (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_query_results (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_first_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_matching_results (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_request_limit (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_query_time_range (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_query_results (0.00s)
--- PASS: TestCloudWatchResponseParser/when_aggregating_response_and_error_codes_are_in_second_GetMetricDataOutput/response_for_id_a/should_have_exceeded_max_matching_results (0.00s)
--- PASS: TestCloudWatchResponseParser/when_receiving_a_permissions_error_should_pass_it_to_the_user (0.00s)
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/using_multi_filter
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/using_multiple_wildcard_filters
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_no_values_are_returned_and_a_multi-valued_template_variable_is_used
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_no_values_are_returned_and_a_multi-valued_template_variable_and_two_single-valued_dimensions_are_used
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_not_using_multi-value_dimension_filters_on_a_`MetricSearch`_query
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_non-static_label_set_on_a_`MetricSearch`_query
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_static_label_set_on_a_`MetricSearch`_query
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_code_editor_used_for_`MetricSearch`_query_add_fallback_label
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_`MetricQuery`_query_has_no_label_set_and_`GROUP_BY`_clause_has_multiple_fields
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/when_`MetricQuery`_query_has_no_`GROUP_BY`_clause
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/ignore_dimensions_for_raw_mode_query
=== RUN   Test_buildDataFrames_parse_label_to_name_and_labels/Parse_cloudwatch_response
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/using_multi_filter (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/using_multiple_wildcard_filters (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_no_values_are_returned_and_a_multi-valued_template_variable_is_used (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_no_values_are_returned_and_a_multi-valued_template_variable_and_two_single-valued_dimensions_are_used (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_not_using_multi-value_dimension_filters_on_a_`MetricSearch`_query (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_non-static_label_set_on_a_`MetricSearch`_query (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_static_label_set_on_a_`MetricSearch`_query (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_code_editor_used_for_`MetricSearch`_query_add_fallback_label (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_`MetricQuery`_query_has_no_label_set_and_`GROUP_BY`_clause_has_multiple_fields (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/when_`MetricQuery`_query_has_no_`GROUP_BY`_clause (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/ignore_dimensions_for_raw_mode_query (0.00s)
--- PASS: Test_buildDataFrames_parse_label_to_name_and_labels/Parse_cloudwatch_response (0.00s)
=== RUN   TestFrameSort
=== RUN   TestFrameSort/sort_simple_frame
=== RUN   TestFrameSort/sort_with_nil
--- PASS: TestFrameSort (0.00s)
--- PASS: TestFrameSort/sort_simple_frame (0.00s)
--- PASS: TestFrameSort/sort_with_nil (0.00s)
=== RUN   TestTimeSeriesQuery
=== RUN   TestTimeSeriesQuery/Custom_metrics
=== RUN   TestTimeSeriesQuery/End_time_before_start_time_should_result_in_error
=== RUN   TestTimeSeriesQuery/End_time_equals_start_time_should_result_in_error
--- PASS: TestTimeSeriesQuery (0.00s)
--- PASS: TestTimeSeriesQuery/Custom_metrics (0.00s)
--- PASS: TestTimeSeriesQuery/End_time_before_start_time_should_result_in_error (0.00s)
--- PASS: TestTimeSeriesQuery/End_time_equals_start_time_should_result_in_error (0.00s)
=== RUN   Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region
=== RUN   Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region/Queries_with_the_same_region_should_call_GetSessionWithAuthSettings_with_that_region_1_time_and_call_GetMetricDataWithContext_1_time
=== RUN   Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region/3_queries_with_2_regions_calls_GetSessionWithAuthSettings_2_times_and_calls_GetMetricDataWithContext_2_times
=== RUN   Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region/3_queries_with_2_time_ranges_calls_GetSessionWithAuthSettings_2_times_and_calls_GetMetricDataWithContext_2_times
--- PASS: Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region (0.01s)
--- PASS: Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region/Queries_with_the_same_region_should_call_GetSessionWithAuthSettings_with_that_region_1_time_and_call_GetMetricDataWithContext_1_time (0.00s)
--- PASS: Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region/3_queries_with_2_regions_calls_GetSessionWithAuthSettings_2_times_and_calls_GetMetricDataWithContext_2_times (0.00s)
--- PASS: Test_executeTimeSeriesQuery_getCWClient_is_called_once_per_region_and_GetMetricData_is_called_once_per_grouping_of_queries_by_region/3_queries_with_2_time_ranges_calls_GetSessionWithAuthSettings_2_times_and_calls_GetMetricDataWithContext_2_times (0.00s)
=== RUN   Test_QueryData_timeSeriesQuery_GetMetricDataWithContext
=== RUN   Test_QueryData_timeSeriesQuery_GetMetricDataWithContext/passes_query_label_as_GetMetricData_label
=== RUN   Test_QueryData_timeSeriesQuery_GetMetricDataWithContext/should_not_pass_GetMetricData_label_when_query_label_is_empty
=== RUN   Test_QueryData_timeSeriesQuery_GetMetricDataWithContext/should_not_pass_GetMetricData_label_when_query_label_is_empty_string
--- PASS: Test_QueryData_timeSeriesQuery_GetMetricDataWithContext (0.00s)
--- PASS: Test_QueryData_timeSeriesQuery_GetMetricDataWithContext/passes_query_label_as_GetMetricData_label (0.00s)
--- PASS: Test_QueryData_timeSeriesQuery_GetMetricDataWithContext/should_not_pass_GetMetricData_label_when_query_label_is_empty (0.00s)
--- PASS: Test_QueryData_timeSeriesQuery_GetMetricDataWithContext/should_not_pass_GetMetricData_label_when_query_label_is_empty_string (0.00s)
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/where_user_defines_search_expression
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/where_query_is_math_expression
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/where_query_type_is_MetricQueryTypeQuery
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/with_specific_dimensions,_matchExact_false
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/with_wildcard_dimensions,_matchExact_false
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/with_wildcard_dimensions,_matchExact_true
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/no_dimension,_matchExact_false
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/no_dimensions,_matchExact_true
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/with_specific_dimensions,_matchExact_true
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/multivalued_dimensions,_matchExact_true
=== RUN   Test_QueryData_response_data_frame_name_is_always_response_label/multivalued_dimensions,_matchExact_false
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/where_user_defines_search_expression (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/where_query_is_math_expression (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/where_query_type_is_MetricQueryTypeQuery (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/with_specific_dimensions,_matchExact_false (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/with_wildcard_dimensions,_matchExact_false (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/with_wildcard_dimensions,_matchExact_true (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/no_dimension,_matchExact_false (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/no_dimensions,_matchExact_true (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/with_specific_dimensions,_matchExact_true (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/multivalued_dimensions,_matchExact_true (0.00s)
--- PASS: Test_QueryData_response_data_frame_name_is_always_response_label/multivalued_dimensions,_matchExact_false (0.00s)
=== RUN   TestTimeSeriesQuery_CrossAccountQuerying
=== RUN   TestTimeSeriesQuery_CrossAccountQuerying/should_call_GetMetricDataInput_with_AccountId_nil_when_no_AccountId_is_provided
=== RUN   TestTimeSeriesQuery_CrossAccountQuerying/should_call_GetMetricDataInput_with_AccountId_nil_when_feature_flag_is_false
=== RUN   TestTimeSeriesQuery_CrossAccountQuerying/should_call_GetMetricDataInput_with_AccountId_in_a_MetricStat_query
=== RUN   TestTimeSeriesQuery_CrossAccountQuerying/should_GetMetricDataInput_with_AccountId_in_an_inferred_search_expression_query
--- PASS: TestTimeSeriesQuery_CrossAccountQuerying (0.01s)
--- PASS: TestTimeSeriesQuery_CrossAccountQuerying/should_call_GetMetricDataInput_with_AccountId_nil_when_no_AccountId_is_provided (0.00s)
--- PASS: TestTimeSeriesQuery_CrossAccountQuerying/should_call_GetMetricDataInput_with_AccountId_nil_when_feature_flag_is_false (0.00s)
--- PASS: TestTimeSeriesQuery_CrossAccountQuerying/should_call_GetMetricDataInput_with_AccountId_in_a_MetricStat_query (0.00s)
--- PASS: TestTimeSeriesQuery_CrossAccountQuerying/should_GetMetricDataInput_with_AccountId_in_an_inferred_search_expression_query (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch	9.080s
=== RUN   TestMetricsClient
=== RUN   TestMetricsClient/List_Metrics_and_page_limit_is_reached
=== RUN   TestMetricsClient/List_Metrics_and_page_limit_is_not_reached
=== RUN   TestMetricsClient/Should_return_account_id_in_case_IncludeLinkedAccounts_is_set_to_true
=== RUN   TestMetricsClient/Should_not_return_account_id_in_case_IncludeLinkedAccounts_is_set_to_false
--- PASS: TestMetricsClient (0.00s)
--- PASS: TestMetricsClient/List_Metrics_and_page_limit_is_reached (0.00s)
--- PASS: TestMetricsClient/List_Metrics_and_page_limit_is_not_reached (0.00s)
--- PASS: TestMetricsClient/Should_return_account_id_in_case_IncludeLinkedAccounts_is_set_to_true (0.00s)
--- PASS: TestMetricsClient/Should_not_return_account_id_in_case_IncludeLinkedAccounts_is_set_to_false (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch/clients	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/cloudwatch/constants	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/cloudwatch/features	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/cloudwatch/kinds/dataquery	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/cloudwatch/mocks	[no test files]
=== RUN   TestCloudWatchQuery
=== RUN   TestCloudWatchQuery/Deeplink
=== RUN   TestCloudWatchQuery/Deeplink/is_not_generated_for_MetricQueryTypeQuery
=== RUN   TestCloudWatchQuery/Deeplink/includes_label_and_it's_a_metric_stat_query
=== RUN   TestCloudWatchQuery/Deeplink/includes_label_and_it's_a_math_expression_query
=== RUN   TestCloudWatchQuery/Deeplink/includes_account_id_in_case_its_a_metric_stat_query_and_an_account_id_is_set
=== RUN   TestCloudWatchQuery/Deeplink/does_not_include_account_id_in_case_its_not_a_metric_stat_query
=== RUN   TestCloudWatchQuery/SEARCH(someexpression)_was_specified_in_the_query_editor
=== RUN   TestCloudWatchQuery/No_expression,_no_multi_dimension_key_values_and_no_*_was_used
=== RUN   TestCloudWatchQuery/No_expression_but_multi_dimension_key_values_exist
=== RUN   TestCloudWatchQuery/No_expression_but_dimension_values_has_*
=== RUN   TestCloudWatchQuery/Query_has_a_multi-valued_dimension
=== RUN   TestCloudWatchQuery/No_dimensions_were_added
=== RUN   TestCloudWatchQuery/No_dimensions_were_added/Match_exact_is_false
=== RUN   TestCloudWatchQuery/No_dimensions_were_added/Match_exact_is_true
=== RUN   TestCloudWatchQuery/Match_exact_is
--- PASS: TestCloudWatchQuery (0.00s)
--- PASS: TestCloudWatchQuery/Deeplink (0.00s)
--- PASS: TestCloudWatchQuery/Deeplink/is_not_generated_for_MetricQueryTypeQuery (0.00s)
--- PASS: TestCloudWatchQuery/Deeplink/includes_label_and_it's_a_metric_stat_query (0.00s)
--- PASS: TestCloudWatchQuery/Deeplink/includes_label_and_it's_a_math_expression_query (0.00s)
--- PASS: TestCloudWatchQuery/Deeplink/includes_account_id_in_case_its_a_metric_stat_query_and_an_account_id_is_set (0.00s)
--- PASS: TestCloudWatchQuery/Deeplink/does_not_include_account_id_in_case_its_not_a_metric_stat_query (0.00s)
--- PASS: TestCloudWatchQuery/SEARCH(someexpression)_was_specified_in_the_query_editor (0.00s)
--- PASS: TestCloudWatchQuery/No_expression,_no_multi_dimension_key_values_and_no_*_was_used (0.00s)
--- PASS: TestCloudWatchQuery/No_expression_but_multi_dimension_key_values_exist (0.00s)
--- PASS: TestCloudWatchQuery/No_expression_but_dimension_values_has_* (0.00s)
--- PASS: TestCloudWatchQuery/Query_has_a_multi-valued_dimension (0.00s)
--- PASS: TestCloudWatchQuery/No_dimensions_were_added (0.00s)
--- PASS: TestCloudWatchQuery/No_dimensions_were_added/Match_exact_is_false (0.00s)
--- PASS: TestCloudWatchQuery/No_dimensions_were_added/Match_exact_is_true (0.00s)
--- PASS: TestCloudWatchQuery/Match_exact_is (0.00s)
=== RUN   TestRequestParser
=== RUN   TestRequestParser/legacy_statistics_field_is_migrated:_migrates_first_stat_only
=== RUN   TestRequestParser/legacy_statistics_field_is_migrated:_if_no_stat,_uses_Average
=== RUN   TestRequestParser/New_dimensions_structure
=== RUN   TestRequestParser/Old_dimensions_structure_(backwards_compatibility)
=== RUN   TestRequestParser/parseDimensions_returns_error_for_non-string_type_dimension_value
--- PASS: TestRequestParser (0.00s)
--- PASS: TestRequestParser/legacy_statistics_field_is_migrated:_migrates_first_stat_only (0.00s)
--- PASS: TestRequestParser/legacy_statistics_field_is_migrated:_if_no_stat,_uses_Average (0.00s)
--- PASS: TestRequestParser/New_dimensions_structure (0.00s)
--- PASS: TestRequestParser/Old_dimensions_structure_(backwards_compatibility) (0.00s)
--- PASS: TestRequestParser/parseDimensions_returns_error_for_non-string_type_dimension_value (0.00s)
=== RUN   Test_ParseMetricDataQueries_periods
=== RUN   Test_ParseMetricDataQueries_periods/Period_defined_in_the_editor_by_the_user_is_being_used_when_time_range_is_short
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_5_minutes
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_1_day
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_7_days
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_30_days
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_90_days
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_1_year
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_years
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days,_but_16_days_ago
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days,_but_90_days_ago
=== RUN   Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days,_but_456_days_ago
=== RUN   Test_ParseMetricDataQueries_periods/returns_error_if_period_is_invalid_duration
=== RUN   Test_ParseMetricDataQueries_periods/returns_parsed_duration_in_seconds
--- PASS: Test_ParseMetricDataQueries_periods (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_defined_in_the_editor_by_the_user_is_being_used_when_time_range_is_short (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_5_minutes (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_1_day (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_7_days (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_30_days (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_90_days (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_1_year (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_years (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days,_but_16_days_ago (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days,_but_90_days_ago (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/Period_is_parsed_correctly_if_not_defined_by_user/Time_range_is_2_days,_but_456_days_ago (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/returns_error_if_period_is_invalid_duration (0.00s)
--- PASS: Test_ParseMetricDataQueries_periods/returns_parsed_duration_in_seconds (0.00s)
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_no_metric_editor_mode,_no_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_no_metric_editor_mode,_has_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_has_metric_editor_mode,_has_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_has_metric_editor_mode,_no_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/has_metric_query_type,_no_metric_editor_mode,_has_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/has_metric_query_type,_has_metric_editor_mode,_has_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/query_metricQueryType
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/has_metric_query_type,_has_metric_editor_mode,_no_expression
=== RUN   Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_dimensions,_matchExact_is_false
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_no_metric_editor_mode,_no_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_no_metric_editor_mode,_has_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_has_metric_editor_mode,_has_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_metric_query_type,_has_metric_editor_mode,_no_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/has_metric_query_type,_no_metric_editor_mode,_has_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/has_metric_query_type,_has_metric_editor_mode,_has_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/query_metricQueryType (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/has_metric_query_type,_has_metric_editor_mode,_no_expression (0.00s)
--- PASS: Test_ParseMetricDataQueries_query_type_and_metric_editor_mode_and_GMD_query_api_mode/no_dimensions,_matchExact_is_false (0.00s)
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData/default:_when_query_type_timeSeriesQuery,_default_ReturnData_is_true
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_timeSeriesQuery,_and_hide_is_true,_then_ReturnData_is_false
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_timeSeriesQuery,_and_hide_is_false,_then_ReturnData_is_true
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_empty,_and_hide_is_empty,_then_ReturnData_is_true
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_empty,_and_hide_is_false,_then_ReturnData_is_true
=== RUN   Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_empty,_and_hide_is_true,_then_ReturnData_is_true
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData (0.00s)
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData/default:_when_query_type_timeSeriesQuery,_default_ReturnData_is_true (0.00s)
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_timeSeriesQuery,_and_hide_is_true,_then_ReturnData_is_false (0.00s)
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_timeSeriesQuery,_and_hide_is_false,_then_ReturnData_is_true (0.00s)
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_empty,_and_hide_is_empty,_then_ReturnData_is_true (0.00s)
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_empty,_and_hide_is_false,_then_ReturnData_is_true (0.00s)
--- PASS: Test_ParseMetricDataQueries_hide_and_ReturnData/when_query_type_is_empty,_and_hide_is_true,_then_ReturnData_is_true (0.00s)
=== RUN   Test_ParseMetricDataQueries_ID
=== RUN   Test_ParseMetricDataQueries_ID/ID_is_the_string_`query`_appended_with_refId_if_refId_is_a_valid_MetricData_ID
=== RUN   Test_ParseMetricDataQueries_ID/Valid_id_is_generated_if_ID_is_not_provided_and_refId_is_not_a_valid_MetricData_ID
--- PASS: Test_ParseMetricDataQueries_ID (0.00s)
--- PASS: Test_ParseMetricDataQueries_ID/ID_is_the_string_`query`_appended_with_refId_if_refId_is_a_valid_MetricData_ID (0.00s)
--- PASS: Test_ParseMetricDataQueries_ID/Valid_id_is_generated_if_ID_is_not_provided_and_refId_is_not_a_valid_MetricData_ID (0.00s)
=== RUN   Test_ParseMetricDataQueries_sets_label_when_label_is_present_in_json_query
--- PASS: Test_ParseMetricDataQueries_sets_label_when_label_is_present_in_json_query (0.00s)
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_region
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_stat
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_unknown_alias_pattern_becomes_dimension
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern_with_spaces
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/empty_alias_still_migrates_to_empty_label
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_metric
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_namespace
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_period
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_label
=== RUN   Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/multiple_alias_patterns
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_region (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_stat (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_unknown_alias_pattern_becomes_dimension (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern_with_spaces (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/empty_alias_still_migrates_to_empty_label (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_metric (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_namespace (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_period (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/one_known_alias_pattern:_label (0.00s)
--- PASS: Test_migrateAliasToDynamicLabel_single_query_preserves_old_alias_and_creates_new_label/multiple_alias_patterns (0.00s)
=== RUN   Test_ParseMetricDataQueries_migrate_alias_to_label
=== RUN   Test_ParseMetricDataQueries_migrate_alias_to_label/migrates_alias_to_label_when_label_does_not_already_exist
=== RUN   Test_ParseMetricDataQueries_migrate_alias_to_label/successfully_migrates_alias_to_dynamic_label_for_multiple_queries
=== RUN   Test_ParseMetricDataQueries_migrate_alias_to_label/does_not_migrate_alias_to_label
=== RUN   Test_ParseMetricDataQueries_migrate_alias_to_label/does_not_migrate_alias_to_label/when_label_already_exists
--- PASS: Test_ParseMetricDataQueries_migrate_alias_to_label (0.00s)
--- PASS: Test_ParseMetricDataQueries_migrate_alias_to_label/migrates_alias_to_label_when_label_does_not_already_exist (0.00s)
--- PASS: Test_ParseMetricDataQueries_migrate_alias_to_label/successfully_migrates_alias_to_dynamic_label_for_multiple_queries (0.00s)
--- PASS: Test_ParseMetricDataQueries_migrate_alias_to_label/does_not_migrate_alias_to_label (0.00s)
--- PASS: Test_ParseMetricDataQueries_migrate_alias_to_label/does_not_migrate_alias_to_label/when_label_already_exists (0.00s)
=== RUN   Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization
=== RUN   Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/requires_statistics_or_statistic_field
=== RUN   Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/ignores_query_types_which_are_not_timeSeriesQuery
=== RUN   Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/accepts_empty_query_type
=== RUN   Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/sets_MatchExact_nil_to_MatchExact_true
=== RUN   Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/sets_MatchExact
--- PASS: Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization (0.00s)
--- PASS: Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/requires_statistics_or_statistic_field (0.00s)
--- PASS: Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/ignores_query_types_which_are_not_timeSeriesQuery (0.00s)
--- PASS: Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/accepts_empty_query_type (0.00s)
--- PASS: Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/sets_MatchExact_nil_to_MatchExact_true (0.00s)
--- PASS: Test_ParseMetricDataQueries_statistics_and_query_type_validation_and_MatchExact_initialization/sets_MatchExact (0.00s)
=== RUN   Test_ParseMetricDataQueries_account_Id
=== RUN   Test_ParseMetricDataQueries_account_Id/account_is_set_when_cross_account_querying_enabled
=== RUN   Test_ParseMetricDataQueries_account_Id/account_is_not_set_when_cross_account_querying_disabled
--- PASS: Test_ParseMetricDataQueries_account_Id (0.00s)
--- PASS: Test_ParseMetricDataQueries_account_Id/account_is_set_when_cross_account_querying_enabled (0.00s)
--- PASS: Test_ParseMetricDataQueries_account_Id/account_is_not_set_when_cross_account_querying_disabled (0.00s)
=== RUN   Test_ParseMetricDataQueries_default_region
=== RUN   Test_ParseMetricDataQueries_default_region/default_region_is_used_when_when_region_not_set
--- PASS: Test_ParseMetricDataQueries_default_region (0.00s)
--- PASS: Test_ParseMetricDataQueries_default_region/default_region_is_used_when_when_region_not_set (0.00s)
=== RUN   Test_ParseMetricDataQueries_ApplyMacros
=== RUN   Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used
=== RUN   Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used/should_expand_$__period_auto_macro_to_60_when_a_metric_search_code_query_is_used
=== RUN   Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used/should_expand_$__period_auto_macro_to_300_when_a_metric_search_code_query_is_used
=== RUN   Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used/should_expand_$__period_auto_macro_to_3600_when_a_metric_search_code_query_is_used
=== RUN   Test_ParseMetricDataQueries_ApplyMacros/should_not_expand___period_auto_macro_if_it's_a_metric_query_code_query
--- PASS: Test_ParseMetricDataQueries_ApplyMacros (0.00s)
--- PASS: Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used (0.00s)
--- PASS: Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used/should_expand_$__period_auto_macro_to_60_when_a_metric_search_code_query_is_used (0.00s)
--- PASS: Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used/should_expand_$__period_auto_macro_to_300_when_a_metric_search_code_query_is_used (0.00s)
--- PASS: Test_ParseMetricDataQueries_ApplyMacros/should_expand_$__period_auto_macro_when_a_metric_search_code_query_is_used/should_expand_$__period_auto_macro_to_3600_when_a_metric_search_code_query_is_used (0.00s)
--- PASS: Test_ParseMetricDataQueries_ApplyMacros/should_not_expand___period_auto_macro_if_it's_a_metric_query_code_query (0.00s)
=== RUN   TestGetEndpoint
=== RUN   TestGetEndpoint/should_create_correct_endpoint_for_{us-east-1_us-east-1.console.aws.amazon.com}
=== RUN   TestGetEndpoint/should_create_correct_endpoint_for_{us-gov-east-1_us-gov-east-1.console.amazonaws-us-gov.com}
=== RUN   TestGetEndpoint/should_create_correct_endpoint_for_{cn-northwest-1_cn-northwest-1.console.amazonaws.cn}
--- PASS: TestGetEndpoint (0.00s)
--- PASS: TestGetEndpoint/should_create_correct_endpoint_for_{us-east-1_us-east-1.console.aws.amazon.com} (0.00s)
--- PASS: TestGetEndpoint/should_create_correct_endpoint_for_{us-gov-east-1_us-gov-east-1.console.amazonaws-us-gov.com} (0.00s)
--- PASS: TestGetEndpoint/should_create_correct_endpoint_for_{cn-northwest-1_cn-northwest-1.console.amazonaws.cn} (0.00s)
=== RUN   Test_Settings_LoadCloudWatchSettings
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_return_error_for_invalid_json
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_parse_keys_query_type
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_handle_legacy_auth_type_arn_as_default
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_set_logsTimeout_to_default_duration_if_it_is_not_defined
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_set_logsTimeout_to_default_duration_if_it_is_empty_string
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_correctly_parse_logsTimeout_duration_string
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_correctly_parse_logsTimeout_string_with_float_number
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_correctly_parse_logsTimeout_duration_in_nanoseconds
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_throw_error_if_logsTimeout_is_an_invalid_duration_format
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_throw_error_if_logsTimeout_is_an_invalid_type
=== RUN   Test_Settings_LoadCloudWatchSettings/Should_load_settings_from_context
--- PASS: Test_Settings_LoadCloudWatchSettings (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_return_error_for_invalid_json (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_parse_keys_query_type (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_handle_legacy_auth_type_arn_as_default (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_set_logsTimeout_to_default_duration_if_it_is_not_defined (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_set_logsTimeout_to_default_duration_if_it_is_empty_string (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_correctly_parse_logsTimeout_duration_string (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_correctly_parse_logsTimeout_string_with_float_number (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_correctly_parse_logsTimeout_duration_in_nanoseconds (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_throw_error_if_logsTimeout_is_an_invalid_duration_format (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_throw_error_if_logsTimeout_is_an_invalid_type (0.00s)
--- PASS: Test_Settings_LoadCloudWatchSettings/Should_load_settings_from_context (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch/models	(cached)
=== RUN   TestDimensionKeyRequest
=== RUN   TestDimensionKeyRequest/Should_parse_parameters_without_dimension_filter
=== RUN   TestDimensionKeyRequest/Should_parse_parameters_with_single_valued_dimension_filter
=== RUN   TestDimensionKeyRequest/Should_parse_parameters_with_multi-valued_dimension_filter
=== RUN   TestDimensionKeyRequest/Should_parse_parameters_with_wildcard_dimension_filter
=== RUN   TestDimensionKeyRequest/With_custom_namespace_it_should_resolve_to_FilterDimensionKeysRequest
=== RUN   TestDimensionKeyRequest/With_dimension_filter_it_should_resolve_to_FilterDimensionKeysRequest
=== RUN   TestDimensionKeyRequest/With_dimension_filter_and_without_custom_namespace_it_should_resolve_to_StandardDimensionKeysRequest
--- PASS: TestDimensionKeyRequest (0.00s)
--- PASS: TestDimensionKeyRequest/Should_parse_parameters_without_dimension_filter (0.00s)
--- PASS: TestDimensionKeyRequest/Should_parse_parameters_with_single_valued_dimension_filter (0.00s)
--- PASS: TestDimensionKeyRequest/Should_parse_parameters_with_multi-valued_dimension_filter (0.00s)
--- PASS: TestDimensionKeyRequest/Should_parse_parameters_with_wildcard_dimension_filter (0.00s)
--- PASS: TestDimensionKeyRequest/With_custom_namespace_it_should_resolve_to_FilterDimensionKeysRequest (0.00s)
--- PASS: TestDimensionKeyRequest/With_dimension_filter_it_should_resolve_to_FilterDimensionKeysRequest (0.00s)
--- PASS: TestDimensionKeyRequest/With_dimension_filter_and_without_custom_namespace_it_should_resolve_to_StandardDimensionKeysRequest (0.00s)
=== RUN   TestDimensionValuesRequest
=== RUN   TestDimensionValuesRequest/Should_parse_parameters_without_dimension_filter
=== RUN   TestDimensionValuesRequest/Should_parse_parameters_with_single_valued_dimension_filter
=== RUN   TestDimensionValuesRequest/Should_parse_parameters_with_multi-valued_dimension_filter
=== RUN   TestDimensionValuesRequest/Should_parse_parameters_with_wildcard_dimension_filter
--- PASS: TestDimensionValuesRequest (0.00s)
--- PASS: TestDimensionValuesRequest/Should_parse_parameters_without_dimension_filter (0.00s)
--- PASS: TestDimensionValuesRequest/Should_parse_parameters_with_single_valued_dimension_filter (0.00s)
--- PASS: TestDimensionValuesRequest/Should_parse_parameters_with_multi-valued_dimension_filter (0.00s)
--- PASS: TestDimensionValuesRequest/Should_parse_parameters_with_wildcard_dimension_filter (0.00s)
=== RUN   TestLogGroupFieldsRequest
=== RUN   TestLogGroupFieldsRequest/Should_parse_valid_parameters
=== RUN   TestLogGroupFieldsRequest/Should_return_an_error_if_arn_and_name_is_missing_
--- PASS: TestLogGroupFieldsRequest (0.00s)
--- PASS: TestLogGroupFieldsRequest/Should_parse_valid_parameters (0.00s)
--- PASS: TestLogGroupFieldsRequest/Should_return_an_error_if_arn_and_name_is_missing_ (0.00s)
=== RUN   TestMetricsRequest
=== RUN   TestMetricsRequest/Should_parse_parameters
=== RUN   TestMetricsRequest/Should_resolve_the_correct_type
=== RUN   TestMetricsRequest/Should_resolve_the_correct_type#01
=== RUN   TestMetricsRequest/Should_resolve_the_correct_type#02
=== RUN   TestMetricsRequest/Should_resolve_the_correct_type#03
--- PASS: TestMetricsRequest (0.00s)
--- PASS: TestMetricsRequest/Should_parse_parameters (0.00s)
--- PASS: TestMetricsRequest/Should_resolve_the_correct_type (0.00s)
--- PASS: TestMetricsRequest/Should_resolve_the_correct_type#01 (0.00s)
--- PASS: TestMetricsRequest/Should_resolve_the_correct_type#02 (0.00s)
--- PASS: TestMetricsRequest/Should_resolve_the_correct_type#03 (0.00s)
=== RUN   TestResourceRequest
=== RUN   TestResourceRequest/Should_return_an_error_if_region_is_not_provided
--- PASS: TestResourceRequest (0.00s)
--- PASS: TestResourceRequest/Should_return_an_error_if_region_is_not_provided (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch/models/resources	(cached)
=== RUN   Test_accounts_route
=== RUN   Test_accounts_route/successfully_returns_array_of_accounts_json
=== RUN   Test_accounts_route/rejects_POST_method
=== RUN   Test_accounts_route/requires_region_query_value
=== RUN   Test_accounts_route/returns_403_when_accounts_service_returns_ErrAccessDeniedException
=== RUN   Test_accounts_route/returns_500_when_accounts_service_returns_unknown_error
--- PASS: Test_accounts_route (0.00s)
--- PASS: Test_accounts_route/successfully_returns_array_of_accounts_json (0.00s)
--- PASS: Test_accounts_route/rejects_POST_method (0.00s)
--- PASS: Test_accounts_route/requires_region_query_value (0.00s)
--- PASS: Test_accounts_route/returns_403_when_accounts_service_returns_ErrAccessDeniedException (0.00s)
--- PASS: Test_accounts_route/returns_500_when_accounts_service_returns_unknown_error (0.00s)
=== RUN   Test_DimensionKeys_Route
=== RUN   Test_DimensionKeys_Route/calls_FilterDimensionKeysRequest_when_a_StandardDimensionKeysRequest_is_passed
=== RUN   Test_DimensionKeys_Route/calls_GetHardCodedDimensionKeysByNamespace_when_a_StandardDimensionKeysRequest_is_passed
=== RUN   Test_DimensionKeys_Route/return_500_if_GetDimensionKeysByDimensionFilter_returns_an_error
--- PASS: Test_DimensionKeys_Route (0.00s)
--- PASS: Test_DimensionKeys_Route/calls_FilterDimensionKeysRequest_when_a_StandardDimensionKeysRequest_is_passed (0.00s)
--- PASS: Test_DimensionKeys_Route/calls_GetHardCodedDimensionKeysByNamespace_when_a_StandardDimensionKeysRequest_is_passed (0.00s)
--- PASS: Test_DimensionKeys_Route/return_500_if_GetDimensionKeysByDimensionFilter_returns_an_error (0.00s)
=== RUN   Test_DimensionValues_Route
=== RUN   Test_DimensionValues_Route/Calls_GetDimensionValuesByDimensionFilter_when_a_valid_request_is_passed
=== RUN   Test_DimensionValues_Route/returns_500_if_GetDimensionValuesByDimensionFilter_returns_an_error
--- PASS: Test_DimensionValues_Route (0.00s)
--- PASS: Test_DimensionValues_Route/Calls_GetDimensionValuesByDimensionFilter_when_a_valid_request_is_passed (0.00s)
--- PASS: Test_DimensionValues_Route/returns_500_if_GetDimensionValuesByDimensionFilter_returns_an_error (0.00s)
=== RUN   Test_external_id_route
=== RUN   Test_external_id_route/successfully_returns_an_external_id_from_the_instance
=== RUN   Test_external_id_route/returns_an_empty_string_if_there_is_no_external_id
--- PASS: Test_external_id_route (0.00s)
--- PASS: Test_external_id_route/successfully_returns_an_external_id_from_the_instance (0.00s)
--- PASS: Test_external_id_route/returns_an_empty_string_if_there_is_no_external_id (0.00s)
=== RUN   TestLogGroupFieldsRoute
=== RUN   TestLogGroupFieldsRoute/returns_400_if_an_invalid_LogGroupFieldsRequest_is_used
=== RUN   TestLogGroupFieldsRoute/returns_500_if_GetLogGroupFields_method_fails
=== RUN   TestLogGroupFieldsRoute/returns_valid_json_response_if_everything_is_ok
--- PASS: TestLogGroupFieldsRoute (0.00s)
--- PASS: TestLogGroupFieldsRoute/returns_400_if_an_invalid_LogGroupFieldsRequest_is_used (0.00s)
--- PASS: TestLogGroupFieldsRoute/returns_500_if_GetLogGroupFields_method_fails (0.00s)
--- PASS: TestLogGroupFieldsRoute/returns_valid_json_response_if_everything_is_ok (0.00s)
=== RUN   TestLogGroupsRoute
=== RUN   TestLogGroupsRoute/successfully_returns_1_log_group_with_account_id
=== RUN   TestLogGroupsRoute/successfully_returns_multiple_log_groups_with_account_id
=== RUN   TestLogGroupsRoute/returns_error_when_both_logGroupPrefix_and_logGroup_Pattern_are_provided
=== RUN   TestLogGroupsRoute/passes_default_log_group_limit_and_nil_for_logGroupNamePrefix,_accountId,_and_logGroupPattern
=== RUN   TestLogGroupsRoute/passes_default_log_group_limit_and_nil_for_logGroupNamePrefix_when_both_are_absent
=== RUN   TestLogGroupsRoute/passes_log_group_limit_from_query_parameter
=== RUN   TestLogGroupsRoute/passes_logGroupPrefix_from_query_parameter
=== RUN   TestLogGroupsRoute/passes_logGroupPattern_from_query_parameter
=== RUN   TestLogGroupsRoute/passes_logGroupPattern_from_query_parameter#01
=== RUN   TestLogGroupsRoute/returns_error_if_service_returns_error
--- PASS: TestLogGroupsRoute (0.00s)
--- PASS: TestLogGroupsRoute/successfully_returns_1_log_group_with_account_id (0.00s)
--- PASS: TestLogGroupsRoute/successfully_returns_multiple_log_groups_with_account_id (0.00s)
--- PASS: TestLogGroupsRoute/returns_error_when_both_logGroupPrefix_and_logGroup_Pattern_are_provided (0.00s)
--- PASS: TestLogGroupsRoute/passes_default_log_group_limit_and_nil_for_logGroupNamePrefix,_accountId,_and_logGroupPattern (0.00s)
--- PASS: TestLogGroupsRoute/passes_default_log_group_limit_and_nil_for_logGroupNamePrefix_when_both_are_absent (0.00s)
--- PASS: TestLogGroupsRoute/passes_log_group_limit_from_query_parameter (0.00s)
--- PASS: TestLogGroupsRoute/passes_logGroupPrefix_from_query_parameter (0.00s)
--- PASS: TestLogGroupsRoute/passes_logGroupPattern_from_query_parameter (0.00s)
--- PASS: TestLogGroupsRoute/passes_logGroupPattern_from_query_parameter#01 (0.00s)
--- PASS: TestLogGroupsRoute/returns_error_if_service_returns_error (0.00s)
=== RUN   Test_Metrics_Route
=== RUN   Test_Metrics_Route/calls_GetMetricsByNamespace_when_a_CustomNamespaceRequestType_is_passed
=== RUN   Test_Metrics_Route/calls_GetAllHardCodedMetrics_when_a_AllMetricsRequestType_is_passed
=== RUN   Test_Metrics_Route/calls_GetHardCodedMetricsByNamespace_when_a_MetricsByNamespaceRequestType_is_passed
=== RUN   Test_Metrics_Route/returns_500_if_GetMetricsByNamespace_returns_an_error
--- PASS: Test_Metrics_Route (0.00s)
--- PASS: Test_Metrics_Route/calls_GetMetricsByNamespace_when_a_CustomNamespaceRequestType_is_passed (0.00s)
--- PASS: Test_Metrics_Route/calls_GetAllHardCodedMetrics_when_a_AllMetricsRequestType_is_passed (0.00s)
--- PASS: Test_Metrics_Route/calls_GetHardCodedMetricsByNamespace_when_a_MetricsByNamespaceRequestType_is_passed (0.00s)
--- PASS: Test_Metrics_Route/returns_500_if_GetMetricsByNamespace_returns_an_error (0.00s)
=== RUN   Test_Middleware
=== RUN   Test_Middleware/rejects_POST_method
=== RUN   Test_Middleware/injects_plugincontext_to_handler
=== RUN   Test_Middleware/should_propagate_handler_error_to_response
--- PASS: Test_Middleware (0.00s)
--- PASS: Test_Middleware/rejects_POST_method (0.00s)
--- PASS: Test_Middleware/injects_plugincontext_to_handler (0.00s)
--- PASS: Test_Middleware/should_propagate_handler_error_to_response (0.00s)
=== RUN   Test_Namespaces_Route
=== RUN   Test_Namespaces_Route/calls_GetHardCodedNamespaces
=== RUN   Test_Namespaces_Route/returns_merges_hardcoded_namespaces_and_custom_namespaces
=== RUN   Test_Namespaces_Route/sorts_result
--- PASS: Test_Namespaces_Route (0.00s)
--- PASS: Test_Namespaces_Route/calls_GetHardCodedNamespaces (0.00s)
--- PASS: Test_Namespaces_Route/returns_merges_hardcoded_namespaces_and_custom_namespaces (0.00s)
--- PASS: Test_Namespaces_Route/sorts_result (0.00s)
=== RUN   TestRegionsRoute
=== RUN   TestRegionsRoute/returns_200_and_regions
=== RUN   TestRegionsRoute/returns_400_when_the_service_returns_a_missing_region_error
=== RUN   TestRegionsRoute/returns_500_when_the_service_returns_an_unexpected_error
=== RUN   TestRegionsRoute/returns_500_when_get_regions_returns_an_error
--- PASS: TestRegionsRoute (0.00s)
--- PASS: TestRegionsRoute/returns_200_and_regions (0.00s)
--- PASS: TestRegionsRoute/returns_400_when_the_service_returns_a_missing_region_error (0.00s)
--- PASS: TestRegionsRoute/returns_500_when_the_service_returns_an_unexpected_error (0.00s)
--- PASS: TestRegionsRoute/returns_500_when_get_regions_returns_an_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch/routes	(cached)
=== RUN   TestHandleGetAccounts
=== RUN   TestHandleGetAccounts/Should_return_an_error_in_case_of_insufficient_permissions_from_ListSinks
=== RUN   TestHandleGetAccounts/Should_return_an_error_in_case_of_any_error_from_ListSinks
=== RUN   TestHandleGetAccounts/Should_return_empty_array_in_case_no_monitoring_account_exists
=== RUN   TestHandleGetAccounts/Should_return_one_monitoring_account_(the_first)_even_though_ListSinks_returns_multiple_sinks
=== RUN   TestHandleGetAccounts/Should_merge_the_first_sink_with_attached_links
=== RUN   TestHandleGetAccounts/Should_call_ListAttachedLinks_with_arn_of_first_sink
=== RUN   TestHandleGetAccounts/Should_return_an_error_in_case_of_any_error_from_ListAttachedLinks
--- PASS: TestHandleGetAccounts (0.00s)
--- PASS: TestHandleGetAccounts/Should_return_an_error_in_case_of_insufficient_permissions_from_ListSinks (0.00s)
--- PASS: TestHandleGetAccounts/Should_return_an_error_in_case_of_any_error_from_ListSinks (0.00s)
--- PASS: TestHandleGetAccounts/Should_return_empty_array_in_case_no_monitoring_account_exists (0.00s)
--- PASS: TestHandleGetAccounts/Should_return_one_monitoring_account_(the_first)_even_though_ListSinks_returns_multiple_sinks (0.00s)
--- PASS: TestHandleGetAccounts/Should_merge_the_first_sink_with_attached_links (0.00s)
--- PASS: TestHandleGetAccounts/Should_call_ListAttachedLinks_with_arn_of_first_sink (0.00s)
--- PASS: TestHandleGetAccounts/Should_return_an_error_in_case_of_any_error_from_ListAttachedLinks (0.00s)
=== RUN   TestHardcodedMetrics_GetHardCodedDimensionKeysByNamespace
=== RUN   TestHardcodedMetrics_GetHardCodedDimensionKeysByNamespace/Should_return_an_error_in_case_namespace_doesnt_exist_in_map
=== RUN   TestHardcodedMetrics_GetHardCodedDimensionKeysByNamespace/Should_return_keys_if_namespace_exist
--- PASS: TestHardcodedMetrics_GetHardCodedDimensionKeysByNamespace (0.00s)
--- PASS: TestHardcodedMetrics_GetHardCodedDimensionKeysByNamespace/Should_return_an_error_in_case_namespace_doesnt_exist_in_map (0.00s)
--- PASS: TestHardcodedMetrics_GetHardCodedDimensionKeysByNamespace/Should_return_keys_if_namespace_exist (0.00s)
=== RUN   TestHardcodedMetrics_GetHardCodedMetricsByNamespace
=== RUN   TestHardcodedMetrics_GetHardCodedMetricsByNamespace/Should_return_an_error_in_case_namespace_doesnt_exist_in_map
=== RUN   TestHardcodedMetrics_GetHardCodedMetricsByNamespace/Should_return_metrics_if_namespace_exist
--- PASS: TestHardcodedMetrics_GetHardCodedMetricsByNamespace (0.00s)
--- PASS: TestHardcodedMetrics_GetHardCodedMetricsByNamespace/Should_return_an_error_in_case_namespace_doesnt_exist_in_map (0.00s)
--- PASS: TestHardcodedMetrics_GetHardCodedMetricsByNamespace/Should_return_metrics_if_namespace_exist (0.00s)
=== RUN   TestListMetricsService_GetDimensionKeysByDimensionFilter
=== RUN   TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_filter_out_duplicates_and_keys_matching_dimension_filter_keys
=== RUN   TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_it_cross_account_is_defined_on_the_request
=== RUN   TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_single_account_is_defined_on_the_request
=== RUN   TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_not_set_namespace_and_metricName_on_list_metric_input_if_empty_strings_are_set_for_these_in_the_request
--- PASS: TestListMetricsService_GetDimensionKeysByDimensionFilter (0.00s)
--- PASS: TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_filter_out_duplicates_and_keys_matching_dimension_filter_keys (0.00s)
--- PASS: TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_it_cross_account_is_defined_on_the_request (0.00s)
--- PASS: TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_single_account_is_defined_on_the_request (0.00s)
--- PASS: TestListMetricsService_GetDimensionKeysByDimensionFilter/Should_not_set_namespace_and_metricName_on_list_metric_input_if_empty_strings_are_set_for_these_in_the_request (0.00s)
=== RUN   TestListMetricsService_GetDimensionValuesByDimensionFilter
=== RUN   TestListMetricsService_GetDimensionValuesByDimensionFilter/Should_filter_out_duplicates_and_keys_matching_dimension_filter_keys
=== RUN   TestListMetricsService_GetDimensionValuesByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_it_cross_account_is_defined_on_the_request
=== RUN   TestListMetricsService_GetDimensionValuesByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_single_account_is_defined_on_the_request
--- PASS: TestListMetricsService_GetDimensionValuesByDimensionFilter (0.00s)
--- PASS: TestListMetricsService_GetDimensionValuesByDimensionFilter/Should_filter_out_duplicates_and_keys_matching_dimension_filter_keys (0.00s)
--- PASS: TestListMetricsService_GetDimensionValuesByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_it_cross_account_is_defined_on_the_request (0.00s)
--- PASS: TestListMetricsService_GetDimensionValuesByDimensionFilter/Should_set_account_correctly_on_list_metric_input_if_single_account_is_defined_on_the_request (0.00s)
=== RUN   TestGetLogGroups
=== RUN   TestGetLogGroups/Should_map_log_groups_response
=== RUN   TestGetLogGroups/Should_return_an_empty_error_if_api_doesn't_return_any_data
=== RUN   TestGetLogGroups/Should_only_use_LogGroupNamePrefix_even_if_LogGroupNamePattern_passed_in_resource_call
=== RUN   TestGetLogGroups/Should_call_api_without_LogGroupNamePrefix_nor_LogGroupNamePattern_if_not_passed_in_resource_call
=== RUN   TestGetLogGroups/Should_return_an_error_when_API_returns_error
=== RUN   TestGetLogGroups/Should_only_call_the_api_once_in_case_ListAllLogGroups_is_set_to_false
=== RUN   TestGetLogGroups/Should_keep_on_calling_the_api_until_NextToken_is_empty_in_case_ListAllLogGroups_is_set_to_true
--- PASS: TestGetLogGroups (0.00s)
--- PASS: TestGetLogGroups/Should_map_log_groups_response (0.00s)
--- PASS: TestGetLogGroups/Should_return_an_empty_error_if_api_doesn't_return_any_data (0.00s)
--- PASS: TestGetLogGroups/Should_only_use_LogGroupNamePrefix_even_if_LogGroupNamePattern_passed_in_resource_call (0.00s)
--- PASS: TestGetLogGroups/Should_call_api_without_LogGroupNamePrefix_nor_LogGroupNamePattern_if_not_passed_in_resource_call (0.00s)
--- PASS: TestGetLogGroups/Should_return_an_error_when_API_returns_error (0.00s)
--- PASS: TestGetLogGroups/Should_only_call_the_api_once_in_case_ListAllLogGroups_is_set_to_false (0.00s)
--- PASS: TestGetLogGroups/Should_keep_on_calling_the_api_until_NextToken_is_empty_in_case_ListAllLogGroups_is_set_to_true (0.00s)
=== RUN   TestGetLogGroupsCrossAccountQuerying
=== RUN   TestGetLogGroupsCrossAccountQuerying/Should_not_includeLinkedAccounts_or_accountId_if_isCrossAccountEnabled_is_set_to_false
=== RUN   TestGetLogGroupsCrossAccountQuerying/Should_replace_LogGroupNamePrefix_if_LogGroupNamePattern_passed_in_resource_call
=== RUN   TestGetLogGroupsCrossAccountQuerying/Should_includeLinkedAccounts,and_accountId_if_isCrossAccountEnabled_is_set_to_true
=== RUN   TestGetLogGroupsCrossAccountQuerying/Should_should_not_override_prefix_is_there_is_no_logGroupNamePattern
=== RUN   TestGetLogGroupsCrossAccountQuerying/Should_not_includeLinkedAccounts,_or_accountId_if_accountId_is_nil
=== RUN   TestGetLogGroupsCrossAccountQuerying/Should_should_not_override_prefix_is_there_is_no_logGroupNamePattern#01
--- PASS: TestGetLogGroupsCrossAccountQuerying (0.00s)
--- PASS: TestGetLogGroupsCrossAccountQuerying/Should_not_includeLinkedAccounts_or_accountId_if_isCrossAccountEnabled_is_set_to_false (0.00s)
--- PASS: TestGetLogGroupsCrossAccountQuerying/Should_replace_LogGroupNamePrefix_if_LogGroupNamePattern_passed_in_resource_call (0.00s)
--- PASS: TestGetLogGroupsCrossAccountQuerying/Should_includeLinkedAccounts,and_accountId_if_isCrossAccountEnabled_is_set_to_true (0.00s)
--- PASS: TestGetLogGroupsCrossAccountQuerying/Should_should_not_override_prefix_is_there_is_no_logGroupNamePattern (0.00s)
--- PASS: TestGetLogGroupsCrossAccountQuerying/Should_not_includeLinkedAccounts,_or_accountId_if_accountId_is_nil (0.00s)
--- PASS: TestGetLogGroupsCrossAccountQuerying/Should_should_not_override_prefix_is_there_is_no_logGroupNamePattern#01 (0.00s)
=== RUN   TestGetLogGroupFields
=== RUN   TestGetLogGroupFields/Should_map_log_group_fields_response
=== RUN   TestGetLogGroupFields/Should_only_set_LogGroupName_as_api_input_in_case_both_LogGroupName_and_LogGroupARN_are_specified
=== RUN   TestGetLogGroupFields/Should_only_set_LogGroupName_as_api_input_in_case_only_LogGroupName_is_specified
--- PASS: TestGetLogGroupFields (0.00s)
--- PASS: TestGetLogGroupFields/Should_map_log_group_fields_response (0.00s)
--- PASS: TestGetLogGroupFields/Should_only_set_LogGroupName_as_api_input_in_case_both_LogGroupName_and_LogGroupARN_are_specified (0.00s)
--- PASS: TestGetLogGroupFields/Should_only_set_LogGroupName_as_api_input_in_case_only_LogGroupName_is_specified (0.00s)
=== RUN   TestRegions
=== RUN   TestRegions/returns_regions_from_the_api_and_merges_them_with_default_regions
=== RUN   TestRegions/always_returns_default_regions,_even_if_fetch_fails
{"@level":"error","@message":"Failed to get regions: ","@timestamp":"2025-04-14T09:14:44.012233Z","error":"assert.AnError general error for testing","logger":"test.logger"}
--- PASS: TestRegions (0.00s)
--- PASS: TestRegions/returns_regions_from_the_api_and_merges_them_with_default_regions (0.00s)
--- PASS: TestRegions/always_returns_default_regions,_even_if_fetch_fails (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch/services	(cached)
=== RUN   TestBatchDataQueriesByTimeRange
--- PASS: TestBatchDataQueriesByTimeRange (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/cloudwatch/utils	(cached)
=== RUN   TestExecuteElasticsearchDataQuery
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_defaults
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.595946Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596048Z","duration":102601,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/Should_clean_settings_from_null_values_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596142Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596183Z","duration":41368,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_multiple_bucket_aggs
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596239Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596275Z","duration":36038,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_select_field
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596329Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596359Z","duration":30076,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_term_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596411Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596465Z","duration":54162,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_metric_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596513Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596587Z","duration":73277,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_count_metric_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596642Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596699Z","duration":56767,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_count_agg_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596746Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596790Z","duration":44353,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_percentiles_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596838Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596893Z","duration":55253,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_extended_stats_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.596949Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.596994Z","duration":45164,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_term
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597071Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597117Z","duration":46207,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_valid_min_doc_count_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597163Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597203Z","duration":40446,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_metric_percentiles
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597268Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597302Z","duration":34044,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_filters_aggs
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597374Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597414Z","duration":39695,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_filters_aggs_and_empty_label_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597474Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597524Z","duration":49903,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_document_metric_size
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597596Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597627Z","duration":30928,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_document_metric_query_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597677Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597704Z","duration":26890,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_data_metric_query_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597771Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597799Z","duration":27843,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_document_metric_size_set
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597870Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597895Z","duration":24807,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597928Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.597956Z","duration":28152,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg/Should_not_include_time_zone_if_not_present_in_the_query_model_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.597997Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598048Z","duration":51235,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg/Should_not_include_time_zone_when_timeZone_is_utc
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598087Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598114Z","duration":27742,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg/Should_include_time_zone_when_timeZone_is_not_utc
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598148Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598177Z","duration":28484,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598219Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598250Z","duration":31279,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_agg_with_decimal_interval
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598291Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598319Z","duration":28884,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_agg_with_invalid_interval
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598361Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598423Z","duration":62286,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598461Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598491Z","duration":30407,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_geo_hash_grid_agg
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598531Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598557Z","duration":25929,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_geo_hash_grid_agg_with_invalid_int_precision
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598593Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598620Z","duration":27131,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_geo_hash_grid_agg_with_no_precision
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598659Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598684Z","duration":25849,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598720Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598753Z","duration":32581,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598797Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598832Z","duration":35377,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average_doc_count_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598879Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598910Z","duration":30968,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average_doc_count
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.598947Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.598976Z","duration":29566,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_broken_moving_average_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599054Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599100Z","duration":45845,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_broken_moving_average
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599152Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599191Z","duration":39263,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_top_metrics_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599241Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599271Z","duration":30618,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_cumulative_sum
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599341Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599375Z","duration":33973,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_cumulative_sum_doc_count
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599421Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599451Z","duration":30046,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_broken_cumulative_sum
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599498Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599541Z","duration":43512,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_derivative
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599613Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599651Z","duration":38091,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_derivative_doc_count
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599720Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599757Z","duration":36959,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_derivative_doc_count_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599820Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599854Z","duration":33963,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_serial_diff
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.599909Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.599959Z","duration":49252,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_serial_diff_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600031Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600072Z","duration":40806,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_serial_diff_doc_count
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600120Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600150Z","duration":30447,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600197Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600246Z","duration":48601,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600301Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600342Z","duration":40816,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script_doc_count
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600381Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600413Z","duration":32401,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script_doc_count_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600449Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600479Z","duration":30197,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_lucene_query_should_add_query_string_filter_when_query_is_not_empty_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600512Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600532Z","duration":20338,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_lucene_query_should_add_query_string_filter_when_query_is_not_empty_(from_frontend_tests)#01
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600570Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600591Z","duration":20959,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_query_should_return_query_with_defaults_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600622Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600646Z","duration":24085,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_query_with_limit_should_return_query_with_correct_size
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600718Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600752Z","duration":34003,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_query_should_return_highlight_properties
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600812Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600845Z","duration":34044,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_context_query_with_sortDirection_and_searchAfter_should_return_correct_query
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.600904Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.600941Z","duration":36949,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_invalid_query_should_return_error
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601042Z","queriesLength":1}
{"@level":"error","@message":"Failed to parse queries","@timestamp":"2025-04-15T08:39:27.601120Z","duration":77635,"error":"invalid character '}' looking for beginning of object key string","queries":"","queriesLength":0,"stage":"prepareRequest"}
--- PASS: TestExecuteElasticsearchDataQuery (0.01s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query (0.01s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_defaults (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/Should_clean_settings_from_null_values_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_multiple_bucket_aggs (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_select_field (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_term_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_metric_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_count_metric_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_count_agg_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_percentiles_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_extended_stats_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_order_by_term (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_term_agg_and_valid_min_doc_count_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_metric_percentiles (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_filters_aggs (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_filters_aggs_and_empty_label_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_document_metric_size (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_document_metric_query_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_data_metric_query_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_raw_document_metric_size_set (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg/Should_not_include_time_zone_if_not_present_in_the_query_model_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg/Should_not_include_time_zone_when_timeZone_is_utc (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_date_histogram_agg/Should_include_time_zone_when_timeZone_is_not_utc (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_agg_with_decimal_interval (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_agg_with_invalid_interval (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_histogram_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_geo_hash_grid_agg (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_geo_hash_grid_agg_with_invalid_int_precision (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_geo_hash_grid_agg_with_no_precision (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average_doc_count_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_moving_average_doc_count (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_broken_moving_average_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_broken_moving_average (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_top_metrics_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_cumulative_sum (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_cumulative_sum_doc_count (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_broken_cumulative_sum (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_derivative (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_derivative_doc_count (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_derivative_doc_count_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_serial_diff (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_serial_diff_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_serial_diff_doc_count (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script_doc_count (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_bucket_script_doc_count_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_lucene_query_should_add_query_string_filter_when_query_is_not_empty_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_lucene_query_should_add_query_string_filter_when_query_is_not_empty_(from_frontend_tests)#01 (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_query_should_return_query_with_defaults_(from_frontend_tests) (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_query_with_limit_should_return_query_with_correct_size (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_query_should_return_highlight_properties (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_log_context_query_with_sortDirection_and_searchAfter_should_return_correct_query (0.00s)
--- PASS: TestExecuteElasticsearchDataQuery/Test_execute_time_series_query/With_invalid_query_should_return_error (0.00s)
=== RUN   TestSettingsCasting
=== RUN   TestSettingsCasting/Correctly_casts_values_in_moving_avg_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601230Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601273Z","duration":43411,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Correctly_transforms_moving_average_settings
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601315Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601353Z","duration":38011,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Correctly_transforms_serial_diff_settings_(from_frontend_tests)
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601386Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601415Z","duration":29054,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Correctly_transforms_serial_diff_settings
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601442Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601470Z","duration":28763,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Date_Histogram_Settings
=== RUN   TestSettingsCasting/Date_Histogram_Settings/Correctly_transforms_date_histogram_settings
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601509Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601540Z","duration":31699,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Date_Histogram_Settings/Correctly_uses_already_int_min_doc_count
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601567Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601600Z","duration":33372,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Date_Histogram_Settings/interval_parameter
=== RUN   TestSettingsCasting/Date_Histogram_Settings/interval_parameter/Uses_fixed_interval
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601647Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601688Z","duration":41287,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Date_Histogram_Settings/interval_parameter/Uses_calendar_interval
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601717Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601744Z","duration":26650,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Inline_Script
=== RUN   TestSettingsCasting/Inline_Script/Correctly_handles_scripts
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601791Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601830Z","duration":38341,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Field_property_(from_frontend_tests)
=== RUN   TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_timeField_from_datasource_when_not_specified
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601881Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601908Z","duration":26459,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_field_from_bucket_agg_when_specified
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601944Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.601968Z","duration":24125,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_fixed_interval
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.601996Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.602042Z","duration":45896,"queriesLength":1,"stage":"prepareRequest"}
=== RUN   TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_calendar_interval
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.602073Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.602097Z","duration":24495,"queriesLength":1,"stage":"prepareRequest"}
--- PASS: TestSettingsCasting (0.00s)
--- PASS: TestSettingsCasting/Correctly_casts_values_in_moving_avg_(from_frontend_tests) (0.00s)
--- PASS: TestSettingsCasting/Correctly_transforms_moving_average_settings (0.00s)
--- PASS: TestSettingsCasting/Correctly_transforms_serial_diff_settings_(from_frontend_tests) (0.00s)
--- PASS: TestSettingsCasting/Correctly_transforms_serial_diff_settings (0.00s)
--- PASS: TestSettingsCasting/Date_Histogram_Settings (0.00s)
--- PASS: TestSettingsCasting/Date_Histogram_Settings/Correctly_transforms_date_histogram_settings (0.00s)
--- PASS: TestSettingsCasting/Date_Histogram_Settings/Correctly_uses_already_int_min_doc_count (0.00s)
--- PASS: TestSettingsCasting/Date_Histogram_Settings/interval_parameter (0.00s)
--- PASS: TestSettingsCasting/Date_Histogram_Settings/interval_parameter/Uses_fixed_interval (0.00s)
--- PASS: TestSettingsCasting/Date_Histogram_Settings/interval_parameter/Uses_calendar_interval (0.00s)
--- PASS: TestSettingsCasting/Inline_Script (0.00s)
--- PASS: TestSettingsCasting/Inline_Script/Correctly_handles_scripts (0.00s)
--- PASS: TestSettingsCasting/Field_property_(from_frontend_tests) (0.00s)
--- PASS: TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_timeField_from_datasource_when_not_specified (0.00s)
--- PASS: TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_field_from_bucket_agg_when_specified (0.00s)
--- PASS: TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_fixed_interval (0.00s)
--- PASS: TestSettingsCasting/Field_property_(from_frontend_tests)/Should_use_calendar_interval (0.00s)
=== RUN   TestNewInstanceSettings
=== RUN   TestNewInstanceSettings/fields_exist
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602204Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/timeField
=== RUN   TestNewInstanceSettings/timeField/is_nil
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602291Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/timeField/is_empty
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602340Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/no_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602432Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/string_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602500Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/number_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602565Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/zero_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602643Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/negative_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602714Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/float_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602788Z","error":"label name cannot be empty"}
=== RUN   TestNewInstanceSettings/maxConcurrentShardRequests/invalid_maxConcurrentShardRequests
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:27.602850Z","error":"label name cannot be empty"}
--- PASS: TestNewInstanceSettings (0.00s)
--- PASS: TestNewInstanceSettings/fields_exist (0.00s)
--- PASS: TestNewInstanceSettings/timeField (0.00s)
--- PASS: TestNewInstanceSettings/timeField/is_nil (0.00s)
--- PASS: TestNewInstanceSettings/timeField/is_empty (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/no_maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/string_maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/number_maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/zero_maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/negative_maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/float_maxConcurrentShardRequests (0.00s)
--- PASS: TestNewInstanceSettings/maxConcurrentShardRequests/invalid_maxConcurrentShardRequests (0.00s)
=== RUN   TestCreateElasticsearchURL
=== RUN   TestCreateElasticsearchURL/with_/_msearch_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with__msearch_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with__msearch_path_and_valid_url_with_/
=== RUN   TestCreateElasticsearchURL/with__mapping_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with_/_mapping_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with_/_mapping_path_and_valid_url_with_/
=== RUN   TestCreateElasticsearchURL/with_abc/_mapping_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with_/abc/_mapping_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with_/abc/_mapping_path_and_valid_url#01
=== RUN   TestCreateElasticsearchURL/with_path_including_:
=== RUN   TestCreateElasticsearchURL/with_""_path_and_valid_url_and_/
=== RUN   TestCreateElasticsearchURL/with_""_path_and_valid_url
=== RUN   TestCreateElasticsearchURL/with_""_path_and_valid_url_with_path
=== RUN   TestCreateElasticsearchURL/with_""_path_and_valid_url_with_path_and_/
--- PASS: TestCreateElasticsearchURL (0.00s)
--- PASS: TestCreateElasticsearchURL/with_/_msearch_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with__msearch_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with__msearch_path_and_valid_url_with_/ (0.00s)
--- PASS: TestCreateElasticsearchURL/with__mapping_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with_/_mapping_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with_/_mapping_path_and_valid_url_with_/ (0.00s)
--- PASS: TestCreateElasticsearchURL/with_abc/_mapping_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with_/abc/_mapping_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with_/abc/_mapping_path_and_valid_url#01 (0.00s)
--- PASS: TestCreateElasticsearchURL/with_path_including_: (0.00s)
--- PASS: TestCreateElasticsearchURL/with_""_path_and_valid_url_and_/ (0.00s)
--- PASS: TestCreateElasticsearchURL/with_""_path_and_valid_url (0.00s)
--- PASS: TestCreateElasticsearchURL/with_""_path_and_valid_url_with_path (0.00s)
--- PASS: TestCreateElasticsearchURL/with_""_path_and_valid_url_with_path_and_/ (0.00s)
=== RUN   TestErrorAvgMissingField
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.603418Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.603431Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.603454Z","duration":22462,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.603614Z","duration":132698,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.603625Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.603646Z","contentLength":0,"duration":164448,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":400}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.603693Z","duration":34815,"entity":"client","improvedParsingEnabled":false}
--- PASS: TestErrorAvgMissingField (0.00s)
=== RUN   TestErrorAvgMissingFieldNoDetailedErrors
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.603792Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.603809Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.603847Z","duration":37570,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.603938Z","duration":60844,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.603951Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.603965Z","contentLength":0,"duration":87614,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":400}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.603985Z","duration":5390,"entity":"client","improvedParsingEnabled":false}
--- PASS: TestErrorAvgMissingFieldNoDetailedErrors (0.00s)
=== RUN   TestErrorTooManyDateHistogramBuckets
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.604078Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.604093Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.604116Z","duration":21961,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.604185Z","duration":46757,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.604201Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604220Z","contentLength":0,"duration":81953,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604253Z","duration":18415,"entity":"client","improvedParsingEnabled":false}
{"@level":"error","@message":"Processing error response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604366Z","error":"{\"caused_by\":{\"max_buckets\":65536,\"reason\":\"Trying to create too many buckets. Must be less than or equal to: [65536].\",\"type\":\"too_many_buckets_exception\"},\"reason\":\"\",\"root_cause\":[],\"type\":\"search_phase_execution_exception\"}","query":"{\"query\":\"\",\"bucketAggs\":[{\"field\":\"@timestamp\",\"id\":\"2\",\"settings\":{\"interval\":\"10s\"},\"type\":\"date_histogram\"}],\"metrics\":[{\"field\":\"\",\"hide\":false,\"id\":\"1\",\"pipelineAgg\":\"\",\"pipelineVariables\":null,\"settings\":null,\"meta\":null,\"type\":\"count\"}],\"alias\":\"\",\"Interval\":0,\"IntervalMs\":0,\"RefID\":\"A\",\"MaxDataPoints\":0,\"TimeRange\":{\"From\":\"2022-11-14T10:40:37.218Z\",\"To\":\"2022-11-14T10:43:45.668Z\"}}"}
--- PASS: TestErrorTooManyDateHistogramBuckets (0.00s)
=== RUN   TestNonElasticError
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.604475Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.604493Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.604523Z","duration":28313,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.604594Z","duration":45605,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.604606Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604621Z","contentLength":0,"duration":72305,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":403}
{"@level":"error","@message":"Failed to decode response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604638Z","duration":2906,"entity":"client","error":"invalid character 'A' looking for beginning of value","improvedParsingEnabled":false}
--- PASS: TestNonElasticError (0.00s)
=== RUN   Test_Healthcheck_OK
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.604743Z","url":"_cluster/health?wait_for_status=yellow"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604790Z","duration":47268,"status":"ok","statusCode":200}
--- PASS: Test_Healthcheck_OK (0.00s)
=== RUN   Test_Healthcheck_Timeout
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.604857Z","url":"_cluster/health?wait_for_status=yellow"}
--- PASS: Test_Healthcheck_Timeout (0.00s)
=== RUN   Test_Healthcheck_Error
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.604902Z","url":"_cluster/health?wait_for_status=yellow"}
--- PASS: Test_Healthcheck_Error (0.00s)
=== RUN   Test_validateIndex_Warning_ErrorValidatingIndex
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.604946Z","url":"_cluster/health?wait_for_status=yellow"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.604956Z","duration":10810,"status":"ok","statusCode":200}
--- PASS: Test_validateIndex_Warning_ErrorValidatingIndex (0.00s)
=== RUN   Test_validateIndex_Warning_WrongTimestampType
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.605042Z","url":"_cluster/health?wait_for_status=yellow"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.605063Z","duration":21551,"status":"ok","statusCode":200}
--- PASS: Test_validateIndex_Warning_WrongTimestampType (0.00s)
=== RUN   Test_validateIndex_Error_FailedToUnmarshalValidateResponse
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.605123Z","url":"_cluster/health?wait_for_status=yellow"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.605140Z","duration":17042,"status":"ok","statusCode":200}
--- PASS: Test_validateIndex_Error_FailedToUnmarshalValidateResponse (0.00s)
=== RUN   Test_validateIndex_Success_SuccessValidatingIndex
{"@level":"debug","@message":"Sending healthcheck request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.605233Z","url":"_cluster/health?wait_for_status=yellow"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.605251Z","duration":18223,"status":"ok","statusCode":200}
--- PASS: Test_validateIndex_Success_SuccessValidatingIndex (0.00s)
=== RUN   TestParseQuery
=== RUN   TestParseQuery/Test_parse_query
=== RUN   TestParseQuery/Test_parse_query/Should_be_able_to_parse_query
--- PASS: TestParseQuery (0.00s)
--- PASS: TestParseQuery/Test_parse_query (0.00s)
--- PASS: TestParseQuery/Test_parse_query/Should_be_able_to_parse_query (0.00s)
=== RUN   TestProcessLogsResponse
=== RUN   TestProcessLogsResponse/Simple_log_query_response
=== RUN   TestProcessLogsResponse/Simple_log_query_response/creates_correct_data_frame_fields
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.605547Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.605563Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.605589Z","duration":26650,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.605694Z","duration":85390,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.605707Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.605721Z","contentLength":0,"duration":112340,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.605773Z","duration":40346,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.605845Z","fieldsLength":13}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.605862Z","duration":75802,"stage":"parseResponse"}
=== RUN   TestProcessLogsResponse/Simple_log_query_response/creates_correct_level_field
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.606038Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.606057Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.606084Z","duration":27031,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.606192Z","duration":80711,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.606205Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.606221Z","contentLength":0,"duration":110466,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.606275Z","duration":38742,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.606328Z","fieldsLength":13}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.606339Z","duration":51877,"stage":"parseResponse"}
=== RUN   TestProcessLogsResponse/Simple_log_query_response/gets_correct_time_field_from_fields
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.606421Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.606434Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.606460Z","duration":25858,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.606541Z","duration":59421,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.606552Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.606565Z","contentLength":0,"duration":83696,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.606617Z","duration":39884,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.606704Z","fieldsLength":13}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.606719Z","duration":89567,"stage":"parseResponse"}
=== RUN   TestProcessLogsResponse/Empty_response
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.606813Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.606829Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.606852Z","duration":22923,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.606937Z","duration":62677,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.606947Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.606960Z","contentLength":0,"duration":85941,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.606985Z","duration":11551,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.607002Z","fieldsLength":0}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.607029Z","duration":29625,"stage":"parseResponse"}
=== RUN   TestProcessLogsResponse/Log_query_with_nested_fields
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.607238Z","fieldsLength":17}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.607253Z","duration":95568,"stage":"parseResponse"}
=== RUN   TestProcessLogsResponse/Log_query_with_highlight
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.607403Z","fieldsLength":9}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.607416Z","duration":47670,"stage":"parseResponse"}
--- PASS: TestProcessLogsResponse (0.00s)
--- PASS: TestProcessLogsResponse/Simple_log_query_response (0.00s)
--- PASS: TestProcessLogsResponse/Simple_log_query_response/creates_correct_data_frame_fields (0.00s)
--- PASS: TestProcessLogsResponse/Simple_log_query_response/creates_correct_level_field (0.00s)
--- PASS: TestProcessLogsResponse/Simple_log_query_response/gets_correct_time_field_from_fields (0.00s)
--- PASS: TestProcessLogsResponse/Empty_response (0.00s)
--- PASS: TestProcessLogsResponse/Log_query_with_nested_fields (0.00s)
--- PASS: TestProcessLogsResponse/Log_query_with_highlight (0.00s)
=== RUN   TestProcessRawDataResponse
=== RUN   TestProcessRawDataResponse/Simple_raw_data_query
{"@level":"debug","@message":"Processed raw data query response","@timestamp":"2025-04-15T08:39:27.607598Z","fieldsLength":15}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.607613Z","duration":48561,"stage":"parseResponse"}
=== RUN   TestProcessRawDataResponse/Raw_data_query_filterable_fields
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.607907Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.607921Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.607938Z","duration":16711,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.608000Z","duration":41387,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.608029Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.608043Z","contentLength":0,"duration":84878,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.608073Z","duration":16712,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed raw data query response","@timestamp":"2025-04-15T08:39:27.608093Z","fieldsLength":6}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.608103Z","duration":17943,"stage":"parseResponse"}
=== RUN   TestProcessRawDataResponse/gets_correct_time_field_from_fields
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.608181Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.608195Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.608210Z","duration":15650,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.608268Z","duration":36538,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.608277Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.608288Z","contentLength":0,"duration":57317,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.608341Z","duration":41618,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed raw data query response","@timestamp":"2025-04-15T08:39:27.608376Z","fieldsLength":11}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.608386Z","duration":32370,"stage":"parseResponse"}
--- PASS: TestProcessRawDataResponse (0.00s)
--- PASS: TestProcessRawDataResponse/Simple_raw_data_query (0.00s)
--- PASS: TestProcessRawDataResponse/Raw_data_query_filterable_fields (0.00s)
--- PASS: TestProcessRawDataResponse/gets_correct_time_field_from_fields (0.00s)
=== RUN   TestProcessRawDocumentResponse
=== RUN   TestProcessRawDocumentResponse/Simple_raw_document_query
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.608479Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.608494Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.608510Z","duration":15349,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.608567Z","duration":35767,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.608577Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.608591Z","contentLength":0,"duration":60263,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.608624Z","duration":19327,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed raw document query response","@timestamp":"2025-04-15T08:39:27.608644Z","fieldsLength":1}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.608654Z","duration":18986,"stage":"parseResponse"}
=== RUN   TestProcessRawDocumentResponse/More_complex_raw_document_query
{"@level":"debug","@message":"Processed raw document query response","@timestamp":"2025-04-15T08:39:27.608805Z","fieldsLength":1}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.608817Z","duration":34504,"stage":"parseResponse"}
--- PASS: TestProcessRawDocumentResponse (0.00s)
--- PASS: TestProcessRawDocumentResponse/Simple_raw_document_query (0.00s)
--- PASS: TestProcessRawDocumentResponse/More_complex_raw_document_query (0.00s)
=== RUN   TestProcessBuckets
=== RUN   TestProcessBuckets/Percentiles
=== RUN   TestProcessBuckets/Percentiles/Percentiles_without_date_histogram
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.608947Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.608962Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.608985Z","duration":23364,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.609086Z","duration":62236,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.609099Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.609111Z","contentLength":0,"duration":87234,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.609144Z","duration":20799,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.609167Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.609178Z","duration":19656,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Percentiles/percentiles_2_frames
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.609263Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.609279Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.609302Z","duration":23063,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.609385Z","duration":57869,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.609401Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.609413Z","contentLength":0,"duration":86742,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.609444Z","duration":17984,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.609465Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.609477Z","duration":20048,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Percentiles/With_percentiles
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.609590Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.609601Z","duration":20388,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Histograms
=== RUN   TestProcessBuckets/Histograms/Histogram_simple
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.609679Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.609690Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.609708Z","duration":17553,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.609774Z","duration":49322,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.609781Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.609792Z","contentLength":0,"duration":67837,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.609816Z","duration":14267,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.609832Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.609847Z","duration":20589,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Histograms/Histogram_response
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.609947Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.609965Z","duration":22743,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Terms
=== RUN   TestProcessBuckets/Terms/Terms_with_two_bucket_script
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.610168Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.610183Z","duration":25448,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Terms/With_max_and_multiple_terms_agg
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.610337Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.610352Z","duration":27642,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Terms/Terms_agg_without_date_histogram
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.610454Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.610484Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.610507Z","duration":22542,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.610568Z","duration":40115,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.610578Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.610591Z","contentLength":0,"duration":62606,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.610619Z","duration":15619,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.610637Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.610646Z","duration":15058,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Top_metrics
=== RUN   TestProcessBuckets/Top_metrics/Top_metrics_2_frames
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.610770Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.610784Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.610807Z","duration":22321,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.610887Z","duration":59291,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.610898Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.610909Z","contentLength":0,"duration":82374,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.610944Z","duration":22442,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.610960Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.610971Z","duration":16010,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Top_metrics/With_top_metrics_and_date_histogram_agg
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.611146Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.611162Z","duration":20990,"stage":"parseResponse"}
{"schema":{"name":"Top Metrics @anotherValue","meta":{"type":"timeseries-multi","typeVersion":[0,0]},"fields":[{"name":"Time","type":"time","typeInfo":{"frame":"time.Time"}},{"name":"Value","type":"number","typeInfo":{"frame":"float64","nullable":true}}]},"data":{"values":[[1609459200000,1609459210000],[2,2]]}}
=== RUN   TestProcessBuckets/Top_metrics/With_top_metrics_and_terms_agg
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.611919Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.611934Z","duration":21821,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by
=== RUN   TestProcessBuckets/Group_by/Simple_group_by_1_metric_2_frames
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.612077Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.612109Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.612135Z","duration":26169,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.612216Z","duration":58950,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.612227Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.612240Z","contentLength":0,"duration":82334,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.612275Z","duration":21019,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.612295Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.612308Z","duration":20839,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by/Single_group_with_alias_pattern_3_frames
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.612391Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.612420Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.612443Z","duration":22382,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.612515Z","duration":49723,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.612525Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.612535Z","contentLength":0,"duration":70462,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.612572Z","duration":24716,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.612592Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.612616Z","duration":32842,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by/Single_group_by_query_one_metric
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.612745Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.612761Z","duration":22492,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by/Single_group_by_query_one_metric_with_true_keepLabelsInResponse
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.612891Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.612905Z","duration":21911,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by/Single_group_by_query_two_metrics
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.613065Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.613080Z","duration":28263,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by/Simple_group_by_2_metrics_4_frames
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.613173Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.613202Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.613226Z","duration":24676,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.613328Z","duration":84338,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.613334Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.613347Z","contentLength":0,"duration":102822,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.613377Z","duration":22552,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.613395Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.613405Z","duration":19857,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Group_by/Single_group_by_with_alias_pattern
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.613539Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.613561Z","duration":32451,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Extended_stats
=== RUN   TestProcessBuckets/Extended_stats/Extended_stats_4_frames
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.613679Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.613689Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.613714Z","duration":25297,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.613794Z","duration":63518,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.613801Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.613813Z","contentLength":0,"duration":82094,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.613850Z","duration":28003,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.613870Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.613880Z","duration":21350,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Extended_stats/With_extended_stats
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.614041Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.614055Z","duration":28713,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Count
=== RUN   TestProcessBuckets/Count/Simple_query_returns_1_frame
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.614188Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.614205Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.614224Z","duration":19267,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.614281Z","duration":39724,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.614288Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.614301Z","contentLength":0,"duration":58960,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.616381Z","duration":2070506,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.616427Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.616441Z","duration":18805,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Count/Simple_count_with_date_histogram_aggregation
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.616711Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.616806Z","duration":98985,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Count/Simple_query_count_&_avg_aggregation
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.616971Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.616989Z","duration":24846,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Avg
=== RUN   TestProcessBuckets/Avg/Query_with_duplicated_avg_metric_creates_unique_field_name
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.617163Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.617175Z","duration":20328,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Multiple_bucket_agg
=== RUN   TestProcessBuckets/Multiple_bucket_agg/Date_histogram_with_2_filters_agg
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.617287Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.617302Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.617334Z","duration":32251,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.617454Z","duration":89677,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.617463Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.617477Z","contentLength":0,"duration":113582,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.617513Z","duration":24847,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.617533Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.617543Z","duration":18604,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Multiple_bucket_agg/With_two_filters_agg
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.617676Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.617695Z","duration":27001,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/With_multiple_metrics
=== RUN   TestProcessBuckets/With_multiple_metrics/Multiple_metrics_with_the_same_type
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.617820Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.617839Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.617865Z","duration":25839,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.617955Z","duration":59812,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.617971Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.617985Z","contentLength":0,"duration":89437,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.618052Z","duration":52258,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.618076Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.618084Z","duration":13996,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/With_multiple_metrics/Multiple_metrics_of_same_type
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.618204Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.618222Z","duration":23033,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/With_multiple_metrics/No_group_by_time
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.618350Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.618367Z","duration":24035,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/With_multiple_metrics/With_drop_first_and_last_aggregation_(numeric)
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.618497Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.618517Z","duration":26910,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/With_multiple_metrics/With_drop_first_and_last_aggregation_(string)
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.618640Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.618655Z","duration":20388,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Trim_edges
=== RUN   TestProcessBuckets/Trim_edges/Larger_trimEdges_value
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.618786Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.618811Z","duration":29435,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Bucket_script
=== RUN   TestProcessBuckets/Bucket_script/With_bucket_script
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.621004Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.621045Z","duration":57728,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Bucket_script/Two_bucket_script
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.621170Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.621187Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.621236Z","duration":49372,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.621365Z","duration":98484,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.621380Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.621400Z","contentLength":0,"duration":132879,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.621439Z","duration":24446,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.621487Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.621513Z","duration":38142,"stage":"parseResponse"}
=== RUN   TestProcessBuckets/Bucket_script/Bucket_script
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.621682Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.621716Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.621755Z","duration":39003,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.621857Z","duration":77806,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.621866Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.621880Z","contentLength":0,"duration":100378,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.621912Z","duration":20698,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.621931Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.621944Z","duration":20869,"stage":"parseResponse"}
--- PASS: TestProcessBuckets (0.01s)
--- PASS: TestProcessBuckets/Percentiles (0.00s)
--- PASS: TestProcessBuckets/Percentiles/Percentiles_without_date_histogram (0.00s)
--- PASS: TestProcessBuckets/Percentiles/percentiles_2_frames (0.00s)
--- PASS: TestProcessBuckets/Percentiles/With_percentiles (0.00s)
--- PASS: TestProcessBuckets/Histograms (0.00s)
--- PASS: TestProcessBuckets/Histograms/Histogram_simple (0.00s)
--- PASS: TestProcessBuckets/Histograms/Histogram_response (0.00s)
--- PASS: TestProcessBuckets/Terms (0.00s)
--- PASS: TestProcessBuckets/Terms/Terms_with_two_bucket_script (0.00s)
--- PASS: TestProcessBuckets/Terms/With_max_and_multiple_terms_agg (0.00s)
--- PASS: TestProcessBuckets/Terms/Terms_agg_without_date_histogram (0.00s)
--- PASS: TestProcessBuckets/Top_metrics (0.00s)
--- PASS: TestProcessBuckets/Top_metrics/Top_metrics_2_frames (0.00s)
--- PASS: TestProcessBuckets/Top_metrics/With_top_metrics_and_date_histogram_agg (0.00s)
--- PASS: TestProcessBuckets/Top_metrics/With_top_metrics_and_terms_agg (0.00s)
--- PASS: TestProcessBuckets/Group_by (0.00s)
--- PASS: TestProcessBuckets/Group_by/Simple_group_by_1_metric_2_frames (0.00s)
--- PASS: TestProcessBuckets/Group_by/Single_group_with_alias_pattern_3_frames (0.00s)
--- PASS: TestProcessBuckets/Group_by/Single_group_by_query_one_metric (0.00s)
--- PASS: TestProcessBuckets/Group_by/Single_group_by_query_one_metric_with_true_keepLabelsInResponse (0.00s)
--- PASS: TestProcessBuckets/Group_by/Single_group_by_query_two_metrics (0.00s)
--- PASS: TestProcessBuckets/Group_by/Simple_group_by_2_metrics_4_frames (0.00s)
--- PASS: TestProcessBuckets/Group_by/Single_group_by_with_alias_pattern (0.00s)
--- PASS: TestProcessBuckets/Extended_stats (0.00s)
--- PASS: TestProcessBuckets/Extended_stats/Extended_stats_4_frames (0.00s)
--- PASS: TestProcessBuckets/Extended_stats/With_extended_stats (0.00s)
--- PASS: TestProcessBuckets/Count (0.00s)
--- PASS: TestProcessBuckets/Count/Simple_query_returns_1_frame (0.00s)
--- PASS: TestProcessBuckets/Count/Simple_count_with_date_histogram_aggregation (0.00s)
--- PASS: TestProcessBuckets/Count/Simple_query_count_&_avg_aggregation (0.00s)
--- PASS: TestProcessBuckets/Avg (0.00s)
--- PASS: TestProcessBuckets/Avg/Query_with_duplicated_avg_metric_creates_unique_field_name (0.00s)
--- PASS: TestProcessBuckets/Multiple_bucket_agg (0.00s)
--- PASS: TestProcessBuckets/Multiple_bucket_agg/Date_histogram_with_2_filters_agg (0.00s)
--- PASS: TestProcessBuckets/Multiple_bucket_agg/With_two_filters_agg (0.00s)
--- PASS: TestProcessBuckets/With_multiple_metrics (0.00s)
--- PASS: TestProcessBuckets/With_multiple_metrics/Multiple_metrics_with_the_same_type (0.00s)
--- PASS: TestProcessBuckets/With_multiple_metrics/Multiple_metrics_of_same_type (0.00s)
--- PASS: TestProcessBuckets/With_multiple_metrics/No_group_by_time (0.00s)
--- PASS: TestProcessBuckets/With_multiple_metrics/With_drop_first_and_last_aggregation_(numeric) (0.00s)
--- PASS: TestProcessBuckets/With_multiple_metrics/With_drop_first_and_last_aggregation_(string) (0.00s)
--- PASS: TestProcessBuckets/Trim_edges (0.00s)
--- PASS: TestProcessBuckets/Trim_edges/Larger_trimEdges_value (0.00s)
--- PASS: TestProcessBuckets/Bucket_script (0.00s)
--- PASS: TestProcessBuckets/Bucket_script/With_bucket_script (0.00s)
--- PASS: TestProcessBuckets/Bucket_script/Two_bucket_script (0.00s)
--- PASS: TestProcessBuckets/Bucket_script/Bucket_script (0.00s)
=== RUN   TestParseResponse
=== RUN   TestParseResponse/Correctly_matches_refId_to_response
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.622136Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.622149Z","queriesLength":6}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.622232Z","duration":83116,"queriesLength":6,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.622514Z","duration":223759,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.622522Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.622560Z","contentLength":0,"duration":270095,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.622655Z","duration":82955,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.622669Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.622678Z","duration":12604,"stage":"parseResponse"}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.622689Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.622695Z","duration":8736,"stage":"parseResponse"}
{"@level":"debug","@message":"Processed raw document query response","@timestamp":"2025-04-15T08:39:27.622711Z","fieldsLength":1}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.622716Z","duration":14948,"stage":"parseResponse"}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.622731Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.622738Z","duration":14517,"stage":"parseResponse"}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.622759Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.622771Z","duration":26169,"stage":"parseResponse"}
{"@level":"debug","@message":"Processed raw data query response","@timestamp":"2025-04-15T08:39:27.622789Z","fieldsLength":6}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.622796Z","duration":16511,"stage":"parseResponse"}
--- PASS: TestParseResponse (0.00s)
--- PASS: TestParseResponse/Correctly_matches_refId_to_response (0.00s)
=== RUN   TestLabelOrderInFieldName
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.622906Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.622918Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.622949Z","duration":29506,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.623065Z","duration":95499,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.623075Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.623090Z","contentLength":0,"duration":120836,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.623156Z","duration":49342,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.623190Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.623205Z","duration":35807,"stage":"parseResponse"}
--- PASS: TestLabelOrderInFieldName (0.00s)
=== RUN   TestFlatten
=== RUN   TestFlatten/Flattens_simple_object
=== RUN   TestFlatten/Flattens_object_to_max_10_nested_levels
=== RUN   TestFlatten/does_not_affect_any_non-nested_JSON
=== RUN   TestFlatten/flattens_up_to_maxDepth
=== RUN   TestFlatten/flattens_up_to_maxDepth_with_multiple_keys_in_target
=== RUN   TestFlatten/flattens_multiple_objects_of_the_same_max_depth
=== RUN   TestFlatten/only_flattens_multiple_entries_in_the_same_key
=== RUN   TestFlatten/combines_nested_field_names
=== RUN   TestFlatten/will_preserve_only_one_key_with_the_same_name
--- PASS: TestFlatten (0.00s)
--- PASS: TestFlatten/Flattens_simple_object (0.00s)
--- PASS: TestFlatten/Flattens_object_to_max_10_nested_levels (0.00s)
--- PASS: TestFlatten/does_not_affect_any_non-nested_JSON (0.00s)
--- PASS: TestFlatten/flattens_up_to_maxDepth (0.00s)
--- PASS: TestFlatten/flattens_up_to_maxDepth_with_multiple_keys_in_target (0.00s)
--- PASS: TestFlatten/flattens_multiple_objects_of_the_same_max_depth (0.00s)
--- PASS: TestFlatten/only_flattens_multiple_entries_in_the_same_key (0.00s)
--- PASS: TestFlatten/combines_nested_field_names (0.00s)
--- PASS: TestFlatten/will_preserve_only_one_key_with_the_same_name (0.00s)
=== RUN   TestTrimEdges
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.623567Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.623581Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.623616Z","duration":35426,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.623691Z","duration":53660,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.623699Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.623714Z","contentLength":0,"duration":77174,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.623746Z","duration":19637,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.623764Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.623777Z","duration":19397,"stage":"parseResponse"}
--- PASS: TestTrimEdges (0.00s)
=== RUN   TestRequestSnapshots
=== RUN   TestRequestSnapshots/simple_metric_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.624987Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.625059Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.625138Z","duration":79529,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.625242Z","duration":64611,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.625262Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.625291Z","contentLength":0,"duration":114474,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.625320Z","duration":7093,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestRequestSnapshots/complex_metric_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.626677Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.626695Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.626759Z","duration":64080,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.626867Z","duration":77946,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.626878Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.626893Z","contentLength":0,"duration":103894,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.626912Z","duration":4919,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestRequestSnapshots/multi_metric_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.627931Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.627954Z","queriesLength":2}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.628023Z","duration":50575,"queriesLength":2,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.628139Z","duration":84507,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.628148Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.628166Z","contentLength":0,"duration":111498,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.628181Z","duration":5080,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestRequestSnapshots/raw_data_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.628976Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.628999Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.629063Z","duration":63980,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.629137Z","duration":44052,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.629148Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.629160Z","contentLength":0,"duration":67847,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.629178Z","duration":4228,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestRequestSnapshots/raw_document_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.629766Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.629785Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.629813Z","duration":27972,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.629873Z","duration":36047,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.629884Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.629896Z","contentLength":0,"duration":59892,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.629909Z","duration":4017,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestRequestSnapshots/logs_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.630477Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.630496Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.630526Z","duration":30337,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.630619Z","duration":60944,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.630630Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.630645Z","contentLength":0,"duration":87594,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.630661Z","duration":4078,"entity":"client","improvedParsingEnabled":false}
--- PASS: TestRequestSnapshots (0.01s)
--- PASS: TestRequestSnapshots/simple_metric_test (0.00s)
--- PASS: TestRequestSnapshots/complex_metric_test (0.00s)
--- PASS: TestRequestSnapshots/multi_metric_test (0.00s)
--- PASS: TestRequestSnapshots/raw_data_test (0.00s)
--- PASS: TestRequestSnapshots/raw_document_test (0.00s)
--- PASS: TestRequestSnapshots/logs_test (0.00s)
=== RUN   TestResponseSnapshots
=== RUN   TestResponseSnapshots/simple_metric_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.631372Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.631391Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.631440Z","duration":49342,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.631545Z","duration":78538,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.631556Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.631568Z","contentLength":0,"duration":102211,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.631640Z","duration":59461,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.631668Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.631683Z","duration":31368,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/complex_metric_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.632693Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.632711Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.632761Z","duration":49874,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.632849Z","duration":64480,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.632860Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.632873Z","contentLength":0,"duration":88035,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.632978Z","duration":93234,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.633031Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.633050Z","duration":58550,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/multi_metric_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.634151Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.634170Z","queriesLength":2}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.634218Z","duration":48080,"queriesLength":2,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.634328Z","duration":77024,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.634339Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.634353Z","contentLength":0,"duration":101831,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.634421Z","duration":55964,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.634440Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.634455Z","duration":19917,"stage":"parseResponse"}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.634466Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.634475Z","duration":13375,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/metric_avg_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.635453Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.635471Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.635500Z","duration":28884,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.635570Z","duration":45945,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.635580Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.635594Z","contentLength":0,"duration":70601,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.635637Z","duration":30417,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.635654Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.635664Z","duration":15018,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/metric_percentiles_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.637105Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.637130Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.637177Z","duration":47078,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.637263Z","duration":56345,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.637276Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.637289Z","contentLength":0,"duration":81793,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.637344Z","duration":39293,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.637365Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.637375Z","duration":18625,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/metric_top_metrics_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.638318Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.638337Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.638371Z","duration":33924,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.638453Z","duration":56666,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.638463Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.638476Z","contentLength":0,"duration":79910,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.638532Z","duration":43511,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.638549Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.638559Z","duration":14197,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/metric_extended_stats_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.639278Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.639296Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.639329Z","duration":33252,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.639401Z","duration":48901,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.639412Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.639425Z","contentLength":0,"duration":72115,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.639512Z","duration":74920,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed metric query response","@timestamp":"2025-04-15T08:39:27.639533Z"}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.639546Z","duration":21320,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/raw_data_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.640323Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.640341Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.640367Z","duration":25498,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.640429Z","duration":39594,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.640438Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.640452Z","contentLength":0,"duration":62747,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.640582Z","duration":117830,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed raw data query response","@timestamp":"2025-04-15T08:39:27.640674Z","fieldsLength":16}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.640686Z","duration":91020,"stage":"parseResponse"}
=== RUN   TestResponseSnapshots/logs_test
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-15T08:39:27.642336Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[testdb-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Parsing queries","@timestamp":"2025-04-15T08:39:27.642354Z","queriesLength":1}
{"@level":"info","@message":"Prepared request","@timestamp":"2025-04-15T08:39:27.642384Z","duration":29155,"queriesLength":1,"stage":"prepareRequest"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-15T08:39:27.642466Z","duration":57698,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-15T08:39:27.642477Z","entity":"client","url":"http://localhost:9200"}
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-15T08:39:27.642490Z","contentLength":0,"duration":81843,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-15T08:39:27.642972Z","duration":469839,"entity":"client","improvedParsingEnabled":false}
{"@level":"debug","@message":"Processed log query response","@timestamp":"2025-04-15T08:39:27.643375Z","fieldsLength":18}
{"@level":"info","@message":"Finished processing of response","@timestamp":"2025-04-15T08:39:27.643392Z","duration":399236,"stage":"parseResponse"}
--- PASS: TestResponseSnapshots (0.01s)
--- PASS: TestResponseSnapshots/simple_metric_test (0.00s)
--- PASS: TestResponseSnapshots/complex_metric_test (0.00s)
--- PASS: TestResponseSnapshots/multi_metric_test (0.00s)
--- PASS: TestResponseSnapshots/metric_avg_test (0.00s)
--- PASS: TestResponseSnapshots/metric_percentiles_test (0.00s)
--- PASS: TestResponseSnapshots/metric_top_metrics_test (0.00s)
--- PASS: TestResponseSnapshots/metric_extended_stats_test (0.00s)
--- PASS: TestResponseSnapshots/raw_data_test (0.00s)
--- PASS: TestResponseSnapshots/logs_test (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/elasticsearch	0.075s
=== RUN   TestClient_ExecuteMultisearch
=== RUN   TestClient_ExecuteMultisearch/Given_a_fake_http_client_and_a_client_with_response
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-14T14:24:42.260968Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[metrics-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-14T14:24:42.261190Z","duration":158776,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-14T14:24:42.261213Z","entity":"client","url":"http://127.0.0.1:42909"}
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestClient_ExecuteMultisearch.func1.1 (client_test.go:44)
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-14T14:24:42.262022Z","contentLength":156,"duration":985720,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-14T14:24:42.262286Z","duration":196748,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestClient_ExecuteMultisearch/Given_a_fake_http_client,_2_queries_and_a_client_with_response
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-14T14:24:42.262928Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[metrics-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-14T14:24:42.263225Z","duration":106479,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-14T14:24:42.263278Z","entity":"client","url":"http://127.0.0.1:37633"}
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestClient_ExecuteMultisearch.func2.1 (client_test.go:133)
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-14T14:24:42.263935Z","contentLength":156,"duration":817045,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-14T14:24:42.264053Z","duration":98815,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestClient_ExecuteMultisearch/Should_return_DownstreamError_when_index_is_invalid
=== RUN   TestClient_ExecuteMultisearch/Should_return_DownstreamError_when_decoding_response_fails
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestClient_ExecuteMultisearch.func4.1 (client_test.go:206)
--- PASS: TestClient_ExecuteMultisearch (0.01s)
--- PASS: TestClient_ExecuteMultisearch/Given_a_fake_http_client_and_a_client_with_response (0.00s)
--- PASS: TestClient_ExecuteMultisearch/Given_a_fake_http_client,_2_queries_and_a_client_with_response (0.00s)
--- PASS: TestClient_ExecuteMultisearch/Should_return_DownstreamError_when_index_is_invalid (0.00s)
--- PASS: TestClient_ExecuteMultisearch/Should_return_DownstreamError_when_decoding_response_fails (0.00s)
=== RUN   TestClient_Index
=== RUN   TestClient_Index/empty_string
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-14T14:24:42.265981Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"","interval":""}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-14T14:24:42.266211Z","duration":71884,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-14T14:24:42.266254Z","entity":"client","url":"http://127.0.0.1:43279"}
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestClient_Index.func1.1 (client_test.go:278)
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-14T14:24:42.267035Z","contentLength":156,"duration":895782,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-14T14:24:42.267079Z","duration":24746,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestClient_Index/single_string
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-14T14:24:42.267322Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"logs-*","interval":""}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-14T14:24:42.267418Z","duration":58399,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-14T14:24:42.267429Z","entity":"client","url":"http://127.0.0.1:46301"}
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestClient_Index.func1.1 (client_test.go:278)
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-14T14:24:42.267990Z","contentLength":156,"duration":630126,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-14T14:24:42.268069Z","duration":54902,"entity":"client","improvedParsingEnabled":false}
=== RUN   TestClient_Index/daily_pattern
{"@level":"debug","@message":"Creating new client","@timestamp":"2025-04-14T14:24:42.268367Z","configuredFields":"es.ConfiguredFields{TimeField:\"testtime\", LogMessageField:\"line\", LogLevelField:\"lvl\"}","entity":"client","index":"[logs-]YYYY.MM.DD","interval":"Daily"}
{"@level":"debug","@message":"Completed encoding of batch requests to json","@timestamp":"2025-04-14T14:24:42.268535Z","duration":51165,"entity":"client"}
{"@level":"debug","@message":"Sending request to Elasticsearch","@timestamp":"2025-04-14T14:24:42.268543Z","entity":"client","url":"http://127.0.0.1:45013"}
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestClient_Index.func1.1 (client_test.go:278)
{"@level":"info","@message":"Response received from Elasticsearch","@timestamp":"2025-04-14T14:24:42.269133Z","contentLength":156,"duration":648161,"entity":"client","stage":"databaseRequest","status":"ok","statusCode":200}
{"@level":"debug","@message":"Completed decoding of response from Elasticsearch","@timestamp":"2025-04-14T14:24:42.269235Z","duration":72044,"entity":"client","improvedParsingEnabled":false}
--- PASS: TestClient_Index (0.00s)
--- PASS: TestClient_Index/empty_string (0.00s)
--- PASS: TestClient_Index/single_string (0.00s)
--- PASS: TestClient_Index/daily_pattern (0.00s)
=== RUN   TestStreamMultiSearchResponse_Success
--- PASS: TestStreamMultiSearchResponse_Success (0.00s)
=== RUN   TestStreamMultiSearchResponse_MalformedJSON
--- PASS: TestStreamMultiSearchResponse_MalformedJSON (0.00s)
=== RUN   TestStreamMultiSearchResponse_MissingResponses
--- PASS: TestStreamMultiSearchResponse_MissingResponses (0.00s)
=== RUN   TestStreamMultiSearchResponse_EmptyBody
--- PASS: TestStreamMultiSearchResponse_EmptyBody (0.00s)
=== RUN   TestStreamMultiSearchResponse_InvalidJSONStart
--- PASS: TestStreamMultiSearchResponse_InvalidJSONStart (0.00s)
=== RUN   TestStreamMultiSearchResponse_InvalidHitsField
--- PASS: TestStreamMultiSearchResponse_InvalidHitsField (0.00s)
=== RUN   TestStreamMultiSearchResponse_InvalidHitElement
--- PASS: TestStreamMultiSearchResponse_InvalidHitElement (0.00s)
=== RUN   TestStreamMultiSearchResponse_ErrorHandling
=== RUN   TestStreamMultiSearchResponse_ErrorHandling/Given_invalid_elasticsearch_responses
=== RUN   TestStreamMultiSearchResponse_ErrorHandling/Given_invalid_elasticsearch_responses/When_response_is_invalid_JSON
=== RUN   TestStreamMultiSearchResponse_ErrorHandling/Given_a_client_with_invalid_response
=== RUN   TestStreamMultiSearchResponse_ErrorHandling/Given_a_client_with_invalid_response/When_executing_multi_search_with_invalid_response
2025/04/14 14:24:42 http: superfluous response.WriteHeader call from github.com/grafana/grafana/pkg/tsdb/elasticsearch/client.TestStreamMultiSearchResponse_ErrorHandling.func2.1 (client_test.go:470)
--- PASS: TestStreamMultiSearchResponse_ErrorHandling (0.00s)
--- PASS: TestStreamMultiSearchResponse_ErrorHandling/Given_invalid_elasticsearch_responses (0.00s)
--- PASS: TestStreamMultiSearchResponse_ErrorHandling/Given_invalid_elasticsearch_responses/When_response_is_invalid_JSON (0.00s)
--- PASS: TestStreamMultiSearchResponse_ErrorHandling/Given_a_client_with_invalid_response (0.00s)
--- PASS: TestStreamMultiSearchResponse_ErrorHandling/Given_a_client_with_invalid_response/When_executing_multi_search_with_invalid_response (0.00s)
=== RUN   TestIndexPattern
=== RUN   TestIndexPattern/Static_index_patterns
=== RUN   TestIndexPattern/Static_index_patterns/Index_pattern_(interval=,_index=data-*
=== RUN   TestIndexPattern/Static_index_patterns/Index_pattern_(interval=,_index=es-index-name
=== RUN   TestIndexPattern/Dynamic_index_patterns
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=hourly,_index=[data-]YYYY.MM.DD.HH
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=hourly,_index=YYYY.MM.DD.HH[-data]
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=[data-]YYYY.MM.DD
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=YYYY.MM.DD[-data]
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=weekly,_index=[data-]GGGG.WW
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=weekly,_index=GGGG.WW[-data]
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=monthly,_index=[data-]YYYY.MM
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=monthly,_index=YYYY.MM[-data]
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=yearly,_index=[data-]YYYY
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=yearly,_index=YYYY[-data]
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=YYYY[-data-]MM.DD
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=[data-]YYYY[-moredata-]MM.DD
=== RUN   TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=,_index=
=== RUN   TestIndexPattern/Dynamic_index_patterns/Should_return_01_week
=== RUN   TestIndexPattern/Dynamic_index_patterns/Should_return_01_week/Index_pattern_(interval=weekly,_index=[data-]GGGG.WW
=== RUN   TestIndexPattern/Dynamic_index_pattern_with_error
=== RUN   TestIndexPattern/Hourly_interval
=== RUN   TestIndexPattern/Hourly_interval/Should_return_1_interval
=== RUN   TestIndexPattern/Hourly_interval/Should_return_2_intervals
=== RUN   TestIndexPattern/Hourly_interval/Should_return_10_intervals
=== RUN   TestIndexPattern/Daily_interval
=== RUN   TestIndexPattern/Daily_interval/Should_return_1_day
=== RUN   TestIndexPattern/Daily_interval/Should_return_2_days
=== RUN   TestIndexPattern/Daily_interval/Should_return_32_days
=== RUN   TestIndexPattern/Weekly_interval
=== RUN   TestIndexPattern/Weekly_interval/Should_return_1_week_(1)
=== RUN   TestIndexPattern/Weekly_interval/Should_return_1_week_(2)
=== RUN   TestIndexPattern/Weekly_interval/Should_return_2_weeks_(1)
=== RUN   TestIndexPattern/Weekly_interval/Should_return_2_weeks_(2)
=== RUN   TestIndexPattern/Weekly_interval/Should_return_3_weeks_(1)
=== RUN   TestIndexPattern/Weekly_interval/Should_return_3_weeks_(2)
=== RUN   TestIndexPattern/Monthly_interval
=== RUN   TestIndexPattern/Monthly_interval/Should_return_1_month
=== RUN   TestIndexPattern/Monthly_interval/Should_return_2_months
=== RUN   TestIndexPattern/Monthly_interval/Should_return_14_months
=== RUN   TestIndexPattern/Yearly_interval
=== RUN   TestIndexPattern/Yearly_interval/Should_return_1_year_(hour_diff)
=== RUN   TestIndexPattern/Yearly_interval/Should_return_1_year_(month_diff)
=== RUN   TestIndexPattern/Yearly_interval/Should_return_2_years
=== RUN   TestIndexPattern/Yearly_interval/Should_return_5_years
--- PASS: TestIndexPattern (0.00s)
--- PASS: TestIndexPattern/Static_index_patterns (0.00s)
--- PASS: TestIndexPattern/Static_index_patterns/Index_pattern_(interval=,_index=data-* (0.00s)
--- PASS: TestIndexPattern/Static_index_patterns/Index_pattern_(interval=,_index=es-index-name (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=hourly,_index=[data-]YYYY.MM.DD.HH (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=hourly,_index=YYYY.MM.DD.HH[-data] (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=[data-]YYYY.MM.DD (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=YYYY.MM.DD[-data] (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=weekly,_index=[data-]GGGG.WW (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=weekly,_index=GGGG.WW[-data] (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=monthly,_index=[data-]YYYY.MM (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=monthly,_index=YYYY.MM[-data] (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=yearly,_index=[data-]YYYY (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=yearly,_index=YYYY[-data] (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=YYYY[-data-]MM.DD (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=daily,_index=[data-]YYYY[-moredata-]MM.DD (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Index_pattern_(interval=,_index= (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Should_return_01_week (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_patterns/Should_return_01_week/Index_pattern_(interval=weekly,_index=[data-]GGGG.WW (0.00s)
--- PASS: TestIndexPattern/Dynamic_index_pattern_with_error (0.00s)
--- PASS: TestIndexPattern/Hourly_interval (0.00s)
--- PASS: TestIndexPattern/Hourly_interval/Should_return_1_interval (0.00s)
--- PASS: TestIndexPattern/Hourly_interval/Should_return_2_intervals (0.00s)
--- PASS: TestIndexPattern/Hourly_interval/Should_return_10_intervals (0.00s)
--- PASS: TestIndexPattern/Daily_interval (0.00s)
--- PASS: TestIndexPattern/Daily_interval/Should_return_1_day (0.00s)
--- PASS: TestIndexPattern/Daily_interval/Should_return_2_days (0.00s)
--- PASS: TestIndexPattern/Daily_interval/Should_return_32_days (0.00s)
--- PASS: TestIndexPattern/Weekly_interval (0.00s)
--- PASS: TestIndexPattern/Weekly_interval/Should_return_1_week_(1) (0.00s)
--- PASS: TestIndexPattern/Weekly_interval/Should_return_1_week_(2) (0.00s)
--- PASS: TestIndexPattern/Weekly_interval/Should_return_2_weeks_(1) (0.00s)
--- PASS: TestIndexPattern/Weekly_interval/Should_return_2_weeks_(2) (0.00s)
--- PASS: TestIndexPattern/Weekly_interval/Should_return_3_weeks_(1) (0.00s)
--- PASS: TestIndexPattern/Weekly_interval/Should_return_3_weeks_(2) (0.00s)
--- PASS: TestIndexPattern/Monthly_interval (0.00s)
--- PASS: TestIndexPattern/Monthly_interval/Should_return_1_month (0.00s)
--- PASS: TestIndexPattern/Monthly_interval/Should_return_2_months (0.00s)
--- PASS: TestIndexPattern/Monthly_interval/Should_return_14_months (0.00s)
--- PASS: TestIndexPattern/Yearly_interval (0.00s)
--- PASS: TestIndexPattern/Yearly_interval/Should_return_1_year_(hour_diff) (0.00s)
--- PASS: TestIndexPattern/Yearly_interval/Should_return_1_year_(month_diff) (0.00s)
--- PASS: TestIndexPattern/Yearly_interval/Should_return_2_years (0.00s)
--- PASS: TestIndexPattern/Yearly_interval/Should_return_5_years (0.00s)
=== RUN   TestSearchRequest
=== RUN   TestSearchRequest/When_building_search_request
=== RUN   TestSearchRequest/When_building_search_request/Should_have_size_of_zero
=== RUN   TestSearchRequest/When_building_search_request/Should_have_no_sorting
=== RUN   TestSearchRequest/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_correct_size
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_correct_sorting
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_range_filter
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_query_string_filter
=== RUN   TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/When_adding_doc_value_field
=== RUN   TestSearchRequest/When_adding_doc_value_field/should_set_correct_props
=== RUN   TestSearchRequest/When_adding_doc_value_field/When_building_search_request
=== RUN   TestSearchRequest/When_adding_doc_value_field/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/and_adding_multiple_top_level_aggs
=== RUN   TestSearchRequest/and_adding_multiple_top_level_aggs/When_building_search_request
=== RUN   TestSearchRequest/and_adding_multiple_top_level_aggs/When_building_search_request/Should_have_2_top_level_aggs
=== RUN   TestSearchRequest/and_adding_multiple_top_level_aggs/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg/When_building_search_request
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg/When_building_search_request/Should_have_1_top_level_agg_and_one_child_agg
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg
=== RUN   TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg/When_building_search_request
=== RUN   TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg/When_building_search_request/Should_have_2_top_level_aggs_with_one_child_agg_each
=== RUN   TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg/When_building_search_request
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg/When_building_search_request/Should_have_1_top_level_agg_with_one_child_having_a_child
=== RUN   TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
=== RUN   TestSearchRequest/and_adding_bucket_and_metric_aggs
=== RUN   TestSearchRequest/and_adding_bucket_and_metric_aggs/When_building_search_request
=== RUN   TestSearchRequest/and_adding_bucket_and_metric_aggs/When_building_search_request/Should_have_1_top_level_agg_with_one_child_having_a_child
=== RUN   TestSearchRequest/and_adding_bucket_and_metric_aggs/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json
--- PASS: TestSearchRequest (0.00s)
--- PASS: TestSearchRequest/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/When_building_search_request/Should_have_size_of_zero (0.00s)
--- PASS: TestSearchRequest/When_building_search_request/Should_have_no_sorting (0.00s)
--- PASS: TestSearchRequest/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_correct_size (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_correct_sorting (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_range_filter (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/Should_have_query_string_filter (0.00s)
--- PASS: TestSearchRequest/When_adding_size,_sort,_filters/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/When_adding_doc_value_field (0.00s)
--- PASS: TestSearchRequest/When_adding_doc_value_field/should_set_correct_props (0.00s)
--- PASS: TestSearchRequest/When_adding_doc_value_field/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/When_adding_doc_value_field/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/and_adding_multiple_top_level_aggs (0.00s)
--- PASS: TestSearchRequest/and_adding_multiple_top_level_aggs/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/and_adding_multiple_top_level_aggs/When_building_search_request/Should_have_2_top_level_aggs (0.00s)
--- PASS: TestSearchRequest/and_adding_multiple_top_level_aggs/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg/When_building_search_request/Should_have_1_top_level_agg_and_one_child_agg (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg (0.00s)
--- PASS: TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg/When_building_search_request/Should_have_2_top_level_aggs_with_one_child_agg_each (0.00s)
--- PASS: TestSearchRequest/and_adding_two_top_level_aggs_with_child_agg/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg/When_building_search_request/Should_have_1_top_level_agg_with_one_child_having_a_child (0.00s)
--- PASS: TestSearchRequest/and_adding_top_level_agg_with_child_agg_with_child_agg/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
--- PASS: TestSearchRequest/and_adding_bucket_and_metric_aggs (0.00s)
--- PASS: TestSearchRequest/and_adding_bucket_and_metric_aggs/When_building_search_request (0.00s)
--- PASS: TestSearchRequest/and_adding_bucket_and_metric_aggs/When_building_search_request/Should_have_1_top_level_agg_with_one_child_having_a_child (0.00s)
--- PASS: TestSearchRequest/and_adding_bucket_and_metric_aggs/When_building_search_request/When_marshal_to_JSON_should_generate_correct_json (0.00s)
=== RUN   TestMultiSearchRequest
=== RUN   TestMultiSearchRequest/When_adding_one_search_request
=== RUN   TestMultiSearchRequest/When_adding_one_search_request/When_building_search_request_should_contain_one_search_request
=== RUN   TestMultiSearchRequest/When_adding_two_search_requests
=== RUN   TestMultiSearchRequest/When_adding_two_search_requests/When_building_search_request_should_contain_two_search_requests
--- PASS: TestMultiSearchRequest (0.00s)
--- PASS: TestMultiSearchRequest/When_adding_one_search_request (0.00s)
--- PASS: TestMultiSearchRequest/When_adding_one_search_request/When_building_search_request_should_contain_one_search_request (0.00s)
--- PASS: TestMultiSearchRequest/When_adding_two_search_requests (0.00s)
--- PASS: TestMultiSearchRequest/When_adding_two_search_requests/When_building_search_request_should_contain_two_search_requests (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/elasticsearch/client	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/elasticsearch/instrumentation	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/elasticsearch/kinds/dataquery	[no test files]
=== RUN   TestIntegrationLocker
locker_test.go:13: Tests with Sleep
--- SKIP: TestIntegrationLocker (0.00s)
=== RUN   TestMacroEngine
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function_wrapped_in_aggregation
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFrom_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeTo_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_pre_5.3_compatibility
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_between_args
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_TimescaleDB_enabled
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_between_args_and_TimescaleDB_enabled
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_large_time_range_as_an_argument_and_TimescaleDB_enabled
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_small_time_range_as_an_argument_and_TimescaleDB_enabled
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFrom_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoTo_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochGroup_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00:00.5_and_1980-02-03_08:00:00.5
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00:00.5_and_1980-02-03_08:00:00.5/interpolate___timeFilter_function
--- PASS: TestMacroEngine (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function_wrapped_in_aggregation (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFrom_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeTo_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_pre_5.3_compatibility (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_between_args (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_TimescaleDB_enabled (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_between_args_and_TimescaleDB_enabled (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_large_time_range_as_an_argument_and_TimescaleDB_enabled (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_small_time_range_as_an_argument_and_TimescaleDB_enabled (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFrom_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoTo_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochGroup_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00:00.5_and_1980-02-03_08:00:00.5 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00:00.5_and_1980-02-03_08:00:00.5/interpolate___timeFilter_function (0.00s)
=== RUN   TestMacroEngineConcurrency
--- PASS: TestMacroEngineConcurrency (0.00s)
=== RUN   TestIntegrationPostgresSnapshots
postgres_snapshot_test.go:49:
--- SKIP: TestIntegrationPostgresSnapshots (0.00s)
=== RUN   TestIntegrationGenerateConnectionString
postgres_test.go:26: skipping integration test
--- SKIP: TestIntegrationGenerateConnectionString (0.00s)
=== RUN   TestIntegrationPostgres
postgres_test.go:186: skipping integration test
--- SKIP: TestIntegrationPostgres (0.00s)
=== RUN   TestPostgresProxyDriver
=== RUN   TestPostgresProxyDriver/Connector_should_use_dialer_context_that_routes_through_the_socks_proxy_to_db
--- PASS: TestPostgresProxyDriver (0.00s)
--- PASS: TestPostgresProxyDriver/Connector_should_use_dialer_context_that_routes_through_the_socks_proxy_to_db (0.00s)
=== RUN   TestDataSourceCacheManager
=== RUN   TestDataSourceCacheManager/Check_datasource_cache_creation
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.703824Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.703940Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.703994Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704037Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704094Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704114Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704207Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704276Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704373Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704397Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704433Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704522Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704449Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704585Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704454Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704699Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704463Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704766Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704472Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.704937Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.705457Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.705546Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704475Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.705659Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.705834Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.705922Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.704485Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.706023Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.706179Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.706272Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.707456Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.707553Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.711397Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.711500Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.711407Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.711501Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.714476Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.714603Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.714820Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.715044Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
=== RUN   TestDataSourceCacheManager/Check_datasource_cache_creation/check_cache_creation_is_succeed
=== RUN   TestDataSourceCacheManager/Check_datasource_cache_modification
=== RUN   TestDataSourceCacheManager/Check_datasource_cache_modification/check_when_version_not_changed,_cache_and_files_are_not_updated
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.715468Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.715508Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.715510Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.715516Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.715522Z","logger":"tsdb.postgres"}
=== RUN   TestDataSourceCacheManager/Check_datasource_cache_modification/cache_is_updated_with_the_last_datasource_version
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.715709Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.715750Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.715848Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.715940Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.716374Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.716401Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.716484Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.716585Z","logger":"tsdb.postgres","path":"/tmp/TestDataSourceCacheManager1929310434/001/tls/testDatageneratedTLSCerts/client.key"}
--- PASS: TestDataSourceCacheManager (0.01s)
--- PASS: TestDataSourceCacheManager/Check_datasource_cache_creation (0.01s)
--- PASS: TestDataSourceCacheManager/Check_datasource_cache_creation/check_cache_creation_is_succeed (0.00s)
--- PASS: TestDataSourceCacheManager/Check_datasource_cache_modification (0.00s)
--- PASS: TestDataSourceCacheManager/Check_datasource_cache_modification/check_when_version_not_changed,_cache_and_files_are_not_updated (0.00s)
--- PASS: TestDataSourceCacheManager/Check_datasource_cache_modification/cache_is_updated_with_the_last_datasource_version (0.00s)
=== RUN   TestGetFileName
=== RUN   TestGetFileName/Get_File_Name_for_root_certification
=== RUN   TestGetFileName/Get_File_Name_for_client_certification
=== RUN   TestGetFileName/Get_File_Name_for_client_certification#01
--- PASS: TestGetFileName (0.00s)
--- PASS: TestGetFileName/Get_File_Name_for_root_certification (0.00s)
--- PASS: TestGetFileName/Get_File_Name_for_client_certification (0.00s)
--- PASS: TestGetFileName/Get_File_Name_for_client_certification#01 (0.00s)
=== RUN   TestGetTLSSettings
=== RUN   TestGetTLSSettings/Custom_TLS_authentication_disabled
{"@level":"debug","@message":"Postgres TLS/SSL is disabled","@timestamp":"2025-04-14T09:14:45.717532Z","logger":"tsdb.postgres"}
=== RUN   TestGetTLSSettings/Custom_TLS_authentication_with_file_path
{"@level":"debug","@message":"Postgres TLS/SSL is enabled","@timestamp":"2025-04-14T09:14:45.717613Z","logger":"tsdb.postgres","tlsMode":"verify-full"}
=== RUN   TestGetTLSSettings/Custom_TLS_mode_verify-full_with_certificate_files_content
{"@level":"debug","@message":"Postgres TLS/SSL is enabled","@timestamp":"2025-04-14T09:14:45.717669Z","logger":"tsdb.postgres","tlsMode":"verify-full"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.717685Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.717782Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.717843Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.717899Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/client.key"}
=== RUN   TestGetTLSSettings/Custom_TLS_mode_verify-ca_with_no_client_certificates_with_certificate_files_content
{"@level":"debug","@message":"Postgres TLS/SSL is enabled","@timestamp":"2025-04-14T09:14:45.718007Z","logger":"tsdb.postgres","tlsMode":"verify-ca"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.718045Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.718065Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Deleting cert file since no content is provided","@timestamp":"2025-04-14T09:14:45.718155Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Deleting cert file since no content is provided","@timestamp":"2025-04-14T09:14:45.718206Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/client.key"}
=== RUN   TestGetTLSSettings/Custom_TLS_mode_require_with_client_certificates_and_no_root_certificate_with_certificate_files_content
{"@level":"debug","@message":"Postgres TLS/SSL is enabled","@timestamp":"2025-04-14T09:14:45.718321Z","logger":"tsdb.postgres","tlsMode":"require"}
{"@level":"debug","@message":"Writing TLS certificate files to disk","@timestamp":"2025-04-14T09:14:45.718366Z","logger":"tsdb.postgres"}
{"@level":"debug","@message":"Deleting cert file since no content is provided","@timestamp":"2025-04-14T09:14:45.718387Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/root.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.718505Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/client.crt"}
{"@level":"debug","@message":"Writing cert file","@timestamp":"2025-04-14T09:14:45.718569Z","logger":"tsdb.postgres","path":"/tmp/TestGetTLSSettings1932466637/001/tls/xxxgeneratedTLSCerts/client.key"}
--- PASS: TestGetTLSSettings (0.00s)
--- PASS: TestGetTLSSettings/Custom_TLS_authentication_disabled (0.00s)
--- PASS: TestGetTLSSettings/Custom_TLS_authentication_with_file_path (0.00s)
--- PASS: TestGetTLSSettings/Custom_TLS_mode_verify-full_with_certificate_files_content (0.00s)
--- PASS: TestGetTLSSettings/Custom_TLS_mode_verify-ca_with_no_client_certificates_with_certificate_files_content (0.00s)
--- PASS: TestGetTLSSettings/Custom_TLS_mode_require_with_client_certificates_and_no_root_certificate_with_certificate_files_content (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/grafana-postgresql-datasource	(cached)
=== RUN   TestErrToHealthCheckResult
=== RUN   TestErrToHealthCheckResult/without_error
=== RUN   TestErrToHealthCheckResult/network_error
=== RUN   TestErrToHealthCheckResult/db_error
=== RUN   TestErrToHealthCheckResult/regular_error
--- PASS: TestErrToHealthCheckResult (0.00s)
--- PASS: TestErrToHealthCheckResult/without_error (0.00s)
--- PASS: TestErrToHealthCheckResult/network_error (0.00s)
--- PASS: TestErrToHealthCheckResult/db_error (0.00s)
--- PASS: TestErrToHealthCheckResult/regular_error (0.00s)
=== RUN   TestSQLEngine
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_10_minutes_$__interval
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_4seconds_$__interval
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_200_milliseconds_$__interval
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFrom_function
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochTo_function
=== RUN   TestSQLEngine/Given_row_values_with_int64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_uint64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_int32_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_uint32_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_float64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_float32_as_time_columns
=== RUN   TestSQLEngine/Given_row_with_value_columns,_would_be_converted_to_float64
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#00
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#01
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#02
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#03
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#04
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#05
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#06
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#07
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#08
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#09
=== RUN   TestSQLEngine/Should_not_return_raw_connection_errors
{"@level":"error","@message":"Query error","@timestamp":"2025-04-14T09:14:45.671113Z","err":"Dial: inner-error","logger":"test"}
=== RUN   TestSQLEngine/Should_return_non-connection_errors_unmodified
--- PASS: TestSQLEngine (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_10_minutes_$__interval (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_4seconds_$__interval (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_200_milliseconds_$__interval (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05 (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFrom_function (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochTo_function (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_int64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_uint64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_int32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_uint32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_float64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_float32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_with_value_columns,_would_be_converted_to_float64 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#00 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#01 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#02 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#03 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#04 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#05 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#06 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#07 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#08 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#09 (0.00s)
--- PASS: TestSQLEngine/Should_not_return_raw_connection_errors (0.00s)
--- PASS: TestSQLEngine/Should_return_non-connection_errors_unmodified (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/grafana-postgresql-datasource/sqleng	(cached)
=== RUN   Test_QueryData
{"@level":"debug","@message":"Processing queries","@timestamp":"2025-04-14T09:14:45.676074Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryLength":1}
{"@level":"debug","@message":"Processing query","@timestamp":"2025-04-14T09:14:45.676119Z","counter":0,"function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope"}
{"@level":"debug","@message":"All queries processed","@timestamp":"2025-04-14T09:14:45.676148Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope"}
--- PASS: Test_QueryData (0.00s)
=== RUN   Test_CallResource
=== RUN   Test_CallResource/series_resource
{"@level":"debug","@message":"CallResource","@timestamp":"2025-04-14T09:14:45.676228Z","Body":null,"Method":"GET","Path":"profileTypes","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope"}
--- PASS: Test_CallResource (0.00s)
--- PASS: Test_CallResource/series_resource (0.00s)
=== RUN   Test_PyroscopeClient
=== RUN   Test_PyroscopeClient/GetSeries
=== RUN   Test_PyroscopeClient/GetProfile
=== RUN   Test_PyroscopeClient/GetProfile_with_empty_response
--- PASS: Test_PyroscopeClient (0.00s)
--- PASS: Test_PyroscopeClient/GetSeries (0.00s)
--- PASS: Test_PyroscopeClient/GetProfile (0.00s)
--- PASS: Test_PyroscopeClient/GetProfile_with_empty_response (0.00s)
=== RUN   Test_query
=== RUN   Test_query/query_both
{"@level":"debug","@message":"Calling GetProfile","@timestamp":"2025-04-14T09:14:45.676630Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":null,"refId":""}}
{"@level":"debug","@message":"Sending SelectSeriesRequest","@timestamp":"2025-04-14T09:14:45.676704Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":null,"refId":""}}
=== RUN   Test_query/query_profile
{"@level":"debug","@message":"Calling GetProfile","@timestamp":"2025-04-14T09:14:45.676794Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":null,"refId":""}}
=== RUN   Test_query/query_metrics
{"@level":"debug","@message":"Sending SelectSeriesRequest","@timestamp":"2025-04-14T09:14:45.676869Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":null,"refId":""}}
=== RUN   Test_query/query_metrics_uses_min_step
{"@level":"debug","@message":"Sending SelectSeriesRequest","@timestamp":"2025-04-14T09:14:45.676937Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":null,"refId":""}}
=== RUN   Test_query/query_metrics_uses_default_min_step
{"@level":"debug","@message":"Sending SelectSeriesRequest","@timestamp":"2025-04-14T09:14:45.677017Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":null,"refId":""}}
=== RUN   Test_query/query_metrics_uses_group_by
{"@level":"debug","@message":"Sending SelectSeriesRequest","@timestamp":"2025-04-14T09:14:45.677081Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/service.go:50[grafana-pyroscope-datasource.logEntrypoint]","logger":"tsdb.pyroscope","queryModel":{"WithStreaming":false,"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"memory:alloc_objects:count:space:bytes","groupBy":["app","instance"],"refId":""}}
--- PASS: Test_query (0.00s)
--- PASS: Test_query/query_both (0.00s)
--- PASS: Test_query/query_profile (0.00s)
--- PASS: Test_query/query_metrics (0.00s)
--- PASS: Test_query/query_metrics_uses_min_step (0.00s)
--- PASS: Test_query/query_metrics_uses_default_min_step (0.00s)
--- PASS: Test_query/query_metrics_uses_group_by (0.00s)
=== RUN   Test_profileToDataFrame
--- PASS: Test_profileToDataFrame (0.00s)
=== RUN   Test_levelsToTree
=== RUN   Test_levelsToTree/simple
=== RUN   Test_levelsToTree/medium
--- PASS: Test_levelsToTree (0.00s)
--- PASS: Test_levelsToTree/simple (0.00s)
--- PASS: Test_levelsToTree/medium (0.00s)
=== RUN   Test_treeToNestedDataFrame
=== RUN   Test_treeToNestedDataFrame/sample_profile_tree
=== RUN   Test_treeToNestedDataFrame/nil_profile_tree
--- PASS: Test_treeToNestedDataFrame (0.01s)
--- PASS: Test_treeToNestedDataFrame/sample_profile_tree (0.01s)
--- PASS: Test_treeToNestedDataFrame/nil_profile_tree (0.00s)
=== RUN   Test_seriesToDataFrame
=== RUN   Test_seriesToDataFrame/single_series
=== RUN   Test_seriesToDataFrame/single_series#01
--- PASS: Test_seriesToDataFrame (0.00s)
--- PASS: Test_seriesToDataFrame/single_series (0.00s)
--- PASS: Test_seriesToDataFrame/single_series#01 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/kinds/dataquery	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/grafana-pyroscope-datasource/standalone	[no test files]
=== RUN   TestSettingsHandler
--- PASS: TestSettingsHandler (0.00s)
=== RUN   TestCSVFileScenario
=== RUN   TestCSVFileScenario/loadCsvFile
=== RUN   TestCSVFileScenario/loadCsvFile/Should_load_CSV_Text:_simple
=== RUN   TestCSVFileScenario/loadCsvFile/Should_load_CSV_Text:_mixed
=== RUN   TestCSVFileScenario/loadCsvFile/Should_load_CSV_Text:_labels
=== RUN   TestCSVFileScenario/loadCsvFile/Should_not_allow_non_file_name_chars
--- PASS: TestCSVFileScenario (0.01s)
--- PASS: TestCSVFileScenario/loadCsvFile (0.01s)
--- PASS: TestCSVFileScenario/loadCsvFile/Should_load_CSV_Text:_simple (0.00s)
--- PASS: TestCSVFileScenario/loadCsvFile/Should_load_CSV_Text:_mixed (0.00s)
--- PASS: TestCSVFileScenario/loadCsvFile/Should_load_CSV_Text:_labels (0.00s)
--- PASS: TestCSVFileScenario/loadCsvFile/Should_not_allow_non_file_name_chars (0.00s)
=== RUN   TestReadCSV
--- PASS: TestReadCSV (0.00s)
=== RUN   TestTestdataScenarios
=== RUN   TestTestdataScenarios/random_walk_
=== RUN   TestTestdataScenarios/random_walk_/Should_start_at_the_requested_value
=== RUN   TestTestdataScenarios/random_walk_table
=== RUN   TestTestdataScenarios/random_walk_table/Should_return_a_table_that_looks_like_value/min/max
=== RUN   TestTestdataScenarios/random_walk_table/Should_return_a_table_with_some_nil_values
--- PASS: TestTestdataScenarios (0.00s)
--- PASS: TestTestdataScenarios/random_walk_ (0.00s)
--- PASS: TestTestdataScenarios/random_walk_/Should_start_at_the_requested_value (0.00s)
--- PASS: TestTestdataScenarios/random_walk_table (0.00s)
--- PASS: TestTestdataScenarios/random_walk_table/Should_return_a_table_that_looks_like_value/min/max (0.00s)
--- PASS: TestTestdataScenarios/random_walk_table/Should_return_a_table_with_some_nil_values (0.00s)
=== RUN   TestParseLabels
=== RUN   TestParseLabels/wrapped_in_{}_and_quoted_value_
=== RUN   TestParseLabels/comma-separated_non-quoted
=== RUN   TestParseLabels/comma-separated_quoted
=== RUN   TestParseLabels/comma-separated_with_spaces,_non_quoted
=== RUN   TestParseLabels/expands_$seriesIndex
--- PASS: TestParseLabels (0.00s)
--- PASS: TestParseLabels/wrapped_in_{}_and_quoted_value_ (0.00s)
--- PASS: TestParseLabels/comma-separated_non-quoted (0.00s)
--- PASS: TestParseLabels/comma-separated_quoted (0.00s)
--- PASS: TestParseLabels/comma-separated_with_spaces,_non_quoted (0.00s)
--- PASS: TestParseLabels/expands_$seriesIndex (0.00s)
=== RUN   TestUSAScenario
=== RUN   TestUSAScenario/usa_query_modes
--- PASS: TestUSAScenario (0.01s)
--- PASS: TestUSAScenario/usa_query_modes (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/grafana-testdata-datasource	0.032s
=== RUN   TestQueryTypeDefinitions
--- PASS: TestQueryTypeDefinitions (0.02s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/grafana-testdata-datasource/kinds	0.037s
=== RUN   TestCoreSimulationRegistry
--- PASS: TestCoreSimulationRegistry (0.00s)
=== RUN   TestFlightPathQuery
=== RUN   TestFlightPathQuery/simple_flight
--- PASS: TestFlightPathQuery (0.00s)
--- PASS: TestFlightPathQuery/simple_flight (0.00s)
=== RUN   TestSimulationUtils
--- PASS: TestSimulationUtils (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/grafana-testdata-datasource/sims	0.015s
?   	github.com/grafana/grafana/pkg/tsdb/grafana-testdata-datasource/standalone	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/grafanads	[no test files]
=== RUN   TestFixIntervalFormat
=== RUN   TestFixIntervalFormat/should_transform_1m_to_graphite_unit_(1min)_when_used_as_interval_string
=== RUN   TestFixIntervalFormat/should_transform_1M_to_graphite_unit_(1mon)_when_used_as_interval_string
=== RUN   TestFixIntervalFormat/should_not_transform_1m_when_not_used_as_interval_string
=== RUN   TestFixIntervalFormat/should_not_transform_1M_when_not_used_as_interval_string
--- PASS: TestFixIntervalFormat (0.00s)
--- PASS: TestFixIntervalFormat/should_transform_1m_to_graphite_unit_(1min)_when_used_as_interval_string (0.00s)
--- PASS: TestFixIntervalFormat/should_transform_1M_to_graphite_unit_(1mon)_when_used_as_interval_string (0.00s)
--- PASS: TestFixIntervalFormat/should_not_transform_1m_when_not_used_as_interval_string (0.00s)
--- PASS: TestFixIntervalFormat/should_not_transform_1M_when_not_used_as_interval_string (0.00s)
=== RUN   TestProcessQueries
=== RUN   TestProcessQueries/Parses_single_valid_query
=== RUN   TestProcessQueries/Parses_multiple_valid_queries_with_refId_mappings
=== RUN   TestProcessQueries/Parses_multiple_queries_with_one_invalid
=== RUN   TestProcessQueries/QueryData_with_no_valid_queries_returns_bad_request_response
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-14T09:14:47.426026Z","error":"label name cannot be empty"}
=== RUN   TestProcessQueries/QueryData_with_no_queries_returns_an_error
=== RUN   TestProcessQueries/QueryData_happy_path_with_service_provider_and_plugin_context
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-14T09:14:47.426640Z","error":"label name cannot be empty"}
--- PASS: TestProcessQueries (0.00s)
--- PASS: TestProcessQueries/Parses_single_valid_query (0.00s)
--- PASS: TestProcessQueries/Parses_multiple_valid_queries_with_refId_mappings (0.00s)
--- PASS: TestProcessQueries/Parses_multiple_queries_with_one_invalid (0.00s)
--- PASS: TestProcessQueries/QueryData_with_no_valid_queries_returns_bad_request_response (0.00s)
--- PASS: TestProcessQueries/QueryData_with_no_queries_returns_an_error (0.00s)
--- PASS: TestProcessQueries/QueryData_happy_path_with_service_provider_and_plugin_context (0.00s)
=== RUN   TestConvertResponses
=== RUN   TestConvertResponses/Converts_response_without_tags_to_data_frames
=== RUN   TestConvertResponses/Converts_response_with_tags_to_data_frames
=== RUN   TestConvertResponses/Converts_response_with_multiple_targets
=== RUN   TestConvertResponses/Converts_response_with_refId_mapping
=== RUN   TestConvertResponses/Chokes_on_response_with_invalid_target_name
--- PASS: TestConvertResponses (0.00s)
--- PASS: TestConvertResponses/Converts_response_without_tags_to_data_frames (0.00s)
--- PASS: TestConvertResponses/Converts_response_with_tags_to_data_frames (0.00s)
--- PASS: TestConvertResponses/Converts_response_with_multiple_targets (0.00s)
--- PASS: TestConvertResponses/Converts_response_with_refId_mapping (0.00s)
--- PASS: TestConvertResponses/Chokes_on_response_with_invalid_target_name (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/graphite	(cached)
=== RUN   Test_healthcheck
=== RUN   Test_healthcheck/should_do_successful_health_check_for_version_flux_
=== RUN   Test_healthcheck/should_do_successful_health_check_for_version_InfluxQL
=== RUN   Test_healthcheck/should_fail_when_version_is_unknown
--- PASS: Test_healthcheck (0.00s)
--- PASS: Test_healthcheck/should_do_successful_health_check_for_version_flux_ (0.00s)
--- PASS: Test_healthcheck/should_do_successful_health_check_for_version_InfluxQL (0.00s)
--- PASS: Test_healthcheck/should_fail_when_version_is_unknown (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb	(cached)
=== RUN   TestExecuteSimple
Name: test
Dimensions: 2 Fields by 2 Rows
+-----------------------------------------+-------------------------+
| Name: Time                              | Name: f                 |
| Labels:                                 | Labels: a=1, b=adsfasdf |
| Type: []*time.Time                      | Type: []*float64        |
+-----------------------------------------+-------------------------+
| 2020-02-18 10:34:08.135814545 +0000 UTC | 1.4                     |
| 2020-02-18 22:08:44.850214724 +0000 UTC | 6.6                     |
+-----------------------------------------+-------------------------+
2025-04-15T08:39:35.8912175Z
----------------------
--- PASS: TestExecuteSimple (0.10s)
=== RUN   TestExecuteSingle
--- PASS: TestExecuteSingle (0.10s)
=== RUN   TestExecuteMultiple
Name: test
Dimensions: 2 Fields by 2 Rows
+-----------------------------------------+-------------------------+
| Name: Time                              | Name: f                 |
| Labels:                                 | Labels: a=1, b=adsfasdf |
| Type: []*time.Time                      | Type: []*float64        |
+-----------------------------------------+-------------------------+
| 2020-02-18 10:34:08.135814545 +0000 UTC | 1.4                     |
| 2020-02-18 22:08:44.850214724 +0000 UTC | 6.6                     |
+-----------------------------------------+-------------------------+
2025-04-15T08:39:35.8915619Z
----------------------
--- PASS: TestExecuteMultiple (0.10s)
=== RUN   TestExecuteColumnNamedTable
--- PASS: TestExecuteColumnNamedTable (0.10s)
=== RUN   TestExecuteGrouping
Name: system
Dimensions: 2 Fields by 3 Rows
+-----------------------------------------+-----------------------+
| Name: Time                              | Name: load1           |
| Labels:                                 | Labels: host=hostname |
| Type: []*time.Time                      | Type: []*float64      |
+-----------------------------------------+-----------------------+
| 2020-05-05 18:38:50 +0000 UTC           | null                  |
| 2020-05-05 18:39:00 +0000 UTC           | 3.56                  |
| 2020-05-05 19:38:47.207881833 +0000 UTC | null                  |
+-----------------------------------------+-----------------------+
2025-04-15T08:39:35.8919376Z
----------------------
--- PASS: TestExecuteGrouping (0.10s)
=== RUN   TestAggregateGrouping
Name:
Dimensions: 2 Fields by 3 Rows
+-------------------------------+--------------------------+
| Name: Time                    | Name: Value              |
| Labels:                       | Labels: host=hostname.ru |
| Type: []*time.Time            | Type: []*float64         |
+-------------------------------+--------------------------+
| 2020-06-05 12:06:00 +0000 UTC | 8.291                    |
| 2020-06-05 12:07:00 +0000 UTC | 0.534                    |
| 2020-06-05 12:08:00 +0000 UTC | 0.667                    |
+-------------------------------+--------------------------+
2025-04-15T08:39:35.8922498Z
--- PASS: TestAggregateGrouping (0.10s)
=== RUN   TestNonStandardTimeColumn
Name:
Dimensions: 3 Fields by 1 Rows
+-----------------------------------------+-----------------------------------------+------------------+
| Name: _start_water                      | Name: _stop_water                       | Name: _value     |
| Labels: st=1                            | Labels: st=1                            | Labels: st=1     |
| Type: []*time.Time                      | Type: []*time.Time                      | Type: []*float64 |
+-----------------------------------------+-----------------------------------------+------------------+
| 2020-06-28 17:50:13.012584046 +0000 UTC | 2020-06-29 17:50:13.012584046 +0000 UTC | 156.304          |
+-----------------------------------------+-----------------------------------------+------------------+
2025-04-15T08:39:35.8925521Z
--- PASS: TestNonStandardTimeColumn (0.10s)
=== RUN   TestBuckets
--- PASS: TestBuckets (0.10s)
=== RUN   TestBooleanTagGrouping
--- PASS: TestBooleanTagGrouping (0.10s)
=== RUN   TestBooleanData
--- PASS: TestBooleanData (0.10s)
=== RUN   TestGoldenFiles
--- PASS: TestGoldenFiles (0.10s)
=== RUN   TestRealQuery
executor_test.go:219:
--- SKIP: TestRealQuery (0.00s)
=== RUN   TestMaxSeriesExceeded
--- PASS: TestMaxSeriesExceeded (0.10s)
=== RUN   TestMaxDataPointsExceededNoAggregate
--- PASS: TestMaxDataPointsExceededNoAggregate (0.10s)
=== RUN   TestMaxDataPointsExceededWithAggregate
--- PASS: TestMaxDataPointsExceededWithAggregate (0.10s)
=== RUN   TestMultivalue
--- PASS: TestMultivalue (0.10s)
=== RUN   TestMultiTime
--- PASS: TestMultiTime (0.10s)
=== RUN   TestTimestampFirst
--- PASS: TestTimestampFirst (0.10s)
=== RUN   TestWithoutTimeColumn
--- PASS: TestWithoutTimeColumn (0.10s)
=== RUN   TestInterpolate
=== RUN   TestInterpolate/interpolate_flux_variables
=== RUN   TestInterpolate/don't_interpolate_bucket_variable_in_join_query
--- PASS: TestInterpolate (0.00s)
--- PASS: TestInterpolate/interpolate_flux_variables (0.00s)
--- PASS: TestInterpolate/don't_interpolate_bucket_variable_in_join_query (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/flux	1.858s
=== RUN   TestNewQueryDataResponse
--- PASS: TestNewQueryDataResponse (0.00s)
=== RUN   TestNewQueryDataResponse_Error
--- PASS: TestNewQueryDataResponse_Error (0.00s)
=== RUN   TestNewQueryDataResponse_WideTable
--- PASS: TestNewQueryDataResponse_WideTable (0.00s)
=== RUN   TestNewFrame
--- PASS: TestNewFrame (0.00s)
=== RUN   TestCopyData_String
--- PASS: TestCopyData_String (0.00s)
=== RUN   TestCopyData_Timestamp
--- PASS: TestCopyData_Timestamp (0.00s)
=== RUN   TestCopyData_Boolean
--- PASS: TestCopyData_Boolean (0.00s)
=== RUN   TestCopyData_Int64
--- PASS: TestCopyData_Int64 (0.00s)
=== RUN   TestCopyData_Float64
--- PASS: TestCopyData_Float64 (0.00s)
=== RUN   TestCustomMetadata
--- PASS: TestCustomMetadata (0.00s)
=== RUN   TestFSQLTestSuite
=== RUN   TestFSQLTestSuite/TestIntegration_QueryData
=== RUN   TestFSQLTestSuite/TestIntegration_QueryData/should_run_simple_query_data
--- PASS: TestFSQLTestSuite (0.01s)
--- PASS: TestFSQLTestSuite/TestIntegration_QueryData (0.01s)
--- PASS: TestFSQLTestSuite/TestIntegration_QueryData/should_run_simple_query_data (0.01s)
=== RUN   TestInvalidSchema
--- PASS: TestInvalidSchema (0.00s)
=== RUN   TestParseURL
=== RUN   TestParseURL/empty_URL
=== RUN   TestParseURL/URL_without_scheme
=== RUN   TestParseURL/URL_without_scheme_and_with_port
=== RUN   TestParseURL/URL_without_port
=== RUN   TestParseURL/URL_with_http_scheme
=== RUN   TestParseURL/URL_with_https_scheme
--- PASS: TestParseURL (0.00s)
--- PASS: TestParseURL/empty_URL (0.00s)
--- PASS: TestParseURL/URL_without_scheme (0.00s)
--- PASS: TestParseURL/URL_without_scheme_and_with_port (0.00s)
--- PASS: TestParseURL/URL_without_port (0.00s)
--- PASS: TestParseURL/URL_with_http_scheme (0.00s)
--- PASS: TestParseURL/URL_with_https_scheme (0.00s)
=== RUN   TestMacros
=== RUN   TestMacros/select_*_from_x
=== RUN   TestMacros/select_date_bin($__interval,_time,_timestamp_'1970-01-01T00:00:00Z')
=== RUN   TestMacros/select_$__dateBin(time)
=== RUN   TestMacros/select_$__dateBinAlias(time)
=== RUN   TestMacros/select_*_from_x_where_$__timeFilter(time)
=== RUN   TestMacros/select_*_from_x_where_time_>=_$__timeFrom
=== RUN   TestMacros/select_*_from_x_where_time_<_$__timeTo
--- PASS: TestMacros (0.00s)
--- PASS: TestMacros/select_*_from_x (0.00s)
--- PASS: TestMacros/select_date_bin($__interval,_time,_timestamp_'1970-01-01T00:00:00Z') (0.00s)
--- PASS: TestMacros/select_$__dateBin(time) (0.00s)
--- PASS: TestMacros/select_$__dateBinAlias(time) (0.00s)
--- PASS: TestMacros/select_*_from_x_where_$__timeFilter(time) (0.00s)
--- PASS: TestMacros/select_*_from_x_where_time_>=_$__timeFrom (0.00s)
--- PASS: TestMacros/select_*_from_x_where_time_<_$__timeTo (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/fsql	(cached)
=== RUN   TestExecutor_createRequest
=== RUN   TestExecutor_createRequest/createRequest_with_GET_httpMode
=== RUN   TestExecutor_createRequest/createRequest_with_POST_httpMode
=== RUN   TestExecutor_createRequest/createRequest_with_PUT_httpMode
--- PASS: TestExecutor_createRequest (0.00s)
--- PASS: TestExecutor_createRequest/createRequest_with_GET_httpMode (0.00s)
--- PASS: TestExecutor_createRequest/createRequest_with_POST_httpMode (0.00s)
--- PASS: TestExecutor_createRequest/createRequest_with_PUT_httpMode (0.00s)
=== RUN   TestReadCustomMetadata
=== RUN   TestReadCustomMetadata/should_read_nothing_if_no_X-Grafana-Meta-Add-<Thing>_header_exists
=== RUN   TestReadCustomMetadata/should_read_X-Grafana-Meta-Add-<Thing>_header
=== RUN   TestReadCustomMetadata/should_read_multiple_X-Grafana-Meta-Add-<Thing>_header
--- PASS: TestReadCustomMetadata (0.00s)
--- PASS: TestReadCustomMetadata/should_read_nothing_if_no_X-Grafana-Meta-Add-<Thing>_header_exists (0.00s)
--- PASS: TestReadCustomMetadata/should_read_X-Grafana-Meta-Add-<Thing>_header (0.00s)
--- PASS: TestReadCustomMetadata/should_read_multiple_X-Grafana-Meta-Add-<Thing>_header (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/influxql	(cached)
=== RUN   TestReadInfluxAsTimeSeries
=== RUN   TestReadInfluxAsTimeSeries/all_values_are_null
=== RUN   TestReadInfluxAsTimeSeries/influx_select_all_from_cpu
=== RUN   TestReadInfluxAsTimeSeries/one_measurement_with_two_columns
=== RUN   TestReadInfluxAsTimeSeries/response_with_weird_tag
=== RUN   TestReadInfluxAsTimeSeries/some_values_are_null
=== RUN   TestReadInfluxAsTimeSeries/simple_response
=== RUN   TestReadInfluxAsTimeSeries/multiple_series_with_tags_and_multiple_columns
=== RUN   TestReadInfluxAsTimeSeries/multiple_series_with_tags
=== RUN   TestReadInfluxAsTimeSeries/empty_response
=== RUN   TestReadInfluxAsTimeSeries/metric_find_queries
=== RUN   TestReadInfluxAsTimeSeries/show_tag_values_response
=== RUN   TestReadInfluxAsTimeSeries/retention_policy
=== RUN   TestReadInfluxAsTimeSeries/simple_response_with_diverse_data_types
=== RUN   TestReadInfluxAsTimeSeries/multiple_measurements
=== RUN   TestReadInfluxAsTimeSeries/string_column_with_null_value
=== RUN   TestReadInfluxAsTimeSeries/string_column_with_null_value2
=== RUN   TestReadInfluxAsTimeSeries/many_columns
=== RUN   TestReadInfluxAsTimeSeries/response_with_nil_bools_and_nil_strings
=== RUN   TestReadInfluxAsTimeSeries/invalid_value_format
--- PASS: TestReadInfluxAsTimeSeries (0.02s)
--- PASS: TestReadInfluxAsTimeSeries/all_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/influx_select_all_from_cpu (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/one_measurement_with_two_columns (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/response_with_weird_tag (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/some_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/simple_response (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/multiple_series_with_tags_and_multiple_columns (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/multiple_series_with_tags (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/empty_response (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/metric_find_queries (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/show_tag_values_response (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/retention_policy (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/simple_response_with_diverse_data_types (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/multiple_measurements (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/string_column_with_null_value (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/string_column_with_null_value2 (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/many_columns (0.01s)
--- PASS: TestReadInfluxAsTimeSeries/response_with_nil_bools_and_nil_strings (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/invalid_value_format (0.00s)
=== RUN   TestReadInfluxAsTable
=== RUN   TestReadInfluxAsTable/all_values_are_null
=== RUN   TestReadInfluxAsTable/influx_select_all_from_cpu
=== RUN   TestReadInfluxAsTable/one_measurement_with_two_columns
=== RUN   TestReadInfluxAsTable/response_with_weird_tag
=== RUN   TestReadInfluxAsTable/some_values_are_null
=== RUN   TestReadInfluxAsTable/simple_response
=== RUN   TestReadInfluxAsTable/multiple_series_with_tags_and_multiple_columns
=== RUN   TestReadInfluxAsTable/multiple_series_with_tags
=== RUN   TestReadInfluxAsTable/empty_response
=== RUN   TestReadInfluxAsTable/metric_find_queries
=== RUN   TestReadInfluxAsTable/show_tag_values_response
=== RUN   TestReadInfluxAsTable/retention_policy
=== RUN   TestReadInfluxAsTable/simple_response_with_diverse_data_types
=== RUN   TestReadInfluxAsTable/multiple_measurements
=== RUN   TestReadInfluxAsTable/string_column_with_null_value
=== RUN   TestReadInfluxAsTable/string_column_with_null_value2
=== RUN   TestReadInfluxAsTable/many_columns
=== RUN   TestReadInfluxAsTable/response_with_nil_bools_and_nil_strings
=== RUN   TestReadInfluxAsTable/invalid_value_format
--- PASS: TestReadInfluxAsTable (0.01s)
--- PASS: TestReadInfluxAsTable/all_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTable/influx_select_all_from_cpu (0.00s)
--- PASS: TestReadInfluxAsTable/one_measurement_with_two_columns (0.00s)
--- PASS: TestReadInfluxAsTable/response_with_weird_tag (0.00s)
--- PASS: TestReadInfluxAsTable/some_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTable/simple_response (0.00s)
--- PASS: TestReadInfluxAsTable/multiple_series_with_tags_and_multiple_columns (0.00s)
--- PASS: TestReadInfluxAsTable/multiple_series_with_tags (0.00s)
--- PASS: TestReadInfluxAsTable/empty_response (0.00s)
--- PASS: TestReadInfluxAsTable/metric_find_queries (0.00s)
--- PASS: TestReadInfluxAsTable/show_tag_values_response (0.00s)
--- PASS: TestReadInfluxAsTable/retention_policy (0.00s)
--- PASS: TestReadInfluxAsTable/simple_response_with_diverse_data_types (0.00s)
--- PASS: TestReadInfluxAsTable/multiple_measurements (0.00s)
--- PASS: TestReadInfluxAsTable/string_column_with_null_value (0.00s)
--- PASS: TestReadInfluxAsTable/string_column_with_null_value2 (0.00s)
--- PASS: TestReadInfluxAsTable/many_columns (0.00s)
--- PASS: TestReadInfluxAsTable/response_with_nil_bools_and_nil_strings (0.00s)
--- PASS: TestReadInfluxAsTable/invalid_value_format (0.00s)
=== RUN   TestParsingAsTimeSeriesWithoutTimeColumn
=== RUN   TestParsingAsTimeSeriesWithoutTimeColumn/cardinality
--- PASS: TestParsingAsTimeSeriesWithoutTimeColumn (0.00s)
--- PASS: TestParsingAsTimeSeriesWithoutTimeColumn/cardinality (0.00s)
=== RUN   TestInfluxdbResponseParser
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_should_handle_invalid_JSON
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_alias
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_alias/should_parse_aliases
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_alias/shouldn't_parse_aliases
=== RUN   TestInfluxdbResponseParser/create_frames_for_tag_values_and_without_time_column_even_the_query_string_has_cardinality_as_string
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_errors
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_top-level_error
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_error_message
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_nil
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_valid_JSON.number
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_invalid_type
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_with_invalid_timestamp-format
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_parseTimestamp_valid_number
=== RUN   TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_invalid_type#01
--- PASS: TestInfluxdbResponseParser (0.01s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_should_handle_invalid_JSON (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_alias (0.01s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_alias/should_parse_aliases (0.01s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_alias/shouldn't_parse_aliases (0.00s)
--- PASS: TestInfluxdbResponseParser/create_frames_for_tag_values_and_without_time_column_even_the_query_string_has_cardinality_as_string (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_errors (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_top-level_error (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_error_message (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_nil (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_valid_JSON.number (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_invalid_type (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_with_invalid_timestamp-format (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_parseTimestamp_valid_number (0.00s)
--- PASS: TestInfluxdbResponseParser/Influxdb_response_parser_parseNumber_invalid_type#01 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/influxql/buffered	0.059s
=== RUN   TestMaybeFixValueFieldType
=== RUN   TestMaybeFixValueFieldType/should_do_nothing_if_both_are_the_same_type_(bool)
=== RUN   TestMaybeFixValueFieldType/should_do_nothing_if_both_are_the_same_type_(string)
=== RUN   TestMaybeFixValueFieldType/should_do_nothing_if_both_are_the_same_type_(float64)
=== RUN   TestMaybeFixValueFieldType/should_return_nullableJson_if_both_are_nullableJson
=== RUN   TestMaybeFixValueFieldType/should_return_nullableString_if_valueField_is_nullableJson_and_input_is_nullableString
=== RUN   TestMaybeFixValueFieldType/should_return_nullableBool_if_valueField_is_nullableJson_and_input_is_nullableBool
=== RUN   TestMaybeFixValueFieldType/should_return_nullableFloat64_if_valueField_is_nullableJson_and_input_is_nullableFloat64
=== RUN   TestMaybeFixValueFieldType/should_do_nothing_if_valueField_is_different_than_nullableJson_and_input_is_anything_but_nullableJson
--- PASS: TestMaybeFixValueFieldType (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_do_nothing_if_both_are_the_same_type_(bool) (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_do_nothing_if_both_are_the_same_type_(string) (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_do_nothing_if_both_are_the_same_type_(float64) (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_return_nullableJson_if_both_are_nullableJson (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_return_nullableString_if_valueField_is_nullableJson_and_input_is_nullableString (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_return_nullableBool_if_valueField_is_nullableJson_and_input_is_nullableBool (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_return_nullableFloat64_if_valueField_is_nullableJson_and_input_is_nullableFloat64 (0.00s)
--- PASS: TestMaybeFixValueFieldType/should_do_nothing_if_valueField_is_different_than_nullableJson_and_input_is_anything_but_nullableJson (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/influxql/converter	(cached)
=== RUN   TestReadInfluxAsTimeSeries
=== RUN   TestReadInfluxAsTimeSeries/all_values_are_null
=== RUN   TestReadInfluxAsTimeSeries/influx_select_all_from_cpu
=== RUN   TestReadInfluxAsTimeSeries/one_measurement_with_two_columns
=== RUN   TestReadInfluxAsTimeSeries/response_with_weird_tag
=== RUN   TestReadInfluxAsTimeSeries/some_values_are_null
=== RUN   TestReadInfluxAsTimeSeries/simple_response
=== RUN   TestReadInfluxAsTimeSeries/multiple_series_with_tags_and_multiple_columns
=== RUN   TestReadInfluxAsTimeSeries/multiple_series_with_tags
=== RUN   TestReadInfluxAsTimeSeries/empty_response
=== RUN   TestReadInfluxAsTimeSeries/metric_find_queries
=== RUN   TestReadInfluxAsTimeSeries/show_tag_values_response
=== RUN   TestReadInfluxAsTimeSeries/retention_policy
=== RUN   TestReadInfluxAsTimeSeries/simple_response_with_diverse_data_types
=== RUN   TestReadInfluxAsTimeSeries/multiple_measurements
=== RUN   TestReadInfluxAsTimeSeries/string_column_with_null_value
=== RUN   TestReadInfluxAsTimeSeries/string_column_with_null_value2
=== RUN   TestReadInfluxAsTimeSeries/many_columns
=== RUN   TestReadInfluxAsTimeSeries/response_with_nil_bools_and_nil_strings
=== RUN   TestReadInfluxAsTimeSeries/invalid_value_format
--- PASS: TestReadInfluxAsTimeSeries (0.03s)
--- PASS: TestReadInfluxAsTimeSeries/all_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/influx_select_all_from_cpu (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/one_measurement_with_two_columns (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/response_with_weird_tag (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/some_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/simple_response (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/multiple_series_with_tags_and_multiple_columns (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/multiple_series_with_tags (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/empty_response (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/metric_find_queries (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/show_tag_values_response (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/retention_policy (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/simple_response_with_diverse_data_types (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/multiple_measurements (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/string_column_with_null_value (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/string_column_with_null_value2 (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/many_columns (0.01s)
--- PASS: TestReadInfluxAsTimeSeries/response_with_nil_bools_and_nil_strings (0.00s)
--- PASS: TestReadInfluxAsTimeSeries/invalid_value_format (0.00s)
=== RUN   TestReadInfluxAsTable
=== RUN   TestReadInfluxAsTable/all_values_are_null
=== RUN   TestReadInfluxAsTable/influx_select_all_from_cpu
=== RUN   TestReadInfluxAsTable/one_measurement_with_two_columns
=== RUN   TestReadInfluxAsTable/response_with_weird_tag
=== RUN   TestReadInfluxAsTable/some_values_are_null
=== RUN   TestReadInfluxAsTable/simple_response
=== RUN   TestReadInfluxAsTable/multiple_series_with_tags_and_multiple_columns
=== RUN   TestReadInfluxAsTable/multiple_series_with_tags
=== RUN   TestReadInfluxAsTable/empty_response
=== RUN   TestReadInfluxAsTable/metric_find_queries
=== RUN   TestReadInfluxAsTable/show_tag_values_response
=== RUN   TestReadInfluxAsTable/retention_policy
=== RUN   TestReadInfluxAsTable/simple_response_with_diverse_data_types
=== RUN   TestReadInfluxAsTable/multiple_measurements
=== RUN   TestReadInfluxAsTable/string_column_with_null_value
=== RUN   TestReadInfluxAsTable/string_column_with_null_value2
=== RUN   TestReadInfluxAsTable/many_columns
=== RUN   TestReadInfluxAsTable/response_with_nil_bools_and_nil_strings
=== RUN   TestReadInfluxAsTable/invalid_value_format
--- PASS: TestReadInfluxAsTable (0.01s)
--- PASS: TestReadInfluxAsTable/all_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTable/influx_select_all_from_cpu (0.00s)
--- PASS: TestReadInfluxAsTable/one_measurement_with_two_columns (0.00s)
--- PASS: TestReadInfluxAsTable/response_with_weird_tag (0.00s)
--- PASS: TestReadInfluxAsTable/some_values_are_null (0.00s)
--- PASS: TestReadInfluxAsTable/simple_response (0.00s)
--- PASS: TestReadInfluxAsTable/multiple_series_with_tags_and_multiple_columns (0.00s)
--- PASS: TestReadInfluxAsTable/multiple_series_with_tags (0.00s)
--- PASS: TestReadInfluxAsTable/empty_response (0.00s)
--- PASS: TestReadInfluxAsTable/metric_find_queries (0.00s)
--- PASS: TestReadInfluxAsTable/show_tag_values_response (0.00s)
--- PASS: TestReadInfluxAsTable/retention_policy (0.00s)
--- PASS: TestReadInfluxAsTable/simple_response_with_diverse_data_types (0.00s)
--- PASS: TestReadInfluxAsTable/multiple_measurements (0.00s)
--- PASS: TestReadInfluxAsTable/string_column_with_null_value (0.00s)
--- PASS: TestReadInfluxAsTable/string_column_with_null_value2 (0.00s)
--- PASS: TestReadInfluxAsTable/many_columns (0.00s)
--- PASS: TestReadInfluxAsTable/response_with_nil_bools_and_nil_strings (0.00s)
--- PASS: TestReadInfluxAsTable/invalid_value_format (0.00s)
=== RUN   TestParsingAsTimeSeriesWithoutTimeColumn
=== RUN   TestParsingAsTimeSeriesWithoutTimeColumn/cardinality
=== RUN   TestParsingAsTimeSeriesWithoutTimeColumn/create_frames_for_tag_values_and_without_time_column_even_the_query_string_has_cardinality_as_string
--- PASS: TestParsingAsTimeSeriesWithoutTimeColumn (0.00s)
--- PASS: TestParsingAsTimeSeriesWithoutTimeColumn/cardinality (0.00s)
--- PASS: TestParsingAsTimeSeriesWithoutTimeColumn/create_frames_for_tag_values_and_without_time_column_even_the_query_string_has_cardinality_as_string (0.00s)
=== RUN   TestInfluxDBStreamingParser
=== RUN   TestInfluxDBStreamingParser/Influxdb_response_parser_with_error_message
--- PASS: TestInfluxDBStreamingParser (0.00s)
--- PASS: TestInfluxDBStreamingParser/Influxdb_response_parser_with_error_message (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/influxql/querydata	0.050s
=== RUN   TestParseString
=== RUN   TestParseString/parse_bool_value_to_string
=== RUN   TestParseString/parse_number_value_to_string
--- PASS: TestParseString (0.00s)
--- PASS: TestParseString/parse_bool_value_to_string (0.00s)
--- PASS: TestParseString/parse_number_value_to_string (0.00s)
=== RUN   TestFormatFrameName
=== RUN   TestFormatFrameName/no_alias
=== RUN   TestFormatFrameName/simple_alias
=== RUN   TestFormatFrameName/segmented_name
=== RUN   TestFormatFrameName/[[m]]_measurement_alias
=== RUN   TestFormatFrameName/$m_measurement_alias
=== RUN   TestFormatFrameName/[[measurement]]_measurement_alias
=== RUN   TestFormatFrameName/[[col]]_column_alias
=== RUN   TestFormatFrameName/$col_column_alias
=== RUN   TestFormatFrameName/[[tag_key]]_tag_alias
=== RUN   TestFormatFrameName/[[tag_key]]_tag_alias_with_space_in_tag
=== RUN   TestFormatFrameName/$tag_key_tag_alias
=== RUN   TestFormatFrameName/[[m]]_with_additional_text
=== RUN   TestFormatFrameName/$m_with_additional_text
=== RUN   TestFormatFrameName/[[measurement]]_with_additional_text
=== RUN   TestFormatFrameName/[[col]]_with_additional_text
=== RUN   TestFormatFrameName/$col_with_additional_text
=== RUN   TestFormatFrameName/[[tag_key]]_with_additional_text
=== RUN   TestFormatFrameName/$tag_key_with_additional_text
=== RUN   TestFormatFrameName/$tag_key_complex
=== RUN   TestFormatFrameName/$__interval
=== RUN   TestFormatFrameName/$__interval_ms
=== RUN   TestFormatFrameName/Complex_alias_with_$__interval_and_$tag_key
--- PASS: TestFormatFrameName (0.00s)
--- PASS: TestFormatFrameName/no_alias (0.00s)
--- PASS: TestFormatFrameName/simple_alias (0.00s)
--- PASS: TestFormatFrameName/segmented_name (0.00s)
--- PASS: TestFormatFrameName/[[m]]_measurement_alias (0.00s)
--- PASS: TestFormatFrameName/$m_measurement_alias (0.00s)
--- PASS: TestFormatFrameName/[[measurement]]_measurement_alias (0.00s)
--- PASS: TestFormatFrameName/[[col]]_column_alias (0.00s)
--- PASS: TestFormatFrameName/$col_column_alias (0.00s)
--- PASS: TestFormatFrameName/[[tag_key]]_tag_alias (0.00s)
--- PASS: TestFormatFrameName/[[tag_key]]_tag_alias_with_space_in_tag (0.00s)
--- PASS: TestFormatFrameName/$tag_key_tag_alias (0.00s)
--- PASS: TestFormatFrameName/[[m]]_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/$m_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/[[measurement]]_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/[[col]]_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/$col_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/[[tag_key]]_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/$tag_key_with_additional_text (0.00s)
--- PASS: TestFormatFrameName/$tag_key_complex (0.00s)
--- PASS: TestFormatFrameName/$__interval (0.00s)
--- PASS: TestFormatFrameName/$__interval_ms (0.00s)
--- PASS: TestFormatFrameName/Complex_alias_with_$__interval_and_$tag_key (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/influxql/util	(cached)
=== RUN   TestInfluxdbQueryParser_Parse
=== RUN   TestInfluxdbQueryParser_Parse/can_parse_influxdb_json_model
=== RUN   TestInfluxdbQueryParser_Parse/can_parse_raw_query_json_model
=== RUN   TestInfluxdbQueryParser_Parse/will_enforce_a_minInterval_of_1_millisecond
--- PASS: TestInfluxdbQueryParser_Parse (0.00s)
--- PASS: TestInfluxdbQueryParser_Parse/can_parse_influxdb_json_model (0.00s)
--- PASS: TestInfluxdbQueryParser_Parse/can_parse_raw_query_json_model (0.00s)
--- PASS: TestInfluxdbQueryParser_Parse/will_enforce_a_minInterval_of_1_millisecond (0.00s)
=== RUN   TestInfluxdbQueryPart
--- PASS: TestInfluxdbQueryPart (0.00s)
=== RUN   TestInfluxdbQueryBuilder
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_simple_query
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_tz
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_tz,_limit,_slimit,_orderByTime_and_puts_them_in_the_correct_order
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_group_bys
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_math_part
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_math_part_using_$__interval_ms_variable
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_old_$interval_variable
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_time_range
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_time_range/render_from:_2h_to_now-1h
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_time_range/render_from:_10m
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_from_raw_query
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_normal_tags_without_operator
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regex_tags_without_operator
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regex_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_numbers_less_then_condition_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_greater_then_condition_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_greater_than_or_equal_to_condition_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_less_than_or_equal_to_condition_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_boolean_equality_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_boolean_inequality_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_correct_case_of_boolean_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_strings_with_Is
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_integers_with_Is
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_negative_integers_with_Is
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_floats_with_Is
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_negative_floats_with_Is
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_string_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_escape_backslashes_when_rendering_string_tags
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regular_measurement
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regexp_measurement
=== RUN   TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_single_quoted_tag_value_when_regexed_value_has_been_sent
--- PASS: TestInfluxdbQueryBuilder (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_simple_query (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_tz (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_tz,_limit,_slimit,_orderByTime_and_puts_them_in_the_correct_order (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_group_bys (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_math_part (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_math_part_using_$__interval_ms_variable (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_with_old_$interval_variable (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_time_range (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_time_range/render_from:_2h_to_now-1h (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_time_range/render_from:_10m (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_build_query_from_raw_query (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_normal_tags_without_operator (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regex_tags_without_operator (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regex_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_numbers_less_then_condition_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_greater_then_condition_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_greater_than_or_equal_to_condition_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_number_less_than_or_equal_to_condition_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_boolean_equality_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_boolean_inequality_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_correct_case_of_boolean_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_strings_with_Is (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_integers_with_Is (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_negative_integers_with_Is (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_floats_with_Is (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_use_negative_floats_with_Is (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_string_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_escape_backslashes_when_rendering_string_tags (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regular_measurement (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_regexp_measurement (0.00s)
--- PASS: TestInfluxdbQueryBuilder/Influxdb_query_builder/can_render_single_quoted_tag_value_when_regexed_value_has_been_sent (0.00s)
=== RUN   TestRemoveRegexWrappers
=== RUN   TestRemoveRegexWrappers/remove_regex_wrappers
=== RUN   TestRemoveRegexWrappers/return_same_value_if_the_value_is_not_wrapped_by_regex_wrappers
--- PASS: TestRemoveRegexWrappers (0.00s)
--- PASS: TestRemoveRegexWrappers/remove_regex_wrappers (0.00s)
--- PASS: TestRemoveRegexWrappers/return_same_value_if_the_value_is_not_wrapped_by_regex_wrappers (0.00s)
=== RUN   TestRawQueryWithAdhocFilters
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_no_filters
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multi-byte_chars,_single_filter
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multi-byte_chars,_single_filter,_existing_where_condition
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_quoted_where,_single_filter
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_quoted_where,_single_filter,_existing_where_condition
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multiple_filters
=== RUN   TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multiple_filters,_existing_where_condition
--- PASS: TestRawQueryWithAdhocFilters (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_no_filters (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multi-byte_chars,_single_filter (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multi-byte_chars,_single_filter,_existing_where_condition (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_quoted_where,_single_filter (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_quoted_where,_single_filter,_existing_where_condition (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multiple_filters (0.00s)
--- PASS: TestRawQueryWithAdhocFilters/raw_query_+_adhoc_filters:_multiple_filters,_existing_where_condition (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/influxdb/models	(cached)
=== RUN   TestJaegerClient_Services
=== RUN   TestJaegerClient_Services/Successful_response
=== RUN   TestJaegerClient_Services/Non-200_response
=== RUN   TestJaegerClient_Services/Invalid_JSON_response
--- PASS: TestJaegerClient_Services (0.00s)
--- PASS: TestJaegerClient_Services/Successful_response (0.00s)
--- PASS: TestJaegerClient_Services/Non-200_response (0.00s)
--- PASS: TestJaegerClient_Services/Invalid_JSON_response (0.00s)
=== RUN   TestJaegerClient_Operations
=== RUN   TestJaegerClient_Operations/Successful_response
=== RUN   TestJaegerClient_Operations/Non-200_response
=== RUN   TestJaegerClient_Operations/Invalid_JSON_response
=== RUN   TestJaegerClient_Operations/Service_with_special_characters
=== RUN   TestJaegerClient_Operations/Empty_service
--- PASS: TestJaegerClient_Operations (0.00s)
--- PASS: TestJaegerClient_Operations/Successful_response (0.00s)
--- PASS: TestJaegerClient_Operations/Non-200_response (0.00s)
--- PASS: TestJaegerClient_Operations/Invalid_JSON_response (0.00s)
--- PASS: TestJaegerClient_Operations/Service_with_special_characters (0.00s)
--- PASS: TestJaegerClient_Operations/Empty_service (0.00s)
=== RUN   TestJaegerClient_Trace
=== RUN   TestJaegerClient_Trace/Successful_response_with_time_params_enabled
=== RUN   TestJaegerClient_Trace/Successful_response_with_time_params_disabled
=== RUN   TestJaegerClient_Trace/Non-200_response
=== RUN   TestJaegerClient_Trace/Invalid_JSON_response
=== RUN   TestJaegerClient_Trace/Empty_trace_ID
--- PASS: TestJaegerClient_Trace (0.00s)
--- PASS: TestJaegerClient_Trace/Successful_response_with_time_params_enabled (0.00s)
--- PASS: TestJaegerClient_Trace/Successful_response_with_time_params_disabled (0.00s)
--- PASS: TestJaegerClient_Trace/Non-200_response (0.00s)
--- PASS: TestJaegerClient_Trace/Invalid_JSON_response (0.00s)
--- PASS: TestJaegerClient_Trace/Empty_trace_ID (0.00s)
=== RUN   TestJaegerClient_Dependencies
=== RUN   TestJaegerClient_Dependencies/Successful_response_with_time_range
=== RUN   TestJaegerClient_Dependencies/Successful_response_without_time_range
=== RUN   TestJaegerClient_Dependencies/Non-200_response
=== RUN   TestJaegerClient_Dependencies/Invalid_JSON_response
=== RUN   TestJaegerClient_Dependencies/Empty_dependencies_response_and_no_errors
=== RUN   TestJaegerClient_Dependencies/Response_with_errors
--- PASS: TestJaegerClient_Dependencies (0.00s)
--- PASS: TestJaegerClient_Dependencies/Successful_response_with_time_range (0.00s)
--- PASS: TestJaegerClient_Dependencies/Successful_response_without_time_range (0.00s)
--- PASS: TestJaegerClient_Dependencies/Non-200_response (0.00s)
--- PASS: TestJaegerClient_Dependencies/Invalid_JSON_response (0.00s)
--- PASS: TestJaegerClient_Dependencies/Empty_dependencies_response_and_no_errors (0.00s)
--- PASS: TestJaegerClient_Dependencies/Response_with_errors (0.00s)
=== RUN   TestDataSourceInstanceSettings_TraceIdTimeEnabled
=== RUN   TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_enabled
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:30.202978Z","error":"label name cannot be empty"}
=== RUN   TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_disabled
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:30.203085Z","error":"label name cannot be empty"}
=== RUN   TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_not_specified
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:30.203139Z","error":"label name cannot be empty"}
=== RUN   TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_without_enabled
{"@level":"error","@message":"failed to sanitize datasource type","@timestamp":"2025-04-15T08:39:30.203183Z","error":"label name cannot be empty"}
=== RUN   TestDataSourceInstanceSettings_TraceIdTimeEnabled/Invalid_JSON
--- PASS: TestDataSourceInstanceSettings_TraceIdTimeEnabled (0.00s)
--- PASS: TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_enabled (0.00s)
--- PASS: TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_disabled (0.00s)
--- PASS: TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_not_specified (0.00s)
--- PASS: TestDataSourceInstanceSettings_TraceIdTimeEnabled/traceIdTimeParams_without_enabled (0.00s)
--- PASS: TestDataSourceInstanceSettings_TraceIdTimeEnabled/Invalid_JSON (0.00s)
=== RUN   TestTransformTraceResponse
=== RUN   TestTransformTraceResponse/simple_trace
=== RUN   TestTransformTraceResponse/complex_trace
--- PASS: TestTransformTraceResponse (0.00s)
--- PASS: TestTransformTraceResponse/simple_trace (0.00s)
--- PASS: TestTransformTraceResponse/complex_trace (0.00s)
=== RUN   TestTransformDependenciesResponse
=== RUN   TestTransformDependenciesResponse/simple_dependencies
=== RUN   TestTransformDependenciesResponse/empty_dependencies
=== RUN   TestTransformDependenciesResponse/complex_dependencies
--- PASS: TestTransformDependenciesResponse (0.00s)
--- PASS: TestTransformDependenciesResponse/simple_dependencies (0.00s)
--- PASS: TestTransformDependenciesResponse/empty_dependencies (0.00s)
--- PASS: TestTransformDependenciesResponse/complex_dependencies (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/jaeger	0.021s
=== RUN   TestApiLogVolume
=== RUN   TestApiLogVolume/log-volume_queries_should_set_log-volume_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.250721Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.250741Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"logsVolume"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.250803Z","contentLength":"","direction":"","duration":21780,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"logsVolume"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.250842Z","duration":19216,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiLogVolume/logs_sample_queries_should_set_logs_sample_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.250938Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.250948Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"logsSample"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.250963Z","contentLength":"","direction":"","duration":4820,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"logsSample"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.250982Z","duration":4929,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiLogVolume/data_sample_queries_should_set_data_sample_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251088Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251098Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"dataSample"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251113Z","contentLength":"","direction":"","duration":4699,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"dataSample"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251133Z","duration":5119,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiLogVolume/none_queries_should_not_set_X-Query-Tags_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251197Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251205Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"none"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251219Z","contentLength":"","direction":"","duration":3627,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"none"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251236Z","duration":3747,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiLogVolume/any_defined_supporting_query_should_not_set_X-Query-Tags_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251317Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251328Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"foo"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251342Z","contentLength":"","direction":"","duration":4849,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"foo"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251359Z","duration":4108,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiLogVolume/with_`structuredMetadata`_should_set_correct_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251421Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251428Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"logsVolume"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251441Z","contentLength":"","direction":"","duration":3446,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"logsVolume"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251456Z","duration":3186,"framesLength":0,"logger":"test","stage":"parseResponse"}
--- PASS: TestApiLogVolume (0.00s)
--- PASS: TestApiLogVolume/log-volume_queries_should_set_log-volume_http_header (0.00s)
--- PASS: TestApiLogVolume/logs_sample_queries_should_set_logs_sample_http_header (0.00s)
--- PASS: TestApiLogVolume/data_sample_queries_should_set_data_sample_http_header (0.00s)
--- PASS: TestApiLogVolume/none_queries_should_not_set_X-Query-Tags_http_header (0.00s)
--- PASS: TestApiLogVolume/any_defined_supporting_query_should_not_set_X-Query-Tags_http_header (0.00s)
--- PASS: TestApiLogVolume/with_`structuredMetadata`_should_set_correct_http_header (0.00s)
=== RUN   TestInfiniteScroll
=== RUN   TestInfiniteScroll/infinite_scrolling_queries_should_set_infinite_scroll_http_header
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251551Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251559Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":"infiniteScroll"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251573Z","contentLength":"","direction":"","duration":3707,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":"infiniteScroll"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251589Z","duration":4097,"framesLength":0,"logger":"test","stage":"parseResponse"}
--- PASS: TestInfiniteScroll (0.00s)
--- PASS: TestInfiniteScroll/infinite_scrolling_queries_should_set_infinite_scroll_http_header (0.00s)
=== RUN   TestApiUrlHandling
=== RUN   TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_no_path_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251742Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251752Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251768Z","contentLength":"","direction":"","duration":4789,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251787Z","duration":4899,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_just_a_slash_path_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251850Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251857Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251869Z","contentLength":"","direction":"","duration":3356,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251883Z","duration":3837,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_when_path-without-end-slash_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.251945Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.251953Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.251965Z","contentLength":"","direction":"","duration":3377,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.251978Z","duration":3206,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_path-with-end-slash_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252062Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.252072Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252085Z","contentLength":"","direction":"","duration":3647,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.252108Z","duration":10118,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_no_path_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252170Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.252178Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252191Z","contentLength":"","direction":"","duration":3466,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.252206Z","duration":3106,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_just_a_slash_path_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252263Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.252270Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252282Z","contentLength":"","direction":"","duration":2976,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.252298Z","duration":3246,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_when_path-without-end-slash_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252347Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.252360Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252373Z","contentLength":"","direction":"","duration":3887,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.252388Z","duration":3196,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_path-with-end-slash_in_datasource-config
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252663Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.252673Z","direction":"","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252687Z","contentLength":"","direction":"","duration":4098,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:3100","lokiPath":"/a/b/c/loki/api/v1/query","maxLines":0,"query":"","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.252706Z","duration":3788,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_no_path_in_datasource-config
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.252762Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252774Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252782Z","contentEncoding":"","contentLength":"","duration":4308,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":200}
=== RUN   TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_just_a_slash_path_in_datasource-config
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.252830Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252841Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252847Z","contentEncoding":"","contentLength":"","duration":3186,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":200}
=== RUN   TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_when_path-without-end-slash_in_datasource-config
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.252892Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252903Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252910Z","contentEncoding":"","contentLength":"","duration":3256,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":200}
=== RUN   TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_path-with-end-slash_in_datasource-config
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.252962Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.252972Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.252979Z","contentEncoding":"","contentLength":"","duration":3908,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":200}
--- PASS: TestApiUrlHandling (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_no_path_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_just_a_slash_path_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_when_path-without-end-slash_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_range-query_URL_correctly_when_path-with-end-slash_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_no_path_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_just_a_slash_path_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_when_path-without-end-slash_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_instant-query_URL_correctly_when_path-with-end-slash_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_no_path_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_just_a_slash_path_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_when_path-without-end-slash_in_datasource-config (0.00s)
--- PASS: TestApiUrlHandling/Loki_should_build_the_metadata_query_URL_correctly_when_path-with-end-slash_in_datasource-config (0.00s)
=== RUN   TestApiReturnValues
=== RUN   TestApiReturnValues/Loki_should_return_the_right_encoding
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.253063Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.253074Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.253080Z","contentEncoding":"gzip","contentLength":"","duration":1463,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":200}
=== RUN   TestApiReturnValues/Loki_should_return_the_error_as_message
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.253129Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.253139Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.253144Z","contentEncoding":"gzip","contentLength":"","duration":1152,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":400}
{"@level":"warn","@message":"Non 200 HTTP status received from loki","@timestamp":"2025-04-15T08:39:33.253151Z","error":"foo","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2","statusCode":400}
=== RUN   TestApiReturnValues/Loki_should_return_the_error_as_is
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.253222Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.253234Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.253239Z","contentEncoding":"gzip","contentLength":"","duration":1233,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":400}
{"@level":"warn","@message":"Non 200 HTTP status received from loki","@timestamp":"2025-04-15T08:39:33.253254Z","error":"foo","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2","statusCode":400}
=== RUN   TestApiReturnValues/Loki_should_not_return_the_error_on_500
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.253314Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.253325Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.253330Z","contentEncoding":"gzip","contentLength":"","duration":1352,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":500}
=== RUN   TestApiReturnValues/Loki_should_not_return_the_error_on_500_in_JSON
{"@level":"debug","@message":"Sending raw query to loki","@timestamp":"2025-04-15T08:39:33.253385Z","logger":"test","resourcePath":"/loki/api/v1/labels?start=1\u0026end=2"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.253395Z","logger":"tsdb.loki"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.253400Z","contentEncoding":"gzip","contentLength":"","duration":1172,"logger":"test","stage":"databaseRequest","status":"ok","statusCode":500}
--- PASS: TestApiReturnValues (0.00s)
--- PASS: TestApiReturnValues/Loki_should_return_the_right_encoding (0.00s)
--- PASS: TestApiReturnValues/Loki_should_return_the_error_as_message (0.00s)
--- PASS: TestApiReturnValues/Loki_should_return_the_error_as_is (0.00s)
--- PASS: TestApiReturnValues/Loki_should_not_return_the_error_on_500 (0.00s)
--- PASS: TestApiReturnValues/Loki_should_not_return_the_error_on_500_in_JSON (0.00s)
=== RUN   TestFormatName
=== RUN   TestFormatName/converting_metric_name
=== RUN   TestFormatName/build_full_series_name
--- PASS: TestFormatName (0.00s)
--- PASS: TestFormatName/converting_metric_name (0.00s)
--- PASS: TestFormatName/build_full_series_name (0.00s)
=== RUN   TestAdjustFrame
=== RUN   TestAdjustFrame/logs-frame_metadata_should_be_set_correctly
=== RUN   TestAdjustFrame/naming_inside_metric_fields_should_be_correct
=== RUN   TestAdjustFrame/should_set_interval-attribute_in_response
=== RUN   TestAdjustFrame/should_parse_response_stats
--- PASS: TestAdjustFrame (0.00s)
--- PASS: TestAdjustFrame/logs-frame_metadata_should_be_set_correctly (0.00s)
--- PASS: TestAdjustFrame/naming_inside_metric_fields_should_be_correct (0.00s)
--- PASS: TestAdjustFrame/should_set_interval-attribute_in_response (0.00s)
--- PASS: TestAdjustFrame/should_parse_response_stats (0.00s)
=== RUN   TestSuccessResponse
=== RUN   TestSuccessResponse/parse_a_simple_matrix_response
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.254115Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.254127Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.254141Z","contentLength":"","direction":"backward","duration":1854,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.254191Z","duration":38813,"framesLength":2,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.255421Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.255433Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.255447Z","contentLength":"","direction":"backward","duration":1513,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.255471Z","duration":13225,"framesLength":2,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_matrix_response_with_a_time-gap_in_the_middle
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.256092Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.256103Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.256115Z","contentLength":"","direction":"backward","duration":1392,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.256136Z","duration":8997,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.256584Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.256594Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.256606Z","contentLength":"","direction":"backward","duration":1403,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.256627Z","duration":8146,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_matrix_response_with_NaN
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.257207Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.257219Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.257231Z","contentLength":"","direction":"backward","duration":1653,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.257252Z","duration":8365,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.257714Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.257725Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.257738Z","contentLength":"","direction":"backward","duration":1473,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.257757Z","duration":7844,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_matrix_response_with_Infinity
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.258633Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.258643Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.258656Z","contentLength":"","direction":"backward","duration":1462,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.258677Z","duration":9788,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.259209Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.259220Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.259233Z","contentLength":"","direction":"backward","duration":1993,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.259255Z","duration":9779,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_matrix_response_with_very_small_step_value
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.259837Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.259847Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.259860Z","contentLength":"","direction":"backward","duration":1362,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.259880Z","duration":8395,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.260539Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.260551Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.260564Z","contentLength":"","direction":"backward","duration":1473,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.260585Z","duration":9607,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_matrix_response_with___name___label_normally
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.261174Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.261185Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.261199Z","contentLength":"","direction":"backward","duration":1873,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.261218Z","duration":7664,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.261894Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.261906Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.261918Z","contentLength":"","direction":"backward","duration":1393,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.261939Z","duration":7984,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_matrix_response_with_stats
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.262418Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.262428Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.262440Z","contentLength":"","direction":"backward","duration":1402,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.262474Z","duration":22642,"framesLength":2,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.263172Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.263183Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.263195Z","contentLength":"","direction":"backward","duration":1553,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.263226Z","duration":19406,"framesLength":2,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_simple_vector_response
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.263952Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.263962Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.263974Z","contentLength":"","direction":"backward","duration":1513,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.263997Z","duration":9648,"framesLength":2,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.264635Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.264645Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.264657Z","contentLength":"","direction":"backward","duration":1343,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.264679Z","duration":9678,"framesLength":2,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_vector_response_with_special_values
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.265196Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.265206Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.265224Z","contentLength":"","direction":"backward","duration":1372,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.265248Z","duration":11010,"framesLength":3,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.265989Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.265999Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.266031Z","contentLength":"","direction":"backward","duration":2455,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"query1","queryType":"instant","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.266059Z","duration":10660,"framesLength":3,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_simple_streams_response
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.267987Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.268046Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.268103Z","contentLength":"","direction":"backward","duration":4508,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.268244Z","duration":86451,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.269397Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.269412Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.269432Z","contentLength":"","direction":"backward","duration":2254,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.269489Z","duration":36799,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_a_streams_response_with_parse_errors
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.270423Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.270438Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.270461Z","contentLength":"","direction":"backward","duration":2144,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.270521Z","duration":21390,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.271213Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.271227Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.271246Z","contentLength":"","direction":"backward","duration":2064,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.271286Z","duration":20348,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_an_empty_response
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.271908Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.271922Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.271940Z","contentLength":"","direction":"backward","duration":1934,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.271965Z","duration":5310,"framesLength":0,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.272635Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.272649Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","start":"0001-01-01T00:00:00Z","step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.272666Z","contentLength":"","direction":"backward","duration":1803,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"up(ALERTS)","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":42000000000,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.272707Z","duration":4408,"framesLength":0,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_structured_metadata
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.273176Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.273190Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.273207Z","contentLength":"","direction":"backward","duration":2285,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.273273Z","duration":47438,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.274221Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.274235Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.274252Z","contentLength":"","direction":"backward","duration":1944,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.274326Z","duration":55604,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_structured_metadata_different_labels_each_log_line
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.275409Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.275424Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.275441Z","contentLength":"","direction":"backward","duration":2044,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.275508Z","duration":48180,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.276447Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.276460Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.276489Z","contentLength":"","direction":"backward","duration":2134,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.276565Z","duration":56706,"framesLength":1,"logger":"test","stage":"parseResponse"}
=== RUN   TestSuccessResponse/parse_warnings
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.277527Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.277540Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.277576Z","contentLength":"","direction":"backward","duration":21370,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.277603Z","duration":6312,"framesLength":1,"logger":"test","stage":"parseResponse"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.278218Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.278234Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.278251Z","contentLength":"","direction":"backward","duration":1833,"end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"query1","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"ok","statusCode":200,"step":0,"supportingQueryType":""}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.278276Z","duration":5891,"framesLength":1,"logger":"test","stage":"parseResponse"}
--- PASS: TestSuccessResponse (0.02s)
--- PASS: TestSuccessResponse/parse_a_simple_matrix_response (0.00s)
--- PASS: TestSuccessResponse/parse_a_matrix_response_with_a_time-gap_in_the_middle (0.00s)
--- PASS: TestSuccessResponse/parse_a_matrix_response_with_NaN (0.00s)
--- PASS: TestSuccessResponse/parse_a_matrix_response_with_Infinity (0.00s)
--- PASS: TestSuccessResponse/parse_a_matrix_response_with_very_small_step_value (0.00s)
--- PASS: TestSuccessResponse/parse_a_matrix_response_with___name___label_normally (0.00s)
--- PASS: TestSuccessResponse/parse_a_matrix_response_with_stats (0.00s)
--- PASS: TestSuccessResponse/parse_a_simple_vector_response (0.00s)
--- PASS: TestSuccessResponse/parse_a_vector_response_with_special_values (0.00s)
--- PASS: TestSuccessResponse/parse_a_simple_streams_response (0.00s)
--- PASS: TestSuccessResponse/parse_a_streams_response_with_parse_errors (0.00s)
--- PASS: TestSuccessResponse/parse_an_empty_response (0.00s)
--- PASS: TestSuccessResponse/parse_structured_metadata (0.00s)
--- PASS: TestSuccessResponse/parse_structured_metadata_different_labels_each_log_line (0.00s)
--- PASS: TestSuccessResponse/parse_warnings (0.00s)
=== RUN   TestErrorResponse
=== RUN   TestErrorResponse/parse_an_error_response_in_JSON
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.278709Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.278722Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.278748Z","contentLength":"","direction":"backward","duration":1904,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":400,"statusSource":"downstream","step":0,"supportingQueryType":""}
=== RUN   TestErrorResponse/parse_a_non-json_error_body_with_json_content_type
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.278882Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.278894Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.278923Z","contentLength":"","direction":"backward","duration":1613,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":400,"statusSource":"downstream","step":0,"supportingQueryType":""}
=== RUN   TestErrorResponse/parse_an_error_response_in_plain_text
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279056Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279067Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279086Z","contentLength":"","direction":"backward","duration":1513,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":400,"statusSource":"downstream","step":0,"supportingQueryType":""}
=== RUN   TestErrorResponse/parse_an_error_response_that_is_broken_JSON
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279203Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279214Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279231Z","contentLength":"","direction":"backward","duration":1393,"end":"0001-01-01T00:00:00Z","error":"{\"message\":\"error message but the JSON is not finished","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":400,"statusSource":"downstream","step":0,"supportingQueryType":""}
--- PASS: TestErrorResponse (0.00s)
--- PASS: TestErrorResponse/parse_an_error_response_in_JSON (0.00s)
--- PASS: TestErrorResponse/parse_a_non-json_error_body_with_json_content_type (0.00s)
--- PASS: TestErrorResponse/parse_an_error_response_in_plain_text (0.00s)
--- PASS: TestErrorResponse/parse_an_error_response_that_is_broken_JSON (0.00s)
=== RUN   TestErrorsFromResponseCodes
=== RUN   TestErrorsFromResponseCodes/parse_response_with_status_code_400_into_correct_error
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279381Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279393Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279414Z","contentLength":"","direction":"backward","duration":1482,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":400,"statusSource":"downstream","step":0,"supportingQueryType":""}
=== RUN   TestErrorsFromResponseCodes/parse_response_with_status_code_406_into_correct_error
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279534Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279545Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279563Z","contentLength":"","direction":"backward","duration":1473,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":406,"statusSource":"plugin","step":0,"supportingQueryType":""}
=== RUN   TestErrorsFromResponseCodes/parse_response_with_status_code_413_into_correct_error
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279669Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279680Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279709Z","contentLength":"","direction":"backward","duration":1843,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":413,"statusSource":"plugin","step":0,"supportingQueryType":""}
=== RUN   TestErrorsFromResponseCodes/parse_response_with_status_code_500_into_correct_error
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279815Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279825Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279842Z","contentLength":"","direction":"backward","duration":1723,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":500,"statusSource":"downstream","step":0,"supportingQueryType":""}
=== RUN   TestErrorsFromResponseCodes/parse_response_with_status_code_501_into_correct_error
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.279957Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.279968Z","direction":"backward","end":"0001-01-01T00:00:00Z","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","start":"0001-01-01T00:00:00Z","step":0,"supportingQueryType":""}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.279984Z","contentLength":"","direction":"backward","duration":1413,"end":"0001-01-01T00:00:00Z","error":"parse error at line 1, col 8: something is wrong","logger":"test","lokiHost":"localhost:9999","lokiPath":"/loki/api/v1/query_range","maxLines":0,"query":"","queryType":"range","stage":"databaseRequest","start":"0001-01-01T00:00:00Z","status":"error","statusCode":501,"statusSource":"plugin","step":0,"supportingQueryType":""}
--- PASS: TestErrorsFromResponseCodes (0.00s)
--- PASS: TestErrorsFromResponseCodes/parse_response_with_status_code_400_into_correct_error (0.00s)
--- PASS: TestErrorsFromResponseCodes/parse_response_with_status_code_406_into_correct_error (0.00s)
--- PASS: TestErrorsFromResponseCodes/parse_response_with_status_code_413_into_correct_error (0.00s)
--- PASS: TestErrorsFromResponseCodes/parse_response_with_status_code_500_into_correct_error (0.00s)
--- PASS: TestErrorsFromResponseCodes/parse_response_with_status_code_501_into_correct_error (0.00s)
=== RUN   Test_healthcheck
=== RUN   Test_healthcheck/should_do_a_successful_health_check
{"@level":"info","@message":"Prepared request to Loki","@timestamp":"2025-04-15T08:39:33.280316Z","duration":89888,"fromAlert":false,"logger":"loki test","queriesLength":1,"runInParallel":false,"stage":"prepareRequest"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.280350Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.280357Z","direction":"backward","end":"1970-01-01T00:00:04Z","fromAlert":false,"logger":"loki test","lokiHost":"loki:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"vector(1)+vector(1)","queryType":"instant","start":"1970-01-01T00:00:01Z","step":1000000000,"supportingQueryType":"none"}
{"@level":"info","@message":"Response received from loki","@timestamp":"2025-04-15T08:39:33.280395Z","contentLength":"","direction":"backward","duration":18594,"end":"1970-01-01T00:00:04Z","fromAlert":false,"logger":"loki test","lokiHost":"loki:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"vector(1)+vector(1)","queryType":"instant","stage":"databaseRequest","start":"1970-01-01T00:00:01Z","status":"ok","statusCode":200,"step":1000000000,"supportingQueryType":"none"}
{"@level":"info","@message":"Response parsed from loki","@timestamp":"2025-04-15T08:39:33.280432Z","duration":16371,"framesLength":1,"fromAlert":false,"logger":"loki test","stage":"parseResponse"}
{"@level":"debug","@message":"Executed queries","@timestamp":"2025-04-15T08:39:33.280449Z","duration":111589,"fromAlert":false,"logger":"loki test","queriesLength":1,"runInParallel":false}
=== RUN   Test_healthcheck/should_return_an_error_for_an_unsuccessful_health_check
{"@level":"info","@message":"Prepared request to Loki","@timestamp":"2025-04-15T08:39:33.280556Z","duration":7404,"fromAlert":false,"logger":"loki test","queriesLength":1,"runInParallel":false,"stage":"prepareRequest"}
{"@level":"debug","@message":"Metadata not present in context. Header not set","@timestamp":"2025-04-15T08:39:33.280584Z","logger":"tsdb.loki"}
{"@level":"debug","@message":"Sending query to loki","@timestamp":"2025-04-15T08:39:33.280590Z","direction":"backward","end":"1970-01-01T00:00:04Z","fromAlert":false,"logger":"loki test","lokiHost":"loki:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"vector(1)+vector(1)","queryType":"instant","start":"1970-01-01T00:00:01Z","step":1000000000,"supportingQueryType":"none"}
{"@level":"error","@message":"Error received from Loki","@timestamp":"2025-04-15T08:39:33.280618Z","contentLength":"","direction":"backward","duration":10068,"end":"1970-01-01T00:00:04Z","error":"","fromAlert":false,"logger":"loki test","lokiHost":"loki:3100","lokiPath":"/loki/api/v1/query","maxLines":0,"query":"vector(1)+vector(1)","queryType":"instant","stage":"databaseRequest","start":"1970-01-01T00:00:01Z","status":"error","statusCode":400,"statusSource":"downstream","step":1000000000,"supportingQueryType":"none"}
{"@level":"debug","@message":"Executed queries","@timestamp":"2025-04-15T08:39:33.280642Z","duration":68478,"fromAlert":false,"logger":"loki test","queriesLength":1,"runInParallel":false}
{"@level":"error","@message":"Loki health check failed","@timestamp":"2025-04-15T08:39:33.280652Z","endpoint":"checkHealth","error":"error from loki: ","logger":"loki test"}
--- PASS: Test_healthcheck (0.00s)
--- PASS: Test_healthcheck/should_do_a_successful_health_check (0.00s)
--- PASS: Test_healthcheck/should_return_an_error_for_an_unsuccessful_health_check (0.00s)
=== RUN   TestParseQuery
=== RUN   TestParseQuery/parsing_query_model
=== RUN   TestParseQuery/parsing_query_model_with_logsVolume_supporting_query_type
=== RUN   TestParseQuery/parsing_query_model_with_any_supporting_query_type
=== RUN   TestParseQuery/parsing_query_model_with_any_empty_query_type
=== RUN   TestParseQuery/parsing_query_model_with_scopes
=== RUN   TestParseQuery/interpolate_variables,_range_between_1s_and_0.5s
=== RUN   TestParseQuery/parsing_query_model,_range_below_0.5s
=== RUN   TestParseQuery/interpolate_variables,_curly-braces_syntax
=== RUN   TestParseQuery/interpolate_variables_should_work_with_$__auto_and_instant_query_type
=== RUN   TestParseQuery/interpolate_variables_should_work_with_$__auto_and_range_query_type
=== RUN   TestParseQuery/interpolate_variables_should_return_original_query_if_no_variables
--- PASS: TestParseQuery (0.00s)
--- PASS: TestParseQuery/parsing_query_model (0.00s)
--- PASS: TestParseQuery/parsing_query_model_with_logsVolume_supporting_query_type (0.00s)
--- PASS: TestParseQuery/parsing_query_model_with_any_supporting_query_type (0.00s)
--- PASS: TestParseQuery/parsing_query_model_with_any_empty_query_type (0.00s)
--- PASS: TestParseQuery/parsing_query_model_with_scopes (0.00s)
--- PASS: TestParseQuery/interpolate_variables,_range_between_1s_and_0.5s (0.00s)
--- PASS: TestParseQuery/parsing_query_model,_range_below_0.5s (0.00s)
--- PASS: TestParseQuery/interpolate_variables,_curly-braces_syntax (0.00s)
--- PASS: TestParseQuery/interpolate_variables_should_work_with_$__auto_and_instant_query_type (0.00s)
--- PASS: TestParseQuery/interpolate_variables_should_work_with_$__auto_and_range_query_type (0.00s)
--- PASS: TestParseQuery/interpolate_variables_should_return_original_query_if_no_variables (0.00s)
=== RUN   TestInjectScopesIntoLokiQuery
scopes_test.go:12:
--- SKIP: TestInjectScopesIntoLokiQuery (0.00s)
=== RUN   TestLokiStep
=== RUN   TestLokiStep/with_query_step
=== RUN   TestLokiStep/with_query_step/valid_step_in_go_duration_format
=== RUN   TestLokiStep/with_query_step/valid_step_as_number
=== RUN   TestLokiStep/with_query_step/step_with_1d
=== RUN   TestLokiStep/with_query_step/step_with_1w
=== RUN   TestLokiStep/with_query_step/invalid_step
=== RUN   TestLokiStep/with_no_query_step
=== RUN   TestLokiStep/with_no_query_step/base_case
=== RUN   TestLokiStep/with_no_query_step/step_should_be_at_least_1_millisecond
=== RUN   TestLokiStep/with_no_query_step/safeInterval_should_happen
=== RUN   TestLokiStep/with_no_query_step/step_should_math.Ceil_in_milliseconds
=== RUN   TestLokiStep/with_no_query_step/step_should_math.Ceil_in_milliseconds,_even_if_safeInterval_happens
=== RUN   TestLokiStep/with_no_query_step/resolution_should_happen
=== RUN   TestLokiStep/with_no_query_step/safeInterval_check_should_happen_after_resolution_is_used
=== RUN   TestLokiStep/with_no_query_step/survive_interval=0
=== RUN   TestLokiStep/with_no_query_step/survive_resolution=0
=== RUN   TestLokiStep/with_no_query_step/survive_interval=0_and_resolution=0
--- PASS: TestLokiStep (0.00s)
--- PASS: TestLokiStep/with_query_step (0.00s)
--- PASS: TestLokiStep/with_query_step/valid_step_in_go_duration_format (0.00s)
--- PASS: TestLokiStep/with_query_step/valid_step_as_number (0.00s)
--- PASS: TestLokiStep/with_query_step/step_with_1d (0.00s)
--- PASS: TestLokiStep/with_query_step/step_with_1w (0.00s)
--- PASS: TestLokiStep/with_query_step/invalid_step (0.00s)
--- PASS: TestLokiStep/with_no_query_step (0.00s)
--- PASS: TestLokiStep/with_no_query_step/base_case (0.00s)
--- PASS: TestLokiStep/with_no_query_step/step_should_be_at_least_1_millisecond (0.00s)
--- PASS: TestLokiStep/with_no_query_step/safeInterval_should_happen (0.00s)
--- PASS: TestLokiStep/with_no_query_step/step_should_math.Ceil_in_milliseconds (0.00s)
--- PASS: TestLokiStep/with_no_query_step/step_should_math.Ceil_in_milliseconds,_even_if_safeInterval_happens (0.00s)
--- PASS: TestLokiStep/with_no_query_step/resolution_should_happen (0.00s)
--- PASS: TestLokiStep/with_no_query_step/safeInterval_check_should_happen_after_resolution_is_used (0.00s)
--- PASS: TestLokiStep/with_no_query_step/survive_interval=0 (0.00s)
--- PASS: TestLokiStep/with_no_query_step/survive_resolution=0 (0.00s)
--- PASS: TestLokiStep/with_no_query_step/survive_interval=0_and_resolution=0 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/loki	0.447s
?   	github.com/grafana/grafana/pkg/tsdb/loki/instrumentation	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/loki/kinds/dataquery	[no test files]
=== RUN   TestMacroEngine
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeEpoch_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeEpoch_function_wrapped_in_aggregation
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFrom_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeTo_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_around_arguments
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_fill_(value_=_NULL)
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_fill_(value_=_previous)
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_fill_(value_=_float)
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFrom_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoTo_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochGroup_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/should_return_unmodified_sql_if_there_are_no_macros_present
--- PASS: TestMacroEngine (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeEpoch_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeEpoch_function_wrapped_in_aggregation (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFrom_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeTo_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_around_arguments (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_fill_(value_=_NULL) (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_fill_(value_=_previous) (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_fill_(value_=_float) (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFrom_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoTo_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochGroup_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/should_return_unmodified_sql_if_there_are_no_macros_present (0.00s)
=== RUN   TestMacroEngineConcurrency
--- PASS: TestMacroEngineConcurrency (0.00s)
=== RUN   TestMSSQL
mssql_test.go:39:
--- SKIP: TestMSSQL (0.00s)
=== RUN   TestTransformQueryError
=== RUN   TestTransformQueryError/Should_not_return_a_connection_error
{"@level":"error","@message":"Query error","@timestamp":"2025-04-14T21:38:21.767546Z","error":"Unable to open tcp connection with host 'localhost:5000': dial tcp: connection refused","logger":"mssql.test"}
=== RUN   TestTransformQueryError/Should_return_a_non-connection_error_unmodified
--- PASS: TestTransformQueryError (0.00s)
--- PASS: TestTransformQueryError/Should_not_return_a_connection_error (0.00s)
--- PASS: TestTransformQueryError/Should_return_a_non-connection_error_unmodified (0.00s)
=== RUN   TestGenerateConnectionString
=== RUN   TestGenerateConnectionString/Use_Kerberos_Credential_Cache
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.767735Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.767778Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.767790Z","host":"localhost","logger":"mssql.test","url":"localhost"}
=== RUN   TestGenerateConnectionString/Use_Kerberos_Credential_Cache_File_path
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.767823Z","logger":"mssql.test","url":"example.host"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.767855Z","logger":"mssql.test","url":"example.host"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.767861Z","host":"example.host","logger":"mssql.test","url":"example.host"}
reading credential cache lookup: /tmp/lookup2144364193.json
matched: {User:testUser DBName:testDB Address:example.host:0 CredentialCacheFilename:/tmp/cache}
=== RUN   TestGenerateConnectionString/Use_Kerberos_Keytab
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.767952Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.767983Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.767992Z","host":"localhost","logger":"mssql.test","url":"localhost"}
=== RUN   TestGenerateConnectionString/Use_Kerberos_Username_and_Password
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768036Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768070Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768081Z","host":"localhost","logger":"mssql.test","url":"localhost"}
=== RUN   TestGenerateConnectionString/Use_non-default_UDP_connection_limit
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768120Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768174Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768184Z","host":"localhost","logger":"mssql.test","url":"localhost"}
=== RUN   TestGenerateConnectionString/From_URL_w/_port
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768212Z","logger":"mssql.test","url":"localhost:1001"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768233Z","logger":"mssql.test","url":"localhost:1001"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768244Z","host":"localhost","logger":"mssql.test","port":"1001","url":"localhost:1001"}
=== RUN   TestGenerateConnectionString/From_URL_w/o_port
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768283Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768317Z","logger":"mssql.test","url":"localhost"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768324Z","host":"localhost","logger":"mssql.test","url":"localhost"}
=== RUN   TestGenerateConnectionString/From_URL_w_port_0
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768357Z","logger":"mssql.test","url":"localhost:0"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768385Z","logger":"mssql.test","url":"localhost:0"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768391Z","host":"localhost","logger":"mssql.test","url":"localhost:0"}
=== RUN   TestGenerateConnectionString/With_instance_name
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768417Z","logger":"mssql.test","url":"localhost\\instance"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768432Z","logger":"mssql.test","url":"localhost\\instance"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768441Z","host":"localhost\\instance","logger":"mssql.test","url":"localhost\\instance"}
=== RUN   TestGenerateConnectionString/With_instance_name_and_port
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768473Z","logger":"mssql.test","url":"localhost\\instance:333"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768499Z","logger":"mssql.test","url":"localhost\\instance:333"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768508Z","host":"localhost\\instance","logger":"mssql.test","port":"333","url":"localhost\\instance:333"}
=== RUN   TestGenerateConnectionString/With_instance_name_and_ApplicationIntent
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768535Z","logger":"mssql.test","url":"localhost\\instance;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768551Z","logger":"mssql.test","url":"localhost\\instance;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768557Z","host":"localhost\\instance;ApplicationIntent=ReadOnly","logger":"mssql.test","url":"localhost\\instance;ApplicationIntent=ReadOnly"}
=== RUN   TestGenerateConnectionString/With_ApplicationIntent_instance_name_and_port
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768592Z","logger":"mssql.test","url":"localhost\\instance:333;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768620Z","logger":"mssql.test","url":"localhost\\instance:333;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768625Z","host":"localhost\\instance","logger":"mssql.test","port":"333;ApplicationIntent=ReadOnly","url":"localhost\\instance:333;ApplicationIntent=ReadOnly"}
=== RUN   TestGenerateConnectionString/With_instance_name#01
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768650Z","logger":"mssql.test","url":"localhost\\instance"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768664Z","logger":"mssql.test","url":"localhost\\instance"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768670Z","host":"localhost\\instance","logger":"mssql.test","url":"localhost\\instance"}
=== RUN   TestGenerateConnectionString/With_instance_name_and_port#01
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768705Z","logger":"mssql.test","url":"localhost\\instance:333"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768733Z","logger":"mssql.test","url":"localhost\\instance:333"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768741Z","host":"localhost\\instance","logger":"mssql.test","port":"333","url":"localhost\\instance:333"}
=== RUN   TestGenerateConnectionString/With_instance_name_and_ApplicationIntent#01
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768767Z","logger":"mssql.test","url":"localhost\\instance;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768781Z","logger":"mssql.test","url":"localhost\\instance;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768787Z","host":"localhost\\instance;ApplicationIntent=ReadOnly","logger":"mssql.test","url":"localhost\\instance;ApplicationIntent=ReadOnly"}
=== RUN   TestGenerateConnectionString/With_ApplicationIntent_instance_name_and_port#01
{"@level":"debug","@message":"Parsing MSSQL URL","@timestamp":"2025-04-14T21:38:21.768822Z","logger":"mssql.test","url":"localhost\\instance:333;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Recognized as ODBC URL format","@timestamp":"2025-04-14T21:38:21.768846Z","logger":"mssql.test","url":"localhost\\instance:333;ApplicationIntent=ReadOnly"}
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768854Z","host":"localhost\\instance","logger":"mssql.test","port":"333;ApplicationIntent=ReadOnly","url":"localhost\\instance:333;ApplicationIntent=ReadOnly"}
=== RUN   TestGenerateConnectionString/Defaults
{"@level":"debug","@message":"Generating connection string","@timestamp":"2025-04-14T21:38:21.768877Z","host":"localhost","logger":"mssql.test","url":""}
--- PASS: TestGenerateConnectionString (0.00s)
--- PASS: TestGenerateConnectionString/Use_Kerberos_Credential_Cache (0.00s)
--- PASS: TestGenerateConnectionString/Use_Kerberos_Credential_Cache_File_path (0.00s)
--- PASS: TestGenerateConnectionString/Use_Kerberos_Keytab (0.00s)
--- PASS: TestGenerateConnectionString/Use_Kerberos_Username_and_Password (0.00s)
--- PASS: TestGenerateConnectionString/Use_non-default_UDP_connection_limit (0.00s)
--- PASS: TestGenerateConnectionString/From_URL_w/_port (0.00s)
--- PASS: TestGenerateConnectionString/From_URL_w/o_port (0.00s)
--- PASS: TestGenerateConnectionString/From_URL_w_port_0 (0.00s)
--- PASS: TestGenerateConnectionString/With_instance_name (0.00s)
--- PASS: TestGenerateConnectionString/With_instance_name_and_port (0.00s)
--- PASS: TestGenerateConnectionString/With_instance_name_and_ApplicationIntent (0.00s)
--- PASS: TestGenerateConnectionString/With_ApplicationIntent_instance_name_and_port (0.00s)
--- PASS: TestGenerateConnectionString/With_instance_name#01 (0.00s)
--- PASS: TestGenerateConnectionString/With_instance_name_and_port#01 (0.00s)
--- PASS: TestGenerateConnectionString/With_instance_name_and_ApplicationIntent#01 (0.00s)
--- PASS: TestGenerateConnectionString/With_ApplicationIntent_instance_name_and_port#01 (0.00s)
--- PASS: TestGenerateConnectionString/Defaults (0.00s)
=== RUN   TestMSSQLProxyDriver
=== RUN   TestMSSQLProxyDriver/Connector_should_use_dialer_context_that_routes_through_the_socks_proxy_to_db
=== RUN   TestMSSQLProxyDriver/Connector_should_use_hostname_rather_than_attempting_to_resolve_IP
--- PASS: TestMSSQLProxyDriver (0.00s)
--- PASS: TestMSSQLProxyDriver/Connector_should_use_dialer_context_that_routes_through_the_socks_proxy_to_db (0.00s)
--- PASS: TestMSSQLProxyDriver/Connector_should_use_hostname_rather_than_attempting_to_resolve_IP (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/mssql	(cached)
=== RUN   TestGetKerberosSettings
=== RUN   TestGetKerberosSettings/Should_correctly_parse_settings
=== RUN   TestGetKerberosSettings/Should_correctly_parse_legacy_UDPConnectionLimit
=== RUN   TestGetKerberosSettings/Should_return_defaults
=== RUN   TestGetKerberosSettings/Will_error_if_legacy_UDPConnectionLimit_can't_be_converted_to_number
--- PASS: TestGetKerberosSettings (0.00s)
--- PASS: TestGetKerberosSettings/Should_correctly_parse_settings (0.00s)
--- PASS: TestGetKerberosSettings/Should_correctly_parse_legacy_UDPConnectionLimit (0.00s)
--- PASS: TestGetKerberosSettings/Should_return_defaults (0.00s)
--- PASS: TestGetKerberosSettings/Will_error_if_legacy_UDPConnectionLimit_can't_be_converted_to_number (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/mssql/kerberos	(cached)
=== RUN   TestErrToHealthCheckResult
=== RUN   TestErrToHealthCheckResult/without_error
=== RUN   TestErrToHealthCheckResult/network_error
=== RUN   TestErrToHealthCheckResult/db_error
=== RUN   TestErrToHealthCheckResult/regular_error
--- PASS: TestErrToHealthCheckResult (0.00s)
--- PASS: TestErrToHealthCheckResult/without_error (0.00s)
--- PASS: TestErrToHealthCheckResult/network_error (0.00s)
--- PASS: TestErrToHealthCheckResult/db_error (0.00s)
--- PASS: TestErrToHealthCheckResult/regular_error (0.00s)
=== RUN   TestSQLEngine
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_10_minutes_$__interval
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_4seconds_$__interval
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_200_milliseconds_$__interval
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFrom_function
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochTo_function
=== RUN   TestSQLEngine/Given_row_values_with_int64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_uint64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_int32_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_uint32_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_float64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_float32_as_time_columns
=== RUN   TestSQLEngine/Given_row_with_value_columns,_would_be_converted_to_float64
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#00
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#01
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#02
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#03
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#04
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#05
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#06
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#07
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#08
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#09
=== RUN   TestSQLEngine/Should_not_return_raw_connection_errors
{"@level":"error","@message":"Query error","@timestamp":"2025-04-14T09:14:52.498806Z","err":"Dial: inner-error","logger":"test"}
=== RUN   TestSQLEngine/Should_return_non-connection_errors_unmodified
--- PASS: TestSQLEngine (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_10_minutes_$__interval (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_4seconds_$__interval (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_200_milliseconds_$__interval (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05 (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFrom_function (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochTo_function (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_int64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_uint64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_int32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_uint32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_float64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_float32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_with_value_columns,_would_be_converted_to_float64 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#00 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#01 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#02 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#03 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#04 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#05 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#06 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#07 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#08 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#09 (0.00s)
--- PASS: TestSQLEngine/Should_not_return_raw_connection_errors (0.00s)
--- PASS: TestSQLEngine/Should_return_non-connection_errors_unmodified (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/mssql/sqleng	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/mssql/sqleng/util	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/mssql/standalone	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/mssql/utils	[no test files]
=== RUN   TestMacroEngine
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function_wrapped_in_aggregation
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_around_arguments
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFrom_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeTo_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFrom_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoTo_function
=== RUN   TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochGroup_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___timeFilter_function
=== RUN   TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochFilter_function
=== RUN   TestMacroEngine/Given_queries_that_contains_unallowed_user_functions
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687195Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687238Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687248Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687257Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687265Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687274Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687282Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687296Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687304Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687312Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687321Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687329Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687337Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687366Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687374Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687381Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687388Z","logger":"test"}
{"@level":"error","@message":"Show grants, session_user(), current_user(), system_user() or user() not allowed in query","@timestamp":"2025-04-14T09:14:53.687395Z","logger":"test"}
--- PASS: TestMacroEngine (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___time_function_wrapped_in_aggregation (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeGroup_function_with_spaces_around_arguments (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeFrom_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___timeTo_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoFrom_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochNanoTo_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochGroup_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1965-02-03_08:00/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00 (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___timeFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_a_time_range_between_1960-02-01_07:00_and_1980-02-03_08:00/interpolate___unixEpochFilter_function (0.00s)
--- PASS: TestMacroEngine/Given_queries_that_contains_unallowed_user_functions (0.00s)
=== RUN   TestMacroEngineConcurrency
--- PASS: TestMacroEngineConcurrency (0.00s)
=== RUN   TestIntegrationMySQLSnapshots
mysql_snapshot_test.go:51:
--- SKIP: TestIntegrationMySQLSnapshots (0.00s)
=== RUN   TestIntegrationMySQL
mysql_test.go:32: skipping integration test
--- SKIP: TestIntegrationMySQL (0.00s)
=== RUN   TestMySQLProxyDialer
=== RUN   TestMySQLProxyDialer/Network_is_available
=== RUN   TestMySQLProxyDialer/Multiple_networks_can_be_created
=== RUN   TestMySQLProxyDialer/Connection_should_be_routed_through_socks_proxy_to_db
--- PASS: TestMySQLProxyDialer (0.00s)
--- PASS: TestMySQLProxyDialer/Network_is_available (0.00s)
--- PASS: TestMySQLProxyDialer/Multiple_networks_can_be_created (0.00s)
--- PASS: TestMySQLProxyDialer/Connection_should_be_routed_through_socks_proxy_to_db (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/mysql	(cached)
=== RUN   TestErrToHealthCheckResult
=== RUN   TestErrToHealthCheckResult/without_error
=== RUN   TestErrToHealthCheckResult/network_error
=== RUN   TestErrToHealthCheckResult/db_error
=== RUN   TestErrToHealthCheckResult/regular_error
--- PASS: TestErrToHealthCheckResult (0.00s)
--- PASS: TestErrToHealthCheckResult/without_error (0.00s)
--- PASS: TestErrToHealthCheckResult/network_error (0.00s)
--- PASS: TestErrToHealthCheckResult/db_error (0.00s)
--- PASS: TestErrToHealthCheckResult/regular_error (0.00s)
=== RUN   TestSQLEngine
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_10_minutes_$__interval
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_4seconds_$__interval
=== RUN   TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_200_milliseconds_$__interval
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFrom_function
=== RUN   TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochTo_function
=== RUN   TestSQLEngine/Given_row_values_with_int64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_uint64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_int32_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_uint32_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_float64_as_time_columns
=== RUN   TestSQLEngine/Given_row_values_with_float32_as_time_columns
=== RUN   TestSQLEngine/Given_row_with_value_columns,_would_be_converted_to_float64
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#00
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#01
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#02
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#03
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#04
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#05
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#06
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#07
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#08
=== RUN   TestSQLEngine/Given_row_with_nil_value_columns/#09
=== RUN   TestSQLEngine/Should_not_return_raw_connection_errors
{"@level":"error","@message":"Query error","@timestamp":"2025-04-14T09:14:53.687225Z","err":"Dial: inner-error","logger":"test"}
=== RUN   TestSQLEngine/Should_return_non-connection_errors_unmodified
--- PASS: TestSQLEngine (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_10_minutes_$__interval (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_4seconds_$__interval (0.00s)
--- PASS: TestSQLEngine/Handle_interpolating_$__interval_and_$__interval_ms/interpolate_200_milliseconds_$__interval (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05 (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochFrom_function (0.00s)
--- PASS: TestSQLEngine/Given_a_time_range_between_2018-04-12_00:00_and_2018-04-12_00:05/interpolate___unixEpochTo_function (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_int64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_uint64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_int32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_uint32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_float64_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_values_with_float32_as_time_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_with_value_columns,_would_be_converted_to_float64 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#00 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#01 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#02 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#03 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#04 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#05 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#06 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#07 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#08 (0.00s)
--- PASS: TestSQLEngine/Given_row_with_nil_value_columns/#09 (0.00s)
--- PASS: TestSQLEngine/Should_not_return_raw_connection_errors (0.00s)
--- PASS: TestSQLEngine/Should_return_non-connection_errors_unmodified (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/mysql/sqleng	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/mysql/sqleng/util	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/mysql/standalone	[no test files]
=== RUN   TestOpenTsdbExecutor
=== RUN   TestOpenTsdbExecutor/create_request
=== RUN   TestOpenTsdbExecutor/Parse_response_should_handle_invalid_JSON
=== RUN   TestOpenTsdbExecutor/Parse_response_should_handle_JSON_(v2.4_and_above)
=== RUN   TestOpenTsdbExecutor/Parse_response_should_handle_JSON_(v2.3_and_below)
=== RUN   TestOpenTsdbExecutor/Parse_response_should_handle_unordered_JSON_(v2.3_and_below)
=== RUN   TestOpenTsdbExecutor/ref_id_is_not_hard_coded
=== RUN   TestOpenTsdbExecutor/Build_metric_with_downsampling_enabled
=== RUN   TestOpenTsdbExecutor/Build_metric_with_downsampling_disabled
=== RUN   TestOpenTsdbExecutor/Build_metric_with_downsampling_enabled_with_params
=== RUN   TestOpenTsdbExecutor/Build_metric_with_tags_with_downsampling_disabled
=== RUN   TestOpenTsdbExecutor/Build_metric_with_rate_enabled_but_counter_disabled
=== RUN   TestOpenTsdbExecutor/Build_metric_with_rate_and_counter_enabled
--- PASS: TestOpenTsdbExecutor (0.00s)
--- PASS: TestOpenTsdbExecutor/create_request (0.00s)
--- PASS: TestOpenTsdbExecutor/Parse_response_should_handle_invalid_JSON (0.00s)
--- PASS: TestOpenTsdbExecutor/Parse_response_should_handle_JSON_(v2.4_and_above) (0.00s)
--- PASS: TestOpenTsdbExecutor/Parse_response_should_handle_JSON_(v2.3_and_below) (0.00s)
--- PASS: TestOpenTsdbExecutor/Parse_response_should_handle_unordered_JSON_(v2.3_and_below) (0.00s)
--- PASS: TestOpenTsdbExecutor/ref_id_is_not_hard_coded (0.00s)
--- PASS: TestOpenTsdbExecutor/Build_metric_with_downsampling_enabled (0.00s)
--- PASS: TestOpenTsdbExecutor/Build_metric_with_downsampling_disabled (0.00s)
--- PASS: TestOpenTsdbExecutor/Build_metric_with_downsampling_enabled_with_params (0.00s)
--- PASS: TestOpenTsdbExecutor/Build_metric_with_tags_with_downsampling_disabled (0.00s)
--- PASS: TestOpenTsdbExecutor/Build_metric_with_rate_enabled_but_counter_disabled (0.00s)
--- PASS: TestOpenTsdbExecutor/Build_metric_with_rate_and_counter_enabled (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/opentsdb	(cached)
=== RUN   Test_QueryData
{"@level":"error","@message":"Failed to unmarshall query","@timestamp":"2025-04-14T09:14:54.015615Z","error":"unexpected end of JSON input","function":"/home/runner/work/grafana/grafana/pkg/tsdb/parca/service.go:49[parca.logEntrypoint]","logger":"tsdb.parca"}
--- PASS: Test_QueryData (0.00s)
=== RUN   Test_CallResource
=== RUN   Test_CallResource/labels_resource
{"@level":"debug","@message":"CallResource","@timestamp":"2025-04-14T09:14:54.015706Z","Body":null,"Method":"GET","Path":"labelNames","function":"/home/runner/work/grafana/grafana/pkg/tsdb/parca/service.go:49[parca.logEntrypoint]","logger":"tsdb.parca"}
{"@level":"debug","@message":"Getting label names","@timestamp":"2025-04-14T09:14:54.015736Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/parca/service.go:49[parca.logEntrypoint]","logger":"tsdb.parca"}
{"@level":"debug","@message":"Successfully got label names","@timestamp":"2025-04-14T09:14:54.015750Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/parca/service.go:49[parca.logEntrypoint]","logger":"tsdb.parca"}
--- PASS: Test_CallResource (0.00s)
--- PASS: Test_CallResource/labels_resource (0.00s)
=== RUN   Test_query
=== RUN   Test_query/query_both
{"@level":"debug","@message":"Querying SelectMergeStacktraces()","@timestamp":"2025-04-14T09:14:54.015858Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/parca/service.go:49[parca.logEntrypoint]","logger":"tsdb.parca","queryModel":{"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"foo:bar","refId":""}}
=== RUN   Test_query/query_profile
{"@level":"debug","@message":"Querying SelectMergeStacktraces()","@timestamp":"2025-04-14T09:14:54.016246Z","function":"/home/runner/work/grafana/grafana/pkg/tsdb/parca/service.go:49[parca.logEntrypoint]","logger":"tsdb.parca","queryModel":{"labelSelector":"{app=\\\"baz\\\"}","profileTypeId":"foo:bar","refId":""}}
=== RUN   Test_query/query_metrics
--- PASS: Test_query (0.00s)
--- PASS: Test_query/query_both (0.00s)
--- PASS: Test_query/query_profile (0.00s)
--- PASS: Test_query/query_metrics (0.00s)
=== RUN   Test_profileToDataFrame
--- PASS: Test_profileToDataFrame (0.00s)
=== RUN   Test_seriesToDataFrame
--- PASS: Test_seriesToDataFrame (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/parca	(cached)
?   	github.com/grafana/grafana/pkg/tsdb/parca/kinds/dataquery	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/parca/standalone	[no test files]
=== RUN   TestExtendClientOpts
=== RUN   TestExtendClientOpts/add_azure_credentials_if_configured
=== RUN   TestExtendClientOpts/add_sigV4_auth_if_opts_has_SigV4_configured
--- PASS: TestExtendClientOpts (0.00s)
--- PASS: TestExtendClientOpts/add_azure_credentials_if_configured (0.00s)
--- PASS: TestExtendClientOpts/add_sigV4_auth_if_opts_has_SigV4_configured (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/prometheus	(cached)
=== RUN   TestConfigureAzureAuthentication
=== RUN   TestConfigureAzureAuthentication/should_set_Azure_middleware_when_JsonData_contains_valid_credentials
=== RUN   TestConfigureAzureAuthentication/should_not_set_Azure_middleware_when_JsonData_doesn't_contain_valid_credentials
=== RUN   TestConfigureAzureAuthentication/should_return_error_when_JsonData_contains_invalid_credentials
=== RUN   TestConfigureAzureAuthentication/should_set_Azure_middleware_when_JsonData_contains_credentials_and_valid_audience
=== RUN   TestConfigureAzureAuthentication/should_not_set_Azure_middleware_when_JsonData_doesn't_contain_credentials
=== RUN   TestConfigureAzureAuthentication/should_return_error_when_JsonData_contains_invalid_audience
=== RUN   TestConfigureAzureAuthentication/should_warn_if_an_audience_is_specified_and_the_feature_toggle_is_not_enabled
azure_test.go:158: 2025-04-14T09:14:54.876Z [WARN]  test: Specifying an audience override requires the prometheusAzureOverrideAudience feature toggle to be enabled. This functionality is deprecated and will be removed in a future release.
2025-04-15T08:39:36.0210189Z
--- PASS: TestConfigureAzureAuthentication (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_set_Azure_middleware_when_JsonData_contains_valid_credentials (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_not_set_Azure_middleware_when_JsonData_doesn't_contain_valid_credentials (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_return_error_when_JsonData_contains_invalid_credentials (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_set_Azure_middleware_when_JsonData_contains_credentials_and_valid_audience (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_not_set_Azure_middleware_when_JsonData_doesn't_contain_credentials (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_return_error_when_JsonData_contains_invalid_audience (0.00s)
--- PASS: TestConfigureAzureAuthentication/should_warn_if_an_audience_is_specified_and_the_feature_toggle_is_not_enabled (0.00s)
=== RUN   TestGetPrometheusScopes
=== RUN   TestGetPrometheusScopes/should_return_scopes_for_cloud_from_settings_with_MSI_credentials
=== RUN   TestGetPrometheusScopes/should_return_scopes_for_cloud_from_client_secret_credentials
--- PASS: TestGetPrometheusScopes (0.00s)
--- PASS: TestGetPrometheusScopes/should_return_scopes_for_cloud_from_settings_with_MSI_credentials (0.00s)
--- PASS: TestGetPrometheusScopes/should_return_scopes_for_cloud_from_client_secret_credentials (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/prometheus/azureauth	(cached)
=== RUN   TestProcessStream_ValidInput_ReturnsNoError
--- PASS: TestProcessStream_ValidInput_ReturnsNoError (0.00s)
=== RUN   TestProcessStream_InvalidInput_ReturnsError
{"@level":"error","@message":"Error receiving message","@timestamp":"2025-04-15T08:39:33.659763Z","err":"invalid input","logger":"tsdb.tempo.test"}
--- PASS: TestProcessStream_InvalidInput_ReturnsError (0.00s)
=== RUN   TestProcessStream_ValidInput_ReturnsExpectedOutput
--- PASS: TestProcessStream_ValidInput_ReturnsExpectedOutput (0.00s)
=== RUN   TestTempo
=== RUN   TestTempo/createRequest_v1_without_time_range_-_success
=== RUN   TestTempo/createRequest_v1_with_time_range_-_success
=== RUN   TestTempo/createRequest_v2_without_time_range_-_success
=== RUN   TestTempo/createRequest_v2_with_time_range_-_success
--- PASS: TestTempo (0.00s)
--- PASS: TestTempo/createRequest_v1_without_time_range_-_success (0.00s)
--- PASS: TestTempo/createRequest_v1_with_time_range_-_success (0.00s)
--- PASS: TestTempo/createRequest_v2_without_time_range_-_success (0.00s)
--- PASS: TestTempo/createRequest_v2_with_time_range_-_success (0.00s)
=== RUN   TestTraceToFrame
=== RUN   TestTraceToFrame/should_transform_tempo_protobuf_response_into_dataframe
=== RUN   TestTraceToFrame/should_transform_correct_traceID
--- PASS: TestTraceToFrame (0.03s)
--- PASS: TestTraceToFrame/should_transform_tempo_protobuf_response_into_dataframe (0.02s)
--- PASS: TestTraceToFrame/should_transform_correct_traceID (0.01s)
=== RUN   TestScopeAttributesAddedToTags
--- PASS: TestScopeAttributesAddedToTags (0.00s)
=== RUN   TestCreateMetricsQuery_Success
--- PASS: TestCreateMetricsQuery_Success (0.00s)
=== RUN   TestCreateMetricsQuery_OnlyQuery
--- PASS: TestCreateMetricsQuery_OnlyQuery (0.00s)
=== RUN   TestCreateMetricsQuery_URLParseError
{"@level":"error","@message":"Failed to parse URL","@timestamp":"2025-04-15T08:39:33.686599Z","error":"parse \"http://[::1]:namedport/api/metrics/query_range\": invalid port \":namedport\" after host","function":"/home/runner/work/grafana/grafana/pkg/tsdb/tempo/tempo.go:35[tempo.logEntrypoint]","logger":"tsdb.tempo.test","url":"http://[::1]:namedport/api/metrics/query_range"}
--- PASS: TestCreateMetricsQuery_URLParseError (0.00s)
=== RUN   TestEmptyQueryString_ReturnsFalse
--- PASS: TestEmptyQueryString_ReturnsFalse (0.00s)
=== RUN   TestQueryWithoutMetricsFunction_ReturnsFalse
--- PASS: TestQueryWithoutMetricsFunction_ReturnsFalse (0.00s)
=== RUN   TestQueryWithRateFunction_ReturnsTrue
--- PASS: TestQueryWithRateFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithAvgOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithAvgOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithSumOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithSumOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithCountOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithCountOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithMaxOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithMaxOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithMinOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithMinOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithQuantileOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithQuantileOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithHistogramOverTimeFunction_ReturnsTrue
--- PASS: TestQueryWithHistogramOverTimeFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithCompareFunction_ReturnsTrue
--- PASS: TestQueryWithCompareFunction_ReturnsTrue (0.00s)
=== RUN   TestQueryWithMultipleFunctions_ReturnsTrue
--- PASS: TestQueryWithMultipleFunctions_ReturnsTrue (0.00s)
=== RUN   TestQueryWithInvalidFunction_ReturnsFalse
--- PASS: TestQueryWithInvalidFunction_ReturnsFalse (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/tempo	0.040s
?   	github.com/grafana/grafana/pkg/tsdb/tempo/kinds/dataquery	[no test files]
?   	github.com/grafana/grafana/pkg/tsdb/tempo/standalone	[no test files]
=== RUN   TestTransformExemplarToFrame_EmptyExemplars
--- PASS: TestTransformExemplarToFrame_EmptyExemplars (0.00s)
=== RUN   TestTransformExemplarToFrame_SingleExemplar
--- PASS: TestTransformExemplarToFrame_SingleExemplar (0.00s)
=== RUN   TestTransformExemplarToFrame_SingleExemplarHistogram
--- PASS: TestTransformExemplarToFrame_SingleExemplarHistogram (0.00s)
=== RUN   TestTransformExemplarToFrame_MultipleExemplars
--- PASS: TestTransformExemplarToFrame_MultipleExemplars (0.00s)
=== RUN   TestTransformExemplarToFrame_ExemplarWithoutTraceId
--- PASS: TestTransformExemplarToFrame_ExemplarWithoutTraceId (0.00s)
=== RUN   TestTransformMetricsResponse_EmptyResponse
--- PASS: TestTransformMetricsResponse_EmptyResponse (0.00s)
=== RUN   TestTransformMetricsResponse_SingleSeriesSingleLabel
--- PASS: TestTransformMetricsResponse_SingleSeriesSingleLabel (0.00s)
=== RUN   TestTransformMetricsResponse_SingleSeriesMultipleLabels
--- PASS: TestTransformMetricsResponse_SingleSeriesMultipleLabels (0.00s)
=== RUN   TestTransformMetricsResponse_MultipleSeries
--- PASS: TestTransformMetricsResponse_MultipleSeries (0.00s)
=== RUN   TestTransformInstantMetricsResponse
--- PASS: TestTransformInstantMetricsResponse (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/tempo/traceql	(cached)
=== RUN   TestZipkinClient_Services
=== RUN   TestZipkinClient_Services/Successful_response
=== RUN   TestZipkinClient_Services/Non-200_response
=== RUN   TestZipkinClient_Services/Invalid_JSON_response
--- PASS: TestZipkinClient_Services (0.00s)
--- PASS: TestZipkinClient_Services/Successful_response (0.00s)
--- PASS: TestZipkinClient_Services/Non-200_response (0.00s)
--- PASS: TestZipkinClient_Services/Invalid_JSON_response (0.00s)
=== RUN   TestZipkinClient_Spans
=== RUN   TestZipkinClient_Spans/Successful_response
=== RUN   TestZipkinClient_Spans/Non-200_response
=== RUN   TestZipkinClient_Spans/Invalid_JSON_response
=== RUN   TestZipkinClient_Spans/Empty_serviceName
--- PASS: TestZipkinClient_Spans (0.00s)
--- PASS: TestZipkinClient_Spans/Successful_response (0.00s)
--- PASS: TestZipkinClient_Spans/Non-200_response (0.00s)
--- PASS: TestZipkinClient_Spans/Invalid_JSON_response (0.00s)
--- PASS: TestZipkinClient_Spans/Empty_serviceName (0.00s)
=== RUN   TestZipkinClient_Traces
=== RUN   TestZipkinClient_Traces/Successful_response
=== RUN   TestZipkinClient_Traces/Non-200_response
=== RUN   TestZipkinClient_Traces/Empty_serviceName
=== RUN   TestZipkinClient_Traces/Empty_spanName
=== RUN   TestZipkinClient_Traces/Valid_response_with_empty_trace_list
--- PASS: TestZipkinClient_Traces (0.00s)
--- PASS: TestZipkinClient_Traces/Successful_response (0.00s)
--- PASS: TestZipkinClient_Traces/Non-200_response (0.00s)
--- PASS: TestZipkinClient_Traces/Empty_serviceName (0.00s)
--- PASS: TestZipkinClient_Traces/Empty_spanName (0.00s)
--- PASS: TestZipkinClient_Traces/Valid_response_with_empty_trace_list (0.00s)
=== RUN   TestZipkinClient_Trace
=== RUN   TestZipkinClient_Trace/Successful_response
=== RUN   TestZipkinClient_Trace/Invalid_traceID
=== RUN   TestZipkinClient_Trace/Special_characters_traceID
--- PASS: TestZipkinClient_Trace (0.00s)
--- PASS: TestZipkinClient_Trace/Successful_response (0.00s)
--- PASS: TestZipkinClient_Trace/Invalid_traceID (0.00s)
--- PASS: TestZipkinClient_Trace/Special_characters_traceID (0.00s)
=== RUN   TestCreateZipkinURL
=== RUN   TestCreateZipkinURL/WithPathAndParams
=== RUN   TestCreateZipkinURL/OnlyParams
=== RUN   TestCreateZipkinURL/NoParams
=== RUN   TestCreateZipkinURL/InvalidBaseURL
=== RUN   TestCreateZipkinURL/BaseURLWithPath
--- PASS: TestCreateZipkinURL (0.00s)
--- PASS: TestCreateZipkinURL/WithPathAndParams (0.00s)
--- PASS: TestCreateZipkinURL/OnlyParams (0.00s)
--- PASS: TestCreateZipkinURL/NoParams (0.00s)
--- PASS: TestCreateZipkinURL/InvalidBaseURL (0.00s)
--- PASS: TestCreateZipkinURL/BaseURLWithPath (0.00s)
=== RUN   TestTransformResponse
=== RUN   TestTransformResponse/simple_trace
--- PASS: TestTransformResponse (0.00s)
--- PASS: TestTransformResponse/simple_trace (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/tsdb/zipkin	0.028s
=== RUN   TestWithCancelWithReason
=== RUN   TestWithCancelWithReason/should_add_custom_reason_to_the_standard_error
=== RUN   TestWithCancelWithReason/should_return_only_the_first_reason_if_called_multiple_times
=== RUN   TestWithCancelWithReason/should_return_only_the_first_reason_if_called_multiple_times#01
=== RUN   TestWithCancelWithReason/should_return_context.Canceled_if_no_reason_provided
--- PASS: TestWithCancelWithReason (0.00s)
--- PASS: TestWithCancelWithReason/should_add_custom_reason_to_the_standard_error (0.00s)
--- PASS: TestWithCancelWithReason/should_return_only_the_first_reason_if_called_multiple_times (0.00s)
--- PASS: TestWithCancelWithReason/should_return_only_the_first_reason_if_called_multiple_times#01 (0.00s)
--- PASS: TestWithCancelWithReason/should_return_context.Canceled_if_no_reason_provided (0.00s)
=== RUN   TestGetBasicAuthHeader_Encoding
=== RUN   TestGetBasicAuthHeader_Encoding/generating_base64_header
=== RUN   TestGetBasicAuthHeader_Encoding/decoding_basic_auth_header
--- PASS: TestGetBasicAuthHeader_Encoding (0.00s)
--- PASS: TestGetBasicAuthHeader_Encoding/generating_base64_header (0.00s)
--- PASS: TestGetBasicAuthHeader_Encoding/decoding_basic_auth_header (0.00s)
=== RUN   TestEncodePassword
--- PASS: TestEncodePassword (0.01s)
=== RUN   TestDecodeQuotedPrintable
=== RUN   TestDecodeQuotedPrintable/should_return_not_encoded_string_as_is
=== RUN   TestDecodeQuotedPrintable/should_decode_encoded_string
=== RUN   TestDecodeQuotedPrintable/should_preserve_meaningful_whitespace
=== RUN   TestDecodeQuotedPrintable/should_gracefully_ignore_invalid_encoding_sequences
=== RUN   TestDecodeQuotedPrintable/should_return_invalid_UTF-8_sequences_as_is
=== RUN   TestDecodeQuotedPrintable/should_support_long_strings
--- PASS: TestDecodeQuotedPrintable (0.00s)
--- PASS: TestDecodeQuotedPrintable/should_return_not_encoded_string_as_is (0.00s)
--- PASS: TestDecodeQuotedPrintable/should_decode_encoded_string (0.00s)
--- PASS: TestDecodeQuotedPrintable/should_preserve_meaningful_whitespace (0.00s)
--- PASS: TestDecodeQuotedPrintable/should_gracefully_ignore_invalid_encoding_sequences (0.00s)
--- PASS: TestDecodeQuotedPrintable/should_return_invalid_UTF-8_sequences_as_is (0.00s)
--- PASS: TestDecodeQuotedPrintable/should_support_long_strings (0.00s)
=== RUN   TestGetRandomString
--- PASS: TestGetRandomString (0.12s)
=== RUN   TestGetRandomDigits
--- PASS: TestGetRandomDigits (0.12s)
=== RUN   TestEncryption
=== RUN   TestEncryption/getting_encryption_key
=== RUN   TestEncryption/decrypting_basic_payload
=== RUN   TestEncryption/decrypting_empty_payload_should_fail
=== RUN   TestEncryption/decrypting_secrets_with_algorithm_metadata
--- PASS: TestEncryption (0.01s)
--- PASS: TestEncryption/getting_encryption_key (0.01s)
--- PASS: TestEncryption/decrypting_basic_payload (0.01s)
--- PASS: TestEncryption/decrypting_empty_payload_should_fail (0.00s)
--- PASS: TestEncryption/decrypting_secrets_with_algorithm_metadata (0.00s)
=== RUN   TestCleanRelativePath
--- PASS: TestCleanRelativePath (0.00s)
=== RUN   TestSplitHostPortDefault_Valid
--- PASS: TestSplitHostPortDefault_Valid (0.00s)
=== RUN   TestMd5Sum
--- PASS: TestMd5Sum (0.00s)
=== RUN   TestReverse
--- PASS: TestReverse (0.00s)
=== RUN   TestAllowedCharMatchesUidPattern
--- PASS: TestAllowedCharMatchesUidPattern (0.00s)
=== RUN   TestRandomUIDs
--- PASS: TestRandomUIDs (0.00s)
=== RUN   TestCaseInsensitiveCollisionsUIDs
--- PASS: TestCaseInsensitiveCollisionsUIDs (0.12s)
=== RUN   TestIsShortUIDTooLong
=== RUN   TestIsShortUIDTooLong/when_the_length_of_uid_is_longer_than_40_chars_then_IsShortUIDTooLong_should_return_true
=== RUN   TestIsShortUIDTooLong/when_the_length_of_uid_is_equal_too_40_chars_then_IsShortUIDTooLong_should_return_false
=== RUN   TestIsShortUIDTooLong/when_the_length_of_uid_is_shorter_than_40_chars_then_IsShortUIDTooLong_should_return_false
--- PASS: TestIsShortUIDTooLong (0.00s)
--- PASS: TestIsShortUIDTooLong/when_the_length_of_uid_is_longer_than_40_chars_then_IsShortUIDTooLong_should_return_true (0.00s)
--- PASS: TestIsShortUIDTooLong/when_the_length_of_uid_is_equal_too_40_chars_then_IsShortUIDTooLong_should_return_false (0.00s)
--- PASS: TestIsShortUIDTooLong/when_the_length_of_uid_is_shorter_than_40_chars_then_IsShortUIDTooLong_should_return_false (0.00s)
=== RUN   TestValidateUID
=== RUN   TestValidateUID/no_error_when_string_is_of_correct_length
=== RUN   TestValidateUID/error_when_string_is_empty
=== RUN   TestValidateUID/error_when_string_is_too_long
=== RUN   TestValidateUID/error_when_string_has_invalid_characters
=== RUN   TestValidateUID/error_when_string_has_only_whitespaces
--- PASS: TestValidateUID (0.00s)
--- PASS: TestValidateUID/no_error_when_string_is_of_correct_length (0.00s)
--- PASS: TestValidateUID/error_when_string_is_empty (0.00s)
--- PASS: TestValidateUID/error_when_string_is_too_long (0.00s)
--- PASS: TestValidateUID/error_when_string_has_invalid_characters (0.00s)
--- PASS: TestValidateUID/error_when_string_has_only_whitespaces (0.00s)
=== RUN   TestSplitEmails
--- PASS: TestSplitEmails (0.00s)
=== RUN   TestStringsFallback2
--- PASS: TestStringsFallback2 (0.00s)
=== RUN   TestStringsFallback3
--- PASS: TestStringsFallback3 (0.00s)
=== RUN   TestSplitString
--- PASS: TestSplitString (0.00s)
=== RUN   TestDateAge
--- PASS: TestDateAge (0.00s)
=== RUN   TestToCamelCase
--- PASS: TestToCamelCase (0.00s)
=== RUN   TestCapitalize
--- PASS: TestCapitalize (0.00s)
=== RUN   TestTlsNameToVersion
--- PASS: TestTlsNameToVersion (0.00s)
=== RUN   Test_sanitizeURI
=== RUN   Test_sanitizeURI/Receiving_empty_string_should_return_it
=== RUN   Test_sanitizeURI/Receiving_URL_with_auth_token_should_remove_it
=== RUN   Test_sanitizeURI/Receiving_presigned_URL_from_AWS_should_remove_signature
=== RUN   Test_sanitizeURI/Receiving_presigned_URL_from_GCP_should_remove_signature
=== RUN   Test_sanitizeURI/Receiving_presigned_URL_with_lower_case_query_params_from_GCP_should_remove_signature
=== RUN   Test_sanitizeURI/Receiving_presigned_URL_from_Azure_should_remove_signature
=== RUN   Test_sanitizeURI/Receiving_presigned_URL_from_Azure_with_upper_case_query_values_should_remove_signature
=== RUN   Test_sanitizeURI/Receiving_valid_URL_string_should_return_it_parsed
=== RUN   Test_sanitizeURI/Receiving_invalid_URL_string_should_return_empty_string
--- PASS: Test_sanitizeURI (0.00s)
--- PASS: Test_sanitizeURI/Receiving_empty_string_should_return_it (0.00s)
--- PASS: Test_sanitizeURI/Receiving_URL_with_auth_token_should_remove_it (0.00s)
--- PASS: Test_sanitizeURI/Receiving_presigned_URL_from_AWS_should_remove_signature (0.00s)
--- PASS: Test_sanitizeURI/Receiving_presigned_URL_from_GCP_should_remove_signature (0.00s)
--- PASS: Test_sanitizeURI/Receiving_presigned_URL_with_lower_case_query_params_from_GCP_should_remove_signature (0.00s)
--- PASS: Test_sanitizeURI/Receiving_presigned_URL_from_Azure_should_remove_signature (0.00s)
--- PASS: Test_sanitizeURI/Receiving_presigned_URL_from_Azure_with_upper_case_query_values_should_remove_signature (0.00s)
--- PASS: Test_sanitizeURI/Receiving_valid_URL_string_should_return_it_parsed (0.00s)
--- PASS: Test_sanitizeURI/Receiving_invalid_URL_string_should_return_empty_string (0.00s)
=== RUN   TestJoinURLFragments
=== PAUSE TestJoinURLFragments
=== RUN   TestNewURLQueryReader
--- PASS: TestNewURLQueryReader (0.00s)
=== RUN   TestIsEmail
=== PAUSE TestIsEmail
=== RUN   TestSearchJSONForGroups
=== PAUSE TestSearchJSONForGroups
=== RUN   TestSearchJSONForEmail
=== PAUSE TestSearchJSONForEmail
=== RUN   TestSearchJSONForStringAttr
=== PAUSE TestSearchJSONForStringAttr
=== RUN   TestIsSvg
=== PAUSE TestIsSvg
=== CONT  TestJoinURLFragments
=== RUN   TestJoinURLFragments/where_RHS_is_empty
=== CONT  TestSearchJSONForEmail
=== RUN   TestJoinURLFragments/where_RHS_is_empty_and_LHS_has_trailing_slash
=== CONT  TestSearchJSONForGroups
=== CONT  TestSearchJSONForStringAttr
=== CONT  TestIsEmail
=== RUN   TestJoinURLFragments/where_neither_has_trailing_slash
=== RUN   TestSearchJSONForGroups/Given_an_invalid_user_info_JSON_response
=== PAUSE TestSearchJSONForGroups/Given_an_invalid_user_info_JSON_response
=== RUN   TestIsEmail/validating_that_the_empty_string_is_invalid
=== RUN   TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_empty_JMES_path
=== PAUSE TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_empty_JMES_path
=== RUN   TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_valid_JMES_path
=== PAUSE TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_valid_JMES_path
=== RUN   TestSearchJSONForStringAttr/Case_insensitive_contains_using_lower_function_from_works_correctly
=== RUN   TestSearchJSONForGroups/Given_a_nil_JSON_and_valid_JMES_path
=== PAUSE TestSearchJSONForStringAttr/Case_insensitive_contains_using_lower_function_from_works_correctly
=== PAUSE TestSearchJSONForGroups/Given_a_nil_JSON_and_valid_JMES_path
=== RUN   TestSearchJSONForGroups/Given_a_simple_user_info_JSON_response_and_valid_JMES_path
=== RUN   TestIsEmail/validating_that_no_domain_is_invalid
=== PAUSE TestSearchJSONForGroups/Given_a_simple_user_info_JSON_response_and_valid_JMES_path
=== RUN   TestJoinURLFragments/where_LHS_has_trailing_slash
=== RUN   TestSearchJSONForGroups/Given_a_simple_object_and_valid_JMES_path
=== PAUSE TestSearchJSONForGroups/Given_a_simple_object_and_valid_JMES_path
=== CONT  TestSearchJSONForGroups/Given_an_invalid_user_info_JSON_response
=== CONT  TestIsSvg
=== RUN   TestJoinURLFragments/where_LHS_and_RHS_has_trailing_slash
=== RUN   TestIsEmail/validating_that_only_a_domain_name_is_invalid
=== CONT  TestSearchJSONForGroups/Given_a_nil_JSON_and_valid_JMES_path
=== RUN   TestIsSvg/realistic_svg
=== RUN   TestJoinURLFragments/where_LHS_has_trailing_slash_and_RHS_has_preceding_slash
=== PAUSE TestIsSvg/realistic_svg
=== CONT  TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_empty_JMES_path
=== RUN   TestIsEmail/validating_that_no_recipient_is_invalid
=== CONT  TestSearchJSONForGroups/Given_a_simple_user_info_JSON_response_and_valid_JMES_path
=== RUN   TestIsSvg/html_page
=== PAUSE TestIsSvg/html_page
=== RUN   TestIsSvg/empty_svg
=== CONT  TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_valid_JMES_path
=== PAUSE TestIsSvg/empty_svg
--- PASS: TestJoinURLFragments (0.00s)
--- PASS: TestJoinURLFragments/where_RHS_is_empty (0.00s)
--- PASS: TestJoinURLFragments/where_RHS_is_empty_and_LHS_has_trailing_slash (0.00s)
--- PASS: TestJoinURLFragments/where_neither_has_trailing_slash (0.00s)
--- PASS: TestJoinURLFragments/where_LHS_has_trailing_slash (0.00s)
--- PASS: TestJoinURLFragments/where_LHS_and_RHS_has_trailing_slash (0.00s)
--- PASS: TestJoinURLFragments/where_LHS_has_trailing_slash_and_RHS_has_preceding_slash (0.00s)
=== RUN   TestIsSvg/svg_with_content
=== PAUSE TestIsSvg/svg_with_content
=== CONT  TestSearchJSONForStringAttr/Case_insensitive_contains_using_lower_function_from_works_correctly
=== RUN   TestIsSvg/svg_with_attributes_and_content
=== PAUSE TestIsSvg/svg_with_attributes_and_content
=== RUN   TestSearchJSONForEmail/Given_a_simple_user_info_JSON_response_and_valid_JMES_path
=== RUN   TestIsSvg/svg_with_doctype
=== PAUSE TestIsSvg/svg_with_doctype
=== PAUSE TestSearchJSONForEmail/Given_a_simple_user_info_JSON_response_and_valid_JMES_path
=== RUN   TestSearchJSONForEmail/Given_a_simple_object_and_valid_JMES_path
=== PAUSE TestSearchJSONForEmail/Given_a_simple_object_and_valid_JMES_path
=== RUN   TestSearchJSONForEmail/Given_a_user_info_JSON_response_with_e-mails_array_and_valid_JMES_path
=== PAUSE TestSearchJSONForEmail/Given_a_user_info_JSON_response_with_e-mails_array_and_valid_JMES_path
=== RUN   TestSearchJSONForEmail/Given_a_nested_user_info_JSON_response_and_valid_JMES_path
=== PAUSE TestSearchJSONForEmail/Given_a_nested_user_info_JSON_response_and_valid_JMES_path
=== CONT  TestSearchJSONForEmail/Given_a_simple_user_info_JSON_response_and_valid_JMES_path
=== CONT  TestSearchJSONForGroups/Given_a_simple_object_and_valid_JMES_path
=== CONT  TestSearchJSONForEmail/Given_a_user_info_JSON_response_with_e-mails_array_and_valid_JMES_path
=== CONT  TestSearchJSONForEmail/Given_a_nested_user_info_JSON_response_and_valid_JMES_path
=== CONT  TestSearchJSONForEmail/Given_a_simple_object_and_valid_JMES_path
=== RUN   TestIsSvg/empty
=== PAUSE TestIsSvg/empty
=== RUN   TestIsEmail/validating_that_at_dot_is_invalid
=== RUN   TestIsSvg/html_page_with_DOCTYPE
=== PAUSE TestIsSvg/html_page_with_DOCTYPE
--- PASS: TestSearchJSONForStringAttr (0.00s)
--- PASS: TestSearchJSONForStringAttr/Case_insensitive_contains_using_lower_function_from_works_correctly (0.00s)
=== RUN   TestIsSvg/svg_with_attributes
=== PAUSE TestIsSvg/svg_with_attributes
=== RUN   TestIsEmail/validating_that_new_line_is_invalid
=== RUN   TestIsSvg/svg_with_comments
=== PAUSE TestIsSvg/svg_with_comments
=== RUN   TestIsSvg/svg_with_xml_declaration
=== PAUSE TestIsSvg/svg_with_xml_declaration
=== CONT  TestIsSvg/realistic_svg
=== CONT  TestIsSvg/empty
=== CONT  TestIsSvg/svg_with_doctype
--- PASS: TestSearchJSONForGroups (0.00s)
--- PASS: TestSearchJSONForGroups/Given_an_invalid_user_info_JSON_response (0.00s)
--- PASS: TestSearchJSONForGroups/Given_a_nil_JSON_and_valid_JMES_path (0.00s)
--- PASS: TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_empty_JMES_path (0.00s)
--- PASS: TestSearchJSONForGroups/Given_an_empty_user_info_JSON_response_and_valid_JMES_path (0.00s)
--- PASS: TestSearchJSONForGroups/Given_a_simple_user_info_JSON_response_and_valid_JMES_path (0.00s)
--- PASS: TestSearchJSONForGroups/Given_a_simple_object_and_valid_JMES_path (0.00s)
=== CONT  TestIsSvg/svg_with_attributes_and_content
=== CONT  TestIsSvg/svg_with_xml_declaration
=== CONT  TestIsSvg/html_page
=== CONT  TestIsSvg/svg_with_content
=== CONT  TestIsSvg/empty_svg
=== CONT  TestIsSvg/svg_with_comments
=== CONT  TestIsSvg/svg_with_attributes
=== CONT  TestIsSvg/html_page_with_DOCTYPE
--- PASS: TestSearchJSONForEmail (0.00s)
--- PASS: TestSearchJSONForEmail/Given_a_simple_user_info_JSON_response_and_valid_JMES_path (0.00s)
--- PASS: TestSearchJSONForEmail/Given_a_user_info_JSON_response_with_e-mails_array_and_valid_JMES_path (0.00s)
--- PASS: TestSearchJSONForEmail/Given_a_simple_object_and_valid_JMES_path (0.00s)
--- PASS: TestSearchJSONForEmail/Given_a_nested_user_info_JSON_response_and_valid_JMES_path (0.00s)
=== RUN   TestIsEmail/validating_that_a_simple_valid_email_is_valid
=== RUN   TestIsEmail/validating_that_a_gmail_style_alias_is_valid
--- PASS: TestIsSvg (0.00s)
--- PASS: TestIsSvg/realistic_svg (0.00s)
--- PASS: TestIsSvg/empty (0.00s)
--- PASS: TestIsSvg/svg_with_doctype (0.00s)
--- PASS: TestIsSvg/svg_with_attributes_and_content (0.00s)
--- PASS: TestIsSvg/svg_with_xml_declaration (0.00s)
--- PASS: TestIsSvg/html_page (0.00s)
--- PASS: TestIsSvg/svg_with_content (0.00s)
--- PASS: TestIsSvg/empty_svg (0.00s)
--- PASS: TestIsSvg/svg_with_comments (0.00s)
--- PASS: TestIsSvg/svg_with_attributes (0.00s)
--- PASS: TestIsSvg/html_page_with_DOCTYPE (0.00s)
=== RUN   TestIsEmail/validating_that_non-ASCII_characters_is_valid
--- PASS: TestIsEmail (0.00s)
--- PASS: TestIsEmail/validating_that_the_empty_string_is_invalid (0.00s)
--- PASS: TestIsEmail/validating_that_no_domain_is_invalid (0.00s)
--- PASS: TestIsEmail/validating_that_only_a_domain_name_is_invalid (0.00s)
--- PASS: TestIsEmail/validating_that_no_recipient_is_invalid (0.00s)
--- PASS: TestIsEmail/validating_that_at_dot_is_invalid (0.00s)
--- PASS: TestIsEmail/validating_that_new_line_is_invalid (0.00s)
--- PASS: TestIsEmail/validating_that_a_simple_valid_email_is_valid (0.00s)
--- PASS: TestIsEmail/validating_that_a_gmail_style_alias_is_valid (0.00s)
--- PASS: TestIsEmail/validating_that_non-ASCII_characters_is_valid (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util	(cached)
?   	github.com/grafana/grafana/pkg/util/cmd	[no test files]
=== RUN   TestIsAddedDeleted_Collections
=== RUN   TestIsAddedDeleted_Collections/nil_vs_non-empty_slice
=== RUN   TestIsAddedDeleted_Collections/nil_vs_non-empty_slice/IsAddOperation=true,_IsDeleted=false
=== RUN   TestIsAddedDeleted_Collections/nil_vs_non-empty_slice/IsDeleted=true,_IsAddOperation=false
=== RUN   TestIsAddedDeleted_Collections/empty_vs_non-empty_slice
=== RUN   TestIsAddedDeleted_Collections/empty_vs_non-empty_slice/IsAddOperation=true,_IsDeleted=false
=== RUN   TestIsAddedDeleted_Collections/empty_vs_non-empty_slice/IsDeleted=true,_IsAddOperation=false
=== RUN   TestIsAddedDeleted_Collections/nil_vs_non-empty_map
=== RUN   TestIsAddedDeleted_Collections/nil_vs_non-empty_map/IsAddOperation=true,_IsDeleted=false
=== RUN   TestIsAddedDeleted_Collections/nil_vs_non-empty_map/IsDeleted=true,_IsAddOperation=false
=== RUN   TestIsAddedDeleted_Collections/empty_vs_non-empty_map
=== RUN   TestIsAddedDeleted_Collections/empty_vs_non-empty_map/IsAddOperation=true,_IsDeleted=false
=== RUN   TestIsAddedDeleted_Collections/empty_vs_non-empty_map/IsDeleted=true,_IsAddOperation=false
=== RUN   TestIsAddedDeleted_Collections/IsAddOperation=false,_IsDeleted=false_if_changes_in_struct_fields
--- PASS: TestIsAddedDeleted_Collections (0.00s)
--- PASS: TestIsAddedDeleted_Collections/nil_vs_non-empty_slice (0.00s)
--- PASS: TestIsAddedDeleted_Collections/nil_vs_non-empty_slice/IsAddOperation=true,_IsDeleted=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/nil_vs_non-empty_slice/IsDeleted=true,_IsAddOperation=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/empty_vs_non-empty_slice (0.00s)
--- PASS: TestIsAddedDeleted_Collections/empty_vs_non-empty_slice/IsAddOperation=true,_IsDeleted=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/empty_vs_non-empty_slice/IsDeleted=true,_IsAddOperation=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/nil_vs_non-empty_map (0.00s)
--- PASS: TestIsAddedDeleted_Collections/nil_vs_non-empty_map/IsAddOperation=true,_IsDeleted=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/nil_vs_non-empty_map/IsDeleted=true,_IsAddOperation=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/empty_vs_non-empty_map (0.00s)
--- PASS: TestIsAddedDeleted_Collections/empty_vs_non-empty_map/IsAddOperation=true,_IsDeleted=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/empty_vs_non-empty_map/IsDeleted=true,_IsAddOperation=false (0.00s)
--- PASS: TestIsAddedDeleted_Collections/IsAddOperation=false,_IsDeleted=false_if_changes_in_struct_fields (0.00s)
=== RUN   TestGetDiffsForField
=== RUN   TestGetDiffsForField/should_not_include_fields_that_starts_has_prefix
=== RUN   TestGetDiffsForField/should_return_all_changes_by_parent_path
=== RUN   TestGetDiffsForField/should_return_all_elements_of_array
=== RUN   TestGetDiffsForField/should_find_nothing_if_parent_path_does_not_exist
--- PASS: TestGetDiffsForField (0.00s)
--- PASS: TestGetDiffsForField/should_not_include_fields_that_starts_has_prefix (0.00s)
--- PASS: TestGetDiffsForField/should_return_all_changes_by_parent_path (0.00s)
--- PASS: TestGetDiffsForField/should_return_all_elements_of_array (0.00s)
--- PASS: TestGetDiffsForField/should_find_nothing_if_parent_path_does_not_exist (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/cmputil	(cached)
=== RUN   TestDebouncer
=== RUN   TestDebouncer/should_process_values_after_min_wait
=== RUN   TestDebouncer/should_process_values_after_max_wait
=== RUN   TestDebouncer/should_handle_buffer_full
=== RUN   TestDebouncer/should_track_metrics
=== RUN   TestDebouncer/should_handle_errors
=== RUN   TestDebouncer/should_gracefully_handle_stops
--- PASS: TestDebouncer (0.16s)
--- PASS: TestDebouncer/should_process_values_after_min_wait (0.02s)
--- PASS: TestDebouncer/should_process_values_after_max_wait (0.02s)
--- PASS: TestDebouncer/should_handle_buffer_full (0.00s)
--- PASS: TestDebouncer/should_track_metrics (0.01s)
--- PASS: TestDebouncer/should_handle_errors (0.01s)
--- PASS: TestDebouncer/should_gracefully_handle_stops (0.10s)
PASS
ok  	github.com/grafana/grafana/pkg/util/debouncer	(cached)
=== RUN   TestWrite
--- PASS: TestWrite (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/errhttp	(cached)
=== RUN   TestRealEnv
--- PASS: TestRealEnv (0.00s)
=== RUN   TestMapEnv
=== PAUSE TestMapEnv
=== CONT  TestMapEnv
--- PASS: TestMapEnv (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/osutil	(cached)
=== RUN   TestPrepareProxyRequest
=== RUN   TestPrepareProxyRequest/Prepare_proxy_request_should_clear_Origin_and_Referer_headers
=== RUN   TestPrepareProxyRequest/Prepare_proxy_request_should_set_X-Grafana-Referer_header
=== RUN   TestPrepareProxyRequest/Prepare_proxy_request_X-Grafana-Referer_handles_multiline
=== RUN   TestPrepareProxyRequest/Prepare_proxy_request_should_clear_X-Forwarded_headers
=== RUN   TestPrepareProxyRequest/Prepare_proxy_request_should_set_X-Forwarded-For
=== RUN   TestPrepareProxyRequest/Prepare_proxy_request_should_append_client_ip_at_the_end_of_X-Forwarded-For
--- PASS: TestPrepareProxyRequest (0.00s)
--- PASS: TestPrepareProxyRequest/Prepare_proxy_request_should_clear_Origin_and_Referer_headers (0.00s)
--- PASS: TestPrepareProxyRequest/Prepare_proxy_request_should_set_X-Grafana-Referer_header (0.00s)
--- PASS: TestPrepareProxyRequest/Prepare_proxy_request_X-Grafana-Referer_handles_multiline (0.00s)
--- PASS: TestPrepareProxyRequest/Prepare_proxy_request_should_clear_X-Forwarded_headers (0.00s)
--- PASS: TestPrepareProxyRequest/Prepare_proxy_request_should_set_X-Forwarded-For (0.00s)
--- PASS: TestPrepareProxyRequest/Prepare_proxy_request_should_append_client_ip_at_the_end_of_X-Forwarded-For (0.00s)
=== RUN   TestClearCookieHeader
=== RUN   TestClearCookieHeader/Clear_cookie_header_should_clear_Cookie_header
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_should_clear_Cookie_header_and_keep_cookies
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_and_skip_should_clear_Cookie_header_and_keep_cookies
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_should_clear_Cookie_header_and_keep_cookies_with_optional_matching
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_should_clear_Cookie_header_and_keep_cookies_with_matching_pattern_but_with_empty_matching_option
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookie_match_pattern_to_keep_and_skip_should_clear_Cookie_header_and_keep_cookies
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookie_should_not_match_BAD_pattern_and_return_no_cookies
=== RUN   TestClearCookieHeader/Clear_cookie_header_with_cookie_should_match_all_cookies_when_keepCookies_is_*
--- PASS: TestClearCookieHeader (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_should_clear_Cookie_header (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_should_clear_Cookie_header_and_keep_cookies (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_and_skip_should_clear_Cookie_header_and_keep_cookies (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_should_clear_Cookie_header_and_keep_cookies_with_optional_matching (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookies_to_keep_should_clear_Cookie_header_and_keep_cookies_with_matching_pattern_but_with_empty_matching_option (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookie_match_pattern_to_keep_and_skip_should_clear_Cookie_header_and_keep_cookies (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookie_should_not_match_BAD_pattern_and_return_no_cookies (0.00s)
--- PASS: TestClearCookieHeader/Clear_cookie_header_with_cookie_should_match_all_cookies_when_keepCookies_is_* (0.00s)
=== RUN   TestApplyUserHeader
=== RUN   TestApplyUserHeader/Should_not_apply_user_header_when_not_enabled,_should_remove_the_existing
=== RUN   TestApplyUserHeader/Should_not_apply_user_header_when_user_is_nil,_should_remove_the_existing
=== RUN   TestApplyUserHeader/Should_not_apply_user_header_for_anonomous_user
=== RUN   TestApplyUserHeader/Should_apply_user_header_for_non-anonomous_user
--- PASS: TestApplyUserHeader (0.00s)
--- PASS: TestApplyUserHeader/Should_not_apply_user_header_when_not_enabled,_should_remove_the_existing (0.00s)
--- PASS: TestApplyUserHeader/Should_not_apply_user_header_when_user_is_nil,_should_remove_the_existing (0.00s)
--- PASS: TestApplyUserHeader/Should_not_apply_user_header_for_anonomous_user (0.00s)
--- PASS: TestApplyUserHeader/Should_apply_user_header_for_non-anonomous_user (0.00s)
=== RUN   TestReverseProxy
=== RUN   TestReverseProxy/When_proxying_a_request_should_enforce_request_and_response_constraints
=== RUN   TestReverseProxy/When_proxying_a_request_using_WithModifyResponse_should_call_it_before_default_ModifyResponse_func
=== RUN   TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source
=== RUN   TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source/Cancelled_request_should_return_499_Client_closed_request
=== RUN   TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source/Timed_out_request_should_return_504_Gateway_timeout
=== RUN   TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source/Failed_request_should_return_502_Bad_gateway
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_200_=>_source_server_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_400_=>_source_server_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_403_=>_source_server_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_401_=>_source_server_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_500_=>_source_downstream_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_502_=>_source_downstream_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_504_=>_source_downstream_
=== RUN   TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_599_=>_source_downstream_
--- PASS: TestReverseProxy (0.11s)
--- PASS: TestReverseProxy/When_proxying_a_request_should_enforce_request_and_response_constraints (0.00s)
--- PASS: TestReverseProxy/When_proxying_a_request_using_WithModifyResponse_should_call_it_before_default_ModifyResponse_func (0.00s)
--- PASS: TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source (0.10s)
--- PASS: TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source/Cancelled_request_should_return_499_Client_closed_request (0.00s)
--- PASS: TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source/Timed_out_request_should_return_504_Gateway_timeout (0.10s)
--- PASS: TestReverseProxy/Error_handling_should_convert_status_codes_depending_on_what_kind_of_error_it_is_and_set_downstream_status_source/Failed_request_should_return_502_Bad_gateway (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_200_=>_source_server_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_400_=>_source_server_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_403_=>_source_server_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_401_=>_source_server_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_500_=>_source_downstream_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_502_=>_source_downstream_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_504_=>_source_downstream_ (0.00s)
--- PASS: TestReverseProxy/5xx_response_status_codes_should_set_downstream_status_source/status_599_=>_source_downstream_ (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/proxyutil	(cached)
=== RUN   TestMaxRetries
--- PASS: TestMaxRetries (0.70s)
PASS
ok  	github.com/grafana/grafana/pkg/util/retryer	(cached)
=== RUN   TestAdaptiveChan
=== PAUSE TestAdaptiveChan
=== RUN   TestSendOrErr
=== PAUSE TestSendOrErr
=== RUN   TestRecvOrErr
=== PAUSE TestRecvOrErr
=== RUN   TestRing
=== PAUSE TestRing
=== RUN   TestMinMaxValidity
=== PAUSE TestMinMaxValidity
=== RUN   TestClearShouldMigrate
=== PAUSE TestClearShouldMigrate
=== RUN   TestFixAllocSize
=== PAUSE TestFixAllocSize
=== CONT  TestAdaptiveChan
=== RUN   TestAdaptiveChan/edge_case_-_close_send_and_controller_after_creation
=== PAUSE TestAdaptiveChan/edge_case_-_close_send_and_controller_after_creation
=== RUN   TestAdaptiveChan/basic_operation
=== PAUSE TestAdaptiveChan/basic_operation
=== RUN   TestAdaptiveChan/using_commands_to_control_the_ring
=== PAUSE TestAdaptiveChan/using_commands_to_control_the_ring
=== RUN   TestAdaptiveChan/use_of_send_and_recv_channels_with_a_closed_controller
=== PAUSE TestAdaptiveChan/use_of_send_and_recv_channels_with_a_closed_controller
=== CONT  TestAdaptiveChan/edge_case_-_close_send_and_controller_after_creation
=== CONT  TestFixAllocSize
--- PASS: TestFixAllocSize (0.00s)
=== CONT  TestClearShouldMigrate
--- PASS: TestClearShouldMigrate (0.00s)
=== CONT  TestMinMaxValidity
--- PASS: TestMinMaxValidity (0.00s)
=== CONT  TestRing
=== RUN   TestRing/basic_enqueue_and_dequeue_-_no_min,_no_max
=== PAUSE TestRing/basic_enqueue_and_dequeue_-_no_min,_no_max
=== RUN   TestRing/enqueue,_dequeue,_grow_and_shrink_-_no_min,_yes_max
=== PAUSE TestRing/enqueue,_dequeue,_grow_and_shrink_-_no_min,_yes_max
=== RUN   TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_no_max
=== PAUSE TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_no_max
=== RUN   TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_yes_max
=== PAUSE TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_yes_max
=== RUN   TestRing/growing_and_shrinking_invariants_-_no_min,_no_max
=== PAUSE TestRing/growing_and_shrinking_invariants_-_no_min,_no_max
=== CONT  TestRing/basic_enqueue_and_dequeue_-_no_min,_no_max
=== CONT  TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_yes_max
=== CONT  TestRing/growing_and_shrinking_invariants_-_no_min,_no_max
=== CONT  TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_no_max
=== CONT  TestRing/enqueue,_dequeue,_grow_and_shrink_-_no_min,_yes_max
=== CONT  TestAdaptiveChan/basic_operation
=== CONT  TestSendOrErr
--- PASS: TestSendOrErr (0.00s)
=== CONT  TestRecvOrErr
--- PASS: TestRecvOrErr (0.00s)
=== CONT  TestAdaptiveChan/use_of_send_and_recv_channels_with_a_closed_controller
--- PASS: TestRing (0.00s)
--- PASS: TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_yes_max (0.00s)
--- PASS: TestRing/basic_enqueue_and_dequeue_-_no_min,_no_max (0.00s)
--- PASS: TestRing/growing_and_shrinking_invariants_-_no_min,_no_max (0.00s)
--- PASS: TestRing/enqueue,_dequeue,_grow_and_shrink_-_no_min,_yes_max (0.00s)
--- PASS: TestRing/enqueue,_dequeue,_grow_and_shrink_-_yes_min,_no_max (0.00s)
=== CONT  TestAdaptiveChan/using_commands_to_control_the_ring
--- PASS: TestAdaptiveChan (0.00s)
--- PASS: TestAdaptiveChan/edge_case_-_close_send_and_controller_after_creation (0.00s)
--- PASS: TestAdaptiveChan/use_of_send_and_recv_channels_with_a_closed_controller (0.00s)
--- PASS: TestAdaptiveChan/using_commands_to_control_the_ring (0.00s)
--- PASS: TestAdaptiveChan/basic_operation (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/ring	(cached)
?   	github.com/grafana/grafana/pkg/util/spanner	[no test files]
=== RUN   TestTestContextFunc
=== PAUSE TestTestContextFunc
=== RUN   TestSignedInUser
=== PAUSE TestSignedInUser
=== CONT  TestTestContextFunc
=== RUN   TestTestContextFunc/no_explicit_deadline_-_no_test_deadline
=== CONT  TestSignedInUser
=== PAUSE TestTestContextFunc/no_explicit_deadline_-_no_test_deadline
=== RUN   TestTestContextFunc/explicit_deadline_-_earlier_test_deadline
=== PAUSE TestTestContextFunc/explicit_deadline_-_earlier_test_deadline
=== RUN   TestTestContextFunc/explicit_deadline_-_later_test_deadline
=== PAUSE TestTestContextFunc/explicit_deadline_-_later_test_deadline
=== CONT  TestTestContextFunc/no_explicit_deadline_-_no_test_deadline
=== CONT  TestTestContextFunc/explicit_deadline_-_later_test_deadline
=== CONT  TestTestContextFunc/explicit_deadline_-_earlier_test_deadline
--- PASS: TestSignedInUser (0.00s)
--- PASS: TestTestContextFunc (0.00s)
--- PASS: TestTestContextFunc/explicit_deadline_-_later_test_deadline (0.00s)
--- PASS: TestTestContextFunc/explicit_deadline_-_earlier_test_deadline (0.00s)
--- PASS: TestTestContextFunc/no_explicit_deadline_-_no_test_deadline (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/testutil	(cached)
?   	github.com/grafana/grafana/pkg/util/testutil/mocks	[no test files]
=== RUN   TestTicker
=== RUN   TestTicker/should_align_with_clock
=== RUN   TestTicker/should_not_drop_ticks
=== RUN   TestTicker/should_not_drop_ticks/ticks_should_monotonically_increase
=== RUN   TestTicker/should_not_put_anything_to_channel_until_it's_time
=== RUN   TestTicker/should_put_the_tick_in_the_channel_immediately_if_it_is_behind
=== RUN   TestTicker/should_report_metrics
=== RUN   TestTicker/should_stop
=== RUN   TestTicker/should_stop/when_it_waits_for_the_next_tick
=== RUN   TestTicker/should_stop/when_it_waits_for_the_tick_to_be_consumed
=== RUN   TestTicker/should_stop/multiple_times
--- PASS: TestTicker (0.34s)
--- PASS: TestTicker/should_align_with_clock (0.11s)
--- PASS: TestTicker/should_not_drop_ticks (0.00s)
--- PASS: TestTicker/should_not_drop_ticks/ticks_should_monotonically_increase (0.00s)
--- PASS: TestTicker/should_not_put_anything_to_channel_until_it's_time (0.00s)
--- PASS: TestTicker/should_put_the_tick_in_the_channel_immediately_if_it_is_behind (0.01s)
--- PASS: TestTicker/should_report_metrics (0.20s)
--- PASS: TestTicker/should_stop (0.00s)
--- PASS: TestTicker/should_stop/when_it_waits_for_the_next_tick (0.00s)
--- PASS: TestTicker/should_stop/when_it_waits_for_the_tick_to_be_consumed (0.00s)
--- PASS: TestTicker/should_stop/multiple_times (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/ticker	(cached)
=== RUN   TestValidationSuccess
--- PASS: TestValidationSuccess (0.00s)
=== RUN   TestValidationFailure
--- PASS: TestValidationFailure (0.00s)
=== RUN   TestContext_RemoteAddr
=== RUN   TestContext_RemoteAddr/Receive_invalid_ip_address_in_headers_should_return_RemoteAddr
=== RUN   TestContext_RemoteAddr/Receive_valid_ip_address_in_X-Real-Ip_should_return_it
=== RUN   TestContext_RemoteAddr/Receive_valid_ip_addresses_in_X-Forwarded-For_should_return_the_first_one
=== RUN   TestContext_RemoteAddr/Receive_valid_ip_addresses_IPV6_in_X-Forwarded-For_should_return_it
=== RUN   TestContext_RemoteAddr/When_no_header_is_informed,_should_return_remote_addr_without_port
--- PASS: TestContext_RemoteAddr (0.00s)
--- PASS: TestContext_RemoteAddr/Receive_invalid_ip_address_in_headers_should_return_RemoteAddr (0.00s)
--- PASS: TestContext_RemoteAddr/Receive_valid_ip_address_in_X-Real-Ip_should_return_it (0.00s)
--- PASS: TestContext_RemoteAddr/Receive_valid_ip_addresses_in_X-Forwarded-For_should_return_the_first_one (0.00s)
--- PASS: TestContext_RemoteAddr/Receive_valid_ip_addresses_IPV6_in_X-Forwarded-For_should_return_it (0.00s)
--- PASS: TestContext_RemoteAddr/When_no_header_is_informed,_should_return_remote_addr_without_port (0.00s)
=== RUN   TestContext_noHandler
--- PASS: TestContext_noHandler (0.00s)
=== RUN   Test_responseWriter_WriteHeader
=== RUN   Test_responseWriter_WriteHeader/it_should_set_status_code_as_expected
=== RUN   Test_responseWriter_WriteHeader/it_should_set_status_code_to_500_if_WriteHeader_is_called_with_invalid_HTTP_status
--- PASS: Test_responseWriter_WriteHeader (0.00s)
--- PASS: Test_responseWriter_WriteHeader/it_should_set_status_code_as_expected (0.00s)
--- PASS: Test_responseWriter_WriteHeader/it_should_set_status_code_to_500_if_WriteHeader_is_called_with_invalid_HTTP_status (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/web	(cached)
=== RUN   TestServer
=== RUN   TestServer/NewRequest:_GET_api_should_set_expected_properties
=== RUN   TestServer/NewGetRequest:_GET_/api_should_set_expected_properties
=== RUN   TestServer/NewPostRequest:_POST_api_should_set_expected_properties
=== RUN   TestServer/NewPostRequest:_POST_api_should_set_expected_properties/SendJSON_should_set_expected_Content-Type_header
--- PASS: TestServer (0.00s)
--- PASS: TestServer/NewRequest:_GET_api_should_set_expected_properties (0.00s)
--- PASS: TestServer/NewGetRequest:_GET_/api_should_set_expected_properties (0.00s)
--- PASS: TestServer/NewPostRequest:_POST_api_should_set_expected_properties (0.00s)
--- PASS: TestServer/NewPostRequest:_POST_api_should_set_expected_properties/SendJSON_should_set_expected_Content-Type_header (0.00s)
=== RUN   TestServerClient
=== RUN   TestServerClient/Making_a_request_with_user_1_should_return_user_1_as_signed_in_user
=== RUN   TestServerClient/Making_a_request_with_user_2_should_return_user_2_as_signed_in_user
--- PASS: TestServerClient (0.00s)
--- PASS: TestServerClient/Making_a_request_with_user_1_should_return_user_1_as_signed_in_user (0.00s)
--- PASS: TestServerClient/Making_a_request_with_user_2_should_return_user_2_as_signed_in_user (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/web/webtest	(cached)
?   	github.com/grafana/grafana/scripts/build/release_publisher	[no test files]
?   	github.com/grafana/grafana/scripts/openapi3	[no test files]
?   	github.com/grafana/grafana/tools	[no test files]
?   	github.com/grafana/grafana/apps/advisor/pkg/apis	[no test files]
?   	github.com/grafana/grafana/apps/advisor/pkg/apis/advisor/v0alpha1	[no test files]
=== RUN   TestGetAuthorizer
=== RUN   TestGetAuthorizer/non-resource_request
=== RUN   TestGetAuthorizer/user_is_admin
=== RUN   TestGetAuthorizer/user_is_not_admin
--- PASS: TestGetAuthorizer (0.00s)
--- PASS: TestGetAuthorizer/non-resource_request (0.00s)
--- PASS: TestGetAuthorizer/user_is_admin (0.00s)
--- PASS: TestGetAuthorizer/user_is_not_admin (0.00s)
=== RUN   TestGetCheck
--- PASS: TestGetCheck (0.00s)
=== RUN   TestGetCheck_MissingLabel
--- PASS: TestGetCheck_MissingLabel (0.00s)
=== RUN   TestGetCheck_UnknownType
--- PASS: TestGetCheck_UnknownType (0.00s)
=== RUN   TestProcessCheck
--- PASS: TestProcessCheck (0.00s)
=== RUN   TestProcessMultipleCheckItems
--- PASS: TestProcessMultipleCheckItems (0.00s)
=== RUN   TestProcessCheck_AlreadyProcessed
--- PASS: TestProcessCheck_AlreadyProcessed (0.00s)
=== RUN   TestProcessCheck_RunError
--- PASS: TestProcessCheck_RunError (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/advisor/pkg/app	(cached)
?   	github.com/grafana/grafana/apps/advisor/pkg/app/checkregistry	[no test files]
=== RUN   TestGetNamespace
=== RUN   TestGetNamespace/empty_stack_ID
=== RUN   TestGetNamespace/valid_stack_ID
=== RUN   TestGetNamespace/invalid_stack_ID
--- PASS: TestGetNamespace (0.00s)
--- PASS: TestGetNamespace/empty_stack_ID (0.00s)
--- PASS: TestGetNamespace/valid_stack_ID (0.00s)
--- PASS: TestGetNamespace/invalid_stack_ID (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/advisor/pkg/app/checks	(cached)
=== RUN   TestCheck_Run
=== RUN   TestCheck_Run/should_return_no_failures_when_all_datasources_are_healthy
=== RUN   TestCheck_Run/should_return_failures_when_datasource_UID_is_invalid
=== RUN   TestCheck_Run/should_return_failures_when_datasource_health_check_fails
=== RUN   TestCheck_Run/should_skip_health_check_when_plugin_does_not_support_backend_health_checks
=== RUN   TestCheck_Run/should_return_failure_when_plugin_is_not_installed
=== RUN   TestCheck_Run/should_return_failure_when_plugin_is_not_installed_and_the_plugin_is_available_in_the_repo
=== RUN   TestCheck_Run/should_return_failure_when_plugin_is_not_installed_and_the_plugin_is_not_available_in_the_repo
--- PASS: TestCheck_Run (0.00s)
--- PASS: TestCheck_Run/should_return_no_failures_when_all_datasources_are_healthy (0.00s)
--- PASS: TestCheck_Run/should_return_failures_when_datasource_UID_is_invalid (0.00s)
--- PASS: TestCheck_Run/should_return_failures_when_datasource_health_check_fails (0.00s)
--- PASS: TestCheck_Run/should_skip_health_check_when_plugin_does_not_support_backend_health_checks (0.00s)
--- PASS: TestCheck_Run/should_return_failure_when_plugin_is_not_installed (0.00s)
--- PASS: TestCheck_Run/should_return_failure_when_plugin_is_not_installed_and_the_plugin_is_available_in_the_repo (0.00s)
--- PASS: TestCheck_Run/should_return_failure_when_plugin_is_not_installed_and_the_plugin_is_not_available_in_the_repo (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/advisor/pkg/app/checks/datasourcecheck	(cached)
=== RUN   TestRun
=== RUN   TestRun/No_plugins
=== RUN   TestRun/Deprecated_plugin
=== RUN   TestRun/Plugin_with_update
=== RUN   TestRun/Plugin_with_update_(non_semver)
=== RUN   TestRun/Plugin_pinned
=== RUN   TestRun/Managed_plugin
=== RUN   TestRun/Provisioned_plugin
--- PASS: TestRun (0.00s)
--- PASS: TestRun/No_plugins (0.00s)
--- PASS: TestRun/Deprecated_plugin (0.00s)
--- PASS: TestRun/Plugin_with_update (0.00s)
--- PASS: TestRun/Plugin_with_update_(non_semver) (0.00s)
--- PASS: TestRun/Plugin_pinned (0.00s)
--- PASS: TestRun/Managed_plugin (0.00s)
--- PASS: TestRun/Provisioned_plugin (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/advisor/pkg/app/checks/plugincheck	(cached)
=== RUN   TestRunner_Run
=== RUN   TestRunner_Run/does_not_crash_when_error_on_list
--- PASS: TestRunner_Run (0.00s)
--- PASS: TestRunner_Run/does_not_crash_when_error_on_list (0.00s)
=== RUN   TestRunner_checkLastCreated_ErrorOnList
--- PASS: TestRunner_checkLastCreated_ErrorOnList (0.00s)
=== RUN   TestRunner_createChecks_ErrorOnCreate
--- PASS: TestRunner_createChecks_ErrorOnCreate (0.00s)
=== RUN   TestRunner_createChecks_Success
--- PASS: TestRunner_createChecks_Success (0.00s)
=== RUN   TestRunner_cleanupChecks_ErrorOnList
--- PASS: TestRunner_cleanupChecks_ErrorOnList (0.00s)
=== RUN   TestRunner_cleanupChecks_WithinMax
E0414 09:15:04.654546   64912 checkscheduler.go:178] Check type not found in labelscheck&{{ } {      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []} {map[]} {{0 []} map[] map[]}}
E0414 09:15:04.654597   64912 checkscheduler.go:178] Check type not found in labelscheck&{{ } {      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []} {map[]} {{0 []} map[] map[]}}
--- PASS: TestRunner_cleanupChecks_WithinMax (0.00s)
=== RUN   TestRunner_cleanupChecks_ErrorOnDelete
--- PASS: TestRunner_cleanupChecks_ErrorOnDelete (0.00s)
=== RUN   TestRunner_cleanupChecks_Success
--- PASS: TestRunner_cleanupChecks_Success (0.00s)
=== RUN   Test_getEvaluationInterval
=== RUN   Test_getEvaluationInterval/default
=== RUN   Test_getEvaluationInterval/invalid
=== RUN   Test_getEvaluationInterval/custom
--- PASS: Test_getEvaluationInterval (0.00s)
--- PASS: Test_getEvaluationInterval/default (0.00s)
--- PASS: Test_getEvaluationInterval/invalid (0.00s)
--- PASS: Test_getEvaluationInterval/custom (0.00s)
=== RUN   Test_getMaxHistory
=== RUN   Test_getMaxHistory/default
=== RUN   Test_getMaxHistory/invalid
=== RUN   Test_getMaxHistory/custom
--- PASS: Test_getMaxHistory (0.00s)
--- PASS: Test_getMaxHistory/default (0.00s)
--- PASS: Test_getMaxHistory/invalid (0.00s)
--- PASS: Test_getMaxHistory/custom (0.00s)
=== RUN   Test_markUnprocessedChecksAsErrored
--- PASS: Test_markUnprocessedChecksAsErrored (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/advisor/pkg/app/checkscheduler	(cached)
=== RUN   TestCheckTypesRegisterer_Run
=== RUN   TestCheckTypesRegisterer_Run/successful_create
=== RUN   TestCheckTypesRegisterer_Run/create_already_exists,_successful_update
=== RUN   TestCheckTypesRegisterer_Run/create_error
=== RUN   TestCheckTypesRegisterer_Run/update_error
=== RUN   TestCheckTypesRegisterer_Run/custom_namespace
--- PASS: TestCheckTypesRegisterer_Run (0.00s)
--- PASS: TestCheckTypesRegisterer_Run/successful_create (0.00s)
--- PASS: TestCheckTypesRegisterer_Run/create_already_exists,_successful_update (0.00s)
--- PASS: TestCheckTypesRegisterer_Run/create_error (0.00s)
--- PASS: TestCheckTypesRegisterer_Run/update_error (0.00s)
--- PASS: TestCheckTypesRegisterer_Run/custom_namespace (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/advisor/pkg/app/checktyperegisterer	(cached)
?   	github.com/grafana/grafana/apps/alerting/notifications/pkg/apis/resource	[no test files]
?   	github.com/grafana/grafana/apps/alerting/notifications/pkg/apis/resource/receiver/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/alerting/notifications/pkg/apis/resource/routingtree/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/alerting/notifications/pkg/apis/resource/templategroup/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/alerting/notifications/pkg/apis/resource/timeinterval/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/alerting/notifications/pkg/apis/resource/timeinterval/v0alpha1/fakes	[no test files]
?   	github.com/grafana/grafana/apps/dashboard/pkg/apis	[no test files]
?   	github.com/grafana/grafana/apps/dashboard/pkg/apis/dashboard	[no test files]
?   	github.com/grafana/grafana/apps/dashboard/pkg/apis/dashboard/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/dashboard/pkg/apis/dashboard/v1alpha1	[no test files]
?   	github.com/grafana/grafana/apps/dashboard/pkg/apis/dashboard/v2alpha1	[no test files]
=== RUN   TestMigrate
=== RUN   TestMigrate/minimum_version_check
=== RUN   TestMigrate/input_check_36.legend_normalization.json
=== RUN   TestMigrate/legend_normalization_v36_to_v37
=== RUN   TestMigrate/legend_normalization_v36_to_v38
=== RUN   TestMigrate/legend_normalization_v36_to_v39
=== RUN   TestMigrate/legend_normalization_v36_to_v40
=== RUN   TestMigrate/legend_normalization_v36_to_v41
=== RUN   TestMigrate/input_check_37.timeseries_table_display_mode.json
=== RUN   TestMigrate/timeseries_table_display_mode_v37_to_v38
=== RUN   TestMigrate/timeseries_table_display_mode_v37_to_v39
=== RUN   TestMigrate/timeseries_table_display_mode_v37_to_v40
=== RUN   TestMigrate/timeseries_table_display_mode_v37_to_v41
=== RUN   TestMigrate/input_check_38.transform_timeseries_table.json
=== RUN   TestMigrate/transform_timeseries_table_v38_to_v39
=== RUN   TestMigrate/transform_timeseries_table_v38_to_v40
=== RUN   TestMigrate/transform_timeseries_table_v38_to_v41
=== RUN   TestMigrate/input_check_39.refresh_true.json
=== RUN   TestMigrate/refresh_true_v39_to_v40
=== RUN   TestMigrate/refresh_true_v39_to_v41
=== RUN   TestMigrate/input_check_40.time_picker_time_options.json
=== RUN   TestMigrate/time_picker_time_options_v40_to_v41
--- PASS: TestMigrate (0.01s)
--- PASS: TestMigrate/minimum_version_check (0.00s)
--- PASS: TestMigrate/input_check_36.legend_normalization.json (0.00s)
--- PASS: TestMigrate/legend_normalization_v36_to_v37 (0.00s)
--- PASS: TestMigrate/legend_normalization_v36_to_v38 (0.00s)
--- PASS: TestMigrate/legend_normalization_v36_to_v39 (0.00s)
--- PASS: TestMigrate/legend_normalization_v36_to_v40 (0.00s)
--- PASS: TestMigrate/legend_normalization_v36_to_v41 (0.00s)
--- PASS: TestMigrate/input_check_37.timeseries_table_display_mode.json (0.00s)
--- PASS: TestMigrate/timeseries_table_display_mode_v37_to_v38 (0.00s)
--- PASS: TestMigrate/timeseries_table_display_mode_v37_to_v39 (0.00s)
--- PASS: TestMigrate/timeseries_table_display_mode_v37_to_v40 (0.00s)
--- PASS: TestMigrate/timeseries_table_display_mode_v37_to_v41 (0.00s)
--- PASS: TestMigrate/input_check_38.transform_timeseries_table.json (0.00s)
--- PASS: TestMigrate/transform_timeseries_table_v38_to_v39 (0.00s)
--- PASS: TestMigrate/transform_timeseries_table_v38_to_v40 (0.00s)
--- PASS: TestMigrate/transform_timeseries_table_v38_to_v41 (0.00s)
--- PASS: TestMigrate/input_check_39.refresh_true.json (0.00s)
--- PASS: TestMigrate/refresh_true_v39_to_v40 (0.00s)
--- PASS: TestMigrate/refresh_true_v39_to_v41 (0.00s)
--- PASS: TestMigrate/input_check_40.time_picker_time_options.json (0.00s)
--- PASS: TestMigrate/time_picker_time_options_v40_to_v41 (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/dashboard/pkg/migration	0.018s
=== RUN   TestConversionMatrixExist
=== RUN   TestConversionMatrixExist/v0alpha1.Dashboard
=== RUN   TestConversionMatrixExist/v1alpha1.Dashboard
=== RUN   TestConversionMatrixExist/v2alpha1.Dashboard
--- PASS: TestConversionMatrixExist (0.00s)
--- PASS: TestConversionMatrixExist/v0alpha1.Dashboard (0.00s)
--- PASS: TestConversionMatrixExist/v1alpha1.Dashboard (0.00s)
--- PASS: TestConversionMatrixExist/v2alpha1.Dashboard (0.00s)
=== RUN   TestDeepCopyValid
--- PASS: TestDeepCopyValid (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/dashboard/pkg/migration/conversion	(cached)
=== RUN   TestGetSchemaVersion
=== RUN   TestGetSchemaVersion/schemaVersion_as_int
=== RUN   TestGetSchemaVersion/schemaVersion_as_float64
=== RUN   TestGetSchemaVersion/schemaVersion_is_not_set
=== RUN   TestGetSchemaVersion/schemaVersion_as_string_int
=== RUN   TestGetSchemaVersion/schemaVersion_as_invalid_string
--- PASS: TestGetSchemaVersion (0.00s)
--- PASS: TestGetSchemaVersion/schemaVersion_as_int (0.00s)
--- PASS: TestGetSchemaVersion/schemaVersion_as_float64 (0.00s)
--- PASS: TestGetSchemaVersion/schemaVersion_is_not_set (0.00s)
--- PASS: TestGetSchemaVersion/schemaVersion_as_string_int (0.00s)
--- PASS: TestGetSchemaVersion/schemaVersion_as_invalid_string (0.00s)
=== RUN   TestV37
=== RUN   TestV37/no_legend_config
=== RUN   TestV37/boolean_legend_true
=== RUN   TestV37/boolean_legend_false
=== RUN   TestV37/hidden_displayMode
=== RUN   TestV37/showLegend_false
=== RUN   TestV37/visible_legend
--- PASS: TestV37 (0.00s)
--- PASS: TestV37/no_legend_config (0.00s)
--- PASS: TestV37/boolean_legend_true (0.00s)
--- PASS: TestV37/boolean_legend_false (0.00s)
--- PASS: TestV37/hidden_displayMode (0.00s)
--- PASS: TestV37/showLegend_false (0.00s)
--- PASS: TestV37/visible_legend (0.00s)
=== RUN   TestV38
=== RUN   TestV38/no_table_panels
=== RUN   TestV38/table_panel_with_basic_gauge_displayMode
=== RUN   TestV38/table_panel_with_gradient-gauge_displayMode
=== RUN   TestV38/table_panel_with_lcd-gauge_displayMode
=== RUN   TestV38/table_panel_with_color-background_displayMode
=== RUN   TestV38/table_panel_with_color-background-solid_displayMode
=== RUN   TestV38/table_panel_with_default_displayMode
--- PASS: TestV38 (0.00s)
--- PASS: TestV38/no_table_panels (0.00s)
--- PASS: TestV38/table_panel_with_basic_gauge_displayMode (0.00s)
--- PASS: TestV38/table_panel_with_gradient-gauge_displayMode (0.00s)
--- PASS: TestV38/table_panel_with_lcd-gauge_displayMode (0.00s)
--- PASS: TestV38/table_panel_with_color-background_displayMode (0.00s)
--- PASS: TestV38/table_panel_with_color-background-solid_displayMode (0.00s)
--- PASS: TestV38/table_panel_with_default_displayMode (0.00s)
=== RUN   TestV39
=== RUN   TestV39/no_transformations
=== RUN   TestV39/timeSeriesTable_transformation_with_refIdToStat
=== RUN   TestV39/non-timeSeriesTable_transformation_is_not_modified
--- PASS: TestV39 (0.00s)
--- PASS: TestV39/no_transformations (0.00s)
--- PASS: TestV39/timeSeriesTable_transformation_with_refIdToStat (0.00s)
--- PASS: TestV39/non-timeSeriesTable_transformation_is_not_modified (0.00s)
=== RUN   TestV40
=== RUN   TestV40/refresh_not_set
=== RUN   TestV40/boolean_refresh_value_is_converted_to_an_empty_string
=== RUN   TestV40/string_refresh_value_is_not_converted
--- PASS: TestV40 (0.00s)
--- PASS: TestV40/refresh_not_set (0.00s)
--- PASS: TestV40/boolean_refresh_value_is_converted_to_an_empty_string (0.00s)
--- PASS: TestV40/string_refresh_value_is_not_converted (0.00s)
=== RUN   TestV41
=== RUN   TestV41/time_options_is_removed
=== RUN   TestV41/timepicker_is_not_set
--- PASS: TestV41 (0.00s)
--- PASS: TestV41/time_options_is_removed (0.00s)
--- PASS: TestV41/timepicker_is_not_set (0.00s)
PASS
ok  	github.com/grafana/grafana/apps/dashboard/pkg/migration/schemaversion	(cached)
?   	github.com/grafana/grafana/apps/folder/pkg/apis	[no test files]
?   	github.com/grafana/grafana/apps/folder/pkg/apis/folder/v1beta1	[no test files]
?   	github.com/grafana/grafana/apps/investigations/pkg/apis	[no test files]
?   	github.com/grafana/grafana/apps/investigations/pkg/apis/investigations/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/investigations/pkg/app	[no test files]
?   	github.com/grafana/grafana/apps/playlist/pkg/apis	[no test files]
?   	github.com/grafana/grafana/apps/playlist/pkg/apis/playlist/v0alpha1	[no test files]
?   	github.com/grafana/grafana/apps/playlist/pkg/app	[no test files]
?   	github.com/grafana/grafana/apps/playlist/pkg/reconcilers	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apis/aggregation	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apis/aggregation/install	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apis/aggregation/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apis/aggregation/v0alpha1/helper	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apiserver	[no test files]
=== RUN   TestRootDiscoveryHandler_Handle
I0414 09:15:06.564566   65150 handler.go:286] Adding GroupVersion aggregation.grafana.app v0alpha1 to ResourceManager
I0414 09:15:06.564641   65150 handler.go:286] Adding GroupVersion foo.example.com v1 to ResourceManager
=== RUN   TestRootDiscoveryHandler_Handle/should_return_the_list_of_API_groups_in_v1_format
=== RUN   TestRootDiscoveryHandler_Handle/should_return_the_list_of_API_groups_in_v2_format
=== RUN   TestRootDiscoveryHandler_Handle/should_handle_the_request_if_the_path_is_not_/apis
--- PASS: TestRootDiscoveryHandler_Handle (0.00s)
--- PASS: TestRootDiscoveryHandler_Handle/should_return_the_list_of_API_groups_in_v1_format (0.00s)
--- PASS: TestRootDiscoveryHandler_Handle/should_return_the_list_of_API_groups_in_v2_format (0.00s)
--- PASS: TestRootDiscoveryHandler_Handle/should_handle_the_request_if_the_path_is_not_/apis (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/aggregator/apiserver/discovery	(cached)
=== RUN   TestAdmissionMutation
=== RUN   TestAdmissionMutation/should_return_mutation_response
--- PASS: TestAdmissionMutation (0.00s)
--- PASS: TestAdmissionMutation/should_return_mutation_response (0.00s)
=== RUN   TestAdmissionValidation
=== RUN   TestAdmissionValidation/should_return_validation_response
--- PASS: TestAdmissionValidation (0.00s)
--- PASS: TestAdmissionValidation/should_return_validation_response (0.00s)
=== RUN   TestQueryDataHandler
=== RUN   TestQueryDataHandler/should_return_query_response
=== RUN   TestQueryDataHandler/should_return_type_error
E0414 09:15:06.689173   65159 query.go:50] "invalid datasource type" err="invalid datasource type" dsType="testds" refType="wrongds"
E0414 09:15:06.689222   65159 status.go:71] "Unhandled Error" err="apiserver received an error that is not an metav1.Status: &errors.errorString{s:\"invalid datasource type\"}: invalid datasource type" logger="UnhandledError"
=== RUN   TestQueryDataHandler/should_return_UID_error
E0414 09:15:06.690492   65159 query.go:58] "invalid datasource UID" err="invalid datasource UID" path="abc" refUID="123"
E0414 09:15:06.690517   65159 status.go:71] "Unhandled Error" err="apiserver received an error that is not an metav1.Status: &errors.errorString{s:\"invalid datasource UID\"}: invalid datasource UID" logger="UnhandledError"
=== RUN   TestQueryDataHandler/should_return_delegate_response_if_group_does_not_match
--- PASS: TestQueryDataHandler (0.00s)
--- PASS: TestQueryDataHandler/should_return_query_response (0.00s)
--- PASS: TestQueryDataHandler/should_return_type_error (0.00s)
--- PASS: TestQueryDataHandler/should_return_UID_error (0.00s)
--- PASS: TestQueryDataHandler/should_return_delegate_response_if_group_does_not_match (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/aggregator/apiserver/plugin	(cached)
=== RUN   TestParseRequest
=== RUN   TestParseRequest/should_parse_request
--- PASS: TestParseRequest (0.00s)
--- PASS: TestParseRequest/should_parse_request (0.00s)
=== RUN   TestToAdmissionRequest
--- PASS: TestToAdmissionRequest (0.00s)
=== RUN   TestFromMutationResponse
=== RUN   TestFromMutationResponse/should_return_expected_patch
=== RUN   TestFromMutationResponse/should_error_if_MutationResponse_has_empty_ObjectBytes
=== RUN   TestFromMutationResponse/should_include_Result_in_AdmissionResponse_when_not_allowed
=== RUN   TestFromMutationResponse/should_handle_nil_Warnings_and_Result
--- PASS: TestFromMutationResponse (0.00s)
--- PASS: TestFromMutationResponse/should_return_expected_patch (0.00s)
--- PASS: TestFromMutationResponse/should_error_if_MutationResponse_has_empty_ObjectBytes (0.00s)
--- PASS: TestFromMutationResponse/should_include_Result_in_AdmissionResponse_when_not_allowed (0.00s)
--- PASS: TestFromMutationResponse/should_handle_nil_Warnings_and_Result (0.00s)
=== RUN   TestFromValidationResponse
=== RUN   TestFromValidationResponse/should_include_Result_in_AdmissionResponse_when_not_allowed
=== RUN   TestFromValidationResponse/should_not_include_Result_in_AdmissionResponse_when_allowed
=== RUN   TestFromValidationResponse/should_handle_nil_Warnings_and_Result
--- PASS: TestFromValidationResponse (0.00s)
--- PASS: TestFromValidationResponse/should_include_Result_in_AdmissionResponse_when_not_allowed (0.00s)
--- PASS: TestFromValidationResponse/should_not_include_Result_in_AdmissionResponse_when_allowed (0.00s)
--- PASS: TestFromValidationResponse/should_handle_nil_Warnings_and_Result (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/aggregator/apiserver/plugin/admission	(cached)
?   	github.com/grafana/grafana/pkg/aggregator/apiserver/plugin/fakes	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apiserver/scheme	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/apiserver/util	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/applyconfiguration	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/applyconfiguration/aggregation/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/applyconfiguration/internal	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/clientset/versioned	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/clientset/versioned/fake	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/clientset/versioned/scheme	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/clientset/versioned/typed/aggregation/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/clientset/versioned/typed/aggregation/v0alpha1/fake	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/informers/externalversions	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/informers/externalversions/aggregation	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/informers/externalversions/aggregation/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/informers/externalversions/internalinterfaces	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/generated/listers/aggregation/v0alpha1	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/registry/dataplaneservice	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/registry/dataplaneservice/rest	[no test files]
?   	github.com/grafana/grafana/pkg/aggregator/registry/dataplaneservice/storage	[no test files]
=== RUN   TestDeepCopyJSON
--- PASS: TestDeepCopyJSON (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apimachinery/apis/common/v0alpha1	(cached)
=== RUN   TestBase_Is
=== RUN   TestBase_Is/Base_'[]_'_==_''_of_type_*errors.errorString_=_false_(false_unwrapped)
=== RUN   TestBase_Is/Base_'[]_'_==_'[]_'_of_type_errutil.Base_=_true_(true_unwrapped)
=== RUN   TestBase_Is/Base_'[]_'_==_'[]_'_of_type_errutil.Error_=_true_(true_unwrapped)
=== RUN   TestBase_Is/Base_'[test.notFound]_'_==_'[test.notFound]_'_of_type_errutil.Base_=_true_(true_unwrapped)
=== RUN   TestBase_Is/Base_'[test.notFound]_'_==_'[test.notFound]_this_is_an_error_derived_from_baseNotFound,_it_is_considered_to_be_equal_to_baseNotFound'_of_type_errutil.Error_=_true_(true_unwrapped)
=== RUN   TestBase_Is/Base_'[test.notFound]_'_==_'[test.internal]_'_of_type_errutil.Base_=_false_(false_unwrapped)
=== RUN   TestBase_Is/Base_'[test.internal]_'_==_'wrapped,_like_a_burrito:_[test.internal]_oh_noes'_of_type_*fmt.wrapError_=_false_(true_unwrapped)
--- PASS: TestBase_Is (0.00s)
--- PASS: TestBase_Is/Base_'[]_'_==_''_of_type_*errors.errorString_=_false_(false_unwrapped) (0.00s)
--- PASS: TestBase_Is/Base_'[]_'_==_'[]_'_of_type_errutil.Base_=_true_(true_unwrapped) (0.00s)
--- PASS: TestBase_Is/Base_'[]_'_==_'[]_'_of_type_errutil.Error_=_true_(true_unwrapped) (0.00s)
--- PASS: TestBase_Is/Base_'[test.notFound]_'_==_'[test.notFound]_'_of_type_errutil.Base_=_true_(true_unwrapped) (0.00s)
--- PASS: TestBase_Is/Base_'[test.notFound]_'_==_'[test.notFound]_this_is_an_error_derived_from_baseNotFound,_it_is_considered_to_be_equal_to_baseNotFound'_of_type_errutil.Error_=_true_(true_unwrapped) (0.00s)
--- PASS: TestBase_Is/Base_'[test.notFound]_'_==_'[test.internal]_'_of_type_errutil.Base_=_false_(false_unwrapped) (0.00s)
--- PASS: TestBase_Is/Base_'[test.internal]_'_==_'wrapped,_like_a_burrito:_[test.internal]_oh_noes'_of_type_*fmt.wrapError_=_false_(true_unwrapped) (0.00s)
=== RUN   TestTemplate
=== RUN   TestTemplate/Built_error_should_return_true_when_compared_with_templated_error_
=== RUN   TestTemplate/Built_error_should_return_true_when_compared_with_templated_error_base_
--- PASS: TestTemplate (0.00s)
--- PASS: TestTemplate/Built_error_should_return_true_when_compared_with_templated_error_ (0.00s)
--- PASS: TestTemplate/Built_error_should_return_true_when_compared_with_templated_error_base_ (0.00s)
=== RUN   Example
--- PASS: Example (0.00s)
=== RUN   ExampleTemplate
--- PASS: ExampleTemplate (0.00s)
=== RUN   ExampleTemplate_public
--- PASS: ExampleTemplate_public (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apimachinery/errutil	(cached)
=== RUN   TestRequesterFromContext
=== RUN   TestRequesterFromContext/User_should_error_when_context_is_missing_user
=== RUN   TestRequesterFromContext/should_return_user_set_by_ContextWithUser
--- PASS: TestRequesterFromContext (0.00s)
--- PASS: TestRequesterFromContext/User_should_error_when_context_is_missing_user (0.00s)
--- PASS: TestRequesterFromContext/should_return_user_set_by_ContextWithUser (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apimachinery/identity	(cached)
=== RUN   TestMetaAccessor
=== RUN   TestMetaAccessor/fails_for_non_resource_objects
=== RUN   TestMetaAccessor/get_and_set_grafana_labels_(unstructured)
=== RUN   TestMetaAccessor/get_and_set_grafana_metadata_(unstructured)
=== RUN   TestMetaAccessor/get_and_set_grafana_metadata_(TestResource)
=== RUN   TestMetaAccessor/get_and_set_grafana_metadata_(TestResource2)
=== RUN   TestMetaAccessor/test_reading_old_repo_fields_(now_manager+source)
=== RUN   TestMetaAccessor/blob_info
=== RUN   TestMetaAccessor/find_titles
=== RUN   TestMetaAccessor/ManagerProperties
=== RUN   TestMetaAccessor/ManagerProperties/get_default_values
=== RUN   TestMetaAccessor/ManagerProperties/set_and_get_valid_values
=== RUN   TestMetaAccessor/ManagerProperties/set_empty_identity_returns_default_values
=== RUN   TestMetaAccessor/ManagerProperties/invalid_kind_falls_back_to_generic_kind
=== RUN   TestMetaAccessor/SourceProperties
=== RUN   TestMetaAccessor/SourceProperties/get_default_values
=== RUN   TestMetaAccessor/SourceProperties/set_and_get_valid_values
--- PASS: TestMetaAccessor (0.00s)
--- PASS: TestMetaAccessor/fails_for_non_resource_objects (0.00s)
--- PASS: TestMetaAccessor/get_and_set_grafana_labels_(unstructured) (0.00s)
--- PASS: TestMetaAccessor/get_and_set_grafana_metadata_(unstructured) (0.00s)
--- PASS: TestMetaAccessor/get_and_set_grafana_metadata_(TestResource) (0.00s)
--- PASS: TestMetaAccessor/get_and_set_grafana_metadata_(TestResource2) (0.00s)
--- PASS: TestMetaAccessor/test_reading_old_repo_fields_(now_manager+source) (0.00s)
--- PASS: TestMetaAccessor/blob_info (0.00s)
--- PASS: TestMetaAccessor/find_titles (0.00s)
--- PASS: TestMetaAccessor/ManagerProperties (0.00s)
--- PASS: TestMetaAccessor/ManagerProperties/get_default_values (0.00s)
--- PASS: TestMetaAccessor/ManagerProperties/set_and_get_valid_values (0.00s)
--- PASS: TestMetaAccessor/ManagerProperties/set_empty_identity_returns_default_values (0.00s)
--- PASS: TestMetaAccessor/ManagerProperties/invalid_kind_falls_back_to_generic_kind (0.00s)
--- PASS: TestMetaAccessor/SourceProperties (0.00s)
--- PASS: TestMetaAccessor/SourceProperties/get_default_values (0.00s)
--- PASS: TestMetaAccessor/SourceProperties/set_and_get_valid_values (0.00s)
=== RUN   TestTableConverter
--- PASS: TestTableConverter (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apimachinery/utils	(cached)
=== RUN   TestExposedSecureValue
--- PASS: TestExposedSecureValue (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apis/secret/v0alpha1	(cached)
?   	github.com/grafana/grafana/pkg/apis/secret/v0alpha1/decrypt	[no test files]
=== RUN   TestWithAcceptHeader
=== RUN   TestWithAcceptHeader/should_not_set_accept_header_in_context_for_empty_header
=== RUN   TestWithAcceptHeader/should_set_accept_header_in_context
--- PASS: TestWithAcceptHeader (0.00s)
--- PASS: TestWithAcceptHeader/should_not_set_accept_header_in_context_for_empty_header (0.00s)
--- PASS: TestWithAcceptHeader/should_set_accept_header_in_context (0.00s)
=== RUN   Test_WithPathRewriters
=== RUN   Test_WithPathRewriters/should_rewrite_path
=== RUN   Test_WithPathRewriters/should_ignore_requests_that_don't_match
--- PASS: Test_WithPathRewriters (0.00s)
--- PASS: Test_WithPathRewriters/should_rewrite_path (0.00s)
--- PASS: Test_WithPathRewriters/should_ignore_requests_that_don't_match (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apiserver/endpoints/filters	(cached)
=== RUN   TestAcceptHeader
=== RUN   TestAcceptHeader/should_not_set_ctx_for_empty_header
=== RUN   TestAcceptHeader/should_add_header_to_ctx
--- PASS: TestAcceptHeader (0.00s)
--- PASS: TestAcceptHeader/should_not_set_ctx_for_empty_header (0.00s)
--- PASS: TestAcceptHeader/should_add_header_to_ctx (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apiserver/endpoints/request	(cached)
=== RUN   TestResponseAdapter
=== RUN   TestResponseAdapter/should_handle_synchronous_write
=== RUN   TestResponseAdapter/should_handle_asynchronous_write
=== RUN   TestResponseAdapter/should_handle_asynchronous_err
=== RUN   TestResponseAdapter/should_handle_context_cancellation
=== RUN   TestResponseAdapter/should_gracefully_handle_concurrent_WriteHeader_calls
=== PAUSE TestResponseAdapter/should_gracefully_handle_concurrent_WriteHeader_calls
=== RUN   TestResponseAdapter/should_fork_the_context
=== PAUSE TestResponseAdapter/should_fork_the_context
=== CONT  TestResponseAdapter/should_gracefully_handle_concurrent_WriteHeader_calls
=== CONT  TestResponseAdapter/should_fork_the_context
--- PASS: TestResponseAdapter (1.11s)
--- PASS: TestResponseAdapter/should_handle_synchronous_write (0.00s)
--- PASS: TestResponseAdapter/should_handle_asynchronous_write (1.01s)
--- PASS: TestResponseAdapter/should_handle_asynchronous_err (0.10s)
--- PASS: TestResponseAdapter/should_handle_context_cancellation (0.00s)
--- PASS: TestResponseAdapter/should_fork_the_context (0.01s)
--- PASS: TestResponseAdapter/should_gracefully_handle_concurrent_WriteHeader_calls (0.03s)
PASS
ok  	github.com/grafana/grafana/pkg/apiserver/endpoints/responsewriter	(cached)
?   	github.com/grafana/grafana/pkg/apiserver/readonly	[no test files]
=== RUN   TestParseKey
=== RUN   TestParseKey/All_keys
=== RUN   TestParseKey/Missing_group
=== RUN   TestParseKey/Missing_namespace
=== RUN   TestParseKey/Missing_name
=== RUN   TestParseKey/Missing_resource
=== RUN   TestParseKey/Empty_string
=== RUN   TestParseKey/Invalid_key
=== RUN   TestParseKey/Support_kube-aggregator_format
--- PASS: TestParseKey (0.00s)
--- PASS: TestParseKey/All_keys (0.00s)
--- PASS: TestParseKey/Missing_group (0.00s)
--- PASS: TestParseKey/Missing_namespace (0.00s)
--- PASS: TestParseKey/Missing_name (0.00s)
--- PASS: TestParseKey/Missing_resource (0.00s)
--- PASS: TestParseKey/Empty_string (0.00s)
--- PASS: TestParseKey/Invalid_key (0.00s)
--- PASS: TestParseKey/Support_kube-aggregator_format (0.00s)
=== RUN   TestKey_String
=== RUN   TestKey_String/All_fields
=== RUN   TestKey_String/Missing_group
=== RUN   TestKey_String/Missing_namespace
=== RUN   TestKey_String/Missing_name
=== RUN   TestKey_String/Missing_resource
--- PASS: TestKey_String (0.00s)
--- PASS: TestKey_String/All_fields (0.00s)
--- PASS: TestKey_String/Missing_group (0.00s)
--- PASS: TestKey_String/Missing_namespace (0.00s)
--- PASS: TestKey_String/Missing_name (0.00s)
--- PASS: TestKey_String/Missing_resource (0.00s)
=== RUN   TestGenericStrategy
=== PAUSE TestGenericStrategy
=== RUN   TestStatusStrategy
=== PAUSE TestStatusStrategy
=== RUN   TestCompleteStrategy
=== PAUSE TestCompleteStrategy
=== RUN   TestGetAttrs
=== PAUSE TestGetAttrs
=== CONT  TestGenericStrategy
=== RUN   TestGenericStrategy/PrepareForUpdate
=== PAUSE TestGenericStrategy/PrepareForUpdate
=== RUN   TestGenericStrategy/PrepareForCreate
=== PAUSE TestGenericStrategy/PrepareForCreate
=== CONT  TestGenericStrategy/PrepareForUpdate
=== RUN   TestGenericStrategy/PrepareForUpdate/ignores_status_updates
=== PAUSE TestGenericStrategy/PrepareForUpdate/ignores_status_updates
=== RUN   TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_annotations,_labels,_finalizers,_or_owner_references_change
=== PAUSE TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_annotations,_labels,_finalizers,_or_owner_references_change
=== RUN   TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_spec_changes
=== PAUSE TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_spec_changes
=== CONT  TestGenericStrategy/PrepareForUpdate/ignores_status_updates
=== CONT  TestGetAttrs
=== RUN   TestGetAttrs/returns_all_labels
=== PAUSE TestGetAttrs/returns_all_labels
=== RUN   TestGetAttrs/includes_only_name_in_fields
=== PAUSE TestGetAttrs/includes_only_name_in_fields
=== CONT  TestGetAttrs/returns_all_labels
=== RUN   TestGetAttrs/returns_all_labels/when_labels_is_nil
=== PAUSE TestGetAttrs/returns_all_labels/when_labels_is_nil
=== RUN   TestGetAttrs/returns_all_labels/when_there_are_no_labels
=== PAUSE TestGetAttrs/returns_all_labels/when_there_are_no_labels
=== RUN   TestGetAttrs/returns_all_labels/when_there_is_only_1_label
=== PAUSE TestGetAttrs/returns_all_labels/when_there_is_only_1_label
=== RUN   TestGetAttrs/returns_all_labels/when_there_are_many_labels
=== PAUSE TestGetAttrs/returns_all_labels/when_there_are_many_labels
=== CONT  TestGetAttrs/returns_all_labels/when_labels_is_nil
=== CONT  TestCompleteStrategy
=== RUN   TestCompleteStrategy/PrepareForUpdate
=== PAUSE TestCompleteStrategy/PrepareForUpdate
=== RUN   TestCompleteStrategy/PrepareForCreate
=== PAUSE TestCompleteStrategy/PrepareForCreate
=== CONT  TestCompleteStrategy/PrepareForUpdate
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_status_updates
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_status_updates
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_spec_updates
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_spec_updates
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_metadata_updates
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_metadata_updates
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_status_updates
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_status_updates/keeps_the_change
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_status_updates/keeps_the_change
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_status_updates/does_not_change_generation
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_status_updates/does_not_change_generation
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_status_updates/keeps_the_change
=== CONT  TestStatusStrategy
=== RUN   TestStatusStrategy/PrepareForUpdate
=== PAUSE TestStatusStrategy/PrepareForUpdate
=== CONT  TestStatusStrategy/PrepareForUpdate
=== RUN   TestStatusStrategy/PrepareForUpdate/ignores_spec_updates
strategy_test.go:151: assumption does not hold -- verify with app platform if this is intended
=== RUN   TestStatusStrategy/PrepareForUpdate/ignores_label_updates
=== PAUSE TestStatusStrategy/PrepareForUpdate/ignores_label_updates
=== RUN   TestStatusStrategy/PrepareForUpdate/ignores_annotation_updates
=== CONT  TestGenericStrategy/PrepareForCreate
=== RUN   TestGenericStrategy/PrepareForCreate/assigns_generation=1
=== CONT  TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_spec_changes
=== CONT  TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_annotations,_labels,_finalizers,_or_owner_references_change
=== CONT  TestGetAttrs/includes_only_name_in_fields
=== CONT  TestGetAttrs/returns_all_labels/when_there_are_many_labels
=== CONT  TestGetAttrs/returns_all_labels/when_there_is_only_1_label
=== CONT  TestGetAttrs/returns_all_labels/when_there_are_no_labels
--- PASS: TestGetAttrs (0.00s)
--- PASS: TestGetAttrs/includes_only_name_in_fields (0.00s)
--- PASS: TestGetAttrs/returns_all_labels (0.00s)
--- PASS: TestGetAttrs/returns_all_labels/when_labels_is_nil (0.00s)
--- PASS: TestGetAttrs/returns_all_labels/when_there_are_many_labels (0.00s)
--- PASS: TestGetAttrs/returns_all_labels/when_there_is_only_1_label (0.00s)
--- PASS: TestGetAttrs/returns_all_labels/when_there_are_no_labels (0.00s)
=== CONT  TestCompleteStrategy/PrepareForCreate
=== RUN   TestCompleteStrategy/PrepareForCreate/assigns_generation=1
=== PAUSE TestCompleteStrategy/PrepareForCreate/assigns_generation=1
=== CONT  TestCompleteStrategy/PrepareForCreate/assigns_generation=1
=== RUN   TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_not_set
=== PAUSE TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_not_set
=== RUN   TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_set_to_a_higher_value
=== PAUSE TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_set_to_a_higher_value
=== CONT  TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_not_set
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_metadata_updates
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/keeps_the_change
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/keeps_the_change
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/does_not_increment_generation
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/does_not_increment_generation
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/keeps_the_change
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_spec_updates
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_spec_updates/keeps_the_change
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_spec_updates/keeps_the_change
=== RUN   TestCompleteStrategy/PrepareForUpdate/on_spec_updates/does_not_increment_generation
=== PAUSE TestCompleteStrategy/PrepareForUpdate/on_spec_updates/does_not_increment_generation
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_spec_updates/keeps_the_change
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_status_updates/does_not_change_generation
=== CONT  TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_set_to_a_higher_value
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/does_not_increment_generation
=== CONT  TestCompleteStrategy/PrepareForUpdate/on_spec_updates/does_not_increment_generation
--- PASS: TestCompleteStrategy (0.00s)
--- PASS: TestCompleteStrategy/PrepareForCreate (0.00s)
--- PASS: TestCompleteStrategy/PrepareForCreate/assigns_generation=1 (0.00s)
--- PASS: TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_not_set (0.00s)
--- PASS: TestCompleteStrategy/PrepareForCreate/assigns_generation=1/when_generation_is_set_to_a_higher_value (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_status_updates (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_status_updates/keeps_the_change (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_status_updates/does_not_change_generation (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_metadata_updates (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/keeps_the_change (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_metadata_updates/does_not_increment_generation (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_spec_updates (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_spec_updates/keeps_the_change (0.00s)
--- PASS: TestCompleteStrategy/PrepareForUpdate/on_spec_updates/does_not_increment_generation (0.00s)
=== PAUSE TestStatusStrategy/PrepareForUpdate/ignores_annotation_updates
=== RUN   TestStatusStrategy/PrepareForUpdate/ignores_finalizer_updates
=== PAUSE TestStatusStrategy/PrepareForUpdate/ignores_finalizer_updates
=== RUN   TestStatusStrategy/PrepareForUpdate/ignores_owner_references_updates
=== PAUSE TestStatusStrategy/PrepareForUpdate/ignores_owner_references_updates
=== RUN   TestStatusStrategy/PrepareForUpdate/does_not_increment_generation_on_status_changes
=== PAUSE TestStatusStrategy/PrepareForUpdate/does_not_increment_generation_on_status_changes
=== CONT  TestStatusStrategy/PrepareForUpdate/ignores_label_updates
=== PAUSE TestGenericStrategy/PrepareForCreate/assigns_generation=1
=== RUN   TestGenericStrategy/PrepareForCreate/clears_status
=== PAUSE TestGenericStrategy/PrepareForCreate/clears_status
=== RUN   TestGenericStrategy/PrepareForCreate/leaves_spec_untouched
=== PAUSE TestGenericStrategy/PrepareForCreate/leaves_spec_untouched
=== CONT  TestGenericStrategy/PrepareForCreate/assigns_generation=1
=== CONT  TestStatusStrategy/PrepareForUpdate/does_not_increment_generation_on_status_changes
=== CONT  TestStatusStrategy/PrepareForUpdate/ignores_owner_references_updates
=== CONT  TestStatusStrategy/PrepareForUpdate/ignores_finalizer_updates
=== CONT  TestStatusStrategy/PrepareForUpdate/ignores_annotation_updates
--- PASS: TestStatusStrategy (0.00s)
--- PASS: TestStatusStrategy/PrepareForUpdate (0.00s)
--- SKIP: TestStatusStrategy/PrepareForUpdate/ignores_spec_updates (0.00s)
--- PASS: TestStatusStrategy/PrepareForUpdate/ignores_label_updates (0.00s)
--- PASS: TestStatusStrategy/PrepareForUpdate/does_not_increment_generation_on_status_changes (0.00s)
--- PASS: TestStatusStrategy/PrepareForUpdate/ignores_owner_references_updates (0.00s)
--- PASS: TestStatusStrategy/PrepareForUpdate/ignores_finalizer_updates (0.00s)
--- PASS: TestStatusStrategy/PrepareForUpdate/ignores_annotation_updates (0.00s)
=== CONT  TestGenericStrategy/PrepareForCreate/leaves_spec_untouched
=== CONT  TestGenericStrategy/PrepareForCreate/clears_status
--- PASS: TestGenericStrategy (0.00s)
--- PASS: TestGenericStrategy/PrepareForUpdate (0.00s)
--- PASS: TestGenericStrategy/PrepareForUpdate/ignores_status_updates (0.00s)
--- PASS: TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_spec_changes (0.00s)
--- PASS: TestGenericStrategy/PrepareForUpdate/does_not_increment_generation_if_annotations,_labels,_finalizers,_or_owner_references_change (0.00s)
--- PASS: TestGenericStrategy/PrepareForCreate (0.00s)
--- PASS: TestGenericStrategy/PrepareForCreate/assigns_generation=1 (0.00s)
--- PASS: TestGenericStrategy/PrepareForCreate/leaves_spec_untouched (0.00s)
--- PASS: TestGenericStrategy/PrepareForCreate/clears_status (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apiserver/registry/generic	(cached)
=== RUN   TestLegacyToUnifiedStorage_DataSyncer
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-both_stores_are_in_sync
I0414 09:15:09.430766   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.430929   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.430991   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.431010   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.431415   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3 updated=0 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-both_stores_are_in_sync_-_fail_to_list_from_legacy
I0414 09:15:09.431568   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.431587   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.431649   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
E0414 09:15:09.431707   65762 dualwriter_syncer.go:186] "unable to extract list from legacy storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-both_stores_are_in_sync_-_fail_to_list_from_storage
I0414 09:15:09.431802   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.431815   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
E0414 09:15:09.431869   65762 dualwriter_syncer.go:170] "unable to extract list from storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_is_missing_1_entry_(foo4)
I0414 09:15:09.431954   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.431965   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.432021   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.432073   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.432092   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.432205   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo4"
I0414 09:15:09.432294   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4 updated=1 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_needs_to_be_update_(foo2_is_different)
I0414 09:15:09.432405   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.432418   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.432474   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.432525   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.432536   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.432623   65762 dualwriter_syncer.go:235] "updating item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo2"
I0414 09:15:09.432724   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3 updated=1 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_is_missing_1_entry_(foo4)_-_fail_to_upsert
I0414 09:15:09.432815   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.432828   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.432889   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.432944   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.432966   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.432977   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo4"
E0414 09:15:09.433037   65762 dualwriter_syncer.go:253] "could not update in storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" object=null
I0414 09:15:09.433142   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4 updated=0 failed=1 outcome=false
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_has_an_extra_1_entry_(foo4)
I0414 09:15:09.433232   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.433245   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.433318   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.433450   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.433487   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.433616   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo4"
I0414 09:15:09.433717   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4 updated=1 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_has_an_extra_1_entry_(foo4)_-_fail_to_delete
I0414 09:15:09.433882   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.433924   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.433997   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.434057   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.434075   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.434085   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo4"
E0414 09:15:09.434156   65762 dualwriter_syncer.go:275] "could not delete from storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" objectList=null
I0414 09:15:09.434269   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4 updated=0 failed=1 outcome=false
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_is_missing_1_entry_(foo3)_and_has_an_extra_1_entry_(foo4)
I0414 09:15:09.434452   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.434489   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind"
I0414 09:15:09.434564   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.434624   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=3
I0414 09:15:09.434645   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4
I0414 09:15:09.434697   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo2"
I0414 09:15:09.434813   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" name="foo4"
I0414 09:15:09.434886   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=1 resource="test.kind" items=4 updated=2 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-both_stores_are_in_sync
I0414 09:15:09.435019   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.435036   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.435407   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.435478   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.435500   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.435617   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3 updated=0 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-both_stores_are_in_sync_-_fail_to_list_from_legacy
I0414 09:15:09.435770   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.435811   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.435877   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
E0414 09:15:09.435942   65762 dualwriter_syncer.go:186] "unable to extract list from legacy storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-both_stores_are_in_sync_-_fail_to_list_from_storage
I0414 09:15:09.436136   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.436180   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
E0414 09:15:09.436252   65762 dualwriter_syncer.go:170] "unable to extract list from storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_is_missing_1_entry_(foo4)
I0414 09:15:09.436419   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.436462   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.436525   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.436582   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.436607   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.436630   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo4"
I0414 09:15:09.436826   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4 updated=1 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_needs_to_be_update_(foo2_is_different)
I0414 09:15:09.436988   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.437005   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.437101   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.437179   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.437201   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.437278   65762 dualwriter_syncer.go:235] "updating item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo2"
I0414 09:15:09.437425   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3 updated=1 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_is_missing_1_entry_(foo4)_-_fail_to_upsert
I0414 09:15:09.437647   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.437671   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.437744   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.437810   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.437827   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.437931   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo4"
E0414 09:15:09.438013   65762 dualwriter_syncer.go:253] "could not update in storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" object=null
I0414 09:15:09.438041   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4 updated=0 failed=1 outcome=false
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_has_an_extra_1_entry_(foo4)
I0414 09:15:09.438140   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.438163   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.438223   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.438290   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.438313   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.438494   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo4"
I0414 09:15:09.438666   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4 updated=1 failed=0 outcome=true
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_has_an_extra_1_entry_(foo4)_-_fail_to_delete
I0414 09:15:09.438840   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.438891   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.438960   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.441771   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.441807   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.441974   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo4"
E0414 09:15:09.442071   65762 dualwriter_syncer.go:275] "could not delete from storage" err="error" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" objectList=null
I0414 09:15:09.442096   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4 updated=0 failed=1 outcome=false
=== RUN   TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_is_missing_1_entry_(foo3)_and_has_an_extra_1_entry_(foo4)
I0414 09:15:09.443150   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.443173   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind"
I0414 09:15:09.443250   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.443381   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=3
I0414 09:15:09.443396   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4
I0414 09:15:09.443467   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo2"
I0414 09:15:09.443623   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" name="foo4"
I0414 09:15:09.443717   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="test.kind" items=4 updated=2 failed=0 outcome=true
--- PASS: TestLegacyToUnifiedStorage_DataSyncer (0.01s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-both_stores_are_in_sync (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-both_stores_are_in_sync_-_fail_to_list_from_legacy (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-both_stores_are_in_sync_-_fail_to_list_from_storage (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_is_missing_1_entry_(foo4) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_needs_to_be_update_(foo2_is_different) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_is_missing_1_entry_(foo4)_-_fail_to_upsert (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_has_an_extra_1_entry_(foo4) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_has_an_extra_1_entry_(foo4)_-_fail_to_delete (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-1-storage_is_missing_1_entry_(foo3)_and_has_an_extra_1_entry_(foo4) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-both_stores_are_in_sync (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-both_stores_are_in_sync_-_fail_to_list_from_legacy (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-both_stores_are_in_sync_-_fail_to_list_from_storage (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_is_missing_1_entry_(foo4) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_needs_to_be_update_(foo2_is_different) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_is_missing_1_entry_(foo4)_-_fail_to_upsert (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_has_an_extra_1_entry_(foo4) (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_has_an_extra_1_entry_(foo4)_-_fail_to_delete (0.00s)
--- PASS: TestLegacyToUnifiedStorage_DataSyncer/Mode-2-storage_is_missing_1_entry_(foo3)_and_has_an_extra_1_entry_(foo4) (0.00s)
=== RUN   TestSetDualWritingMode
I0414 09:15:09.443966   65762 metrics.go:40] "cloud migration metrics already registered"
I0414 09:15:09.443998   65762 dualwriter_syncer.go:158] "starting legacyToUnifiedStorageDataSyncer" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists"
I0414 09:15:09.444132   65762 dualwriter_syncer.go:180] "got items from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists" items=1
I0414 09:15:09.444226   65762 dualwriter_syncer.go:189] "got items from legacy storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists" items=1
I0414 09:15:09.444251   65762 dualwriter_syncer.go:221] "got list of items to be synced" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists" items=2
I0414 09:15:09.444271   65762 dualwriter_syncer.go:240] "inserting item on unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists" name="foo"
I0414 09:15:09.444394   65762 dualwriter_syncer.go:271] "deleting item from unified storage" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists" name="bar"
I0414 09:15:09.444505   65762 dualwriter_syncer.go:289] "finished syncing items" logger="legacyToUnifiedStorageDataSyncer" mode=2 resource="playlist.grafana.app/playlists" items=2 updated=2 failed=0 outcome=true
I0414 09:15:09.444624   65762 metrics.go:40] "cloud migration metrics already registered"
E0414 09:15:09.444645   65762 dualwriter.go:176] data syncer failed for mode:2errlock already exists
--- PASS: TestSetDualWritingMode (0.00s)
=== RUN   TestCompare
=== RUN   TestCompare/should_return_true_when_both_objects_are_the_same
=== RUN   TestCompare/should_return_true_when_objects_are_the_same,_but_different_metadata_(generation)
=== RUN   TestCompare/should_return_true_when_objects_are_the_same,_but_different_TypeMeta_(kind_and_apiversion)
=== RUN   TestCompare/should_return_false_when_objects_are_different
--- PASS: TestCompare (0.00s)
--- PASS: TestCompare/should_return_true_when_both_objects_are_the_same (0.00s)
--- PASS: TestCompare/should_return_true_when_objects_are_the_same,_but_different_metadata_(generation) (0.00s)
--- PASS: TestCompare/should_return_true_when_objects_are_the_same,_but_different_TypeMeta_(kind_and_apiversion) (0.00s)
--- PASS: TestCompare/should_return_false_when_objects_are_different (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/apiserver/rest	(cached)
?   	github.com/grafana/grafana/pkg/apiserver/storage/testing	[no test files]
?   	github.com/grafana/grafana/pkg/build	[no test files]
?   	github.com/grafana/grafana/pkg/build/actions/bump-version	[no test files]
=== RUN   TestGetImageFiles
=== RUN   TestGetImageFiles/1.2.3
=== RUN   TestGetImageFiles/1.2.3+example-01
--- PASS: TestGetImageFiles (0.00s)
--- PASS: TestGetImageFiles/1.2.3 (0.00s)
--- PASS: TestGetImageFiles/1.2.3+example-01 (0.00s)
=== RUN   Test_constructURL
=== RUN   Test_constructURL/cleans_.._sequence
=== RUN   Test_constructURL/doesn't_clean_anything_-_non_malicious_url
=== RUN   Test_constructURL/doesn't_clean_anything_-_three_dots
=== RUN   Test_constructURL/cleans_.
--- PASS: Test_constructURL (0.00s)
--- PASS: Test_constructURL/cleans_.._sequence (0.00s)
--- PASS: Test_constructURL/doesn't_clean_anything_-_non_malicious_url (0.00s)
--- PASS: Test_constructURL/doesn't_clean_anything_-_three_dots (0.00s)
--- PASS: Test_constructURL/cleans_. (0.00s)
=== RUN   TestBuilds
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
2025/04/14 09:15:11 deb armv7 raspberrypi == true
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
=== RUN   TestBuilds/[1/8]_https://dl.example.com/oss/release/grafana_1.2.3_arm64.deb
=== RUN   TestBuilds/[2/8]_https://dl.example.com/oss/release/grafana-1.2.3-1.aarch64.rpm
=== RUN   TestBuilds/[3/8]_https://dl.example.com/oss/release/grafana-1.2.3.linux-arm64.tar.gz
=== RUN   TestBuilds/[4/8]_https://dl.example.com/oss/release/grafana-rpi_1.2.3_armhf.deb
=== RUN   TestBuilds/[5/8]_https://dl.example.com/oss/release/grafana_1.2.3_armhf.deb
=== RUN   TestBuilds/[6/8]_https://dl.example.com/oss/release/grafana-1.2.3.linux-armv7.tar.gz
=== RUN   TestBuilds/[7/8]_https://dl.example.com/oss/release/grafana-1.2.3.windows-amd64.zip
=== RUN   TestBuilds/[8/8]_https://dl.example.com/oss/release/grafana-1.2.3.windows-amd64.msi
--- PASS: TestBuilds (0.00s)
--- PASS: TestBuilds/[1/8]_https://dl.example.com/oss/release/grafana_1.2.3_arm64.deb (0.00s)
--- PASS: TestBuilds/[2/8]_https://dl.example.com/oss/release/grafana-1.2.3-1.aarch64.rpm (0.00s)
--- PASS: TestBuilds/[3/8]_https://dl.example.com/oss/release/grafana-1.2.3.linux-arm64.tar.gz (0.00s)
--- PASS: TestBuilds/[4/8]_https://dl.example.com/oss/release/grafana-rpi_1.2.3_armhf.deb (0.00s)
--- PASS: TestBuilds/[5/8]_https://dl.example.com/oss/release/grafana_1.2.3_armhf.deb (0.00s)
--- PASS: TestBuilds/[6/8]_https://dl.example.com/oss/release/grafana-1.2.3.linux-armv7.tar.gz (0.00s)
--- PASS: TestBuilds/[7/8]_https://dl.example.com/oss/release/grafana-1.2.3.windows-amd64.zip (0.00s)
--- PASS: TestBuilds/[8/8]_https://dl.example.com/oss/release/grafana-1.2.3.windows-amd64.msi (0.00s)
=== RUN   TestBuildsWithPlus
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
2025/04/14 09:15:11 deb armv7 raspberrypi == true
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
Version string: 1.2.3
=== RUN   TestBuildsWithPlus/[1/8]_https://dl.example.com/oss/release/grafana_1.2.3+example~01_arm64.deb
=== RUN   TestBuildsWithPlus/[2/8]_https://dl.example.com/oss/release/grafana-1.2.3+example~01-1.aarch64.rpm
=== RUN   TestBuildsWithPlus/[3/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.linux-arm64.tar.gz
=== RUN   TestBuildsWithPlus/[4/8]_https://dl.example.com/oss/release/grafana-rpi_1.2.3+example~01_armhf.deb
=== RUN   TestBuildsWithPlus/[5/8]_https://dl.example.com/oss/release/grafana_1.2.3+example~01_armhf.deb
=== RUN   TestBuildsWithPlus/[6/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.linux-armv7.tar.gz
=== RUN   TestBuildsWithPlus/[7/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.windows-amd64.zip
=== RUN   TestBuildsWithPlus/[8/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.windows-amd64.msi
--- PASS: TestBuildsWithPlus (0.00s)
--- PASS: TestBuildsWithPlus/[1/8]_https://dl.example.com/oss/release/grafana_1.2.3+example~01_arm64.deb (0.00s)
--- PASS: TestBuildsWithPlus/[2/8]_https://dl.example.com/oss/release/grafana-1.2.3+example~01-1.aarch64.rpm (0.00s)
--- PASS: TestBuildsWithPlus/[3/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.linux-arm64.tar.gz (0.00s)
--- PASS: TestBuildsWithPlus/[4/8]_https://dl.example.com/oss/release/grafana-rpi_1.2.3+example~01_armhf.deb (0.00s)
--- PASS: TestBuildsWithPlus/[5/8]_https://dl.example.com/oss/release/grafana_1.2.3+example~01_armhf.deb (0.00s)
--- PASS: TestBuildsWithPlus/[6/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.linux-armv7.tar.gz (0.00s)
--- PASS: TestBuildsWithPlus/[7/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.windows-amd64.zip (0.00s)
--- PASS: TestBuildsWithPlus/[8/8]_https://dl.example.com/oss/release/grafana-1.2.3+example-01.windows-amd64.msi (0.00s)
=== RUN   TestReleaseURLs
--- PASS: TestReleaseURLs (0.00s)
=== RUN   TestPublishAwsMarketplace
=== RUN   TestPublishAwsMarketplace/try_to_publish_without_required_flags
NAME:
cmd.test - A new cli application
2025-04-15T08:39:37.2502127Z
USAGE:
cmd.test [global options] command [command options]
2025-04-15T08:39:37.2503694Z
COMMANDS:
help, h  Shows a list of commands or help for one command
2025-04-15T08:39:37.2505308Z
GLOBAL OPTIONS:
--dry-run        Only simulate actions (default: false)
--version value  Release version (default from metadata)
--image value    Name of the image to be released
--repo value     AWS Marketplace ECR repository
--product value  AWS Marketplace product identifier
--help, -h       show help
=== RUN   TestPublishAwsMarketplace/try_to_publish_without_credentials
=== RUN   TestPublishAwsMarketplace/try_to_publish_with_valid_credentials_and_nonexisting_version
=== RUN   TestPublishAwsMarketplace/try_to_publish_with_valid_credentials_and_existing_version
=== RUN   TestPublishAwsMarketplace/dry_run_with_invalid_credentials
=== RUN   TestPublishAwsMarketplace/dry_run_with_valid_credentials
--- PASS: TestPublishAwsMarketplace (0.00s)
--- PASS: TestPublishAwsMarketplace/try_to_publish_without_required_flags (0.00s)
--- PASS: TestPublishAwsMarketplace/try_to_publish_without_credentials (0.00s)
--- PASS: TestPublishAwsMarketplace/try_to_publish_with_valid_credentials_and_nonexisting_version (0.00s)
--- PASS: TestPublishAwsMarketplace/try_to_publish_with_valid_credentials_and_existing_version (0.00s)
--- PASS: TestPublishAwsMarketplace/dry_run_with_invalid_credentials (0.00s)
--- PASS: TestPublishAwsMarketplace/dry_run_with_valid_credentials (0.00s)
=== RUN   TestPublishGithub
=== RUN   TestPublishGithub/try_to_publish_without_required_flags
NAME:
cmd.test - A new cli application
2025-04-15T08:39:37.2531800Z
USAGE:
cmd.test [global options] command [command options]
2025-04-15T08:39:37.2533398Z
COMMANDS:
help, h  Shows a list of commands or help for one command
2025-04-15T08:39:37.2535045Z
GLOBAL OPTIONS:
--dry-run     Only simulate actions (default: false)
--path value  Path to the asset to be published
--repo value  Github repository
--tag value   Release tag (default from metadata)ß
--create      Create release if it doesn't exist (default: false)
--help, -h    show help
=== RUN   TestPublishGithub/try_to_publish_without_token
=== RUN   TestPublishGithub/try_to_publish_with_invalid_token
=== RUN   TestPublishGithub/try_to_publish_with_valid_token_and_nonexisting_tag_with_create_disabled
=== RUN   TestPublishGithub/try_to_publish_with_valid_token_and_nonexisting_tag_with_create_enabled
=== RUN   TestPublishGithub/try_to_publish_with_valid_token_and_existing_tag
=== RUN   TestPublishGithub/dry_run_with_invalid_token
=== RUN   TestPublishGithub/dry_run_with_valid_token_and_nonexisting_tag_with_create_disabled
=== RUN   TestPublishGithub/dry_run_with_valid_token_and_nonexisting_tag_with_create_enabled
=== RUN   TestPublishGithub/dry_run_with_valid_token_and_existing_tag
--- PASS: TestPublishGithub (0.00s)
--- PASS: TestPublishGithub/try_to_publish_without_required_flags (0.00s)
--- PASS: TestPublishGithub/try_to_publish_without_token (0.00s)
--- PASS: TestPublishGithub/try_to_publish_with_invalid_token (0.00s)
--- PASS: TestPublishGithub/try_to_publish_with_valid_token_and_nonexisting_tag_with_create_disabled (0.00s)
--- PASS: TestPublishGithub/try_to_publish_with_valid_token_and_nonexisting_tag_with_create_enabled (0.00s)
--- PASS: TestPublishGithub/try_to_publish_with_valid_token_and_existing_tag (0.00s)
--- PASS: TestPublishGithub/dry_run_with_invalid_token (0.00s)
--- PASS: TestPublishGithub/dry_run_with_valid_token_and_nonexisting_tag_with_create_disabled (0.00s)
--- PASS: TestPublishGithub/dry_run_with_valid_token_and_nonexisting_tag_with_create_enabled (0.00s)
--- PASS: TestPublishGithub/dry_run_with_valid_token_and_existing_tag (0.00s)
=== RUN   Test_getVersionFolder
=== RUN   Test_getVersionFolder/tag_mode
=== RUN   Test_getVersionFolder/main_mode
=== RUN   Test_getVersionFolder/downstream_mode
=== RUN   Test_getVersionFolder/release_branch_mode
=== RUN   Test_getVersionFolder/enterprise_pro_mode
=== RUN   Test_getVersionFolder/cloud_mode
=== RUN   Test_getVersionFolder/unrecognised_version_mode
--- PASS: Test_getVersionFolder (0.00s)
--- PASS: Test_getVersionFolder/tag_mode (0.00s)
--- PASS: Test_getVersionFolder/main_mode (0.00s)
--- PASS: Test_getVersionFolder/downstream_mode (0.00s)
--- PASS: Test_getVersionFolder/release_branch_mode (0.00s)
--- PASS: Test_getVersionFolder/enterprise_pro_mode (0.00s)
--- PASS: Test_getVersionFolder/cloud_mode (0.00s)
--- PASS: Test_getVersionFolder/unrecognised_version_mode (0.00s)
=== RUN   Test_checkForEnterprise2Edition
=== RUN   Test_checkForEnterprise2Edition/event_is_not_custom
=== RUN   Test_checkForEnterprise2Edition/event_is_not_custom_and_string_is_empty
=== RUN   Test_checkForEnterprise2Edition/event_is_custom
--- PASS: Test_checkForEnterprise2Edition (0.00s)
--- PASS: Test_checkForEnterprise2Edition/event_is_not_custom (0.00s)
--- PASS: Test_checkForEnterprise2Edition/event_is_not_custom_and_string_is_empty (0.00s)
--- PASS: Test_checkForEnterprise2Edition/event_is_custom (0.00s)
=== RUN   TestWhatsNewChecker
=== RUN   TestWhatsNewChecker/non-tag_event
DRONE_TAG envvar not present, %w <nil>
building Grafana version: 1.2.3-12345, release mode: {Mode:pull_request IsPreview:false IsTest:false}
=== RUN   TestWhatsNewChecker/non-semver_compatible
DRONE_SEMVER_PRERELEASE doesn't exist for a tag, this is a release event...
building Grafana version: abcd123, release mode: {Mode:release IsPreview:false IsTest:false}
=== RUN   TestWhatsNewChecker/skip_check_for_test_tags
building Grafana version: 0.0.0, release mode: {Mode:release IsPreview:false IsTest:true}
test mode, skipping check
=== RUN   TestWhatsNewChecker/package.json_version_matches_tag
DRONE_SEMVER_PRERELEASE doesn't exist for a tag, this is a release event...
building Grafana version: 10.0.0, release mode: {Mode:release IsPreview:false IsTest:false}
=== RUN   TestWhatsNewChecker/package.json_doesn't_match_tag
DRONE_SEMVER_PRERELEASE doesn't exist for a tag, this is a release event...
building Grafana version: 10.0.0, release mode: {Mode:release IsPreview:false IsTest:false}
--- PASS: TestWhatsNewChecker (0.00s)
--- PASS: TestWhatsNewChecker/non-tag_event (0.00s)
--- PASS: TestWhatsNewChecker/non-semver_compatible (0.00s)
--- PASS: TestWhatsNewChecker/skip_check_for_test_tags (0.00s)
--- PASS: TestWhatsNewChecker/package.json_version_matches_tag (0.00s)
--- PASS: TestWhatsNewChecker/package.json_doesn't_match_tag (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/cmd	(cached)
?   	github.com/grafana/grafana/pkg/build/cmd/util	[no test files]
=== RUN   TestGetMetadata
=== RUN   TestGetMetadata/Should_return_valid_metadata,_
building Grafana version: 9.2.0-12345, release mode: {Mode:pull_request IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#01
building Grafana version: 9.2.0-12345, release mode: {Mode:branch IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#01/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#01/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#02
building Grafana version: 9.2.0-12345, release mode: {Mode:main IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#02/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#02/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#03
building Grafana version: 9.2.0-12345, release mode: {Mode:branch IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#03/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#03/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#04
building Grafana version: 9.2.0-12345, release mode: {Mode:downstream IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#04/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#04/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#05
building Grafana version: 9.2.0-12345, release mode: {Mode:enterprise2 IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#05/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#05/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#06
DRONE_SEMVER_PRERELEASE doesn't exist for a tag, this is a release event...
building Grafana version: 9.2.0, release mode: {Mode:release IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#06/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#06/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#07
building Grafana version: 9.2.0-preview, release mode: {Mode:release IsPreview:true IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#07/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#07/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#08
building Grafana version: 9.2.0-test, release mode: {Mode:release IsPreview:false IsTest:true}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#08/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#08/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#09
DRONE_SEMVER_PRERELEASE doesn't exist for a tag, this is a release event...
building Grafana version: 9.2.0, release mode: {Mode:release IsPreview:false IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#09/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#09/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#10
building Grafana version: 9.2.0-preview, release mode: {Mode:release IsPreview:true IsTest:false}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#10/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#10/with_a_valid_release_mode_from_the_built-in_list
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#11
building Grafana version: 9.2.0-test, release mode: {Mode:release IsPreview:false IsTest:true}
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#11/with_a_valid_version
=== RUN   TestGetMetadata/Should_return_valid_metadata,_#11/with_a_valid_release_mode_from_the_built-in_list
--- PASS: TestGetMetadata (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_ (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#01 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#01/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#01/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#02 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#02/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#02/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#03 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#03/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#03/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#04 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#04/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#04/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#05 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#05/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#05/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#06 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#06/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#06/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#07 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#07/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#07/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#08 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#08/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#08/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#09 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#09/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#09/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#10 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#10/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#10/with_a_valid_release_mode_from_the_built-in_list (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#11 (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#11/with_a_valid_version (0.00s)
--- PASS: TestGetMetadata/Should_return_valid_metadata,_#11/with_a_valid_release_mode_from_the_built-in_list (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/config	0.006s
?   	github.com/grafana/grafana/pkg/build/docker	[no test files]
=== RUN   TestGetDroneEvent
=== RUN   TestGetDroneEvent/Should_return_the_Drone_Event
=== RUN   TestGetDroneEvent/Should_return_error,_Drone_Event_env_var_is_missing
--- PASS: TestGetDroneEvent (0.00s)
--- PASS: TestGetDroneEvent/Should_return_the_Drone_Event (0.00s)
--- PASS: TestGetDroneEvent/Should_return_error,_Drone_Event_env_var_is_missing (0.00s)
=== RUN   TestLookup
=== RUN   TestLookup/A_valid_lookup_should_return_a_string_and_no_error
=== RUN   TestLookup/An_invalid_lookup_should_return_an_error
--- PASS: TestLookup (0.00s)
--- PASS: TestLookup/A_valid_lookup_should_return_a_string_and_no_error (0.00s)
--- PASS: TestLookup/An_invalid_lookup_should_return_an_error (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/droneutil	(cached)
?   	github.com/grafana/grafana/pkg/build/e2e	[no test files]
?   	github.com/grafana/grafana/pkg/build/e2eutil	[no test files]
=== RUN   TestRequireListWithEnvFallback
=== RUN   TestRequireListWithEnvFallback/flag1
=== RUN   TestRequireListWithEnvFallback/flag1#01
=== RUN   TestRequireListWithEnvFallback/flag1#02
--- PASS: TestRequireListWithEnvFallback (0.00s)
--- PASS: TestRequireListWithEnvFallback/flag1 (0.00s)
--- PASS: TestRequireListWithEnvFallback/flag1#01 (0.00s)
--- PASS: TestRequireListWithEnvFallback/flag1#02 (0.00s)
=== RUN   TestRequireStringWithEnvFallback
=== RUN   TestRequireStringWithEnvFallback/string_present_in_the_context
=== RUN   TestRequireStringWithEnvFallback/string_present_in_env
=== RUN   TestRequireStringWithEnvFallback/string_absent_from_both_context_and_env
--- PASS: TestRequireStringWithEnvFallback (0.00s)
--- PASS: TestRequireStringWithEnvFallback/string_present_in_the_context (0.00s)
--- PASS: TestRequireStringWithEnvFallback/string_present_in_env (0.00s)
--- PASS: TestRequireStringWithEnvFallback/string_absent_from_both_context_and_env (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/env	(cached)
=== RUN   TestCopyFile
--- PASS: TestCopyFile (0.01s)
=== RUN   TestCopyFile_Permissions
--- PASS: TestCopyFile_Permissions (0.00s)
=== RUN   TestCopyFile_NonExistentDestDir
--- PASS: TestCopyFile_NonExistentDestDir (0.00s)
=== RUN   TestExists_NonExistent
--- PASS: TestExists_NonExistent (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/fsutil	(cached)
?   	github.com/grafana/grafana/pkg/build/gcloud	[no test files]
=== RUN   Test_asChunks
=== RUN   Test_asChunks/Happy_path_#1
=== RUN   Test_asChunks/Happy_path_#2
=== RUN   Test_asChunks/Happy_path_#3
=== RUN   Test_asChunks/A_chunkSize_with_0_value_returns_the_input_as_a_single_chunk
=== RUN   Test_asChunks/A_chunkSize_with_negative_value_returns_the_input_as_a_single_chunk
=== RUN   Test_asChunks/A_chunkSize_greater_than_the_size_on_input_returns_the_input_as_a_single_chunk
=== RUN   Test_asChunks/A_chunkSize_equal_the_size_on_input_returns_the_input_as_a_single_chunk
=== RUN   Test_asChunks/An_empty_input_returns_empty_chunks
--- PASS: Test_asChunks (0.00s)
--- PASS: Test_asChunks/Happy_path_#1 (0.00s)
--- PASS: Test_asChunks/Happy_path_#2 (0.00s)
--- PASS: Test_asChunks/Happy_path_#3 (0.00s)
--- PASS: Test_asChunks/A_chunkSize_with_0_value_returns_the_input_as_a_single_chunk (0.00s)
--- PASS: Test_asChunks/A_chunkSize_with_negative_value_returns_the_input_as_a_single_chunk (0.00s)
--- PASS: Test_asChunks/A_chunkSize_greater_than_the_size_on_input_returns_the_input_as_a_single_chunk (0.00s)
--- PASS: Test_asChunks/A_chunkSize_equal_the_size_on_input_returns_the_input_as_a_single_chunk (0.00s)
--- PASS: Test_asChunks/An_empty_input_returns_empty_chunks (0.00s)
=== RUN   TestCopyLocalDir
=== PAUSE TestCopyLocalDir
=== RUN   TestCopyRemoteDir
=== PAUSE TestCopyRemoteDir
=== CONT  TestCopyRemoteDir
=== RUN   TestCopyRemoteDir/failure-should-error
=== PAUSE TestCopyRemoteDir/failure-should-error
=== CONT  TestCopyRemoteDir/failure-should-error
=== CONT  TestCopyLocalDir
=== RUN   TestCopyLocalDir/failure-should-error
=== PAUSE TestCopyLocalDir/failure-should-error
=== CONT  TestCopyLocalDir/failure-should-error
2025/04/14 09:15:12 Number or files to be copied over: 2
--- PASS: TestCopyRemoteDir (0.00s)
--- PASS: TestCopyRemoteDir/failure-should-error (0.97s)
2025/04/14 09:15:13 failed to close writer err googleapi: Error 401: Anonymous caller does not have storage.objects.create access to the Google Cloud Storage object. Permission 'storage.objects.create' denied on resource (or it may not exist)., required
2025/04/14 09:15:13 failed to copy objects, err: googleapi: Error 401: Anonymous caller does not have storage.objects.create access to the Google Cloud Storage object. Permission 'storage.objects.create' denied on resource (or it may not exist)., required
2025/04/14 09:15:13 failed to close writer err googleapi: Error 401: Anonymous caller does not have storage.objects.create access to the Google Cloud Storage object. Permission 'storage.objects.create' denied on resource (or it may not exist)., required
2025/04/14 09:15:13 failed to copy objects, err: googleapi: Error 401: Anonymous caller does not have storage.objects.create access to the Google Cloud Storage object. Permission 'storage.objects.create' denied on resource (or it may not exist)., required
--- PASS: TestCopyLocalDir (0.00s)
--- PASS: TestCopyLocalDir/failure-should-error (0.98s)
PASS
ok  	github.com/grafana/grafana/pkg/build/gcloud/storage	(cached)
=== RUN   TestPackageName
=== RUN   TestPackageName/[1_/_46]_grafana-rpi_1.2.3_armhf.deb
Version string: 1.2.3
=== RUN   TestPackageName/[2_/_46]_grafana_1.2.3_arm64.deb
Version string: 1.2.3
=== RUN   TestPackageName/[3_/_46]_grafana-1.2.3-1.aarch64.rpm
Version string: 1.2.3
=== RUN   TestPackageName/[4_/_46]_grafana-1.2.3-1.aarch64.rpm.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[5_/_46]_grafana-1.2.3-1.x86_64.rpm
Version string: 1.2.3
=== RUN   TestPackageName/[6_/_46]_grafana-1.2.3-1.x86_64.rpm.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[7_/_46]_grafana-1.2.3.darwin-amd64.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[8_/_46]_grafana-1.2.3.darwin-amd64.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[9_/_46]_grafana-1.2.3.darwin-arm64-musl.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[10_/_46]_grafana-1.2.3.darwin-arm64-musl.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[11_/_46]_grafana-1.2.3.darwin-arm64.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[12_/_46]_grafana-1.2.3.darwin-arm64.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[13_/_46]_grafana-1.2.3.linux-amd64-musl.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[14_/_46]_grafana-1.2.3.linux-amd64-musl.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[15_/_46]_grafana-1.2.3.linux-amd64.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[16_/_46]_grafana-1.2.3.linux-amd64.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[17_/_46]_grafana-1.2.3.linux-arm64-musl.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[18_/_46]_grafana-1.2.3.linux-arm64-musl.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[19_/_46]_grafana-1.2.3.linux-arm64.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[20_/_46]_grafana-1.2.3.linux-arm64.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[21_/_46]_grafana-1.2.3.linux-armv6.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[22_/_46]_grafana-1.2.3.linux-armv6.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[23_/_46]_grafana-1.2.3.linux-armv7-musl.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[24_/_46]_grafana-1.2.3.linux-armv7-musl.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[25_/_46]_grafana-1.2.3.linux-armv7.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[26_/_46]_grafana-1.2.3.linux-armv7.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[27_/_46]_grafana-1.2.3.windows-amd64.exe
Version string: 1.2.3
=== RUN   TestPackageName/[28_/_46]_grafana-1.2.3.windows-amd64.exe.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[29_/_46]_grafana-1.2.3.windows-amd64.msi
Version string: 1.2.3
=== RUN   TestPackageName/[30_/_46]_grafana-1.2.3.windows-amd64.msi.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[31_/_46]_grafana-1.2.3.windows-amd64.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[32_/_46]_grafana-1.2.3.windows-amd64.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[33_/_46]_grafana-1.2.3.windows-amd64.zip
Version string: 1.2.3
=== RUN   TestPackageName/[34_/_46]_grafana-1.2.3.windows-amd64.zip.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[35_/_46]_grafana-1.2.3.windows-arm64-musl.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[36_/_46]_grafana-1.2.3.windows-arm64-musl.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[37_/_46]_grafana-1.2.3.windows-arm64.tar.gz
Version string: 1.2.3
=== RUN   TestPackageName/[38_/_46]_grafana-1.2.3.windows-arm64.tar.gz.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[39_/_46]_grafana-rpi_1.2.3_armhf.deb
Version string: 1.2.3
=== RUN   TestPackageName/[40_/_46]_grafana-rpi_1.2.3_armhf.deb.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[41_/_46]_grafana_1.2.3_amd64.deb
Version string: 1.2.3
=== RUN   TestPackageName/[42_/_46]_grafana_1.2.3_amd64.deb.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[43_/_46]_grafana_1.2.3_arm64.deb
Version string: 1.2.3
=== RUN   TestPackageName/[44_/_46]_grafana_1.2.3_arm64.deb.sha256
Version string: 1.2.3
=== RUN   TestPackageName/[45_/_46]_grafana_1.2.3_armhf.deb
Version string: 1.2.3
=== RUN   TestPackageName/[46_/_46]_grafana_1.2.3_armhf.deb.sha256
Version string: 1.2.3
--- PASS: TestPackageName (0.00s)
--- PASS: TestPackageName/[1_/_46]_grafana-rpi_1.2.3_armhf.deb (0.00s)
--- PASS: TestPackageName/[2_/_46]_grafana_1.2.3_arm64.deb (0.00s)
--- PASS: TestPackageName/[3_/_46]_grafana-1.2.3-1.aarch64.rpm (0.00s)
--- PASS: TestPackageName/[4_/_46]_grafana-1.2.3-1.aarch64.rpm.sha256 (0.00s)
--- PASS: TestPackageName/[5_/_46]_grafana-1.2.3-1.x86_64.rpm (0.00s)
--- PASS: TestPackageName/[6_/_46]_grafana-1.2.3-1.x86_64.rpm.sha256 (0.00s)
--- PASS: TestPackageName/[7_/_46]_grafana-1.2.3.darwin-amd64.tar.gz (0.00s)
--- PASS: TestPackageName/[8_/_46]_grafana-1.2.3.darwin-amd64.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[9_/_46]_grafana-1.2.3.darwin-arm64-musl.tar.gz (0.00s)
--- PASS: TestPackageName/[10_/_46]_grafana-1.2.3.darwin-arm64-musl.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[11_/_46]_grafana-1.2.3.darwin-arm64.tar.gz (0.00s)
--- PASS: TestPackageName/[12_/_46]_grafana-1.2.3.darwin-arm64.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[13_/_46]_grafana-1.2.3.linux-amd64-musl.tar.gz (0.00s)
--- PASS: TestPackageName/[14_/_46]_grafana-1.2.3.linux-amd64-musl.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[15_/_46]_grafana-1.2.3.linux-amd64.tar.gz (0.00s)
--- PASS: TestPackageName/[16_/_46]_grafana-1.2.3.linux-amd64.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[17_/_46]_grafana-1.2.3.linux-arm64-musl.tar.gz (0.00s)
--- PASS: TestPackageName/[18_/_46]_grafana-1.2.3.linux-arm64-musl.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[19_/_46]_grafana-1.2.3.linux-arm64.tar.gz (0.00s)
--- PASS: TestPackageName/[20_/_46]_grafana-1.2.3.linux-arm64.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[21_/_46]_grafana-1.2.3.linux-armv6.tar.gz (0.00s)
--- PASS: TestPackageName/[22_/_46]_grafana-1.2.3.linux-armv6.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[23_/_46]_grafana-1.2.3.linux-armv7-musl.tar.gz (0.00s)
--- PASS: TestPackageName/[24_/_46]_grafana-1.2.3.linux-armv7-musl.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[25_/_46]_grafana-1.2.3.linux-armv7.tar.gz (0.00s)
--- PASS: TestPackageName/[26_/_46]_grafana-1.2.3.linux-armv7.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[27_/_46]_grafana-1.2.3.windows-amd64.exe (0.00s)
--- PASS: TestPackageName/[28_/_46]_grafana-1.2.3.windows-amd64.exe.sha256 (0.00s)
--- PASS: TestPackageName/[29_/_46]_grafana-1.2.3.windows-amd64.msi (0.00s)
--- PASS: TestPackageName/[30_/_46]_grafana-1.2.3.windows-amd64.msi.sha256 (0.00s)
--- PASS: TestPackageName/[31_/_46]_grafana-1.2.3.windows-amd64.tar.gz (0.00s)
--- PASS: TestPackageName/[32_/_46]_grafana-1.2.3.windows-amd64.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[33_/_46]_grafana-1.2.3.windows-amd64.zip (0.00s)
--- PASS: TestPackageName/[34_/_46]_grafana-1.2.3.windows-amd64.zip.sha256 (0.00s)
--- PASS: TestPackageName/[35_/_46]_grafana-1.2.3.windows-arm64-musl.tar.gz (0.00s)
--- PASS: TestPackageName/[36_/_46]_grafana-1.2.3.windows-arm64-musl.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[37_/_46]_grafana-1.2.3.windows-arm64.tar.gz (0.00s)
--- PASS: TestPackageName/[38_/_46]_grafana-1.2.3.windows-arm64.tar.gz.sha256 (0.00s)
--- PASS: TestPackageName/[39_/_46]_grafana-rpi_1.2.3_armhf.deb (0.00s)
--- PASS: TestPackageName/[40_/_46]_grafana-rpi_1.2.3_armhf.deb.sha256 (0.00s)
--- PASS: TestPackageName/[41_/_46]_grafana_1.2.3_amd64.deb (0.00s)
--- PASS: TestPackageName/[42_/_46]_grafana_1.2.3_amd64.deb.sha256 (0.00s)
--- PASS: TestPackageName/[43_/_46]_grafana_1.2.3_arm64.deb (0.00s)
--- PASS: TestPackageName/[44_/_46]_grafana_1.2.3_arm64.deb.sha256 (0.00s)
--- PASS: TestPackageName/[45_/_46]_grafana_1.2.3_armhf.deb (0.00s)
--- PASS: TestPackageName/[46_/_46]_grafana_1.2.3_armhf.deb.sha256 (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/gcom	(cached)
?   	github.com/grafana/grafana/pkg/build/git	[no test files]
?   	github.com/grafana/grafana/pkg/build/grafana	[no test files]
?   	github.com/grafana/grafana/pkg/build/lerna	[no test files]
?   	github.com/grafana/grafana/pkg/build/metrics	[no test files]
?   	github.com/grafana/grafana/pkg/build/npm	[no test files]
?   	github.com/grafana/grafana/pkg/build/packaging	[no test files]
?   	github.com/grafana/grafana/pkg/build/validation	[no test files]
=== RUN   TestIsGreaterThanOrEqual
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.0.0_greater_than_or_equal_stableVersion_8.0.0_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_6.0.0_greater_than_or_equal_stableVersion_6.0.0_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_7.0.0_greater_than_or_equal_stableVersion_8.0.0_=_false
=== RUN   TestIsGreaterThanOrEqual/newVersion_8.5.0-preview1_greater_than_or_equal_stableVersion_8.0.0_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_8.5.0_greater_than_or_equal_stableVersion_8.5.0-preview1_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.0.0.1_greater_than_or_equal_stableVersion_9.0.0_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.0.0.2_greater_than_or_equal_stableVersion_9.0.0.1_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.1.0_greater_than_or_equal_stableVersion_9.0.0.1_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.1-0-preview1_greater_than_or_equal_stableVersion_9.0.0.1_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.0.0.1_greater_than_or_equal_stableVersion_9.0.1.1_=_false
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.0.1.1_greater_than_or_equal_stableVersion_9.0.0.1_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.0.0.1_greater_than_or_equal_stableVersion_9.0.0.1_=_true
=== RUN   TestIsGreaterThanOrEqual/newVersion_7.0.0.1_greater_than_or_equal_stableVersion_8.0.0_=_false
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.1-0-preview1_greater_than_or_equal_stableVersion_9.1-0-preview2_=_false
=== RUN   TestIsGreaterThanOrEqual/newVersion_9.1-0-preview3_greater_than_or_equal_stableVersion_9.1-0-preview2_=_true
--- PASS: TestIsGreaterThanOrEqual (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.0.0_greater_than_or_equal_stableVersion_8.0.0_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_6.0.0_greater_than_or_equal_stableVersion_6.0.0_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_7.0.0_greater_than_or_equal_stableVersion_8.0.0_=_false (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_8.5.0-preview1_greater_than_or_equal_stableVersion_8.0.0_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_8.5.0_greater_than_or_equal_stableVersion_8.5.0-preview1_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.0.0.1_greater_than_or_equal_stableVersion_9.0.0_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.0.0.2_greater_than_or_equal_stableVersion_9.0.0.1_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.1.0_greater_than_or_equal_stableVersion_9.0.0.1_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.1-0-preview1_greater_than_or_equal_stableVersion_9.0.0.1_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.0.0.1_greater_than_or_equal_stableVersion_9.0.1.1_=_false (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.0.1.1_greater_than_or_equal_stableVersion_9.0.0.1_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.0.0.1_greater_than_or_equal_stableVersion_9.0.0.1_=_true (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_7.0.0.1_greater_than_or_equal_stableVersion_8.0.0_=_false (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.1-0-preview1_greater_than_or_equal_stableVersion_9.1-0-preview2_=_false (0.00s)
--- PASS: TestIsGreaterThanOrEqual/newVersion_9.1-0-preview3_greater_than_or_equal_stableVersion_9.1-0-preview2_=_true (0.00s)
=== RUN   TestGetLatestVersion
=== RUN   TestGetLatestVersion/it_returns_a_version
=== RUN   TestGetLatestVersion/it_handles_non_200_responses
--- PASS: TestGetLatestVersion (0.00s)
--- PASS: TestGetLatestVersion/it_returns_a_version (0.00s)
--- PASS: TestGetLatestVersion/it_handles_non_200_responses (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/versions	(cached)
?   	github.com/grafana/grafana/pkg/build/wire	[no test files]
?   	github.com/grafana/grafana/pkg/build/wire/cmd/wire	[no test files]
=== RUN   TestWire
=== RUN   TestWire/BindInjectorArg
=== PAUSE TestWire/BindInjectorArg
=== RUN   TestWire/BindInjectorArgPointer
=== PAUSE TestWire/BindInjectorArgPointer
=== RUN   TestWire/BindInterfaceWithValue
=== PAUSE TestWire/BindInterfaceWithValue
=== RUN   TestWire/BuildTagsAllPackages
=== PAUSE TestWire/BuildTagsAllPackages
=== RUN   TestWire/Chain
=== PAUSE TestWire/Chain
=== RUN   TestWire/Cleanup
=== PAUSE TestWire/Cleanup
=== RUN   TestWire/CopyOtherDecls
=== PAUSE TestWire/CopyOtherDecls
=== RUN   TestWire/Cycle
=== PAUSE TestWire/Cycle
=== RUN   TestWire/DocComment
=== PAUSE TestWire/DocComment
=== RUN   TestWire/EmptyVar
=== PAUSE TestWire/EmptyVar
=== RUN   TestWire/ExampleWithMocks
=== PAUSE TestWire/ExampleWithMocks
=== RUN   TestWire/ExportedValue
=== PAUSE TestWire/ExportedValue
=== RUN   TestWire/ExportedValueDifferentPackage
=== PAUSE TestWire/ExportedValueDifferentPackage
=== RUN   TestWire/FieldsOfCycle
=== PAUSE TestWire/FieldsOfCycle
=== RUN   TestWire/FieldsOfImportedStruct
=== PAUSE TestWire/FieldsOfImportedStruct
=== RUN   TestWire/FieldsOfStruct
=== PAUSE TestWire/FieldsOfStruct
=== RUN   TestWire/FieldsOfStructDoNotProvidePtrToField
=== PAUSE TestWire/FieldsOfStructDoNotProvidePtrToField
=== RUN   TestWire/FieldsOfStructPointer
=== PAUSE TestWire/FieldsOfStructPointer
=== RUN   TestWire/FieldsOfValueStruct
=== PAUSE TestWire/FieldsOfValueStruct
=== RUN   TestWire/FuncArgProvider
=== PAUSE TestWire/FuncArgProvider
=== RUN   TestWire/Header
=== PAUSE TestWire/Header
=== RUN   TestWire/ImportedInterfaceBinding
=== PAUSE TestWire/ImportedInterfaceBinding
=== RUN   TestWire/InjectInput
=== PAUSE TestWire/InjectInput
=== RUN   TestWire/InjectInputConflict
=== PAUSE TestWire/InjectInputConflict
=== RUN   TestWire/InjectWithPanic
=== PAUSE TestWire/InjectWithPanic
=== RUN   TestWire/InjectorMissingCleanup
=== PAUSE TestWire/InjectorMissingCleanup
=== RUN   TestWire/InjectorMissingError
=== PAUSE TestWire/InjectorMissingError
=== RUN   TestWire/InterfaceBinding
=== PAUSE TestWire/InterfaceBinding
=== RUN   TestWire/InterfaceBindingDoesntImplement
=== PAUSE TestWire/InterfaceBindingDoesntImplement
=== RUN   TestWire/InterfaceBindingInvalidArg0
=== PAUSE TestWire/InterfaceBindingInvalidArg0
=== RUN   TestWire/InterfaceBindingNotEnoughArgs
=== PAUSE TestWire/InterfaceBindingNotEnoughArgs
=== RUN   TestWire/InterfaceBindingReuse
=== PAUSE TestWire/InterfaceBindingReuse
=== RUN   TestWire/InterfaceValue
=== PAUSE TestWire/InterfaceValue
=== RUN   TestWire/InterfaceValueDoesntImplement
=== PAUSE TestWire/InterfaceValueDoesntImplement
=== RUN   TestWire/InterfaceValueInvalidArg0
=== PAUSE TestWire/InterfaceValueInvalidArg0
=== RUN   TestWire/InterfaceValueNotEnoughArgs
=== PAUSE TestWire/InterfaceValueNotEnoughArgs
=== RUN   TestWire/InvalidInjector
=== PAUSE TestWire/InvalidInjector
=== RUN   TestWire/MultipleArgsSameType
=== PAUSE TestWire/MultipleArgsSameType
=== RUN   TestWire/MultipleBindings
=== PAUSE TestWire/MultipleBindings
=== RUN   TestWire/MultipleMissingInputs
=== PAUSE TestWire/MultipleMissingInputs
=== RUN   TestWire/MultipleSimilarPackages
=== PAUSE TestWire/MultipleSimilarPackages
=== RUN   TestWire/NamingWorstCase
=== PAUSE TestWire/NamingWorstCase
=== RUN   TestWire/NamingWorstCaseAllInOne
=== PAUSE TestWire/NamingWorstCaseAllInOne
=== RUN   TestWire/NiladicIdentity
=== PAUSE TestWire/NiladicIdentity
=== RUN   TestWire/NiladicValue
=== PAUSE TestWire/NiladicValue
=== RUN   TestWire/NoImplicitInterface
=== PAUSE TestWire/NoImplicitInterface
=== RUN   TestWire/NoInjectParamNames
=== PAUSE TestWire/NoInjectParamNames
=== RUN   TestWire/NoopBuild
=== PAUSE TestWire/NoopBuild
=== RUN   TestWire/PartialCleanup
=== PAUSE TestWire/PartialCleanup
=== RUN   TestWire/PkgImport
=== PAUSE TestWire/PkgImport
=== RUN   TestWire/ProviderSetBindingMissingConcreteType
=== PAUSE TestWire/ProviderSetBindingMissingConcreteType
=== RUN   TestWire/RelativePkg
=== PAUSE TestWire/RelativePkg
=== RUN   TestWire/ReservedKeywords
=== PAUSE TestWire/ReservedKeywords
=== RUN   TestWire/ReturnArgumentAsInterface
=== PAUSE TestWire/ReturnArgumentAsInterface
=== RUN   TestWire/ReturnError
=== PAUSE TestWire/ReturnError
=== RUN   TestWire/Struct
=== PAUSE TestWire/Struct
=== RUN   TestWire/StructNotAStruct
=== PAUSE TestWire/StructNotAStruct
=== RUN   TestWire/StructPointer
=== PAUSE TestWire/StructPointer
=== RUN   TestWire/StructWithPreventTag
=== PAUSE TestWire/StructWithPreventTag
=== RUN   TestWire/TwoDeps
=== PAUSE TestWire/TwoDeps
=== RUN   TestWire/UnexportedStruct
=== PAUSE TestWire/UnexportedStruct
=== RUN   TestWire/UnexportedValue
=== PAUSE TestWire/UnexportedValue
=== RUN   TestWire/UnusedProviders
=== PAUSE TestWire/UnusedProviders
=== RUN   TestWire/ValueChain
=== PAUSE TestWire/ValueChain
=== RUN   TestWire/ValueConversion
=== PAUSE TestWire/ValueConversion
=== RUN   TestWire/ValueFromFunctionScope
=== PAUSE TestWire/ValueFromFunctionScope
=== RUN   TestWire/ValueIsInterfaceValue
=== PAUSE TestWire/ValueIsInterfaceValue
=== RUN   TestWire/ValueIsStruct
=== PAUSE TestWire/ValueIsStruct
=== RUN   TestWire/VarValue
=== PAUSE TestWire/VarValue
=== RUN   TestWire/Varargs
=== PAUSE TestWire/Varargs
=== CONT  TestWire/BindInjectorArg
=== CONT  TestWire/InterfaceValueNotEnoughArgs
=== CONT  TestWire/FieldsOfValueStruct
=== CONT  TestWire/EmptyVar
=== CONT  TestWire/Cleanup
=== CONT  TestWire/InterfaceValueInvalidArg0
=== CONT  TestWire/BuildTagsAllPackages
=== CONT  TestWire/Chain
=== NAME  TestWire/FieldsOfValueStruct
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.5925373Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.5927512Z
package main
2025-04-15T08:39:53.5928343Z
import (
"example.com/bar"
"example.com/baz"
"example.com/foo"
"fmt"
)
2025-04-15T08:39:53.5931498Z
// Injectors from wire.go:
2025-04-15T08:39:53.5932409Z
func newBazService() *baz.Service {
config := _wireConfigValue
fooConfig := config.Foo
service := foo.New(fooConfig)
barConfig := config.Bar
barService := bar.New(barConfig, service)
bazService := &baz.Service{
Foo: service,
Bar: barService,
}
return bazService
}
2025-04-15T08:39:53.5938775Z
var (
_wireConfigValue = &baz.Config{
Foo: &foo.Config{1},
Bar: &bar.Config{2},
}
)
2025-04-15T08:39:53.5942050Z
// wire.go:
2025-04-15T08:39:53.5942862Z
func main() {
svc := newBazService()
fmt.Println(svc.String())
}
=== CONT  TestWire/FieldsOfStructPointer
=== NAME  TestWire/Cleanup
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.5947123Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.5949341Z
package main
2025-04-15T08:39:53.5950296Z
// Injectors from wire.go:
2025-04-15T08:39:53.5951218Z
func injectBar() (*Bar, func()) {
foo, cleanup := provideFoo()
bar, cleanup2 := provideBar(foo)
return bar, func() {
cleanup2()
cleanup()
}
}
=== CONT  TestWire/FieldsOfStructDoNotProvidePtrToField
=== NAME  TestWire/InterfaceValueInvalidArg0
##[error]    wire_test.go:108: /tmp/wire_test2691746935/src/example.com/foo/wire.go:25:13: first argument to InterfaceValue must be a pointer to an interface type; found string
=== CONT  TestWire/FieldsOfStruct
=== NAME  TestWire/BuildTagsAllPackages
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.5988319Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.5990658Z
package main
2025-04-15T08:39:53.5991476Z
// Injectors from wire.go:
2025-04-15T08:39:53.5992385Z
func injectedMessage() string {
string2 := _wireStringValue
return string2
}
2025-04-15T08:39:53.5994642Z
var (
_wireStringValue = "Hello, World!"
)
=== CONT  TestWire/FieldsOfImportedStruct
=== NAME  TestWire/Chain
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.5998336Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6000602Z
package main
2025-04-15T08:39:53.6001404Z
// Injectors from wire.go:
2025-04-15T08:39:53.6002293Z
func injectFooBar() FooBar {
foo := provideFoo()
fooBar := provideFooBar(foo)
return fooBar
}
=== CONT  TestWire/FieldsOfCycle
=== NAME  TestWire/EmptyVar
##[error]    wire_test.go:108: /tmp/wire_test2071685166/src/example.com/foo/wire.go:24:13: var example.com/foo.myFakeSet struct{} is not a provider or a provider set
=== CONT  TestWire/ExportedValueDifferentPackage
=== NAME  TestWire/BindInjectorArg
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6010559Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6012824Z
package main
2025-04-15T08:39:53.6013649Z
// Injectors from wire.go:
2025-04-15T08:39:53.6014560Z
func inject(foo Foo) *Bar {
bar := NewBar(foo)
return bar
}
=== CONT  TestWire/InterfaceValueDoesntImplement
=== NAME  TestWire/InterfaceValueNotEnoughArgs
##[error]    wire_test.go:108: /tmp/wire_test911487599/src/example.com/foo/wire.go:25:38: not enough arguments in call to wire.InterfaceValue
have (string)
want (interface{}, interface{})
=== CONT  TestWire/InterfaceValue
=== NAME  TestWire/FieldsOfStructDoNotProvidePtrToField
##[error]    wire_test.go:108: /tmp/wire_test237049182/src/example.com/foo/wire.go:23:1: inject injectedMessagePtr: no provider found for *string, output of injector
=== CONT  TestWire/InterfaceBindingReuse
=== NAME  TestWire/FieldsOfStructPointer
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6026608Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6028749Z
package main
2025-04-15T08:39:53.6029585Z
// Injectors from wire.go:
2025-04-15T08:39:53.6030678Z
func injectedMessage() string {
s := provideS()
string2 := s.Foo
return string2
}
2025-04-15T08:39:53.6033657Z
func injectedMessagePtr() *string {
s := provideS()
string2 := &s.Foo
return string2
}
=== CONT  TestWire/InterfaceBindingNotEnoughArgs
=== NAME  TestWire/FieldsOfStruct
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6038544Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6040849Z
package main
2025-04-15T08:39:53.6041703Z
// Injectors from wire.go:
2025-04-15T08:39:53.6042637Z
func injectedMessage() string {
s := provideS()
string2 := s.Foo
return string2
}
=== CONT  TestWire/ExportedValue
=== NAME  TestWire/FieldsOfCycle
##[error]    wire_test.go:108: /tmp/wire_test2226079574/src/example.com/foo/wire.go:23:1: cycle for example.com/foo.Bar:
example.com/foo.Bar (example.com/foo.provideBar) ->
example.com/foo.Foo (example.com/foo.provideFoo) ->
example.com/foo.Baz (example.com/foo.Bar.Bz) ->
example.com/foo.Bar
=== CONT  TestWire/InterfaceBindingInvalidArg0
=== NAME  TestWire/FieldsOfImportedStruct
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6061402Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6063592Z
package main
2025-04-15T08:39:53.6064514Z
import (
"example.com/bar"
"example.com/baz"
"example.com/foo"
"fmt"
)
2025-04-15T08:39:53.6067662Z
// Injectors from wire.go:
2025-04-15T08:39:53.6068599Z
func newBazService(config *baz.Config) *baz.Service {
fooConfig := config.Foo
service := foo.New(fooConfig)
barConfig := config.Bar
barService := bar.New(barConfig, service)
bazService := &baz.Service{
Foo: service,
Bar: barService,
}
return bazService
}
2025-04-15T08:39:53.6074958Z
// wire.go:
2025-04-15T08:39:53.6075762Z
func main() {
cfg := &baz.Config{
Foo: &foo.Config{1},
Bar: &bar.Config{2},
}
svc := newBazService(cfg)
fmt.Println(svc.String())
}
=== CONT  TestWire/ExampleWithMocks
=== NAME  TestWire/ExportedValueDifferentPackage
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6082244Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6084407Z
package main
2025-04-15T08:39:53.6085246Z
import (
"os"
)
2025-04-15T08:39:53.6086856Z
// Injectors from wire.go:
2025-04-15T08:39:53.6087783Z
func injectedFile() *os.File {
file := _wireFileValue
return file
}
2025-04-15T08:39:53.6090197Z
var (
_wireFileValue = os.Stdout
)
=== CONT  TestWire/InterfaceBindingDoesntImplement
=== NAME  TestWire/InterfaceValueDoesntImplement
##[error]    wire_test.go:108: /tmp/wire_test2180580074/src/example.com/foo/wire.go:26:13: string does not implement io.Reader
=== CONT  TestWire/InterfaceBinding
=== NAME  TestWire/InterfaceValue
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6097088Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6099347Z
package main
2025-04-15T08:39:53.6100347Z
import (
"io"
"strings"
)
2025-04-15T08:39:53.6102489Z
// Injectors from wire.go:
2025-04-15T08:39:53.6103492Z
func injectedReader() io.Reader {
reader := _wireReaderValue
return reader
}
2025-04-15T08:39:53.6105838Z
var (
_wireReaderValue = strings.NewReader("hello world")
)
=== CONT  TestWire/InjectorMissingError
=== NAME  TestWire/InterfaceBindingReuse
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6109866Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6112179Z
package main
2025-04-15T08:39:53.6113009Z
// Injectors from wire.go:
2025-04-15T08:39:53.6113932Z
func injectFooBar() FooBar {
bar := provideBar()
fooBar := provideFooBar(bar, bar)
return fooBar
}
=== CONT  TestWire/BindInterfaceWithValue
=== NAME  TestWire/InterfaceBindingNotEnoughArgs
##[error]    wire_test.go:108: /tmp/wire_test1137846100/src/example.com/foo/wire.go:25:33: not enough arguments in call to wire.Bind
have (*Fooer)
want (interface{}, interface{})
=== CONT  TestWire/InjectorMissingCleanup
=== NAME  TestWire/InterfaceBinding
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6123066Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6125216Z
package main
2025-04-15T08:39:53.6126061Z
// Injectors from wire.go:
2025-04-15T08:39:53.6126989Z
func injectFooer() Fooer {
bar := provideBar()
return bar
}
=== CONT  TestWire/ImportedInterfaceBinding
=== NAME  TestWire/InterfaceBindingDoesntImplement
##[error]    wire_test.go:108: /tmp/wire_test3233527269/src/example.com/foo/wire.go:25:13: string does not implement example.com/foo.Fooer
=== CONT  TestWire/Header
=== NAME  TestWire/ExportedValue
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6134660Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6136823Z
package main
2025-04-15T08:39:53.6137759Z
import (
"example.com/bar"
)
2025-04-15T08:39:53.6139540Z
// Injectors from wire.go:
2025-04-15T08:39:53.6140649Z
func injectedMessage() string {
string2 := _wireStringValue
return string2
}
2025-04-15T08:39:53.6143017Z
var (
_wireStringValue = bar.PublicMsg
)
=== CONT  TestWire/FuncArgProvider
=== NAME  TestWire/InterfaceBindingInvalidArg0
##[error]    wire_test.go:108: /tmp/wire_test2652146697/src/example.com/foo/wire.go:25:13: first argument to Bind must be a pointer to an interface type; found string
=== CONT  TestWire/InjectInput
=== NAME  TestWire/InjectorMissingError
##[error]    wire_test.go:108: /tmp/wire_test2201288373/src/example.com/foo/wire.go:23:1: inject injectFoo: provider for example.com/foo.Foo returns error but injection not allowed to fail
=== CONT  TestWire/InjectWithPanic
=== NAME  TestWire/ExampleWithMocks
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6153621Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6155764Z
package main
2025-04-15T08:39:53.6156601Z
// Injectors from wire.go:
2025-04-15T08:39:53.6157529Z
// initApp returns a real app.
func initApp() *app {
mainTimer := _wireRealTimeValue
mainGreeter := greeter{
T: mainTimer,
}
mainApp := &app{
g: mainGreeter,
}
return mainApp
}
2025-04-15T08:39:53.6163263Z
var (
_wireRealTimeValue = realTime{}
)
2025-04-15T08:39:53.6165004Z
// initMockedAppFromArgs returns an app with mocked dependencies provided via
// arguments (Approach A). Note that the argument's type is the interface
// type (timer), but the concrete mock type should be passed.
func initMockedAppFromArgs(mt timer) *app {
mainGreeter := greeter{
T: mt,
}
mainApp := &app{
g: mainGreeter,
}
return mainApp
}
2025-04-15T08:39:53.6172403Z
// initMockedApp returns an app with its mocked dependencies, created
// via providers (Approach B).
func initMockedApp() *appWithMocks {
mainMockTimer := newMockTimer()
mainGreeter := greeter{
T: mainMockTimer,
}
mainApp := app{
g: mainGreeter,
}
mainAppWithMocks := &appWithMocks{
app: mainApp,
mt:  mainMockTimer,
}
return mainAppWithMocks
}
=== CONT  TestWire/InjectInputConflict
=== NAME  TestWire/BindInterfaceWithValue
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6183435Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6185591Z
package main
2025-04-15T08:39:53.6186430Z
import (
"io"
"os"
)
2025-04-15T08:39:53.6188459Z
// Injectors from wire.go:
2025-04-15T08:39:53.6189381Z
func inject() io.Writer {
file := _wireFileValue
return file
}
2025-04-15T08:39:53.6191770Z
var (
_wireFileValue = os.Stdout
)
=== CONT  TestWire/ReturnArgumentAsInterface
=== NAME  TestWire/InjectorMissingCleanup
##[error]    wire_test.go:108: /tmp/wire_test865065889/src/example.com/foo/wire.go:23:1: inject injectFoo: provider for example.com/foo.Foo returns cleanup but injection does not return cleanup function
=== CONT  TestWire/UnusedProviders
=== NAME  TestWire/ImportedInterfaceBinding
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6204802Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6206968Z
package main
2025-04-15T08:39:53.6207799Z
import (
"example.com/foo"
)
2025-04-15T08:39:53.6209578Z
// Injectors from wire.go:
2025-04-15T08:39:53.6210675Z
func injectFooer() foo.Fooer {
bar := provideBar()
return bar
}
=== CONT  TestWire/UnexportedValue
=== NAME  TestWire/Header
wire_test.go:164: wire_gen.go:
// This is a sample header file.
//
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6215910Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6218078Z
package main
2025-04-15T08:39:53.6218957Z
// Injectors from wire.go:
2025-04-15T08:39:53.6219853Z
func injectFoo() Foo {
foo := provideFoo()
return foo
}
=== CONT  TestWire/UnexportedStruct
=== NAME  TestWire/InjectInput
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6224150Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6226188Z
package main
2025-04-15T08:39:53.6226987Z
// Injectors from wire.go:
2025-04-15T08:39:53.6227881Z
func injectFooBar(foo Foo) FooBar {
bar := provideBar()
fooBar := provideFooBar(foo, bar)
return fooBar
}
=== CONT  TestWire/TwoDeps
=== NAME  TestWire/FuncArgProvider
##[error]    wire_test.go:108: /tmp/wire_test477602102/src/example.com/foo/wire.go:25:19: var fn func() *example.com/foo.Foo is not a provider or a provider set
=== CONT  TestWire/StructWithPreventTag
=== NAME  TestWire/InjectWithPanic
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6235974Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6238082Z
package main
2025-04-15T08:39:53.6238897Z
// Injectors from wire.go:
2025-04-15T08:39:53.6239805Z
func injectedMessage() string {
string2 := provideMessage()
return string2
}
=== CONT  TestWire/StructPointer
=== NAME  TestWire/InjectInputConflict
##[error]    wire_test.go:108: /tmp/wire_test3894690200/src/example.com/foo/wire.go:24:2: multiple bindings for example.com/foo.Foo
current:
<- provider "provideFoo" (/tmp/wire_test3894690200/src/example.com/foo/foo.go:37:6)
<- provider set "Set" (/tmp/wire_test3894690200/src/example.com/foo/foo.go:33:11)
previous:
<- argument foo to injector function injectBar (/tmp/wire_test3894690200/src/example.com/foo/wire.go:23:1)
=== CONT  TestWire/StructNotAStruct
=== NAME  TestWire/ReturnArgumentAsInterface
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6251437Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6253633Z
package main
2025-04-15T08:39:53.6254514Z
import (
"fmt"
)
2025-04-15T08:39:53.6256096Z
// Injectors from wire.go:
2025-04-15T08:39:53.6257000Z
func injectStringer(s MyString) fmt.Stringer {
return s
}
=== CONT  TestWire/Varargs
=== NAME  TestWire/UnexportedValue
##[error]    wire_test.go:108: /tmp/wire_test15496635/src/example.com/foo/wire.go:24:1: inject injectedMessage: value string can't be used: uses unexported identifier privateMsg
=== CONT  TestWire/Struct
=== NAME  TestWire/UnusedProviders
##[error]    wire_test.go:108: /tmp/wire_test2162378835/src/example.com/foo/wire.go:23:1: inject injectFooBar: unused provider set "unusedSet"
##[error]    wire_test.go:108: /tmp/wire_test2162378835/src/example.com/foo/wire.go:23:1: inject injectFooBar: unused provider "main.provideUnused"
##[error]    wire_test.go:108: /tmp/wire_test2162378835/src/example.com/foo/wire.go:23:1: inject injectFooBar: unused value of type string
##[error]    wire_test.go:108: /tmp/wire_test2162378835/src/example.com/foo/wire.go:23:1: inject injectFooBar: unused interface binding to type example.com/foo.Fooer
##[error]    wire_test.go:108: /tmp/wire_test2162378835/src/example.com/foo/wire.go:23:1: inject injectFooBar: unused field "example.com/foo.S".Cfg
=== CONT  TestWire/VarValue
=== NAME  TestWire/TwoDeps
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6274925Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6277046Z
package main
2025-04-15T08:39:53.6277862Z
// Injectors from wire.go:
2025-04-15T08:39:53.6278788Z
func injectFooBar() FooBar {
foo := provideFoo()
bar := provideBar()
fooBar := provideFooBar(foo, bar)
return fooBar
}
=== CONT  TestWire/ReturnError
=== NAME  TestWire/UnexportedStruct
##[error]    wire_test.go:108: /tmp/wire_test4229480807/src/example.com/foo/wire.go:26:17: name foo not exported by package bar
=== CONT  TestWire/Cycle
=== NAME  TestWire/StructWithPreventTag
##[error]    wire_test.go:108: /tmp/wire_test3128386101/src/example.com/foo/foo.go:45:2: "mu" is prevented from injecting by wire
=== CONT  TestWire/DocComment
=== NAME  TestWire/StructPointer
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6289973Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6292330Z
package main
2025-04-15T08:39:53.6293146Z
// Injectors from wire.go:
2025-04-15T08:39:53.6294118Z
func injectFooBar() *FooBar {
foo := provideFoo()
bar := provideBar()
fooBar := &FooBar{
Foo: foo,
Bar: bar,
}
return fooBar
}
2025-04-15T08:39:53.6298562Z
func injectEmptyStruct() *Empty {
empty := &Empty{}
return empty
}
=== CONT  TestWire/NiladicValue
=== NAME  TestWire/StructNotAStruct
##[error]    wire_test.go:108: /tmp/wire_test320076197/src/example.com/foo/wire.go:24:13: first argument to Struct must be a pointer to a named struct; found **example.com/foo.A
=== CONT  TestWire/ReservedKeywords
=== NAME  TestWire/Struct
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6306189Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6308276Z
package main
2025-04-15T08:39:53.6309082Z
// Injectors from wire.go:
2025-04-15T08:39:53.6309976Z
func injectFooBar() FooBar {
foo := provideFoo()
bar := provideBar()
fooBar := FooBar{
Foo: foo,
Bar: bar,
}
return fooBar
}
2025-04-15T08:39:53.6314591Z
func injectPartFooBar() FooBar {
foo := provideFoo()
fooBar := FooBar{
Foo: foo,
}
return fooBar
}
=== CONT  TestWire/RelativePkg
=== NAME  TestWire/Varargs
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6320290Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6322400Z
package main
2025-04-15T08:39:53.6323203Z
// Injectors from wire.go:
2025-04-15T08:39:53.6324112Z
func injectedMessage(t title, lines ...string) string {
string2 := provideMessage(lines...)
return string2
}
=== CONT  TestWire/ProviderSetBindingMissingConcreteType
=== NAME  TestWire/VarValue
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6328860Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6331164Z
package main
2025-04-15T08:39:53.6331961Z
// Injectors from wire.go:
2025-04-15T08:39:53.6332858Z
func injectedMessage() string {
string2 := _wireStringValue
return string2
}
2025-04-15T08:39:53.6335146Z
var (
_wireStringValue = msg
)
=== CONT  TestWire/ValueIsStruct
=== NAME  TestWire/ReturnError
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6338774Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6341038Z
package main
2025-04-15T08:39:53.6341850Z
// Injectors from wire.go:
2025-04-15T08:39:53.6342753Z
func injectFoo() (Foo, error) {
foo, err := provideFoo()
if err != nil {
return 0, err
}
return foo, nil
}
=== CONT  TestWire/ValueIsInterfaceValue
=== NAME  TestWire/Cycle
##[error]    wire_test.go:108: /tmp/wire_test3189168227/src/example.com/foo/wire.go:23:1: cycle for example.com/foo.Bar:
example.com/foo.Bar (example.com/foo.provideBar) ->
example.com/foo.Foo (example.com/foo.provideFoo) ->
example.com/foo.Baz (example.com/foo.provideBaz) ->
example.com/foo.Bar
=== CONT  TestWire/ValueFromFunctionScope
=== NAME  TestWire/DocComment
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6359291Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6361801Z
package main
2025-04-15T08:39:53.6362628Z
// Injectors from wire.go:
2025-04-15T08:39:53.6363548Z
/* blockComment returns Foo and has a /*- style doc comment */
func blockComment() *Foo {
foo := &Foo{}
return foo
}
2025-04-15T08:39:53.6366592Z
// lineComment returns Bar and has a //- style doc comment
func lineComment() *Bar {
bar := &Bar{}
return bar
}
=== CONT  TestWire/PkgImport
=== NAME  TestWire/NiladicValue
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6371835Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6373969Z
package main
2025-04-15T08:39:53.6374800Z
// Injectors from wire.go:
2025-04-15T08:39:53.6375717Z
func injectedMessage() string {
string2 := _wireStringValue
return string2
}
2025-04-15T08:39:53.6378022Z
var (
_wireStringValue = "Hello, World!"
)
=== CONT  TestWire/ValueConversion
=== NAME  TestWire/ReservedKeywords
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6381984Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6384081Z
package main
2025-04-15T08:39:53.6384895Z
// Injectors from wire.go:
2025-04-15T08:39:53.6385804Z
func injectInterface() Interface {
select2 := provideSelect()
mainInterface := provideInterface(select2)
return mainInterface
}
2025-04-15T08:39:53.6388805Z
// wire.go:
2025-04-15T08:39:53.6389623Z
// Wire tries to disambiguate the variable "select" by prepending
// the package name; this package-scoped variable conflicts with that
// and forces a different name.
var mainSelect = 0
=== CONT  TestWire/PartialCleanup
=== NAME  TestWire/RelativePkg
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6394815Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6397021Z
package main
2025-04-15T08:39:53.6397842Z
// Injectors from wire.go:
2025-04-15T08:39:53.6398791Z
func injectedMessage() string {
string2 := provideMessage()
return string2
}
=== CONT  TestWire/ValueChain
=== NAME  TestWire/ProviderSetBindingMissingConcreteType
##[error]    wire_test.go:108: /tmp/wire_test61381211/src/example.com/foo/foo.go:47:21: wire.Bind of concrete type "*example.com/foo.foo" to interface "example.com/foo.fooer", but setB does not include a provider for "*example.com/foo.foo"
=== CONT  TestWire/NoopBuild
=== NAME  TestWire/ValueIsInterfaceValue
##[error]    wire_test.go:108: /tmp/wire_test2593131414/src/example.com/foo/wire.go:27:13: argument to Value may not be an interface value (found io.Reader); use InterfaceValue instead
=== CONT  TestWire/NoInjectParamNames
=== NAME  TestWire/ValueIsStruct
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6411101Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6413236Z
package main
2025-04-15T08:39:53.6414055Z
// Injectors from wire.go:
2025-04-15T08:39:53.6414977Z
func injectFoo() Foo {
foo := _wireFooValue
return foo
}
2025-04-15T08:39:53.6417166Z
var (
_wireFooValue = Foo{X: 42}
)
=== CONT  TestWire/MultipleSimilarPackages
=== NAME  TestWire/ValueFromFunctionScope
##[error]    wire_test.go:108: /tmp/wire_test2882381844/src/example.com/foo/wire.go:23:1: inject injectBar: value int can't be used: f is not declared in package scope
=== CONT  TestWire/NiladicIdentity
=== NAME  TestWire/PkgImport
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6424349Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6426484Z
package main
2025-04-15T08:39:53.6427317Z
import (
"example.com/bar"
)
2025-04-15T08:39:53.6429000Z
import (
_ "example.com/anon1"
_ "example.com/anon2"
)
2025-04-15T08:39:53.6431359Z
// Injectors from wire.go:
2025-04-15T08:39:53.6432278Z
func injectFooBar() FooBar {
foo := provideFoo()
barBar := bar.ProvideBar()
fooBar := provideFooBar(foo, barBar)
return fooBar
}
=== CONT  TestWire/NamingWorstCaseAllInOne
=== NAME  TestWire/ValueConversion
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6437925Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6440297Z
package main
2025-04-15T08:39:53.6441141Z
// Injectors from wire.go:
2025-04-15T08:39:53.6442139Z
func injectedMessage() Foo {
foo := _wireFooValue
return foo
}
2025-04-15T08:39:53.6444445Z
var (
_wireFooValue = Foo("Hello, World!")
)
=== CONT  TestWire/NamingWorstCase
=== NAME  TestWire/PartialCleanup
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6447451Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6448512Z
package main
2025-04-15T08:39:53.6448912Z
// Injectors from wire.go:
2025-04-15T08:39:53.6449371Z
func injectBaz() (Baz, func(), error) {
foo, cleanup := provideFoo()
bar, cleanup2, err := provideBar(foo)
if err != nil {
cleanup()
return 0, nil, err
}
baz, err := provideBaz(bar)
if err != nil {
cleanup2()
cleanup()
return 0, nil, err
}
return baz, func() {
cleanup2()
cleanup()
}, nil
}
=== CONT  TestWire/NoImplicitInterface
=== NAME  TestWire/NoInjectParamNames
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6454844Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6455900Z
package main
2025-04-15T08:39:53.6456303Z
import (
context2 "context"
)
2025-04-15T08:39:53.6457121Z
// Injectors from wire.go:
2025-04-15T08:39:53.6457574Z
func inject(contextContext context2.Context, arg struct{}) (context, error) {
mainContext, err := provide(contextContext)
if err != nil {
return context{}, err
}
return mainContext, nil
}
=== CONT  TestWire/BindInjectorArgPointer
=== NAME  TestWire/ValueChain
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6460993Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6462150Z
package main
2025-04-15T08:39:53.6462558Z
// Injectors from wire.go:
2025-04-15T08:39:53.6463072Z
func injectFooBar() FooBar {
foo := _wireFooValue
fooBar := provideFooBar(foo)
return fooBar
}
2025-04-15T08:39:53.6464441Z
var (
_wireFooValue = Foo(41)
)
=== CONT  TestWire/CopyOtherDecls
=== CONT  TestWire/MultipleBindings
=== NAME  TestWire/MultipleSimilarPackages
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6466443Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6467505Z
package main
2025-04-15T08:39:53.6467903Z
import (
"example.com/bar"
"example.com/baz"
"example.com/foo"
"fmt"
)
2025-04-15T08:39:53.6469386Z
// Injectors from wire.go:
2025-04-15T08:39:53.6469833Z
func newMainService(mainConfig MainConfig) *MainService {
config := mainConfig.Foo
service := foo.New(config)
barConfig := mainConfig.Bar
barService := bar.New(barConfig, service)
bazConfig := mainConfig.baz
bazService := baz.New(bazConfig, barService)
mainService := &MainService{
Foo: service,
Bar: barService,
baz: bazService,
}
return mainService
}
2025-04-15T08:39:53.6473829Z
// wire.go:
2025-04-15T08:39:53.6474237Z
type MainConfig struct {
Foo *foo.Config
Bar *bar.Config
baz *baz.Config
}
2025-04-15T08:39:53.6475540Z
type MainService struct {
Foo *foo.Service
Bar *bar.Service
baz *baz.Service
}
2025-04-15T08:39:53.6476908Z
func (m *MainService) String() string {
return fmt.Sprintf("%d %d %d", m.Foo.Cfg.V, m.Bar.Cfg.V, m.baz.Cfg.V)
}
2025-04-15T08:39:53.6478085Z
func main() {
cfg := MainConfig{
Foo: &foo.Config{1},
Bar: &bar.Config{2},
baz: &baz.Config{3},
}
svc := newMainService(cfg)
fmt.Println(svc.String())
}
=== CONT  TestWire/MultipleMissingInputs
=== NAME  TestWire/NiladicIdentity
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6481611Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6482669Z
package main
2025-04-15T08:39:53.6483067Z
// Injectors from wire.go:
2025-04-15T08:39:53.6483515Z
func injectedMessage() string {
string2 := provideMessage()
return string2
}
=== CONT  TestWire/MultipleArgsSameType
=== NAME  TestWire/NamingWorstCaseAllInOne
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6485601Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6486649Z
package main
2025-04-15T08:39:53.6487043Z
import (
context2 "context"
"fmt"
"os"
"reflect"
)
2025-04-15T08:39:53.6488455Z
// Injectors from foo.go:
2025-04-15T08:39:53.6488901Z
func inject(context3 context2.Context, err2 struct{}) (context, error) {
mainContext, err := Provide(context3)
if err != nil {
return context{}, err
}
return mainContext, nil
}
2025-04-15T08:39:53.6491084Z
// foo.go:
2025-04-15T08:39:53.6491490Z
type context struct{}
2025-04-15T08:39:53.6491907Z
func main() {
if _, ok := reflect.TypeOf(context{}).MethodByName("Provide"); !ok {
fmt.Println("ERROR: context.Provide renamed")
os.Exit(1)
}
c, err := inject(context2.Background(), struct{}{})
if err != nil {
fmt.Println("ERROR:", err)
os.Exit(1)
}
fmt.Println(c)
}
2025-04-15T08:39:53.6504325Z
func Provide(context2_2 context2.Context) (context, error) {
var context3 = context2.Background()
_ = context2_2
_ = context3
return context{}, nil
}
2025-04-15T08:39:53.6506228Z
func (context) Provide() {
}
=== CONT  TestWire/InvalidInjector
=== NAME  TestWire/NamingWorstCase
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6507926Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6508974Z
package main
2025-04-15T08:39:53.6509359Z
import (
context2 "context"
)
2025-04-15T08:39:53.6510316Z
// Injectors from wire.go:
2025-04-15T08:39:53.6510757Z
func inject(context3 context2.Context, err2 struct{}) (context, error) {
mainContext, err := provide(context3)
if err != nil {
return context{}, err
}
return mainContext, nil
}
=== NAME  TestWire/BindInjectorArgPointer
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6513475Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6514490Z
package main
2025-04-15T08:39:53.6514866Z
// Injectors from wire.go:
2025-04-15T08:39:53.6515291Z
func inject(foo *Foo) *Bar {
bar := NewBar(foo)
return bar
}
=== NAME  TestWire/NoImplicitInterface
##[error]    wire_test.go:108: /tmp/wire_test2755486197/src/example.com/foo/wire.go:23:1: inject injectFooer: no provider found for example.com/foo.Fooer, output of injector
=== NAME  TestWire/MultipleBindings
##[error]    wire_test.go:108: /tmp/wire_test301533692/src/example.com/foo/wire.go:27:8: multiple bindings for example.com/foo.Foo
current:
<- provider "provideFooAgain" (/tmp/wire_test301533692/src/example.com/foo/foo.go:39:6)
previous:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
##[error]    wire_test.go:108: /tmp/wire_test301533692/src/example.com/foo/wire.go:32:8: multiple bindings for example.com/foo.Foo
current:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
previous:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
<- provider set "Set" (/tmp/wire_test301533692/src/example.com/foo/foo.go:31:11)
##[error]    wire_test.go:108: /tmp/wire_test301533692/src/example.com/foo/wire.go:37:8: multiple bindings for example.com/foo.Foo
current:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
previous:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
<- provider set "Set" (/tmp/wire_test301533692/src/example.com/foo/foo.go:31:11)
<- provider set "SuperSet" (/tmp/wire_test301533692/src/example.com/foo/foo.go:32:16)
##[error]    wire_test.go:108: /tmp/wire_test301533692/src/example.com/foo/foo.go:33:32: SetWithDuplicateBindings has multiple bindings for example.com/foo.Foo
current:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
<- provider set "Set" (/tmp/wire_test301533692/src/example.com/foo/foo.go:31:11)
<- provider set "SuperSet" (/tmp/wire_test301533692/src/example.com/foo/foo.go:32:16)
previous:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
<- provider set "Set" (/tmp/wire_test301533692/src/example.com/foo/foo.go:31:11)
##[error]    wire_test.go:108: /tmp/wire_test301533692/src/example.com/foo/wire.go:47:8: multiple bindings for example.com/foo.Foo
current:
<- wire.Value (/tmp/wire_test301533692/src/example.com/foo/wire.go:47:42)
previous:
<- provider "provideFoo" (/tmp/wire_test301533692/src/example.com/foo/foo.go:35:6)
##[error]    wire_test.go:108: /tmp/wire_test301533692/src/example.com/foo/wire.go:52:8: multiple bindings for example.com/foo.Bar
current:
<- wire.Bind (/tmp/wire_test301533692/src/example.com/foo/wire.go:52:31)
previous:
<- provider "provideBar" (/tmp/wire_test301533692/src/example.com/foo/foo.go:43:6)
=== NAME  TestWire/CopyOtherDecls
wire_test.go:164: wire_gen.go:
// Code generated by Wire. DO NOT EDIT.
2025-04-15T08:39:53.6539175Z
//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject
2025-04-15T08:39:53.6540478Z
package main
2025-04-15T08:39:53.6540873Z
import (
"fmt"
)
2025-04-15T08:39:53.6541628Z
// Injectors from foo.go:
2025-04-15T08:39:53.6542068Z
func injectedMessage() string {
string2 := provideMessage()
return string2
}
2025-04-15T08:39:53.6543281Z
// foo.go:
2025-04-15T08:39:53.6543672Z
func main() {
fmt.Println(injectedMessage())
}
2025-04-15T08:39:53.6544517Z
// provideMessage provides a friendly user greeting.
func provideMessage() string {
return "Hello, World!"
}
=== NAME  TestWire/MultipleMissingInputs
##[error]    wire_test.go:108: /tmp/wire_test288050101/src/example.com/foo/wire.go:23:1: inject injectMissingOutputType: no provider found for example.com/foo.Foo, output of injector
##[error]    wire_test.go:108: /tmp/wire_test288050101/src/example.com/foo/wire.go:29:1: inject injectMultipleMissingTypes: no provider found for example.com/foo.Foo
needed by example.com/foo.Baz in provider "provideBaz" (/tmp/wire_test288050101/src/example.com/foo/foo.go:29:6)
##[error]    wire_test.go:108: /tmp/wire_test288050101/src/example.com/foo/wire.go:29:1: inject injectMultipleMissingTypes: no provider found for example.com/foo.Bar
needed by example.com/foo.Baz in provider "provideBaz" (/tmp/wire_test288050101/src/example.com/foo/foo.go:29:6)
##[error]    wire_test.go:108: /tmp/wire_test288050101/src/example.com/foo/wire.go:35:1: inject injectMissingRecursiveType: no provider found for example.com/foo.Foo
needed by example.com/foo.Zip in provider "provideZip" (/tmp/wire_test288050101/src/example.com/foo/foo.go:37:6)
needed by example.com/foo.Zap in provider "provideZap" (/tmp/wire_test288050101/src/example.com/foo/foo.go:41:6)
needed by example.com/foo.Zop in provider "provideZop" (/tmp/wire_test288050101/src/example.com/foo/foo.go:45:6)
=== NAME  TestWire/MultipleArgsSameType
##[error]    wire_test.go:108: /tmp/wire_test1763646501/src/example.com/foo/wire.go:25:8: multiple bindings for string
current:
<- argument b to injector function inject (/tmp/wire_test1763646501/src/example.com/foo/wire.go:23:1)
previous:
<- argument a to injector function inject (/tmp/wire_test1763646501/src/example.com/foo/wire.go:23:1)
=== NAME  TestWire/InvalidInjector
wire_test.go:108: a call to wire.Build indicates that this function is an injector, but injectors must consist of only the wire.Build call and an optional return
wire_test.go:108: a call to wire.Build indicates that this function is an injector, but injectors must consist of only the wire.Build call and an optional return
--- PASS: TestWire (0.07s)
--- PASS: TestWire/FieldsOfValueStruct (1.68s)
--- PASS: TestWire/Cleanup (1.69s)
--- PASS: TestWire/InterfaceValueInvalidArg0 (1.73s)
--- PASS: TestWire/BuildTagsAllPackages (1.74s)
--- PASS: TestWire/Chain (1.79s)
--- PASS: TestWire/EmptyVar (1.82s)
--- PASS: TestWire/BindInjectorArg (1.85s)
--- PASS: TestWire/InterfaceValueNotEnoughArgs (1.96s)
--- PASS: TestWire/FieldsOfStructDoNotProvidePtrToField (1.24s)
--- PASS: TestWire/FieldsOfStructPointer (1.30s)
--- PASS: TestWire/FieldsOfStruct (1.33s)
--- PASS: TestWire/FieldsOfCycle (1.28s)
--- PASS: TestWire/FieldsOfImportedStruct (1.33s)
--- PASS: TestWire/ExportedValueDifferentPackage (1.25s)
--- PASS: TestWire/InterfaceValueDoesntImplement (1.23s)
--- PASS: TestWire/InterfaceValue (1.12s)
--- PASS: TestWire/InterfaceBindingReuse (0.97s)
--- PASS: TestWire/InterfaceBindingNotEnoughArgs (1.04s)
--- PASS: TestWire/InterfaceBinding (1.18s)
--- PASS: TestWire/InterfaceBindingDoesntImplement (1.28s)
--- PASS: TestWire/ExportedValue (1.32s)
--- PASS: TestWire/InterfaceBindingInvalidArg0 (1.32s)
--- PASS: TestWire/InjectorMissingError (1.30s)
--- PASS: TestWire/ExampleWithMocks (1.40s)
--- PASS: TestWire/BindInterfaceWithValue (1.19s)
--- PASS: TestWire/InjectorMissingCleanup (1.18s)
--- PASS: TestWire/ImportedInterfaceBinding (0.98s)
--- PASS: TestWire/Header (1.21s)
--- PASS: TestWire/InjectInput (1.21s)
--- PASS: TestWire/FuncArgProvider (1.23s)
--- PASS: TestWire/InjectWithPanic (1.23s)
--- PASS: TestWire/InjectInputConflict (1.30s)
--- PASS: TestWire/ReturnArgumentAsInterface (1.36s)
--- PASS: TestWire/UnexportedValue (1.24s)
--- PASS: TestWire/UnusedProviders (1.38s)
--- PASS: TestWire/TwoDeps (1.13s)
--- PASS: TestWire/UnexportedStruct (1.18s)
--- PASS: TestWire/StructWithPreventTag (1.33s)
--- PASS: TestWire/StructPointer (1.48s)
--- PASS: TestWire/StructNotAStruct (1.56s)
--- PASS: TestWire/Struct (1.16s)
--- PASS: TestWire/Varargs (1.22s)
--- PASS: TestWire/VarValue (1.12s)
--- PASS: TestWire/ReturnError (1.08s)
--- PASS: TestWire/Cycle (1.24s)
--- PASS: TestWire/DocComment (1.21s)
--- PASS: TestWire/NiladicValue (1.35s)
--- PASS: TestWire/ReservedKeywords (1.32s)
--- PASS: TestWire/RelativePkg (1.25s)
--- PASS: TestWire/ProviderSetBindingMissingConcreteType (1.26s)
--- PASS: TestWire/ValueIsInterfaceValue (1.21s)
--- PASS: TestWire/ValueIsStruct (1.35s)
--- PASS: TestWire/ValueFromFunctionScope (1.28s)
--- PASS: TestWire/PkgImport (1.24s)
--- PASS: TestWire/ValueConversion (1.26s)
--- PASS: TestWire/PartialCleanup (1.28s)
--- PASS: TestWire/NoInjectParamNames (1.12s)
--- PASS: TestWire/ValueChain (1.40s)
--- PASS: TestWire/NoopBuild (1.48s)
--- PASS: TestWire/MultipleSimilarPackages (1.37s)
--- PASS: TestWire/NiladicIdentity (1.26s)
--- PASS: TestWire/NamingWorstCaseAllInOne (1.26s)
--- PASS: TestWire/NamingWorstCase (1.09s)
--- PASS: TestWire/BindInjectorArgPointer (0.99s)
--- PASS: TestWire/NoImplicitInterface (1.18s)
--- PASS: TestWire/MultipleBindings (0.78s)
--- PASS: TestWire/CopyOtherDecls (0.96s)
--- PASS: TestWire/MultipleMissingInputs (0.89s)
--- PASS: TestWire/MultipleArgsSameType (0.88s)
--- PASS: TestWire/InvalidInjector (0.82s)
=== RUN   TestUnexport
--- PASS: TestUnexport (0.00s)
=== RUN   TestExport
--- PASS: TestExport (0.00s)
=== RUN   TestTypeVariableName
=== RUN   TestTypeVariableName/basic_type:_typeVariableName(bool,_"",_"",_map[])
=== RUN   TestTypeVariableName/basic_type_with_transform:_typeVariableName(bool,_"",_"suffix",_map[])
=== RUN   TestTypeVariableName/basic_type_with_collision:_typeVariableName(bool,_"",_"",_map[bool:true])
=== RUN   TestTypeVariableName/basic_type_with_transform_and_collision:_typeVariableName(bool,_"",_"suffix",_map[boolsuffix:true])
=== RUN   TestTypeVariableName/a_different_basic_type:_typeVariableName(string,_"",_"",_map[])
=== RUN   TestTypeVariableName/named_type:_typeVariableName(foo,_"",_"",_map[])
=== RUN   TestTypeVariableName/named_type_with_transform:_typeVariableName(foo,_"",_"suffix",_map[])
=== RUN   TestTypeVariableName/named_type_with_collision:_typeVariableName(foo,_"",_"",_map[foo:true])
=== RUN   TestTypeVariableName/named_type_with_transform_and_collision:_typeVariableName(foo,_"",_"suffix",_map[foosuffix:true])
=== RUN   TestTypeVariableName/noname_type:_typeVariableName(,_"bar",_"",_map[])
=== RUN   TestTypeVariableName/noname_type_with_transform:_typeVariableName(,_"bar",_"s",_map[])
=== RUN   TestTypeVariableName/noname_type_with_transform_and_collision:_typeVariableName(,_"bar",_"s",_map[bars:true])
=== RUN   TestTypeVariableName/var_in_pkg_type:_typeVariableName(my.example/foo.bar,_"",_"",_map[])
=== RUN   TestTypeVariableName/var_in_pkg_type_with_collision:_typeVariableName(my.example/foo.bar,_"",_"",_map[bar:true])
=== RUN   TestTypeVariableName/var_in_pkg_type_with_double_collision:_typeVariableName(my.example/foo.bar,_"",_"",_map[bar:true_fooBar:true])
--- PASS: TestTypeVariableName (0.00s)
--- PASS: TestTypeVariableName/basic_type:_typeVariableName(bool,_"",_"",_map[]) (0.00s)
--- PASS: TestTypeVariableName/basic_type_with_transform:_typeVariableName(bool,_"",_"suffix",_map[]) (0.00s)
--- PASS: TestTypeVariableName/basic_type_with_collision:_typeVariableName(bool,_"",_"",_map[bool:true]) (0.00s)
--- PASS: TestTypeVariableName/basic_type_with_transform_and_collision:_typeVariableName(bool,_"",_"suffix",_map[boolsuffix:true]) (0.00s)
--- PASS: TestTypeVariableName/a_different_basic_type:_typeVariableName(string,_"",_"",_map[]) (0.00s)
--- PASS: TestTypeVariableName/named_type:_typeVariableName(foo,_"",_"",_map[]) (0.00s)
--- PASS: TestTypeVariableName/named_type_with_transform:_typeVariableName(foo,_"",_"suffix",_map[]) (0.00s)
--- PASS: TestTypeVariableName/named_type_with_collision:_typeVariableName(foo,_"",_"",_map[foo:true]) (0.00s)
--- PASS: TestTypeVariableName/named_type_with_transform_and_collision:_typeVariableName(foo,_"",_"suffix",_map[foosuffix:true]) (0.00s)
--- PASS: TestTypeVariableName/noname_type:_typeVariableName(,_"bar",_"",_map[]) (0.00s)
--- PASS: TestTypeVariableName/noname_type_with_transform:_typeVariableName(,_"bar",_"s",_map[]) (0.00s)
--- PASS: TestTypeVariableName/noname_type_with_transform_and_collision:_typeVariableName(,_"bar",_"s",_map[bars:true]) (0.00s)
--- PASS: TestTypeVariableName/var_in_pkg_type:_typeVariableName(my.example/foo.bar,_"",_"",_map[]) (0.00s)
--- PASS: TestTypeVariableName/var_in_pkg_type_with_collision:_typeVariableName(my.example/foo.bar,_"",_"",_map[bar:true]) (0.00s)
--- PASS: TestTypeVariableName/var_in_pkg_type_with_double_collision:_typeVariableName(my.example/foo.bar,_"",_"",_map[bar:true_fooBar:true]) (0.00s)
=== RUN   TestDisambiguate
=== RUN   TestDisambiguate/disambiguate("foo",_map[])
=== RUN   TestDisambiguate/disambiguate("foo",_map[foo:true])
=== RUN   TestDisambiguate/disambiguate("foo",_map[foo:true_foo1:true_foo2:true])
=== RUN   TestDisambiguate/disambiguate("foo1",_map[foo:true_foo1:true_foo2:true])
=== RUN   TestDisambiguate/disambiguate("foo١",_map[foo:true_foo1:true_foo2:true])
=== RUN   TestDisambiguate/disambiguate("foo١",_map[foo:true_foo1:true_foo2:true_foo١:true])
=== RUN   TestDisambiguate/disambiguate("select",_map[])
=== RUN   TestDisambiguate/disambiguate("var",_map[])
--- PASS: TestDisambiguate (0.00s)
--- PASS: TestDisambiguate/disambiguate("foo",_map[]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("foo",_map[foo:true]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("foo",_map[foo:true_foo1:true_foo2:true]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("foo1",_map[foo:true_foo1:true_foo2:true]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("foo١",_map[foo:true_foo1:true_foo2:true]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("foo١",_map[foo:true_foo1:true_foo2:true_foo١:true]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("select",_map[]) (0.00s)
--- PASS: TestDisambiguate/disambiguate("var",_map[]) (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/build/wire/internal/wire	11.578s
=== RUN   TestPrefixDropper
=== RUN   TestPrefixDropper/pointer
=== RUN   TestPrefixDropper/sliceref
=== RUN   TestPrefixDropper/mapref
=== RUN   TestPrefixDropper/pmapref
=== RUN   TestPrefixDropper/ignore-fieldname
=== RUN   TestPrefixDropper/const
=== RUN   TestPrefixDropper/var
=== RUN   TestPrefixDropper/varp
astmanip_test.go:275:
=== RUN   TestPrefixDropper/basic
=== RUN   TestPrefixDropper/comments
--- PASS: TestPrefixDropper (0.01s)
--- PASS: TestPrefixDropper/pointer (0.00s)
--- PASS: TestPrefixDropper/sliceref (0.00s)
--- PASS: TestPrefixDropper/mapref (0.00s)
--- PASS: TestPrefixDropper/pmapref (0.00s)
--- PASS: TestPrefixDropper/ignore-fieldname (0.00s)
--- PASS: TestPrefixDropper/const (0.00s)
--- PASS: TestPrefixDropper/var (0.00s)
--- SKIP: TestPrefixDropper/varp (0.00s)
--- PASS: TestPrefixDropper/basic (0.00s)
--- PASS: TestPrefixDropper/comments (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/codegen	(cached)
?   	github.com/grafana/grafana/pkg/codegen/generators	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/codegen	[no test files]
?   	github.com/grafana/grafana/pkg/plugins/codegen/pfs	[no test files]
=== RUN   Test_healthcheck
=== RUN   Test_healthcheck/should_do_a_successful_health_check
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-14T09:15:18.096095Z","fromAlert":false,"logger":"test"}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-14T09:15:18.096123Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel","logger":"test"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-14T09:15:18.096174Z","end":"1970-01-01T00:00:04Z","logger":"test","query":"1+1","start":"1970-01-01T00:00:01Z","step":15000000000}
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.096339Z","URL":"","logger":"test"}
=== RUN   Test_healthcheck/should_return_an_error_for_an_unsuccessful_health_check
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-14T09:15:18.096502Z","fromAlert":false,"logger":"test"}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-14T09:15:18.096518Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel","logger":"test"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-14T09:15:18.096540Z","end":"1970-01-01T00:00:04Z","logger":"test","query":"1+1","start":"1970-01-01T00:00:01Z","step":15000000000}
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.096579Z","URL":"","logger":"test"}
{"@level":"warn","@message":"Failed to get prometheus buildinfo","@timestamp":"2025-04-14T09:15:18.096600Z","err":"unexpected response 400","logger":"test"}
{"@level":"warn","@message":"Failed to get prometheus heuristics","@timestamp":"2025-04-14T09:15:18.096607Z","err":"failed to get buildinfo: unexpected response 400","logger":"test"}
--- PASS: Test_healthcheck (0.00s)
--- PASS: Test_healthcheck/should_do_a_successful_health_check (0.00s)
--- PASS: Test_healthcheck/should_return_an_error_for_an_unsuccessful_health_check (0.00s)
=== RUN   Test_GetHeuristics
=== RUN   Test_GetHeuristics/should_return_Prometheus
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.098612Z","URL":"","logger":"test"}
=== RUN   Test_GetHeuristics/should_return_Mimir
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.098712Z","URL":"","logger":"test"}
--- PASS: Test_GetHeuristics (0.00s)
--- PASS: Test_GetHeuristics/should_return_Prometheus (0.00s)
--- PASS: Test_GetHeuristics/should_return_Mimir (0.00s)
=== RUN   TestService
=== RUN   TestService/Service
=== RUN   TestService/Service/CallResource
=== RUN   TestService/Service/CallResource/creates_correct_request
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.098830Z","URL":"/api/v1/series","logger":"test"}
=== RUN   TestService/no_extendOptions_function_provided
=== RUN   TestService/extendOptions_function_provided
context.Background {0  prometheus test-prom http://localhost:9090   true admin [123 125] map[] 0001-01-01 00:00:00 +0000 UTC } &{0xc00004c230 0xc0000aea80 <nil> <nil> <nil> map[] map[grafanaData:map[]] map[datasource_name:test-prom datasource_type:prometheus datasource_uid:] [0xc0000aeaa0] <nil> <nil> <nil> <nil> false}
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.098974Z","URL":"/api/v1/series","logger":"test"}
=== RUN   TestService/suggest_resource
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:18.099154Z","URL":"/api/v1/labels?end=2022-06-01T12%3A00%3A00Z\u0026limit=10\u0026match%5B%5D=go_cgo_go_to_c_calls_calls_total%7Bjob%3D~%22.%2B%22%7D\u0026match%5B%5D=up%7Bjob%3D~%22.%2B%22%7D\u0026start=2022-06-01T00%3A00%3A00Z","logger":"test"}
--- PASS: TestService (0.00s)
--- PASS: TestService/Service (0.00s)
--- PASS: TestService/Service/CallResource (0.00s)
--- PASS: TestService/Service/CallResource/creates_correct_request (0.00s)
--- PASS: TestService/no_extendOptions_function_provided (0.00s)
--- PASS: TestService/extendOptions_function_provided (0.00s)
--- PASS: TestService/suggest_resource (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib	(cached)
=== RUN   TestClient
=== RUN   TestClient/QueryResource
=== RUN   TestClient/QueryResource/sends_correct_POST_request
=== RUN   TestClient/QueryResource/sends_correct_GET_request
=== RUN   TestClient/QueryRange
=== RUN   TestClient/QueryRange/sends_correct_POST_query
=== RUN   TestClient/QueryRange/sends_correct_GET_query
--- PASS: TestClient (0.00s)
--- PASS: TestClient/QueryResource (0.00s)
--- PASS: TestClient/QueryResource/sends_correct_POST_request (0.00s)
--- PASS: TestClient/QueryResource/sends_correct_GET_request (0.00s)
--- PASS: TestClient/QueryRange (0.00s)
--- PASS: TestClient/QueryRange/sends_correct_POST_query (0.00s)
--- PASS: TestClient/QueryRange/sends_correct_GET_query (0.00s)
=== RUN   TestCreateTransportOptions
=== RUN   TestCreateTransportOptions/creates_correct_options_object
--- PASS: TestCreateTransportOptions (0.00s)
--- PASS: TestCreateTransportOptions/creates_correct_options_object (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/client	(cached)
=== RUN   TestReadPromFrames
=== RUN   TestReadPromFrames/prom-labels
=== RUN   TestReadPromFrames/prom-matrix
=== RUN   TestReadPromFrames/prom-matrix-with-nans
=== RUN   TestReadPromFrames/prom-matrix-histogram-no-labels
=== RUN   TestReadPromFrames/prom-matrix-histogram-partitioned
=== RUN   TestReadPromFrames/prom-vector-histogram-no-labels
=== RUN   TestReadPromFrames/prom-vector
=== RUN   TestReadPromFrames/prom-string
=== RUN   TestReadPromFrames/prom-scalar
=== RUN   TestReadPromFrames/prom-series
=== RUN   TestReadPromFrames/prom-warnings
=== RUN   TestReadPromFrames/prom-warnings-no-data
=== RUN   TestReadPromFrames/prom-infos
=== RUN   TestReadPromFrames/prom-infos-no-data
=== RUN   TestReadPromFrames/prom-error
=== RUN   TestReadPromFrames/prom-exemplars-a
=== RUN   TestReadPromFrames/prom-exemplars-b
=== RUN   TestReadPromFrames/prom-exemplars-diff-labels
=== RUN   TestReadPromFrames/prom-query-range
=== RUN   TestReadPromFrames/prom-query-range-big
=== RUN   TestReadPromFrames/loki-streams-a
=== RUN   TestReadPromFrames/loki-streams-b
=== RUN   TestReadPromFrames/loki-streams-c
--- PASS: TestReadPromFrames (0.21s)
--- PASS: TestReadPromFrames/prom-labels (0.00s)
--- PASS: TestReadPromFrames/prom-matrix (0.00s)
--- PASS: TestReadPromFrames/prom-matrix-with-nans (0.00s)
--- PASS: TestReadPromFrames/prom-matrix-histogram-no-labels (0.01s)
--- PASS: TestReadPromFrames/prom-matrix-histogram-partitioned (0.04s)
--- PASS: TestReadPromFrames/prom-vector-histogram-no-labels (0.00s)
--- PASS: TestReadPromFrames/prom-vector (0.00s)
--- PASS: TestReadPromFrames/prom-string (0.00s)
--- PASS: TestReadPromFrames/prom-scalar (0.00s)
--- PASS: TestReadPromFrames/prom-series (0.00s)
--- PASS: TestReadPromFrames/prom-warnings (0.00s)
--- PASS: TestReadPromFrames/prom-warnings-no-data (0.00s)
--- PASS: TestReadPromFrames/prom-infos (0.00s)
--- PASS: TestReadPromFrames/prom-infos-no-data (0.00s)
--- PASS: TestReadPromFrames/prom-error (0.00s)
--- PASS: TestReadPromFrames/prom-exemplars-a (0.00s)
--- PASS: TestReadPromFrames/prom-exemplars-b (0.07s)
--- PASS: TestReadPromFrames/prom-exemplars-diff-labels (0.00s)
--- PASS: TestReadPromFrames/prom-query-range (0.00s)
--- PASS: TestReadPromFrames/prom-query-range-big (0.05s)
--- PASS: TestReadPromFrames/loki-streams-a (0.00s)
--- PASS: TestReadPromFrames/loki-streams-b (0.00s)
--- PASS: TestReadPromFrames/loki-streams-c (0.00s)
=== RUN   TestTimeConversions
--- PASS: TestTimeConversions (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/converter	0.220s
=== RUN   TestGetErrorSourceForResponse
=== RUN   TestGetErrorSourceForResponse/A_response_that_return_an_error_should_return_pluginSource
=== RUN   TestGetErrorSourceForResponse/A_response_with_an_http_satus_code_>_500_should_return_databaseSource
=== RUN   TestGetErrorSourceForResponse/A_response_with_an_http_satus_related_to_auth_(401,_402,_403,_407),_should_return_externalSource
=== RUN   TestGetErrorSourceForResponse/A_response_with_an_http_satus_of_4xx_but_not_related_to_auth_(401,_402,_403,_407),_should_return_pluginSource
=== RUN   TestGetErrorSourceForResponse/A_response_without_error_and_with_an_http_status_of_2xx,_should_return_noneSource
--- PASS: TestGetErrorSourceForResponse (0.00s)
--- PASS: TestGetErrorSourceForResponse/A_response_that_return_an_error_should_return_pluginSource (0.00s)
--- PASS: TestGetErrorSourceForResponse/A_response_with_an_http_satus_code_>_500_should_return_databaseSource (0.00s)
--- PASS: TestGetErrorSourceForResponse/A_response_with_an_http_satus_related_to_auth_(401,_402,_403,_407),_should_return_externalSource (0.00s)
--- PASS: TestGetErrorSourceForResponse/A_response_with_an_http_satus_of_4xx_but_not_related_to_auth_(401,_402,_403,_407),_should_return_pluginSource (0.00s)
--- PASS: TestGetErrorSourceForResponse/A_response_without_error_and_with_an_http_status_of_2xx,_should_return_noneSource (0.00s)
=== RUN   TestGetErrorSource
=== RUN   TestGetErrorSource/If_status_of_backend.QueryDataResponse_is_statusError,_then_errorSource_is_pluginSource_
=== RUN   TestGetErrorSource/If_status_of_backend.QueryDataResponse_is_statusOK,_then_errorSource_is_the_most_severe_response's_errorSource:_pluginSource_>_databaseSource_>_externalSource_>_noneSource
--- PASS: TestGetErrorSource (0.00s)
--- PASS: TestGetErrorSource/If_status_of_backend.QueryDataResponse_is_statusError,_then_errorSource_is_pluginSource_ (0.00s)
--- PASS: TestGetErrorSource/If_status_of_backend.QueryDataResponse_is_statusOK,_then_errorSource_is_the_most_severe_response's_errorSource:_pluginSource_>_databaseSource_>_externalSource_>_noneSource (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/instrumentation	(cached)
=== RUN   TestIntervalCalculator_Calculate
=== RUN   TestIntervalCalculator_Calculate/from_5m_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_5m_to_now_and_500_resolution
=== RUN   TestIntervalCalculator_Calculate/from_15m_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_15m_to_now_and_100_resolution
=== RUN   TestIntervalCalculator_Calculate/from_30m_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_30m_to_now_and_3000_resolution
=== RUN   TestIntervalCalculator_Calculate/from_1h_to_now_and_default_resolution
=== RUN   TestIntervalCalculator_Calculate/from_1h_to_now_and_1000_resolution
--- PASS: TestIntervalCalculator_Calculate (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_5m_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_5m_to_now_and_500_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_15m_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_15m_to_now_and_100_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_30m_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_30m_to_now_and_3000_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_1h_to_now_and_default_resolution (0.00s)
--- PASS: TestIntervalCalculator_Calculate/from_1h_to_now_and_1000_resolution (0.00s)
=== RUN   TestIntervalCalculator_CalculateSafeInterval
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_5m_to_now
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_15m_to_now
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_30m_to_now
=== RUN   TestIntervalCalculator_CalculateSafeInterval/from_24h_to_now
--- PASS: TestIntervalCalculator_CalculateSafeInterval (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_5m_to_now (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_15m_to_now (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_30m_to_now (0.00s)
--- PASS: TestIntervalCalculator_CalculateSafeInterval/from_24h_to_now (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/intervalv2	(cached)
=== RUN   TestCustomQueryParametersMiddleware
=== RUN   TestCustomQueryParametersMiddleware/Without_custom_query_parameters_set_should_not_apply_middleware
=== RUN   TestCustomQueryParametersMiddleware/Without_custom_query_parameters_set_as_string_should_not_apply_middleware
=== RUN   TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_as_empty_string_should_not_apply_middleware
=== RUN   TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_as_invalid_query_string_should_not_apply_middleware
=== RUN   TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_should_apply_middleware_for_request_URL_containing_query_parameters_
=== RUN   TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_should_apply_middleware_for_request_URL_not_containing_query_parameters
--- PASS: TestCustomQueryParametersMiddleware (0.00s)
--- PASS: TestCustomQueryParametersMiddleware/Without_custom_query_parameters_set_should_not_apply_middleware (0.00s)
--- PASS: TestCustomQueryParametersMiddleware/Without_custom_query_parameters_set_as_string_should_not_apply_middleware (0.00s)
--- PASS: TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_as_empty_string_should_not_apply_middleware (0.00s)
--- PASS: TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_as_invalid_query_string_should_not_apply_middleware (0.00s)
--- PASS: TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_should_apply_middleware_for_request_URL_containing_query_parameters_ (0.00s)
--- PASS: TestCustomQueryParametersMiddleware/With_custom_query_parameters_set_should_apply_middleware_for_request_URL_not_containing_query_parameters (0.00s)
=== RUN   TestEnsureHttpMethodMiddleware
=== RUN   TestEnsureHttpMethodMiddleware/Name_should_be_correct
=== RUN   TestEnsureHttpMethodMiddleware/Should_force_GET_method
--- PASS: TestEnsureHttpMethodMiddleware (0.00s)
--- PASS: TestEnsureHttpMethodMiddleware/Name_should_be_correct (0.00s)
--- PASS: TestEnsureHttpMethodMiddleware/Should_force_GET_method (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/middleware	(cached)
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/No_filters_with_no_existing_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/No_filters_with_existing_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_filter_with_existing_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_filter_with_no_existing_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/Scope_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_and_Scope_filter_no_existing_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_and_Scope_filter_conflict_-_adhoc_wins_(if_not_oneOf_or_notOneOf)
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_filters_with_more_complex_expression
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/OneOf_Operator_is_combined_into_a_single_regex_filter
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/using___name___as_part_of_the_query
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/merge_scopes_filters_into_using_OR_if_they_share_filter_key
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters/adhoc_filters_win_over_scope_filters_if_they_share_filter_key
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/No_filters_with_no_existing_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/No_filters_with_existing_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_filter_with_existing_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_filter_with_no_existing_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/Scope_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_and_Scope_filter_no_existing_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_and_Scope_filter_conflict_-_adhoc_wins_(if_not_oneOf_or_notOneOf) (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/Adhoc_filters_with_more_complex_expression (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/OneOf_Operator_is_combined_into_a_single_regex_filter (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/using___name___as_part_of_the_query (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/merge_scopes_filters_into_using_OR_if_they_share_filter_key (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters/adhoc_filters_win_over_scope_filters_if_they_share_filter_key (0.00s)
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters_utf8
=== RUN   TestApplyQueryFiltersAndGroupBy_Filters_utf8/No_filters_with_existing_utf8_filter
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters_utf8 (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_Filters_utf8/No_filters_with_existing_utf8_filter (0.00s)
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_no_aggregate_expression
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy/No_GroupBy_with_aggregate_expression
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_aggregate_expression_with_no_existing_group_by
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_aggregate_expression_with_existing_group_by
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_aggregate_expression_with_existing_group_by_(already_exists)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_no_aggregate_expression (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy/No_GroupBy_with_aggregate_expression (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_aggregate_expression_with_no_existing_group_by (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_aggregate_expression_with_existing_group_by (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy/GroupBy_with_aggregate_expression_with_existing_group_by_(already_exists) (0.00s)
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy_utf8
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy_utf8/GroupBy_with_no_aggregate_expression_and_utf8_metric
=== RUN   TestApplyQueryFiltersAndGroupBy_GroupBy_utf8/GroupBy_with_aggregate_expression_with_existing_utf8_group_by
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy_utf8 (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy_utf8/GroupBy_with_no_aggregate_expression_and_utf8_metric (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_GroupBy_utf8/GroupBy_with_aggregate_expression_with_existing_utf8_group_by (0.00s)
=== RUN   TestApplyQueryFiltersAndGroupBy
=== RUN   TestApplyQueryFiltersAndGroupBy/Adhoc_filters_with_more_complex_expression
--- PASS: TestApplyQueryFiltersAndGroupBy (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy/Adhoc_filters_with_more_complex_expression (0.00s)
=== RUN   TestApplyQueryFiltersAndGroupBy_utf8
=== RUN   TestApplyQueryFiltersAndGroupBy_utf8/Adhoc_filters_with_more_complex_expression_and_utf8_metric_name
=== RUN   TestApplyQueryFiltersAndGroupBy_utf8/Adhoc_filters_with_more_complex_expression_with_utf8_label
=== RUN   TestApplyQueryFiltersAndGroupBy_utf8/Adhoc_filters_with_more_complex_expression_with_utf8_metric_and_label
--- PASS: TestApplyQueryFiltersAndGroupBy_utf8 (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_utf8/Adhoc_filters_with_more_complex_expression_and_utf8_metric_name (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_utf8/Adhoc_filters_with_more_complex_expression_with_utf8_label (0.00s)
--- PASS: TestApplyQueryFiltersAndGroupBy_utf8/Adhoc_filters_with_more_complex_expression_with_utf8_metric_and_label (0.00s)
=== RUN   TestParse
=== RUN   TestParse/parsing_query_from_unified_alerting
=== RUN   TestParse/parsing_query_model_with_step
=== RUN   TestParse/parsing_query_model_without_step_parameter
=== RUN   TestParse/parsing_query_model_with_high_intervalFactor
=== RUN   TestParse/parsing_query_model_with_low_intervalFactor
=== RUN   TestParse/parsing_query_model_specified_scrape-interval_in_the_data_source
=== RUN   TestParse/parsing_query_model_with_$__interval_variable
=== RUN   TestParse/parsing_query_model_with_${__interval}_variable
=== RUN   TestParse/parsing_query_model_with_$__interval_ms_variable
=== RUN   TestParse/parsing_query_model_with_$__interval_ms_and_$__interval_variable
=== RUN   TestParse/parsing_query_model_with_${__interval_ms}_and_${__interval}_variable
=== RUN   TestParse/parsing_query_model_with_$__range_variable
=== RUN   TestParse/parsing_query_model_with_$__range_s_variable
=== RUN   TestParse/parsing_query_model_with_${__range_s}_variable
=== RUN   TestParse/parsing_query_model_with_$__range_s_variable_below_0.5s
=== RUN   TestParse/parsing_query_model_with_$__range_s_variable_between_1-0.5s
=== RUN   TestParse/parsing_query_model_with_$__range_ms_variable
=== RUN   TestParse/parsing_query_model_with_$__range_ms_variable_below_1s
=== RUN   TestParse/parsing_query_model_with_$__rate_interval_variable
=== RUN   TestParse/parsing_query_model_with_$__rate_interval_variable_in_expr_and_interval
=== RUN   TestParse/parsing_query_model_with_$__rate_interval_ms_variable
=== RUN   TestParse/parsing_query_model_with_$__rate_interval_ms_and_$__rate_interval_variable
=== RUN   TestParse/parsing_query_model_with_legacy_datasource_reference
=== RUN   TestParse/parsing_query_model_with_${__rate_interval_ms}_and_${__rate_interval}_variable
=== RUN   TestParse/parsing_query_model_of_range_query
=== RUN   TestParse/parsing_query_model_of_range_and_instant_query
=== RUN   TestParse/parsing_query_model_of_with_no_query_type
--- PASS: TestParse (0.00s)
--- PASS: TestParse/parsing_query_from_unified_alerting (0.00s)
--- PASS: TestParse/parsing_query_model_with_step (0.00s)
--- PASS: TestParse/parsing_query_model_without_step_parameter (0.00s)
--- PASS: TestParse/parsing_query_model_with_high_intervalFactor (0.00s)
--- PASS: TestParse/parsing_query_model_with_low_intervalFactor (0.00s)
--- PASS: TestParse/parsing_query_model_specified_scrape-interval_in_the_data_source (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__interval_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_${__interval}_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__interval_ms_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__interval_ms_and_$__interval_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_${__interval_ms}_and_${__interval}_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__range_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__range_s_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_${__range_s}_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__range_s_variable_below_0.5s (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__range_s_variable_between_1-0.5s (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__range_ms_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__range_ms_variable_below_1s (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__rate_interval_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__rate_interval_variable_in_expr_and_interval (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__rate_interval_ms_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_$__rate_interval_ms_and_$__rate_interval_variable (0.00s)
--- PASS: TestParse/parsing_query_model_with_legacy_datasource_reference (0.00s)
--- PASS: TestParse/parsing_query_model_with_${__rate_interval_ms}_and_${__rate_interval}_variable (0.00s)
--- PASS: TestParse/parsing_query_model_of_range_query (0.00s)
--- PASS: TestParse/parsing_query_model_of_range_and_instant_query (0.00s)
--- PASS: TestParse/parsing_query_model_of_with_no_query_type (0.00s)
=== RUN   TestRateInterval
=== RUN   TestRateInterval/intervalMs_100s,_minStep_override_150s_and_scrape_interval_30s
=== RUN   TestRateInterval/intervalMs_120s,_minStep_override_150s_and_ds_scrape_interval_30s
=== RUN   TestRateInterval/intervalMs_120s,_minStep_auto_(interval_not_overridden)_and_ds_scrape_interval_30s
=== RUN   TestRateInterval/interval_and_minStep_are_automatically_calculated_and_ds_scrape_interval_30s_and_time_range_1_hour
=== RUN   TestRateInterval/minStep_is_$__rate_interval_and_ds_scrape_interval_30s_and_time_range_1_hour
=== RUN   TestRateInterval/minStep_is_$__rate_interval_and_ds_scrape_interval_30s_and_time_range_2_days
=== RUN   TestRateInterval/minStep_is_$__rate_interval_and_ds_scrape_interval_15s_and_time_range_2_days
=== RUN   TestRateInterval/minStep_is_auto_and_ds_scrape_interval_30s_and_time_range_1_hour
=== RUN   TestRateInterval/minStep_is_auto_and_ds_scrape_interval_15s_and_time_range_5_minutes
--- PASS: TestRateInterval (0.00s)
--- PASS: TestRateInterval/intervalMs_100s,_minStep_override_150s_and_scrape_interval_30s (0.00s)
--- PASS: TestRateInterval/intervalMs_120s,_minStep_override_150s_and_ds_scrape_interval_30s (0.00s)
--- PASS: TestRateInterval/intervalMs_120s,_minStep_auto_(interval_not_overridden)_and_ds_scrape_interval_30s (0.00s)
--- PASS: TestRateInterval/interval_and_minStep_are_automatically_calculated_and_ds_scrape_interval_30s_and_time_range_1_hour (0.00s)
--- PASS: TestRateInterval/minStep_is_$__rate_interval_and_ds_scrape_interval_30s_and_time_range_1_hour (0.00s)
--- PASS: TestRateInterval/minStep_is_$__rate_interval_and_ds_scrape_interval_30s_and_time_range_2_days (0.00s)
--- PASS: TestRateInterval/minStep_is_$__rate_interval_and_ds_scrape_interval_15s_and_time_range_2_days (0.00s)
--- PASS: TestRateInterval/minStep_is_auto_and_ds_scrape_interval_30s_and_time_range_1_hour (0.00s)
--- PASS: TestRateInterval/minStep_is_auto_and_ds_scrape_interval_15s_and_time_range_5_minutes (0.00s)
=== RUN   TestAlignTimeRange
=== RUN   TestAlignTimeRange/second_step
=== RUN   TestAlignTimeRange/millisecond_step
=== RUN   TestAlignTimeRange/second_step_with_offset
=== RUN   TestAlignTimeRange/1w_step_with_range_date_of_Monday_that_changes_the_range_to_a_Thursday.
--- PASS: TestAlignTimeRange (0.00s)
--- PASS: TestAlignTimeRange/second_step (0.00s)
--- PASS: TestAlignTimeRange/millisecond_step (0.00s)
--- PASS: TestAlignTimeRange/second_step_with_offset (0.00s)
--- PASS: TestAlignTimeRange/1w_step_with_range_date_of_Monday_that_changes_the_range_to_a_Thursday. (0.00s)
=== RUN   TestQueryTypeDefinitions
--- PASS: TestQueryTypeDefinitions (0.03s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/models	0.058s
=== RUN   TestQueryData_parseResponse
=== RUN   TestQueryData_parseResponse/resultType_is_before_result_the_field_must_parsed_normally
=== RUN   TestQueryData_parseResponse/resultType_is_after_the_result_field_must_parsed_normally
=== RUN   TestQueryData_parseResponse/no_resultType_is_existed_in_the_data
=== RUN   TestQueryData_parseResponse/resultType_is_set_as_empty_string_before_result
=== RUN   TestQueryData_parseResponse/resultType_is_set_as_empty_string_after_result
--- PASS: TestQueryData_parseResponse (0.00s)
--- PASS: TestQueryData_parseResponse/resultType_is_before_result_the_field_must_parsed_normally (0.00s)
--- PASS: TestQueryData_parseResponse/resultType_is_after_the_result_field_must_parsed_normally (0.00s)
--- PASS: TestQueryData_parseResponse/no_resultType_is_existed_in_the_data (0.00s)
--- PASS: TestQueryData_parseResponse/resultType_is_set_as_empty_string_before_result (0.00s)
--- PASS: TestQueryData_parseResponse/resultType_is_set_as_empty_string_after_result (0.00s)
=== RUN   TestAddMetadataToMultiFrame
=== RUN   TestAddMetadataToMultiFrame/when_you_have_native_histogram_result
--- PASS: TestAddMetadataToMultiFrame (0.00s)
--- PASS: TestAddMetadataToMultiFrame/when_you_have_native_histogram_result (0.00s)
=== RUN   TestParseResponse_ErrorCases
=== RUN   TestParseResponse_ErrorCases/500_Internal_Server_Error
{"@level":"error","@message":"Unexpected response received","@timestamp":"2025-04-15T08:39:39.953309Z","body":"eyJlcnJvciI6ImludGVybmFsIHNlcnZlciBlcnJvciJ9","status":500}
=== RUN   TestParseResponse_ErrorCases/404_Not_Found
{"@level":"error","@message":"Unexpected response received","@timestamp":"2025-04-15T08:39:39.953371Z","body":"eyJlcnJvciI6Im5vdCBmb3VuZCJ9","status":404}
=== RUN   TestParseResponse_ErrorCases/401_Unauthorized
{"@level":"error","@message":"Unexpected response received","@timestamp":"2025-04-15T08:39:39.953406Z","body":"eyJlcnJvciI6InVuYXV0aG9yaXplZCJ9","status":401}
--- PASS: TestParseResponse_ErrorCases (0.00s)
--- PASS: TestParseResponse_ErrorCases/500_Internal_Server_Error (0.00s)
--- PASS: TestParseResponse_ErrorCases/404_Not_Found (0.00s)
--- PASS: TestParseResponse_ErrorCases/401_Unauthorized (0.00s)
=== RUN   TestRangeResponses
=== RUN   TestRangeResponses/parse_a_simple_matrix_response
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:39.954225Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:39.954261Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:39.954319Z","end":"2022-01-11T08:25:32Z","query":"","start":"2022-01-11T08:25:30Z","step":1000000000}
=== RUN   TestRangeResponses/parse_a_simple_matrix_response_with_value_missing_steps
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:39.966640Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:39.966667Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:39.966697Z","end":"2022-01-11T08:25:38Z","query":"test1","start":"2022-01-11T08:25:30Z","step":1000000000}
=== RUN   TestRangeResponses/parse_a_matrix_response_with_Infinity
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:39.970910Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:39.970928Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:39.970954Z","end":"2022-01-11T08:25:32Z","query":"1 / 0","start":"2022-01-11T08:25:30Z","step":1000000000}
=== RUN   TestRangeResponses/parse_a_matrix_response_with_NaN
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:39.976766Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:39.976807Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:39.976837Z","end":"2022-01-11T08:25:32Z","query":"","start":"2022-01-11T08:25:30Z","step":1000000000}
=== RUN   TestRangeResponses/parse_a_response_with_legendFormat___auto
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:39.978488Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:39.978509Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:39.978538Z","end":"2022-09-28T14:48:05Z","query":"histogram_quantile(0.95, sum(rate(tns_request_duration_seconds_bucket[4s])) by (le))","start":"2022-09-28T14:43:05Z","step":1000000000}
--- PASS: TestRangeResponses (0.03s)
--- PASS: TestRangeResponses/parse_a_simple_matrix_response (0.01s)
--- PASS: TestRangeResponses/parse_a_simple_matrix_response_with_value_missing_steps (0.01s)
--- PASS: TestRangeResponses/parse_a_matrix_response_with_Infinity (0.00s)
--- PASS: TestRangeResponses/parse_a_matrix_response_with_NaN (0.01s)
--- PASS: TestRangeResponses/parse_a_response_with_legendFormat___auto (0.00s)
=== RUN   TestExemplarResponses
=== RUN   TestExemplarResponses/parse_an_exemplar_response
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:39.985499Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:39.985580Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:39.985623Z","end":"2022-06-01T12:33:30Z","query":"histogram_quantile(0.99, sum(rate(traces_spanmetrics_duration_seconds_bucket[15s])) by (le))","start":"2022-06-01T12:28:30Z","step":15000000000}
--- PASS: TestExemplarResponses (0.03s)
--- PASS: TestExemplarResponses/parse_an_exemplar_response (0.03s)
=== RUN   TestPrometheus_parseTimeSeriesResponse
=== RUN   TestPrometheus_parseTimeSeriesResponse/exemplars_response_should_be_sampled_and_parsed_normally
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.014961Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.014994Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.015072Z","end":"0001-01-01T00:00:00Z","query":"","start":"0001-01-01T00:00:00Z","step":15000000000}
=== RUN   TestPrometheus_parseTimeSeriesResponse/matrix_response_should_be_parsed_normally
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.015458Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.015473Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.015496Z","end":"1970-01-01T00:00:05Z","query":"","start":"1970-01-01T00:00:01Z","step":15000000000}
=== RUN   TestPrometheus_parseTimeSeriesResponse/matrix_response_with_missed_data_points_should_be_parsed_correctly
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.015661Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.015671Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.015699Z","end":"1970-01-01T00:00:04Z","query":"","start":"1970-01-01T00:00:01Z","step":15000000000}
=== RUN   TestPrometheus_parseTimeSeriesResponse/matrix_response_with_from_alerting_missed_data_points_should_be_parsed_correctly
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.015849Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.015859Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.015877Z","end":"1970-01-01T00:00:04Z","query":"","start":"1970-01-01T00:00:01Z","step":15000000000}
=== RUN   TestPrometheus_parseTimeSeriesResponse/matrix_response_with_NaN_value_should_be_changed_to_null
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.016041Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.016052Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.016069Z","end":"1970-01-01T00:00:04Z","query":"","start":"1970-01-01T00:00:01Z","step":15000000000}
=== RUN   TestPrometheus_parseTimeSeriesResponse/vector_response_should_be_parsed_normally
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.016219Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.016230Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.016248Z","end":"0001-01-01T00:00:00Z","query":"","start":"0001-01-01T00:00:00Z","step":15000000000}
=== RUN   TestPrometheus_parseTimeSeriesResponse/scalar_response_should_be_parsed_normally
{"@level":"debug","@message":"Begin query execution","@timestamp":"2025-04-15T08:39:40.016388Z","fromAlert":false}
{"@level":"debug","@message":"Concurrent Query Count read/parse error: ConcurrentQueryCount not set in config","@timestamp":"2025-04-15T08:39:40.016399Z","EXTRA_VALUE_AT_END":"prometheusRunQueriesInParallel"}
{"@level":"debug","@message":"Sending query","@timestamp":"2025-04-15T08:39:40.016413Z","end":"0001-01-01T00:00:00Z","query":"","start":"0001-01-01T00:00:00Z","step":15000000000}
--- PASS: TestPrometheus_parseTimeSeriesResponse (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/exemplars_response_should_be_sampled_and_parsed_normally (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/matrix_response_should_be_parsed_normally (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/matrix_response_with_missed_data_points_should_be_parsed_correctly (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/matrix_response_with_from_alerting_missed_data_points_should_be_parsed_correctly (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/matrix_response_with_NaN_value_should_be_changed_to_null (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/vector_response_should_be_parsed_normally (0.00s)
--- PASS: TestPrometheus_parseTimeSeriesResponse/scalar_response_should_be_parsed_normally (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/querydata	0.082s
=== RUN   TestStdDevSampler
=== RUN   TestStdDevSampler/standard_deviation_sampler
--- PASS: TestStdDevSampler (0.12s)
--- PASS: TestStdDevSampler/standard_deviation_sampler (0.12s)
=== RUN   TestNoOpSampler
=== RUN   TestNoOpSampler/no-op_sampler
--- PASS: TestNoOpSampler (0.01s)
--- PASS: TestNoOpSampler/no-op_sampler (0.01s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/querydata/exemplar	0.140s
=== RUN   TestNewResource
--- PASS: TestNewResource (0.00s)
=== RUN   TestResource_Execute
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:21.020909Z","URL":"/test"}
--- PASS: TestResource_Execute (0.00s)
=== RUN   TestResource_GetSuggestions
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:21.021131Z","URL":"/api/v1/label/instance/values?end=1609462800\u0026limit=10\u0026match%5B%5D=up\u0026start=1609459200"}
--- PASS: TestResource_GetSuggestions (0.00s)
=== RUN   TestResource_GetSuggestionsWithEmptyQueriesButFilters
{"@level":"debug","@message":"Sending resource query","@timestamp":"2025-04-14T09:15:21.021224Z","URL":"/api/v1/labels?match%5B%5D=%7Binstance%3D%22localhost%3A9090%22%2Cjob%3D%22testjob%22%7D"}
--- PASS: TestResource_GetSuggestionsWithEmptyQueriesButFilters (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/promlib/resource	(cached)
?   	github.com/grafana/grafana/pkg/promlib/utils	[no test files]
?   	github.com/grafana/grafana/pkg/semconv	[no test files]
=== RUN   TestManagedAuthorizer
=== RUN   TestManagedAuthorizer/user_can_create
=== RUN   TestManagedAuthorizer/provisioning_can_create
=== RUN   TestManagedAuthorizer/user_can_not_create_provisioned_resource
=== RUN   TestManagedAuthorizer/user_can_not_update_provisioned_resource
=== RUN   TestManagedAuthorizer/provisioner_can_remove_manager_flags
=== RUN   TestManagedAuthorizer/provisioner_can_add_manager_flags
--- PASS: TestManagedAuthorizer (0.00s)
--- PASS: TestManagedAuthorizer/user_can_create (0.00s)
--- PASS: TestManagedAuthorizer/provisioning_can_create (0.00s)
--- PASS: TestManagedAuthorizer/user_can_not_create_provisioned_resource (0.00s)
--- PASS: TestManagedAuthorizer/user_can_not_update_provisioned_resource (0.00s)
--- PASS: TestManagedAuthorizer/provisioner_can_remove_manager_flags (0.00s)
--- PASS: TestManagedAuthorizer/provisioner_can_add_manager_flags (0.00s)
=== RUN   TestAfterCreatePermissionCreator
=== RUN   TestAfterCreatePermissionCreator/should_return_nil_when_grantPermissions_is_empty
=== RUN   TestAfterCreatePermissionCreator/should_error_with_invalid_grantPermissions_value
=== RUN   TestAfterCreatePermissionCreator/should_error_when_setter_is_nil
=== RUN   TestAfterCreatePermissionCreator/should_error_for_managed_resources
=== RUN   TestAfterCreatePermissionCreator/should_error_when_auth_info_is_missing
=== RUN   TestAfterCreatePermissionCreator/should_succeed_for_user_identity
=== RUN   TestAfterCreatePermissionCreator/should_succeed_for_service_account_identity
=== RUN   TestAfterCreatePermissionCreator/should_error_for_non-user/non-service-account_identity
--- PASS: TestAfterCreatePermissionCreator (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_return_nil_when_grantPermissions_is_empty (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_error_with_invalid_grantPermissions_value (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_error_when_setter_is_nil (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_error_for_managed_resources (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_error_when_auth_info_is_missing (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_succeed_for_user_identity (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_succeed_for_service_account_identity (0.00s)
--- PASS: TestAfterCreatePermissionCreator/should_error_for_non-user/non-service-account_identity (0.00s)
=== RUN   TestPrepareObjectForStorage
=== RUN   TestPrepareObjectForStorage/Error_getting_auth_info_from_context
=== RUN   TestPrepareObjectForStorage/Error_on_missing_name
=== RUN   TestPrepareObjectForStorage/Error_on_non-empty_resource_version
=== RUN   TestPrepareObjectForStorage/Generate_UID_and_leave_deprecated_ID_empty,_if_not_required
=== RUN   TestPrepareObjectForStorage/Should_keep_manager_info
=== RUN   TestPrepareObjectForStorage/Update_should_manage_incrementing_generation_and_metadata
=== RUN   TestPrepareObjectForStorage/Should_generate_internal_id
=== RUN   TestPrepareObjectForStorage/Should_use_deprecated_ID_if_given_it
=== RUN   TestPrepareObjectForStorage/Should_remove_grant_permissions_annotation
=== RUN   TestPrepareObjectForStorage/calculate_generation
=== RUN   TestPrepareObjectForStorage/calculate_generation/increment_when_the_spec_changes
=== RUN   TestPrepareObjectForStorage/calculate_generation/increment_when_the_folder_changes
=== RUN   TestPrepareObjectForStorage/calculate_generation/increment_when_deleted
=== RUN   TestPrepareObjectForStorage/calculate_generation/keep_when_status,_labels,_or_annotations_change
--- PASS: TestPrepareObjectForStorage (0.00s)
--- PASS: TestPrepareObjectForStorage/Error_getting_auth_info_from_context (0.00s)
--- PASS: TestPrepareObjectForStorage/Error_on_missing_name (0.00s)
--- PASS: TestPrepareObjectForStorage/Error_on_non-empty_resource_version (0.00s)
--- PASS: TestPrepareObjectForStorage/Generate_UID_and_leave_deprecated_ID_empty,_if_not_required (0.00s)
--- PASS: TestPrepareObjectForStorage/Should_keep_manager_info (0.00s)
--- PASS: TestPrepareObjectForStorage/Update_should_manage_incrementing_generation_and_metadata (0.00s)
--- PASS: TestPrepareObjectForStorage/Should_generate_internal_id (0.00s)
--- PASS: TestPrepareObjectForStorage/Should_use_deprecated_ID_if_given_it (0.00s)
--- PASS: TestPrepareObjectForStorage/Should_remove_grant_permissions_annotation (0.00s)
--- PASS: TestPrepareObjectForStorage/calculate_generation (0.00s)
--- PASS: TestPrepareObjectForStorage/calculate_generation/increment_when_the_spec_changes (0.00s)
--- PASS: TestPrepareObjectForStorage/calculate_generation/increment_when_the_folder_changes (0.00s)
--- PASS: TestPrepareObjectForStorage/calculate_generation/increment_when_deleted (0.00s)
--- PASS: TestPrepareObjectForStorage/calculate_generation/keep_when_status,_labels,_or_annotations_change (0.00s)
=== RUN   TestPrepareLargeObjectForStorage
=== RUN   TestPrepareLargeObjectForStorage/Should_deconstruct_object_if_size_is_over_threshold
=== RUN   TestPrepareLargeObjectForStorage/Should_not_deconstruct_object_if_size_is_under_threshold
--- PASS: TestPrepareLargeObjectForStorage (0.00s)
--- PASS: TestPrepareLargeObjectForStorage/Should_deconstruct_object_if_size_is_over_threshold (0.00s)
--- PASS: TestPrepareLargeObjectForStorage/Should_not_deconstruct_object_if_size_is_under_threshold (0.00s)
=== RUN   TestToListRequest
=== RUN   TestToListRequest/basic_list_request
=== RUN   TestToListRequest/with_resource_version
=== RUN   TestToListRequest/invalid_resource_version
=== RUN   TestToListRequest/with_label_selector
=== RUN   TestToListRequest/with_trash_label
=== RUN   TestToListRequest/with_history_label
=== RUN   TestToListRequest/with_fullpath_label
--- PASS: TestToListRequest (0.00s)
--- PASS: TestToListRequest/basic_list_request (0.00s)
--- PASS: TestToListRequest/with_resource_version (0.00s)
--- PASS: TestToListRequest/invalid_resource_version (0.00s)
--- PASS: TestToListRequest/with_label_selector (0.00s)
--- PASS: TestToListRequest/with_trash_label (0.00s)
--- PASS: TestToListRequest/with_history_label (0.00s)
--- PASS: TestToListRequest/with_fullpath_label (0.00s)
=== RUN   TestCreate
=== RUN   TestCreate/successful_create
=== RUN   TestCreate/create_with_ResourceVersion_set
--- PASS: TestCreate (0.01s)
--- PASS: TestCreate/successful_create (0.00s)
--- PASS: TestCreate/create_with_ResourceVersion_set (0.00s)
=== RUN   TestCreateWithKeyExist
--- PASS: TestCreateWithKeyExist (0.00s)
=== RUN   TestValidUpdate
--- PASS: TestValidUpdate (0.00s)
=== RUN   TestGet
=== RUN   TestGet/get_existing
=== PAUSE TestGet/get_existing
=== RUN   TestGet/resource_version_0
=== PAUSE TestGet/resource_version_0
=== RUN   TestGet/object_created_resource_version
=== PAUSE TestGet/object_created_resource_version
=== RUN   TestGet/current_object_resource_version,_match=NotOlderThan
=== PAUSE TestGet/current_object_resource_version,_match=NotOlderThan
=== RUN   TestGet/latest_resource_version
=== PAUSE TestGet/latest_resource_version
=== RUN   TestGet/too_high_resource_version
=== PAUSE TestGet/too_high_resource_version
=== RUN   TestGet/get_non-existing
=== PAUSE TestGet/get_non-existing
=== RUN   TestGet/get_non-existing,_ignore_not_found
=== PAUSE TestGet/get_non-existing,_ignore_not_found
=== CONT  TestGet/get_existing
=== CONT  TestGet/get_non-existing,_ignore_not_found
=== CONT  TestGet/current_object_resource_version,_match=NotOlderThan
=== CONT  TestGet/get_non-existing
=== CONT  TestGet/too_high_resource_version
=== CONT  TestGet/latest_resource_version
=== CONT  TestGet/resource_version_0
=== CONT  TestGet/object_created_resource_version
--- PASS: TestGet (0.00s)
--- PASS: TestGet/get_existing (0.00s)
--- PASS: TestGet/get_non-existing,_ignore_not_found (0.00s)
--- PASS: TestGet/get_non-existing (0.00s)
--- PASS: TestGet/too_high_resource_version (0.00s)
--- PASS: TestGet/latest_resource_version (0.00s)
--- PASS: TestGet/resource_version_0 (0.00s)
--- PASS: TestGet/object_created_resource_version (0.00s)
--- PASS: TestGet/current_object_resource_version,_match=NotOlderThan (0.00s)
=== RUN   TestUnconditionalDelete
=== RUN   TestUnconditionalDelete/existing_key
=== RUN   TestUnconditionalDelete/non-existing_key
--- PASS: TestUnconditionalDelete (0.00s)
--- PASS: TestUnconditionalDelete/existing_key (0.00s)
--- PASS: TestUnconditionalDelete/non-existing_key (0.00s)
=== RUN   TestConditionalDelete
=== RUN   TestConditionalDelete/UID_match
=== RUN   TestConditionalDelete/UID_mismatch
--- PASS: TestConditionalDelete (0.01s)
--- PASS: TestConditionalDelete/UID_match (0.01s)
--- PASS: TestConditionalDelete/UID_mismatch (0.00s)
=== RUN   TestDeleteWithSuggestion
--- PASS: TestDeleteWithSuggestion (0.00s)
=== RUN   TestDeleteWithSuggestionAndConflict
--- PASS: TestDeleteWithSuggestionAndConflict (0.00s)
=== RUN   TestGRPCtoHTTPStatusMapping
=== RUN   TestGRPCtoHTTPStatusMapping/ensure_that_GRPC_Unauthenticated_code_gets_translated_to_HTTP_StatusUnauthorized
--- PASS: TestGRPCtoHTTPStatusMapping (0.00s)
--- PASS: TestGRPCtoHTTPStatusMapping/ensure_that_GRPC_Unauthenticated_code_gets_translated_to_HTTP_StatusUnauthorized (0.00s)
=== RUN   TestTransformationFailure
--- PASS: TestTransformationFailure (0.00s)
=== RUN   TestWatch
=== RUN   TestWatch/file
=== RUN   TestWatch/file/create_a_key
=== RUN   TestWatch/file/key_updated_to_match_predicate
=== RUN   TestWatch/file/update
=== RUN   TestWatch/file/delete_because_of_being_filtered
=== RUN   TestWatch/file/filtering
=== RUN   TestWatch/file/create_a_key#01
=== RUN   TestWatch/file/key_updated_to_match_predicate#01
=== RUN   TestWatch/file/update#01
=== RUN   TestWatch/file/delete_because_of_being_filtered#01
=== RUN   TestWatch/file/filtering#01
=== RUN   TestWatch/unified
watcher_test.go:137: skipping integration test
--- PASS: TestWatch (0.04s)
--- PASS: TestWatch/file (0.04s)
--- PASS: TestWatch/file/create_a_key (0.00s)
--- PASS: TestWatch/file/key_updated_to_match_predicate (0.00s)
--- PASS: TestWatch/file/update (0.00s)
--- PASS: TestWatch/file/delete_because_of_being_filtered (0.00s)
--- PASS: TestWatch/file/filtering (0.01s)
--- PASS: TestWatch/file/create_a_key#01 (0.00s)
--- PASS: TestWatch/file/key_updated_to_match_predicate#01 (0.00s)
--- PASS: TestWatch/file/update#01 (0.00s)
--- PASS: TestWatch/file/delete_because_of_being_filtered#01 (0.00s)
--- PASS: TestWatch/file/filtering#01 (0.00s)
--- SKIP: TestWatch/unified (0.00s)
=== RUN   TestClusterScopedWatch
=== RUN   TestClusterScopedWatch/file
=== RUN   TestClusterScopedWatch/file/cluster-wide_watch,_request_without_name,_without_field_selector
=== RUN   TestClusterScopedWatch/file/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName
=== RUN   TestClusterScopedWatch/file/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName_to_filter_out_watch
=== RUN   TestClusterScopedWatch/file/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name
=== RUN   TestClusterScopedWatch/file/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name_and_spec.nodeName
=== RUN   TestClusterScopedWatch/file/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch
=== RUN   TestClusterScopedWatch/unified
=== RUN   TestClusterScopedWatch/unified/cluster-wide_watch,_request_without_name,_without_field_selector
=== RUN   TestClusterScopedWatch/unified/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName
=== RUN   TestClusterScopedWatch/unified/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName_to_filter_out_watch
=== RUN   TestClusterScopedWatch/unified/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name
=== RUN   TestClusterScopedWatch/unified/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name_and_spec.nodeName
=== RUN   TestClusterScopedWatch/unified/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch
--- PASS: TestClusterScopedWatch (0.05s)
--- PASS: TestClusterScopedWatch/file (0.03s)
--- PASS: TestClusterScopedWatch/file/cluster-wide_watch,_request_without_name,_without_field_selector (0.00s)
--- PASS: TestClusterScopedWatch/file/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName (0.00s)
--- PASS: TestClusterScopedWatch/file/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName_to_filter_out_watch (0.01s)
--- PASS: TestClusterScopedWatch/file/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name (0.00s)
--- PASS: TestClusterScopedWatch/file/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name_and_spec.nodeName (0.00s)
--- PASS: TestClusterScopedWatch/file/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch (0.01s)
--- PASS: TestClusterScopedWatch/unified (0.02s)
--- PASS: TestClusterScopedWatch/unified/cluster-wide_watch,_request_without_name,_without_field_selector (0.00s)
--- PASS: TestClusterScopedWatch/unified/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName (0.00s)
--- PASS: TestClusterScopedWatch/unified/cluster-wide_watch,_request_without_name,_field_selector_with_spec.nodeName_to_filter_out_watch (0.00s)
--- PASS: TestClusterScopedWatch/unified/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name (0.00s)
--- PASS: TestClusterScopedWatch/unified/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name_and_spec.nodeName (0.00s)
--- PASS: TestClusterScopedWatch/unified/cluster-wide_watch,_request_with_name,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch (0.01s)
=== RUN   TestNamespaceScopedWatch
=== RUN   TestNamespaceScopedWatch/file
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_without_field_selector
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_metadata.namespace
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_without_field_selector
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_matched_metadata.namespace
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_non-matched_metadata.namespace
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_metadata.namespace
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_spec.nodeName
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name_and_metadata.namespace
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace_and_spec.nodename
=== RUN   TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace,_and_with_spec.nodename_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/unified
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_without_field_selector
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_metadata.namespace
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_without_field_selector
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_matched_metadata.namespace
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_non-matched_metadata.namespace
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_metadata.namespace
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_spec.nodeName
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name_and_metadata.namespace
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace_and_spec.nodename
=== RUN   TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace,_and_with_spec.nodename_to_filter_out_watch
--- PASS: TestNamespaceScopedWatch (0.26s)
--- PASS: TestNamespaceScopedWatch/file (0.15s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_without_field_selector (0.00s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_metadata.namespace (0.00s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename (0.00s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename_to_filter_out_watch (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_without_field_selector (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_matched_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_non-matched_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename_to_filter_out_watch (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_spec.nodeName (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name_and_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace_and_spec.nodename (0.01s)
--- PASS: TestNamespaceScopedWatch/file/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace,_and_with_spec.nodename_to_filter_out_watch (0.01s)
--- PASS: TestNamespaceScopedWatch/unified (0.11s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_without_field_selector (0.00s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_metadata.namespace (0.00s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename (0.00s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_without_namespace,_field_selector_with_spec.nodename_to_filter_out_watch (0.00s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_without_field_selector (0.00s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_matched_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_non-matched_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename (0.00s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_without_name,_request_with_namespace,_field_selector_with_spec.nodename_to_filter_out_watch (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name_and_spec.nodeName (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_without_namespace,_field_selector_with_metadata.name,_and_with_spec.nodeName_to_filter_out_watch (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name_and_metadata.namespace (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace_and_spec.nodename (0.01s)
--- PASS: TestNamespaceScopedWatch/unified/namespaced_watch,_request_with_name,_request_with_namespace,_with_field_selector_metadata.name,_metadata.namespace,_and_with_spec.nodename_to_filter_out_watch (0.01s)
=== RUN   TestDeleteTriggerWatch
=== RUN   TestDeleteTriggerWatch/file
=== RUN   TestDeleteTriggerWatch/unified
--- PASS: TestDeleteTriggerWatch (0.01s)
--- PASS: TestDeleteTriggerWatch/file (0.00s)
--- PASS: TestDeleteTriggerWatch/unified (0.00s)
=== RUN   TestWatchFromNonZero
=== RUN   TestWatchFromNonZero/file
=== RUN   TestWatchFromNonZero/unified
--- PASS: TestWatchFromNonZero (0.01s)
--- PASS: TestWatchFromNonZero/file (0.00s)
--- PASS: TestWatchFromNonZero/unified (0.00s)
=== RUN   TestWatchContextCancel
=== RUN   TestWatchContextCancel/file
=== RUN   TestWatchContextCancel/unified
--- PASS: TestWatchContextCancel (0.00s)
--- PASS: TestWatchContextCancel/file (0.00s)
--- PASS: TestWatchContextCancel/unified (0.00s)
=== RUN   TestWatcherTimeout
=== RUN   TestWatcherTimeout/file
=== RUN   TestWatcherTimeout/unified
--- PASS: TestWatcherTimeout (0.06s)
--- PASS: TestWatcherTimeout/file (0.04s)
--- PASS: TestWatcherTimeout/unified (0.02s)
=== RUN   TestWatchDeleteEventObjectHaveLatestRV
=== RUN   TestWatchDeleteEventObjectHaveLatestRV/file
=== RUN   TestWatchDeleteEventObjectHaveLatestRV/unified
--- PASS: TestWatchDeleteEventObjectHaveLatestRV (0.01s)
--- PASS: TestWatchDeleteEventObjectHaveLatestRV/file (0.00s)
--- PASS: TestWatchDeleteEventObjectHaveLatestRV/unified (0.00s)
=== RUN   TestWatchDispatchBookmarkEvents
=== RUN   TestWatchDispatchBookmarkEvents/file
=== RUN   TestWatchDispatchBookmarkEvents/file/allowWatchBookmarks=false
=== RUN   TestWatchDispatchBookmarkEvents/file/allowWatchBookmarks=true
=== RUN   TestWatchDispatchBookmarkEvents/unified
=== RUN   TestWatchDispatchBookmarkEvents/unified/allowWatchBookmarks=false
=== RUN   TestWatchDispatchBookmarkEvents/unified/allowWatchBookmarks=true
--- PASS: TestWatchDispatchBookmarkEvents (12.02s)
--- PASS: TestWatchDispatchBookmarkEvents/file (6.01s)
--- PASS: TestWatchDispatchBookmarkEvents/file/allowWatchBookmarks=false (3.00s)
--- PASS: TestWatchDispatchBookmarkEvents/file/allowWatchBookmarks=true (3.00s)
--- PASS: TestWatchDispatchBookmarkEvents/unified (6.00s)
--- PASS: TestWatchDispatchBookmarkEvents/unified/allowWatchBookmarks=false (3.00s)
--- PASS: TestWatchDispatchBookmarkEvents/unified/allowWatchBookmarks=true (3.00s)
=== RUN   TestSendInitialEventsBackwardCompatibility
=== RUN   TestSendInitialEventsBackwardCompatibility/file
=== RUN   TestSendInitialEventsBackwardCompatibility/unified
--- PASS: TestSendInitialEventsBackwardCompatibility (0.00s)
--- PASS: TestSendInitialEventsBackwardCompatibility/file (0.00s)
--- PASS: TestSendInitialEventsBackwardCompatibility/unified (0.00s)
=== RUN   TestEtcdWatchSemantics
=== RUN   TestEtcdWatchSemantics/file
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=unset
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=unset
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=unset
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=unset
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=0
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=0
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=0
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=0
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=1
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=1
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=1
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=1
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/unified
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=unset
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=unset
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=unset
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=unset
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=0
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=0
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=0
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=0
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=1
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=1
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=1
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=1
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=useCurrentRV
=== RUN   TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=useCurrentRV
--- PASS: TestEtcdWatchSemantics (64.12s)
--- PASS: TestEtcdWatchSemantics/file (32.06s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=useCurrentRV (2.01s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=useCurrentRV (2.01s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=useCurrentRV (2.00s)
--- PASS: TestEtcdWatchSemantics/file/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=useCurrentRV (2.00s)
--- PASS: TestEtcdWatchSemantics/unified (32.06s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=unset (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=0 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=1 (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=true,_RV=useCurrentRV (2.01s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=true,_sendInitialEvents=false,_RV=useCurrentRV (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=false,_RV=useCurrentRV (2.00s)
--- PASS: TestEtcdWatchSemantics/unified/allowWatchBookmarks=false,_sendInitialEvents=true,_RV=useCurrentRV (2.00s)
=== RUN   TestEtcdWatchSemanticInitialEventsExtended
=== RUN   TestEtcdWatchSemanticInitialEventsExtended/file
=== RUN   TestEtcdWatchSemanticInitialEventsExtended/unified
--- PASS: TestEtcdWatchSemanticInitialEventsExtended (2.00s)
--- PASS: TestEtcdWatchSemanticInitialEventsExtended/file (1.00s)
--- PASS: TestEtcdWatchSemanticInitialEventsExtended/unified (1.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/apistore	(cached)
=== RUN   TestAuthzLimitedClient_Check
--- PASS: TestAuthzLimitedClient_Check (0.00s)
=== RUN   TestAuthzLimitedClient_Compile
--- PASS: TestAuthzLimitedClient_Compile (0.00s)
=== RUN   TestNamespaceMatching
=== RUN   TestNamespaceMatching/matching_namespaces
=== RUN   TestNamespaceMatching/mismatched_namespaces
=== RUN   TestNamespaceMatching/empty_request_namespace
=== RUN   TestNamespaceMatching/empty_auth_namespace
=== RUN   TestNamespaceMatching/wildcard_auth_namespace
=== RUN   TestNamespaceMatching/both_empty_namespaces
--- PASS: TestNamespaceMatching (0.00s)
--- PASS: TestNamespaceMatching/matching_namespaces (0.00s)
--- PASS: TestNamespaceMatching/mismatched_namespaces (0.00s)
--- PASS: TestNamespaceMatching/empty_request_namespace (0.00s)
--- PASS: TestNamespaceMatching/empty_auth_namespace (0.00s)
--- PASS: TestNamespaceMatching/wildcard_auth_namespace (0.00s)
--- PASS: TestNamespaceMatching/both_empty_namespaces (0.00s)
=== RUN   TestNamespaceMatchingFallback
=== RUN   TestNamespaceMatchingFallback/with_namespace_fallback
=== RUN   TestNamespaceMatchingFallback/empty_request_namespace_with_fallback
--- PASS: TestNamespaceMatchingFallback (0.00s)
--- PASS: TestNamespaceMatchingFallback/with_namespace_fallback (0.00s)
--- PASS: TestNamespaceMatchingFallback/empty_request_namespace_with_fallback (0.00s)
=== RUN   TestCache
--- PASS: TestCache (0.00s)
=== RUN   TestBroadcaster
--- PASS: TestBroadcaster (0.00s)
=== RUN   TestCDKBlobStore
=== RUN   TestCDKBlobStore/can_write_then_read_a_blob
--- PASS: TestCDKBlobStore (0.01s)
--- PASS: TestCDKBlobStore/can_write_then_read_a_blob (0.01s)
=== RUN   TestInstrumentedBucket
=== RUN   TestInstrumentedBucket/Attributes_success
=== RUN   TestInstrumentedBucket/Attributes_failure
=== RUN   TestInstrumentedBucket/WriteAll_success
=== RUN   TestInstrumentedBucket/WriteAll_failure
=== RUN   TestInstrumentedBucket/Delete_success
=== RUN   TestInstrumentedBucket/Delete_failure
=== RUN   TestInstrumentedBucket/ReadAll_success
=== RUN   TestInstrumentedBucket/ReadAll_failure
=== RUN   TestInstrumentedBucket/SignedURL_success
=== RUN   TestInstrumentedBucket/SignedURL_failure
--- PASS: TestInstrumentedBucket (0.00s)
--- PASS: TestInstrumentedBucket/Attributes_success (0.00s)
--- PASS: TestInstrumentedBucket/Attributes_failure (0.00s)
--- PASS: TestInstrumentedBucket/WriteAll_success (0.00s)
--- PASS: TestInstrumentedBucket/WriteAll_failure (0.00s)
--- PASS: TestInstrumentedBucket/Delete_success (0.00s)
--- PASS: TestInstrumentedBucket/Delete_failure (0.00s)
--- PASS: TestInstrumentedBucket/ReadAll_success (0.00s)
--- PASS: TestInstrumentedBucket/ReadAll_failure (0.00s)
--- PASS: TestInstrumentedBucket/SignedURL_success (0.00s)
--- PASS: TestInstrumentedBucket/SignedURL_failure (0.00s)
=== RUN   TestIDTokenExtractor
=== RUN   TestIDTokenExtractor/should_return_an_error_when_no_claims_found
=== RUN   TestIDTokenExtractor/should_return_an_empty_token_when_grafana_identity_is_set
--- PASS: TestIDTokenExtractor (0.00s)
--- PASS: TestIDTokenExtractor/should_return_an_error_when_no_claims_found (0.00s)
--- PASS: TestIDTokenExtractor/should_return_an_empty_token_when_grafana_identity_is_set (0.00s)
=== RUN   TestContinueToken
--- PASS: TestContinueToken (0.00s)
=== RUN   TestStandardDocumentBuilder
{
"key": {
"namespace": "default",
"group": "playlists.grafana.app",
"resource": "playlists",
"name": "test1"
},
"name": "test1",
"rv": 10,
"title": "Test Playlist from Unified Storage",
"title_ngram": "Test Playlist from Unified Storage",
"title_phrase": "test playlist from unified storage",
"created": 1717236672000,
"createdBy": "user:ABC",
"updatedBy": "user:XYZ",
"manager": {
"kind": "repo",
"id": "something"
},
"managedBy": "repo:something",
"source": {
"path": "path/in/system.json",
"checksum": "xyz"
}
}
--- PASS: TestStandardDocumentBuilder (0.00s)
=== RUN   TestErrResourceAlreadyExistsIsRecognisable
=== PAUSE TestErrResourceAlreadyExistsIsRecognisable
=== RUN   TestHealthCheck
=== RUN   TestHealthCheck/will_return_serving_response_when_healthy
=== RUN   TestHealthCheck/will_return_not_serving_response_when_not_healthy
--- PASS: TestHealthCheck (0.00s)
--- PASS: TestHealthCheck/will_return_serving_response_when_healthy (0.00s)
--- PASS: TestHealthCheck/will_return_not_serving_response_when_not_healthy (0.00s)
=== RUN   TestHealthWatch
=== RUN   TestHealthWatch/watch_will_return_message_when_called
=== RUN   TestHealthWatch/watch_will_return_error_when_context_cancelled
--- PASS: TestHealthWatch (0.20s)
--- PASS: TestHealthWatch/watch_will_return_message_when_called (0.10s)
--- PASS: TestHealthWatch/watch_will_return_error_when_context_cancelled (0.10s)
=== RUN   TestKeyMatching
=== RUN   TestKeyMatching/key_matching
--- PASS: TestKeyMatching (0.00s)
--- PASS: TestKeyMatching/key_matching (0.00s)
=== RUN   TestSearchIDKeys
--- PASS: TestSearchIDKeys (0.00s)
=== RUN   TestSimpleServer
=== RUN   TestSimpleServer/playlist_happy_CRUD_paths
=== RUN   TestSimpleServer/playlist_update_optimistic_concurrency_check
--- PASS: TestSimpleServer (0.00s)
--- PASS: TestSimpleServer/playlist_happy_CRUD_paths (0.00s)
--- PASS: TestSimpleServer/playlist_update_optimistic_concurrency_check (0.00s)
=== RUN   TestTableFormat
--- PASS: TestTableFormat (0.00s)
=== RUN   TestColumnEncoding
=== RUN   TestColumnEncoding/STRING=aaa
=== PAUSE TestColumnEncoding/STRING=aaa
=== RUN   TestColumnEncoding/[]STRING=bbb
=== PAUSE TestColumnEncoding/[]STRING=bbb
=== RUN   TestColumnEncoding/INT64=12345
=== PAUSE TestColumnEncoding/INT64=12345
=== RUN   TestColumnEncoding/[]INT64=12345
=== PAUSE TestColumnEncoding/[]INT64=12345
=== RUN   TestColumnEncoding/DOUBLE=12345
=== PAUSE TestColumnEncoding/DOUBLE=12345
=== RUN   TestColumnEncoding/[]DOUBLE=12345
=== PAUSE TestColumnEncoding/[]DOUBLE=12345
=== RUN   TestColumnEncoding/BOOLEAN=true
=== PAUSE TestColumnEncoding/BOOLEAN=true
=== RUN   TestColumnEncoding/[]BOOLEAN=[true_false_true]
=== PAUSE TestColumnEncoding/[]BOOLEAN=[true_false_true]
=== RUN   TestColumnEncoding/FLOAT=23.4
=== PAUSE TestColumnEncoding/FLOAT=23.4
=== RUN   TestColumnEncoding/[]FLOAT=23.4
=== PAUSE TestColumnEncoding/[]FLOAT=23.4
=== RUN   TestColumnEncoding/INT32=56
=== PAUSE TestColumnEncoding/INT32=56
=== RUN   TestColumnEncoding/[]INT32=56
=== PAUSE TestColumnEncoding/[]INT32=56
=== RUN   TestColumnEncoding/DATE_TIME=1999-12-31_21:00:00_+0000_UTC
=== PAUSE TestColumnEncoding/DATE_TIME=1999-12-31_21:00:00_+0000_UTC
=== RUN   TestColumnEncoding/[]DATE_TIME=1999-12-31_21:00:00_+0000_UTC
=== PAUSE TestColumnEncoding/[]DATE_TIME=1999-12-31_21:00:00_+0000_UTC
=== RUN   TestColumnEncoding/DATE=1999-12-31_21:00:00_+0000_UTC
=== PAUSE TestColumnEncoding/DATE=1999-12-31_21:00:00_+0000_UTC
=== RUN   TestColumnEncoding/[]DATE=1999-12-31_21:00:00_+0000_UTC
=== PAUSE TestColumnEncoding/[]DATE=1999-12-31_21:00:00_+0000_UTC
=== RUN   TestColumnEncoding/BINARY=[1_2_3_4]
=== PAUSE TestColumnEncoding/BINARY=[1_2_3_4]
=== RUN   TestColumnEncoding/[]BINARY=[[1_2_3_4]]
=== PAUSE TestColumnEncoding/[]BINARY=[[1_2_3_4]]
=== RUN   TestColumnEncoding/OBJECT=map[hello:world]
=== PAUSE TestColumnEncoding/OBJECT=map[hello:world]
=== RUN   TestColumnEncoding/[]OBJECT=map[hello:world]
=== PAUSE TestColumnEncoding/[]OBJECT=map[hello:world]
=== RUN   TestColumnEncoding/ensure_type_coverage
=== CONT  TestColumnEncoding/STRING=aaa
=== CONT  TestColumnEncoding/[]OBJECT=map[hello:world]
=== CONT  TestColumnEncoding/INT32=56
=== CONT  TestColumnEncoding/[]DOUBLE=12345
=== CONT  TestColumnEncoding/OBJECT=map[hello:world]
=== CONT  TestColumnEncoding/[]FLOAT=23.4
=== CONT  TestColumnEncoding/FLOAT=23.4
=== CONT  TestColumnEncoding/[]BOOLEAN=[true_false_true]
=== CONT  TestColumnEncoding/BOOLEAN=true
=== CONT  TestColumnEncoding/DATE=1999-12-31_21:00:00_+0000_UTC
=== CONT  TestColumnEncoding/[]BINARY=[[1_2_3_4]]
=== CONT  TestColumnEncoding/BINARY=[1_2_3_4]
=== CONT  TestColumnEncoding/[]DATE=1999-12-31_21:00:00_+0000_UTC
=== CONT  TestColumnEncoding/DATE_TIME=1999-12-31_21:00:00_+0000_UTC
=== CONT  TestColumnEncoding/[]DATE_TIME=1999-12-31_21:00:00_+0000_UTC
=== CONT  TestColumnEncoding/[]INT64=12345
=== CONT  TestColumnEncoding/DOUBLE=12345
=== CONT  TestColumnEncoding/[]INT32=56
=== CONT  TestColumnEncoding/INT64=12345
=== CONT  TestColumnEncoding/[]STRING=bbb
--- PASS: TestColumnEncoding (0.00s)
--- PASS: TestColumnEncoding/ensure_type_coverage (0.00s)
--- PASS: TestColumnEncoding/STRING=aaa (0.00s)
--- PASS: TestColumnEncoding/INT32=56 (0.00s)
--- PASS: TestColumnEncoding/[]DOUBLE=12345 (0.00s)
--- PASS: TestColumnEncoding/[]FLOAT=23.4 (0.00s)
--- PASS: TestColumnEncoding/FLOAT=23.4 (0.00s)
--- PASS: TestColumnEncoding/[]BOOLEAN=[true_false_true] (0.00s)
--- PASS: TestColumnEncoding/BOOLEAN=true (0.00s)
--- PASS: TestColumnEncoding/DATE=1999-12-31_21:00:00_+0000_UTC (0.00s)
--- PASS: TestColumnEncoding/[]BINARY=[[1_2_3_4]] (0.00s)
--- PASS: TestColumnEncoding/BINARY=[1_2_3_4] (0.00s)
--- PASS: TestColumnEncoding/[]DATE=1999-12-31_21:00:00_+0000_UTC (0.00s)
--- PASS: TestColumnEncoding/DATE_TIME=1999-12-31_21:00:00_+0000_UTC (0.00s)
--- PASS: TestColumnEncoding/[]DATE_TIME=1999-12-31_21:00:00_+0000_UTC (0.00s)
--- PASS: TestColumnEncoding/[]INT64=12345 (0.00s)
--- PASS: TestColumnEncoding/DOUBLE=12345 (0.00s)
--- PASS: TestColumnEncoding/[]INT32=56 (0.00s)
--- PASS: TestColumnEncoding/INT64=12345 (0.00s)
--- PASS: TestColumnEncoding/[]STRING=bbb (0.00s)
--- PASS: TestColumnEncoding/OBJECT=map[hello:world] (0.00s)
--- PASS: TestColumnEncoding/[]OBJECT=map[hello:world] (0.01s)
=== RUN   TestDecodeCell
--- PASS: TestDecodeCell (0.00s)
=== RUN   TestNameValidation
--- PASS: TestNameValidation (0.00s)
=== CONT  TestErrResourceAlreadyExistsIsRecognisable
--- PASS: TestErrResourceAlreadyExistsIsRecognisable (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/resource	0.261s
=== RUN   TestBasicEncodeDecode
--- PASS: TestBasicEncodeDecode (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/storage/unified/resource/grpc	(cached)
=== RUN   TestSequenceGenerator
--- PASS: TestSequenceGenerator (0.00s)
=== RUN   TestBatchSequenceAllocation
--- PASS: TestBatchSequenceAllocation (0.00s)
=== RUN   TestConcurrentSequenceAccess
--- PASS: TestConcurrentSequenceAccess (0.00s)
=== RUN   TestBasicOperationsWithSpanner
--- PASS: TestBasicOperationsWithSpanner (0.06s)
=== RUN   TestBasicOperationsWithSqlite
=== RUN   TestBasicOperationsWithSqlite/insert_object
=== RUN   TestBasicOperationsWithSqlite/update_object_with_json_field
--- PASS: TestBasicOperationsWithSqlite (0.00s)
--- PASS: TestBasicOperationsWithSqlite/insert_object (0.00s)
--- PASS: TestBasicOperationsWithSqlite/update_object_with_json_field (0.00s)
PASS
ok  	github.com/grafana/grafana/pkg/util/xorm	(cached)
FAIL
make: *** [Makefile:274: test-go-unit] Error 1
##[error]Process completed with exit code 2.
