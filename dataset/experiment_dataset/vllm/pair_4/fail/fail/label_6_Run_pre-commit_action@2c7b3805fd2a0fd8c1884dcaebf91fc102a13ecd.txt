2025-04-15T09:13:01.8066010Z ##[group]Run pre-commit/action@2c7b3805fd2a0fd8c1884dcaebf91fc102a13ecd
2025-04-15T09:13:01.8066508Z with:
2025-04-15T09:13:01.8066826Z   extra_args: --all-files --hook-stage manual
2025-04-15T09:13:01.8067182Z env:
2025-04-15T09:13:01.8067531Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8068042Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib/pkgconfig
2025-04-15T09:13:01.8068534Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8068983Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8069432Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8070059Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib
2025-04-15T09:13:01.8070669Z ##[endgroup]
2025-04-15T09:13:01.8154406Z ##[group]Run python -m pip install pre-commit
2025-04-15T09:13:01.8154916Z [36;1mpython -m pip install pre-commit[0m
2025-04-15T09:13:01.8209016Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T09:13:01.8209538Z env:
2025-04-15T09:13:01.8210053Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8210597Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib/pkgconfig
2025-04-15T09:13:01.8211142Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8211641Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8212125Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:01.8212613Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib
2025-04-15T09:13:01.8213033Z ##[endgroup]
2025-04-15T09:13:02.5903878Z Collecting pre-commit
2025-04-15T09:13:02.6260723Z   Downloading pre_commit-4.2.0-py2.py3-none-any.whl.metadata (1.3 kB)
2025-04-15T09:13:02.6402951Z Collecting cfgv>=2.0.0 (from pre-commit)
2025-04-15T09:13:02.6437805Z   Downloading cfgv-3.4.0-py2.py3-none-any.whl.metadata (8.5 kB)
2025-04-15T09:13:02.6854664Z Collecting identify>=1.0.0 (from pre-commit)
2025-04-15T09:13:02.6891129Z   Downloading identify-2.6.9-py2.py3-none-any.whl.metadata (4.4 kB)
2025-04-15T09:13:02.7070142Z Collecting nodeenv>=0.11.1 (from pre-commit)
2025-04-15T09:13:02.7105156Z   Downloading nodeenv-1.9.1-py2.py3-none-any.whl.metadata (21 kB)
2025-04-15T09:13:02.7444060Z Collecting pyyaml>=5.1 (from pre-commit)
2025-04-15T09:13:02.7481023Z   Downloading PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
2025-04-15T09:13:02.8036828Z Collecting virtualenv>=20.10.0 (from pre-commit)
2025-04-15T09:13:02.8074106Z   Downloading virtualenv-20.30.0-py3-none-any.whl.metadata (4.5 kB)
2025-04-15T09:13:02.8294752Z Collecting distlib<1,>=0.3.7 (from virtualenv>=20.10.0->pre-commit)
2025-04-15T09:13:02.8341665Z   Downloading distlib-0.3.9-py2.py3-none-any.whl.metadata (5.2 kB)
2025-04-15T09:13:02.8553333Z Collecting filelock<4,>=3.12.2 (from virtualenv>=20.10.0->pre-commit)
2025-04-15T09:13:02.8588798Z   Downloading filelock-3.18.0-py3-none-any.whl.metadata (2.9 kB)
2025-04-15T09:13:02.8799529Z Collecting platformdirs<5,>=3.9.1 (from virtualenv>=20.10.0->pre-commit)
2025-04-15T09:13:02.8835580Z   Downloading platformdirs-4.3.7-py3-none-any.whl.metadata (11 kB)
2025-04-15T09:13:02.8960425Z Downloading pre_commit-4.2.0-py2.py3-none-any.whl (220 kB)
2025-04-15T09:13:02.9096462Z Downloading cfgv-3.4.0-py2.py3-none-any.whl (7.2 kB)
2025-04-15T09:13:02.9159394Z Downloading identify-2.6.9-py2.py3-none-any.whl (99 kB)
2025-04-15T09:13:02.9224106Z Downloading nodeenv-1.9.1-py2.py3-none-any.whl (22 kB)
2025-04-15T09:13:02.9287029Z Downloading PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (767 kB)
2025-04-15T09:13:02.9444407Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 767.5/767.5 kB 48.1 MB/s eta 0:00:00
2025-04-15T09:13:02.9480182Z Downloading virtualenv-20.30.0-py3-none-any.whl (4.3 MB)
2025-04-15T09:13:02.9982393Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.3/4.3 MB 87.6 MB/s eta 0:00:00
2025-04-15T09:13:03.0020963Z Downloading distlib-0.3.9-py2.py3-none-any.whl (468 kB)
2025-04-15T09:13:03.0119082Z Downloading filelock-3.18.0-py3-none-any.whl (16 kB)
2025-04-15T09:13:03.0180730Z Downloading platformdirs-4.3.7-py3-none-any.whl (18 kB)
2025-04-15T09:13:03.0521232Z Installing collected packages: distlib, pyyaml, platformdirs, nodeenv, identify, filelock, cfgv, virtualenv, pre-commit
2025-04-15T09:13:03.4671998Z Successfully installed cfgv-3.4.0 distlib-0.3.9 filelock-3.18.0 identify-2.6.9 nodeenv-1.9.1 platformdirs-4.3.7 pre-commit-4.2.0 pyyaml-6.0.2 virtualenv-20.30.0
2025-04-15T09:13:03.6273458Z ##[group]Run python -m pip freeze --local
2025-04-15T09:13:03.6273797Z [36;1mpython -m pip freeze --local[0m
2025-04-15T09:13:03.6319643Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T09:13:03.6320349Z env:
2025-04-15T09:13:03.6320600Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.6321003Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib/pkgconfig
2025-04-15T09:13:03.6321394Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.6321742Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.6322084Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.6322424Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib
2025-04-15T09:13:03.6322711Z ##[endgroup]
2025-04-15T09:13:03.8623989Z cfgv==3.4.0
2025-04-15T09:13:03.8624616Z distlib==0.3.9
2025-04-15T09:13:03.8624987Z filelock==3.18.0
2025-04-15T09:13:03.8625333Z identify==2.6.9
2025-04-15T09:13:03.8625654Z nodeenv==1.9.1
2025-04-15T09:13:03.8626003Z platformdirs==4.3.7
2025-04-15T09:13:03.8626374Z pre_commit==4.2.0
2025-04-15T09:13:03.8626678Z PyYAML==6.0.2
2025-04-15T09:13:03.8627034Z virtualenv==20.30.0
2025-04-15T09:13:03.9544952Z ##[group]Run actions/cache@v4
2025-04-15T09:13:03.9545214Z with:
2025-04-15T09:13:03.9545408Z   path: ~/.cache/pre-commit
2025-04-15T09:13:03.9545962Z   key: pre-commit-3|/opt/hostedtoolcache/Python/3.12.9/x64|b561be449282ed0f3eb12e41c885cf98903b2d58b7a569f3e4b5873d7aff2f18
2025-04-15T09:13:03.9546580Z   enableCrossOsArchive: false
2025-04-15T09:13:03.9546838Z   fail-on-cache-miss: false
2025-04-15T09:13:03.9547075Z   lookup-only: false
2025-04-15T09:13:03.9547284Z   save-always: false
2025-04-15T09:13:03.9547482Z env:
2025-04-15T09:13:03.9547733Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.9548173Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib/pkgconfig
2025-04-15T09:13:03.9548601Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.9548978Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.9549363Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:03.9549989Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib
2025-04-15T09:13:03.9550464Z ##[endgroup]
2025-04-15T09:13:04.2250868Z Cache hit for: pre-commit-3|/opt/hostedtoolcache/Python/3.12.9/x64|b561be449282ed0f3eb12e41c885cf98903b2d58b7a569f3e4b5873d7aff2f18
2025-04-15T09:13:05.2734046Z Received 113357780 of 113357780 (100.0%), 116.6 MBs/sec
2025-04-15T09:13:05.2734814Z Cache Size: ~108 MB (113357780 B)
2025-04-15T09:13:05.2765907Z [command]/usr/bin/tar -xf /home/runner/work/_temp/dc5d35b2-2b0b-4c25-a9eb-e662a9306ee2/cache.tzst -P -C /home/runner/work/vllm/vllm --use-compress-program unzstd
2025-04-15T09:13:06.1807253Z Cache restored successfully
2025-04-15T09:13:06.2263244Z Cache restored from key: pre-commit-3|/opt/hostedtoolcache/Python/3.12.9/x64|b561be449282ed0f3eb12e41c885cf98903b2d58b7a569f3e4b5873d7aff2f18
2025-04-15T09:13:06.2368120Z ##[group]Run pre-commit run --show-diff-on-failure --color=always --all-files --hook-stage manual
2025-04-15T09:13:06.2368789Z [36;1mpre-commit run --show-diff-on-failure --color=always --all-files --hook-stage manual[0m
2025-04-15T09:13:06.2415697Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-04-15T09:13:06.2416037Z env:
2025-04-15T09:13:06.2416300Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:06.2416925Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib/pkgconfig
2025-04-15T09:13:06.2417329Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:06.2417697Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:06.2418058Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.9/x64
2025-04-15T09:13:06.2418420Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.9/x64/lib
2025-04-15T09:13:06.2418730Z ##[endgroup]
2025-04-15T09:14:18.3369708Z yapf.....................................................................[41mFailed[m
2025-04-15T09:14:18.3370986Z [2m- hook id: yapf[m
2025-04-15T09:14:18.3371641Z [2m- files were modified by this hook[m
2025-04-15T09:14:18.3372352Z 
2025-04-15T09:14:18.3372831Z Reformatting tests/models/multimodal/processing/test_mllama.py
2025-04-15T09:14:18.3373686Z Reformatting vllm/lora/punica_wrapper/__init__.py
2025-04-15T09:14:18.3374492Z Reformatting vllm/model_executor/models/teleflm.py
2025-04-15T09:14:18.3375302Z Reformatting vllm/transformers_utils/configs/ovis2.py
2025-04-15T09:14:18.3376133Z Reformatting vllm/model_executor/models/llava_next.py
2025-04-15T09:14:18.3377027Z Reformatting vllm/attention/backends/flashinfer.py
2025-04-15T09:14:18.3377770Z Reformatting vllm/v1/worker/utils.py
2025-04-15T09:14:18.3378511Z Reformatting vllm/model_executor/models/paligemma.py
2025-04-15T09:14:18.3379391Z Reformatting tests/distributed/test_expert_parallel.py
2025-04-15T09:14:18.3380523Z Reformatting tests/prompt_adapter/test_pa_lora.py
2025-04-15T09:14:18.3381443Z Reformatting vllm/lora/ops/triton_ops/lora_kernel_metadata.py
2025-04-15T09:14:18.3382786Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_w4a16_24.py
2025-04-15T09:14:18.3384086Z Reformatting vllm/distributed/kv_transfer/kv_pipe/mooncake_pipe.py
2025-04-15T09:14:18.3384956Z Reformatting tests/entrypoints/llm/test_accuracy.py
2025-04-15T09:14:18.3385762Z Reformatting vllm/model_executor/models/granitemoe.py
2025-04-15T09:14:18.3386560Z Reformatting tests/kernels/test_mamba_ssm_ssd.py
2025-04-15T09:14:18.3387299Z Reformatting vllm/attention/backends/pallas.py
2025-04-15T09:14:18.3387923Z Reformatting vllm/v1/__init__.py
2025-04-15T09:14:18.3388591Z Reformatting vllm/entrypoints/openai/api_server.py
2025-04-15T09:14:18.3389556Z Reformatting vllm/entrypoints/openai/tool_parsers/pythonic_tool_parser.py
2025-04-15T09:14:18.3390987Z Reformatting vllm/model_executor/layers/quantization/quark/schemes/quark_w8a8_fp8.py
2025-04-15T09:14:18.3392057Z Reformatting examples/offline_inference/cpu_offload_lmcache.py
2025-04-15T09:14:18.3393092Z Reformatting tests/models/multimodal/processing/test_llava_onevision.py
2025-04-15T09:14:18.3393947Z Reformatting tests/tpu/test_compilation.py
2025-04-15T09:14:18.3394725Z Reformatting vllm/model_executor/models/mamba_cache.py
2025-04-15T09:14:18.3395577Z Reformatting tests/models/embedding/language/test_jina.py
2025-04-15T09:14:18.3396378Z Reformatting vllm/lora/ops/torch_ops/__init__.py
2025-04-15T09:14:18.3397106Z Reformatting tests/kernels/test_nvfp4_quant.py
2025-04-15T09:14:18.3397840Z Reformatting tests/entrypoints/openai/test_score.py
2025-04-15T09:14:18.3398859Z Reformatting vllm/distributed/device_communicators/custom_all_reduce_utils.py
2025-04-15T09:14:18.3400137Z Reformatting tests/basic_correctness/test_chunked_prefill.py
2025-04-15T09:14:18.3400995Z Reformatting vllm/v1/executor/__init__.py
2025-04-15T09:14:18.3401803Z Reformatting tests/spec_decode/e2e/test_mtp_correctness.py
2025-04-15T09:14:18.3402522Z Reformatting vllm/env_override.py
2025-04-15T09:14:18.3403016Z Reformatting tests/entrypoints/offline_mode/__init__.py
2025-04-15T09:14:18.3403395Z Reformatting vllm/scalar_type.py
2025-04-15T09:14:18.3403737Z Reformatting vllm/plugins/__init__.py
2025-04-15T09:14:18.3404099Z Reformatting vllm/v1/worker/gpu_worker.py
2025-04-15T09:14:18.3404520Z Reformatting tests/v1/tpu/worker/test_tpu_model_runner.py
2025-04-15T09:14:18.3404972Z Reformatting vllm/model_executor/layers/resampler.py
2025-04-15T09:14:18.3405640Z Reformatting benchmarks/benchmark_throughput.py
2025-04-15T09:14:18.3406032Z Reformatting tests/mq_llm_engine/test_abort.py
2025-04-15T09:14:18.3406403Z Reformatting tests/v1/sample/test_sampler.py
2025-04-15T09:14:18.3406882Z Reformatting vllm/model_executor/layers/quantization/deepspeedfp.py
2025-04-15T09:14:18.3407311Z Reformatting tests/kernels/conftest.py
2025-04-15T09:14:18.3407901Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/triton_scaled_mm.py
2025-04-15T09:14:18.3408409Z Reformatting tests/v1/test_stats.py
2025-04-15T09:14:18.3408801Z Reformatting vllm/model_executor/model_loader/utils.py
2025-04-15T09:14:18.3409204Z Reformatting vllm/model_executor/custom_op.py
2025-04-15T09:14:18.3409708Z Reformatting vllm/model_executor/models/ovis2.py
2025-04-15T09:14:18.3410347Z Reformatting cmake/hipify.py
2025-04-15T09:14:18.3410935Z Reformatting examples/online_serving/openai_chat_completion_structured_outputs_with_reasoning.py
2025-04-15T09:14:18.3411531Z Reformatting tests/tokenization/test_cached_tokenizer.py
2025-04-15T09:14:18.3411975Z Reformatting vllm/attention/backends/mla/__init__.py
2025-04-15T09:14:18.3412490Z Reformatting tests/models/decoder_only/audio_language/test_ultravox.py
2025-04-15T09:14:18.3412967Z Reformatting vllm/model_executor/models/mllama.py
2025-04-15T09:14:18.3413422Z Reformatting vllm/model_executor/layers/fused_moe/__init__.py
2025-04-15T09:14:18.3413862Z Reformatting tests/core/block/test_block_table.py
2025-04-15T09:14:18.3414291Z Reformatting vllm/engine/output_processor/interfaces.py
2025-04-15T09:14:18.3414730Z Reformatting tests/kernels/test_encoder_decoder_attn.py
2025-04-15T09:14:18.3415160Z Reformatting vllm/model_executor/models/qwen3_moe.py
2025-04-15T09:14:18.3415561Z Reformatting tests/core/block/e2e/conftest.py
2025-04-15T09:14:18.3416044Z Reformatting tests/entrypoints/llm/test_encode.py
2025-04-15T09:14:18.3416500Z Reformatting tests/v1/worker/test_gpu_model_runner.py
2025-04-15T09:14:18.3416965Z Reformatting vllm/model_executor/model_loader/tensorizer.py
2025-04-15T09:14:18.3417622Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/compressed_tensors.py
2025-04-15T09:14:18.3418309Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/__init__.py
2025-04-15T09:14:18.3418803Z Reformatting vllm/engine/multiprocessing/engine.py
2025-04-15T09:14:18.3419199Z Reformatting vllm/compilation/monitor.py
2025-04-15T09:14:18.3419576Z Reformatting vllm/model_executor/models/aria.py
2025-04-15T09:14:18.3420301Z Reformatting tests/models/embedding/vision_language/test_dse_qwen2_vl.py
2025-04-15T09:14:18.3420746Z Reformatting tests/engine/conftest.py
2025-04-15T09:14:18.3421068Z Reformatting vllm/v1/outputs.py
2025-04-15T09:14:18.3421482Z Reformatting vllm/model_executor/layers/logits_processor.py
2025-04-15T09:14:18.3421941Z Reformatting tests/compile/test_functionalization.py
2025-04-15T09:14:18.3422331Z Reformatting vllm/engine/async_timeout.py
2025-04-15T09:14:18.3422705Z Reformatting vllm/worker/multi_step_worker.py
2025-04-15T09:14:18.3423459Z Reformatting vllm/v1/spec_decode/utils.py
2025-04-15T09:14:18.3424328Z Reformatting vllm/model_executor/layers/quantization/ptpc_fp8.py
2025-04-15T09:14:18.3425127Z Reformatting vllm/model_executor/layers/sampler.py
2025-04-15T09:14:18.3425566Z Reformatting tests/entrypoints/openai/test_sleep.py
2025-04-15T09:14:18.3425977Z Reformatting vllm/model_executor/models/aimv2.py
2025-04-15T09:14:18.3426359Z Reformatting vllm/v1/sample/tpu/metadata.py
2025-04-15T09:14:18.3426737Z Reformatting vllm/compilation/pass_manager.py
2025-04-15T09:14:18.3427135Z Reformatting tests/detokenizer/test_stop_reason.py
2025-04-15T09:14:18.3427539Z Reformatting tests/entrypoints/openai/test_basic.py
2025-04-15T09:14:18.3427899Z Reformatting vllm/config.py
2025-04-15T09:14:18.3428344Z Reformatting vllm/model_executor/guided_decoding/guidance_decoding.py
2025-04-15T09:14:18.3428817Z Reformatting csrc/quantization/machete/generate.py
2025-04-15T09:14:18.3429649Z Reformatting vllm/model_executor/layers/quantization/kernels/scaled_mm/aiter.py
2025-04-15T09:14:18.3430516Z Reformatting tests/mq_llm_engine/conftest.py
2025-04-15T09:14:18.3430902Z Reformatting vllm/core/block/naive_block.py
2025-04-15T09:14:18.3431257Z Reformatting tests/models/test_vision.py
2025-04-15T09:14:18.3431594Z Reformatting vllm/inputs/parse.py
2025-04-15T09:14:18.3431962Z Reformatting tests/basic_correctness/__init__.py
2025-04-15T09:14:18.3432476Z Reformatting tests/entrypoints/openai/test_transcription_validation.py
2025-04-15T09:14:18.3432939Z Reformatting vllm/core/block/block_table.py
2025-04-15T09:14:18.3433436Z Reformatting examples/online_serving/gradio_openai_chatbot_webserver.py
2025-04-15T09:14:18.3433884Z Reformatting tests/compile/test_fusion.py
2025-04-15T09:14:18.3434420Z Reformatting tests/v1/structured_output/__init__.py
2025-04-15T09:14:18.3434920Z Reformatting vllm/model_executor/layers/quantization/quark/utils.py
2025-04-15T09:14:18.3435363Z Reformatting tests/test_logits_processor.py
2025-04-15T09:14:18.3435710Z Reformatting vllm/logits_process.py
2025-04-15T09:14:18.3436069Z Reformatting tests/kernels/test_int8_kernel.py
2025-04-15T09:14:18.3436490Z Reformatting vllm/model_executor/models/deepseek_vl2.py
2025-04-15T09:14:18.3436886Z Reformatting .buildkite/check-wheel-size.py
2025-04-15T09:14:18.3437231Z Reformatting vllm/entrypoints/launcher.py
2025-04-15T09:14:18.3437610Z Reformatting tests/mistral_tool_use/conftest.py
2025-04-15T09:14:18.3437967Z Reformatting tests/lora/test_qwen2vl.py
2025-04-15T09:14:18.3438329Z Reformatting tests/v1/engine/test_async_llm.py
2025-04-15T09:14:18.3438766Z Reformatting vllm/model_executor/models/llava_next_video.py
2025-04-15T09:14:18.3439276Z Reformatting examples/online_serving/openai_completion_client.py
2025-04-15T09:14:18.3439879Z Reformatting tests/spec_decode/test_scorer.py
2025-04-15T09:14:18.3440338Z Reformatting vllm/core/block/cpu_gpu_block_allocator.py
2025-04-15T09:14:18.3440728Z Reformatting vllm/core/block/__init__.py
2025-04-15T09:14:18.3441122Z Reformatting vllm/model_executor/layers/__init__.py
2025-04-15T09:14:18.3441483Z Reformatting vllm/lora/peft_helper.py
2025-04-15T09:14:18.3441832Z Reformatting tests/lora/test_chatglm3_tp.py
2025-04-15T09:14:18.3442190Z Reformatting vllm/prompt_adapter/models.py
2025-04-15T09:14:18.3442531Z Reformatting vllm/compilation/wrapper.py
2025-04-15T09:14:18.3442968Z Reformatting benchmarks/cutlass_benchmarks/w8a8_benchmarks.py
2025-04-15T09:14:18.3443450Z Reformatting tests/entrypoints/llm/test_lazy_outlines.py
2025-04-15T09:14:18.3444027Z Reformatting examples/online_serving/openai_chat_completion_structured_outputs.py
2025-04-15T09:14:18.3444535Z Reformatting vllm/entrypoints/openai/cli_args.py
2025-04-15T09:14:18.3444927Z Reformatting tests/kernels/test_allspark_gemm.py
2025-04-15T09:14:18.3445344Z Reformatting tests/entrypoints/openai/test_models.py
2025-04-15T09:14:18.3445800Z Reformatting tests/models/decoder_only/language/test_aqlm.py
2025-04-15T09:14:18.3446218Z Reformatting vllm/worker/model_runner_base.py
2025-04-15T09:14:18.3446621Z Reformatting vllm/compilation/multi_output_match.py
2025-04-15T09:14:18.3447032Z Reformatting vllm/model_executor/models/ultravox.py
2025-04-15T09:14:18.3447425Z Reformatting tests/quantization/test_ptpc_fp8.py
2025-04-15T09:14:18.3447860Z Reformatting vllm/model_executor/layers/fused_moe/utils.py
2025-04-15T09:14:18.3448301Z Reformatting tests/worker/conftest.py
2025-04-15T09:14:18.3448786Z Reformatting tests/quantization/test_register_quantization_config.py
2025-04-15T09:14:18.3449305Z Reformatting vllm/model_executor/layers/quantization/fp8.py
2025-04-15T09:14:18.3449986Z Reformatting vllm/model_executor/guided_decoding/utils.py
2025-04-15T09:14:18.3450477Z Reformatting vllm/model_executor/layers/mamba/ops/ssd_bmm.py
2025-04-15T09:14:18.3451065Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/model_utils.py
2025-04-15T09:14:18.3451576Z Reformatting vllm/model_executor/models/whisper.py
2025-04-15T09:14:18.3452027Z Reformatting tests/neuron/1_core/test_rotary_embedding.py
2025-04-15T09:14:18.3452620Z Reformatting benchmarks/kernels/graph_machete_bench.py
2025-04-15T09:14:18.3453094Z Reformatting vllm/model_executor/layers/rotary_embedding.py
2025-04-15T09:14:18.3453715Z Reformatting vllm/model_executor/layers/quantization/kernels/mixed_precision/exllama.py
2025-04-15T09:14:18.3454259Z Reformatting tests/v1/entrypoints/conftest.py
2025-04-15T09:14:18.3454661Z Reformatting vllm/entrypoints/cli/benchmark/base.py
2025-04-15T09:14:18.3455160Z Reformatting vllm/model_executor/layers/quantization/awq_marlin.py
2025-04-15T09:14:18.3455697Z Reformatting vllm/attention/ops/chunked_prefill_paged_decode.py
2025-04-15T09:14:18.3456302Z Reformatting tests/entrypoints/openai/tool_parsers/test_pythonic_tool_parser.py
2025-04-15T09:14:18.3456963Z Reformatting tests/models/embedding/language/__init__.py
2025-04-15T09:14:18.3457362Z Reformatting vllm/spec_decode/__init__.py
2025-04-15T09:14:18.3457849Z Reformatting vllm/model_executor/layers/quantization/gptq_marlin_24.py
2025-04-15T09:14:18.3458321Z Reformatting vllm/model_executor/models/jamba.py
2025-04-15T09:14:18.3458688Z Reformatting tests/lora/test_llama_tp.py
2025-04-15T09:14:18.3459038Z Reformatting vllm/v1/kv_cache_interface.py
2025-04-15T09:14:18.3459484Z Reformatting tests/engine/test_multi_step_output_processor.py
2025-04-15T09:14:18.3460222Z Reformatting vllm/distributed/device_communicators/shm_broadcast.py
2025-04-15T09:14:18.3460765Z Reformatting vllm/model_executor/model_loader/weight_utils.py
2025-04-15T09:14:18.3461367Z Reformatting vllm/model_executor/layers/quantization/utils/marlin_utils_test_24.py
2025-04-15T09:14:18.3461877Z Reformatting vllm/model_executor/models/blip.py
2025-04-15T09:14:18.3462239Z Reformatting vllm/v1/core/sched/output.py
2025-04-15T09:14:18.3462619Z Reformatting vllm/model_executor/models/orion.py
2025-04-15T09:14:18.3463006Z Reformatting tests/lora/test_tokenizer_group.py
2025-04-15T09:14:18.3463546Z Reformatting vllm/model_executor/layers/quantization/quark/schemes/quark_scheme.py
2025-04-15T09:14:18.3464366Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_w8a8_fp8.py
2025-04-15T09:14:18.3465047Z Reformatting tests/mistral_tool_use/test_mistral_tool_calls.py
2025-04-15T09:14:18.3465663Z Reformatting examples/online_serving/openai_chat_embedding_client_for_multimodal.py
2025-04-15T09:14:18.3466290Z Reformatting vllm/distributed/device_communicators/custom_all_reduce.py
2025-04-15T09:14:18.3466778Z Reformatting tests/quantization/test_cpu_offload.py
2025-04-15T09:14:18.3467219Z Reformatting vllm/model_executor/models/transformers.py
2025-04-15T09:14:18.3467722Z Reformatting vllm/model_executor/layers/quantization/quark/quark.py
2025-04-15T09:14:18.3468176Z Reformatting tests/samplers/test_beam_search.py
2025-04-15T09:14:18.3468631Z Reformatting tests/distributed/test_multi_node_assignment.py
2025-04-15T09:14:18.3469072Z Reformatting vllm/model_executor/models/phi4mm.py
2025-04-15T09:14:18.3469473Z Reformatting tests/entrypoints/openai/test_chat.py
2025-04-15T09:14:18.3470099Z Reformatting tests/lora/test_punica_ops.py
2025-04-15T09:14:18.3470560Z Reformatting vllm/distributed/kv_transfer/kv_pipe/__init__.py
2025-04-15T09:14:18.3470997Z Reformatting vllm/model_executor/models/llava.py
2025-04-15T09:14:18.3471438Z Reformatting vllm/model_executor/models/module_mapping.py
2025-04-15T09:14:18.3471831Z Reformatting tests/v1/e2e/__init__.py
2025-04-15T09:14:18.3472263Z Reformatting tests/detokenizer/test_disable_detokenization.py
2025-04-15T09:14:18.3472726Z Reformatting examples/offline_inference/basic/basic.py
2025-04-15T09:14:18.3473189Z Reformatting vllm/entrypoints/openai/serving_completion.py
2025-04-15T09:14:18.3473583Z Reformatting vllm/core/block/utils.py
2025-04-15T09:14:18.3473907Z Reformatting vllm/core/scheduler.py
2025-04-15T09:14:18.3474379Z Reformatting tests/models/decoder_only/language/test_gptq_marlin_24.py
2025-04-15T09:14:18.3474874Z Reformatting vllm/model_executor/models/starcoder2.py
2025-04-15T09:14:18.3475418Z Reformatting tests/benchmarks/__init__.py
2025-04-15T09:14:18.3475757Z Reformatting tests/tool_use/conftest.py
2025-04-15T09:14:18.3476171Z Reformatting vllm/model_executor/layers/fused_moe/layer.py
2025-04-15T09:14:18.3476593Z Reformatting vllm/distributed/parallel_state.py
2025-04-15T09:14:18.3477057Z Reformatting tests/distributed/test_torchrun_example.py
2025-04-15T09:14:18.3477459Z Reformatting tests/tokenization/__init__.py
2025-04-15T09:14:18.3477863Z Reformatting benchmarks/kernels/benchmark_layernorm.py
2025-04-15T09:14:18.3478348Z Reformatting vllm/model_executor/layers/quantization/torchao.py
2025-04-15T09:14:18.3478795Z Reformatting tests/tpu/test_custom_dispatcher.py
2025-04-15T09:14:18.3479218Z Reformatting vllm/transformers_utils/configs/kimi_vl.py
2025-04-15T09:14:18.3479687Z Reformatting vllm/outputs.py
2025-04-15T09:14:18.3480289Z Reformatting vllm/entrypoints/openai/run_batch.py
2025-04-15T09:14:18.3480707Z Reformatting tests/kernels/test_rotary_embedding.py
2025-04-15T09:14:18.3481113Z Reformatting vllm/transformers_utils/processor.py
2025-04-15T09:14:18.3481512Z Reformatting vllm/v1/structured_output/utils.py
2025-04-15T09:14:18.3481926Z Reformatting vllm/engine/multiprocessing/__init__.py
2025-04-15T09:14:18.3482339Z Reformatting tests/kernels/test_triton_scaled_mm.py
2025-04-15T09:14:18.3482696Z Reformatting vllm/assets/image.py
2025-04-15T09:14:18.3483113Z Reformatting vllm/model_executor/layers/mamba/mamba_mixer2.py
2025-04-15T09:14:18.3483565Z Reformatting vllm/entrypoints/openai/serving_chat.py
2025-04-15T09:14:18.3483963Z Reformatting vllm/model_executor/models/eagle.py
2025-04-15T09:14:18.3484351Z Reformatting vllm/lora/ops/torch_ops/lora_ops.py
2025-04-15T09:14:18.3484726Z Reformatting vllm/v1/core/sched/scheduler.py
2025-04-15T09:14:18.3485120Z Reformatting vllm/model_executor/models/adapters.py
2025-04-15T09:14:18.3485480Z Reformatting tests/v1/engine/utils.py
2025-04-15T09:14:18.3485814Z Reformatting vllm/lora/worker_manager.py
2025-04-15T09:14:18.3486146Z Reformatting vllm/v1/metrics/stats.py
2025-04-15T09:14:18.3486530Z Reformatting vllm/v1/attention/backends/mla/common.py
2025-04-15T09:14:18.3486924Z Reformatting tests/kv_transfer/test_module.py
2025-04-15T09:14:18.3487313Z Reformatting vllm/attention/backends/ipex_attn.py
2025-04-15T09:14:18.3487834Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/builders.py
2025-04-15T09:14:18.3488292Z Reformatting vllm/multimodal/__init__.py
2025-04-15T09:14:18.3488714Z Reformatting vllm/v1/structured_output/backend_xgrammar.py
2025-04-15T09:14:18.3489098Z Reformatting tests/engine/__init__.py
2025-04-15T09:14:18.3489483Z Reformatting vllm/model_executor/models/nemotron_nas.py
2025-04-15T09:14:18.3490249Z Reformatting vllm/entrypoints/openai/tool_parsers/phi4mini_tool_parser.py
2025-04-15T09:14:18.3490804Z Reformatting benchmarks/cutlass_benchmarks/weight_shapes.py
2025-04-15T09:14:18.3491222Z Reformatting tests/core/block/test_common.py
2025-04-15T09:14:18.3491583Z Reformatting tests/worker/test_profile.py
2025-04-15T09:14:18.3491929Z Reformatting vllm/v1/sample/sampler.py
2025-04-15T09:14:18.3492315Z Reformatting vllm/lora/ops/triton_ops/lora_expand.py
2025-04-15T09:14:18.3492754Z Reformatting tests/basic_correctness/test_cpu_offload.py
2025-04-15T09:14:18.3493219Z Reformatting vllm/transformers_utils/configs/skyworkr1v.py
2025-04-15T09:14:18.3493671Z Reformatting vllm/entrypoints/cli/benchmark/latency.py
2025-04-15T09:14:18.3494063Z Reformatting vllm/logging_utils/formatter.py
2025-04-15T09:14:18.3494511Z Reformatting vllm/model_executor/layers/quantization/marlin.py
2025-04-15T09:14:18.3494998Z Reformatting tests/entrypoints/llm/test_collective_rpc.py
2025-04-15T09:14:18.3495374Z Reformatting vllm/assets/audio.py
2025-04-15T09:14:18.3495743Z Reformatting vllm/lora/ops/triton_ops/lora_shrink.py
2025-04-15T09:14:18.3496148Z Reformatting tests/quantization/test_torchao.py
2025-04-15T09:14:18.3496589Z Reformatting tests/entrypoints/llm/test_gpu_utilization.py
2025-04-15T09:14:18.3496990Z Reformatting vllm/attention/ops/flashmla.py
2025-04-15T09:14:18.3497532Z Reformatting tests/compile/piecewise/test_simple.py
2025-04-15T09:14:18.3497920Z Reformatting vllm/v1/engine/mm_input_cache.py
2025-04-15T09:14:18.3498412Z Reformatting vllm/distributed/device_communicators/tpu_communicator.py
2025-04-15T09:14:18.3498881Z Reformatting tests/neuron/1_core/test_cache.py
2025-04-15T09:14:18.3499236Z Reformatting vllm/multimodal/parse.py
2025-04-15T09:14:18.3499648Z Reformatting tests/entrypoints/llm/test_guided_generate.py
2025-04-15T09:14:18.3500173Z Reformatting tests/distributed/test_utils.py
2025-04-15T09:14:18.3500510Z Reformatting tests/core/conftest.py
2025-04-15T09:14:18.3500833Z Reformatting tests/lora/test_worker.py
2025-04-15T09:14:18.3501196Z Reformatting vllm/v1/attention/backends/pallas.py
2025-04-15T09:14:18.3501817Z Reformatting vllm/distributed/device_communicators/hpu_communicator.py
2025-04-15T09:14:18.3502366Z Reformatting tests/models/multimodal/processing/test_smolvlm.py
2025-04-15T09:14:18.3502817Z Reformatting vllm/model_executor/models/gemma2.py
2025-04-15T09:14:18.3503236Z Reformatting vllm/model_executor/layers/activation.py
2025-04-15T09:14:18.3503713Z Reformatting vllm/distributed/kv_transfer/kv_transfer_agent.py
2025-04-15T09:14:18.3504233Z Reformatting vllm/model_executor/layers/mamba/ops/ssd_combined.py
2025-04-15T09:14:18.3504687Z Reformatting tests/neuron/1_core/test_layernorm.py
2025-04-15T09:14:18.3505060Z Reformatting vllm/executor/ray_utils.py
2025-04-15T09:14:18.3505409Z Reformatting vllm/spec_decode/mqa_scorer.py
2025-04-15T09:14:18.3505831Z Reformatting vllm/compilation/torch25_custom_graph_pass.py
2025-04-15T09:14:18.3506211Z Reformatting tests/lora/test_utils.py
2025-04-15T09:14:18.3506590Z Reformatting vllm/compilation/vllm_inductor_pass.py
2025-04-15T09:14:18.3507006Z Reformatting tests/spec_decode/test_ngram_worker.py
2025-04-15T09:14:18.3507439Z Reformatting vllm/lora/punica_wrapper/punica_selector.py
2025-04-15T09:14:18.3507890Z Reformatting tests/tensorizer_loader/test_tensorizer.py
2025-04-15T09:14:18.3508371Z Reformatting vllm/distributed/kv_transfer/kv_connector/base.py
2025-04-15T09:14:18.3508832Z Reformatting vllm/executor/mp_distributed_executor.py
2025-04-15T09:14:18.3509264Z Reformatting vllm/entrypoints/openai/serving_models.py
2025-04-15T09:14:18.3509677Z Reformatting examples/offline_inference/eagle.py
2025-04-15T09:14:18.3510280Z Reformatting vllm/v1/sample/ops/__init__.py
2025-04-15T09:14:18.3510785Z Reformatting tests/entrypoints/openai/test_chat_logit_bias_validation.py
2025-04-15T09:14:18.3511287Z Reformatting vllm/model_executor/models/intern_vit.py
2025-04-15T09:14:18.3511673Z Reformatting tests/distributed/__init__.py
2025-04-15T09:14:18.3512094Z Reformatting vllm/entrypoints/openai/logits_processors.py
2025-04-15T09:14:18.3512658Z Reformatting vllm/model_executor/guided_decoding/outlines_logits_processors.py
2025-04-15T09:14:18.3513123Z Reformatting vllm/entrypoints/utils.py
2025-04-15T09:14:18.3513527Z Reformatting examples/online_serving/gradio_webserver.py
2025-04-15T09:14:18.3513939Z Reformatting tests/kernels/test_marlin_gemm.py
2025-04-15T09:14:18.3514334Z Reformatting vllm/v1/attention/backends/__init__.py
2025-04-15T09:14:18.3514791Z Reformatting tests/entrypoints/openai/test_serving_models.py
2025-04-15T09:14:18.3515257Z Reformatting vllm/transformers_utils/configs/cohere2.py
2025-04-15T09:14:18.3515634Z Reformatting vllm/platforms/__init__.py
2025-04-15T09:14:18.3515967Z Reformatting vllm/usage/usage_lib.py
2025-04-15T09:14:18.3516309Z Reformatting tests/lora/test_minicpmv_tp.py
2025-04-15T09:14:18.3516637Z Reformatting tests/lora/conftest.py
2025-04-15T09:14:18.3517081Z Reformatting tests/models/multimodal/processing/test_internvl.py
2025-04-15T09:14:18.3517725Z Reformatting vllm/model_executor/layers/quantization/kernels/mixed_precision/allspark.py
2025-04-15T09:14:18.3518255Z Reformatting tests/worker/test_model_runner.py
2025-04-15T09:14:18.3518604Z Reformatting tests/v1/sample/__init__.py
2025-04-15T09:14:18.3519291Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_w8a8_int8.py
2025-04-15T09:14:18.3520711Z Reformatting tests/kernels/utils_block.py
2025-04-15T09:14:18.3521349Z Reformatting vllm/model_executor/models/qwen_vl.py
2025-04-15T09:14:18.3522031Z Reformatting vllm/worker/multi_step_hpu_worker.py
2025-04-15T09:14:18.3522733Z Reformatting vllm/model_executor/models/phi3_small.py
2025-04-15T09:14:18.3523202Z Reformatting vllm/v1/attention/backends/mla/flashmla.py
2025-04-15T09:14:18.3523708Z Reformatting vllm/model_executor/layers/quantization/gptq_marlin.py
2025-04-15T09:14:18.3524225Z Reformatting examples/online_serving/jinaai_rerank_client.py
2025-04-15T09:14:18.3524669Z Reformatting vllm/worker/pooling_model_runner.py
2025-04-15T09:14:18.3525041Z Reformatting vllm/triton_utils/__init__.py
2025-04-15T09:14:18.3526021Z Reformatting vllm/transformers_utils/processors/deepseek_vl2.py
2025-04-15T09:14:18.3526607Z Reformatting vllm/model_executor/layers/fused_moe/moe_align_block_size.py
2025-04-15T09:14:18.3527201Z Reformatting vllm/model_executor/layers/quantization/quark/quark_moe.py
2025-04-15T09:14:18.3527759Z Reformatting tests/reasoning/test_deepseekr1_reasoning_parser.py
2025-04-15T09:14:18.3528238Z Reformatting tests/v1/structured_output/test_utils.py
2025-04-15T09:14:18.3528642Z Reformatting tests/kernels/test_awq_triton.py
2025-04-15T09:14:18.3529049Z Reformatting tests/neuron/1_core/test_block_table.py
2025-04-15T09:14:18.3529462Z Reformatting vllm/spec_decode/draft_model_runner.py
2025-04-15T09:14:18.3529951Z Reformatting tests/test_sequence.py
2025-04-15T09:14:18.3530303Z Reformatting vllm/worker/neuron_worker.py
2025-04-15T09:14:18.3530720Z Reformatting vllm/transformers_utils/configs/medusa.py
2025-04-15T09:14:18.3531161Z Reformatting vllm/benchmarks/endpoint_request_func.py
2025-04-15T09:14:18.3531675Z Reformatting vllm/model_executor/layers/vocab_parallel_embedding.py
2025-04-15T09:14:18.3532144Z Reformatting vllm/attention/backends/flash_attn.py
2025-04-15T09:14:18.3532580Z Reformatting tests/entrypoints/openai/test_run_batch.py
2025-04-15T09:14:18.3532946Z Reformatting tests/conftest.py
2025-04-15T09:14:18.3533289Z Reformatting tests/v1/e2e/test_spec_decode.py
2025-04-15T09:14:18.3533656Z Reformatting tests/kernels/test_layernorm.py
2025-04-15T09:14:18.3534002Z Reformatting vllm/inputs/registry.py
2025-04-15T09:14:18.3534434Z Reformatting tests/entrypoints/openai/test_chunked_prompt.py
2025-04-15T09:14:18.3534826Z Reformatting vllm/v1/stats/__init__.py
2025-04-15T09:14:18.3535287Z Reformatting tests/models/decoder_only/vision_language/__init__.py
2025-04-15T09:14:18.3535841Z Reformatting vllm/model_executor/layers/fused_moe/fused_marlin_moe.py
2025-04-15T09:14:18.3536356Z Reformatting vllm/model_executor/models/granitemoeshared.py
2025-04-15T09:14:18.3536778Z Reformatting tests/plugins_tests/conftest.py
2025-04-15T09:14:18.3537319Z Reformatting examples/online_serving/openai_chat_completion_with_reasoning.py
2025-04-15T09:14:18.3537845Z Reformatting vllm/attention/backends/rocm_flash_attn.py
2025-04-15T09:14:18.3538262Z Reformatting vllm/model_executor/models/nvlm_d.py
2025-04-15T09:14:18.3538656Z Reformatting vllm/v1/engine/output_processor.py
2025-04-15T09:14:18.3538995Z Reformatting vllm/jsontree.py
2025-04-15T09:14:18.3539292Z Reformatting vllm/connections.py
2025-04-15T09:14:18.3539881Z Reformatting examples/offline_inference/lora_with_quantization_inference.py
2025-04-15T09:14:18.3540339Z Reformatting vllm/engine/llm_engine.py
2025-04-15T09:14:18.3540697Z Reformatting tests/kv_transfer/test_disagg.py
2025-04-15T09:14:18.3541122Z Reformatting vllm/v1/attention/backends/mla/triton_mla.py
2025-04-15T09:14:18.3541542Z Reformatting tests/lora/test_lora_functions.py
2025-04-15T09:14:18.3541951Z Reformatting vllm/lora/ops/triton_ops/kernel_utils.py
2025-04-15T09:14:18.3542342Z Reformatting vllm/triton_utils/importing.py
2025-04-15T09:14:18.3542730Z Reformatting vllm/model_executor/models/vision.py
2025-04-15T09:14:18.3543087Z Reformatting vllm/multimodal/audio.py
2025-04-15T09:14:18.3543452Z Reformatting vllm/model_executor/models/olmo2.py
2025-04-15T09:14:18.3543944Z Reformatting tests/engine/test_arg_utils.py
2025-04-15T09:14:18.3544424Z Reformatting tests/entrypoints/openai/test_chat_with_tool_reasoning.py
2025-04-15T09:14:18.3544859Z Reformatting vllm/platforms/xpu.py
2025-04-15T09:14:18.3545194Z Reformatting vllm/prompt_adapter/request.py
2025-04-15T09:14:18.3545630Z Reformatting tests/core/block/test_cpu_gpu_block_allocator.py
2025-04-15T09:14:18.3546058Z Reformatting tests/test_cache_block_hashing.py
2025-04-15T09:14:18.3546469Z Reformatting vllm/transformers_utils/tokenizer_base.py
2025-04-15T09:14:18.3546973Z Reformatting tests/models/decoder_only/vision_language/test_phi4mm.py
2025-04-15T09:14:18.3547589Z Reformatting .buildkite/nightly-benchmarks/scripts/summary-nightly-results.py
2025-04-15T09:14:18.3548359Z Reformatting tests/prefix_caching/test_disable_sliding_window.py
2025-04-15T09:14:18.3548773Z Reformatting tests/kernels/test_utils.py
2025-04-15T09:14:18.3549123Z Reformatting tests/models/test_registry.py
2025-04-15T09:14:18.3549497Z Reformatting tests/entrypoints/llm/__init__.py
2025-04-15T09:14:18.3550198Z Reformatting vllm/model_executor/layers/quantization/hqq_marlin.py
2025-04-15T09:14:18.3550751Z Reformatting vllm/model_executor/layers/quantization/experts_int8.py
2025-04-15T09:14:18.3551271Z Reformatting benchmarks/kernels/benchmark_paged_attention.py
2025-04-15T09:14:18.3551672Z Reformatting vllm/assets/__init__.py
2025-04-15T09:14:18.3552044Z Reformatting tests/detokenizer/test_stop_strings.py
2025-04-15T09:14:18.3552454Z Reformatting vllm/model_executor/models/llama4.py
2025-04-15T09:14:18.3552930Z Reformatting tests/entrypoints/openai/correctness/__init__.py
2025-04-15T09:14:18.3553394Z Reformatting benchmarks/kernels/benchmark_marlin.py
2025-04-15T09:14:18.3553734Z Reformatting vllm/envs.py
2025-04-15T09:14:18.3554064Z Reformatting vllm/spec_decode/ngram_worker.py
2025-04-15T09:14:18.3554428Z Reformatting vllm/entrypoints/chat_utils.py
2025-04-15T09:14:18.3554775Z Reformatting vllm/platforms/interface.py
2025-04-15T09:14:18.3555143Z Reformatting tests/models/embedding/utils.py
2025-04-15T09:14:18.3555494Z Reformatting vllm/compilation/counter.py
2025-04-15T09:14:18.3556009Z Reformatting vllm/model_executor/layers/quantization/kernels/scaled_mm/xla.py
2025-04-15T09:14:18.3556497Z Reformatting tests/kernels/allclose_default.py
2025-04-15T09:14:18.3556916Z Reformatting vllm/spec_decode/mlp_speculator_worker.py
2025-04-15T09:14:18.3557342Z Reformatting vllm/model_executor/layers/pooler.py
2025-04-15T09:14:18.3557717Z Reformatting tests/test_sampling_params.py
2025-04-15T09:14:18.3558246Z Reformatting tests/plugins/vllm_add_dummy_model/vllm_add_dummy_model/my_llava.py
2025-04-15T09:14:18.3558724Z Reformatting tests/multimodal/test_utils.py
2025-04-15T09:14:18.3559112Z Reformatting vllm/v1/worker/tpu_model_runner.py
2025-04-15T09:14:18.3559509Z Reformatting benchmarks/benchmark_prefix_caching.py
2025-04-15T09:14:18.3559990Z Reformatting tests/kernels/test_ggml.py
2025-04-15T09:14:18.3560433Z Reformatting examples/offline_inference/encoder_decoder.py
2025-04-15T09:14:18.3560831Z Reformatting vllm/worker/hpu_worker.py
2025-04-15T09:14:18.3561210Z Reformatting examples/online_serving/api_client.py
2025-04-15T09:14:18.3561709Z Reformatting tests/core/block/e2e/test_correctness_sliding_window.py
2025-04-15T09:14:18.3562141Z Reformatting vllm/attention/__init__.py
2025-04-15T09:14:18.3562514Z Reformatting tests/models/decoder_only/__init__.py
2025-04-15T09:14:18.3563004Z Reformatting benchmarks/benchmark_long_document_qa_throughput.py
2025-04-15T09:14:18.3563699Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/compressed_tensors_moe.py
2025-04-15T09:14:18.3564306Z Reformatting vllm/attention/ops/triton_flash_attention.py
2025-04-15T09:14:18.3564770Z Reformatting examples/offline_inference/basic/generate.py
2025-04-15T09:14:18.3565194Z Reformatting tests/v1/entrypoints/llm/__init__.py
2025-04-15T09:14:18.3565571Z Reformatting vllm/model_executor/utils.py
2025-04-15T09:14:18.3565904Z Reformatting vllm/platforms/cpu.py
2025-04-15T09:14:18.3566542Z Reformatting tests/plugins/vllm_add_dummy_model/vllm_add_dummy_model/my_opt.py
2025-04-15T09:14:18.3567027Z Reformatting docs/source/generate_examples.py
2025-04-15T09:14:18.3567372Z Reformatting vllm/reasoning/__init__.py
2025-04-15T09:14:18.3567690Z Reformatting find_cuda_init.py
2025-04-15T09:14:18.3568022Z Reformatting tests/kernels/test_machete_mm.py
2025-04-15T09:14:18.3568436Z Reformatting vllm/attention/backends/blocksparse_attn.py
2025-04-15T09:14:18.3568861Z Reformatting vllm/model_executor/models/chatglm.py
2025-04-15T09:14:18.3569217Z Reformatting vllm/multimodal/base.py
2025-04-15T09:14:18.3569615Z Reformatting tests/entrypoints/openai/test_root_path.py
2025-04-15T09:14:18.3570225Z Reformatting tests/kernels/__init__.py
2025-04-15T09:14:18.3570670Z Reformatting vllm/model_executor/layers/fused_moe/fused_moe.py
2025-04-15T09:14:18.3571077Z Reformatting vllm/entrypoints/logger.py
2025-04-15T09:14:18.3571445Z Reformatting vllm/model_executor/models/falcon.py
2025-04-15T09:14:18.3571766Z Reformatting setup.py
2025-04-15T09:14:18.3572068Z Reformatting tests/v1/test_serial_utils.py
2025-04-15T09:14:18.3572453Z Reformatting vllm/transformers_utils/tokenizer.py
2025-04-15T09:14:18.3572844Z Reformatting tests/entrypoints/openai/__init__.py
2025-04-15T09:14:18.3573320Z Reformatting tests/models/multimodal/processing/test_qwen2_vl.py
2025-04-15T09:14:18.3573757Z Reformatting vllm/vllm_flash_attn/fa_utils.py
2025-04-15T09:14:18.3574137Z Reformatting tests/model_executor/weight_utils.py
2025-04-15T09:14:18.3574488Z Reformatting vllm/platforms/tpu.py
2025-04-15T09:14:18.3574805Z Reformatting tests/kernels/utils.py
2025-04-15T09:14:18.3575191Z Reformatting tests/v1/engine/test_output_processor.py
2025-04-15T09:14:18.3575573Z Reformatting tests/samplers/test_ranks.py
2025-04-15T09:14:18.3575929Z Reformatting vllm/v1/sample/tpu/__init__.py
2025-04-15T09:14:18.3576314Z Reformatting tests/models/test_initialization.py
2025-04-15T09:14:18.3576817Z Reformatting vllm/model_executor/layers/fused_moe/moe_torch_iterative.py
2025-04-15T09:14:18.3577367Z Reformatting vllm/distributed/device_communicators/__init__.py
2025-04-15T09:14:18.3577765Z Reformatting vllm/engine/metrics.py
2025-04-15T09:14:18.3578226Z Reformatting tests/models/decoder_only/vision_language/test_pixtral.py
2025-04-15T09:14:18.3578692Z Reformatting vllm/attention/ops/prefix_prefill.py
2025-04-15T09:14:18.3579252Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/__init__.py
2025-04-15T09:14:18.3580187Z Reformatting tests/plugins/vllm_add_dummy_platform/vllm_add_dummy_platform/dummy_platform.py
2025-04-15T09:14:18.3580725Z Reformatting vllm/worker/cpu_model_runner.py
2025-04-15T09:14:18.3581110Z Reformatting vllm/worker/enc_dec_model_runner.py
2025-04-15T09:14:18.3581622Z Reformatting vllm/model_executor/layers/quantization/utils/quant_utils.py
2025-04-15T09:14:18.3582166Z Reformatting vllm/model_executor/layers/mamba/mamba2_metadata.py
2025-04-15T09:14:18.3582626Z Reformatting tests/entrypoints/openai/test_pooling.py
2025-04-15T09:14:18.3583006Z Reformatting vllm/v1/sample/metadata.py
2025-04-15T09:14:18.3583397Z Reformatting vllm/model_executor/sampling_metadata.py
2025-04-15T09:14:18.3583802Z Reformatting vllm/model_executor/models/siglip.py
2025-04-15T09:14:18.3584192Z Reformatting vllm/model_executor/models/qwen3.py
2025-04-15T09:14:18.3584557Z Reformatting tests/detokenizer/conftest.py
2025-04-15T09:14:18.3584891Z Reformatting tests/v1/test_oracle.py
2025-04-15T09:14:18.3585346Z Reformatting examples/online_serving/openai_transcription_client.py
2025-04-15T09:14:18.3585797Z Reformatting vllm/transformers_utils/utils.py
2025-04-15T09:14:18.3586212Z Reformatting vllm/model_executor/models/deepseek_v2.py
2025-04-15T09:14:18.3586702Z Reformatting benchmarks/fused_kernels/layernorm_rms_benchmarks.py
2025-04-15T09:14:18.3587202Z Reformatting vllm/model_executor/models/fairseq2_llama.py
2025-04-15T09:14:18.3587649Z Reformatting vllm/v1/worker/lora_model_runner_mixin.py
2025-04-15T09:14:18.3588207Z Reformatting tests/tool_use/test_chat_completions.py
2025-04-15T09:14:18.3588701Z Reformatting tests/entrypoints/openai/test_embedding_dimensions.py
2025-04-15T09:14:18.3589248Z Reformatting examples/offline_inference/profiling_tpu/profiling.py
2025-04-15T09:14:18.3589679Z Reformatting tests/core/test_scheduler.py
2025-04-15T09:14:18.3590139Z Reformatting tests/kernels/test_mha_attn.py
2025-04-15T09:14:18.3590678Z Reformatting vllm/entrypoints/openai/tool_parsers/granite_20b_fc_tool_parser.py
2025-04-15T09:14:18.3591163Z Reformatting tests/entrypoints/conftest.py
2025-04-15T09:14:18.3591594Z Reformatting benchmarks/kernels/benchmark_w8a8_block_fp8.py
2025-04-15T09:14:18.3592131Z Reformatting examples/offline_inference/chat_with_tools.py
2025-04-15T09:14:18.3592703Z Reformatting tests/v1/core/test_specialized_manager.py
2025-04-15T09:14:18.3593123Z Reformatting tests/lora/test_transfomers_model.py
2025-04-15T09:14:18.3593496Z Reformatting vllm/v1/core/sched/interface.py
2025-04-15T09:14:18.3593920Z Reformatting tests/prefix_caching/test_prefix_caching.py
2025-04-15T09:14:18.3594346Z Reformatting vllm/transformers_utils/configs/mpt.py
2025-04-15T09:14:18.3594714Z Reformatting vllm/v1/core/block_pool.py
2025-04-15T09:14:18.3595102Z Reformatting vllm/model_executor/models/qwen2_moe.py
2025-04-15T09:14:18.3595506Z Reformatting vllm/v1/core/specialized_manager.py
2025-04-15T09:14:18.3595849Z Reformatting vllm/lora/utils.py
2025-04-15T09:14:18.3596250Z Reformatting examples/offline_inference/torchrun_example.py
2025-04-15T09:14:18.3596765Z Reformatting tests/worker/test_encoder_decoder_model_runner.py
2025-04-15T09:14:18.3597525Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_w8a16_fp8.py
2025-04-15T09:14:18.3598120Z Reformatting vllm/v1/worker/tpu_worker.py
2025-04-15T09:14:18.3598612Z Reformatting vllm/model_executor/layers/quantization/utils/marlin_utils.py
2025-04-15T09:14:18.3599071Z Reformatting tests/spec_decode/utils.py
2025-04-15T09:14:18.3599454Z Reformatting vllm/executor/uniproc_executor.py
2025-04-15T09:14:18.3600003Z Reformatting vllm/model_executor/layers/mamba/mamba_mixer.py
2025-04-15T09:14:18.3600422Z Reformatting vllm/inputs/preprocess.py
2025-04-15T09:14:18.3600785Z Reformatting benchmarks/benchmark_latency.py
2025-04-15T09:14:18.3601224Z Reformatting tests/entrypoints/openai/test_chat_template.py
2025-04-15T09:14:18.3601616Z Reformatting vllm/worker/model_runner.py
2025-04-15T09:14:18.3602038Z Reformatting tests/multi_step/test_correctness_async_llm.py
2025-04-15T09:14:18.3602465Z Reformatting vllm/attention/backends/__init__.py
2025-04-15T09:14:18.3602843Z Reformatting tests/kernels/test_activation.py
2025-04-15T09:14:18.3603297Z Reformatting tests/fastsafetensors_loader/test_weight_utils.py
2025-04-15T09:14:18.3603729Z Reformatting vllm/entrypoints/score_utils.py
2025-04-15T09:14:18.3604165Z Reformatting tests/models/decoder_only/language/__init__.py
2025-04-15T09:14:18.3604550Z Reformatting tests/lora/test_layers.py
2025-04-15T09:14:18.3604920Z Reformatting tests/kernels/test_causal_conv1d.py
2025-04-15T09:14:18.3605317Z Reformatting vllm/model_executor/models/granite.py
2025-04-15T09:14:18.3605942Z Reformatting vllm/model_executor/layers/quantization/kernels/scaled_mm/ScaledMMLinearKernel.py
2025-04-15T09:14:18.3606449Z Reformatting vllm/tracing.py
2025-04-15T09:14:18.3606830Z Reformatting vllm/transformers_utils/configs/__init__.py
2025-04-15T09:14:18.3607264Z Reformatting benchmarks/benchmark_prioritization.py
2025-04-15T09:14:18.3607642Z Reformatting tests/engine/test_executor.py
2025-04-15T09:14:18.3608028Z Reformatting vllm/v1/structured_output/__init__.py
2025-04-15T09:14:18.3608391Z Reformatting vllm/multimodal/inputs.py
2025-04-15T09:14:18.3608731Z Reformatting tests/metrics/test_metrics.py
2025-04-15T09:14:18.3609148Z Reformatting tests/plugins/vllm_add_dummy_model/setup.py
2025-04-15T09:14:18.3609528Z Reformatting vllm/benchmarks/latency.py
2025-04-15T09:14:18.3610050Z Reformatting vllm/model_executor/models/registry.py
2025-04-15T09:14:18.3610560Z Reformatting tests/kernels/test_flash_attn.py
2025-04-15T09:14:18.3611011Z Reformatting vllm/transformers_utils/configs/deepseek_vl2.py
2025-04-15T09:14:18.3611507Z Reformatting benchmarks/disagg_benchmarks/round_robin_proxy.py
2025-04-15T09:14:18.3611959Z Reformatting vllm/worker/cpu_pooling_model_runner.py
2025-04-15T09:14:18.3612329Z Reformatting tests/compile/backend.py
2025-04-15T09:14:18.3612731Z Reformatting tests/entrypoints/openai/test_chat_echo.py
2025-04-15T09:14:18.3613265Z Reformatting vllm/entrypoints/openai/tool_parsers/mistral_tool_parser.py
2025-04-15T09:14:18.3613760Z Reformatting tests/entrypoints/openai/test_rerank.py
2025-04-15T09:14:18.3614172Z Reformatting vllm/model_executor/models/minicpm3.py
2025-04-15T09:14:18.3614709Z Reformatting vllm/transformers_utils/configs/exaone.py
2025-04-15T09:14:18.3615148Z Reformatting vllm/model_executor/models/mixtral_quant.py
2025-04-15T09:14:18.3615614Z Reformatting tests/v1/entrypoints/openai/test_completion.py
2025-04-15T09:14:18.3616022Z Reformatting vllm/v1/engine/async_llm.py
2025-04-15T09:14:18.3616365Z Reformatting tests/tracing/test_tracing.py
2025-04-15T09:14:18.3616721Z Reformatting tests/mq_llm_engine/__init__.py
2025-04-15T09:14:18.3617108Z Reformatting tests/basic_correctness/test_cumem.py
2025-04-15T09:14:18.3617462Z Reformatting vllm/inputs/__init__.py
2025-04-15T09:14:18.3617936Z Reformatting tests/models/encoder_decoder/audio_language/test_whisper.py
2025-04-15T09:14:18.3618419Z Reformatting tests/kernels/test_mla_decode_cpu.py
2025-04-15T09:14:18.3618809Z Reformatting tests/kernels/test_mamba_mixer2.py
2025-04-15T09:14:18.3619208Z Reformatting vllm/model_executor/models/__init__.py
2025-04-15T09:14:18.3619607Z Reformatting tests/neuron/2_core/test_comm_ops.py
2025-04-15T09:14:18.3620204Z Reformatting tests/entrypoints/offline_mode/test_offline_mode.py
2025-04-15T09:14:18.3620741Z Reformatting vllm/model_executor/layers/quantization/base_config.py
2025-04-15T09:14:18.3621229Z Reformatting tests/entrypoints/test_ssl_cert_refresher.py
2025-04-15T09:14:18.3621616Z Reformatting tests/core/__init__.py
2025-04-15T09:14:18.3621998Z Reformatting vllm/model_executor/models/skyworkr1v.py
2025-04-15T09:14:18.3622415Z Reformatting vllm/transformers_utils/detokenizer.py
2025-04-15T09:14:18.3622919Z Reformatting vllm/model_executor/layers/quantization/utils/w8a8_utils.py
2025-04-15T09:14:18.3623348Z Reformatting tests/v1/sample/utils.py
2025-04-15T09:14:18.3623714Z Reformatting tests/compile/piecewise/__init__.py
2025-04-15T09:14:18.3624118Z Reformatting vllm/entrypoints/cli/benchmark/serve.py
2025-04-15T09:14:18.3624479Z Reformatting tests/lora/test_phi.py
2025-04-15T09:14:18.3624869Z Reformatting vllm/reasoning/granite_reasoning_parser.py
2025-04-15T09:14:18.3625260Z Reformatting tests/spec_decode/test_utils.py
2025-04-15T09:14:18.3625611Z Reformatting tests/kernels/test_gguf.py
2025-04-15T09:14:18.3626003Z Reformatting vllm/transformers_utils/configs/h2ovl.py
2025-04-15T09:14:18.3626390Z Reformatting vllm/entrypoints/cli/openai.py
2025-04-15T09:14:18.3626758Z Reformatting benchmarks/benchmark_serving.py
2025-04-15T09:14:18.3627147Z Reformatting vllm/model_executor/models/gpt_neox.py
2025-04-15T09:14:18.3627652Z Reformatting vllm/entrypoints/openai/tool_parsers/llama_tool_parser.py
2025-04-15T09:14:18.3628073Z Reformatting vllm/v1/serial_utils.py
2025-04-15T09:14:18.3628579Z Reformatting tests/runai_model_streamer_test/test_runai_model_streamer_loader.py
2025-04-15T09:14:18.3629047Z Reformatting vllm/distributed/__init__.py
2025-04-15T09:14:18.3629383Z Reformatting vllm/v1/worker/__init__.py
2025-04-15T09:14:18.3629860Z Reformatting vllm/v1/attention/backends/flash_attn.py
2025-04-15T09:14:18.3630238Z Reformatting vllm/v1/engine/llm_engine.py
2025-04-15T09:14:18.3630766Z Reformatting vllm/model_executor/layers/quantization/kernels/scaled_mm/triton.py
2025-04-15T09:14:18.3631293Z Reformatting vllm/model_executor/models/phi4mm_utils.py
2025-04-15T09:14:18.3631747Z Reformatting examples/offline_inference/basic/classify.py
2025-04-15T09:14:18.3632244Z Reformatting tests/utils.py
2025-04-15T09:14:18.3632664Z Reformatting vllm/model_executor/layers/fused_moe/deep_gemm_moe.py
2025-04-15T09:14:18.3633064Z Reformatting tests/tpu/__init__.py
2025-04-15T09:14:18.3633459Z Reformatting tests/distributed/test_custom_all_reduce.py
2025-04-15T09:14:18.3633949Z Reformatting vllm/model_executor/guided_decoding/guided_fields.py
2025-04-15T09:14:18.3634361Z Reformatting .buildkite/generate_index.py
2025-04-15T09:14:18.3634693Z Reformatting use_existing_torch.py
2025-04-15T09:14:18.3635042Z Reformatting vllm/model_executor/models/bart.py
2025-04-15T09:14:18.3635471Z Reformatting examples/offline_inference/audio_language.py
2025-04-15T09:14:18.3635926Z Reformatting vllm/distributed/kv_transfer/kv_pipe/base.py
2025-04-15T09:14:18.3636430Z Reformatting tests/v1/__init__.py
2025-04-15T09:14:18.3636809Z Reformatting tests/v1/worker/test_gpu_input_batch.py
2025-04-15T09:14:18.3637210Z Reformatting vllm/model_executor/models/opt.py
2025-04-15T09:14:18.3637627Z Reformatting vllm/engine/output_processor/multi_step.py
2025-04-15T09:14:18.3638001Z Reformatting vllm/platforms/cuda.py
2025-04-15T09:14:18.3638381Z Reformatting benchmarks/kernels/benchmark_machete.py
2025-04-15T09:14:18.3638805Z Reformatting tests/entrypoints/openai/test_shutdown.py
2025-04-15T09:14:18.3639159Z Reformatting vllm/scripts.py
2025-04-15T09:14:18.3639622Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/types.py
2025-04-15T09:14:18.3640201Z Reformatting vllm/model_executor/layers/utils.py
2025-04-15T09:14:18.3640651Z Reformatting vllm/model_executor/layers/quantization/gguf.py
2025-04-15T09:14:18.3641108Z Reformatting tests/v1/engine/test_engine_core_client.py
2025-04-15T09:14:18.3641564Z Reformatting tests/entrypoints/openai/test_tokenization.py
2025-04-15T09:14:18.3641982Z Reformatting tests/core/test_serialization.py
2025-04-15T09:14:18.3642525Z Reformatting tests/models/decoder_only/language/test_mamba.py
2025-04-15T09:14:18.3643219Z Reformatting tests/core/utils.py
2025-04-15T09:14:18.3643821Z Reformatting vllm/model_executor/layers/quantization/schema.py
2025-04-15T09:14:18.3644333Z Reformatting vllm/model_executor/models/stablelm.py
2025-04-15T09:14:18.3644739Z Reformatting vllm/model_executor/models/glm4v.py
2025-04-15T09:14:18.3645175Z Reformatting tests/v1/sample/test_sampling_params_e2e.py
2025-04-15T09:14:18.3645627Z Reformatting vllm/model_executor/models/h2ovl.py
2025-04-15T09:14:18.3646341Z Reformatting tests/spec_decode/e2e/conftest.py
2025-04-15T09:14:18.3647071Z Reformatting vllm/model_executor/models/clip.py
2025-04-15T09:14:18.3647795Z Reformatting tests/entrypoints/openai/test_video.py
2025-04-15T09:14:18.3648246Z Reformatting vllm/lora/layers.py
2025-04-15T09:14:18.3648644Z Reformatting vllm/compilation/fix_functionalization.py
2025-04-15T09:14:18.3649116Z Reformatting vllm/entrypoints/openai/serving_embedding.py
2025-04-15T09:14:18.3649605Z Reformatting vllm/_custom_ops.py
2025-04-15T09:14:18.3650318Z Reformatting tests/entrypoints/openai/test_audio.py
2025-04-15T09:14:18.3650746Z Reformatting vllm/model_executor/models/bert.py
2025-04-15T09:14:18.3651176Z Reformatting examples/offline_inference/data_parallel.py
2025-04-15T09:14:18.3651569Z Reformatting tests/v1/test_utils.py
2025-04-15T09:14:18.3651936Z Reformatting vllm/attention/backends/utils.py
2025-04-15T09:14:18.3652646Z Reformatting vllm/worker/multi_step_model_runner.py
2025-04-15T09:14:18.3653400Z Reformatting benchmarks/cutlass_benchmarks/utils.py
2025-04-15T09:14:18.3653872Z Reformatting tests/model_executor/test_guided_processors.py
2025-04-15T09:14:18.3654401Z Reformatting .buildkite/lm-eval-harness/test_lm_eval_correctness.py
2025-04-15T09:14:18.3655377Z Reformatting tests/models/decoder_only/vision_language/test_qwen2_vl.py
2025-04-15T09:14:18.3656383Z Reformatting vllm/transformers_utils/configs/jais.py
2025-04-15T09:14:18.3657295Z Reformatting vllm/transformers_utils/configs/falcon.py
2025-04-15T09:14:18.3658009Z Reformatting tests/lora/test_peft_helper.py
2025-04-15T09:14:18.3659307Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_scheme.py
2025-04-15T09:14:18.3660759Z Reformatting tests/models/embedding/language/test_gritlm.py
2025-04-15T09:14:18.3661230Z Reformatting tests/detokenizer/test_stop_checker.py
2025-04-15T09:14:18.3661751Z Reformatting tests/models/encoder_decoder/vision_language/test_mllama.py
2025-04-15T09:14:18.3662264Z Reformatting tests/mq_llm_engine/test_error_handling.py
2025-04-15T09:14:18.3662722Z Reformatting vllm/model_executor/layers/lightning_attn.py
2025-04-15T09:14:18.3663281Z Reformatting tests/tokenization/test_tokenizer.py
2025-04-15T09:14:18.3663745Z Reformatting tests/model_executor/__init__.py
2025-04-15T09:14:18.3664139Z Reformatting vllm/model_executor/models/mllama4.py
2025-04-15T09:14:18.3664724Z Reformatting vllm/model_executor/models/interfaces.py
2025-04-15T09:14:18.3665194Z Reformatting tests/models/embedding/language/test_scoring.py
2025-04-15T09:14:18.3665649Z Reformatting benchmarks/kernels/benchmark_shapes.py
2025-04-15T09:14:18.3666076Z Reformatting vllm/engine/output_processor/__init__.py
2025-04-15T09:14:18.3666604Z Reformatting .buildkite/nightly-benchmarks/scripts/download-tokenizer.py
2025-04-15T09:14:18.3667073Z Reformatting vllm/adapter_commons/models.py
2025-04-15T09:14:18.3667543Z Reformatting tests/prompt_adapter/test_multi_adapter_inference.py
2025-04-15T09:14:18.3667997Z Reformatting tests/tokenization/test_get_eos.py
2025-04-15T09:14:18.3668640Z Reformatting vllm/v1/attention/backends/mla/__init__.py
2025-04-15T09:14:18.3669364Z Reformatting tests/v1/e2e/test_cascade_attention.py
2025-04-15T09:14:18.3670367Z Reformatting benchmarks/kernels/benchmark_grouped_gemm_cutlass.py
2025-04-15T09:14:18.3671315Z Reformatting tests/entrypoints/openai/correctness/test_lmeval.py
2025-04-15T09:14:18.3672436Z Reformatting examples/online_serving/openai_chat_completion_with_reasoning_streaming.py
2025-04-15T09:14:18.3673274Z Reformatting vllm/inputs/data.py
2025-04-15T09:14:18.3674027Z Reformatting vllm/model_executor/layers/quantization/modelopt.py
2025-04-15T09:14:18.3674781Z Reformatting vllm/entrypoints/api_server.py
2025-04-15T09:14:18.3675514Z Reformatting tests/distributed/test_pipeline_parallel.py
2025-04-15T09:14:18.3676381Z Reformatting examples/online_serving/openai_embedding_client.py
2025-04-15T09:14:18.3677438Z Reformatting vllm/model_executor/guided_decoding/lm_format_enforcer_decoding.py
2025-04-15T09:14:18.3678263Z Reformatting tests/v1/tpu/test_sampler.py
2025-04-15T09:14:18.3678975Z Reformatting vllm/transformers_utils/configs/olmo2.py
2025-04-15T09:14:18.3679892Z Reformatting tests/entrypoints/openai/test_cli_args.py
2025-04-15T09:14:18.3680655Z Reformatting vllm/entrypoints/cli/benchmark/__init__.py
2025-04-15T09:14:18.3681615Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/core.py
2025-04-15T09:14:18.3682537Z Reformatting tests/runai_model_streamer_test/__init__.py
2025-04-15T09:14:18.3683413Z Reformatting tests/models/embedding/vision_language/__init__.py
2025-04-15T09:14:18.3684261Z Reformatting vllm/model_executor/models/grok1.py
2025-04-15T09:14:18.3685135Z Reformatting tests/spec_decode/e2e/test_ngram_correctness.py
2025-04-15T09:14:18.3686012Z Reformatting examples/offline_inference/rlhf_utils.py
2025-04-15T09:14:18.3686978Z Reformatting tests/models/embedding/vision_language/test_llava_next.py
2025-04-15T09:14:18.3688005Z Reformatting examples/offline_inference/prithvi_geospatial_mae.py
2025-04-15T09:14:18.3688964Z Reformatting tests/models/embedding/language/test_embedding.py
2025-04-15T09:14:18.3690086Z Reformatting tests/models/encoder_decoder/language/__init__.py
2025-04-15T09:14:18.3690823Z Reformatting tests/models/__init__.py
2025-04-15T09:14:18.3691699Z Reformatting vllm/model_executor/layers/quantization/kernels/__init__.py
2025-04-15T09:14:18.3692578Z Reformatting tests/v1/tpu/test_topk_topp_sampler.py
2025-04-15T09:14:18.3693371Z Reformatting tests/kernels/test_rocm_attention_selector.py
2025-04-15T09:14:18.3694370Z Reformatting vllm/model_executor/layers/mamba/ops/ssd_state_passing.py
2025-04-15T09:14:18.3695437Z Reformatting vllm/compilation/fusion.py
2025-04-15T09:14:18.3696312Z Reformatting examples/online_serving/openai_chat_completion_client.py
2025-04-15T09:14:18.3697116Z Reformatting vllm/v1/executor/abstract.py
2025-04-15T09:14:18.3698023Z Reformatting vllm/distributed/kv_transfer/kv_lookup_buffer/__init__.py
2025-04-15T09:14:18.3698884Z Reformatting tests/kernels/test_mamba_ssm.py
2025-04-15T09:14:18.3699494Z Reformatting tests/test_embedded_commit.py
2025-04-15T09:14:18.3700375Z Reformatting tests/kernels/test_cascade_flash_attn.py
2025-04-15T09:14:18.3701276Z Reformatting vllm/distributed/device_communicators/pynccl_wrapper.py
2025-04-15T09:14:18.3702086Z Reformatting vllm/model_executor/models/gemma.py
2025-04-15T09:14:18.3703172Z Reformatting tests/vllm_test_utils/vllm_test_utils/blame.py
2025-04-15T09:14:18.3703952Z Reformatting examples/offline_inference/neuron.py
2025-04-15T09:14:18.3704714Z Reformatting vllm/model_executor/models/gpt_bigcode.py
2025-04-15T09:14:18.3705552Z Reformatting vllm/model_executor/layers/rejection_sampler.py
2025-04-15T09:14:18.3706322Z Reformatting tests/kernels/test_permute_cols.py
2025-04-15T09:14:18.3707424Z Reformatting tests/plugins/vllm_add_dummy_model/vllm_add_dummy_model/my_gemma_embedding.py
2025-04-15T09:14:18.3708337Z Reformatting tests/test_version.py
2025-04-15T09:14:18.3708937Z Reformatting tests/compile/conftest.py
2025-04-15T09:14:18.3710160Z Reformatting vllm/attention/ops/blocksparse_attention/blocksparse_attention_kernel.py
2025-04-15T09:14:18.3711157Z Reformatting vllm/spec_decode/batch_expansion.py
2025-04-15T09:14:18.3712018Z Reformatting tests/models/multimodal/processing/test_common.py
2025-04-15T09:14:18.3712826Z Reformatting examples/offline_inference/tpu.py
2025-04-15T09:14:18.3713675Z Reformatting tests/vllm_test_utils/vllm_test_utils/__init__.py
2025-04-15T09:14:18.3714561Z Reformatting tests/spec_decode/test_spec_decode_worker.py
2025-04-15T09:14:18.3715557Z Reformatting vllm/entrypoints/openai/tool_parsers/hermes_tool_parser.py
2025-04-15T09:14:18.3716586Z Reformatting vllm/model_executor/layers/quantization/kv_cache.py
2025-04-15T09:14:18.3717321Z Reformatting tests/test_utils.py
2025-04-15T09:14:18.3718099Z Reformatting vllm/entrypoints/openai/serving_transcription.py
2025-04-15T09:14:18.3719016Z Reformatting vllm/model_executor/models/telechat2.py
2025-04-15T09:14:18.3720007Z Reformatting vllm/model_executor/models/aya_vision.py
2025-04-15T09:14:18.3720793Z Reformatting tests/spec_decode/e2e/__init__.py
2025-04-15T09:14:18.3721588Z Reformatting tests/kernels/test_fused_quant_layernorm.py
2025-04-15T09:14:18.3722316Z Reformatting vllm/adapter_commons/utils.py
2025-04-15T09:14:18.3723106Z Reformatting vllm/transformers_utils/processors/ovis2.py
2025-04-15T09:14:18.3723859Z Reformatting tests/kernels/quant_utils.py
2025-04-15T09:14:18.3724649Z Reformatting tests/engine/test_computed_prefix_blocks.py
2025-04-15T09:14:18.3725392Z Reformatting vllm/compilation/fx_utils.py
2025-04-15T09:14:18.3726131Z Reformatting benchmarks/kernels/benchmark_quant.py
2025-04-15T09:14:18.3727049Z Reformatting vllm/distributed/kv_transfer/kv_pipe/pynccl_pipe.py
2025-04-15T09:14:18.3727922Z Reformatting vllm/compilation/compiler_interface.py
2025-04-15T09:14:18.3728691Z Reformatting vllm/model_executor/models/phi3.py
2025-04-15T09:14:18.3729485Z Reformatting vllm/entrypoints/openai/serving_pooling.py
2025-04-15T09:14:18.3730475Z Reformatting vllm/model_executor/models/dbrx.py
2025-04-15T09:14:18.3731340Z Reformatting examples/offline_inference/structured_outputs.py
2025-04-15T09:14:18.3732517Z Reformatting vllm/model_executor/layers/quantization/kernels/mixed_precision/machete.py
2025-04-15T09:14:18.3733532Z Reformatting vllm/model_executor/models/internlm2.py
2025-04-15T09:14:18.3734498Z Reformatting vllm/entrypoints/openai/tool_parsers/jamba_tool_parser.py
2025-04-15T09:14:18.3735428Z Reformatting tests/tool_use/test_jamba_tool_parser.py
2025-04-15T09:14:18.3736265Z Reformatting vllm/transformers_utils/configs/eagle.py
2025-04-15T09:14:18.3737341Z Reformatting benchmarks/kernels/benchmark_lora.py
2025-04-15T09:14:18.3738246Z Reformatting vllm/model_executor/models/constant_size_cache.py
2025-04-15T09:14:18.3739040Z Reformatting tests/kernels/test_cache.py
2025-04-15T09:14:18.3740099Z Reformatting tests/entrypoints/openai/tool_parsers/__init__.py
2025-04-15T09:14:18.3740866Z Reformatting vllm/executor/msgspec_utils.py
2025-04-15T09:14:18.3741578Z Reformatting vllm/model_executor/models/nemotron.py
2025-04-15T09:14:18.3742300Z Reformatting vllm/compilation/inductor_pass.py
2025-04-15T09:14:18.3743024Z Reformatting vllm/model_executor/models/mamba2.py
2025-04-15T09:14:18.3743747Z Reformatting tests/v1/core/test_scheduler_e2e.py
2025-04-15T09:14:18.3744642Z Reformatting examples/offline_inference/encoder_decoder_multimodal.py
2025-04-15T09:14:18.3746030Z Reformatting vllm/distributed/kv_transfer/kv_connector/mooncake_store_connector.py
2025-04-15T09:14:18.3746926Z Reformatting vllm/v1/engine/core.py
2025-04-15T09:14:18.3747779Z Reformatting tests/models/embedding/vision_language/test_phi3v.py
2025-04-15T09:14:18.3749133Z Reformatting benchmarks/cutlass_benchmarks/sparse_benchmarks.py
2025-04-15T09:14:18.3750294Z Reformatting docs/source/conf.py
2025-04-15T09:14:18.3751176Z Reformatting vllm/attention/ops/triton_decode_attention.py
2025-04-15T09:14:18.3752179Z Reformatting vllm/entrypoints/cli/types.py
2025-04-15T09:14:18.3753036Z Reformatting vllm/engine/async_llm_engine.py
2025-04-15T09:14:18.3754065Z Reformatting vllm/model_executor/layers/mamba/ops/ssd_chunk_scan.py
2025-04-15T09:14:18.3755055Z Reformatting tests/kernels/test_int8_quant.py
2025-04-15T09:14:18.3756003Z Reformatting vllm/model_executor/models/internlm2_ve.py
2025-04-15T09:14:18.3756852Z Reformatting vllm/sampling_params.py
2025-04-15T09:14:18.3757832Z Reformatting vllm/transformers_utils/configs/nemotron.py
2025-04-15T09:14:18.3758769Z Reformatting examples/offline_inference/rlhf_colocate.py
2025-04-15T09:14:18.3759892Z Reformatting vllm/v1/core/encoder_cache_manager.py
2025-04-15T09:14:18.3760977Z Reformatting tests/tensorizer_loader/__init__.py
2025-04-15T09:14:18.3761806Z Reformatting vllm/entrypoints/openai/__init__.py
2025-04-15T09:14:18.3762652Z Reformatting tests/v1/tpu/test_mha_attn.py
2025-04-15T09:14:18.3763626Z Reformatting vllm/worker/neuron_model_runner.py
2025-04-15T09:14:18.3839424Z Reformatting vllm/entrypoints/openai/serving_tokenization.py
2025-04-15T09:14:18.3840743Z Reformatting vllm/distributed/kv_transfer/kv_lookup_buffer/simple_buffer.py
2025-04-15T09:14:18.3841733Z Reformatting vllm/transformers_utils/configs/nvlm_d.py
2025-04-15T09:14:18.3842752Z Reformatting vllm/distributed/device_communicators/cpu_communicator.py
2025-04-15T09:14:18.3843732Z Reformatting tests/async_engine/api_server_async_engine.py
2025-04-15T09:14:18.3844477Z Reformatting vllm/multimodal/hasher.py
2025-04-15T09:14:18.3845273Z Reformatting examples/offline_inference/load_sharded_state.py
2025-04-15T09:14:18.3846087Z Reformatting vllm/adapter_commons/__init__.py
2025-04-15T09:14:18.3846970Z Reformatting tests/basic_correctness/test_basic_correctness.py
2025-04-15T09:14:18.3847808Z Reformatting vllm/entrypoints/openai/serving_engine.py
2025-04-15T09:14:18.3848851Z Reformatting tests/tool_use/test_chat_completion_request_validations.py
2025-04-15T09:14:18.3849632Z Reformatting vllm/lora/request.py
2025-04-15T09:14:18.3850985Z Reformatting vllm/transformers_utils/tokenizer_group/base_tokenizer_group.py
2025-04-15T09:14:18.3851874Z Reformatting tests/multimodal/__init__.py
2025-04-15T09:14:18.3852588Z Reformatting tests/v1/spec_decode/test_ngram.py
2025-04-15T09:14:18.3853886Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_wNa16.py
2025-04-15T09:14:18.3855191Z Reformatting tests/spec_decode/e2e/test_integration_dist_tp4.py
2025-04-15T09:14:18.3856057Z Reformatting vllm/attention/ops/nki_flash_attn.py
2025-04-15T09:14:18.3856962Z Reformatting vllm/distributed/kv_transfer/kv_connector/__init__.py
2025-04-15T09:14:18.3857857Z Reformatting vllm/transformers_utils/configs/ultravox.py
2025-04-15T09:14:18.3859118Z Reformatting tests/distributed/test_pipeline_partition.py
2025-04-15T09:14:18.3860186Z Reformatting vllm/model_executor/models/gpt_j.py
2025-04-15T09:14:18.3860900Z Reformatting tests/v1/tpu/worker/__init__.py
2025-04-15T09:14:18.3861775Z Reformatting vllm/model_executor/layers/quantization/moe_wna16.py
2025-04-15T09:14:18.3862623Z Reformatting vllm/transformers_utils/s3_utils.py
2025-04-15T09:14:18.3863435Z Reformatting examples/offline_inference/mistral-small.py
2025-04-15T09:14:18.3864234Z Reformatting tests/entrypoints/openai/test_vision.py
2025-04-15T09:14:18.3864962Z Reformatting vllm/model_executor/models/deepseek.py
2025-04-15T09:14:18.3865620Z Reformatting tests/lora/test_lora_checkpoints.py
2025-04-15T09:14:18.3866624Z Reformatting vllm/attention/backends/triton_mla.py
2025-04-15T09:14:18.3867375Z Reformatting vllm/compilation/noop_elimination.py
2025-04-15T09:14:18.3868098Z Reformatting vllm/v1/sample/rejection_sampler.py
2025-04-15T09:14:18.3868731Z Reformatting vllm/lora/lora.py
2025-04-15T09:14:18.3869329Z Reformatting vllm/v1/spec_decode/__init__.py
2025-04-15T09:14:18.3870340Z Reformatting tests/spec_decode/e2e/test_multistep_correctness.py
2025-04-15T09:14:18.3871219Z Reformatting examples/offline_inference/simple_profiling.py
2025-04-15T09:14:18.3872116Z Reformatting examples/online_serving/opentelemetry/dummy_client.py
2025-04-15T09:14:18.3872968Z Reformatting tests/model_executor/test_enabled_custom_ops.py
2025-04-15T09:14:18.3873699Z Reformatting benchmarks/backend_request_func.py
2025-04-15T09:14:18.3874495Z Reformatting tests/models/encoder_decoder/language/test_bart.py
2025-04-15T09:14:18.3875238Z Reformatting vllm/v1/sample/ops/bad_words.py
2025-04-15T09:14:18.3876207Z Reformatting vllm/model_executor/layers/quantization/utils/marlin_utils_test_qqq.py
2025-04-15T09:14:18.3877230Z Reformatting tests/model_executor/test_model_load_with_params.py
2025-04-15T09:14:18.3878083Z Reformatting vllm/spec_decode/target_model_runner.py
2025-04-15T09:14:18.3878776Z Reformatting vllm/v1/engine/__init__.py
2025-04-15T09:14:18.3879605Z Reformatting tests/entrypoints/openai/test_oot_registration.py
2025-04-15T09:14:18.3880826Z Reformatting vllm/transformers_utils/tokenizer_group/__init__.py
2025-04-15T09:14:18.3881796Z Reformatting examples/online_serving/openai_pooling_client.py
2025-04-15T09:14:18.3882883Z Reformatting vllm/entrypoints/openai/tool_parsers/internlm2_tool_parser.py
2025-04-15T09:14:18.3883761Z Reformatting tests/compile/test_full_graph.py
2025-04-15T09:14:18.3884624Z Reformatting tests/models/decoder_only/language/test_mistral.py
2025-04-15T09:14:18.3885448Z Reformatting benchmarks/kernels/benchmark_moe.py
2025-04-15T09:14:18.3886322Z Reformatting vllm/transformers_utils/configs/mlp_speculator.py
2025-04-15T09:14:18.3887359Z Reformatting vllm/model_executor/layers/spec_decode_base_sampler.py
2025-04-15T09:14:18.3888543Z Reformatting examples/online_serving/openai_chat_completion_client_for_multimodal.py
2025-04-15T09:14:18.3898719Z Reformatting vllm/model_executor/layers/layernorm.py
2025-04-15T09:14:18.3899612Z Reformatting tests/entrypoints/openai/test_encoder_decoder.py
2025-04-15T09:14:18.3900633Z Reformatting vllm/worker/worker_base.py
2025-04-15T09:14:18.3901311Z Reformatting vllm/multimodal/profiling.py
2025-04-15T09:14:18.3901975Z Reformatting vllm/distributed/utils.py
2025-04-15T09:14:18.3902777Z Reformatting tests/entrypoints/openai/tool_parsers/utils.py
2025-04-15T09:14:18.3903598Z Reformatting tests/benchmarks/test_throughput_cli.py
2025-04-15T09:14:18.3904375Z Reformatting vllm/attention/backends/mla/common.py
2025-04-15T09:14:18.3905111Z Reformatting tests/multimodal/test_inputs.py
2025-04-15T09:14:18.3905826Z Reformatting tests/kernels/test_lightning_attn.py
2025-04-15T09:14:18.3906687Z Reformatting tests/models/multimodal/processing/test_h2ovl.py
2025-04-15T09:14:18.3907529Z Reformatting tests/quantization/test_bitsandbytes.py
2025-04-15T09:14:18.3908280Z Reformatting vllm/entrypoints/cli/__init__.py
2025-04-15T09:14:18.3909504Z Reformatting vllm/model_executor/layers/quantization/utils/gptq_utils.py
2025-04-15T09:14:18.3910887Z Reformatting vllm/model_executor/guided_decoding/outlines_decoding.py
2025-04-15T09:14:18.3911756Z Reformatting vllm/model_executor/models/minicpmv.py
2025-04-15T09:14:18.3912465Z Reformatting tests/worker/test_swap.py
2025-04-15T09:14:18.3913076Z Reformatting tests/kernels/test_uva.py
2025-04-15T09:14:18.3913720Z Reformatting vllm/worker/hpu_model_runner.py
2025-04-15T09:14:18.3914591Z Reformatting vllm/model_executor/layers/mamba/ops/ssd_chunk_state.py
2025-04-15T09:14:18.3915516Z Reformatting tests/core/test_scheduler_encoder_decoder.py
2025-04-15T09:14:18.3916224Z Reformatting tests/kernels/test_gptq.py
2025-04-15T09:14:18.3916872Z Reformatting tests/v1/tpu/test_basic.py
2025-04-15T09:14:18.3917994Z Reformatting csrc/moe/marlin_moe_wna16/generate_kernels.py
2025-04-15T09:14:18.3918738Z Reformatting vllm/device_allocator/cumem.py
2025-04-15T09:14:18.3919456Z Reformatting vllm/engine/multiprocessing/client.py
2025-04-15T09:14:18.3920315Z Reformatting vllm/platforms/hpu.py
2025-04-15T09:14:18.3921130Z Reformatting benchmarks/benchmark_serving_structured_output.py
2025-04-15T09:14:18.3922137Z Reformatting vllm/model_executor/layers/quantization/awq_triton.py
2025-04-15T09:14:18.3923274Z Reformatting vllm/model_executor/layers/quantization/utils/marlin_utils_fp8.py
2025-04-15T09:14:18.3924126Z Reformatting vllm/engine/__init__.py
2025-04-15T09:14:18.3925098Z Reformatting vllm/model_executor/layers/quantization/kernels/scaled_mm/cutlass.py
2025-04-15T09:14:18.3925987Z Reformatting vllm/v1/metrics/__init__.py
2025-04-15T09:14:18.3926688Z Reformatting tests/distributed/test_same_node.py
2025-04-15T09:14:18.3927426Z Reformatting vllm/transformers_utils/__init__.py
2025-04-15T09:14:18.3928310Z Reformatting tests/models/decoder_only/language/test_models.py
2025-04-15T09:14:18.3929047Z Reformatting vllm/core/evictor.py
2025-04-15T09:14:18.3930192Z Reformatting .buildkite/nightly-benchmarks/scripts/generate-nightly-markdown.py
2025-04-15T09:14:18.3931159Z Reformatting vllm/model_executor/models/exaone.py
2025-04-15T09:14:18.3931977Z Reformatting vllm/model_executor/layers/mamba/__init__.py
2025-04-15T09:14:18.3932839Z Reformatting vllm/model_executor/models/minimax_text_01.py
2025-04-15T09:14:18.3933649Z Reformatting vllm/lora/punica_wrapper/punica_base.py
2025-04-15T09:14:18.3934472Z Reformatting vllm/v1/executor/ray_distributed_executor.py
2025-04-15T09:14:18.3935296Z Reformatting vllm/model_executor/model_loader/loader.py
2025-04-15T09:14:18.3936088Z Reformatting vllm/v1/sample/ops/topk_topp_sampler.py
2025-04-15T09:14:18.3936912Z Reformatting vllm/entrypoints/openai/tool_parsers/utils.py
2025-04-15T09:14:18.3937743Z Reformatting tests/v1/sample/test_rejection_sampler.py
2025-04-15T09:14:18.3938737Z Reformatting benchmarks/disagg_benchmarks/disagg_prefill_proxy_server.py
2025-04-15T09:14:18.3939594Z Reformatting tests/mq_llm_engine/test_load.py
2025-04-15T09:14:18.3940434Z Reformatting benchmarks/kernels/benchmark_rope.py
2025-04-15T09:14:18.3941374Z Reformatting benchmarks/disagg_benchmarks/visualize_benchmark_results.py
2025-04-15T09:14:18.3942212Z Reformatting vllm/pooling_params.py
2025-04-15T09:14:18.3942829Z Reformatting tools/check_spdx_header.py
2025-04-15T09:14:18.3943662Z Reformatting tests/models/decoder_only/language/test_nvfp4.py
2025-04-15T09:14:18.3944451Z Reformatting tests/async_engine/conftest.py
2025-04-15T09:14:18.3945134Z Reformatting vllm/device_allocator/__init__.py
2025-04-15T09:14:18.3945983Z Reformatting examples/offline_inference/multilora_inference.py
2025-04-15T09:14:18.3946865Z Reformatting vllm/model_executor/models/llama_eagle.py
2025-04-15T09:14:18.3947542Z Reformatting tests/test_inputs.py
2025-04-15T09:14:18.3948250Z Reformatting vllm/v1/engine/parallel_sampling.py
2025-04-15T09:14:18.3949022Z Reformatting tests/spec_decode/test_batch_expansion.py
2025-04-15T09:14:18.3949694Z Reformatting vllm/v1/worker/block_table.py
2025-04-15T09:14:18.3950447Z Reformatting vllm/attention/selector.py
2025-04-15T09:14:18.3951443Z Reformatting vllm/model_executor/models/deepseek_mtp.py
2025-04-15T09:14:18.3952275Z Reformatting vllm/transformers_utils/configs/solar.py
2025-04-15T09:14:18.3953132Z Reformatting tests/models/multimodal/processing/__init__.py
2025-04-15T09:14:18.3953856Z Reformatting tests/worker/__init__.py
2025-04-15T09:14:18.3954453Z Reformatting tests/lora/__init__.py
2025-04-15T09:14:18.3955037Z Reformatting vllm/worker/__init__.py
2025-04-15T09:14:18.3955688Z Reformatting vllm/entrypoints/cli/benchmark/main.py
2025-04-15T09:14:18.3956527Z Reformatting vllm/engine/output_processor/single_step.py
2025-04-15T09:14:18.3957236Z Reformatting tests/v1/tpu/__init__.py
2025-04-15T09:14:18.3957856Z Reformatting vllm/entrypoints/cli/main.py
2025-04-15T09:14:18.3958845Z Reformatting tests/basic_correctness/test_preemption.py
2025-04-15T09:14:18.3959636Z Reformatting vllm/adapter_commons/worker_manager.py
2025-04-15T09:14:18.3960547Z Reformatting tests/lora/test_quant_model.py
2025-04-15T09:14:18.3961341Z Reformatting examples/offline_inference/reproduciblity.py
2025-04-15T09:14:18.3962304Z Reformatting vllm/distributed/device_communicators/cuda_wrapper.py
2025-04-15T09:14:18.3963145Z Reformatting tests/models/embedding/__init__.py
2025-04-15T09:14:18.3964062Z Reformatting tests/models/decoder_only/vision_language/test_models.py
2025-04-15T09:14:18.3964925Z Reformatting vllm/model_executor/models/solar.py
2025-04-15T09:14:18.3965932Z Reformatting vllm/model_executor/guided_decoding/guidance_logits_processors.py
2025-04-15T09:14:18.3966885Z Reformatting vllm/transformers_utils/configs/arctic.py
2025-04-15T09:14:18.3967519Z Reformatting vllm/beam_search.py
2025-04-15T09:14:18.3968067Z Reformatting tests/kernels/test_awq.py
2025-04-15T09:14:18.3968775Z Reformatting vllm/model_executor/models/phi3v.py
2025-04-15T09:14:18.3969892Z Reformatting vllm/model_executor/guided_decoding/xgrammar_decoding.py
2025-04-15T09:14:18.3970806Z Reformatting tests/benchmarks/test_latency_cli.py
2025-04-15T09:14:18.3971493Z Reformatting vllm/worker/worker.py
2025-04-15T09:14:18.3972238Z Reformatting tests/tool_use/test_tool_choice_required.py
2025-04-15T09:14:18.3973028Z Reformatting vllm/engine/output_processor/util.py
2025-04-15T09:14:18.3973733Z Reformatting tests/lora/test_baichuan.py
2025-04-15T09:14:18.3974421Z Reformatting tests/prefix_caching/__init__.py
2025-04-15T09:14:18.3975109Z Reformatting tests/vllm_test_utils/setup.py
2025-04-15T09:14:18.3975942Z Reformatting vllm/spec_decode/smaller_tp_proposer_worker.py
2025-04-15T09:14:18.3976771Z Reformatting vllm/v1/spec_decode/ngram_proposer.py
2025-04-15T09:14:18.3977404Z Reformatting tests/tracing/__init__.py
2025-04-15T09:14:18.3978042Z Reformatting tests/v1/core/test_prefix_caching.py
2025-04-15T09:14:18.3979085Z Reformatting vllm/model_executor/layers/quantization/kernels/mixed_precision/marlin.py
2025-04-15T09:14:18.3980247Z Reformatting tools/report_build_time_ninja.py
2025-04-15T09:14:18.3981092Z Reformatting vllm/model_executor/layers/mamba/ops/__init__.py
2025-04-15T09:14:18.3981871Z Reformatting tests/core/block/__init__.py
2025-04-15T09:14:18.3982621Z Reformatting examples/offline_inference/basic/chat.py
2025-04-15T09:14:18.3983365Z Reformatting vllm/attention/ops/paged_attn.py
2025-04-15T09:14:18.3984085Z Reformatting vllm/model_executor/models/bamba.py
2025-04-15T09:14:18.3984827Z Reformatting vllm/profiler/layerwise_profile.py
2025-04-15T09:14:18.3985696Z Reformatting examples/offline_inference/save_sharded_state.py
2025-04-15T09:14:18.3986468Z Reformatting vllm/executor/__init__.py
2025-04-15T09:14:18.3987083Z Reformatting vllm/entrypoints/llm.py
2025-04-15T09:14:18.3987870Z Reformatting tests/spec_decode/e2e/test_medusa_correctness.py
2025-04-15T09:14:18.3988850Z Reformatting vllm/model_executor/layers/quantization/tpu_int8.py
2025-04-15T09:14:18.3990128Z Reformatting vllm/distributed/kv_transfer/kv_connector/lmcache_connector.py
2025-04-15T09:14:18.3990996Z Reformatting vllm/v1/sample/__init__.py
2025-04-15T09:14:18.3991813Z Reformatting tests/v1/e2e/test_correctness_sliding_window.py
2025-04-15T09:14:18.3992879Z Reformatting vllm/lora/punica_wrapper/punica_gpu.py
2025-04-15T09:14:18.3993564Z Reformatting tests/test_scalartype.py
2025-04-15T09:14:18.3994587Z Reformatting tests/plugins/vllm_add_dummy_platform/vllm_add_dummy_platform/__init__.py
2025-04-15T09:14:18.3995556Z Reformatting vllm/v1/sample/ops/penalties.py
2025-04-15T09:14:18.3996466Z Reformatting vllm/model_executor/layers/fused_moe/rocm_aiter_fused_moe.py
2025-04-15T09:14:18.3997401Z Reformatting tests/entrypoints/llm/test_generate.py
2025-04-15T09:14:18.3998199Z Reformatting tests/models/utils.py
2025-04-15T09:14:18.3999166Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/custom_inputs.py
2025-04-15T09:14:18.4000641Z Reformatting vllm/model_executor/layers/quantization/quark/schemes/quark_w8a8_int8.py
2025-04-15T09:14:18.4001913Z Reformatting vllm/attention/ops/ipex_attn.py
2025-04-15T09:14:18.4002775Z Reformatting examples/online_serving/cohere_rerank_client.py
2025-04-15T09:14:18.4003616Z Reformatting tests/entrypoints/llm/test_init.py
2025-04-15T09:14:18.4004283Z Reformatting vllm/benchmarks/utils.py
2025-04-15T09:14:18.4004847Z Reformatting vllm/multimodal/utils.py
2025-04-15T09:14:18.4005554Z Reformatting tests/distributed/test_pp_cudagraph.py
2025-04-15T09:14:18.4006247Z Reformatting vllm/v1/engine/logprobs.py
2025-04-15T09:14:18.4007343Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/__init__.py
2025-04-15T09:14:18.4008368Z Reformatting tests/samplers/test_seeded_generate.py
2025-04-15T09:14:18.4009327Z Reformatting vllm/transformers_utils/tokenizer_group/tokenizer_group.py
2025-04-15T09:14:18.4010349Z Reformatting tests/kernels/test_moe.py
2025-04-15T09:14:18.4011150Z Reformatting tests/core/block/test_prefix_caching_block.py
2025-04-15T09:14:18.4012111Z Reformatting vllm/model_executor/layers/quantization/fbgemm_fp8.py
2025-04-15T09:14:18.4012993Z Reformatting tests/async_engine/test_request_tracker.py
2025-04-15T09:14:18.4013733Z Reformatting vllm/v1/engine/detokenizer.py
2025-04-15T09:14:18.4014668Z Reformatting tests/fastsafetensors_loader/test_fastsafetensors_loader.py
2025-04-15T09:14:18.4015533Z Reformatting tests/quantization/test_quark.py
2025-04-15T09:14:18.4016269Z Reformatting vllm/model_executor/pooling_metadata.py
2025-04-15T09:14:18.4017108Z Reformatting tests/samplers/test_logits_processor.py
2025-04-15T09:14:18.4018013Z Reformatting examples/offline_inference/embed_matryoshka_fy.py
2025-04-15T09:14:18.4018890Z Reformatting vllm/model_executor/models/qwen2_5_vl.py
2025-04-15T09:14:18.4019628Z Reformatting vllm/model_executor/models/arctic.py
2025-04-15T09:14:18.4020565Z Reformatting tests/spec_decode/e2e/test_logprobs.py
2025-04-15T09:14:18.4021409Z Reformatting vllm/model_executor/model_loader/__init__.py
2025-04-15T09:14:18.4022178Z Reformatting tests/kernels/test_fp8_quant.py
2025-04-15T09:14:18.4023020Z Reformatting tests/models/decoder_only/language/test_hybrid.py
2025-04-15T09:14:18.4023855Z Reformatting vllm/model_executor/models/internvl.py
2025-04-15T09:14:18.4024793Z Reformatting tests/models/decoder_only/vision_language/test_awq.py
2025-04-15T09:14:18.4025732Z Reformatting tests/entrypoints/openai/test_lora_adapters.py
2025-04-15T09:14:18.4026629Z Reformatting vllm/model_executor/models/mlp_speculator.py
2025-04-15T09:14:18.4027413Z Reformatting tests/encoder_decoder/__init__.py
2025-04-15T09:14:18.4028125Z Reformatting vllm/model_executor/models/qwen2.py
2025-04-15T09:14:18.4028994Z Reformatting tests/entrypoints/openai/test_vision_embedding.py
2025-04-15T09:14:18.4030260Z Reformatting vllm/model_executor/layers/quantization/utils/machete_utils.py
2025-04-15T09:14:18.4031111Z Reformatting vllm/worker/cache_engine.py
2025-04-15T09:14:18.4031886Z Reformatting vllm/transformers_utils/configs/moonvit.py
2025-04-15T09:14:18.4032558Z Reformatting vllm/utils.py
2025-04-15T09:14:18.4033139Z Reformatting tests/lora/test_add_lora.py
2025-04-15T09:14:18.4033803Z Reformatting tests/kernels/test_awq_marlin.py
2025-04-15T09:14:18.4034713Z Reformatting vllm/prompt_adapter/utils.py
2025-04-15T09:14:18.4035628Z Reformatting examples/offline_inference/vision_language_multi_image.py
2025-04-15T09:14:18.4036594Z Reformatting vllm/transformers_utils/detokenizer_utils.py
2025-04-15T09:14:18.4037282Z Reformatting vllm/profiler/__init__.py
2025-04-15T09:14:18.4037882Z Reformatting tests/spec_decode/__init__.py
2025-04-15T09:14:18.4038747Z Reformatting tests/models/decoder_only/audio_language/__init__.py
2025-04-15T09:14:18.4039577Z Reformatting tests/entrypoints/llm/test_chat.py
2025-04-15T09:14:18.4040516Z Reformatting vllm/model_executor/models/phimoe.py
2025-04-15T09:14:18.4041175Z Reformatting tests/test_regression.py
2025-04-15T09:14:18.4041742Z Reformatting vllm/__init__.py
2025-04-15T09:14:18.4042558Z Reformatting vllm/version.py
2025-04-15T09:14:18.4043202Z Reformatting tests/v1/sample/test_logprobs.py
2025-04-15T09:14:18.4043922Z Reformatting vllm/model_executor/models/mistral3.py
2025-04-15T09:14:18.4044855Z Reformatting tests/models/multimodal/processing/test_llava_next.py
2025-04-15T09:14:18.4045680Z Reformatting vllm/compilation/backends.py
2025-04-15T09:14:18.4046286Z Reformatting vllm/core/__init__.py
2025-04-15T09:14:18.4047177Z Reformatting tests/models/decoder_only/vision_language/test_interleaved.py
2025-04-15T09:14:18.4048020Z Reformatting tests/v1/engine/__init__.py
2025-04-15T09:14:18.4048747Z Reformatting vllm/worker/tpu_model_runner.py
2025-04-15T09:14:18.4049396Z Reformatting vllm/v1/core/kv_cache_utils.py
2025-04-15T09:14:18.4050442Z Reformatting vllm/model_executor/layers/quantization/bitsandbytes.py
2025-04-15T09:14:18.4051401Z Reformatting tests/tokenization/test_mistral_tokenizer.py
2025-04-15T09:14:18.4052203Z Reformatting vllm/model_executor/models/utils.py
2025-04-15T09:14:18.4053027Z Reformatting vllm/v1/structured_output/backend_types.py
2025-04-15T09:14:18.4053916Z Reformatting vllm/transformers_utils/tokenizers/__init__.py
2025-04-15T09:14:18.4054725Z Reformatting tests/v1/engine/test_engine_core.py
2025-04-15T09:14:18.4055357Z Reformatting vllm/worker/utils.py
2025-04-15T09:14:18.4056068Z Reformatting tests/neuron/1_core/test_prefix_prefill.py
2025-04-15T09:14:18.4056888Z Reformatting benchmarks/benchmark_utils.py
2025-04-15T09:14:18.4057647Z Reformatting tests/core/block/e2e/test_correctness.py
2025-04-15T09:14:18.4058647Z Reformatting benchmarks/kernels/deepgemm/benchmark_fp8_block_dense_gemm.py
2025-04-15T09:14:18.4059510Z Reformatting vllm/lora/ops/triton_ops/utils.py
2025-04-15T09:14:18.4060462Z Reformatting tests/models/test_oot_registration.py
2025-04-15T09:14:18.4061305Z Reformatting tests/encoder_decoder/test_e2e_correctness.py
2025-04-15T09:14:18.4062252Z Reformatting vllm/model_executor/models/idefics2_vision_model.py
2025-04-15T09:14:18.4063200Z Reformatting tests/samplers/test_typical_acceptance_sampler.py
2025-04-15T09:14:18.4064200Z Reformatting vllm/attention/ops/blocksparse_attention/utils.py
2025-04-15T09:14:18.4064970Z Reformatting vllm/lora/ops/__init__.py
2025-04-15T09:14:18.4065691Z Reformatting tests/neuron/1_core/test_activation.py
2025-04-15T09:14:18.4066434Z Reformatting tests/kernels/test_prefix_prefill.py
2025-04-15T09:14:18.4067129Z Reformatting vllm/v1/worker/worker_base.py
2025-04-15T09:14:18.4067807Z Reformatting vllm/compilation/decorators.py
2025-04-15T09:14:18.4068387Z Reformatting tests/__init__.py
2025-04-15T09:14:18.4069064Z Reformatting vllm/model_executor/models/qwen2_vl.py
2025-04-15T09:14:18.4069960Z Reformatting vllm/v1/engine/core_client.py
2025-04-15T09:14:18.4070970Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/utils.py
2025-04-15T09:14:18.4071824Z Reformatting tests/models/test_utils.py
2025-04-15T09:14:18.4072485Z Reformatting tests/lora/utils.py
2025-04-15T09:14:18.4073303Z Reformatting tests/tokenization/test_tokenizer_registry.py
2025-04-15T09:14:18.4074141Z Reformatting vllm/model_executor/models/kimi_vl.py
2025-04-15T09:14:18.4075250Z Reformatting tests/entrypoints/openai/correctness/test_transcription_api_correctness.py
2025-04-15T09:14:18.4077011Z Reformatting tests/plugins/vllm_add_dummy_platform/vllm_add_dummy_platform/dummy_attention_backend.py
2025-04-15T09:14:18.4078280Z Reformatting examples/offline_inference/embed_jina_embeddings_v3.py
2025-04-15T09:14:18.4079293Z Reformatting vllm/model_executor/layers/fused_moe/cutlass_moe.py
2025-04-15T09:14:18.4080357Z Reformatting vllm/model_executor/models/phi.py
2025-04-15T09:14:18.4080985Z Reformatting vllm/_ipex_ops.py
2025-04-15T09:14:18.4081803Z Reformatting vllm/model_executor/layers/quantization/neuron_quant.py
2025-04-15T09:14:18.4082956Z Reformatting vllm/model_executor/layers/quantization/kernels/scaled_mm/__init__.py
2025-04-15T09:14:18.4083772Z Reformatting vllm/profiler/utils.py
2025-04-15T09:14:18.4084382Z Reformatting tests/spec_decode/conftest.py
2025-04-15T09:14:18.4085306Z Reformatting vllm/core/block/interfaces.py
2025-04-15T09:14:18.4085945Z Reformatting tests/compile/__init__.py
2025-04-15T09:14:18.4086786Z Reformatting vllm/model_executor/layers/quantization/__init__.py
2025-04-15T09:14:18.4087590Z Reformatting vllm/engine/protocol.py
2025-04-15T09:14:18.4088395Z Reformatting tests/vllm_test_utils/vllm_test_utils/monitor.py
2025-04-15T09:14:18.4089309Z Reformatting vllm/model_executor/layers/quantization/gptq.py
2025-04-15T09:14:18.4090238Z Reformatting tests/v1/test_async_llm_dp.py
2025-04-15T09:14:18.4091061Z Reformatting examples/offline_inference/neuron_int8_quantization.py
2025-04-15T09:14:18.4091973Z Reformatting tests/models/decoder_only/language/test_fp8.py
2025-04-15T09:14:18.4092961Z Reformatting examples/online_serving/openai_cross_encoder_score.py
2025-04-15T09:14:18.4094003Z Reformatting tests/models/encoder_decoder/audio_language/__init__.py
2025-04-15T09:14:18.4094752Z Reformatting vllm/core/block/common.py
2025-04-15T09:14:18.4095704Z Reformatting tests/models/encoder_decoder/vision_language/test_broadcast.py
2025-04-15T09:14:18.4096638Z Reformatting tests/tokenization/test_detokenize.py
2025-04-15T09:14:18.4097921Z Reformatting vllm/model_executor/layers/quantization/compressed_tensors/schemes/compressed_tensors_24.py
2025-04-15T09:14:18.4099112Z Reformatting examples/offline_inference/prefix_caching.py
2025-04-15T09:14:18.4100034Z Reformatting tests/tool_use/utils.py
2025-04-15T09:14:18.4100756Z Reformatting tests/tpu/test_quantization_accuracy.py
2025-04-15T09:14:18.4101565Z Reformatting benchmarks/kernels/benchmark_rmsnorm.py
2025-04-15T09:14:18.4102242Z Reformatting vllm/entrypoints/ssl.py
2025-04-15T09:14:18.4102904Z Reformatting vllm/adapter_commons/request.py
2025-04-15T09:14:18.4103638Z Reformatting vllm/v1/executor/multiproc_executor.py
2025-04-15T09:14:18.4104267Z Reformatting vllm/v1/request.py
2025-04-15T09:14:18.4105000Z Reformatting vllm/model_executor/models/llava_onevision.py
2025-04-15T09:14:18.4105804Z Reformatting vllm/v1/structured_output/request.py
2025-04-15T09:14:18.4106513Z Reformatting vllm/model_executor/models/qwen.py
2025-04-15T09:14:18.4107254Z Reformatting tests/kernels/test_merge_attn_states.py
2025-04-15T09:14:18.4108103Z Reformatting examples/offline_inference/mlpspeculator.py
2025-04-15T09:14:18.4108953Z Reformatting tests/spec_decode/e2e/test_integration.py
2025-04-15T09:14:18.4109686Z Reformatting benchmarks/benchmark_dataset.py
2025-04-15T09:14:18.4110672Z Reformatting tests/entrypoints/openai/test_embedding.py
2025-04-15T09:14:18.4111573Z Reformatting vllm/model_executor/layers/mamba/ops/causal_conv1d.py
2025-04-15T09:14:18.4112179Z Reformatting vllm/distributed/device_communicators/cuda_communicator.py
2025-04-15T09:14:18.4112654Z Reformatting tests/core/test_num_computed_tokens_update.py
2025-04-15T09:14:18.4113040Z Reformatting vllm/lora/ops/triton_ops/__init__.py
2025-04-15T09:14:18.4113456Z Reformatting tests/distributed/test_shm_broadcast.py
2025-04-15T09:14:18.4113740Z Reformatting vllm/lora/__init__.py
2025-04-15T09:14:18.4114256Z Reformatting tests/entrypoints/openai/test_prompt_validation.py
2025-04-15T09:14:18.4114539Z Reformatting vllm/sequence.py
2025-04-15T09:14:18.4115021Z Reformatting examples/offline_inference/vision_language.py
2025-04-15T09:14:18.4115634Z Reformatting vllm/entrypoints/cli/serve.py
2025-04-15T09:14:18.4116128Z Reformatting vllm/model_executor/models/interfaces_base.py
2025-04-15T09:14:18.4116657Z Reformatting vllm/attention/ops/blocksparse_attention/interface.py
2025-04-15T09:14:18.4116997Z Reformatting vllm/worker/xpu_model_runner.py
2025-04-15T09:14:18.4117381Z Reformatting tests/quantization/test_lm_head.py
2025-04-15T09:14:18.4117703Z Reformatting vllm/worker/tpu_worker.py
2025-04-15T09:14:18.4118057Z Reformatting tests/kernels/test_block_fp8.py
2025-04-15T09:14:18.4118522Z Reformatting tests/quantization/test_compressed_tensors.py
2025-04-15T09:14:18.4118824Z Reformatting tests/multimodal/utils.py
2025-04-15T09:14:18.4119279Z Reformatting tests/kernels/test_triton_decode_attention.py
2025-04-15T09:14:18.4120056Z Reformatting vllm/multimodal/processing.py
2025-04-15T09:14:18.4120485Z Reformatting vllm/transformers_utils/configs/dbrx.py
2025-04-15T09:14:18.4120784Z Reformatting vllm/assets/video.py
2025-04-15T09:14:18.4121302Z Reformatting tests/reasoning/test_granite_reasoning_parser.py
2025-04-15T09:14:18.4121609Z Reformatting tests/lora/test_mixtral.py
2025-04-15T09:14:18.4121969Z Reformatting vllm/distributed/communication_op.py
2025-04-15T09:14:18.4122517Z Reformatting tests/entrypoints/llm/test_generate_multiple_loras.py
2025-04-15T09:14:18.4122831Z Reformatting vllm/engine/arg_utils.py
2025-04-15T09:14:18.4123404Z Reformatting vllm/model_executor/layers/quantization/quark/__init__.py
2025-04-15T09:14:18.4123795Z Reformatting vllm/model_executor/models/gemma3.py
2025-04-15T09:14:18.4124424Z Reformatting vllm/transformers_utils/tokenizer_group/ray_tokenizer_group.py
2025-04-15T09:14:18.4124791Z Reformatting vllm/model_executor/models/bloom.py
2025-04-15T09:14:18.4125129Z Reformatting tests/v1/tpu/test_pallas.py
2025-04-15T09:14:18.4125605Z Reformatting vllm/transformers_utils/tokenizers/mistral.py
2025-04-15T09:14:18.4125992Z Reformatting tests/quantization/test_ipex_quant.py
2025-04-15T09:14:18.4126414Z Reformatting vllm/model_executor/model_loader/neuron.py
2025-04-15T09:14:18.4126728Z Reformatting vllm/compilation/__init__.py
2025-04-15T09:14:18.4127350Z Reformatting vllm/model_executor/layers/quantization/quark/schemes/__init__.py
2025-04-15T09:14:18.4127994Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/runners.py
2025-04-15T09:14:18.4128274Z Reformatting vllm/assets/base.py
2025-04-15T09:14:18.4128632Z Reformatting tests/model_executor/conftest.py
2025-04-15T09:14:18.4129065Z Reformatting tests/distributed/test_ca_buffer_sharing.py
2025-04-15T09:14:18.4129489Z Reformatting vllm/attention/ops/merge_attn_states.py
2025-04-15T09:14:18.4130023Z Reformatting tests/quantization/utils.py
2025-04-15T09:14:18.4130388Z Reformatting tests/spec_decode/e2e/test_seed.py
2025-04-15T09:14:18.4130675Z Reformatting vllm/test_utils.py
2025-04-15T09:14:18.4131062Z Reformatting vllm/model_executor/models/gritlm.py
2025-04-15T09:14:18.4131432Z Reformatting tests/kv_transfer/test_send_recv.py
2025-04-15T09:14:18.4131861Z Reformatting tests/multi_step/test_correctness_llm.py
2025-04-15T09:14:18.4132221Z Reformatting vllm/model_executor/models/fuyu.py
2025-04-15T09:14:18.4132576Z Reformatting vllm/model_executor/models/mpt.py
2025-04-15T09:14:18.4133173Z Reformatting examples/online_serving/disagg_examples/disagg_proxy_demo.py
2025-04-15T09:14:18.4133447Z Reformatting vllm/v1/utils.py
2025-04-15T09:14:18.4133825Z Reformatting vllm/v1/worker/gpu_model_runner.py
2025-04-15T09:14:18.4134256Z Reformatting tests/models/encoder_decoder/__init__.py
2025-04-15T09:14:18.4134746Z Reformatting vllm/model_executor/layers/quantization/qqq.py
2025-04-15T09:14:18.4135121Z Reformatting vllm/attention/backends/abstract.py
2025-04-15T09:14:18.4135443Z Reformatting tests/samplers/test_sampler.py
2025-04-15T09:14:18.4136039Z Reformatting tests/models/encoder_decoder/vision_language/__init__.py
2025-04-15T09:14:18.4136457Z Reformatting vllm/model_executor/models/commandr.py
2025-04-15T09:14:18.4136972Z Reformatting tests/models/embedding/language/test_cls_models.py
2025-04-15T09:14:18.4137587Z Reformatting tests/worker/test_model_input.py
2025-04-15T09:14:18.4137988Z Reformatting tests/entrypoints/test_chat_utils.py
2025-04-15T09:14:18.4138322Z Reformatting vllm/spec_decode/metrics.py
2025-04-15T09:14:18.4138662Z Reformatting vllm/engine/metrics_types.py
2025-04-15T09:14:18.4139062Z Reformatting vllm/model_executor/models/qwen2_rm.py
2025-04-15T09:14:18.4139536Z Reformatting tests/spec_decode/e2e/test_eagle_correctness.py
2025-04-15T09:14:18.4140046Z Reformatting vllm/benchmarks/serve.py
2025-04-15T09:14:18.4140413Z Reformatting vllm/model_executor/models/medusa.py
2025-04-15T09:14:18.4140706Z Reformatting vllm/v1/metrics/loggers.py
2025-04-15T09:14:18.4140991Z Reformatting vllm/multimodal/video.py
2025-04-15T09:14:18.4141701Z Reformatting tests/spec_decode/e2e/test_mlp_correctness.py
2025-04-15T09:14:18.4142320Z Reformatting examples/offline_inference/disaggregated_prefill_lmcache.py
2025-04-15T09:14:18.4142858Z Reformatting vllm/model_executor/models/prithvi_geospatial_mae.py
2025-04-15T09:14:18.4143223Z Reformatting tests/async_engine/__init__.py
2025-04-15T09:14:18.4143822Z Reformatting vllm/model_executor/layers/quantization/utils/layer_utils.py
2025-04-15T09:14:18.4144198Z Reformatting vllm/attention/backends/flashmla.py
2025-04-15T09:14:18.4144611Z Reformatting vllm/model_executor/models/persimmon.py
2025-04-15T09:14:18.4144952Z Reformatting vllm/adapter_commons/layers.py
2025-04-15T09:14:18.4145500Z Reformatting tests/models/decoder_only/language/test_gptq_marlin.py
2025-04-15T09:14:18.4146204Z Reformatting tests/models/decoder_only/vision_language/vlm_utils/case_filtering.py
2025-04-15T09:14:18.4146595Z Reformatting vllm/model_executor/models/olmoe.py
2025-04-15T09:14:18.4146963Z Reformatting tests/core/block/e2e/__init__.py
2025-04-15T09:14:18.4147297Z Reformatting vllm/v1/attention/__init__.py
2025-04-15T09:14:18.4147793Z Reformatting tests/entrypoints/llm/test_prompt_validation.py
2025-04-15T09:14:18.4148278Z Reformatting tests/compile/piecewise/test_toy_llama.py
2025-04-15T09:14:18.4148727Z Reformatting vllm/transformers_utils/configs/mllama.py
2025-04-15T09:14:18.4149057Z Reformatting vllm/v1/spec_decode/eagle.py
2025-04-15T09:14:18.4149534Z Reformatting tests/plugins_tests/test_scheduler_plugins.py
2025-04-15T09:14:18.4150025Z Reformatting vllm/spec_decode/util.py
2025-04-15T09:14:18.4150497Z Reformatting tests/spec_decode/e2e/test_compatibility.py
2025-04-15T09:14:18.4150822Z Reformatting vllm/entrypoints/__init__.py
2025-04-15T09:14:18.4151248Z Reformatting vllm/v1/attention/backends/triton_attn.py
2025-04-15T09:14:18.4151543Z Reformatting tests/reasoning/utils.py
2025-04-15T09:14:18.4151881Z Reformatting vllm/logging_utils/__init__.py
2025-04-15T09:14:18.4152269Z Reformatting tests/samplers/test_no_bad_words.py
2025-04-15T09:14:18.4152740Z Reformatting vllm/model_executor/models/minimax_cache.py
2025-04-15T09:14:18.4153141Z Reformatting examples/other/tensorize_vllm_model.py
2025-04-15T09:14:18.4153452Z Reformatting vllm/v1/core/sched/utils.py
2025-04-15T09:14:18.4153936Z Reformatting tests/spec_decode/test_dynamic_spec_decode.py
2025-04-15T09:14:18.4154353Z Reformatting vllm/executor/multiproc_worker_utils.py
2025-04-15T09:14:18.4154714Z Reformatting tests/distributed/test_pynccl.py
2025-04-15T09:14:18.4155191Z Reformatting vllm/distributed/device_communicators/pynccl.py
2025-04-15T09:14:18.4155587Z Reformatting tests/engine/test_short_mm_context.py
2025-04-15T09:14:18.4155987Z Reformatting tests/engine/test_multiproc_workers.py
2025-04-15T09:14:18.4156387Z Reformatting vllm/lora/punica_wrapper/punica_cpu.py
2025-04-15T09:14:18.4156793Z Reformatting vllm/lora/punica_wrapper/punica_hpu.py
2025-04-15T09:14:18.4157193Z Reformatting vllm/reasoning/abs_reasoning_parsers.py
2025-04-15T09:14:18.4157648Z Reformatting tests/tokenization/test_tokenizer_group.py
2025-04-15T09:14:18.4158037Z Reformatting vllm/model_executor/models/mamba.py
2025-04-15T09:14:18.4158478Z Reformatting tests/async_engine/test_async_llm_engine.py
2025-04-15T09:14:18.4159034Z Reformatting tests/quantization/__init__.py
2025-04-15T09:14:18.4159361Z Reformatting tests/test_seed_behavior.py
2025-04-15T09:14:18.4159955Z Reformatting tests/quantization/test_gptq_dynamic.py
2025-04-15T09:14:18.4160554Z Reformatting tests/v1/entrypoints/llm/test_struct_output_generate.py
2025-04-15T09:14:18.4161016Z Reformatting tests/plugins_tests/test_platform_plugins.py
2025-04-15T09:14:18.4161403Z Reformatting vllm/attention/ops/hpu_paged_attn.py
2025-04-15T09:14:18.4161920Z Reformatting tests/models/decoder_only/language/test_phimoe.py
2025-04-15T09:14:18.4162286Z Reformatting vllm/model_executor/models/gpt2.py
2025-04-15T09:14:18.4163042Z Reformatting examples/online_serving/openai_chat_completion_client_with_tools_required.py
2025-04-15T09:14:18.4163740Z Reformatting vllm/entrypoints/openai/tool_parsers/__init__.py
2025-04-15T09:14:18.4164053Z Reformatting tests/v1/engine/conftest.py
2025-04-15T09:14:18.4164408Z Reformatting tests/kernels/test_block_int8.py
2025-04-15T09:14:18.4164687Z Reformatting tests/build_cython.py
2025-04-15T09:14:18.4165087Z Reformatting vllm/model_executor/models/idefics3.py
2025-04-15T09:14:18.4165423Z Reformatting tests/kernels/test_attention.py
2025-04-15T09:14:18.4165774Z Reformatting vllm/lora/punica_wrapper/utils.py
2025-04-15T09:14:18.4166114Z Reformatting vllm/model_executor/__init__.py
2025-04-15T09:14:18.4166495Z Reformatting tests/kernels/test_nvfp4_scaled_mm.py
2025-04-15T09:14:18.4166802Z Reformatting tests/reasoning/__init__.py
2025-04-15T09:14:18.4167205Z Reformatting benchmarks/kernels/benchmark_aqlm.py
2025-04-15T09:14:18.4167553Z Reformatting tests/kernels/test_flashinfer.py
2025-04-15T09:14:18.4167964Z Reformatting tests/fastsafetensors_loader/__init__.py
2025-04-15T09:14:18.4168631Z Reformatting examples/online_serving/openai_chat_completion_client_with_tools.py
2025-04-15T09:14:18.4168996Z Reformatting tests/compile/test_pass_manager.py
2025-04-15T09:14:18.4169354Z Reformatting vllm/model_executor/layers/linear.py
2025-04-15T09:14:18.4169875Z Reformatting vllm/attention/backends/torch_sdpa.py
2025-04-15T09:14:18.4170166Z Reformatting vllm/lora/models.py
2025-04-15T09:14:18.4170804Z Reformatting vllm/distributed/kv_transfer/kv_lookup_buffer/mooncake_store.py
2025-04-15T09:14:18.4171114Z Reformatting tests/tool_use/__init__.py
2025-04-15T09:14:18.4171682Z Reformatting tests/entrypoints/openai/test_return_tokens_as_ids.py
2025-04-15T09:14:18.4172108Z Reformatting tests/quantization/test_experts_int8.py
2025-04-15T09:14:18.4172474Z Reformatting vllm/spec_decode/top1_proposer.py
2025-04-15T09:14:18.4173008Z Reformatting tests/models/decoder_only/language/test_granite.py
2025-04-15T09:14:18.4173385Z Reformatting tests/lora/test_lora_huggingface.py
2025-04-15T09:14:18.4173726Z Reformatting tests/lora/test_lora_manager.py
2025-04-15T09:14:18.4174172Z Reformatting benchmarks/overheads/benchmark_hashing.py
2025-04-15T09:14:18.4174613Z Reformatting tests/spec_decode/test_multi_step_worker.py
2025-04-15T09:14:18.4174997Z Reformatting tests/v1/sample/test_logprobs_e2e.py
2025-04-15T09:14:18.4175343Z Reformatting vllm/v1/core/kv_cache_manager.py
2025-04-15T09:14:18.4175944Z Reformatting tests/models/encoder_decoder/vision_language/test_florence2.py
2025-04-15T09:14:18.4176294Z Reformatting vllm/attention/ops/__init__.py
2025-04-15T09:14:18.4176717Z Reformatting vllm/model_executor/models/chameleon.py
2025-04-15T09:14:18.4177223Z Reformatting examples/offline_inference/llm_engine_example.py
2025-04-15T09:14:18.4177697Z Reformatting tests/neuron/1_core/test_logits_processor.py
2025-04-15T09:14:18.4178090Z Reformatting vllm/spec_decode/multi_step_worker.py
2025-04-15T09:14:18.4178442Z Reformatting vllm/spec_decode/interfaces.py
2025-04-15T09:14:18.4178807Z Reformatting vllm/model_executor/models/jais.py
2025-04-15T09:14:18.4179323Z Reformatting tests/entrypoints/openai/test_async_tokenization.py
2025-04-15T09:14:18.4179673Z Reformatting tests/test_sharded_state_loader.py
2025-04-15T09:14:18.4180126Z Reformatting vllm/attention/layer.py
2025-04-15T09:14:18.4180500Z Reformatting vllm/model_executor/models/glm.py
2025-04-15T09:14:18.4181077Z Reformatting vllm/prompt_adapter/__init__.py
2025-04-15T09:14:18.4181505Z Reformatting tests/v1/sample/test_topk_topp_sampler.py
2025-04-15T09:14:18.4181804Z Reformatting vllm/forward_context.py
2025-04-15T09:14:18.4182131Z Reformatting vllm/v1/spec_decode/metrics.py
2025-04-15T09:14:18.4182504Z Reformatting vllm/attention/backends/hpu_attn.py
2025-04-15T09:14:18.4182904Z Reformatting vllm/spec_decode/spec_decode_worker.py
2025-04-15T09:14:18.4183348Z Reformatting vllm/transformers_utils/configs/internvl.py
2025-04-15T09:14:18.4183810Z Reformatting vllm/attention/ops/triton_merge_attn_states.py
2025-04-15T09:14:18.4184108Z Reformatting tests/models/registry.py
2025-04-15T09:14:18.4184780Z Reformatting vllm/model_executor/layers/mamba/ops/mamba_ssm.py
2025-04-15T09:14:18.4185231Z Reformatting tests/kernels/test_cutlass_2of4_sparse.py
2025-04-15T09:14:18.4185727Z Reformatting vllm/transformers_utils/processors/__init__.py
2025-04-15T09:14:18.4186193Z Reformatting vllm/transformers_utils/configs/chatglm.py
2025-04-15T09:14:18.4186632Z Reformatting vllm/core/block/prefix_caching_block.py
2025-04-15T09:14:18.4187400Z Reformatting vllm/model_executor/layers/quantization/kernels/mixed_precision/__init__.py
2025-04-15T09:14:18.4187788Z Reformatting vllm/transformers_utils/config.py
2025-04-15T09:14:18.4188136Z Reformatting tests/samplers/test_logprobs.py
2025-04-15T09:14:18.4188436Z Reformatting tests/samplers/__init__.py
2025-04-15T09:14:18.4189214Z Reformatting vllm/model_executor/layers/quantization/kernels/mixed_precision/MPLinearKernel.py
2025-04-15T09:14:18.4189533Z Reformatting tests/models/test_transformers.py
2025-04-15T09:14:18.4190254Z Reformatting tests/spec_decode/e2e/test_integration_dist_tp2.py
2025-04-15T09:14:18.4190731Z Reformatting tests/weight_loading/test_weight_loading.py
2025-04-15T09:14:18.4191128Z Reformatting tests/v1/core/test_kv_cache_utils.py
2025-04-15T09:14:18.4191680Z Reformatting vllm/model_executor/layers/quantization/ipex_quant.py
2025-04-15T09:14:18.4192318Z Reformatting vllm/model_executor/layers/quantization/utils/allspark_utils.py
2025-04-15T09:14:18.4192649Z Reformatting tests/kernels/test_cutlass.py
2025-04-15T09:14:18.4193002Z Reformatting vllm/v1/worker/gpu_input_batch.py
2025-04-15T09:14:18.4193318Z Reformatting tests/mq_llm_engine/utils.py
2025-04-15T09:14:18.4193647Z Reformatting tests/multi_step/__init__.py
2025-04-15T09:14:18.4194144Z Reformatting vllm/reasoning/deepseek_r1_reasoning_parser.py
2025-04-15T09:14:18.4194501Z Reformatting tests/v1/core/test_scheduler.py
2025-04-15T09:14:18.4195092Z Reformatting examples/offline_inference/vision_language_embedding.py
2025-04-15T09:14:18.4195525Z Reformatting examples/offline_inference/basic/embed.py
2025-04-15T09:14:18.4195826Z Reformatting tests/kernels/test_aqlm.py
2025-04-15T09:14:18.4196125Z Reformatting vllm/multimodal/registry.py
2025-04-15T09:14:18.4196483Z Reformatting tests/core/block/test_block_manager.py
2025-04-15T09:14:18.4197085Z Reformatting vllm/distributed/device_communicators/xpu_communicator.py
2025-04-15T09:14:18.4197535Z Reformatting tests/engine/test_skip_tokenizer_init.py
2025-04-15T09:14:18.4197841Z Reformatting vllm/platforms/neuron.py
2025-04-15T09:14:18.4198289Z Reformatting vllm/model_executor/models/qwen2_audio.py
2025-04-15T09:14:18.4198763Z Reformatting tools/profiler/visualize_layerwise_profile.py
2025-04-15T09:14:18.4199092Z Reformatting vllm/benchmarks/throughput.py
2025-04-15T09:14:18.4199464Z Reformatting tests/kernels/test_cutlass_moe.py
2025-04-15T09:14:18.4200267Z Reformatting vllm/distributed/device_communicators/neuron_communicator.py
2025-04-15T09:14:18.4200829Z Reformatting vllm/distributed/kv_transfer/kv_connector/factory.py
2025-04-15T09:14:18.4201199Z Reformatting vllm/lora/fully_sharded_layers.py
2025-04-15T09:14:18.4201688Z Reformatting vllm/model_executor/layers/quantization/awq.py
2025-04-15T09:14:18.4202073Z Reformatting tests/v1/engine/test_engine_args.py
2025-04-15T09:14:18.4202466Z Reformatting vllm/model_executor/models/moonvit.py
2025-04-15T09:14:18.4203008Z Reformatting tests/v1/tpu/test_perf.py
2025-04-15T09:14:18.4203448Z Reformatting examples/offline_inference/basic/score.py
2025-04-15T09:14:18.4203738Z Reformatting vllm/platforms/rocm.py
2025-04-15T09:14:18.4204270Z Reformatting tests/runai_model_streamer_test/test_weight_utils.py
2025-04-15T09:14:18.4204864Z Reformatting vllm/model_executor/layers/quantization/utils/fp8_utils.py
2025-04-15T09:14:18.4205321Z Reformatting vllm/engine/output_processor/stop_checker.py
2025-04-15T09:14:18.4205701Z Reformatting vllm/model_executor/models/llama.py
2025-04-15T09:14:18.4206040Z Reformatting vllm/v1/spec_decode/metadata.py
2025-04-15T09:14:18.4206441Z Reformatting tests/entrypoints/openai/test_metrics.py
2025-04-15T09:14:18.4206976Z Reformatting vllm/model_executor/models/roberta.py
2025-04-15T09:14:18.4207212Z Reformatting vllm/logger.py
2025-04-15T09:14:18.4207561Z Reformatting vllm/model_executor/models/blip2.py
2025-04-15T09:14:18.4207899Z Reformatting tests/prompt_adapter/test_bloom.py
2025-04-15T09:14:18.4208248Z Reformatting tests/samplers/test_ignore_eos.py
2025-04-15T09:14:18.4208745Z Reformatting tests/models/multimodal/processing/test_phi3v.py
2025-04-15T09:14:18.4209119Z Reformatting tests/kernels/test_pos_encoding.py
2025-04-15T09:14:18.4209509Z Reformatting tests/core/block/test_naive_block.py
2025-04-15T09:14:18.4210078Z Reformatting tests/v1/engine/test_llm_engine.py
2025-04-15T09:14:18.4210438Z Reformatting tests/spec_decode/test_metrics.py
2025-04-15T09:14:18.4210735Z Reformatting tests/metrics/__init__.py
2025-04-15T09:14:18.4211123Z Reformatting tests/tensorizer_loader/conftest.py
2025-04-15T09:14:18.4211559Z Reformatting tests/kernels/test_triton_moe_ptpc_fp8.py
2025-04-15T09:14:18.4212041Z Reformatting vllm/model_executor/layers/quantization/aqlm.py
2025-04-15T09:14:18.4212356Z Reformatting vllm/v1/core/__init__.py
2025-04-15T09:14:18.4212710Z Reformatting tests/mistral_tool_use/utils.py
2025-04-15T09:14:18.4213049Z Reformatting tests/entrypoints/__init__.py
2025-04-15T09:14:18.4213638Z Reformatting csrc/cutlass_extensions/vllm_cutlass_library_extension.py
2025-04-15T09:14:18.4214026Z Reformatting benchmarks/kernels/weight_shapes.py
2025-04-15T09:14:18.4214408Z Reformatting vllm/model_executor/models/mixtral.py
2025-04-15T09:14:18.4214989Z Reformatting vllm/model_executor/layers/quantization/utils/int8_utils.py
2025-04-15T09:14:18.4215289Z Reformatting tests/test_logger.py
2025-04-15T09:14:18.4215755Z Reformatting vllm/transformers_utils/configs/telechat2.py
2025-04-15T09:14:18.4216251Z Reformatting vllm/model_executor/guided_decoding/__init__.py
2025-04-15T09:14:18.4216687Z Reformatting tests/tool_use/test_parallel_tool_calls.py
2025-04-15T09:14:18.4217091Z Reformatting tests/kernels/test_attention_selector.py
2025-04-15T09:14:18.4217545Z Reformatting examples/offline_inference/distributed.py
2025-04-15T09:14:18.4217885Z Reformatting tests/kernels/test_flashmla.py
2025-04-15T09:14:18.4218301Z Reformatting vllm/model_executor/models/gemma3_mm.py
2025-04-15T09:14:18.4218630Z Reformatting vllm/worker/xpu_worker.py
2025-04-15T09:14:18.4218996Z Reformatting vllm/model_executor/models/molmo.py
2025-04-15T09:14:18.4219405Z Reformatting vllm/model_executor/models/minicpm.py
2025-04-15T09:14:18.4220016Z Reformatting vllm/model_executor/models/florence2.py
2025-04-15T09:14:18.4220402Z Reformatting vllm/worker/multi_step_tpu_worker.py
2025-04-15T09:14:18.4220945Z Reformatting tests/models/decoder_only/language/test_modelopt.py
2025-04-15T09:14:18.4221321Z Reformatting tests/quantization/test_configs.py
2025-04-15T09:14:18.4221721Z Reformatting vllm/model_executor/models/minicpmo.py
2025-04-15T09:14:18.4222093Z Reformatting vllm/attention/backends/cpu_mla.py
2025-04-15T09:14:18.4222705Z Reformatting vllm/entrypoints/openai/tool_parsers/abstract_tool_parser.py
2025-04-15T09:14:18.4223091Z Reformatting tests/compile/test_wrapper.py
2025-04-15T09:14:18.4223543Z Reformatting tests/entrypoints/openai/test_completion.py
2025-04-15T09:14:18.4223953Z Reformatting vllm/worker/cpu_enc_dec_model_runner.py
2025-04-15T09:14:18.4224590Z Reformatting vllm/spec_decode/proposer_worker_base.py
2025-04-15T09:14:18.4224916Z Reformatting vllm/core/block_manager.py
2025-04-15T09:14:18.4225315Z Reformatting vllm/model_executor/models/smolvlm.py
2025-04-15T09:14:18.4225637Z Reformatting tests/v1/worker/__init__.py
2025-04-15T09:14:18.4226148Z Reformatting vllm/model_executor/layers/fused_moe/moe_pallas.py
2025-04-15T09:14:18.4226621Z Reformatting tests/entrypoints/openai/test_serving_chat.py
2025-04-15T09:14:18.4227240Z Reformatting vllm/distributed/kv_transfer/kv_connector/simple_connector.py
2025-04-15T09:14:18.4227654Z Reformatting tests/kv_transfer/test_lookup_buffer.py
2025-04-15T09:14:18.4228127Z Reformatting vllm/v1/structured_output/backend_guidance.py
2025-04-15T09:14:18.4228689Z Reformatting vllm/v1/core/sched/__init__.py
2025-04-15T09:14:18.4229359Z Reformatting tests/plugins/vllm_add_dummy_model/vllm_add_dummy_model/__init__.py
2025-04-15T09:14:18.4230150Z Reformatting tests/models/decoder_only/vision_language/test_intern_vit.py
2025-04-15T09:14:18.4230524Z Reformatting vllm/v1/stats/common.py
2025-04-15T09:14:18.4230973Z Reformatting examples/offline_inference/profiling.py
2025-04-15T09:14:18.4231334Z Reformatting tests/v1/entrypoints/__init__.py
2025-04-15T09:14:18.4231753Z Reformatting vllm/entrypoints/openai/serving_score.py
2025-04-15T09:14:18.4232139Z Reformatting vllm/model_executor/models/olmo.py
2025-04-15T09:14:18.4232572Z Reformatting vllm/executor/ray_distributed_executor.py
2025-04-15T09:14:18.4233128Z Reformatting vllm/distributed/kv_transfer/kv_lookup_buffer/base.py
2025-04-15T09:14:18.4233614Z Reformatting tests/models/decoder_only/language/test_gguf.py
2025-04-15T09:14:18.4234176Z Reformatting examples/offline_inference/disaggregated_prefill.py
2025-04-15T09:14:18.4234567Z Reformatting vllm/model_executor/models/zamba2.py
2025-04-15T09:14:18.4234915Z Reformatting vllm/spec_decode/medusa_worker.py
2025-04-15T09:14:18.4235268Z Reformatting vllm/prompt_adapter/layers.py
2025-04-15T09:14:18.4235826Z Reformatting vllm/attention/ops/blocksparse_attention/__init__.py
2025-04-15T09:14:18.4236270Z Reformatting vllm/model_executor/models/phi4mm_audio.py
2025-04-15T09:14:18.4236611Z Reformatting vllm/v1/sample/tpu/sampler.py
2025-04-15T09:14:18.4236893Z Reformatting tests/test_config.py
2025-04-15T09:14:18.4237620Z Reformatting .buildkite/nightly-benchmarks/scripts/convert-results-json-to-markdown.py
2025-04-15T09:14:18.4237968Z Reformatting vllm/model_executor/parameter.py
2025-04-15T09:14:18.4238338Z Reformatting tests/benchmarks/test_serve_cli.py
2025-04-15T09:14:18.4239012Z Reformatting vllm/distributed/device_communicators/base_device_communicator.py
2025-04-15T09:14:18.4239479Z Reformatting vllm/entrypoints/cli/benchmark/throughput.py
2025-04-15T09:14:18.4240000Z Reformatting tests/core/block/conftest.py
2025-04-15T09:14:18.4240489Z Reformatting tests/plugins/vllm_add_dummy_platform/setup.py
2025-04-15T09:14:18.4241127Z Reformatting .buildkite/nightly-benchmarks/scripts/get-lmdeploy-modelname.py
2025-04-15T09:14:18.4241513Z Reformatting tests/mistral_tool_use/__init__.py
2025-04-15T09:14:18.4241939Z Reformatting vllm/model_executor/models/baichuan.py
2025-04-15T09:14:18.4242323Z Reformatting tests/models/multimodal/__init__.py
2025-04-15T09:14:18.4242701Z Reformatting vllm/model_executor/models/glm4.py
2025-04-15T09:14:18.4243083Z Reformatting tests/multimodal/test_processing.py
2025-04-15T09:14:18.4243464Z Reformatting tests/async_engine/test_api_server.py
2025-04-15T09:14:18.4243768Z Reformatting benchmarks/kernels/utils.py
2025-04-15T09:14:18.4244051Z Reformatting vllm/multimodal/image.py
2025-04-15T09:14:18.4244412Z Reformatting tests/tool_use/test_tool_calls.py
2025-04-15T09:14:18.4245177Z Reformatting examples/online_serving/openai_chat_completion_tool_calls_with_reasoning.py
2025-04-15T09:14:18.4245482Z Reformatting vllm/core/interfaces.py
2025-04-15T09:14:18.4245857Z Reformatting examples/offline_inference/rlhf.py
2025-04-15T09:14:18.4246314Z Reformatting vllm/core/placeholder_block_space_manager.py
2025-04-15T09:14:18.4247052Z Reformatting tests/samplers/test_rejection_sampler.py
2025-04-15T09:14:18.4247633Z Reformatting vllm/model_executor/layers/typical_acceptance_sampler.py
2025-04-15T09:14:18.4248011Z Reformatting vllm/entrypoints/openai/protocol.py
2025-04-15T09:14:18.4248516Z Reformatting vllm/attention/backends/placeholder_attn.py
2025-04-15T09:14:18.4248868Z Reformatting tests/distributed/test_comm_ops.py
2025-04-15T09:14:18.4249299Z Reformatting vllm/distributed/kv_transfer/__init__.py
2025-04-15T09:14:18.4249706Z Reformatting tests/compile/test_basic_correctness.py
2025-04-15T09:14:18.4250222Z Reformatting vllm/benchmarks/datasets.py
2025-04-15T09:14:18.4250840Z Reformatting vllm/entrypoints/openai/tool_parsers/granite_tool_parser.py
2025-04-15T09:14:18.4251496Z Reformatting tests/standalone_tests/lazy_imports.py
2025-04-15T09:14:18.4251840Z Reformatting tests/detokenizer/__init__.py
2025-04-15T09:14:18.4252363Z Reformatting tests/models/multimodal/processing/test_idefics3.py
2025-04-15T09:14:18.4252903Z Reformatting vllm/model_executor/guided_decoding/reasoner/__init__.py
2025-04-15T09:14:18.4253358Z Reformatting tests/core/test_chunked_prefill_scheduler.py
2025-04-15T09:14:18.4253806Z Reformatting tests/distributed/test_distributed_oot.py
2025-04-15T09:14:18.4254144Z Reformatting vllm/executor/executor_base.py
2025-04-15T09:14:18.4254461Z Reformatting vllm/v1/engine/processor.py
2025-04-15T09:14:18.4254911Z Reformatting tests/kernels/test_blocksparse_attention.py
2025-04-15T09:14:18.4255300Z Reformatting vllm/model_executor/models/pixtral.py
2025-04-15T09:14:18.4255632Z Reformatting tests/quantization/test_fp8.py
2025-04-15T09:14:18.4256280Z Reformatting vllm/model_executor/layers/quantization/utils/marlin_utils_test.py
2025-04-15T09:14:18.4256615Z Reformatting vllm/worker/cpu_worker.py
2025-04-15T09:14:18.4257008Z Reformatting vllm/attention/backends/xformers.py
2025-04-15T09:14:18.4257434Z Reformatting tools/profiler/print_layerwise_table.py
2025-04-15T09:14:18.4257960Z Reformatting tests/models/multimodal/processing/test_llama4.py
2025-04-15T09:14:18.4258264Z Reformatting vllm/usage/__init__.py
2025-04-15T09:14:18.4258812Z Reformatting vllm/model_executor/layers/quantization/utils/__init__.py
2025-04-15T09:14:18.4259231Z Reformatting vllm/prompt_adapter/worker_manager.py
2025-04-15T09:14:18.4259252Z 
2025-04-15T09:14:18.7002349Z ruff.....................................................................[41mFailed[m
2025-04-15T09:14:18.7002757Z [2m- hook id: ruff[m
2025-04-15T09:14:18.7002999Z [2m- exit code: 1[m
2025-04-15T09:14:18.7003258Z [2m- files were modified by this hook[m
2025-04-15T09:14:18.7003269Z 
2025-04-15T09:14:18.7024820Z ##[error]vllm/model_executor/models/aimv2.py:9:81: E501 Line too long (82 > 80)
2025-04-15T09:14:18.7026336Z ##[error]vllm/model_executor/models/aimv2.py:18:81: E501 Line too long (89 > 80)
2025-04-15T09:14:18.7027125Z ##[error]vllm/model_executor/models/aimv2.py:56:81: E501 Line too long (81 > 80)
2025-04-15T09:14:18.7027806Z ##[error]vllm/model_executor/models/aimv2.py:96:81: E501 Line too long (126 > 80)
2025-04-15T09:14:18.7028536Z ##[error]vllm/model_executor/models/aimv2.py:105:81: E501 Line too long (112 > 80)
2025-04-15T09:14:18.7029216Z ##[error]vllm/model_executor/models/aimv2.py:106:81: E501 Line too long (98 > 80)
2025-04-15T09:14:18.7030295Z ##[error]vllm/model_executor/models/aimv2.py:108:16: E741 Ambiguous variable name: `l`
2025-04-15T09:14:18.7031007Z ##[error]vllm/model_executor/models/aimv2.py:108:81: E501 Line too long (82 > 80)
2025-04-15T09:14:18.7031705Z ##[error]vllm/model_executor/models/aimv2.py:110:81: E501 Line too long (90 > 80)
2025-04-15T09:14:18.7032361Z ##[error]vllm/model_executor/models/aimv2.py:133:81: E501 Line too long (83 > 80)
2025-04-15T09:14:18.7033006Z ##[error]vllm/model_executor/models/aimv2.py:139:81: E501 Line too long (106 > 80)
2025-04-15T09:14:18.7033645Z ##[error]vllm/model_executor/models/aimv2.py:328:81: E501 Line too long (93 > 80)
2025-04-15T09:14:18.7034287Z ##[error]vllm/model_executor/models/ovis2.py:32:81: E501 Line too long (116 > 80)
2025-04-15T09:14:18.7035211Z ##[error]vllm/model_executor/models/ovis2.py:373:81: E501 Line too long (109 > 80)
2025-04-15T09:14:18.7035866Z ##[error]vllm/model_executor/models/ovis2.py:379:81: E501 Line too long (126 > 80)
2025-04-15T09:14:18.7036499Z ##[error]vllm/transformers_utils/config.py:39:81: E501 Line too long (84 > 80)
2025-04-15T09:14:18.7037183Z ##[error]vllm/transformers_utils/configs/ovis2.py:11:81: E501 Line too long (87 > 80)
2025-04-15T09:14:18.7037850Z ##[error]vllm/transformers_utils/configs/ovis2.py:13:81: E501 Line too long (86 > 80)
2025-04-15T09:14:18.7038512Z ##[error]vllm/transformers_utils/configs/ovis2.py:27:81: E501 Line too long (87 > 80)
2025-04-15T09:14:18.7039205Z ##[error]vllm/transformers_utils/configs/ovis2.py:29:81: E501 Line too long (82 > 80)
2025-04-15T09:14:18.7040317Z ##[error]vllm/transformers_utils/configs/ovis2.py:102:81: E501 Line too long (124 > 80)
2025-04-15T09:14:18.7041209Z ##[error]vllm/transformers_utils/configs/ovis2.py:146:81: E501 Line too long (114 > 80)
2025-04-15T09:14:18.7042401Z ##[error]vllm/transformers_utils/configs/ovis2.py:155:81: E501 Line too long (83 > 80)
2025-04-15T09:14:18.7043368Z ##[error]vllm/transformers_utils/configs/ovis2.py:156:81: E501 Line too long (140 > 80)
2025-04-15T09:14:18.7043395Z 
2025-04-15T09:14:20.0635879Z codespell................................................................[42mPassed[m
2025-04-15T09:14:23.2340691Z isort....................................................................[41mFailed[m
2025-04-15T09:14:23.2341569Z [2m- hook id: isort[m
2025-04-15T09:14:23.2342290Z [2m- files were modified by this hook[m
2025-04-15T09:14:23.2342627Z 
2025-04-15T09:14:23.2343240Z Fixing /home/runner/work/vllm/vllm/vllm/model_executor/models/aimv2.py
2025-04-15T09:14:23.2344368Z Fixing /home/runner/work/vllm/vllm/vllm/model_executor/models/ovis2.py
2025-04-15T09:14:23.2345513Z Fixing /home/runner/work/vllm/vllm/vllm/transformers_utils/config.py
2025-04-15T09:14:23.2346688Z Fixing /home/runner/work/vllm/vllm/vllm/transformers_utils/configs/ovis2.py
2025-04-15T09:14:23.2347942Z Fixing /home/runner/work/vllm/vllm/vllm/transformers_utils/processors/ovis2.py
2025-04-15T09:14:23.2348536Z 
2025-04-15T09:14:24.0956134Z clang-format.............................................................[42mPassed[m
2025-04-15T09:14:28.7725574Z PyMarkdown...............................................................[42mPassed[m
2025-04-15T09:14:29.8509430Z Lint GitHub Actions workflow files.......................................[42mPassed[m
2025-04-15T09:14:32.5969688Z pip-compile..............................................................[42mPassed[m
2025-04-15T09:14:50.4827404Z Run mypy for Python 3.9..................................................[41mFailed[m
2025-04-15T09:14:50.4828380Z [2m- hook id: mypy-3.9[m
2025-04-15T09:14:50.4828939Z [2m- exit code: 1[m
2025-04-15T09:14:50.4829160Z 
2025-04-15T09:14:50.4829353Z Running mypy on 
2025-04-15T09:14:50.4861165Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:14:50.4863833Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:14:50.4866937Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4869159Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:14:50.4872023Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4873462Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:14:50.4874515Z Running mypy on 
2025-04-15T09:14:50.4876057Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:14:50.4878618Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:14:50.4881583Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4883540Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:14:50.4886064Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4887421Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:14:50.4888020Z Running mypy on 
2025-04-15T09:14:50.4889662Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:14:50.4892311Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:14:50.4894500Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4896211Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:14:50.4898276Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4899667Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:14:50.4900556Z Running mypy on 
2025-04-15T09:14:50.4902087Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:14:50.4904659Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:14:50.4907556Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4909655Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:14:50.4912194Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:14:50.4913603Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:14:50.4913979Z 
2025-04-15T09:15:08.5113607Z Run mypy for Python 3.10.................................................[41mFailed[m
2025-04-15T09:15:08.5114262Z [2m- hook id: mypy-3.10[m
2025-04-15T09:15:08.5114626Z [2m- exit code: 1[m
2025-04-15T09:15:08.5114769Z 
2025-04-15T09:15:08.5114893Z Running mypy on 
2025-04-15T09:15:08.5116155Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:08.5117580Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:08.5119258Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5121201Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:08.5122493Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5123278Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:08.5123597Z Running mypy on 
2025-04-15T09:15:08.5126220Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:08.5128765Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:08.5131709Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5133016Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:08.5135331Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5136792Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:08.5137387Z Running mypy on 
2025-04-15T09:15:08.5138985Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:08.5141767Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:08.5144819Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5146943Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:08.5149329Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5151005Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:08.5151617Z Running mypy on 
2025-04-15T09:15:08.5153442Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:08.5156084Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:08.5159297Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5171283Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:08.5173713Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:08.5175179Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:08.5175537Z 
2025-04-15T09:15:26.6190810Z Run mypy for Python 3.11.................................................[41mFailed[m
2025-04-15T09:15:26.6191813Z [2m- hook id: mypy-3.11[m
2025-04-15T09:15:26.6192387Z [2m- exit code: 1[m
2025-04-15T09:15:26.6192561Z 
2025-04-15T09:15:26.6192679Z Running mypy on 
2025-04-15T09:15:26.6194350Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:26.6195777Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:26.6197452Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6198597Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:26.6200315Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6201147Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:26.6201475Z Running mypy on 
2025-04-15T09:15:26.6202339Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:26.6203702Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:26.6205312Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6206574Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:26.6209619Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6211063Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:26.6211413Z Running mypy on 
2025-04-15T09:15:26.6212367Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:26.6213757Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:26.6215417Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6216566Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:26.6217857Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6218633Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:26.6218953Z Running mypy on 
2025-04-15T09:15:26.6220084Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:26.6221917Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:26.6225281Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6227557Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:26.6229199Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:26.6230882Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:26.6231248Z 
2025-04-15T09:15:44.6298105Z Run mypy for Python 3.12.................................................[41mFailed[m
2025-04-15T09:15:44.6298772Z [2m- hook id: mypy-3.12[m
2025-04-15T09:15:44.6299124Z [2m- exit code: 1[m
2025-04-15T09:15:44.6299266Z 
2025-04-15T09:15:44.6299385Z Running mypy on 
2025-04-15T09:15:44.6300964Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:44.6302387Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:44.6304417Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6305608Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:44.6308803Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6310407Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:44.6310929Z Running mypy on 
2025-04-15T09:15:44.6312302Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:44.6326578Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:44.6329282Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6331589Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:44.6333860Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6335389Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:44.6335962Z Running mypy on 
2025-04-15T09:15:44.6337493Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:44.6340170Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:44.6343130Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6345150Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:44.6347412Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6348812Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:44.6349361Z Running mypy on 
2025-04-15T09:15:44.6351069Z ##[error]vllm/transformers_utils/processors/ovis2.py:38: error: Unexpected keyword argument "total" for "__init_subclass__" of "object"  [call-arg]
2025-04-15T09:15:44.6353595Z /home/runner/.cache/pre-commit/repoq9fkshj6/py_env-python3.12/lib/python3.12/site-packages/mypy/typeshed/stdlib/builtins.pyi:125: note: "__init_subclass__" of "object" defined here
2025-04-15T09:15:44.6361288Z ##[error]vllm/transformers_utils/processors/ovis2.py:251: error: Need type annotation for "padded_placeholder_tokens" (hint: "padded_placeholder_tokens: list[<type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6363327Z ##[error]vllm/transformers_utils/processors/ovis2.py:332: error: Too many arguments for "_covering_area"  [call-arg]
2025-04-15T09:15:44.6365559Z ##[error]vllm/transformers_utils/configs/ovis2.py:98: error: Need type annotation for "backbone_kwargs" (hint: "backbone_kwargs: dict[<type>, <type>] = ...")  [var-annotated]
2025-04-15T09:15:44.6366925Z Found 4 errors in 2 files (checked 170 source files)
2025-04-15T09:15:44.6367293Z 
2025-04-15T09:15:44.6488357Z Lint shell scripts.......................................................[42mPassed[m
2025-04-15T09:15:44.6922020Z Lint PNG exports from excalidraw.........................................[42mPassed[m
2025-04-15T09:15:44.7461656Z Check SPDX headers.......................................................[42mPassed[m
2025-04-15T09:15:44.7587631Z Check for spaces in all filenames........................................[42mPassed[m
2025-04-15T09:15:44.7702944Z Update Dockerfile dependency graph.......................................[42mPassed[m
2025-04-15T09:15:44.7805249Z Suggestion...............................................................[42mPassed[m
2025-04-15T09:15:44.7805821Z [2m- hook id: suggestion[m
2025-04-15T09:15:44.7806161Z [2m- duration: 0s[m
2025-04-15T09:15:44.7806304Z 
2025-04-15T09:15:44.7806564Z To bypass pre-commit hooks, add --no-verify to git commit.
2025-04-15T09:15:44.7806805Z 
2025-04-15T09:15:44.7806964Z pre-commit hook(s) made changes.
2025-04-15T09:15:44.7807530Z If you are seeing this message in CI, reproduce locally with: `pre-commit run --all-files`.
2025-04-15T09:15:44.7808137Z To run `pre-commit` as part of git workflow, use `pre-commit install`.
2025-04-15T09:15:44.7808526Z All changes made by hooks:
2025-04-15T09:15:44.7857893Z [1mdiff --git a/examples/offline_inference/vision_language.py b/examples/offline_inference/vision_language.py[m
2025-04-15T09:15:44.7858953Z [1mindex d4bb23a..5a30602 100644[m
2025-04-15T09:15:44.7860094Z [1m--- a/examples/offline_inference/vision_language.py[m
2025-04-15T09:15:44.7861139Z [1m+++ b/examples/offline_inference/vision_language.py[m
2025-04-15T09:15:44.7862672Z [36m@@ -724,6 +724,7 @@[m [mdef run_nvlm_d(questions: list[str], modality: str) -> ModelRequestData:[m
2025-04-15T09:15:44.7863531Z          prompts=prompts,[m
2025-04-15T09:15:44.7863939Z      )[m
2025-04-15T09:15:44.7864245Z  [m
2025-04-15T09:15:44.7864535Z [32m+[m
2025-04-15T09:15:44.7864866Z  # Ovis2[m
2025-04-15T09:15:44.7865538Z  def run_ovis2(questions: list[str], modality: str) -> ModelRequestData:[m
2025-04-15T09:15:44.7866000Z      assert modality == "image"[m
2025-04-15T09:15:44.7866840Z [36m@@ -743,12 +744,10 @@[m [mdef run_ovis2(questions: list[str], modality: str) -> ModelRequestData:[m
2025-04-15T09:15:44.7867378Z      )[m
2025-04-15T09:15:44.7867558Z  [m
2025-04-15T09:15:44.7867833Z      placeholder = "<image>\n"[m
2025-04-15T09:15:44.7868178Z [31m-    prompts = [[m
2025-04-15T09:15:44.7868772Z [31m-        ("<|im_start|>system\nYou are a helpful assistant.<|im_end|>\n"[m
2025-04-15T09:15:44.7869325Z [31m-         f"<|im_start|>user\n{placeholder}"[m
2025-04-15T09:15:44.7870112Z [31m-         f"{question}<|im_end|>\n"[m
2025-04-15T09:15:44.7870849Z [31m-         "<|im_start|>assistant\n") for question in questions[m
2025-04-15T09:15:44.7871234Z [31m-    ][m
2025-04-15T09:15:44.7871884Z [32m+[m[32m    prompts = [("<|im_start|>system\nYou are a helpful assistant.<|im_end|>\n"[m
2025-04-15T09:15:44.7872553Z [32m+[m[32m                f"<|im_start|>user\n{placeholder}"[m
2025-04-15T09:15:44.7873094Z [32m+[m[32m                f"{question}<|im_end|>\n"[m
2025-04-15T09:15:44.7873739Z [32m+[m[32m                "<|im_start|>assistant\n") for question in questions][m
2025-04-15T09:15:44.7874518Z  [m
2025-04-15T09:15:44.7874804Z      return ModelRequestData([m
2025-04-15T09:15:44.7875148Z          engine_args=engine_args,[m
2025-04-15T09:15:44.7876182Z [1mdiff --git a/examples/offline_inference/vision_language_multi_image.py b/examples/offline_inference/vision_language_multi_image.py[m
2025-04-15T09:15:44.7876885Z [1mindex 76f25bc..20e31cc 100644[m
2025-04-15T09:15:44.7877460Z [1m--- a/examples/offline_inference/vision_language_multi_image.py[m
2025-04-15T09:15:44.7878121Z [1m+++ b/examples/offline_inference/vision_language_multi_image.py[m
2025-04-15T09:15:44.7878991Z [36m@@ -453,11 +453,12 @@[m [mdef load_ovis2(question: str, image_urls: list[str]) -> ModelRequestData:[m
2025-04-15T09:15:44.7880046Z          hf_overrides={"architectures": ["Ovis2ForConditionalGeneration"]},[m
2025-04-15T09:15:44.7880423Z      )[m
2025-04-15T09:15:44.7880725Z  [m
2025-04-15T09:15:44.7881390Z [31m-    placeholder = '\n'.join([f'Image {i+1}: <image>' for i in range(len(image_urls))]) + '\n'[m
2025-04-15T09:15:44.7881982Z [32m+[m[32m    placeholder = '\n'.join([m
2025-04-15T09:15:44.7882647Z [32m+[m[32m        [f'Image {i+1}: <image>' for i in range(len(image_urls))]) + '\n'[m
2025-04-15T09:15:44.7883270Z      prompt = ("<|im_start|>system\nYou are a helpful assistant.<|im_end|>\n"[m
2025-04-15T09:15:44.7883845Z [31m-             f"<|im_start|>user\n{placeholder}"[m
2025-04-15T09:15:44.7884306Z [31m-             f"{question}<|im_end|>\n"[m
2025-04-15T09:15:44.7884755Z [31m-             "<|im_start|>assistant\n")[m
2025-04-15T09:15:44.7885293Z [32m+[m[32m              f"<|im_start|>user\n{placeholder}"[m
2025-04-15T09:15:44.7885811Z [32m+[m[32m              f"{question}<|im_end|>\n"[m
2025-04-15T09:15:44.7886324Z [32m+[m[32m              "<|im_start|>assistant\n")[m
2025-04-15T09:15:44.7886594Z  [m
2025-04-15T09:15:44.7886866Z      return ModelRequestData([m
2025-04-15T09:15:44.7887208Z          engine_args=engine_args,[m
2025-04-15T09:15:44.7887956Z [1mdiff --git a/vllm/model_executor/models/aimv2.py b/vllm/model_executor/models/aimv2.py[m
2025-04-15T09:15:44.7888518Z [1mindex 1da8511..07ed259 100644[m
2025-04-15T09:15:44.7888957Z [1m--- a/vllm/model_executor/models/aimv2.py[m
2025-04-15T09:15:44.7889422Z [1m+++ b/vllm/model_executor/models/aimv2.py[m
2025-04-15T09:15:44.7889952Z [36m@@ -5,51 +5,55 @@[m
2025-04-15T09:15:44.7890328Z  from typing import Optional, Tuple, Union[m
2025-04-15T09:15:44.7890602Z  [m
2025-04-15T09:15:44.7890814Z  import torch[m
2025-04-15T09:15:44.7891284Z [31m-from vllm.attention import Attention, AttentionType[m
2025-04-15T09:15:44.7891847Z [31m-from vllm.config import VllmConfig, CacheConfig[m
2025-04-15T09:15:44.7892751Z [31m-from vllm.model_executor.layers.linear import QKVParallelLinear, RowParallelLinear, ColumnParallelLinear[m
2025-04-15T09:15:44.7893716Z [31m-from vllm.model_executor.layers.quantization.base_config import QuantizationConfig[m
2025-04-15T09:15:44.7894147Z [31m-[m
2025-04-15T09:15:44.7894444Z [31m-from torch import nn[m
2025-04-15T09:15:44.7894858Z [32m+[m[32mfrom torch import nn, softmax[m
2025-04-15T09:15:44.7895247Z  from torch.nn import functional as F[m
2025-04-15T09:15:44.7895813Z [32m+[m[32mfrom torch.nn.functional import gumbel_softmax, pad[m
2025-04-15T09:15:44.7896440Z  from transformers.modeling_outputs import BaseModelOutputWithNoAttention[m
2025-04-15T09:15:44.7897119Z [31m-from transformers.modeling_utils import PreTrainedModel[m
2025-04-15T09:15:44.7897449Z  [m
2025-04-15T09:15:44.7897758Z [31m-from torch import softmax[m
2025-04-15T09:15:44.7898270Z [31m-from torch.nn.functional import gumbel_softmax, pad[m
2025-04-15T09:15:44.7898990Z [32m+[m[32mfrom vllm.model_executor.layers.linear import ColumnParallelLinear[m
2025-04-15T09:15:44.7899915Z [32m+[m[32mfrom vllm.model_executor.layers.quantization.base_config import ([m
2025-04-15T09:15:44.7900462Z [32m+[m[32m    QuantizationConfig)[m
2025-04-15T09:15:44.7901285Z [32m+[m[32mfrom vllm.transformers_utils.configs.ovis2 import (AIMv2Config,[m
2025-04-15T09:15:44.7902029Z [32m+[m[32m                                                   Aimv2VisualTokenizerConfig)[m
2025-04-15T09:15:44.7902643Z  from vllm.transformers_utils.processor import cached_get_image_processor[m
2025-04-15T09:15:44.7903523Z [31m-from vllm.transformers_utils.configs.ovis2 import AIMv2Config, Aimv2VisualTokenizerConfig[m
2025-04-15T09:15:44.7903961Z  [m
2025-04-15T09:15:44.7904603Z [31m-IMAGE_INDICATOR_IDS = [-301, -302, -303, -304, -305] # kept for vocab prefixed tokens[m
2025-04-15T09:15:44.7905259Z [32m+[m[32mIMAGE_INDICATOR_IDS = [-301, -302, -303, -304,[m
2025-04-15T09:15:44.7905880Z [32m+[m[32m                       -305]  # kept for vocab prefixed tokens[m
2025-04-15T09:15:44.7906347Z  [m
2025-04-15T09:15:44.7906527Z  [m
2025-04-15T09:15:44.7906861Z  class Aimv2VisualTokenizer(torch.nn.Module):[m
2025-04-15T09:15:44.7907145Z  [m
2025-04-15T09:15:44.7908149Z [31m-    def __init__(self, config: Aimv2VisualTokenizerConfig, quant_config: Optional[QuantizationConfig] = None, prefix: str = "", **kwargs):[m
2025-04-15T09:15:44.7908916Z [32m+[m[32m    def __init__(self,[m
2025-04-15T09:15:44.7909456Z [32m+[m[32m                 config: Aimv2VisualTokenizerConfig,[m
2025-04-15T09:15:44.7910370Z [32m+[m[32m                 quant_config: Optional[QuantizationConfig] = None,[m
2025-04-15T09:15:44.7910926Z [32m+[m[32m                 prefix: str = "",[m
2025-04-15T09:15:44.7911358Z [32m+[m[32m                 **kwargs):[m
2025-04-15T09:15:44.7911694Z          super().__init__()[m
2025-04-15T09:15:44.7912614Z [31m-        self.image_processor = cached_get_image_processor(kwargs['image_processor_name_or_path'], trust_remote_code=True)[m
2025-04-15T09:15:44.7913452Z [32m+[m[32m        self.image_processor = cached_get_image_processor([m
2025-04-15T09:15:44.7914193Z [32m+[m[32m            kwargs['image_processor_name_or_path'], trust_remote_code=True)[m
2025-04-15T09:15:44.7914656Z          self.config = config[m
2025-04-15T09:15:44.7915071Z          self.image_processor.do_center_crop = False[m
2025-04-15T09:15:44.7915469Z          self.backbone = AIMv2Model([m
2025-04-15T09:15:44.7915972Z [31m-            config = config.backbone_config, # noqa[m
2025-04-15T09:15:44.7916541Z [32m+[m[32m            config=config.backbone_config,  # noqa[m
2025-04-15T09:15:44.7916973Z              quant_config=quant_config,[m
2025-04-15T09:15:44.7917455Z [31m-            prefix=f"{prefix}.visual_tokenizer"[m
2025-04-15T09:15:44.7917795Z [31m-        )[m
2025-04-15T09:15:44.7918555Z [31m-        head_dim = config.vocab_size - len(IMAGE_INDICATOR_IDS)  # reserved tokens for IMAGE_INDICATORS[m
2025-04-15T09:15:44.7919257Z [32m+[m[32m            prefix=f"{prefix}.visual_tokenizer")[m
2025-04-15T09:15:44.7919999Z [32m+[m[32m        head_dim = config.vocab_size - len([m
2025-04-15T09:15:44.7920707Z [32m+[m[32m            IMAGE_INDICATOR_IDS)  # reserved tokens for IMAGE_INDICATORS[m
2025-04-15T09:15:44.7921204Z          self.head = torch.nn.Sequential([m
2025-04-15T09:15:44.7921572Z              ColumnParallelLinear([m
2025-04-15T09:15:44.7922399Z [31m-                config.backbone_config.hidden_size * config.hidden_stride * config.hidden_stride, head_dim,[m
2025-04-15T09:15:44.7923256Z [32m+[m[32m                config.backbone_config.hidden_size * config.hidden_stride *[m
2025-04-15T09:15:44.7923836Z [32m+[m[32m                config.hidden_stride,[m
2025-04-15T09:15:44.7924264Z [32m+[m[32m                head_dim,[m
2025-04-15T09:15:44.7924593Z                  bias=False,[m
2025-04-15T09:15:44.7924925Z                  gather_output=True,[m
2025-04-15T09:15:44.7925257Z [31m-            ),[m
2025-04-15T09:15:44.7925666Z [31m-            torch.nn.LayerNorm(head_dim)[m
2025-04-15T09:15:44.7926000Z [31m-        )[m
2025-04-15T09:15:44.7926444Z [32m+[m[32m            ), torch.nn.LayerNorm(head_dim))[m
2025-04-15T09:15:44.7926725Z  [m
2025-04-15T09:15:44.7927310Z [31m-        assert all((self.image_processor.do_resize,[m
2025-04-15T09:15:44.7927988Z [31m-                    not getattr(self.image_processor, 'do_center_crop', False),[m
2025-04-15T09:15:44.7928564Z [31m-                    self.image_processor.do_rescale,[m
2025-04-15T09:15:44.7929093Z [31m-                    self.image_processor.do_normalize[m
2025-04-15T09:15:44.7929996Z [31m-                    )), f"image_processor `{self.image_processor}` is not supported currently"[m
2025-04-15T09:15:44.7930515Z [32m+[m[32m        assert all([m
2025-04-15T09:15:44.7931005Z [32m+[m[32m            (self.image_processor.do_resize,[m
2025-04-15T09:15:44.7931690Z [32m+[m[32m             not getattr(self.image_processor, 'do_center_crop', False),[m
2025-04-15T09:15:44.7932432Z [32m+[m[32m             self.image_processor.do_rescale,[m
2025-04-15T09:15:44.7932978Z [32m+[m[32m             self.image_processor.do_normalize)[m
2025-04-15T09:15:44.7933714Z [32m+[m[32m        ), f"image_processor `{self.image_processor}` is not supported currently"[m
2025-04-15T09:15:44.7934096Z  [m
2025-04-15T09:15:44.7934317Z      @property[m
2025-04-15T09:15:44.7934582Z      def dtype(self):[m
2025-04-15T09:15:44.7935151Z [36m@@ -71,11 +75,13 @@[m [mclass Aimv2VisualTokenizer(torch.nn.Module):[m
2025-04-15T09:15:44.7935571Z      def get_image_size(self):[m
2025-04-15T09:15:44.7935918Z          raise NotImplementedError[m
2025-04-15T09:15:44.7936160Z  [m
2025-04-15T09:15:44.7936335Z [31m-[m
2025-04-15T09:15:44.7936613Z      def tokenize(self, logits):[m
2025-04-15T09:15:44.7936856Z [32m+[m
2025-04-15T09:15:44.7937249Z          def st_argmax(y_soft, dim):  # straight-through softmax[m
2025-04-15T09:15:44.7937729Z              index = y_soft.max(dim, keepdim=True)[1][m
2025-04-15T09:15:44.7938633Z [31m-            y_hard = torch.zeros_like(y_soft, memory_format=torch.legacy_contiguous_format).scatter_(dim, index, 1.0)[m
2025-04-15T09:15:44.7939320Z [32m+[m[32m            y_hard = torch.zeros_like([m
2025-04-15T09:15:44.7940154Z [32m+[m[32m                y_soft, memory_format=torch.legacy_contiguous_format).scatter_([m
2025-04-15T09:15:44.7940736Z [32m+[m[32m                    dim, index, 1.0)[m
2025-04-15T09:15:44.7941157Z              ret = y_hard - y_soft.detach() + y_soft[m
2025-04-15T09:15:44.7941498Z              return ret[m
2025-04-15T09:15:44.7941714Z  [m
2025-04-15T09:15:44.7942219Z [36m@@ -87,7 +93,8 @@[m [mclass Aimv2VisualTokenizer(torch.nn.Module):[m
2025-04-15T09:15:44.7942697Z              tokens = st_argmax(logits, dim=-1)[m
2025-04-15T09:15:44.7943009Z          else:[m
2025-04-15T09:15:44.7943290Z              raise ValueError([m
2025-04-15T09:15:44.7944198Z [31m-                f'Invalid `max_type`, expected softmax or gumbel_argmax or st_argmax, but got {self.config.tokenize_function}')[m
2025-04-15T09:15:44.7945376Z [32m+[m[32m                f'Invalid `max_type`, expected softmax or gumbel_argmax or st_argmax, but got {self.config.tokenize_function}'[m
2025-04-15T09:15:44.7945977Z [32m+[m[32m            )[m
2025-04-15T09:15:44.7946267Z          return tokens[m
2025-04-15T09:15:44.7946476Z  [m
2025-04-15T09:15:44.7946772Z      def encode(self, pixel_values):[m
2025-04-15T09:15:44.7947392Z [36m@@ -99,30 +106,41 @@[m [mclass Aimv2VisualTokenizer(torch.nn.Module):[m
2025-04-15T09:15:44.7948093Z          # e.g., for hidden_stride=2, this leads to a token length reduction: 1024 -> 256 for aimv2[m
2025-04-15T09:15:44.7948615Z          if self.config.hidden_stride > 1:[m
2025-04-15T09:15:44.7949172Z              n, l, d = features.shape  # this `d` maybe different from the above `d[m
2025-04-15T09:15:44.7949675Z [31m-            sqrt_l = int(l ** 0.5)[m
2025-04-15T09:15:44.7950502Z [31m-            assert sqrt_l ** 2 == l, "The token sequence length should be a perfect square."[m
2025-04-15T09:15:44.7951067Z [32m+[m[32m            sqrt_l = int(l**0.5)[m
2025-04-15T09:15:44.7951824Z [32m+[m[32m            assert sqrt_l**2 == l, "The token sequence length should be a perfect square."[m
2025-04-15T09:15:44.7952549Z              features = features.reshape(n, sqrt_l, sqrt_l, d)[m
2025-04-15T09:15:44.7953436Z [31m-            pl = (self.config.hidden_stride - (sqrt_l % self.config.hidden_stride)) % self.config.hidden_stride[m
2025-04-15T09:15:44.7954129Z [32m+[m[32m            pl = (self.config.hidden_stride -[m
2025-04-15T09:15:44.7954587Z [32m+[m[32m                  (sqrt_l %[m
2025-04-15T09:15:44.7955228Z [32m+[m[32m                   self.config.hidden_stride)) % self.config.hidden_stride[m
2025-04-15T09:15:44.7955834Z              features = pad(features, (0, 0, 0, pl, 0, pl), "constant", 0)[m
2025-04-15T09:15:44.7956235Z              sqrt_l += pl[m
2025-04-15T09:15:44.7957181Z [31m-            features = features.reshape(n, sqrt_l // self.config.hidden_stride, self.config.hidden_stride,[m
2025-04-15T09:15:44.7958091Z [31m-                                        sqrt_l // self.config.hidden_stride, self.config.hidden_stride, d)[m
2025-04-15T09:15:44.7958939Z [31m-            features = features.permute(0, 1, 3, 2, 4, 5)  # [n, sqrt_l/hs, sqrt_l/hs, hs, hs, d][m
2025-04-15T09:15:44.7959838Z [31m-            features = features.flatten(3)  # [n, sqrt_l/hs, sqrt_l/hs, hs*hs*d][m
2025-04-15T09:15:44.7960652Z [32m+[m[32m            features = features.reshape(n, sqrt_l // self.config.hidden_stride,[m
2025-04-15T09:15:44.7961352Z [32m+[m[32m                                        self.config.hidden_stride,[m
2025-04-15T09:15:44.7962010Z [32m+[m[32m                                        sqrt_l // self.config.hidden_stride,[m
2025-04-15T09:15:44.7962651Z [32m+[m[32m                                        self.config.hidden_stride, d)[m
2025-04-15T09:15:44.7963184Z [32m+[m[32m            features = features.permute([m
2025-04-15T09:15:44.7963825Z [32m+[m[32m                0, 1, 3, 2, 4, 5)  # [n, sqrt_l/hs, sqrt_l/hs, hs, hs, d][m
2025-04-15T09:15:44.7964353Z [32m+[m[32m            features = features.flatten([m
2025-04-15T09:15:44.7964924Z [32m+[m[32m                3)  # [n, sqrt_l/hs, sqrt_l/hs, hs*hs*d][m
2025-04-15T09:15:44.7965336Z              features = features.reshape([m
2025-04-15T09:15:44.7965988Z [31m-                n, -1, self.config.hidden_stride * self.config.hidden_stride * d)[m
2025-04-15T09:15:44.7966476Z [32m+[m[32m                n, -1,[m
2025-04-15T09:15:44.7967127Z [32m+[m[32m                self.config.hidden_stride * self.config.hidden_stride * d)[m
2025-04-15T09:15:44.7967473Z  [m
2025-04-15T09:15:44.7967720Z          return features[m
2025-04-15T09:15:44.7967938Z  [m
2025-04-15T09:15:44.7968731Z [31m-    def forward(self, pixel_values) -> torch.Tensor:  # [BatchSize, ImageShape] -> [BatchSize, #Token, VocabSize][m
2025-04-15T09:15:44.7969320Z [32m+[m[32m    def forward([m
2025-04-15T09:15:44.7969888Z [32m+[m[32m        self, pixel_values[m
2025-04-15T09:15:44.7970635Z [32m+[m[32m    ) -> torch.Tensor:  # [BatchSize, ImageShape] -> [BatchSize, #Token, VocabSize][m
2025-04-15T09:15:44.7971164Z          features = self.encode(pixel_values)[m
2025-04-15T09:15:44.7971952Z [31m-        logits, _ = self.head[0](features) # we spllit the sequncial here for not throwing an error[m
2025-04-15T09:15:44.7972557Z [32m+[m[32m        logits, _ = self.head[0]([m
2025-04-15T09:15:44.7973256Z [32m+[m[32m            features)  # we spllit the sequncial here for not throwing an error[m
2025-04-15T09:15:44.7973738Z          logits = self.head[1](logits)[m
2025-04-15T09:15:44.7974111Z          tokens = self.tokenize(logits)[m
2025-04-15T09:15:44.7974796Z          # tokens' shape is [BatchSize, #Token, VocabSize-5], so padding with [BatchSize, #Token, 5], after[m
2025-04-15T09:15:44.7975502Z          # which, tokens' shape should become [BatchSize, #Token, VocabSize][m
2025-04-15T09:15:44.7976005Z          batch_size, token_len, _ = tokens.shape[m
2025-04-15T09:15:44.7976782Z [31m-        padding_tensor = torch.zeros(size=(batch_size, token_len, len(IMAGE_INDICATOR_IDS)),[m
2025-04-15T09:15:44.7977695Z [32m+[m[32m        padding_tensor = torch.zeros(size=(batch_size, token_len,[m
2025-04-15T09:15:44.7978371Z [32m+[m[32m                                           len(IMAGE_INDICATOR_IDS)),[m
2025-04-15T09:15:44.7978842Z                                       dtype=tokens.dtype,[m
2025-04-15T09:15:44.7979290Z                                       device=tokens.device,[m
2025-04-15T09:15:44.7979831Z                                       layout=tokens.layout,[m
2025-04-15T09:15:44.7980474Z [36m@@ -132,6 +150,7 @@[m [mclass Aimv2VisualTokenizer(torch.nn.Module):[m
2025-04-15T09:15:44.7980806Z  [m
2025-04-15T09:15:44.7980976Z  [m
2025-04-15T09:15:44.7981356Z  class RMSNorm(nn.Module):[m
2025-04-15T09:15:44.7981596Z [32m+[m
2025-04-15T09:15:44.7981959Z      def __init__(self, dim: int, eps: float = 1e-6):[m
2025-04-15T09:15:44.7982324Z          super().__init__()[m
2025-04-15T09:15:44.7982729Z          self.weight = nn.Parameter(torch.ones(dim))[m
2025-04-15T09:15:44.7983283Z [36m@@ -149,38 +168,43 @@[m [mclass RMSNorm(nn.Module):[m
2025-04-15T09:15:44.7983569Z  [m
2025-04-15T09:15:44.7983736Z  [m
2025-04-15T09:15:44.7984006Z  class AIMv2SwiGLUFFN(nn.Module):[m
2025-04-15T09:15:44.7984759Z [31m-    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig, prefix: str):[m
2025-04-15T09:15:44.7985168Z [32m+[m
2025-04-15T09:15:44.7985793Z [32m+[m[32m    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig,[m
2025-04-15T09:15:44.7986371Z [32m+[m[32m                 prefix: str):[m
2025-04-15T09:15:44.7986716Z          super().__init__()[m
2025-04-15T09:15:44.7987112Z          hidden_features = config.intermediate_size[m
2025-04-15T09:15:44.7987527Z          in_features = config.hidden_size[m
2025-04-15T09:15:44.7987879Z          bias = config.use_bias[m
2025-04-15T09:15:44.7988116Z  [m
2025-04-15T09:15:44.7988846Z [31m-        self.fc1 = nn.Linear(in_features, hidden_features, bias=bias)#ColumnParallelLinear(in_features,[m
2025-04-15T09:15:44.7989515Z [31m-                   #              hidden_features,[m
2025-04-15T09:15:44.7990151Z [31m-                   #              bias=bias,[m
2025-04-15T09:15:44.7990688Z [31m-                   #              quant_config=quant_config,[m
2025-04-15T09:15:44.7991229Z [31m-                   #              prefix=f"{prefix}.fc1")[m
2025-04-15T09:15:44.7992091Z [31m-        self.fc2 = nn.Linear(hidden_features, in_features, bias=bias)#ColumnParallelLinear(hidden_features,[m
2025-04-15T09:15:44.7992737Z [31m-                   #              in_features,[m
2025-04-15T09:15:44.7993200Z [31m-                   #              bias=bias,[m
2025-04-15T09:15:44.7993730Z [31m-                   #              quant_config=quant_config,[m
2025-04-15T09:15:44.7994260Z [31m-                   #              prefix=f"{prefix}.fc2")[m
2025-04-15T09:15:44.7995071Z [31m-        self.fc3 = nn.Linear(in_features, hidden_features, bias=bias)#RowParallelLinear(in_features,[m
2025-04-15T09:15:44.7995712Z [31m-                   #           hidden_features,[m
2025-04-15T09:15:44.7996168Z [31m-                   #           bias=bias,[m
2025-04-15T09:15:44.7996681Z [31m-                   #           quant_config=quant_config,[m
2025-04-15T09:15:44.7997648Z [31m-                   #           prefix=f"{prefix}.fc3")[m
2025-04-15T09:15:44.7998675Z [32m+[m[32m        self.fc1 = nn.Linear(in_features, hidden_features,[m
2025-04-15T09:15:44.8000659Z [32m+[m[32m                             bias=bias)  #ColumnParallelLinear(in_features,[m
2025-04-15T09:15:44.8001711Z [32m+[m[32m        #              hidden_features,[m
2025-04-15T09:15:44.8002488Z [32m+[m[32m        #              bias=bias,[m
2025-04-15T09:15:44.8003345Z [32m+[m[32m        #              quant_config=quant_config,[m
2025-04-15T09:15:44.8003922Z [32m+[m[32m        #              prefix=f"{prefix}.fc1")[m
2025-04-15T09:15:44.8004783Z [32m+[m[32m        self.fc2 = nn.Linear(hidden_features, in_features,[m
2025-04-15T09:15:44.8005521Z [32m+[m[32m                             bias=bias)  #ColumnParallelLinear(hidden_features,[m
2025-04-15T09:15:44.8006216Z [32m+[m[32m        #              in_features,[m
2025-04-15T09:15:44.8007032Z [32m+[m[32m        #              bias=bias,[m
2025-04-15T09:15:44.8007751Z [32m+[m[32m        #              quant_config=quant_config,[m
2025-04-15T09:15:44.8008297Z [32m+[m[32m        #              prefix=f"{prefix}.fc2")[m
2025-04-15T09:15:44.8008957Z [32m+[m[32m        self.fc3 = nn.Linear(in_features, hidden_features,[m
2025-04-15T09:15:44.8009647Z [32m+[m[32m                             bias=bias)  #RowParallelLinear(in_features,[m
2025-04-15T09:15:44.8010561Z [32m+[m[32m        #           hidden_features,[m
2025-04-15T09:15:44.8011024Z [32m+[m[32m        #           bias=bias,[m
2025-04-15T09:15:44.8011544Z [32m+[m[32m        #           quant_config=quant_config,[m
2025-04-15T09:15:44.8012081Z [32m+[m[32m        #           prefix=f"{prefix}.fc3")[m
2025-04-15T09:15:44.8012365Z  [m
2025-04-15T09:15:44.8012751Z      def forward(self, x: torch.Tensor) -> torch.Tensor:[m
2025-04-15T09:15:44.8013289Z [31m-        x_parallel= self.fc1(x)#, _ = self.fc1(x)[m
2025-04-15T09:15:44.8013772Z [31m-        gate= self.fc3(x)#, _ = self.fc3(x)[m
2025-04-15T09:15:44.8014339Z [32m+[m[32m        x_parallel = self.fc1(x)  #, _ = self.fc1(x)[m
2025-04-15T09:15:44.8014892Z [32m+[m[32m        gate = self.fc3(x)  #, _ = self.fc3(x)[m
2025-04-15T09:15:44.8015330Z          x_parallel = F.silu(x_parallel) * gate[m
2025-04-15T09:15:44.8015890Z [31m-        out =self.fc2(x_parallel)#, _ = self.fc2(x_parallel)[m
2025-04-15T09:15:44.8016546Z [32m+[m[32m        out = self.fc2(x_parallel)  #, _ = self.fc2(x_parallel)[m
2025-04-15T09:15:44.8016927Z          return out[m
2025-04-15T09:15:44.8017136Z  [m
2025-04-15T09:15:44.8017309Z  [m
2025-04-15T09:15:44.8017484Z [31m-[m
2025-04-15T09:15:44.8017788Z  class AIMv2PatchEmbed(nn.Module):[m
2025-04-15T09:15:44.8018062Z [32m+[m
2025-04-15T09:15:44.8018380Z      def __init__(self, config: AIMv2Config):[m
2025-04-15T09:15:44.8018738Z          super().__init__()[m
2025-04-15T09:15:44.8019066Z          self.proj = nn.Conv2d([m
2025-04-15T09:15:44.8019613Z [36m@@ -198,12 +222,14 @@[m [mclass AIMv2PatchEmbed(nn.Module):[m
2025-04-15T09:15:44.8020065Z  [m
2025-04-15T09:15:44.8020238Z  [m
2025-04-15T09:15:44.8020549Z  class AIMv2ViTPreprocessor(nn.Module):[m
2025-04-15T09:15:44.8020819Z [32m+[m
2025-04-15T09:15:44.8021141Z      def __init__(self, config: AIMv2Config):[m
2025-04-15T09:15:44.8021655Z          super().__init__()[m
2025-04-15T09:15:44.8022680Z [31m-        num_patches = (config.image_size // config.patch_size) ** 2[m
2025-04-15T09:15:44.8023989Z [32m+[m[32m        num_patches = (config.image_size // config.patch_size)**2[m
2025-04-15T09:15:44.8024566Z  [m
2025-04-15T09:15:44.8025182Z          self.patchifier = AIMv2PatchEmbed(config)[m
2025-04-15T09:15:44.8026619Z [31m-        self.pos_embed = nn.Parameter(torch.zeros((1, num_patches, config.hidden_size)))[m
2025-04-15T09:15:44.8027775Z [32m+[m[32m        self.pos_embed = nn.Parameter([m
2025-04-15T09:15:44.8028893Z [32m+[m[32m            torch.zeros((1, num_patches, config.hidden_size)))[m
2025-04-15T09:15:44.8029497Z  [m
2025-04-15T09:15:44.8030424Z      def forward(self, x: torch.Tensor) -> torch.Tensor:[m
2025-04-15T09:15:44.8031017Z          tokens = self.patchifier(x)[m
2025-04-15T09:15:44.8031642Z [36m@@ -214,68 +240,84 @@[m [mclass AIMv2ViTPreprocessor(nn.Module):[m
2025-04-15T09:15:44.8031969Z  [m
2025-04-15T09:15:44.8032145Z  [m
2025-04-15T09:15:44.8032427Z  class AIMv2Attention(nn.Module):[m
2025-04-15T09:15:44.8033197Z [31m-    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig, prefix: str):[m
2025-04-15T09:15:44.8033627Z [32m+[m
2025-04-15T09:15:44.8034510Z [32m+[m[32m    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig,[m
2025-04-15T09:15:44.8035706Z [32m+[m[32m                 prefix: str):[m
2025-04-15T09:15:44.8036107Z          super().__init__()[m
2025-04-15T09:15:44.8036447Z          dim = config.hidden_size[m
2025-04-15T09:15:44.8036697Z  [m
2025-04-15T09:15:44.8037034Z          self.num_heads = config.num_attention_heads[m
2025-04-15T09:15:44.8037748Z [31m-        self.qkv = nn.Linear(dim, dim * 3, bias=config.qkv_bias)#QKVParallelLinear([m
2025-04-15T09:15:44.8038296Z [31m-                   # hidden_size=dim,[m
2025-04-15T09:15:44.8038882Z [31m-                   # head_size=dim // config.num_attention_heads,[m
2025-04-15T09:15:44.8039473Z [31m-                   # total_num_heads=config.num_attention_heads,[m
2025-04-15T09:15:44.8040334Z [31m-                   # bias=config.qkv_bias,[m
2025-04-15T09:15:44.8040841Z [31m-                   # quant_config=quant_config,[m
2025-04-15T09:15:44.8041329Z [31m-                   # prefix=f"{prefix}.qkv")[m
2025-04-15T09:15:44.8041868Z [32m+[m[32m        self.qkv = nn.Linear(dim, dim * 3,[m
2025-04-15T09:15:44.8042517Z [32m+[m[32m                             bias=config.qkv_bias)  #QKVParallelLinear([m
2025-04-15T09:15:44.8043000Z [32m+[m[32m        # hidden_size=dim,[m
2025-04-15T09:15:44.8043548Z [32m+[m[32m        # head_size=dim // config.num_attention_heads,[m
2025-04-15T09:15:44.8044152Z [32m+[m[32m        # total_num_heads=config.num_attention_heads,[m
2025-04-15T09:15:44.8044644Z [32m+[m[32m        # bias=config.qkv_bias,[m
2025-04-15T09:15:44.8045117Z [32m+[m[32m        # quant_config=quant_config,[m
2025-04-15T09:15:44.8045585Z [32m+[m[32m        # prefix=f"{prefix}.qkv")[m
2025-04-15T09:15:44.8046083Z          self.attn_drop = nn.Dropout(config.attention_dropout)[m
2025-04-15T09:15:44.8046892Z [31m-        self.proj = nn.Linear(dim, dim, bias=config.use_bias)#RowParallelLinear(input_size=dim,[m
2025-04-15T09:15:44.8047539Z [31m-                    #                  output_size=dim,[m
2025-04-15T09:15:44.8048092Z [31m-                    #                  bias = config.use_bias,[m
2025-04-15T09:15:44.8048654Z [31m-                    #                  quant_config=quant_config,[m
2025-04-15T09:15:44.8049212Z [31m-                    #                  prefix=f"{prefix}.proj")[m
2025-04-15T09:15:44.8049685Z [32m+[m[32m        self.proj = nn.Linear([m
2025-04-15T09:15:44.8050576Z [32m+[m[32m            dim, dim, bias=config.use_bias)  #RowParallelLinear(input_size=dim,[m
2025-04-15T09:15:44.8051191Z [32m+[m[32m        #                  output_size=dim,[m
2025-04-15T09:15:44.8051734Z [32m+[m[32m        #                  bias = config.use_bias,[m
2025-04-15T09:15:44.8052303Z [32m+[m[32m        #                  quant_config=quant_config,[m
2025-04-15T09:15:44.8052865Z [32m+[m[32m        #                  prefix=f"{prefix}.proj")[m
2025-04-15T09:15:44.8053152Z  [m
2025-04-15T09:15:44.8053543Z          self.proj_drop = nn.Dropout(config.projection_dropout)[m
2025-04-15T09:15:44.8053855Z  [m
2025-04-15T09:15:44.8054385Z [31m-    def forward( # todo might implement multiple attn implementations[m
2025-04-15T09:15:44.8055065Z [31m-        self, x: torch.Tensor, mask: Optional[torch.Tensor] = None[m
2025-04-15T09:15:44.8055515Z [31m-    ) -> torch.Tensor:[m
2025-04-15T09:15:44.8056168Z [32m+[m[32m    def forward(  # todo might implement multiple attn implementations[m
2025-04-15T09:15:44.8056658Z [32m+[m[32m            self,[m
2025-04-15T09:15:44.8057066Z [32m+[m[32m            x: torch.Tensor,[m
2025-04-15T09:15:44.8057690Z [32m+[m[32m            mask: Optional[torch.Tensor] = None) -> torch.Tensor:[m
2025-04-15T09:15:44.8058294Z          B, N, C = x.shape[m
2025-04-15T09:15:44.8058975Z [31m-        qkv = self.qkv(x) #, _ = self.qkv(x)[m
2025-04-15T09:15:44.8060007Z [32m+[m[32m        qkv = self.qkv(x)  #, _ = self.qkv(x)[m
2025-04-15T09:15:44.8060512Z  [m
2025-04-15T09:15:44.8061591Z [31m-        qkv = qkv.reshape(B, N, 3, self.num_heads, C // self.num_heads).permute(2, 0, 3, 1, 4)[m
2025-04-15T09:15:44.8063121Z [32m+[m[32m        qkv = qkv.reshape(B, N, 3, self.num_heads,[m
2025-04-15T09:15:44.8064363Z [32m+[m[32m                          C // self.num_heads).permute(2, 0, 3, 1, 4)[m
2025-04-15T09:15:44.8064932Z  [m
2025-04-15T09:15:44.8065444Z          q, k, v = qkv.unbind(0)[m
2025-04-15T09:15:44.8065888Z  [m
2025-04-15T09:15:44.8066646Z          x = F.scaled_dot_product_attention(q, k, v, attn_mask=mask)[m
2025-04-15T09:15:44.8067608Z          x = x.transpose(1, 2).contiguous().reshape(B, N, C)[m
2025-04-15T09:15:44.8068496Z [31m-        x= self.proj(x)#, _ = self.proj(x)[m
2025-04-15T09:15:44.8069253Z [32m+[m[32m        x = self.proj(x)  #, _ = self.proj(x)[m
2025-04-15T09:15:44.8070095Z          x = self.proj_drop(x)[m
2025-04-15T09:15:44.8070419Z          return x[m
2025-04-15T09:15:44.8070634Z  [m
2025-04-15T09:15:44.8070808Z  [m
2025-04-15T09:15:44.8071078Z  class AIMv2Block(nn.Module):[m
2025-04-15T09:15:44.8071890Z [31m-    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig, prefix: str):[m
2025-04-15T09:15:44.8072329Z [32m+[m
2025-04-15T09:15:44.8072969Z [32m+[m[32m    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig,[m
2025-04-15T09:15:44.8073548Z [32m+[m[32m                 prefix: str):[m
2025-04-15T09:15:44.8073899Z          super().__init__()[m
2025-04-15T09:15:44.8074640Z [31m-        self.attn = AIMv2Attention(config, quant_config=quant_config, prefix=f"{prefix}.attn")[m
2025-04-15T09:15:44.8075304Z [32m+[m[32m        self.attn = AIMv2Attention(config,[m
2025-04-15T09:15:44.8075900Z [32m+[m[32m                                   quant_config=quant_config,[m
2025-04-15T09:15:44.8076504Z [32m+[m[32m                                   prefix=f"{prefix}.attn")[m
2025-04-15T09:15:44.8077067Z          self.norm_1 = RMSNorm(config.hidden_size, eps=config.rms_norm_eps)[m
2025-04-15T09:15:44.8077900Z [31m-        self.mlp = AIMv2SwiGLUFFN(config, quant_config=quant_config, prefix=f"{prefix}.mlp")[m
2025-04-15T09:15:44.8078556Z [32m+[m[32m        self.mlp = AIMv2SwiGLUFFN(config,[m
2025-04-15T09:15:44.8079419Z [32m+[m[32m                                  quant_config=quant_config,[m
2025-04-15T09:15:44.8080691Z [32m+[m[32m                                  prefix=f"{prefix}.mlp")[m
2025-04-15T09:15:44.8081699Z          self.norm_2 = RMSNorm(config.hidden_size, eps=config.rms_norm_eps)[m
2025-04-15T09:15:44.8082261Z  [m
2025-04-15T09:15:44.8082724Z [31m-    def forward([m
2025-04-15T09:15:44.8083690Z [31m-        self, x: torch.Tensor, mask: Optional[torch.Tensor] = None[m
2025-04-15T09:15:44.8084439Z [31m-    ) -> torch.Tensor:[m
2025-04-15T09:15:44.8085120Z [32m+[m[32m    def forward(self,[m
2025-04-15T09:15:44.8085887Z [32m+[m[32m                x: torch.Tensor,[m
2025-04-15T09:15:44.8087034Z [32m+[m[32m                mask: Optional[torch.Tensor] = None) -> torch.Tensor:[m
2025-04-15T09:15:44.8088011Z          x = x + self.attn(self.norm_1(x), mask)[m
2025-04-15T09:15:44.8088717Z          x = x + self.mlp(self.norm_2(x))[m
2025-04-15T09:15:44.8089285Z          return x[m
2025-04-15T09:15:44.8089673Z  [m
2025-04-15T09:15:44.8090186Z  [m
2025-04-15T09:15:44.8090750Z  class AIMv2Transformer(nn.Module):[m
2025-04-15T09:15:44.8092181Z [31m-    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig, prefix: str):[m
2025-04-15T09:15:44.8092939Z [32m+[m
2025-04-15T09:15:44.8094124Z [32m+[m[32m    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig,[m
2025-04-15T09:15:44.8095152Z [32m+[m[32m                 prefix: str):[m
2025-04-15T09:15:44.8095640Z          super().__init__()[m
2025-04-15T09:15:44.8095891Z  [m
2025-04-15T09:15:44.8096416Z [31m-        self.blocks = nn.ModuleList([m
2025-04-15T09:15:44.8098448Z [31m-            [AIMv2Block(config, quant_config, prefix=f"{prefix}.blocks.{i}") for i in range(config.num_hidden_layers)][m
2025-04-15T09:15:44.8099284Z [31m-        )[m
2025-04-15T09:15:44.8100333Z [31m-        self.post_trunk_norm = RMSNorm(config.hidden_size, eps=config.rms_norm_eps)[m
2025-04-15T09:15:44.8100982Z [32m+[m[32m        self.blocks = nn.ModuleList([[m
2025-04-15T09:15:44.8101706Z [32m+[m[32m            AIMv2Block(config, quant_config, prefix=f"{prefix}.blocks.{i}")[m
2025-04-15T09:15:44.8102387Z [32m+[m[32m            for i in range(config.num_hidden_layers)[m
2025-04-15T09:15:44.8102801Z [32m+[m[32m        ])[m
2025-04-15T09:15:44.8103705Z [32m+[m[32m        self.post_trunk_norm = RMSNorm(config.hidden_size,[m
2025-04-15T09:15:44.8105000Z [32m+[m[32m                                       eps=config.rms_norm_eps)[m
2025-04-15T09:15:44.8105844Z  [m
2025-04-15T09:15:44.8106302Z      def forward([m
2025-04-15T09:15:44.8106790Z          self,[m
2025-04-15T09:15:44.8107471Z [36m@@ -283,7 +325,7 @@[m [mclass AIMv2Transformer(nn.Module):[m
2025-04-15T09:15:44.8107946Z          mask: Optional[torch.Tensor] = None,[m
2025-04-15T09:15:44.8108597Z      ) -> Tuple[torch.Tensor, Optional[Tuple[torch.Tensor, ...]]]:[m
2025-04-15T09:15:44.8109258Z          #outputs = [][m
2025-04-15T09:15:44.8110487Z [31m-        for block in self.blocks: # they take the -1 as the ref embeddings, like a clip skip[m
2025-04-15T09:15:44.8111481Z [32m+[m[32m        for block in self.blocks:  # they take the -1 as the ref embeddings, like a clip skip[m
2025-04-15T09:15:44.8112035Z              tokens = block(tokens, mask)[m
2025-04-15T09:15:44.8112417Z              #outputs.append(tokens)[m
2025-04-15T09:15:44.8112983Z          #tokens = self.post_trunk_norm(tokens) NO NORM IN THE OG IMPLEMENTATION[m
2025-04-15T09:15:44.8113651Z [36m@@ -291,10 +333,16 @@[m [mclass AIMv2Transformer(nn.Module):[m
2025-04-15T09:15:44.8113974Z  [m
2025-04-15T09:15:44.8114144Z  [m
2025-04-15T09:15:44.8114425Z  class AIMv2Model(torch.nn.Module):[m
2025-04-15T09:15:44.8115382Z [31m-    def __init__(self, config: AIMv2Config, quant_config: QuantizationConfig, prefix: str = ""):[m
2025-04-15T09:15:44.8116217Z [32m+[m
2025-04-15T09:15:44.8116866Z [32m+[m[32m    def __init__(self,[m
2025-04-15T09:15:44.8117996Z [32m+[m[32m                 config: AIMv2Config,[m
2025-04-15T09:15:44.8119049Z [32m+[m[32m                 quant_config: QuantizationConfig,[m
2025-04-15T09:15:44.8119664Z [32m+[m[32m                 prefix: str = ""):[m
2025-04-15T09:15:44.8120231Z          super().__init__()[m
2025-04-15T09:15:44.8120676Z          self.preprocessor = AIMv2ViTPreprocessor(config)[m
2025-04-15T09:15:44.8121533Z [31m-        self.trunk = AIMv2Transformer(config, quant_config=quant_config, prefix=f"{prefix}.trunk")[m
2025-04-15T09:15:44.8122237Z [32m+[m[32m        self.trunk = AIMv2Transformer(config,[m
2025-04-15T09:15:44.8122864Z [32m+[m[32m                                      quant_config=quant_config,[m
2025-04-15T09:15:44.8123482Z [32m+[m[32m                                      prefix=f"{prefix}.trunk")[m
2025-04-15T09:15:44.8123785Z  [m
2025-04-15T09:15:44.8123998Z      @property[m
2025-04-15T09:15:44.8124273Z      def dtype(self):[m
2025-04-15T09:15:44.8124830Z [36m@@ -309,14 +357,12 @@[m [mclass AIMv2Model(torch.nn.Module):[m
2025-04-15T09:15:44.8125268Z          pixel_values: torch.Tensor,[m
2025-04-15T09:15:44.8125681Z          mask: Optional[torch.Tensor] = None,[m
2025-04-15T09:15:44.8125998Z      ) -> Union[[m
2025-04-15T09:15:44.8126341Z [31m-        Tuple[torch.Tensor],[m
2025-04-15T09:15:44.8126855Z [31m-        Tuple[torch.Tensor, Tuple[torch.Tensor, ...]],[m
2025-04-15T09:15:44.8127361Z [31m-        BaseModelOutputWithNoAttention,[m
2025-04-15T09:15:44.8127841Z [32m+[m[32m            Tuple[torch.Tensor],[m
2025-04-15T09:15:44.8128439Z [32m+[m[32m            Tuple[torch.Tensor, Tuple[torch.Tensor, ...]],[m
2025-04-15T09:15:44.8129023Z [32m+[m[32m            BaseModelOutputWithNoAttention,[m
2025-04-15T09:15:44.8129331Z      ]:[m
2025-04-15T09:15:44.8129863Z  [m
2025-04-15T09:15:44.8130212Z          x = self.preprocessor(pixel_values)[m
2025-04-15T09:15:44.8130621Z [31m-        x = self.trunk([m
2025-04-15T09:15:44.8130957Z [31m-            x, mask[m
2025-04-15T09:15:44.8131232Z [31m-        )[m
2025-04-15T09:15:44.8131619Z [32m+[m[32m        x = self.trunk(x, mask)[m
2025-04-15T09:15:44.8131880Z  [m
2025-04-15T09:15:44.8132100Z          return x[m
2025-04-15T09:15:44.8132802Z [1mdiff --git a/vllm/model_executor/models/ovis2.py b/vllm/model_executor/models/ovis2.py[m
2025-04-15T09:15:44.8133366Z [1mindex fe85216..367dac2 100644[m
2025-04-15T09:15:44.8133814Z [1m--- a/vllm/model_executor/models/ovis2.py[m
2025-04-15T09:15:44.8134279Z [1m+++ b/vllm/model_executor/models/ovis2.py[m
2025-04-15T09:15:44.8134780Z [36m@@ -17,47 +17,34 @@[m
2025-04-15T09:15:44.8135103Z  # limitations under the License.[m
2025-04-15T09:15:44.8135436Z  """ PyTorch Ovis2 model."""[m
2025-04-15T09:15:44.8135973Z  from typing import (Iterable, List, Literal, Mapping, Optional, Set, Tuple,[m
2025-04-15T09:15:44.8136560Z [31m-                    TypedDict, Dict, Union)[m
2025-04-15T09:15:44.8137009Z [31m-from abc import ABC, abstractmethod[m
2025-04-15T09:15:44.8137482Z [32m+[m[32m                    TypedDict, Union)[m
2025-04-15T09:15:44.8137754Z  [m
2025-04-15T09:15:44.8137967Z  import torch[m
2025-04-15T09:15:44.8138228Z  import torch.nn as nn[m
2025-04-15T09:15:44.8138563Z [31m-from PIL import Image[m
2025-04-15T09:15:44.8138875Z  from torch import Tensor[m
2025-04-15T09:15:44.8139175Z  from torch.nn import init[m
2025-04-15T09:15:44.8139406Z [31m-[m
2025-04-15T09:15:44.8140113Z [31m-from transformers import PretrainedConfig, AutoConfig, AutoModel[m
2025-04-15T09:15:44.8140756Z [31m-from transformers import BatchFeature, AutoTokenizer[m
2025-04-15T09:15:44.8141206Z  from transformers import BatchFeature[m
2025-04-15T09:15:44.8141714Z [31m-from transformers.image_utils import ImageInput[m
2025-04-15T09:15:44.8142487Z [31m-from transformers.processing_utils import ProcessingKwargs, ProcessorMixin, Unpack[m
2025-04-15T09:15:44.8143359Z [31m-from transformers.tokenization_utils_base import TextInput, PreTokenizedInput[m
2025-04-15T09:15:44.8143783Z  [m
2025-04-15T09:15:44.8144181Z [31m-from vllm.attention import AttentionMetadata[m
2025-04-15T09:15:44.8144581Z  from vllm.config import VllmConfig[m
2025-04-15T09:15:44.8145195Z [31m-from vllm.model_executor.layers.linear import ColumnParallelLinear[m
2025-04-15T09:15:44.8145797Z  from vllm.model_executor.layers.sampler import SamplerOutput[m
2025-04-15T09:15:44.8146619Z [31m-from vllm.model_executor.layers.vocab_parallel_embedding import VocabParallelEmbedding[m
2025-04-15T09:15:44.8147363Z [31m-from vllm.model_executor.models.qwen2 import Qwen2ForCausalLM[m
2025-04-15T09:15:44.8147968Z  from vllm.model_executor.models.aimv2 import Aimv2VisualTokenizer[m
2025-04-15T09:15:44.8148984Z [31m-from vllm.model_executor.models.utils import maybe_prefix, flatten_bn, AutoWeightsLoader, init_vllm_registered_model[m
2025-04-15T09:15:44.8150222Z [32m+[m[32mfrom vllm.model_executor.models.utils import (AutoWeightsLoader, flatten_bn,[m
2025-04-15T09:15:44.8151013Z [32m+[m[32m                                              init_vllm_registered_model,[m
2025-04-15T09:15:44.8151620Z [32m+[m[32m                                              maybe_prefix)[m
2025-04-15T09:15:44.8152177Z  from vllm.model_executor.sampling_metadata import SamplingMetadata[m
2025-04-15T09:15:44.8152688Z  from vllm.multimodal import MULTIMODAL_REGISTRY[m
2025-04-15T09:15:44.8153501Z [31m-from vllm.multimodal.inputs import (MultiModalFieldConfig, MultiModalKwargs, NestedTensors,[m
2025-04-15T09:15:44.8154123Z [31m-                                    )[m
2025-04-15T09:15:44.8154621Z [31m-from vllm.multimodal.parse import (ImageSize,[m
2025-04-15T09:15:44.8155169Z [31m-                                   MultiModalDataItems)[m
2025-04-15T09:15:44.8155911Z [32m+[m[32mfrom vllm.multimodal.inputs import MultiModalFieldConfig, MultiModalKwargs[m
2025-04-15T09:15:44.8156866Z [32m+[m[32mfrom vllm.multimodal.parse import ImageSize, MultiModalDataItems[m
2025-04-15T09:15:44.8157501Z  from vllm.multimodal.processing import (BaseMultiModalProcessor,[m
2025-04-15T09:15:44.8158081Z                                          BaseProcessingInfo, PromptReplacement)[m
2025-04-15T09:15:44.8158705Z  from vllm.multimodal.profiling import BaseDummyInputsBuilder, ProcessorInputs[m
2025-04-15T09:15:44.8159260Z  from vllm.sequence import IntermediateTensors[m
2025-04-15T09:15:44.8159939Z  from vllm.transformers_utils.configs.ovis2 import OvisConfig[m
2025-04-15T09:15:44.8160705Z [31m-from vllm.transformers_utils.tokenizer import cached_tokenizer_from_config[m
2025-04-15T09:15:44.8161497Z  from vllm.transformers_utils.processors.ovis2 import OvisProcessor[m
2025-04-15T09:15:44.8162027Z [31m-from collections import defaultdict[m
2025-04-15T09:15:44.8162744Z [32m+[m[32mfrom vllm.transformers_utils.tokenizer import cached_tokenizer_from_config[m
2025-04-15T09:15:44.8163141Z  [m
2025-04-15T09:15:44.8163549Z [31m-from .utils import merge_multimodal_embeddings[m
2025-04-15T09:15:44.8164164Z  from .interfaces import MultiModalEmbeddings, SupportsMultiModal, SupportsPP[m
2025-04-15T09:15:44.8164824Z [32m+[m[32mfrom .utils import merge_multimodal_embeddings[m
2025-04-15T09:15:44.8165126Z  [m
2025-04-15T09:15:44.8165471Z  # Cannot find the following number from hf config.[m
2025-04-15T09:15:44.8165817Z  IGNORE_ID = -100[m
2025-04-15T09:15:44.8166343Z [36m@@ -86,11 +73,14 @@[m [mclass Ovis2ImagePatchInputs(TypedDict):[m
2025-04-15T09:15:44.8166662Z  [m
2025-04-15T09:15:44.8166830Z  [m
2025-04-15T09:15:44.8167147Z  class VisualEmbedding(torch.nn.Embedding):[m
2025-04-15T09:15:44.8167429Z [32m+[m
2025-04-15T09:15:44.8167737Z      def __init__(self, *args, **kwargs):[m
2025-04-15T09:15:44.8168115Z          super().__init__(*args, **kwargs)[m
2025-04-15T09:15:44.8168368Z  [m
2025-04-15T09:15:44.8168737Z      def forward(self, visual_tokens: Tensor) -> Tensor:[m
2025-04-15T09:15:44.8169561Z [31m-        if visual_tokens.dtype in [torch.int8, torch.int16, torch.int32, torch.int64, torch.long]:[m
2025-04-15T09:15:44.8170370Z [32m+[m[32m        if visual_tokens.dtype in [[m
2025-04-15T09:15:44.8171078Z [32m+[m[32m                torch.int8, torch.int16, torch.int32, torch.int64, torch.long[m
2025-04-15T09:15:44.8171537Z [32m+[m[32m        ]:[m
2025-04-15T09:15:44.8171908Z              return super().forward(visual_tokens)[m
2025-04-15T09:15:44.8172368Z          return torch.matmul(visual_tokens, self.weight)[m
2025-04-15T09:15:44.8172655Z  [m
2025-04-15T09:15:44.8173193Z [36m@@ -112,22 +102,23 @@[m [mclass Ovis2ProcessingInfo(BaseProcessingInfo):[m
2025-04-15T09:15:44.8173629Z      def get_hf_config(self):[m
2025-04-15T09:15:44.8174025Z          return self.ctx.get_hf_config(OvisConfig)[m
2025-04-15T09:15:44.8174294Z  [m
2025-04-15T09:15:44.8174608Z [31m-    def get_hf_processor(self,[m
2025-04-15T09:15:44.8175035Z [31m-                         **kwargs):[m
2025-04-15T09:15:44.8175528Z [32m+[m[32m    def get_hf_processor(self, **kwargs):[m
2025-04-15T09:15:44.8175990Z          return self.ctx.get_hf_processor(OvisProcessor)[m
2025-04-15T09:15:44.8176274Z  [m
2025-04-15T09:15:44.8176620Z      def get_image_processor(self) -> OvisProcessor:[m
2025-04-15T09:15:44.8177160Z          return self.get_hf_processor().image_processor  # type: ignore[m
2025-04-15T09:15:44.8177480Z  [m
2025-04-15T09:15:44.8177913Z      def get_supported_mm_limits(self) -> Mapping[str, Optional[int]]:[m
2025-04-15T09:15:44.8178526Z [31m-        return {# 32k is model token limit at the moment[m
2025-04-15T09:15:44.8179197Z [31m-            "image": self.get_hf_config().multimodal_max_length // ((9 + 1) *[m
2025-04-15T09:15:44.8180146Z [31m-                                                                    NUMBER_OF_TOKEN_TO_RESERVE_FOR_SEGMENT)}[m
2025-04-15T09:15:44.8180788Z [32m+[m[32m        return {  # 32k is model token limit at the moment[m
2025-04-15T09:15:44.8181407Z [32m+[m[32m            "image":[m
2025-04-15T09:15:44.8181960Z [32m+[m[32m            self.get_hf_config().multimodal_max_length //[m
2025-04-15T09:15:44.8182587Z [32m+[m[32m            ((9 + 1) * NUMBER_OF_TOKEN_TO_RESERVE_FOR_SEGMENT)[m
2025-04-15T09:15:44.8182993Z [32m+[m[32m        }[m
2025-04-15T09:15:44.8183200Z  [m
2025-04-15T09:15:44.8183480Z      def get_mm_max_tokens_per_item([m
2025-04-15T09:15:44.8183822Z [31m-            self,[m
2025-04-15T09:15:44.8184161Z [31m-            seq_len: int,[m
2025-04-15T09:15:44.8184592Z [31m-            mm_counts: Mapping[str, int],[m
2025-04-15T09:15:44.8184967Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8185471Z [32m+[m[32m        seq_len: int,[m
2025-04-15T09:15:44.8185931Z [32m+[m[32m        mm_counts: Mapping[str, int],[m
2025-04-15T09:15:44.8186294Z      ) -> Mapping[str, int]:[m
2025-04-15T09:15:44.8186576Z          return {[m
2025-04-15T09:15:44.8187030Z              "image": (9 + 1) * NUMBER_OF_TOKEN_TO_RESERVE_FOR_SEGMENT + 11[m
2025-04-15T09:15:44.8187718Z [36m@@ -142,35 +133,32 @@[m [mclass Ovis2ProcessingInfo(BaseProcessingInfo):[m
2025-04-15T09:15:44.8188386Z  class Ovis2DummyInputsBuilder(BaseDummyInputsBuilder[Ovis2ProcessingInfo]):[m
2025-04-15T09:15:44.8188774Z  [m
2025-04-15T09:15:44.8189055Z      def get_dummy_processor_inputs([m
2025-04-15T09:15:44.8189410Z [31m-            self,[m
2025-04-15T09:15:44.8189943Z [31m-            seq_len: int,[m
2025-04-15T09:15:44.8190431Z [31m-            mm_counts: Mapping[str, int][m
2025-04-15T09:15:44.8190843Z [31m-    ) -> ProcessorInputs:[m
2025-04-15T09:15:44.8191402Z [32m+[m[32m            self, seq_len: int, mm_counts: Mapping[str,[m
2025-04-15T09:15:44.8192099Z [32m+[m[32m                                                   int]) -> ProcessorInputs:[m
2025-04-15T09:15:44.8192524Z          target_width, target_height = \[m
2025-04-15T09:15:44.8192907Z              self.info.get_image_size()[m
2025-04-15T09:15:44.8193313Z          num_images = mm_counts.get("image", 0)[m
2025-04-15T09:15:44.8193574Z  [m
2025-04-15T09:15:44.8193803Z          mm_data = {[m
2025-04-15T09:15:44.8194071Z              "image":[m
2025-04-15T09:15:44.8194566Z [31m-                self._get_dummy_images(width=target_width,[m
2025-04-15T09:15:44.8195134Z [31m-                                       height=target_height,[m
2025-04-15T09:15:44.8195688Z [31m-                                       num_images=num_images),[m
2025-04-15T09:15:44.8196262Z [32m+[m[32m            self._get_dummy_images(width=target_width,[m
2025-04-15T09:15:44.8196845Z [32m+[m[32m                                   height=target_height,[m
2025-04-15T09:15:44.8197439Z [32m+[m[32m                                   num_images=num_images),[m
2025-04-15T09:15:44.8197764Z          }[m
2025-04-15T09:15:44.8197957Z  [m
2025-04-15T09:15:44.8198232Z          return ProcessorInputs([m
2025-04-15T09:15:44.8198640Z              prompt_text=IMAGE_TOKEN * num_images,[m
2025-04-15T09:15:44.8199004Z              mm_data=mm_data,[m
2025-04-15T09:15:44.8199236Z [31m-[m
2025-04-15T09:15:44.8199445Z          )[m
2025-04-15T09:15:44.8199630Z  [m
2025-04-15T09:15:44.8199982Z  [m
2025-04-15T09:15:44.8200725Z  class Ovis2MultiModalProcessor(BaseMultiModalProcessor[Ovis2ProcessingInfo]):[m
2025-04-15T09:15:44.8201137Z  [m
2025-04-15T09:15:44.8201396Z      def _call_hf_processor([m
2025-04-15T09:15:44.8201715Z [31m-            self,[m
2025-04-15T09:15:44.8202055Z [31m-            prompt: str,[m
2025-04-15T09:15:44.8202497Z [31m-            mm_data: Mapping[str, object],[m
2025-04-15T09:15:44.8202974Z [31m-            mm_kwargs: Mapping[str, object],[m
2025-04-15T09:15:44.8203364Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8203728Z [32m+[m[32m        prompt: str,[m
2025-04-15T09:15:44.8204195Z [32m+[m[32m        mm_data: Mapping[str, object],[m
2025-04-15T09:15:44.8204720Z [32m+[m[32m        mm_kwargs: Mapping[str, object],[m
2025-04-15T09:15:44.8205238Z      ) -> BatchFeature:[m
2025-04-15T09:15:44.8205531Z          if not mm_data:[m
2025-04-15T09:15:44.8205964Z              #    # Avoid warning from HF logger for text-only input[m
2025-04-15T09:15:44.8206855Z [36m@@ -187,27 +175,25 @@[m [mclass Ovis2MultiModalProcessor(BaseMultiModalProcessor[Ovis2ProcessingInfo]):[m
2025-04-15T09:15:44.8207408Z          return processed_outputs[m
2025-04-15T09:15:44.8207647Z  [m
2025-04-15T09:15:44.8207947Z      def _apply_hf_processor_tokens_only([m
2025-04-15T09:15:44.8208301Z [31m-            self,[m
2025-04-15T09:15:44.8208740Z [31m-            prompt_tokens: list[int],[m
2025-04-15T09:15:44.8209112Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8209663Z [32m+[m[32m        prompt_tokens: list[int],[m
2025-04-15T09:15:44.8210178Z      ) -> list[int]:[m
2025-04-15T09:15:44.8210383Z  [m
2025-04-15T09:15:44.8210643Z          return prompt_tokens[m
2025-04-15T09:15:44.8210880Z  [m
2025-04-15T09:15:44.8211151Z      def _get_mm_fields_config([m
2025-04-15T09:15:44.8211484Z [31m-            self,[m
2025-04-15T09:15:44.8211872Z [31m-            hf_inputs: BatchFeature,[m
2025-04-15T09:15:44.8212402Z [31m-            hf_processor_mm_kwargs: Mapping[str, object],[m
2025-04-15T09:15:44.8212805Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8213230Z [32m+[m[32m        hf_inputs: BatchFeature,[m
2025-04-15T09:15:44.8213797Z [32m+[m[32m        hf_processor_mm_kwargs: Mapping[str, object],[m
2025-04-15T09:15:44.8214249Z      ) -> Mapping[str, MultiModalFieldConfig]:[m
2025-04-15T09:15:44.8214626Z [31m-        return dict([m
2025-04-15T09:15:44.8215176Z [31m-            pixel_values=MultiModalFieldConfig.batched("image"),[m
2025-04-15T09:15:44.8215777Z [31m-            grids=MultiModalFieldConfig.batched("image")[m
2025-04-15T09:15:44.8216135Z [31m-        )[m
2025-04-15T09:15:44.8216751Z [32m+[m[32m        return dict(pixel_values=MultiModalFieldConfig.batched("image"),[m
2025-04-15T09:15:44.8217486Z [32m+[m[32m                    grids=MultiModalFieldConfig.batched("image"))[m
2025-04-15T09:15:44.8217806Z  [m
2025-04-15T09:15:44.8218070Z      def _get_prompt_updates([m
2025-04-15T09:15:44.8218394Z [31m-            self,[m
2025-04-15T09:15:44.8218808Z [31m-            mm_items: MultiModalDataItems,[m
2025-04-15T09:15:44.8219369Z [31m-            hf_processor_mm_kwargs: Mapping[str, object],[m
2025-04-15T09:15:44.8220033Z [31m-            out_mm_kwargs: MultiModalKwargs,[m
2025-04-15T09:15:44.8220425Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8220877Z [32m+[m[32m        mm_items: MultiModalDataItems,[m
2025-04-15T09:15:44.8221467Z [32m+[m[32m        hf_processor_mm_kwargs: Mapping[str, object],[m
2025-04-15T09:15:44.8222208Z [32m+[m[32m        out_mm_kwargs: MultiModalKwargs,[m
2025-04-15T09:15:44.8222790Z      ) -> list[PromptReplacement]:[m
2025-04-15T09:15:44.8223048Z  [m
2025-04-15T09:15:44.8223366Z          def get_replacement_ovis(item_idx):[m
2025-04-15T09:15:44.8224430Z [36m@@ -248,14 +234,14 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8225055Z              config=config.visual_tokenizer_config,[m
2025-04-15T09:15:44.8225448Z              quant_config=quant_config,[m
2025-04-15T09:15:44.8225854Z              prefix=f"{prefix}.visual_tokenizer",[m
2025-04-15T09:15:44.8226670Z [31m-            image_processor_name_or_path=config.visual_tokenizer_config.backbone_config.name_or_path,[m
2025-04-15T09:15:44.8227513Z [32m+[m[32m            image_processor_name_or_path=config.visual_tokenizer_config.[m
2025-04-15T09:15:44.8228115Z [32m+[m[32m            backbone_config.name_or_path,[m
2025-04-15T09:15:44.8228444Z          )[m
2025-04-15T09:15:44.8228624Z  [m
2025-04-15T09:15:44.8228907Z          self.vte = VisualEmbedding([m
2025-04-15T09:15:44.8229366Z              self.config.visual_tokenizer_config.vocab_size,[m
2025-04-15T09:15:44.8229977Z              self.config.hidden_size,[m
2025-04-15T09:15:44.8230648Z [31m-            dtype=self.visual_tokenizer.dtype[m
2025-04-15T09:15:44.8230989Z [31m-        )[m
2025-04-15T09:15:44.8231449Z [32m+[m[32m            dtype=self.visual_tokenizer.dtype)[m
2025-04-15T09:15:44.8231730Z  [m
2025-04-15T09:15:44.8232175Z          # we'll instantiate a tokenizer and keep just the external mapping[m
2025-04-15T09:15:44.8232788Z          # tokenizer = AutoTokenizer.from_pretrained(config.name_or_path)[m
2025-04-15T09:15:44.8233722Z [36m@@ -273,13 +259,14 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8234206Z          }[m
2025-04-15T09:15:44.8234410Z  [m
2025-04-15T09:15:44.8234696Z          self.extra_token_mapping = {[m
2025-04-15T09:15:44.8235523Z [31m-            k: tokenizer(v)['input_ids'][0] for k, v in self.extra_special_tokens.items()[m
2025-04-15T09:15:44.8236153Z [32m+[m[32m            k: tokenizer(v)['input_ids'][0][m
2025-04-15T09:15:44.8236756Z [32m+[m[32m            for k, v in self.extra_special_tokens.items()[m
2025-04-15T09:15:44.8237100Z          }[m
2025-04-15T09:15:44.8246894Z  [m
2025-04-15T09:15:44.8247341Z          self.extra_token_mapping_for_substitution = {[m
2025-04-15T09:15:44.8248169Z [31m-            k: tokenizer(v)['input_ids'][0] for k, v in self.extra_special_tokens.items() if k in[m
2025-04-15T09:15:44.8249017Z [31m-                                                                                                  {'image_atom',[m
2025-04-15T09:15:44.8249939Z [31m-                                                                                                   'image_pad'}[m
2025-04-15T09:15:44.8250528Z [32m+[m[32m            k: tokenizer(v)['input_ids'][0][m
2025-04-15T09:15:44.8251156Z [32m+[m[32m            for k, v in self.extra_special_tokens.items()[m
2025-04-15T09:15:44.8251740Z [32m+[m[32m            if k in {'image_atom', 'image_pad'}[m
2025-04-15T09:15:44.8252070Z          }[m
2025-04-15T09:15:44.8252263Z  [m
2025-04-15T09:15:44.8252609Z          self.visual_indicators_embeds_dict = None[m
2025-04-15T09:15:44.8253495Z [36m@@ -293,12 +280,10 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8254183Z              # we precalcualte the embeddings for the image tokens[m
2025-04-15T09:15:44.8254762Z              visual_vocab_size = self.visual_tokenizer.config.vocab_size[m
2025-04-15T09:15:44.8255252Z              visual_indicator_embeds = self.vte([m
2025-04-15T09:15:44.8255674Z [31m-                torch.tensor([m
2025-04-15T09:15:44.8256278Z [31m-                    list(range(visual_vocab_size - 5, visual_vocab_size)),[m
2025-04-15T09:15:44.8256784Z [31m-                    dtype=torch.long,[m
2025-04-15T09:15:44.8257250Z [31m-                    device=self.vte.device[m
2025-04-15T09:15:44.8257614Z [31m-                )[m
2025-04-15T09:15:44.8257903Z [31m-            )[m
2025-04-15T09:15:44.8258331Z [32m+[m[32m                torch.tensor(list([m
2025-04-15T09:15:44.8258973Z [32m+[m[32m                    range(visual_vocab_size - 5, visual_vocab_size)),[m
2025-04-15T09:15:44.8259551Z [32m+[m[32m                             dtype=torch.long,[m
2025-04-15T09:15:44.8260311Z [32m+[m[32m                             device=self.vte.device))[m
2025-04-15T09:15:44.8260616Z  [m
2025-04-15T09:15:44.8260959Z              self.visual_indicators_embeds_dict = {[m
2025-04-15T09:15:44.8261427Z                  'image_start': visual_indicator_embeds[0],[m
2025-04-15T09:15:44.8262310Z [36m@@ -317,7 +302,7 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8262959Z          pixel_values = kwargs.pop("pixel_values", None)[m
2025-04-15T09:15:44.8263358Z          if pixel_values is None:[m
2025-04-15T09:15:44.8263679Z              return None[m
2025-04-15T09:15:44.8263958Z [31m-        [m
2025-04-15T09:15:44.8264159Z [32m+[m
2025-04-15T09:15:44.8264635Z          if pixel_values is not None:[m
2025-04-15T09:15:44.8265127Z              if not isinstance(pixel_values, (torch.Tensor, list)):[m
2025-04-15T09:15:44.8265673Z                  raise ValueError("Incorrect type of pixel values. "[m
2025-04-15T09:15:44.8266558Z [36m@@ -326,7 +311,9 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8267146Z              return Ovis2ImagePatchInputs([m
2025-04-15T09:15:44.8267534Z                  type="image_patches",[m
2025-04-15T09:15:44.8268058Z                  flat_data=flatten_bn(flatten_bn(pixel_values), concat=True),[m
2025-04-15T09:15:44.8268792Z [31m-                patches_per_image=[x.shape[0] for x in flatten_bn(pixel_values)],[m
2025-04-15T09:15:44.8269517Z [32m+[m[32m                patches_per_image=[[m
2025-04-15T09:15:44.8270351Z [32m+[m[32m                    x.shape[0] for x in flatten_bn(pixel_values)[m
2025-04-15T09:15:44.8270795Z [32m+[m[32m                ],[m
2025-04-15T09:15:44.8271091Z              )[m
2025-04-15T09:15:44.8271283Z  [m
2025-04-15T09:15:44.8271694Z          raise AssertionError("This line should be unreachable.")[m
2025-04-15T09:15:44.8272608Z [36m@@ -338,10 +325,13 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8273270Z          patches_per_image = image_input["patches_per_image"][m
2025-04-15T09:15:44.8273573Z  [m
2025-04-15T09:15:44.8273916Z          target_dtype = self.visual_tokenizer.dtype[m
2025-04-15T09:15:44.8274644Z [31m-        visual_tokens = self.visual_tokenizer(image_patches_flat.to(target_dtype))[m
2025-04-15T09:15:44.8275297Z [32m+[m[32m        visual_tokens = self.visual_tokenizer([m
2025-04-15T09:15:44.8275882Z [32m+[m[32m            image_patches_flat.to(target_dtype))[m
2025-04-15T09:15:44.8276424Z          visual_embeds = self.vte(visual_tokens)  # 1:1 numeric eq.[m
2025-04-15T09:15:44.8276739Z  [m
2025-04-15T09:15:44.8277390Z [31m-        return tuple(x.flatten(0, 1) for x in visual_embeds.split(patches_per_image, dim=0))[m
2025-04-15T09:15:44.8277926Z [32m+[m[32m        return tuple([m
2025-04-15T09:15:44.8278338Z [32m+[m[32m            x.flatten(0, 1)[m
2025-04-15T09:15:44.8278954Z [32m+[m[32m            for x in visual_embeds.split(patches_per_image, dim=0))[m
2025-04-15T09:15:44.8279283Z  [m
2025-04-15T09:15:44.8279554Z      def get_multimodal_embeddings([m
2025-04-15T09:15:44.8280274Z              self, **kwargs: object) -> Optional[MultiModalEmbeddings]:[m
2025-04-15T09:15:44.8281202Z [36m@@ -352,7 +342,7 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8281894Z          image_features = self._process_image_input(image_input)[m
2025-04-15T09:15:44.8282232Z  [m
2025-04-15T09:15:44.8282496Z          return image_features[m
2025-04-15T09:15:44.8282776Z [31m-    [m
2025-04-15T09:15:44.8282966Z [32m+[m
2025-04-15T09:15:44.8283236Z      def get_input_embeddings([m
2025-04-15T09:15:44.8283522Z          self,[m
2025-04-15T09:15:44.8283811Z          input_ids: torch.Tensor,[m
2025-04-15T09:15:44.8284646Z [36m@@ -361,17 +351,17 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8285324Z          inputs_embeds = self.llm.get_input_embeddings(input_ids)[m
2025-04-15T09:15:44.8285780Z          if multimodal_embeddings is not None:[m
2025-04-15T09:15:44.8286229Z              inputs_embeds = merge_multimodal_embeddings([m
2025-04-15T09:15:44.8286714Z [31m-                input_ids, inputs_embeds,[m
2025-04-15T09:15:44.8287242Z [31m-                multimodal_embeddings, [151672, 151666])[m
2025-04-15T09:15:44.8287864Z [32m+[m[32m                input_ids, inputs_embeds, multimodal_embeddings,[m
2025-04-15T09:15:44.8288376Z [32m+[m[32m                [151672, 151666])[m
2025-04-15T09:15:44.8288722Z          return inputs_embeds[m
2025-04-15T09:15:44.8288954Z  [m
2025-04-15T09:15:44.8289328Z      def forward([m
2025-04-15T09:15:44.8289621Z [31m-            self,[m
2025-04-15T09:15:44.8290226Z [31m-            input_ids: torch.Tensor,[m
2025-04-15T09:15:44.8290676Z [31m-            positions: torch.Tensor,[m
2025-04-15T09:15:44.8291313Z [31m-            intermediate_tensors: Optional[IntermediateTensors] = None,[m
2025-04-15T09:15:44.8291945Z [31m-            inputs_embeds: Optional[torch.Tensor] = None,[m
2025-04-15T09:15:44.8292378Z [31m-            **kwargs: object,[m
2025-04-15T09:15:44.8292737Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8293160Z [32m+[m[32m        input_ids: torch.Tensor,[m
2025-04-15T09:15:44.8293624Z [32m+[m[32m        positions: torch.Tensor,[m
2025-04-15T09:15:44.8294275Z [32m+[m[32m        intermediate_tensors: Optional[IntermediateTensors] = None,[m
2025-04-15T09:15:44.8295079Z [32m+[m[32m        inputs_embeds: Optional[torch.Tensor] = None,[m
2025-04-15T09:15:44.8295553Z [32m+[m[32m        **kwargs: object,[m
2025-04-15T09:15:44.8295983Z      ) -> Union[torch.Tensor, IntermediateTensors]:[m
2025-04-15T09:15:44.8296412Z          if intermediate_tensors is not None:[m
2025-04-15T09:15:44.8296773Z              inputs_embeds = None[m
2025-04-15T09:15:44.8297610Z [36m@@ -394,23 +384,23 @@[m [mclass Ovis2ForConditionalGeneration(nn.Module, SupportsMultiModal, SupportsPP):[m
2025-04-15T09:15:44.8298144Z          return hidden_states[m
2025-04-15T09:15:44.8298379Z  [m
2025-04-15T09:15:44.8298623Z      def compute_logits([m
2025-04-15T09:15:44.8298934Z [31m-            self,[m
2025-04-15T09:15:44.8299339Z [31m-            hidden_states: torch.Tensor,[m
2025-04-15T09:15:44.8299995Z [31m-            sampling_metadata: SamplingMetadata,[m
2025-04-15T09:15:44.8300399Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8300845Z [32m+[m[32m        hidden_states: torch.Tensor,[m
2025-04-15T09:15:44.8301380Z [32m+[m[32m        sampling_metadata: SamplingMetadata,[m
2025-04-15T09:15:44.8301776Z      ) -> Optional[torch.Tensor]:[m
2025-04-15T09:15:44.8302233Z [31m-        logits = self.llm.logits_processor([m
2025-04-15T09:15:44.8302813Z [31m-            self.llm.lm_head, hidden_states, sampling_metadata)[m
2025-04-15T09:15:44.8303546Z [32m+[m[32m        logits = self.llm.logits_processor(self.llm.lm_head, hidden_states,[m
2025-04-15T09:15:44.8304220Z [32m+[m[32m                                           sampling_metadata)[m
2025-04-15T09:15:44.8304576Z          return logits[m
2025-04-15T09:15:44.8304788Z  [m
2025-04-15T09:15:44.8305007Z      def sample([m
2025-04-15T09:15:44.8305292Z [31m-            self,[m
2025-04-15T09:15:44.8305670Z [31m-            logits: torch.Tensor,[m
2025-04-15T09:15:44.8306153Z [31m-            sampling_metadata: SamplingMetadata,[m
2025-04-15T09:15:44.8306543Z [32m+[m[32m        self,[m
2025-04-15T09:15:44.8306948Z [32m+[m[32m        logits: torch.Tensor,[m
2025-04-15T09:15:44.8307467Z [32m+[m[32m        sampling_metadata: SamplingMetadata,[m
2025-04-15T09:15:44.8307881Z      ) -> Optional[SamplerOutput]:[m
2025-04-15T09:15:44.8308362Z          next_tokens = self.llm.sampler(logits, sampling_metadata)[m
2025-04-15T09:15:44.8308825Z          return next_tokens[m
2025-04-15T09:15:44.8309051Z  [m
2025-04-15T09:15:44.8309428Z      def load_weights(self, weights: Iterable[Tuple[str,[m
2025-04-15T09:15:44.8310017Z [31m-    torch.Tensor]]) -> Set[str]:[m
2025-04-15T09:15:44.8310667Z [32m+[m[32m                                                   torch.Tensor]]) -> Set[str]:[m
2025-04-15T09:15:44.8311107Z          loader = AutoWeightsLoader(self)[m
2025-04-15T09:15:44.8311577Z [31m-        return loader.load_weights(weights)[m
2025-04-15T09:15:44.8311949Z \ No newline at end of file[m
2025-04-15T09:15:44.8312439Z [32m+[m[32m        return loader.load_weights(weights)[m
2025-04-15T09:15:44.8313185Z [1mdiff --git a/vllm/transformers_utils/config.py b/vllm/transformers_utils/config.py[m
2025-04-15T09:15:44.8313740Z [1mindex 1b18e49..13ba370 100644[m
2025-04-15T09:15:44.8314376Z [1m--- a/vllm/transformers_utils/config.py[m
2025-04-15T09:15:44.8314833Z [1m+++ b/vllm/transformers_utils/config.py[m
2025-04-15T09:15:44.8315623Z [36m@@ -36,10 +36,10 @@[m [mfrom vllm.transformers_utils.configs import (ChatGLMConfig, Cohere2Config,[m
2025-04-15T09:15:44.8316255Z                                               KimiVLConfig, MedusaConfig,[m
2025-04-15T09:15:44.8316770Z                                               MllamaConfig, MLPSpeculatorConfig,[m
2025-04-15T09:15:44.8317266Z                                               MPTConfig, NemotronConfig,[m
2025-04-15T09:15:44.8317913Z [31m-                                             NVLM_D_Config, OvisConfig, Olmo2Config,[m
2025-04-15T09:15:44.8318547Z [31m-                                             RWConfig, SkyworkR1VChatConfig,[m
2025-04-15T09:15:44.8319285Z [31m-                                             SolarConfig, Telechat2Config,[m
2025-04-15T09:15:44.8320062Z [31m-                                             UltravoxConfig)[m
2025-04-15T09:15:44.8320727Z [32m+[m[32m                                             NVLM_D_Config, Olmo2Config,[m
2025-04-15T09:15:44.8321351Z [32m+[m[32m                                             OvisConfig, RWConfig,[m
2025-04-15T09:15:44.8322038Z [32m+[m[32m                                             SkyworkR1VChatConfig, SolarConfig,[m
2025-04-15T09:15:44.8322714Z [32m+[m[32m                                             Telechat2Config, UltravoxConfig)[m
2025-04-15T09:15:44.8323075Z  # yapf: enable[m
2025-04-15T09:15:44.8323500Z  from vllm.transformers_utils.utils import check_gguf_file[m
2025-04-15T09:15:44.8323973Z  from vllm.utils import resolve_obj_by_qualname[m
2025-04-15T09:15:44.8324806Z [1mdiff --git a/vllm/transformers_utils/configs/ovis2.py b/vllm/transformers_utils/configs/ovis2.py[m
2025-04-15T09:15:44.8325410Z [1mindex a055b76..c258282 100644[m
2025-04-15T09:15:44.8325877Z [1m--- a/vllm/transformers_utils/configs/ovis2.py[m
2025-04-15T09:15:44.8326382Z [1m+++ b/vllm/transformers_utils/configs/ovis2.py[m
2025-04-15T09:15:44.8326745Z [36m@@ -2,9 +2,9 @@[m
2025-04-15T09:15:44.8326953Z  [m
2025-04-15T09:15:44.8327503Z  # copied from https://huggingface.co/AIDC-AI/Ovis2-1B/blob/main/configuration_aimv2.py[m
2025-04-15T09:15:44.8328237Z  # and https://huggingface.co/AIDC-AI/Ovis2-1B/blob/main/configuration_ovis.py[m
2025-04-15T09:15:44.8328811Z [31m-from typing import Any, Union, Optional[m
2025-04-15T09:15:44.8329330Z [32m+[m[32mfrom typing import Any, Optional, Union[m
2025-04-15T09:15:44.8329611Z  [m
2025-04-15T09:15:44.8330193Z [31m-from transformers import PretrainedConfig, AutoConfig[m
2025-04-15T09:15:44.8330848Z [32m+[m[32mfrom transformers import AutoConfig, PretrainedConfig[m
2025-04-15T09:15:44.8331186Z  [m
2025-04-15T09:15:44.8331346Z  [m
2025-04-15T09:15:44.8331644Z  class AIMv2Config(PretrainedConfig):[m
2025-04-15T09:15:44.8332208Z [36m@@ -63,6 +63,7 @@[m [mclass AIMv2Config(PretrainedConfig):[m
2025-04-15T09:15:44.8332613Z          self.qkv_bias = qkv_bias[m
2025-04-15T09:15:44.8332946Z          self.use_bias = use_bias[m
2025-04-15T09:15:44.8333190Z  [m
2025-04-15T09:15:44.8333361Z [32m+[m
2025-04-15T09:15:44.8333598Z  IGNORE_ID = -100[m
2025-04-15T09:15:44.8333881Z  IMAGE_TOKEN_ID = -200[m
2025-04-15T09:15:44.8334175Z  IMAGE_TOKEN = "<image>"[m
2025-04-15T09:15:44.8334795Z [36m@@ -71,21 +72,22 @@[m [mIMAGE_INDICATOR_IDS = [-301, -302, -303, -304, -305][m
2025-04-15T09:15:44.8335134Z  [m
2025-04-15T09:15:44.8335448Z  AutoConfig.register("aimv2", AIMv2Config)[m
2025-04-15T09:15:44.8335725Z  [m
2025-04-15T09:15:44.8335900Z [32m+[m
2025-04-15T09:15:44.8336327Z  # ----------------------------------------------------------------------[m
2025-04-15T09:15:44.8336798Z  #                     Visual Tokenizer Configuration[m
2025-04-15T09:15:44.8337295Z  # ----------------------------------------------------------------------[m
2025-04-15T09:15:44.8337791Z  class BaseVisualTokenizerConfig(PretrainedConfig):[m
2025-04-15T09:15:44.8338336Z [31m-    def __init__([m
2025-04-15T09:15:44.8338642Z [31m-        self,[m
2025-04-15T09:15:44.8338969Z [31m-        vocab_size=16384,[m
2025-04-15T09:15:44.8339383Z [31m-        tokenize_function="softmax",[m
2025-04-15T09:15:44.8339864Z [31m-        tau=1.0,[m
2025-04-15T09:15:44.8340202Z [31m-        depths=None,[m
2025-04-15T09:15:44.8340572Z [31m-        drop_cls_token=False,[m
2025-04-15T09:15:44.8341214Z [31m-        backbone_config: Optional[Union[PretrainedConfig, dict]] = None,[m
2025-04-15T09:15:44.8341739Z [31m-        hidden_stride: int = 1,[m
2025-04-15T09:15:44.8342086Z [31m-        **kwargs[m
2025-04-15T09:15:44.8342357Z [31m-    ):[m
2025-04-15T09:15:44.8342552Z [32m+[m
2025-04-15T09:15:44.8343034Z [32m+[m[32m    def __init__(self,[m
2025-04-15T09:15:44.8343486Z [32m+[m[32m                 vocab_size=16384,[m
2025-04-15T09:15:44.8344021Z [32m+[m[32m                 tokenize_function="softmax",[m
2025-04-15T09:15:44.8344469Z [32m+[m[32m                 tau=1.0,[m
2025-04-15T09:15:44.8344897Z [32m+[m[32m                 depths=None,[m
2025-04-15T09:15:44.8345373Z [32m+[m[32m                 drop_cls_token=False,[m
2025-04-15T09:15:44.8346021Z [32m+[m[32m                 backbone_config: Optional[Union[PretrainedConfig,[m
2025-04-15T09:15:44.8346672Z [32m+[m[32m                                                 dict]] = None,[m
2025-04-15T09:15:44.8347197Z [32m+[m[32m                 hidden_stride: int = 1,[m
2025-04-15T09:15:44.8347644Z [32m+[m[32m                 **kwargs):[m
2025-04-15T09:15:44.8348000Z          super().__init__(**kwargs)[m
2025-04-15T09:15:44.8348361Z          self.vocab_size = vocab_size[m
2025-04-15T09:15:44.8348781Z          self.tokenize_function = tokenize_function[m
2025-04-15T09:15:44.8349458Z [36m@@ -101,7 +103,8 @@[m [mclass BaseVisualTokenizerConfig(PretrainedConfig):[m
2025-04-15T09:15:44.8350166Z              if not isinstance(backbone_config, PretrainedConfig):[m
2025-04-15T09:15:44.8350687Z                  model_type = backbone_config['model_type'][m
2025-04-15T09:15:44.8351123Z                  backbone_config.pop('model_type')[m
2025-04-15T09:15:44.8351830Z [31m-                backbone_config = AutoConfig.for_model(model_type, **backbone_config)[m
2025-04-15T09:15:44.8352564Z [32m+[m[32m                backbone_config = AutoConfig.for_model(model_type,[m
2025-04-15T09:15:44.8353235Z [32m+[m[32m                                                       **backbone_config)[m
2025-04-15T09:15:44.8353686Z          self.backbone_config = backbone_config[m
2025-04-15T09:15:44.8354094Z          self.hidden_stride = hidden_stride[m
2025-04-15T09:15:44.8354356Z  [m
2025-04-15T09:15:44.8355066Z [36m@@ -127,17 +130,16 @@[m [mAutoConfig.register("aimv2_visual_tokenizer", Aimv2VisualTokenizerConfig)[m
2025-04-15T09:15:44.8355608Z  class OvisConfig(PretrainedConfig):[m
2025-04-15T09:15:44.8355951Z      model_type = "ovis"[m
2025-04-15T09:15:44.8356171Z  [m
2025-04-15T09:15:44.8356435Z [31m-    def __init__([m
2025-04-15T09:15:44.8356726Z [31m-        self,[m
2025-04-15T09:15:44.8357271Z [31m-        llm_config: Optional[Union[PretrainedConfig, dict]] = None,[m
2025-04-15T09:15:44.8358043Z [31m-        visual_tokenizer_config: Optional[Union[PretrainedConfig, dict]] = None,[m
2025-04-15T09:15:44.8358602Z [31m-        multimodal_max_length=8192,[m
2025-04-15T09:15:44.8358986Z [31m-        hidden_size=None,[m
2025-04-15T09:15:44.8359422Z [31m-        conversation_formatter_class=None,[m
2025-04-15T09:15:44.8359980Z [31m-        llm_attn_implementation=None,[m
2025-04-15T09:15:44.8360413Z [31m-        disable_tie_weight=False,[m
2025-04-15T09:15:44.8360749Z [31m-        **kwargs[m
2025-04-15T09:15:44.8361019Z [31m-    ):[m
2025-04-15T09:15:44.8361359Z [32m+[m[32m    def __init__(self,[m
2025-04-15T09:15:44.8362033Z [32m+[m[32m                 llm_config: Optional[Union[PretrainedConfig, dict]] = None,[m
2025-04-15T09:15:44.8362933Z [32m+[m[32m                 visual_tokenizer_config: Optional[Union[PretrainedConfig,[m
2025-04-15T09:15:44.8363630Z [32m+[m[32m                                                         dict]] = None,[m
2025-04-15T09:15:44.8364174Z [32m+[m[32m                 multimodal_max_length=8192,[m
2025-04-15T09:15:44.8364660Z [32m+[m[32m                 hidden_size=None,[m
2025-04-15T09:15:44.8365205Z [32m+[m[32m                 conversation_formatter_class=None,[m
2025-04-15T09:15:44.8365762Z [32m+[m[32m                 llm_attn_implementation=None,[m
2025-04-15T09:15:44.8366288Z [32m+[m[32m                 disable_tie_weight=False,[m
2025-04-15T09:15:44.8366734Z [32m+[m[32m                 **kwargs):[m
2025-04-15T09:15:44.8367208Z          super().__init__(**kwargs)[m
2025-04-15T09:15:44.8367564Z          if llm_config is not None:[m
2025-04-15T09:15:44.8368065Z              assert isinstance(llm_config, (PretrainedConfig, dict)), \[m
2025-04-15T09:15:44.8368704Z [36m@@ -155,7 +157,8 @@[m [mclass OvisConfig(PretrainedConfig):[m
2025-04-15T09:15:44.8369301Z              if not isinstance(visual_tokenizer_config, PretrainedConfig):[m
2025-04-15T09:15:44.8369969Z                  model_type = visual_tokenizer_config['model_type'][m
2025-04-15T09:15:44.8370464Z                  visual_tokenizer_config.pop('model_type')[m
2025-04-15T09:15:44.8371288Z [31m-                visual_tokenizer_config = AutoConfig.for_model(model_type, **visual_tokenizer_config)[m
2025-04-15T09:15:44.8372055Z [32m+[m[32m                visual_tokenizer_config = AutoConfig.for_model([m
2025-04-15T09:15:44.8372682Z [32m+[m[32m                    model_type, **visual_tokenizer_config)[m
2025-04-15T09:15:44.8372976Z  [m
2025-04-15T09:15:44.8373385Z          self.visual_tokenizer_config = visual_tokenizer_config[m
2025-04-15T09:15:44.8373902Z          self.multimodal_max_length = multimodal_max_length[m
2025-04-15T09:15:44.8374805Z [1mdiff --git a/vllm/transformers_utils/processors/ovis2.py b/vllm/transformers_utils/processors/ovis2.py[m
2025-04-15T09:15:44.8375439Z [1mindex 60da0f7..0da57e2 100644[m
2025-04-15T09:15:44.8375931Z [1m--- a/vllm/transformers_utils/processors/ovis2.py[m
2025-04-15T09:15:44.8376479Z [1m+++ b/vllm/transformers_utils/processors/ovis2.py[m
2025-04-15T09:15:44.8376935Z [36m@@ -28,8 +28,9 @@[m [mimport PIL[m
2025-04-15T09:15:44.8377239Z  import torch[m
2025-04-15T09:15:44.8377636Z  from transformers import AutoProcessor, BatchFeature[m
2025-04-15T09:15:44.8378103Z  from transformers.image_utils import ImageInput[m
2025-04-15T09:15:44.8378874Z [31m-from transformers.processing_utils import ProcessingKwargs, ProcessorMixin, Unpack[m
2025-04-15T09:15:44.8379838Z [31m-from transformers.tokenization_utils_base import TextInput, PreTokenizedInput[m
2025-04-15T09:15:44.8380742Z [32m+[m[32mfrom transformers.processing_utils import (ProcessingKwargs, ProcessorMixin,[m
2025-04-15T09:15:44.8381426Z [32m+[m[32m                                           Unpack)[m
2025-04-15T09:15:44.8382617Z [32m+[m[32mfrom transformers.tokenization_utils_base import PreTokenizedInput, TextInput[m
2025-04-15T09:15:44.8383060Z  [m
2025-04-15T09:15:44.8383532Z  __all__ = [ 'OvisProcessor'][m
2025-04-15T09:15:44.8383847Z  IGNORE_ID = -100[m
2025-04-15T09:15:44.8387188Z ##[error]Process completed with exit code 1.
